/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [9349],
  {
    61063: (e) => {
      e.exports = {
        ModeratorAuditActionCtn: "_3VwtuV9e2gWSyLFJgxtA4k",
        ExpandModActions: "_2alYM2Ev-4KwEOcUcL5_Bm",
      };
    },
    1761: (e) => {
      e.exports = {
        countdownCtn: "awreXjcc0rPHZpdJamPTz",
        Closed: "_26nqfWJ137qnlZJ_bySm1Z",
        CountDownCtn: "_7do5RK--3j5r01z5uVM9s",
        CountDownTime: "_3wwxFvsBvHT1vBtwz70Ce1",
        CountDownText: "_6MmR7HgOeFT1Tivr4_Lnb",
        LearnMore: "kL9GFLwPY-Nz2VUeeupXl",
        Throbber: "_318ndTUunWAEdKDT--3b3Z",
        WinnerInfo: "_2iyxC5L1orrcLxvPeAESPJ",
        WinnerCount: "_2cdseN_ICa1JO4Dfi0Hj7v",
        WinnerText: "_2s2hb0IkJwofc11QW8qTr9",
      };
    },
    27599: (e) => {
      e.exports = {
        ApprovalRequiredCtn: "_800dAgI8q1JkibyWlzpPh",
        PendingApproval: "_3T81cImltETkWTzAoMxH9o",
        Approved: "_3oDUHCGsGm1rdMXgr-XPDS",
        Right: "_184CyOkdpt-vu_VTGEY7HF",
        Title: "_1TI4bt9ksj9wFD2mGAtA6O",
        RequireText: "rZkfYSxp7n03F7ByUknxL",
      };
    },
    13116: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "_1lIY_WGg-62UIbryS5WfiP",
        Body: "_1JDe7oZTCa7k1hylvgWQU1",
        HeaderBlock: "_3n-KUi74Nvym37yTD-ZsSx",
        Background: "OtPIjFzvgvhgBbFjn7amO",
        DimBackground: "_2kSJmpYyTj2gAEH1ZBffgE",
        Input: "BRkPzPAMsrHQSOzSTANuI",
        CopyContainer: "_2r_KSHMwd00BTU5-zhKPQA",
        Text: "_3NGNCHKvU_MuIpOPqB32yz",
        Link: "_3RoxODZBFEObZn4kKK7M_J",
        Button: "_1ARlQegyaQ1xENYcvSXm10",
        GenerateLinkButton: "_1TX0dzrWsVzzA7xx6gO-LJ",
        ProfileCard: "_2a7rsdJGZQpDQ6MyKqiYii",
        UserContainer: "vSokQZiyW2uoJ4XQ13If",
        Image: "vQTKBkWkaPy5_Jz4Xho8A",
        ProfileContent: "_29EO2NiT6EwmtrmnZ8acvQ",
        ProfileLink: "_14jbpUFs9QSgr8Iy_vP3gw",
        Failure: "_30nEPnTnnWdyYZykhZnojB",
        Success: "_1NPlBX3In8Dz7lxnySxuy4",
        FriendCodeSelector: "_35N5FeLM1pdhtNpkUkBHTB",
        SendInviteButton: "_3Izq1wTe9iIDhovEOVfYji",
      };
    },
    45976: (e) => {
      e.exports = {
        SuggestContainer: "_2n5abCyi49qXR-JV2o-34-",
        Results: "_dpvOvrb5FkLOjt-1DHbB",
        EmptyResults: "_3BRBi65oj2iMb-uXqIJKS6",
        ResultSectionHeader: "_23MUU1u8cND5uLZHdJAlJ3",
        ResultRow: "_3kPvFPvYmZ8ph9Zt2v_Slh",
        AvatarImage: "_34zazSo5g-s8AFpluMWgZy",
        GameName: "_3DcZvKRsWDue21DTmDkq6x",
        Label: "_21GTltA9T3muwxFyCdtMgY",
      };
    },
    97342: (e) => {
      e.exports = {
        GraphicalAssetsTabs: "_36r8gl5xbOCl3auJ3n_QlS",
        GraphicalAssetsTab: "K1_TpPRugybUSZ7-2Q6Lz",
        Active: "_37f6MbKHjwO1qFFuks0sTJ",
        GraphicalAssetStatus: "ojMj8nqJL_5W-K7A_IEob",
        VOWarning: "_21XR-ix3BTEJLybcEZ5WLH",
        StatusSuccess: "_1HWSee7PsxQ5iVbJM0p5-9",
        StatusDanger: "_2jgbNWld-7Gtf6BxRwKF8n",
        StatusCaution: "_31Lxus7enF5o2STla_4chs",
      };
    },
    29229: (e) => {
      e.exports = { DialogCtn: "_2LwQUmGZ5SmNkVTSzGuq4J" };
    },
    88043: (e) => {
      e.exports = { SearchResults: "_26iJ3c5EI_arYCNqRvcLNX" };
    },
    58290: (e) => {
      e.exports = {
        ValveOnlyGuidelineSummary: "G_5BBG-e-VdrVy_cH-T74",
        GuidelinesDoneCtn: "-bMPuCQgMEZkaXDe9xr-s",
        SignedBy: "aFTvaToeoa7vQ3T3g-gJn",
        GuidelinesNoticeCtn: "_2vRv873nmO8VDKcGv910N9",
        OpenGuidelinesBtnCtn: "_1xJdiPfxlTdNN2usH5IiPi",
        Text: "_1yrjmb8acKppoFMX4a89JM",
        ProcessButtons: "_3d-YuHWm4kFxhwoHUQvLY3",
        OrganizerInfoNeeded: "_1zDJ15qYWvZk2pOJT6Fpma",
        PresenterInfoCtn: "LtbslF-lKB5TuSodjwica",
        PresenterPreviewCtn: "_2Hk4rTxT-iClgcyX6vhQ-T",
        PresenterPreviewDesc: "_3pwOKm3mb1P6DMLSJV_irO",
        Intro: "yYvoXKxnt_cvDzZA4SWjg",
        State: "_3m-uJBKckbfIRJDTdOsxHc",
        AgreementsCtn: "_1TWapuESBrD691ajclNSk",
        ContactSectionCtn: "_3gDWxWwsVwJMSsDuwNdjWm",
        SectionTitle: "_3HeMoToqc_aBQ6fOQyGJv6",
      };
    },
    77862: (e) => {
      e.exports = {
        AssociatedBuildBody: "_1rnVUYtxCV0s6yyvpWQdNr",
        BuildDisplay: "_1HwK4xlcGUHwQQ8N0JlIOY",
        BuildUnlinked: "_1cg3t7W3zJ1d2fyZeemkqS",
        BuildLinkedBranch: "_2ssXJvILzS4NK3EGgXkahJ",
        BuildLinkedDefault: "fHJYYxIYA2NCGNolmgOMi",
        BuildIDLink: "_2-Syn-OgAW18RXr3Rz6YOD",
      };
    },
    57821: (e) => {
      e.exports = {
        AddTitleButton: "XKHg8utmcVGXt54ZWUTca",
        CustomTitleCtn: "_1qoSQ8xx3K6loQPzOE0HiB",
        LanguageContainer: "_3WmqO9SJ2x76duLZu9m2_w",
        customTitleOptionsCtn: "zhH_Vr0LaMN9JLW17_6Sg",
        TitleRowCtn: "_96im4Pfj3wp5vXCaqhDwZ",
        AccountRow: "_2uIyvmr0xlWuKw0K7c5XEB",
      };
    },
    32364: (e) => {
      e.exports = {
        DisplaySectionHeaderContainer: "_1xnIXWjdhCoRxuorR33Hja",
        DisplaySectionHeader: "_34f0ckwUpFDCDFOre5vKKc",
        DisplaySectionSubHeader: "_23nhJsiCnqk1JbRY4BqQYI",
        DisplaySectionEmpty: "_2BmSNGrjP-OITpT0J86b8v",
        EventDashboardDataCtn: "_1uPNGB9kdIqm4bvA3MWImI",
        LoadMoreEventsCtn: "_2asU2ngzNsnuUiOXlnE9gs",
        EventDashboardCtn: "_2WqPrwl1Lj6NrDCl6PxxBM",
        EventDashAdminToolsCtn: "_1OMO4Lb3thfoiLCtomeJ5l",
        EventDashboardSearchCtn: "_2Xt1OEvVr8cLVtuc0pJgwh",
        MainLists: "_2Yhqn7VDJjxvfEh06aKUZr",
        ManageButton: "_230VZeyDMcnXTFGA7wbiRz",
        Edit: "pvLmXgZ5uK2ammqFQVDtK",
        Delete: "_9SG7g0HWSikC38CnZUZPa",
        Clone: "_21_l8F0r9GZ8oNHQawRql9",
        View: "_3xhNUX1f66dkbO0jpbcrUB",
        Publish: "_2ewSqivponp2ZnRx--ccH",
        Section: "_16BNVQTv5mM5n7gkZtksG1",
        Unpublished: "_2MUzvx5CleYIyyUnHga8ex",
        AuditInfoItem: "_3zF56_7Le3QZgMK6daAhiC",
        AuditItemStatsCtn: "_2is7FNTYDmGf8I2LvURouk",
      };
    },
    41258: (e) => {
      e.exports = {
        CenterAlign: "cMmai1T2HLkMm53hworFg",
        ControlBarCtn: "_1RQ0BaFzyVrnbeaKB486g2",
        ButtonSettingContainer: "_3jwD2isodRqha0tS-q5TpD",
        ButtonSettingRow: "_1mF5pWZlkV-uvlPZeq-ATE",
        DevHeader: "_35PpKbsBORHxXvGWt2cUXd",
        EmailTabCtn: "fDsyXs0SX_yDzpvJgrj9Q",
        EmailInputText: "_1UcSgRiHZawoyZCBLSEYOw",
        EmailBackground: "bEP0PYdTho_Gl5g1z0hjx",
        DevEmailEmailBackground: "_20VcuDt9BKhha67F592sBU",
        EmailEditorContent: "_1nDhBmZLQlVzj3E7WKKhWq",
        EmailIconHeader: "_3LZBlwbB2tIXbCKqRcW8HK",
        FooterLegal: "bJOiiRXFyVnQ_XIwB8q71",
        EditImageInputCtn: "_1LyXpjatj6a2roksJ1w-Et",
        EmailInput: "_2D8ACkzapgcXt2i4mtVaUl",
        EmailOptionTitle: "_1zLvJ9yv1UricUaXbx0_S6",
        EmailSection: "_1zUIkI7AgdYO4GwG_NQHCK",
        EmailSubjectCtn: "BHpFDMbEwMQJp9qUbcnBp",
        EmailSubjectSelect: "_18xOZXw0zCpDoxyJ6IpE9O",
        EmailTemplate: "_18iTrIYTp7iRLbc4Gf8nPS",
        EmailTextCtn: "_1rQlPdfCXmfGtHnibyLU0q",
        HeadlineInput: "_2lHX9aoh5vq8UVFZpoUXLi",
        Footer: "_23AXhs6fxOH-ri30Ku83kQ",
        ImgCrossCtn: "_59gyFo1iYkpAzzfYIfPB",
        FullImageCtn: "uv6NVLDsJZRg2Vd6UPU57",
        BodyInput: "_3VRhYM6Jz6nfphcVyPLbHF",
        Hello: "Gd3d5QHNaw4ZwdI1OpckY",
        Reason: "_10TSvg1eJrb02iaDHClaMm",
        RecipientCtn: "_330DrT_T9AuTNElumsTjbO",
        GameLink: "_39DSSDvMsjSABWClwcIbZw",
        RightAlign: "zffsfYWrudjCkI4Dsh6SP",
        TargetAndAudience: "_3h8QMOnSMH3qwo0pouxQl1",
        VideoCtn: "_2mtrEAz9iqZDwFHWOFEWYs",
        VideoInputCtn: "_1ESNVZsJhsRKLGR6DIDgGv",
        ButtonDestInputSaleURL: "_3Lr4kQNl8EB90bYreCkavO",
        DevEmailTemplate: "sC9ZVo4LWRmp7sk7FL_1m",
        DevEmail_Content: "_25GtlukMBCGELygDEnZfrY",
        DevEmail_TopLogo: "_1dbBhgsGLkRM492mX7zkNQ",
        DevEmail_TopHeader: "_2lmZlTXR6-c1uaj5PbNgf3",
        DevEmail_Subject: "_37Wbo2nuC0l3mNcjGRZHyg",
        DevEmail_SignOff_Img: "KW2YG6hHfFQVuV4eJ3Ipz",
        DevEmail_Signoff: "_3iJuG0UcI4rSj5zJKaL5fc",
        DevEmail_Footer_Ctn: "RINyWReHxs1fxv1jgY7G4",
        DevEmail_Footer_Reason: "_1h_BmZOxsmD73ffKbjlIdO",
        DevEmail_Footer_SubSection: "_2gEsj3IHJae8fb06fRdJk_",
        DevEmail_Footer_Bold: "CSfHWKG5qt7_XeLCkaw8P",
        DevEmail_Footer_Regular: "_1dDJaK_qsXmQ27GlhTJhAA",
        DevEmail_Follow: "_1gwxy_hzPqUh-p_K4z_Edy",
        DevEmail_RecipientTable: "_2EDtiW4k-fQawJspq90nOy",
        TargetCtn: "_1Ts_ngj40ZiCo9Sc68jnwf",
        TargetTypeTitle: "_2EritTe1Kxna1Z6lA0jGtL",
        TargetTypeCtn: "_3TxAc5Yw0K8WYy6-rGW7Qn",
        TargetedListCtn: "_3NubRccs6p7sKSNLv5Qtmq",
        SelectListCtn: "_980o4njosOdbwYRFG-3CJ",
        SupportCtn: "_27guD_MAYlcodq6X9jXiyE",
      };
    },
    29684: (e) => {
      e.exports = {
        ThemedCtn: "_3JuTN3-LxaE1Kvz0sU14cv",
        CategoryOption: "_4ke28HUvwT2rIC2CU4462",
        CategoryTitle: "Dx6oJLmZ21r_VQlYV17ML",
        event_nomination_banner_ctn: "_1w12VaiWFhKBsTkQ0M7Mla",
        event_nomination_banner: "_2nEQSt0e5gAadvWMl-0IYD",
        event_nomination_banner_text: "_1gePUvogr9fXbuDaaMXFeP",
      };
    },
    34189: (e) => {
      e.exports = { PublishContainer: "_2tCY6WhL-As79rMJ0OnLbz" };
    },
    87082: (e) => {
      e.exports = {
        SummaryItems: "_12a_LkNOoLjY4U8GJXGiJr",
        ReachItems: "H_jRCccfsQh7wJDqpSFW",
        StatusRow: "SZwFXdjVvpVCLQbSx9W0N",
        StatusText: "_1NUKtMG9ZbBMEKZGUbo5dU",
        LinkRow: "_1WnQ1-TNrdTLC4CNy0LMal",
        VisibilityNote: "_2UnJcjbE6D6gpVyZQK1fpg",
        ReachSubject: "_3EQb8yhc8g_YREweH7REin",
        Future: "_5EyH71mHwoPLik7PPLwj6",
        ReachColumnTitles: "_6VhIV7p4e0V5K7UQS8rQ3",
        ReachColumnName: "_3ORkBJ_KuD1aaROllFDvmr",
        ReachSubjectOptional: "aXhwG7UbxYk72LUwo7nf3",
        ReactSubjectOptionalText: "_2CIfGSkukCcX90z7Zh50qn",
        ReachPendingVisibilityText: "n1wAjXJP9DpVKq6YYJXlu",
      };
    },
    64586: (e) => {
      e.exports = {
        VersionListCtn: "_32hnYDAv9k62otGD_ljVML",
        VersionCtn: "_3vUSX_qfXEDziculwGUb7v",
        VersionInfoCtn: "_1sI79xb8sFynt5h92mFTK7",
      };
    },
    28733: (e) => {
      e.exports = {
        SortTierControls: "_1_f_6SqveaHqlcsFRyEHKw",
        SortTierExplanation: "_1U8SA5PU5gO_3FRsSdtOO3",
        AutoTierButton: "_3uDH_JfFghCIXoQ9CnlYt8",
      };
    },
    1323: (e) => {
      e.exports = {
        TileContainer: "_1eeyC5eleIewWdIjFUHKZF",
        ShowEventMetaDataSizes: "EU0bQ6RzkpH7YEV3PqpFi",
        EventStateUpcoming: "qfpNtFPUJlNjLktoUvJ0k",
        EventStateActive: "_3F1Bjy-j37LMI3EtJA1h2Q",
        EventStateRecent: "_2ge3pkXyDOZWz8-ARJz8UM",
        TileStats: "GZhweiVUpwbzoIjDE7u-Z",
        Spacer: "Lux3qW8DzWm72y25tK65P",
        TileImageCtn: "_1vi2yQBaJNZnrkCvcAkYPu",
        TileImage: "_5NjHVepJ-MpagvcelrrLe",
        TileTextContainer: "_31yesbrR3TY0eFzQ5LMPfu",
        TileTextAppName: "_3x6bHYqsfNw0nz_4TDuSxI",
        TileTextEventType: "_2DMSloKwrNjr6coAQd8ZiI",
        TileHasSale: "_1trq1cVOPKvVg7fFpo7i1j",
        TileTextStartsIn: "_3jRSO6lxpLL9G3wo0SR_bn",
        TileTextSubTitle: "_3Sc1E4dUzfzO6of2iXaKtc",
        TileDescriptionContainer: "_2yxWDPnwMaM08JNkzITkA2",
        TileButtonContainer: "_1JNbDS8V61g_7Wpc_xtkEQ",
        TileAgeNotAppropriate: "_1EyzXBq7ZEaS5rLANMjygs",
        ManageButton: "_60IytO_Ke7DCDgSXKUCxJ",
        Edit: "_2h3YfZsHYE19rH00uHNKVS",
        Delete: "_8zmLUr-qx1Bzu4WqzkSj2",
        Clone: "_1QJ8IfR50ZDSYZqiwaHD6Z",
        View: "_1IvY3uUm_10hrO9weWkZ3L",
        Publish: "_1szIuk73YkbLwAB0TblZQB",
        CloneLangAlert: "_2U-5yBEKxtzmhHMrEKXA09",
        CloneLangListCtn: "_3Nj5xHseX0-Ki-jpnVPZzP",
        CloneCheckBox: "_28WRJt_EhqnDXXoRbzDKHq",
        MetaDataCtn: "_3EXNJZmBWQbV9eSwfrVIgH",
      };
    },
    62242: (e) => {
      e.exports = {
        ErrorMessaage: "_13sZcUrcBMNUU0KdAqKPUS",
        UpdatingMessage: "_3baPwwHaL5S0vl62s9YPRm",
      };
    },
    5327: (e) => {
      e.exports = {
        TableOfContentsContainer: "_2VyHwZNHF7G8GTghQBppJM",
        TableOfContents: "_3-gNExt8uVVXneiHJ_HBfO",
        TOCEntry: "_2fkedbcvZ-Ypkg7IAM6g8y",
        TOCEntryText: "_2E83D-k5Smoc5GOnIAYxX_",
        SectionOnScreen: "_1ZlX0kgk4yXPDr43GYpCQE",
        TOCIndent: "mtCjwe7hxKpsydYBLiVwo",
        Header: "_1JRRCTaFT_9gTWN0PgcEE7",
        ManageLocCtn: "_1PmKQt4vLN4zvIXblWoav2",
        LocButtonsCtn: "_19-WGMy4r1bc3-bhcr0ghi",
        ManageLocContents: "N1BFbJNE18yJ8DDMBdVUZ",
      };
    },
    25307: function (e, t) {
      var a, n, l;
      /* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/ (n = []),
        (a = function e() {
          "use strict";
          var t =
              "undefined" != typeof self
                ? self
                : "undefined" != typeof window
                  ? window
                  : void 0 !== t
                    ? t
                    : {},
            a = !t.document && !!t.postMessage,
            n = t.IS_PAPA_WORKER || !1,
            l = {},
            i = 0,
            o = {
              parse: function (a, n) {
                var r = (n = n || {}).dynamicTyping || !1;
                if (
                  (f(r) && ((n.dynamicTypingFunction = r), (r = {})),
                  (n.dynamicTyping = r),
                  (n.transform = !!f(n.transform) && n.transform),
                  n.worker && o.WORKERS_SUPPORTED)
                ) {
                  var s = (function () {
                    if (!o.WORKERS_SUPPORTED) return !1;
                    var a,
                      n,
                      r =
                        ((a = t.URL || t.webkitURL || null),
                        (n = e.toString()),
                        o.BLOB_URL ||
                          (o.BLOB_URL = a.createObjectURL(
                            new Blob(
                              [
                                "var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ",
                                "(",
                                n,
                                ")();",
                              ],
                              { type: "text/javascript" },
                            ),
                          ))),
                      s = new t.Worker(r);
                    return (s.onmessage = h), (s.id = i++), (l[s.id] = s);
                  })();
                  return (
                    (s.userStep = n.step),
                    (s.userChunk = n.chunk),
                    (s.userComplete = n.complete),
                    (s.userError = n.error),
                    (n.step = f(n.step)),
                    (n.chunk = f(n.chunk)),
                    (n.complete = f(n.complete)),
                    (n.error = f(n.error)),
                    delete n.worker,
                    void s.postMessage({ input: a, config: n, workerId: s.id })
                  );
                }
                var _ = null;
                return (
                  o.NODE_STREAM_INPUT,
                  "string" == typeof a
                    ? ((a = (function (e) {
                        return 65279 === e.charCodeAt(0) ? e.slice(1) : e;
                      })(a)),
                      (_ = n.download ? new c(n) : new m(n)))
                    : !0 === a.readable && f(a.read) && f(a.on)
                      ? (_ = new u(n))
                      : ((t.File && a instanceof File) ||
                          a instanceof Object) &&
                        (_ = new d(n)),
                  _.stream(a)
                );
              },
              unparse: function (e, t) {
                var a = !1,
                  n = !0,
                  l = ",",
                  i = "\r\n",
                  r = '"',
                  s = r + r,
                  c = !1,
                  d = null,
                  m = !1;
                !(function () {
                  if ("object" == typeof t) {
                    if (
                      ("string" != typeof t.delimiter ||
                        o.BAD_DELIMITERS.filter(function (e) {
                          return -1 !== t.delimiter.indexOf(e);
                        }).length ||
                        (l = t.delimiter),
                      ("boolean" == typeof t.quotes ||
                        "function" == typeof t.quotes ||
                        Array.isArray(t.quotes)) &&
                        (a = t.quotes),
                      ("boolean" != typeof t.skipEmptyLines &&
                        "string" != typeof t.skipEmptyLines) ||
                        (c = t.skipEmptyLines),
                      "string" == typeof t.newline && (i = t.newline),
                      "string" == typeof t.quoteChar && (r = t.quoteChar),
                      "boolean" == typeof t.header && (n = t.header),
                      Array.isArray(t.columns))
                    ) {
                      if (0 === t.columns.length)
                        throw new Error("Option columns is empty");
                      d = t.columns;
                    }
                    void 0 !== t.escapeChar && (s = t.escapeChar + r),
                      ("boolean" == typeof t.escapeFormulae ||
                        t.escapeFormulae instanceof RegExp) &&
                        (m =
                          t.escapeFormulae instanceof RegExp
                            ? t.escapeFormulae
                            : /^[=+\-@\t\r].*$/);
                  }
                })();
                var u = new RegExp(p(r), "g");
                if (
                  ("string" == typeof e && (e = JSON.parse(e)),
                  Array.isArray(e))
                ) {
                  if (!e.length || Array.isArray(e[0])) return _(null, e, c);
                  if ("object" == typeof e[0])
                    return _(d || Object.keys(e[0]), e, c);
                } else if ("object" == typeof e)
                  return (
                    "string" == typeof e.data && (e.data = JSON.parse(e.data)),
                    Array.isArray(e.data) &&
                      (e.fields || (e.fields = (e.meta && e.meta.fields) || d),
                      e.fields ||
                        (e.fields = Array.isArray(e.data[0])
                          ? e.fields
                          : "object" == typeof e.data[0]
                            ? Object.keys(e.data[0])
                            : []),
                      Array.isArray(e.data[0]) ||
                        "object" == typeof e.data[0] ||
                        (e.data = [e.data])),
                    _(e.fields || [], e.data || [], c)
                  );
                throw new Error("Unable to serialize unrecognized input");
                function _(e, t, a) {
                  var o = "";
                  "string" == typeof e && (e = JSON.parse(e)),
                    "string" == typeof t && (t = JSON.parse(t));
                  var r = Array.isArray(e) && 0 < e.length,
                    s = !Array.isArray(t[0]);
                  if (r && n) {
                    for (var c = 0; c < e.length; c++)
                      0 < c && (o += l), (o += E(e[c], c));
                    0 < t.length && (o += i);
                  }
                  for (var d = 0; d < t.length; d++) {
                    var m = r ? e.length : t[d].length,
                      u = !1,
                      _ = r
                        ? 0 === Object.keys(t[d]).length
                        : 0 === t[d].length;
                    if (
                      (a &&
                        !r &&
                        (u =
                          "greedy" === a
                            ? "" === t[d].join("").trim()
                            : 1 === t[d].length && 0 === t[d][0].length),
                      "greedy" === a && r)
                    ) {
                      for (var p = [], h = 0; h < m; h++) {
                        var v = s ? e[h] : h;
                        p.push(t[d][v]);
                      }
                      u = "" === p.join("").trim();
                    }
                    if (!u) {
                      for (var g = 0; g < m; g++) {
                        0 < g && !_ && (o += l);
                        var S = r && s ? e[g] : g;
                        o += E(t[d][S], g);
                      }
                      d < t.length - 1 && (!a || (0 < m && !_)) && (o += i);
                    }
                  }
                  return o;
                }
                function E(e, t) {
                  if (null == e) return "";
                  if (e.constructor === Date)
                    return JSON.stringify(e).slice(1, 25);
                  var n = !1;
                  m &&
                    "string" == typeof e &&
                    m.test(e) &&
                    ((e = "'" + e), (n = !0));
                  var i = e.toString().replace(u, s);
                  return (n =
                    n ||
                    !0 === a ||
                    ("function" == typeof a && a(e, t)) ||
                    (Array.isArray(a) && a[t]) ||
                    (function (e, t) {
                      for (var a = 0; a < t.length; a++)
                        if (-1 < e.indexOf(t[a])) return !0;
                      return !1;
                    })(i, o.BAD_DELIMITERS) ||
                    -1 < i.indexOf(l) ||
                    " " === i.charAt(0) ||
                    " " === i.charAt(i.length - 1))
                    ? r + i + r
                    : i;
                }
              },
            };
          if (
            ((o.RECORD_SEP = String.fromCharCode(30)),
            (o.UNIT_SEP = String.fromCharCode(31)),
            (o.BYTE_ORDER_MARK = "\ufeff"),
            (o.BAD_DELIMITERS = ["\r", "\n", '"', o.BYTE_ORDER_MARK]),
            (o.WORKERS_SUPPORTED = !a && !!t.Worker),
            (o.NODE_STREAM_INPUT = 1),
            (o.LocalChunkSize = 10485760),
            (o.RemoteChunkSize = 5242880),
            (o.DefaultDelimiter = ","),
            (o.Parser = E),
            (o.ParserHandle = _),
            (o.NetworkStreamer = c),
            (o.FileStreamer = d),
            (o.StringStreamer = m),
            (o.ReadableStreamStreamer = u),
            t.jQuery)
          ) {
            var r = t.jQuery;
            r.fn.parse = function (e) {
              var a = e.config || {},
                n = [];
              return (
                this.each(function (e) {
                  if (
                    "INPUT" !== r(this).prop("tagName").toUpperCase() ||
                    "file" !== r(this).attr("type").toLowerCase() ||
                    !t.FileReader ||
                    !this.files ||
                    0 === this.files.length
                  )
                    return !0;
                  for (var l = 0; l < this.files.length; l++)
                    n.push({
                      file: this.files[l],
                      inputElem: this,
                      instanceConfig: r.extend({}, a),
                    });
                }),
                l(),
                this
              );
              function l() {
                if (0 !== n.length) {
                  var t,
                    a,
                    l,
                    s,
                    c = n[0];
                  if (f(e.before)) {
                    var d = e.before(c.file, c.inputElem);
                    if ("object" == typeof d) {
                      if ("abort" === d.action)
                        return (
                          (t = "AbortError"),
                          (a = c.file),
                          (l = c.inputElem),
                          (s = d.reason),
                          void (f(e.error) && e.error({ name: t }, a, l, s))
                        );
                      if ("skip" === d.action) return void i();
                      "object" == typeof d.config &&
                        (c.instanceConfig = r.extend(
                          c.instanceConfig,
                          d.config,
                        ));
                    } else if ("skip" === d) return void i();
                  }
                  var m = c.instanceConfig.complete;
                  (c.instanceConfig.complete = function (e) {
                    f(m) && m(e, c.file, c.inputElem), i();
                  }),
                    o.parse(c.file, c.instanceConfig);
                } else f(e.complete) && e.complete();
              }
              function i() {
                n.splice(0, 1), l();
              }
            };
          }
          function s(e) {
            (this._handle = null),
              (this._finished = !1),
              (this._completed = !1),
              (this._halted = !1),
              (this._input = null),
              (this._baseIndex = 0),
              (this._partialLine = ""),
              (this._rowCount = 0),
              (this._start = 0),
              (this._nextChunk = null),
              (this.isFirstChunk = !0),
              (this._completeResults = { data: [], errors: [], meta: {} }),
              function (e) {
                var t = S(e);
                (t.chunkSize = parseInt(t.chunkSize)),
                  e.step || e.chunk || (t.chunkSize = null),
                  (this._handle = new _(t)),
                  ((this._handle.streamer = this)._config = t);
              }.call(this, e),
              (this.parseChunk = function (e, a) {
                if (this.isFirstChunk && f(this._config.beforeFirstChunk)) {
                  var l = this._config.beforeFirstChunk(e);
                  void 0 !== l && (e = l);
                }
                (this.isFirstChunk = !1), (this._halted = !1);
                var i = this._partialLine + e;
                this._partialLine = "";
                var r = this._handle.parse(i, this._baseIndex, !this._finished);
                if (!this._handle.paused() && !this._handle.aborted()) {
                  var s = r.meta.cursor;
                  this._finished ||
                    ((this._partialLine = i.substring(s - this._baseIndex)),
                    (this._baseIndex = s)),
                    r && r.data && (this._rowCount += r.data.length);
                  var c =
                    this._finished ||
                    (this._config.preview &&
                      this._rowCount >= this._config.preview);
                  if (n)
                    t.postMessage({
                      results: r,
                      workerId: o.WORKER_ID,
                      finished: c,
                    });
                  else if (f(this._config.chunk) && !a) {
                    if (
                      (this._config.chunk(r, this._handle),
                      this._handle.paused() || this._handle.aborted())
                    )
                      return void (this._halted = !0);
                    (r = void 0), (this._completeResults = void 0);
                  }
                  return (
                    this._config.step ||
                      this._config.chunk ||
                      ((this._completeResults.data =
                        this._completeResults.data.concat(r.data)),
                      (this._completeResults.errors =
                        this._completeResults.errors.concat(r.errors)),
                      (this._completeResults.meta = r.meta)),
                    this._completed ||
                      !c ||
                      !f(this._config.complete) ||
                      (r && r.meta.aborted) ||
                      (this._config.complete(
                        this._completeResults,
                        this._input,
                      ),
                      (this._completed = !0)),
                    c || (r && r.meta.paused) || this._nextChunk(),
                    r
                  );
                }
                this._halted = !0;
              }),
              (this._sendError = function (e) {
                f(this._config.error)
                  ? this._config.error(e)
                  : n &&
                    this._config.error &&
                    t.postMessage({
                      workerId: o.WORKER_ID,
                      error: e,
                      finished: !1,
                    });
              });
          }
          function c(e) {
            var t;
            (e = e || {}).chunkSize || (e.chunkSize = o.RemoteChunkSize),
              s.call(this, e),
              (this._nextChunk = a
                ? function () {
                    this._readChunk(), this._chunkLoaded();
                  }
                : function () {
                    this._readChunk();
                  }),
              (this.stream = function (e) {
                (this._input = e), this._nextChunk();
              }),
              (this._readChunk = function () {
                if (this._finished) this._chunkLoaded();
                else {
                  if (
                    ((t = new XMLHttpRequest()),
                    this._config.withCredentials &&
                      (t.withCredentials = this._config.withCredentials),
                    a ||
                      ((t.onload = b(this._chunkLoaded, this)),
                      (t.onerror = b(this._chunkError, this))),
                    t.open(
                      this._config.downloadRequestBody ? "POST" : "GET",
                      this._input,
                      !a,
                    ),
                    this._config.downloadRequestHeaders)
                  ) {
                    var e = this._config.downloadRequestHeaders;
                    for (var n in e) t.setRequestHeader(n, e[n]);
                  }
                  if (this._config.chunkSize) {
                    var l = this._start + this._config.chunkSize - 1;
                    t.setRequestHeader(
                      "Range",
                      "bytes=" + this._start + "-" + l,
                    );
                  }
                  try {
                    t.send(this._config.downloadRequestBody);
                  } catch (e) {
                    this._chunkError(e.message);
                  }
                  a && 0 === t.status && this._chunkError();
                }
              }),
              (this._chunkLoaded = function () {
                4 === t.readyState &&
                  (t.status < 200 || 400 <= t.status
                    ? this._chunkError()
                    : ((this._start += this._config.chunkSize
                        ? this._config.chunkSize
                        : t.responseText.length),
                      (this._finished =
                        !this._config.chunkSize ||
                        this._start >=
                          (function (e) {
                            var t = e.getResponseHeader("Content-Range");
                            return null === t
                              ? -1
                              : parseInt(t.substring(t.lastIndexOf("/") + 1));
                          })(t)),
                      this.parseChunk(t.responseText)));
              }),
              (this._chunkError = function (e) {
                var a = t.statusText || e;
                this._sendError(new Error(a));
              });
          }
          function d(e) {
            var t, a;
            (e = e || {}).chunkSize || (e.chunkSize = o.LocalChunkSize),
              s.call(this, e);
            var n = "undefined" != typeof FileReader;
            (this.stream = function (e) {
              (this._input = e),
                (a = e.slice || e.webkitSlice || e.mozSlice),
                n
                  ? (((t = new FileReader()).onload = b(
                      this._chunkLoaded,
                      this,
                    )),
                    (t.onerror = b(this._chunkError, this)))
                  : (t = new FileReaderSync()),
                this._nextChunk();
            }),
              (this._nextChunk = function () {
                this._finished ||
                  (this._config.preview &&
                    !(this._rowCount < this._config.preview)) ||
                  this._readChunk();
              }),
              (this._readChunk = function () {
                var e = this._input;
                if (this._config.chunkSize) {
                  var l = Math.min(
                    this._start + this._config.chunkSize,
                    this._input.size,
                  );
                  e = a.call(e, this._start, l);
                }
                var i = t.readAsText(e, this._config.encoding);
                n || this._chunkLoaded({ target: { result: i } });
              }),
              (this._chunkLoaded = function (e) {
                (this._start += this._config.chunkSize),
                  (this._finished =
                    !this._config.chunkSize || this._start >= this._input.size),
                  this.parseChunk(e.target.result);
              }),
              (this._chunkError = function () {
                this._sendError(t.error);
              });
          }
          function m(e) {
            var t;
            s.call(this, (e = e || {})),
              (this.stream = function (e) {
                return (t = e), this._nextChunk();
              }),
              (this._nextChunk = function () {
                if (!this._finished) {
                  var e,
                    a = this._config.chunkSize;
                  return (
                    a
                      ? ((e = t.substring(0, a)), (t = t.substring(a)))
                      : ((e = t), (t = "")),
                    (this._finished = !t),
                    this.parseChunk(e)
                  );
                }
              });
          }
          function u(e) {
            s.call(this, (e = e || {}));
            var t = [],
              a = !0,
              n = !1;
            (this.pause = function () {
              s.prototype.pause.apply(this, arguments), this._input.pause();
            }),
              (this.resume = function () {
                s.prototype.resume.apply(this, arguments), this._input.resume();
              }),
              (this.stream = function (e) {
                (this._input = e),
                  this._input.on("data", this._streamData),
                  this._input.on("end", this._streamEnd),
                  this._input.on("error", this._streamError);
              }),
              (this._checkIsFinished = function () {
                n && 1 === t.length && (this._finished = !0);
              }),
              (this._nextChunk = function () {
                this._checkIsFinished(),
                  t.length ? this.parseChunk(t.shift()) : (a = !0);
              }),
              (this._streamData = b(function (e) {
                try {
                  t.push(
                    "string" == typeof e
                      ? e
                      : e.toString(this._config.encoding),
                  ),
                    a &&
                      ((a = !1),
                      this._checkIsFinished(),
                      this.parseChunk(t.shift()));
                } catch (e) {
                  this._streamError(e);
                }
              }, this)),
              (this._streamError = b(function (e) {
                this._streamCleanUp(), this._sendError(e);
              }, this)),
              (this._streamEnd = b(function () {
                this._streamCleanUp(), (n = !0), this._streamData("");
              }, this)),
              (this._streamCleanUp = b(function () {
                this._input.removeListener("data", this._streamData),
                  this._input.removeListener("end", this._streamEnd),
                  this._input.removeListener("error", this._streamError);
              }, this));
          }
          function _(e) {
            var t,
              a,
              n,
              l = Math.pow(2, 53),
              i = -l,
              r = /^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,
              s =
                /^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,
              c = this,
              d = 0,
              m = 0,
              u = !1,
              _ = !1,
              h = [],
              v = { data: [], errors: [], meta: {} };
            if (f(e.step)) {
              var g = e.step;
              e.step = function (t) {
                if (((v = t), y())) C();
                else {
                  if ((C(), 0 === v.data.length)) return;
                  (d += t.data.length),
                    e.preview && d > e.preview
                      ? a.abort()
                      : ((v.data = v.data[0]), g(v, c));
                }
              };
            }
            function b(t) {
              return "greedy" === e.skipEmptyLines
                ? "" === t.join("").trim()
                : 1 === t.length && 0 === t[0].length;
            }
            function C() {
              return (
                v &&
                  n &&
                  (T(
                    "Delimiter",
                    "UndetectableDelimiter",
                    "Unable to auto-detect delimiting character; defaulted to '" +
                      o.DefaultDelimiter +
                      "'",
                  ),
                  (n = !1)),
                e.skipEmptyLines &&
                  (v.data = v.data.filter(function (e) {
                    return !b(e);
                  })),
                y() &&
                  (function () {
                    if (v)
                      if (Array.isArray(v.data[0])) {
                        for (var t = 0; y() && t < v.data.length; t++)
                          v.data[t].forEach(a);
                        v.data.splice(0, 1);
                      } else v.data.forEach(a);
                    function a(t, a) {
                      f(e.transformHeader) && (t = e.transformHeader(t, a)),
                        h.push(t);
                    }
                  })(),
                (function () {
                  if (!v || (!e.header && !e.dynamicTyping && !e.transform))
                    return v;
                  function t(t, a) {
                    var n,
                      l = e.header ? {} : [];
                    for (n = 0; n < t.length; n++) {
                      var i = n,
                        o = t[n];
                      e.header && (i = n >= h.length ? "__parsed_extra" : h[n]),
                        e.transform && (o = e.transform(o, i)),
                        (o = D(i, o)),
                        "__parsed_extra" === i
                          ? ((l[i] = l[i] || []), l[i].push(o))
                          : (l[i] = o);
                    }
                    return (
                      e.header &&
                        (n > h.length
                          ? T(
                              "FieldMismatch",
                              "TooManyFields",
                              "Too many fields: expected " +
                                h.length +
                                " fields but parsed " +
                                n,
                              m + a,
                            )
                          : n < h.length &&
                            T(
                              "FieldMismatch",
                              "TooFewFields",
                              "Too few fields: expected " +
                                h.length +
                                " fields but parsed " +
                                n,
                              m + a,
                            )),
                      l
                    );
                  }
                  var a = 1;
                  return (
                    !v.data.length || Array.isArray(v.data[0])
                      ? ((v.data = v.data.map(t)), (a = v.data.length))
                      : (v.data = t(v.data, 0)),
                    e.header && v.meta && (v.meta.fields = h),
                    (m += a),
                    v
                  );
                })()
              );
            }
            function y() {
              return e.header && 0 === h.length;
            }
            function D(t, a) {
              return (
                (n = t),
                e.dynamicTypingFunction &&
                  void 0 === e.dynamicTyping[n] &&
                  (e.dynamicTyping[n] = e.dynamicTypingFunction(n)),
                !0 === (e.dynamicTyping[n] || e.dynamicTyping)
                  ? "true" === a ||
                    "TRUE" === a ||
                    ("false" !== a &&
                      "FALSE" !== a &&
                      ((function (e) {
                        if (r.test(e)) {
                          var t = parseFloat(e);
                          if (i < t && t < l) return !0;
                        }
                        return !1;
                      })(a)
                        ? parseFloat(a)
                        : s.test(a)
                          ? new Date(a)
                          : "" === a
                            ? null
                            : a))
                  : a
              );
              var n;
            }
            function T(e, t, a, n) {
              var l = { type: e, code: t, message: a };
              void 0 !== n && (l.row = n), v.errors.push(l);
            }
            (this.parse = function (l, i, r) {
              var s = e.quoteChar || '"';
              if (
                (e.newline ||
                  (e.newline = (function (e, t) {
                    e = e.substring(0, 1048576);
                    var a = new RegExp(p(t) + "([^]*?)" + p(t), "gm"),
                      n = (e = e.replace(a, "")).split("\r"),
                      l = e.split("\n"),
                      i = 1 < l.length && l[0].length < n[0].length;
                    if (1 === n.length || i) return "\n";
                    for (var o = 0, r = 0; r < n.length; r++)
                      "\n" === n[r][0] && o++;
                    return o >= n.length / 2 ? "\r\n" : "\r";
                  })(l, s)),
                (n = !1),
                e.delimiter)
              )
                f(e.delimiter) &&
                  ((e.delimiter = e.delimiter(l)),
                  (v.meta.delimiter = e.delimiter));
              else {
                var c = (function (t, a, n, l, i) {
                  var r, s, c, d;
                  i = i || [",", "\t", "|", ";", o.RECORD_SEP, o.UNIT_SEP];
                  for (var m = 0; m < i.length; m++) {
                    var u = i[m],
                      _ = 0,
                      p = 0,
                      h = 0;
                    c = void 0;
                    for (
                      var v = new E({
                          comments: l,
                          delimiter: u,
                          newline: a,
                          preview: 10,
                        }).parse(t),
                        g = 0;
                      g < v.data.length;
                      g++
                    )
                      if (n && b(v.data[g])) h++;
                      else {
                        var S = v.data[g].length;
                        (p += S),
                          void 0 !== c
                            ? 0 < S && ((_ += Math.abs(S - c)), (c = S))
                            : (c = S);
                      }
                    0 < v.data.length && (p /= v.data.length - h),
                      (void 0 === s || _ <= s) &&
                        (void 0 === d || d < p) &&
                        1.99 < p &&
                        ((s = _), (r = u), (d = p));
                  }
                  return { successful: !!(e.delimiter = r), bestDelimiter: r };
                })(
                  l,
                  e.newline,
                  e.skipEmptyLines,
                  e.comments,
                  e.delimitersToGuess,
                );
                c.successful
                  ? (e.delimiter = c.bestDelimiter)
                  : ((n = !0), (e.delimiter = o.DefaultDelimiter)),
                  (v.meta.delimiter = e.delimiter);
              }
              var d = S(e);
              return (
                e.preview && e.header && d.preview++,
                (t = l),
                (a = new E(d)),
                (v = a.parse(t, i, r)),
                C(),
                u ? { meta: { paused: !0 } } : v || { meta: { paused: !1 } }
              );
            }),
              (this.paused = function () {
                return u;
              }),
              (this.pause = function () {
                (u = !0),
                  a.abort(),
                  (t = f(e.chunk) ? "" : t.substring(a.getCharIndex()));
              }),
              (this.resume = function () {
                c.streamer._halted
                  ? ((u = !1), c.streamer.parseChunk(t, !0))
                  : setTimeout(c.resume, 3);
              }),
              (this.aborted = function () {
                return _;
              }),
              (this.abort = function () {
                (_ = !0),
                  a.abort(),
                  (v.meta.aborted = !0),
                  f(e.complete) && e.complete(v),
                  (t = "");
              });
          }
          function p(e) {
            return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
          }
          function E(e) {
            var t,
              a = (e = e || {}).delimiter,
              n = e.newline,
              l = e.comments,
              i = e.step,
              r = e.preview,
              s = e.fastMode,
              c = (t =
                void 0 === e.quoteChar || null === e.quoteChar
                  ? '"'
                  : e.quoteChar);
            if (
              (void 0 !== e.escapeChar && (c = e.escapeChar),
              ("string" != typeof a || -1 < o.BAD_DELIMITERS.indexOf(a)) &&
                (a = ","),
              l === a)
            )
              throw new Error("Comment character same as delimiter");
            !0 === l
              ? (l = "#")
              : ("string" != typeof l || -1 < o.BAD_DELIMITERS.indexOf(l)) &&
                (l = !1),
              "\n" !== n && "\r" !== n && "\r\n" !== n && (n = "\n");
            var d = 0,
              m = !1;
            (this.parse = function (o, u, _) {
              if ("string" != typeof o)
                throw new Error("Input must be a string");
              var E = o.length,
                h = a.length,
                v = n.length,
                g = l.length,
                S = f(i),
                b = [],
                C = [],
                y = [],
                D = (d = 0);
              if (!o) return Z();
              if (e.header && !u) {
                var T = o.split(n)[0].split(a),
                  x = [],
                  G = {},
                  w = !1;
                for (var I in T) {
                  var A = T[I];
                  f(e.transformHeader) && (A = e.transformHeader(A, I));
                  var k = A,
                    M = G[A] || 0;
                  for (
                    0 < M && ((w = !0), (k = A + "_" + M)), G[A] = M + 1;
                    x.includes(k);

                  )
                    k = k + "_" + M;
                  x.push(k);
                }
                if (w) {
                  var N = o.split(n);
                  (N[0] = x.join(a)), (o = N.join(n));
                }
              }
              if (s || (!1 !== s && -1 === o.indexOf(t))) {
                for (var B = o.split(n), L = 0; L < B.length; L++) {
                  if (((y = B[L]), (d += y.length), L !== B.length - 1))
                    d += n.length;
                  else if (_) return Z();
                  if (!l || y.substring(0, g) !== l) {
                    if (S) {
                      if (((b = []), H(y.split(a)), q(), m)) return Z();
                    } else H(y.split(a));
                    if (r && r <= L) return (b = b.slice(0, r)), Z(!0);
                  }
                }
                return Z();
              }
              for (
                var O = o.indexOf(a, d),
                  R = o.indexOf(n, d),
                  X = new RegExp(p(c) + p(t), "g"),
                  P = o.indexOf(t, d);
                ;

              )
                if (o[d] !== t)
                  if (l && 0 === y.length && o.substring(d, d + g) === l) {
                    if (-1 === R) return Z();
                    (d = R + v), (R = o.indexOf(n, d)), (O = o.indexOf(a, d));
                  } else if (-1 !== O && (O < R || -1 === R))
                    y.push(o.substring(d, O)),
                      (d = O + h),
                      (O = o.indexOf(a, d));
                  else {
                    if (-1 === R) break;
                    if ((y.push(o.substring(d, R)), U(R + v), S && (q(), m)))
                      return Z();
                    if (r && b.length >= r) return Z(!0);
                  }
                else
                  for (P = d, d++; ; ) {
                    if (-1 === (P = o.indexOf(t, P + 1)))
                      return (
                        _ ||
                          C.push({
                            type: "Quotes",
                            code: "MissingQuotes",
                            message: "Quoted field unterminated",
                            row: b.length,
                            index: d,
                          }),
                        V()
                      );
                    if (P === E - 1) return V(o.substring(d, P).replace(X, t));
                    if (t !== c || o[P + 1] !== c) {
                      if (t === c || 0 === P || o[P - 1] !== c) {
                        -1 !== O && O < P + 1 && (O = o.indexOf(a, P + 1)),
                          -1 !== R && R < P + 1 && (R = o.indexOf(n, P + 1));
                        var j = z(-1 === R ? O : Math.min(O, R));
                        if (o.substr(P + 1 + j, h) === a) {
                          y.push(o.substring(d, P).replace(X, t)),
                            o[(d = P + 1 + j + h)] !== t &&
                              (P = o.indexOf(t, d)),
                            (O = o.indexOf(a, d)),
                            (R = o.indexOf(n, d));
                          break;
                        }
                        var F = z(R);
                        if (o.substring(P + 1 + F, P + 1 + F + v) === n) {
                          if (
                            (y.push(o.substring(d, P).replace(X, t)),
                            U(P + 1 + F + v),
                            (O = o.indexOf(a, d)),
                            (P = o.indexOf(t, d)),
                            S && (q(), m))
                          )
                            return Z();
                          if (r && b.length >= r) return Z(!0);
                          break;
                        }
                        C.push({
                          type: "Quotes",
                          code: "InvalidQuotes",
                          message:
                            "Trailing quote on quoted field is malformed",
                          row: b.length,
                          index: d,
                        }),
                          P++;
                      }
                    } else P++;
                  }
              return V();
              function H(e) {
                b.push(e), (D = d);
              }
              function z(e) {
                var t = 0;
                if (-1 !== e) {
                  var a = o.substring(P + 1, e);
                  a && "" === a.trim() && (t = a.length);
                }
                return t;
              }
              function V(e) {
                return (
                  _ ||
                    (void 0 === e && (e = o.substring(d)),
                    y.push(e),
                    (d = E),
                    H(y),
                    S && q()),
                  Z()
                );
              }
              function U(e) {
                (d = e), H(y), (y = []), (R = o.indexOf(n, d));
              }
              function Z(e) {
                return {
                  data: b,
                  errors: C,
                  meta: {
                    delimiter: a,
                    linebreak: n,
                    aborted: m,
                    truncated: !!e,
                    cursor: D + (u || 0),
                  },
                };
              }
              function q() {
                i(Z()), (b = []), (C = []);
              }
            }),
              (this.abort = function () {
                m = !0;
              }),
              (this.getCharIndex = function () {
                return d;
              });
          }
          function h(e) {
            var t = e.data,
              a = l[t.workerId],
              n = !1;
            if (t.error) a.userError(t.error, t.file);
            else if (t.results && t.results.data) {
              var i = {
                abort: function () {
                  (n = !0),
                    v(t.workerId, {
                      data: [],
                      errors: [],
                      meta: { aborted: !0 },
                    });
                },
                pause: g,
                resume: g,
              };
              if (f(a.userStep)) {
                for (
                  var o = 0;
                  o < t.results.data.length &&
                  (a.userStep(
                    {
                      data: t.results.data[o],
                      errors: t.results.errors,
                      meta: t.results.meta,
                    },
                    i,
                  ),
                  !n);
                  o++
                );
                delete t.results;
              } else
                f(a.userChunk) &&
                  (a.userChunk(t.results, i, t.file), delete t.results);
            }
            t.finished && !n && v(t.workerId, t.results);
          }
          function v(e, t) {
            var a = l[e];
            f(a.userComplete) && a.userComplete(t), a.terminate(), delete l[e];
          }
          function g() {
            throw new Error("Not implemented.");
          }
          function S(e) {
            if ("object" != typeof e || null === e) return e;
            var t = Array.isArray(e) ? [] : {};
            for (var a in e) t[a] = S(e[a]);
            return t;
          }
          function b(e, t) {
            return function () {
              e.apply(t, arguments);
            };
          }
          function f(e) {
            return "function" == typeof e;
          }
          return (
            n &&
              (t.onmessage = function (e) {
                var a = e.data;
                if (
                  (void 0 === o.WORKER_ID && a && (o.WORKER_ID = a.workerId),
                  "string" == typeof a.input)
                )
                  t.postMessage({
                    workerId: o.WORKER_ID,
                    results: o.parse(a.input, a.config),
                    finished: !0,
                  });
                else if (
                  (t.File && a.input instanceof File) ||
                  a.input instanceof Object
                ) {
                  var n = o.parse(a.input, a.config);
                  n &&
                    t.postMessage({
                      workerId: o.WORKER_ID,
                      results: n,
                      finished: !0,
                    });
                }
              }),
            ((c.prototype = Object.create(s.prototype)).constructor = c),
            ((d.prototype = Object.create(s.prototype)).constructor = d),
            ((m.prototype = Object.create(m.prototype)).constructor = m),
            ((u.prototype = Object.create(s.prototype)).constructor = u),
            o
          );
        }),
        void 0 === (l = "function" == typeof a ? a.apply(t, n) : a) ||
          (e.exports = l);
    },
    79896: (e, t, a) => {
      "use strict";
      a.d(t, { aX: () => y, gu: () => C });
      var n = a(85556),
        l = a(47427),
        i = a(20417),
        o = a(80751),
        r = a.n(o),
        s = a(1485),
        c = a(31846),
        d = a(13116),
        m = a.n(d),
        u = a(37563),
        _ = a(35427),
        p = a(50423),
        E = a(54842),
        h = a(48760),
        v = a(62210);
      a(16649);
      class g {
        constructor() {
          (this.m_mapProfiles = new Map()),
            (this.m_mapProfilesLoading = new Map()),
            (0, E.rC)(this);
        }
        LoadProfiles(e, t) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            (0, v.X)(
              e.length <= 500,
              "Check LoadProfiles, requesting too many steam IDs",
            );
            let a = e.filter(
              (e) =>
                !this.m_mapProfiles.has(e) && !this.m_mapProfilesLoading.has(e),
            );
            if (0 == a.length) return this.m_mapProfilesLoading.get(e[0]);
            let n = u.De.COMMUNITY_BASE_URL + "actions/ajaxresolveusers",
              l = r().get(n, {
                params: { steamids: a.join(",") },
                withCredentials: !0,
                cancelToken: null == t ? void 0 : t.token,
              });
            a.forEach((e) => this.m_mapProfilesLoading.set(e, l));
            let i = yield l;
            i.data &&
              200 == i.status &&
              i.data.forEach((e) => {
                (e.avatar_hash = e.avatar_url),
                  (e.avatar_url_medium = (0, h.U)(e.avatar_url, "medium")),
                  (e.avatar_url_full = (0, h.U)(e.avatar_url, "full")),
                  (e.avatar_url = (0, h.U)(e.avatar_url)),
                  this.m_mapProfiles.set(e.steamid, e),
                  this.m_mapProfilesLoading.delete(e.steamid);
              });
          });
        }
        GetProfile(e) {
          return this.m_mapProfiles.get(e);
        }
        GetProfileByAccountID(e) {
          return this.m_mapProfiles.get(
            _.K.InitFromAccountID(e).ConvertTo64BitString(),
          );
        }
        GetProfileBySteamID(e) {
          return this.m_mapProfiles.get(e.ConvertTo64BitString());
        }
        BHasProfile(e) {
          return this.m_mapProfiles.has(e);
        }
        BHasProfileByAccountID(e) {
          return this.m_mapProfiles.has(
            _.K.InitFromAccountID(e).ConvertTo64BitString(),
          );
        }
        BHasProfileBySteamID(e) {
          return this.m_mapProfiles.has(e.ConvertTo64BitString());
        }
        BHasAllProfilesBySteamID(e) {
          return !e.some((e) => !this.BHasProfileBySteamID(e));
        }
        GetProfileURLBySteamID(e) {
          const t = this.GetProfileBySteamID(e);
          return t && t.profile_url
            ? u.De.COMMUNITY_BASE_URL + "id/" + t.profile_url
            : u.De.COMMUNITY_BASE_URL + "profiles/" + e.ConvertTo64BitString();
        }
        GetPersonaNameBySteamID(e) {
          const t = this.GetProfileBySteamID(e);
          return t && t.persona_name ? t.persona_name : "";
        }
      }
      (0, n.gn)([E.LO], g.prototype, "m_mapProfiles", void 0);
      const S = new g();
      var b = a(62613),
        f = a(82493);
      class C extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              invite_token: "",
              input_search: "",
              friend_code_copied: !1,
              invite_copied: !1,
            });
        }
        componentDidMount() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const e = yield r().get(
              u.De.COMMUNITY_BASE_URL + "invites/ajaxgetall",
              { params: { sessionid: u.De.SESSIONID } },
            );
            if (e && e.data && e.data.tokens) {
              const t = e.data.tokens.filter((e) => e.valid);
              t.length
                ? this.setState({ invite_token: t[0].invite_token })
                : this.OnCreateInviteLink();
            } else this.OnCreateInviteLink();
          });
        }
        OnCreateInviteLink() {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const e = new FormData();
            e.append("sessionid", u.De.SESSIONID),
              e.append("steamid_user", u.L7.steamid),
              e.append("duration", (2592e3).toString());
            const t = yield r().post(
              u.De.COMMUNITY_BASE_URL + "invites/ajaxcreate",
              e,
            );
            t &&
              t.data &&
              t.data.invite &&
              this.setState({ invite_token: t.data.invite.invite_token });
          });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, p.Ei)(t);
        }
        OnAddFriend(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", u.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0");
            try {
              const e = yield r().post(
                u.De.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                t,
              );
              return e && e.data && 1 == e.data.success;
            } catch (e) {
              return !1;
            }
          });
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            u.De.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = u.L7.short_url + "/" + this.state.invite_token;
          return l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: m().HeaderBlock },
              (0, c.Xx)("#ManageFriends_AddAFriend"),
            ),
            l.createElement(
              "div",
              { className: m().Background },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.Xx)("#ManageFriends_YourFriendCode"),
              ),
              l.createElement(
                "div",
                { className: m().CopyContainer },
                l.createElement("h1", { className: m().Text }, u.L7.accountid),
                l.createElement(
                  s.KM,
                  {
                    autoFocus: !0,
                    className: m().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(u.L7.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, c.Xx)("#ManageFriends_Copied")
                    : (0, c.Xx)("#ManageFriends_Copy"),
                ),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.Xx)("#ManageFriends_EnterFriendCode"),
              ),
              l.createElement(y, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, c.Xx)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            l.createElement(
              "div",
              { className: m().DimBackground },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.Xx)("#ManageFriends_OrSendQuickInvite"),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.Xx)("#ManageFriends_QuickInviteDescription"),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.Xx)("#ManageFriends_QuickInviteNote"),
              ),
              l.createElement(
                "div",
                { className: m().CopyContainer },
                Boolean(this.state.invite_token) &&
                  l.createElement("div", { className: m().Link }, e),
                l.createElement(
                  s.KM,
                  {
                    className: m().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, c.Xx)("#ManageFriends_Copied")
                    : (0, c.Xx)("#ManageFriends_Copy"),
                ),
              ),
              l.createElement(
                s.zx,
                {
                  className: m().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, c.Xx)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            l.createElement(
              "div",
              { className: m().Background },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.Xx)("#ManageFriends_OrSearch"),
              ),
              l.createElement("br", null),
              l.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                l.createElement(
                  "div",
                  { style: { width: "100%" } },
                  l.createElement(s.II, {
                    className: m().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, c.Xx)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                l.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  l.createElement(b.YtI, null),
                ),
              ),
            ),
          );
        }
      }
      (0, n.gn)([i.ak], C.prototype, "OnCreateInviteLink", null),
        (0, n.gn)([i.ak], C.prototype, "OnCopy", null),
        (0, n.gn)([i.ak], C.prototype, "OnAddFriend", null),
        (0, n.gn)([i.ak], C.prototype, "OnSearchChange", null),
        (0, n.gn)([i.ak], C.prototype, "OnSearchKeyDown", null),
        (0, n.gn)([i.ak], C.prototype, "OnSearchSubmit", null);
      class y extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              input_friend_code: "",
              disable_send_invite: !1,
              searchResult: null,
              invite_status: "pending",
            }),
            (this.m_currentRequest = 0);
        }
        OnFriendCodeChange(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = e.target.value.split(",")[0];
            this.setState({ input_friend_code: t, invite_status: "pending" }),
              window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () => this.LoadProfile(t),
                500,
              ));
          });
        }
        LoadProfile(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            if (e) {
              const t = _.K.InitFromAccountID(Number(e));
              yield S.LoadProfiles([t.ConvertTo64BitString()]);
              const a = S.GetProfile(t.ConvertTo64BitString());
              a
                ? this.setState({
                    searchResult: a,
                    disable_send_invite:
                      u.L7.is_limited ||
                      (this.props.bDisableForFriends && a.is_friend) ||
                      (this.props.bDisableForSelf &&
                        a.steamid === u.L7.steamid),
                  })
                : this.setState({ searchResult: null });
            } else this.setState({ searchResult: null });
          });
        }
        OnActionClick(e) {
          return (0, n.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", u.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0"),
              this.setState({ disable_send_invite: !0 });
            (yield this.props.onButtonClick(e))
              ? (this.setState({
                  input_friend_code: "",
                  invite_status: "success",
                }),
                setTimeout(() => this.setState({ searchResult: null }), 3e3))
              : this.setState({
                  invite_status: "failure",
                  disable_send_invite: !1,
                });
          });
        }
        render() {
          return l.createElement(
            "div",
            { className: m().FriendCodeSelector },
            l.createElement(s.II, {
              className: m().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, c.Xx)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            l.createElement(
              D,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              l.createElement(
                s.KM,
                {
                  className: m().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, n.gn)([i.ak], y.prototype, "OnFriendCodeChange", null),
        (0, n.gn)([i.ak], y.prototype, "LoadProfile", null),
        (0, n.gn)([i.ak], y.prototype, "OnActionClick", null);
      const D = (e) => {
        const {
            searchResult: t,
            invite_status: a,
            bShowStatus: n,
            children: i,
          } = e,
          o = (0, u.id)();
        return Boolean(t)
          ? l.createElement(
              "div",
              { className: m().ProfileCard },
              l.createElement(
                "div",
                { className: m().UserContainer },
                l.createElement(
                  "div",
                  { className: m().Image },
                  l.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                l.createElement(
                  "div",
                  { className: m().ProfileContent },
                  l.createElement(
                    "h1",
                    { className: m().Heading },
                    t.persona_name,
                  ),
                  l.createElement(
                    "div",
                    { className: m().ProfileLink },
                    l.createElement(
                      f.IS,
                      {
                        target: o ? void 0 : "_blank",
                        href: u.De.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, c.Xx)("#ManageFriends_ProfileLink"),
                    ),
                    l.createElement("br", null),
                    l.createElement(
                      "span",
                      { className: m().Body },
                      t.real_name,
                      l.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${t.state ? "," : ""} ${t.country}`,
                    ),
                  ),
                ),
                i,
              ),
              l.createElement(
                "div",
                { className: m().ProfileLink },
                t.is_friend &&
                  l.createElement(
                    "div",
                    null,
                    (0, c.Xx)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      f.IS,
                      {
                        target: o ? void 0 : "_blank",
                        href:
                          u.De.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, c.Xx)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, c.Xx)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                n &&
                  "failure" === a &&
                  l.createElement(
                    "div",
                    { className: m().Failure },
                    (0, c.Xx)("#ManageFriends_InviteFailure"),
                  ),
                n &&
                  "success" === a &&
                  l.createElement(
                    "div",
                    { className: m().Success },
                    (0, c.Xx)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
    },
    23665: (e, t, a) => {
      "use strict";
      a.d(t, { n: () => p });
      var n = a(47427),
        l = a(8285),
        i = a(13129),
        o = a(31846),
        r = a(71472),
        s = a(97342),
        c = a.n(s),
        d = a(59728),
        m = a(14609),
        u = a(91618);
      class _ extends n.Component {
        constructor() {
          super(...arguments), (this.state = { activeTab: "" });
        }
        componentDidMount() {
          this.props.startingTab
            ? this.setState({ activeTab: this.props.startingTab })
            : !this.props.bDisableRouting &&
              this.props.location &&
              this.setState({
                activeTab: (0, r.ks)(this.props.location, "tab"),
              });
        }
        componentDidUpdate(e) {
          !this.props.bDisableRouting &&
            this.props.location &&
            this.props.location.key !== e.location.key &&
            this.setState({ activeTab: (0, r.ks)(this.props.location, "tab") });
        }
        OnTabClick(e) {
          this.setState({ activeTab: e.key }),
            !this.props.bDisableRouting &&
              this.props.history &&
              (0, r.i9)(this.props.history, "tab", e.key),
            e.onClick && e.onClick(e);
        }
        render() {
          const e =
            this.props.tabs.find((e) => e.key === this.state.activeTab) ||
            this.props.tabs[0];
          return n.createElement(
            n.Fragment,
            null,
            n.createElement(
              u.s,
              {
                className: (0, i.Z)(
                  c().GraphicalAssetsTabs,
                  this.props.classNameCtn,
                ),
              },
              this.props.tabs.map((t) => {
                if (!t.hidden) {
                  let a = "";
                  return (
                    "success" === t.statusType
                      ? (a = c().StatusSuccess)
                      : "danger" === t.statusType
                        ? (a = c().StatusDanger)
                        : "caution" === t.statusType && (a = c().StatusCaution),
                    n.createElement(
                      m.M2,
                      {
                        key: t.key,
                        condition: Boolean(t.statusToolTip || t.tooltip),
                        wrap: (e) =>
                          n.createElement(
                            d.HP,
                            { toolTipContent: t.statusToolTip || t.tooltip },
                            e,
                          ),
                      },
                      n.createElement(
                        u.s,
                        {
                          key: t.key,
                          className: (0, i.Z)(
                            `${c().GraphicalAssetsTab} ${t.key === e.key ? (0, i.Z)(c().Active, "ActiveTab") : ""}`,
                            this.props.classNameTab,
                          ),
                          onActivate: () => this.OnTabClick(t),
                        },
                        Boolean(t.vo_warning) &&
                          n.createElement(
                            d.HP,
                            { toolTipContent: t.vo_warning },
                            n.createElement(
                              "div",
                              { className: c().VOWarning },
                              (0, o.Xx)("#EventEditor_VOWarning"),
                            ),
                          ),
                        Boolean(t.status) &&
                          n.createElement(
                            "div",
                            {
                              className: (0, i.Z)(c().GraphicalAssetStatus, a),
                            },
                            t.status,
                          ),
                        t.name,
                      ),
                    )
                  );
                }
                return null;
              }),
            ),
            n.createElement(
              u.s,
              null,
              e && n.createElement(u.s, null, e.contents),
            ),
          );
        }
      }
      const p = (0, l.EN)(_);
    },
    31028: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => i });
      var n = a(47427),
        l = a(58112);
      const i = (e) => {
        const { onPositionChange: t, onLeave: a } = e,
          i = n.useCallback(
            (e) => (
              void 0 === e.previousPosition &&
                e.currentPosition === l.h.above &&
                a &&
                a(e),
              t && t(e)
            ),
            [t, a],
          );
        return n.createElement(
          l.h,
          Object.assign({}, e, { onPositionChange: i }),
        );
      };
    },
    22716: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => ir });
      var n = a(760),
        l = a(74257),
        i = a(47527),
        o = a(85556),
        r = a(80751),
        s = a.n(r),
        c = a(27605),
        d = a(47427),
        m = a(28017),
        u = a(77936),
        _ = a(86878),
        p = a(35427),
        E = a(93243),
        h = a(88397),
        v = a(84400),
        g = a(71741),
        S = a.n(g),
        b = a(91830),
        f = a(50898),
        C = a(90069),
        y = a(46882),
        D = a(62210),
        T = a(13129),
        x = a(31846),
        G = a(16649),
        w = a(20417),
        I = a(37563),
        A = a(18538),
        k = a(32364),
        M = a.n(k),
        N = a(21818),
        B = a(54842),
        L = a(87249),
        O = a(42855),
        R = a(1485),
        X = a(84996),
        P = a(59728),
        j = a(50423),
        F = a(45070),
        H = a(51309);
      const z = "title",
        V = "subtitle",
        U = "summary",
        Z = "body",
        q = "email_headline_",
        W = "email_body_",
        J = "sale_section_label_",
        K = "sale_section_label_id_",
        Q = "sale_section_subtitle_id_",
        Y = "sale_section_text_id_",
        $ = "email_subject",
        ee = "sale_tab_name_",
        te = "sale_facet_name_",
        ae = "sale_facetvalue_name_",
        ne = "sale_facetvalue_subtitle_",
        le = "sale_reservation_bbcode_",
        ie = "sale_white_supplies_last_bbcode_",
        oe = "sale_section_desc_",
        re = "broadcast_custom_title",
        se = "question_",
        ce = "answer_",
        de = "badgename_",
        me = "badgeinitial_",
        ue = "badgeprogress_",
        _e = "badgemax_",
        pe = "quest_close_",
        Ee = "quest_open_",
        he = "discoqueue_desc_",
        ve = "socialshare_header_",
        ge = "socialshare_title_",
        Se = "socialshare_desc_",
        be = "socialshare_image_",
        fe = "socialshare_imagealttext_",
        Ce = "rewardshelf_itemdef_",
        ye = "claimitem_button_",
        De = "disclaimer_name_";
      function Te(e, t, a, n) {
        var l, i;
        let o = new F.C();
        if (t)
          for (let t = 0; t < 31; ++t) {
            let a = e.GetEventModel();
            (e.BHasLanguageTitle(t) || 0 == t) &&
              o.SetLocalization("title", t, e.GetName(t)),
              (a.BHasSubTitle(t) || 0 == t) &&
                o.SetLocalization("subtitle", t, e.GetSubTitle(t)),
              (e.BHasLanguageDescription(t) || 0 == t) &&
                o.SetLocalization("body", t, e.GetDescription(t)),
              (a.BHasSummary(t) || 0 == t) &&
                o.SetLocalization("summary", t, e.GetSummary(t));
          }
        if (a && e.BHasEmailEnabled()) {
          const t = e.GetEmailSettings();
          if (I.JA.IS_VALVE_GROUP) {
            let t = new L.FB(e.GetEmailSettings());
            for (let e = 0; e < 31; ++e)
              t.BHasLocalizedSubject(e) &&
                o.SetLocalization($, e, t.GetLocalizedSubject(e));
          }
          t.sections.forEach((e, t) => {
            let a = new L.vM(e);
            for (let e = 0; e < 31; ++e)
              a.BHasHeadlineInLanguage(e) &&
                o.SetLocalization(q + t, e, a.GetHeadline(e)),
                a.BHasBodyInLanguage(e) &&
                  o.SetLocalization(W + t, e, a.GetBody(e));
          });
        }
        const r = e.GetEventModel().jsondata;
        if (
          (null == r ? void 0 : r.bBroadcastEnabled) &&
          (null === (l = null == r ? void 0 : r.localized_broadcast_title) ||
          void 0 === l
            ? void 0
            : l.length) > 0
        )
          for (let e = 0; e < 31; ++e)
            if (Boolean(x.LZ.Get(r.localized_broadcast_title, e))) {
              const t = r.localized_broadcast_title[e];
              o.SetLocalization(re, e, t);
            }
        if (n && e.BHasSaleEnabled()) {
          if (
            null === (i = null == r ? void 0 : r.sale_presenters) ||
            void 0 === i
              ? void 0
              : i.length
          )
            for (let e = 0; e < 31; ++e)
              r.sale_presenters.forEach((t) => {
                if (Boolean(x.LZ.Get(t.localized_presenter_name, e))) {
                  const a = t.localized_presenter_name[e];
                  o.SetLocalization(De + t.unique_id, e, a);
                }
              });
          e.GetSaleSections()
            .filter((e) => !Boolean(e.disable_localization))
            .forEach((t) => {
              var a, n, l, i, r, s, c, d, m, u, _, p, E;
              const h = e.GetSaleSectionIndexByID(t.unique_id);
              for (let v = 0; v < 31; ++v) {
                if (
                  (e.BHasSaleSectionLabelLocalization(v, h) &&
                    o.SetLocalization(K + t.unique_id, v, t.localized_label[v]),
                  e.BHasSaleSectionSubtitleLocalization(v, h) &&
                    o.SetLocalization(
                      Q + t.unique_id,
                      v,
                      t.localized_subtitle[v],
                    ),
                  e.BHasSaleSectionTextLocalizationForLang(v, h) &&
                    o.SetLocalization(
                      Y + t.unique_id,
                      v,
                      t.text_section_contents[v],
                    ),
                  e.BHasSaleSectionDescriptionBBCode(v, h) &&
                    o.SetLocalization(
                      oe + t.unique_id,
                      v,
                      t.localized_description[v],
                    ),
                  "tabs" === t.section_type && t.tabs)
                )
                  for (let a of t.tabs)
                    e.BHasSaleSectionTabName(v, a) &&
                      o.SetLocalization(
                        ee + t.unique_id + "_" + a.unique_id,
                        v,
                        a.localized_label[v],
                      );
                if (
                  (t.enable_faceted_browsing &&
                    (t.facets.forEach((a) => {
                      e.BHasSaleSectionFacetName(v, a) &&
                        o.SetLocalization(
                          te + t.unique_id + "_" + a.unique_id,
                          v,
                          a.name[v],
                        );
                    }),
                    t.facets.forEach((a) => {
                      a.facetValues.forEach((n) => {
                        e.BHasSaleSectionFacetValueName(v, n) &&
                          o.SetLocalization(
                            ae +
                              t.unique_id +
                              "_" +
                              a.unique_id +
                              "_" +
                              n.unique_id,
                            v,
                            n.name[v],
                          ),
                          e.BHasSaleSectionFacetValueSubtitle(v, n) &&
                            o.SetLocalization(
                              ne +
                                t.unique_id +
                                "_" +
                                a.unique_id +
                                "_" +
                                n.unique_id,
                              v,
                              n.subtitle[v],
                            );
                      });
                    })),
                  "vo_internal" == t.section_type &&
                    "reservation_widget" ==
                      (null === (a = t.internal_section_data) || void 0 === a
                        ? void 0
                        : a.internal_type) &&
                    (null ===
                      (n = t.internal_section_data.reservation_options) ||
                    void 0 === n
                      ? void 0
                      : n.length) > 0 &&
                    t.internal_section_data.reservation_options.forEach((e) => {
                      e.localized_reservation_desc &&
                        Boolean(x.LZ.Get(e.localized_reservation_desc, v)) &&
                        o.SetLocalization(
                          le + t.unique_id + "_" + e.unique_id,
                          v,
                          e.localized_reservation_desc[v],
                        );
                    }),
                  "vo_internal" == t.section_type &&
                    "while_supplies_last" ==
                      (null === (l = t.internal_section_data) || void 0 === l
                        ? void 0
                        : l.internal_type) &&
                    (null ===
                      (i =
                        t.internal_section_data.while_supplies_last_option) ||
                    void 0 === i
                      ? void 0
                      : i.length) > 0 &&
                    t.internal_section_data.while_supplies_last_option.forEach(
                      (e) => {
                        e.localized_supply_desc &&
                          Boolean(x.LZ.Get(e.localized_supply_desc, v)) &&
                          o.SetLocalization(
                            ie + t.unique_id + "_" + e.unique_id,
                            v,
                            e.localized_supply_desc[v],
                          );
                      },
                    ),
                  "quiz" == t.section_type &&
                    (null ===
                      (s =
                        null === (r = t.quiz) || void 0 === r
                          ? void 0
                          : r.questions) || void 0 === s
                      ? void 0
                      : s.length) > 0 &&
                    (null === (c = t.quiz) ||
                      void 0 === c ||
                      c.questions.forEach((e) => {
                        e.localized_question &&
                          Boolean(x.LZ.Get(e.localized_question, v)) &&
                          o.SetLocalization(
                            se + t.unique_id + "_" + e.unique_id,
                            v,
                            e.localized_question[v],
                          ),
                          (null == e ? void 0 : e.answers) &&
                            e.answers.forEach((e) => {
                              e.localized_answer &&
                                Boolean(x.LZ.Get(e.localized_answer, v)) &&
                                o.SetLocalization(
                                  ce + t.unique_id + "_" + e.unique_id,
                                  v,
                                  e.localized_answer[v],
                                );
                            });
                      })),
                  "badge_progress" == t.section_type && t.badge_progress)
                ) {
                  const e = t.badge_progress;
                  e.localized_name &&
                    Boolean(x.LZ.Get(e.localized_name, v)) &&
                    o.SetLocalization(de + t.unique_id, v, e.localized_name[v]),
                    e.localized_initial_description &&
                      Boolean(x.LZ.Get(e.localized_initial_description, v)) &&
                      o.SetLocalization(
                        me + t.unique_id,
                        v,
                        e.localized_initial_description[v],
                      ),
                    e.localized_progress_description &&
                      Boolean(x.LZ.Get(e.localized_progress_description, v)) &&
                      o.SetLocalization(
                        ue + t.unique_id,
                        v,
                        e.localized_progress_description[v],
                      ),
                    e.localized_maxtier_description &&
                      Boolean(x.LZ.Get(e.localized_maxtier_description, v)) &&
                      o.SetLocalization(
                        _e + t.unique_id,
                        v,
                        e.localized_maxtier_description[v],
                      );
                }
                "quest" == t.section_type &&
                  (null ===
                    (m =
                      null === (d = t.quest) || void 0 === d
                        ? void 0
                        : d.door_info) || void 0 === m
                    ? void 0
                    : m.length) > 0 &&
                  t.quest.door_info.forEach((e) => {
                    e.localized_open_door_description &&
                      Boolean(x.LZ.Get(e.localized_open_door_description, v)) &&
                      o.SetLocalization(
                        pe + t.unique_id + "_" + e.unique_id,
                        v,
                        e.localized_open_door_description[v],
                      ),
                      e.localized_closed_door_description &&
                        Boolean(
                          x.LZ.Get(e.localized_closed_door_description, v),
                        ) &&
                        o.SetLocalization(
                          Ee + t.unique_id + "_" + e.unique_id,
                          v,
                          e.localized_closed_door_description[v],
                        );
                  }),
                  "rewards" == t.section_type &&
                    (null ===
                      (_ =
                        null === (u = t.rewards) || void 0 === u
                          ? void 0
                          : u.reward_items) || void 0 === _
                      ? void 0
                      : _.length) > 0 &&
                    t.rewards.reward_items.forEach((e) => {
                      e.localized_reward_description &&
                        Boolean(x.LZ.Get(e.localized_reward_description, v)) &&
                        o.SetLocalization(
                          Ce + t.unique_id + "_" + e.virtual_item_reward_def_id,
                          v,
                          e.localized_reward_description[v],
                        );
                    }),
                  "claim_item" == t.section_type &&
                    (null ===
                      (E =
                        null === (p = t.claim_item_section_data) || void 0 === p
                          ? void 0
                          : p.localized_claim_button) || void 0 === E
                      ? void 0
                      : E.length) > 0 &&
                    t.claim_item_section_data.localized_claim_button &&
                    Boolean(
                      x.LZ.Get(
                        t.claim_item_section_data.localized_claim_button,
                        v,
                      ),
                    ) &&
                    o.SetLocalization(
                      ye + t.unique_id,
                      v,
                      t.claim_item_section_data.localized_claim_button[v],
                    ),
                  "discoveryqueue" == t.section_type &&
                    t.discovery_queue_localized_desc &&
                    Boolean(x.LZ.Get(t.discovery_queue_localized_desc, v)) &&
                    o.SetLocalization(
                      he + t.unique_id,
                      v,
                      t.discovery_queue_localized_desc[v],
                    ),
                  "social_share" == t.section_type &&
                    t.social_share.content_options.forEach((e) => {
                      const a = e.localized_option_fields;
                      a.localized_header &&
                        Boolean(x.LZ.Get(a.localized_header, v)) &&
                        o.SetLocalization(
                          ve + t.unique_id + "_" + e.unique_id,
                          v,
                          a.localized_header[v],
                        ),
                        a.title &&
                          Boolean(x.LZ.Get(a.title, v)) &&
                          o.SetLocalization(
                            ge + t.unique_id + "_" + e.unique_id,
                            v,
                            a.title[v],
                          ),
                        a.description &&
                          Boolean(x.LZ.Get(a.description, v)) &&
                          o.SetLocalization(
                            Se + t.unique_id + "_" + e.unique_id,
                            v,
                            a.description[v],
                          ),
                        a.image &&
                          Boolean(x.LZ.Get(a.image, v)) &&
                          o.SetLocalization(
                            be + t.unique_id + "_" + e.unique_id,
                            v,
                            a.image[v],
                          ),
                        a.twitter_alt_text &&
                          Boolean(x.LZ.Get(a.twitter_alt_text, v)) &&
                          o.SetLocalization(
                            fe + t.unique_id + "_" + e.unique_id,
                            v,
                            a.twitter_alt_text[v],
                          );
                    });
              }
            });
        }
        return o;
      }
      function xe(e, t, a) {
        let n = new Array();
        const l = t.GetSortedTokenList();
        return (
          (0, B.z)(() => {
            a.forEach((a) => {
              let i = !1;
              l.forEach((n) => {
                var l;
                const o = t.GetLocalization(n, a) || "";
                if (
                  (n === z &&
                    (o || e.BHasLanguageTitle(a)) &&
                    e.SetName(a, o) &&
                    (i = !0),
                  n === Z &&
                    (o || e.BHasLanguageDescription(a)) &&
                    e.SetDescription(a, o) &&
                    (i = !0),
                  n === V &&
                    (o || e.BHasLanguageSubTitle(a)) &&
                    e.SetSubTitle(a, o) &&
                    (i = !0),
                  n === U &&
                    (o || e.BHasLanguageSummary(a)) &&
                    e.SetSummary(a, o) &&
                    (i = !0),
                  n === re)
                ) {
                  const t = e.GetEventModel().jsondata;
                  if (
                    o ||
                    (t.localized_broadcast_title &&
                      Boolean(x.LZ.Get(t.localized_broadcast_title, a)))
                  ) {
                    x.LZ.Get(t.localized_broadcast_title, a) !== o &&
                      ((t.localized_broadcast_title = x.LZ.Set(
                        t.localized_broadcast_title || [],
                        a,
                        o,
                      )),
                      e.SetDirty(H.jB.jsondata_sales),
                      (i = !0));
                  }
                }
                if (e.BHasEmailEnabled()) {
                  let t = e.GetEmailSettings();
                  if (I.JA.IS_VALVE_GROUP && n === $) {
                    let t = new N.F0(e);
                    (o || t.BHasLocalizedSubject(a)) &&
                      t.SetLocalizedSubject(a, o) &&
                      (i = !0);
                  }
                  t.sections.forEach((t, l) => {
                    let r = new N.bb(t, e);
                    r.BHasHeadline() &&
                      n === q + l &&
                      (o || r.BHasHeadlineInLanguage(a)) &&
                      r.SetHeadline(o, a) &&
                      (i = !0),
                      r.BHasBody() &&
                        n === W + l &&
                        (o || r.BHasBodyInLanguage(a)) &&
                        r.SetBody(o, a) &&
                        (i = !0);
                  });
                }
                if (e.BHasSaleEnabled()) {
                  const r = e.GetEventModel().jsondata;
                  (null === (l = null == r ? void 0 : r.sale_presenters) ||
                  void 0 === l
                    ? void 0
                    : l.length) &&
                    r.sale_presenters.forEach((l) => {
                      if (n === De + l.unique_id) {
                        (o ||
                          Boolean(x.LZ.Get(l.localized_presenter_name, a))) &&
                          x.LZ.Get(l.localized_presenter_name, a) != o &&
                          ((l.localized_presenter_name = x.LZ.Set(
                            l.localized_presenter_name || [],
                            a,
                            o,
                          )),
                          e.SetDirty(H.jB.jsondata_sales),
                          (i = !0));
                        const n = l.localized_presenter_name[a];
                        t.SetLocalization(De + l.unique_id, a, n);
                      }
                    }),
                    e
                      .GetSaleSections()
                      .filter((e) => !e.disable_localization)
                      .forEach((t) => {
                        var l, r, s, c, d, m, u, _, p, E, h, v, g, S, b;
                        const f = e.GetSaleSectionIndexByID(t.unique_id);
                        if (
                          ((n !== J + f && n !== K + t.unique_id) ||
                            ((o || e.BHasSaleSectionLabelLocalization(a, f)) &&
                              e.SetSaleSectionLabelLocalization(a, f, o) &&
                              (i = !0)),
                          n === Q + t.unique_id &&
                            (o ||
                              e.BHasSaleSectionSubtitleLocalization(a, f)) &&
                            e.SetSaleSectionSubtitleLocalization(a, f, o) &&
                            (i = !0),
                          n === oe + t.unique_id &&
                            (o || e.BHasSaleSectionDescriptionBBCode(a, f)) &&
                            e.SetSaleSectionDescriptionBBCode(a, f, o) &&
                            (i = !0),
                          "tabs" === t.section_type && t.tabs)
                        )
                          for (const l of t.tabs)
                            n === ee + t.unique_id + "_" + l.unique_id &&
                              (o || e.BHasSaleSectionTabName(a, l)) &&
                              e.SetSaleSectionTabName(a, l, o) &&
                              (i = !0);
                        if (
                          (e.BHasSaleSectionTextLocalization(f) &&
                            n === Y + t.unique_id &&
                            (o ||
                              e.BHasSaleSectionTextLocalizationForLang(a, f)) &&
                            e.SetSaleSectionTextLocalization(a, f, o) &&
                            (i = !0),
                          t.enable_faceted_browsing &&
                            t.facets.forEach((l) => {
                              n === te + t.unique_id + "_" + l.unique_id &&
                                (o || e.BHasSaleSectionFacetName(a, l)) &&
                                e.SetSaleSectionFacetName(a, l, o) &&
                                (i = !0),
                                l.facetValues.forEach((r) => {
                                  n ===
                                    ae +
                                      t.unique_id +
                                      "_" +
                                      l.unique_id +
                                      "_" +
                                      r.unique_id &&
                                    (o ||
                                      e.BHasSaleSectionFacetValueName(a, r)) &&
                                    e.SetSaleSectionFacetValueName(a, r, o) &&
                                    (i = !0),
                                    n ===
                                      ne +
                                        t.unique_id +
                                        "_" +
                                        l.unique_id +
                                        "_" +
                                        r.unique_id &&
                                      (o ||
                                        e.BHasSaleSectionFacetValueSubtitle(
                                          a,
                                          r,
                                        )) &&
                                      e.SetSaleSectionFacetValueSubtitle(
                                        a,
                                        r,
                                        o,
                                      ) &&
                                      (i = !0);
                                });
                            }),
                          "vo_internal" == t.section_type &&
                            "reservation_widget" ==
                              (null === (l = t.internal_section_data) ||
                              void 0 === l
                                ? void 0
                                : l.internal_type) &&
                            (null ===
                              (r =
                                t.internal_section_data.reservation_options) ||
                            void 0 === r
                              ? void 0
                              : r.length) > 0 &&
                            t.internal_section_data.reservation_options.forEach(
                              (l) => {
                                if (
                                  n === le + t.unique_id + "_" + l.unique_id &&
                                  (o ||
                                    (l.localized_reservation_desc &&
                                      Boolean(
                                        x.LZ.Get(
                                          l.localized_reservation_desc,
                                          a,
                                        ),
                                      )))
                                ) {
                                  x.LZ.Get(l.localized_reservation_desc, a) !==
                                    o &&
                                    ((l.localized_reservation_desc = x.LZ.Set(
                                      l.localized_reservation_desc || [],
                                      a,
                                      o,
                                    )),
                                    e.SetDirty(H.jB.jsondata_sales),
                                    (i = !0));
                                }
                              },
                            ),
                          "vo_internal" == t.section_type &&
                            "while_supplies_last" ==
                              (null === (s = t.internal_section_data) ||
                              void 0 === s
                                ? void 0
                                : s.internal_type) &&
                            (null ===
                              (c =
                                t.internal_section_data
                                  .while_supplies_last_option) || void 0 === c
                              ? void 0
                              : c.length) > 0 &&
                            t.internal_section_data.while_supplies_last_option.forEach(
                              (l) => {
                                if (
                                  n === ie + t.unique_id + "_" + l.unique_id &&
                                  (o ||
                                    (l.localized_supply_desc &&
                                      Boolean(
                                        x.LZ.Get(l.localized_supply_desc, a),
                                      )))
                                ) {
                                  x.LZ.Get(l.localized_supply_desc, a) !== o &&
                                    ((l.localized_supply_desc = x.LZ.Set(
                                      l.localized_supply_desc || [],
                                      a,
                                      o,
                                    )),
                                    e.SetDirty(H.jB.jsondata_sales),
                                    (i = !0));
                                }
                              },
                            ),
                          (null ===
                            (m =
                              null === (d = t.quiz) || void 0 === d
                                ? void 0
                                : d.questions) || void 0 === m
                            ? void 0
                            : m.length) > 0 &&
                            (null === (u = t.quiz) ||
                              void 0 === u ||
                              u.questions.forEach((l) => {
                                var r;
                                if (
                                  n ===
                                  se + t.unique_id + "_" + l.unique_id
                                ) {
                                  if (
                                    o ||
                                    (l.localized_question &&
                                      Boolean(
                                        x.LZ.Get(l.localized_question, a),
                                      ))
                                  ) {
                                    x.LZ.Get(l.localized_question, a) !== o &&
                                      ((l.localized_question = x.LZ.Set(
                                        l.localized_question || [],
                                        a,
                                        o,
                                      )),
                                      e.SetDirty(H.jB.jsondata_sales),
                                      (i = !0));
                                  }
                                } else
                                  (null === (r = l.answers) || void 0 === r
                                    ? void 0
                                    : r.length) > 0 &&
                                    l.answers.forEach((l) => {
                                      if (
                                        n ===
                                          ce +
                                            t.unique_id +
                                            "_" +
                                            l.unique_id &&
                                        (o ||
                                          (l.localized_answer &&
                                            Boolean(
                                              x.LZ.Get(l.localized_answer, a),
                                            )))
                                      ) {
                                        x.LZ.Get(l.localized_answer, a) !== o &&
                                          ((l.localized_answer = x.LZ.Set(
                                            l.localized_answer || [],
                                            a,
                                            o,
                                          )),
                                          e.SetDirty(H.jB.jsondata_sales),
                                          (i = !0));
                                      }
                                    });
                              })),
                          (null ===
                            (p =
                              null === (_ = t.quest) || void 0 === _
                                ? void 0
                                : _.door_info) || void 0 === p
                            ? void 0
                            : p.length) > 0 &&
                            (null === (E = t.quest) ||
                              void 0 === E ||
                              E.door_info.forEach((l) => {
                                if (
                                  n ===
                                  pe + t.unique_id + "_" + l.unique_id
                                ) {
                                  if (
                                    o ||
                                    (l.localized_closed_door_description &&
                                      Boolean(
                                        x.LZ.Get(
                                          l.localized_closed_door_description,
                                          a,
                                        ),
                                      ))
                                  ) {
                                    x.LZ.Get(
                                      l.localized_closed_door_description,
                                      a,
                                    ) !== o &&
                                      ((l.localized_closed_door_description =
                                        x.LZ.Set(
                                          l.localized_closed_door_description ||
                                            [],
                                          a,
                                          o,
                                        )),
                                      e.SetDirty(H.jB.jsondata_sales),
                                      (i = !0));
                                  }
                                } else if (
                                  n === Ee + t.unique_id + "_" + l.unique_id &&
                                  (o ||
                                    (l.localized_open_door_description &&
                                      Boolean(
                                        x.LZ.Get(
                                          l.localized_open_door_description,
                                          a,
                                        ),
                                      )))
                                ) {
                                  x.LZ.Get(
                                    l.localized_open_door_description,
                                    a,
                                  ) !== o &&
                                    ((l.localized_open_door_description =
                                      x.LZ.Set(
                                        l.localized_open_door_description || [],
                                        a,
                                        o,
                                      )),
                                    e.SetDirty(H.jB.jsondata_sales),
                                    (i = !0));
                                }
                              })),
                          (null ===
                            (v =
                              null === (h = t.rewards) || void 0 === h
                                ? void 0
                                : h.reward_items) || void 0 === v
                            ? void 0
                            : v.length) > 0 &&
                            t.rewards.reward_items.forEach((l) => {
                              if (
                                n ===
                                  Ce +
                                    t.unique_id +
                                    "_" +
                                    l.virtual_item_reward_def_id &&
                                (o ||
                                  (l.localized_reward_description &&
                                    Boolean(
                                      x.LZ.Get(
                                        l.localized_reward_description,
                                        a,
                                      ),
                                    )))
                              ) {
                                x.LZ.Get(l.localized_reward_description, a) !==
                                  o &&
                                  ((l.localized_reward_description = x.LZ.Set(
                                    l.localized_reward_description || [],
                                    a,
                                    o,
                                  )),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                            }),
                          (null ===
                            (S =
                              null === (g = t.claim_item_section_data) ||
                              void 0 === g
                                ? void 0
                                : g.localized_claim_button) || void 0 === S
                            ? void 0
                            : S.length) > 0 &&
                            n === ye + t.unique_id &&
                            (o ||
                              (t.claim_item_section_data
                                .localized_claim_button &&
                                Boolean(
                                  x.LZ.Get(
                                    t.claim_item_section_data
                                      .localized_claim_button,
                                    a,
                                  ),
                                ))))
                        ) {
                          x.LZ.Get(
                            t.claim_item_section_data.localized_claim_button,
                            a,
                          ) !== o &&
                            ((t.claim_item_section_data.localized_claim_button =
                              x.LZ.Set(
                                t.claim_item_section_data
                                  .localized_claim_button || [],
                                a,
                                o,
                              )),
                            e.SetDirty(H.jB.jsondata_sales),
                            (i = !0));
                        }
                        if (
                          "badge_progress" == t.section_type &&
                          t.badge_progress
                        ) {
                          const l = t.badge_progress;
                          if (
                            n === de + t.unique_id &&
                            (o ||
                              (l.localized_name &&
                                Boolean(x.LZ.Get(l.localized_name, a))))
                          ) {
                            x.LZ.Get(l.localized_name, a) !== o &&
                              ((l.localized_name = x.LZ.Set(
                                l.localized_name || [],
                                a,
                                o,
                              )),
                              e.SetDirty(H.jB.jsondata_sales),
                              (i = !0));
                          }
                          if (
                            n === me + t.unique_id &&
                            (o ||
                              (l.localized_initial_description &&
                                Boolean(
                                  x.LZ.Get(l.localized_initial_description, a),
                                )))
                          ) {
                            x.LZ.Get(l.localized_initial_description, a) !==
                              o &&
                              ((l.localized_initial_description = x.LZ.Set(
                                l.localized_initial_description || [],
                                a,
                                o,
                              )),
                              e.SetDirty(H.jB.jsondata_sales),
                              (i = !0));
                          }
                          if (
                            n === ue + t.unique_id &&
                            (o ||
                              (l.localized_progress_description &&
                                Boolean(
                                  x.LZ.Get(l.localized_progress_description, a),
                                )))
                          ) {
                            x.LZ.Get(l.localized_progress_description, a) !==
                              o &&
                              ((l.localized_progress_description = x.LZ.Set(
                                l.localized_progress_description || [],
                                a,
                                o,
                              )),
                              e.SetDirty(H.jB.jsondata_sales),
                              (i = !0));
                          }
                          if (
                            n === _e + t.unique_id &&
                            (o ||
                              (l.localized_maxtier_description &&
                                Boolean(
                                  x.LZ.Get(l.localized_maxtier_description, a),
                                )))
                          ) {
                            x.LZ.Get(l.localized_maxtier_description, a) !==
                              o &&
                              ((l.localized_maxtier_description = x.LZ.Set(
                                l.localized_maxtier_description || [],
                                a,
                                o,
                              )),
                              e.SetDirty(H.jB.jsondata_sales),
                              (i = !0));
                          }
                        }
                        if (
                          "discoveryqueue" == t.section_type &&
                          n === he + t.unique_id &&
                          (o ||
                            (t.discovery_queue_localized_desc &&
                              Boolean(
                                x.LZ.Get(t.discovery_queue_localized_desc, a),
                              )))
                        ) {
                          x.LZ.Get(t.discovery_queue_localized_desc, a) !== o &&
                            ((t.discovery_queue_localized_desc = x.LZ.Set(
                              t.discovery_queue_localized_desc || [],
                              a,
                              o,
                            )),
                            e.SetDirty(H.jB.jsondata_sales),
                            (i = !0));
                        }
                        "social_share" == t.section_type &&
                          (null === (b = t.social_share.content_options) ||
                            void 0 === b ||
                            b.forEach((l) => {
                              const r = l.localized_option_fields;
                              if (
                                n === ve + t.unique_id + "_" + l.unique_id &&
                                (o ||
                                  (r.localized_header &&
                                    Boolean(x.LZ.Get(r.localized_header, a))))
                              ) {
                                x.LZ.Get(r.localized_header, a) !== o &&
                                  ((r.localized_header = x.LZ.Set(
                                    r.localized_header || [],
                                    a,
                                    o,
                                  )),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                              if (
                                n === ge + t.unique_id + "_" + l.unique_id &&
                                (o ||
                                  (r.title && Boolean(x.LZ.Get(r.title, a))))
                              ) {
                                x.LZ.Get(r.title, a) !== o &&
                                  ((r.title = x.LZ.Set(r.title || [], a, o)),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                              if (
                                n === Se + t.unique_id + "_" + l.unique_id &&
                                (o ||
                                  (r.description &&
                                    Boolean(x.LZ.Get(r.description, a))))
                              ) {
                                x.LZ.Get(r.description, a) !== o &&
                                  ((r.description = x.LZ.Set(
                                    r.description || [],
                                    a,
                                    o,
                                  )),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                              if (
                                n === be + t.unique_id + "_" + l.unique_id &&
                                (o ||
                                  (r.image && Boolean(x.LZ.Get(r.image, a))))
                              ) {
                                x.LZ.Get(r.image, a) !== o &&
                                  ((r.image = x.LZ.Set(r.image || [], a, o)),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                              if (
                                n === fe + t.unique_id + "_" + l.unique_id &&
                                (o ||
                                  (r.twitter_alt_text &&
                                    Boolean(x.LZ.Get(r.twitter_alt_text, a))))
                              ) {
                                x.LZ.Get(r.twitter_alt_text, a) !== o &&
                                  ((r.twitter_alt_text = x.LZ.Set(
                                    r.twitter_alt_text || [],
                                    a,
                                    o,
                                  )),
                                  e.SetDirty(H.jB.jsondata_sales),
                                  (i = !0));
                              }
                            }));
                      });
                }
              }),
                i && n.push(a);
            });
          }),
          n
        );
      }
      function Ge(e) {
        return d.createElement(
          "div",
          { className: (0, T.Z)(g.FlexRowContainer) },
          d.createElement(we, { editModel: e.editModel }),
        );
      }
      const we = (e) =>
        d.createElement(
          d.Fragment,
          null,
          d.createElement(
            P.HP,
            {
              className: (0, T.Z)(g.EditPreviewButton),
              toolTipContent: (0, x.Xx)("#EventEditor_Loc_Export_Desc0"),
            },
            d.createElement(
              "a",
              {
                onClick: (t) => {
                  t.preventDefault(),
                    (0, C.AM)(
                      d.createElement(Ie, { editModel: e.editModel }),
                      (0, j.RA)(t),
                    );
                },
              },
              (0, x.Xx)("#EventEditor_Loc_Export_Short"),
            ),
          ),
          d.createElement(X.Q0, {
            strToolTip: (0, x.Xx)("#EventEditor_Loc_Import_ttip"),
            strLabel: (0, x.Xx)("#EventEditor_Loc_Import_Short"),
            fnOnImportLocData: (t, a) => xe(e.editModel, t, a),
          }),
        );
      let Ie = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bShowCSV: !0,
              bExportEventBody: !0,
              bExportEmail: this.props.editModel.BHasEmailEnabled(),
              bExportSale: this.props.editModel.BHasSaleEnabled(),
            });
        }
        GetLocalizationFilePrefix() {
          const { editModel: e } = this.props;
          let t = e.GetName(0);
          return (t && "" != t.trim()) || (t = "event"), t;
        }
        GetLocalizationModel() {
          return Te(
            this.props.editModel,
            this.state.bExportEventBody,
            this.state.bExportEmail,
            this.state.bExportSale,
          );
        }
        OnExportTypeChange(e) {
          this.setState({ bShowCSV: "csv" == e });
        }
        render() {
          const { closeModal: e, editModel: t } = this.props,
            a = O.cb.Get().GetPartnerEventPermissions(t.GetClanSteamID());
          return d.createElement(
            f.RG,
            { onCancel: e, closeModal: e },
            d.createElement(R.h4, null, (0, x.Xx)("#EventEditor_Loc_Export")),
            d.createElement(
              R.uT,
              null,
              d.createElement(
                R.Ac,
                null,
                d.createElement(
                  "div",
                  { className: (0, T.Z)(g.FlexColumnContainer) },
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#EventEditor_Loc_Export_Desc0"),
                  ),
                  d.createElement(
                    "div",
                    { className: (0, T.Z)(g.FlexRowContainer, g.RadioOption) },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportCSVOption",
                      value: "csv",
                      checked: this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("csv"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportCSVOption" },
                      d.createElement(
                        "span",
                        null,
                        (0, x.Xx)("#EventEditor_Loc_Export_CSV"),
                      ),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: (0, T.Z)(g.FlexRowContainer, g.RadioOption) },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportXMLOption",
                      value: "xml",
                      checked: !this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("xml"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportXMLOption" },
                      d.createElement(
                        "span",
                        null,
                        (0, x.Xx)("#EventEditor_Loc_Export_XML"),
                      ),
                    ),
                  ),
                  Boolean(
                    a.support_user &&
                      (t.BHasSaleEnabled() || t.BHasEmailEnabled),
                  ) &&
                    d.createElement(
                      "div",
                      { className: g.ValveOnlyBackground },
                      d.createElement(
                        "p",
                        null,
                        "(VO) Identify which sections to export",
                      ),
                      d.createElement(R.ji, {
                        label: "Export Event Body",
                        onChange: (e) => this.setState({ bExportEventBody: e }),
                        checked: this.state.bExportEventBody,
                      }),
                      d.createElement(R.ji, {
                        disabled: !t.BHasEmailEnabled(),
                        label: "Export Email",
                        onChange: (e) => this.setState({ bExportEmail: e }),
                        checked: this.state.bExportEmail,
                      }),
                      d.createElement(R.ji, {
                        disabled: !t.BHasSaleEnabled(),
                        label: "Export Sales",
                        onChange: (e) => this.setState({ bExportSale: e }),
                        checked: this.state.bExportSale,
                      }),
                    ),
                  this.state.bShowCSV
                    ? d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          (0, x.Xx)("#EventEditor_Loc_Export_Desc"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, x.Xx)("#EventEditor_Loc_Export_Desc2"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, x.Xx)("#EventEditor_Loc_Export_Desc3"),
                        ),
                      )
                    : d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          (0, x.Xx)("#EventEditor_Loc_Export_XMLDesc"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, x.Xx)("#EventEditor_Loc_Export_XMLDesc2"),
                        ),
                      ),
                ),
              ),
              d.createElement(
                R.$_,
                null,
                d.createElement(X.Gp, {
                  fnGetLocData: this.GetLocalizationModel,
                  bShowCSV: this.state.bShowCSV,
                  bShowXML: !this.state.bShowCSV,
                  strFileNamePrefix: this.GetLocalizationFilePrefix(),
                  lang: this.props.editModel.GetCurEditLanguage(),
                  closeModal: this.props.closeModal,
                }),
                d.createElement(
                  R.zx,
                  { onClick: e },
                  (0, x.Xx)("#Button_Cancel"),
                ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Ie.prototype, "GetLocalizationModel", null),
        (0, o.gn)([w.ak], Ie.prototype, "OnExportTypeChange", null),
        (Ie = (0, o.gn)([c.Pi], Ie));
      var Ae = a(1323);
      function ke(e) {
        const { eventModel: t, fnOnGotoPage: a } = e;
        return t.bOldAnnouncement
          ? null
          : d.createElement(
              "div",
              {
                className: (0, T.Z)(Ae.ManageButton, Ae.Clone),
                onClick: (e) =>
                  (function (e, t, a) {
                    t.stopPropagation(),
                      l.wk
                        .LoadEditorModel(e.clanSteamID, e.GID)
                        .then((e) => {
                          const t = Te(e, !0, !0, !0),
                            n = t.GetLanguagesWithTokens();
                          n.length > 1
                            ? (n.sort((e, t) =>
                                (0, x.Xx)(
                                  "#Language_" + (0, u.j_)(e),
                                ).localeCompare(
                                  (0, x.Xx)("#Language_" + (0, u.j_)(t)),
                                ),
                              ),
                              (0, C.AM)(
                                d.createElement(Ne, {
                                  langs: n,
                                  locData: t,
                                  fnOnGotoPage: a,
                                }),
                                window,
                              ))
                            : Me(a, t);
                        })
                        .catch((e) => {
                          let t = (0, G.l)(e);
                          (0, C.AM)(
                            d.createElement(f.JX, {
                              strTitle: (0, x.Xx)("#EventEditor_CloneError"),
                              bAlertDialog: !0,
                              bDestructiveWarning: !0,
                              strDescription: (0, x.Xx)(
                                "#EventEditor_CloneError_Desc",
                                t.strErrorMsg,
                              ),
                            }),
                            window,
                            { strTitle: (0, x.Xx)("#EventEditor_CloneError") },
                          );
                        });
                  })(t, e, a),
              },
              (0, x.Xx)("#Button_Clone"),
            );
      }
      function Me(e, t, a) {
        const n = l.wk.CreateClone();
        if (a && a.length > 0) {
          const e = t.GetLanguagesWithTokens();
          t.ClearLanguagesTokens(a),
            (n.GetEventModel().jsondata.bSaleEnabled = !0),
            xe(n, t, e),
            (n.GetEventModel().jsondata.bSaleEnabled = !1);
        }
        e(null, "clone");
      }
      function Ne(e) {
        const { langs: t, locData: a, closeModal: n, fnOnGotoPage: l } = e,
          i = (0, u.jM)(I.De.LANGUAGE),
          [o, r] = d.useState(new Set(t.filter((e) => e != i)));
        return d.createElement(
          f.uH,
          {
            strTitle: (0, x.Xx)("#Button_Clone"),
            onOK: () => Me(l, a, Array.from(o)),
            strDescription: (0, x.Xx)("#EventEditor_Clone_MultiLanguages"),
            closeModal: n,
          },
          d.createElement(
            "div",
            { className: Ae.CloneLangAlert },
            (0, x.Xx)("#EventEditor_Clone_Alert"),
          ),
          d.createElement(
            "div",
            { className: Ae.CloneLangListCtn },
            t.map((e) =>
              d.createElement(R.ji, {
                key: e,
                className: Ae.CloneCheckBox,
                onChange: (t) => {
                  const a = new Set(o);
                  t ? a.delete(e) : a.add(e), r(a);
                },
                label: (0, x.Xx)("#Language_" + (0, u.j_)(e)),
                checked: !o.has(e),
              }),
            ),
          ),
          d.createElement(
            R.zx,
            { onClick: () => r(new Set()) },
            (0, x.Xx)("#EventEditor_Clone_SelectAll"),
          ),
          d.createElement(
            R.zx,
            { onClick: () => r(new Set(t)) },
            (0, x.Xx)("#EventEditor_Clone_DeSelectAll"),
          ),
        );
      }
      var Be = a(45118),
        Le = a(8285),
        Oe = a(64936),
        Re = a(34310),
        Xe = a(10162),
        Pe = a(4151),
        je = a(81913),
        Fe = a(31659),
        He = a(24827),
        ze = a(83421),
        Ve = a(80445),
        Ue = a(29292);
      var Ze = a(77862),
        qe = a.n(Ze);
      function We(e) {
        const { eventModel: t, bAllowUpdate: a } = e,
          [n, l] = (0, Ue.ai)(t);
        if (
          !(function (e) {
            switch (e) {
              case 12:
              case 13:
              case 14:
                return !0;
            }
            return !1;
          })(t.type) &&
          !n
        )
          return null;
        let i = d.createElement(
          "span",
          { className: (0, T.Z)(qe().BuildDisplay, qe().BuildUnlinked) },
          (0, x.Xx)("#EventEditor_AssociateBuildBlank"),
        );
        if (n) {
          const e = d.createElement(
            "a",
            {
              className: (0, T.Z)(qe().BuildIDLink),
              href: `${I.De.PARTNER_BASE_URL}apps/builddetails/${t.appid}/${n}`,
              onClick: (e) => e.stopPropagation(),
            },
            n,
          );
          i = l
            ? d.createElement(
                "span",
                {
                  className: (0, T.Z)(
                    qe().BuildDisplay,
                    qe().BuildLinkedBranch,
                  ),
                },
                (0, x.kQ)("#EventEditor_AssociatedBuild", e, l),
              )
            : d.createElement(
                "span",
                {
                  className: (0, T.Z)(
                    qe().BuildDisplay,
                    qe().BuildLinkedDefault,
                  ),
                },
                (0, x.kQ)("#EventEditor_AssociatedBuild_Default", e),
              );
        } else if (!a) return null;
        return d.createElement(
          "div",
          { className: qe().AssociatedBuildBody },
          e.children,
          i,
          d.createElement(
            "span",
            {
              "data-tooltip-text": (0, x.Xx)(
                "#EventEditor_AssociateBuild_ttip",
              ),
              className: S().tooltip_Ctn,
            },
            "?",
          ),
        );
      }
      const Je = (0, c.Pi)((e) => {
        const { editModel: t } = e,
          a = t.GetEventModel();
        return d.createElement(
          We,
          { eventModel: a, bAllowUpdate: !0 },
          d.createElement(
            R.zx,
            {
              onClick: (t) =>
                (0, C.AM)(
                  d.createElement(Qe, { editModel: e.editModel }),
                  (0, j.RA)(t),
                ),
            },
            (0, x.Xx)("#EventEditor_AssociateBuild"),
          ),
        );
      });
      function Ke(e) {
        const t = new Date(1e3 * e.date).toLocaleDateString();
        return e.branch
          ? (0, x.Xx)(
              "#EventEditor_AssociateBuildBranch",
              e.branch,
              e.build_id,
              t,
            )
          : (0, x.Xx)(
              "#EventEditor_AssociateBuildDefaultBranch",
              e.build_id,
              t,
            );
      }
      const Qe = (e) => {
        const { editModel: t, closeModal: a } = e,
          n = (function (e) {
            const [t, a] = d.useState(null);
            return (
              d.useEffect(() => {
                if ((a(null), !e)) return;
                const t = s().CancelToken.source(),
                  n = I.De.COMMUNITY_BASE_URL + `ogg/${e}/ajaxgetappbranches`;
                return (
                  s()
                    .get(n, { withCredentials: !0, cancelToken: t.token })
                    .then((e) => {
                      var n;
                      if (!t.token.reason) {
                        const t =
                          1 ==
                          (null === (n = null == e ? void 0 : e.data) ||
                          void 0 === n
                            ? void 0
                            : n.success);
                        a(
                          t
                            ? e.data.branches.sort((e, t) => t.date - e.date)
                            : [],
                        );
                      }
                    })
                    .catch((e) => {
                      if (!t.token.reason) {
                        const t = (0, G.l)(e);
                        console.error("useBranchInfo: " + t.strErrorMsg, t);
                      }
                    }),
                  () => t.cancel("useBranchInfo: unmounting")
                );
              }, [e]),
              t
            );
          })(t.GetEventModel().appid),
          [l, i] = d.useState(void 0),
          [o, r, c] = (function (e) {
            const [t, a] = (0, Ue.ai)(e.GetEventModel());
            return [
              t,
              a,
              (n, l) => {
                (t == n && a == l) ||
                  ((e.GetEventModel().m_nBuildID = n),
                  (e.GetEventModel().m_strBuildBranch = l),
                  e.SetDirty(H.jB.description));
              },
            ];
          })(t);
        if ((null == n ? void 0 : n.length) && void 0 === l) {
          const e = n.find((e) => "" == e.branch);
          e && i(e);
        }
        const m = Boolean(n),
          u = new Array();
        return (
          u.push({
            label: (0, x.Xx)("#EventEditor_AssociateBuildClear"),
            data: null,
          }),
          null == n ||
            n.forEach((e) => {
              u.push({ label: Ke(e), data: e });
            }),
          d.createElement(
            Xe.SV,
            null,
            d.createElement(
              C.e1,
              { onEscKeypress: a },
              d.createElement(
                R.VY,
                null,
                d.createElement(
                  R.h4,
                  null,
                  (0, x.Xx)("#EventEditor_AssociateBuildDialog"),
                ),
                d.createElement(
                  R.uT,
                  null,
                  d.createElement(
                    R.Ac,
                    null,
                    (0, x.Xx)("#EventEditor_AssociateBuildDialogDesc"),
                  ),
                  m &&
                    d.createElement(R.ry, {
                      rgOptions: u,
                      selectedOption: l,
                      onChange: (e) => i(e.data),
                    }),
                  !m && d.createElement(y.V, null),
                ),
                d.createElement(
                  R.$_,
                  null,
                  d.createElement(R.o9, {
                    onCancel: a,
                    bOKDisabled: !m,
                    onOK: () => {
                      c(
                        null == l ? void 0 : l.build_id,
                        null == l ? void 0 : l.branch,
                      ),
                        a();
                    },
                  }),
                ),
              ),
            ),
          )
        );
      };
      let Ye = class extends d.Component {
        constructor(e) {
          super(e),
            (this.bRedirectUsed = !1),
            (this.state = { redirectTarget: null, bDeleting: !1 });
        }
        OnFallbackClick(e) {
          e.target instanceof HTMLButtonElement ||
            e.target instanceof HTMLAnchorElement ||
            this.OnGotoPage(e, "edit");
        }
        OnGotoPage(e, t) {
          (this.bRedirectUsed = !1),
            this.setState({ redirectTarget: t }),
            e && e.stopPropagation();
        }
        OnIgnoreFallbackClick(e) {
          e.stopPropagation();
        }
        render() {
          var e;
          const {
            eventModel: t,
            appid_or_vanity_str: a,
            bShowGameName: l,
            bShowEventMetaDataSizes: i,
          } = this.props;
          let o = t.GID,
            r = t.bOldAnnouncement;
          if (this.state.redirectTarget && !this.bRedirectUsed)
            switch (((this.bRedirectUsed = !0), this.state.redirectTarget)) {
              case "clone":
                return d.createElement(Le.l_, {
                  push: !0,
                  to: n.rQ.Edit(a, ""),
                });
              case "edit":
                return (0, je.Ij)(
                  this.props.eventModel,
                  je.Ue.k_eCommunityEdit,
                );
              case "view":
                return t.BIsVisibleEvent()
                  ? (0, je.Ij)(this.props.eventModel, je.Ue.k_eView)
                  : (0, je.Ij)(
                      this.props.eventModel,
                      je.Ue.k_eCommunityPreview,
                    );
              default:
                console.log(
                  "EventDisplayTile - Unexpected Case - " +
                    this.state.redirectTarget,
                );
            }
          let s = (0, u.jM)(I.De.LANGUAGE);
          t.BIsLanguageValidForRealms(s) || (s = t.BInRealmGlobal() ? 0 : 29);
          let c,
            m,
            p = [t.GetImageURLWithFallback("capsule", s)],
            v = t.GetNameWithFallback(s),
            S = t.BHasSubTitle(s),
            b = t.BHasSaleEnabled(),
            f = t.visibility_state != _.ac.k_EEventStateUnpublished,
            C = t.visibility_state != _.ac.k_EEventStateVisible;
          if (
            (C &&
              f &&
              (c =
                t.visibilityStartTime == t.startTime
                  ? d.createElement(
                      "div",
                      { className: Ae.TileTextStartsIn },
                      (0, x.Xx)("#EventEditor_Status_WillBeVisible_EventStart"),
                    )
                  : d.createElement(
                      "div",
                      { className: Ae.TileTextStartsIn },
                      (0, x.kQ)(
                        "#EventEditor_Status_WillBeVisible_At",
                        d.createElement(He.H6, {
                          dateAndTime:
                            t.GetVisibilityStartTimeAndDateUnixSeconds(),
                          bSingleLine: !0,
                        }),
                      ),
                    )),
            !C && f)
          ) {
            let e = Oe.JW.GetTimeNowWithOverride();
            t.GetStartTimeAndDateUnixSeconds() > e
              ? (m = d.createElement(
                  "span",
                  { className: Ae.EventStateUpcoming },
                  (0, x.Xx)("#EventDisplay_Upcoming"),
                ))
              : (0, Ve.G1)(t.type) && t.GetEndTimeAndDateUnixSeconds() > e
                ? (m = d.createElement(
                    "span",
                    { className: Ae.EventStateActive },
                    (0, x.Xx)("#EventDisplay_Active"),
                  ))
                : t.GetStartTimeAndDateUnixSeconds() > e + 3600 &&
                  (m = d.createElement(
                    "span",
                    { className: Ae.EventStateRecent },
                    (0, x.Xx)("#EventDisplay_RecentlyActive"),
                  ));
          }
          l &&
            (v =
              ((null === (e = Re.Z.Get().GetApp(t.appid)) || void 0 === e
                ? void 0
                : e.GetName()) || "") +
              ": " +
              v);
          let y =
              t.BIsPartnerEvent() &&
              t.BIsVisibleEvent() &&
              h.h4.GetStatsFor(t.clanSteamID, o),
            D = E.sV.GetOGGClanInfo(t.appid),
            G = Boolean(
              r &&
                D &&
                D.is_ogg &&
                D.clanAccountID != t.announcementClanSteamID.GetAccountID(),
            );
          return d.createElement(
            Xe.SV,
            null,
            d.createElement(
              "div",
              {
                className: (0, T.Z)({
                  [Ae.TileContainer]: !0,
                  [Ae.TileAgeAppropriate]: true,
                  [Ae.TileAgeNotAppropriate]: !1,
                  [Ae.ShowEventMetaDataSizes]: i,
                }),
              },
              d.createElement(
                "div",
                {
                  className: Ae.TileImageCtn,
                  onClick: (e) => this.OnFallbackClick(e),
                },
                d.createElement(Fe.J, { className: Ae.TileImage, srcs: p }),
              ),
              d.createElement(
                "div",
                {
                  className: Ae.TileTextContainer,
                  onClick: (e) => this.OnFallbackClick(e),
                },
                d.createElement(
                  "div",
                  { className: Ae.TileDescriptionContainer },
                  d.createElement(
                    "div",
                    { style: { display: "flex" } },
                    d.createElement(
                      "div",
                      { className: Ae.TileTextAppName },
                      v,
                    ),
                    d.createElement(
                      "div",
                      { className: Ae.TileTextEventType },
                      t.GetCategoryAsString(),
                      b &&
                        d.createElement(
                          "span",
                          { className: Ae.TileHasSale },
                          " | ",
                          (0, x.Xx)("#EventEditor_Status_HasSale"),
                        ),
                    ),
                  ),
                  S && !1,
                  d.createElement(
                    "div",
                    { className: g.ContainerSpaceBetween },
                    d.createElement(
                      "div",
                      { className: Ae.TileTextStartsIn },
                      d.createElement(He.H6, {
                        dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                        bSingleLine: !0,
                      }),
                      m,
                      t.BHasTag("auto_rssfeed") &&
                        d.createElement(
                          d.Fragment,
                          null,
                          d.createElement("br", null),
                          d.createElement(
                            "a",
                            {
                              href:
                                I.De.STORE_BASE_URL +
                                "curator/" +
                                t.clanSteamID.GetAccountID() +
                                "/admin/manage_rss/",
                            },
                            " " + (0, x.Xx)("#EventEditor_Status_FromRSSFeed"),
                          ),
                        ),
                      d.createElement(We, { eventModel: t, bAllowUpdate: !1 }),
                    ),
                    Boolean(y) &&
                      d.createElement(
                        "div",
                        { className: Ae.TileStats },
                        (0, x.kQ)(
                          "#EventDashBoard_Summary_Tile_Impressions",
                          d.createElement(
                            "span",
                            null,
                            y.m_stats.total_showm.toLocaleString(),
                          ),
                        ),
                        d.createElement("br", null),
                        (0, x.kQ)(
                          "#EventDashBoard_Summary_Tile_Read",
                          d.createElement(
                            "span",
                            null,
                            y.m_stats.total_read.toLocaleString(),
                          ),
                        ),
                      ),
                  ),
                  c,
                  G
                    ? d.createElement(
                        "div",
                        {
                          className: Ae.TileButtonContainer,
                          onClick: (e) => this.OnIgnoreFallbackClick(e),
                        },
                        d.createElement(
                          "div",
                          null,
                          (0, x.Xx)("#EventEditor_DataFromConnectAnnouncement"),
                        ),
                        d.createElement(
                          je.JW,
                          {
                            className: (0, T.Z)(Ae.ManageButton, Ae.Edit),
                            eventModel: t,
                            route: je.Ue.k_eView,
                          },
                          (0, x.Xx)("#Button_ViewPage"),
                        ),
                      )
                    : d.createElement(
                        $e,
                        Object.assign(
                          { fnOnGotoPage: this.OnGotoPage },
                          this.props,
                        ),
                      ),
                  i &&
                    d.createElement(
                      ze.s,
                      { requireAdmin: !0, clanSteamID: t.clanSteamID },
                      d.createElement(tt, { eventModel: t }),
                    ),
                ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Ye.prototype, "OnFallbackClick", null),
        (0, o.gn)([w.ak], Ye.prototype, "OnGotoPage", null),
        (0, o.gn)([w.ak], Ye.prototype, "OnIgnoreFallbackClick", null),
        (Ye = (0, o.gn)([c.Pi], Ye));
      let $e = class extends d.Component {
        OnIgnoreFallbackClick(e) {
          e.stopPropagation();
        }
        OnPublishEvent(e) {
          e.stopPropagation();
          const { eventModel: t } = this.props;
          l.wk
            .LoadEditorModel(t.clanSteamID, t.GID)
            .then(() => {
              (0, C.AM)(
                d.createElement(Be.b, {
                  editModel: l.wk.GetEditModel(),
                  OnPublishSuccess: this.OnPublishSuccess,
                }),
                window,
              );
            })
            .catch((e) => {
              let t = (0, G.l)(e);
              (0, C.AM)(
                d.createElement(f.JX, {
                  strTitle: (0, x.Xx)("#EventEditor_PublishingError"),
                  bAlertDialog: !0,
                  bDestructiveWarning: !0,
                  strDescription: (0, x.Xx)(
                    "#EventEditor_PublishingError_Desc",
                    t.strErrorMsg,
                  ),
                }),
                window,
                { strTitle: (0, x.Xx)("#EventEditor_PublishingError") },
              );
            });
        }
        OnPublishSuccess() {
          this.setState({ redirectTarget: "view" });
        }
        StopPropagation(e) {
          e.stopPropagation();
        }
        OnDeleteClickAndVerify(e) {
          e.stopPropagation(),
            (0, C.AM)(
              d.createElement(Pe.n, {
                eventModel: this.props.eventModel,
                partnerEventStore: l.wk,
              }),
              (0, j.RA)(e),
            );
        }
        render() {
          const { eventModel: e, fnOnGotoPage: t } = this.props;
          let a = e.bOldAnnouncement,
            n = e.visibility_state != _.ac.k_EEventStateVisible,
            l = e.visibility_state != _.ac.k_EEventStateUnpublished;
          return d.createElement(
            "div",
            {
              className: Ae.TileButtonContainer,
              onClick: (e) => this.OnIgnoreFallbackClick(e),
            },
            !a &&
              d.createElement(
                je.JW,
                {
                  className: (0, T.Z)(Ae.ManageButton, Ae.Edit),
                  eventModel: e,
                  route: je.Ue.k_eCommunityEdit,
                  onClick: this.StopPropagation,
                },
                (0, x.Xx)("#Button_Edit"),
              ),
            a &&
              d.createElement(
                je.JW,
                {
                  className: (0, T.Z)(Ae.ManageButton, Ae.Edit),
                  "data-tooltip-text": (0, x.Xx)(
                    "#EventEditor_Button_MigrateAndEdit_Announcement_ttip",
                  ),
                  eventModel: e,
                  route: je.Ue.k_eCommunityMigrate,
                  onClick: this.StopPropagation,
                },
                (0, x.Xx)("#EventEditor_Button_MigrateAndEdit"),
              ),
            n &&
              d.createElement(
                je.JW,
                {
                  className: (0, T.Z)(Ae.ManageButton, Ae.View),
                  "data-tooltip-text": (0, x.Xx)(
                    "#EventEditor_Button_PreviewButton_ttip",
                  ),
                  eventModel: e,
                  route: je.Ue.k_eCommunityPreview,
                  onClick: this.StopPropagation,
                },
                (0, x.Xx)("#EventDisplay_Preview"),
              ),
            !n &&
              d.createElement(
                je.JW,
                {
                  className: (0, T.Z)(Ae.ManageButton, Ae.View),
                  eventModel: e,
                  route: je.Ue.k_eView,
                  onClick: this.StopPropagation,
                },
                (0, x.Xx)("#EventDisplay_View"),
              ),
            !l &&
              !a &&
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(Ae.ManageButton, Ae.Publish),
                  onClick: this.OnPublishEvent,
                },
                (0, x.Xx)("#EventDisplay_Publish"),
              ),
            d.createElement("div", { className: Ae.Spacer }, " "),
            d.createElement(ke, { eventModel: e, fnOnGotoPage: t }),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(Ae.ManageButton, Ae.Delete),
                "data-tooltip-text": (0, x.Xx)(
                  "#EventEditor_Button_DeleteButton_ttip",
                ),
                onClick: this.OnDeleteClickAndVerify,
              },
              (0, x.Xx)("#Button_Delete"),
            ),
          );
        }
      };
      function et(e, t) {
        if (!e || t <= 0) return [];
        const a = new Array();
        return (
          Object.keys(e).forEach((n) => {
            var l;
            const i = e[n],
              o =
                (null === (l = JSON.stringify(i)) || void 0 === l
                  ? void 0
                  : l.length) || 0;
            a.push({ key: n, size: o }),
              i &&
                "object" == typeof i &&
                o > 100 &&
                et(i, t - 1).forEach((e) => {
                  a.push({ key: n + ":" + e.key, size: e.size });
                });
          }),
          a
        );
      }
      (0, o.gn)([w.ak], $e.prototype, "OnIgnoreFallbackClick", null),
        (0, o.gn)([w.ak], $e.prototype, "OnPublishEvent", null),
        (0, o.gn)([w.ak], $e.prototype, "OnPublishSuccess", null),
        (0, o.gn)([w.ak], $e.prototype, "StopPropagation", null),
        (0, o.gn)([w.ak], $e.prototype, "OnDeleteClickAndVerify", null),
        ($e = (0, o.gn)([c.Pi], $e));
      const tt = (e) => {
        var t, a;
        const { eventModel: n } = e;
        if (!(null == n ? void 0 : n.jsondata)) return null;
        const l = et(n.jsondata, 3);
        l.sort((e, t) => t.size - e.size);
        return d.createElement(
          "div",
          { className: Ae.MetaDataCtn },
          d.createElement(
            "div",
            null,
            "Total Size: ",
            null ===
              (a =
                null === (t = JSON.stringify(n.jsondata)) || void 0 === t
                  ? void 0
                  : t.length) || void 0 === a
              ? void 0
              : a.toLocaleString(),
          ),
          l
            .slice(0, 10)
            .map((e) =>
              d.createElement(
                "div",
                { key: e.key },
                e.key,
                ": ",
                e.size.toLocaleString(),
              ),
            ),
        );
      };
      var at,
        nt = a(68085);
      !(function (e) {
        (e[(e.k_ModReviewed = 0)] = "k_ModReviewed"),
          (e[(e.k_ModUnreviewed = 1)] = "k_ModUnreviewed"),
          (e[(e.k_ChangeEventType = 2)] = "k_ChangeEventType"),
          (e[(e.k_UpdateSeasonTags = 3)] = "k_UpdateSeasonTags"),
          (e[(e.k_ModReReviewed = 4)] = "k_ModReReviewed"),
          (e[(e.k_ModRemovedFromSteamChina = 5)] =
            "k_ModRemovedFromSteamChina"),
          (e[(e.k_ModFlagAdultOnlyContent = 6)] = "k_ModFlagAdultOnlyContent"),
          (e[(e.k_ModRemoveAdultOnlyContent = 7)] =
            "k_ModRemoveAdultOnlyContent"),
          (e[(e.k_ModFlagHalloweenEvent = 8)] = "k_ModFlagHalloweenEvent"),
          (e[(e.k_ModRemoveHalloweenEvent = 9)] = "k_ModRemoveHalloweenEvent");
      })(at || (at = {}));
      const lt = "ModAct";
      class it {
        ToModString() {
          let e =
            lt +
            "_" +
            this.m_moderator +
            "_" +
            Math.floor(this.m_rtWhen) +
            "_" +
            this.m_action;
          switch (this.m_action) {
            case at.k_ChangeEventType:
              e += "_" + this.m_newEventType;
              break;
            case at.k_UpdateSeasonTags:
              e += "_" + this.m_newTagAdded;
          }
          return e;
        }
        FromString(e) {
          let t = e.split("_");
          if (!t || t[0] !== lt) return !1;
          switch (
            ((this.m_moderator = Number(t[1])),
            (this.m_rtWhen = Number(t[2])),
            (this.m_action = Number(t[3])),
            this.m_action)
          ) {
            case at.k_ChangeEventType:
              this.m_newEventType = Number(t[4]);
              break;
            case at.k_UpdateSeasonTags:
              this.m_newTagAdded = t.slice(4).join("_");
          }
          return !0;
        }
        SetActionChangeEvent(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = at.k_ChangeEventType),
            (this.m_newEventType = e),
            this
          );
        }
        SetReviewAction(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e ? at.k_ModReviewed : at.k_ModUnreviewed),
            this
          );
        }
        SetAdultOnlyContentAction(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e
              ? at.k_ModFlagAdultOnlyContent
              : at.k_ModRemoveAdultOnlyContent),
            this
          );
        }
        SetHalloweenEventTypeAction(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e
              ? at.k_ModFlagHalloweenEvent
              : at.k_ModRemoveHalloweenEvent),
            this
          );
        }
        SetReReviewAction(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e ? at.k_ModReReviewed : at.k_ModUnreviewed),
            this
          );
        }
        static IsAuditAction(e) {
          return e.startsWith(lt);
        }
        SetUpdateSeasonalTags(e) {
          return (
            (this.m_moderator = I.L7.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = at.k_UpdateSeasonTags),
            (this.m_newTagAdded = e),
            this
          );
        }
      }
      class ot {
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return ot.s_Singleton || (ot.s_Singleton = new ot()), ot.s_Singleton;
        }
        constructor() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array()),
            (0, B.rC)(this);
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        LoadPartnerEventForModerationIncremental(e, t = 30) {
          var a;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n =
              I.De.STORE_BASE_URL +
              "events_admin/ajaxgetmoderationspecificpartnerevents";
            let l = 0;
            if (
              null === (a = this.m_listEvents) || void 0 === a
                ? void 0
                : a.length
            ) {
              this.m_listEvents.forEach(
                (e) =>
                  (l = Math.max(
                    l,
                    Math.floor(Date.parse(e.last_modified_date) / 1e3),
                  )),
              );
              this.m_listEvents.filter(
                (e) => Math.floor(Date.parse(e.last_modified_date) / 1e3) == l,
              ).length >= t && l++;
            }
            const i = { start_time: l, count: t };
            try {
              const t = yield s().get(n, {
                params: i,
                withCredentials: !0,
                cancelToken: e ? e.token : void 0,
              });
              if (e && e.token.reason) return [];
              if (t && t.data) {
                let e = new Array();
                return (
                  (0, B.z)(() => {
                    t.data.docs.forEach((t) => {
                      this.m_mapEventGIDToSolrData.has(t.unique_id) ||
                        (e.push(t),
                        this.m_mapEventGIDToSolrData.set(t.unique_id, t),
                        this.m_listEvents.push(t));
                    });
                  }),
                  e
                );
              }
            } catch (e) {
              const t = (0, G.l)(e);
              console.error(
                "LoadPartnerEventForModerationIncremental failed:" +
                  t.strErrorMsg,
                t,
              );
            }
            return [];
          });
        }
        UpdateTagsOnPartnerEvent(e, t, a, n, l, i) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const o = I.De.STORE_BASE_URL + "events_admin/ajaxupdatetags";
            let r = n.join(",");
            i && (n.length > 0 && (r += ","), (r += i.ToModString()));
            const c = new FormData();
            c.append("sessionid", I.De.SESSIONID),
              c.append("clan_accountid", "" + t.GetAccountID()),
              c.append("gid_announcement", a),
              c.append("add_tags", r),
              c.append("remove_tags", l.join(","));
            return (yield s().post(o, c, {
              withCredentials: !0,
              cancelToken: e.token,
            })).data.tags;
          });
        }
        UpdatePartnerEventType(e, t, a, n) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const l = I.De.STORE_BASE_URL + "events_admin/ajaxupdateeventtype",
              i = new FormData();
            i.append("sessionid", I.De.SESSIONID),
              i.append("clan_accountid", "" + t.GetAccountID()),
              i.append("gid_event", a),
              i.append("new_event_type", "" + n),
              yield s().post(l, i, {
                withCredentials: !0,
                cancelToken: e.token,
              });
          });
        }
      }
      (0, o.gn)([B.LO], ot.prototype, "m_mapEventGIDToSolrData", void 0),
        (0, o.gn)([B.LO], ot.prototype, "m_listEvents", void 0),
        (0, o.gn)([B.aD], ot.prototype, "ClearAllSolrEvents", null);
      var rt = a(12251),
        st = a(61063),
        ct = a(51915);
      function dt(e) {
        const { accountID: t, locToken: a } = e,
          n = d.useMemo(() => p.K.InitFromAccountID(t), [t]),
          { data: l } = (0, ct.IE)(t);
        let i =
          "https://steamsupport.valvesoftware.com/account/overview/" +
          n.ConvertTo64BitString();
        return d.createElement(
          "div",
          null,
          (0, x.kQ)(
            a,
            d.createElement(
              "a",
              { href: i, target: I.De.IN_CLIENT ? void 0 : "_blank" },
              Boolean(l)
                ? d.createElement(d.Fragment, null, l.m_strPlayerName)
                : d.createElement(
                    d.Fragment,
                    null,
                    d.createElement("span", null, t),
                  ),
            ),
          ),
        );
      }
      function mt(e) {
        const { modAction: t } = e,
          a =
            (0, x.$1)(t.m_rtWhen) +
            " @ " +
            (0, rt.Sc)(t.m_rtWhen, { bForce24HourClock: !1 }),
          n = d.createElement(dt, {
            locToken: "#EventModTile_Moderator",
            accountID: t.m_moderator,
          });
        switch (t.m_action) {
          case at.k_ModReviewed:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_Reviewed",
                d.createElement("span", null, a),
                n,
              ),
            );
          case at.k_ModUnreviewed:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_UnReviewed",
                d.createElement("span", null, a),
                n,
              ),
            );
          case at.k_ChangeEventType:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_NewEventType",
                d.createElement("span", null, a),
                n,
                (0, Ve.Sq)(t.m_newEventType),
              ),
            );
          case at.k_UpdateSeasonTags:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_SeasonTagUpdate",
                d.createElement("span", null, a),
                n,
                t.m_newTagAdded,
              ),
            );
          case at.k_ModReReviewed:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_ReReviewed",
                d.createElement("span", null, a),
                n,
              ),
            );
          case at.k_ModRemovedFromSteamChina:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_RemoveFromSC",
                d.createElement("span", null, a),
                n,
              ),
            );
          case at.k_ModFlagAdultOnlyContent:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_FlagAdultContent",
                d.createElement("span", null, a),
                n,
              ),
            );
          case at.k_ModRemoveAdultOnlyContent:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              (0, x.kQ)(
                "#EventModTile_Action_RemoveAdultContent",
                d.createElement("span", null, a),
                n,
              ),
            );
          default:
            return d.createElement(
              "div",
              { className: st.ModeratorAuditActionCtn },
              t.ToModString(),
            );
        }
      }
      function ut(e) {
        const [t, a] = d.useState(!0),
          { eventModel: n } = e;
        let l = n
          .GetAllTags()
          .filter((e) => it.IsAuditAction(e))
          .reverse();
        const i = l.length,
          o = l.length > 3 && t;
        return 0 == l.length
          ? null
          : (o && (l = l.splice(0, 3)),
            d.createElement(
              "div",
              null,
              d.createElement(
                "h4",
                null,
                (0, x.Xx)("#EventModTile_Action_Title"),
              ),
              ((t) => {
                const { eventModel: a } = e;
                return t.map((e) => {
                  const t = new it();
                  return (
                    t.FromString(e),
                    d.createElement(mt, { key: a.GID + e, modAction: t })
                  );
                });
              })(l),
              o &&
                d.createElement(
                  "a",
                  { onClick: () => a(!1), className: st.ExpandModActions },
                  (0, x.Xx)("#EventModTile_Action_More", i - 3),
                ),
              Boolean(!o && i > 3) &&
                d.createElement(
                  "a",
                  { onClick: () => a(!0), className: st.ExpandModActions },
                  (0, x.Xx)("#EventModTile_Action_Hide"),
                ),
            ));
      }
      var _t = a(56164);
      const pt = (e) => {
          const { closeModal: t } = e,
            a = (0, nt.V)(I.JA.CLANACCOUNTID);
          return d.createElement(
            f.uH,
            {
              strTitle: "Publishing Audit History",
              bAlertDialog: !0,
              onOK: t,
              onCancel: t,
              className: "auditContents",
              strDescription:
                "Here are the publishing audit history. Recorded starting from mid-June 2021",
            },
            Boolean(null == a)
              ? d.createElement(y.V, {
                  string: (0, x.Xx)("#Loading"),
                  position: "center",
                  size: "medium",
                })
              : Boolean(0 == a.length)
                ? d.createElement(
                    "div",
                    null,
                    "No Publishing History available",
                  )
                : a.map((e) =>
                    d.createElement(Et, { key: e.clan_event_gid, record: e }),
                  ),
          );
        },
        Et = (e) => {
          var t;
          const { record: a } = e,
            n = d.useMemo(() => p.K.InitFromClanID(I.JA.CLANACCOUNTID), []);
          return d.createElement(
            "div",
            { className: k.AuditInfoItem },
            d.createElement(
              "div",
              null,
              "Clan Event GID:",
              d.createElement(
                "a",
                {
                  href: `${I.De.COMMUNITY_BASE_URL}gid/${n.ConvertTo64BitString()}/partnerevents/edit/${a.clan_event_gid}`,
                  target: "_blank",
                },
                a.clan_event_gid,
              ),
            ),
            d.createElement("div", null, "Type: ", (0, Ve.Sq)(a.event_type)),
            d.createElement(
              "div",
              null,
              "Publish Time: ",
              d.createElement(He.H6, {
                dateAndTime: a.publish_time,
                bSingleLine: !0,
              }),
            ),
            d.createElement(
              "div",
              null,
              d.createElement(dt, {
                accountID: a.publish_account_id,
                locToken: "#EventDashbard_PublishingAccount",
              }),
            ),
            d.createElement(
              "div",
              null,
              "tags: ",
              null === (t = a.tags) || void 0 === t ? void 0 : t.join(", "),
            ),
            d.createElement(
              "div",
              { className: k.AuditItemStatsCtn },
              d.createElement(
                _t.ug,
                { title: "Show Event Stats", bStartMinimized: !0 },
                d.createElement(ht, { clanSteamID: n, record: a }),
              ),
            ),
            d.createElement("hr", null),
          );
        };
      function ht(e) {
        const { clanSteamID: t, record: a } = e,
          n = (0, h.yt)(t, a.clan_event_gid);
        return d.createElement(
          "div",
          null,
          null == n &&
            d.createElement(y.V, {
              string: "loading",
              position: "center",
              size: "medium",
            }),
          null == n &&
            d.createElement("div", null, "Failed to load events stats"),
          Boolean(n) && d.createElement(b.y, { summary: n }),
        );
      }
      var vt = a(82071),
        gt = a(92012),
        St = a(88408),
        bt = a(46984),
        ft = a(29229),
        Ct = a.n(ft);
      function yt(e) {
        const { clanInfo: t, closeModal: a } = e,
          [n, l] = d.useState(!0),
          [i, r] = d.useState(!0),
          c = 1063339200,
          m = Oe.JW.GetTimeNowWithOverride(),
          [_, p] = d.useState(m - bt._H.PerMonth),
          [E, v] = d.useState(m),
          [g, S] = d.useState(-1),
          b = g >= 0;
        return d.createElement(
          f.uH,
          {
            strTitle: (0, x.Xx)("#EventDashboard_Stats_title"),
            strDescription: (0, x.Xx)("#EventDashboard_Stats_desc"),
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bOKDisabled: b,
            onOK: () =>
              (function (e, t, a, n) {
                return (0, o.mG)(this, void 0, void 0, function* () {
                  const l = new Array(),
                    i = s().CancelToken.source();
                  let o = 0;
                  n(o);
                  const r = 100;
                  let c,
                    d = 0,
                    m = new Array();
                  const _ = (0, u.jM)(I.De.LANGUAGE);
                  do {
                    if (
                      ((d += 1),
                      (m = yield vt.j1.LoadAdjacentPartnerEvents(
                        c,
                        e.clanSteamID,
                        void 0,
                        0,
                        r,
                        { rtime_oldestevent: t },
                        i,
                      )),
                      (null == m ? void 0 : m.length) > 0)
                    ) {
                      (o += m.length), n(o), (c = m[m.length - 1].GID);
                      const t = m
                        .filter((e) => e.startTime <= a && e.BIsVisibleEvent())
                        .map((e) => e.GID);
                      t.length > 0 &&
                        (yield h.h4.LoadStatsForEvents(e.clanSteamID, t, i),
                        (o += t.length),
                        n(o),
                        t.forEach((t) => {
                          const a = h.h4.GetStatsFor(e.clanSteamID, t),
                            n = vt.j1.GetClanEventModel(t);
                          l.push(
                            Object.assign(
                              Object.assign(
                                { event_name: n.GetNameWithFallback(_) },
                                a.m_stats,
                              ),
                              { event_gid: "'" + t },
                            ),
                          );
                        }));
                    }
                  } while (m.length == r && d < 100);
                  return (
                    St.K.WriteCSVToFile(
                      l,
                      "event_stats_" +
                        e.group_name.toLocaleLowerCase().replace(/\s/g, "_") +
                        ".csv",
                    ),
                    !0
                  );
                });
              })(t, n ? c : _, i ? Number.MAX_SAFE_INTEGER : E, S).then(() =>
                a(),
              ),
          },
          d.createElement(
            "div",
            { className: Ct().DialogCtn },
            d.createElement(
              "div",
              { className: "DialogLabel" },
              (0, x.Xx)("#EventDashboard_Stats_Oldest_Title"),
            ),
            d.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              d.createElement(R.ji, {
                label: (0, x.Xx)("#EventDashboard_Stats_Oldest"),
                onChange: l,
                checked: n,
                disabled: b,
              }),
              !n &&
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventDashboard_Stats_Oldest_Override"),
                  d.createElement(gt.A, {
                    nEarliestTime: c,
                    nLatestTime: i ? void 0 : E,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: () => _,
                    fnSetTimeToUpdate: p,
                    disabled: b,
                  }),
                ),
            ),
            d.createElement(
              "div",
              { className: "DialogLabel" },
              (0, x.Xx)("#EventDashboard_Stats_Newest_Title"),
            ),
            d.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              d.createElement(R.ji, {
                label: (0, x.Xx)("#EventDashboard_Stats_Newest"),
                onChange: r,
                checked: i,
                disabled: b,
              }),
              !i &&
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventDashboard_Stats_Newest_Override"),
                  d.createElement(gt.A, {
                    nEarliestTime: n ? c : _,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: () => E,
                    fnSetTimeToUpdate: v,
                    disabled: b,
                  }),
                ),
            ),
            b &&
              d.createElement(y.V, {
                position: "center",
                size: "medium",
                string: (0, x.Xx)("#EventDashboard_Stats_Progress", g),
              }),
          ),
        );
      }
      var Dt = a(45492);
      let Tt = class extends d.Component {
        constructor(e) {
          super(e),
            (this.state = {
              bInitialLoadComplete: !1,
              bInfiniteScrollLoading: !1,
              bExhaustedEventList: !1,
              bErrorOnInfiniteScrollRequest: !1,
              nLastFetchRequestedMS: 0,
              bShowEventMetaDataSizes: !1,
              strSearch: "",
              strSearchQuery: "",
            }),
            (this.m_refScroll = d.createRef()),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.m_clanSteamID = new p.K(I.JA.CLANSTEAMID)),
            (this.k_nMaxPerDirection = 10),
            (this.m_IntervalTimer = void 0),
            (this.m_searchTimer = new Dt.Ar()),
            I.JA.CLANACCOUNTID == _.sq && (this.k_nMaxPerDirection = 2);
        }
        EnsureEventsAreLoaded() {
          l.wk
            .LoadClanEventsForPartnerDashboard(
              this.m_clanSteamID,
              this.m_cancelSignal,
            )
            .then((e) => {
              this.EventLoaded(), this.setState({ bInitialLoadComplete: !0 });
            })
            .catch(this.HandleErrorWithDialog);
        }
        EventLoaded() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let e = l.wk.GetClanEventGIDs(this.m_clanSteamID).filter((e) => {
              let t = l.wk.GetClanEventModel(e);
              return Boolean(t && t.BIsVisibleEvent() && t.BIsPartnerEvent());
            });
            e.length > 0 &&
              h.h4.LoadStatsForEvents(
                this.m_clanSteamID,
                e,
                this.m_cancelSignal,
              );
          });
        }
        HandleErrorWithDialog(e) {
          let t = (0, G.l)(e);
          (0, C.AM)(
            d.createElement(
              f.JX,
              null,
              (0, x.Xx)("#Error_Description", t.errorCode, t.strErrorMsg),
            ),
            window,
          );
        }
        componentDidMount() {
          this.EnsureEventsAreLoaded(),
            l.wk.GetEditModel() && l.wk.ResetModel(),
            window.addEventListener("scroll", this.OnScroll, !0);
        }
        componentDidUpdate(e) {
          this.props.match.params.appid_or_vanity_str !=
            e.match.params.appid_or_vanity_str && this.EnsureEventsAreLoaded(),
            this.m_refScroll && this.m_refScroll.current && this.OnScroll();
        }
        componentWillUnmount() {
          window.removeEventListener("scroll", this.OnScroll),
            this.m_cancelSignal.cancel("EventListView to unload"),
            this.ClearTimer();
        }
        ClearTimer() {
          this.m_IntervalTimer &&
            (window.clearInterval(this.m_IntervalTimer),
            (this.m_IntervalTimer = void 0));
        }
        CreateTiles(e, t) {
          let a = [],
            n = l.wk.GetClanEventGIDs(e);
          if ((null == n ? void 0 : n.length) > 0) {
            (n = n.slice().filter((e) => {
              var a;
              const n = l.wk.GetClanEventModel(e);
              return (
                !!n &&
                n.visibility_state === t &&
                !(
                  Boolean(this.state.strSearchQuery) &&
                  !(null ===
                    (a = n.GetNameWithFallback((0, u.jM)(I.De.LANGUAGE))) ||
                  void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().includes(this.state.strSearchQuery))
                )
              );
            })),
              (n = n.sort((e, t) => {
                (0, D.X)(
                  e !== t,
                  `Unexpected duplicates in the list: ${e} ${t}`,
                );
                const a = l.wk.GetClanEventModel(e);
                return l.wk.GetClanEventModel(t).startTime - a.startTime;
              }));
            for (const e of n) {
              const t = l.wk.GetClanEventModel(e);
              a.push(
                d.createElement(Ye, {
                  key: e,
                  appid_or_vanity_str:
                    this.props.match.params.appid_or_vanity_str,
                  gid: e,
                  eventModel: t,
                  bShowEventMetaDataSizes: this.state.bShowEventMetaDataSizes,
                }),
              );
            }
          }
          return a;
        }
        OnScroll() {
          if (!this.m_refScroll || !this.m_refScroll.current) return;
          let e = this.m_refScroll.current;
          e &&
            (this.state.bExhaustedEventList ||
              this.state.bErrorOnInfiniteScrollRequest ||
              this.state.bInfiniteScrollLoading ||
              (e.getBoundingClientRect().bottom <= window.innerHeight + 50 &&
                (this.state.nLastFetchRequestedMS > 0 &&
                this.state.nLastFetchRequestedMS + 500 < Date.now()
                  ? this.setState(
                      {
                        bInfiniteScrollLoading: !0,
                        nLastFetchRequestedMS: Date.now(),
                      },
                      this.LoadMorePublicEvents,
                    )
                  : this.setState(
                      {
                        bInfiniteScrollLoading: !0,
                        nLastFetchRequestedMS: Date.now(),
                      },
                      this.LoadMorePublicEventWithDelay,
                    ))));
        }
        LoadMorePublicEventWithDelay() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.m_IntervalTimer = window.setInterval(
              this.LoadMorePublicEvents,
              500,
            );
          });
        }
        LoadMorePublicEvents() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if ((this.ClearTimer(), !this.state.bInfiniteScrollLoading)) return;
            let e = null;
            l.wk.GetAllClanEvents(this.m_clanSteamID).forEach((t) => {
              t.BIsVisibleEvent() &&
                (!e || t.startTime <= e.startTime) &&
                (e = t);
            });
            let t = !1,
              a = !1;
            try {
              let a;
              (a =
                e && e.bOldAnnouncement
                  ? yield l.wk.LoadAdjacentPartnerEventsByAnnouncement(
                      e.AnnouncementGID,
                      this.m_clanSteamID,
                      void 0,
                      0,
                      this.k_nMaxPerDirection,
                    )
                  : yield l.wk.LoadAdjacentPartnerEvents(
                      e ? e.GID : void 0,
                      this.m_clanSteamID,
                      void 0,
                      0,
                      this.k_nMaxPerDirection,
                    )),
                (t = a.length < this.k_nMaxPerDirection);
            } catch (e) {
              console.log("EventListView: " + (0, G.l)(e).strErrorMsg),
                (a = !0);
            }
            this.setState(
              {
                bExhaustedEventList: t,
                bInfiniteScrollLoading: !1,
                bErrorOnInfiniteScrollRequest: a,
              },
              this.EventLoaded,
            );
          });
        }
        UpdateShowEventMetaDataSizes(e) {
          this.setState({ bShowEventMetaDataSizes: e });
        }
        ApplySearch(e) {
          this.setState({ strSearchQuery: e });
        }
        OnUpdateSearch(e) {
          this.setState({ strSearch: e });
          this.m_searchTimer.Schedule(200, () =>
            this.ApplySearch(null == e ? void 0 : e.trim().toLocaleLowerCase()),
          );
        }
        render() {
          const e = new p.K(I.JA.CLANSTEAMID);
          let t = this.CreateTiles(
              this.m_clanSteamID,
              _.ac.k_EEventStateUnpublished,
            ),
            a = this.CreateTiles(this.m_clanSteamID, _.ac.k_EEventStateStaged),
            n = this.CreateTiles(this.m_clanSteamID, _.ac.k_EEventStateVisible),
            l =
              !this.state.bInitialLoadComplete ||
              this.state.bInfiniteScrollLoading;
          return d.createElement(
            "div",
            { ref: this.m_refScroll },
            d.createElement(
              "div",
              { className: (0, T.Z)("maincontent", M().EventDashboardCtn) },
              d.createElement(xt, {
                appid_or_vanity_str:
                  this.props.match.params.appid_or_vanity_str,
              }),
              d.createElement(
                ze.s,
                { requireAdmin: !0, clanSteamID: e },
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      "maincontent",
                      M().EventDashboardCtn,
                      M().EventDashAdminToolsCtn,
                      S().FlexRowContainer,
                    ),
                  },
                  d.createElement(R.ji, {
                    label: "Show Event Metadata Size",
                    tooltip:
                      "Surfaces the size of the biggest sections in the event's metadata",
                    onChange: this.UpdateShowEventMetaDataSizes,
                    checked: this.state.bShowEventMetaDataSizes,
                  }),
                  d.createElement(
                    R.zx,
                    {
                      onClick: (e) => {
                        (0, C.AM)(d.createElement(pt, null), (0, j.RA)(e));
                      },
                    },
                    "Show Publishing Audit History",
                  ),
                ),
                Boolean(e.GetAccountID() == _.RQ) &&
                  d.createElement(
                    "a",
                    {
                      href: "https://grafana.valve.org/steam/d/RoUHA6bWk/tag-hubs?orgId=2&refresh=5m",
                      target: "_blank",
                    },
                    "Content Hub Graphana Stats Page",
                  ),
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      M().EventDashboardCtn,
                      M().EventDashAdminToolsCtn,
                      M().EventDashboardSearchCtn,
                    ),
                  },
                  d.createElement(R.II, {
                    type: "text",
                    label: "Search",
                    value: this.state.strSearch,
                    onChange: (e) => this.OnUpdateSearch(e.target.value),
                  }),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: M().MainLists },
              t.length > 0 &&
                d.createElement(
                  "div",
                  { className: (0, T.Z)(M().Section, M().Unpublished) },
                  d.createElement(
                    "div",
                    {
                      className: (0, T.Z)(
                        "maincontent",
                        "eventlist",
                        M().EventDashboardCtn,
                      ),
                    },
                    d.createElement(
                      "div",
                      { className: M().DisplaySectionHeader },
                      (0, x.Xx)("#EventDisplay_Unpublished_Title"),
                      " ",
                      d.createElement(
                        "span",
                        {
                          "data-tooltip-text": (0, x.Xx)(
                            "#EventDisplay_Unpublished_SubTitle",
                          ),
                        },
                        " (?)",
                      ),
                    ),
                    t.length > 0 && t,
                  ),
                ),
              a.length > 0 &&
                d.createElement(
                  "div",
                  { className: (0, T.Z)(M().Section, M().Staged) },
                  d.createElement(
                    "div",
                    {
                      className: (0, T.Z)(
                        "maincontent",
                        "eventlist",
                        M().EventDashboardCtn,
                      ),
                    },
                    d.createElement(
                      "div",
                      { className: M().DisplaySectionHeader },
                      (0, x.Xx)("#EventDisplay_Stage_Title"),
                      " ",
                      d.createElement(
                        "span",
                        {
                          "data-tooltip-text": (0, x.Xx)(
                            "#EventDisplay_Stage_SubTitle",
                          ),
                        },
                        " (?)",
                      ),
                    ),
                    a.length > 0 && a,
                  ),
                ),
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(
                    M().Section,
                    M().DisplaySectionHeaderContainer,
                    M().Visible,
                  ),
                },
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      "maincontent",
                      "eventlist",
                      M().EventDashboardCtn,
                    ),
                  },
                  d.createElement(
                    "div",
                    { className: M().DisplaySectionHeader },
                    (0, x.Xx)("#EventDisplay_Visible_Title"),
                  ),
                  d.createElement(
                    "div",
                    { className: M().DisplaySectionSubHeader },
                    (0, x.Xx)("#EventDisplay_Visible_Title_WithRange"),
                  ),
                  n && n,
                  !l &&
                    !n &&
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#EventDisplay_NoPublic"),
                    ),
                  l &&
                    d.createElement(y.V, {
                      position: "center",
                      string: (0, x.Xx)("#Loading"),
                    }),
                  this.state.bExhaustedEventList &&
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#EventDisplay_AllPublicShown"),
                    ),
                  this.state.bErrorOnInfiniteScrollRequest &&
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#EventDisplay_HitErrorInfiniteScroll"),
                    ),
                ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Tt.prototype, "OnScroll", null),
        (0, o.gn)([w.ak], Tt.prototype, "LoadMorePublicEventWithDelay", null),
        (0, o.gn)([w.ak], Tt.prototype, "LoadMorePublicEvents", null),
        (0, o.gn)([w.ak], Tt.prototype, "UpdateShowEventMetaDataSizes", null),
        (0, o.gn)([w.ak], Tt.prototype, "ApplySearch", null),
        (0, o.gn)([w.ak], Tt.prototype, "OnUpdateSearch", null),
        (Tt = (0, o.gn)([c.Pi], Tt));
      const xt = (0, c.Pi)((e) => {
          const t = new p.K(I.JA.CLANSTEAMID),
            a = E.sV.GetClanInfoByClanAccountID(t.GetAccountID()),
            { appid_or_vanity_str: i } = e;
          let o = h.h4.GetTotalStats(t);
          return d.createElement(
            "div",
            { className: S().EventDashboardHeader },
            d.createElement(v.Cu, { identifier: i, partnerEventStore: l.wk }),
            d.createElement(
              "div",
              { className: S().EventDashboardTitles },
              d.createElement(
                "div",
                { className: S().maintitle },
                (0, x.Xx)("#EventDisplay_Events"),
                d.createElement(
                  "div",
                  { className: S().subtitle },
                  (0, x.Xx)("#EventDisplay_Edit_Desc"),
                ),
              ),
              d.createElement(
                "div",
                { className: S().EventDashboardActions },
                d.createElement(
                  m.rU,
                  {
                    className: (0, T.Z)(S().Button, S().Primary),
                    to: n.rQ.Create(i),
                    onClick: () => l.wk.ResetModel(),
                  },
                  (0, x.Xx)("#EventDisplay_CreateNewEvent"),
                ),
                d.createElement(
                  R.zx,
                  {
                    onClick: (e) =>
                      (0, C.AM)(
                        d.createElement(yt, { clanInfo: a }),
                        (0, j.RA)(e),
                      ),
                  },
                  (0, x.Xx)("#EventDashboard_Stats_export"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: S().EventDashboardStatsCtn },
              d.createElement(b.y, {
                summary: o.m_stats,
                bIsAllowedInLibrary: null == a ? void 0 : a.is_ogg,
                bIncludeDescription: !0,
              }),
            ),
          );
        }),
        Gt = (0, A.M)(Tt);
      var wt = a(31959),
        It = a(94621),
        At = a(80366),
        kt = a(32144),
        Mt = a(45167),
        Nt = a(91494);
      let Bt = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new p.K(I.JA.CLANSTEAMID));
        }
        componentDidMount() {
          l.wk.GetEditModel() &&
            "view" === this.props.mode &&
            l.wk.GetEditModel().ClearDirty();
        }
        componentDidUpdate(e) {
          l.wk.GetEditModel() &&
            "view" === this.props.mode &&
            l.wk.GetEditModel().ClearDirty();
        }
        render() {
          const { mode: e } = this.props;
          if ("view" === e) {
            let e = l.wk.GetEditModel().GetEventModel(),
              t = (0, u.jM)(I.De.LANGUAGE);
            return e.BHasSaleEnabled()
              ? d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Nt.oS, {
                    eventModel: e,
                    bIsPreview: !0,
                    language: t,
                  }),
                )
              : d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(wt.TY, {
                    event: e,
                    lang: t,
                    partnerEventStore: l.wk,
                    emoticonStore: Mt.F,
                    adminPanel: d.createElement(At.H, {
                      eventModel: e,
                      partnerEventStore: l.wk,
                    }),
                    otherEventRow: d.createElement(kt._G, {
                      clanAccountID: e.clanSteamID.GetAccountID(),
                      trackingLocation: 6,
                      gidAnnouncement: e.AnnouncementGID,
                      partnerEventStore: l.wk,
                      bViewAllShowInfiniteScroll: !e.BIsOGGEvent(),
                    }),
                  }),
                );
          }
          return d.createElement(It.H, {
            editModel: l.wk.GetEditModel(),
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            gid: this.props.match.params.gid,
            bDisplaySale: "previewsale" === e,
          });
        }
      };
      Bt = (0, o.gn)([c.Pi], Bt);
      const Lt = (0, A.M)(Bt);
      var Ot = a(64947),
        Rt = a(71630),
        Xt = a(64586),
        Pt = a.n(Xt);
      const jt = (0, c.Pi)((e) => {
        const { editModel: t } = e;
        return (0, ze.X)(t.GetClanSteamID()) && t.BHasSaleEnabled()
          ? d.createElement(
              "div",
              { className: Pt().AssociatedBuildBody },
              d.createElement(
                R.zx,
                {
                  onClick: (t) =>
                    (0, C.AM)(
                      d.createElement(Ft, { editModel: e.editModel }),
                      (0, j.RA)(t),
                    ),
                },
                (0, x.Xx)("#EventEditor_Versions_View"),
              ),
            )
          : null;
      });
      const Ft = (e) => {
          const { editModel: t, closeModal: a } = e,
            n = (function (e, t) {
              const [a, n] = d.useState(null),
                l = e.ConvertTo64BitString();
              return (
                d.useEffect(() => {
                  if ((n(null), !t)) return;
                  const e = s().CancelToken.source(),
                    a = { event_gid: t },
                    i =
                      I.De.COMMUNITY_BASE_URL + `gid/${l}/ajaxgeteventhistory`;
                  return (
                    s()
                      .get(i, {
                        params: a,
                        withCredentials: !0,
                        cancelToken: e.token,
                      })
                      .then((t) => {
                        var a;
                        if (!e.token.reason) {
                          const e =
                            1 ==
                            (null === (a = null == t ? void 0 : t.data) ||
                            void 0 === a
                              ? void 0
                              : a.success);
                          n(e ? t.data.versions : []);
                        }
                      })
                      .catch((t) => {
                        if (!e.token.reason) {
                          const e = (0, G.l)(t);
                          console.error("useEventHistory: " + e.strErrorMsg, e);
                        }
                      }),
                    () => e.cancel("useEventHistory: unmounting")
                  );
                }, [l, t]),
                a
              );
            })(t.GetEventModel().clanSteamID, t.GetEventModel().GID),
            l = (e) => {
              (0, C.AM)(
                d.createElement(f.uH, {
                  strTitle: (0, x.Xx)("#EventEditor_VersionsPrompt_Title"),
                  strDescription: (0, x.Xx)("#EventEditor_VersionsPrompt_Body"),
                  onOK: () =>
                    (function (e, t) {
                      (0, C.AM)(
                        d.createElement(Ht, { editModel: e, versionID: t }),
                        window,
                      );
                    })(t, e.version_id),
                }),
                window,
              );
            },
            i = Boolean(n),
            o =
              null == n
                ? void 0
                : n.map((e) => {
                    const t = new Date(1e3 * e.time_stamp),
                      a = t.toLocaleDateString() + " " + t.toLocaleTimeString();
                    return d.createElement(
                      "div",
                      { className: Pt().VersionCtn, key: e.version_id },
                      d.createElement(
                        "div",
                        { className: Pt().VersionInfoCtn },
                        d.createElement(
                          "div",
                          { className: Pt().VersionAccount },
                          d.createElement(dt, {
                            locToken: "#EventEditor_VersionsUser",
                            accountID: e.account_id,
                          }),
                        ),
                        d.createElement(
                          "div",
                          { className: Pt().VersionDate },
                          a,
                        ),
                      ),
                      d.createElement(
                        R.zx,
                        { className: Pt().RollbackButton, onClick: () => l(e) },
                        (0, x.Xx)("#EventEditor_RollbackToVersion"),
                      ),
                    );
                  });
          return d.createElement(
            Xe.SV,
            null,
            d.createElement(
              C.e1,
              { onEscKeypress: a },
              d.createElement(
                R.VY,
                null,
                d.createElement(
                  R.h4,
                  null,
                  (0, x.Xx)("#EventEditor_VersionsDialog_Title"),
                ),
                d.createElement(
                  R.uT,
                  null,
                  d.createElement(
                    R.Ac,
                    null,
                    (0, x.Xx)("#EventEditor_VersionsDialog_Body"),
                  ),
                  i &&
                    d.createElement(
                      "div",
                      { className: Pt().VersionListCtn },
                      o,
                      0 == o.length &&
                        d.createElement(
                          "div",
                          { className: Pt().VersionListEmpty },
                          (0, x.Xx)("#EventEditor_Versions_NoVersions"),
                        ),
                    ),
                  !i && d.createElement(y.V, null),
                ),
                d.createElement(
                  R.$_,
                  null,
                  d.createElement(
                    R.KM,
                    { onClick: a },
                    (0, x.Xx)("#Button_Close"),
                  ),
                ),
              ),
            ),
          );
        },
        Ht = (e) => {
          const { editModel: t, versionID: a, closeModal: n } = e,
            [l, i] = d.useState("rollback");
          d.useEffect(() => {
            const e = new URLSearchParams();
            e.append("version_id", a), e.append("event_gid", t.GetGID());
            const n =
              I.De.COMMUNITY_BASE_URL +
              `gid/${t.GetClanSteamID().ConvertTo64BitString()}/ajaxrollbackevent`;
            s()
              .post(n, e, { withCredentials: !0 })
              .then((e) => {
                var t;
                1 ==
                (null === (t = null == e ? void 0 : e.data) || void 0 === t
                  ? void 0
                  : t.success)
                  ? window.location.reload()
                  : i("error");
              })
              .catch((e) => {
                i("error");
              });
          }, [t, a]);
          let o = null;
          return (
            (o =
              "rollback" === l
                ? d.createElement(
                    R.VY,
                    null,
                    d.createElement(
                      R.h4,
                      null,
                      (0, x.Xx)("#EventEditor_VersionsDialog_RollingBack"),
                    ),
                    d.createElement(R.uT, null, d.createElement(y.V, null)),
                  )
                : d.createElement(
                    R.VY,
                    null,
                    d.createElement(
                      R.h4,
                      null,
                      (0, x.Xx)(
                        "#EventEditor_VersionsDialog_RollingBackFailed",
                      ),
                    ),
                    d.createElement(
                      R.$_,
                      null,
                      d.createElement(
                        R.KM,
                        { onClick: n },
                        (0, x.Xx)("#Button_Close"),
                      ),
                    ),
                  )),
            d.createElement(Xe.SV, null, d.createElement(C.e1, null, o))
          );
        };
      function zt(e, t, a, n) {
        const l = JSON.parse(JSON.stringify(e)),
          i = t.split(".");
        for (const e in l)
          if (e === i[0])
            if (Array.isArray(l[e])) {
              const t = l[e];
              if (1 === i.length) {
                const i = t,
                  o = t.length;
                i.splice(n ? 1 : 0),
                  i.push(a.replace("%1$s", "" + o)),
                  (l[e] = i);
              } else {
                const o = t.map((e) => zt(e, i.slice(1).join("."), a, n));
                l[e] = o;
              }
            } else
              1 === i.length
                ? (l[e] = a.replace("%1$s", "" + l[e].length))
                : (l[e] = zt(l[e], i.slice(1).join("."), a, n));
        return l;
      }
      const Vt = (0, c.Pi)((e) => {
        var t;
        const { editModel: a } = e,
          [n, l] = (a.GetClanSteamID(), d.useState(!0)),
          [i, o] = (0, d.useState)(!0),
          [r, s] = (0, d.useState)(!0),
          [c, m] = (0, d.useState)(!0),
          [u, _] = (0, d.useState)(
            (null === (t = a.GetEventModel().jsondata.tagged_items) ||
            void 0 === t
              ? void 0
              : t.length) > 100,
          );
        if (!I.L7.logged_in || !I.L7.is_support) return null;
        const p = new Array(),
          E = a.GetAllTags();
        E &&
          E.forEach((e) => {
            p.push(d.createElement("div", { key: e }, e));
          });
        let h = a.GetEventModel().jsondata;
        if (n) {
          const e = (t) => {
              for (let a in t)
                if (Array.isArray(t[a])) {
                  let n = -1;
                  t[a].forEach((l, i) => {
                    null != l &&
                      "" !== l &&
                      ((n = i), "object" == typeof l && (t[a][i] = e(l)));
                  }),
                    -1 == n
                      ? (t[a] = "[all empty array]")
                      : n < t[a].length - 1 &&
                        (t[a].splice(n + 1),
                        t[a].push("... rest are empty ..."));
                } else "object" == typeof t[a] && (t[a] = e(t[a]));
              return t;
            },
            t = JSON.parse(JSON.stringify(a.GetEventModel().jsondata));
          h = e(t);
        }
        r
          ? (h = zt(
              h,
              "sale_sections.facets",
              "... collapsed due to setting above ...",
              !1,
            ))
          : i &&
            (h = zt(
              h,
              "sale_sections.facets.facetValues.name",
              "... and localized versions ...",
              !0,
            )),
          c &&
            (h = zt(
              h,
              "tagged_items.tags",
              "... %1$s sale tags hidden ...",
              !1,
            )),
          u &&
            ((h = zt(
              h,
              "sale_sections.capsules",
              "... %1$s section sale items hidden ...",
              !1,
            )),
            (h = zt(
              h,
              "sale_sections.tabs.capsules",
              "... %1$s tab sale items hidden ...",
              !1,
            )),
            (h = zt(
              h,
              "tagged_items",
              "... %1$s tagged sale items AND tags hidden ...",
              !1,
            )),
            (h = zt(
              h,
              "sorting_tiers",
              "... %1$s sorting tier sale items hidden ...",
              !1,
            )),
            (h = zt(
              h,
              "sale_sections.facets.facetValues.matchingCapsules",
              "... %1$s facet sale items hidden ...",
              !1,
            )));
        const v = a.GetCreatorUserSteamID(),
          g = a.GetLastUpdater(),
          [S, b] = (0, Ue.ai)(a.GetEventModel());
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            null,
            d.createElement(R.ji, {
              label: "collapse empty arrays",
              checked: n,
              onChange: l,
            }),
            d.createElement(R.ji, {
              label: "collapse facets",
              checked: r,
              onChange: s,
            }),
            Boolean(!r) &&
              d.createElement(R.ji, {
                label: "collapse facet value names",
                checked: i,
                onChange: o,
              }),
            d.createElement(R.ji, {
              label: "collapse sale tags",
              checked: c,
              onChange: m,
            }),
            d.createElement(R.ji, {
              label: "collapse sale items",
              checked: u,
              onChange: _,
            }),
            d.createElement("h1", null, "Data:"),
            d.createElement(
              "div",
              null,
              "Clan SteamID: ",
              a.GetClanSteamID().ConvertTo64BitString(),
            ),
            d.createElement(
              "div",
              null,
              "Clan AccountID: ",
              a.GetClanSteamID().GetAccountID(),
            ),
            d.createElement(
              "div",
              null,
              v.BIsValid()
                ? d.createElement(dt, {
                    accountID: v.GetAccountID(),
                    locToken: "#EventModTile_EventCreator",
                  })
                : "Original Poster: not set",
            ),
            d.createElement(
              "div",
              null,
              g.BIsValid()
                ? d.createElement(dt, {
                    accountID: g.GetAccountID(),
                    locToken: "#EventModTile_EventLastUpdator",
                  })
                : "Last Updater: not set",
            ),
            d.createElement("div", null, "AppID: ", a.GetAppID()),
            d.createElement("div", null, "Event GID: ", a.GetEventModel().GID),
            d.createElement(
              "div",
              null,
              "Announcement GID: ",
              a.GetEventModel().AnnouncementGID,
            ),
            d.createElement(
              "div",
              null,
              "Forum Topic URL: ",
              a.GetEventModel().GetForumTopicURL(),
            ),
            d.createElement(
              "div",
              null,
              "Featured App TagID: ",
              a.GetEventModel().featured_app_tagid,
            ),
            d.createElement(
              "div",
              null,
              "Visibility Setting: ",
              (0, H.Jc)(a.GetVisibilitySetting()),
            ),
            d.createElement(
              "div",
              null,
              "Computed Visibility Setting: ",
              (0, H.Jc)(
                H.Rx.ComputeVisibilitySetting(
                  a.GetEventStartTime(),
                  a.GetEventVisibilityStartTime(),
                ),
              ),
            ),
            d.createElement(
              "div",
              null,
              "Event Start Time: ",
              a.GetEventModel().startTime,
              " -",
              Boolean(0 != a.GetEventModel().startTime) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().startTime,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Event End Time: ",
              a.GetEventModel().endTime,
              " -",
              Boolean(0 != a.GetEventModel().endTime) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().endTime,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Visibility Start Time: ",
              a.GetEventModel().visibilityStartTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityStartTime) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().visibilityStartTime,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Visibility End Time: ",
              a.GetEventModel().visibilityEndTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityEndTime) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().visibilityEndTime,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Post Time: ",
              a.GetEventModel().postTime,
              " -",
              Boolean(0 != a.GetEventModel().postTime) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().postTime,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Last Modified Time (by user): ",
              a.GetEventModel().rtime32_last_modified,
              " -",
              Boolean(0 != a.GetEventModel().rtime32_last_modified) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().rtime32_last_modified,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Moderator (first) Review Time: ",
              a.GetEventModel().rtime32_moderator_reviewed,
              " -",
              Boolean(0 != a.GetEventModel().rtime32_moderator_reviewed) &&
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().rtime32_moderator_reviewed,
                  bSingleLine: !0,
                }),
            ),
            d.createElement(
              "div",
              null,
              "Last Solr Update Indexing Request Time: ",
              a.GetEventModel().rtime32_last_solr_search_col_updated,
              " -",
              Boolean(
                0 != a.GetEventModel().rtime32_last_solr_search_col_updated,
              ) &&
                d.createElement(He.H6, {
                  dateAndTime:
                    a.GetEventModel().rtime32_last_solr_search_col_updated,
                  bSingleLine: !0,
                }),
            ),
            Boolean(
              0 != a.GetEventModel().jsondata.rt_migrated_time &&
                null != a.GetEventModel().jsondata.rt_migrated_time,
            ) &&
              d.createElement(
                "div",
                null,
                "Migrated Time: ",
                a.GetEventModel().jsondata.rt_migrated_time,
                " -",
                d.createElement(He.H6, {
                  dateAndTime: a.GetEventModel().jsondata.rt_migrated_time,
                  bSingleLine: !0,
                }),
              ),
            d.createElement(
              "div",
              null,
              "Build and Branch Association: ",
              S,
              " -",
              b || "default",
            ),
            d.createElement("h1", null, "Tags:"),
            p,
            d.createElement("br", null),
            d.createElement(ut, { eventModel: a.GetEventModel() }),
            d.createElement("br", null),
            d.createElement(jt, { editModel: a }),
            d.createElement("br", null),
            d.createElement(Ut, {
              clanSteamID: a.GetClanSteamID(),
              gidClanEvent: a.GetGID(),
            }),
            d.createElement("br", null),
            d.createElement("h1", null, "Json Body"),
            d.createElement(Rt.G, { data: h }),
          ),
        );
      });
      function Ut(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { oPrivateData: n, bLoading: l } = (0, Ot.hQ)(t.GetAccountID(), a);
        return l
          ? d.createElement(y.V, {
              size: "small",
              string: "Loading Private Data",
            })
          : n.nAccountLastUpdate > 0 || n.jsonData
            ? d.createElement(
                "div",
                null,
                d.createElement("h1", null, "Private Data:"),
                d.createElement(
                  "div",
                  null,
                  n.nAccountLastUpdate
                    ? d.createElement(dt, {
                        accountID: n.nAccountLastUpdate,
                        locToken: "#EventModTile_EventLastUpdator",
                      })
                    : "Private Date Not Saved",
                ),
                d.createElement(
                  "div",
                  null,
                  "Last Save Time: ",
                  n.rtLastUpdateTime,
                  " -",
                  Boolean(n.rtLastUpdateTime > 0) &&
                    d.createElement(He.H6, {
                      dateAndTime: n.rtLastUpdateTime,
                      bSingleLine: !0,
                    }),
                ),
                d.createElement(Rt.G, { data: n.jsonData }),
              )
            : d.createElement("div", null, "No Private Data Associated");
      }
      const Zt = (e) => {
        const { editModel: t } = e,
          a = t.GetEventModel().clanSteamID.GetAccountID(),
          n = t.GetEventModel().GID,
          [l, i] = d.useState(null),
          [r, c] = d.useState(null),
          [m, u] = d.useState(!0);
        return (
          d.useEffect(() => {
            if (m) {
              (() =>
                (0, o.mG)(void 0, void 0, void 0, function* () {
                  var e;
                  const t =
                      I.De.STORE_BASE_URL + "events_admin/ajaxgetsolrdata",
                    l = {
                      sessionid: I.De.SESSIONID,
                      clan_account_id: a,
                      event_gid: n,
                    };
                  try {
                    const a = yield s().get(t, {
                      params: l,
                      withCredentials: !0,
                    });
                    1 ==
                      (null === (e = null == a ? void 0 : a.data) ||
                      void 0 === e
                        ? void 0
                        : e.success) &&
                      (i(a.data.solr_data), c(a.data.store_solr_matches));
                  } catch (e) {
                    const t = (0, G.l)(e);
                    console.error("SolrDebugPanel: error " + t.strErrorMsg, t);
                  } finally {
                    u(!1);
                  }
                }))();
            }
          }, [m, a, n]),
          m
            ? d.createElement(y.V, { string: (0, x.Xx)("#Loading") })
            : l
              ? d.createElement(
                  "div",
                  null,
                  d.createElement(
                    _t.ug,
                    {
                      title: "Event Solr Data",
                      tooltip:
                        "Shows the expanded data stored in the event solr core for this event",
                      bStartMinimized: !0,
                    },
                    d.createElement(Rt.G, { data: l }),
                  ),
                  d.createElement(
                    _t.ug,
                    {
                      title: "Store Search Data",
                      tooltip:
                        "Here are the apps tagged with the sale id which are searchable and part of the sale",
                      bStartMinimized: !0,
                    },
                    d.createElement(Rt.G, { data: r }),
                  ),
                )
              : d.createElement("div", null, "No solr data ", a, ": ", n)
        );
      };
      var qt = a(61025),
        Wt = a(30750),
        Jt = a(24289),
        Kt = a(58670),
        Qt = a(78356),
        Yt = a(7591),
        $t = a(23665),
        ea = a(77650),
        ta = a(19399),
        aa = a(14609),
        na = a(80677),
        la = a.n(na);
      const ia = (e) => {
          let t = null;
          "capsule" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, x.Xx)("#selectimage_tip_capsule_1"),
                ),
                d.createElement(
                  "div",
                  null,
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${(0, ta.OL)()}31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${(0, ta.OL)()}7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${(0, ta.OL)()}27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${(0, ta.OL)()}31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg`,
                  }),
                ),
              ))
            : "background" === e.artworkType
              ? (t = d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#selectimage_tip_background_1"),
                  ),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${(0, ta.OL)()}3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${(0, ta.OL)()}5193306/62436147b454715822a198a2767e5c7a8560617e.jpg`,
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${(0, ta.OL)()}31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png`,
                  }),
                ))
              : "spotlight" === e.artworkType &&
                (t = d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    { className: la().AssetExampleSpotlightCtn },
                    d.createElement(
                      "p",
                      null,
                      (0, x.Xx)("#selectimage_tip_store_spotlight_2"),
                    ),
                    d.createElement(
                      "p",
                      null,
                      (0, x.Xx)("#selectimage_tip_store_spotlight_3"),
                    ),
                    d.createElement("img", {
                      style: { width: "100%" },
                      src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                    }),
                    d.createElement("img", {
                      style: { width: "100%" },
                      src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                    }),
                  ),
                ));
          return t
            ? d.createElement(
                "div",
                { className: S().FlexRowContainer },
                d.createElement(
                  R.Yz,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        (0, C.AM)(
                          d.createElement(
                            f.uH,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: (0, x.Xx)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`,
                              ),
                              strDescription: (0, x.Xx)(
                                "#EventEditor_ExampleDescription",
                              ),
                            },
                            t,
                          ),
                          window,
                        );
                      })(t),
                  },
                  (0, x.Xx)("#EventEditor_ViewExamples"),
                ),
                d.createElement(
                  R.Yz,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      (0, aa.b8)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets",
                      ),
                  },
                  (0, x.Xx)("#EventEditor_Learn_More"),
                ),
              )
            : null;
        },
        oa = (e) => {
          let t = null;
          "sale_header" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, x.Xx)("#selectimage_tip_sale_header_1"),
                ),
                d.createElement(
                  "p",
                  null,
                  (0, x.Xx)("#selectimage_tip_sale_header_2"),
                ),
                d.createElement(
                  "div",
                  { className: la().SaleHeaderExampleCtn },
                  d.createElement(
                    "div",
                    { className: la().SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href: `${(0, ta.OL)()}4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${(0, ta.OL)()}4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg`,
                      }),
                    ),
                    d.createElement(
                      "a",
                      {
                        href: `${(0, ta.OL)()}4/502e9a6d3bb266b4274a946192bb960f15e1d136.png`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${(0, ta.OL)()}4/502e9a6d3bb266b4274a946192bb960f15e1d136.png`,
                      }),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: la().SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href: `${(0, ta.OL)()}4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${(0, ta.OL)()}4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg`,
                      }),
                    ),
                  ),
                ),
              ))
            : "product_banner" === e.artworkType &&
              (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, x.Xx)("#selectimage_tip_sale_product_banner"),
                ),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${(0, ta.OL)()}4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${(0, ta.OL)()}4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${(0, ta.OL)()}4/309cb650beb92e00ae352710387832aea78433ef.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${(0, ta.OL)()}4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${(0, ta.OL)()}4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif`,
                }),
              ));
          return t
            ? d.createElement(
                "div",
                { className: S().FlexRowContainer },
                d.createElement(
                  R.Yz,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        (0, C.AM)(
                          d.createElement(
                            f.uH,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: (0, x.Xx)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`,
                              ),
                              strDescription: (0, x.Xx)(
                                "#EventEditor_ExampleDescription",
                              ),
                            },
                            t,
                          ),
                          window,
                        );
                      })(t),
                  },
                  (0, x.Xx)("#EventEditor_ViewExamples"),
                ),
                d.createElement(
                  R.Yz,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      (0, aa.b8)(
                        e,
                        "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta",
                      ),
                  },
                  (0, x.Xx)("#EventEditor_Learn_More"),
                ),
                d.createElement("br", null),
              )
            : null;
        };
      var ra = a(44967),
        sa = a(17294),
        ca = a(50650),
        da = a(68821),
        ma = a(53749),
        ua = a(34704),
        _a = a(7017),
        pa = a(82093);
      function Ea(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Wt.SZ)(() => a.jsondata.bAutoUpdateVanityURLForContentHub),
          l = (0, Wt.SZ)(() => a.jsondata.sale_defines_specific_contenthub),
          i = (0, Wt.SZ)(() => a.jsondata.sale_defines_temporary_contenthub),
          o = (0, Wt.SZ)(() => a.BContentHubDiscountedOnly()),
          r = (0, Wt.SZ)(() => a.jsondata.content_hub_restricted_width),
          s = (0, Wt.SZ)(() => a.jsondata.ignore_item_browser_overrides),
          c = (0, Wt.SZ)(() => a.jsondata.contenthub_override_artwork),
          m = (0, Wt.SZ)(() => a.jsondata.contenthub_override_section_styles),
          u = (0, Wt.SZ)(() => a.jsondata.contenthub_override_tab_styles),
          _ = (0, Wt.SZ)(() => a.jsondata.contenthub_override_tab_definitions),
          p = (0, Wt.SZ)(
            () => a.jsondata.contenthub_override_item_browser_flavors,
          ),
          E = (0, Wt.SZ)(
            () => a.jsondata.contenthub_override_item_browser_facets,
          ),
          h = (0, Wt.SZ)(() => a.jsondata.contenthub_disable_overrides),
          [v, g] = (0, d.useState)(() => {
            var e;
            return (
              (null === (e = a.jsondata.prune_list_optin_name) || void 0 === e
                ? void 0
                : e.length) > 0
            );
          });
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            R.__,
            { style: { marginTop: "0px" } },
            "Content Hub Specification",
          ),
          d.createElement(R.ji, {
            label: "Auto update vanity URL based on configured content hub",
            checked: n,
            onChange: (e) => {
              (a.jsondata.bAutoUpdateVanityURLForContentHub = e),
                e && (0, _a.p0)(a.GetContentHub(), t),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "This is an individual content hub...",
            tooltip:
              "If checked, this sale page will be used to render only a specific content hub. Check this if you are defining tabs/merchandising for some specific hub, or if you're defining a theme sale.",
            checked: l,
            onChange: (e) => {
              (a.jsondata.sale_defines_specific_contenthub = e || void 0),
                a.jsondata.bAutoUpdateVanityURLForContentHub &&
                  (0, _a.p0)(a.GetContentHub(), t),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          l && d.createElement(ha, Object.assign({}, e)),
          d.createElement(R.ji, {
            label: "This is a limited time sale event",
            tooltip:
              "If checked, this sale page will be used when rendering content hubs only during the time period specified in the Options tab of the sale editor. Check this if you are defining a takeover for a seasonal sale, or if you're defining a theme sale.",
            checked: i,
            onChange: (e) => {
              (a.jsondata.sale_defines_temporary_contenthub = e || void 0),
                a.jsondata.bAutoUpdateVanityURLForContentHub &&
                  (0, _a.p0)(a.GetContentHub(), t),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(
            R.__,
            { style: { marginTop: "16px" } },
            "App Inclusion",
          ),
          d.createElement(R.ji, {
            label: "Show discounted (and free-to-play) items only",
            checked: o,
            onChange: (e) => {
              (a.jsondata.content_hub_discounted_only = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Include/exclude items based on registration state... ",
            tooltip:
              "If checked, this hub will include opted-in games and exclude pruned out games from the selected opt-in event. Typically used when defining a theme sale.",
            checked: v,
            onChange: (e) => {
              g(e),
                e || (a.jsondata.prune_list_optin_name = void 0),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          v && d.createElement(va, Object.assign({}, e)),
          d.createElement(R.__, { style: { marginTop: "16px" } }, "Overrides"),
          d.createElement(R.ji, {
            label: "Show restricted-width title and main carousel",
            checked: r,
            onChange: (e) => {
              (a.jsondata.content_hub_restricted_width = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override artwork",
            tooltip:
              "If checked, use artwork (background, fonts, colors, etc.) from this sale page instead of the artwork defined in the sale page it inherits from.",
            checked: c,
            onChange: (e) => {
              (a.jsondata.contenthub_override_artwork = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override section styles",
            tooltip:
              "If checked, for every section that exists in this sale page and the parent sale page, use section styles (colors, etc.) from this sale page instead of from the parent.",
            checked: m,
            onChange: (e) => {
              (a.jsondata.contenthub_override_section_styles = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override tab styles",
            tooltip:
              "If checked, and a tabs section exists in this sale page and the parent sale page, use tab styles (colors, fonts, etc.) from this sale page instead of from the parent.",
            checked: u,
            onChange: (e) => {
              (a.jsondata.contenthub_override_tab_styles = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override tab definitions",
            tooltip:
              "If checked, and a tabs section exists in this sale page and the parent sale page, use the tab definitions (names, filters, etc.) from this sale page instead of from the parent.",
            checked: _,
            onChange: (e) => {
              (a.jsondata.contenthub_override_tab_definitions = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override item browser flavor tabs",
            tooltip:
              "If checked, and an item browser section exists in this sale page and the parent sale page, use the flavor definitions (e.g. Popular, Recently Released, etc.) from this sale page instead of from the parent.",
            checked: p,
            onChange: (e) => {
              (a.jsondata.contenthub_override_item_browser_flavors = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Ignore item browser tab overrides during sale takeovers",
            checked: s,
            onChange: (e) => {
              (a.jsondata.ignore_item_browser_overrides = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Override item browser facets",
            tooltip:
              "If checked, and an item browser section exists in this sale page and the parent sale page, use the facet menu from this sale page instead of from the parent.",
            checked: E,
            onChange: (e) => {
              (a.jsondata.contenthub_override_item_browser_facets = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(R.ji, {
            label: "Disable override logic",
            tooltip:
              "If checked, the sections defined in this sale page will be used as-is, instead of being combined with parent sale pages via the override logic.",
            checked: h,
            onChange: (e) => {
              (a.jsondata.contenthub_disable_overrides = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
          }),
          d.createElement(ga, Object.assign({}, e)),
        );
      }
      function ha(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Wt.SZ)(() => a.GetContentHubType()),
          l = (0, Wt.SZ)(() => a.GetContentHubCategory()),
          i = (0, Wt.SZ)(() => a.GetContentHubTag()),
          { contentHubNames: o } = (0, ca.X)(),
          r = (0, d.useMemo)(
            () => (o ? o.hubtypes.map((e) => ({ value: e, label: e })) : []),
            [o],
          ),
          s = (0, d.useMemo)(
            () =>
              o
                ? Array.from(o.categories.keys()).map((e) => ({
                    value: e,
                    label: `${o.categories.get(e)} (${e})`,
                  }))
                : [],
            [o],
          ),
          c = (0, d.useMemo)(
            () =>
              o
                ? Array.from(o.tags.keys()).map((e) => ({
                    value: `${e}`,
                    label: `${o.tags.get(e)} (${e})`,
                  }))
                : [],
            [o],
          );
        return d.createElement(
          "div",
          { style: { marginLeft: "32px", marginRight: "32px" } },
          d.createElement(
            R.__,
            null,
            (0, x.Xx)("#Sale_BrowseSection_ContentHubType"),
          ),
          d.createElement(
            "div",
            { style: { marginBottom: "12px" } },
            d.createElement(ma.ZP, {
              isSearchable: !0,
              isDisabled: !r,
              options: r,
              value: null == r ? void 0 : r.find((e) => e.value === n),
              onChange: (e) => {
                (a.jsondata.source_content_hub = {
                  type: e.value,
                  category: "category" === e.value ? l : void 0,
                  tagid: "tags" === e.value ? i : void 0,
                }),
                  t.SetDirty(H.jB.jsondata_sales);
              },
            }),
          ),
          "category" === n &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                R.__,
                null,
                (0, x.Xx)("#Sale_BrowseSection_ContentHubCategory"),
              ),
              d.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                d.createElement(ma.ZP, {
                  isSearchable: !0,
                  isDisabled: !s,
                  options: s,
                  value: null == s ? void 0 : s.find((e) => e.value === l),
                  onChange: (e) => {
                    (a.jsondata.source_content_hub = {
                      type: n,
                      category: null == e ? void 0 : e.value,
                    }),
                      t.SetDirty(H.jB.jsondata_sales);
                  },
                }),
              ),
            ),
          "tags" === n &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                R.__,
                null,
                (0, x.Xx)("#Sale_BrowseSection_ContentHubTag"),
              ),
              d.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                d.createElement(ma.ZP, {
                  isSearchable: !0,
                  isDisabled: !c,
                  options: c,
                  value:
                    null == c ? void 0 : c.find((e) => Number(e.value) === i),
                  onChange: (e) => {
                    (a.jsondata.source_content_hub = {
                      type: n,
                      tagid: Number(null == e ? void 0 : e.value),
                    }),
                      t.SetDirty(H.jB.jsondata_sales);
                  },
                }),
              ),
            ),
        );
      }
      function va(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Wt.SZ)(() => a.jsondata.prune_list_optin_name),
          l = (0, Wt.SZ)(() => a.jsondata.optin_only),
          { rgOptIns: i } = (0, da.EP)(),
          o = (0, d.useMemo)(
            () =>
              i
                ? i.map((e) => ({
                    value: e.pageid,
                    label: `${e.title[I.De.LANGUAGE]} (${e.pageid})`,
                  }))
                : [],
            [i],
          );
        return d.createElement(
          "div",
          { style: { marginLeft: "32px", marginRight: "32px" } },
          d.createElement(R.__, null, "Opt-In Event"),
          d.createElement(
            "div",
            { style: { marginBottom: "12px" } },
            d.createElement(ma.ZP, {
              isSearchable: !0,
              isDisabled: !o,
              options: o,
              value: null == o ? void 0 : o.find((e) => e.value === n),
              onChange: (e) => {
                (a.jsondata.prune_list_optin_name = e.value),
                  t.SetDirty(H.jB.jsondata_sales);
              },
            }),
            d.createElement(R.ji, {
              label: "Only show invited games",
              tooltip:
                "If checked, this hub will only show games that have been invited to register for the event. Typically used when defining a theme sale.",
              checked: l,
              onChange: (e) => {
                (a.jsondata.optin_only = e), t.SetDirty(H.jB.jsondata_sales);
              },
            }),
          ),
        );
      }
      function ga(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Wt.SZ)(
            () =>
              !a.jsondata.sale_defines_specific_contenthub &&
              !a.jsondata.sale_defines_temporary_contenthub,
          ),
          l = (0, Wt.SZ)(() => a.jsondata.contenthub_section_groups),
          [i, o] = (0, sa.N)(!0);
        return !n && i
          ? null
          : d.createElement(
              "div",
              { style: { width: "100%" } },
              d.createElement(
                R.__,
                { style: { marginTop: "16px" } },
                "Section Layout",
              ),
              d.createElement(ua.R, {
                items: l || [],
                onDelete: (e) => {
                  a.jsondata.contenthub_section_groups.splice(e, 1),
                    t.SetDirty(H.jB.jsondata_sales);
                },
                onReorder: () => {
                  t.SetDirty(H.jB.jsondata_sales);
                },
                render: (e) =>
                  d.createElement(Sa, {
                    editModel: t,
                    group: e,
                    isEditable: n,
                    baseEventJSON: o,
                    onChange: () => {
                      t.SetDirty(H.jB.jsondata_sales);
                    },
                  }),
              }),
              d.createElement(
                R.zx,
                {
                  style: { maxWidth: "200px", margin: "0 auto" },
                  onClick: () => {
                    l || (a.jsondata.contenthub_section_groups = []),
                      a.jsondata.contenthub_section_groups.push({
                        name: "",
                        sections: [],
                      }),
                      t.SetDirty(H.jB.jsondata_sales);
                  },
                },
                "Add Group",
              ),
            );
      }
      function Sa(e) {
        const {
            editModel: t,
            group: a,
            isEditable: n,
            baseEventJSON: l,
            onChange: i,
          } = e,
          o = (0, Wt.SZ)(() => a.name),
          r = (0, Wt.SZ)(() => a.description),
          s = (0, Wt.SZ)(() => a.sections),
          c = (0, Wt.SZ)(() => a.override_type),
          m = (0, d.useMemo)(
            () =>
              !n && l && l.contenthub_section_groups
                ? l.contenthub_section_groups.map((e) => ({
                    data: e.name,
                    label: e.name,
                  }))
                : [],
            [l, n],
          );
        return n || l
          ? d.createElement(
              "div",
              { style: { width: "100%" } },
              n
                ? d.createElement(
                    "div",
                    null,
                    d.createElement(R.II, {
                      label: "Name",
                      value: o,
                      onChange: (e) => {
                        (a.name = e.target.value), i();
                      },
                    }),
                    d.createElement(R.II, {
                      label: "Description",
                      value: r,
                      onChange: (e) => {
                        (a.description = e.target.value), i();
                      },
                    }),
                  )
                : d.createElement(
                    "div",
                    { style: { display: "flex" } },
                    d.createElement(
                      "div",
                      { style: { flexGrow: 1, marginRight: "4px" } },
                      d.createElement(
                        R.__,
                        null,
                        "section group inherited from parent",
                      ),
                      d.createElement(R.ry, {
                        rgOptions: m,
                        selectedOption: o,
                        onChange: (e) => {
                          (a.name = e.data), i();
                        },
                      }),
                    ),
                    d.createElement(
                      "div",
                      { style: { flexGrow: 1, marginLeft: "4px" } },
                      d.createElement(R.__, null, "Override Type"),
                      d.createElement(R.ry, {
                        rgOptions: [
                          { data: "replace", label: "Replace" },
                          { data: "before", label: "Add Before" },
                          { data: "after", label: "Add After" },
                        ],
                        selectedOption: c,
                        onChange: (e) => {
                          (a.override_type = e.data), i();
                        },
                      }),
                    ),
                  ),
              d.createElement(
                "div",
                { style: { marginLeft: "32px", marginRight: "32px" } },
                d.createElement(
                  R.__,
                  null,
                  "Locally Defined Sections To Display",
                ),
                d.createElement(ua.R, {
                  items: s,
                  onDelete: (e) => {
                    a.sections.splice(e, 1), i();
                  },
                  onReorder: () => {
                    i();
                  },
                  render: (e) =>
                    d.createElement(ba, {
                      editModel: t,
                      sectionRef: e,
                      onChange: i,
                    }),
                }),
                d.createElement(
                  R.zx,
                  {
                    style: { maxWidth: "150px", margin: "0 auto" },
                    onClick: () => {
                      a.sections.push({ sectionid: 0 }), i();
                    },
                  },
                  "Add Section",
                ),
              ),
            )
          : null;
      }
      function ba(e) {
        const { editModel: t, sectionRef: a, onChange: n } = e,
          l = t.GetEventModel(),
          i = (0, Wt.SZ)(() => l.GetSaleSections()),
          o = (0, pa.SY)(),
          r = i.map((e, a) => ({
            data: e.unique_id,
            label: (0, _a.Rj)(o.eLocation, e, (0, u.jM)(I.De.LANGUAGE), t, a),
          })),
          s = (0, Wt.SZ)(() => a.sectionid);
        return d.createElement(
          "div",
          { style: { width: "100%" } },
          d.createElement(R.ry, {
            rgOptions: r,
            selectedOption: s,
            onChange: (e) => {
              (a.sectionid = e.data), n();
            },
          }),
        );
      }
      var fa = a(95315),
        Ca = a(36194),
        ya = a(45651),
        Da = a(55603),
        Ta = a(65255);
      function xa(e) {
        const { editModel: t } = e,
          [a, n] = (0, Wt.SZ)(() => {
            var e;
            return [
              t.GetEventModel().jsondata.sale_header_offset,
              (null === (e = t.GetEventModel().jsondata.localized_sale_logo) ||
              void 0 === e
                ? void 0
                : e.filter(Boolean).length) || 0,
            ];
          });
        return d.createElement(
          ze.s,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, T.Z)(
              S().PixelOffsetCtn,
              S().ValveOnlyBackground,
              S().SaleEditorSpacing,
            ),
          },
          d.createElement(
            "div",
            { className: "DialogLabel" },
            (0, x.Xx)("#Sale_HeaderOffset") + " (VO)",
          ),
          Boolean(n > 0)
            ? d.createElement(
                "div",
                null,
                (0, x.Xx)("#Sale_HeaderOffset_disabled"),
              )
            : d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#Sale_HeaderOffset_Desc"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      S().FlexRowContainer,
                      S().PixelOffsetRow,
                    ),
                  },
                  d.createElement(R.II, {
                    value: a,
                    onChange: (e) => {
                      var a;
                      (t.GetEventModel().jsondata.sale_header_offset =
                        Number(
                          null === (a = null == e ? void 0 : e.target) ||
                            void 0 === a
                            ? void 0
                            : a.value,
                        ) || 0),
                        t.SetDirty(H.jB.jsondata_sales);
                    },
                  }),
                  d.createElement(
                    "div",
                    { className: S().PixelOffsetNote },
                    d.createElement(
                      "div",
                      { className: S().PixelOffsetCallout },
                      (0, x.Xx)("#Sale_HeaderOffset_Max", "530"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#Sale_HeaderOffset_MaxDeck"),
                    ),
                  ),
                ),
              ),
        );
      }
      function Ga(e) {
        const { editModel: t } = e,
          [a, n] = (0, Wt.SZ)(() => [
            t.GetEventModel().jsondata.sale_background_color,
            t.GetEventModel().jsondata.sale_background_repeat,
          ]),
          [l, i] = d.useState(null == a);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                S().FlexRowContainer,
                la().BackgroundConfigCtn,
              ),
            },
            d.createElement(
              "div",
              { className: la().OptionCtn },
              d.createElement(
                R.__,
                null,
                (0, x.Xx)("#Sale_Section_Background_Color"),
              ),
              d.createElement(
                R.zx,
                {
                  className: la().BackgroundColorBtn,
                  onClick: (e) => {
                    (0, fa.yV)(
                      d.createElement(Ca.z, {
                        color: a,
                        onChange: (e) => {
                          (t.GetEventModel().jsondata.sale_background_color =
                            e),
                            t.SetDirty(H.jB.jsondata_sales);
                        },
                      }),
                      e,
                      { bDisablePopTop: !0 },
                    );
                  },
                  style: { backgroundColor: a },
                },
                (0, x.Xx)("#Sale_BackgroundColor"),
              ),
              Boolean(Ta.L7.is_support) &&
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      S().ValveOnlyBackground,
                      S().SaleEditorSpacing,
                    ),
                  },
                  d.createElement(R.ji, {
                    label: "No Background color?",
                    checked: l,
                    onChange: (e) => {
                      i(e),
                        e &&
                          ((t.GetEventModel().jsondata.sale_background_color =
                            void 0),
                          t.SetDirty(H.jB.jsondata_sales));
                    },
                  }),
                ),
            ),
            d.createElement(
              "div",
              { className: la().OptionCtn },
              d.createElement(Da.K, {
                setting: n,
                fnUpdateSetting: (e) => {
                  t.GetEventModel().jsondata.sale_background_repeat != e &&
                    ((t.GetEventModel().jsondata.sale_background_repeat = e),
                    t.SetDirty(H.jB.jsondata_sales));
                },
              }),
            ),
          ),
          d.createElement(xa, { editModel: t }),
          d.createElement(Ia, { editModel: t }),
          d.createElement(wa, { editModel: t }),
        );
      }
      function wa(e) {
        const { editModel: t } = e,
          a = d.createRef(),
          [n, l, i, o] = (0, Wt.SZ)(() => [
            ya.Lh(t.GetNumberOfDays(), 5, 14),
            t.GetNumSalesBackgroundHeader(),
            t.GetEventStartTime(),
            t.GetNumberOfDays(),
          ]),
          r = d.useCallback(() => {
            const e = [
              { label: (0, x.Xx)("#Sale_HeaderArtwork_Single"), data: 1 },
            ];
            if (n > 1)
              for (let t = 2; t <= n; t++)
                e.push({
                  label: (0, x.Xx)("#Sale_HeaderArtwork_Multi_Amount", t),
                  data: t,
                });
            return e;
          }, [n]),
          s = d.useCallback(
            (e) => {
              const n = e.data;
              l !== n &&
                (0, C.AM)(
                  d.createElement(f.uH, {
                    strTitle: (0, x.Xx)("#Button_Confirm"),
                    strDescription: (0, x.Xx)("#Sale_HeaderArtwork_Warning"),
                    onOK: () => t.SetNumSalesBackgroundHeader(n),
                    onCancel: () => {
                      var e;
                      return null === (e = null == a ? void 0 : a.current) ||
                        void 0 === e
                        ? void 0
                        : e.SetSelectedOption(l);
                    },
                  }),
                  window,
                );
            },
            [t, l, a],
          ),
          c = d.useCallback(() => {
            const e = [];
            for (let t = 0; t < l; t++) {
              const a = 86400;
              let n = i + a * t;
              const o = {
                label: (0, x.kQ)(
                  t + 1 == l
                    ? "#Sale_HeaderArtwork_DayTimeOnward"
                    : "#Sale_HeaderArtwork_DayTime",
                  t + 1,
                  d.createElement(He.H6, { dateAndTime: n, bSingleLine: !0 }),
                  d.createElement(He.H6, {
                    dateAndTime: n + a,
                    bSingleLine: !0,
                  }),
                ),
                data: t,
              };
              e.push(o);
            }
            return e;
          }, [l, i]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(R.ry, {
            dropDownControlRef: a,
            strDropDownClassName: S().DropDownScroll,
            label: (0, x.Xx)("#Sale_HeaderArtwork_Multi"),
            tooltip: (0, x.Xx)("#Sale_HeaderArtwork_Multi_hint"),
            rgOptions: r(),
            selectedOption: l,
            onChange: s,
            bDisableMouseOverlay: !0,
            disabled: o <= 1,
            contextMenuPositionOptions: {
              bDisableMouseOverlay: !0,
              bDisablePopTop: !0,
            },
            strClassName: la().SaleDaySelection,
          }),
          Boolean(l > 1) &&
            d.createElement(R.ry, {
              strDropDownClassName: S().DropDownScroll,
              label: (0, x.Xx)("#Sale_HeaderArtwork_EditDay"),
              tooltip: (0, x.Xx)("#Sale_HeaderArtwork_EditDay_hint"),
              rgOptions: c(),
              selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
              onChange: (e) => {
                t.GetEventModel().m_overrideCurrentDay = e.data;
              },
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: la().SaleDaySelection,
            }),
        );
      }
      function Ia(e) {
        const { editModel: t } = e,
          [a, n] = (0, Wt.SZ)(() => [
            t.GetEventModel().jsondata.sale_background_video_webm,
            t.GetEventModel().jsondata.sale_background_video_mp4,
          ]);
        return d.createElement(
          ze.s,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, T.Z)(S().ValveOnlyBackground, S().SaleEditorSpacing),
          },
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#Sale_BackgroundVideo_Title"),
          ),
          (0, x.Xx)("#Sale_BackgroundVideo_Instructions"),
          d.createElement(R.II, {
            label: (0, x.Xx)("#Sale_BackgroundVideo_WebM"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_webm =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(H.jB.jsondata_sales);
            },
            value: a,
          }),
          d.createElement(R.II, {
            label: (0, x.Xx)("#Sale_BackgroundVideo_MP4"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_mp4 =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(H.jB.jsondata_sales);
            },
            value: n,
          }),
        );
      }
      var Aa = a(95807),
        ka = a(30713),
        Ma = a(31028);
      function Na(e) {
        const { strToggleName: t, strTitle: a, children: n, strToolTip: l } = e,
          i = (0, Wt.SZ)(() => (0, ra.Uy)(t));
        return d.createElement(
          "div",
          { id: t, className: ka.SettingCtn },
          d.createElement(
            "div",
            { className: ka.Title, onDoubleClick: () => (0, ra.r2)(t) },
            a,
            l && d.createElement(_t.bC, { tooltip: l }),
            d.createElement(_t.fU, {
              bIsMinimized: i,
              fnToggleMinimize: () => (0, ra.r2)(t),
            }),
          ),
          !i && n,
        );
      }
      class Ba {
        constructor() {
          (this.m_mapVisibleSections = new Map()), (0, B.rC)(this);
        }
        WrapWithNavWaypoint(e, t) {
          return d.createElement(
            Xe.SV,
            { key: "eb_sale_sect_" + e },
            d.createElement(
              Ma.h,
              {
                key: "waypoint_sale_sect_" + e,
                onEnter: () => La.m_mapVisibleSections.set(e, e),
                onLeave: () => La.m_mapVisibleSections.delete(e),
                topOffset: "100px",
                bottomOffset: "100px",
              },
              d.createElement("div", null, t),
            ),
          );
        }
      }
      (0, o.gn)([B.LO], Ba.prototype, "m_mapVisibleSections", void 0);
      const La = new Ba(),
        Oa = (0, c.Pi)((e) => {
          var t, a, n, l;
          const { editModel: i } = e,
            o = Boolean(
              i.BHasSomeImage("product_banner") &&
                i.GetEventModel().BHasTag("hide_store"),
            ),
            r = Boolean(
              i.BHasSomeImage("product_mobile_banner") &&
                i.GetEventModel().BHasTag("hide_store"),
            ),
            s = (e, t = !1) => (0, ra.Uy)(e, t),
            c = (e, t = !1) => (0, ra.r2)(e, t),
            m = s("all_artwork_ctn"),
            u =
              (null ===
                (t =
                  i.GetEventModel().jsondata.localized_sale_product_banner) ||
              void 0 === t
                ? void 0
                : t.length) || 0,
            _ =
              (null ===
                (a =
                  i.GetEventModel().jsondata
                    .localized_sale_product_mobile_banner) || void 0 === a
                ? void 0
                : a.length) || 0,
            p =
              (null === (n = i.GetEventModel().jsondata.localized_sale_logo) ||
              void 0 === n
                ? void 0
                : n.length) || 0,
            E =
              (null ===
                (l = i.GetEventModel().jsondata.localized_sale_overlay) ||
              void 0 === l
                ? void 0
                : l.length) || 0,
            h = [
              "sale_header",
              "product_banner",
              "product_mobile_banner",
              "sale_logo",
            ];
          return (
            (0, ze.X)(i.GetClanSteamID(), !0) && h.push("sale_overlay"),
            d.createElement(
              "div",
              { className: ka.SettingCtn },
              La.WrapWithNavWaypoint(
                "SalePageEdit_AllArtworkCtn",
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(ka.Title),
                    id: "SalePageEdit_AllArtworkCtn",
                    onDoubleClick: () => c("all_artwork_ctn"),
                  },
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#Sale_Artwork_Sections"),
                  ),
                  d.createElement(_t.fU, {
                    bIsMinimized: m,
                    fnToggleMinimize: () => c("all_artwork_ctn"),
                  }),
                ),
              ),
              !m &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(Yt.p, {
                    clanSteamID: i.GetClanSteamID(),
                    rgSupportArtwork: h,
                    fnSetImageURL: i.SetImageURL,
                    bAllowPreviousClanImageSelection: !0,
                    rgRealmList: i.GetIncludedRealmList(),
                  }),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_SaleBgImg",
                    d.createElement(Aa.Yo, {
                      id: "SalePageEdit_SaleBgImg",
                      clanSteamID: i.GetClanSteamID(),
                      title: (0, x.Xx)("#EventEditor_ArtworkType_sale_header"),
                      artworkType: "sale_header",
                      elEventArtworkExample: d.createElement(oa, {
                        artworkType: "sale_header",
                      }),
                      bIsMinimized: s("sale_header"),
                      fnToggleMinimize: () => c("sale_header"),
                      elAdditionalControls: d.createElement(Ga, {
                        editModel: i,
                      }),
                    }),
                  ),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_SaleLogo",
                    d.createElement(
                      "div",
                      { className: ka.SalePageLogoCtn },
                      d.createElement(Aa.Yo, {
                        id: "SalePageEdit_SaleLogo",
                        clanSteamID: i.GetClanSteamID(),
                        title: (0, x.Xx)("#EventEditor_ArtworkType_sale_logo"),
                        artworkType: "sale_logo",
                        elEventArtworkExample: d.createElement(oa, {
                          artworkType: "sale_logo",
                        }),
                        bIsMinimized: s("sale_logo"),
                        fnToggleMinimize: () => c("sale_logo"),
                        fnRemoveAllArtwork:
                          0 == p
                            ? void 0
                            : () => {
                                (0, B.z)(() => {
                                  (i.GetEventModel().jsondata.localized_sale_logo =
                                    []),
                                    i.SetDirty(H.jB.jsondata_sales);
                                });
                              },
                      }),
                      d.createElement(R.II, {
                        label: (0, x.Xx)(
                          "#EventEditor_ArtworkType_sale_logo_url",
                        ),
                        value: i.GetEventModel().jsondata.sale_logo_url,
                        tooltip: (0, x.Xx)(
                          "#EventEditor_ArtworkType_sale_logo_url_tooltip",
                        ),
                        onChange: (e) => {
                          (0, B.z)(() => {
                            (i.GetEventModel().jsondata.sale_logo_url =
                              e.target.value),
                              i.SetDirty(H.jB.jsondata_sales);
                          });
                        },
                      }),
                    ),
                  ),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_SaleBanner",
                    d.createElement(Aa.Yo, {
                      id: "SalePageEdit_SaleBanner",
                      clanSteamID: i.GetClanSteamID(),
                      title: (0, x.Xx)(
                        "#EventEditor_ArtworkType_sale_product_banner",
                      ),
                      artworkType: "product_banner",
                      bIsMinimized: s("product_banner"),
                      fnToggleMinimize: () => c("product_banner"),
                      strWarning: o
                        ? (0, x.Xx)("#Sale_BannerVisibility_Warning")
                        : void 0,
                      elEventArtworkExample: d.createElement(oa, {
                        artworkType: "product_banner",
                      }),
                      fnRemoveAllArtwork:
                        0 == u
                          ? void 0
                          : () => {
                              (0, B.z)(() => {
                                (i.GetEventModel().jsondata.localized_sale_product_banner =
                                  []),
                                  i.SetDirty(H.jB.jsondata_sales);
                              });
                            },
                    }),
                  ),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_SaleMobileBanner",
                    d.createElement(Aa.Yo, {
                      id: "SalePageEdit_SaleMobileBanner",
                      clanSteamID: i.GetClanSteamID(),
                      title: (0, x.Xx)(
                        "#EventEditor_ArtworkType_sale_product_mobile_banner",
                      ),
                      artworkType: "product_mobile_banner",
                      bIsMinimized: s("product_mobile_banner"),
                      fnToggleMinimize: () => c("product_mobile_banner"),
                      strWarning: r
                        ? (0, x.Xx)("#Sale_BannerVisibility_Warning")
                        : void 0,
                      fnRemoveAllArtwork:
                        0 == _
                          ? void 0
                          : () => {
                              (0, B.z)(() => {
                                (i.GetEventModel().jsondata.localized_sale_product_mobile_banner =
                                  []),
                                  i.SetDirty(H.jB.jsondata_sales);
                              });
                            },
                    }),
                  ),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_SaleOverlay",
                    d.createElement(
                      ze.s,
                      {
                        clanSteamID: i.GetClanSteamID(),
                        requireAdmin: !0,
                        className: ka.SalePageLogoCtn,
                      },
                      d.createElement(Aa.Yo, {
                        id: "SalePageEdit_SaleOverlay",
                        clanSteamID: i.GetClanSteamID(),
                        title: (0, x.Xx)(
                          "#EventEditor_ArtworkType_sale_overlay",
                        ),
                        artworkType: "sale_overlay",
                        elEventArtworkExample: d.createElement(oa, {
                          artworkType: "sale_overlay",
                        }),
                        bIsMinimized: s("sale_overlay"),
                        fnToggleMinimize: () => c("sale_overlay"),
                        fnRemoveAllArtwork:
                          0 == E
                            ? void 0
                            : () => {
                                (0, B.z)(() => {
                                  (i.GetEventModel().jsondata.localized_sale_overlay =
                                    []),
                                    i.SetDirty(H.jB.jsondata_sales);
                                });
                              },
                      }),
                    ),
                  ),
                ),
            )
          );
        });
      var Ra = a(65650),
        Xa = a(27599),
        Pa = a(83743),
        ja = a(42718);
      function Fa(e) {
        const { data: t, isLoading: a } = (0, ja.useQuery)(
          ["PartnerInfoList", e],
          () =>
            (function (e) {
              var t, a;
              return (0, o.mG)(this, void 0, void 0, function* () {
                const n = { accountid: e, origin: self.origin },
                  l = yield s().get(
                    `${Ta.De.COMMUNITY_BASE_URL}actions/ajaxgetuserpartnerinfo`,
                    { params: n },
                  );
                if (
                  !l ||
                  200 != l.status ||
                  1 !=
                    (null === (t = l.data) || void 0 === t
                      ? void 0
                      : t.success) ||
                  !(null === (a = l.data) || void 0 === a ? void 0 : a.partners)
                )
                  throw `Load single user partner info failed ${(0, G.l)(l).strErrorMsg}`;
                return l.data.partners;
              });
            })(e),
        );
        return a ? null : t;
      }
      function Ha(e) {
        const {
            accountID: t,
            partnerID: a,
            fnSetPartnerID: n,
            strLabel: l,
            strTooltip: i,
          } = e,
          o = Fa(t),
          r = (0, d.useMemo)(
            () =>
              (null == o ? void 0 : o.length) > 0
                ? o.map((e) => ({ label: e.partner_name, data: e.partnerid }))
                : null,
            [o],
          );
        return null == r
          ? null
          : d.createElement(R.ry, {
              label: l,
              tooltip: i,
              rgOptions: r,
              selectedOption: a,
              onChange: (e) => n(e.data),
            });
      }
      function za(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { bLoading: n } = (0, Ot.bA)(t.GetAccountID(), a);
        return n
          ? d.createElement(y.V, { string: (0, x.Xx)("#Loading") })
          : d.createElement(Va, Object.assign({}, e));
      }
      function Va(e) {
        const { clanSteamID: t, gidClanEvent: a, fnOkCallbackList: n } = e,
          {
            bPublishRequiresValveApproval: l,
            fnSetStorePublishingRequiresValveApproval: i,
            bRequiresHostDisclaimer: o,
            fnSetStoreRequireHostDisclaimer: r,
            bHasSettingForRequiresValveApproval: s,
            strExternalSaleEventType: c,
            fnSetExternalSaleEventType: m,
          } = (0, Ot.bA)(t.GetAccountID(), a),
          [u, _] = (0, d.useState)(!s || l),
          [p, E] = (0, d.useState)(o);
        return (
          (0, w.Qg)(n, () => {
            i(u), r(p);
          }),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(R.ji, {
              checked: n ? u : !s || l,
              onChange: (e) => {
                _(e), n || i(e);
              },
              label:
                "Require Approval by Valve Admin in order to publish this sales events",
              tooltip:
                "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
            }),
            d.createElement(R.ji, {
              checked: n ? p : o,
              onChange: (e) => {
                E(e), n || r(e);
              },
              label: (0, x.Xx)("#SalePresented_By_Admin"),
              tooltip: (0, x.Xx)("#SalePresneted_By_Admin_ttip"),
            }),
            "Select event type so that we can show the right documentation to the partner:",
            d.createElement(R.ry, {
              rgOptions: [
                {
                  label: "Publisher/Developer Sale",
                  data: "publisher",
                  tooltip:
                    "A developer, publisher or franchise want to showcase their games on a sale page.",
                },
                {
                  label: "Showcase/Festival/Convention",
                  data: "showcase",
                  tooltip:
                    "festivals, convensions, showcases. Typically events with a physical presence, but not always",
                },
                {
                  label: "Regional Sale",
                  data: "region",
                  tooltip: "For Made in XYZ Location events",
                },
                {
                  label: "Themed Sale",
                  data: "theme",
                  tooltip:
                    "For events organized around a particular genre, theme, style",
                },
              ],
              strDropDownClassName: g.DropDownScroll,
              strDropDownMenuCtnClass: g.DropDownScroll,
              strDropDownItemClassName: g.DropDownScrollItem,
              selectedOption: c,
              onChange: (e) => m(e.data),
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
          )
        );
      }
      function Ua(e) {
        var t, a;
        const {
            clanSteamID: n,
            gidClanEvent: l,
            rgSalePresenters: i,
            fnCleanSaleEventPresenters: o,
            bPublishTab: r,
          } = e,
          {
            bLoading: s,
            bPublishRequiresValveApproval: c,
            nAccountApproved: m,
            bRequiresHostDisclaimer: u,
            fnSetStoreRequireHostDisclaimer: _,
          } = (0, Ot.bA)(n.GetAccountID(), l),
          { oPrivateData: p } = (0, Ot.hQ)(n.GetAccountID(), l);
        if (!s && c && !m) {
          const e = (e) => {
              (0, C.AM)(
                d.createElement(qa, { clanSteamID: n, gidClanEvent: l }),
                (0, j.RA)(e),
              );
            },
            r = (e) => {
              (0, C.AM)(
                d.createElement(Za, { clanSteamID: n, gidClanEvent: l }),
                (0, j.RA)(e),
              );
            },
            s =
              null === (t = null == p ? void 0 : p.jsonData) || void 0 === t
                ? void 0
                : t.strSalePageApprovalHelpTicketReferenceCode;
          return d.createElement(
            "div",
            {
              className: (0, T.Z)(
                Xa.ApprovalRequiredCtn,
                s ? Xa.PendingApproval : "",
              ),
            },
            d.createElement(
              "div",
              { className: Xa.Left },
              s
                ? d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      "div",
                      { className: Xa.Title },
                      (0, x.Xx)("#EventEditor_SaleValveApproval_Title_Pending"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#EventEditor_SaleValveApproval_Desc_Pending"),
                    ),
                  )
                : d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      "div",
                      { className: Xa.Title },
                      (0, x.Xx)("#EventEditor_SaleValveApproval_Title"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, x.Xx)("#EventEditor_SaleValveApproval_Desc"),
                    ),
                  ),
            ),
            d.createElement(
              "div",
              { className: Xa.Right },
              s
                ? d.createElement(
                    aa.ns,
                    {
                      href: `${I.De.HELP_BASE_URL}ticketmaster/ticket/${null === (a = null == p ? void 0 : p.jsonData) || void 0 === a ? void 0 : a.strSalePageApprovalHelpTicketReferenceCode}`,
                      className: (0, T.Z)(g.EditPreviewButton, g.Button),
                      bForceExternal: !0,
                    },
                    (0, x.Xx)("#EventEditor_SaleValveApproval_Request_Link"),
                  )
                : d.createElement(
                    P.HP,
                    {
                      toolTipContent: (0, x.Xx)(
                        "#EventEditor_SaleValveApproval_Request_Approval_ttip",
                      ),
                    },
                    d.createElement(
                      R.KM,
                      { onClick: e },
                      (0, x.Xx)(
                        "#EventEditor_SaleValveApproval_Request_Button",
                      ),
                    ),
                  ),
              d.createElement(
                ze.s,
                { clanSteamID: n },
                d.createElement(
                  R.zx,
                  { onClick: r },
                  "Approve... ",
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventEditor_SaleValveApproval_Admin_Tooltip",
                      ),
                    },
                    " (?)",
                  ),
                ),
                d.createElement(R.ji, {
                  className: Xa.RequireText,
                  label: (0, x.Xx)("#SalePresented_By_Admin"),
                  tooltip: (0, x.Xx)("#SalePresneted_By_Admin_ttip"),
                  onChange: (e) => _(e),
                  checked: u,
                }),
                Boolean((null == i ? void 0 : i.length) > 0) &&
                  d.createElement(
                    R.zx,
                    { onClick: o },
                    (0, x.Xx)("#SalePresented_By_ClearPresenters"),
                  ),
              ),
            ),
          );
        }
        return !s && c && m
          ? d.createElement(
              "div",
              { className: (0, T.Z)(Xa.ApprovalRequiredCtn, Xa.Approved) },
              d.createElement(
                "div",
                { className: Xa.Left },
                d.createElement(
                  "div",
                  { className: Xa.Title },
                  "✓ ",
                  (0, x.Xx)("#EventEditor_SaleValveApproval_Approved_Title"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)(
                    r
                      ? "#EventEditor_SaleValveApproval_Approved_Desc_OnPublish"
                      : "#EventEditor_SaleValveApproval_Approved_Desc",
                  ),
                ),
              ),
            )
          : null;
      }
      function Za(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          [l, i] = d.useState(!1),
          { fnSetAccountApproved: o } = (0, Ot.bA)(t.GetAccountID(), a),
          [r, s, c] = (0, Ot.Xt)(),
          [m, u] = (0, d.useState)(null);
        return d.createElement(
          f.uH,
          {
            strTitle: "APPROVE SALE PAGE?",
            strDescription:
              "This will remove the publishing block and allow the partner to publish anytime afterward. As a reminder, these are the things we should check before approving:",
            onOK: () => {
              i(!0),
                o(I.L7.accountid),
                c(a)
                  .then((e) => {
                    i(!1),
                      1 == e
                        ? n()
                        : (s(), u("Failed to update Private Data: " + e));
                  })
                  .catch((e) => {
                    i(!1), s(), u((0, G.l)(e).strErrorMsg);
                  });
            },
            strOKButtonText: "Yes, Approve",
            bDisableBackgroundDismiss: !0,
            closeModal: n,
            onCancel: n,
            bOKDisabled: Boolean(m),
          },
          l && d.createElement(y.V, { string: (0, x.Xx)("#Saving") }),
          m && d.createElement("div", null, m),
          d.createElement(
            "div",
            null,
            d.createElement("br", null),
            d.createElement("br", null),
            d.createElement("h3", null, "Key requirements:"),
            d.createElement(
              "ul",
              null,
              d.createElement(
                "li",
                null,
                "Is the event organizer clearly communicated on the sale page?",
              ),
              d.createElement("li", null, "Are the dates set correctly?"),
              d.createElement(
                "li",
                null,
                "Are the store page banners reasonable and avoid sponsor logos?",
              ),
            ),
            d.createElement("h3", null, "If we are promoting this event:"),
            d.createElement(
              "ul",
              null,
              d.createElement(
                "li",
                null,
                "Does the artwork fit the space and fade nicely on the edges?",
              ),
              d.createElement(
                "li",
                null,
                "Do we have all layered art files in hand if we are promoting this event?",
              ),
            ),
          ),
        );
      }
      function qa(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          {
            bLoading: l,
            oPrivateData: i,
            fnSetPrivateJsonNoDirty: r,
          } = (0, Ot.hQ)(t.GetAccountID(), a),
          [c, m] = (0, d.useState)(""),
          [u, _] = (0, d.useState)(null),
          p = (0, Pa.tx)();
        return p.bLoading
          ? d.createElement(Pa.NT, {
              state: p,
              strDialogTitle: (0, x.Xx)(
                "#EventEditor_SaleValveApproval_Request_Approval",
              ),
              closeModal: n,
            })
          : d.createElement(
              f.uH,
              {
                strTitle: (0, x.Xx)(
                  "#EventEditor_SaleValveApproval_Request_Approval",
                ),
                strDescription: (0, x.Xx)(
                  "#EventEditor_SaleValveApproval_Request_Desc",
                ),
                bDisableBackgroundDismiss: !0,
                bOKDisabled: l,
                onCancel: n,
                onOK: () =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    p.fnSetLoading(!0),
                      (function (e, t, a, n) {
                        return (0, o.mG)(this, void 0, void 0, function* () {
                          const l =
                              I.De.COMMUNITY_BASE_URL +
                              "partnereventdata/ajaxrequestsalepagereview",
                            i = new URLSearchParams();
                          i.append("sessionid", I.De.SESSIONID),
                            i.append("clanAccountID", "" + e.GetAccountID()),
                            i.append("gidClanEvent", t),
                            i.append("partnerID", "" + n),
                            i.append("message", a);
                          try {
                            let e = yield s().post(l, i, {
                              withCredentials: !0,
                            });
                            return e && 200 == e.status && 1 == e.data.success
                              ? e.data
                              : (console.error(
                                  "CreateReviewRequestTicket failed.",
                                  e && (0, G.l)(e),
                                ),
                                null);
                          } catch (e) {
                            const t = (0, G.l)(e);
                            console.error(
                              "CreateReviewRequestTicket failed: " +
                                t.strErrorMsg,
                              t,
                            );
                          }
                          return null;
                        });
                      })(t, a, c, u)
                        .then((e) => {
                          e
                            ? (r(
                                Object.assign(Object.assign({}, i), {
                                  strSalePageApprovalHelpTicketReferenceCode:
                                    e.reference_code,
                                }),
                              ),
                              p.fnSetSuccess(!0),
                              p.fnSetElSuccess(
                                d.createElement(
                                  "div",
                                  null,
                                  d.createElement(
                                    "div",
                                    null,
                                    (0, x.Xx)(
                                      "#EventEditor_SaleValveApproval_Request_Success",
                                    ),
                                  ),
                                  d.createElement(
                                    aa.ns,
                                    { href: e.help_url, bForceExternal: !0 },
                                    (0, x.Xx)(
                                      "#EventEditor_SaleValveApproval_Request_Link",
                                    ),
                                  ),
                                ),
                              ))
                            : (p.fnSetError(!0),
                              p.fnSetStrError(
                                (0, x.Xx)(
                                  "#EventEditor_SaleValveApproval_Request_Error",
                                ),
                              ));
                        })
                        .catch((e) => {
                          p.fnSetError(!0),
                            p.fnSetStrError(
                              (0, x.Xx)(
                                "#EventEditor_SaleValveApproval_Request_Error",
                              ),
                            );
                        });
                  }),
              },
              d.createElement("br", null),
              d.createElement("br", null),
              (0, x.Xx)("#EventEditor_SaleValveApproval_Request_Desc2"),
              d.createElement("br", null),
              d.createElement("br", null),
              d.createElement(R.II, {
                type: "text",
                label: (0, x.Xx)(
                  "#EventEditor_SaleValveApproval_Request_InputText",
                ),
                onChange: (e) => m(e.currentTarget.value || ""),
                value: c,
              }),
              d.createElement(Ha, {
                accountID: I.L7.accountid,
                partnerID: u,
                fnSetPartnerID: _,
                strLabel: (0, x.Xx)(
                  "#EventEditor_SaleValveApproval_Request_Partner",
                ),
                strTooltip: (0, x.Xx)(
                  "#EventEditor_SaleValveApproval_Request_Partner_ttip",
                ),
              }),
            );
      }
      var Wa,
        Ja,
        Ka = a(62613),
        Qa = a(53512),
        Ya = a(58290);
      function $a(e) {
        const t = l.wk.GetEditModel(),
          {
            bLoading: a,
            nAcceptingGuidelineAccount: n,
            bRequiresHostDisclaimer: i,
          } = (0, Ot.qA)(t.GetClanAccountID(), t.GetGID()),
          [o, r] = (0, Wt.SZ)(() => [
            t.BHasSaleEnabled(),
            t.GetEventModel().jsondata.sale_presenters,
          ]);
        if (!o) return d.createElement(d.Fragment, null);
        const s = (0, ze.X)(t.GetClanSteamID(), !0),
          c = Boolean(n);
        return s || (c && (!i || (null == r ? void 0 : r.length) >= 1))
          ? d.createElement(d.Fragment, null, e.children)
          : a
            ? d.createElement(y.V, null)
            : c
              ? d.createElement(
                  "div",
                  { className: Ya.GuidelinesNoticeCtn },
                  d.createElement(
                    "div",
                    { className: Ya.Intro },
                    d.createElement(
                      "div",
                      { className: Ya.State },
                      d.createElement(Ka.JrY, null),
                    ),
                    d.createElement(
                      "div",
                      { className: Ya.Description },
                      (0, x.Xx)("#EventDisclaimer_GuidelineAccepted"),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: Ya.Intro },
                    d.createElement("div", { className: Ya.State }, " "),
                    d.createElement(
                      "div",
                      { className: Ya.Description },
                      (0, x.Xx)("#EventDisclaimer_desc"),
                      d.createElement(
                        "div",
                        { className: Ya.OpenGuidelinesBtnCtn },
                        d.createElement(
                          R.KM,
                          {
                            onClick: (e) =>
                              (0, C.AM)(
                                d.createElement(on, null),
                                (0, j.RA)(e),
                              ),
                          },
                          (0, x.Xx)("#EventDisclaimer_button_enter"),
                        ),
                      ),
                    ),
                  ),
                )
              : d.createElement(
                  "div",
                  { className: Ya.GuidelinesNoticeCtn },
                  d.createElement(
                    "div",
                    { className: Ya.Intro },
                    " ",
                    (0, x.Xx)("#EventSaleGuidelines_desc"),
                  ),
                  d.createElement(
                    "div",
                    { className: Ya.OpenGuidelinesBtnCtn },
                    d.createElement(
                      R.KM,
                      {
                        onClick: (e) =>
                          (0, C.AM)(
                            d.createElement(ln, { bCheckListReadOnly: !1 }),
                            (0, j.RA)(e),
                          ),
                      },
                      (0, x.Xx)("#EventSaleGuidelines_Review"),
                    ),
                  ),
                );
      }
      function en(e) {
        const t = l.wk.GetEditModel(),
          { bLoading: a, nAcceptingGuidelineAccount: n } = (0, Ot.qA)(
            t.GetClanAccountID(),
            t.GetGID(),
          );
        if (a) return null;
        if ((0, ze.X)(t.GetClanSteamID(), !0)) return d.createElement(nn, null);
        return Boolean(n) ? d.createElement(tn, null) : null;
      }
      function tn() {
        const e = l.wk.GetEditModel(),
          { rtAcceptanceTime: t } = (0, Ot.qA)(
            e.GetClanAccountID(),
            e.GetGID(),
          ),
          a = (0, Wt.SZ)(() => {
            var t;
            const a = e.GetEventModel().jsondata.sale_presenters;
            return (
              (null == a ? void 0 : a.length) > 0 &&
              (null === (t = a[0].localized_presenter_name) || void 0 === t
                ? void 0
                : t.length) > 0 &&
              a[0].localized_presenter_name[0].length > 0
            );
          });
        return d.createElement(
          "div",
          { className: Ya.GuidelinesDoneCtn },
          d.createElement(
            "div",
            { className: Ya.Text },
            (0, x.kQ)(
              "#EventSaleGuidelines_AlreadyReviewed",
              d.createElement(He.H6, { dateAndTime: t, bSingleLine: !0 }),
            ),
            Boolean(!a) &&
              d.createElement(
                "div",
                { className: Ya.OrganizerInfoNeeded },
                (0, x.Xx)("#SalePresented_By_Instructions"),
                " 🡆",
              ),
          ),
          d.createElement(
            "div",
            { className: Ya.ProcessButtons },
            d.createElement(
              R.zx,
              {
                onClick: (e) =>
                  (0, C.AM)(
                    d.createElement(ln, { bCheckListReadOnly: !0 }),
                    (0, j.RA)(e),
                  ),
              },
              (0, x.Xx)("#EventSaleGuidelines_Review"),
            ),
            a
              ? d.createElement(
                  "div",
                  { className: Ya.OpenGuidelinesBtnCtn },
                  d.createElement(
                    R.zx,
                    {
                      onClick: (e) =>
                        (0, C.AM)(d.createElement(on, null), (0, j.RA)(e)),
                    },
                    (0, x.Xx)("#EventDisclaimer_button"),
                  ),
                )
              : d.createElement(
                  "div",
                  { className: Ya.OpenGuidelinesBtnCtn },
                  d.createElement(
                    R.KM,
                    {
                      onClick: (e) =>
                        (0, C.AM)(d.createElement(on, null), (0, j.RA)(e)),
                    },
                    (0, x.Xx)("#EventDisclaimer_button_enter"),
                  ),
                ),
          ),
        );
      }
      function an(e) {
        const t = l.wk.GetEditModel(),
          { bLoading: a, bPublishRequiresValveApproval: n } = (0, Ot.bA)(
            t.GetClanAccountID(),
            t.GetGID(),
          ),
          [i, o] = d.useState(void 0);
        return (
          d.useEffect(() => {
            a ||
              (void 0 === i
                ? o(Boolean(n))
                : i != Boolean(n) && t.SetDirty(H.jB.jsondata_sales));
          }, [t, a, i, n]),
          !t.BHidden() || t.BPublished() || i
            ? null
            : d.createElement(za, {
                gidClanEvent: t.GetGID(),
                clanSteamID: t.GetClanSteamID(),
              })
        );
      }
      function nn() {
        const e = l.wk.GetEditModel(),
          { nAcceptingGuidelineAccount: t } = (0, Ot.qA)(
            e.GetClanAccountID(),
            e.GetGID(),
          );
        return t
          ? d.createElement(
              "div",
              { className: Ya.ValveOnlyGuidelineSummary },
              d.createElement(tn, null),
              d.createElement(
                "div",
                { className: Ya.SignedBy },
                "Accepted by: ",
                d.createElement(dt, {
                  accountID: t,
                  locToken: "#EventModTile_Signer",
                }),
              ),
              d.createElement(an, null),
            )
          : d.createElement(
              "div",
              { className: Ya.ValveOnlyGuidelineSummary },
              "The event organizer has not yet accepted the agreements for this sale page. The next time that any non-Valve account attempts to edit this sale, they should be required to accept the agreements.",
              d.createElement(an, null),
            );
      }
      function ln(e) {
        const { bCheckListReadOnly: t, closeModal: a } = e,
          n = l.wk.GetEditModel(),
          {
            nAcceptingGuidelineAccount: i,
            strPrimaryContactName: o,
            strPrimaryContactEmail: r,
            fnSetAcceptingGuideLine: s,
            fnSetContactEmailAndName: c,
            strExternalSaleEventType: m,
          } = (0, Ot.qA)(n.GetClanAccountID(), n.GetGID()),
          [u, _, p] = (0, Ot.Xt)(),
          E = Boolean(i),
          [h, v] = d.useState(E),
          [g, S] = d.useState(E),
          [b, C] = d.useState(E),
          D = `${I.De.PARTNER_BASE_URL}doc/store/promo/${m}_page`,
          T = (0, x.Xx)(`#EventSaleGuidelines_doc_${m}`),
          [w, A] = d.useState(o || ""),
          [k, M] = d.useState(r || ""),
          [N, B] = d.useState(!1),
          [L, O] = d.useState(null),
          X = h && g && b && w.length > 0 && k.length > 0;
        return d.createElement(
          f.uH,
          {
            strTitle: (0, x.Xx)("#EventSaleGuideLines_title"),
            strDescription: (0, x.Xx)("#EventSaleGuidelines_desc"),
            bOKDisabled: !X || N,
            onOK: () => {
              t || s(I.L7.accountid),
                c(w, k),
                !t && n.GetGID()
                  ? (B(!0),
                    p(n.GetGID())
                      .then(a)
                      .catch((e) => {
                        O((0, G.l)(e).strErrorMsg);
                      }))
                  : a && a();
            },
            onCancel: a,
            closeModal: a,
          },
          Boolean(N || L)
            ? d.createElement(
                d.Fragment,
                null,
                N &&
                  d.createElement(y.V, {
                    string: (0, x.Xx)("#Saving"),
                    size: "medium",
                    position: "center",
                  }),
                Boolean(L) && d.createElement("div", null, L),
              )
            : d.createElement(
                "div",
                { className: Ya.AgreementsCtn },
                d.createElement(
                  "div",
                  null,
                  d.createElement(R.ji, {
                    label: (0, x.Xx)("#EventSaleGuidelines_rule_5"),
                    checked: h,
                    onChange: v,
                    disabled: t,
                  }),
                  d.createElement(R.ji, {
                    label: (0, x.Xx)("#EventSaleGuidelines_rule_1"),
                    checked: g,
                    onChange: S,
                    disabled: t,
                  }),
                  d.createElement(R.ji, {
                    label: d.createElement(
                      "span",
                      { style: { display: "inline" } },
                      (0, x.kQ)(
                        "#EventSaleGuidelines_rule_6",
                        d.createElement("a", { href: D, target: "_blank" }, T),
                      ),
                    ),
                    checked: b,
                    onChange: C,
                    disabled: t,
                  }),
                ),
                d.createElement(
                  "div",
                  { className: Ya.ContactSectionCtn },
                  d.createElement(
                    "div",
                    { className: Ya.SectionTitle },
                    (0, x.Xx)("#EventSaleGuidelines_PrimaryContact"),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)("#EventSaleGuidelines_PrimaryContact_desc"),
                  ),
                  d.createElement(R.II, {
                    placeholder: (0, x.Xx)(
                      "#EventSaleGuidelines_PrimaryContact_name",
                    ),
                    value: w,
                    onChange: (e) => A(e.currentTarget.value),
                  }),
                  d.createElement(R.II, {
                    placeholder: (0, x.Xx)(
                      "#EventSaleGuidelines_PrimaryContact_email",
                    ),
                    value: k,
                    onChange: (e) => M(e.currentTarget.value),
                  }),
                ),
              ),
        );
      }
      function on(e) {
        var t;
        const { closeModal: a } = e,
          n = l.wk.GetEditModel(),
          [i, o] = d.useState(!1),
          r = (0, Wt.SZ)(
            () => n.GetEventModel().jsondata.sale_presenters || [],
          ),
          [s, c] = d.useState(r);
        return d.createElement(
          f.uH,
          {
            strTitle: (0, x.Xx)("#EventDisclaimer_title"),
            strDescription: (0, x.Xx)("#EventDisclaimer_desc_details"),
            onCancel: a,
            bDisableBackgroundDismiss: !0,
            bOKDisabled:
              !i &&
              (0 == s.length ||
                0 ==
                  (null === (t = s[0].url) || void 0 === t
                    ? void 0
                    : t.length) ||
                s.some((e) => !R.II.validateUrl(e.url)) ||
                s.some((e) => {
                  var t;
                  return !(
                    (null === (t = e.localized_presenter_name[0]) ||
                    void 0 === t
                      ? void 0
                      : t.length) > 0
                  );
                })),
            onOK: () => {
              (n.GetEventModel().jsondata.sale_presenters = s),
                n.SetDirty(H.jB.jsondata_sales),
                a();
            },
          },
          d.createElement(Qa.D7, null),
          d.createElement(ua.R, {
            items: s,
            onDelete: (e) => c(1 == s.length ? [] : [...s.splice(e, 1)]),
            onReorder: () => c([...s]),
            render: (e, t) =>
              d.createElement(rn, {
                presenter: e,
                setPresenter: (e) => {
                  (s[t] = Object.assign({}, e)), c([...s]);
                },
              }),
          }),
          d.createElement(
            R.zx,
            {
              onClick: () => {
                let e = Math.floor(1 + 1e5 * Math.random());
                for (; s && s.some((t) => t.unique_id === e); )
                  e = Math.floor(1 + 1e5 * Math.random());
                c([
                  ...s,
                  {
                    unique_id: e,
                    localized_presenter_name: new Array(31),
                    url: "",
                  },
                ]);
              },
            },
            (0, x.Xx)("#EventDisclaimer_add"),
          ),
          Boolean((null == s ? void 0 : s.length) > 0) &&
            d.createElement(
              "div",
              { className: Ya.PresenterPreviewCtn },
              d.createElement(
                "div",
                { className: Ya.PresenterPreviewDesc },
                (0, x.Xx)("#EventDisclaimer_preview"),
              ),
              d.createElement(Nt.WE, { rgPresenters: s }),
            ),
          d.createElement(
            ze.s,
            { clanSteamID: n.GetClanSteamID() },
            d.createElement(
              R.zx,
              {
                onClick: () => {
                  c([]), o(!0);
                },
              },
              "(VO) Clear Presenters to hide event organizers display",
            ),
          ),
        );
      }
      function rn(e) {
        const { presenter: t, setPresenter: a } = e,
          [n] = (0, Wt.SZ)(() => [Ra.U.Get().GetCurEditLanguage()]);
        return d.createElement(
          "div",
          { className: Ya.PresenterInfoCtn },
          d.createElement(R.II, {
            label: (0, x.Xx)("#EventDisclaimer_name"),
            type: "text",
            value: x.LZ.Get(t.localized_presenter_name, n) || "",
            onChange: (e) => {
              (t.localized_presenter_name = x.LZ.Set(
                t.localized_presenter_name,
                n,
                e.currentTarget.value,
              )),
                a(t);
            },
          }),
          d.createElement(R.II, {
            label: (0, x.Xx)("#EventDisclaimer_url"),
            type: "text",
            mustBeURL: !0,
            placeholder: "https://",
            value: t.url,
            onChange: (e) => {
              (t.url = e.currentTarget.value), a(t);
            },
          }),
        );
      }
      !(function (e) {
        (e.EditInfo = "apprighteditinfo"),
          (e.Publish = "apprightpublish"),
          (e.ViewErrorData = "apprightviewerrordata"),
          (e.Download = "apprightdownload"),
          (e.UploadCDKeys = "apprightuploadcdkeys"),
          (e.GenerateCDKeys = "apprightgeneratecdkeys"),
          (e.ViewFinancials = "apprightviewfinancials"),
          (e.ManageCEG = "apprightmanageceg"),
          (e.ManagingSigning = "apprightmanagesigning"),
          (e.ManageCDKeys = "apprightmanagecdkeys"),
          (e.EditMarketing = "apprighteditmarketing"),
          (e.EconomySupport = "apprighteconomysupport"),
          (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
          (e.ManagePricing = "appmanagepricing"),
          (e.BroadcastLive = "apprightbroadcastlive"),
          (e.AppRightEditStoreDisplayContent =
            "apprighteditstoredisplaycontent"),
          (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
      })(Wa || (Wa = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(Ja || (Ja = {}));
      class sn {
        static ConstructAppRightsMap() {
          const e = new Map();
          return sn.AppRights.forEach((t) => e.set(t.token, t)), e;
        }
        static ConstructPubRightsMap() {
          const e = new Map();
          return sn.PubRights.forEach((t) => e.set(t.token, t)), e;
        }
        static GetAppRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= sn.MapAppRights.get(e).flag;
            }),
            t
          );
        }
        static GetPublisherRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= sn.MapPubRights.get(e).flag;
            }),
            t
          );
        }
      }
      (sn.AppRights = [
        { flag: 1, token: Wa.EditInfo },
        { flag: 2, token: Wa.Publish },
        { flag: 4, token: Wa.ViewErrorData },
        { flag: 8, token: Wa.Download },
        { flag: 16, token: Wa.UploadCDKeys },
        { flag: 32, token: Wa.GenerateCDKeys },
        { flag: 64, token: Wa.ViewFinancials },
        { flag: 128, token: Wa.ManageCEG },
        { flag: 256, token: Wa.ManagingSigning },
        { flag: 512, token: Wa.ManageCDKeys },
        { flag: 1024, token: Wa.EditMarketing },
        { flag: 2048, token: Wa.EconomySupport },
        { flag: 4096, token: Wa.EconomySupportSupervisor },
        { flag: 8192, token: Wa.ManagePricing },
        { flag: 16384, token: Wa.BroadcastLive },
        { flag: 32768, token: Wa.AppRightViewMarketingTraffic },
        { flag: 65536, token: Wa.AppRightEditStoreDisplayContent },
      ]),
        (sn.MapAppRights = sn.ConstructAppRightsMap()),
        (sn.PubRights = [
          { flag: 1, token: Ja.ManagerUsers },
          { flag: 2, token: Ja.ActualAuthority },
          { flag: 4, token: Ja.ViewFinancials },
          { flag: 8, token: Ja.ApproveWalletFunding },
          { flag: 16, token: Ja.ManageLicensedSites },
        ]),
        (sn.MapPubRights = sn.ConstructPubRightsMap());
      var cn = a(72297);
      function dn(e) {
        const t = l.wk.GetEditModel(),
          [a, n] = (0, Wt.SZ)(() => [
            t.GetEventModel().jsondata.sale_opt_in_page_name,
            t.GetEventModel().jsondata.sale_show_creator,
          ]);
        return d.createElement(
          Na,
          {
            strToggleName: e.strToggleID,
            strTitle: (0, x.Xx)("#Sale_PageConfigOptions"),
          },
          d.createElement(
            "div",
            { className: ka.Columns },
            d.createElement(
              "div",
              { className: ka.LeftCol },
              d.createElement(pn, null),
              d.createElement(_n, null),
            ),
            d.createElement(
              "div",
              { className: ka.RightCol },
              d.createElement(un, null),
              d.createElement(
                ze.s,
                {
                  clanSteamID: t.GetClanSteamID(),
                  className: g.EditPreviewButton,
                },
                d.createElement(R.II, {
                  type: "text",
                  label: (0, x.Xx)("#Sale_OptInPageName"),
                  tooltip: (0, x.Xx)("#Sale_OptInPageName_ttip"),
                  value: a,
                  onChange: (e) => {
                    (0, B.z)(() => {
                      (t.GetEventModel().jsondata.sale_opt_in_page_name =
                        e.target.value),
                        t.SetDirty(H.jB.jsondata_sales);
                    });
                  },
                }),
              ),
              d.createElement(
                P.HP,
                {
                  toolTipContent: "#Sale_ShowCreatorHome_ttip",
                  direction: "top",
                },
                d.createElement(
                  "div",
                  { className: g.InputBorder },
                  d.createElement(R.gE, {
                    onChange: (e) => {
                      (0, B.z)(() => {
                        (t.GetEventModel().jsondata.sale_show_creator = e),
                          t.SetDirty(H.jB.jsondata_sales);
                      });
                    },
                    label: (0, x.Xx)("#Sale_ShowCreatorHome"),
                    checked: n,
                  }),
                ),
              ),
              d.createElement(
                ze.s,
                { clanSteamID: t.GetClanSteamID() },
                d.createElement(mn, null),
                d.createElement(jt, { editModel: t }),
              ),
            ),
          ),
        );
      }
      function mn(e) {
        var t, a;
        const n = l.wk.GetEditModel(),
          [i, o, r, s] = (0, Wt.SZ)(() => {
            var e, t, a;
            return [
              null ===
                (e = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === e
                ? void 0
                : e.bLockedToAppOwners,
              null ===
                (t = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === t
                ? void 0
                : t.strRedirectURL,
              n.GetEventModel().jsondata.sale_use_subscription_layout,
              null ===
                (a = n.GetEventModel().jsondata.app_right_requirement_info) ||
              void 0 === a
                ? void 0
                : a.bLockedToPartnerAppRights,
            ];
          }),
          [c, m] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (t = n.GetEventModel().GetRequiredAppIDs()) ||
                void 0 === t
                ? void 0
                : t.join(",")
              : "",
          ),
          [u, _] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (a = n.GetEventModel().GetRequiredPackageIDs()) ||
                void 0 === a
                ? void 0
                : a.join(",")
              : "",
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            P.HP,
            {
              toolTipContent: "#Sale_OwnershipRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: g.InputBorder },
              d.createElement(R.gE, {
                onChange: (e) => {
                  (0, B.z)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.ownership_requirement_info
                      ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                      : (t.ownership_requirement_info = {
                          bLockedToAppOwners: e,
                          rgRequiredAppIDs: [],
                          rgRequiredPackageIDs: [],
                          strRedirectURL: "",
                        }),
                      n.SetDirty(H.jB.jsondata_sales);
                  });
                },
                label: (0, x.Xx)("#Sale_OwnershipRestrictions"),
                checked: i,
              }),
            ),
          ),
          i &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(R.II, {
                type: "text",
                label: (0, x.Xx)("#Sale_RequiredApps"),
                tooltip: (0, x.Xx)("#Sale_RequiredApps_ttip"),
                onChange: (e) => {
                  c != e.target.value &&
                    (m(e.target.value),
                    (0, B.z)(() => {
                      const t = n.GetEventModel().GetRequiredAppIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(H.jB.jsondata_sales);
                    }));
                },
                value: c,
              }),
              d.createElement(R.II, {
                type: "text",
                label: (0, x.Xx)("#Sale_RequiredPackages"),
                tooltip: (0, x.Xx)("#Sale_RequiredPackages_ttip"),
                onChange: (e) => {
                  u != e.target.value &&
                    (_(e.target.value),
                    (0, B.z)(() => {
                      const t = n.GetEventModel().GetRequiredPackageIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(H.jB.jsondata_sales);
                    }));
                },
                value: u,
              }),
              d.createElement(R.II, {
                type: "text",
                label: (0, x.Xx)("#Sale_OwnershipLockRedirect"),
                tooltip: (0, x.Xx)("#Sale_OwnershipLockRedirect_ttip"),
                onChange: (e) => {
                  o != e.target.value &&
                    (0, B.z)(() => {
                      (n.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                        e.target.value),
                        n.SetDirty(H.jB.jsondata_sales);
                    });
                },
                value: o,
              }),
              d.createElement(
                ze.s,
                { clanSteamID: n.GetClanSteamID() },
                d.createElement(R.ji, {
                  onChange: (e) => {
                    (0, B.z)(() => {
                      (n.GetEventModel().jsondata.sale_use_subscription_layout =
                        e),
                        n.SetDirty(H.jB.jsondata_sales);
                    });
                  },
                  label: "(VO) " + (0, x.Xx)("#Sale_UseSubscriptionLayout"),
                  tooltip: (0, x.Xx)("#Sale_UseSubscriptionLayout_ttip"),
                  checked: !!r,
                }),
              ),
            ),
          d.createElement(
            P.HP,
            {
              toolTipContent: "#Sale_PartnerAppEditRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: g.InputBorder },
              d.createElement(R.gE, {
                onChange: (e) => {
                  (0, B.z)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.app_right_requirement_info
                      ? (t.app_right_requirement_info.bLockedToPartnerAppRights =
                          e)
                      : (t.app_right_requirement_info = {
                          bLockedToPartnerAppRights: e,
                          nAppRightFlag: sn.GetAppRightFlags([Wa.EditInfo]),
                        }),
                      n.SetDirty(H.jB.jsondata_sales);
                  });
                },
                label: (0, x.Xx)("#Sale_PartnerAppEditRestrictions"),
                checked: !!s,
              }),
            ),
          ),
        );
      }
      function un(e) {
        const t = l.wk.GetEditModel();
        return d.createElement(
          ze.s,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: g.EditPreviewButton,
          },
          d.createElement(
            "div",
            { className: g.EventEditorTextTitle },
            (0, x.Xx)("#Sale_CreateUpdateDiscountEventTitle"),
            d.createElement(_t.bC, {
              tooltip: (0, x.Xx)("#Sale_CreateUpdateDiscountEventTitle_ttip"),
            }),
          ),
          d.createElement(
            R.KM,
            {
              onClick: () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  const e = new Set(),
                    a = new Array();
                  t.GetEventModel().jsondata.sale_sections.forEach((e) => {
                    e.capsules.forEach((e) =>
                      (0, o.mG)(this, void 0, void 0, function* () {
                        "bundle" === e.type
                          ? a.push(
                              Re.Z.Get().QueueBundleRequest(Number(e.id), {}),
                            )
                          : "sub" === e.type &&
                            a.push(
                              Re.Z.Get().QueuePackageRequest(Number(e.id), {}),
                            );
                      }),
                    );
                  }),
                    yield Promise.all(a),
                    t.GetEventModel().jsondata.sale_sections.forEach((t) => {
                      t.capsules.forEach((t) =>
                        (0, o.mG)(this, void 0, void 0, function* () {
                          if ("bundle" === t.type || "sub" === t.type) {
                            const a =
                              "bundle" === t.type
                                ? Re.Z.Get().GetBundle(Number(t.id))
                                : Re.Z.Get().GetPackage(Number(t.id));
                            a && a.GetIncludedAppIDs().forEach((t) => e.add(t));
                          } else e.add(Number(t.id));
                        }),
                      );
                    });
                  let n = Array.from(e);
                  n.sort();
                  const l = new FormData();
                  l.append("sessionid", I.De.SESSIONID),
                    l.append("name", "[AUTO] " + t.GetName()),
                    l.append("event", "1"),
                    l.append("type", "discount"),
                    l.append("header", t.GetName()),
                    l.append("appids", n.join(",")),
                    l.append("start_date", t.GetEventStartTime().toString()),
                    l.append("end_date", t.GetEventEndTime().toString()),
                    l.append("description", "#discount_desc_preset_special"),
                    t.GetEventModel().jsondata.sale_discount_event_id &&
                      l.append(
                        "discount_id",
                        t
                          .GetEventModel()
                          .jsondata.sale_discount_event_id.toString(),
                      );
                  const i =
                    (yield s().post(
                      I.De.COMMUNITY_BASE_URL +
                        "actions/ajaxcreateupdatediscountevent",
                      l,
                      { withCredentials: !0 },
                    )).data.discountid ||
                    t.GetEventModel().jsondata.sale_discount_event_id;
                  t.GetEventModel().jsondata.sale_discount_event_id ||
                    (t.GetEventModel().jsondata.sale_discount_event_id = i),
                    (0, C.AM)(
                      d.createElement(Be.K, {
                        editModel: t,
                        bSkipChecks: !0,
                        OnSuccess: () => {
                          window.open(
                            I.De.PARTNER_BASE_URL +
                              "admin/editdiscountevent/" +
                              i,
                          );
                        },
                      }),
                      window,
                    );
                }),
            },
            t.GetEventModel().jsondata.sale_discount_event_id
              ? (0, x.Xx)(
                  "#Sale_UpdateDiscountEvent",
                  t.GetEventModel().jsondata.sale_discount_event_id,
                )
              : (0, x.Xx)("#Sale_CreateDiscountEvent"),
          ),
        );
      }
      function _n(e) {
        const t = l.wk.GetEditModel(),
          [a, n, i, o, r] = (0, Wt.SZ)(() => {
            const e = t.GetEventModel().jsondata;
            return [
              e.sale_section_disable_capitalize,
              e.sale_section_font_size,
              e.sale_font,
              e.sale_font_weight,
              e.sale_associated_advertising_appid,
            ];
          }),
          s = [
            { label: "Default", data: { fontFamily: "" } },
            {
              label: "Default, Bold",
              data: {
                fontFamily: "'Motiva Sans', 'Play', sans-serif",
                fontWeight: "bold",
              },
            },
            {
              label: "Jolly Lodger (Halloween)",
              data: {
                fontFamily:
                  "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
              },
            },
            {
              label: "Sigmar One",
              data: { fontFamily: "'Sigmar One', sans-serif" },
            },
          ].map((e) =>
            Object.assign(Object.assign({}, e), {
              label: d.createElement(
                "div",
                { style: Object.assign({}, e.data) },
                e.label,
              ),
            }),
          ),
          c = s.find((e) => e.data.fontFamily == i && e.data.fontWeight == o),
          m = c && c.data;
        return d.createElement(
          ze.s,
          { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
          d.createElement(R.ry, {
            label: (0, x.Xx)("#Sale_SaleFont"),
            tooltip: (0, x.Xx)("#Sale_SaleFont_ttip"),
            strDropDownClassName: g.DropDownScroll,
            rgOptions: s,
            selectedOption: m,
            onChange: (e) => {
              (0, B.z)(() => {
                (t.GetEventModel().jsondata.sale_font = e.data.fontFamily),
                  (t.GetEventModel().jsondata.sale_font_weight =
                    e.data.fontWeight),
                  t.SetDirty(H.jB.jsondata_sales);
              });
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
          d.createElement(R.II, {
            type: "text",
            label: (0, x.Xx)("#Sale_SectionTitleFontSize"),
            tooltip: (0, x.Xx)("#Sale_SectionTitleFontSize_ttip"),
            onChange: (e) => {
              (0, B.z)(() => {
                (t.GetEventModel().jsondata.sale_section_font_size = Number(
                  e.target.value,
                )),
                  t.SetDirty(H.jB.jsondata_sales);
              });
            },
            value: n,
          }),
          d.createElement(R.ji, {
            label: (0, x.Xx)("#Sale_DontCapitalizeSectionTitles"),
            tooltip: (0, x.Xx)("#Sale_DontCapitalizeSectionTitles_ttip"),
            onChange: (e) => {
              (0, B.z)(() => {
                (t.GetEventModel().jsondata.sale_section_disable_capitalize =
                  e),
                  t.SetDirty(H.jB.jsondata_sales);
              });
            },
            checked: a,
          }),
          d.createElement(R.II, {
            type: "number",
            label: (0, x.Xx)("#Sale_AdvertisingApp_ID"),
            tooltip: (0, x.Xx)("#Sale_AdvertisingApp_ID_ttip"),
            onChange: (e) => {
              (0, B.z)(() => {
                (t.GetEventModel().jsondata.sale_associated_advertising_appid =
                  Number(e.target.value)),
                  t.SetDirty(H.jB.jsondata_sales);
              });
            },
            value: r,
          }),
        );
      }
      function pn(e) {
        const t = l.wk.GetEditModel(),
          [a, n, i] = (0, Wt.SZ)(() => [
            t.GetEventModel().jsondata.sale_vanity_id,
            t.GetEventModel().jsondata
              .sale_vanity_id_valve_approved_for_sale_subpath,
            t.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub,
          ]),
          o = (0, Kt.iG)(t.GetClanAccountID());
        let r = null;
        return (
          a && !n
            ? (r = o
                ? o.GetCreatorHomeURL("publisher") + "sale/" + a
                : `${I.De.STORE_BASE_URL}curator/${t.GetClanAccountID()}/sale/${a}`)
            : a && n && (r = I.De.STORE_BASE_URL + "sale/" + a),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(R.II, {
              type: "text",
              label: (0, x.Xx)("#Sale_VanityID"),
              tooltip: (0, x.Xx)("#Sale_VanityID_ttip"),
              onChange: (e) => t.SetSaleVanityID(e.target.value),
              value: a,
              disabled: i,
            }),
            t.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub &&
              d.createElement(
                "div",
                { className: "LongURL Note" },
                "The vanity URL for this sale page is automatically set based on its content hub configuration. Adjust the settings under Content Hub Settings to change this behavior.",
              ),
            Boolean(r)
              ? d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "span",
                    { className: "DialogLabel" },
                    (0, x.Xx)("#Sale_VanityID_Link"),
                  ),
                  d.createElement("br", null),
                  d.createElement(
                    "a",
                    {
                      href: r,
                      className: "LongURL",
                      target: I.De.IN_CLIENT ? "" : "_blank",
                    },
                    r,
                  ),
                )
              : d.createElement(
                  "div",
                  { className: cn.ErrorStylesWithIcon },
                  (0, x.Xx)("#EventEditor_SaleNotReady_ttip"),
                ),
            d.createElement(
              ze.s,
              { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
              d.createElement(R.ji, {
                label: (0, x.Xx)("#Sale_ValveTopSalePath"),
                tooltip: (0, x.Xx)("#Sale_ValveTopSalePath_ttip"),
                onChange: (e) => {
                  (0, B.z)(() => {
                    (t.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath =
                      e),
                      t.SetDirty(H.jB.jsondata_sales);
                  });
                },
                checked: n,
              }),
            ),
          )
        );
      }
      const En = "nextfest";
      function hn(e) {
        const { editModel: t } = e,
          a = (0, Wt.SZ)(() => t.GetEventModel().jsondata.sale_vanity_id);
        return t.GetClanAccountID() == _.sq &&
          a &&
          (a.toLowerCase().includes(En) || a.toLowerCase() == En)
          ? d.createElement(
              "div",
              { className: ka.SettingCtn },
              d.createElement(
                "div",
                { className: ka.Title },
                "Next Fest Checklist",
              ),
              "For the Live Next Fest event make sure to clone, review and operate the Next Fest event using:",
              d.createElement(
                "a",
                {
                  target: "_blank",
                  href: "https://confluence.valve.org/display/SteamBiz/Next+Fest+Launch+Checklist",
                },
                " Operations Checklist",
              ),
            )
          : null;
      }
      const vn = (0, c.Pi)((e) => {
        var t, a;
        const { editModel: n, fnOnOKCallback: l } = e,
          i = n.GetEventModel(),
          { fnSetStorePublishingRequiresValveApproval: o } = (0, Ot.bA)(
            n.GetClanAccountID(),
            n.GetGID(),
          ),
          [r, s] = d.useState(
            null !== (t = i.jsondata.sale_vanity_id) && void 0 !== t ? t : "",
          ),
          [c] = d.useState(new Dt.pB()),
          m =
            !Ta.L7.is_support &&
            !(null === (a = Kt.bq.GetCreatorHome(n.GetClanSteamID())) ||
            void 0 === a
              ? void 0
              : a.BHasClanAccountFlagSet(64)),
          u = Math.floor(Date.now() / 1e3),
          _ = new Date();
        _.setHours(10), _.setMinutes(0), _.setSeconds(0);
        const p = new Date();
        p.setDate(_.getDate() + 1),
          p.setHours(10),
          p.setMinutes(0),
          p.setSeconds(0);
        const [E, h] = d.useState(
            i.startTime > u ? i.startTime : Math.floor(p.getTime() / 1e3),
          ),
          v = new Date();
        v.setDate(p.getDate() + 1),
          v.setHours(10),
          v.setMinutes(0),
          v.setSeconds(0);
        const [g, S] = d.useState(
            (null == i ? void 0 : i.endTime) > Math.floor(v.getTime() / 1e3)
              ? i.endTime
              : Math.floor(v.getTime() / 1e3),
          ),
          b = () => {
            (0, B.z)(() => {
              (n.GetEventModel().jsondata.bSaleEnabled = !1),
                n.SetDirty(H.jB.jsondata_sales);
            }),
              e.closeModal && e.closeModal();
          },
          C = r.replace(/[^\w-]/g, "").length > 0 && E && g;
        return d.createElement(
          Xe.SV,
          null,
          d.createElement(
            f.e1,
            { onEscKeypress: b },
            d.createElement(
              R.VY,
              null,
              d.createElement(R.h4, null, (0, x.Xx)("#Sale_EnableTitle")),
              d.createElement(
                R.uT,
                null,
                d.createElement(
                  R.Ac,
                  null,
                  d.createElement(
                    "div",
                    { className: ka.SetupCtn },
                    d.createElement(
                      "span",
                      null,
                      (0, x.Xx)("#Sale_EanbleDesc"),
                    ),
                    d.createElement(
                      "ol",
                      null,
                      d.createElement(
                        "li",
                        null,
                        (0, x.Xx)("#Sale_EnableDesc_1"),
                      ),
                      d.createElement(
                        "li",
                        null,
                        (0, x.Xx)("#Sale_EnableDesc_2"),
                      ),
                    ),
                    d.createElement("br", null),
                    d.createElement(R.II, {
                      type: "text",
                      label: (0, x.Xx)("#Sale_VanityID"),
                      tooltip: (0, x.Xx)("#Sale_VanityID_ttip"),
                      onChange: (e) => s(e.target.value),
                      value: r,
                    }),
                    d.createElement(gt.A, {
                      strDescription: (0, x.Xx)("#Sale_New_Start"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => E,
                      fnSetTimeToUpdate: h,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                    d.createElement(gt.A, {
                      strDescription: (0, x.Xx)("#Sale_New_End"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => g,
                      fnSetTimeToUpdate: S,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                    d.createElement(
                      ze.s,
                      { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
                      d.createElement(za, {
                        clanSteamID: n.GetClanSteamID(),
                        gidClanEvent: n.GetGID(),
                        fnOkCallbackList: c,
                      }),
                    ),
                  ),
                ),
              ),
              d.createElement(
                R.$_,
                null,
                d.createElement(R.o9, {
                  onCancel: b,
                  bOKDisabled: !C,
                  onOK: () => {
                    (0, B.z)(() => {
                      n.SetSaleVanityID(r),
                        n.SetEventStartTime(E),
                        n.SetEventEndTime(g),
                        m && o(!0),
                        c.Dispatch(),
                        l();
                    }),
                      e.closeModal && e.closeModal();
                  },
                }),
              ),
            ),
          ),
        );
      });
      function gn(e) {
        const t = l.wk.GetEditModel(),
          [a, n] = d.useState(t.BHasSaleEnabled()),
          i = (0, Kt.iG)(t.GetEventModel().clanSteamID.GetAccountID()),
          o = d.useRef(),
          r = (e) => {
            var a;
            n(e),
              null === (a = null == o ? void 0 : o.current) ||
                void 0 === a ||
                a.setState({ checked: e }),
              (0, B.z)(() => {
                (t.GetEventModel().jsondata.bSaleEnabled = e),
                  t.SetDirty(H.jB.jsondata_sales);
              });
          },
          s = (0, ze.X)(t.GetClanSteamID(), !0),
          c = !(
            t.BIsSourceEventSaleEnabled() ||
            (i && i.BHasClanAccountFlagSet(32)) ||
            s
          );
        return d.createElement(
          "div",
          { className: g.InputBorder },
          d.createElement(R.gE, {
            ref: o,
            onChange: (e) => {
              var a;
              e
                ? (null === (a = null == o ? void 0 : o.current) ||
                    void 0 === a ||
                    a.setState({ checked: !1 }),
                  n(!1),
                  (0, C.AM)(
                    d.createElement(vn, {
                      editModel: t,
                      fnOnOKCallback: () => r(!0),
                    }),
                    window,
                  ))
                : r(e);
            },
            label: (0, x.Xx)("#Sale_option"),
            disabled: c,
            checked: a,
          }),
          c &&
            d.createElement(
              "div",
              { className: cn.WarningStyles },
              (0, x.Xx)("#Sale_Enable_Warning"),
            ),
        );
      }
      var Sn = a(53686),
        bn = a(28733),
        fn = a(34535);
      const Cn = (0, c.Pi)((e) => {
          var t, a;
          const { editModel: n } = e;
          if (
            !(
              (0, ze.X)(n.GetClanSteamID(), !1) ||
              (null === (t = n.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === t
                ? void 0
                : t.length) > 0
            )
          )
            return null;
          const l =
              (null === (a = n.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0,
            i = (e, t = !1) => (0, ra.r2)(e, t),
            o = (0, ra.Uy)("SalePageEdit_SortingTiers", !0);
          return d.createElement(
            "div",
            {
              id: "SalePageEdit_SortingTiers",
              className: (0, T.Z)({
                [S().ValveOnlyBackground]: !0,
                [ka.SettingCtn]: !0,
              }),
            },
            d.createElement(
              "div",
              {
                className: ka.Title,
                onDoubleClick: () => i("SalePageEdit_SortingTiers", !0),
              },
              (0, x.Xx)("#Sale_SortingTiersSection", l),
              d.createElement(_t.bC, {
                tooltip: (0, x.Xx)("#Sale_SortingTiers_SectionTooltip"),
              }),
              d.createElement(_t.fU, {
                bIsMinimized: o,
                fnToggleMinimize: () => i("SalePageEdit_SortingTiers", !0),
              }),
            ),
            !o && d.createElement(Dn, { editModel: n }),
          );
        }),
        yn = (e) =>
          d.createElement(
            "div",
            { className: bn.SortTierControls },
            d.createElement(Sn.k, {
              capsuleContainer: e.sortTier,
              editModel: e.editModel,
              uniqueKey: "sort_tier_" + e.tierIndex,
              disableDaySelection: !0,
            }),
          ),
        Dn = (0, c.Pi)((e) => {
          var t;
          const { editModel: a } = e,
            [n, l] = d.useState(!1),
            i =
              null !== (t = a.GetEventModel().jsondata.sorting_tiers) &&
              void 0 !== t
                ? t
                : [],
            o = a.GetEventModel().GetTaggedItems();
          return n || i.length
            ? d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: bn.SortTierExplanation },
                  (0, x.Xx)("#Sale_SortTier_Description"),
                ),
                (a.GetSaleSections() || []).map((e) =>
                  "items" == e.section_type && e.use_random_order
                    ? d.createElement(fn.AO, {
                        key: "sorttier_" + e.unique_id,
                        section: e,
                        language: a.GetCurEditLanguage(),
                        event: a.GetEventModel(),
                      })
                    : null,
                ),
                0 == i.length &&
                  d.createElement(
                    P.HP,
                    {
                      toolTipContent:
                        0 == o.length
                          ? "#Sale_SortTier_PopulateButton_disabled_ttip"
                          : "#Sale_SortTier_PopulateButton_ttip",
                    },
                    d.createElement(
                      R.zx,
                      {
                        disabled: 0 == o.length,
                        onClick: () => {
                          a.GetEventModel().jsondata.sorting_tiers = [];
                          const e = o.map((e) => e.capsule);
                          if (e.length < 4)
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e },
                            ];
                          else {
                            const t = Math.floor(e.length / 4),
                              n = Math.floor((2 * e.length) / 4),
                              l = Math.floor((3 * e.length) / 4);
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e.slice(0, t) },
                              { capsules: e.slice(t, n) },
                              { capsules: e.slice(n, l) },
                              { capsules: e.slice(l) },
                            ];
                          }
                          a.SetDirty(H.jB.jsondata_sales);
                        },
                        className: bn.AutoTierButton,
                      },
                      (0, x.Xx)("#Sale_SortTier_PopulateButton"),
                    ),
                  ),
                d.createElement(ua.R, {
                  items: i,
                  onDelete: (e) => {
                    a.GetEventModel().jsondata.sorting_tiers.splice(e, 1),
                      a.SetDirty(H.jB.jsondata_sales);
                  },
                  onReorder: () => a.SetDirty(H.jB.jsondata_sales),
                  render: (e) =>
                    d.createElement(yn, {
                      editModel: a,
                      tierIndex: i.findIndex((t) => t === e),
                      sortTier: e,
                    }),
                }),
                d.createElement(
                  R.zx,
                  {
                    onClick: () => {
                      a.GetEventModel().jsondata.sorting_tiers ||
                        (a.GetEventModel().jsondata.sorting_tiers = []),
                        a
                          .GetEventModel()
                          .jsondata.sorting_tiers.push({ capsules: [] }),
                        a.SetDirty(H.jB.jsondata_sales);
                    },
                  },
                  (0, x.Xx)("#Sale_SortTier_Add"),
                ),
              )
            : d.createElement(
                "div",
                null,
                (0, x.Xx)("#Sale_SortTier_EnableInfo"),
                d.createElement(
                  R.zx,
                  { onClick: () => l(!0) },
                  (0, x.Xx)("#Sale_SortTier_Enable"),
                ),
              );
        });
      var Tn = a(92704),
        xn = a(59006),
        Gn = a(82434),
        wn = a.n(Gn),
        In = a(5327);
      const An = (e) => {
        const t = new Array();
        return (
          e.rows.forEach((a) => {
            t.push(
              d.createElement(
                "div",
                {
                  key: "tc_" + a.strSectionId,
                  id: "tc_" + a.strSectionId,
                  className: (0, T.Z)(
                    In.TOCEntry,
                    a.bSectionIsVisible && In.SectionOnScreen,
                    a.strClassName,
                    a.bIndent && In.TOCIndent,
                  ),
                  onClick: () => {
                    e.onSelected && e.onSelected(a);
                    let t = document.getElementById(a.strSectionId);
                    t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                  },
                },
                d.createElement(
                  "div",
                  { style: a.style || null, className: In.TOCEntryText },
                  a.strLabel,
                ),
              ),
            );
          }),
          d.createElement(
            "div",
            { className: In.TableOfContentsContainer },
            d.createElement(
              "div",
              { className: In.ManageLocCtn },
              d.createElement(
                "div",
                { className: In.Header },
                (0, x.Xx)("#EventEditor_Loc_Title"),
              ),
              d.createElement(
                "div",
                { className: In.ManageLocContents },
                (0, x.Xx)("#EventEditor_Loc_Overview"),
                d.createElement(
                  "div",
                  { className: In.LocButtonsCtn },
                  e.elTopContent,
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: In.TableOfContents },
              d.createElement("div", { className: In.Header }, e.strHeader),
              t,
              e.elBottomContent,
            ),
          )
        );
      };
      var kn = a(83999),
        Mn = a(6183),
        Nn = a(86437),
        Bn = a(22042),
        Ln = a(88043),
        On = a(72448);
      function Rn(e) {
        const t = () => e.closeModal && e.closeModal(),
          [a, n] = (0, d.useState)(!1),
          [i, o] = (0, d.useState)(null),
          [r, c] = (0, d.useState)(null),
          [m, u] = (0, d.useState)(null),
          [_, p] = (0, d.useState)(null),
          [E, h] = (0, d.useState)(!1);
        (0, d.useEffect)(() => {
          const e = s().CancelToken.source();
          return (
            Xn().then(() => {
              e.token.reason || n(!0);
            }),
            () => e.cancel("SaleEventExplorerDialog: unmounting")
          );
        }, []);
        return d.createElement(
          Xe.SV,
          null,
          d.createElement(
            f.e1,
            { onEscKeypress: t },
            d.createElement(
              R.VY,
              null,
              d.createElement(R.h4, null, (0, x.Xx)("#Sale_Debug_Title")),
              d.createElement(
                R.uT,
                null,
                d.createElement(
                  R.Ac,
                  null,
                  Boolean(a)
                    ? d.createElement(
                        "div",
                        null,
                        d.createElement(
                          "div",
                          null,
                          (0, x.Xx)("#Sale_Debug_Desc"),
                        ),
                        d.createElement(jn, {
                          fnSetSaleItem: (e, t, a, n, l) => {
                            o(e), c(t), u(a), p(n), h(l);
                          },
                        }),
                        Boolean(i)
                          ? d.createElement(Hn, {
                              saleCapsule: i,
                              list: r,
                              tabList: m,
                              sortList: _,
                              bInLinkedItems: E,
                            })
                          : d.createElement(
                              "div",
                              null,
                              (0, x.Xx)("#Sale_Debug_NoMatchingItem"),
                            ),
                      )
                    : d.createElement(y.V, {
                        string: (0, x.Xx)("#Sale_Debug_Loading"),
                        size: "medium",
                      }),
                ),
              ),
              d.createElement(
                R.$_,
                null,
                d.createElement(R.o9, {
                  onCancel: t,
                  bOKDisabled: !i,
                  strOKText: (0, x.Xx)("#Button_Delete"),
                  onOK: () => {
                    (0, C.AM)(
                      d.createElement(f.uH, {
                        strTitle: (0, x.Xx)("#EventEditor_GenericAreYouSure"),
                        strDescription: (0, x.Xx)("#Sale_Debug_Delete"),
                        onOK: () => {
                          !(function (e) {
                            if (!e) return;
                            const t = l.wk.GetEditModel();
                            (0, B.z)(() => {
                              let a = 0;
                              const n = (t) => {
                                let n = t.capsules.findIndex(
                                  (t) => t.id == e.id && t.type == e.type,
                                );
                                for (; n >= 0; )
                                  t.capsules.splice(n, 1),
                                    (a += 1),
                                    (n = t.capsules.findIndex(
                                      (t) => t.id == e.id && t.type == e.type,
                                    ));
                              };
                              t.GetEventModel().jsondata.sale_sections.forEach(
                                n,
                              );
                              let l = t.GetTabSaleSection();
                              l && l.tabs.forEach(n),
                                a && t.SetDirty(H.jB.jsondata_sales);
                            });
                          })(i),
                            t();
                        },
                      }),
                      window,
                    );
                  },
                }),
              ),
            ),
          ),
        );
      }
      function Xn() {
        return (0, o.mG)(this, void 0, void 0, function* () {
          const e = l.wk.GetEditModel();
          yield Re.Z.Get().HintLoadStoreItems(
            null,
            Array.from(e.GetAllSalePageFeaturedItems("apps")),
            Array.from(e.GetAllSalePageFeaturedItems("packages")),
            Array.from(e.GetAllSalePageFeaturedItems("bundles")),
            null,
            null,
            null,
            { include_assets: !0 },
          );
        });
      }
      function Pn(e, t = "") {
        var a;
        return (
          (null === (a = Re.Z.Get().GetStoreItem(e.id, (0, Nn.TM)(e.type))) ||
          void 0 === a
            ? void 0
            : a.GetName()) || t
        );
      }
      function jn(e) {
        const { fnSetSaleItem: t } = e,
          a = (0, d.useRef)(null),
          n = (0, d.useRef)(null),
          i = (0, d.useRef)(0),
          r = (0, d.useRef)();
        (0, d.useEffect)(() => () => window.clearTimeout(i.current), []);
        const s = (0, d.useCallback)(
          (e) =>
            (0, o.mG)(this, void 0, void 0, function* () {
              let s = e.target.value;
              s &&
                0 != s.trim().length &&
                ((s = s.toLocaleLowerCase()),
                window.clearTimeout(i.current),
                a.current && a.current("SearchForCurator: new request"),
                (i.current = window.setTimeout(
                  () =>
                    (0, o.mG)(this, void 0, void 0, function* () {
                      const e = l.wk.GetEditModel();
                      let a = Number.parseInt(s.trim()),
                        i = new Array();
                      if (e.GetEventModel().BHasSaleEnabled()) {
                        const l = (e) =>
                            e.id == a || Pn(e).toLowerCase().indexOf(s) >= 0,
                          o = (e) => {
                            i.findIndex(
                              (t) => t.id == e.id && t.type == e.type,
                            ) < 0 && i.push(e);
                          };
                        e.GetEventModel().jsondata.sale_sections.forEach(
                          (e) => {
                            if (e.capsules) {
                              e.capsules.filter(l).forEach(o);
                            }
                          },
                        );
                        const c = e.GetTabSaleSection();
                        c &&
                          c.tabs.forEach((e) => {
                            e.capsules && e.capsules.filter(l).forEach(o);
                          });
                        const m = (a) => {
                          var n, l, i;
                          const o = (e) => a.id == e.id && a.type == e.type;
                          let r = new Array();
                          e.GetEventModel().jsondata.sale_sections.forEach(
                            (e) => {
                              var t;
                              (null === (t = e.capsules) || void 0 === t
                                ? void 0
                                : t.filter(o).length) > 0 && r.push(e);
                            },
                          );
                          let s = new Array();
                          c &&
                            (null === (n = c.tabs) ||
                              void 0 === n ||
                              n.forEach((e) => {
                                e.capsules.filter(o).length > 0 && s.push(e);
                              }));
                          let d = new Array();
                          null ===
                            (l = e.GetEventModel().jsondata.sorting_tiers) ||
                            void 0 === l ||
                            l.forEach((e, t) => {
                              var n;
                              if (
                                (null ===
                                  (n = null == e ? void 0 : e.capsules) ||
                                void 0 === n
                                  ? void 0
                                  : n.filter(o).length) > 0
                              )
                                d.push(t);
                              else if (null == e ? void 0 : e.sale_tag_filter) {
                                const n = new Array();
                                n.push(a);
                                (0, Mn.Dq)(new Array(), e.sale_tag_filter, n)
                                  .length > 0 && d.push(t);
                              }
                            });
                          const m =
                            (null ===
                              (i = e.GetEventModel().jsondata.tagged_items) ||
                            void 0 === i
                              ? void 0
                              : i.findIndex(
                                  (e) => e && o(null == e ? void 0 : e.capsule),
                                )) >= 0;
                          t(a, r, s, d, m);
                        };
                        n.current = (0, fa.yV)(
                          d.createElement(Fn, { list: i, fnChooseCapsule: m }),
                          r.current.element,
                          {
                            bOverlapHorizontal: !0,
                            bMatchWidth: !0,
                            bFitToWindow: !0,
                            bDisablePopTop: !0,
                            bNoFocusWhenShown: !0,
                            bSkipFocusWhenReady: !0,
                          },
                        );
                      }
                    }),
                  300,
                )));
            }),
          [t],
        );
        return d.createElement(R.II, {
          type: "text",
          placeholder: (0, x.Xx)("#Sale_Debug_Placeholder"),
          tooltip: (0, x.Xx)("#Sale_Debug_InputToolTip"),
          onChange: s,
          onBlur: () => {
            setTimeout(() => n.current && n.current.Hide(), 200);
          },
          ref: r,
        });
      }
      function Fn(e) {
        const { list: t, fnChooseCapsule: a } = e;
        return d.createElement(
          Bn.xV,
          { className: Ln.SearchResults },
          t.map((e) =>
            d.createElement(
              Bn.Zo,
              {
                key: "sale_" + e.id + "_tpe_" + e.type,
                onSelected: () => a(e),
              },
              d.createElement(
                "div",
                null,
                (0, x.Xx)(
                  "#Sale_Debug_ContextItem",
                  Pn(e, (0, x.Xx)("#Sale_Debug_Unknown")),
                  e.type,
                ),
              ),
            ),
          ),
        );
      }
      function Hn(e) {
        var t;
        const {
            saleCapsule: a,
            list: n,
            tabList: i,
            sortList: o,
            bInLinkedItems: r,
          } = e,
          s = l.wk.GetEditModel(),
          c = s.GetCurEditLanguage(),
          m =
            (0, ze.X)(s.GetClanSteamID(), !1) ||
            (null === (t = s.GetEventModel().jsondata.sorting_tiers) ||
            void 0 === t
              ? void 0
              : t.length) > 0,
          u = (0, pa.vt)();
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            null,
            (0, x.Xx)(
              "#Sale_Debug_MatchItem",
              Pn(a, (0, x.Xx)("#Sale_Debug_Unknown")),
              a.type,
            ),
          ),
          d.createElement("div", null, (0, x.Xx)("#Sale_Debug_AppearsIn")),
          d.createElement(
            "ol",
            null,
            Boolean(n && n.length > 0)
              ? n.map((e) =>
                  d.createElement(
                    "li",
                    { key: e.unique_id },
                    d.createElement(_a.GU, {
                      saleSection: e,
                      editLanguage: c,
                      editModel: s,
                      index: s.GetSaleSectionIndexByID(e.unique_id),
                      inEditor: u,
                    }),
                  ),
                )
              : (0, x.Xx)("#Sale_Debug_NoMatchingItem"),
          ),
          d.createElement("div", null, (0, x.Xx)("#Sale_Debug_Tab_AppearsIn")),
          d.createElement(
            "ol",
            null,
            Boolean(i && i.length > 0)
              ? i.map((e) =>
                  d.createElement("li", { key: e.unique_id }, (0, On.I)(e, c)),
                )
              : (0, x.Xx)("#Sale_Debug_NoMatchingItem"),
          ),
          m &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#Sale_Debug_SortTier_AppearsIn"),
              ),
              d.createElement(
                "ol",
                null,
                Boolean((null == o ? void 0 : o.length) > 0)
                  ? o.map((e) =>
                      d.createElement(
                        "li",
                        { key: "st" + e },
                        (0, x.Xx)("#Sale_Debug_Tier", e + 1),
                      ),
                    )
                  : (0, x.Xx)("#Sale_Debug_NoMatchingItem"),
              ),
            ),
          d.createElement(
            "div",
            null,
            (0, x.Xx)(
              r ? "#Sale_Debug_LinkedSection" : "#Sale_Debug_Not_LinkedSection",
            ),
          ),
        );
      }
      function zn(e) {
        return `${e.type}:${e.id}`;
      }
      function Vn(e) {
        const t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      function Un(e) {
        const [t, a] = (0, d.useState)(!1),
          [n, i] = (0, d.useState)(null),
          o = () => e.closeModal && e.closeModal();
        (0, d.useEffect)(() => {
          const e = s().CancelToken.source();
          return (
            Xn().then(() => {
              e.token.reason || a(!0);
            }),
            i(
              (function () {
                var e, t;
                const a = [],
                  n = new Map(),
                  i = l.wk.GetEditModel(),
                  o = i.GetTabSaleSection();
                return (
                  null === (e = null == o ? void 0 : o.tabs) ||
                    void 0 === e ||
                    e.forEach((e) => {
                      var t;
                      const l = {
                        type: "tab",
                        unique_id: e.unique_id,
                        strLabel: (0, x.Xx)(
                          (null === (t = e.localized_label) || void 0 === t
                            ? void 0
                            : t[0]) || e.default_label,
                        ),
                      };
                      a.push(l),
                        e.capsules.forEach((t) => {
                          const a = zn(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  null === (t = i.GetEventModel().jsondata.sale_sections) ||
                    void 0 === t ||
                    t.forEach((e) => {
                      if ("items" != e.section_type) return;
                      const t = {
                        type: "section",
                        unique_id: e.unique_id,
                        strLabel: (0, x.Xx)(
                          (0, fn.kB)(e, i.GetEventModel(), !0) ||
                            e.localized_label[0] ||
                            e.default_label,
                        ),
                      };
                      a.push(t),
                        e.capsules.forEach((t) => {
                          const a = zn(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  { mapItemLocations: n, rgSections: a }
                );
              })(),
            ),
            () => e.cancel("SaleEventItemLocationCSVDownloadDialog: unmounting")
          );
        }, []);
        let r = null;
        if (n) {
          const e = n.rgSections.filter((e) => "tab" == e.type).length,
            t = n.rgSections.length - e,
            a = n.mapItemLocations.size;
          r = (0, x.Xx)("#Sale_GameExport_ContentSummary", e, t, a);
        }
        return d.createElement(
          Xe.SV,
          null,
          d.createElement(
            f.e1,
            { onEscKeypress: o },
            d.createElement(
              R.VY,
              null,
              d.createElement(R.h4, null, (0, x.Xx)("#Sale_GameExport_Title")),
              d.createElement(
                R.uT,
                null,
                d.createElement(
                  R.Ac,
                  null,
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)("#Sale_GameExport_Desc"),
                  ),
                ),
                d.createElement(
                  R.Ac,
                  null,
                  t
                    ? r
                    : d.createElement(y.V, {
                        position: "center",
                        string: (0, x.Xx)("#Sale_Debug_Loading"),
                        size: "medium",
                      }),
                ),
              ),
              d.createElement(
                R.$_,
                null,
                d.createElement(R.o9, {
                  onCancel: o,
                  bOKDisabled: !t,
                  strOKText: (0, x.Xx)("#Button_Save"),
                  onOK: () => {
                    var e;
                    const { mapItemLocations: t, rgSections: a } = n,
                      l = [];
                    for (const a of Array.from(t.keys())) {
                      const t = Vn(a);
                      let n;
                      try {
                        n =
                          null ===
                            (e = Re.Z.Get().GetStoreItem(
                              t.id,
                              (0, Nn.TM)(t.type),
                            )) || void 0 === e
                            ? void 0
                            : e.GetName();
                      } catch (e) {}
                      l.push([`${t.type}: ${n || t.id}`, a]);
                    }
                    l.sort();
                    const i = [],
                      r = ["Item", "AppID", "Count"];
                    for (const e of a) r.push(`${e.strLabel} (${e.type})`);
                    i.push(r);
                    for (const [e, n] of l) {
                      const l = t.get(n),
                        o = [e, Vn(n).id.toString(), l.size.toString()];
                      for (const e of a) o.push(l.has(e.unique_id) ? "1" : " ");
                      i.push(o);
                    }
                    const s = "item_locations.csv";
                    St.K.WriteCSVToFile(i, s),
                      (0, C.x1)(
                        d.createElement(f.uH, {
                          strTitle: (0, x.Xx)("#Sale_GameExport_Title"),
                          bAlertDialog: !0,
                          strDescription: (0, x.Xx)(
                            "#Sale_GameExport_FileExported",
                            s,
                          ),
                        }),
                        window,
                      ),
                      o();
                  },
                }),
              ),
            ),
          ),
        );
      }
      const Zn = (0, c.Pi)((e) => {
          var t, a;
          const n = (0, I.id)(),
            l = (0, pa.vt)(),
            i = (e, t, a, n = !1, l) => {
              e.push({
                strLabel: t,
                strSectionId: a,
                style: l,
                bIndent: n,
                bSectionIsVisible: La.m_mapVisibleSections.has(a),
              });
            },
            { editModel: o } = e;
          let r = o.GetEventModel(),
            s = new Array();
          i(s, (0, x.Xx)("#Sale_PageConfigOptions"), "SalePageEdit_Config");
          const c = (0, ze.X)(o.GetClanSteamID(), !1);
          if (
            ((c || r.GetTaggedItems().length > 0) &&
              i(
                s,
                (0, x.Xx)(
                  "#Sale_TaggedItemsSection",
                  r.GetTaggedItems().length,
                ),
                "SalePageEdit_TaggedItems",
              ),
            c ||
              (null === (t = r.jsondata.sorting_tiers) || void 0 === t
                ? void 0
                : t.length) > 0)
          ) {
            const e =
              (null === (a = o.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0;
            i(
              s,
              (0, x.Xx)("#Sale_SortingTiersSection", e),
              "SalePageEdit_SortingTiers",
            );
          }
          i(
            s,
            (0, x.Xx)("#Sale_Artwork_Sections"),
            "SalePageEdit_AllArtworkCtn",
          ),
            (r.BHasTag("contenthub") || r.BUsesContentHubForItemSource()) &&
              i(s, "Content Hub Settings", "SalePageEdit_ContentHub");
          let m = !1;
          return (
            r.GetSaleSections().forEach((e, t) => {
              const a = d.createElement(_a.GU, {
                  saleSection: e,
                  editModel: o,
                  editLanguage: o.GetCurEditLanguage(),
                  index: t,
                  inEditor: l,
                }),
                c = Object.assign(Object.assign({}, (0, _a.OC)(e, r, n)), {
                  color: e.label_color,
                }),
                u = "SaleSection_" + e.unique_id;
              i(s, a, u, m, c), "tabs" === e.section_type && (m = !0);
            }),
            c && i(s, "(VO) Custom CSS Editor", "SalePageEdit_CustomCSSCode"),
            d.createElement(
              Xe.SV,
              null,
              d.createElement(An, {
                elTopContent: d.createElement(we, { editModel: e.editModel }),
                strHeader: (0, x.Xx)("#Sale_TOC"),
                rows: s,
                onSelected: (t) => {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: d.createElement(qn, {
                  editModel: e.editModel,
                }),
              }),
            )
          );
        }),
        qn = (e) => {
          const { editModel: t } = e,
            a = (0, B.aD)(() => {
              const e = Object.assign(Object.assign({}, _.a4), {
                  unique_id: t.GenerateSaleSectionUniqueID(),
                }),
                a = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              a &&
                ((e.label_color = a.label_color),
                (e.background_gradient_bottom = a.background_gradient_bottom),
                (e.background_gradient_top = a.background_gradient_top),
                (e.border_color = a.border_color),
                (e.border_width = a.border_width)),
                t.GetEventModel().jsondata.sale_sections.push(e),
                t.SetDirty(H.jB.jsondata_sales);
              const n = document.getElementById(
                "sale_editor_button_after_all_sections",
              );
              n && n.scrollIntoView();
            });
          return d.createElement(
            R.KM,
            { onClick: a, className: g.AddSectionButton },
            (0, x.Xx)("#Sale_AddNewSection"),
          );
        };
      function Wn(e) {
        const t = l.wk.GetEditModel(),
          [a, n] = d.useState(!1);
        return d.createElement(
          "div",
          { className: Gn.BottomBarControls },
          d.createElement(
            "div",
            { className: Gn.ReoderSections },
            d.createElement(
              P.HP,
              { toolTipContent: (0, x.Xx)("#Sale_Debug_Tooltip") },
              d.createElement(
                R.zx,
                {
                  onClick: (e) =>
                    (0, C.AM)(d.createElement(Rn, null), (0, j.RA)(e)),
                },
                (0, x.Xx)("#Sale_Debug_Title"),
              ),
            ),
          ),
          d.createElement(
            "div",
            { className: Gn.ReoderSections },
            d.createElement(
              P.HP,
              { toolTipContent: (0, x.Xx)("#Sale_GameExport_Desc") },
              d.createElement(
                R.zx,
                {
                  onClick: (e) =>
                    (0, C.AM)(d.createElement(Un, null), (0, j.RA)(e)),
                },
                (0, x.Xx)("#Sale_GameExport_Title"),
              ),
            ),
          ),
          d.createElement(
            "div",
            { className: Gn.ReoderSections },
            d.createElement(
              P.HP,
              { toolTipContent: (0, x.Xx)("#Sale_ReorderSections_ttip") },
              d.createElement(
                R.zx,
                { onClick: () => n(!0) },
                (0, x.Xx)("#Sale_ReorderSections"),
              ),
            ),
            d.createElement(Jn, {
              editModel: t,
              active: a,
              onDismiss: () => n(!1),
            }),
          ),
          d.createElement(
            "div",
            { className: Gn.MinimizeAll },
            d.createElement(
              P.HP,
              {
                toolTipContent: (0, x.Xx)("#Sale_Section_MinimizeAll_Tooltip"),
              },
              d.createElement(
                R.zx,
                { onClick: ra.Q6 },
                (0, x.Xx)("#Sale_Section_MinimizeAll"),
              ),
            ),
          ),
        );
      }
      function Jn(e) {
        const { editModel: t, active: a, onDismiss: n } = e,
          [l, i] = d.useState([...t.GetSaleSections()]),
          o = (0, I.id)(),
          r = (0, pa.vt)();
        return d.createElement(
          f.On,
          { active: a, onDismiss: n },
          d.createElement(R.h4, null, (0, x.Xx)("#Sale_ReorderSections")),
          d.createElement(
            R.uT,
            null,
            d.createElement(
              "div",
              { className: Gn.ReorderSectionCtn },
              d.createElement(
                "div",
                { className: Gn.SectionList },
                d.createElement(ua.R, {
                  items: l,
                  onMove: (e, t) => {
                    let a = [...l];
                    (0, kn.hV)(a, e, t), i(a);
                  },
                  render: (e) => {
                    const a = t.GetSaleSections().findIndex((t) => e === t),
                      n = Object.assign(
                        Object.assign({}, (0, _a.OC)(e, t.GetEventModel(), o)),
                        { color: e.label_color },
                      );
                    return d.createElement(
                      "div",
                      { className: Gn.SectionTitle, style: n },
                      d.createElement(_a.GU, {
                        saleSection: e,
                        editLanguage: t.GetCurEditLanguage(),
                        editModel: t,
                        index: a,
                        inEditor: r,
                      }),
                    );
                  },
                }),
              ),
              d.createElement(
                "div",
                { className: Gn.OKButton },
                d.createElement(
                  R.KM,
                  {
                    onClick: () => {
                      (t.GetEventModel().jsondata.sale_sections = l),
                        t.SetDirty(H.jB.jsondata_sales),
                        n();
                    },
                  },
                  (0, x.Xx)("#Sale_TagFilter_OK"),
                ),
              ),
            ),
          ),
        );
      }
      const Kn = d.lazy(() => a.e(3663).then(a.bind(a, 84357)));
      function Qn(e) {
        const { editModel: t } = e,
          a = t.GetEventModel().jsondata,
          [n, l, i] = (0, Wt.SZ)(() => [
            a.sale_custom_css,
            a.sale_vanity_id_valve_approved_for_sale_subpath,
            t.GetName(),
          ]),
          [o, r] = d.useState(() => i + "_custom.css");
        return La.WrapWithNavWaypoint(
          "SalePageEdit_CustomCSSCode",
          d.createElement(
            ze.s,
            {
              className: ka.ValveOnlySettingsCtn,
              clanSteamID: t.GetClanSteamID(),
              id: "SalePageEdit_CustomCSSCode",
            },
            Boolean(l)
              ? d.createElement(
                  "div",
                  { className: ka.CustomCssCtn },
                  d.createElement(
                    "div",
                    { className: ka.Title },
                    " (VO) Custom CSS ",
                  ),
                  d.createElement(
                    "p",
                    null,
                    "Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props.",
                  ),
                  d.createElement("h3", null, "Custom Fonts"),
                  d.createElement(
                    "p",
                    null,
                    " If you're going to import custom fonts you need to declare each family separately or they won't import correctly. ",
                  ),
                  d.createElement(
                    "div",
                    { className: ka.CodeSnippet },
                    d.createElement("code", null, "'//For Example'"),
                    d.createElement("br", null),
                    d.createElement(
                      "code",
                      null,
                      "@import url('https://fonts.googleapis.com/css2?family=Protest+Strike&display=swap'); ",
                    ),
                    d.createElement("br", null),
                    d.createElement(
                      "code",
                      null,
                      "@import url('https://fonts.googleapis.com/css2?family=Quantico:ital,wght@0,400;0,700;1,400;1,700&display=swap');",
                    ),
                  ),
                  d.createElement(
                    "p",
                    null,
                    "Additionally, when you declare a font-family in your custom CSS do not wrap the name of the family in quotation marks.",
                  ),
                  d.createElement(
                    "div",
                    { className: ka.CodeSnippet },
                    d.createElement("code", null, "'//For Example'"),
                    d.createElement("br", null),
                    d.createElement(
                      "code",
                      null,
                      "font-family: Protest Strike",
                    ),
                    " will work, ",
                    d.createElement(
                      "code",
                      null,
                      'font-family: "Protest Strike"',
                    ),
                    " will NOT",
                  ),
                  d.createElement(
                    "div",
                    { className: ka.ButtonGroup },
                    d.createElement("input", {
                      type: "file",
                      onChange: (e) => {
                        var a;
                        const n =
                          null === (a = e.target.files) || void 0 === a
                            ? void 0
                            : a[0];
                        if (n) {
                          r(e.target.files[0].name);
                          const a = new FileReader();
                          (a.onload = (a) => {
                            const n = a.target.result.toString();
                            (t.GetEventModel().jsondata.sale_custom_css = n),
                              t.SetDirty(H.jB.jsondata_sales),
                              (e.target.value = "");
                          }),
                            a.readAsText(n);
                        }
                      },
                    }),
                    d.createElement(
                      R.zx,
                      {
                        onClick: () => {
                          const e = document.createElement("a"),
                            t = new Blob([n], { type: "text/css" });
                          (e.href = URL.createObjectURL(t)),
                            (e.download = o),
                            document.body.appendChild(e),
                            e.click();
                        },
                      },
                      "Export",
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: ka.CodeEditor },
                    d.createElement(
                      d.Suspense,
                      { fallback: null },
                      d.createElement(Kn, {
                        width: "100%",
                        height: "100%",
                        language: "css",
                        theme: "vs-dark",
                        value: n || "",
                        options: {
                          selectOnLineNumbers: !0,
                          tabCompletion: "on",
                          colorDecorators: !0,
                          scrollBeyondLastLine: !1,
                          automaticLayout: !0,
                        },
                        onChange: (e) => {
                          t.GetEventModel().jsondata.sale_custom_css != e &&
                            ((t.GetEventModel().jsondata.sale_custom_css = e),
                            t.SetDirty(H.jB.jsondata_sales));
                        },
                      }),
                    ),
                  ),
                )
              : d.createElement(
                  "div",
                  { className: ka.SettingCtn },
                  d.createElement(
                    "p",
                    null,
                    "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section",
                  ),
                ),
          ),
        );
      }
      function Yn(e) {
        const { editModel: t } = e;
        return (0, Wt.SZ)(() => t.GetGID())
          ? d.createElement($n, { editModel: t })
          : d.createElement(
              "div",
              { className: (0, T.Z)(ka.SaleContainer, "SaleContainer") },
              (0, x.Xx)("#Sale_SaveFirst"),
            );
      }
      function $n(e) {
        const { editModel: t } = e,
          a = t.GetEventModel().jsondata,
          n = (0, Kt.iG)(t.GetEventModel().clanSteamID.GetAccountID()),
          l = (0, Wt.SZ)(() => {
            var e;
            return (
              (null === (e = t.GetEventModel().jsondata.sale_presenters) ||
              void 0 === e
                ? void 0
                : e.length) > 0
            );
          }),
          { bRequiresHostDisclaimer: i } = (0, Ot.qA)(
            t.GetClanAccountID(),
            t.GetGID(),
          );
        (0, d.useEffect)(() => {
          ra.r9.Get().EnsureLoaded(t),
            !ra.r9.Get().BHasExplicitSettings(t) &&
              t.GetSaleSectionCount() > 10 &&
              (0, ra.Q6)();
        }, [t]);
        const o = d.useCallback((e) => {
            (0, ra.Uy)(e.strSectionId) && (0, ra.r2)(e.strSectionId);
          }, []),
          [r] = (0, Wt.SZ)(() => [t.GetEventModel().jsondata.sale_presenters]);
        return t.BIsSourceEventSaleEnabled() ||
          !a.clone_from_event_gid ||
          !a.clone_from_sale_enabled ||
          (n && n.BHasClanAccountFlagSet(32))
          ? d.createElement(
              "div",
              { className: (0, T.Z)(ka.SaleContainer, "SaleContainer") },
              d.createElement(gn, null),
              d.createElement(
                "div",
                { className: g.EventEditorTextTitleCtn },
                d.createElement(
                  "span",
                  { className: (0, T.Z)(g.EventEditorTextTitle, g.FlexGrow) },
                  (0, x.Xx)("#Sale_title"),
                ),
                d.createElement(
                  aa.ns,
                  {
                    href:
                      I.De.PARTNER_BASE_URL +
                      "doc/resources/Sales_Feature_Beta",
                    className: (0, T.Z)(g.doclink),
                  },
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#Broadcast_documentation"),
                  ),
                ),
              ),
              d.createElement(
                $a,
                null,
                Boolean(!i || l) &&
                  d.createElement(Ua, {
                    clanSteamID: t.GetClanSteamID(),
                    gidClanEvent: t.GetGID(),
                    rgSalePresenters: r,
                    fnCleanSaleEventPresenters: () => {
                      (t.GetEventModel().jsondata.sale_presenters = void 0),
                        t.SetDirty(H.jB.jsondata_sales);
                    },
                    bPublishTab: !1,
                  }),
                d.createElement(en, null),
                d.createElement(
                  "div",
                  null,
                  d.createElement(Wn, null),
                  d.createElement(Zn, { editModel: t, onSelected: o }),
                  d.createElement(hn, { editModel: t }),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_Config",
                    d.createElement(dn, { strToggleID: "SalePageEdit_Config" }),
                  ),
                  La.WrapWithNavWaypoint(
                    "SalePageEdit_TaggedItems",
                    d.createElement(
                      Na,
                      {
                        strToggleName: "SalePageEdit_TaggedItems",
                        strToolTip: (0, x.Xx)("#Sale_TagFilter_SectionTooltip"),
                        strTitle: (0, x.Xx)(
                          "#Sale_TaggedItemsSection",
                          t.GetEventModel().GetTaggedItems().length,
                        ),
                      },
                      d.createElement(Tn.m6, { editModel: t }),
                    ),
                  ),
                  d.createElement(Cn, { editModel: t }),
                  d.createElement(Oa, { editModel: t }),
                  (t.BHasTag("contenthub") ||
                    t.GetEventModel().BUsesContentHubForItemSource()) &&
                    La.WrapWithNavWaypoint(
                      "SalePageEdit_ContentHub",
                      d.createElement(
                        Na,
                        {
                          strToggleName: "SalePageEdit_ContentHub",
                          strTitle: "Content Hub Settings",
                          strToolTip:
                            "Manage settings for content hubs, including overrides for specific hubs and hub-based sales.",
                        },
                        d.createElement(Ea, { editModel: t }),
                      ),
                    ),
                  d.createElement(el, { editModel: t }),
                  d.createElement(nl, { editModel: t }),
                  d.createElement("div", { className: ka.SectionDivider }),
                  d.createElement(al, { editModel: t }),
                  d.createElement(Qn, { editModel: t }),
                ),
              ),
            )
          : d.createElement(
              "div",
              { className: (0, T.Z)(ka.SaleContainer, "SaleContainer") },
              d.createElement(
                "div",
                { className: cn.WarningStyles },
                (0, x.Xx)("#Sale_CloneNotReady"),
              ),
              d.createElement(gn, null),
            );
      }
      function el(e) {
        const { editModel: t } = e,
          a = (0, Wt.SZ)(() => t.GetEventModel().GetSaleSections().length),
          n = (0, Wt.SZ)(() => {
            const e = new Map();
            for (const a of t.GetEventModel().GetSaleSections())
              e.set(a.section_type, (e.get(a.section_type) || 0) + 1);
            return e;
          });
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                g.EventEditorTextTitle,
                ka.CustomSectionsTitle,
              ),
            },
            (0, x.Xx)("#Sale_Sections_Title"),
          ),
          0 == a
            ? d.createElement(tl, null)
            : t
                .GetEventModel()
                .GetSaleSections()
                .map((e, a) => {
                  var l;
                  const i = "SaleSection_" + e.unique_id,
                    o = (0, _a.ZP)(e.section_type) && n.get(e.section_type) > 1;
                  return La.WrapWithNavWaypoint(
                    i,
                    d.createElement(_a.kY, {
                      key:
                        "salesection_" +
                        (null !== (l = e.unique_id) && void 0 !== l ? l : a),
                      index: a,
                      saleSection: e,
                      isDuplicateSingleton: o,
                      editModel: t,
                      editLanguage: t.GetCurEditLanguage(),
                    }),
                  );
                }),
          d.createElement(
            "div",
            {
              id: "sale_editor_button_after_all_sections",
              className: ka.AddSectionBtnCtn,
            },
            d.createElement(
              "div",
              { className: g.SaleSectionHeader },
              (0, x.Xx)("#Sale_AddNewSection_Title"),
            ),
            d.createElement("p", null, (0, x.Xx)("#Sale_AddNewSection_Desc")),
            d.createElement(qn, { editModel: t }),
          ),
        );
      }
      function tl(e) {
        return d.createElement(
          "div",
          {
            id: "NoSaleSections",
            className: (0, T.Z)(ka.SaleSection, ka.InEditor),
          },
          d.createElement(
            "div",
            { className: g.SaleSectionHeader },
            (0, x.Xx)("#Sale_SectionListPlaceholder_Header"),
          ),
          d.createElement(
            "div",
            null,
            (0, x.Xx)("#Sale_SectionListPlaceholder_Content"),
          ),
        );
      }
      function al(e) {
        const { editModel: t } = e,
          a = t.GetEventModel().jsondata,
          [n, l, i, o] = (0, Wt.SZ)(() => [
            a.sale_browsemore_url,
            a.sale_browsemore_color,
            a.sale_browsemore_bgcolor,
            a.sale_browse_more_button,
          ]),
          r = (e, a) => {
            (t.GetEventModel().jsondata[a] = e),
              t.SetDirty(H.jB.jsondata_sales);
          };
        return d.createElement(
          ze.s,
          {
            className: ka.ValveOnlySettingsCtn,
            clanSteamID: t.GetClanSteamID(),
            requireAdmin: !0,
          },
          d.createElement(
            "div",
            { className: ka.Title },
            "(VO) ",
            (0, x.Xx)("#Sale_BrowseMore"),
          ),
          d.createElement(R.gE, {
            onChange: (e) => {
              (t.GetEventModel().jsondata.sale_browse_more_button = e),
                t.SetDirty(H.jB.jsondata_sales);
            },
            label: (0, x.Xx)("#Sale_BrowseMore_Desc"),
            checked: o,
          }),
          o &&
            d.createElement(
              "div",
              null,
              d.createElement(R.II, {
                type: "text",
                label: (0, x.Xx)("#Sale_BrowseMore_URL"),
                name: "sale_browsemore_url",
                placeholder: (0, x.Xx)("#Sale_BrowseMore_URL"),
                value: n,
                onChange: (e) => {
                  (t.GetEventModel().jsondata[e.target.name] = e.target.value),
                    t.SetDirty(H.jB.jsondata_sales);
                },
              }),
              d.createElement(
                R.zx,
                {
                  onClick: (e) => {
                    (0, fa.yV)(
                      d.createElement(Ca.z, {
                        onChange: (e) => r(e, "sale_browsemore_color"),
                        color: l,
                      }),
                      e,
                      { bDisablePopTop: !0 },
                    );
                  },
                  className: g.EventEditorTextTitle,
                  style: { color: l, backgroundColor: i },
                },
                (0, x.Xx)("#Sale_Section_Label_Color"),
              ),
              d.createElement(
                R.zx,
                {
                  onClick: (e) => {
                    const {
                      sale_browsemore_color: a,
                      sale_browsemore_bgcolor: n,
                    } = t.GetEventModel().jsondata;
                    (0, fa.yV)(
                      d.createElement(Ca.z, {
                        onChange: (e) => r(e, "sale_browsemore_bgcolor"),
                        color: n,
                      }),
                      e,
                      { bDisablePopTop: !0 },
                    );
                  },
                  className: g.EventEditorTextTitle,
                  style: { color: l, backgroundColor: i },
                },
                (0, x.Xx)("#Sale_Section_Background_Color"),
              ),
              d.createElement(xn.o5, {
                text: (0, x.Xx)("#Sale_SeeAllSpecials"),
                url: "",
                color: l,
                bgcolor: i,
              }),
            ),
        );
      }
      function nl(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = t.GetCurEditLanguage(),
          [l, i, o, r, s, c] = (0, Wt.SZ)(() => [
            t.GetName(n) || "",
            t.GetSummary(n) || "",
            t.GetDescription(n) || "",
            t.GetImageURL("capsule", n) || "",
            a.GetSaleSectionsByType("social_share") || [],
            a.jsondata.sale_default_social_media_disabled,
          ]),
          m = s.length > 0,
          u = !(c || m);
        return d.createElement(
          "div",
          { className: ka.SettingCtn },
          d.createElement(
            "div",
            { className: ka.Title },
            (0, x.Xx)("#Sale_DefaultSocialModule"),
          ),
          d.createElement(
            "p",
            null,
            (0, x.Xx)("#Sale_DefaultSocialModule_Description"),
          ),
          d.createElement(
            ze.s,
            { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
            d.createElement(
              "p",
              { className: ka.DefaultSocialOverrideMsg },
              (0, x.Xx)(
                m
                  ? "#Sale_DefaultSocialModule_DisabledByOverride"
                  : "#Sale_DefaultSocialModule_Override",
              ),
            ),
          ),
          u &&
            d.createElement(
              "div",
              { className: ka.SocialShareCtn },
              d.createElement("img", {
                className: ka.DefaultSocialImgCtn,
                src: r,
              }),
              d.createElement(
                "div",
                { className: ka.SocialShareText },
                d.createElement(
                  "div",
                  { className: ka.SocialTitle },
                  l,
                  d.createElement("br", null),
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#Sale_DefaultSocialModule_DefaultTitle"),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: ka.SocialDesc },
                  i || _.bH.GenerateSummaryFromText(o),
                  d.createElement("br", null),
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#Sale_DefaultSocialModule_DefaultDesc"),
                  ),
                ),
              ),
            ),
          d.createElement(R.gE, {
            onChange: (e) => {
              (a.jsondata.sale_default_social_media_disabled = !e),
                t.SetDirty(H.jB.jsondata_sales);
            },
            label: (0, x.Xx)("#Sale_DefaultSocialModule_Toggle"),
            checked: u,
            disabled: m,
          }),
        );
      }
      class ll {
        constructor(e) {
          (this.m_editModel = void 0), (0, B.rC)(this), (this.m_editModel = e);
        }
        GetJSONData() {
          return this.m_editModel.GetEventModel().jsondata;
        }
        GetBroadcastAllowList() {
          return this.GetJSONData().broadcast_whitelist;
        }
        SetBroadcastEnabled(e) {
          this.GetJSONData().bBroadcastEnabled !== e &&
            ((this.GetJSONData().bBroadcastEnabled = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetBroadcastForceBanner(e) {
          this.GetJSONData().broadcast_force_banner !== e &&
            ((this.GetJSONData().broadcast_force_banner = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetChangeSetting(e) {
          this.GetJSONData().broadcastChatSetting !== e &&
            ((this.GetJSONData().broadcastChatSetting = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetTitleToken(e) {
          this.GetJSONData().default_broadcast_title !== e &&
            ((this.GetJSONData().default_broadcast_title = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetCustomTitleLocalize(e, t) {
          this.GetJSONData().localized_broadcast_title[e] !== t &&
            ((this.GetJSONData().localized_broadcast_title[e] = t),
            (this.GetJSONData().localized_broadcast_title = [
              ...this.GetJSONData().localized_broadcast_title,
            ]),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        AddAccountToWhiteList(e) {
          const t = this.GetJSONData().broadcast_whitelist;
          t.includes(e) ||
            (t.push(e),
            (this.GetJSONData().broadcast_whitelist = [
              ...this.GetJSONData().broadcast_whitelist,
            ]),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        DeleteWhiteListAccount(e) {
          let t = this.GetJSONData().broadcast_whitelist.indexOf(e);
          t < 0
            ? "dev" == Ta.De.WEB_UNIVERSE &&
              console.log(
                `EventBroadcastEditModel: Failed to find account to  ${e} in `,
                this.GetJSONData().broadcast_whitelist,
              )
            : (this.GetJSONData().broadcast_whitelist.splice(t, 1),
              this.GetJSONData().broadcast_language &&
                this.GetJSONData().broadcast_language.length > t &&
                this.GetJSONData().broadcast_language.splice(t, 1),
              this.GetJSONData().broadcast_priority &&
                this.GetJSONData().broadcast_priority.length > t &&
                this.GetJSONData().broadcast_priority.splice(t, 1),
              (this.GetJSONData().broadcast_whitelist = [
                ...this.GetJSONData().broadcast_whitelist,
              ]),
              this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetWhiteListAccountLanguage(e, t) {
          let a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          if (a < this.GetJSONData().broadcast_whitelist.length) {
            if (!this.GetJSONData().broadcast_language) {
              if (-1 == t) return;
              this.GetJSONData().broadcast_language = new Array();
            }
            const e = this.GetJSONData().broadcast_language;
            if (e.length < a && -1 == t) return;
            for (; e.length <= a; ) e.push(-1);
            if (e[a] != t) {
              for (e[a] = t; e.length > 0 && -1 == e[e.length - 1]; ) e.pop();
              0 == e.length
                ? (this.GetJSONData().broadcast_language = void 0)
                : (this.GetJSONData().broadcast_language = [
                    ...this.GetJSONData().broadcast_language,
                  ]),
                this.m_editModel.SetDirty(H.jB.jsondata_broadcast);
            }
          }
        }
        SetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          const n = (0, kn.LG)(
            this.GetJSONData().broadcast_priority || [],
            a + 1,
            "",
          );
          for (n[a] = t; n.length > 0 && !n[n.length - 1]; ) n.pop();
          (this.GetJSONData().broadcast_priority = n),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast);
        }
        GetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          return a < 0 ||
            !this.GetJSONData().broadcast_priority ||
            a >= this.GetJSONData().broadcast_priority.length
            ? t
            : this.GetJSONData().broadcast_priority[a] || t;
        }
        RemoveWhiteListAtIndex(e) {
          this.GetJSONData().broadcast_whitelist.length > e &&
            (this.GetJSONData().broadcast_whitelist.splice(e, 1),
            (this.GetJSONData().broadcast_whitelist = [
              ...this.GetJSONData().broadcast_whitelist,
            ]),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        ClearWhiteList() {
          this.GetJSONData().broadcast_whitelist.length > 0 &&
            ((this.GetJSONData().broadcast_whitelist = []),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        GetBroadcastContentType() {
          return this.GetJSONData().broadcast_content_type;
        }
        SetBroadcastContentType(e) {
          this.GetJSONData().broadcast_content_type != e &&
            ((this.GetJSONData().broadcast_content_type = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        GetPrerollVideo() {
          return this.GetJSONData().broadcast_preroll_vod_appid;
        }
        SetPrerollVODAppID(e) {
          this.GetJSONData().broadcast_preroll_vod_appid !== e &&
            ((this.GetJSONData().broadcast_preroll_vod_appid = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetDropsEnabled(e) {
          this.GetJSONData().broadcast_item_drops_enabled != e &&
            (e
              ? ((this.GetJSONData().broadcast_item_drops_enabled = !0),
                (this.GetJSONData().broadcast_item_drops_manual = !1),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = 30))
              : ((this.GetJSONData().broadcast_item_drops_enabled = void 0),
                (this.GetJSONData().broadcast_item_drops_manual = void 0),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes =
                  void 0),
                (this.GetJSONData().broadcast_item_drops_details_clan_accountid =
                  void 0),
                (this.GetJSONData().broadcast_item_drops_details_event_gid =
                  void 0)),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetItemDropManual(e) {
          this.GetJSONData().broadcast_item_drops_manual != e &&
            ((this.GetJSONData().broadcast_item_drops_manual = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetItemDropMinutes(e) {
          this.GetJSONData().broadcast_item_drops_min_watch_time_minutes != e &&
            ((this.GetJSONData().broadcast_item_drops_min_watch_time_minutes =
              e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetItemDropDetailEvents(e, t) {
          (this.GetJSONData().broadcast_item_drops_details_clan_accountid ==
            e &&
            this.GetJSONData().broadcast_item_drops_details_event_gid == t) ||
            ((this.GetJSONData().broadcast_item_drops_details_event_gid = t),
            (this.GetJSONData().broadcast_item_drops_details_clan_accountid =
              e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetWidePlayerLayout(e) {
          this.GetJSONData().broadcast_display_wide_player != e &&
            ((this.GetJSONData().broadcast_display_wide_player = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetWidePlayerSupportChat(e) {
          this.GetJSONData().broadcast_dispaly_wide_player_allow_chat != e &&
            ((this.GetJSONData().broadcast_dispaly_wide_player_allow_chat = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
        SetChatAnnouncementGiveawayGID(e) {
          this.GetJSONData().broadcast_chat_announcement_giveaway != e &&
            ((this.GetJSONData().broadcast_chat_announcement_giveaway = e),
            this.m_editModel.SetDirty(H.jB.jsondata_broadcast));
        }
      }
      (0, o.gn)([B.LO], ll.prototype, "m_editModel", void 0),
        (0, o.gn)([B.aD], ll.prototype, "SetBroadcastEnabled", null),
        (0, o.gn)([B.aD], ll.prototype, "SetBroadcastForceBanner", null),
        (0, o.gn)([B.aD], ll.prototype, "SetChangeSetting", null),
        (0, o.gn)([B.aD], ll.prototype, "SetTitleToken", null),
        (0, o.gn)([B.aD], ll.prototype, "SetCustomTitleLocalize", null),
        (0, o.gn)([B.aD], ll.prototype, "AddAccountToWhiteList", null),
        (0, o.gn)([B.aD], ll.prototype, "DeleteWhiteListAccount", null),
        (0, o.gn)([B.aD], ll.prototype, "SetWhiteListAccountLanguage", null),
        (0, o.gn)([B.aD], ll.prototype, "SetWhiteListAccountPriority", null),
        (0, o.gn)([B.aD], ll.prototype, "RemoveWhiteListAtIndex", null),
        (0, o.gn)([B.aD], ll.prototype, "ClearWhiteList", null),
        (0, o.gn)([B.aD], ll.prototype, "SetBroadcastContentType", null),
        (0, o.gn)([B.aD], ll.prototype, "SetPrerollVODAppID", null),
        (0, o.gn)([B.aD], ll.prototype, "SetDropsEnabled", null),
        (0, o.gn)([B.aD], ll.prototype, "SetItemDropManual", null),
        (0, o.gn)([B.aD], ll.prototype, "SetItemDropMinutes", null),
        (0, o.gn)([B.aD], ll.prototype, "SetItemDropDetailEvents", null),
        (0, o.gn)([B.aD], ll.prototype, "SetWidePlayerLayout", null),
        (0, o.gn)([B.aD], ll.prototype, "SetWidePlayerSupportChat", null),
        (0, o.gn)([B.aD], ll.prototype, "SetChatAnnouncementGiveawayGID", null);
      var il = a(36595),
        ol = a(38071),
        rl = a(5891);
      class sl {
        GetFriendLiset() {
          return this.m_rgFriendsList;
        }
        LoadFriendList() {
          var e, t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let a = null;
            if (this.m_rgFriendsList) return this.m_rgFriendsList;
            if (!I.L7.logged_in) return [];
            try {
              const n = yield s().get(
                I.De.COMMUNITY_BASE_URL + "actions/ajaxlistfriends",
              );
              if (
                200 == (null == n ? void 0 : n.status) &&
                1 ==
                  (null === (e = n.data) || void 0 === e
                    ? void 0
                    : e.success) &&
                (null === (t = n.data) || void 0 === t ? void 0 : t.friends)
              )
                return (
                  (this.m_rgFriendsList = n.data.friends), this.m_rgFriendsList
                );
              (this.m_rgFriendsList = []), (a = (0, G.l)(n));
            } catch (e) {
              a = (0, G.l)(e);
            }
            return (
              console.error(
                "CSimpleFriendsListStore.LoadFriendList failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              []
            );
          });
        }
        static Get() {
          return (
            sl.s_Singleton ||
              ((sl.s_Singleton = new sl()),
              ("dev" != I.De.WEB_UNIVERSE && "beta" != I.De.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = sl.s_Singleton)),
            sl.s_Singleton
          );
        }
        constructor() {
          this.m_rgFriendsList = null;
        }
      }
      var cl = a(27910),
        dl = a(79896),
        ml = a(7765),
        ul = a.n(ml),
        _l = a(57821),
        pl = a.n(_l),
        El = a(35134);
      let hl = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strCustomTitle: "",
              customTitleLanguage: 0,
              whitelistSteamID: "",
            });
        }
        GetBroadcastEditModel() {
          return new ll(this.props.editModel);
        }
        OnBroadcastOptionChange(e) {
          this.GetBroadcastEditModel().SetBroadcastEnabled(e);
        }
        OnBroadcastForceBanner(e) {
          this.GetBroadcastEditModel().SetBroadcastForceBanner(e);
        }
        OnChatChange(e) {
          this.GetBroadcastEditModel().SetChangeSetting(e);
        }
        OnTitleChange(e) {
          this.GetBroadcastEditModel().SetTitleToken(e.data);
        }
        OnCustomTitleChange(e) {
          this.setState({ strCustomTitle: e.target.value });
        }
        OnCustomTitleLanguageChange(e) {
          this.setState({ customTitleLanguage: e.data });
        }
        AddTitle() {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(
            this.state.customTitleLanguage,
            this.state.strCustomTitle,
          ),
            this.setState({ strCustomTitle: "" });
        }
        RemoveTitle(e) {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(e, null);
        }
        OnSaleColorChange(e, t) {
          (this.props.editModel.GetEventModel().jsondata[t] = e),
            this.props.editModel.SetDirty(H.jB.jsondata_sales);
        }
        OnOpenGradientInnerColor(e) {
          (0, fa.yV)(
            d.createElement(Ca.z, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_inner_color"),
              color:
                this.props.editModel.GetEventModel().jsondata
                  .broadcast_gradient_inner_color,
            }),
            e,
            { bDisablePopTop: !0 },
          );
        }
        OnOpenGradientOuterColor(e) {
          (0, fa.yV)(
            d.createElement(Ca.z, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_outer_color"),
              color:
                this.props.editModel.GetEventModel().jsondata
                  .broadcast_gradient_outer_color,
            }),
            e,
            { bDisablePopTop: !0 },
          );
        }
        render() {
          const { editModel: e } = this.props,
            t = e.GetEventModel().jsondata,
            a = [
              "#Broadcast_default_title_dev",
              "#Broadcast_default_title_community",
              "#Broadcast_default_title_comp",
              "#Broadcast_default_title_speed",
              "#Broadcast_default_title_simple",
              "#Broadcast_default_title_dev_chat",
              "#Broadcast_default_title_ama",
            ].map((e) => ({ label: (0, x.Xx)(e), data: e })),
            n = [],
            l = x.LJ.GetLanguageListForRealms([ol.IN.k_ESteamRealmGlobal]);
          for (const e of l) {
            const t = {
              label: (0, x.Xx)("#language_selection_" + (0, u.j_)(e)),
              data: e,
            };
            n.push(t);
          }
          const i = rl.l.map((t) =>
            d.createElement(
              "div",
              {
                key: "broadcastchatOptions_" + t,
                className: (0, T.Z)(S().FlexRowContainer, S().RadioOption),
              },
              d.createElement("input", {
                type: "radio",
                name: "BroadcastChat",
                id: "EventEditor_BroadcastSChat_" + t,
                value: t,
                checked: e.GetEventModel().GetBroadcastChatVisibility() === t,
                onChange: () => this.OnChatChange(t),
              }),
              d.createElement(
                "label",
                { htmlFor: "EventEditor_BroadcastSChat_" + t },
                d.createElement(
                  "span",
                  null,
                  (0, x.Xx)("#Broadcast_chat_" + t),
                ),
              ),
            ),
          );
          return d.createElement(
            "div",
            { className: wn().EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: S().EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: (0, T.Z)(S().EventEditorTextTitle, S().FlexGrow) },
                (0, x.Xx)("#Broadcast_title"),
              ),
              d.createElement(
                "a",
                {
                  target: I.De.IN_CLIENT ? void 0 : "_blank",
                  href:
                    I.De.PARTNER_BASE_URL +
                    "doc/marketing/event_tools/sales/livestream",
                  className: (0, T.Z)(S().doclink),
                },
                d.createElement(
                  "span",
                  null,
                  (0, x.Xx)("#Broadcast_documentation"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: S().InputBorder },
              d.createElement(R.gE, {
                onChange: this.OnBroadcastOptionChange,
                label: (0, x.Xx)("#Broadcast_option"),
                checked: e.GetEventModel().BHasBroadcastEnabled(),
              }),
            ),
            e.GetEventModel().BHasBroadcastEnabled() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitle },
                  (0, x.Xx)("#Broadcast_title_title"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      S().FlexColumnContainer,
                      S().EventDefaultRowContainer,
                    ),
                  },
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#Broadcast_title_desc"),
                  ),
                  d.createElement(R.ry, {
                    rgOptions: a,
                    selectedOption: a[0].data,
                    onChange: this.OnTitleChange,
                  }),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)("#Broadcast_option_customtitle"),
                  ),
                  d.createElement(
                    "div",
                    { className: pl().customTitleOptionsCtn },
                    d.createElement(
                      "div",
                      {
                        className: (0, T.Z)(
                          S().FlexRowContainer,
                          pl().CustomTitleCtn,
                        ),
                      },
                      d.createElement(
                        "div",
                        { style: { width: "400px" } },
                        d.createElement(R.II, {
                          placeholder: (0, x.Xx)("#Broadcast_use_custom"),
                          onChange: this.OnCustomTitleChange,
                          value: this.state.strCustomTitle,
                        }),
                      ),
                      d.createElement(
                        "div",
                        { className: pl().LanguageContainer },
                        d.createElement(R.ry, {
                          bDisableMouseOverlay: !0,
                          strDropDownClassName: S().DropDownScroll,
                          rgOptions: n,
                          selectedOption: this.state.customTitleLanguage,
                          onChange: this.OnCustomTitleLanguageChange,
                        }),
                      ),
                      d.createElement(
                        "div",
                        { className: pl().AddTitleButton },
                        d.createElement(
                          R.KM,
                          { onClick: () => this.AddTitle() },
                          (0, x.Xx)("#Broadcast_add_title"),
                        ),
                      ),
                    ),
                    d.createElement(
                      "p",
                      null,
                      (0, x.Xx)("#Sale_option_customtitle_entered"),
                    ),
                    d.createElement(
                      "div",
                      { className: (0, T.Z)(S().FlexColumnContainer) },
                      t.localized_broadcast_title.map((e, t) =>
                        e
                          ? d.createElement(
                              "div",
                              {
                                className: (0, T.Z)(
                                  pl().TitleRowCtn,
                                  S().FlexRowContainer,
                                ),
                                key: t,
                              },
                              e,
                              " (",
                              (0, x.Xx)("#language_selection_" + (0, u.j_)(t)),
                              ")",
                              d.createElement(
                                "div",
                                { style: { marginLeft: "auto" } },
                                d.createElement("img", {
                                  className: ul().RemoveIcon,
                                  src: il.Z,
                                  onClick: () => this.RemoveTitle(t),
                                }),
                              ),
                            )
                          : null,
                      ),
                    ),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitle },
                  (0, x.Xx)("#Broadcast_background"),
                ),
                d.createElement(
                  R.zx,
                  {
                    onClick: this.OnOpenGradientOuterColor,
                    className: S().EventEditorTextTitle,
                    style: {
                      backgroundColor:
                        this.props.editModel.GetEventModel().jsondata
                          .broadcast_gradient_outer_color,
                    },
                  },
                  (0, x.Xx)("#Broadcast_GradientOuterColor"),
                ),
                d.createElement(
                  R.zx,
                  {
                    onClick: this.OnOpenGradientInnerColor,
                    className: S().EventEditorTextTitle,
                    style: {
                      backgroundColor:
                        this.props.editModel.GetEventModel().jsondata
                          .broadcast_gradient_inner_color,
                    },
                  },
                  (0, x.Xx)("#Broadcast_GradientInnerColor"),
                ),
                d.createElement(vl, {
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(fl, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitle },
                  (0, x.Xx)("#Broadcast_chat_title"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(
                      S().FlexColumnContainer,
                      S().EventDefaultRowContainer,
                    ),
                  },
                  i,
                ),
                d.createElement(Sl, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(bl, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitle },
                  (0, x.Xx)("#Broadcast_artwork"),
                ),
                d.createElement(Yt.p, {
                  clanSteamID: e.GetClanSteamID(),
                  rgSupportArtwork: ["broadcast_left", "broadcast_right"],
                  fnSetImageURL: e.SetImageURL,
                  bAllowPreviousClanImageSelection: !0,
                  rgRealmList: e.GetIncludedRealmList(),
                }),
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitle },
                  (0, x.Xx)("#Broadcast_artwork_options"),
                ),
                d.createElement(
                  "div",
                  { className: S().InputBorder },
                  d.createElement(R.gE, {
                    onChange: this.OnBroadcastForceBanner,
                    label: (0, x.Xx)("#Broadcast_artwork_banner"),
                    tooltip: (0, x.Xx)("#Broadcast_artwork_banner_hint"),
                    checked: e.GetEventModel().BHasBroadcastForceBanner(),
                  }),
                ),
                d.createElement(Aa.Yo, {
                  clanSteamID: e.GetClanSteamID(),
                  title: (0, x.Xx)("#EventEditor_ArtworkType_broadcast_left"),
                  artworkType: "broadcast_left",
                }),
                d.createElement(Aa.Yo, {
                  clanSteamID: e.GetClanSteamID(),
                  title: (0, x.Xx)("#EventEditor_ArtworkType_broadcast_right"),
                  artworkType: "broadcast_right",
                }),
              ),
          );
        }
      };
      function vl(e) {
        const { broadcastEditModel: t } = e,
          a = (0, Wt.SZ)(() => t.GetBroadcastAllowList() || []);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#Broadcast_whitelist"),
          ),
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                S().FlexColumnContainer,
                S().EventDefaultRowContainer,
              ),
            },
            d.createElement(
              "div",
              null,
              (0, x.Xx)("#Broadcast_whitelist_desc"),
            ),
            d.createElement(
              "div",
              null,
              (0, x.Xx)("#Broadcast_option_drag_ttip"),
            ),
            d.createElement(
              "div",
              { className: wn().BroadcastAccountList },
              a.map((e) =>
                d.createElement(Cl, {
                  key: "broadcastaccountrow_" + e,
                  accountid: e,
                }),
              ),
            ),
            d.createElement(gl, { broadcastEditModel: t }),
            d.createElement(dl.aX, {
              onButtonClick: (e) =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  const a = new p.K(e);
                  return t.AddAccountToWhiteList(a.GetAccountID()), !0;
                }),
              buttonText: (0, x.Xx)("#Broadcast_whitelist_adduser"),
            }),
            d.createElement(
              "div",
              null,
              (0, x.kQ)(
                "#Broadcast_whitelist_friendcode",
                d.createElement(
                  "a",
                  {
                    target: "_blank",
                    href: I.De.COMMUNITY_BASE_URL + "my/friends/add",
                  },
                  I.De.COMMUNITY_BASE_URL + "my/friends/add",
                ),
              ),
            ),
          ),
        );
      }
      function gl(e) {
        const { broadcastEditModel: t } = e,
          a = (function () {
            const [e, t] = d.useState(sl.Get().GetFriendLiset());
            return (
              d.useEffect(() => {
                Boolean(e) || sl.Get().LoadFriendList().then(t);
              }, []),
              e
            );
          })();
        return d.createElement(
          "div",
          { className: (0, T.Z)(S().FlexRowWrapFlexStartContainer) },
          d.createElement(
            "a",
            {
              onClick: () => t.AddAccountToWhiteList(I.L7.accountid),
              className: S().EditPreviewButton,
            },
            (0, x.Xx)("#Broadcast_whitelist_addme"),
          ),
          d.createElement(
            "a",
            {
              onClick: (e) =>
                (0, fa.yV)(
                  d.createElement(
                    "div",
                    { className: S().DropDownScroll },
                    (a || []).map((e) =>
                      d.createElement(
                        Bn.Zo,
                        {
                          key: e.steamid,
                          onSelected: () => {
                            const a = new p.K(e.steamid);
                            t.AddAccountToWhiteList(a.GetAccountID());
                          },
                        },
                        d.createElement(
                          "div",
                          { style: { display: "flex", alignItems: "center" } },
                          d.createElement("img", {
                            className: pl().WhitelistAvatar,
                            src: e.avatar_url,
                          }),
                          e.persona_name,
                        ),
                      ),
                    ),
                  ),
                  e,
                ),
              className: S().EditPreviewButton,
            },
            (0, x.Xx)("#Broadcast_whitelist_addfriend"),
          ),
          d.createElement(
            "a",
            {
              onClick: () => t.ClearWhiteList(),
              className: S().EditPreviewButton,
            },
            (0, x.Xx)("#Broadcast_whitelist_clear"),
          ),
        );
      }
      function Sl(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          [n, l, i, o, r, s] = (0, Wt.SZ)(() => [
            t.GetEventModel().jsondata.broadcast_item_drops_enabled,
            t.GetEventModel().jsondata.broadcast_item_drops_manual,
            t.GetEventModel().jsondata
              .broadcast_item_drops_min_watch_time_minutes,
            t.GetEventModel().jsondata
              .broadcast_item_drops_details_clan_accountid,
            t.GetEventModel().jsondata.broadcast_item_drops_details_event_gid,
            t.GetEventModel().jsondata.broadcast_chat_announcement_giveaway ||
              0,
          ]);
        return d.createElement(
          ze.s,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, T.Z)(S().ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            "(VO) " + (0, x.Xx)("#Broadcast_DropsTitle"),
          ),
          d.createElement(R.ji, {
            onChange: (e) => a.SetDropsEnabled(e),
            label: (0, x.Xx)("#Broadcast_Drops_Enable"),
            checked: Boolean(n),
          }),
          Boolean(n) &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(R.ji, {
                onChange: (e) => a.SetItemDropManual(e),
                label: (0, x.Xx)("#Broadcast_Drops_IsManualDrops"),
                checked: Boolean(l),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_min_mintes" },
                (0, x.Xx)("#Broadcast_Drops_Minute"),
              ),
              d.createElement("input", {
                id: "broadcast_min_mintes",
                type: "number",
                min: "5",
                value: i,
                onChange: (e) =>
                  a.SetItemDropMinutes(Number.parseInt(e.target.value)),
              }),
              d.createElement(
                "div",
                { className: S().EventEditorTextSubTitle },
                (0, x.Xx)("#Broadcast_Drops_Details"),
              ),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_account" },
                (0, x.Xx)("#Broadcast_Drops_Details_Account"),
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_account",
                type: "number",
                min: "0",
                value: o,
                onChange: (e) =>
                  a.SetItemDropDetailEvents(Number.parseInt(e.target.value), r),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_event_gid" },
                (0, x.Xx)("#Broadcast_Drops_Details_GID"),
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_event_gid",
                type: "text",
                value: r,
                onChange: (e) => a.SetItemDropDetailEvents(o, e.target.value),
              }),
            ),
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            "(VO) " + (0, x.Xx)("#Broadcast_ChatAnnouncement_Giveaway_title"),
          ),
          d.createElement(R.II, {
            type: "number",
            value: s,
            tooltip: (0, x.Xx)("#Broadcast_ChatAnnouncement_Giveaway_gid_ttip"),
            label: (0, x.Xx)("#Broadcast_ChatAnnouncement_Giveaway_gid"),
            onChange: (e) => a.SetChatAnnouncementGiveawayGID(e.target.value),
          }),
        );
      }
      function bl(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = (0, Wt.SZ)(
            () => t.GetEventModel().jsondata.broadcast_display_wide_player,
          ),
          l = (0, Wt.SZ)(
            () =>
              t.GetEventModel().jsondata
                .broadcast_dispaly_wide_player_allow_chat,
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#Broadcast_WidePlayer"),
          ),
          d.createElement(R.ji, {
            onChange: (e) => a.SetWidePlayerLayout(e),
            label: (0, x.Xx)("#Broadcast_WidePlayer_Use"),
            tooltip: (0, x.Xx)("#Broadcast_WidePlayer_ttip"),
            checked: Boolean(n),
          }),
          d.createElement(R.ji, {
            onChange: (e) => a.SetWidePlayerSupportChat(e),
            label: (0, x.Xx)("#Broadcast_WidePlayer_Chat_Use"),
            tooltip: (0, x.Xx)("#Broadcast_WidePlayer_Chat_ttip"),
            checked: Boolean(l),
            disabled: !n,
          }),
          d.createElement(
            ze.s,
            {
              requireAdmin: !0,
              clanSteamID: t.GetClanSteamID(),
              className: (0, T.Z)(S().ValveOnlyBackground),
            },
            d.createElement(
              P.HP,
              { toolTipContent: (0, x.Xx)("#Broadcast_ContentType_Desc") },
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                "(VO) " + (0, x.Xx)("#Broadcast_ContentType"),
              ),
            ),
            d.createElement(Dl, null),
          ),
        );
      }
      function fl(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = (0, Wt.SZ)(() => (null == a ? void 0 : a.GetPrerollVideo()));
        return d.createElement(
          ze.s,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, T.Z)(S().ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#Broadcast_preroll_title"),
          ),
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                S().FlexColumnContainer,
                S().EventDefaultRowContainer,
              ),
            },
            d.createElement("div", null, (0, x.Xx)("#Broadcast_preroll_desc")),
            d.createElement(R.II, {
              type: "text",
              placeholder: (0, x.Xx)("#Broadcast_preroll_prompt"),
              mustBeNumeric: !0,
              rangeMin: 1,
              value: n || "",
              onChange: (e) => a.SetPrerollVODAppID(e.target.value.trim()),
            }),
            Boolean(n) &&
              d.createElement(
                "a",
                { href: I.De.PARTNER_BASE_URL + "apps/landing/" + n },
                (0, x.Xx)("#Broadcast_preroll_app_link"),
              ),
          ),
        );
      }
      function Cl(e) {
        const { accountid: t } = e,
          { isLoading: a, data: n } = (0, ct.IE)(t),
          i = () => {
            let e = l.wk.GetEditModel();
            return new ll(e);
          };
        let o = l.wk.GetEditModel().GetEventModel(),
          r = (0, Wt.SZ)(() => o.jsondata.broadcast_whitelist.indexOf(t)),
          s = (0, Wt.SZ)(() => {
            let e = o.jsondata.broadcast_language,
              t = -1;
            return (
              r >= 0 && e && r < e.length && void 0 !== e[r] && (t = e[r]), t
            );
          });
        return a
          ? d.createElement(y.V, {
              size: "small",
              string: (0, x.Xx)("#Loading"),
            })
          : n
            ? d.createElement(
                "div",
                { className: (0, T.Z)(ul().FlexCenter, pl().AccountRow) },
                d.createElement(
                  "a",
                  {
                    className: (0, T.Z)(
                      ul().FlexCenter,
                      wn().BroadcastAccountInfo,
                    ),
                    href: n.GetCommunityProfileURL(),
                    target: "_blank",
                  },
                  n
                    ? d.createElement("img", {
                        style: { marginRight: "8px" },
                        src: n.avatar_url,
                      })
                    : null,
                  n ? n.m_strPlayerName : null,
                ),
                d.createElement(
                  P.HP,
                  { toolTipContent: (0, x.Xx)("#Broadcast_Language_hint") },
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#EventEditor_Langauge"),
                    ": ",
                  ),
                  d.createElement(cl.uW, {
                    bAllowUnsetOption: !0,
                    selectedLang: s,
                    fnOnLanguageChanged: (e) =>
                      i().SetWhiteListAccountLanguage(t, e),
                  }),
                ),
                d.createElement(yl, { accountid: t }),
                d.createElement("img", {
                  className: (0, T.Z)(ul().FlexCenter, ul().RemoveIcon),
                  src: il.Z,
                  onClick: () => i().DeleteWhiteListAccount(t),
                }),
              )
            : d.createElement(
                "div",
                null,
                (0, x.Xx)("#Broadcast_FailedToLoadUser"),
              );
      }
      function yl(e) {
        const t = l.wk.GetEditModel(),
          a = new ll(t),
          n = [
            { label: (0, x.Xx)("#Broadcast_Priority_Primary"), data: El.Ou },
            { label: (0, x.Xx)("#Broadcast_Priority_Featured"), data: El.Mf },
            {
              label: (0, x.Xx)("#Broadcast_Priority_DefaultFeatured"),
              data: El.qq,
            },
            { label: (0, x.Xx)("#Broadcast_Priority_General"), data: El.CA },
          ],
          i = a.GetWhiteListAccountPriority(e.accountid, El.CA);
        return d.createElement(
          P.HP,
          {
            toolTipContent: (0, x.Xx)("#Broadcast_Priority_hint"),
            className: wn().PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            (0, x.Xx)("#Broadcast_Priority_label"),
            ": ",
          ),
          d.createElement(R.ry, {
            rgOptions: n,
            selectedOption: i,
            onChange: (t) => {
              a.SetWhiteListAccountPriority(e.accountid, t.data);
            },
          }),
        );
      }
      function Dl(e) {
        const t = l.wk.GetEditModel(),
          a = new ll(t),
          n = [
            {
              label: (0, x.Xx)("#Broadcast_ContentType_Unknown"),
              data: void 0,
            },
            { label: (0, x.Xx)("#Broadcast_ContentType_Live"), data: "live" },
            {
              label: (0, x.Xx)("#Broadcast_ContentType_Premiere"),
              data: "premiere",
            },
            {
              label: (0, x.Xx)("#Broadcast_ContentType_Encore"),
              data: "encore",
            },
          ],
          i = a.GetBroadcastContentType();
        return d.createElement(
          P.HP,
          {
            toolTipContent: (0, x.Xx)("#Broadcast_ContentType_Desc"),
            className: wn().PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            (0, x.Xx)("#Broadcast_ContentType"),
            ": ",
          ),
          d.createElement(R.ry, {
            rgOptions: n,
            selectedOption: i,
            onChange: (e) => a.SetBroadcastContentType(e.data),
          }),
        );
      }
      (0, o.gn)([w.ak], hl.prototype, "OnBroadcastOptionChange", null),
        (0, o.gn)([w.ak], hl.prototype, "OnBroadcastForceBanner", null),
        (0, o.gn)([w.ak], hl.prototype, "OnChatChange", null),
        (0, o.gn)([w.ak], hl.prototype, "OnTitleChange", null),
        (0, o.gn)([w.ak], hl.prototype, "OnCustomTitleChange", null),
        (0, o.gn)([w.ak], hl.prototype, "OnCustomTitleLanguageChange", null),
        (0, o.gn)([w.ak], hl.prototype, "AddTitle", null),
        (0, o.gn)([w.ak], hl.prototype, "RemoveTitle", null),
        (0, o.gn)([w.ak], hl.prototype, "OnSaleColorChange", null),
        (0, o.gn)([w.ak], hl.prototype, "OnOpenGradientInnerColor", null),
        (0, o.gn)([w.ak], hl.prototype, "OnOpenGradientOuterColor", null),
        (hl = (0, o.gn)([c.Pi], hl));
      var Tl = a(36738),
        xl = a(41821);
      const Gl = (0, c.Pi)((e) => {
          const t = l.wk.GetEditModel(),
            a = t.GetCategoryAsType(),
            n = t.BPublished(),
            i = t.BVisible();
          return d.createElement(
            "div",
            {
              className: (0, T.Z)(
                Tl.EventEditorTopBarContainer,
                n && i ? Tl.EventPublished : Tl.EventUnPublished,
              ),
            },
            d.createElement(
              "div",
              { className: S().EventBarBackAndTitle },
              d.createElement(
                je.JW,
                {
                  eventModel: t.GetEventModel(),
                  route: je.Ue.k_eCommunityAdminPage,
                  className: S().EventBarBack,
                },
                (0, x.Xx)("#EventDisplay_EventsDashBtn"),
              ),
              d.createElement(
                "div",
                { className: S().EventBarTitleCtn },
                d.createElement(Qa.TF, { editModel: t }),
              ),
            ),
            d.createElement(
              "div",
              { className: S().EventOptions },
              d.createElement(Qa.D7, null),
            ),
            d.createElement(
              "div",
              { className: S().EventEditButtons },
              d.createElement(
                je.JW,
                {
                  eventModel: t.GetEventModel(),
                  route: je.Ue.k_eCommunityPreview,
                  className: S().EditPreviewButton,
                },
                28 == a
                  ? (0, x.Xx)("#EventEditor_Preview_News")
                  : (0, x.Xx)("#EventEditor_Preview"),
              ),
              t.BHasSaleEnabled() &&
                d.createElement(
                  je.JW,
                  {
                    eventModel: t.GetEventModel(),
                    route: je.Ue.k_eCommunityPreviewSale,
                    className: S().EditPreviewButton,
                  },
                  (0, x.Xx)("#EventEditor_PreviewSale"),
                ),
            ),
          );
        }),
        wl = (0, c.Pi)((e) => {
          const t = l.wk.GetEditModel(),
            a = t.GetEventModel(),
            n = t.GetVisibilityState() == _.ac.k_EEventStateVisible;
          return d.createElement(
            "div",
            { className: S().FlexRowWrapFlexStartContainer },
            d.createElement(xl.F, { editModel: l.wk.GetEditModel() }),
            d.createElement(
              je.JW,
              {
                eventModel: a,
                route: je.Ue.k_eCommunityPreview,
                className: S().EditPreviewButton,
              },
              (0, x.Xx)("#EventEditor_Preview"),
            ),
            a.BHasSaleEnabled() &&
              d.createElement(
                je.JW,
                {
                  eventModel: a,
                  route: je.Ue.k_eCommunityPreviewSale,
                  className: S().EditPreviewButton,
                },
                (0, x.Xx)("#EventEditor_PreviewSale"),
              ),
            n &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "span",
                  { className: Tl.DisplayAdminPanel_Spacer },
                  " ",
                ),
                d.createElement(
                  je.JW,
                  {
                    className: S().EditPreviewButton,
                    eventModel: a,
                    route: je.Ue.k_eStoreView,
                  },
                  (0, x.Xx)("#EventEditor_ViewLive"),
                ),
                d.createElement(
                  "span",
                  { className: Tl.DisplayAdminPanel_Spacer },
                  " ",
                ),
              ),
          );
        });
      var Il = a(13319),
        Al = a(16833),
        kl = a(25667),
        Ml = a(80886),
        Nl = a(87972),
        Bl = a(77151);
      class Ll {
        static Get() {
          return (
            Ll.s_newsCuratorStore ||
              ((Ll.s_newsCuratorStore = new Ll()),
              (Ll.s_newsCuratorStore.m_LoadingPromise =
                Ll.s_newsCuratorStore.Init()),
              (window.g_NewsCuratorStore = Ll.s_newsCuratorStore)),
            Ll.s_newsCuratorStore
          );
        }
        constructor() {
          (this.m_mapNewsCurators = new Map()),
            (this.m_bIsLoadComplete = !1),
            (this.m_mapLangToNewsCurators = new Map()),
            (this.m_LoadingPromise = null),
            (0, B.rC)(this);
        }
        IsLoaded() {
          return this.m_bIsLoadComplete;
        }
        WaitForInitialLoad() {
          return this.m_LoadingPromise;
        }
        get allNewsCurators() {
          return Array.from(this.m_mapNewsCurators.values());
        }
        GetCuratorsForLang(e) {
          return this.m_mapLangToNewsCurators.get(e);
        }
        GetNewsCuratorForAccount(e) {
          return this.m_mapNewsCurators.get(e);
        }
        BIsTrustedPressAccount(e) {
          return void 0 !== this.GetNewsCuratorForAccount(e);
        }
        Init() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            x.LJ.GetLanguageListForRealms([I.De.EREALM]).forEach((e) =>
              this.m_mapLangToNewsCurators.set(e, []),
            );
            const e = I.De.STORE_BASE_URL + "events/ajaxgetnewscurators";
            let t = { origin: self.origin };
            const a = yield s().get(e, { params: t });
            (0, B.z)(() => {
              a.data && a.data.success && this.HandleCuratorResponse(a.data),
                (this.m_bIsLoadComplete = !0);
            });
          });
        }
        HandleCuratorResponse(e) {
          var t;
          if (
            (e.groupvanityinfo && E.sV.RegisterClanData(e.groupvanityinfo),
            e.newscuratorinfo)
          )
            for (const a of e.newscuratorinfo) {
              if (this.m_mapNewsCurators.has(a.clanAccountID)) continue;
              this.m_mapNewsCurators.set(a.clanAccountID, a);
              const e = E.sV.GetClanInfoByClanAccountID(a.clanAccountID);
              e &&
                (null ===
                  (t = this.m_mapLangToNewsCurators.get(e.rss_language)) ||
                  void 0 === t ||
                  t.push(a));
            }
        }
      }
      (0, o.gn)([B.LO], Ll.prototype, "m_mapNewsCurators", void 0),
        (0, o.gn)([B.LO], Ll.prototype, "m_bIsLoadComplete", void 0),
        (0, o.gn)([B.LO], Ll.prototype, "m_mapLangToNewsCurators", void 0),
        (0, o.gn)([B.Fl], Ll.prototype, "allNewsCurators", null),
        (0, o.gn)([B.aD], Ll.prototype, "HandleCuratorResponse", null);
      var Ol = a(45284),
        Rl = a(45976),
        Xl = a.n(Rl);
      function Pl(e) {
        const t = new Set();
        return (
          (e.indexOf("games") >= 0 || e.indexOf("dlc") >= 0) && t.add("apps"),
          e.indexOf("curators") >= 0 && t.add("curators"),
          t
        );
      }
      class jl extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strSearchString: "",
              rgAppSuggestions: null,
              rgCuratorSuggestions: null,
            }),
            (this.m_nHighestSentRequestID = 0),
            (this.m_mapHighestReceivedRequestIDFromBackEnd = new Map([
              ["apps", 0],
              ["curators", 0],
            ])),
            (this.m_timerForChange = new Dt.Ar());
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel();
        }
        CloseSuggestions() {
          this.setState({
            rgCuratorSuggestions: null,
            rgAppSuggestions: null,
            strSearchString: "",
          });
        }
        GetSuggestionsFromServer(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = Pl(this.props.rgCorporaToSearch);
            t.has("apps") && this.GetAppSuggestionsFromServer(e),
              t.has("curators") && this.GetCuratorSuggestions(e);
          });
        }
        GetCuratorSuggestions(e) {
          var t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const a = Ll.Get().allNewsCurators,
              n = [];
            for (const l of a) {
              const a = E.sV.GetClanInfoByClanAccountID(l.clanAccountID),
                i = {
                  corpus: "curators",
                  id: l.clanAccountID,
                  name: null == a ? void 0 : a.group_name,
                  img: null == a ? void 0 : a.avatar_full_url,
                };
              if (
                (
                  (null === (t = null == a ? void 0 : a.group_name) ||
                  void 0 === t
                    ? void 0
                    : t.toLocaleLowerCase()) || ""
                ).indexOf(e) >= 0
              ) {
                if (
                  this.props.fnFilterSuggestion &&
                  !this.props.fnFilterSuggestion(i)
                )
                  continue;
                if (Bl.jg.Get().BIsIgnoringCurator(a.clanAccountID)) continue;
                const e = Bl.jg.Get().BIsFollowingCurator(a.clanAccountID),
                  t = d.createElement(Fl, {
                    key: "curatorsug_" + i.id,
                    suggestion: i,
                    fnOnSelected: this.props.fnOnSelected,
                    bShowFollowingLabel: e,
                  });
                n.push(
                  this.props.fnDecorateSuggestion
                    ? this.props.fnDecorateSuggestion(i, t)
                    : t,
                );
              }
            }
            this.m_mapHighestReceivedRequestIDFromBackEnd.set(
              "curators",
              this.m_nHighestSentRequestID,
            ),
              this.setState({ rgCuratorSuggestions: n });
          });
        }
        GetAppSuggestionsFromServer(e) {
          var t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const a = this.m_nHighestSentRequestID,
              n = [];
            this.props.rgCorporaToSearch.indexOf("games") >= 0 &&
              (n.push("game"), n.push("software")),
              this.props.rgCorporaToSearch.indexOf("dlc") >= 0 &&
                (n.push("dlc"), n.push("music"));
            const l = {
                cc: I.De.COUNTRY,
                l: I.De.LANGUAGE,
                realm: ol.IN.k_ESteamRealmGlobal,
                origin: self.origin,
                f: "jsonfull",
                term: e.replace(" ", "+"),
                require_type: n.join(","),
                excluded_tags: Bl.jg.Get().GetExcludedTagsSortedByID(),
                excluded_content_descriptors:
                  Bl.jg.Get().ExcludedContentDescriptor,
              },
              i = `${I.De.STORE_BASE_URL}search/suggest`,
              o = yield s().get(i, { params: l, withCredentials: !0 });
            if (a < this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps"))
              return;
            let r;
            this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps", a),
              (null === (t = null == o ? void 0 : o.data) || void 0 === t
                ? void 0
                : t.length) &&
                (r = o.data.map((e) => {
                  const t = Object.assign(
                    Object.assign(
                      {
                        corpus:
                          ((a = e.type),
                          "game" == a || "software" == a
                            ? "games"
                            : "dlc" == a || "music" == a
                              ? "dlc"
                              : null),
                      },
                      e,
                    ),
                    { id: parseInt(e.id) },
                  );
                  var a;
                  if (
                    this.props.fnFilterSuggestion &&
                    !this.props.fnFilterSuggestion(t)
                  )
                    return null;
                  const n = d.createElement(Fl, {
                    key: t.type + t.id,
                    suggestion: t,
                    fnOnSelected: this.props.fnOnSelected,
                  });
                  return this.props.fnDecorateSuggestion
                    ? this.props.fnDecorateSuggestion(t, n)
                    : n;
                })),
              this.setState({ rgAppSuggestions: r });
          });
        }
        UpdateSuggestions(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t =
              e.target.value && e.target.value.trim().toLocaleLowerCase();
            if (
              (this.m_nHighestSentRequestID++, !(null == t ? void 0 : t.length))
            )
              return (
                Array.from(Pl(this.props.rgCorporaToSearch)).forEach((e) =>
                  this.m_mapHighestReceivedRequestIDFromBackEnd.set(
                    e,
                    this.m_nHighestSentRequestID,
                  ),
                ),
                this.m_timerForChange.Cancel(),
                this.setState({ strSearchString: "" }),
                void this.ResetSuggestions()
              );
            this.setState({ strSearchString: t }),
              this.m_timerForChange.Schedule(300, () =>
                this.GetSuggestionsFromServer(t),
              );
          });
        }
        ResetSuggestions() {
          this.setState({ rgAppSuggestions: null, rgCuratorSuggestions: null });
        }
        GetLimitedSuggestions() {
          let { rgAppSuggestions: e, rgCuratorSuggestions: t } = this.state;
          let a = e ? e.length : 10,
            n = t ? t.length : 10;
          return (
            a + n > 10 && (a = 10 - Math.min(n, 2)),
            (n = 10 - a),
            (e = null == e ? void 0 : e.slice(0, a)),
            (t = null == t ? void 0 : t.slice(0, n)),
            { rgAppSuggestions: e, rgCuratorSuggestions: t }
          );
        }
        render() {
          const {
              strLabel: e,
              focusOnMount: t,
              rgCorporaToSearch: a,
              strResultsClass: n,
            } = this.props,
            { strSearchString: l } = this.state,
            { rgAppSuggestions: i, rgCuratorSuggestions: o } =
              this.GetLimitedSuggestions(),
            r = (null == l ? void 0 : l.length) > 0,
            s = (null == i ? void 0 : i.length) > 0,
            c = (null == o ? void 0 : o.length) > 0,
            m = Pl(a).size > 1,
            u =
              m &&
              s &&
              (0, x.Xx)(
                a.indexOf("dlc") >= 0
                  ? "#EventCalendar_SearchResultsHeader_GameAndDLCSection"
                  : "#EventCalendar_SearchResultsHeader_GameSection",
              ),
            _ = Array.from(Pl(a)).some(
              (e) =>
                this.m_nHighestSentRequestID >
                this.m_mapHighestReceivedRequestIDFromBackEnd.get(e),
            ),
            p = !c && !s && !_;
          return d.createElement(
            "div",
            { className: Xl().SuggestContainer },
            d.createElement(R.II, {
              type: "text",
              label: e,
              onChange: this.UpdateSuggestions,
              bAlwaysShowClearAction: r,
              focusOnMount: t,
            }),
            r &&
              d.createElement(
                "div",
                { className: (0, T.Z)(Xl().Results, n) },
                s &&
                  d.createElement(
                    "div",
                    { key: "game-suggestions" },
                    m &&
                      d.createElement(
                        "div",
                        { className: Xl().ResultSectionHeader },
                        u,
                      ),
                    i,
                  ),
                c &&
                  d.createElement(
                    "div",
                    { key: "curator-suggestions" },
                    m &&
                      d.createElement(
                        "div",
                        { className: Xl().ResultSectionHeader },
                        (0, x.Xx)(
                          "#EventCalendar_SearchResultsHeader_CuratorSection",
                        ),
                      ),
                    o,
                  ),
                p &&
                  d.createElement(
                    "div",
                    { className: Xl().EmptyResults, key: "empty-results" },
                    (0, x.Xx)("#EventCalendar_GameSearch_NoneFound"),
                  ),
                _ && d.createElement(y.V, { size: "small" }),
              ),
          );
        }
      }
      (0, o.gn)([w.ak], jl.prototype, "UpdateSuggestions", null);
      const Fl = (e) =>
        d.createElement(
          "div",
          {
            className: Xl().ResultRow,
            key: `suggestion-${e.suggestion.id}`,
            onClick: () => e.fnOnSelected(e.suggestion),
          },
          d.createElement("img", {
            src: e.suggestion.img,
            className: Xl().AvatarImage,
          }),
          d.createElement(
            "div",
            { className: Xl().GameName },
            " ",
            (0, Ol.HA)(e.suggestion.name),
            " ",
          ),
          e.bShowFollowingLabel &&
            d.createElement(
              "div",
              { className: Xl().Label },
              (0, x.Xx)("#EventCalendar_FollowingCurator"),
            ),
        );
      var Hl = a(51216);
      function zl(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Wt.SZ)(() => a.jsondata.associated_appid || 0),
          [l, i] = (0, d.useState)(Boolean(n));
        return a.appid
          ? null
          : l
            ? d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: S().EventEditorTextTitleCtn },
                  d.createElement(
                    "span",
                    { className: S().EventEditorTextTitle },
                    (0, x.Xx)("#EventEditor_Associated_App"),
                  ),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventEditor_Associated_App_ttip",
                      ),
                      className: S().tooltip_Ctn,
                    },
                    "?",
                  ),
                ),
                d.createElement(
                  "div",
                  { className: S().InputBorder },
                  d.createElement("input", {
                    type: "number",
                    className: (0, T.Z)(Gn.EventEditorTitleInput, Gn.Subtitle),
                    value: n,
                    onChange: (e) => {
                      const n = Number.parseInt(e.currentTarget.value);
                      n !== a.jsondata.associated_appid &&
                        ((a.jsondata.associated_appid = n || void 0),
                        t.SetDirty(H.jB.description));
                    },
                  }),
                ),
              )
            : d.createElement(R.ji, {
                checked: l,
                onChange: i,
                label: (0, x.Xx)("#EventEditor_Associated_App_Question"),
                tooltip: (0, x.Xx)("#EventEditor_Associated_App_ttip"),
              });
      }
      function Vl(e) {
        const t = d.useRef(),
          { editModel: a, bCanManuallyTagAssociatedApps: n } = e,
          l = d.useCallback(
            (e, a) => {
              (null == t ? void 0 : t.current) && (0, kl.G)(t.current, e, a);
            },
            [t],
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: Hl.LanguageCtn },
            d.createElement(
              "div",
              { className: S().FlexColumnContainer },
              d.createElement(
                "div",
                { className: Hl.LanguageControlsCtn },
                (0, x.Xx)("#EventEditor_LangaugeDesc"),
                d.createElement(
                  "div",
                  {
                    className: (0, T.Z)(S().FlexRowContainer, Hl.ToolContainer),
                  },
                  d.createElement(Qa.D7, null),
                  d.createElement(Ge, { editModel: a }),
                ),
              ),
            ),
          ),
          d.createElement(Ul, { editModel: a }),
          d.createElement(Zl, { editModel: a }),
          d.createElement(ql, { editModel: a }),
          Boolean(n) && d.createElement(Wl, { editModel: a }),
          d.createElement(Je, { editModel: a }),
          d.createElement(zl, { editModel: a }),
          d.createElement(
            "div",
            { className: S().Columns },
            d.createElement(Kl, { editModel: a, descBBCodeEditor: t }),
            d.createElement(Ql, { editModel: a, fnInsertImage: l }),
          ),
        );
      }
      function Ul(e) {
        const { editModel: t } = e,
          [a, n] = (0, Wt.SZ)(() => [
            t.GetName(t.GetCurEditLanguage()) || "",
            t.GetEventType(),
          ]),
          l = Boolean(a.length >= _.wP);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            28 == n
              ? (0, x.Xx)("#EventEditor_AnnouncementTitle")
              : (0, x.Xx)("#EventEditor_EventTitle"),
            Boolean(l) &&
              d.createElement(
                "span",
                { className: S().EventEditorTextTitleLengthInfo },
                (0, x.Xx)(
                  "#EventEditor_EventTitle_Max_Characters_Reached",
                  _.wP,
                ),
              ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": (0, x.Xx)(
                  "#EventEditor_Title_General_ttip",
                  _.wP,
                ),
                className: S().tooltip_Ctn,
              },
              "?",
            ),
            d.createElement(
              "span",
              {
                className: (0, T.Z)(
                  Gn.CharactorRemaining,
                  l ? Gn.CharactorExhausted : "",
                ),
              },
              (0, x.Xx)("#EventEditor_Input_Characters_Left", _.wP - a.length),
            ),
          ),
          d.createElement(
            "div",
            { className: S().InputBorder },
            d.createElement("input", {
              type: "text",
              className: (0, T.Z)({
                [Gn.EventEditorTitleInput]: !0,
                [Gn.EventEditorInputMaxLength]: l,
              }),
              value: a,
              placeholder: (0, x.Xx)("#EventEditor_Name_Placeholder"),
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetName(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || "",
                );
              },
              maxLength: _.wP,
            }),
          ),
        );
      }
      function Zl(e) {
        const { editModel: t } = e,
          a = (0, Wt.SZ)(() => t.GetSubTitle(t.GetCurEditLanguage()) || ""),
          n = Boolean(a.length >= _.GB);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: S().EventEditorTextTitle },
              (0, x.Xx)("#EventEditor_Event_SubTitle"),
            ),
            d.createElement(
              "span",
              { className: S().EventEditorTextTitleLengthInfo },
              (0, x.Xx)(
                n
                  ? "#EventEditor_Event_SubTitle_Details_Reached"
                  : "#EventEditor_Event_SubTitle_Details",
                _.GB,
              ),
            ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": (0, x.Xx)(
                  "#EventEditor_SubTitle_General_ttip",
                  _.GB,
                ),
                className: S().tooltip_Ctn,
              },
              "?",
            ),
            d.createElement(
              "span",
              {
                className: (0, T.Z)(
                  Gn.CharactorRemaining,
                  n ? Gn.CharactorExhausted : "",
                ),
              },
              (0, x.Xx)("#EventEditor_Input_Characters_Left", _.GB - a.length),
            ),
          ),
          d.createElement(
            "div",
            { className: S().InputBorder },
            d.createElement("input", {
              type: "text",
              className: (0, T.Z)(
                Gn.EventEditorTitleInput,
                Gn.Subtitle,
                n ? Gn.EventEditorInputMaxLength : "",
              ),
              value: a,
              placeholder: (0, x.Xx)("#EventEditor_Name_SubTitle_Placeholder"),
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSubTitle(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || "",
                );
              },
              maxLength: _.GB,
            }),
          ),
        );
      }
      function ql(e) {
        const { editModel: t } = e,
          [a, n] = (0, Wt.SZ)(() => [
            t.GetSummary(t.GetCurEditLanguage()) || "",
            t.GetDescription(t.GetCurEditLanguage()) || "",
          ]);
        let l = "";
        0 == a.trim().length &&
          (l =
            0 == n.length
              ? (0, x.Xx)("#EventEditor_Summary_Placeholder", _.AT)
              : (0, x.Xx)("#EventEditor_Summary_Autogenerated") +
                _.bH.GenerateSummaryFromText(n));
        let i = Boolean(a.length >= _.AT);
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: Gn.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: S().EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEditor_Summary_Title"),
              ),
              d.createElement(
                "span",
                { className: S().EventEditorTextTitleLengthInfo },
                (0, x.Xx)(
                  i
                    ? "#EventEditor_Summary_Title_Length_Reached"
                    : "#EventEditor_Summary_Title_Length",
                  _.AT,
                ),
              ),
              d.createElement(
                "span",
                {
                  "data-tooltip-text": (0, x.Xx)(
                    "#EventEditor_Summary_Ttip",
                    _.AT,
                  ),
                  className: S().tooltip_Ctn,
                },
                "?",
              ),
              d.createElement(
                "span",
                {
                  className: (0, T.Z)(
                    Gn.CharactorRemaining,
                    i ? Gn.CharactorExhausted : "",
                  ),
                },
                (0, x.Xx)(
                  "#EventEditor_Input_Characters_Left",
                  _.AT - a.length,
                ),
              ),
            ),
            d.createElement("textarea", {
              className: (0, T.Z)(
                Gn.EventEditorTitleInput,
                Gn.Summary,
                i ? Gn.EventEditorInputMaxLength : "",
              ),
              value: a,
              placeholder: l,
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSummary(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || "",
                );
              },
              maxLength: _.AT,
              cols: 40,
              rows: 2,
            }),
          ),
          d.createElement("div", { className: S().ClearThings }),
        );
      }
      function Wl(e) {
        const { editModel: t } = e;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: S().EventEditorTextTitle },
              (0, x.Xx)("#EventEditor_ReferencedAppIDs_Header"),
            ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": (0, x.Xx)(
                  "#EventEditor_ReferencedAppIDs_Tooltip",
                ),
                className: S().tooltip_Ctn,
              },
              "?",
            ),
          ),
          d.createElement(
            "div",
            { className: Gn.SaleImportURL },
            d.createElement(jl, {
              strLabel: (0, x.Xx)("#EventEditor_ReferencedAppIDs_SearchLabel"),
              fnFilterSuggestion: (e) =>
                !t.GetReferencedAppIDArray().includes(Number(e.id)),
              fnOnSelected: (e) => {
                t.GetReferencedAppIDArray().includes(Number(e.id)) ||
                  (t.GetReferencedAppIDArray().push(Number(e.id)),
                  t.SetDirty(H.jB.jsondata_other));
              },
              rgCorporaToSearch: ["games", "dlc"],
            }),
          ),
          t.GetReferencedAppIDArray().length > 0 &&
            d.createElement(ua.R, {
              items: t.GetReferencedAppIDArray(),
              onDelete: (e) => {
                t.GetReferencedAppIDArray().splice(e),
                  t.SetDirty(H.jB.jsondata_other);
              },
              onReorder: () => t.SetDirty(H.jB.jsondata_other),
              render: (e) =>
                d.createElement(Jl, { key: `suggestion-${e}`, appid: e }),
            }),
        );
      }
      function Jl(e) {
        const { appid: t } = e,
          [a] = (0, Ml.vs)(t, {});
        return d.createElement(
          "div",
          { className: Gn.ResultRow },
          d.createElement(
            "div",
            { className: Gn.GameName },
            " ",
            (0, Ol.HA)((null == a ? void 0 : a.GetName()) || "") + ` (${t})`,
            " ",
          ),
        );
      }
      function Kl(e) {
        const { editModel: t, descBBCodeEditor: a } = e,
          n = (0, Wt.SZ)(() => t.GetEventType());
        return d.createElement(
          "div",
          { className: (0, T.Z)(S().LeftCol, Hl.DescEditorPadding) },
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            28 == n
              ? (0, x.Xx)("#EventEditor_DescriptionNews")
              : (0, x.Xx)("#EventEditor_Description"),
          ),
          d.createElement(Nl.R, {
            fnGetCurText: () => t.GetDescription(t.GetCurEditLanguage()),
            fnOnTextChange: (e) => {
              var a;
              return t.SetDescription(
                t.GetCurEditLanguage(),
                (null === (a = null == e ? void 0 : e.currentTarget) ||
                void 0 === a
                  ? void 0
                  : a.value) || "",
              );
            },
            fnSetText: (e) => t.SetDescription(t.GetCurEditLanguage(), e),
            strPlaceholder: (0, x.Xx)("#EventEditor_Description_PlaceHolder"),
            ref: a,
            emoticonStore: Mt.F,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            limitBBCode: I.JA.CAN_UPLOAD_IMAGES ? void 0 : Al.pA,
            classNameForTextArea: Gn.EventEditorDescription,
            clanSteamID: t.GetClanSteamID(),
          }),
        );
      }
      function Ql(e) {
        const { editModel: t, fnInsertImage: a } = e;
        return I.JA.CAN_UPLOAD_IMAGES
          ? d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().RightCol,
                  Hl.DescEditorPadding,
                  Hl.ImagePickerCtn,
                ),
              },
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#ImagePicker_PreviousImages2"),
                d.createElement(
                  "span",
                  {
                    "data-tooltip-text": (0, x.Xx)("#ImagePicker_Images_ttip"),
                    className: S().tooltip_Ctn,
                  },
                  "?",
                ),
              ),
              d.createElement(Il.M, {
                bShowLightBox: !0,
                clanSteamID: t.GetClanSteamID(),
                imageInsertCallBack: a,
                fnSetImageURL: t.SetImageURL,
                rgRealmList: t.GetIncludedRealmList(),
              }),
            )
          : null;
      }
      var Yl = a(27174);
      class $l {
        LoadDLCForAppID(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if (!this.m_mapAppIDToDLCs.has(e) && 0 != e)
              try {
                let a = {
                    origin: self.origin,
                    cc: I.De.COUNTRY || "US",
                    l: I.De.LANGUAGE,
                  },
                  n = I.De.STORE_BASE_URL + "dlc/" + e + "/ajaxgetdlclist",
                  l = yield s().get(n, { params: a, cancelToken: t.token }),
                  i = Array();
                l.data.dlcs &&
                  l.data.dlcs.forEach((e) => {
                    i.push({ appid: e.appid, name: e.name });
                  }),
                  this.m_mapAppIDToDLCs.set(e, i);
              } catch (t) {
                const a = (0, G.l)(t);
                console.error(
                  "LoadDLCForAppID for appid: " + e + " hit: " + a.strErrorMsg,
                  a,
                );
              }
            return this.m_mapAppIDToDLCs.has(e)
              ? this.m_mapAppIDToDLCs.get(e)
              : [];
          });
        }
        static Get() {
          return (
            $l.s_Singleton ||
              (($l.s_Singleton = new $l()),
              "dev" == I.De.WEB_UNIVERSE &&
                (window.g_StoreTagCache = $l.s_Singleton)),
            $l.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppIDToDLCs = new Map()), (0, B.rC)(this);
        }
      }
      (0, o.gn)([B.LO], $l.prototype, "m_mapAppIDToDLCs", void 0);
      var ei = a(68985),
        ti = a(45562),
        ai = a(41258),
        ni = a(56799),
        li = a(75747),
        ii = a(34216),
        oi = a(37593),
        ri = a(5153);
      let si = class extends d.Component {
        OnHeadlineChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetHeadline(e.currentTarget.value || null, a);
        }
        OnBodyChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetBody(e.currentTarget.value || null, a);
        }
        OnVideoChange(e) {
          const { section: t } = this.props;
          t.SetVideoLink(e.currentTarget.value || null);
        }
        OnRemoveSubSection(e) {
          const { section: t, fnRemoveSection: a } = this.props;
          (0, C.AM)(
            d.createElement(f.uH, {
              strTitle: (0, x.Xx)("#EventEmail_Template_EditTitle"),
              strDescription: (0, x.Xx)(
                "#EventEmail_Template_RemoveSubSection",
                (0, x.Xx)("#EventEmail_Template_Sub_" + e),
              ),
              onOK: () => {
                t.RemoveSubSection(e), !t.BHasSomeSubSection() && a && a();
              },
            }),
            window,
          );
        }
        GenerateTemplateRemove(e) {
          let t = (0, x.Xx)("#EventEmail_Template_Sub_" + e);
          return d.createElement(
            "div",
            { className: ai.ImgCrossCtn },
            d.createElement("img", {
              "data-tooltip-text": (0, x.Xx)("#EventEmail_Template_Remove", t),
              className: ai.ImgCross,
              src: il.Z,
              onClick: () => this.OnRemoveSubSection(e),
            }),
          );
        }
        render() {
          const {
            section: e,
            additionalClassName: t,
            lang: a,
            bEditor: n,
            clanSteamID: l,
            appid: i,
            bTemplateEditable: o,
          } = this.props;
          return d.createElement(
            "div",
            {
              className: (0, T.Z)(
                t,
                ai.DevEmailEmailBackground,
                ai.EmailSection,
              ),
            },
            e.BHasHeadline() &&
              d.createElement(
                d.Fragment,
                null,
                o && this.GenerateTemplateRemove("headline"),
                d.createElement("input", {
                  type: "text",
                  className: ai.HeadlineInput,
                  placeholder: (0, x.Xx)("#EventEmail_EnterHeadline"),
                  value: e.GetHeadline(a),
                  onChange: this.OnHeadlineChange,
                }),
              ),
            e.BHasBody() &&
              d.createElement(
                d.Fragment,
                null,
                o && this.GenerateTemplateRemove("body"),
                d.createElement("textarea", {
                  className: ai.BodyInput,
                  placeholder: (0, x.Xx)("#EventEmail_EnterBodyCopy"),
                  value: e.GetBody(a),
                  rows: 8,
                  onChange: this.OnBodyChange,
                }),
              ),
            e.BHasCallToAction() &&
              d.createElement(
                d.Fragment,
                null,
                o && this.GenerateTemplateRemove("action"),
                d.createElement(ci, { appid: i, section: e }),
              ),
            e.BHasImage() &&
              d.createElement(
                d.Fragment,
                null,
                o && this.GenerateTemplateRemove("img"),
                d.createElement(mi, {
                  section: e,
                  lang: a,
                  clanSteamID: l,
                  bEditor: n,
                  artworkType: o ? "email_centered" : "email_full",
                }),
              ),
            e.BHasVideo() &&
              d.createElement(
                d.Fragment,
                null,
                o && this.GenerateTemplateRemove("youtube"),
                d.createElement(
                  "div",
                  { className: ai.VideoCtn },
                  d.createElement("img", { src: e.GetYouTubeImageURL() }),
                  Boolean(n) &&
                    d.createElement(
                      "div",
                      { className: ai.VideoInputCtn },
                      d.createElement(
                        "div",
                        null,
                        (0, x.Xx)("#EventEditor_InsertYouTube_Placholder"),
                      ),
                      d.createElement("input", {
                        type: "text",
                        value: e.GetVideoURL(),
                        onChange: this.OnVideoChange,
                      }),
                      d.createElement(
                        "div",
                        null,
                        (0, x.Xx)("#EventEditor_InsertYouTube_UpdateThumbnail"),
                        d.createElement(
                          "a",
                          {
                            href: "https://support.google.com/youtube/answer/72431",
                            target: "_blank",
                          },
                          (0, x.Xx)("#EventEditor_InsertYouTube_LearnHow"),
                        ),
                      ),
                    ),
                ),
              ),
          );
        }
      };
      (0, o.gn)([w.ak], si.prototype, "OnHeadlineChange", null),
        (0, o.gn)([w.ak], si.prototype, "OnBodyChange", null),
        (0, o.gn)([w.ak], si.prototype, "OnVideoChange", null),
        (0, o.gn)([w.ak], si.prototype, "OnRemoveSubSection", null),
        (si = (0, o.gn)([c.Pi], si));
      let ci = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.state = { dlcs: void 0 });
        }
        LoadDLCForApp() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.setState({
              dlcs: yield $l
                .Get()
                .LoadDLCForAppID(this.props.appid, this.m_cancelSignal),
            });
          });
        }
        componentDidMount() {
          this.LoadDLCForApp();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EmailCallToAction cancelled");
        }
        BuildTextOptions() {
          let e = new Array();
          return (
            L.xz.forEach((t) => {
              e.push(
                d.createElement(
                  "option",
                  { key: t, value: t },
                  (0, x.Xx)("#" + t),
                ),
              );
            }),
            e
          );
        }
        BuildDestinationOptions() {
          let e = new Array();
          for (let t in L.v)
            if (!isNaN(Number(t))) {
              let a = L.XQ[t];
              e.push(
                d.createElement(
                  "option",
                  { key: a, value: t },
                  (0, x.Xx)("#" + a),
                ),
              );
            }
          return (
            void 0 === this.state.dlcs
              ? e.push(
                  d.createElement(
                    "option",
                    { key: "CallToActionThrobber" },
                    d.createElement(y.V, {
                      string: (0, x.Xx)("#EventEmail_LoadingDLC"),
                      size: "small",
                    }),
                  ),
                )
              : this.state.dlcs.forEach((t) => {
                  e.push(
                    d.createElement(
                      "option",
                      { key: "dlc" + t.appid, value: t.appid },
                      (0, x.Xx)(
                        "#EventEmail_Destination_DLCPage",
                        t.name,
                        t.appid,
                      ),
                    ),
                  );
                }),
            e
          );
        }
        OnButtonLocChange(e) {
          const { section: t } = this.props;
          L.xz.forEach((a) => {
            a === e.target.value && t.SetButtonTextLock(a);
          });
        }
        OnDestinationChange(e) {
          const { section: t } = this.props;
          let a = Number(e.target.value);
          (0, B.z)(() => {
            a < L.HF
              ? (t.SetButtonDestination(a), t.SetButtonAppOverride(void 0))
              : (t.SetButtonDestination(L.v.k_EStorePage),
                t.SetButtonAppOverride(a));
          });
        }
        OnChangeStorePageURL() {
          const { section: e } = this.props;
          (0, C.AM)(
            d.createElement(di, {
              strExistingURL: I.De.STORE_BASE_URL + e.GetDestinationStorePath(),
              fnUpdateURLOnSuccess: e.SetButtonDestinationStoreURL,
            }),
            window,
          );
        }
        render() {
          const { section: e } = this.props;
          let t = this.BuildTextOptions(),
            a = this.BuildDestinationOptions(),
            n = e.BHasButtonAppIDOverride()
              ? e.GetButtonAppidOverride()
              : e.GetDestination();
          return d.createElement(
            "div",
            { className: ai.ButtonSettingContainer },
            d.createElement(
              "div",
              { className: ai.ButtonSettingRow },
              d.createElement(
                "span",
                null,
                (0, x.Xx)("#EventEmail_Section_ButtonText"),
              ),
              d.createElement(
                "select",
                {
                  value: e.GetButtonTextLoc(),
                  onChange: this.OnButtonLocChange,
                },
                t,
              ),
            ),
            d.createElement(
              "div",
              null,
              d.createElement(
                "span",
                null,
                (0, x.Xx)("#EventEmail_Section_Destination"),
              ),
              d.createElement(
                "select",
                { value: n, onChange: this.OnDestinationChange },
                a,
              ),
            ),
            e.BIsStoreSalesPage() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "span",
                  null,
                  (0, x.Xx)("#EventEmail_Section_EnterSalesPage"),
                  " ",
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventEmail_Section_EnterSalesPage_ttip",
                      ),
                    },
                    "(?)",
                  ),
                ),
                d.createElement(
                  "span",
                  null,
                  I.De.STORE_BASE_URL + e.GetDestinationStorePath(),
                ),
                d.createElement(
                  R.KM,
                  { onClick: this.OnChangeStorePageURL },
                  (0, x.Xx)("#EventEmail_Section_UpdateURL"),
                ),
              ),
          );
        }
      };
      (0, o.gn)([w.ak], ci.prototype, "OnButtonLocChange", null),
        (0, o.gn)([w.ak], ci.prototype, "OnDestinationChange", null),
        (0, o.gn)([w.ak], ci.prototype, "OnChangeStorePageURL", null),
        (ci = (0, o.gn)([c.Pi], ci));
      let di = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bIsValid: N.bb.IsValidStoreURL(this.props.strExistingURL),
              strURL: this.props.strExistingURL
                ? this.props.strExistingURL
                : "",
            });
        }
        OnURLUpdate(e) {
          let t = e.currentTarget.value;
          this.setState({ bIsValid: N.bb.IsValidStoreURL(t), strURL: t });
        }
        render() {
          const { fnUpdateURLOnSuccess: e, closeModal: t } = this.props;
          return d.createElement(
            f.uH,
            {
              strDescription: (0, x.Xx)(
                "#EventEmail_Section_EnterSalesPage_ttip",
              ),
              strTitle: (0, x.Xx)("#EventEmail_Section_UpdateURL"),
              onOK: () => {
                e(this.state.strURL), t();
              },
              onCancel: t,
              bOKDisabled: !this.state.bIsValid,
            },
            d.createElement(
              "div",
              null,
              d.createElement("input", {
                type: "test",
                className: ai.ButtonDestInputSaleURL,
                value: this.state.strURL,
                onChange: this.OnURLUpdate,
              }),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], di.prototype, "OnURLUpdate", null),
        (di = (0, o.gn)([c.Pi], di));
      let mi = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { langOverride: this.props.lang });
        }
        OnArtworkLangChange(e, t, a) {
          const { section: n } = this.props;
          let l = ei.aN.GetExtensionString(e);
          l && n.SetImage(e.image_hash + l, a),
            this.setState({ langOverride: a }, () => n.SetImage(null, t));
        }
        render() {
          const {
            clanSteamID: e,
            section: t,
            lang: a,
            bEditor: n,
            artworkType: l,
          } = this.props;
          let i = t.GetImageURLWithFallback(this.state.langOverride, e),
            o = t.BHasSomeImage(),
            r = Yl.h1[l];
          return d.createElement(
            "div",
            { className: ai.ImagePreview },
            d.createElement(
              "div",
              { className: ai.FullImageCtn },
              d.createElement("img", {
                width: i ? r.width : void 0,
                height: i ? r.height : void 0,
                src: i,
              }),
              Boolean(n) &&
                d.createElement(ui, {
                  section: t,
                  clanSteamID: e,
                  lang: a,
                  artworkType: l,
                }),
            ),
            o &&
              d.createElement(ni.w, {
                clanSteamID: e,
                langOverride: this.state.langOverride,
                fnGetImageHash: (e) => t.GetImageHash(e),
                fnOnLanguagePreviewChange: (e) =>
                  this.setState({ langOverride: e }),
                fnOnRemoveImage: (e) => t.SetImage(null, e),
                fnOnArtworkLangChange: this.OnArtworkLangChange,
              }),
          );
        }
      };
      (0, o.gn)([w.ak], mi.prototype, "OnArtworkLangChange", null),
        (mi = (0, o.gn)([c.Pi], mi));
      let ui = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bDownloadFromClanImageStore: !1 }),
            (this.m_clanImageUploader = new oi.S(this.props.clanSteamID));
        }
        componentDidUpdate(e) {
          e.clanSteamID.GetAccountID() !=
            this.props.clanSteamID.GetAccountID() &&
            (this.m_clanImageUploader = new oi.S(this.props.clanSteamID));
        }
        DoUpload() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const { section: e, lang: t } = this.props;
            try {
              const a = [this.props.artworkType],
                n = yield this.m_clanImageUploader.UploadAllImages(
                  [ol.IN.k_ESteamRealmGlobal],
                  t,
                  a,
                );
              Object.keys(n).forEach((t) => {
                const a = n[t],
                  l = this.m_clanImageUploader.m_filesToUpload.find(
                    (e) => `${e.uploadTime}/${e.file.name}` === t,
                  );
                if (l)
                  if (1 !== a.success)
                    (l.status = "failed"), (l.message = a.message);
                  else {
                    l.status = "success";
                    let t = ei.aN.GetExtensionString(a);
                    e.SetImage(a.image_hash + t, l.language);
                  }
              });
            } catch (e) {
              console.error("DoUpload failed:" + (0, G.l)(e).strErrorMsg);
            }
          });
        }
        OnDropFiles(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if (e && e.length > 0) {
              const { lang: t } = this.props,
                a = [this.props.artworkType];
              let n = !0;
              for (let l = 0; n && l < Array.from(e).length; l++) {
                let i = e.item(l);
                (n = yield this.m_clanImageUploader.AddImage(i, t, a)),
                  n ||
                    (console.error(
                      "ClanImagePicker.OnDropFiles: failed on i=" +
                        l +
                        " file=" +
                        i.name,
                    ),
                    (0, C.AM)(
                      d.createElement(f.JX, {
                        strDescription: (0, x.Xx)("#ImagePicker_Error", i.name),
                      }),
                      window,
                    ));
              }
              return n;
            }
            return !1;
          });
        }
        RenderInstructions() {
          const { artworkType: e } = this.props;
          let t = Yl.h1[e];
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "span",
              { className: ai.EmailInputText },
              (0, x.Xx)("#EventEmail_SelectBrandingImage"),
            ),
            d.createElement(
              "span",
              null,
              (0, x.Xx)("#EventEmail_ImageDimension", t.width, t.height),
            ),
          );
        }
        OnPreviousImageSelected(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.state.bDownloadFromClanImageStore ||
              this.setState({ bDownloadFromClanImageStore: !0 }, () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  const { lang: t } = this.props,
                    a = [this.props.artworkType];
                  try {
                    yield this.m_clanImageUploader.AddExistingClanImage(
                      e,
                      t,
                      a,
                    );
                  } catch (e) {
                    let t = (0, G.l)(e);
                    console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                      (0, C.AM)(
                        d.createElement(f.JX, {
                          strDescription: (0, x.Xx)(
                            "#EventError_Code",
                            t.strErrorMsg,
                          ),
                        }),
                        window,
                      );
                  }
                  this.setState({ bDownloadFromClanImageStore: !1 });
                }),
              );
          });
        }
        render() {
          const { section: e } = this.props;
          if (this.state.bDownloadFromClanImageStore)
            return d.createElement(
              "div",
              { className: ai.EditImageInputCtn },
              d.createElement(y.V, {
                position: "center",
                size: "medium",
                string: (0, x.Xx)("#Loading"),
              }),
            );
          const { clanSteamID: t } = this.props,
            a = [this.props.artworkType];
          let n = (0, ti.qn)(this.m_clanImageUploader, "emailartupload_", a);
          return d.createElement(
            "div",
            { className: ai.EditImageInputCtn },
            d.createElement(
              li.x,
              {
                onDropFiles: this.OnDropFiles,
                elAdditonalButtons: [
                  d.createElement(ri.j, {
                    key: "emailsecion",
                    OnClanImageSelected: this.OnPreviousImageSelected,
                    clanSteamID: t,
                    fnSetImageURL: l.wk.GetEditModel().SetImageURL,
                    rgRealmList: l.wk.GetEditModel().GetIncludedRealmList(),
                  }),
                ],
                renderDesciption: this.RenderInstructions,
              },
              d.createElement("div", { className: ii.UploadPreviewCtn }, n),
              d.createElement(ti.tu, {
                imageUploader: this.m_clanImageUploader,
                fnOnUploadImageRequested: this.DoUpload,
              }),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], ui.prototype, "DoUpload", null),
        (0, o.gn)([w.ak], ui.prototype, "OnDropFiles", null),
        (0, o.gn)([w.ak], ui.prototype, "RenderInstructions", null),
        (0, o.gn)([w.ak], ui.prototype, "OnPreviousImageSelected", null),
        (ui = (0, o.gn)([c.Pi], ui));
      const _i =
          a.p +
          "images/applications/community/Logo_Steamworks.png?v=valveisgoodatcaching",
        pi =
          a.p +
          "images/applications/community/Logo_Steam_NoWords_Dark.png?v=valveisgoodatcaching",
        Ei =
          "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=";
      var hi = a(23188);
      const vi = {
        localized_headline: new Array(31),
        localized_body: new Array(31),
        localized_image: new Array(31),
        button_destination: L.v.k_EEventPage,
        button_loc_token: "EventEmail_Button_ClickForMoreDetails",
        video_link: "",
      };
      let gi = class extends d.Component {
        GetEmailEditModel() {
          return new N.F0(this.props.editModel);
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetCurEditLanguage(),
            a = this.GetEmailEditModel(),
            n = [];
          a.GetSectionObjects().forEach((l, i) => {
            n.push(
              d.createElement(si, {
                lang: t,
                key: "email_editor_section_" + i,
                clanSteamID: e.GetClanSteamID(),
                bEditor: e.BIsEmailEditable(),
                appid: e.GetAppID(),
                section: l,
                additionalClassName: ai.HeaderSection,
                bTemplateEditable: !0,
                fnRemoveSection: () => a.RemoveSection(i),
              }),
            );
          });
          let l = a.GetLocalizedSubject(t);
          return d.createElement(
            "div",
            { className: ai.EmailEditorContent },
            d.createElement(
              "div",
              { className: ai.RightAlign },
              d.createElement(
                "span",
                { className: ai.EmailOptionTitle },
                (0, x.Xx)("#LanguageTitle"),
                ": ",
              ),
              d.createElement(cl.uW, {
                selectedLang: t,
                fnLangHasData: a.BHasSomeLanguage,
                fnOnLanguageChanged: (t) => e.SetCurEditLanguage(t),
              }),
            ),
            d.createElement(
              "div",
              { className: (0, T.Z)(S().FlexRowContainer, ai.EmailSubjectCtn) },
              d.createElement(
                "span",
                { className: ai.EmailOptionTitle },
                (0, x.Xx)("#EventEmail_Subject"),
              ),
              d.createElement("input", {
                type: "text",
                value: l,
                size: 90,
                maxLength: 250,
                onChange: (t) =>
                  this.GetEmailEditModel().SetLocalizedSubject(
                    e.GetCurEditLanguage(),
                    t.currentTarget.value,
                  ),
              }),
            ),
            d.createElement(
              "div",
              { className: (0, T.Z)(ai.EmailTemplate, ai.DevEmailTemplate) },
              d.createElement(
                "div",
                { className: (0, T.Z)(ai.CenterAlign, ai.DevEmail_TopHeader) },
                d.createElement(
                  "a",
                  { href: I.De.PARTNER_BASE_URL },
                  d.createElement("img", {
                    src: _i,
                    className: ai.DevEmail_TopLogo,
                  }),
                ),
              ),
              d.createElement(
                "div",
                { className: (0, T.Z)(ai.DevEmail_Content) },
                d.createElement("div", { className: ai.DevEmail_Subject }, l),
              ),
              n,
              d.createElement(
                "div",
                { className: (0, T.Z)(ai.EmailSection, ai.SupportCtn) },
                d.createElement("b", null, "Have Questions?"),
                d.createElement("br", null),
                d.createElement("a", { href: "#" }, "Contact us"),
                " and we'll get right back to you.",
              ),
              d.createElement(
                "div",
                { className: (0, T.Z)(ai.DevEmail_Content) },
                d.createElement("img", {
                  src: pi,
                  className: ai.DevEmail_SignOff_Img,
                }),
                d.createElement(
                  "div",
                  { className: ai.DevEmail_Signoff },
                  d.createElement(
                    "div",
                    null,
                    "- ",
                    (0, x.Xx)("#EventEmail_Developer_SignOff2"),
                  ),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: (0, T.Z)(ai.DevEmail_Footer_Ctn) },
              d.createElement(
                "span",
                { className: ai.DevEmail_Footer_Reason },
                (0, x.Xx)("#EventEmail_Developer_Footer_Reason"),
              ),
              d.createElement(
                "div",
                { className: ai.DevEmail_Footer_SubSection },
                d.createElement("img", { src: Ei, width: 103, height: 43 }),
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "div",
                    { className: ai.DevEmail_Footer_Bold },
                    d.createElement(
                      "strong",
                      null,
                      (0, x.Xx)("#EventEmail_Developer_Footer_Valve"),
                      d.createElement("br", null),
                      (0, x.Xx)("#EventEmail_Developer_Footer_Valve2"),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: ai.DevEmail_Footer_Regular },
                    (0, x.Xx)("#EventEmail_Developer_Footer_Valve3"),
                  ),
                  d.createElement(
                    "div",
                    null,
                    d.createElement(
                      "a",
                      {
                        className: S().FlexRowContainer,
                        href:
                          (I.De.IN_CLIENT ? "steam://openurl/" : "") +
                          "https://twitter.com/steam_games",
                        target: I.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      d.createElement("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                        width: 33,
                        height: 28,
                      }),
                      d.createElement(
                        "div",
                        { className: ai.DevEmail_Follow },
                        (0, x.Xx)("#EventEmail_Developer_Footer_Follow"),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            d.createElement(
              "button",
              {
                className: (0, T.Z)(S().Button, ai.CenterAlign),
                onClick: () => {
                  a.AddSection(vi);
                },
              },
              (0, x.Xx)("#EventEmail_Template_AddSection"),
            ),
          );
        }
      };
      gi = (0, o.gn)([c.Pi], gi);
      let Si = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              capabilities: void 0,
              selectedCapability: void 0,
              nDuplicatesRemoved: 0,
            }),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.m_appFileInput = d.createRef()),
            (this.m_pubFileInput = d.createRef());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("DevEventRecipientOptions cancelled");
        }
        componentDidMount() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let e = yield l.wk.GetPartnerCapabilities(this.m_cancelSignal),
              t = this.GetEmailEditModel(),
              a = { label: e[0].capability, value: e[0] };
            e.forEach((e) => {
              e.id === t.GetInternalTargetingPartnerCapability() &&
                (a = { label: e.capability, value: e });
            }),
              this.setState({ capabilities: e, selectedCapability: a });
          });
        }
        GetEmailEditModel() {
          return new N.F0(this.props.editModel);
        }
        OnFileChoice(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let a = t.target.files;
            if (a && a.length > 0 && a[0]) {
              let t = this;
              this.setState({ readingFile: !0, file: a[0] }, () => {
                const a = new FileReader();
                (a.onload = function () {
                  const n = a.result
                      .toString()
                      .split("\n")
                      .map((e) => Number.parseInt(e)),
                    l = new Set(n);
                  "app" == e
                    ? t.GetEmailEditModel().SetInternalAppIDs(Array.from(l))
                    : t
                        .GetEmailEditModel()
                        .SetInternalPublisherIDs(Array.from(l)),
                    t.setState({
                      readingFile: !1,
                      nDuplicatesRemoved: n.length - l.size,
                      file: null,
                    });
                }),
                  (a.onerror = function () {
                    console.error(
                      "DevEventRecipientOptions - Failed to read file",
                      a,
                    ),
                      t.setState({ readingFile: !1, file: null });
                  }),
                  a.readAsText(this.state.file);
              });
            }
            this.m_appFileInput.current &&
              this.m_appFileInput.current.value &&
              (this.m_appFileInput.current.value = null),
              this.m_pubFileInput.current &&
                this.m_pubFileInput.current.value &&
                (this.m_pubFileInput.current.value = null);
          });
        }
        ShowTargets(e) {
          let t = this.GetEmailEditModel(),
            a =
              "app" == e
                ? t.GetInternalTargetAppIDs()
                : t.GetInternalTargetPublisherIDs();
          (0, C.AM)(
            d.createElement(
              f.uH,
              {
                strTitle: (0, x.Xx)(
                  "app" == e
                    ? "#EventEmail_Developer_ShowApps"
                    : "#EventEmail_Developer_ShowPublisher",
                  a.length,
                ),
                onOK: () => {},
                onCancel: () => {},
                bAlertDialog: !0,
              },
              a.map((t) => d.createElement("div", { key: e + "_" + t }, t)),
            ),
            window,
          );
        }
        ClearTargets(e) {
          const t = this.GetEmailEditModel();
          "app" == e
            ? t.SetInternalAppIDs([])
            : "publisher" == e && t.SetInternalPublisherIDs([]);
        }
        render() {
          if (!this.state.capabilities)
            return d.createElement(y.V, { string: (0, x.Xx)("#Loading") });
          let e = this.GetEmailEditModel();
          const t = this.state.capabilities.map((e) => ({
              value: e,
              label: e.capability,
            })),
            a = sn.PubRights.map((t) =>
              d.createElement(R.ji, {
                key: "PubRights" + t.flag,
                onChange: (a) =>
                  e.UpdateInternalTargetPublisherRights(t.flag, a),
                label: (0, x.Xx)("#PubRight_" + t.token),
                tooltip: (0, x.Xx)("#PubRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingPublisherRight(t.flag),
              }),
            ),
            n = sn.AppRights.filter(
              (e) =>
                ![Wa.Download, Wa.UploadCDKeys, Wa.ManageCEG].includes(e.token),
            ).map((t) =>
              d.createElement(R.ji, {
                key: "AppRights" + t.flag,
                onChange: (a) => e.UpdateInternalTargetAppRights(t.flag, a),
                label: (0, x.Xx)("#AppRight_" + t.token),
                tooltip: (0, x.Xx)("#AppRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingAppRight(t.flag),
              }),
            );
          return d.createElement(
            "div",
            { className: ai.RecipientCtn },
            d.createElement(
              "div",
              { className: (0, T.Z)(S().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEmail_Recipients"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#EventEmail_Recipients_desc"),
              ),
              d.createElement(
                "table",
                { className: ai.DevEmail_RecipientTable },
                d.createElement(
                  "tbody",
                  null,
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, x.Xx)("#EventEmail_Developer_IsUrgent"),
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(R.ji, {
                        onChange: (t) => e.SetInternalTargetPriority(t),
                        label: (0, x.Xx)("#EventEmail_Developer_IsUrgent_Desc"),
                        checked: e.BHasInternalTargetingPriority(),
                      }),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, x.Xx)("#EventEmail_Developer_PartnerCapability"),
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(ma.ZP, {
                        isSearchable: !0,
                        isMulti: !1,
                        value: this.state.selectedCapability,
                        options: t,
                        onChange: (e) =>
                          this.setState({ selectedCapability: e }, () =>
                            this.GetEmailEditModel().SetInternalTargetPartnerCapability(
                              e.value.id,
                            ),
                          ),
                      }),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      { colSpan: 2 },
                      (0, x.Xx)("#EventEmail_Developer_RightDesc"),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, x.Xx)("#EventEmail_Developer_PublisherRights"),
                    ),
                    d.createElement("td", null, a),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, x.Xx)("#EventEmail_Developer_AppRights"),
                    ),
                    d.createElement("td", null, n),
                  ),
                ),
              ),
              this.state.readingFile && d.createElement(y.V, { size: "small" }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "b",
                  null,
                  (0, x.Xx)("#EventEmail_Developer_FilterOptional"),
                ),
              ),
              Boolean(this.state.nDuplicatesRemoved > 0) &&
                d.createElement(
                  "div",
                  { className: cn.WarningStylesBackground },
                  d.createElement(
                    "b",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Developer_DuplicateRemoved",
                      this.state.nDuplicatesRemoved.toLocaleString(),
                    ),
                  ),
                ),
              d.createElement(
                "div",
                { className: ai.TargetCtn },
                d.createElement(
                  "div",
                  { className: ai.TargetTypeTitle },
                  d.createElement("b", null, "App Targeting"),
                ),
                d.createElement(
                  "div",
                  { className: ai.TargetTypeCtn },
                  Boolean(e.GetInternalTargetAppCount()) &&
                    d.createElement(
                      "div",
                      { className: ai.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetAppCount(),
                        " apps targeted.",
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, x.Xx)(
                            "#EventEmail_Developer_ShowApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, x.Xx)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                    ),
                  d.createElement(
                    "div",
                    { className: ai.SelectListCtn },
                    (0, x.Xx)("#EventEmail_Developer_AddApps"),
                    d.createElement(
                      "label",
                      {
                        className: hi.SelectImageButton,
                        htmlFor: "internal_loadappid",
                      },
                      (0, x.Xx)("#EventEmail_Developer_SelectFile"),
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadappid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("app", e),
                      onChange: (e) => this.OnFileChoice("app", e),
                      multiple: !1,
                    }),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: ai.TargetCtn },
                d.createElement(
                  "div",
                  { className: ai.TargetTypeTitle },
                  d.createElement("b", null, "Publisher Targeting"),
                ),
                d.createElement(
                  "div",
                  { className: ai.TargetTypeCtn },
                  e.GetInternalTargetPublisherCount() &&
                    d.createElement(
                      "div",
                      { className: ai.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetPublisherCount(),
                        " publishers targeted.",
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, x.Xx)(
                            "#EventEmail_Developer_ShowPublisher",
                            e.GetInternalTargetPublisherCount(),
                          ),
                        ),
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, x.Xx)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                    ),
                  d.createElement(
                    "div",
                    { className: ai.SelectListCtn },
                    (0, x.Xx)("#EventEmail_Developer_AddPublisher"),
                    d.createElement(
                      "label",
                      {
                        className: hi.SelectImageButton,
                        htmlFor: "internal_loadpubid",
                      },
                      (0, x.Xx)("#EventEmail_Developer_SelectFile"),
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadpubid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("publisher", e),
                      onChange: (e) => this.OnFileChoice("publisher", e),
                      multiple: !1,
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Si.prototype, "OnFileChoice", null),
        (0, o.gn)([w.ak], Si.prototype, "ShowTargets", null),
        (0, o.gn)([w.ak], Si.prototype, "ClearTargets", null),
        (Si = (0, o.gn)([c.Pi], Si));
      var bi = a(32497),
        fi = a(75931),
        Ci = a(3449),
        yi = a(62242);
      const Di = (0, c.Pi)((e) => {
          const { editModel: t } = e;
          d.useEffect(() => {
            bi.N.HintLoad();
          }, []);
          if (!O.cb.Get().BShowEmailEditorTab(t.GetEventModel())) return null;
          t.GetClanSteamID().GetAccountID();
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: ai.EmailTabCtn },
              d.createElement(
                "div",
                { className: (0, T.Z)(S().EventEditorTextTitleCtn) },
                d.createElement(
                  "span",
                  {
                    className: (0, T.Z)(S().EventEditorTextTitle, S().FlexGrow),
                  },
                  (0, x.Xx)("#EventEmail_FeatureTitle"),
                ),
                d.createElement(
                  "a",
                  { href: "#", className: (0, T.Z)(S().doclink) },
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#selectimage_see_documentation"),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: (0, T.Z)(S().FlexColumnContainer) },
                d.createElement(R.gE, {
                  label: (0, x.Xx)("#EventEmail_EnableEmailOption"),
                  onChange: (t) => {
                    const { editModel: a } = e,
                      n = a.GetClanSteamID().GetAccountID();
                    (a.CreateOrGetEmailSettings(n).bEnable = t),
                      a.SetDirty(H.jB.jsondata_email);
                  },
                  checked: t.BIsEmailEnabled(),
                }),
              ),
            ),
            Boolean(t.BIsEmailEnabled()) &&
              d.createElement(
                "div",
                { className: Gn.EventEditorInputPaneContainer },
                d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Mi, { editModel: t }),
                ),
                d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(xi, { editModel: t }),
                ),
                d.createElement(
                  Xe.SV,
                  null,
                  I.JA.IS_VALVE_GROUP
                    ? d.createElement(gi, { editModel: t })
                    : d.createElement(Gi, { editModel: t }),
                ),
                d.createElement(Ti, { editModel: t }),
                d.createElement(
                  Xe.SV,
                  null,
                  I.JA.IS_VALVE_GROUP
                    ? d.createElement(Si, { editModel: t })
                    : d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(Ii, { editModel: t }),
                        d.createElement(wi, { editModel: t }),
                      ),
                ),
              ),
          );
        }),
        Ti = (e) =>
          (0, fi.b)(e.editModel.GetAppID())
            ? d.createElement(
                "div",
                { className: cn.WarningStylesBackground },
                (0, x.Xx)("#EventEmail_SteamChina_Warning"),
              )
            : null;
      let xi = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSettingUp: !1 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EventEmailControlBar cancelled");
        }
        FireTestEmail() {
          const { editModel: e } = this.props;
          l.wk
            .FireTestEmail(
              e.GetClanSteamID(),
              e.GetGID(),
              e.GetCurEditLanguage(),
              this.m_cancelSignal,
            )
            .then((e) => {
              (0, C.AM)(
                d.createElement(
                  f.uH,
                  {
                    strTitle: (0, x.Xx)("#EventDisplay_Share_Success"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  (0, x.Xx)("#EventEmail_TestEmailQueue"),
                ),
                window,
              );
            })
            .catch((e) => {
              (0, C.AM)(
                d.createElement(f.JX, null, (0, G.l)(e).strErrorMsg),
                window,
              );
            });
        }
        OnTestEmail(e) {
          const { editModel: t } = this.props;
          e.preventDefault(),
            bi.N.BHasValidatedEmail() && !t.BIsDirtyType(H.jB.jsondata_email)
              ? (0, C.BR)(
                  d.createElement(
                    f.uH,
                    {
                      strTitle: (0, x.Xx)("#EventEmail_Test_Email"),
                      onOK: this.FireTestEmail,
                      onCancel: () => {},
                    },
                    (0, x.kQ)(
                      "#EventEmail_Send_TestEmail_Desc",
                      d.createElement(
                        "a",
                        {
                          target: I.De.IN_CLIENT ? void 0 : "blank",
                          href: I.De.STORE_BASE_URL + "account/",
                        },
                        I.De.STORE_BASE_URL + "account/",
                      ),
                    ),
                  ),
                  (0, j.RA)(e),
                )
              : t.BIsDirtyType(H.jB.jsondata_email)
                ? (0, C.AM)(
                    d.createElement(
                      f.JX,
                      null,
                      (0, x.Xx)("#EventEmail_Test_Dirty"),
                    ),
                    window,
                  )
                : (0, C.AM)(
                    d.createElement(
                      f.JX,
                      null,
                      (0, x.kQ)(
                        "#EventEmail_Test_Email_Fail",
                        d.createElement(
                          "a",
                          {
                            target: I.De.IN_CLIENT ? void 0 : "blank",
                            href: I.De.STORE_BASE_URL + "account/",
                          },
                          I.De.STORE_BASE_URL + "account/",
                        ),
                      ),
                    ),
                    window,
                  );
        }
        OnPrepareEmail(e) {
          (0, C.AM)(
            d.createElement(ki, { editModel: this.props.editModel }),
            (0, j.RA)(e),
          );
        }
        OnSetupAndFireEmailConfirm(e) {
          (0, C.BR)(
            d.createElement(
              f.uH,
              {
                strTitle: "(VO) Setup and Send Email",
                onOK: () =>
                  this.setState({ bSettingUp: !0 }, this.OnSetupAndFireEmail),
                onCancel: () => {},
              },
              d.createElement(
                "div",
                null,
                "(VO) Be thoughtful. Talk to Alden or Adil if not sure. By pressing this, we will setup a database entry to fire this email in its current form and target. Double check the audience make sense and the localization looks good. This will also begin firing immediately.",
              ),
            ),
            (0, j.RA)(e),
          );
        }
        OnSetupAndFireEmail() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const { editModel: e } = this.props;
            try {
              let t = I.JA.IS_VALVE_GROUP
                ? yield l.wk.SetupInternalPartnerCommunication(
                    this.m_cancelSignal,
                    e.GetClanSteamID(),
                    e.GetGID(),
                    e.GetEmailSettings().internal_targeting,
                  )
                : yield l.wk.SetupPartnerEmailCampaign(
                    e.GetClanSteamID(),
                    e.GetGID(),
                    this.m_cancelSignal,
                  );
              (0, C.AM)(
                d.createElement(
                  f.uH,
                  {
                    strTitle: (0, x.Xx)("#EventDisplay_Share_Success"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  d.createElement(
                    "div",
                    null,
                    "Succesfully created the email on the server and saved it to the event. We are done!",
                  ),
                  Boolean(t.warning) &&
                    "However we hit the following warning: " + t.warning_msg,
                ),
                window,
              );
            } catch (e) {
              let t = (0, G.l)(e);
              console.error("OnSetupAndFireEmail failed: " + t.strErrorMsg),
                (0, C.AM)(
                  d.createElement(
                    f.uH,
                    {
                      strTitle: (0, x.Xx)("#Error_Message"),
                      onOK: () => {},
                      onCancel: () => {},
                      bAlertDialog: !0,
                    },
                    d.createElement(
                      "div",
                      null,
                      "We hit the follwoing error: Error Code (",
                      t.errorCode,
                      ")",
                      d.createElement("br", null),
                      "Error Message: ",
                      t.strErrorMsg,
                    ),
                  ),
                  window,
                );
            } finally {
              this.setState({ bSettingUp: !1 });
            }
          });
        }
        render() {
          const { editModel: e } = this.props,
            t = Boolean(e.GetEmailSettings().locked),
            a = O.cb.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: ai.ControlBarCtn },
            d.createElement(
              "a",
              { onClick: this.OnTestEmail, className: S().EditPreviewButton },
              this.state.bSettingUp && d.createElement(y.V, { size: "small" }),
              (0, x.Xx)("#EventEmail_Control_TestEmail"),
            ),
            t &&
              a.valve_admin &&
              d.createElement(
                "a",
                {
                  onClick: this.OnSetupAndFireEmailConfirm,
                  className: S().EditPreviewButton,
                },
                "(VO) Setup and Fire Email",
              ),
            t &&
              !a.valve_admin &&
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#EventEmail_Ready_ValveRequiredToSend"),
              ),
            !t &&
              d.createElement(
                "a",
                {
                  onClick: this.OnPrepareEmail,
                  className: S().EditPreviewButton,
                },
                (0, x.Xx)("#EventEmail_Control_Prepare"),
              ),
          );
        }
      };
      (0, o.gn)([w.ak], xi.prototype, "FireTestEmail", null),
        (0, o.gn)([w.ak], xi.prototype, "OnTestEmail", null),
        (0, o.gn)([w.ak], xi.prototype, "OnPrepareEmail", null),
        (0, o.gn)([w.ak], xi.prototype, "OnSetupAndFireEmailConfirm", null),
        (0, o.gn)([w.ak], xi.prototype, "OnSetupAndFireEmail", null),
        (xi = (0, o.gn)([c.Pi], xi));
      const Gi = (0, c.Pi)((e) => {
        const { editModel: t } = e;
        let a = new N.F0(t),
          n = ((e) => {
            var t;
            let a = Array(),
              n =
                null === (t = Re.Z.Get().GetApp(e)) || void 0 === t
                  ? void 0
                  : t.GetName();
            return (
              L.EW.forEach((e) =>
                a.push(
                  d.createElement(
                    "option",
                    { key: e, value: e },
                    (0, x.Xx)("#" + e, n),
                  ),
                ),
              ),
              a
            );
          })(t.GetAppID()),
          l = t.GetCurEditLanguage();
        const i = t.GetAppID(),
          [o] = (0, Ml.vs)(i, { include_basic_info: !0 });
        if (!o)
          return d.createElement(y.V, {
            string: (0, x.Xx)("#Loading"),
            position: "center",
            size: "small",
          });
        let r = a.GetSectionObj(0),
          s = a.GetSectionObj(1),
          c = "#EventEmail_Reason_Played",
          m = !1,
          u = "#EventEmail_Footer_Reason_Played",
          _ = null == o ? void 0 : o.GetStorePageURL(),
          E = null == o ? void 0 : o.GetName();
        if (a.BIsTargetingGamePlayers());
        else if (a.BIsTargetingGameFollowers())
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
        else if (a.BIsTargetingGameWishlisters())
          (c = "#EventEmail_Reason_Wishlist"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Wishlisted");
        else if (a.BIsTargetingSomeCreator()) {
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
          let e = a.GetSomeCreatorTarget(),
            t = o.GetAllCreatorClanIDs().find((t) => t == e);
          if (t) {
            const e = p.K.InitFromClanID(t);
            let a = Kt.bq.GetCreatorHome(e);
            if (a) {
              let e = "developer";
              o.GetAllDeveloperCreatorClans().includes(t) ||
                (e = o.GetAllPublisherCreatorClans().includes(t)
                  ? "publisher"
                  : "franchise"),
                (_ = a.GetCreatorHomeURL(e)),
                (E = a.GetName());
            }
          }
        }
        return d.createElement(
          "div",
          { className: ai.EmailEditorContent },
          d.createElement(
            "div",
            { className: (0, T.Z)(S().FlexRowContainer, ai.EmailSubjectCtn) },
            d.createElement(
              "span",
              { className: ai.EmailOptionTitle },
              (0, x.Xx)("#EventEmail_Subject"),
            ),
            d.createElement(
              "select",
              {
                className: ai.EmailSubjectSelect,
                value: a.GetSubjectTextLoc(),
                onChange: (e) => {
                  L.EW.forEach((a) => {
                    if (a === e.target.value) {
                      new N.F0(t).SetSubjectTextLoc(a);
                    }
                  });
                },
              },
              n,
            ),
          ),
          d.createElement(
            "div",
            { className: ai.RightAlign },
            d.createElement(
              "span",
              { className: ai.EmailOptionTitle },
              (0, x.Xx)("#LanguageTitle"),
              ": ",
            ),
            d.createElement(cl.uW, {
              selectedLang: l,
              fnLangHasData: a.BHasSomeLanguage,
              fnOnLanguageChanged: (t) => {
                e.editModel.SetCurEditLanguage(t);
              },
            }),
          ),
          d.createElement(
            "div",
            { className: ai.EmailTemplate },
            d.createElement(
              "div",
              { className: (0, T.Z)(ai.EmailIconHeader, ai.CenterAlign) },
              d.createElement("img", {
                src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABo1JREFUeNrsWg1MVlUY/iDTElOcI9ZgZBorV8ywVFYGc05mZQbmMgoNk37NQq3IJZWoLf+l9eMqSQ1lpm4aWgStpauZYbl+wK3EssjKflYmtAyi59Hnbme3e7/v3o9PVtt9t2fnfPe+55x7z3Pe97znvV9cZ2dnKJD/pvTwqji5oLAPiuuAscBwYBDQR7dbgWZgP1APbN9UXXU8mN6uSVwkywEpyShKgTsMMiJJG1AJLAZJLcE0x5gckBKH4i5gCXBOlP3TesqACpAU+M9YkANieqN4GbgpRuPsYLcgqC2Y8i6QI2I4maNjPNYHwJhgL4qSHLmyzcCNUfTVAewGPtHvoUA2EG/o1DKoAEF/B1PvP1q7P0pidjFgwKR/YbPCdBQviSTKOOAR4Mlg6n1YDiYyBQUn92yffbwJXC/L4R6Va1ynFZ4B7FQITvkTyLATGci/xXQ5ZVEQw/NNkeo1wBxgr8D6awDZv026lF7AY8HUe7QcWE1/1I8AZ/lsvxYWMA3t6Q4n0jrw+y9ZIl1mHbAN157G73WoTzX2p1Rc/97D4XegiL4SSAR+VHCxBu0/ls5CFJdG6KoG+muk/wKKc130jkLvTofn4KKqAs4EGqCzyOV556IYCRyEzoMuOv0UDcfrPWpwrQD1nnw//H7dtJyJURBjRWBW+6UWMRTU23kNyNOlvUY7urrJHoi5GAUJuA8YpqwEX3wm8D7uD5DqKOCGCMgwus4No5fr8jh03ZOkU4axE130RkpnDnQud9HhgT5feoOhd772/1vNM6UVEIyNgpgTis5Ccoe/O+jwWm/V2233OGZFhDEYPPRV25kiipZUCHyGBfCz9J6hhapOEm5XfQHwi+r7Hfpnqmmjw8HZSYqMei9N5LMRnr/UflYEEbS8B2x6fI8kvcdgOznDoyDncUxOo+rvArcYZFlSaFy7yHbvCg9jDFTZjLFWq74HqMZLxhtWusV4+TyDnErc+ypM/024v9aDBZ+nSNN6V1rqdA/kTELbCzHGQeMayUo1lXj2g95WVGlp6+3kJPsk5j25LEsWA/swwAqU1iTSb19D4uWv7dmGZFxPwIO1hhnncyCHxEJ3h1ZWPdp0xOis1Fd7miktcsmmTJErJtGz5c4z0XYYdD8Kt6cDDykNZonjPoR+DqM47BSt8QEfBg55zJdN5QQZHR9FkSUX9JZAn5yle/Ptq0WSGGGsJ0Knst0UZsTfYOCCSVkQxuf7kWnAlzakhnFpm/A+DTpyhAwLdZK3Ae7BRbI8WuAYFJcBJPQ3T6E0BvwJoCWka7UzBHZbmSXQPeTA/BGgGEgTihl54IHmy/f6FvapTMMs4FNdZpQ1D/jQCAhOm2CMESiGWI+kstpy27jvFkh9A2xQBFaia7NVPuU7QyBXwRRLLQZNk2sqFlF8oANWOBrmZZK0h2XqfJMeRv1XDwTR7a0i0Pcl2uTzFbkxNF/ZhblntrzEg3VZZ7ocPEOOYfH9lFHZ4NJ2qebgbrTjgr9WVsf95UU/h1D7pHwNcIWmaSJITgYGmcG9woWY8SgalRFYGIGYHyLsN+wvQecl65kabZFO0mm2GlpFgX4maCGsVJrLkulh5rBJh3O6++26vMTrftnDw8o9oSo3/DbtTVwJV+HeMb0EQ+nlwD0+3n2fBx1OwgytuiaFsAXG/YYuzj83dbvlHMN7VaqeJ+s4OanAH4beUN0fjT4GObl6w4VNAAbooL/eV+JT4SeTk8+Hy3lpJXCD2yg/Wo56psx6iM+JqfegczOQ4kJ6nbEao5VsIylrCSOmSlsgwDNVqc2qUnWIjFNgMM9lzvZAd7fGWWEsds+Ws0tuaxY6YqT1nNId7S7tuC/lQzdLbXv6nJQOY3MNJ+N0VuK3pQsUznKFblHqyMk9fGeQ5vZxry5c+sbwBq3qa6vDpLdAp0LP1d+4ZWVCzBCbi2uEntuSnXKVzV6y0qtt8fi3iu/fsX9ihu5y5ZgOiEi/UoU+pwSpTe97ziKRYaVbUpQ+4QphFvkVnQPGKwLhSlgXxZj8ZFAeTH1kMVMgjMsftd3PVfi3TMm6zSLlauWWRkUxZnnwLce/5YSUiMzWOcKSVUoq8nzTIh+7TKT5lVqvB7BAgj94/D/cmuHe2rSvvBrDcU6SHRDTRXIMgnjGuDfk/J3GqxxXXmxC8J+1GLg1hxQGPyfM1UHL6z8/g7/jdgc5Zp4rdOpTrflHdivHZv6RnYfYbYEL60ZyAul++UeAAQDyv2dSS4HffQAAAABJRU5ErkJggg==",
              }),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  ai.EmailBackground,
                  ai.EmailReasonHeader,
                  ai.EmailTextCtn,
                ),
              },
              d.createElement(
                "div",
                { className: ai.Hello },
                (0, x.Xx)(
                  "#EventEmail_Hello",
                  (0, x.Xx)("#EventEmail_UserName"),
                ),
              ),
              d.createElement("div", { className: ai.Reason }, (0, x.Xx)(c, E)),
              !m &&
                d.createElement("a", { className: ai.GameLink, href: _ }, E),
            ),
            d.createElement(si, {
              lang: l,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: r,
              additionalClassName: ai.HeaderSection,
            }),
            d.createElement(si, {
              lang: l,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: s,
              additionalClassName: ai.HeaderSection,
            }),
            d.createElement("hr", null),
            d.createElement(
              "div",
              { className: ai.Footer },
              d.createElement("div", null, (0, x.Xx)(u)),
              d.createElement(
                "span",
                null,
                (0, x.Xx)("#EventEmail_Footer_Game", E),
              ),
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#EventEmail_Footer_OptOut_Desc_Game"),
              ),
              d.createElement(
                "span",
                null,
                d.createElement(
                  "a",
                  { href: "#" },
                  (0, x.Xx)("#EventEmail_Footer_OptOut_Target", E),
                ),
                " " + (0, x.Xx)("#EventEmail_Footer_OptOut_Or") + " ",
                d.createElement(
                  "a",
                  { href: "#" },
                  (0, x.Xx)("#EventEmail_Footer_Optout_All"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: (0, T.Z)(ai.FooterLegal, S().FlexRowContainer) },
              d.createElement("img", { src: Ei }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventEmail_Footer_LegalWithAddress_Line1"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventEmail_Footer_LegalWithAddress_Line2"),
                ),
              ),
            ),
          ),
        );
      });
      let wi = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = {});
        }
        GetEmailEditModel() {
          return new N.F0(this.props.editModel);
        }
        componentDidMount() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let e = yield E.sV.LoadClanInfoForClanSteamID(
              this.props.editModel.GetClanSteamID(),
            );
            this.setState({ clanInfo: e });
          });
        }
        OnControlGroupSpinnerChange(e) {
          let t = Number.parseInt(e.target.value);
          this.GetEmailEditModel().SetControlGroupPercent(t);
        }
        render() {
          const { editModel: e } = this.props;
          if (
            !O.cb.Get().GetPartnerEventPermissions(e.GetClanSteamID())
              .support_user
          )
            return null;
          if (!Boolean(this.state.clanInfo))
            return d.createElement(y.V, {
              string: (0, x.Xx)("#Loading"),
              size: "medium",
            });
          const t = this.GetEmailEditModel();
          return d.createElement(
            "div",
            { className: (0, T.Z)(S().ValveOnlyBackground, ai.RecipientCtn) },
            d.createElement(
              "div",
              { className: (0, T.Z)(S().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEmail_Filter"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#EventEmail_Filter_Desc"),
              ),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(R.gE, {
                  onChange: (e) => this.GetEmailEditModel().SetFilterIRTopN(e),
                  label: (0, x.Xx)("#EventEmail_Filter_IR"),
                  checked: t.BIsIRTopNFiltering(),
                }),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(R.gE, {
                  onChange: (e) =>
                    this.GetEmailEditModel().SetFilterWishlist(e),
                  label: (0, x.Xx)("#EventEmail_Filter_Wishlist"),
                  checked: t.BIsWishListFiltering(),
                }),
              d.createElement(R.II, {
                type: "number",
                min: "0",
                max: "99",
                label: (0, x.Xx)("#EventEmail_Filter_ControlGroup"),
                value: t.GetControlGroupPercent(),
                onChange: this.OnControlGroupSpinnerChange,
              }),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], wi.prototype, "OnControlGroupSpinnerChange", null),
        (wi = (0, o.gn)([c.Pi], wi));
      let Ii = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bLoadingCreator: !0 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        LoadCreatorHome() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.state.bLoadingCreator ||
              this.setState({ bLoadingCreator: !0 });
            const { editModel: e } = this.props;
            Re.Z.Get().QueueAppRequest(e.GetAppID(), {
              include_basic_info: !0,
            });
            let t = new Array();
            (yield Kt.bq.LoadCreatorHomeListForAppIncludeHiddden(
              e.GetAppID(),
              this.m_cancelSignal,
            )).forEach((e) => {
              let a = p.K.InitFromClanID(e.clan_account_id);
              t.push(Kt.bq.LoadCreatorHome(a, this.m_cancelSignal));
            }),
              Promise.all(t).then((e) => {
                this.m_cancelSignal.token.reason ||
                  this.setState({ bLoadingCreator: !1 });
              });
          });
        }
        componentDidMount() {
          this.LoadCreatorHome();
        }
        componentDidUpdate(e) {
          e.editModel.GetAppID() != this.props.editModel.GetAppID() &&
            this.LoadCreatorHome();
        }
        GetEmailEditModel() {
          return new N.F0(this.props.editModel);
        }
        BuildCreatorHomeToggle(e) {
          let t = new Array(),
            a = new Array();
          if (this.state.bLoadingCreator)
            t.push(
              d.createElement(y.V, { key: "EmailRecipientControls_creator" }),
            );
          else {
            const { editModel: n } = this.props;
            let l = new N.F0(n);
            Kt.bq
              .GetCreatorHomeListForAppIncludeHidden(n.GetAppID())
              .forEach((n) => {
                let i = Kt.bq.GetCreatorHomeByID(n);
                if (
                  i &&
                  !a.some((e) => e.clan_account_id === i.GetClanAccountID())
                ) {
                  let o = d.createElement(
                      "a",
                      {
                        target: I.De.IN_CLIENT ? void 0 : "_blank",
                        href: i.GetCreatorHomeURL(n.type),
                      },
                      i.BIsHidden()
                        ? (0, x.Xx)("#EventEmail_CreatorHidden") + " "
                        : "",
                      i.GetName(),
                    ),
                    r = d.createElement(Ai, {
                      audience: i.GetNumFollowers(),
                      label: (0, x.kQ)(
                        "#EventEmail_Recipients_follower_creator",
                        o,
                      ),
                    });
                  t.push(
                    d.createElement(R.gE, {
                      key: "RecipientToggle_" + n.clan_account_id,
                      onChange: (e) =>
                        this.GetEmailEditModel().SetTargetingCreator(
                          e,
                          n.clan_account_id,
                        ),
                      label: r,
                      checked: l.BIsTargetingCreator(i.GetClanAccountID()),
                    }),
                  ),
                    e.support_user &&
                      ((r = d.createElement(Ai, {
                        valveOnly: !0,
                        label: (0, x.kQ)(
                          "#EventEmail_Recipients_player_creator",
                          o,
                        ),
                      })),
                      t.push(
                        d.createElement(
                          "span",
                          {
                            key: "RecipientToggle_player_" + n.clan_account_id,
                            className: (0, T.Z)(S().ValveOnlyBackground),
                          },
                          d.createElement(R.gE, {
                            onChange: (e) =>
                              this.GetEmailEditModel().SetTargetingCreatorPlayer(
                                e,
                                n.clan_account_id,
                              ),
                            label: r,
                            checked: l.BIsTargetingCreatorPlayer(
                              i.GetClanAccountID(),
                            ),
                          }),
                        ),
                      ),
                      a.push(n));
                }
              }),
              0 == t.length &&
                t.push(
                  d.createElement(
                    "div",
                    { key: "creatorhome_plug" },
                    (0, x.kQ)(
                      "#EventEmail_Recipients_NoCreatorHome",
                      d.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/store/creator_homepage",
                        },
                        "https://partner.steamgames.com/doc/store/creator_homepage",
                      ),
                    ),
                  ),
                );
          }
          return t;
        }
        render() {
          const { editModel: e } = this.props;
          let t = new N.F0(e);
          const a = O.cb.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: ai.RecipientCtn },
            d.createElement(
              "div",
              { className: (0, T.Z)(S().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEmail_Recipients"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, x.Xx)("#EventEmail_Recipients_desc"),
              ),
              d.createElement(R.gE, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingExistingPlayer(e),
                label: (0, x.Xx)("#EventEmail_Recipients_players"),
                checked: t.BIsTargetingGamePlayers(),
              }),
              d.createElement(R.gE, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameWishlist(e),
                label: (0, x.Xx)("#EventEmail_Recipients_wishlist"),
                checked: t.BIsTargetingGameWishlisters(),
              }),
              d.createElement(R.gE, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameFollower(e),
                label: d.createElement(Ai, {
                  label: (0, x.Xx)("#EventEmail_Recipients_follower"),
                  audience: E.sV.GetClanMemberCount(e.GetAppID()),
                }),
                checked: t.BIsTargetingGameFollowers(),
              }),
              d.createElement(R.gE, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetExcludeGameOwners(e),
                label: d.createElement(Ai, {
                  label: (0, x.Xx)("#EventEmail_Recipients_exclude_owners"),
                }),
                checked: t.BIsExcludingGameOwners(),
              }),
              d.createElement(R.gE, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetOwnersWithNoPlaytime(e),
                label: d.createElement(Ai, {
                  label: (0, x.Xx)("#EventEmail_Recipients_no_playtime"),
                }),
                checked: t.BIsTargetingGameOwnersWithoutPlaytime(),
              }),
              this.BuildCreatorHomeToggle(a),
            ),
          );
        }
      };
      Ii = (0, o.gn)([c.Pi], Ii);
      class Ai extends d.Component {
        render() {
          const { valveOnly: e, label: t } = this.props;
          return d.createElement(
            "div",
            { className: ai.TargetAndAudience },
            d.createElement(
              "span",
              null,
              e && d.createElement("span", null, "(VO) "),
              t,
            ),
            d.createElement(
              "span",
              null,
              Boolean(void 0 !== this.props.audience) &&
                this.props.audience.toLocaleString(),
            ),
          );
        }
      }
      let ki = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              state: this.props.editModel.BIsDirty() ? "unsaved" : "loading",
            });
        }
        componentDidMount() {
          const { editModel: e } = this.props;
          if ("loading" == this.state.state) {
            let t = (0, Ci.DK)(e),
              a = (0, Ci.Ab)(e);
            this.setState({
              error: t,
              warning: a,
              state:
                t.length > 0
                  ? "error"
                  : a.length > 0
                    ? "readywithwarning"
                    : "ready",
            });
          }
        }
        OnLockEmail() {
          const { editModel: e } = this.props;
          new N.F0(e).LockEmail(),
            this.setState({ state: "saving" }, () => {
              l.wk.SaveModel(e.GetClanSteamID()).then((e) => {
                this.setState({ state: "done" });
              });
            });
        }
        render() {
          switch (this.state.state) {
            case "loading":
              return d.createElement(
                f.uH,
                {
                  strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(y.V, null),
              );
            case "ready":
              return d.createElement(f.uH, {
                strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                strDescription: (0, x.Xx)("#EventEmail_Preparation_Desc"),
                onOK: this.OnLockEmail,
                onCancel: this.props.closeModal,
              });
            case "readywithwarning":
              return d.createElement(
                f.uH,
                {
                  strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                  strDescription: (0, x.Xx)("#EventEmail_Preparation_Desc"),
                  onOK: this.OnLockEmail,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#EventEmail_Preparation_DescWarning"),
                  ),
                  d.createElement("ol", null, this.state.warning),
                ),
              );
            case "unsaved":
              return d.createElement(f.JX, {
                strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                strDescription: (0, x.Xx)("#EventEmail_Preparation_Unsaved"),
                closeModal: this.props.closeModal,
              });
            case "saving":
              return d.createElement(
                f.uH,
                {
                  strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                  strDescription: (0, x.Xx)(
                    "#EventEmail_Preparation_InProcess",
                  ),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                },
                d.createElement(y.V, null),
              );
            case "done":
              return d.createElement(f.uH, {
                strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                strDescription: (0, x.Xx)("#EventEmail_Preparation_Done"),
                onOK: this.props.closeModal,
                onCancel: this.props.closeModal,
              });
            default:
              return d.createElement(
                f.JX,
                {
                  strTitle: (0, x.Xx)("#EventEmail_Preparation_Title"),
                  strDescription: (0, x.Xx)("#EventEmail_Preparation_Error"),
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement("ol", null, this.state.error),
                  Boolean(this.state.warning.length > 0) &&
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "p",
                        null,
                        (0, x.Xx)("#EventEmail_Preparation_DescWarning"),
                      ),
                      d.createElement("ol", null, this.state.warning),
                    ),
                ),
              );
          }
        }
      };
      (0, o.gn)([w.ak], ki.prototype, "OnLockEmail", null),
        (ki = (0, o.gn)([c.Pi], ki));
      let Mi = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { rtimeLastRefresh: 0, bRefreshing: !1 });
        }
        RefreshIfNeeded() {
          let e = Math.floor(Date.now() / 1e3);
          const { editModel: t } = this.props;
          !this.state.err_msg &&
            t.GetEventModel().jsondata.email_setting.force_feature_id &&
            this.state.rtimeLastRefresh + 300 < e &&
            !this.state.bRefreshing &&
            this.setState({ bRefreshing: !0 }, this.RefreshStats);
        }
        RefreshStats() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const { editModel: e } = this.props;
            let t =
                I.De.COMMUNITY_BASE_URL + "eventemail/ajaxgetpartneremailstats",
              a = {
                clanid: e.GetClanSteamID().GetAccountID(),
                gidevent: e.GetGID(),
                sessionid: I.De.SESSIONID,
              };
            try {
              let e = yield s().get(t, { params: a, withCredentials: !0 });
              this.setState({ stats: e.data.result, bRefreshing: !1 });
            } catch (e) {
              this.setState({
                bRefreshing: !1,
                err_msg: (0, G.l)(e).strErrorMsg,
              });
            }
          });
        }
        componentDidMount() {
          this.RefreshIfNeeded(),
            (this.autoRefreshInterval = window.setInterval(
              this.RefreshIfNeeded,
              3e5,
            ));
        }
        componentDidUpdate(e) {
          this.props.editModel.GetGID() != e.editModel.GetGID() &&
            this.setState({ rtimeLastRefresh: 0 }, this.RefreshIfNeeded);
        }
        componentWillUnmount() {
          this.autoRefreshInterval &&
            (window.clearInterval(this.autoRefreshInterval),
            (this.autoRefreshInterval = void 0));
        }
        render() {
          const { editModel: e } = this.props;
          if (!e.GetEventModel().jsondata.email_setting.force_feature_id)
            return d.createElement("div", null);
          if (this.state.err_msg)
            return d.createElement(
              "div",
              { className: Gn.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEmail_Stats_Title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(
                    S().FlexColumnContainer,
                    S().EventDefaultRowContainer,
                  ),
                },
                d.createElement(
                  "span",
                  { className: yi.ErrorMessaage },
                  this.state.err_msg,
                ),
              ),
            );
          if (!this.state.stats)
            return d.createElement(
              "div",
              { className: Gn.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEmail_Stats_Title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(
                    S().FlexColumnContainer,
                    S().EventDefaultRowContainer,
                  ),
                },
                d.createElement(y.V, null),
              ),
            );
          const t = this.state.stats;
          return d.createElement(
            "div",
            { className: Gn.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: S().EventEditorTextTitle },
              (0, x.Xx)("#EventEmail_Stats_Title"),
              this.state.bRefreshing && d.createElement(y.V, { size: "small" }),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: S().EventEditorTextSubTitle },
                (0, x.Xx)(
                  "#EventEmail_Stats_State",
                  (0, x.Xx)("#EventEmail_Stats_State_" + t.state),
                ),
              ),
              "sending" == t.state &&
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)(
                    "#EventEmail_Stats_Started",
                    (0, x.$1)(t.rtime_start_firing),
                  ),
                ),
              ("complete" == t.state || "aborted" == t.state) &&
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)(
                    "#EventEmail_Stats_Completed",
                    (0, x.$1)(t.rtime_start_firing),
                    (0, x.$1)(t.rtime_stop_firing),
                  ),
                ),
              "queued" != t.state &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Stats_Examined",
                      t.accounts_examined
                        ? t.accounts_examined.toLocaleString()
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Stats_Duplicates",
                      t.accounts_duplicates
                        ? t.accounts_duplicates.toLocaleString()
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Stats_Emailed",
                      t.accounts_emailed
                        ? t.accounts_emailed.toLocaleString()
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Stats_Skipped",
                      t.accounts_not_emailed
                        ? t.accounts_not_emailed.toLocaleString()
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, x.Xx)(
                      "#EventEmail_Stats_Failed",
                      t.accounts_email_failed
                        ? t.accounts_email_failed.toLocaleString()
                        : 0,
                    ),
                  ),
                ),
              d.createElement(
                "div",
                null,
                (0, x.Xx)(
                  "#EventEmail_Stats_Last_Refresh_Time",
                  (0, x.yW)(this.state.rtimeLastRefresh),
                ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Mi.prototype, "RefreshIfNeeded", null),
        (0, o.gn)([w.ak], Mi.prototype, "RefreshStats", null),
        (Mi = (0, o.gn)([c.Pi], Mi));
      var Ni = a(89879),
        Bi = a(16979),
        Li = a(29684),
        Oi = a.n(Li);
      const Ri = (0, c.Pi)((e) => {
        const { editModel: t } = e;
        let a = (0, Ve.G1)(t.GetEventType());
        const n = O.cb.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
          l = t.BHasTag("curator");
        return d.createElement(
          "div",
          { className: S().Columns },
          d.createElement(
            "div",
            { className: (0, T.Z)(S().LeftCol) },
            d.createElement(Hi, { editModel: t }),
            d.createElement(Bi.B, { bHideEndRange: !a, editModel: t }),
            Boolean(t.BHasTag("steam_award_nomination_request")) &&
              d.createElement(Ni.HX, null),
            d.createElement(Fi, { editModel: t }),
            (!l || n.valve_admin) && d.createElement(Xi, { editModel: t }),
            d.createElement("div", { className: S().ClearThings }),
          ),
          d.createElement(
            "div",
            { className: (0, T.Z)(wn().OptionsNotes, S().RightCol) },
            (0, x.Xx)("#EventEditor_Time_ttip"),
          ),
        );
      });
      function Xi(e) {
        const { editModel: t } = e;
        let a = d.useRef();
        const n = d.useCallback(
          (e) => {
            t.GetAppID() == _.dn && t.BHasTag("hide_library_overview") && e
              ? (0, C.AM)(
                  d.createElement(f.uH, {
                    strTitle: (0, x.Xx)("#EventEditor_GenericAreYouSure"),
                    strDescription:
                      "Showing on the library home page will pin this event into the first spot in the 'Whats New' section for ALL Steam Library. Are you sure this is an Steam update that applies to all Steam Library users? Be thoughtful.",
                    onOK: () => t.ClearTags(["hide_library_overview"]),
                    onCancel: () => {
                      var e;
                      return null === (e = null == a ? void 0 : a.current) ||
                        void 0 === e
                        ? void 0
                        : e.setState({ checked: !a.current.checked });
                    },
                  }),
                  window,
                )
              : t.SetTag("hide_library_overview", !e);
          },
          [t],
        );
        let [l, i, o, r, s, c, m, u, p] = (0, Wt.SZ)(() => [
          t.BIsAllowedOnLibraryOverview(),
          t.BIsAllowedOnLibraryDetail(),
          t.BIsAllowedOnStore(),
          t.GetCategoryAsString(),
          !t.GetEventModel().BHasTag("hide_library_detail"),
          !t.GetEventModel().BHasTag("hide_library_overview"),
          t.GetEventModel().BShowLibrarySpotlight(),
          !t.GetEventModel().BHasTag("hide_store"),
          t.GetEventModel().BHasTag("workshop"),
        ]);
        return d.createElement(
          "div",
          { className: wn().EventEditorInputPaneContents },
          d.createElement(
            "div",
            { className: S().LeftCol },
            d.createElement(
              "div",
              { className: S().EventEditorTextTitle },
              (0, x.Xx)("#EventEditor_Options_Title"),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: S().EventEditorTextSubTitle },
                (0, x.kQ)(
                  "#EventEditor_Options_Show_Warning",
                  d.createElement(
                    "a",
                    {
                      href: "https://support.steampowered.com/kb_article.php?ref=4045-USHJ-3810",
                      target: I.De.IN_CLIENT ? void 0 : "_blank",
                    },
                    (0, x.Xx)("#EventEditor_Options_Show_WarningLink"),
                  ),
                ),
              ),
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("hide_store", !e),
                label: (0, x.Xx)("#EventEditor_Options_Show_Store"),
                checked: !!o && u,
                description: o
                  ? void 0
                  : (0, x.Xx)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !o,
              }),
              d.createElement(R.gE, {
                onChange: n,
                label: (0, x.Xx)("#EventEditor_Options_Show_Library_Overview"),
                checked: !!l && c,
                description: l
                  ? (0, x.Xx)("#EventEditor_Options_Show_Library_Overview_Desc")
                  : (0, x.Xx)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !l,
                ref: a,
              }),
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("hide_library_detail", !e),
                label: (0, x.Xx)("#EventEditor_Options_Show_Library_Detail"),
                checked: !!i && s,
                description: i
                  ? void 0
                  : (0, x.Xx)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !i,
              }),
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEditor_Options_Special_Desc"),
              ),
              d.createElement(R.gE, {
                onChange: (e) => {
                  t.SetLibrarySpotlight(e);
                },
                label: (0, x.Xx)(
                  "#EventEditor_Options_Library_Spotlight_Label",
                ),
                checked: m,
                description: (0, x.Xx)(
                  "#EventEditor_Options_Library_Spotlight_Desc",
                ),
                disabled: !s || !i,
              }),
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEditor_Options_Desc"),
              ),
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("workshop", e),
                label: (0, x.Xx)("#EventEditor_Options_Workshop_Label"),
                checked: p,
                description: (0, x.Xx)("#EventEditor_Options_Workshop_Desc"),
              }),
              Boolean(!1) && d.createElement(Pi, { editModel: t }),
              d.createElement(qi, { editModel: t }),
              d.createElement(Zi, { editModel: t }),
            ),
            d.createElement(ji, { editModel: t }),
          ),
        );
      }
      function Pi(e) {
        const { editModel: t } = e,
          a = (function (e) {
            const t = (0, ja.useQuery)({
              queryKey: ["demoappdetailsforbase", e],
              queryFn: () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  var t;
                  const a = `${Ta.De.COMMUNITY_BASE_URL}demos/ajaxgetappdemoinfo`,
                    n = { appid: e, origin: self.origin },
                    l = yield s().get(a, { params: n });
                  return (
                    (null === (t = null == l ? void 0 : l.data) || void 0 === t
                      ? void 0
                      : t.demos) || []
                  );
                }),
              enabled: !!e,
            });
            return (null == t ? void 0 : t.isLoading) ? null : t.data;
          })(t.GetAppID()),
          [n, l] = (0, Wt.SZ)(() => [
            t.GetEventModel().BHasTag("show_library_demo_detail"),
            t.GetGID(),
          ]);
        if (null == a)
          return d.createElement(y.V, {
            string: (0, x.Xx)("#EventEditor_Options_LoadingDemoInfo"),
            position: "center",
            size: "small",
          });
        const i = a.filter((e) => e.is_released_somewhere && e.appid > 0);
        let r = !1,
          c = null;
        return (
          i.length > 0
            ? l ||
              ((r = !0),
              (c = (0, x.Xx)("#EventEditor_Options_SaveFirstToRepostDemo")))
            : ((r = !0),
              (c = (0, x.Xx)("#EventEditor_Options_VisibleDemoTooltip"))),
          d.createElement(R.gE, {
            onChange: (e) => {
              t.SetDemoAppIDForRepost(i[0].appid),
                t.SetTag("repost_source_possible", !0),
                e
                  ? (t.SetTag("show_library_demo_detail", !0),
                    t.SetTag("clear_library_demo_detail", !1))
                  : (t.SetTag("show_library_demo_detail", !1),
                    t.BHasOriginalTag("show_library_demo_detail") &&
                      t.SetTag("clear_library_demo_detail", !0));
            },
            tooltip: r
              ? c
              : (0, x.Xx)("#EventEditor_Options_DemoRepostTooltop"),
            label: (0, x.Xx)("#EventEditor_Options_Demo_Library_Detail"),
            checked: n,
            description: (0, x.Xx)("#EventEditor_Options_Demo_Library_Desc"),
            disabled: r,
          })
        );
      }
      const ji = (0, c.Pi)((e) => {
        const { editModel: t } = e,
          a = O.cb.Get().GetPartnerEventPermissions(t.GetClanSteamID());
        let n = d.useRef();
        if (!a.valve_admin) return null;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#EventEditor_Options_Moderation"),
          ),
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                S().FlexColumnContainer,
                S().EventDefaultRowContainer,
                S().ValveOnlyBackground,
              ),
            },
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("mod_hide_library_overview", e),
              label: (0, x.Xx)("#EventEditor_Options_Hide_Library_Overview"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_overview"),
            }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("mod_hide_library_detail", e),
              label: (0, x.Xx)("#EventEditor_Options_Hide_Library_Detail"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_detail"),
            }),
            d.createElement(R.gE, {
              onChange: (e) => {
                t.BHasSaleEnabled() && e && !t.BHasTag("mod_hide_store")
                  ? (0, C.AM)(
                      d.createElement(f.uH, {
                        strTitle: (0, x.Xx)("#EventEditor_Options_Hide_Store"),
                        strDescription:
                          "There is an active sale on this event. Setting this flag will HIDE the sale page completely. Are you sure?",
                        onOK: () => t.AddTag("mod_hide_store"),
                        onCancel: () => n.current.SetChecked(!1, !1),
                      }),
                      window,
                    )
                  : t.SetTag("mod_hide_store", e);
              },
              ref: n,
              label: (0, x.Xx)("#EventEditor_Options_Hide_Store"),
              checked: t.GetEventModel().BHasTag("mod_hide_store"),
            }),
            Boolean(I.JA.IS_OGG) &&
              d.createElement(R.gE, {
                onChange: (e) => t.SetSteamStoreSpotlight(e),
                label: "(VO) Allow Spotlight on Steam Store Product Page",
                checked: t.BAllowedSteamStoreSpotlight(),
                description:
                  "Allows the partner to upload a store spotlight artwork to be shown on the product page for upto a week from the event start.",
              }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetLibraryHomeSpotlight(e),
              label: "(VO) Force Spotlight on Library Home",
              checked: t.BHasLibaryHomeSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork in the 'Whats New' section at the top of the library home for all owners.",
            }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("blog", e),
              label: "(VO) Mark as Blog for Valve Game Teams",
              checked: t.GetEventModel().BHasTag("blog"),
              description:
                "Add the 'blog' tag to this post. Allowing game team website to filter news posts intended for their blog.",
            }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("adult_only_content", e),
              label: "(VO) Event Contains Adult Only Content",
              checked: t.GetEventModel().BHasTag("adult_only_content"),
              description:
                "Set this to on if the post contains adult only content so that it can be filtered accordingly.",
            }),
            t.GetAppID() == _.dn &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(R.gE, {
                  onChange: (e) => t.SetTag("steam_blog", e),
                  label: "(VO) Steam Official Blog",
                  checked: t.GetEventModel().BHasTag("steam_blog"),
                  description:
                    "When checked this event will surface on https://store.steampowered.com/news/app/593110. Make sure to set this before you publish, or it will have no effect.",
                }),
                d.createElement(R.gE, {
                  onChange: (e) => t.SetTag("skip_megaphone", e),
                  label: "(VO) Skip Lighting Up Steam Client Megaphone",
                  checked: t.GetEventModel().BHasTag("skip_megaphone"),
                  description:
                    "By default small event (patch notes) do not light up the megaphone in the Steam client. Enabling this flag does the same for all other event type.",
                }),
              ),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("forced_featured", e),
              label: "(VO) Force Feature this event in the NewsHub",
              checked: t.GetEventModel().BHasTag("forced_featured"),
              description:
                "Add the 'forced_featured' tag to this post. This will prioritize the event appearing in algorithmic featured newshub section.",
            }),
            Boolean(t.GetEventModel().BIsOGGEvent()) &&
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("seasonal_sale_featuring", e),
                label: "(VO) Feature this event during the Seasonal Sale",
                checked: t.GetEventModel().BHasTag("seasonal_sale_featuring"),
                description:
                  "Add the 'seasonal_sale_featuring' tag to this post. This will push the event to appear on the front page during a seasonal sale. This assume the content is specific to in-game items on sale for the underlying game",
              }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("contenthub", e),
              checked: t.GetEventModel().BHasTag("contenthub"),
              label: "(VO) Tag as Content Hub",
              description:
                "Add the 'contenthub' tag to this event. Removes certain publishing restrictions for this event.",
            }),
            d.createElement(R.gE, {
              onChange: (e) => t.SetTag("vo_prevent_delete", e),
              label: "(VO) Prevent this event from being deleted.",
              checked: t.GetEventModel().BHasTag("vo_prevent_delete"),
              description:
                "Add the 'vo_prevent_delete' tag to this post. To prevent a partner or Valve from deleting this event because something is featuring it or depends on it.",
            }),
            Boolean(
              t.GetClanAccountID() == _.sq ||
                ((2 == I.De.EUNIVERSE || 4 == I.De.EUNIVERSE) &&
                  t.GetClanAccountID() == _.$Y),
            ) &&
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("steam_top_releases", e),
                label: "(VO) Is Monthly Top Sellers?",
                checked: t.GetEventModel().BHasTag("steam_top_releases"),
                description:
                  "Add the 'steam_top_releases' tag to this post. This allows the Steam Top Release Charts to pull the official top releases events into those pages.",
              }),
            Boolean(
              t.GetClanAccountID() == _.sq ||
                ((2 == I.De.EUNIVERSE || 4 == I.De.EUNIVERSE) &&
                  t.GetClanAccountID() == _.$Y),
            ) &&
              d.createElement(R.gE, {
                onChange: (e) => t.SetTag("steam_best_of_year", e),
                label: "(VO) Is Best of Year?",
                checked: t.GetEventModel().BHasTag("steam_best_of_year"),
                description:
                  "Add the 'steam_best_of_year' tag to this post. This allows the Steam Best of Year to pull the official best of year events into those pages.",
              }),
            Boolean(t.GetAppID() == _.QK) &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "p",
                  null,
                  "Channels where we want to surface these events to. See for details: https://confluence.valve.org/pages/viewpage.action?pageId=214073964",
                ),
                d.createElement(R.gE, {
                  onChange: (e) => t.SetTag("stablechannel", e),
                  label: "(VO) SteamDeck Stable Channel",
                  checked: t.GetEventModel().BHasTag("stablechannel"),
                  description:
                    "Surface this to user who are subscribed to SteamDeck StableBuild. Only include Stable Steam Deck Client or Stable SteamOS notes.",
                }),
                d.createElement(R.gE, {
                  onChange: (e) => t.SetTag("betachannel", e),
                  label: "(VO) SteamDeck Beta Channel",
                  checked: t.GetEventModel().BHasTag("betachannel"),
                  description:
                    "Surface this to user who are subscribed to SteamDeck Beta Build. Only include Beta Steam Deck Client or Stable SteamOS notes.",
                }),
                d.createElement(R.gE, {
                  onChange: (e) => t.SetTag("previewchannel", e),
                  label: "(VO) SteamDeck Preview Channel",
                  checked: t.GetEventModel().BHasTag("previewchannel"),
                  description:
                    "Surface this to user who are subscribed to SteamDeck Preview Build. Only include Beta Steam Deck Client or Beta SteamOS notes.",
                }),
              ),
          ),
        );
      });
      let Fi = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSending: !1 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        TestFireEvent() {
          const { editModel: e } = this.props;
          this.setState({ bSending: !0 }, () => {
            l.wk.FireTestEventNotifiation(
              e.GetClanSteamID(),
              e.GetGID(),
              this.m_cancelSignal,
            ),
              this.setState({ bSending: !1 });
          });
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetEventType(),
            a = (0, Ve.mR)(t);
          const n =
            e.GetEventModel().BIsVisibleEvent() &&
            e.GetEventModel().GetStartTimeAndDateUnixSeconds() <
              Math.floor(Date.now() / 1e3);
          if (!a || n) return null;
          let l = e.GetVisibilityPublishingSetup(),
            i =
              e.GetStartTimeEditChoice() == H.M$.k_ENow ||
              l == H.WZ.event_start;
          return d.createElement(
            "div",
            { className: (0, T.Z)(wn().EventEditorInputPaneContents) },
            d.createElement(
              "div",
              { className: (0, T.Z)(S().LeftCol, Oi().ThemedCtn) },
              d.createElement(
                "div",
                { className: S().EventEditorTextTitle },
                (0, x.Xx)("#EventEditor_Reminder_title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(
                    S().FlexColumnContainer,
                    S().EventDefaultRowContainer,
                  ),
                },
                d.createElement(
                  "div",
                  { className: S().EventEditorTextSubTitle },
                  (0, x.Xx)("#EventEditor_Reminder_desc"),
                ),
                d.createElement(
                  "div",
                  { className: S().EventEditorTextSubTitle },
                  (0, x.kQ)(
                    "#EventEditor_Reminder_desc2",
                    d.createElement(
                      "a",
                      {
                        href: I.De.STORE_BASE_URL + "mobile?show=steamapp",
                        target: I.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      (0, x.Xx)("#EventEditor_Reminder_mobileapp"),
                    ),
                  ),
                ),
                this.state.bSending &&
                  d.createElement(y.V, { size: "small", position: "center" }),
                d.createElement(
                  "button",
                  {
                    className: S().Button,
                    onClick: this.TestFireEvent,
                    disabled: i,
                  },
                  (0, x.Xx)("#EventEditor_Reminder_testfire"),
                ),
                i &&
                  d.createElement(
                    "span",
                    null,
                    (0, x.Xx)("#EventEditor_Reminder_disable"),
                  ),
              ),
            ),
          );
        }
      };
      (0, o.gn)([w.ak], Fi.prototype, "TestFireEvent", null),
        (Fi = (0, o.gn)([c.Pi], Fi));
      const Hi = (0, c.Pi)((e) => {
        const { editModel: t } = e;
        if (!t.BIsEventForOGGWithoutVisibleStorePage()) return null;
        return d.createElement(
          "div",
          { className: wn().EventEditorInputPaneContents },
          d.createElement(
            "div",
            { className: S().LeftCol },
            d.createElement(
              "div",
              { className: S().EventEditorTextTitle },
              (0, x.Xx)("#EventEditor_Options_VisibilityOptIn_Title"),
              d.createElement(
                "span",
                { className: wn().RequiredFieldLabel },
                (0, x.Xx)("#EventEditor_Required"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  S().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: S().EventEditorTextSubTitle },
                (0, x.Xx)(
                  "#EventEditor_Options_VisibilityOptIn_Description",
                  t.GetAppName(),
                ),
              ),
              d.createElement(R.gE, {
                onChange: (e) => t.SetOptedInForOGGWithoutVisibleStorePage(e),
                label: (0, x.Xx)("#EventEditor_Options_VisibilityOptIn_Label"),
                checked: t.BOptedInForOGGWithoutVisibleStorePage(),
              }),
            ),
          ),
        );
      });
      function zi(e) {
        const t =
            e.BInRealmChina() &&
            x.LJ.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              ol.IN.k_ESteamRealmChina,
            ),
          a =
            e.BInRealmGlobal() &&
            x.LJ.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              ol.IN.k_ESteamRealmGlobal,
            );
        t || a || e.SetCurEditLanguage(e.BInRealmChina() ? 29 : 0);
      }
      const Vi = (0, c.Pi)((e) => {
          const { editModel: t } = e;
          return d.createElement(R.gE, {
            onChange: (e) => {
              e
                ? (t.AddTag("enable_steam_china"),
                  t.AddTag("disable_steam_global"))
                : t.ClearTags(["enable_steam_china", "disable_steam_global"]),
                zi(t);
            },
            label: (0, x.Xx)("#EventEditor_Options_ShowInSteamChina"),
            description: (0, x.Xx)(
              "#EventEditor_Options_ShowInSteamChina_Desc",
            ),
            checked: t.BInRealmChina(),
          });
        }),
        Ui = (0, c.Pi)((e) => {
          const { editModel: t } = e;
          if (t.BInRealmGlobal() && !t.BInRealmChina()) return null;
          return d.createElement(R.gE, {
            onChange: (e) => {
              e
                ? t.AddTag("disable_steam_global")
                : t.ClearTags(["disable_steam_global"]),
                zi(t);
            },
            label: (0, x.Xx)("#EventEditor_Options_ShowInSteamGlobal"),
            description: (0, x.Xx)(
              "#EventEditor_Options_ShowInSteamGlobal_Desc",
            ),
            checked: !t.BInRealmGlobal(),
          });
        }),
        Zi = (0, c.Pi)((e) => {
          const { editModel: t } = e,
            a = (0, _.ON)(t.GetEventModel());
          return d.createElement(
            "div",
            null,
            a && d.createElement(Vi, { editModel: t }),
            d.createElement(Ui, { editModel: t }),
          );
        }),
        qi = (0, c.Pi)((e) => {
          const { editModel: t } = e;
          return ((e) => {
            const [t] = (0, Ml.vs)(e, Re.Z.k_DataRequest_CommonOnly);
            return Boolean(t && t.HasContentDescriptorID(3));
          })(t.GetAppID())
            ? d.createElement(R.gE, {
                onChange: (e) => t.SetTag("adult_only_content", e),
                label: (0, x.Xx)("#EventEditor_Options_Has_Adult_Only_Content"),
                checked: t.GetEventModel().BHasTag("adult_only_content"),
                description: (0, x.Xx)(
                  "#EventEditor_Options_Has_Adult_Only_Content_Desc",
                ),
              })
            : null;
        });
      var Wi = a(41208),
        Ji = a(34189),
        Ki = a.n(Ji);
      function Qi(e) {
        const { editModel: t } = e,
          a = (0, Wt.SZ)(() => ({
            bHidden: t.BHidden(),
            bPublished: t.BPublished(),
          }));
        return !a.bHidden && a.bPublished
          ? null
          : d.createElement(Yi, Object.assign({}, e));
      }
      const Yi = (0, c.Pi)((e) => {
        const { editModel: t, bTakePublishAction: a } = e,
          n = d.useRef(),
          [l, i] = d.useState(!1),
          o = t.GetClanSteamID(),
          r = t.GetGID(),
          {
            bLoading: s,
            bPublishRequiresValveApproval: c,
            nAccountApproved: m,
          } = (0, Ot.bA)(o.GetAccountID(), r);
        d.useEffect(() => {
          a && (null == n ? void 0 : n.current) && n.current.click();
        }, [a, n]);
        if (l) return (0, je.Ij)(t.GetEventModel(), je.Ue.k_eView);
        const u = t.BHidden(),
          _ = t.BPublished();
        if (!u && _) return null;
        if (s)
          return d.createElement(y.V, {
            string: (0, x.Xx)("#Loading"),
            size: "small",
          });
        const p = t.BAllowedToPublishStagedEvents(),
          E = c && !m;
        return d.createElement(
          "div",
          { className: S().FlexColumnContainer },
          d.createElement(
            "div",
            { className: S().EventEditorTextTitle },
            (0, x.Xx)("#Button_Publish"),
          ),
          d.createElement(
            "div",
            {
              className: (0, T.Z)(
                S().RightColumnContainer,
                Ki().PublishContainer,
              ),
            },
            E &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventEditor_Publish_PublicBlock_Title"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventEditor_Publish_PublicBlock_Desc"),
                ),
              ),
            Boolean(!_ && !E) &&
              d.createElement(
                "button",
                {
                  onClick: (e) => {
                    (0, C.AM)(
                      d.createElement(Be.b, {
                        editModel: t,
                        OnPublishSuccess: () => i(!0),
                      }),
                      (0, j.RA)(e),
                    );
                  },
                  "data-tooltip-text": (0, x.Xx)("#EventEditor_Publish_ttip"),
                  className: (0, T.Z)(
                    S().EventPublishButton,
                    "DialogButton Primary",
                  ),
                  ref: n,
                },
                (0, x.Xx)("#Button_Publish"),
                " (?)",
              ),
            Boolean(_ && u && !E) &&
              d.createElement(
                aa.M2,
                {
                  condition: !p,
                  wrap: (e) =>
                    d.createElement(
                      P.HP,
                      {
                        toolTipContent: (0, x.Xx)(
                          "#EventEditor_Publish_Disable_ttip",
                        ),
                      },
                      e,
                    ),
                },
                d.createElement(
                  "button",
                  {
                    onClick: (e) => {
                      t.SetVisibilityPublishingSetup(H.WZ.immediate),
                        (0, C.AM)(
                          d.createElement(Be.b, {
                            editModel: t,
                            OnPublishSuccess: () => i(!0),
                            closeModal: () => {
                              t.ResetSetVisibilityStartTime();
                            },
                          }),
                          (0, j.RA)(e),
                        );
                    },
                    className: (0, T.Z)(
                      S().EventPublishButton,
                      "DialogButton Primary",
                    ),
                    "data-tooltip-text": (0, x.Xx)(
                      "#EventEditor_Publish_VisibleNow_ttip",
                    ),
                    ref: n,
                    disabled: !p,
                  },
                  (0, x.Xx)("#EventEditor_Publish_VisibleNow"),
                  " (?)",
                ),
              ),
          ),
        );
      });
      var $i = a(87082);
      class eo {
        GetVisibilityRounds(e, t) {
          return 0 == e
            ? this.m_mapVisibilityUpdateRounds.get(t)
            : this.m_mapVisibilityLaunchRounds.get(t);
        }
        GetVisibilityRoundsChangeCallback(e, t) {
          const a =
            0 == e
              ? this.m_mapVisibilityUpdateChangeCallback
              : this.m_mapVisibilityLaunchChangeCallback;
          return a.has(t) || a.set(t, new Dt.pB()), a.get(t);
        }
        LoadVisibilityRounds(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const a =
              0 == e
                ? this.m_mapVisibilityUpdateLoadPromises
                : this.m_mapVisibilityLaunchLoadPromises;
            return (
              a.has(t) || a.set(t, this.InternalLoadVisibilityRounds(e, t)),
              a.get(t)
            );
          });
        }
        InternalLoadVisibilityRounds(e, t) {
          var a;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const l = `${I.De.COMMUNITY_BASE_URL}ogg/${t}/ajaxgetappvisibilityrounds`,
                i = { type: e },
                o = yield s().get(l, { params: i, withCredentials: !0 });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (a = null == o ? void 0 : o.data) || void 0 === a
                    ? void 0
                    : a.success)
              ) {
                const a = Boolean(0 == e)
                    ? this.m_mapVisibilityUpdateRounds
                    : this.m_mapVisibilityLaunchRounds,
                  n = o.data.data || [];
                return (
                  a.set(t, n),
                  this.GetVisibilityRoundsChangeCallback(e, t).Dispatch(n),
                  n
                );
              }
              n = (0, G.l)(o);
            } catch (e) {
              n = (0, G.l)(e);
            }
            return (
              console.error(
                "CVisibilityRoundsStore.InternalLoadVisibilityRounds failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            eo.s_Singleton ||
              ((eo.s_Singleton = new eo()),
              eo.s_Singleton.Init(),
              "dev" == I.De.WEB_UNIVERSE &&
                (window.g_VisibilityRoundsStore = eo.s_Singleton)),
            eo.s_Singleton
          );
        }
        constructor() {
          (this.m_mapVisibilityUpdateRounds = new Map()),
            (this.m_mapVisibilityUpdateLoadPromises = new Map()),
            (this.m_mapVisibilityUpdateChangeCallback = new Map()),
            (this.m_mapVisibilityLaunchRounds = new Map()),
            (this.m_mapVisibilityLaunchLoadPromises = new Map()),
            (this.m_mapVisibilityLaunchChangeCallback = new Map());
        }
        Init() {}
      }
      function to(e) {
        const { editModel: t } = e,
          [a] = (0, Wt.SZ)(() => [t.GetEventModel().jsondata.sale_presenters]);
        return d.createElement(
          "div",
          { className: (0, T.Z)($i.PublishContainer) },
          d.createElement(
            "div",
            { className: (0, T.Z)(g.ReachBackground) },
            d.createElement(
              "div",
              { className: Gn.EventEditorInputPaneContents },
              d.createElement(Ua, {
                clanSteamID: t.GetClanSteamID(),
                gidClanEvent: t.GetGID(),
                rgSalePresenters: a,
                fnCleanSaleEventPresenters: () => {
                  (t.GetEventModel().jsondata.sale_presenters = void 0),
                    t.SetDirty(H.jB.jsondata_sales);
                },
                bPublishTab: !0,
              }),
              d.createElement(lo, { editModel: t }),
              d.createElement(Qi, { editModel: t, bTakePublishAction: !1 }),
              d.createElement(ao, {
                eventType: t.GetEventType(),
                clanSteamID: t.GetClanSteamID(),
              }),
              d.createElement("div", { className: g.ClearThings }),
            ),
          ),
        );
      }
      let ao = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoadingClanInfo: !E.sV.BHasClanInfoLoaded(
                this.props.clanSteamID,
              ),
            });
        }
        componentDidMount() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            this.state.bLoadingClanInfo &&
              (yield E.sV.LoadClanInfoForClanSteamID(this.props.clanSteamID),
              this.setState({ bLoadingClanInfo: !1 }));
          });
        }
        render() {
          if (this.state.bLoadingClanInfo)
            return d.createElement(
              "div",
              { className: "ReachCtn" },
              d.createElement(y.V, null),
            );
          let e = l.wk.GetEditModel(),
            t = e.GetCategoryAsType();
          const a = O.cb
              .Get()
              .GetPartnerEventPermissions(this.props.clanSteamID),
            n = E.sV.GetClanInfoByClanAccountID(
              e.GetClanSteamID().GetAccountID(),
            );
          if (!a.can_edit) return d.createElement(d.Fragment, null);
          let i = e.BHasSaleEnabled() || n.is_ogg;
          const o =
            (e.BWillShowOnLibraryOverviewDueToSettings() ||
              e.BWillShowOnLibraryDetailDueToSettings()) &&
            (0, _.Kt)(e.GetEventModel());
          return d.createElement(
            "div",
            { className: "ReachCtn" },
            d.createElement(
              "div",
              { className: g.EventEditorTextTitle },
              (0, x.Xx)("#EventReach_Title"),
            ),
            d.createElement(
              "div",
              { className: $i.ReachItems },
              d.createElement(
                "div",
                { className: g.EventEditorTextSubTitle },
                (0, x.Xx)("#EventReach_SubTitle"),
              ),
              d.createElement(
                "div",
                { className: $i.ReachColumnTitles },
                d.createElement(
                  "div",
                  { className: $i.ReachColumnName },
                  (0, x.Xx)("#EventReach_Location"),
                ),
              ),
              d.createElement(
                "div",
                { className: $i.ReachItemList },
                e.BWillShowOnStoreDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: $i.ReachSubject },
                    (0, x.Xx)("#EventReach_GamePage"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, x.Xx)(
                          "#EventReach_GamePage_ttip",
                        ),
                      },
                      d.createElement("span", { className: $i.ReachNumber }),
                      " ",
                      d.createElement("span", { className: g.TTip }, "?"),
                    ),
                  ),
                d.createElement(
                  "div",
                  { className: $i.ReachSubject },
                  (0, x.Xx)("#EventReach_GameNewsPg"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventReach_GameNewsPg_ttip",
                      ),
                    },
                    d.createElement("span", { className: $i.ReachNumber }),
                    " ",
                    d.createElement("span", { className: g.TTip }, "?"),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: (0, T.Z)($i.ReachSubject) },
                  (0, x.Xx)("#EventReach_PersonalizedCalendar"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventReach_PersonalizedCalendar_ttip",
                      ),
                    },
                    d.createElement("span", { className: $i.ReachNumber }),
                    " ",
                    d.createElement("span", { className: g.TTip }, "?"),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: $i.ReachSubject },
                  (0, x.Xx)("#EventReach_Community"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventReach_Community_ttip",
                      ),
                    },
                    d.createElement("span", { className: $i.ReachNumber }),
                    " ",
                    d.createElement("span", { className: g.TTip }, "?"),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: $i.ReachSubject },
                  (0, x.Xx)("#EventReach_FriendActivity"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": (0, x.Xx)(
                        "#EventReach_FriendActivity_ttip",
                      ),
                    },
                    d.createElement("span", { className: $i.ReachNumber }),
                    " ",
                    d.createElement("span", { className: g.TTip }, "?"),
                  ),
                ),
                e.BWillShowOnLibraryOverviewDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: (0, T.Z)($i.ReachSubject) },
                    (0, x.Xx)("#EventReach_LibraryHome"),
                    o &&
                      d.createElement(
                        "span",
                        { className: $i.ReachPendingVisibilityText },
                        "  ",
                        (0, x.Xx)(
                          "#EventReach_LibraryVisibilityPendingModeration",
                        ),
                      ),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, x.Xx)(
                          "#EventReach_LibraryHome_ttip",
                        ),
                      },
                      d.createElement("span", { className: $i.ReachNumber }),
                      " ",
                      d.createElement("span", { className: g.TTip }, "?"),
                    ),
                  ),
                e.BWillShowOnLibraryDetailDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: (0, T.Z)($i.ReachSubject) },
                    (0, x.Xx)("#EventReach_LibraryDetail"),
                    o &&
                      d.createElement(
                        "span",
                        { className: $i.ReachPendingVisibilityText },
                        "  ",
                        (0, x.Xx)(
                          "#EventReach_LibraryVisibilityPendingModeration",
                        ),
                      ),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, x.Xx)(
                          "#EventReach_LibraryDetail_ttip",
                        ),
                      },
                      d.createElement("span", { className: $i.ReachNumber }),
                      " ",
                      d.createElement("span", { className: g.TTip }, "?"),
                    ),
                  ),
                Boolean(
                  e.BIsAllowedInNotifications() && e.BIsVisibleBeforeStart(),
                ) &&
                  d.createElement(
                    "div",
                    { className: (0, T.Z)($i.ReachSubject, $i.Future) },
                    (0, x.Xx)("#EventReach_Future"),
                    " ",
                    (0, x.Xx)("#EventReach_Reminder"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, x.Xx)(
                          "#EventReach_Reminder_ttip",
                        ),
                      },
                      d.createElement("span", { className: $i.ReachNumber }),
                      " ",
                      d.createElement("span", { className: g.TTip }, "?"),
                    ),
                  ),
                Boolean(e.BIsAllowedInNotifications()) &&
                  d.createElement(
                    "div",
                    { className: (0, T.Z)($i.ReachSubject, $i.Future) },
                    (0, x.Xx)("#EventReach_Future"),
                    " ",
                    (0, x.Xx)("#EventReach_EmailRollUp"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, x.Xx)(
                          "#EventReach_EmailRollUp_ttip",
                        ),
                      },
                      d.createElement("span", { className: $i.ReachNumber }),
                      " ",
                      d.createElement("span", { className: g.TTip }, "?"),
                    ),
                  ),
              ),
              i &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    { className: $i.ReachColumnTitles },
                    d.createElement(
                      "div",
                      { className: $i.ReachColumnName },
                      (0, x.Xx)("#EventReach_OptionalLocation"),
                    ),
                  ),
                  n.is_ogg &&
                    d.createElement(
                      "div",
                      { className: $i.ReachItemList },
                      d.createElement(
                        "div",
                        { className: $i.ReachSubject },
                        d.createElement(
                          "span",
                          { className: $i.ReachSubjectOptional },
                          d.createElement(v.eX, {
                            bOn: e.GetEventModel().BHasTag("workshop"),
                          }),
                          d.createElement(
                            "span",
                            { className: $i.ReactSubjectOptionalText },
                            (0, x.Xx)("#EventReach_Workshop"),
                          ),
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": (0, x.Xx)(
                              "#EventReach_Workshop_ttip",
                            ),
                          },
                          d.createElement("span", {
                            className: $i.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: g.TTip }, "?"),
                        ),
                      ),
                      14 == t && d.createElement(no, null),
                      d.createElement(
                        "div",
                        { className: (0, T.Z)($i.ReachSubject) },
                        d.createElement(
                          "span",
                          { className: $i.ReachSubjectOptional },
                          d.createElement(v.eX, {
                            bOn: e.GetEventModel().BShowLibrarySpotlight(),
                          }),
                          d.createElement(
                            "span",
                            { className: $i.ReactSubjectOptionalText },
                            (0, x.Xx)("#EventReach_LibraySpotLight"),
                          ),
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": (0, x.Xx)(
                              "#EventReach_LibraySpotLight_ttip",
                            ),
                          },
                          d.createElement("span", {
                            className: $i.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: g.TTip }, "?"),
                        ),
                      ),
                    ),
                  e.BHasSaleEnabled() &&
                    d.createElement(
                      "div",
                      { className: $i.ReachItemList },
                      d.createElement(
                        "div",
                        { className: $i.ReachSubject },
                        d.createElement(
                          "span",
                          { className: $i.ReachSubjectOptional },
                          d.createElement(v.eX, {
                            bOn: e.BHasSaleProductBanners(),
                          }),
                          d.createElement(
                            "span",
                            { className: $i.ReactSubjectOptionalText },
                            (0, x.Xx)("#EventReach_SaleBanner"),
                          ),
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": (0, x.Xx)(
                              "#EventReach_SaleBanner_ttip",
                            ),
                          },
                          d.createElement("span", {
                            className: $i.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: g.TTip }, "?"),
                        ),
                      ),
                      Boolean(
                        e.BHasSaleProductBanners() &&
                          e.GetEventStartTime() &&
                          e.GetEventEndTime(),
                      ) &&
                        d.createElement(
                          d.Fragment,
                          null,
                          d.createElement("br", null),
                          d.createElement(
                            "div",
                            null,
                            (0, x.kQ)(
                              "#EventReact_SaleBannerDuration",
                              d.createElement(He.H6, {
                                dateAndTime: e.GetEventStartTime(),
                                bSingleLine: !0,
                              }),
                              d.createElement(He.H6, {
                                dateAndTime: Math.min(
                                  e.GetEventEndTime(),
                                  e.GetEventStartTime() + 604800,
                                ),
                                bSingleLine: !0,
                              }),
                            ),
                          ),
                        ),
                    ),
                ),
            ),
          );
        }
      };
      function no(e) {
        const t = l.wk.GetEditModel(),
          a = (function (e, t) {
            const [a, n] = (0, d.useState)(eo.Get().GetVisibilityRounds(e, t));
            return (
              (0, d.useEffect)(() => {
                (a &&
                  0 != a.length &&
                  a[0].appid == t &&
                  a[0].feature_type == e) ||
                  eo
                    .Get()
                    .LoadVisibilityRounds(e, t)
                    .then((e) => n(e));
              }, [t, a, e]),
              (0, w.Qg)(eo.Get().GetVisibilityRoundsChangeCallback(e, t), n),
              a
            );
          })(0, t.GetAppID());
        return d.createElement(
          "div",
          { className: $i.ReachSubject },
          d.createElement(
            "span",
            { className: $i.ReachSubjectOptional },
            Boolean(null == a || null == a)
              ? d.createElement(y.V, {
                  size: "small",
                  string: (0, x.Xx)("#Loading"),
                })
              : d.createElement(v.eX, {
                  bOn: a.some(
                    (e) => e.announcementid == t.GetAnnouncementGID(),
                  ),
                }),
            d.createElement(
              "span",
              { className: $i.ReactSubjectOptionalText },
              (0, x.Xx)("#EventReach_RecentlyUpdatedPg"),
            ),
          ),
          d.createElement(
            "span",
            {
              "data-tooltip-text": (0, x.Xx)(
                "#EventReach_RecentlyUpdatedPg_ttip",
              ),
            },
            d.createElement("span", { className: $i.ReachNumber }),
            " ",
            d.createElement("span", { className: g.TTip }, "?"),
          ),
        );
      }
      function lo(e) {
        const { editModel: t } = e,
          [a, n, l, i, o, r, s, c] = (0, Wt.SZ)(() => [
            t.GetEventModel().GID,
            t.GetEventModel().AnnouncementGID,
            t.ComputeEditingModelTimeOverrides(),
            t.BHidden(),
            t.BPublished(),
            t.GetEventVisibilityStartTime(),
            t.GetVisibilitySetting(),
            t.GetEventModel().GetVisibilityStartTimeAndDateUnixSeconds(),
          ]);
        let m;
        if (!o)
          if (t.GetStartTimeEditChoice() == H.M$.k_ESpecified)
            switch (s) {
              case H.WZ.event_start:
                m = d.createElement(
                  "div",
                  { className: $i.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#EventEditor_Status_WillBeVisible_EventStart"),
                  ),
                );
                break;
              case H.WZ.specified_time:
                m = d.createElement(
                  "div",
                  { className: $i.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, x.kQ)(
                      "#EventEditor_Status_WillBeVisible_At",
                      d.createElement(He.H6, {
                        dateAndTime: c,
                        bSingleLine: !0,
                      }),
                    ),
                  ),
                );
                break;
              case H.WZ.immediate:
              default:
                m = d.createElement(
                  "div",
                  { className: $i.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#EventPublishing_Summary_Immediate"),
                  ),
                  d.createElement(
                    "p",
                    null,
                    (0, x.Xx)("#EventPublishing_Summary_ModerationNote"),
                  ),
                );
            }
          else
            m = d.createElement(
              "div",
              { className: $i.VisibilityNote },
              d.createElement(
                "p",
                null,
                (0, x.Xx)("#EventPublishing_Summary_Immediate"),
              ),
              d.createElement(
                "p",
                null,
                (0, x.Xx)("#EventPublishing_Summary_ModerationNote"),
              ),
            );
        return d.createElement(
          "div",
          { className: $i.SummaryContainer },
          d.createElement(
            "div",
            { className: g.EventEditorTextTitle },
            (0, x.Xx)("#EventPublishing_Summary"),
          ),
          d.createElement(
            "div",
            { className: $i.SummaryItems },
            d.createElement(
              "div",
              { className: $i.StatusRow },
              d.createElement(
                "div",
                { className: $i.StatusText },
                d.createElement(Qa.TF, { editModel: t }),
              ),
              o &&
                !i &&
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    je.JW,
                    {
                      className: (0, T.Z)(g.Button, g.Primary),
                      eventModel: t.GetEventModel(),
                      route: je.Ue.k_eStoreView,
                    },
                    (0, x.Xx)("#EventEditor_ViewLive"),
                  ),
                ),
            ),
            d.createElement(
              "div",
              { className: g.FlexRowContainer },
              d.createElement(
                "span",
                null,
                d.createElement(
                  "b",
                  null,
                  (0, x.Xx)("#EventDisplay_TimeUpcoming"),
                  ":",
                ),
                " ",
              ),
              d.createElement(He.H6, {
                dateAndTime: l.nOverrideStartTime,
                bSingleLine: !0,
              }),
            ),
            d.createElement(
              "div",
              { className: g.FlexRowContainer },
              d.createElement(
                "p",
                null,
                d.createElement(
                  "b",
                  null,
                  (0, x.Xx)("#EventPublishing_Summary_VisibilityStart"),
                  ":",
                ),
                " ",
              ),
              Boolean(o && i) &&
                d.createElement(
                  "span",
                  null,
                  (0, x.kQ)(
                    "#EventEditor_Visibility_AutoVisible",
                    d.createElement(He.H6, { dateAndTime: r, bSingleLine: !0 }),
                  ),
                  " ",
                  (0, x.Xx)("#EventEditor_Visibility_NoAction"),
                ),
              m,
            ),
            Boolean(a || n) &&
              d.createElement(
                "div",
                { className: $i.LinkRow },
                d.createElement(Wi.AH, {
                  eventLink: (0, je.wK)(t.GetEventModel()),
                  labelOverride: "#EventEditor_Status_FutureURL",
                }),
              ),
          ),
        );
      }
      ao = (0, o.gn)([c.Pi], ao);
      let io = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_cancelSignal = s().CancelToken.source());
        }
        componentDidMount() {
          I.JA.IS_CURATOR &&
            Kt.bq.LoadCreatorHome(this.props.clanSteamID, this.m_cancelSignal);
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "Partner Events editor input pane unmounted",
          );
        }
        BCanOnlyUploadBecauseSupportUser() {
          const e = Kt.bq.GetCreatorHome(this.props.clanSteamID);
          if (
            I.L7.is_support &&
            I.JA.CAN_UPLOAD_IMAGES &&
            I.JA.IS_CURATOR &&
            e
          ) {
            return !(
              e.BHasClanAccountFlagSet(2) ||
              e.BHasClanAccountFlagSet(1) ||
              e.BHasClanAccountFlagSet(4) ||
              e.GetNumFollowers() >= 15e3
            );
          }
          return !1;
        }
        BIsSalePageFeatureVisible() {
          let e = l.wk.GetEditModel().GetEventModel();
          if (e.BHasSaleEnabled()) return !0;
          if (
            e.jsondata.clone_from_event_gid &&
            e.jsondata.clone_from_sale_enabled
          )
            return !0;
          const t = Kt.bq.GetCreatorHome(this.props.clanSteamID);
          return !(!t || !t.BHasClanAccountFlagSet(32));
        }
        render() {
          var e;
          let t = l.wk.GetEditModel(),
            a = t.GetEventModel();
          const n = !O.cb.Get().BShowEmailEditorTab(t.GetEventModel());
          let i = !O.cb.Get().BShowSaleEditorTab(t.GetEventModel());
          I.JA.IS_CREATOR_HOME && (i = !1);
          const o = O.cb.Get().GetPartnerEventPermissions(a.clanSteamID),
            r = (0, qt.zA)(),
            s = (0, qt.Hs)(),
            c = 12 === t.GetEventType() ? void 0 : (0, qt.th)(),
            m = (0, qt.rv)(),
            u = a.clanSteamID;
          E.sV.LoadClanInfoForClanSteamID(u);
          const _ = Boolean(
              null ===
                (e = E.sV.GetClanInfoByClanAccountID(u.GetAccountID())) ||
                void 0 === e
                ? void 0
                : e.has_rss_feed,
            ),
            p = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`,
              ),
            h = [
              {
                name: (0, x.Xx)("#EventEditor_Description_tab"),
                key: "description",
                status: r.text,
                statusType: r.complete >= r.total ? "success" : "danger",
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Vl, {
                    editModel: t,
                    bInitiatePublishDialog: this.props.bInitiatePublishDialog,
                    bCanManuallyTagAssociatedApps: _,
                  }),
                ),
                onClick: p,
              },
              {
                name: (0, x.Xx)("#EventEditor_Visibility_Title"),
                key: "options",
                status: s ? s.text : "",
                statusType: s && s.complete >= s.total ? "success" : "danger",
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Ri, { editModel: t }),
                  d.createElement("div", { className: S().ClearThings }),
                ),
                onClick: p,
              },
              {
                name: (0, x.Xx)("#EventEditor_Artwork"),
                key: "artwork",
                status: c ? c.text : "",
                statusType: c && c.complete >= c.total ? "success" : "danger",
                hidden: !I.JA.CAN_UPLOAD_IMAGES,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  (0, x.Xx)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(uo, { editModel: t }),
                onClick: p,
              },
              {
                name: (0, x.Xx)("#Broadcast_tab"),
                key: "broadcast",
                status: "",
                statusType: "success",
                hidden: !I.JA.CAN_UPLOAD_IMAGES,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  (0, x.Xx)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(hl, { editModel: t }),
                ),
                onClick: p,
              },
              {
                name:
                  (a.BHasEmailEnabled() ? "" : "(VO) ") +
                  (0, x.Xx)("#EventEmail_TabTitle"),
                key: "email",
                status: "",
                statusType: "success",
                hidden: n,
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Di, { editModel: t }),
                ),
                onClick: p,
              },
              {
                name:
                  (this.BIsSalePageFeatureVisible() ? "" : "(VO) ") +
                  (0, x.Xx)("#Sale_TabTitle"),
                key: "sale",
                status: m ? m.text : "",
                statusType: m && m.complete >= m.total ? "success" : "danger",
                statusToolTip: null == m ? void 0 : m.ttip,
                hidden: i,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  (0, x.Xx)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Yn, { editModel: t }),
                ),
                onClick: p,
              },
              {
                name: (0, x.Xx)("#Button_Publish"),
                key: "publishing",
                status: "",
                statusType: "success",
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(to, { editModel: t }),
                ),
                onClick: p,
              },
              {
                name: "(VO) Debug",
                key: "debug",
                status: "",
                statusType: "success",
                hidden: !o.valve_admin,
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Vt, { editModel: t }),
                ),
                onClick: p,
              },
              {
                name: "(VO) Solr",
                key: "solr",
                status: "",
                statusType: "success",
                hidden: !o.valve_admin || !a.GID,
                contents: d.createElement(
                  Xe.SV,
                  null,
                  d.createElement(Zt, { editModel: t }),
                ),
                onClick: p,
              },
            ];
          return d.createElement(
            "div",
            { className: wn().EventEditorInputPaneContainer },
            d.createElement(
              "div",
              { className: wn().EventEditorInputPaneContents },
              d.createElement($t.n, { tabs: h }),
              d.createElement("div", { className: S().ClearThings }),
            ),
            d.createElement(
              "div",
              { className: (0, T.Z)(S().SaveBackground) },
              d.createElement(wl, null),
            ),
          );
        }
      };
      io = (0, o.gn)([c.Pi], io);
      let oo = class extends d.Component {
        render() {
          this.props.bAutoPreviewRefresh && (0, Jt.zO)(5e3);
          let e = l.wk.GetEditModel(),
            t = e.GetCurEditLanguage(),
            a = e.GetEventModel().GetDescriptionWithFallback(t);
          return d.createElement(
            "div",
            { className: wn().InlinePreviewContainer },
            d.createElement(
              "div",
              { className: S().FlexRowWrapSpaceBetweenContainer },
              d.createElement(
                "h2",
                { className: wn().InlinePreviewHeader },
                (0, x.Xx)("#EventEditor_Preview_Title"),
              ),
            ),
            d.createElement(
              Xe.SV,
              null,
              d.createElement(
                "div",
                {
                  className: (0, T.Z)(
                    "EventDetailsBody",
                    wn().EventDetailsBody,
                  ),
                },
                d.createElement(Qt.d, {
                  text: a || "",
                  languageOverride: e.GetCurEditLanguage(),
                }),
              ),
            ),
          );
        }
      };
      oo = (0, o.gn)([c.Pi], oo);
      const ro = (0, c.Pi)((e) => {
        var t;
        (0, d.useEffect)(() => {
          E.sV.LoadOGGClanInfoForIdentifier(e.appid_or_vanity_str);
        }, [e.appid_or_vanity_str]);
        const {
            clanSteamID: a,
            gid: i,
            appid: o,
            bInitiatePublishDialog: r,
            appid_or_vanity_str: s,
          } = e,
          c = !(I.JA.IS_CREATOR_HOME || I.JA.IS_CURATOR)
            ? null === (t = Re.Z.Get().GetApp(o)) || void 0 === t
              ? void 0
              : t.GetName()
            : I.JA.VANITY_ID,
          u = l.wk.GetEditModel(),
          _ = u.GetEventModel().bOldAnnouncement;
        return d.createElement(
          pa.QI,
          { location: 1 },
          d.createElement(
            "div",
            { className: (0, T.Z)(wn().wrapper) },
            d.createElement(Gl, {
              clanSteamID: a,
              appid: o,
              gid: i,
              appid_or_vanity_str: s,
            }),
            d.createElement(
              "div",
              {
                className: (0, T.Z)(
                  S().FlexColumnContainer,
                  wn().EventEditBelowTopBarContainer,
                ),
              },
              d.createElement(
                "div",
                { className: wn().EventEditBelowTopBarGameName },
                c,
              ),
              d.createElement(
                m.rU,
                {
                  className: wn().EventEditBelowTopBarCategoryChoice,
                  to: _
                    ? n.rQ.MigrateCategory(
                        u.GetStrVanityOrAppID(),
                        u.GetAnnouncementGID(),
                      )
                    : n.rQ.Category(
                        u.GetStrVanityOrAppID(),
                        u.BHasGid() ? u.GetGID() : "",
                      ),
                },
                d.createElement(
                  "span",
                  null,
                  (0, x.Xx)("#EventEditor_TypeTitle"),
                  " ",
                ),
                u.GetCategoryAsString(),
                d.createElement("img", { src: ea.Z }),
              ),
              d.createElement("div", null),
            ),
            d.createElement(
              "div",
              { className: wn().maincontent },
              d.createElement(io, {
                appid_or_vanity_str: s,
                appid: o,
                gid: i,
                bInitiatePublishDialog: r,
                clanSteamID: a,
              }),
            ),
            d.createElement("div", null),
          ),
        );
      });
      let so = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new p.K(I.JA.CLANSTEAMID));
        }
        render() {
          return d.createElement(ro, {
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            appid: I.JA.APPID,
            gid: this.props.match.params.gid,
            clanSteamID: this.m_clanSteamID,
            bInitiatePublishDialog: this.props.bInitiatePublishDialog,
          });
        }
      };
      so = (0, o.gn)([c.Pi], so);
      const co = (0, A.M)(so);
      class mo extends d.Component {
        constructor(e) {
          super(e),
            (this.m_bRedirect = !1),
            (this.m_bRedirect =
              void 0 === l.wk.GetEditModel() ||
              1 == l.wk.GetEditModel().GetCategoryAsType());
        }
        render() {
          return this.m_bRedirect
            ? d.createElement(Le.l_, {
                to: n.rQ.Category(
                  this.props.match.params.appid_or_vanity_str,
                  "",
                ),
              })
            : d.createElement(co, Object.assign({}, this.props));
        }
      }
      function uo(e) {
        const { editModel: t } = e,
          [a, n, l, i, o, r, s, c] = (0, Wt.SZ)(() => {
            return [
              t.GetEventType(),
              Boolean(t.GetEventModel().BHasTag("steam_best_of_year")),
              t.GetClanSteamID(),
              t.GetEventModel().vecTags,
              t.GetIncludedRealmList(),
              34 === t.GetEventType(),
              ((e = t.GetEventModel().jsondata.localized_spotlight_image),
              e ? e.filter(Boolean).length : 0),
              t.BAllowedSteamStoreSpotlight(),
            ];
            var e;
          }),
          m = ["background", "capsule"];
        s > 0
          ? m.push("spotlight")
          : Boolean(I.JA.IS_OGG) &&
            c &&
            (m.push("localized_store_app_spotlight"),
            m.push("localized_store_app_spotlight_mobile")),
          n && m.push("bestofyear_banner", "bestofyear_banner_mobile");
        const u = m.includes("spotlight"),
          _ = m.includes("localized_store_app_spotlight"),
          p = m.includes("localized_store_app_spotlight_mobile");
        return d.createElement(
          Xe.SV,
          null,
          d.createElement(
            "div",
            { className: wn().ArtworkTipsCtn },
            d.createElement(
              "div",
              { className: wn().ArtworkTips },
              d.createElement(
                "p",
                null,
                d.createElement(
                  "strong",
                  null,
                  (0, x.Xx)("#selectimage_tip3_title"),
                ),
                ": ",
                (0, x.kQ)(
                  "#selectimage_tip3",
                  d.createElement(
                    "span",
                    null,
                    d.createElement("br", null),
                    d.createElement(
                      "a",
                      {
                        target: I.De.IN_CLIENT ? void 0 : "_blank",
                        href: "https://partner.steamgames.com/doc/store/localization#supported_languages",
                      },
                      (0, x.Xx)("#selectimage_see_documentation"),
                    ),
                  ),
                ),
              ),
              d.createElement(
                "p",
                null,
                d.createElement(
                  "a",
                  {
                    href: "https://partner.steamgames.com/public/marketing/steam_game_templates_2023.zip",
                    download: !0,
                  },
                  (0, x.Xx)("#selectimage_downloadtemplate"),
                ),
              ),
            ),
            d.createElement(
              "a",
              {
                href: "https://partner.steamgames.com/doc/marketing/event_tools/event_examples",
                className: wn().ArtworkDocs,
                target: I.De.IN_CLIENT ? void 0 : "_blank",
              },
              d.createElement(
                "div",
                { className: wn().ArtworkExampleCtn },
                d.createElement("img", {
                  className: wn().ArtworkExampleThumbnail,
                  src: I.De.IMG_URL + "events/thumb_library_home.jpg",
                }),
              ),
              d.createElement(
                "div",
                { className: wn().ArtworkExampleTitle },
                (0, x.Xx)("#selectimage_viewExamples"),
              ),
            ),
          ),
          d.createElement(Yt.p, {
            clanSteamID: l,
            rgSupportArtwork: m,
            fnSetImageURL: t.SetImageURL,
            bAllowPreviousClanImageSelection: !0,
            rgRealmList: o,
          }),
          d.createElement(Aa.Yo, {
            clanSteamID: l,
            title: (0, x.Xx)("#EventEditor_ArtworkType_capsule"),
            artworkType: "capsule",
            headerHint: (0, Ve.pC)(a, i) ? Aa.KH.k_Required : void 0,
            elEventArtworkExample: d.createElement(ia, {
              artworkType: "capsule",
            }),
          }),
          d.createElement(Aa.Yo, {
            clanSteamID: l,
            title: (0, x.Xx)("#EventEditor_ArtworkType_background"),
            artworkType: "background",
            headerHint: Aa.KH.k_Suggested,
            elEventArtworkExample: d.createElement(ia, {
              artworkType: "background",
            }),
          }),
          Boolean(r && (_ || p || u)) &&
            d.createElement(
              "div",
              { className: la().ArtworkSelectorContainer },
              d.createElement(
                "div",
                { className: la().Title },
                (0, x.Xx)("#EventEditor_ArtworkType_store_spotlight"),
              ),
              d.createElement(
                "div",
                { className: (0, T.Z)(la().SelectImageBlock, la().Tips) },
                (0, x.Xx)(
                  "#EventEditor_ArtworkType_SpotlightNotSupport",
                  t.GetCategoryAsString(),
                ),
              ),
              d.createElement("br", null),
            ),
          Boolean(_ && !r) &&
            d.createElement(Aa.Yo, {
              clanSteamID: t.GetClanSteamID(),
              title: (0, x.Xx)(
                "#EventEditor_ArtworkType_localized_store_app_spotlight",
              ),
              artworkType: "localized_store_app_spotlight",
              elEventArtworkExample: d.createElement(ia, {
                artworkType: "localized_store_app_spotlight",
              }),
              headerHint: Aa.KH.k_Requested,
            }),
          Boolean(p && !r) &&
            d.createElement(Aa.Yo, {
              clanSteamID: t.GetClanSteamID(),
              title: (0, x.Xx)(
                "#EventEditor_ArtworkType_localized_store_app_spotlight_mobile",
              ),
              artworkType: "localized_store_app_spotlight_mobile",
              elEventArtworkExample: d.createElement(ia, {
                artworkType: "localized_store_app_spotlight_mobile",
              }),
              headerHint: Aa.KH.k_Requested,
            }),
          Boolean(u && !r) &&
            d.createElement(Aa.Yo, {
              clanSteamID: t.GetClanSteamID(),
              title: (0, x.Xx)("#EventEditor_ArtworkType_store_spotlight"),
              artworkType: "spotlight",
              headerHint: (0, Ve.KQ)(a) ? Aa.KH.k_Suggested : void 0,
              elEventArtworkExample: d.createElement(ia, {
                artworkType: "spotlight",
              }),
            }),
          Boolean(I.JA.IS_OGG) &&
            d.createElement(Aa.Yo, {
              clanSteamID: t.GetClanSteamID(),
              title: (0, x.Xx)("#EventEditor_ArtworkType_hero"),
              artworkType: "hero",
            }),
          Boolean(n) &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(Aa.Yo, {
                clanSteamID: t.GetClanSteamID(),
                title: (0, x.Xx)("#EventEditor_ArtworkType_bestofyear_banner"),
                artworkType: "bestofyear_banner",
              }),
              d.createElement(Aa.Yo, {
                clanSteamID: t.GetClanSteamID(),
                title: (0, x.Xx)(
                  "#EventEditor_ArtworkType_bestofyear_banner_mobile",
                ),
                artworkType: "bestofyear_banner_mobile",
              }),
            ),
        );
      }
      var _o = a(73941),
        po = a(77581),
        Eo = a(45944),
        ho = a(29525);
      class vo {
        GetCounts() {
          return this.m_counts;
        }
        LoadCounts() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            return Boolean(this.m_counts)
              ? this.m_counts
              : (this.m_promise || (this.m_promise = this.LoadInternalCount()),
                this.m_promise);
          });
        }
        LoadInternalCount() {
          var e, t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const n =
                  I.De.STORE_BASE_URL +
                  "saleaction/ajaxgetuserdeckcompatcounts",
                l = yield s().get(n, {});
              if (
                200 == (null == l ? void 0 : l.status) &&
                1 ==
                  (null === (e = l.data) || void 0 === e
                    ? void 0
                    : e.success) &&
                (null === (t = l.data) || void 0 === t ? void 0 : t.counts)
              )
                return (this.m_counts = l.data.counts), this.m_counts;
              a = (0, G.l)(l);
            } catch (e) {
              a = (0, G.l)(e);
            }
            return (
              console.error(
                "CDeckCompCountStore.LoadInternalCount failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            vo.s_globalSingletonStore ||
              ((vo.s_globalSingletonStore = new vo()),
              ("dev" != I.De.WEB_UNIVERSE && "beta" != I.De.WEB_UNIVERSE) ||
                (window.g_DeckCompatCountStores = vo.s_globalSingletonStore)),
            vo.s_globalSingletonStore
          );
        }
        constructor() {
          if (
            ((this.m_counts = null),
            document.getElementById("application_config"))
          ) {
            let e = (0, I.kQ)("deckcompatcount", "application_config");
            vo.ValidateListCompat(e) && (this.m_counts = e);
          }
        }
        static ValidateListCompat(e) {
          const t = e;
          return (
            t &&
            "number" == typeof t.verified &&
            "number" == typeof t.unsupported &&
            "number" == typeof t.playable
          );
        }
      }
      var go = a(59777),
        So = a(17634),
        bo = a(7081),
        fo = a(87635),
        Co = a(11448),
        yo = a(54154),
        Do = a(1761);
      function To(e) {
        return e < 10 ? "0" + e : e;
      }
      function xo(e) {
        const { giveawayid: t } = e,
          a = (0, yo.J)(t),
          {
            bLoadingGiveawayInfo: n,
            winner_count: l,
            closed: i,
            seconds_until_drawing: o,
          } = a;
        return n
          ? null
          : d.createElement(
              "div",
              { className: Do.countdownCtn },
              Boolean(i) &&
                d.createElement(
                  "div",
                  { className: Do.Closed },
                  l > 0
                    ? (0, x.Xx)("#Giveaway_Closed", l.toLocaleString())
                    : (0, x.Xx)("#Giveaway_Closed_NoWinnerInfo"),
                ),
              Boolean(!i) &&
                d.createElement(
                  d.Fragment,
                  null,
                  Boolean(o <= 0)
                    ? d.createElement(
                        "div",
                        { className: Do.Throbber },
                        d.createElement(y.V, { size: "small" }),
                        d.createElement(
                          "div",
                          null,
                          (0, x.Xx)("#Giveaway_RandomDraw"),
                        ),
                      )
                    : d.createElement(
                        "div",
                        { className: Do.CountDownCtn },
                        d.createElement(
                          "div",
                          { className: Do.CountDownTime },
                          To(Math.floor(o / 60)) + ":" + To(o % 60),
                        ),
                        d.createElement(
                          "div",
                          { className: Do.CountDownText },
                          (0, x.Xx)("#Giveaway_CountDown2"),
                          " ",
                          (0, x.Xx)("#Giveaway_KeepWatching"),
                        ),
                      ),
                  Boolean(l > 0) &&
                    d.createElement(
                      "div",
                      { className: Do.WinnerInfo },
                      d.createElement(
                        "div",
                        { className: Do.WinnerCount },
                        l.toLocaleString(),
                      ),
                      d.createElement(
                        "div",
                        { className: Do.WinnerText },
                        (0, x.Xx)("#Giveaway_Congratulation"),
                      ),
                    ),
                ),
            );
      }
      var Go = a(84823),
        wo = a(88276),
        Io = a(80212),
        Ao = a(63493),
        ko = a(49026),
        Mo = a(94005),
        No = a(74840);
      function Bo(e) {
        const { eventModel: t, nEventBadgeID: a } = e,
          n = (0, wo.oS)(a);
        if ((null == n ? void 0 : n.level) > 0) {
          let e = n.level;
          if (null == t ? void 0 : t.BHasSaleEnabled()) {
            const n = t.GetSaleSectionsByType("badge_progress");
            if (1 == (null == n ? void 0 : n.length)) {
              const l = n[0].badge_progress;
              if (
                (null == l ? void 0 : l.event_badgeid) == a &&
                (null == l ? void 0 : l.granted_by_discovery_queue)
              ) {
                const a = l.levels[l.levels.length - 1].level;
                return d.createElement(Lo, {
                  eventModel: t,
                  nBadgeLevel: e,
                  nMaxLevel: a,
                });
              }
            }
          }
          return d.createElement(
            "span",
            { className: "DisplayBadgeProgress" },
            e.toLocaleString(),
          );
        }
        return null;
      }
      function Lo(e) {
        const { eventModel: t, nBadgeLevel: a, nMaxLevel: n } = e,
          l = d.useMemo(() => {
            const e = t
              .GetSaleSections()
              .filter((e) => "discoveryqueue" == e.section_type);
            return (null == e ? void 0 : e.length) > 0 ? e[0] : null;
          }, [t]),
          { storePageFilter: i, eStoreDiscoveryQueueType: o } = d.useMemo(
            () => (0, Mo.NK)(t, l),
            [t, l],
          ),
          r = (0, No.GD)(o, i),
          s = Math.min(a + r, n);
        return d.createElement(
          "span",
          { className: "DisplayBadgeProgress" },
          s.toLocaleString(),
        );
      }
      function Oo(e) {
        const { event: t } = e.context,
          a = Number.parseInt((0, ho.im)(e.args, "eventid"));
        return I.L7.logged_in && a
          ? d.createElement(Bo, { nEventBadgeID: a, eventModel: t })
          : null;
      }
      function Ro(e) {
        const { nDoorIndex: t, children: a } = e,
          n = (0, bo._4)(t),
          { fnOpenDoor: l } = (0, bo.Qr)(),
          [i, o] = d.useState(!1),
          [r, s] = d.useState(!1);
        return d.createElement(
          R.zx,
          {
            disabled: n,
            onClick: (e) => {
              i ||
                (I.L7.logged_in
                  ? (o(!0),
                    l(t, !0, null, !1)
                      .then((e) => {
                        e || s(!0), o(!1);
                      })
                      .catch(() => {
                        s(!0), o(!1);
                      }))
                  : (0, Io.Xt)());
            },
          },
          Boolean(r)
            ? d.createElement("div", null, (0, x.Xx)("#GrantAwardError_Busy"))
            : d.createElement(
                d.Fragment,
                null,
                Boolean(i) && d.createElement(y.V, { size: "small" }),
                Boolean(n) && d.createElement(Ka.JrY, null),
                a,
              ),
        );
      }
      function Xo(e) {
        const t = Number.parseInt((0, ho.im)(e.args)) || 0;
        return t >= 0 && t < 32
          ? d.createElement(Ro, { nDoorIndex: t }, e.children)
          : null;
      }
      const Po = (0, Le.EN)(Nt.CZ);
      function jo(e) {
        var t, a;
        const n = Number.parseInt((0, ho.im)(e.args)),
          { event: l, showErrorInfo: i } = e.context;
        if (n) {
          const o =
            null ===
              (a =
                null === (t = null == l ? void 0 : l.jsondata) || void 0 === t
                  ? void 0
                  : t.sale_sections) || void 0 === a
              ? void 0
              : a.findIndex((e) => e.unique_id == n);
          if (o >= 0) {
            const t = l.GetDayIndexFromEventStart();
            return d.createElement(
              pa.QI,
              { location: i ? 2 : 0 },
              d.createElement(Po, {
                event: l,
                section: l.jsondata.sale_sections[o],
                activeTab: new ko.u(null, t),
                language: e.language,
                nSaleDayIndex: t,
                promotionName: "",
                appVisibilityTracker: null,
              }),
            );
          }
          if (i)
            return d.createElement(
              "div",
              { className: Ao.ErrorDiv },
              "Error could not find sale section ",
              n,
            );
        }
        return null;
      }
      var Fo = a(77557),
        Ho = a(79873);
      const zo = d.Fragment;
      function Vo(e) {
        const {
            reservationPackageID: t,
            depositPackageID: a,
            bIsPreview: n,
          } = e,
          l = (0, Ho.Jv)(t),
          i = (0, d.useMemo)(
            () => [
              {
                unique_id: "reservation_bbcode_" + t,
                reservation_package: t,
                deposit_package: a,
                localized_reservation_desc: [],
              },
            ],
            [a, t],
          );
        return l
          ? d.createElement(
              Xe.SV,
              null,
              d.createElement(
                d.Suspense,
                { fallback: null },
                d.createElement(zo, { bIsPreview: n, rgReservationDef: i }),
              ),
              Boolean(l.allow_purchase_in_country) &&
                d.createElement(
                  "div",
                  { className: i[0].unique_id },
                  d.createElement(Fo.TN, {
                    reservationDef: i[0],
                    hardwareDetail: l,
                  }),
                  d.createElement(Fo.EU, {
                    reservationDef: i[0],
                    hardwareDetail: l,
                  }),
                ),
            )
          : d.createElement(y.V, {
              string: (0, x.Xx)("#Loading"),
              size: "small",
              position: "center",
            });
      }
      let Uo = null;
      function Zo(e) {
        const { event: t } = e.context,
          a = Number.parseInt((0, ho.im)(e.args, "appid")),
          n = Number.parseInt((0, ho.im)(e.args, "itemdefid")),
          l = Number.parseInt((0, ho.im)(e.args, "maxquantity")),
          i = (0, ho.im)(e.args, "calltoaction");
        return (0, So.$4)(a, n)
          ? d.createElement(fo.t, {
              language: e.language,
              clanAccountID: t.clanSteamID.GetAccountID(),
              itemDefSetting: { nAppID: a, nItemDefID: n, max_quantity: l },
              strCallToAction: i,
            })
          : d.createElement(y.V, {
              size: "small",
              position: "center",
              string: (0, x.Xx)("#Loading"),
            });
      }
      function qo(e) {
        const t = (function () {
          const [e, t] = d.useState(vo.Get().GetCounts());
          return (
            d.useEffect(() => {
              e || vo.Get().LoadCounts().then(t);
            }, []),
            e
          );
        })();
        if (!t) return d.createElement(y.V, { size: "small" });
        const a = Number.parseInt((0, ho.im)(e.args));
        let n = t.verified;
        switch (a) {
          case 2:
            n = t.playable;
            break;
          case 1:
            n = t.unsupported;
        }
        return d.createElement("span", null, Number(n).toLocaleString());
      }
      function Wo(e) {
        var t, a, n, l;
        const i = (0, go.V)("library");
        if (!i) return d.createElement(y.V, { size: "small" });
        const o = Number.parseInt((0, ho.im)(e.args));
        let r =
          (null === (t = i.verifiedList) || void 0 === t ? void 0 : t.length) ||
          0;
        switch (o) {
          case 2:
            r =
              (null === (a = i.playableList) || void 0 === a
                ? void 0
                : a.length) || 0;
            break;
          case 1:
            r =
              (null === (n = i.unsupportedList) || void 0 === n
                ? void 0
                : n.length) || 0;
            break;
          case 0:
            r =
              (null === (l = i.unknownList) || void 0 === l
                ? void 0
                : l.length) || 0;
        }
        return d.createElement("span", null, Number(r).toLocaleString());
      }
      function Jo(e) {
        const t = Number.parseInt((0, ho.im)(e.args)),
          a =
            "hide" in e.args &&
            Boolean(Number.parseInt((0, ho.im)(e.args, "hide")));
        return t >= 0
          ? d.createElement(Ko, { nDoorIndex: t, bHide: a }, e.children)
          : null;
      }
      function Ko(e) {
        const { nDoorIndex: t, bHide: a, children: n } = e,
          l = (0, bo._4)(t);
        return null == l
          ? null
          : (l && !a) || (!l && a)
            ? d.createElement(d.Fragment, null, e.children)
            : null;
      }
      function Qo(e) {
        if (I.L7.logged_in) {
          const t = Number.parseInt((0, ho.im)(e.args)),
            a = Number.parseInt((0, ho.im)(e.args, "mod"));
          if (a > 0 && t < a && I.L7.accountid % a == t) return e.children;
        }
        return null;
      }
      function Yo(e) {
        const t = (0, ho.im)(e.args);
        return (null == t ? void 0 : t.trim().length) > 0
          ? d.createElement("div", { className: t.trim() }, e.children)
          : d.createElement(d.Fragment, null, e.children);
      }
      function $o(e) {
        return d.createElement(
          "span",
          { className: Co.LocalizeBlock },
          (0, x.yu)(
            e.children,
            d.createElement("b", null),
            d.createElement("b", null),
            d.createElement("b", null),
            d.createElement("b", null),
          ),
        );
      }
      function er(e) {
        let t = (0, ho.im)(e.args);
        return t
          ? d.createElement(xo, { giveawayid: t })
          : d.createElement(d.Fragment, null);
      }
      function tr(e) {
        const t = Number.parseInt((0, ho.im)(e.args));
        if (t) {
          const a = Number.parseInt((0, ho.im)(e.args, "depositpackageid"));
          return d.createElement(Vo, {
            reservationPackageID: t,
            depositPackageID: a,
          });
        }
        return d.createElement(d.Fragment, null);
      }
      a(34345);
      var ar = a(69406),
        nr = a(74031);
      let lr = class extends _o.OX {
        constructor() {
          super(...arguments), (this.state = { bLoading: !0 });
        }
        GetRedirectRender() {
          return d.createElement(Le.l_, {
            push: !0,
            to: n.rQ.Edit(
              this.props.match.params.appid_or_vanity_str,
              this.state.redirectToGIDEvent,
            ),
          });
        }
        render() {
          let e = super.render();
          return null != e
            ? e
            : d.createElement(ro, {
                appid: Ta.JA.APPID,
                appid_or_vanity_str:
                  this.props.match.params.appid_or_vanity_str,
                gid: "",
                clanSteamID: this.m_clanSteamID,
              });
        }
      };
      function ir(e) {
        const [t, a] = d.useState(!0),
          { data: o } = (0, nr.NH)("english");
        return (
          d.useEffect(() => {
            Eo.Q8.Init(new po.J(I.De.WEBAPI_BASE_URL)),
              vt.j1.Init(),
              l.wk.Init(),
              Qt.d.AddDictionary(
                (null == Uo &&
                  (Uo = new Map([
                    [
                      "itemdef",
                      {
                        Constructor: Zo,
                        autocloses: !1,
                        skipInternalNewline: !0,
                        allowWrapTextForCopying: !0,
                      },
                    ],
                    ["wishlist", { Constructor: Go.gq, autocloses: !1 }],
                    ["deckcompatcount", { Constructor: qo, autocloses: !1 }],
                    [
                      "deckcompatuserlibrarycount",
                      { Constructor: Wo, autocloses: !1 },
                    ],
                    ["giveawayinfo", { Constructor: er, autocloses: !1 }],
                    ["price", { Constructor: Go.J8, autocloses: !1 }],
                    ["pricesavings", { Constructor: Go.Eu, autocloses: !1 }],
                    [
                      "eventdoorvisibility",
                      { Constructor: Jo, autocloses: !1 },
                    ],
                    ["chooseaccount", { Constructor: Qo, autocloses: !1 }],
                    ["badgecurrentlevel", { Constructor: Oo, autocloses: !1 }],
                    ["optindoorquest", { Constructor: Xo, autocloses: !1 }],
                    ["classname", { Constructor: Yo, autocloses: !1 }],
                    ["localize", { Constructor: $o, autocloses: !1 }],
                    ["salesection", { Constructor: jo, autocloses: !1 }],
                    ["reservationbutton", { Constructor: tr, autocloses: !1 }],
                  ])),
                Uo),
              ),
              Promise.all([O.cb.InitGlobal()]).then(() => a(!1));
          }, []),
          t || !o
            ? d.createElement(y.V, {
                position: "center",
                size: "medium",
                string: (0, x.Xx)("#Loading"),
              })
            : d.createElement(
                je.uX.Provider,
                { value: { bCanUseLink: !0 } },
                d.createElement(Qa.bE, null),
                d.createElement(
                  Le.rs,
                  null,
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Home(":appid_or_vanity_str"),
                    component: Gt,
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.List(":appid_or_vanity_str"),
                    component: Gt,
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Create(":appid_or_vanity_str"),
                    component: i.k,
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Category(":appid_or_vanity_str", ":gid(\\d+)?"),
                    render: (e) =>
                      d.createElement(
                        i.k,
                        Object.assign({}, e, { key: e.match.params.gid }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.EditRedirectToCategory(":appid_or_vanity_str"),
                    render: (e) => d.createElement(mo, Object.assign({}, e)),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Edit(":appid_or_vanity_str", ":gid(\\d+)?"),
                    render: (e) =>
                      d.createElement(
                        co,
                        Object.assign({}, e, { key: e.match.params.gid }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Publish(":appid_or_vanity_str", ":gid(\\d+)?"),
                    render: (e) =>
                      d.createElement(
                        co,
                        Object.assign({}, e, {
                          key: e.match.params.gid,
                          bInitiatePublishDialog: !0,
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.PreviewSale(
                      ":appid_or_vanity_str",
                      ":gid(\\d+)?",
                    ),
                    render: (e) =>
                      d.createElement(
                        Lt,
                        Object.assign({}, e, {
                          key: e.match.params.gid,
                          mode: "previewsale",
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Preview(":appid_or_vanity_str", ":gid(\\d+)?"),
                    render: (e) =>
                      d.createElement(
                        Lt,
                        Object.assign({}, e, {
                          key: e.match.params.gid,
                          mode: "preview",
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.View(":appid_or_vanity_str", ":gid(\\d+)"),
                    render: (e) =>
                      d.createElement(
                        Lt,
                        Object.assign({}, e, {
                          key: e.match.params.gid,
                          mode: "view",
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.Migrate(
                      ":appid_or_vanity_str",
                      ":oldAnnouncementGID(\\d+)",
                    ),
                    render: (e) =>
                      d.createElement(
                        lr,
                        Object.assign({}, e, {
                          key: e.match.params.oldAnnouncementGID,
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.MigrateCategory(
                      ":appid_or_vanity_str",
                      ":oldAnnouncementGID(\\d+)",
                    ),
                    render: (e) =>
                      d.createElement(
                        _o.QU,
                        Object.assign({}, e, {
                          key: e.match.params.oldAnnouncementGID,
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.ViewOldAnnouncement(
                      ":appid_or_vanity_str",
                      ":oldAnnouncementGID(\\d+)",
                    ),
                    render: (e) =>
                      d.createElement(
                        _o.R0,
                        Object.assign({}, e, {
                          key: e.match.params.oldAnnouncementGID,
                          bClearDirty: !0,
                          bPreview: !1,
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, {
                    exact: !0,
                    path: n.rQ.PreviewOldAnnouncement(
                      ":appid_or_vanity_str",
                      ":oldAnnouncementGID(\\d+)",
                    ),
                    render: (e) =>
                      d.createElement(
                        _o.R0,
                        Object.assign({}, e, {
                          key: e.match.params.oldAnnouncementGID,
                          bClearDirty: !0,
                          bPreview: !0,
                        }),
                      ),
                  }),
                  d.createElement(Le.AW, { component: ar.R }),
                ),
              )
        );
      }
      lr = (0, o.gn)([c.Pi], lr);
    },
  },
]);
