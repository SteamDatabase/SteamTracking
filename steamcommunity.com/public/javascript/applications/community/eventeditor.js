/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [6662],
  {
    49199: (e) => {
      e.exports = {
        TutoralCtn: "_2uGI1RkZsAgH5FJJPm48Mk",
        CreatorHomeEditCtn: "VbOoix4tAefx_Ubkf3VXl",
        SelectedExplanationCtn: "_2Kz-YjmWq9XV50Bq3pKfJd",
        AdminLinkCtn: "_26ME5VmoXDX5fdxtHMtJsX",
        LeftCol: "B2oAcAebO_bbVwXs3w_aF",
        RightCol: "_3h8IKAOLHOxucAap792BUn",
        EditLink: "_1dED5yJb9LJHtHR-wOyzjs",
        Label: "_1dpVUl_36BZE7zol5hXJtt",
        Tagline: "rug6IxzHTjfFtn_iUFpSu",
        AvatarImage: "_1eBqhQYUv9YYTswWfT8DIo",
        SaveWarningCtn: "acItF6ldLBfiep28ZGGai",
        ExplanationCtn: "_3rgjlem-dIfIrDEOWm6NLp",
        Warning: "jrKwhfgNFBea4v_qCpgy8",
      };
    },
    68297: (e) => {
      e.exports = { Ctn: "_3cNoLVtVVzke0LB8WeiaxS" };
    },
    78606: (e) => {
      e.exports = { HighlightBox: "_1C8qNhbbX8u5CxFNklZmlc" };
    },
    71193: (e) => {
      e.exports = {
        Ctn: "KpCRX3EpVySkwPrzJWf8H",
        TabContents: "_1L_nTm1MYScrbD9JpPutxs",
      };
    },
    1743: (e) => {
      e.exports = { SearchResults: "_26iJ3c5EI_arYCNqRvcLNX" };
    },
    22230: (e) => {
      e.exports = {
        ValveOnlyGuidelineSummary: "G_5BBG-e-VdrVy_cH-T74",
        GuidelinesDoneCtn: "-bMPuCQgMEZkaXDe9xr-s",
        SignedBy: "aFTvaToeoa7vQ3T3g-gJn",
        GuidelinesNoticeCtn: "_2vRv873nmO8VDKcGv910N9",
        OpenGuidelinesBtnCtn: "_1xJdiPfxlTdNN2usH5IiPi",
        Text: "_1yrjmb8acKppoFMX4a89JM",
        ProcessButtons: "_3d-YuHWm4kFxhwoHUQvLY3",
        OrganizerInfoNeeded: "_1zDJ15qYWvZk2pOJT6Fpma",
        PresenterInfoCtn: "LtbslF-lKB5TuSodjwica",
        PresenterPreviewCtn: "_2Hk4rTxT-iClgcyX6vhQ-T",
        PresenterPreviewDesc: "_3pwOKm3mb1P6DMLSJV_irO",
        Intro: "yYvoXKxnt_cvDzZA4SWjg",
        State: "_3m-uJBKckbfIRJDTdOsxHc",
        AgreementsCtn: "_1TWapuESBrD691ajclNSk",
        ContactSectionCtn: "_3gDWxWwsVwJMSsDuwNdjWm",
        SectionTitle: "_3HeMoToqc_aBQ6fOQyGJv6",
      };
    },
    28796: (e) => {
      e.exports = {
        LivePreview: "eFYn5NNpjD2UUEaetVynq",
        Button: "_1_mHUKME5i3Y8zoNldiFoQ",
        DeviceDropdown: "_3k5_ki8-nxIYRWf3FJmYr7",
        Connected: "_1oL5XzL932fPV06pp5B5w7",
      };
    },
    6103: (e) => {
      e.exports = {
        Ctn: "BTMmbSI5WdBvCQVAgf3-i",
        ButtonIcon: "_21IZDNymOVDf4u4Ont7WVA",
      };
    },
    18368: (e) => {
      e.exports = {
        SocialShareCtn: "FFYZQ30ue3bMXnyIP5UrW",
        DefaultSocialOverrideMsg: "DdtTvlKvWgvmBUSKQLgf1",
        DefaultSocialImgCtn: "_10QpUx-xWFinl4cM4hpslY",
        Small: "_1I5VGNY5lZBCAPQRmiK5oV",
        SocialShareText: "_3AR23rWGeNb-oZhicgbdGr",
        SocialTitle: "_2AobCe1CkG1-bdYa01CFZU",
        SocialDesc: "_1Unfeuc-ubWDHNdJjT-Xhv",
        ErrorContainer: "_2FQ2lKY1ejk_P-O1Vkr45Z",
        ErrorText: "_1lC9RtUD5LH34BUY2oMEWR",
      };
    },
    88748: (e) => {
      e.exports = {
        WarningContainer: "_3KKQLT-cntemarSxLAOHU4",
        Warning: "_3j12-L_RkqFQTnTaY3jfxl",
        Buttons: "_1NXKvU6Jb0wmgRqjJNUvTo",
        TooltipIndicator: "_3q4PQbri3zpBCLZtr1RhjU",
      };
    },
    11113: (e) => {
      e.exports = {
        AssociatedBuildBody: "_1rnVUYtxCV0s6yyvpWQdNr",
        BuildDisplay: "_1HwK4xlcGUHwQQ8N0JlIOY",
        BuildUnlinked: "_1cg3t7W3zJ1d2fyZeemkqS",
        BuildLinkedBranch: "_2ssXJvILzS4NK3EGgXkahJ",
        BuildLinkedDefault: "fHJYYxIYA2NCGNolmgOMi",
        BuildIDLink: "_2-Syn-OgAW18RXr3Rz6YOD",
      };
    },
    86836: (e) => {
      e.exports = {
        AddTitleButton: "XKHg8utmcVGXt54ZWUTca",
        CustomTitleCtn: "_1qoSQ8xx3K6loQPzOE0HiB",
        LanguageContainer: "_3WmqO9SJ2x76duLZu9m2_w",
        customTitleOptionsCtn: "zhH_Vr0LaMN9JLW17_6Sg",
        TitleRowCtn: "_96im4Pfj3wp5vXCaqhDwZ",
        AccountRow: "_2uIyvmr0xlWuKw0K7c5XEB",
      };
    },
    31467: (e) => {
      e.exports = {
        DisplaySectionHeaderContainer: "_1xnIXWjdhCoRxuorR33Hja",
        DisplaySectionHeader: "_34f0ckwUpFDCDFOre5vKKc",
        DisplaySectionSubHeader: "_23nhJsiCnqk1JbRY4BqQYI",
        DisplaySectionEmpty: "_2BmSNGrjP-OITpT0J86b8v",
        EventDashboardDataCtn: "_1uPNGB9kdIqm4bvA3MWImI",
        LoadMoreEventsCtn: "_2asU2ngzNsnuUiOXlnE9gs",
        EventDashboardCtn: "_2WqPrwl1Lj6NrDCl6PxxBM",
        EventDashAdminToolsCtn: "_1OMO4Lb3thfoiLCtomeJ5l",
        EventDashboardSearchCtn: "_2Xt1OEvVr8cLVtuc0pJgwh",
        MainLists: "_2Yhqn7VDJjxvfEh06aKUZr",
        ManageButton: "_230VZeyDMcnXTFGA7wbiRz",
        Edit: "pvLmXgZ5uK2ammqFQVDtK",
        Delete: "_9SG7g0HWSikC38CnZUZPa",
        Clone: "_21_l8F0r9GZ8oNHQawRql9",
        View: "_3xhNUX1f66dkbO0jpbcrUB",
        Publish: "_2ewSqivponp2ZnRx--ccH",
        Section: "_16BNVQTv5mM5n7gkZtksG1",
        Unpublished: "_2MUzvx5CleYIyyUnHga8ex",
        AuditInfoItem: "_3zF56_7Le3QZgMK6daAhiC",
        AuditItemStatsCtn: "_2is7FNTYDmGf8I2LvURouk",
      };
    },
    30040: (e) => {
      e.exports = {
        CenterAlign: "cMmai1T2HLkMm53hworFg",
        ControlBarCtn: "_1RQ0BaFzyVrnbeaKB486g2",
        ButtonSettingContainer: "_3jwD2isodRqha0tS-q5TpD",
        ButtonSettingRow: "_1mF5pWZlkV-uvlPZeq-ATE",
        DevHeader: "_35PpKbsBORHxXvGWt2cUXd",
        EmailTabCtn: "fDsyXs0SX_yDzpvJgrj9Q",
        EmailInputText: "_1UcSgRiHZawoyZCBLSEYOw",
        EmailBackground: "bEP0PYdTho_Gl5g1z0hjx",
        DevEmailEmailBackground: "_20VcuDt9BKhha67F592sBU",
        EmailEditorContent: "_1nDhBmZLQlVzj3E7WKKhWq",
        EmailIconHeader: "_3LZBlwbB2tIXbCKqRcW8HK",
        FooterLegal: "bJOiiRXFyVnQ_XIwB8q71",
        EditImageInputCtn: "_1LyXpjatj6a2roksJ1w-Et",
        EmailInput: "_2D8ACkzapgcXt2i4mtVaUl",
        EmailOptionTitle: "_1zLvJ9yv1UricUaXbx0_S6",
        EmailSection: "_1zUIkI7AgdYO4GwG_NQHCK",
        EmailSubjectCtn: "BHpFDMbEwMQJp9qUbcnBp",
        EmailSubjectSelect: "_18xOZXw0zCpDoxyJ6IpE9O",
        EmailTemplate: "_18iTrIYTp7iRLbc4Gf8nPS",
        EmailTextCtn: "_1rQlPdfCXmfGtHnibyLU0q",
        HeadlineInput: "_2lHX9aoh5vq8UVFZpoUXLi",
        Footer: "_23AXhs6fxOH-ri30Ku83kQ",
        ImgCrossCtn: "_59gyFo1iYkpAzzfYIfPB",
        FullImageCtn: "uv6NVLDsJZRg2Vd6UPU57",
        BodyInput: "_3VRhYM6Jz6nfphcVyPLbHF",
        Hello: "Gd3d5QHNaw4ZwdI1OpckY",
        Reason: "_10TSvg1eJrb02iaDHClaMm",
        RecipientCtn: "_330DrT_T9AuTNElumsTjbO",
        GameLink: "_39DSSDvMsjSABWClwcIbZw",
        RightAlign: "zffsfYWrudjCkI4Dsh6SP",
        TargetAndAudience: "_3h8QMOnSMH3qwo0pouxQl1",
        VideoCtn: "_2mtrEAz9iqZDwFHWOFEWYs",
        VideoInputCtn: "_1ESNVZsJhsRKLGR6DIDgGv",
        ButtonDestInputSaleURL: "_3Lr4kQNl8EB90bYreCkavO",
        DevEmailTemplate: "sC9ZVo4LWRmp7sk7FL_1m",
        DevEmail_Content: "_25GtlukMBCGELygDEnZfrY",
        DevEmail_TopLogo: "_1dbBhgsGLkRM492mX7zkNQ",
        DevEmail_TopHeader: "_2lmZlTXR6-c1uaj5PbNgf3",
        DevEmail_Subject: "_37Wbo2nuC0l3mNcjGRZHyg",
        DevEmail_SignOff_Img: "KW2YG6hHfFQVuV4eJ3Ipz",
        DevEmail_Signoff: "_3iJuG0UcI4rSj5zJKaL5fc",
        DevEmail_Footer_Ctn: "RINyWReHxs1fxv1jgY7G4",
        DevEmail_Footer_Reason: "_1h_BmZOxsmD73ffKbjlIdO",
        DevEmail_Footer_SubSection: "_2gEsj3IHJae8fb06fRdJk_",
        DevEmail_Footer_Bold: "CSfHWKG5qt7_XeLCkaw8P",
        DevEmail_Footer_Regular: "_1dDJaK_qsXmQ27GlhTJhAA",
        DevEmail_Follow: "_1gwxy_hzPqUh-p_K4z_Edy",
        DevEmail_RecipientTable: "_2EDtiW4k-fQawJspq90nOy",
        TargetCtn: "_1Ts_ngj40ZiCo9Sc68jnwf",
        TargetTypeTitle: "_2EritTe1Kxna1Z6lA0jGtL",
        TargetTypeCtn: "_3TxAc5Yw0K8WYy6-rGW7Qn",
        TargetedListCtn: "_3NubRccs6p7sKSNLv5Qtmq",
        SelectListCtn: "_980o4njosOdbwYRFG-3CJ",
        SupportCtn: "_27guD_MAYlcodq6X9jXiyE",
      };
    },
    4969: (e) => {
      e.exports = {
        ThemedCtn: "_3JuTN3-LxaE1Kvz0sU14cv",
        CategoryOption: "_4ke28HUvwT2rIC2CU4462",
        CategoryTitle: "Dx6oJLmZ21r_VQlYV17ML",
        event_nomination_banner_ctn: "_1w12VaiWFhKBsTkQ0M7Mla",
        event_nomination_banner: "_2nEQSt0e5gAadvWMl-0IYD",
        event_nomination_banner_text: "_1gePUvogr9fXbuDaaMXFeP",
      };
    },
    6542: (e) => {
      e.exports = {
        PublishOption: "_6BF_4hDIQb4IUVMnPGyOc",
        Description: "_1zX1bcfpvl3eDzOofaa0Ld",
        PublishButton: "_3DS9nFmljPIAzK4YYNyJ7M",
        PublishButtonCtn: "dwVDG_w5nz5NZkVrF3Ymt",
        EventPublishButton: "_eYd_33i0Tu425frNF-D0",
      };
    },
    82267: (e) => {
      e.exports = {
        SummaryItems: "_12a_LkNOoLjY4U8GJXGiJr",
        ReachItems: "H_jRCccfsQh7wJDqpSFW",
        StatusRow: "SZwFXdjVvpVCLQbSx9W0N",
        StatusText: "_1NUKtMG9ZbBMEKZGUbo5dU",
        LinkRow: "_1WnQ1-TNrdTLC4CNy0LMal",
        PublishOptionsCtn: "_379kpZ55vVRtg4v3mmyzjh",
        PublishOption: "_2iQ1tjpuZUgm_7yak-mUME",
        VisibilityNote: "_2UnJcjbE6D6gpVyZQK1fpg",
        ReachSubject: "_3EQb8yhc8g_YREweH7REin",
        Future: "_5EyH71mHwoPLik7PPLwj6",
        ReachColumnTitles: "_6VhIV7p4e0V5K7UQS8rQ3",
        ReachColumnName: "_3ORkBJ_KuD1aaROllFDvmr",
        ReachSubjectOptional: "aXhwG7UbxYk72LUwo7nf3",
        ReactSubjectOptionalText: "_2CIfGSkukCcX90z7Zh50qn",
        ReachPendingVisibilityText: "n1wAjXJP9DpVKq6YYJXlu",
      };
    },
    86649: (e) => {
      e.exports = {
        TileContainer: "_1eeyC5eleIewWdIjFUHKZF",
        TileEventRow: "nCFimHHGxes3vcTixXyoM",
        ShowEventMetaDataSizes: "EU0bQ6RzkpH7YEV3PqpFi",
        ShowLibrarySpotlight: "_2cmpQqEtWhQKNVzgGRC1gf",
        TileImageCtn: "_1vi2yQBaJNZnrkCvcAkYPu",
        PartnerEventFeaturedHeader: "_2BHkjrXI8mj4iCap8XAl7C",
        EventStateUpcoming: "qfpNtFPUJlNjLktoUvJ0k",
        EventStateActive: "_3F1Bjy-j37LMI3EtJA1h2Q",
        EventStateRecent: "_2ge3pkXyDOZWz8-ARJz8UM",
        TileStats: "GZhweiVUpwbzoIjDE7u-Z",
        Spacer: "Lux3qW8DzWm72y25tK65P",
        TileImage: "_5NjHVepJ-MpagvcelrrLe",
        TileTextContainer: "_31yesbrR3TY0eFzQ5LMPfu",
        TileTextAppName: "_3x6bHYqsfNw0nz_4TDuSxI",
        TileTextEventType: "_2DMSloKwrNjr6coAQd8ZiI",
        TileHasSale: "_1trq1cVOPKvVg7fFpo7i1j",
        TileTextStartsIn: "_3jRSO6lxpLL9G3wo0SR_bn",
        TileTextSubTitle: "_3Sc1E4dUzfzO6of2iXaKtc",
        TileDescriptionContainer: "_2yxWDPnwMaM08JNkzITkA2",
        TileButtonContainer: "_1JNbDS8V61g_7Wpc_xtkEQ",
        TileAgeNotAppropriate: "_1EyzXBq7ZEaS5rLANMjygs",
        ManageButton: "_60IytO_Ke7DCDgSXKUCxJ",
        Edit: "_2h3YfZsHYE19rH00uHNKVS",
        Delete: "_8zmLUr-qx1Bzu4WqzkSj2",
        Clone: "_1QJ8IfR50ZDSYZqiwaHD6Z",
        View: "_1IvY3uUm_10hrO9weWkZ3L",
        Publish: "_1szIuk73YkbLwAB0TblZQB",
        CloneLangAlert: "_2U-5yBEKxtzmhHMrEKXA09",
        CloneLangListCtn: "_3Nj5xHseX0-Ki-jpnVPZzP",
        CloneCheckBox: "_28WRJt_EhqnDXXoRbzDKHq",
        MetaDataCtn: "_3EXNJZmBWQbV9eSwfrVIgH",
      };
    },
    31501: (e) => {
      e.exports = {
        ErrorMessaage: "_13sZcUrcBMNUU0KdAqKPUS",
        UpdatingMessage: "_3baPwwHaL5S0vl62s9YPRm",
      };
    },
    46590: (e) => {
      e.exports = {
        TableOfContentsContainer: "_2VyHwZNHF7G8GTghQBppJM",
        TableOfContents: "_3-gNExt8uVVXneiHJ_HBfO",
        TOCEntry: "_2fkedbcvZ-Ypkg7IAM6g8y",
        TOCEntryText: "_2E83D-k5Smoc5GOnIAYxX_",
        SectionOnScreen: "_1ZlX0kgk4yXPDr43GYpCQE",
        TOCIndent: "mtCjwe7hxKpsydYBLiVwo",
        Header: "_1JRRCTaFT_9gTWN0PgcEE7",
        ManageLocCtn: "_1PmKQt4vLN4zvIXblWoav2",
        LocButtonsCtn: "_19-WGMy4r1bc3-bhcr0ghi",
        ManageLocContents: "N1BFbJNE18yJ8DDMBdVUZ",
      };
    },
    10026: (e) => {
      e.exports = { BBCodeFollowButton: "NVuxjpTCUClP-4RsNDDvk" };
    },
    18657: (e) => {
      e.exports = {
        BBCodeFollowButton: "BwHJdoHlv8wy5OypqL_b7",
        isHovered: "_2EcgCb9lHfl7I_MlirYLZL",
      };
    },
    29868: (e) => {
      e.exports = {
        countdownCtn: "GWWacIf04lQysYMFJma0A",
        Closed: "ATX_xEE69rX8wVxQvONEx",
        CountDownCtn: "_11RwPICMOmmvNXkOq9bjPc",
        CountDownTime: "eh0pMnSr-nk203Ealq_Rq",
        CountDownText: "_3VKQ3h7Z4wO_U-Z_vXUZkk",
        LearnMore: "_1q98mjxkCUwQuFALsiNtD7",
        Throbber: "bEkRtFmRUW_smWksM-k9g",
        WinnerInfo: "_2LTFl4ZFuL1BeNbqYPExWv",
        WinnerCount: "Z7ScP-i1XHPQn4eeFdJ3g",
        WinnerText: "chkuqox_QD6U5ID_AHTLk",
      };
    },
    11833: (e) => {
      e.exports = {
        ApprovalRequiredCtn: "_2pKjCSfT0Aa7Wx8_VoNJzc",
        PendingApproval: "_27C9CXtP6vYFYNpAhDJciM",
        Approved: "_2W3o61eSl990XjaneBlzaE",
        PublishWithRestrictions: "_32dufkQ3fNn_8sJusL-nd_",
        Right: "_2lUXdTnEBjAXrbGOs8rZVb",
        Title: "Oc0UNBEG4L2poFTcpQzwx",
        RequireText: "OZlfJDOJer5NjUxcJJf7Z",
      };
    },
    47534: (e) => {
      e.exports = {
        SocialMediaRow: "ulorWm3sqhSeSaQPSH7O6",
        SocialMediaType: "ZKHt9TgsGIf59MoROuJuj",
        SocialMediaLink: "_4yVvgRIj7im7egSdbtW_w",
        SocialMediaTooltip: "_2btfW5GjJOR2sOB-k94zp6",
        ValidationError: "_1vWmrCnLJP6y1vJRoWO6Qj",
        AddLinkDropDown: "naYpWkI1nnET_gXJrYEAw",
      };
    },
    9202: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        storeMenuResponsiveModeWidth: "730px",
        narrowWidth: "500px",
        SuppressScrollOnBody: "_1FFwlWIoDrtb0qdN9YUwHs",
        WishlistHoverCtn: "GXjJQihysg6S5INBKClED",
        BBCodeWishlistButton: "_1dm-6uzq_x5Gqo421G3a1r",
      };
    },
    91640: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "_3kTQIYYiQiVR_DeJepkOwJ",
        Body: "_2s393FLIe2l5quVJHoS53K",
        HeaderBlock: "X9bYNT3rKpg6L1Cgq45pG",
        Background: "_1xwi06sEKXpwIpZcgHle_h",
        DimBackground: "_2N55HNCo3jLIzL6RNNlRUo",
        Input: "_1BUtyMrOPfXVpnfK-Z5OnA",
        CopyContainer: "_1HjkZ3ooQw-4TV518YPtvp",
        Text: "_1ehqRyqgPLFNoFwFifHPPR",
        Link: "_18Sc08YQfmAIVx8H1h8A1V",
        Button: "_2772E6skxrFIemLRdp0EKv",
        GenerateLinkButton: "T52tUwptWdakIKgaAVn3i",
        ProfileCard: "_28a_CNvDls7VgWoPW2-9Kz",
        UserContainer: "_29w-2Eb_kk-viSqGW8RTn2",
        Image: "_1n4lDOfOQzOhvshIPt1UWT",
        ProfileContent: "_1qz9xLw5YttjO8gVfuMwS",
        ProfileLink: "_1tEt0fYckNbFAqGLEfrsfj",
        Failure: "UoMCo-OvninFBFozRomeh",
        Success: "zNkywkFbUJio86FBwBWwx",
        FriendCodeSelector: "_3nmSpgo_T_V0-Er7h8J2Ar",
        SendInviteButton: "kcAlkPA1uhcWs_5eatvVd",
      };
    },
    16345: (e) => {
      e.exports = {
        SuggestContainer: "_2gBFqL_6eXiRN7TI_GDjzF",
        Results: "_3eXNgAtnlHBfgWZbxO2n3h",
        EmptyResults: "_3w0K5X735sKAZhhifZGs84",
        ResultSectionHeader: "_1KK1sGDuxehec0lBB_4lpU",
        ResultRow: "_16oSf0MiTpUTJe7YQpCV2A",
        AvatarImage: "_3dr2A8wfoYU0kJtS9ACoR1",
        GameName: "_3CWrph5moGF_F746uM5tdI",
        Label: "I1zVikvORZt41zc-QTAsw",
      };
    },
    64691: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => Gc });
      var n = a(43527),
        l = a(25918),
        o = a(77724),
        i = a(22837),
        r = a(41735),
        s = a.n(r),
        c = a(75844),
        d = a(90626),
        m = a(17083),
        u = a(70078),
        _ = a(38390),
        E = a(30163),
        p = a(17720),
        v = a(4796),
        g = a(88221),
        h = a(68255),
        S = a(47204),
        b = a(95695),
        w = a.n(b),
        C = a(40239),
        f = a(84842),
        y = a(9154),
        D = a(738),
        T = a(22797),
        I = a(64846),
        G = a(26408),
        N = a(60383),
        A = a(81393),
        M = a(68797),
        B = a(6144),
        L = a(52038),
        k = a(56011),
        R = a(61859),
        O = a(73745),
        P = a(78327),
        x = a(28456),
        F = a(25412),
        H = a(77757),
        j = a(76684),
        z = a(48479),
        U = a(27543),
        q = a(31467),
        V = a.n(q);
      const W = (e) => {
          const { closeModal: t } = e,
            a = (0, F.d)(P.UF.CLANACCOUNTID);
          return d.createElement(
            y.o0,
            {
              strTitle: "Publishing Audit History",
              bAlertDialog: !0,
              onOK: t,
              onCancel: t,
              className: "auditContents",
              strDescription:
                "Here are the publishing audit history. Recorded starting from mid-June 2021",
            },
            Boolean(null == a)
              ? d.createElement(T.t, {
                  string: (0, R.we)("#Loading"),
                  position: "center",
                  size: "medium",
                })
              : Boolean(0 == a.length)
                ? d.createElement(
                    "div",
                    null,
                    "No Publishing History available",
                  )
                : a.map((e) =>
                    d.createElement(Q, { key: e.clan_event_gid, record: e }),
                  ),
          );
        },
        Q = (e) => {
          var t;
          const { record: a } = e,
            n = d.useMemo(() => p.b.InitFromClanID(P.UF.CLANACCOUNTID), []);
          return d.createElement(
            "div",
            { className: q.AuditInfoItem },
            d.createElement(
              "div",
              null,
              "Clan Event GID:",
              d.createElement(
                "a",
                {
                  href: `${P.TS.COMMUNITY_BASE_URL}gid/${n.ConvertTo64BitString()}/partnerevents/edit/${a.clan_event_gid}`,
                  target: "_blank",
                },
                a.clan_event_gid,
              ),
            ),
            d.createElement("div", null, "Type: ", (0, U.rG)(a.event_type)),
            d.createElement(
              "div",
              null,
              "Publish Time: ",
              d.createElement(j.K4, {
                dateAndTime: a.publish_time,
                bSingleLine: !0,
              }),
            ),
            d.createElement(
              "div",
              null,
              d.createElement(H.B, {
                accountID: a.publish_account_id,
                locToken: "#EventDashbard_PublishingAccount",
              }),
            ),
            d.createElement(
              "div",
              null,
              "tags: ",
              null === (t = a.tags) || void 0 === t ? void 0 : t.join(", "),
            ),
            d.createElement(
              "div",
              { className: q.AuditItemStatsCtn },
              d.createElement(
                z.qx,
                { title: "Show Event Stats", bStartMinimized: !0 },
                d.createElement(Y, { clanSteamID: n, record: a }),
              ),
            ),
            d.createElement("hr", null),
          );
        };
      function Y(e) {
        const { clanSteamID: t, record: a } = e,
          n = (0, g.Cl)(t, a.clan_event_gid);
        return d.createElement(
          "div",
          null,
          null == n &&
            d.createElement(T.t, {
              string: "loading",
              position: "center",
              size: "medium",
            }),
          null == n &&
            d.createElement("div", null, "Failed to load events stats"),
          Boolean(n) &&
            d.createElement(C.A, { summary: n, clanSteamID: t, bCompact: !0 }),
        );
      }
      var J = a(34629),
        K = a(24506),
        Z = a(14947),
        X = a(17640),
        $ = a(60746),
        ee = a(25228),
        te = a(32754),
        ae = a(87669),
        ne = a(69001);
      const le = "title",
        oe = "subtitle",
        ie = "summary",
        re = "body",
        se = "email_headline_",
        ce = "email_body_",
        de = "sale_section_label_",
        me = "sale_section_label_id_",
        ue = "sale_section_subtitle_id_",
        _e = "sale_section_text_id_",
        Ee = "email_subject",
        pe = "sale_tab_name_",
        ve = "sale_facet_name_",
        ge = "sale_facetvalue_name_",
        he = "sale_facetvalue_subtitle_",
        Se = "sale_reservation_bbcode_",
        be = "sale_reservation_outofstock_",
        we = "sale_reservation_delivery_",
        Ce = "sale_white_supplies_last_bbcode_",
        fe = "sale_section_desc_",
        ye = "sale_section_title_desc_",
        De = "broadcast_custom_title",
        Te = "question_",
        Ie = "answer_",
        Ge = "badgename_",
        Ne = "badgeinitial_",
        Ae = "badgeprogress_",
        Me = "badgemax_",
        Be = "quest_close_",
        Le = "quest_open_",
        ke = "discoqueue_desc_",
        Re = "socialshare_header_",
        Oe = "socialshare_title_",
        Pe = "socialshare_desc_",
        xe = "socialshare_image_",
        Fe = "socialshare_imagealttext_",
        He = "rewardshelf_itemdef_",
        je = "claimitem_button_",
        ze = "disclaimer_name_",
        Ue = "medialayout_item_",
        qe = "mediacontent_title_",
        Ve = "mediacontent_sutitle_",
        We = "mediacontent_desc_",
        Qe = "meetsteam_",
        Ye = Qe + "title_",
        Je = Qe + "desc_",
        Ke = Qe + "faq_",
        Ze = Qe + "ia_",
        Xe = Qe + "break_",
        $e = "techspecblock_",
        et = "_name_",
        tt = "_desc_",
        at = "submenu_",
        nt = "mediacontent_alt_text_",
        lt = "mediacontent_title_alt_text_",
        ot = "userpoll_",
        it = "userpoll_option_";
      function rt(e, t, a, n) {
        var l, o, i, r, s;
        let c = new ae.G();
        if (t) {
          let t = e.GetEventModel();
          for (let a = 0; a < 31; ++a)
            (e.BHasLanguageTitle(a) || 0 == a) &&
              c.SetLocalization("title", a, e.GetName(a)),
              (t.BHasSubTitle(a) || 0 == a) &&
                c.SetLocalization("subtitle", a, e.GetSubTitle(a)),
              (e.BHasLanguageDescription(a) || 0 == a) &&
                c.SetLocalization("body", a, e.GetDescription(a)),
              (t.BHasSummary(a) || 0 == a) &&
                c.SetLocalization("summary", a, e.GetSummary(a)),
              e.GetEventModel().jsondata.meet_steam_groups &&
                e.GetEventModel().jsondata.meet_steam_groups.forEach((e) => {
                  e.localized_session_title &&
                    Boolean(R.NT.Get(e.localized_session_title, a)) &&
                    c.SetLocalization(
                      Ye + e.group_id,
                      a,
                      R.NT.Get(e.localized_session_title, a),
                    ),
                    e.localized_session_description &&
                      Boolean(R.NT.Get(e.localized_session_description, a)) &&
                      c.SetLocalization(
                        Je + e.group_id,
                        a,
                        R.NT.Get(e.localized_session_description, a),
                      ),
                    e.localized_intended_audience &&
                      Boolean(R.NT.Get(e.localized_intended_audience, a)) &&
                      c.SetLocalization(
                        Je + e.group_id,
                        a,
                        R.NT.Get(e.localized_intended_audience, a),
                      ),
                    e.localized_sesssion_faq &&
                      Boolean(R.NT.Get(e.localized_sesssion_faq, a)) &&
                      c.SetLocalization(
                        Je + e.group_id,
                        a,
                        R.NT.Get(e.localized_sesssion_faq, a),
                      );
                }),
              e.GetEventModel().jsondata.meet_steam_schedules &&
                e.GetEventModel().jsondata.meet_steam_schedules.forEach((e) => {
                  var t;
                  null === (t = null == e ? void 0 : e.session_breaks) ||
                    void 0 === t ||
                    t.forEach((t) => {
                      t.localized_break_description &&
                        Boolean(R.NT.Get(t.localized_break_description, a)) &&
                        c.SetLocalization(
                          Xe + e.schedule_id + "_" + t.break_id,
                          a,
                          R.NT.Get(t.localized_break_description, a),
                        );
                    });
                });
        }
        if (a && e.BHasEmailEnabled()) {
          const t = e.GetEmailSettings();
          if (P.UF.IS_VALVE_GROUP) {
            let t = new X.WQ(e.GetEmailSettings());
            for (let e = 0; e < 31; ++e)
              t.BHasLocalizedSubject(e) &&
                c.SetLocalization(Ee, e, t.GetLocalizedSubject(e));
          }
          t.sections.forEach((e, t) => {
            let a = new X.JW(e);
            for (let e = 0; e < 31; ++e)
              a.BHasHeadlineInLanguage(e) &&
                c.SetLocalization(se + t, e, a.GetHeadline(e)),
                a.BHasBodyInLanguage(e) &&
                  c.SetLocalization(ce + t, e, a.GetBody(e));
          });
        }
        const d = e.GetEventModel().jsondata;
        if (
          (null == d ? void 0 : d.bBroadcastEnabled) &&
          (null === (l = null == d ? void 0 : d.localized_broadcast_title) ||
          void 0 === l
            ? void 0
            : l.length) > 0
        )
          for (let e = 0; e < 31; ++e)
            if (Boolean(R.NT.Get(d.localized_broadcast_title, e))) {
              const t = d.localized_broadcast_title[e];
              c.SetLocalization(De, e, t);
            }
        if (
          (t &&
            (null === (o = d.user_polls) || void 0 === o ? void 0 : o.length) >
              0 &&
            d.user_polls.forEach((e) => {
              var t;
              for (let a = 0; a < 31; ++a)
                e.localized_poll_description &&
                  Boolean(R.NT.Get(e.localized_poll_description, a)) &&
                  c.SetLocalization(
                    ot + e.poll_id,
                    a,
                    e.localized_poll_description[a],
                  ),
                  null === (t = null == e ? void 0 : e.options) ||
                    void 0 === t ||
                    t.forEach((e) => {
                      e.localized_option &&
                        Boolean(R.NT.Get(e.localized_option, a)) &&
                        c.SetLocalization(
                          it + e.option_id,
                          a,
                          e.localized_option[a],
                        );
                    });
            }),
          n && e.BHasSaleEnabled())
        ) {
          if (
            null === (i = null == d ? void 0 : d.sale_presenters) ||
            void 0 === i
              ? void 0
              : i.length
          )
            for (let e = 0; e < 31; ++e)
              d.sale_presenters.forEach((t) => {
                if (Boolean(R.NT.Get(t.localized_presenter_name, e))) {
                  const a = t.localized_presenter_name[e];
                  c.SetLocalization(ze + t.unique_id, e, a);
                }
              });
          (null ===
            (s =
              null === (r = d.sale_sub_menu) || void 0 === r
                ? void 0
                : r.menu_items) || void 0 === s
            ? void 0
            : s.length) > 0 &&
            d.sale_sub_menu.menu_items
              .filter((e) => {
                var t;
                return (
                  (null === (t = e.localized_sub_menu_name) || void 0 === t
                    ? void 0
                    : t.length) > 0
                );
              })
              .map((e) => {
                for (let t = 0; t < 31; ++t)
                  e.localized_sub_menu_name &&
                    Boolean(R.NT.Get(e.localized_sub_menu_name, t)) &&
                    c.SetLocalization(
                      at + e.unique_id,
                      t,
                      e.localized_sub_menu_name[t],
                    );
              }),
            e
              .GetSaleSections()
              .filter((e) => !Boolean(e.disable_localization))
              .forEach((t) => {
                var a, n, l, o, i, r, s, d, m, u, _, E, p, v, g, h, S, b;
                const w = e.GetSaleSectionIndexByID(t.unique_id);
                for (let C = 0; C < 31; ++C) {
                  if (
                    (e.BHasSaleSectionLabelLocalization(C, w) &&
                      c.SetLocalization(
                        me + t.unique_id,
                        C,
                        t.localized_label[C],
                      ),
                    e.BHasSaleSectionSubtitleLocalization(C, w) &&
                      c.SetLocalization(
                        ue + t.unique_id,
                        C,
                        t.localized_subtitle[C],
                      ),
                    e.BHasSaleSectionTextLocalizationForLang(C, w) &&
                      c.SetLocalization(
                        _e + t.unique_id,
                        C,
                        t.text_section_contents[C],
                      ),
                    e.BHasSaleSectionDescriptionBBCode(C, w) &&
                      c.SetLocalization(
                        fe + t.unique_id,
                        C,
                        t.localized_description[C],
                      ),
                    e.BHasSaleSectionInnerTitle(C, w) &&
                      c.SetLocalization(
                        ye + t.unique_id,
                        C,
                        t.localized_title[C],
                      ),
                    "tabs" === t.section_type && t.tabs)
                  )
                    for (let a of t.tabs)
                      e.BHasSaleSectionTabName(C, a) &&
                        c.SetLocalization(
                          pe + t.unique_id + "_" + a.unique_id,
                          C,
                          a.localized_label[C],
                        );
                  if (
                    (t.enable_faceted_browsing &&
                      (t.facets.forEach((a) => {
                        e.BHasSaleSectionFacetName(C, a) &&
                          c.SetLocalization(
                            ve + t.unique_id + "_" + a.unique_id,
                            C,
                            a.name[C],
                          );
                      }),
                      t.facets.forEach((a) => {
                        a.facetValues.forEach((n) => {
                          e.BHasSaleSectionFacetValueName(C, n) &&
                            c.SetLocalization(
                              ge +
                                t.unique_id +
                                "_" +
                                a.unique_id +
                                "_" +
                                n.unique_id,
                              C,
                              n.name[C],
                            ),
                            e.BHasSaleSectionFacetValueSubtitle(C, n) &&
                              c.SetLocalization(
                                he +
                                  t.unique_id +
                                  "_" +
                                  a.unique_id +
                                  "_" +
                                  n.unique_id,
                                C,
                                n.subtitle[C],
                              );
                        });
                      })),
                    "vo_internal" == t.section_type &&
                      "reservation_widget" ==
                        (null === (a = t.internal_section_data) || void 0 === a
                          ? void 0
                          : a.internal_type) &&
                      (null ===
                        (n = t.internal_section_data.reservation_options) ||
                      void 0 === n
                        ? void 0
                        : n.length) > 0 &&
                      t.internal_section_data.reservation_options.forEach(
                        (e) => {
                          e.localized_reservation_desc &&
                            Boolean(
                              R.NT.Get(e.localized_reservation_desc, C),
                            ) &&
                            c.SetLocalization(
                              Se + t.unique_id + "_" + e.unique_id,
                              C,
                              e.localized_reservation_desc[C],
                            ),
                            e.localized_out_of_stock_override &&
                              Boolean(
                                R.NT.Get(e.localized_out_of_stock_override, C),
                              ) &&
                              c.SetLocalization(
                                be + t.unique_id + "_" + e.unique_id,
                                C,
                                e.localized_out_of_stock_override[C],
                              ),
                            e.localized_delivery_override_desc &&
                              Boolean(
                                R.NT.Get(e.localized_delivery_override_desc, C),
                              ) &&
                              c.SetLocalization(
                                we + t.unique_id + "_" + e.unique_id,
                                C,
                                e.localized_delivery_override_desc[C],
                              );
                        },
                      ),
                    "vo_internal" == t.section_type &&
                      "while_supplies_last" ==
                        (null === (l = t.internal_section_data) || void 0 === l
                          ? void 0
                          : l.internal_type) &&
                      (null ===
                        (o =
                          t.internal_section_data.while_supplies_last_option) ||
                      void 0 === o
                        ? void 0
                        : o.length) > 0 &&
                      t.internal_section_data.while_supplies_last_option.forEach(
                        (e) => {
                          e.localized_supply_desc &&
                            Boolean(R.NT.Get(e.localized_supply_desc, C)) &&
                            c.SetLocalization(
                              Ce + t.unique_id + "_" + e.unique_id,
                              C,
                              e.localized_supply_desc[C],
                            );
                        },
                      ),
                    ("quiz" == t.section_type ||
                      "template_faq" == t.section_type) &&
                      (null ===
                        (r =
                          null === (i = t.quiz) || void 0 === i
                            ? void 0
                            : i.questions) || void 0 === r
                        ? void 0
                        : r.length) > 0 &&
                      (null === (s = t.quiz) ||
                        void 0 === s ||
                        s.questions.forEach((e) => {
                          e.localized_question &&
                            Boolean(R.NT.Get(e.localized_question, C)) &&
                            c.SetLocalization(
                              Te + t.unique_id + "_" + e.unique_id,
                              C,
                              e.localized_question[C],
                            ),
                            (null == e ? void 0 : e.answers) &&
                              e.answers.forEach((e) => {
                                e.localized_answer &&
                                  Boolean(R.NT.Get(e.localized_answer, C)) &&
                                  c.SetLocalization(
                                    Ie + t.unique_id + "_" + e.unique_id,
                                    C,
                                    e.localized_answer[C],
                                  );
                              });
                        })),
                    "template_techspec" == t.section_type &&
                      (null ===
                        (m =
                          null === (d = t.tech_specs) || void 0 === d
                            ? void 0
                            : d.tech_spec_block_list) || void 0 === m
                        ? void 0
                        : m.length) > 0 &&
                      (null === (u = t.tech_specs) ||
                        void 0 === u ||
                        u.tech_spec_block_list.forEach((e) => {
                          e.localized_block_title &&
                            Boolean(R.NT.Get(e.localized_block_title, C)) &&
                            c.SetLocalization(
                              $e + t.unique_id + "_" + e.unique_id,
                              C,
                              e.localized_block_title[C],
                            ),
                            (null == e ? void 0 : e.spec_list) &&
                              e.spec_list.forEach((e) => {
                                if (
                                  e.localized_spec_name &&
                                  Boolean(R.NT.Get(e.localized_spec_name, C))
                                ) {
                                  const a = $e + t.unique_id + et + e.unique_id;
                                  c.SetLocalization(
                                    a,
                                    C,
                                    e.localized_spec_name[C],
                                  );
                                }
                                if (
                                  e.localized_spec_description &&
                                  Boolean(
                                    R.NT.Get(e.localized_spec_description, C),
                                  )
                                ) {
                                  const a = $e + t.unique_id + tt + e.unique_id;
                                  c.SetLocalization(
                                    a,
                                    C,
                                    e.localized_spec_description[C].replace(
                                      /\n/g,
                                      "<br />",
                                    ),
                                  );
                                }
                              });
                        })),
                    "badge_progress" == t.section_type && t.badge_progress)
                  ) {
                    const e = t.badge_progress;
                    e.localized_name &&
                      Boolean(R.NT.Get(e.localized_name, C)) &&
                      c.SetLocalization(
                        Ge + t.unique_id,
                        C,
                        e.localized_name[C],
                      ),
                      e.localized_initial_description &&
                        Boolean(R.NT.Get(e.localized_initial_description, C)) &&
                        c.SetLocalization(
                          Ne + t.unique_id,
                          C,
                          e.localized_initial_description[C],
                        ),
                      e.localized_progress_description &&
                        Boolean(
                          R.NT.Get(e.localized_progress_description, C),
                        ) &&
                        c.SetLocalization(
                          Ae + t.unique_id,
                          C,
                          e.localized_progress_description[C],
                        ),
                      e.localized_maxtier_description &&
                        Boolean(R.NT.Get(e.localized_maxtier_description, C)) &&
                        c.SetLocalization(
                          Me + t.unique_id,
                          C,
                          e.localized_maxtier_description[C],
                        );
                  }
                  "quest" == t.section_type &&
                    (null ===
                      (E =
                        null === (_ = t.quest) || void 0 === _
                          ? void 0
                          : _.door_info) || void 0 === E
                      ? void 0
                      : E.length) > 0 &&
                    t.quest.door_info.forEach((e) => {
                      e.localized_open_door_description &&
                        Boolean(
                          R.NT.Get(e.localized_open_door_description, C),
                        ) &&
                        c.SetLocalization(
                          Be + t.unique_id + "_" + e.unique_id,
                          C,
                          e.localized_open_door_description[C],
                        ),
                        e.localized_closed_door_description &&
                          Boolean(
                            R.NT.Get(e.localized_closed_door_description, C),
                          ) &&
                          c.SetLocalization(
                            Le + t.unique_id + "_" + e.unique_id,
                            C,
                            e.localized_closed_door_description[C],
                          );
                    }),
                    "rewards" == t.section_type &&
                      (null ===
                        (v =
                          null === (p = t.rewards) || void 0 === p
                            ? void 0
                            : p.reward_items) || void 0 === v
                        ? void 0
                        : v.length) > 0 &&
                      t.rewards.reward_items.forEach((e) => {
                        e.localized_reward_description &&
                          Boolean(
                            R.NT.Get(e.localized_reward_description, C),
                          ) &&
                          c.SetLocalization(
                            He +
                              t.unique_id +
                              "_" +
                              e.virtual_item_reward_def_id,
                            C,
                            e.localized_reward_description[C],
                          );
                      }),
                    "claim_item" == t.section_type &&
                      (null ===
                        (h =
                          null === (g = t.claim_item_section_data) ||
                          void 0 === g
                            ? void 0
                            : g.localized_claim_button) || void 0 === h
                        ? void 0
                        : h.length) > 0 &&
                      t.claim_item_section_data.localized_claim_button &&
                      Boolean(
                        R.NT.Get(
                          t.claim_item_section_data.localized_claim_button,
                          C,
                        ),
                      ) &&
                      c.SetLocalization(
                        je + t.unique_id,
                        C,
                        t.claim_item_section_data.localized_claim_button[C],
                      ),
                    "discoveryqueue" == t.section_type &&
                      t.discovery_queue_localized_desc &&
                      Boolean(R.NT.Get(t.discovery_queue_localized_desc, C)) &&
                      c.SetLocalization(
                        ke + t.unique_id,
                        C,
                        t.discovery_queue_localized_desc[C],
                      ),
                    "social_share" == t.section_type &&
                      t.social_share.content_options.forEach((e) => {
                        const a = e.localized_option_fields;
                        a.localized_header &&
                          Boolean(R.NT.Get(a.localized_header, C)) &&
                          c.SetLocalization(
                            Re + t.unique_id + "_" + e.unique_id,
                            C,
                            a.localized_header[C],
                          ),
                          a.title &&
                            Boolean(R.NT.Get(a.title, C)) &&
                            c.SetLocalization(
                              Oe + t.unique_id + "_" + e.unique_id,
                              C,
                              a.title[C],
                            ),
                          a.description &&
                            Boolean(R.NT.Get(a.description, C)) &&
                            c.SetLocalization(
                              Pe + t.unique_id + "_" + e.unique_id,
                              C,
                              a.description[C],
                            ),
                          a.image &&
                            Boolean(R.NT.Get(a.image, C)) &&
                            c.SetLocalization(
                              xe + t.unique_id + "_" + e.unique_id,
                              C,
                              a.image[C],
                            ),
                          a.twitter_alt_text &&
                            Boolean(R.NT.Get(a.twitter_alt_text, C)) &&
                            c.SetLocalization(
                              Fe + t.unique_id + "_" + e.unique_id,
                              C,
                              a.twitter_alt_text[C],
                            );
                      }),
                    "media_layout" == t.section_type &&
                      t.media_layout.media_content.forEach((e, a) => {
                        const n = e.localized_media_desc;
                        n &&
                          Boolean(R.NT.Get(n, C)) &&
                          c.SetLocalization(
                            Ue + t.unique_id + "_" + a,
                            C,
                            n[C],
                          );
                      }),
                    "template_media_content" == t.section_type &&
                      (null ===
                        (b =
                          null === (S = t.media_container) || void 0 === S
                            ? void 0
                            : S.media_rows) ||
                        void 0 === b ||
                        b.forEach((e, a) => {
                          var n;
                          null === (n = null == e ? void 0 : e.media_columns) ||
                            void 0 === n ||
                            n.forEach((e) => {
                              st(c, C, t.unique_id + "_" + e.unique_id, e),
                                e.mobile_content_varient &&
                                  st(
                                    c,
                                    C,
                                    t.unique_id + "_" + e.unique_id + "_mobile",
                                    e.mobile_content_varient,
                                  ),
                                e.tablet_content_varient &&
                                  st(
                                    c,
                                    C,
                                    t.unique_id + "_" + e.unique_id + "_tablet",
                                    e.tablet_content_varient,
                                  );
                            });
                        })),
                    "template_media_overlay" == t.section_type &&
                      t.media_overlay &&
                      (st(c, C, t.unique_id + "_overlay", t.media_overlay),
                      t.media_overlay_mobile_content_varient &&
                        st(
                          c,
                          C,
                          t.unique_id + "_overlay_mobile",
                          t.media_overlay_mobile_content_varient,
                        ),
                      t.media_overlay_tablet_content_varient &&
                        st(
                          c,
                          C,
                          t.unique_id + "_overlay_tablet",
                          t.media_overlay_tablet_content_varient,
                        ));
                }
              });
        }
        return c;
      }
      function st(e, t, a, n) {
        var l;
        let o = n.localized_media_title;
        o && Boolean(R.NT.Get(o, t)) && e.SetLocalization(qe + a, t, o[t]),
          (o = n.localized_media_subtitle),
          o && Boolean(R.NT.Get(o, t)) && e.SetLocalization(Ve + a, t, o[t]),
          (o = n.localized_media_description),
          o && Boolean(R.NT.Get(o, t)) && e.SetLocalization(We + a, t, o[t]),
          (o = n.localized_alt_text),
          o && Boolean(R.NT.Get(o, t)) && e.SetLocalization(nt + a, t, o[t]),
          (o =
            null === (l = n.title_media) || void 0 === l
              ? void 0
              : l.localized_alt_text),
          o && Boolean(R.NT.Get(o, t)) && e.SetLocalization(lt + a, t, o[t]);
      }
      function ct(e, t, a) {
        let n = new Array();
        const l = t.GetSortedTokenList();
        return (
          (0, Z.h5)(() => {
            a.forEach((a) => {
              let o = !1;
              l.forEach((n) => {
                var l, i, r, s, c;
                const d = t.GetLocalization(n, a) || "";
                if (
                  (n === le &&
                    (d || e.BHasLanguageTitle(a)) &&
                    e.SetName(a, d) &&
                    (o = !0),
                  n === re &&
                    (d || e.BHasLanguageDescription(a)) &&
                    e.SetDescription(a, d) &&
                    (o = !0),
                  n === oe &&
                    (d || e.BHasLanguageSubTitle(a)) &&
                    e.SetSubTitle(a, d) &&
                    (o = !0),
                  n === ie &&
                    (d || e.BHasLanguageSummary(a)) &&
                    e.SetSummary(a, d) &&
                    (o = !0),
                  n === De)
                ) {
                  const t = e.GetEventModel().jsondata;
                  if (
                    d ||
                    (t.localized_broadcast_title &&
                      Boolean(R.NT.Get(t.localized_broadcast_title, a)))
                  ) {
                    R.NT.Get(t.localized_broadcast_title, a) !== d &&
                      ((t.localized_broadcast_title = R.NT.Set(
                        t.localized_broadcast_title || [],
                        a,
                        d,
                      )),
                      e.SetDirty(ne.IQ.jsondata_sales),
                      (o = !0));
                  }
                }
                if (n.startsWith(ot)) {
                  const t = e.GetEventModel().jsondata;
                  null === (l = null == t ? void 0 : t.user_polls) ||
                    void 0 === l ||
                    l.forEach((t) => {
                      var l;
                      if (n.startsWith(it))
                        null === (l = t.options) ||
                          void 0 === l ||
                          l.forEach((t) => {
                            if (
                              n == it + t.option_id &&
                              (d ||
                                (t.localized_option &&
                                  Boolean(R.NT.Get(t.localized_option, a))))
                            ) {
                              R.NT.Get(t.localized_option, a) !== d &&
                                ((t.localized_option = R.NT.Set(
                                  t.localized_option || [],
                                  a,
                                  d,
                                )),
                                e.SetDirty(ne.IQ.description),
                                (o = !0));
                            }
                          });
                      else if (
                        n == ot + t.poll_id &&
                        (d ||
                          (t.localized_poll_description &&
                            Boolean(R.NT.Get(t.localized_poll_description, a))))
                      ) {
                        R.NT.Get(t.localized_poll_description, a) !== d &&
                          ((t.localized_poll_description = R.NT.Set(
                            t.localized_poll_description || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.description),
                          (o = !0));
                      }
                    });
                }
                if (
                  n.startsWith(Xe) &&
                  e.GetEventModel().jsondata.meet_steam_schedules
                )
                  for (
                    let t = 0;
                    t < e.GetEventModel().jsondata.meet_steam_schedules.length;
                    ++t
                  ) {
                    const l =
                      e.GetEventModel().jsondata.meet_steam_schedules[t];
                    for (
                      let t = 0;
                      t <
                      (null === (i = null == l ? void 0 : l.session_breaks) ||
                      void 0 === i
                        ? void 0
                        : i.length);
                      ++t
                    ) {
                      const i = l.session_breaks[t];
                      if (n == Xe + l.schedule_id + "_" + i.break_id) {
                        if (
                          d ||
                          Boolean(R.NT.Get(i.localized_break_description, a))
                        ) {
                          R.NT.Get(i.localized_break_description, a) !== d &&
                            ((i.localized_break_description = R.NT.Set(
                              i.localized_break_description || [],
                              a,
                              d,
                            )),
                            e.SetDirty(ne.IQ.description),
                            (o = !0));
                        }
                        break;
                      }
                    }
                  }
                if (
                  n.startsWith(Qe) &&
                  e.GetEventModel().jsondata.meet_steam_groups
                )
                  for (
                    let t = 0;
                    t < e.GetEventModel().jsondata.meet_steam_groups.length;
                    ++t
                  ) {
                    const l = e.GetEventModel().jsondata.meet_steam_groups[t];
                    if (n == Ye + l.group_id) {
                      if (
                        d ||
                        Boolean(R.NT.Get(l.localized_session_title, a))
                      ) {
                        R.NT.Get(l.localized_session_title, a) !== d &&
                          ((l.localized_session_title = R.NT.Set(
                            l.localized_session_title || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.description),
                          (o = !0));
                      }
                      break;
                    }
                    if (n == Je + l.group_id) {
                      if (
                        d ||
                        Boolean(R.NT.Get(l.localized_session_description, a))
                      ) {
                        R.NT.Get(l.localized_session_description, a) !== d &&
                          ((l.localized_session_description = R.NT.Set(
                            l.localized_session_description || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.description),
                          (o = !0));
                      }
                      break;
                    }
                    if (n == Ke + l.group_id) {
                      if (d || Boolean(R.NT.Get(l.localized_sesssion_faq, a))) {
                        R.NT.Get(l.localized_sesssion_faq, a) !== d &&
                          ((l.localized_sesssion_faq = R.NT.Set(
                            l.localized_sesssion_faq || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.description),
                          (o = !0));
                      }
                      break;
                    }
                    if (n == Ze + l.group_id) {
                      if (
                        d ||
                        Boolean(R.NT.Get(l.localized_intended_audience, a))
                      ) {
                        R.NT.Get(l.localized_intended_audience, a) !== d &&
                          ((l.localized_intended_audience = R.NT.Set(
                            l.localized_intended_audience || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.description),
                          (o = !0));
                      }
                      break;
                    }
                  }
                if (e.BHasEmailEnabled()) {
                  let t = e.GetEmailSettings();
                  if (P.UF.IS_VALVE_GROUP && n === Ee) {
                    let t = new K.pC(e);
                    (d || t.BHasLocalizedSubject(a)) &&
                      t.SetLocalizedSubject(a, d) &&
                      (o = !0);
                  }
                  t.sections.forEach((t, l) => {
                    let i = new K.e$(t, e);
                    i.BHasHeadline() &&
                      n === se + l &&
                      (d || i.BHasHeadlineInLanguage(a)) &&
                      i.SetHeadline(d, a) &&
                      (o = !0),
                      i.BHasBody() &&
                        n === ce + l &&
                        (d || i.BHasBodyInLanguage(a)) &&
                        i.SetBody(d, a) &&
                        (o = !0);
                  });
                }
                if (e.BHasSaleEnabled()) {
                  const l = e.GetEventModel().jsondata;
                  (null === (r = null == l ? void 0 : l.sale_presenters) ||
                  void 0 === r
                    ? void 0
                    : r.length) &&
                    l.sale_presenters.forEach((l) => {
                      if (n === ze + l.unique_id) {
                        (d ||
                          Boolean(R.NT.Get(l.localized_presenter_name, a))) &&
                          R.NT.Get(l.localized_presenter_name, a) != d &&
                          ((l.localized_presenter_name = R.NT.Set(
                            l.localized_presenter_name || [],
                            a,
                            d,
                          )),
                          e.SetDirty(ne.IQ.jsondata_sales),
                          (o = !0));
                        const n = l.localized_presenter_name[a];
                        t.SetLocalization(ze + l.unique_id, a, n);
                      }
                    }),
                    (null ===
                      (c =
                        null === (s = l.sale_sub_menu) || void 0 === s
                          ? void 0
                          : s.menu_items) || void 0 === c
                      ? void 0
                      : c.length) > 0 &&
                      l.sale_sub_menu.menu_items
                        .filter((e) => {
                          var t;
                          return (
                            (null === (t = e.localized_sub_menu_name) ||
                            void 0 === t
                              ? void 0
                              : t.length) > 0
                          );
                        })
                        .map((l) => {
                          if (n === at + l.unique_id) {
                            (d ||
                              Boolean(
                                R.NT.Get(l.localized_sub_menu_name, a),
                              )) &&
                              R.NT.Get(l.localized_sub_menu_name, a) != d &&
                              ((l.localized_sub_menu_name = R.NT.Set(
                                l.localized_sub_menu_name || [],
                                a,
                                d,
                              )),
                              e.SetDirty(ne.IQ.jsondata_sales),
                              (o = !0));
                            const n = l.localized_sub_menu_name[a];
                            t.SetLocalization(at + l.unique_id, a, n);
                          }
                        }),
                    e
                      .GetSaleSections()
                      .filter((e) => !e.disable_localization)
                      .forEach((t) => {
                        var l,
                          i,
                          r,
                          s,
                          c,
                          m,
                          u,
                          _,
                          E,
                          p,
                          v,
                          g,
                          h,
                          S,
                          b,
                          w,
                          C,
                          f,
                          y;
                        const D = e.GetSaleSectionIndexByID(t.unique_id);
                        if (
                          ((n !== de + D && n !== me + t.unique_id) ||
                            ((d || e.BHasSaleSectionLabelLocalization(a, D)) &&
                              e.SetSaleSectionLabelLocalization(a, D, d) &&
                              (o = !0)),
                          n === ue + t.unique_id &&
                            (d ||
                              e.BHasSaleSectionSubtitleLocalization(a, D)) &&
                            e.SetSaleSectionSubtitleLocalization(a, D, d) &&
                            (o = !0),
                          n === fe + t.unique_id &&
                            (d || e.BHasSaleSectionDescriptionBBCode(a, D)) &&
                            e.SetSaleSectionDescriptionBBCode(a, D, d) &&
                            (o = !0),
                          n === ye + t.unique_id &&
                            (d || e.BHasSaleSectionInnerTitle(a, D)) &&
                            e.SetSaleSectionInnerTitle(a, D, d) &&
                            (o = !0),
                          "tabs" === t.section_type && t.tabs)
                        )
                          for (const l of t.tabs)
                            n === pe + t.unique_id + "_" + l.unique_id &&
                              (d || e.BHasSaleSectionTabName(a, l)) &&
                              e.SetSaleSectionTabName(a, l, d) &&
                              (o = !0);
                        if (
                          (e.BHasSaleSectionTextLocalization(D) &&
                            n === _e + t.unique_id &&
                            (d ||
                              e.BHasSaleSectionTextLocalizationForLang(a, D)) &&
                            e.SetSaleSectionTextLocalization(a, D, d) &&
                            (o = !0),
                          t.enable_faceted_browsing &&
                            t.facets.forEach((l) => {
                              n === ve + t.unique_id + "_" + l.unique_id &&
                                (d || e.BHasSaleSectionFacetName(a, l)) &&
                                e.SetSaleSectionFacetName(a, l, d) &&
                                (o = !0),
                                l.facetValues.forEach((i) => {
                                  n ===
                                    ge +
                                      t.unique_id +
                                      "_" +
                                      l.unique_id +
                                      "_" +
                                      i.unique_id &&
                                    (d ||
                                      e.BHasSaleSectionFacetValueName(a, i)) &&
                                    e.SetSaleSectionFacetValueName(a, i, d) &&
                                    (o = !0),
                                    n ===
                                      he +
                                        t.unique_id +
                                        "_" +
                                        l.unique_id +
                                        "_" +
                                        i.unique_id &&
                                      (d ||
                                        e.BHasSaleSectionFacetValueSubtitle(
                                          a,
                                          i,
                                        )) &&
                                      e.SetSaleSectionFacetValueSubtitle(
                                        a,
                                        i,
                                        d,
                                      ) &&
                                      (o = !0);
                                });
                            }),
                          "vo_internal" == t.section_type &&
                            "reservation_widget" ==
                              (null === (l = t.internal_section_data) ||
                              void 0 === l
                                ? void 0
                                : l.internal_type) &&
                            (null ===
                              (i =
                                t.internal_section_data.reservation_options) ||
                            void 0 === i
                              ? void 0
                              : i.length) > 0 &&
                            t.internal_section_data.reservation_options.forEach(
                              (l) => {
                                if (
                                  n === Se + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (l.localized_reservation_desc &&
                                      Boolean(
                                        R.NT.Get(
                                          l.localized_reservation_desc,
                                          a,
                                        ),
                                      )))
                                ) {
                                  R.NT.Get(l.localized_reservation_desc, a) !==
                                    d &&
                                    ((l.localized_reservation_desc = R.NT.Set(
                                      l.localized_reservation_desc || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === be + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (l.localized_out_of_stock_override &&
                                      Boolean(
                                        R.NT.Get(
                                          l.localized_out_of_stock_override,
                                          a,
                                        ),
                                      )))
                                ) {
                                  R.NT.Get(
                                    l.localized_out_of_stock_override,
                                    a,
                                  ) !== d &&
                                    ((l.localized_out_of_stock_override =
                                      R.NT.Set(
                                        l.localized_out_of_stock_override || [],
                                        a,
                                        d,
                                      )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === we + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (l.localized_delivery_override_desc &&
                                      Boolean(
                                        R.NT.Get(
                                          l.localized_delivery_override_desc,
                                          a,
                                        ),
                                      )))
                                ) {
                                  R.NT.Get(
                                    l.localized_delivery_override_desc,
                                    a,
                                  ) !== d &&
                                    ((l.localized_delivery_override_desc =
                                      R.NT.Set(
                                        l.localized_delivery_override_desc ||
                                          [],
                                        a,
                                        d,
                                      )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              },
                            ),
                          "vo_internal" == t.section_type &&
                            "while_supplies_last" ==
                              (null === (r = t.internal_section_data) ||
                              void 0 === r
                                ? void 0
                                : r.internal_type) &&
                            (null ===
                              (s =
                                t.internal_section_data
                                  .while_supplies_last_option) || void 0 === s
                              ? void 0
                              : s.length) > 0 &&
                            t.internal_section_data.while_supplies_last_option.forEach(
                              (l) => {
                                if (
                                  n === Ce + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (l.localized_supply_desc &&
                                      Boolean(
                                        R.NT.Get(l.localized_supply_desc, a),
                                      )))
                                ) {
                                  R.NT.Get(l.localized_supply_desc, a) !== d &&
                                    ((l.localized_supply_desc = R.NT.Set(
                                      l.localized_supply_desc || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              },
                            ),
                          (null ===
                            (m =
                              null === (c = t.quiz) || void 0 === c
                                ? void 0
                                : c.questions) || void 0 === m
                            ? void 0
                            : m.length) > 0 &&
                            (null === (u = t.quiz) ||
                              void 0 === u ||
                              u.questions.forEach((l) => {
                                var i;
                                if (
                                  n ===
                                  Te + t.unique_id + "_" + l.unique_id
                                ) {
                                  if (
                                    d ||
                                    (l.localized_question &&
                                      Boolean(
                                        R.NT.Get(l.localized_question, a),
                                      ))
                                  ) {
                                    R.NT.Get(l.localized_question, a) !== d &&
                                      ((l.localized_question = R.NT.Set(
                                        l.localized_question || [],
                                        a,
                                        d,
                                      )),
                                      e.SetDirty(ne.IQ.jsondata_sales),
                                      (o = !0));
                                  }
                                } else
                                  (null === (i = l.answers) || void 0 === i
                                    ? void 0
                                    : i.length) > 0 &&
                                    l.answers.forEach((l) => {
                                      if (
                                        n ===
                                          Ie +
                                            t.unique_id +
                                            "_" +
                                            l.unique_id &&
                                        (d ||
                                          (l.localized_answer &&
                                            Boolean(
                                              R.NT.Get(l.localized_answer, a),
                                            )))
                                      ) {
                                        R.NT.Get(l.localized_answer, a) !== d &&
                                          ((l.localized_answer = R.NT.Set(
                                            l.localized_answer || [],
                                            a,
                                            d,
                                          )),
                                          e.SetDirty(ne.IQ.jsondata_sales),
                                          (o = !0));
                                      }
                                    });
                              })),
                          (null ===
                            (E =
                              null === (_ = t.tech_specs) || void 0 === _
                                ? void 0
                                : _.tech_spec_block_list) || void 0 === E
                            ? void 0
                            : E.length) > 0 &&
                            t.tech_specs.tech_spec_block_list.forEach((l) => {
                              var i;
                              if (n === $e + t.unique_id + "_" + l.unique_id) {
                                if (
                                  d ||
                                  (l.localized_block_title &&
                                    Boolean(
                                      R.NT.Get(l.localized_block_title, a),
                                    ))
                                ) {
                                  R.NT.Get(l.localized_block_title, a) !== d &&
                                    ((l.localized_block_title = R.NT.Set(
                                      l.localized_block_title || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              } else
                                (null === (i = l.spec_list) || void 0 === i
                                  ? void 0
                                  : i.length) > 0 &&
                                  l.spec_list.forEach((l) => {
                                    if (
                                      n ===
                                      $e + t.unique_id + et + l.unique_id
                                    ) {
                                      if (
                                        d ||
                                        (l.localized_spec_name &&
                                          Boolean(
                                            R.NT.Get(l.localized_spec_name, a),
                                          ))
                                      ) {
                                        R.NT.Get(l.localized_spec_name, a) !==
                                          d &&
                                          ((l.localized_spec_name = R.NT.Set(
                                            l.localized_spec_name || [],
                                            a,
                                            d,
                                          )),
                                          e.SetDirty(ne.IQ.jsondata_sales),
                                          (o = !0));
                                      }
                                    } else if (
                                      n ===
                                        $e + t.unique_id + tt + l.unique_id &&
                                      (d ||
                                        (l.localized_spec_description &&
                                          Boolean(
                                            R.NT.Get(
                                              l.localized_spec_description,
                                              a,
                                            ),
                                          )))
                                    ) {
                                      R.NT.Get(
                                        l.localized_spec_description,
                                        a,
                                      ) !== d &&
                                        ((l.localized_spec_description =
                                          R.NT.Set(
                                            l.localized_spec_description || [],
                                            a,
                                            d.replace(/<br\s*\/?>/g, "\n"),
                                          )),
                                        e.SetDirty(ne.IQ.jsondata_sales),
                                        (o = !0));
                                    }
                                  });
                            }),
                          (null ===
                            (v =
                              null === (p = t.quest) || void 0 === p
                                ? void 0
                                : p.door_info) || void 0 === v
                            ? void 0
                            : v.length) > 0 &&
                            (null === (g = t.quest) ||
                              void 0 === g ||
                              g.door_info.forEach((l) => {
                                if (
                                  n ===
                                  Be + t.unique_id + "_" + l.unique_id
                                ) {
                                  if (
                                    d ||
                                    (l.localized_closed_door_description &&
                                      Boolean(
                                        R.NT.Get(
                                          l.localized_closed_door_description,
                                          a,
                                        ),
                                      ))
                                  ) {
                                    R.NT.Get(
                                      l.localized_closed_door_description,
                                      a,
                                    ) !== d &&
                                      ((l.localized_closed_door_description =
                                        R.NT.Set(
                                          l.localized_closed_door_description ||
                                            [],
                                          a,
                                          d,
                                        )),
                                      e.SetDirty(ne.IQ.jsondata_sales),
                                      (o = !0));
                                  }
                                } else if (
                                  n === Le + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (l.localized_open_door_description &&
                                      Boolean(
                                        R.NT.Get(
                                          l.localized_open_door_description,
                                          a,
                                        ),
                                      )))
                                ) {
                                  R.NT.Get(
                                    l.localized_open_door_description,
                                    a,
                                  ) !== d &&
                                    ((l.localized_open_door_description =
                                      R.NT.Set(
                                        l.localized_open_door_description || [],
                                        a,
                                        d,
                                      )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              })),
                          (null ===
                            (S =
                              null === (h = t.rewards) || void 0 === h
                                ? void 0
                                : h.reward_items) || void 0 === S
                            ? void 0
                            : S.length) > 0 &&
                            t.rewards.reward_items.forEach((l) => {
                              if (
                                n ===
                                  He +
                                    t.unique_id +
                                    "_" +
                                    l.virtual_item_reward_def_id &&
                                (d ||
                                  (l.localized_reward_description &&
                                    Boolean(
                                      R.NT.Get(
                                        l.localized_reward_description,
                                        a,
                                      ),
                                    )))
                              ) {
                                R.NT.Get(l.localized_reward_description, a) !==
                                  d &&
                                  ((l.localized_reward_description = R.NT.Set(
                                    l.localized_reward_description || [],
                                    a,
                                    d,
                                  )),
                                  e.SetDirty(ne.IQ.jsondata_sales),
                                  (o = !0));
                              }
                            }),
                          (null ===
                            (w =
                              null === (b = t.claim_item_section_data) ||
                              void 0 === b
                                ? void 0
                                : b.localized_claim_button) || void 0 === w
                            ? void 0
                            : w.length) > 0 &&
                            n === je + t.unique_id &&
                            (d ||
                              (t.claim_item_section_data
                                .localized_claim_button &&
                                Boolean(
                                  R.NT.Get(
                                    t.claim_item_section_data
                                      .localized_claim_button,
                                    a,
                                  ),
                                ))))
                        ) {
                          R.NT.Get(
                            t.claim_item_section_data.localized_claim_button,
                            a,
                          ) !== d &&
                            ((t.claim_item_section_data.localized_claim_button =
                              R.NT.Set(
                                t.claim_item_section_data
                                  .localized_claim_button || [],
                                a,
                                d,
                              )),
                            e.SetDirty(ne.IQ.jsondata_sales),
                            (o = !0));
                        }
                        if (
                          "badge_progress" == t.section_type &&
                          t.badge_progress
                        ) {
                          const l = t.badge_progress;
                          if (
                            n === Ge + t.unique_id &&
                            (d ||
                              (l.localized_name &&
                                Boolean(R.NT.Get(l.localized_name, a))))
                          ) {
                            R.NT.Get(l.localized_name, a) !== d &&
                              ((l.localized_name = R.NT.Set(
                                l.localized_name || [],
                                a,
                                d,
                              )),
                              e.SetDirty(ne.IQ.jsondata_sales),
                              (o = !0));
                          }
                          if (
                            n === Ne + t.unique_id &&
                            (d ||
                              (l.localized_initial_description &&
                                Boolean(
                                  R.NT.Get(l.localized_initial_description, a),
                                )))
                          ) {
                            R.NT.Get(l.localized_initial_description, a) !==
                              d &&
                              ((l.localized_initial_description = R.NT.Set(
                                l.localized_initial_description || [],
                                a,
                                d,
                              )),
                              e.SetDirty(ne.IQ.jsondata_sales),
                              (o = !0));
                          }
                          if (
                            n === Ae + t.unique_id &&
                            (d ||
                              (l.localized_progress_description &&
                                Boolean(
                                  R.NT.Get(l.localized_progress_description, a),
                                )))
                          ) {
                            R.NT.Get(l.localized_progress_description, a) !==
                              d &&
                              ((l.localized_progress_description = R.NT.Set(
                                l.localized_progress_description || [],
                                a,
                                d,
                              )),
                              e.SetDirty(ne.IQ.jsondata_sales),
                              (o = !0));
                          }
                          if (
                            n === Me + t.unique_id &&
                            (d ||
                              (l.localized_maxtier_description &&
                                Boolean(
                                  R.NT.Get(l.localized_maxtier_description, a),
                                )))
                          ) {
                            R.NT.Get(l.localized_maxtier_description, a) !==
                              d &&
                              ((l.localized_maxtier_description = R.NT.Set(
                                l.localized_maxtier_description || [],
                                a,
                                d,
                              )),
                              e.SetDirty(ne.IQ.jsondata_sales),
                              (o = !0));
                          }
                        }
                        if (
                          "discoveryqueue" == t.section_type &&
                          n === ke + t.unique_id &&
                          (d ||
                            (t.discovery_queue_localized_desc &&
                              Boolean(
                                R.NT.Get(t.discovery_queue_localized_desc, a),
                              )))
                        ) {
                          R.NT.Get(t.discovery_queue_localized_desc, a) !== d &&
                            ((t.discovery_queue_localized_desc = R.NT.Set(
                              t.discovery_queue_localized_desc || [],
                              a,
                              d,
                            )),
                            e.SetDirty(ne.IQ.jsondata_sales),
                            (o = !0));
                        }
                        if (
                          ("social_share" == t.section_type &&
                            (null === (C = t.social_share.content_options) ||
                              void 0 === C ||
                              C.forEach((l) => {
                                const i = l.localized_option_fields;
                                if (
                                  n === Re + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (i.localized_header &&
                                      Boolean(R.NT.Get(i.localized_header, a))))
                                ) {
                                  R.NT.Get(i.localized_header, a) !== d &&
                                    ((i.localized_header = R.NT.Set(
                                      i.localized_header || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === Oe + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (i.title && Boolean(R.NT.Get(i.title, a))))
                                ) {
                                  R.NT.Get(i.title, a) !== d &&
                                    ((i.title = R.NT.Set(i.title || [], a, d)),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === Pe + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (i.description &&
                                      Boolean(R.NT.Get(i.description, a))))
                                ) {
                                  R.NT.Get(i.description, a) !== d &&
                                    ((i.description = R.NT.Set(
                                      i.description || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === xe + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (i.image && Boolean(R.NT.Get(i.image, a))))
                                ) {
                                  R.NT.Get(i.image, a) !== d &&
                                    ((i.image = R.NT.Set(i.image || [], a, d)),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                                if (
                                  n === Fe + t.unique_id + "_" + l.unique_id &&
                                  (d ||
                                    (i.twitter_alt_text &&
                                      Boolean(R.NT.Get(i.twitter_alt_text, a))))
                                ) {
                                  R.NT.Get(i.twitter_alt_text, a) !== d &&
                                    ((i.twitter_alt_text = R.NT.Set(
                                      i.twitter_alt_text || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              })),
                          "media_layout" == t.section_type &&
                            (null === (f = t.media_layout.media_content) ||
                              void 0 === f ||
                              f.forEach((l, i) => {
                                const r = l.localized_media_desc;
                                if (
                                  n === Ue + t.unique_id + "_" + i &&
                                  (d || (r && Boolean(R.NT.Get(r, a))))
                                ) {
                                  R.NT.Get(r, a) !== d &&
                                    ((l.localized_media_desc = R.NT.Set(
                                      r || [],
                                      a,
                                      d,
                                    )),
                                    e.SetDirty(ne.IQ.jsondata_sales),
                                    (o = !0));
                                }
                              })),
                          "template_media_content" == t.section_type &&
                            (null === (y = t.media_container.media_rows) ||
                              void 0 === y ||
                              y.forEach((l) => {
                                null == l ||
                                  l.media_columns.forEach((l) => {
                                    let i = dt(
                                      e,
                                      n,
                                      d,
                                      t.unique_id + "_" + l.unique_id,
                                      a,
                                      l,
                                    );
                                    o || (o = i),
                                      l.mobile_content_varient &&
                                        ((i = dt(
                                          e,
                                          n,
                                          d,
                                          t.unique_id +
                                            "_" +
                                            l.unique_id +
                                            "_mobile",
                                          a,
                                          l.mobile_content_varient,
                                        )),
                                        o || (o = i)),
                                      l.tablet_content_varient &&
                                        ((i = dt(
                                          e,
                                          n,
                                          d,
                                          t.unique_id +
                                            "_" +
                                            l.unique_id +
                                            "_tablet",
                                          a,
                                          l.tablet_content_varient,
                                        )),
                                        o || (o = i));
                                  });
                              })),
                          "template_media_overlay" == t.section_type &&
                            t.media_overlay)
                        ) {
                          let l = dt(
                            e,
                            n,
                            d,
                            t.unique_id + "_overlay",
                            a,
                            t.media_overlay,
                          );
                          if (
                            (o || (o = l),
                            t.media_overlay_mobile_content_varient)
                          ) {
                            let l = dt(
                              e,
                              n,
                              d,
                              t.unique_id + "_overlay_mobile",
                              a,
                              t.media_overlay_mobile_content_varient,
                            );
                            o || (o = l);
                          }
                          if (t.media_overlay_tablet_content_varient) {
                            let l = dt(
                              e,
                              n,
                              d,
                              t.unique_id + "_overlay_tablet",
                              a,
                              t.media_overlay_tablet_content_varient,
                            );
                            o || (o = l);
                          }
                        }
                      });
                }
              }),
                o && n.push(a);
            });
          }),
          n
        );
      }
      function dt(e, t, a, n, l, o) {
        let i = !1;
        if (t === qe + n) {
          const t = o.localized_media_title;
          if (a || (t && Boolean(R.NT.Get(t, l)))) {
            R.NT.Get(t, l) !== a &&
              ((o.localized_media_title = R.NT.Set(t || [], l, a)),
              e.SetDirty(ne.IQ.jsondata_sales),
              (i = !0));
          }
        }
        if (t === Ve + n) {
          const t = o.localized_media_subtitle;
          if (a || (t && Boolean(R.NT.Get(t, l)))) {
            R.NT.Get(t, l) !== a &&
              ((o.localized_media_subtitle = R.NT.Set(t || [], l, a)),
              e.SetDirty(ne.IQ.jsondata_sales),
              (i = !0));
          }
        }
        if (t === We + n) {
          const t = o.localized_media_description;
          if (a || (t && Boolean(R.NT.Get(t, l)))) {
            R.NT.Get(t, l) !== a &&
              ((o.localized_media_description = R.NT.Set(t || [], l, a)),
              e.SetDirty(ne.IQ.jsondata_sales),
              (i = !0));
          }
        }
        if (t === nt + n) {
          const t = o.localized_alt_text;
          if (a || (t && Boolean(R.NT.Get(t, l)))) {
            R.NT.Get(t, l) !== a &&
              ((o.localized_alt_text = R.NT.Set(t || [], l, a)),
              e.SetDirty(ne.IQ.jsondata_sales),
              (i = !0));
          }
        }
        if (t === lt + n) {
          const t = o.title_media.localized_alt_text;
          if (a || (t && Boolean(R.NT.Get(t, l)))) {
            R.NT.Get(t, l) !== a &&
              ((o.title_media.localized_alt_text = R.NT.Set(t || [], l, a)),
              e.SetDirty(ne.IQ.jsondata_sales),
              (i = !0));
          }
        }
        return i;
      }
      function mt(e) {
        return d.createElement(
          "div",
          { className: (0, L.A)(b.FlexRowContainer) },
          d.createElement(ut, { editModel: e.editModel }),
        );
      }
      const ut = (e) =>
        d.createElement(
          d.Fragment,
          null,
          d.createElement(
            te.he,
            {
              className: (0, L.A)(b.EditPreviewButton),
              toolTipContent: (0, R.we)("#EventEditor_Loc_Export_Desc0"),
            },
            d.createElement(
              "a",
              {
                onClick: (t) => {
                  t.preventDefault(),
                    (0, D.pg)(
                      d.createElement(_t, { editModel: e.editModel }),
                      (0, k.uX)(t),
                    );
                },
              },
              (0, R.we)("#EventEditor_Loc_Export_Short"),
            ),
          ),
          d.createElement(ee.t3, {
            strToolTip: (0, R.we)("#EventEditor_Loc_Import_ttip"),
            strLabel: (0, R.we)("#EventEditor_Loc_Import_Short"),
            fnOnImportLocData: (t, a) => ct(e.editModel, t, a),
          }),
        );
      let _t = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bShowCSV: !0,
              bExportEventBody: !0,
              bExportEmail: this.props.editModel.BHasEmailEnabled(),
              bExportSale: this.props.editModel.BHasSaleEnabled(),
            });
        }
        GetLocalizationFilePrefix() {
          const { editModel: e } = this.props;
          let t = e.GetName(0);
          return (t && "" != t.trim()) || (t = "event"), t;
        }
        GetLocalizationModel() {
          return rt(
            this.props.editModel,
            this.state.bExportEventBody,
            this.state.bExportEmail,
            this.state.bExportSale,
          );
        }
        OnExportTypeChange(e) {
          this.setState({ bShowCSV: "csv" == e });
        }
        render() {
          const { closeModal: e, editModel: t } = this.props,
            a = $.KN.Get().GetPartnerEventPermissions(t.GetClanSteamID());
          return d.createElement(
            y.eV,
            {
              title: (0, R.we)("#EventEditor_Loc_Export"),
              onCancel: e,
              closeModal: e,
            },
            d.createElement(
              h.nB,
              null,
              d.createElement(
                h.a3,
                null,
                d.createElement(
                  "div",
                  { className: (0, L.A)(b.FlexColumnContainer) },
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#EventEditor_Loc_Export_Desc0"),
                  ),
                  d.createElement(
                    "div",
                    { className: (0, L.A)(b.FlexRowContainer, b.RadioOption) },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportCSVOption",
                      value: "csv",
                      checked: this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("csv"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportCSVOption" },
                      d.createElement(
                        "span",
                        null,
                        (0, R.we)("#EventEditor_Loc_Export_CSV"),
                      ),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: (0, L.A)(b.FlexRowContainer, b.RadioOption) },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportXMLOption",
                      value: "xml",
                      checked: !this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("xml"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportXMLOption" },
                      d.createElement(
                        "span",
                        null,
                        (0, R.we)("#EventEditor_Loc_Export_XML"),
                      ),
                    ),
                  ),
                  Boolean(
                    a.support_user &&
                      (t.BHasSaleEnabled() || t.BHasEmailEnabled),
                  ) &&
                    d.createElement(
                      "div",
                      { className: b.ValveOnlyBackground },
                      d.createElement(
                        "p",
                        null,
                        "(VO) Identify which sections to export",
                      ),
                      d.createElement(h.Yh, {
                        label: "Export Event Body",
                        onChange: (e) => this.setState({ bExportEventBody: e }),
                        checked: this.state.bExportEventBody,
                      }),
                      d.createElement(h.Yh, {
                        disabled: !t.BHasEmailEnabled(),
                        label: "Export Email",
                        onChange: (e) => this.setState({ bExportEmail: e }),
                        checked: this.state.bExportEmail,
                      }),
                      d.createElement(h.Yh, {
                        disabled: !t.BHasSaleEnabled(),
                        label: "Export Sales",
                        onChange: (e) => this.setState({ bExportSale: e }),
                        checked: this.state.bExportSale,
                      }),
                    ),
                  this.state.bShowCSV
                    ? d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          (0, R.we)("#EventEditor_Loc_Export_Desc"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, R.we)("#EventEditor_Loc_Export_Desc2"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, R.we)("#EventEditor_Loc_Export_Desc3"),
                        ),
                      )
                    : d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          (0, R.we)("#EventEditor_Loc_Export_XMLDesc"),
                        ),
                        d.createElement(
                          "p",
                          null,
                          (0, R.we)("#EventEditor_Loc_Export_XMLDesc2"),
                        ),
                      ),
                ),
              ),
              d.createElement(
                h.wi,
                null,
                d.createElement(ee.Yg, {
                  fnGetLocData: this.GetLocalizationModel,
                  bShowCSV: this.state.bShowCSV,
                  bShowXML: !this.state.bShowCSV,
                  strFileNamePrefix: this.GetLocalizationFilePrefix(),
                  lang: this.props.editModel.GetCurEditLanguage(),
                  closeModal: this.props.closeModal,
                }),
                d.createElement(
                  h.$n,
                  { onClick: e },
                  (0, R.we)("#Button_Cancel"),
                ),
              ),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], _t.prototype, "GetLocalizationModel", null),
        (0, J.Cg)([O.oI], _t.prototype, "OnExportTypeChange", null),
        (_t = (0, J.Cg)([c.PA], _t));
      var Et = a(86649);
      function pt(e) {
        const { eventModel: t, fnOnGotoPage: a } = e;
        return t.bOldAnnouncement
          ? null
          : d.createElement(
              "div",
              {
                className: (0, L.A)(Et.ManageButton, Et.Clone),
                onClick: (e) =>
                  (function (e, t, a) {
                    t.stopPropagation(),
                      l.mh
                        .LoadEditorModel(e.clanSteamID, e.GID)
                        .then((e) => {
                          const t = rt(e, !0, !0, !0),
                            n = t.GetLanguagesWithTokens();
                          n.length > 1
                            ? (n.sort((e, t) =>
                                (0, R.we)(
                                  "#Language_" + (0, i.Lg)(e),
                                ).localeCompare(
                                  (0, R.we)("#Language_" + (0, i.Lg)(t)),
                                ),
                              ),
                              (0, D.pg)(
                                d.createElement(gt, {
                                  langs: n,
                                  locData: t,
                                  fnOnGotoPage: a,
                                }),
                                window,
                              ))
                            : vt(a, t);
                        })
                        .catch((e) => {
                          let t = (0, M.H)(e);
                          (0, D.pg)(
                            d.createElement(y.KG, {
                              strTitle: (0, R.we)("#EventEditor_CloneError"),
                              bAlertDialog: !0,
                              bDestructiveWarning: !0,
                              strDescription: (0, R.we)(
                                "#EventEditor_CloneError_Desc",
                                t.strErrorMsg,
                              ),
                            }),
                            window,
                            { strTitle: (0, R.we)("#EventEditor_CloneError") },
                          );
                        });
                  })(t, e, a),
              },
              (0, R.we)("#Button_Clone"),
            );
      }
      function vt(e, t, a) {
        const n = l.mh.CreateClone();
        if (
          ((n.GetEventModel().jsondata.sale_header_offset = 530),
          a && a.length > 0)
        ) {
          const e = t.GetLanguagesWithTokens();
          t.ClearLanguagesTokens(a),
            (n.GetEventModel().jsondata.bSaleEnabled = !0),
            ct(n, t, e),
            (n.GetEventModel().jsondata.bSaleEnabled = !1);
        }
        e(null, "clone");
      }
      function gt(e) {
        const { langs: t, locData: a, closeModal: n, fnOnGotoPage: l } = e,
          o = (0, i.sf)(P.TS.LANGUAGE),
          [r, s] = d.useState(new Set(t.filter((e) => e != o)));
        return d.createElement(
          y.o0,
          {
            strTitle: (0, R.we)("#Button_Clone"),
            onOK: () => vt(l, a, Array.from(r)),
            strDescription: (0, R.we)("#EventEditor_Clone_MultiLanguages"),
            closeModal: n,
          },
          d.createElement(
            "div",
            { className: Et.CloneLangAlert },
            (0, R.we)("#EventEditor_Clone_Alert"),
          ),
          d.createElement(
            "div",
            { className: Et.CloneLangListCtn },
            t.map((e) =>
              d.createElement(h.Yh, {
                key: e,
                className: Et.CloneCheckBox,
                onChange: (t) => {
                  const a = new Set(r);
                  t ? a.delete(e) : a.add(e), s(a);
                },
                label: (0, R.we)("#Language_" + (0, i.Lg)(e)),
                checked: !r.has(e),
              }),
            ),
          ),
          d.createElement(
            h.$n,
            { onClick: () => s(new Set()) },
            (0, R.we)("#EventEditor_Clone_SelectAll"),
          ),
          d.createElement(
            h.$n,
            { onClick: () => s(new Set(t)) },
            (0, R.we)("#EventEditor_Clone_DeSelectAll"),
          ),
        );
      }
      var ht = a(52778),
        St = a(92757),
        bt = a(44165),
        wt = a(13952),
        Ct = a(84811),
        ft = a(73130),
        yt = a(3919),
        Dt = a(26296);
      var Tt = a(11113),
        It = a.n(Tt),
        Gt = a(3049);
      function Nt(e) {
        const { eventModel: t, bAllowUpdate: a } = e,
          [n, l] = (0, _.qm)(t);
        if (
          !(function (e) {
            switch (e) {
              case 12:
              case 13:
              case 14:
                return !0;
            }
            return !1;
          })(t.type) &&
          !n
        )
          return null;
        let o = d.createElement(
          "span",
          { className: (0, L.A)(It().BuildDisplay, It().BuildUnlinked) },
          (0, R.we)("#EventEditor_AssociateBuildBlank"),
        );
        if (n) {
          const e = d.createElement(
            "a",
            {
              className: (0, L.A)(It().BuildIDLink),
              href: `${P.TS.PARTNER_BASE_URL}apps/builddetails/${t.appid}/${n}`,
              onClick: (e) => e.stopPropagation(),
            },
            n,
          );
          o = l
            ? d.createElement(
                "span",
                {
                  className: (0, L.A)(
                    It().BuildDisplay,
                    It().BuildLinkedBranch,
                  ),
                },
                (0, R.PP)("#EventEditor_AssociatedBuild", e, l),
              )
            : d.createElement(
                "span",
                {
                  className: (0, L.A)(
                    It().BuildDisplay,
                    It().BuildLinkedDefault,
                  ),
                },
                (0, R.PP)("#EventEditor_AssociatedBuild_Default", e),
              );
        } else if (!a) return null;
        return d.createElement(
          "div",
          { className: It().AssociatedBuildBody },
          e.children,
          o,
          d.createElement(G.o, {
            tooltip: (0, R.we)("#EventEditor_AssociateBuild_ttip"),
            className: w().tooltip_Ctn,
          }),
        );
      }
      const At = (0, c.PA)((e) => {
        const { editModel: t } = e,
          a = t.GetEventModel();
        return d.createElement(
          Nt,
          { eventModel: a, bAllowUpdate: !0 },
          d.createElement(
            h.$n,
            {
              onClick: (t) =>
                (0, D.pg)(
                  d.createElement(Bt, { editModel: e.editModel }),
                  (0, k.uX)(t),
                ),
            },
            (0, R.we)("#EventEditor_AssociateBuild"),
          ),
        );
      });
      function Mt(e) {
        const t = new Date(1e3 * e.date).toLocaleDateString((0, Gt.J)());
        return e.branch
          ? (0, R.we)(
              "#EventEditor_AssociateBuildBranch",
              e.branch,
              e.build_id,
              t,
            )
          : (0, R.we)(
              "#EventEditor_AssociateBuildDefaultBranch",
              e.build_id,
              t,
            );
      }
      const Bt = (e) => {
        const { editModel: t, closeModal: a } = e,
          n = (function (e) {
            const [t, a] = d.useState(null);
            return (
              d.useEffect(() => {
                if ((a(null), !e)) return;
                const t = s().CancelToken.source(),
                  n = P.TS.COMMUNITY_BASE_URL + `ogg/${e}/ajaxgetappbranches`;
                return (
                  s()
                    .get(n, { withCredentials: !0, cancelToken: t.token })
                    .then((e) => {
                      var n;
                      if (!t.token.reason) {
                        const t =
                          1 ==
                          (null === (n = null == e ? void 0 : e.data) ||
                          void 0 === n
                            ? void 0
                            : n.success);
                        a(
                          t
                            ? e.data.branches.sort((e, t) => t.date - e.date)
                            : [],
                        );
                      }
                    })
                    .catch((e) => {
                      if (!t.token.reason) {
                        const t = (0, M.H)(e);
                        console.error("useBranchInfo: " + t.strErrorMsg, t);
                      }
                    }),
                  () => t.cancel("useBranchInfo: unmounting")
                );
              }, [e]),
              t
            );
          })(t.GetEventModel().appid),
          [l, o] = d.useState(void 0),
          [i, r, c] = (function (e) {
            const [t, a] = (0, _.qm)(e.GetEventModel());
            return [
              t,
              a,
              (n, l) => {
                (t == n && a == l) ||
                  ((e.GetEventModel().m_nBuildID = n),
                  (e.GetEventModel().m_strBuildBranch = l),
                  e.SetDirty(ne.IQ.description));
              },
            ];
          })(t);
        if ((null == n ? void 0 : n.length) && void 0 === l) {
          const e = n.find((e) => "" == e.branch);
          e && o(e);
        }
        const m = Boolean(n),
          u = new Array();
        return (
          u.push({
            label: (0, R.we)("#EventEditor_AssociateBuildClear"),
            data: null,
          }),
          null == n ||
            n.forEach((e) => {
              u.push({ label: Mt(e), data: e });
            }),
          d.createElement(
            Ct.tH,
            null,
            d.createElement(
              D.x_,
              { onEscKeypress: a },
              d.createElement(
                h.UC,
                null,
                d.createElement(
                  h.Y9,
                  null,
                  (0, R.we)("#EventEditor_AssociateBuildDialog"),
                ),
                d.createElement(
                  h.nB,
                  null,
                  d.createElement(
                    h.a3,
                    null,
                    (0, R.we)("#EventEditor_AssociateBuildDialogDesc"),
                  ),
                  m &&
                    d.createElement(h.m, {
                      rgOptions: u,
                      selectedOption: l,
                      onChange: (e) => o(e.data),
                    }),
                  !m && d.createElement(T.t, null),
                ),
                d.createElement(
                  h.wi,
                  null,
                  d.createElement(h.CB, {
                    onCancel: a,
                    bOKDisabled: !m,
                    onOK: () => {
                      c(
                        null == l ? void 0 : l.build_id,
                        null == l ? void 0 : l.branch,
                      ),
                        a();
                    },
                  }),
                ),
              ),
            ),
          )
        );
      };
      var Lt = a(6083);
      let kt = class extends d.Component {
        constructor(e) {
          super(e),
            (this.bRedirectUsed = !1),
            (this.state = { redirectTarget: null, bDeleting: !1 });
        }
        OnFallbackClick(e) {
          e.target instanceof HTMLButtonElement ||
            e.target instanceof HTMLAnchorElement ||
            this.OnGotoPage(e, "edit");
        }
        OnGotoPage(e, t) {
          (this.bRedirectUsed = !1),
            this.setState({ redirectTarget: t }),
            e && e.stopPropagation();
        }
        OnIgnoreFallbackClick(e) {
          e.stopPropagation();
        }
        render() {
          var e;
          const {
            eventModel: t,
            appid_or_vanity_str: a,
            bShowGameName: l,
            bShowEventMetaDataSizes: o,
          } = this.props;
          let r = t.GID,
            s = t.bOldAnnouncement;
          if (this.state.redirectTarget && !this.bRedirectUsed)
            switch (((this.bRedirectUsed = !0), this.state.redirectTarget)) {
              case "clone":
                return d.createElement(St.rd, {
                  push: !0,
                  to: n.GY.Edit(a, ""),
                });
              case "edit":
                return d.createElement(yt.OG, {
                  eventModel: this.props.eventModel,
                  route: yt.PH.k_eCommunityEdit,
                });
              case "view":
                return t.BIsVisibleEvent()
                  ? d.createElement(yt.OG, {
                      eventModel: this.props.eventModel,
                      route: yt.PH.k_eView,
                    })
                  : d.createElement(yt.OG, {
                      eventModel: this.props.eventModel,
                      route: yt.PH.k_eCommunityPreview,
                    });
              default:
                console.log(
                  "EventDisplayTile - Unexpected Case - " +
                    this.state.redirectTarget,
                );
            }
          let c = (0, i.sf)(P.TS.LANGUAGE);
          t.BIsLanguageValidForRealms(c) || (c = t.BInRealmGlobal() ? 0 : 29);
          let m,
            _ = [t.GetImageURLWithFallback("capsule", c)],
            E = t.GetNameWithFallback(c),
            p = t.BHasSubTitle(c),
            h = t.BHasSaleEnabled(),
            S = t.visibility_state != u.zv.k_EEventStateUnpublished,
            w = t.visibility_state != u.zv.k_EEventStateVisible;
          const C = t.BShowLibrarySpotlight(!0);
          let f;
          if (
            (w &&
              S &&
              (m =
                t.visibilityStartTime == t.startTime
                  ? d.createElement(
                      "div",
                      { className: Et.TileTextStartsIn },
                      (0, R.we)("#EventEditor_Status_WillBeVisible_EventStart"),
                    )
                  : d.createElement(
                      "div",
                      { className: Et.TileTextStartsIn },
                      (0, R.PP)(
                        "#EventEditor_Status_WillBeVisible_At",
                        d.createElement(j.K4, {
                          dateAndTime:
                            t.GetVisibilityStartTimeAndDateUnixSeconds(),
                          bSingleLine: !0,
                        }),
                      ),
                    )),
            !w && S)
          ) {
            let e = bt.HD.GetTimeNowWithOverride();
            t.GetStartTimeAndDateUnixSeconds() > e
              ? (f = d.createElement(
                  "span",
                  { className: Et.EventStateUpcoming },
                  (0, R.we)("#EventDisplay_Upcoming"),
                ))
              : (0, U.JS)(t.type) && t.GetEndTimeAndDateUnixSeconds() > e
                ? (f = d.createElement(
                    "span",
                    { className: Et.EventStateActive },
                    (0, R.we)("#EventDisplay_Active"),
                  ))
                : t.GetStartTimeAndDateUnixSeconds() > e + 3600 &&
                  (f = d.createElement(
                    "span",
                    { className: Et.EventStateRecent },
                    (0, R.we)("#EventDisplay_RecentlyActive"),
                  ));
          }
          l &&
            (E =
              ((null === (e = wt.A.Get().GetApp(t.appid)) || void 0 === e
                ? void 0
                : e.GetName()) || "") +
              ": " +
              E);
          let y =
              t.BIsPartnerEvent() &&
              t.BIsVisibleEvent() &&
              g.Uq.GetStatsFor(t.clanSteamID, r),
            D = v.ac.GetOGGClanInfo(t.appid),
            T = Boolean(
              s &&
                D &&
                D.is_ogg &&
                D.clanAccountID != t.announcementClanSteamID.GetAccountID(),
            );
          return d.createElement(
            Ct.tH,
            null,
            d.createElement(
              "div",
              {
                className: (0, L.A)({
                  [Et.TileContainer]: !0,
                  [Et.TileAgeAppropriate]: true,
                  [Et.TileAgeNotAppropriate]: !1,
                  [Et.ShowEventMetaDataSizes]: o,
                  [Et.ShowLibrarySpotlight]: C,
                }),
              },
              C &&
                d.createElement(
                  "div",
                  { className: Et.PartnerEventFeaturedHeader },
                  (0, R.we)("#EventDisplay_Visible_Featured"),
                  d.createElement(
                    te.he,
                    {
                      toolTipContent: (0, R.we)(
                        "#EventDisplay_Visible_Featured_Tooltip",
                      ),
                    },
                    "(?)",
                  ),
                ),
              d.createElement(
                "div",
                { className: Et.TileEventRow },
                d.createElement(
                  "div",
                  {
                    className: Et.TileImageCtn,
                    onClick: (e) => this.OnFallbackClick(e),
                  },
                  d.createElement(Dt.o, { className: Et.TileImage, srcs: _ }),
                ),
                d.createElement(
                  "div",
                  {
                    className: Et.TileTextContainer,
                    onClick: (e) => this.OnFallbackClick(e),
                  },
                  d.createElement(
                    "div",
                    { className: Et.TileDescriptionContainer },
                    d.createElement(
                      "div",
                      { style: { display: "flex" } },
                      d.createElement(
                        "div",
                        { className: Et.TileTextAppName },
                        E,
                      ),
                      d.createElement(
                        "div",
                        { className: Et.TileTextEventType },
                        t.GetCategoryAsString(!0),
                        h &&
                          d.createElement(
                            "span",
                            { className: Et.TileHasSale },
                            " | ",
                            (0, R.we)("#EventEditor_Status_HasSale"),
                          ),
                      ),
                    ),
                    p && !1,
                    d.createElement(
                      "div",
                      { className: b.ContainerSpaceBetween },
                      d.createElement(
                        "div",
                        { className: Et.TileTextStartsIn },
                        d.createElement(j.K4, {
                          dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                          bSingleLine: !0,
                        }),
                        f,
                        t.BHasTag("auto_rssfeed") &&
                          d.createElement(
                            d.Fragment,
                            null,
                            d.createElement("br", null),
                            d.createElement(
                              "a",
                              {
                                href:
                                  P.TS.STORE_BASE_URL +
                                  "curator/" +
                                  t.clanSteamID.GetAccountID() +
                                  "/admin/manage_rss/",
                              },
                              " " +
                                (0, R.we)("#EventEditor_Status_FromRSSFeed"),
                            ),
                          ),
                        d.createElement(Nt, {
                          eventModel: t,
                          bAllowUpdate: !1,
                        }),
                      ),
                      Boolean(y) &&
                        d.createElement(
                          "div",
                          { className: Et.TileStats },
                          (0, R.PP)(
                            "#EventDashBoard_Summary_Tile_Impressions",
                            d.createElement(
                              "span",
                              null,
                              (0, Lt.D)(y.m_stats.total_showm),
                            ),
                          ),
                          d.createElement("br", null),
                          (0, R.PP)(
                            "#EventDashBoard_Summary_Tile_Read",
                            d.createElement(
                              "span",
                              null,
                              (0, Lt.D)(y.m_stats.total_read),
                            ),
                          ),
                        ),
                    ),
                    m,
                    T
                      ? d.createElement(
                          "div",
                          {
                            className: Et.TileButtonContainer,
                            onClick: (e) => this.OnIgnoreFallbackClick(e),
                          },
                          d.createElement(
                            "div",
                            null,
                            (0, R.we)(
                              "#EventEditor_DataFromConnectAnnouncement",
                            ),
                          ),
                          d.createElement(
                            yt.tj,
                            {
                              className: (0, L.A)(Et.ManageButton, Et.Edit),
                              eventModel: t,
                              route: yt.PH.k_eView,
                            },
                            (0, R.we)("#Button_ViewPage"),
                          ),
                        )
                      : d.createElement(Rt, {
                          fnOnGotoPage: this.OnGotoPage,
                          ...this.props,
                        }),
                    o &&
                      d.createElement(
                        I.E,
                        { requireAdmin: !0, clanSteamID: t.clanSteamID },
                        d.createElement(Pt, { eventModel: t }),
                      ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], kt.prototype, "OnFallbackClick", null),
        (0, J.Cg)([O.oI], kt.prototype, "OnGotoPage", null),
        (0, J.Cg)([O.oI], kt.prototype, "OnIgnoreFallbackClick", null),
        (kt = (0, J.Cg)([c.PA], kt));
      let Rt = class extends d.Component {
        OnIgnoreFallbackClick(e) {
          e.stopPropagation();
        }
        OnPublishEvent(e) {
          e.stopPropagation();
          const { eventModel: t } = this.props;
          l.mh
            .LoadEditorModel(t.clanSteamID, t.GID)
            .then(() => {
              (0, D.pg)(
                d.createElement(ht.i, {
                  editModel: l.mh.GetEditModel(),
                  partnerEventEditorStore: l.mh,
                  OnPublishSuccess: this.OnPublishSuccess,
                }),
                window,
              );
            })
            .catch((e) => {
              let t = (0, M.H)(e);
              (0, D.pg)(
                d.createElement(y.KG, {
                  strTitle: (0, R.we)("#EventEditor_PublishingError"),
                  bAlertDialog: !0,
                  bDestructiveWarning: !0,
                  strDescription: (0, R.we)(
                    "#EventEditor_PublishingError_Desc",
                    t.strErrorMsg,
                  ),
                }),
                window,
                { strTitle: (0, R.we)("#EventEditor_PublishingError") },
              );
            });
        }
        OnPublishSuccess() {
          this.setState({ redirectTarget: "view" });
        }
        StopPropagation(e) {
          e.stopPropagation();
        }
        OnDeleteClickAndVerify(e) {
          e.stopPropagation(),
            (0, D.pg)(
              d.createElement(ft.p, {
                eventModel: this.props.eventModel,
                partnerEventStore: l.mh,
                onDeleteSuccessAndCloseDialog: () => this.props.refresh(),
              }),
              (0, k.uX)(e),
            );
        }
        render() {
          const { eventModel: e, fnOnGotoPage: t } = this.props;
          let a = e.bOldAnnouncement,
            n = e.visibility_state != u.zv.k_EEventStateVisible,
            l = e.visibility_state != u.zv.k_EEventStateUnpublished;
          return d.createElement(
            "div",
            {
              className: Et.TileButtonContainer,
              onClick: (e) => this.OnIgnoreFallbackClick(e),
            },
            !a &&
              d.createElement(
                yt.tj,
                {
                  className: (0, L.A)(Et.ManageButton, Et.Edit),
                  eventModel: e,
                  route: yt.PH.k_eCommunityEdit,
                  onClick: this.StopPropagation,
                },
                (0, R.we)("#Button_Edit"),
              ),
            a &&
              d.createElement(
                yt.tj,
                {
                  className: (0, L.A)(Et.ManageButton, Et.Edit),
                  eventModel: e,
                  route: yt.PH.k_eCommunityMigrate,
                  onClick: this.StopPropagation,
                },
                d.createElement(
                  te.he,
                  {
                    toolTipContent: (0, R.we)(
                      "#EventEditor_Button_MigrateAndEdit_Announcement_ttip",
                    ),
                  },
                  (0, R.we)("#EventEditor_Button_MigrateAndEdit"),
                ),
              ),
            n &&
              d.createElement(
                yt.tj,
                {
                  className: (0, L.A)(Et.ManageButton, Et.View),
                  eventModel: e,
                  route: yt.PH.k_eCommunityPreview,
                  onClick: this.StopPropagation,
                },
                d.createElement(
                  te.he,
                  {
                    toolTipContent: (0, R.we)(
                      "#EventEditor_Button_PreviewButton_ttip",
                    ),
                  },
                  (0, R.we)("#EventDisplay_Preview"),
                ),
              ),
            !n &&
              d.createElement(
                yt.tj,
                {
                  className: (0, L.A)(Et.ManageButton, Et.View),
                  eventModel: e,
                  route: yt.PH.k_eView,
                  onClick: this.StopPropagation,
                },
                (0, R.we)("#EventDisplay_View"),
              ),
            !l &&
              !a &&
              d.createElement(
                "div",
                {
                  className: (0, L.A)(Et.ManageButton, Et.Publish),
                  onClick: this.OnPublishEvent,
                },
                (0, R.we)("#EventDisplay_Publish"),
              ),
            d.createElement("div", { className: Et.Spacer }, ""),
            d.createElement(pt, { eventModel: e, fnOnGotoPage: t }),
            d.createElement(
              te.he,
              {
                toolTipContent: (0, R.we)(
                  "#EventEditor_Button_DeleteButton_ttip",
                ),
              },
              d.createElement(
                "div",
                {
                  className: (0, L.A)(Et.ManageButton, Et.Delete),
                  onClick: this.OnDeleteClickAndVerify,
                },
                (0, R.we)("#Button_Delete"),
              ),
            ),
          );
        }
      };
      function Ot(e, t) {
        if (!e || t <= 0) return [];
        const a = new Array();
        return (
          Object.keys(e).forEach((n) => {
            var l;
            const o = e[n],
              i =
                (null === (l = JSON.stringify(o)) || void 0 === l
                  ? void 0
                  : l.length) || 0;
            a.push({ key: n, size: i }),
              o &&
                ("object" == typeof o || Array.isArray(o)) &&
                i > 100 &&
                Ot(o, t - 1).forEach((e) => {
                  a.push({ key: n + ":" + e.key, size: e.size });
                });
          }),
          a
        );
      }
      (0, J.Cg)([O.oI], Rt.prototype, "OnIgnoreFallbackClick", null),
        (0, J.Cg)([O.oI], Rt.prototype, "OnPublishEvent", null),
        (0, J.Cg)([O.oI], Rt.prototype, "OnPublishSuccess", null),
        (0, J.Cg)([O.oI], Rt.prototype, "StopPropagation", null),
        (0, J.Cg)([O.oI], Rt.prototype, "OnDeleteClickAndVerify", null),
        (Rt = (0, J.Cg)([c.PA], Rt));
      const Pt = (e) => {
          var t, a;
          const { eventModel: n } = e;
          if (!(null == n ? void 0 : n.jsondata)) return null;
          const l = Ot(n.jsondata, 3);
          l.sort((e, t) => t.size - e.size);
          return d.createElement(
            "div",
            { className: Et.MetaDataCtn },
            d.createElement(
              "div",
              null,
              "Total Size: ",
              null ===
                (a =
                  null === (t = JSON.stringify(n.jsondata)) || void 0 === t
                    ? void 0
                    : t.length) || void 0 === a
                ? void 0
                : a.toLocaleString((0, Gt.J)()),
            ),
            l
              .slice(0, 10)
              .map((e) =>
                d.createElement(
                  "div",
                  { key: e.key },
                  e.key,
                  ": ",
                  (0, Lt.D)(e.size),
                ),
              ),
          );
        },
        xt = (0, c.PA)((e) => {
          const { match: t } = e,
            [a, n] = d.useState(!1),
            [o, r] = d.useState(""),
            [c, m] = d.useState(""),
            [v, S] = d.useState(!1),
            [b, C] = d.useState(0),
            x = d.useRef(void 0),
            F = d.useMemo(() => new p.b(P.UF.CLANSTEAMID), []),
            H = d.useMemo(() => new B.LU(), []),
            j = d.useMemo(() => s().CancelToken.source(), []),
            {
              bIsFetching: z,
              nHiddenEventCount: U,
              rgEventModels: q,
              fnRefetch: Q,
            } = (0, l.lX)(F, !a),
            {
              rgClanEventData: Y,
              bHasNextPage: J,
              fnFetchNextPage: K,
              bIsFetching: Z,
              bIsFetchingNextPage: X,
              clanEventSummaryStatus: $,
              clanEventSummaryLoadError: ee,
              fnRefetch: te,
            } = (0, _.SG)(F, 10, j);
          d.useEffect(
            () => (Q(), te(), () => j.cancel("EventListView to unload")),
            [j, te, Q],
          );
          const ae = (function (e, t) {
              const [a, n] = d.useState(!0);
              return (
                (0, O.Z3)(() => n(!1), 4e3),
                d.useEffect(() => {
                  e || t || n(!1);
                }, [t, e]),
                a
              );
            })(Z, z),
            ne = (0, O.Sz)(Z),
            le = d.useMemo(() => {
              (0, A.wT)(
                !q || q.every((e) => null != e),
                "draftClanEvents has a null event",
              );
              const e = (e) => v || 36 != e.GetEventType(),
                t = new Map(),
                a =
                  null == Y
                    ? void 0
                    : Y.pages.flatMap((e) => e).map((e) => (0, E.oE)(F, e)),
                n = null == a ? void 0 : a.filter(e);
              null == n || n.forEach((e) => t.set(e.GID, e));
              const l = null == q ? void 0 : q.filter(e);
              null == l || l.forEach((e) => t.set(e.GID, e));
              const o =
                (null != a ? a : []).length + (null != q ? q : []).length;
              return (
                C(
                  o - (null != n ? n : []).length - (null != l ? l : []).length,
                ),
                Array.from(t.values())
              );
            }, [q, null == Y ? void 0 : Y.pages, v, F]);
          d.useEffect(() => {
            const e = le
              .filter((e) =>
                Boolean(e && e.BIsVisibleEvent() && e.BIsPartnerEvent()),
              )
              .map((e) => e.GID);
            e.length > 0 && g.Uq.LoadStatsForEvents(F, e, j);
          }, [j, F, le]),
            d.useEffect(() => {
              if ("error" == $) {
                const e = (0, M.H)(ee);
                (0, D.pg)(
                  d.createElement(
                    y.KG,
                    null,
                    (0, R.we)("#Error_Description", e.errorCode, e.strErrorMsg),
                  ),
                  window,
                );
              }
            }, [ee, $]);
          const oe = (e, n) => {
              var l;
              const o = [];
              let r = le;
              if ((null == r ? void 0 : r.length) > 0) {
                (r = r.slice().filter((t) => {
                  var a;
                  return (
                    t.visibility_state === e &&
                    !(
                      Boolean(c) &&
                      !(null ===
                        (a = t.GetNameWithFallback((0, i.sf)(P.TS.LANGUAGE))) ||
                      void 0 === a
                        ? void 0
                        : a.toLocaleLowerCase().includes(c))
                    )
                  );
                })),
                  r.sort(
                    (e, t) => (
                      (0, A.wT)(
                        e !== t,
                        `Unexpected duplicates in the list: ${e} ${t}`,
                      ),
                      e.BShowLibrarySpotlight(!0) &&
                      !t.BShowLibrarySpotlight(!0)
                        ? -1
                        : !e.BShowLibrarySpotlight(!0) &&
                            t.BShowLibrarySpotlight(!0)
                          ? 1
                          : t.startTime - e.startTime
                    ),
                  );
                for (const e of r)
                  o.push(
                    d.createElement(kt, {
                      key: e.GID,
                      appid_or_vanity_str: t.params.appid_or_vanity_str,
                      gid: e.GID,
                      eventModel: e,
                      bShowEventMetaDataSizes: a,
                      refresh: () => {
                        te(), Q();
                      },
                    }),
                  );
              }
              for (
                let t = 0;
                t <
                n -
                  (null !== (l = null == r ? void 0 : r.length) && void 0 !== l
                    ? l
                    : 0);
                t++
              )
                o.push(
                  d.createElement(
                    "div",
                    {
                      key: `tile_${e}_ghost_${t}`,
                      className: Et.TileContainer,
                    },
                    d.createElement(f.h, {
                      capsules_per_row: [1],
                      is_event_dash_row: !0,
                    }),
                  ),
                );
              return o;
            },
            ie = d.useCallback(
              (e) => {
                e && !X && K();
              },
              [X, K],
            );
          d.useEffect(() => {
            H.Schedule(200, () =>
              m(null == o ? void 0 : o.trim().toLocaleLowerCase()),
            );
          }, [H, o]);
          const re = oe(u.zv.k_EEventStateUnpublished, z ? U : 0),
            se = oe(u.zv.k_EEventStateStaged),
            ce = oe(u.zv.k_EEventStateUnlisted),
            de = oe(u.zv.k_EEventStateVisible),
            me = d.useMemo(() => {
              if (!de) return;
              if (Z || !J) return de;
              const e = de.length >= 10 ? de.length - 10 : de.length,
                t = d.createElement(N.J, {
                  key: "visibilityTracker",
                  trigger: "repeated",
                  onVisibilityChange: ie,
                });
              return [...de.slice(0, e), t, ...de.slice(e)];
            }, [J, Z, de, ie]),
            ue =
              re.length > 0 || se.length > 0 || ce.length > 0 || de.length > 0;
          return d.createElement(
            Ct.tH,
            null,
            d.createElement(
              "div",
              { ref: x },
              d.createElement(
                "div",
                { className: (0, L.A)("maincontent", V().EventDashboardCtn) },
                d.createElement(Ft, {
                  appid_or_vanity_str: t.params.appid_or_vanity_str,
                }),
                d.createElement(
                  I.E,
                  { requireAdmin: !0, clanSteamID: F },
                  d.createElement(
                    "div",
                    {
                      className: (0, L.A)(
                        "maincontent",
                        V().EventDashboardCtn,
                        V().EventDashAdminToolsCtn,
                        w().FlexRowContainer,
                      ),
                    },
                    d.createElement(h.Yh, {
                      label: "Show Event Metadata Size",
                      tooltip:
                        "Surfaces the size of the biggest sections in the event's metadata",
                      onChange: n,
                      checked: a,
                    }),
                    d.createElement(
                      h.$n,
                      {
                        onClick: (e) =>
                          (0, D.pg)(d.createElement(W, null), (0, k.uX)(e)),
                      },
                      "Show Publishing Audit History",
                    ),
                  ),
                  Boolean(F.GetAccountID() == u.bv) &&
                    d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(
                        "a",
                        {
                          href: "https://grafana.valve.org/steam/d/RoUHA6bWk/tag-hubs?orgId=2&refresh=5m",
                          target: "_blank",
                        },
                        "Content Hub Graphana Stats Page",
                      ),
                      d.createElement("br", null),
                      d.createElement(
                        "a",
                        {
                          href: `${P.TS.COMMUNITY_BASE_URL}groups/store_contenthubs/partnerevents/edit/3016840454305565993?tab=sale`,
                        },
                        "Open 'Default Contnet Hub Sale Page Editor'",
                      ),
                    ),
                ),
              ),
              (Z || ue || o.length > 0) &&
                d.createElement(
                  "div",
                  {
                    className: (0, L.A)(
                      V().EventDashboardCtn,
                      V().EventDashboardSearchCtn,
                      "maincontent",
                    ),
                  },
                  d.createElement(h.pd, {
                    type: "text",
                    label: (0, R.we)("#EventCalendar_UniversalSearch"),
                    value: o,
                    onChange: (e) => r(e.target.value),
                  }),
                ),
              !v &&
                b > 0 &&
                d.createElement(
                  "div",
                  { className: (0, L.A)(V().EventDashboardCtn, "maincontent") },
                  d.createElement(
                    I.E,
                    { requireAdmin: !0, clanSteamID: F },
                    d.createElement(
                      "a",
                      { onClick: () => S(!0) },
                      `Show ${b} hidden Creator Home events`,
                    ),
                  ),
                ),
              z &&
                d.createElement(T.t, {
                  position: "center",
                  string: (0, R.we)("#Loading"),
                }),
              !ae &&
                d.createElement(
                  "div",
                  { className: V().MainLists },
                  re.length > 0 &&
                    !z &&
                    d.createElement(
                      "div",
                      { className: (0, L.A)(V().Section, V().Unpublished) },
                      d.createElement(
                        "div",
                        {
                          className: (0, L.A)(
                            "maincontent",
                            "eventlist",
                            V().EventDashboardCtn,
                          ),
                        },
                        d.createElement(
                          "div",
                          { className: V().DisplaySectionHeader },
                          (0, R.we)("#EventDisplay_Unpublished_Title"),
                          d.createElement(G.o, {
                            tooltip: (0, R.we)(
                              "#EventDisplay_Unpublished_SubTitle",
                            ),
                          }),
                        ),
                        re.length > 0 && re,
                      ),
                    ),
                  se.length > 0 &&
                    d.createElement(
                      "div",
                      { className: (0, L.A)(V().Section, V().Staged) },
                      d.createElement(
                        "div",
                        {
                          className: (0, L.A)(
                            "maincontent",
                            "eventlist",
                            V().EventDashboardCtn,
                          ),
                        },
                        d.createElement(
                          "div",
                          { className: V().DisplaySectionHeader },
                          (0, R.we)("#EventDisplay_Stage_Title"),
                          d.createElement(G.o, {
                            tooltip: (0, R.we)("#EventDisplay_Stage_SubTitle"),
                          }),
                        ),
                        se.length > 0 && se,
                      ),
                    ),
                  ce.length > 0 &&
                    d.createElement(
                      "div",
                      { className: (0, L.A)(V().Section, V().Staged) },
                      d.createElement(
                        "div",
                        {
                          className: (0, L.A)(
                            "maincontent",
                            "eventlist",
                            V().EventDashboardCtn,
                          ),
                        },
                        d.createElement(
                          "div",
                          { className: V().DisplaySectionHeader },
                          (0, R.we)("#EventDisplay_Unlisted_Title"),
                          d.createElement(G.o, {
                            tooltip: (0, R.we)(
                              "#EventDisplay_Unlisted_SubTitle",
                            ),
                          }),
                        ),
                        ce.length > 0 && ce,
                      ),
                    ),
                  d.createElement(
                    "div",
                    {
                      className: (0, L.A)(
                        V().Section,
                        V().DisplaySectionHeaderContainer,
                        V().Visible,
                      ),
                    },
                    d.createElement(
                      "div",
                      {
                        className: (0, L.A)(
                          "maincontent",
                          "eventlist",
                          V().EventDashboardCtn,
                        ),
                      },
                      d.createElement(
                        "div",
                        { className: V().DisplaySectionHeader },
                        (0, R.we)("#EventDisplay_Visible_Title"),
                      ),
                      d.createElement(
                        "div",
                        { className: V().DisplaySectionSubHeader },
                        (0, R.we)("#EventDisplay_Visible_Title_WithRange"),
                      ),
                      me,
                      !Z &&
                        !me &&
                        d.createElement(
                          "div",
                          null,
                          (0, R.we)("#EventDisplay_NoPublic"),
                        ),
                      (Z || (ne && J)) &&
                        d.createElement(T.t, {
                          position: "center",
                          string: (0, R.we)("#Loading"),
                        }),
                      !J &&
                        d.createElement(
                          "div",
                          null,
                          (0, R.we)("#EventDisplay_AllPublicShown"),
                        ),
                      ee &&
                        d.createElement(
                          "div",
                          null,
                          (0, R.we)("#EventDisplay_HitErrorInfiniteScroll"),
                        ),
                    ),
                  ),
                ),
            ),
          );
        });
      const Ft = (0, c.PA)((e) => {
          const { appid_or_vanity_str: t } = e,
            a = new p.b(P.UF.CLANSTEAMID),
            o = v.ac.GetClanInfoByClanAccountID(a.GetAccountID()),
            i = g.Uq.GetTotalStats(a);
          return d.createElement(
            "div",
            { className: w().EventDashboardHeader },
            d.createElement(S.xL, { identifier: t }),
            d.createElement(
              "div",
              { className: w().EventDashboardTitles },
              d.createElement(
                "div",
                { className: w().maintitle },
                (0, R.we)("#EventDisplay_Events"),
                d.createElement(
                  "div",
                  { className: w().subtitle },
                  (0, R.we)("#EventDisplay_Edit_Desc"),
                ),
              ),
              d.createElement(
                "div",
                { className: w().EventDashboardActions },
                d.createElement(
                  m.N_,
                  {
                    className: (0, L.A)(w().Button, w().Primary),
                    to: n.GY.Create(t),
                    onClick: () => l.mh.ResetModel(),
                  },
                  (0, R.we)("#EventDisplay_CreateNewEvent"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: w().EventDashboardStatsCtn },
              d.createElement(C.A, {
                summary: i.m_stats,
                clanSteamID: a,
                bIsAllowedInLibrary: null == o ? void 0 : o.is_ogg,
              }),
            ),
          );
        }),
        Ht = (0, x.L)(xt);
      var jt = a(10172),
        zt = a(32720),
        Ut = a(50908),
        qt = a(35685),
        Vt = a(68033),
        Wt = a(40786);
      let Qt = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new p.b(P.UF.CLANSTEAMID));
        }
        componentDidMount() {
          l.mh.GetEditModel() &&
            "view" === this.props.mode &&
            l.mh.GetEditModel().ClearDirty();
        }
        componentDidUpdate(e) {
          l.mh.GetEditModel() &&
            "view" === this.props.mode &&
            l.mh.GetEditModel().ClearDirty();
        }
        render() {
          const { mode: e } = this.props;
          if ("view" === e) {
            let e = l.mh.GetEditModel().GetEventModel(),
              t = (0, i.sf)(P.TS.LANGUAGE);
            return e.BHasSaleEnabled()
              ? d.createElement(
                  Ct.tH,
                  null,
                  d.createElement(Wt._, {
                    eventModel: e,
                    bIsPreview: !0,
                    language: t,
                  }),
                )
              : d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(jt.jA, {
                    event: e,
                    lang: t,
                    partnerEventStore: l.mh,
                    emoticonStore: Vt.A,
                    adminPanel: d.createElement(Ut.g, {
                      eventModel: e,
                      partnerEventStore: l.mh,
                    }),
                    otherEventRow: d.createElement(qt.rN, {
                      clanAccountID: e.clanSteamID.GetAccountID(),
                      trackingLocation: 6,
                      gidAnnouncement: e.AnnouncementGID,
                      partnerEventStore: l.Av,
                      bViewAllShowInfiniteScroll: !e.BIsOGGEvent(),
                    }),
                  }),
                );
          }
          return d.createElement(zt.l, {
            editModel: l.mh.GetEditModel(),
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            gid: this.props.match.params.gid,
            bDisplaySale: "previewsale" === e,
          });
        }
      };
      Qt = (0, J.Cg)([c.PA], Qt);
      const Yt = (0, x.L)(Qt);
      var Jt = a(33561),
        Kt = a(32669),
        Zt = a(17297),
        Xt = a(65946),
        $t = a(8092),
        ea = a(26161),
        ta = a(9449),
        aa = a(56692),
        na = a(25359),
        la = a.n(na),
        oa = a(38135),
        ia = a(4434),
        ra = a(26759),
        sa = a(27666),
        ca = a(51272);
      const da = (e) => {
          let t = null;
          "capsule" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, R.we)("#selectimage_tip_capsule_1"),
                ),
                d.createElement(
                  "div",
                  null,
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${sa.z.GetBaseURL()}31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${sa.z.GetBaseURL()}7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${sa.z.GetBaseURL()}27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src: `${sa.z.GetBaseURL()}31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg`,
                  }),
                ),
              ))
            : "background" === e.artworkType
              ? (t = d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#selectimage_tip_background_1"),
                  ),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${sa.z.GetBaseURL()}3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png`,
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${sa.z.GetBaseURL()}5193306/62436147b454715822a198a2767e5c7a8560617e.jpg`,
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src: `${sa.z.GetBaseURL()}31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png`,
                  }),
                ))
              : "spotlight" === e.artworkType &&
                (t = d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    { className: la().AssetExampleSpotlightCtn },
                    d.createElement(
                      "p",
                      null,
                      (0, R.we)("#selectimage_tip_store_spotlight_2"),
                    ),
                    d.createElement(
                      "p",
                      null,
                      (0, R.we)("#selectimage_tip_store_spotlight_3"),
                    ),
                    d.createElement("img", {
                      style: { width: "100%" },
                      src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                    }),
                    d.createElement("img", {
                      style: { width: "100%" },
                      src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                    }),
                  ),
                ));
          return t
            ? d.createElement(
                "div",
                { className: w().FlexRowContainer },
                d.createElement(
                  h.wl,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        (0, D.pg)(
                          d.createElement(
                            y.o0,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: (0, R.we)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`,
                              ),
                              strDescription: (0, R.we)(
                                "#EventEditor_ExampleDescription",
                              ),
                            },
                            t,
                          ),
                          window,
                        );
                      })(t),
                  },
                  (0, R.we)("#EventEditor_ViewExamples"),
                ),
                d.createElement(
                  h.wl,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      (0, ca.EP)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets",
                      ),
                  },
                  (0, R.we)("#EventEditor_Learn_More"),
                ),
              )
            : null;
        },
        ma = (e) => {
          let t = null;
          "sale_header" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, R.we)("#selectimage_tip_sale_header_1"),
                ),
                d.createElement(
                  "p",
                  null,
                  (0, R.we)("#selectimage_tip_sale_header_2"),
                ),
                d.createElement(
                  "div",
                  { className: la().SaleHeaderExampleCtn },
                  d.createElement(
                    "div",
                    { className: la().SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href: `${sa.z.GetBaseURL()}4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${sa.z.GetBaseURL()}4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg`,
                      }),
                    ),
                    d.createElement(
                      "a",
                      {
                        href: `${sa.z.GetBaseURL()}4/502e9a6d3bb266b4274a946192bb960f15e1d136.png`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${sa.z.GetBaseURL()}4/502e9a6d3bb266b4274a946192bb960f15e1d136.png`,
                      }),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: la().SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href: `${sa.z.GetBaseURL()}4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg`,
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src: `${sa.z.GetBaseURL()}4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg`,
                      }),
                    ),
                  ),
                ),
              ))
            : "product_banner" === e.artworkType &&
              (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  (0, R.we)("#selectimage_tip_sale_product_banner"),
                ),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${sa.z.GetBaseURL()}4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${sa.z.GetBaseURL()}4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${sa.z.GetBaseURL()}4/309cb650beb92e00ae352710387832aea78433ef.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${sa.z.GetBaseURL()}4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg`,
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src: `${sa.z.GetBaseURL()}4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif`,
                }),
              ));
          return t
            ? d.createElement(
                "div",
                { className: w().FlexRowContainer },
                d.createElement(
                  h.wl,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        (0, D.pg)(
                          d.createElement(
                            y.o0,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: (0, R.we)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`,
                              ),
                              strDescription: (0, R.we)(
                                "#EventEditor_ExampleDescription",
                              ),
                            },
                            t,
                          ),
                          window,
                        );
                      })(t),
                  },
                  (0, R.we)("#EventEditor_ViewExamples"),
                ),
                d.createElement(
                  h.wl,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      (0, ca.EP)(
                        e,
                        "https://partner.steamgames.com/doc/marketing/event_tools/sales/tools",
                      ),
                  },
                  (0, R.we)("#EventEditor_Learn_More"),
                ),
                d.createElement("br", null),
              )
            : null;
        };
      var ua = a(6901),
        _a = a(77425),
        Ea = a(21965),
        pa = a(81278),
        va = a(61819),
        ga = a(96971),
        ha = a(30294),
        Sa = a(56654),
        ba = a(66210),
        wa = a(16989);
      function Ca(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Xt.q3)(() => a.jsondata.bAutoUpdateVanityURLForContentHub),
          l = (0, Xt.q3)(() => a.jsondata.sale_defines_specific_contenthub),
          o = (0, Xt.q3)(() => a.jsondata.sale_defines_temporary_contenthub),
          i = (0, Xt.q3)(() => a.BContentHubDiscountedOnly()),
          r = (0, Xt.q3)(() => a.jsondata.content_hub_restricted_width),
          s = (0, Xt.q3)(() => a.jsondata.ignore_item_browser_overrides),
          c = (0, Xt.q3)(() => a.jsondata.contenthub_override_artwork),
          m = (0, Xt.q3)(() => a.jsondata.contenthub_override_section_styles),
          u = (0, Xt.q3)(() => a.jsondata.contenthub_override_tab_styles),
          _ = (0, Xt.q3)(() => a.jsondata.contenthub_override_tab_definitions),
          E = (0, Xt.q3)(
            () => a.jsondata.contenthub_override_item_browser_flavors,
          ),
          p = (0, Xt.q3)(
            () => a.jsondata.contenthub_override_item_browser_facets,
          ),
          v = (0, Xt.q3)(() => a.jsondata.contenthub_disable_overrides),
          g = (0, Xt.q3)(
            () => a.jsondata.contenthub_dlc_for_your_flavor_override,
          ),
          [S, b] = (0, d.useState)(() => {
            var e;
            return (
              (null === (e = a.jsondata.prune_list_optin_name) || void 0 === e
                ? void 0
                : e.length) > 0
            );
          });
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            h.JU,
            { style: { marginTop: "0px" } },
            "Content Hub Specification",
          ),
          d.createElement(h.Yh, {
            label: "Auto update vanity URL based on configured content hub",
            checked: n,
            onChange: (e) => {
              (a.jsondata.bAutoUpdateVanityURLForContentHub = e),
                e && (0, ba.sL)(a.GetContentHub(), t),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "This is an individual content hub...",
            tooltip:
              "If checked, this sale page will be used to render only a specific content hub. Check this if you are defining tabs/merchandising for some specific hub, or if you're defining a theme sale.",
            checked: l,
            onChange: (e) => {
              (a.jsondata.sale_defines_specific_contenthub = e || void 0),
                a.jsondata.bAutoUpdateVanityURLForContentHub &&
                  (0, ba.sL)(a.GetContentHub(), t),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          l && d.createElement(fa, { ...e }),
          d.createElement(h.Yh, {
            label: "This is a limited time sale event",
            tooltip:
              "If checked, this sale page will be used when rendering content hubs only during the time period specified in the Options tab of the sale editor. Check this if you are defining a takeover for a seasonal sale, or if you're defining a theme sale.",
            checked: o,
            onChange: (e) => {
              (a.jsondata.sale_defines_temporary_contenthub = e || void 0),
                a.jsondata.bAutoUpdateVanityURLForContentHub &&
                  (0, ba.sL)(a.GetContentHub(), t),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(
            h.JU,
            { style: { marginTop: "16px" } },
            "App Inclusion",
          ),
          d.createElement(h.Yh, {
            label: "Show discounted (and free-to-play) items only",
            checked: i,
            onChange: (e) => {
              (a.jsondata.content_hub_discounted_only = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Include/exclude items based on registration state... ",
            tooltip:
              "If checked, this hub will include opted-in games and exclude pruned out games from the selected opt-in event. Typically used when defining a theme sale.",
            checked: S,
            onChange: (e) => {
              b(e),
                e || (a.jsondata.prune_list_optin_name = void 0),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          S && d.createElement(ya, { ...e }),
          d.createElement(h.JU, { style: { marginTop: "16px" } }, "Overrides"),
          d.createElement(h.Yh, {
            label: "Show restricted-width title and main carousel",
            checked: r,
            onChange: (e) => {
              (a.jsondata.content_hub_restricted_width = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override artwork",
            tooltip:
              "If checked, use artwork (background, fonts, colors, etc.) from this sale page instead of the artwork defined in the sale page it inherits from.",
            checked: c,
            onChange: (e) => {
              (a.jsondata.contenthub_override_artwork = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override section styles",
            tooltip:
              "If checked, for every section that exists in this sale page and the parent sale page, use section styles (colors, etc.) from this sale page instead of from the parent.",
            checked: m,
            onChange: (e) => {
              (a.jsondata.contenthub_override_section_styles = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override tab styles",
            tooltip:
              "If checked, and a tabs section exists in this sale page and the parent sale page, use tab styles (colors, fonts, etc.) from this sale page instead of from the parent.",
            checked: u,
            onChange: (e) => {
              (a.jsondata.contenthub_override_tab_styles = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override tab definitions",
            tooltip:
              "If checked, and a tabs section exists in this sale page and the parent sale page, use the tab definitions (names, filters, etc.) from this sale page instead of from the parent.",
            checked: _,
            onChange: (e) => {
              (a.jsondata.contenthub_override_tab_definitions = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override item browser flavor tabs",
            tooltip:
              "If checked, and an item browser section exists in this sale page and the parent sale page, use the flavor definitions (e.g. Popular, Recently Released, etc.) from this sale page instead of from the parent.",
            checked: E,
            onChange: (e) => {
              (a.jsondata.contenthub_override_item_browser_flavors = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Ignore item browser tab overrides during sale takeovers",
            checked: s,
            onChange: (e) => {
              (a.jsondata.ignore_item_browser_overrides = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Override item browser facets",
            tooltip:
              "If checked, and an item browser section exists in this sale page and the parent sale page, use the facet menu from this sale page instead of from the parent.",
            checked: p,
            onChange: (e) => {
              (a.jsondata.contenthub_override_item_browser_facets = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(h.Yh, {
            label: "Disable override logic",
            tooltip:
              "If checked, the sections defined in this sale page will be used as-is, instead of being combined with parent sale pages via the override logic.",
            checked: v,
            onChange: (e) => {
              (a.jsondata.contenthub_disable_overrides = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
          d.createElement(wa.x, {
            strFlavor: g || "popular",
            fnSetFlavor: (e) => {
              a.jsondata.contenthub_dlc_for_your_flavor_override = e;
            },
            strLabelOverride: "Override DLC For You filter/sort",
          }),
          d.createElement(Da, { ...e }),
        );
      }
      function fa(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Xt.q3)(() => a.GetContentHubType()),
          l = (0, Xt.q3)(() => a.GetContentHubCategory()),
          o = (0, Xt.q3)(() => a.GetContentHubTag()),
          { contentHubNames: i } = (0, Ea._)(),
          r = (0, d.useMemo)(
            () => (i ? i.hubtypes.map((e) => ({ value: e, label: e })) : []),
            [i],
          ),
          s = (0, d.useMemo)(
            () =>
              i
                ? Array.from(i.categories.keys()).map((e) => ({
                    value: e,
                    label: `${i.categories.get(e)} (${e})`,
                  }))
                : [],
            [i],
          ),
          c = (0, d.useMemo)(
            () =>
              i
                ? Array.from(i.tags.keys()).map((e) => ({
                    value: `${e}`,
                    label: `${i.tags.get(e)} (${e})`,
                  }))
                : [],
            [i],
          );
        return d.createElement(
          "div",
          { style: { marginLeft: "32px", marginRight: "32px" } },
          d.createElement(
            h.JU,
            null,
            (0, R.we)("#Sale_BrowseSection_ContentHubType"),
          ),
          d.createElement(
            "div",
            { style: { marginBottom: "12px" } },
            d.createElement(va.Ay, {
              isSearchable: !0,
              className: "react-select-container",
              classNamePrefix: "react-select",
              isDisabled: !r,
              options: r,
              value: null == r ? void 0 : r.find((e) => e.value === n),
              onChange: (e) => {
                (a.jsondata.source_content_hub = {
                  type: e.value,
                  category: "category" === e.value ? l : void 0,
                  tagid: "tags" === e.value ? o : void 0,
                }),
                  t.SetDirty(ne.IQ.jsondata_sales);
              },
            }),
          ),
          "category" === n &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                h.JU,
                null,
                (0, R.we)("#Sale_BrowseSection_ContentHubCategory"),
              ),
              d.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                d.createElement(va.Ay, {
                  isSearchable: !0,
                  className: "react-select-container",
                  classNamePrefix: "react-select",
                  isDisabled: !s,
                  options: s,
                  value: null == s ? void 0 : s.find((e) => e.value === l),
                  onChange: (e) => {
                    (a.jsondata.source_content_hub = {
                      type: n,
                      category: null == e ? void 0 : e.value,
                    }),
                      t.SetDirty(ne.IQ.jsondata_sales);
                  },
                }),
              ),
            ),
          "tags" === n &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                h.JU,
                null,
                (0, R.we)("#Sale_BrowseSection_ContentHubTag"),
              ),
              d.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                d.createElement(va.Ay, {
                  isSearchable: !0,
                  className: "react-select-container",
                  classNamePrefix: "react-select",
                  isDisabled: !c,
                  options: c,
                  value:
                    null == c ? void 0 : c.find((e) => Number(e.value) === o),
                  onChange: (e) => {
                    (a.jsondata.source_content_hub = {
                      type: n,
                      tagid: Number(null == e ? void 0 : e.value),
                    }),
                      t.SetDirty(ne.IQ.jsondata_sales);
                  },
                }),
              ),
            ),
        );
      }
      function ya(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Xt.q3)(() => a.jsondata.prune_list_optin_name),
          l = (0, Xt.q3)(() => a.jsondata.optin_only),
          { rgOptIns: o } = (0, pa.Zs)(),
          i = (0, d.useMemo)(
            () =>
              o
                ? o.map((e) => ({
                    value: e.pageid,
                    label: `${e.title[P.TS.LANGUAGE]} (${e.pageid})`,
                  }))
                : [],
            [o],
          );
        return d.createElement(
          "div",
          { style: { marginLeft: "32px", marginRight: "32px" } },
          d.createElement(h.JU, null, "Opt-In Event"),
          d.createElement(
            "div",
            { style: { marginBottom: "12px" } },
            d.createElement(va.Ay, {
              isSearchable: !0,
              className: "react-select-container",
              classNamePrefix: "react-select",
              isDisabled: !i,
              options: i,
              value: null == i ? void 0 : i.find((e) => e.value === n),
              onChange: (e) => {
                (a.jsondata.prune_list_optin_name = e.value),
                  t.SetDirty(ne.IQ.jsondata_sales);
              },
            }),
            d.createElement(h.Yh, {
              label: "Only show invited games",
              tooltip:
                "If checked, this hub will only show games that have been invited to register for the event. Typically used when defining a theme sale.",
              checked: l,
              onChange: (e) => {
                (a.jsondata.optin_only = e), t.SetDirty(ne.IQ.jsondata_sales);
              },
            }),
          ),
        );
      }
      function Da(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Xt.q3)(
            () =>
              !a.jsondata.sale_defines_specific_contenthub &&
              !a.jsondata.sale_defines_temporary_contenthub,
          ),
          l = (0, Xt.q3)(() => a.jsondata.contenthub_section_groups),
          [o, i] = (0, _a._)(!0);
        return !n && o
          ? null
          : d.createElement(
              "div",
              { style: { width: "100%" } },
              d.createElement(
                h.JU,
                { style: { marginTop: "16px" } },
                "Section Layout",
              ),
              d.createElement(Sa.A, {
                items: l || [],
                onDelete: (e) => {
                  (a.jsondata.contenthub_section_groups = [
                    ...a.jsondata.contenthub_section_groups.slice(0, e),
                    ...a.jsondata.contenthub_section_groups.slice(e + 1),
                  ]),
                    t.SetDirty(ne.IQ.jsondata_sales);
                },
                onReorder: () => {
                  t.SetDirty(ne.IQ.jsondata_sales);
                },
                render: (e) =>
                  d.createElement(Ta, {
                    editModel: t,
                    group: e,
                    isEditable: n,
                    baseEventJSON: i,
                    onChange: () => {
                      t.SetDirty(ne.IQ.jsondata_sales);
                    },
                  }),
              }),
              d.createElement(
                h.$n,
                {
                  style: { maxWidth: "200px", margin: "0 auto" },
                  onClick: () => {
                    l || (a.jsondata.contenthub_section_groups = []),
                      (a.jsondata.contenthub_section_groups = [
                        ...a.jsondata.contenthub_section_groups,
                        { name: "", sections: [] },
                      ]),
                      t.SetDirty(ne.IQ.jsondata_sales);
                  },
                },
                "Add Group",
              ),
            );
      }
      function Ta(e) {
        const {
            editModel: t,
            group: a,
            isEditable: n,
            baseEventJSON: l,
            onChange: o,
          } = e,
          i = (0, Xt.q3)(() => a.name),
          r = (0, Xt.q3)(() => a.description),
          s = (0, Xt.q3)(() => a.sections),
          c = (0, Xt.q3)(() => a.override_type),
          m = (0, d.useMemo)(
            () =>
              !n && l && l.contenthub_section_groups
                ? l.contenthub_section_groups.map((e) => ({
                    data: e.name,
                    label: e.name,
                  }))
                : [],
            [l, n],
          );
        return n || l
          ? d.createElement(
              "div",
              { style: { width: "100%" } },
              n
                ? d.createElement(
                    "div",
                    null,
                    d.createElement(h.pd, {
                      label: "Name",
                      value: i,
                      onChange: (e) => {
                        (a.name = e.target.value), o();
                      },
                    }),
                    d.createElement(h.pd, {
                      label: "Description",
                      value: r,
                      onChange: (e) => {
                        (a.description = e.target.value), o();
                      },
                    }),
                  )
                : d.createElement(
                    "div",
                    { style: { display: "flex" } },
                    d.createElement(
                      "div",
                      { style: { flexGrow: 1, marginRight: "4px" } },
                      d.createElement(
                        h.JU,
                        null,
                        "section group inherited from parent",
                      ),
                      d.createElement(h.m, {
                        rgOptions: m,
                        selectedOption: i,
                        onChange: (e) => {
                          (a.name = e.data), o();
                        },
                      }),
                    ),
                    d.createElement(
                      "div",
                      { style: { flexGrow: 1, marginLeft: "4px" } },
                      d.createElement(h.JU, null, "Override Type"),
                      d.createElement(h.m, {
                        rgOptions: [
                          { data: "replace", label: "Replace" },
                          { data: "before", label: "Add Before" },
                          { data: "after", label: "Add After" },
                        ],
                        selectedOption: c,
                        onChange: (e) => {
                          (a.override_type = e.data), o();
                        },
                      }),
                      !Boolean(c) &&
                        d.createElement(
                          "div",
                          { className: w().ErrorStylesWithIcon },
                          "Must choose Override Type",
                        ),
                    ),
                  ),
              d.createElement(
                "div",
                { style: { marginLeft: "32px", marginRight: "32px" } },
                d.createElement(
                  h.JU,
                  null,
                  "Locally Defined Sections To Display",
                ),
                d.createElement(Sa.A, {
                  items: s,
                  onDelete: (e) => {
                    (a.sections = [
                      ...a.sections.slice(0, e),
                      ...a.sections.slice(e + 1),
                    ]),
                      o();
                  },
                  onReorder: () => {
                    o();
                  },
                  render: (e) =>
                    d.createElement(Ia, {
                      editModel: t,
                      sectionRef: e,
                      onChange: o,
                    }),
                }),
                d.createElement(
                  h.$n,
                  {
                    style: { maxWidth: "150px", margin: "0 auto" },
                    onClick: () => {
                      (a.sections = [...a.sections, { sectionid: 0 }]), o();
                    },
                  },
                  "Add Section",
                ),
              ),
            )
          : null;
      }
      function Ia(e) {
        const { editModel: t, sectionRef: a, onChange: n } = e,
          l = t.GetEventModel(),
          o = (0, Xt.q3)(() => l.GetSaleSections()),
          r = (0, ga.yD)(),
          s = o.map((e, a) => ({
            data: e.unique_id,
            label: (0, ha.h_)(
              r.eLocation,
              e,
              (0, i.sf)(P.TS.LANGUAGE),
              t.GetEventModel(),
              a,
            ),
          })),
          c = (0, Xt.q3)(() => a.sectionid);
        return d.createElement(
          "div",
          { style: { width: "100%" } },
          d.createElement(h.m, {
            rgOptions: s,
            selectedOption: c,
            onChange: (e) => {
              (a.sectionid = e.data), n();
            },
          }),
        );
      }
      var Ga = a(64046),
        Na = a(88997),
        Aa = a(40778),
        Ma = a(8527);
      function Ba(e) {
        const { model: t, fnOnDirty: a } = e,
          [n, l] = (0, Xt.q3)(() => [
            t.sale_background_color,
            t.sale_background_repeat,
          ]),
          [o, i] = d.useState(null == n);
        return d.createElement(
          "div",
          {
            className: (0, L.A)(w().FlexRowContainer, la().BackgroundConfigCtn),
          },
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(
              h.JU,
              null,
              (0, R.we)("#Sale_Section_Background_Color"),
            ),
            d.createElement(
              h.$n,
              {
                className: la().BackgroundColorBtn,
                onClick: (e) => {
                  (0, Na.lX)(
                    d.createElement(Ga.s, {
                      color: n,
                      onChange: (e) => {
                        (t.sale_background_color = e), a();
                      },
                    }),
                    e,
                    { bDisablePopTop: !0 },
                  );
                },
                style: { backgroundColor: n },
              },
              (0, R.we)("#Sale_BackgroundColor"),
            ),
            Boolean(Ma.iA.is_support) &&
              d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().ValveOnlyBackground,
                    w().SaleEditorSpacing,
                  ),
                },
                d.createElement(h.Yh, {
                  label: "No Background color?",
                  checked: o,
                  onChange: (e) => {
                    i(e), e && ((t.sale_background_color = void 0), a());
                  },
                }),
              ),
          ),
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(Aa.n, {
              setting: l,
              fnUpdateSetting: (e) => {
                t.sale_background_repeat != e &&
                  ((t.sale_background_repeat = e), a());
              },
            }),
          ),
        );
      }
      var La = a(98665);
      function ka(e) {
        const { strArrowColor: t, fnUpdateArrowColor: a, arrowStyle: n } = e,
          [l, o] = d.useState(null == t);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            h.$n,
            {
              className: la().BackgroundColorBtn,
              onClick: (e) => {
                (0, Na.lX)(
                  d.createElement(Ga.s, { color: t, onChange: a }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
            },
            d.createElement(La.m, {
              direction: "left",
              arrowFill: t,
              arrowStyle: n,
            }),
            (0, R.we)("#EventEditor_BG_Arrow_Color"),
            d.createElement(G.o, {
              tooltip: (0, R.we)("#EventEditor_BG_Arrow_Color_ttip"),
            }),
            d.createElement(La.m, {
              direction: "right",
              arrowFill: t,
              arrowStyle: n,
            }),
          ),
        );
      }
      function Ra(e) {
        const { label: t, fnUpdateColor: a, strColorToChange: n } = e;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            h.$n,
            {
              className: la().BackgroundColorBtn,
              onClick: (e) => {
                (0, Na.lX)(
                  d.createElement(Ga.s, { color: n, onChange: a }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
            },
            t,
            d.createElement(G.o, {
              tooltip: (0, R.we)("#EventEditor_BG_Arrow_Color_ttip"),
            }),
            d.createElement(La.U, { ...e, bIsActive: !1 }),
            d.createElement(La.U, { ...e, bIsActive: !0 }),
            d.createElement(La.U, { ...e, bIsActive: !1 }),
            d.createElement(La.U, { ...e, bIsActive: !1 }),
          ),
        );
      }
      var Oa = a(91667);
      function Pa(e) {
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(xa, { ...e }),
          d.createElement(Fa, { ...e }),
        );
      }
      function xa(e) {
        const { model: t, fnOnDirty: a } = e,
          [n, l] = (0, Xt.q3)(() => [
            t.sale_carousel_arrow_color,
            t.sale_carousel_arrow_style || Oa.C.k_ECutArrowStyle,
          ]),
          o = (0, d.useMemo)(() => {
            const e = [];
            return (
              e.push({
                label: (0, R.we)("#Sale_Section_Carousel_CutArrowStyles"),
                data: Oa.C.k_ECutArrowStyle,
              }),
              e.push({
                label: (0, R.we)("#Sale_Section_Carousel_DoubleArrowStyles"),
                data: Oa.C.k_EDoubleArrowStyle,
              }),
              e.push({
                label: (0, R.we)("#Sale_Section_Carousel_ChevronStyles"),
                data: Oa.C.k_EThickChevron,
              }),
              e.push({
                label: (0, R.we)("#Sale_Section_Carousel_FlatArrowStyles"),
                data: Oa.C.k_EFilledArrow,
              }),
              e.push({
                label: (0, R.we)("#Sale_Section_Carousel_PointyArrowStyles"),
                data: Oa.C.k_EPointyArrow,
              }),
              e
            );
          }, []);
        return d.createElement(
          "div",
          {
            className: (0, L.A)(w().FlexRowContainer, la().BackgroundConfigCtn),
          },
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(
              h.JU,
              null,
              (0, R.we)("#Sale_Section_Carousel_Colors"),
            ),
            d.createElement(ka, {
              strArrowColor: n,
              arrowStyle: l,
              fnUpdateArrowColor: (e) => {
                t.sale_carousel_arrow_color != e &&
                  ((t.sale_carousel_arrow_color = e), a());
              },
            }),
          ),
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(
              h.JU,
              null,
              (0, R.we)("#Sale_Section_Carousel_ArrowStyles"),
            ),
            d.createElement(h.m, {
              strDropDownClassName: w().DropDownScroll,
              rgOptions: o,
              selectedOption: l,
              onChange: (e) => {
                t.sale_carousel_arrow_style != e.data &&
                  ((t.sale_carousel_arrow_style = e.data), a());
              },
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
            }),
          ),
        );
      }
      function Fa(e) {
        const { model: t, fnOnDirty: a } = e,
          [n, l, o] = (0, Xt.q3)(() => [
            t.sale_carousel_breadcrumb_color,
            t.sale_carousel_active_breadcrumb_color,
            t.sale_carousel_breadcrumb_style || Oa.m.k_EPillCrumb,
          ]),
          i = (0, d.useMemo)(() => {
            const e = [];
            return (
              e.push({
                label: (0, R.we)(
                  "#Sale_Section_Carousel_BreadCrumb_PillStyles",
                ),
                data: Oa.m.k_EPillCrumb,
              }),
              e.push({
                label: (0, R.we)(
                  "#Sale_Section_Carousel_BreadCrumb_CircularStyles",
                ),
                data: Oa.m.k_ECircularCrumb,
              }),
              e.push({
                label: (0, R.we)(
                  "#Sale_Section_Carousel_BreadCrumb_SquareStyles",
                ),
                data: Oa.m.k_ESquareCrumb,
              }),
              e
            );
          }, []);
        return d.createElement(
          "div",
          {
            className: (0, L.A)(w().FlexRowContainer, la().BackgroundConfigCtn),
          },
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(
              h.JU,
              null,
              (0, R.we)("#Sale_Section_Carousel_BreadCrumb"),
            ),
            d.createElement(Ra, {
              label: (0, R.we)("#Sale_Section_Carousel_BreadCrumb_Color"),
              strColorToChange: n,
              breadcrumbColor: n,
              breadcrumbActiveColor: l,
              breadcrumbStyle: o,
              fnUpdateColor: (e) => {
                t.sale_carousel_breadcrumb_color != e &&
                  ((t.sale_carousel_breadcrumb_color = e), a());
              },
            }),
            d.createElement(Ra, {
              label: (0, R.we)("#Sale_Section_Carousel_ActiveBreadCrumb_Color"),
              strColorToChange: l,
              breadcrumbColor: n,
              breadcrumbActiveColor: l,
              breadcrumbStyle: o,
              fnUpdateColor: (e) => {
                t.sale_carousel_active_breadcrumb_color != e &&
                  ((t.sale_carousel_active_breadcrumb_color = e), a());
              },
            }),
          ),
          d.createElement(
            "div",
            { className: la().OptionCtn },
            d.createElement(
              h.JU,
              null,
              (0, R.we)("#Sale_Section_Carousel_BreadCrumbStyles"),
            ),
            d.createElement(h.m, {
              strDropDownClassName: w().DropDownScroll,
              rgOptions: i,
              selectedOption: o,
              onChange: (e) => {
                t.sale_carousel_breadcrumb_style != e.data &&
                  ((t.sale_carousel_breadcrumb_style = e.data), a());
              },
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
            }),
          ),
        );
      }
      var Ha = a(25489);
      function ja(e) {
        const { editModel: t } = e,
          [a, n, l] = (0, Xt.q3)(() => {
            var e;
            return [
              t.GetEventModel().jsondata.sale_header_offset,
              (null === (e = t.GetEventModel().jsondata.localized_sale_logo) ||
              void 0 === e
                ? void 0
                : e.filter(Boolean).length) || 0,
              t.GetEventModel().jsondata.sale_header_disable_top_margin,
            ];
          });
        return d.createElement(
          I.E,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, L.A)(
              w().PixelOffsetCtn,
              w().ValveOnlyBackground,
              w().SaleEditorSpacing,
            ),
          },
          d.createElement(
            "div",
            { className: "DialogLabel" },
            (0, R.we)("#Sale_HeaderOffset") + " (VO)",
          ),
          Boolean(n > 0)
            ? d.createElement(
                "div",
                null,
                (0, R.we)("#Sale_HeaderOffset_disabled"),
              )
            : d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  null,
                  (0, R.we)("#Sale_HeaderOffset_Desc"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, L.A)(
                      w().FlexRowContainer,
                      w().PixelOffsetRow,
                    ),
                  },
                  d.createElement(h.pd, {
                    value: a,
                    onChange: (e) => {
                      var a;
                      (t.GetEventModel().jsondata.sale_header_offset =
                        Number(
                          null === (a = null == e ? void 0 : e.target) ||
                            void 0 === a
                            ? void 0
                            : a.value,
                        ) || 0),
                        t.SetDirty(ne.IQ.jsondata_sales);
                    },
                  }),
                  d.createElement(
                    "div",
                    { className: w().PixelOffsetNote },
                    d.createElement(
                      "div",
                      { className: w().PixelOffsetCallout },
                      (0, R.we)("#Sale_HeaderOffset_Max", "530"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, R.we)("#Sale_HeaderOffset_MaxDeck"),
                    ),
                  ),
                ),
              ),
          d.createElement(h.Yh, {
            checked: l,
            label: "Disable Sale Page Top Pixels",
            onChange: (e) => {
              (t.GetEventModel().jsondata.sale_header_disable_top_margin = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
          }),
        );
      }
      function za(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [
            t.GetEventModel().jsondata.sale_background_color,
            t.GetEventModel().jsondata.sale_background_repeat,
          ]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(Ba, {
            model: t.GetEventModel().jsondata,
            fnOnDirty: () => t.SetDirty(ne.IQ.jsondata_sales),
          }),
          d.createElement(Pa, {
            model: t.GetEventModel().jsondata,
            fnOnDirty: () => t.SetDirty(ne.IQ.jsondata_sales),
          }),
          d.createElement(ja, { editModel: t }),
          d.createElement(qa, { editModel: t }),
          d.createElement(Ua, { editModel: t }),
        );
      }
      function Ua(e) {
        const { editModel: t } = e,
          a = d.createRef(),
          [n, l, o, i] = (0, Xt.q3)(() => [
            Ha.OQ(t.GetNumberOfDays(), 5, 14),
            t.GetNumSalesBackgroundHeader(),
            t.GetEventStartTime(),
            t.GetNumberOfDays(),
          ]),
          r = d.useCallback(() => {
            const e = [
              { label: (0, R.we)("#Sale_HeaderArtwork_Single"), data: 1 },
            ];
            if (n > 1)
              for (let t = 2; t <= n; t++)
                e.push({
                  label: (0, R.we)("#Sale_HeaderArtwork_Multi_Amount", t),
                  data: t,
                });
            return e;
          }, [n]),
          s = d.useCallback(
            (e) => {
              const n = e.data;
              l !== n &&
                (0, D.pg)(
                  d.createElement(y.o0, {
                    strTitle: (0, R.we)("#Button_Confirm"),
                    strDescription: (0, R.we)("#Sale_HeaderArtwork_Warning"),
                    onOK: () => t.SetNumSalesBackgroundHeader(n),
                    onCancel: () => {
                      var e;
                      return null === (e = null == a ? void 0 : a.current) ||
                        void 0 === e
                        ? void 0
                        : e.SetSelectedOption(l);
                    },
                  }),
                  window,
                );
            },
            [t, l, a],
          ),
          c = d.useCallback(() => {
            const e = [];
            for (let t = 0; t < l; t++) {
              const a = 86400;
              let n = o + a * t;
              const i = {
                label: (0, R.PP)(
                  t + 1 == l
                    ? "#Sale_HeaderArtwork_DayTimeOnward"
                    : "#Sale_HeaderArtwork_DayTime",
                  t + 1,
                  d.createElement(j.K4, { dateAndTime: n, bSingleLine: !0 }),
                  d.createElement(j.K4, {
                    dateAndTime: n + a,
                    bSingleLine: !0,
                  }),
                ),
                data: t,
              };
              e.push(i);
            }
            return e;
          }, [l, o]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(h.m, {
            dropDownControlRef: a,
            strDropDownClassName: w().DropDownScroll,
            label: (0, R.we)("#Sale_HeaderArtwork_Multi"),
            tooltip: (0, R.we)("#Sale_HeaderArtwork_Multi_hint"),
            rgOptions: r(),
            selectedOption: l,
            onChange: s,
            bDisableMouseOverlay: !0,
            disabled: i <= 1,
            contextMenuPositionOptions: {
              bDisableMouseOverlay: !0,
              bDisablePopTop: !0,
            },
            strClassName: la().SaleDaySelection,
          }),
          Boolean(l > 1) &&
            d.createElement(h.m, {
              strDropDownClassName: w().DropDownScroll,
              label: (0, R.we)("#Sale_HeaderArtwork_EditDay"),
              tooltip: (0, R.we)("#Sale_HeaderArtwork_EditDay_hint"),
              rgOptions: c(),
              selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
              onChange: (e) => {
                t.GetEventModel().m_overrideCurrentDay = e.data;
              },
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: la().SaleDaySelection,
            }),
        );
      }
      function qa(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [
            t.GetEventModel().jsondata.sale_background_video_webm,
            t.GetEventModel().jsondata.sale_background_video_mp4,
          ]);
        return d.createElement(
          I.E,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, L.A)(w().ValveOnlyBackground, w().SaleEditorSpacing),
          },
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#Sale_BackgroundVideo_Title"),
          ),
          (0, R.we)("#Sale_BackgroundVideo_Instructions"),
          d.createElement(h.pd, {
            label: (0, R.we)("#Sale_BackgroundVideo_WebM"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_webm =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
            value: a,
          }),
          d.createElement(h.pd, {
            label: (0, R.we)("#Sale_BackgroundVideo_MP4"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_mp4 =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
            value: n,
          }),
        );
      }
      var Va = a(10206),
        Wa = a(40236),
        Qa = a(97833),
        Ya = a(47487);
      function Ja(e) {
        const {
            strSectionId: t,
            hasMinimize: a,
            strTitle: n,
            children: l,
            strToolTip: o,
            valveOnly: i,
            valveOnlyClanSteamID: r,
            requireAdmin: s,
            dataToCopy: c,
          } = e,
          m = (0, Xt.q3)(() => a && (0, ua.Nx)(t));
        if (r && !(0, I.m)(r, s)) return null;
        return d.createElement(
          Ka,
          { strSectionId: t },
          d.createElement(
            "div",
            {
              id: t,
              className: (0, L.A)({
                [Va.SettingCtn]: !0,
                [Va.ValveOnly]: i || !!r,
              }),
            },
            d.createElement(
              "div",
              {
                className: Va.Title,
                onDoubleClick: (e) => {
                  (0, ua.mi)(t), e.preventDefault(), e.stopPropagation();
                },
                onMouseDown: (e) => {
                  e.detail > 1 && e.preventDefault();
                },
              },
              n,
              o && d.createElement(G.o, { tooltip: o }),
              Boolean(c) &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(Qa.R6, {
                    dataToCopy: Ya.E.k_EventData_SubMenu,
                  }),
                  d.createElement(Qa.oO, {
                    dataToPaste: Ya.E.k_EventData_SubMenu,
                  }),
                ),
              a &&
                d.createElement(z.pn, {
                  bIsMinimized: m,
                  fnToggleMinimize: () => (0, ua.mi)(t),
                }),
            ),
            !m && l,
          ),
        );
      }
      function Ka(e) {
        const { strSectionId: t, children: a } = e,
          n = (0, Wa.OO)(
            {
              onEnter: () => Xa.m_mapVisibleSections.set(t, t),
              onLeave: () => Xa.m_mapVisibleSections.delete(t),
            },
            { rootMargin: "-100px 0px -100px 0px" },
          );
        return d.createElement(
          Ct.tH,
          { key: "eb_sale_sect_" + t },
          d.createElement(
            "div",
            { key: "waypoint_sale_sect_" + t, className: Va.Waypoint, ref: n },
            a,
          ),
        );
      }
      class Za {
        constructor() {
          (this.m_mapVisibleSections = new Map()), (0, Z.Gn)(this);
        }
      }
      (0, J.Cg)([Z.sH], Za.prototype, "m_mapVisibleSections", void 0);
      const Xa = new Za(),
        $a = (0, c.PA)((e) => {
          var t, a, n, o;
          const { editModel: i } = e,
            [r, s] = (0, Xt.q3)(() => [i.GetAppID(), i.GetEventType()]),
            c = Boolean(
              i.BHasSomeImage("product_banner") &&
                i.GetEventModel().BHasTag("hide_store"),
            ),
            m = Boolean(
              i.BHasSomeImage("product_mobile_banner") &&
                i.GetEventModel().BHasTag("hide_store"),
            ),
            u = 36 == s,
            _ = (e, t = !1) => (0, ua.Nx)(e, t),
            E = (e, t = !1) => (0, ua.mi)(e, t),
            p =
              (null ===
                (t =
                  i.GetEventModel().jsondata.localized_sale_product_banner) ||
              void 0 === t
                ? void 0
                : t.length) || 0,
            v =
              (null ===
                (a =
                  i.GetEventModel().jsondata
                    .localized_sale_product_mobile_banner) || void 0 === a
                ? void 0
                : a.length) || 0,
            g =
              (null === (n = i.GetEventModel().jsondata.localized_sale_logo) ||
              void 0 === n
                ? void 0
                : n.length) || 0,
            S =
              (null ===
                (o = i.GetEventModel().jsondata.localized_sale_overlay) ||
              void 0 === o
                ? void 0
                : o.length) || 0,
            b = [];
          return (
            u
              ? b.push("sale_header")
              : (b.push(
                  "sale_header",
                  "product_banner",
                  "product_mobile_banner",
                  "sale_logo",
                ),
                (0, I.m)(i.GetClanSteamID(), !0) && b.push("sale_overlay")),
            d.createElement(
              d.Fragment,
              null,
              d.createElement(ta.t, {
                clanSteamID: i.GetClanSteamID(),
                rgSupportArtwork: b,
                fnSetImageURL: i.SetImageURL,
                bAllowPreviousClanImageSelection: !0,
                rgRealmList: i.GetIncludedRealmList(),
              }),
              d.createElement(
                Ka,
                { strSectionId: "SalePageEdit_SaleBgImg" },
                d.createElement(aa.it, {
                  id: "SalePageEdit_SaleBgImg",
                  appid: r,
                  eventModel: i.GetEventModel(),
                  clanSteamID: i.GetClanSteamID(),
                  title: (0, R.we)("#EventEditor_ArtworkType_sale_header"),
                  artworkType: "sale_header",
                  elEventArtworkExample: d.createElement(ma, {
                    artworkType: "sale_header",
                  }),
                  bIsMinimized: _("sale_header"),
                  fnLangHasData: (e) => i.BHasImage("sale_header", e),
                  fnSetImageURL: i.SetImageURL,
                  fnGetImageHashAndExt: i.GetImageHashAndExt,
                  fnToggleMinimize: () => E("sale_header"),
                  partnerEventStore: l.mh,
                  elAdditionalControls: d.createElement(za, { editModel: i }),
                }),
              ),
              !u &&
                d.createElement(
                  Ka,
                  { strSectionId: "SalePageEdit_SaleLogo" },
                  d.createElement(
                    "div",
                    { className: Va.SalePageLogoCtn },
                    d.createElement(aa.it, {
                      id: "SalePageEdit_SaleLogo",
                      clanSteamID: i.GetClanSteamID(),
                      eventModel: i.GetEventModel(),
                      appid: r,
                      title: (0, R.we)("#EventEditor_ArtworkType_sale_logo"),
                      artworkType: "sale_logo",
                      elEventArtworkExample: d.createElement(ma, {
                        artworkType: "sale_logo",
                      }),
                      bIsMinimized: _("sale_logo"),
                      fnLangHasData: (e) => i.BHasImage("sale_logo", e),
                      fnSetImageURL: i.SetImageURL,
                      fnGetImageHashAndExt: i.GetImageHashAndExt,
                      fnToggleMinimize: () => E("sale_logo"),
                      partnerEventStore: l.mh,
                      fnRemoveAllArtwork:
                        0 == g
                          ? void 0
                          : () => {
                              (0, Z.h5)(() => {
                                (i.GetEventModel().jsondata.localized_sale_logo =
                                  []),
                                  i.SetDirty(ne.IQ.jsondata_sales);
                              });
                            },
                    }),
                    d.createElement(h.pd, {
                      label: (0, R.we)(
                        "#EventEditor_ArtworkType_sale_logo_url",
                      ),
                      value: i.GetEventModel().jsondata.sale_logo_url,
                      tooltip: (0, R.we)(
                        "#EventEditor_ArtworkType_sale_logo_url_tooltip",
                      ),
                      onChange: (e) => {
                        (0, Z.h5)(() => {
                          (i.GetEventModel().jsondata.sale_logo_url =
                            e.target.value),
                            i.SetDirty(ne.IQ.jsondata_sales);
                        });
                      },
                    }),
                  ),
                ),
              !u &&
                d.createElement(
                  Ka,
                  { strSectionId: "SalePageEdit_SaleBanner" },
                  d.createElement(aa.it, {
                    id: "SalePageEdit_SaleBanner",
                    clanSteamID: i.GetClanSteamID(),
                    eventModel: i.GetEventModel(),
                    appid: r,
                    fnLangHasData: (e) => i.BHasImage("product_banner", e),
                    fnSetImageURL: i.SetImageURL,
                    fnGetImageHashAndExt: i.GetImageHashAndExt,
                    title: (0, R.we)(
                      "#EventEditor_ArtworkType_sale_product_banner",
                    ),
                    artworkType: "product_banner",
                    bIsMinimized: _("product_banner"),
                    fnToggleMinimize: () => E("product_banner"),
                    strWarning: c
                      ? (0, R.we)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    elEventArtworkExample: d.createElement(ma, {
                      artworkType: "product_banner",
                    }),
                    partnerEventStore: l.mh,
                    fnRemoveAllArtwork:
                      0 == p
                        ? void 0
                        : () => {
                            (0, Z.h5)(() => {
                              (i.GetEventModel().jsondata.localized_sale_product_banner =
                                []),
                                i.SetDirty(ne.IQ.jsondata_sales);
                            });
                          },
                  }),
                ),
              !u &&
                d.createElement(
                  Ka,
                  { strSectionId: "SalePageEdit_SaleMobileBanner" },
                  d.createElement(aa.it, {
                    id: "SalePageEdit_SaleMobileBanner",
                    clanSteamID: i.GetClanSteamID(),
                    eventModel: i.GetEventModel(),
                    appid: r,
                    title: (0, R.we)(
                      "#EventEditor_ArtworkType_sale_product_mobile_banner",
                    ),
                    artworkType: "product_mobile_banner",
                    bIsMinimized: _("product_mobile_banner"),
                    fnToggleMinimize: () => E("product_mobile_banner"),
                    fnLangHasData: (e) =>
                      i.BHasImage("product_mobile_banner", e),
                    fnSetImageURL: i.SetImageURL,
                    fnGetImageHashAndExt: i.GetImageHashAndExt,
                    partnerEventStore: l.mh,
                    strWarning: m
                      ? (0, R.we)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    fnRemoveAllArtwork:
                      0 == v
                        ? void 0
                        : () => {
                            (0, Z.h5)(() => {
                              (i.GetEventModel().jsondata.localized_sale_product_mobile_banner =
                                []),
                                i.SetDirty(ne.IQ.jsondata_sales);
                            });
                          },
                  }),
                ),
              !u &&
                d.createElement(
                  Ka,
                  { strSectionId: "SalePageEdit_SaleOverlay" },
                  d.createElement(
                    I.E,
                    {
                      clanSteamID: i.GetClanSteamID(),
                      requireAdmin: !0,
                      className: Va.SalePageLogoCtn,
                    },
                    d.createElement(aa.it, {
                      id: "SalePageEdit_SaleOverlay",
                      clanSteamID: i.GetClanSteamID(),
                      eventModel: i.GetEventModel(),
                      appid: r,
                      title: (0, R.we)("#EventEditor_ArtworkType_sale_overlay"),
                      artworkType: "sale_overlay",
                      elEventArtworkExample: d.createElement(ma, {
                        artworkType: "sale_overlay",
                      }),
                      bIsMinimized: _("sale_overlay"),
                      fnToggleMinimize: () => E("sale_overlay"),
                      fnLangHasData: (e) => i.BHasImage("sale_overlay", e),
                      fnSetImageURL: i.SetImageURL,
                      fnGetImageHashAndExt: i.GetImageHashAndExt,
                      partnerEventStore: l.mh,
                      fnRemoveAllArtwork:
                        0 == S
                          ? void 0
                          : () => {
                              (0, Z.h5)(() => {
                                (i.GetEventModel().jsondata.localized_sale_overlay =
                                  []),
                                  i.SetDirty(ne.IQ.jsondata_sales);
                              });
                            },
                    }),
                  ),
                ),
            )
          );
        });
      var en = a(63556),
        tn = a(43470),
        an = a(71298),
        nn = a(11833),
        ln = a(88942),
        on = a(30470);
      function rn(e) {
        const { data: t, isLoading: a } = (0, ln.I)({
          queryKey: ["PartnerInfoList", e],
          queryFn: () =>
            (async function (e) {
              var t, a;
              const n = { accountid: e, origin: self.origin };
              let l = `${on.TS.COMMUNITY_BASE_URL}actions/ajaxgetuserpartnerinfo`;
              "partnerweb" == (0, P.yK)() &&
                (l = `${on.TS.PARTNER_BASE_URL}actions/ajaxgetuserpartnerinfo`);
              const o = await s().get(l, { params: n, withCredentials: !0 });
              if (
                !o ||
                200 != o.status ||
                1 !=
                  (null === (t = o.data) || void 0 === t
                    ? void 0
                    : t.success) ||
                !(null === (a = o.data) || void 0 === a ? void 0 : a.partners)
              )
                throw `Load single user partner info failed ${((0, M.H))(o).strErrorMsg}`;
              return o.data.partners;
            })(e),
        });
        return a ? null : t;
      }
      function sn(e) {
        const {
            accountID: t,
            partnerID: a,
            fnSetPartnerID: n,
            strLabel: l,
            strTooltip: o,
          } = e,
          i = rn(t),
          r = (0, d.useMemo)(
            () =>
              (null == i ? void 0 : i.length) > 0
                ? i.map((e) => ({ label: e.partner_name, data: e.partnerid }))
                : null,
            [i],
          );
        return null == r
          ? null
          : d.createElement(h.m, {
              label: l,
              tooltip: o,
              rgOptions: r,
              selectedOption: a,
              onChange: (e) => n(e.data),
            });
      }
      function cn(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { bLoading: n } = (0, tn.g7)(t.GetAccountID(), a);
        return n
          ? d.createElement(T.t, { string: (0, R.we)("#Loading") })
          : d.createElement(dn, { ...e });
      }
      function dn(e) {
        const { clanSteamID: t, gidClanEvent: a, fnOkCallbackList: n } = e,
          {
            bPublishRequiresValveApproval: l,
            fnSetStorePublishingRequiresValveApproval: o,
            bRequiresHostDisclaimer: i,
            fnSetStoreRequireHostDisclaimer: r,
            bHasSettingForRequiresValveApproval: s,
            strExternalSaleEventType: c,
            fnSetExternalSaleEventType: m,
          } = (0, tn.g7)(t.GetAccountID(), a),
          [u, _] = (0, d.useState)(!s || l),
          [E, p] = (0, d.useState)(i);
        return (
          (0, O.hL)(n, () => {
            o(u), r(E);
          }),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(h.Yh, {
              checked: n ? u : !s || l,
              onChange: (e) => {
                _(e), n || o(e);
              },
              label:
                "Require Approval by Valve Admin in order to publish this sales events",
              tooltip:
                "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
            }),
            d.createElement(h.Yh, {
              checked: n ? E : i,
              onChange: (e) => {
                p(e), n || r(e);
              },
              label: (0, R.we)("#SalePresented_By_Admin"),
              tooltip: (0, R.we)("#SalePresneted_By_Admin_ttip"),
            }),
            "Select event type so that we can show the right documentation to the partner:",
            d.createElement(h.m, {
              rgOptions: [
                {
                  label: "Publisher/Developer Sale",
                  data: "publisher",
                  tooltip:
                    "A developer, publisher or franchise want to showcase their games on a sale page.",
                },
                {
                  label: "Showcase/Festival/Convention",
                  data: "showcase",
                  tooltip:
                    "festivals, convensions, showcases. Typically events with a physical presence, but not always",
                },
                {
                  label: "Regional Sale",
                  data: "region",
                  tooltip: "For Made in XYZ Location events",
                },
                {
                  label: "Themed Sale",
                  data: "theme",
                  tooltip:
                    "For events organized around a particular genre, theme, style",
                },
                {
                  label: "Franchise Sale",
                  data: "franchise",
                  tooltip: "For events organized around a particular franchise",
                },
              ],
              strDropDownClassName: b.DropDownScroll,
              strDropDownMenuCtnClass: b.DropDownScroll,
              strDropDownItemClassName: b.DropDownScrollItem,
              selectedOption: c,
              onChange: (e) => m(e.data),
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
          )
        );
      }
      function mn(e) {
        var t, a;
        const {
            clanSteamID: n,
            gidClanEvent: l,
            rgSalePresenters: o,
            fnCleanSaleEventPresenters: i,
            bPublishTab: r,
            bIsEventVisible: s,
          } = e,
          {
            bLoading: c,
            bPublishRequiresValveApproval: m,
            nAccountApproved: u,
            bRequiresHostDisclaimer: _,
            fnSetStoreRequireHostDisclaimer: E,
          } = (0, tn.g7)(n.GetAccountID(), l),
          { oPrivateData: p } = (0, tn.fj)(n.GetAccountID(), l),
          v = un(n, l);
        if (s)
          return (
            v &&
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  nn.ApprovalRequiredCtn,
                  nn.PublishWithRestrictions,
                ),
              },
              d.createElement(
                "div",
                { className: nn.Left },
                d.createElement(_n, { clanSteamID: n, gidClanEvent: l }),
              ),
            )
          );
        if (!c && m && !u) {
          const e = (e) => {
              (0, D.pg)(
                d.createElement(gn, { clanSteamID: n, gidClanEvent: l }),
                (0, k.uX)(e),
              );
            },
            r = (e) => {
              (0, D.pg)(
                d.createElement(vn, { clanSteamID: n, gidClanEvent: l }),
                (0, k.uX)(e),
              );
            },
            s =
              null === (t = null == p ? void 0 : p.jsonData) || void 0 === t
                ? void 0
                : t.strSalePageApprovalHelpTicketReferenceCode;
          return d.createElement(
            "div",
            {
              className: (0, L.A)(
                nn.ApprovalRequiredCtn,
                s ? nn.PendingApproval : "",
              ),
            },
            d.createElement(
              "div",
              { className: nn.Left },
              s
                ? d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      "div",
                      { className: nn.Title },
                      (0, R.we)("#EventEditor_SaleValveApproval_Title_Pending"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, R.we)("#EventEditor_SaleValveApproval_Desc_Pending"),
                    ),
                  )
                : d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      "div",
                      { className: nn.Title },
                      (0, R.we)("#EventEditor_SaleValveApproval_Title"),
                    ),
                    d.createElement(
                      "div",
                      null,
                      (0, R.we)("#EventEditor_SaleValveApproval_Desc"),
                    ),
                  ),
            ),
            d.createElement(
              "div",
              { className: nn.Right },
              s
                ? d.createElement(
                    ca.uU,
                    {
                      href: `${P.TS.HELP_BASE_URL}en/wizard/HelpRequest/${null === (a = null == p ? void 0 : p.jsonData) || void 0 === a ? void 0 : a.strSalePageApprovalHelpTicketReferenceCode}`,
                      className: (0, L.A)(b.EditPreviewButton, b.Button),
                      bForceExternal: !0,
                    },
                    (0, R.we)("#EventEditor_SaleValveApproval_Request_Link"),
                  )
                : d.createElement(
                    te.he,
                    {
                      toolTipContent: (0, R.we)(
                        "#EventEditor_SaleValveApproval_Request_Approval_ttip",
                      ),
                    },
                    d.createElement(
                      h.jn,
                      { onClick: e },
                      (0, R.we)(
                        "#EventEditor_SaleValveApproval_Request_Button",
                      ),
                    ),
                  ),
              d.createElement(
                I.E,
                { clanSteamID: n },
                d.createElement(
                  h.$n,
                  { onClick: r },
                  "Approve... ",
                  d.createElement(G.o, {
                    tooltip: (0, R.we)(
                      "#EventEditor_SaleValveApproval_Admin_Tooltip",
                    ),
                  }),
                ),
                Boolean((null == o ? void 0 : o.length) > 0) &&
                  d.createElement(
                    h.$n,
                    { onClick: i },
                    (0, R.we)("#SalePresented_By_ClearPresenters"),
                  ),
              ),
            ),
          );
        }
        return !c && m && u
          ? d.createElement(
              "div",
              { className: (0, L.A)(nn.ApprovalRequiredCtn, nn.Approved) },
              d.createElement(
                "div",
                { className: nn.Left },
                d.createElement(
                  "div",
                  { className: nn.Title },
                  " ",
                  (0, R.we)("#EventEditor_SaleValveApproval_Approved_Title"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    r
                      ? "#EventEditor_SaleValveApproval_Approved_Desc_OnPublish"
                      : "#EventEditor_SaleValveApproval_Approved_Desc",
                  ),
                ),
                d.createElement("br", null),
                d.createElement(_n, { clanSteamID: n, gidClanEvent: l }),
              ),
            )
          : null;
      }
      function un(e, t) {
        const {
          bLoading: a,
          bAllowAddingAppsPackagesBundles: n,
          bAllowChangingVanityURL: l,
          bAllowMakingChangesToSalePage: o,
        } = (0, tn.fp)(e.GetAccountID(), t);
        return !(a || (n && l && o));
      }
      function _n(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          n = un(t, a),
          {
            bAllowAddingAppsPackagesBundles: l,
            bAllowChangingVanityURL: o,
            bAllowMakingChangesToSalePage: i,
          } = (0, tn.fp)(t.GetAccountID(), a);
        return n
          ? d.createElement(
              "div",
              null,
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEditor_SaleEditor_Restriction"),
              ),
              d.createElement(
                "ul",
                null,
                !o &&
                  d.createElement(
                    "li",
                    null,
                    (0, R.we)("#EventEditor_SaleEditor_Block_URL"),
                    " ",
                    d.createElement(G.o, {
                      tooltip: (0, R.we)(
                        "#EventEditor_SaleEditor_Block_URL_ttip",
                      ),
                    }),
                  ),
                !l &&
                  d.createElement(
                    "li",
                    null,
                    (0, R.we)("#EventEditor_SaleEditor_Block_App"),
                    " ",
                    d.createElement(G.o, {
                      tooltip: (0, R.we)(
                        "#EventEditor_SaleEditor_Block_App_ttip",
                      ),
                    }),
                  ),
                !i &&
                  d.createElement(
                    "li",
                    null,
                    (0, R.we)("#EventEditor_SaleEditor_Block_Sale"),
                  ),
              ),
            )
          : null;
      }
      function En(e) {
        const { clanSteamID: t, gidClanEvent: a, bShowThrobber: n } = e,
          {
            bLoading: l,
            bAllowChangingVanityURL: o,
            bAllowAddingAppsPackagesBundles: i,
            bAllowMakingChangesToSalePage: r,
            fnSetAllowAddingAppsPackagesBundles: s,
            fnSetAllowChangingVanityURL: c,
            fnSetAllowMakingChangesToSalePage: m,
          } = (0, tn.fp)(t.GetAccountID(), a);
        return n && l
          ? d.createElement(T.t, {
              string: (0, R.we)("#Loading"),
              size: "medium",
              position: "center",
            })
          : d.createElement(
              "div",
              null,
              d.createElement("h3", null, "Post Approval Controls"),
              d.createElement("br", null),
              d.createElement(h.Yh, {
                checked: o,
                onChange: c,
                label: "Allow Updating Vanity URL After Approval",
                tooltip:
                  "Unset when we plan to feature with a direct link to the landing page",
              }),
              d.createElement(h.Yh, {
                checked: i,
                onChange: s,
                label: "Allow Adding Apps/Packages/Bundles after Approval",
                tooltip:
                  "Use when we agreed to a specific app/package/bundle list for them to use.",
              }),
              d.createElement(h.Yh, {
                checked: r,
                onChange: m,
                label:
                  "Allow Updating layout/artwork/ordering/carousels After Approval",
                tooltip:
                  "Use when we don't have full trust that they won't change the art or featuring in a way that breaks what we reviewed and agreed upon",
              }),
            );
      }
      function pn(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          l = "Update Post Review Editability",
          [o, i, r] = (0, tn.hr)(),
          s = (0, an.vs)();
        return s.bLoading
          ? d.createElement(an.Hh, {
              state: s,
              strDialogTitle: l,
              closeModal: n,
            })
          : d.createElement(
              y.o0,
              {
                strTitle: l,
                onOK: () => {
                  s.fnSetLoading(!0),
                    r(a)
                      .then((e) => {
                        1 == e
                          ? n()
                          : (i(),
                            s.fnSetError(!0),
                            s.fnSetStrError(
                              "Failed to update Private Data: " + e,
                            ));
                      })
                      .catch((e) => {
                        i(),
                          s.fnSetError(!0),
                          s.fnSetStrError((0, M.H)(e).strErrorMsg);
                      });
                },
                strOKButtonText: "Update",
                bDisableBackgroundDismiss: !0,
                closeModal: n,
                onCancel: i,
                bOKDisabled: Boolean(s.bError),
              },
              d.createElement(En, {
                clanSteamID: t,
                gidClanEvent: a,
                bShowThrobber: !0,
              }),
            );
      }
      function vn(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          { fnSetAccountApproved: l } = (0, tn.g7)(t.GetAccountID(), a),
          [o, i, r] = (0, tn.hr)(),
          s = "APPROVE SALE PAGE?",
          c = (0, an.vs)();
        if (c.bLoading)
          return d.createElement(an.Hh, {
            state: c,
            strDialogTitle: s,
            closeModal: n,
          });
        return d.createElement(
          y.o0,
          {
            strTitle: s,
            strDescription:
              "This will remove the publishing block and allow the partner to publish anytime afterward. As a reminder, these are the things we should check before approving:",
            onOK: () => {
              c.fnSetLoading(!0),
                l(P.iA.accountid),
                r(a)
                  .then((e) => {
                    1 == e
                      ? n()
                      : (i(),
                        c.fnSetError(!0),
                        c.fnSetStrError("Failed to update Private Data: " + e));
                  })
                  .catch((e) => {
                    i(),
                      c.fnSetError(!0),
                      c.fnSetStrError((0, M.H)(e).strErrorMsg);
                  });
            },
            strOKButtonText: "Yes, Approve",
            bDisableBackgroundDismiss: !0,
            closeModal: n,
            onCancel: i,
            bOKDisabled: Boolean(c.bError),
          },
          d.createElement(
            "div",
            null,
            d.createElement("br", null),
            d.createElement("br", null),
            d.createElement("h3", null, "Key requirements:"),
            d.createElement(
              "ul",
              null,
              d.createElement(
                "li",
                null,
                "Is the event organizer clearly communicated on the sale page?",
              ),
              d.createElement("li", null, "Are the dates set correctly?"),
              d.createElement(
                "li",
                null,
                "Are the store page banners reasonable and avoid sponsor logos?",
              ),
            ),
            d.createElement("h3", null, "If we are promoting this event:"),
            d.createElement(
              "ul",
              null,
              d.createElement(
                "li",
                null,
                "Does the artwork fit the space and fade nicely on the edges?",
              ),
              d.createElement(
                "li",
                null,
                "Do we have all layered art files in hand if we are promoting this event?",
              ),
            ),
            d.createElement(En, { clanSteamID: t, gidClanEvent: a }),
          ),
        );
      }
      function gn(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          {
            bLoading: l,
            oPrivateData: o,
            fnSetPrivateJsonNoDirty: i,
          } = (0, tn.fj)(t.GetAccountID(), a),
          [r, c] = (0, d.useState)(""),
          [m, u] = (0, d.useState)(null),
          _ = (0, an.vs)();
        return _.bLoading
          ? d.createElement(an.Hh, {
              state: _,
              strDialogTitle: (0, R.we)(
                "#EventEditor_SaleValveApproval_Request_Approval",
              ),
              closeModal: n,
            })
          : d.createElement(
              y.o0,
              {
                strTitle: (0, R.we)(
                  "#EventEditor_SaleValveApproval_Request_Approval",
                ),
                strDescription: (0, R.we)(
                  "#EventEditor_SaleValveApproval_Request_Desc",
                ),
                bDisableBackgroundDismiss: !0,
                bOKDisabled: l,
                onCancel: n,
                onOK: async () => {
                  _.fnSetLoading(!0),
                    (async function (e, t, a, n) {
                      const l =
                          P.TS.COMMUNITY_BASE_URL +
                          "partnereventdata/ajaxrequestsalepagereview",
                        o = new URLSearchParams();
                      o.append("sessionid", P.TS.SESSIONID),
                        o.append("clanAccountID", "" + e.GetAccountID()),
                        o.append("gidClanEvent", t),
                        o.append("partnerID", "" + n),
                        o.append("message", a);
                      try {
                        let e = await s().post(l, o, { withCredentials: !0 });
                        return e && 200 == e.status && 1 == e.data.success
                          ? e.data
                          : (console.error(
                              "CreateReviewRequestTicket failed.",
                              e && (0, M.H)(e),
                            ),
                            29 == e.data.success ? e.data : null);
                      } catch (e) {
                        const t = (0, M.H)(e);
                        console.error(
                          "CreateReviewRequestTicket failed: " + t.strErrorMsg,
                          t,
                        );
                      }
                      return null;
                    })(t, a, r, m)
                      .then((e) => {
                        e && 1 == e.success
                          ? (i({
                              ...o,
                              strSalePageApprovalHelpTicketReferenceCode:
                                e.reference_code,
                            }),
                            _.fnSetSuccess(!0),
                            _.fnSetElSuccess(
                              d.createElement(
                                "div",
                                null,
                                d.createElement(
                                  "div",
                                  null,
                                  (0, R.we)(
                                    "#EventEditor_SaleValveApproval_Request_Success",
                                  ),
                                ),
                                d.createElement(
                                  ca.uU,
                                  { href: e.help_url, bForceExternal: !0 },
                                  (0, R.we)(
                                    "#EventEditor_SaleValveApproval_Request_Link",
                                  ),
                                ),
                              ),
                            ))
                          : 29 == e.success
                            ? (_.fnSetError(!0),
                              _.fnSetStrError(
                                (0, R.we)(
                                  "#EventEditor_SaleValveApproval_Request_DuplicateError",
                                ),
                              ))
                            : (_.fnSetError(!0),
                              _.fnSetStrError(
                                (0, R.we)(
                                  "#EventEditor_SaleValveApproval_Request_Error",
                                ),
                              ));
                      })
                      .catch((e) => {
                        _.fnSetError(!0),
                          _.fnSetStrError(
                            (0, R.we)(
                              "#EventEditor_SaleValveApproval_Request_Error",
                            ),
                          );
                      });
                },
              },
              d.createElement("br", null),
              d.createElement("br", null),
              (0, R.we)("#EventEditor_SaleValveApproval_Request_Desc2"),
              d.createElement("br", null),
              d.createElement("br", null),
              (0, R.we)("#EventEditor_SaleValveApproval_Request_Desc3"),
              d.createElement("br", null),
              d.createElement("br", null),
              d.createElement(h.pd, {
                type: "text",
                label: (0, R.we)(
                  "#EventEditor_SaleValveApproval_Request_InputText",
                ),
                onChange: (e) => c(e.currentTarget.value || ""),
                value: r,
              }),
              d.createElement(sn, {
                accountID: P.iA.accountid,
                partnerID: m,
                fnSetPartnerID: u,
                strLabel: (0, R.we)(
                  "#EventEditor_SaleValveApproval_Request_Partner",
                ),
                strTooltip: (0, R.we)(
                  "#EventEditor_SaleValveApproval_Request_Partner_ttip",
                ),
              }),
            );
      }
      var hn = a(84174),
        Sn = a(12155),
        bn = a(18333),
        wn = a(22230);
      function Cn(e) {
        const t = l.mh.GetEditModel(),
          {
            bLoading: a,
            nAcceptingGuidelineAccount: n,
            bRequiresHostDisclaimer: o,
          } = (0, tn.lA)(t.GetClanAccountID(), t.GetGID()),
          [i, r] = (0, Xt.q3)(() => [
            t.BHasSaleEnabled(),
            t.GetEventModel().jsondata.sale_presenters,
          ]);
        if (!i) return d.createElement(d.Fragment, null);
        const s = (0, I.m)(t.GetClanSteamID(), !0),
          c = Boolean(n);
        return s ||
          (c && (!o || (null == r ? void 0 : r.length) >= 1)) ||
          36 == t.GetEventType()
          ? d.createElement(d.Fragment, null, e.children)
          : a
            ? d.createElement(T.t, null)
            : c
              ? d.createElement(
                  "div",
                  { className: wn.GuidelinesNoticeCtn },
                  d.createElement(
                    "div",
                    { className: wn.Intro },
                    d.createElement(
                      "div",
                      { className: wn.State },
                      d.createElement(Sn.Jlk, null),
                    ),
                    d.createElement(
                      "div",
                      { className: wn.Description },
                      (0, R.we)("#EventDisclaimer_GuidelineAccepted"),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: wn.Intro },
                    d.createElement("div", { className: wn.State }, ""),
                    d.createElement(
                      "div",
                      { className: wn.Description },
                      (0, R.we)("#EventDisclaimer_desc"),
                      d.createElement(
                        "div",
                        { className: wn.OpenGuidelinesBtnCtn },
                        d.createElement(
                          h.jn,
                          {
                            onClick: (e) =>
                              (0, D.pg)(
                                d.createElement(An, null),
                                (0, k.uX)(e),
                              ),
                          },
                          (0, R.we)("#EventDisclaimer_button_enter"),
                        ),
                      ),
                    ),
                  ),
                )
              : d.createElement(
                  "div",
                  { className: wn.GuidelinesNoticeCtn },
                  d.createElement(
                    "div",
                    { className: wn.Intro },
                    " ",
                    (0, R.we)("#EventSaleGuidelines_desc"),
                  ),
                  d.createElement(
                    "div",
                    { className: wn.OpenGuidelinesBtnCtn },
                    d.createElement(
                      h.jn,
                      {
                        onClick: (e) =>
                          (0, D.pg)(
                            d.createElement(Nn, { bCheckListReadOnly: !1 }),
                            (0, k.uX)(e),
                          ),
                      },
                      (0, R.we)("#EventSaleGuidelines_Review"),
                    ),
                  ),
                );
      }
      function fn(e) {
        const t = l.mh.GetEditModel(),
          { bLoading: a, nAcceptingGuidelineAccount: n } = (0, tn.lA)(
            t.GetClanAccountID(),
            t.GetGID(),
          ),
          { bVisible: o } = (0, v._5)(t.GetEventModel()),
          { bVisible: i } = (0, v.Ao)(t.GetEventModel());
        if (a) return null;
        if (o || i) return null;
        if ((0, I.m)(t.GetClanSteamID(), !0)) return d.createElement(Gn, null);
        return Boolean(n) ? d.createElement(yn, null) : null;
      }
      function yn() {
        const e = l.mh.GetEditModel(),
          {
            rtAcceptanceTime: t,
            strSalePageApprovalHelpTicketReferenceCode: a,
          } = (0, tn.lA)(e.GetClanAccountID(), e.GetGID()),
          n = (0, Xt.q3)(() => {
            var t;
            const a = e.GetEventModel().jsondata.sale_presenters;
            return (
              (null == a ? void 0 : a.length) > 0 &&
              (null === (t = a[0].localized_presenter_name) || void 0 === t
                ? void 0
                : t.length) > 0 &&
              a[0].localized_presenter_name[0].length > 0
            );
          });
        return d.createElement(
          "div",
          { className: wn.GuidelinesDoneCtn },
          d.createElement(
            "div",
            { className: wn.Text },
            (0, R.PP)(
              "#EventSaleGuidelines_AlreadyReviewed",
              d.createElement(j.K4, { dateAndTime: t, bSingleLine: !0 }),
            ),
            Boolean(!n) &&
              d.createElement(
                "div",
                { className: wn.OrganizerInfoNeeded },
                (0, R.we)("#SalePresented_By_Instructions"),
                " ",
              ),
          ),
          d.createElement(
            "div",
            { className: wn.ProcessButtons },
            d.createElement(
              h.$n,
              {
                onClick: (e) =>
                  (0, D.pg)(
                    d.createElement(Nn, { bCheckListReadOnly: !0 }),
                    (0, k.uX)(e),
                  ),
              },
              (0, R.we)("#EventSaleGuidelines_Review"),
            ),
            n
              ? d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    h.$n,
                    {
                      onClick: (e) =>
                        (0, D.pg)(d.createElement(An, null), (0, k.uX)(e)),
                    },
                    (0, R.we)("#EventDisclaimer_button"),
                  ),
                )
              : d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    h.jn,
                    {
                      onClick: (e) =>
                        (0, D.pg)(d.createElement(An, null), (0, k.uX)(e)),
                    },
                    (0, R.we)("#EventDisclaimer_button_enter"),
                  ),
                ),
            Boolean(a) &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  h.$n,
                  {
                    onClick: (e) =>
                      (0, ca.Id)(
                        e,
                        `${P.TS.HELP_BASE_URL}en/wizard/HelpRequest/${a}`,
                      ),
                  },
                  (0, R.we)("#EventEditor_SaleValveApproval_Request_Link"),
                ),
              ),
            d.createElement(
              I.E,
              { clanSteamID: e.GetClanSteamID() },
              d.createElement(Dn, null),
            ),
          ),
        );
      }
      function Dn(e) {
        const t = l.mh.GetEditModel(),
          a = t.GetClanAccountID(),
          n = t.GetGID(),
          [o, i, r] = (0, O.uD)(!1),
          {
            bLoading: s,
            bPublishRequiresValveApproval: c,
            nAccountApproved: m,
            bRequiresHostDisclaimer: u,
            fnSetStoreRequireHostDisclaimer: _,
          } = (0, tn.g7)(a, n);
        return c && m
          ? d.createElement(
              d.Fragment,
              null,
              d.createElement(
                h.$n,
                { onClick: i },
                d.createElement(
                  te.Gq,
                  {
                    toolTipContent:
                      "Make the partner re-request reviewing the sale page because we are allowing them to make further changes",
                  },
                  d.createElement("span", null, "Remove Reviewed Stats"),
                ),
              ),
              d.createElement(
                y.EN,
                { active: o },
                d.createElement(Tn, {
                  clanSteamID: t.GetClanSteamID(),
                  gidClanEvent: t.GetGID(),
                  closeModal: r,
                }),
              ),
            )
          : null;
      }
      function Tn(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          l = "Revert SALE PAGE Approval?",
          [o, i, r] = (0, tn.hr)(),
          { fnRemoveApprovalAccount: s } = (0, tn.g7)(t.GetAccountID(), a),
          {
            fnSetAllowAddingAppsPackagesBundles: c,
            fnSetAllowChangingVanityURL: m,
            fnSetAllowMakingChangesToSalePage: u,
          } = (0, tn.fp)(t.GetAccountID(), a),
          _ = (0, an.vs)();
        if (_.bLoading)
          return d.createElement(an.Hh, {
            state: _,
            strDialogTitle: l,
            closeModal: n,
          });
        return d.createElement(
          y.o0,
          {
            strTitle: l,
            strDescription:
              "The sale is currently approved. This will revert this state and will require the sale operator to request permissions again. Are you sure?",
            onOK: () => {
              _.fnSetLoading(!0),
                c(!0),
                m(!0),
                u(!0),
                s(P.iA.accountid),
                r(a)
                  .then((e) => {
                    1 == e
                      ? n()
                      : (i(),
                        _.fnSetError(!0),
                        _.fnSetStrError("Failed to update Private Data: " + e));
                  })
                  .catch((e) => {
                    i(),
                      _.fnSetError(!0),
                      _.fnSetStrError((0, M.H)(e).strErrorMsg);
                  });
            },
            strOKButtonText: "Yes, Approve",
            bDisableBackgroundDismiss: !0,
            closeModal: n,
            onCancel: i,
            bOKDisabled: Boolean(_.bError),
          },
          d.createElement(
            "div",
            null,
            "This will also permit them to make any changes to the sale page",
          ),
        );
      }
      function In(e) {
        const t = l.mh.GetEditModel(),
          { bLoading: a, bPublishRequiresValveApproval: n } = (0, tn.g7)(
            t.GetClanAccountID(),
            t.GetGID(),
          ),
          [o, i] = d.useState(void 0);
        return (
          d.useEffect(() => {
            a ||
              (void 0 === o
                ? i(Boolean(n))
                : o != Boolean(n) && t.SetDirty(ne.IQ.jsondata_sales));
          }, [t, a, o, n]),
          !t.BHidden() || t.BPublished()
            ? null
            : d.createElement(cn, {
                gidClanEvent: t.GetGID(),
                clanSteamID: t.GetClanSteamID(),
              })
        );
      }
      function Gn() {
        const e = l.mh.GetEditModel(),
          { nAcceptingGuidelineAccount: t } = (0, tn.lA)(
            e.GetClanAccountID(),
            e.GetGID(),
          );
        return u.WN.includes(e.GetClanAccountID())
          ? null
          : t
            ? d.createElement(
                "div",
                { className: wn.ValveOnlyGuidelineSummary },
                d.createElement(yn, null),
                d.createElement(
                  "div",
                  { className: wn.SignedBy },
                  "Accepted by:",
                  d.createElement(H.B, {
                    accountID: t,
                    locToken: "#EventModTile_Signer",
                  }),
                ),
                d.createElement(In, null),
              )
            : d.createElement(
                "div",
                { className: wn.ValveOnlyGuidelineSummary },
                "The event organizer has not yet accepted the agreements for this sale page. The next time that any non-Valve account attempts to edit this sale, they should be required to accept the agreements.",
                d.createElement(In, null),
              );
      }
      function Nn(e) {
        const { bCheckListReadOnly: t, closeModal: a } = e,
          n = l.mh.GetEditModel(),
          {
            nAcceptingGuidelineAccount: o,
            strPrimaryContactName: i,
            strPrimaryContactEmail: r,
            fnSetAcceptingGuideLine: s,
            fnSetContactEmailAndName: c,
            strExternalSaleEventType: m,
          } = (0, tn.lA)(n.GetClanAccountID(), n.GetGID()),
          [u, _, E] = (0, tn.hr)(),
          p = Boolean(o),
          [v, g] = d.useState(p),
          [S, b] = d.useState(p),
          [w, C] = d.useState(p),
          f = `${P.TS.PARTNER_BASE_URL}doc/store/promo/${m}_page`,
          D = (0, R.we)(`#EventSaleGuidelines_doc_${m}`),
          [I, G] = d.useState(i || ""),
          [N, A] = d.useState(r || ""),
          [B, L] = d.useState(!1),
          [k, O] = d.useState(null),
          x = v && S && w && I.length > 0 && N.length > 0;
        return d.createElement(
          y.o0,
          {
            strTitle: (0, R.we)("#EventSaleGuideLines_title"),
            strDescription: (0, R.we)("#EventSaleGuidelines_desc"),
            bOKDisabled: !x || B,
            onOK: () => {
              t || s(P.iA.accountid),
                c(I, N),
                !t && n.GetGID()
                  ? (L(!0),
                    E(n.GetGID())
                      .then(a)
                      .catch((e) => {
                        O((0, M.H)(e).strErrorMsg);
                      }))
                  : a && a();
            },
            onCancel: a,
            closeModal: a,
          },
          Boolean(B || k)
            ? d.createElement(
                d.Fragment,
                null,
                B &&
                  d.createElement(T.t, {
                    string: (0, R.we)("#Saving"),
                    size: "medium",
                    position: "center",
                  }),
                Boolean(k) && d.createElement("div", null, k),
              )
            : d.createElement(
                "div",
                { className: wn.AgreementsCtn },
                d.createElement(
                  "div",
                  null,
                  d.createElement(h.Yh, {
                    label: (0, R.we)("#EventSaleGuidelines_rule_5"),
                    checked: v,
                    onChange: g,
                    disabled: t,
                  }),
                  d.createElement(h.Yh, {
                    label: (0, R.we)("#EventSaleGuidelines_rule_1"),
                    checked: S,
                    onChange: b,
                    disabled: t,
                  }),
                  d.createElement(h.Yh, {
                    label: d.createElement(
                      "span",
                      { style: { display: "inline" } },
                      (0, R.PP)(
                        "#EventSaleGuidelines_rule_6",
                        d.createElement("a", { href: f, target: "_blank" }, D),
                      ),
                    ),
                    checked: w,
                    onChange: C,
                    disabled: t,
                  }),
                ),
                d.createElement(
                  "div",
                  { className: wn.ContactSectionCtn },
                  d.createElement(
                    "div",
                    { className: wn.SectionTitle },
                    (0, R.we)("#EventSaleGuidelines_PrimaryContact"),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)("#EventSaleGuidelines_PrimaryContact_desc"),
                  ),
                  d.createElement(h.pd, {
                    placeholder: (0, R.we)(
                      "#EventSaleGuidelines_PrimaryContact_name",
                    ),
                    value: I,
                    onChange: (e) => G(e.currentTarget.value),
                  }),
                  d.createElement(h.pd, {
                    placeholder: (0, R.we)(
                      "#EventSaleGuidelines_PrimaryContact_email",
                    ),
                    value: N,
                    onChange: (e) => A(e.currentTarget.value),
                  }),
                ),
              ),
        );
      }
      function An(e) {
        var t;
        const { closeModal: a } = e,
          n = l.mh.GetEditModel(),
          [o, i] = d.useState(!1),
          r = (0, Xt.q3)(
            () => n.GetEventModel().jsondata.sale_presenters || [],
          ),
          [s, c] = d.useState(r);
        return d.createElement(
          y.o0,
          {
            strTitle: (0, R.we)("#EventDisclaimer_title"),
            strDescription: (0, R.we)("#EventDisclaimer_desc_details"),
            onCancel: a,
            bDisableBackgroundDismiss: !0,
            bOKDisabled:
              !o &&
              (0 == s.length ||
                0 ==
                  (null === (t = s[0].url) || void 0 === t
                    ? void 0
                    : t.length) ||
                s.some((e) => !h.pd.validateUrl(e.url)) ||
                s.some((e) => {
                  var t;
                  return !(
                    (null === (t = e.localized_presenter_name[0]) ||
                    void 0 === t
                      ? void 0
                      : t.length) > 0
                  );
                })),
            onOK: () => {
              (n.GetEventModel().jsondata.sale_presenters = s),
                n.SetDirty(ne.IQ.jsondata_sales),
                a();
            },
          },
          d.createElement(bn.$A, { editModel: n, eInitLangLanguage: 0 }),
          d.createElement(Sa.A, {
            items: s,
            onDelete: (e) => c(1 == s.length ? [] : [...s.splice(e, 1)]),
            onReorder: () => c([...s]),
            render: (e, t) =>
              d.createElement(Mn, {
                presenter: e,
                setPresenter: (e) => {
                  (s[t] = { ...e }), c([...s]);
                },
              }),
          }),
          d.createElement(
            h.$n,
            {
              onClick: () => {
                let e = Math.floor(1 + 1e5 * Math.random());
                for (; s && s.some((t) => t.unique_id === e); )
                  e = Math.floor(1 + 1e5 * Math.random());
                c([
                  ...s,
                  {
                    unique_id: e,
                    localized_presenter_name: new Array(31),
                    url: "",
                  },
                ]);
              },
            },
            (0, R.we)("#EventDisclaimer_add"),
          ),
          Boolean((null == s ? void 0 : s.length) > 0) &&
            d.createElement(
              "div",
              { className: wn.PresenterPreviewCtn },
              d.createElement(
                "div",
                { className: wn.PresenterPreviewDesc },
                (0, R.we)("#EventDisclaimer_preview"),
              ),
              d.createElement(hn.W, { rgPresenters: s }),
            ),
          d.createElement(
            I.E,
            { clanSteamID: n.GetClanSteamID() },
            d.createElement(
              h.$n,
              {
                onClick: () => {
                  c([]), i(!0);
                },
              },
              "(VO) Clear Presenters to hide event organizers display",
            ),
          ),
        );
      }
      function Mn(e) {
        const { presenter: t, setPresenter: a } = e,
          [n] = (0, Xt.q3)(() => [en.O.Get().GetCurEditLanguage()]);
        return d.createElement(
          "div",
          { className: wn.PresenterInfoCtn },
          d.createElement(h.pd, {
            label: (0, R.we)("#EventDisclaimer_name"),
            type: "text",
            value: R.NT.Get(t.localized_presenter_name, n) || "",
            onChange: (e) => {
              (t.localized_presenter_name = R.NT.Set(
                t.localized_presenter_name,
                n,
                e.currentTarget.value,
              )),
                a(t);
            },
          }),
          d.createElement(h.pd, {
            label: (0, R.we)("#EventDisclaimer_url"),
            type: "text",
            mustBeURL: !0,
            placeholder: "https://",
            value: t.url,
            onChange: (e) => {
              (t.url = e.currentTarget.value), a(t);
            },
          }),
        );
      }
      var Bn,
        Ln,
        kn = a(87331);
      !(function (e) {
        (e.EditInfo = "apprighteditinfo"),
          (e.Publish = "apprightpublish"),
          (e.ViewErrorData = "apprightviewerrordata"),
          (e.Download = "apprightdownload"),
          (e.UploadCDKeys = "apprightuploadcdkeys"),
          (e.GenerateCDKeys = "apprightgeneratecdkeys"),
          (e.ViewFinancials = "apprightviewfinancials"),
          (e.ManageCEG = "apprightmanageceg"),
          (e.ManagingSigning = "apprightmanagesigning"),
          (e.ManageCDKeys = "apprightmanagecdkeys"),
          (e.EditMarketing = "apprighteditmarketing"),
          (e.EconomySupport = "apprighteconomysupport"),
          (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
          (e.ManagePricing = "appmanagepricing"),
          (e.BroadcastLive = "apprightbroadcastlive"),
          (e.AppRightEditStoreDisplayContent =
            "apprighteditstoredisplaycontent"),
          (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
      })(Bn || (Bn = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(Ln || (Ln = {}));
      class Rn {
        static ConstructAppRightsMap() {
          const e = new Map();
          return Rn.AppRights.forEach((t) => e.set(t.token, t)), e;
        }
        static ConstructPubRightsMap() {
          const e = new Map();
          return Rn.PubRights.forEach((t) => e.set(t.token, t)), e;
        }
        static GetAppRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= Rn.MapAppRights.get(e).flag;
            }),
            t
          );
        }
        static GetPublisherRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= Rn.MapPubRights.get(e).flag;
            }),
            t
          );
        }
      }
      (Rn.AppRights = [
        { flag: 1, token: Bn.EditInfo },
        { flag: 2, token: Bn.Publish },
        { flag: 4, token: Bn.ViewErrorData },
        { flag: 8, token: Bn.Download },
        { flag: 16, token: Bn.UploadCDKeys },
        { flag: 32, token: Bn.GenerateCDKeys },
        { flag: 64, token: Bn.ViewFinancials },
        { flag: 128, token: Bn.ManageCEG },
        { flag: 256, token: Bn.ManagingSigning },
        { flag: 512, token: Bn.ManageCDKeys },
        { flag: 1024, token: Bn.EditMarketing },
        { flag: 2048, token: Bn.EconomySupport },
        { flag: 4096, token: Bn.EconomySupportSupervisor },
        { flag: 8192, token: Bn.ManagePricing },
        { flag: 16384, token: Bn.BroadcastLive },
        { flag: 32768, token: Bn.AppRightViewMarketingTraffic },
        { flag: 65536, token: Bn.AppRightEditStoreDisplayContent },
      ]),
        (Rn.MapAppRights = Rn.ConstructAppRightsMap()),
        (Rn.PubRights = [
          { flag: 1, token: Ln.ManagerUsers },
          { flag: 2, token: Ln.ActualAuthority },
          { flag: 4, token: Ln.ViewFinancials },
          { flag: 8, token: Ln.ApproveWalletFunding },
          { flag: 16, token: Ln.ManageLicensedSites },
        ]),
        (Rn.MapPubRights = Rn.ConstructPubRightsMap());
      var On = a(56330),
        Pn = a(55263);
      function xn(e) {
        const { salePage: t, updateLandingPage: a } = e,
          n = l.mh.GetEditModel(),
          [o, i] = (0, Xt.q3)(() => [
            n.GetEventModel().jsondata.sale_opt_in_page_name,
            n.GetEventModel().jsondata.sale_show_creator,
          ]);
        return d.createElement(
          "div",
          { className: Va.Columns },
          d.createElement(
            "div",
            { className: Va.LeftCol },
            t && d.createElement(Un, null),
            a && d.createElement(qn, null),
            t && d.createElement(zn, null),
          ),
          d.createElement(
            "div",
            { className: Va.RightCol },
            t && d.createElement(jn, null),
            t &&
              d.createElement(
                I.E,
                {
                  clanSteamID: n.GetClanSteamID(),
                  className: b.EditPreviewButton,
                },
                d.createElement(h.pd, {
                  type: "text",
                  label: (0, R.we)("#Sale_OptInPageName"),
                  tooltip: (0, R.we)("#Sale_OptInPageName_ttip"),
                  value: o,
                  onChange: (e) => {
                    (0, Z.h5)(() => {
                      (n.GetEventModel().jsondata.sale_opt_in_page_name =
                        e.target.value),
                        n.SetDirty(ne.IQ.jsondata_sales);
                    });
                  },
                }),
              ),
            t &&
              d.createElement(
                te.he,
                {
                  toolTipContent: "#Sale_ShowCreatorHome_ttip",
                  direction: "top",
                },
                d.createElement(
                  "div",
                  { className: b.InputBorder },
                  d.createElement(h.RF, {
                    onChange: (e) => {
                      (0, Z.h5)(() => {
                        (n.GetEventModel().jsondata.sale_show_creator = e),
                          n.SetDirty(ne.IQ.jsondata_sales);
                      });
                    },
                    label: (0, R.we)("#Sale_ShowCreatorHome"),
                    checked: i,
                  }),
                ),
              ),
            t &&
              d.createElement(
                I.E,
                { clanSteamID: n.GetClanSteamID() },
                d.createElement(Hn, null),
                d.createElement(Fn, null),
                d.createElement(
                  te.he,
                  {
                    toolTipContent:
                      "Update what a partner is able to change after a sale page is reviewed by Valve",
                  },
                  d.createElement(
                    h.$n,
                    {
                      onClick: (e) =>
                        (0, D.pg)(
                          d.createElement(pn, {
                            clanSteamID: n.GetClanSteamID(),
                            gidClanEvent: n.GetGID(),
                          }),
                          (0, k.uX)(e),
                        ),
                    },
                    "Update Sale Page Editability",
                  ),
                ),
              ),
            d.createElement(
              I.E,
              { clanSteamID: n.GetClanSteamID() },
              d.createElement(kn.i, { editModel: n }),
            ),
          ),
        );
      }
      function Fn(e) {
        const t = l.mh.GetEditModel();
        return d.createElement(
          te.he,
          {
            toolTipContent:
              "Deep discount sale events are curated by Valve to promote successful older games, typically with a 90% discount",
            direction: "top",
          },
          d.createElement(
            "div",
            { className: b.InputBorder },
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("vo_deep_discount_sale", e),
              checked: t.GetEventModel().BHasTag("vo_deep_discount_sale"),
              label: "(VO) This is a deep discount event?",
            }),
          ),
        );
      }
      function Hn(e) {
        var t, a;
        const n = l.mh.GetEditModel(),
          [o, i, r, s] = (0, Xt.q3)(() => {
            var e, t, a;
            return [
              null ===
                (e = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === e
                ? void 0
                : e.bLockedToAppOwners,
              null ===
                (t = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === t
                ? void 0
                : t.strRedirectURL,
              n.GetEventModel().jsondata.sale_use_subscription_layout,
              null ===
                (a = n.GetEventModel().jsondata.app_right_requirement_info) ||
              void 0 === a
                ? void 0
                : a.bLockedToPartnerAppRights,
            ];
          }),
          [c, m] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (t = n.GetEventModel().GetRequiredAppIDs()) ||
                void 0 === t
                ? void 0
                : t.join(",")
              : "",
          ),
          [u, _] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (a = n.GetEventModel().GetRequiredPackageIDs()) ||
                void 0 === a
                ? void 0
                : a.join(",")
              : "",
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            te.he,
            {
              toolTipContent: "#Sale_OwnershipRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: b.InputBorder },
              d.createElement(h.RF, {
                onChange: (e) => {
                  (0, Z.h5)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.ownership_requirement_info
                      ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                      : (t.ownership_requirement_info = {
                          bLockedToAppOwners: e,
                          rgRequiredAppIDs: [],
                          rgRequiredPackageIDs: [],
                          strRedirectURL: "",
                        }),
                      n.SetDirty(ne.IQ.jsondata_sales);
                  });
                },
                label: (0, R.we)("#Sale_OwnershipRestrictions"),
                checked: o,
              }),
            ),
          ),
          o &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(h.pd, {
                type: "text",
                label: (0, R.we)("#Sale_RequiredApps"),
                tooltip: (0, R.we)("#Sale_RequiredApps_ttip"),
                onChange: (e) => {
                  c != e.target.value &&
                    (m(e.target.value),
                    (0, Z.h5)(() => {
                      const t = n.GetEventModel().GetRequiredAppIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(ne.IQ.jsondata_sales);
                    }));
                },
                value: c,
              }),
              d.createElement(h.pd, {
                type: "text",
                label: (0, R.we)("#Sale_RequiredPackages"),
                tooltip: (0, R.we)("#Sale_RequiredPackages_ttip"),
                onChange: (e) => {
                  u != e.target.value &&
                    (_(e.target.value),
                    (0, Z.h5)(() => {
                      const t = n.GetEventModel().GetRequiredPackageIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(ne.IQ.jsondata_sales);
                    }));
                },
                value: u,
              }),
              d.createElement(h.pd, {
                type: "text",
                label: (0, R.we)("#Sale_OwnershipLockRedirect"),
                tooltip: (0, R.we)("#Sale_OwnershipLockRedirect_ttip"),
                onChange: (e) => {
                  i != e.target.value &&
                    (0, Z.h5)(() => {
                      (n.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                        e.target.value),
                        n.SetDirty(ne.IQ.jsondata_sales);
                    });
                },
                value: i,
              }),
              d.createElement(
                I.E,
                { clanSteamID: n.GetClanSteamID() },
                d.createElement(h.Yh, {
                  onChange: (e) => {
                    (0, Z.h5)(() => {
                      (n.GetEventModel().jsondata.sale_use_subscription_layout =
                        e),
                        n.SetDirty(ne.IQ.jsondata_sales);
                    });
                  },
                  label: "(VO) " + (0, R.we)("#Sale_UseSubscriptionLayout"),
                  tooltip: (0, R.we)("#Sale_UseSubscriptionLayout_ttip"),
                  checked: !!r,
                }),
              ),
            ),
          d.createElement(
            te.he,
            {
              toolTipContent: "#Sale_PartnerAppEditRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: b.InputBorder },
              d.createElement(h.RF, {
                onChange: (e) => {
                  (0, Z.h5)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.app_right_requirement_info
                      ? (t.app_right_requirement_info.bLockedToPartnerAppRights =
                          e)
                      : (t.app_right_requirement_info = {
                          bLockedToPartnerAppRights: e,
                          nAppRightFlag: Rn.GetAppRightFlags([Bn.EditInfo]),
                        }),
                      n.SetDirty(ne.IQ.jsondata_sales);
                  });
                },
                label: (0, R.we)("#Sale_PartnerAppEditRestrictions"),
                checked: !!s,
              }),
            ),
          ),
        );
      }
      function jn(e) {
        const t = l.mh.GetEditModel();
        return d.createElement(
          I.E,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: b.EditPreviewButton,
          },
          d.createElement(
            "div",
            { className: b.EventEditorTextTitle },
            (0, R.we)("#Sale_CreateUpdateDiscountEventTitle"),
            d.createElement(G.o, {
              tooltip: (0, R.we)("#Sale_CreateUpdateDiscountEventTitle_ttip"),
            }),
          ),
          d.createElement(
            h.jn,
            {
              onClick: async () => {
                const e = new Set(),
                  a = new Array();
                t.GetEventModel().jsondata.sale_sections.forEach((e) => {
                  e.capsules.forEach(async (e) => {
                    "bundle" === e.type
                      ? a.push(wt.A.Get().QueueBundleRequest(Number(e.id), {}))
                      : "sub" === e.type &&
                        a.push(
                          wt.A.Get().QueuePackageRequest(Number(e.id), {}),
                        );
                  });
                }),
                  await Promise.all(a),
                  t.GetEventModel().jsondata.sale_sections.forEach((t) => {
                    t.capsules.forEach(async (t) => {
                      if ("bundle" === t.type || "sub" === t.type) {
                        const a =
                          "bundle" === t.type
                            ? wt.A.Get().GetBundle(Number(t.id))
                            : wt.A.Get().GetPackage(Number(t.id));
                        a && a.GetIncludedAppIDs().forEach((t) => e.add(t));
                      } else e.add(Number(t.id));
                    });
                  });
                let n = Array.from(e);
                n.sort();
                const o = new FormData();
                o.append("sessionid", P.TS.SESSIONID),
                  o.append("name", "[AUTO] " + t.GetName()),
                  o.append("event", "1"),
                  o.append("type", "discount"),
                  o.append("header", t.GetName()),
                  o.append("appids", n.join(",")),
                  o.append("start_date", t.GetEventStartTime().toString()),
                  o.append("end_date", t.GetEventEndTime().toString()),
                  o.append("description", "#discount_desc_preset_special"),
                  t.GetEventModel().jsondata.sale_discount_event_id &&
                    o.append(
                      "discount_id",
                      t
                        .GetEventModel()
                        .jsondata.sale_discount_event_id.toString(),
                    );
                const i =
                  (
                    await s().post(
                      P.TS.COMMUNITY_BASE_URL +
                        "actions/ajaxcreateupdatediscountevent",
                      o,
                      { withCredentials: !0 },
                    )
                  ).data.discountid ||
                  t.GetEventModel().jsondata.sale_discount_event_id;
                t.GetEventModel().jsondata.sale_discount_event_id ||
                  (t.GetEventModel().jsondata.sale_discount_event_id = i),
                  (0, D.pg)(
                    d.createElement(ht.t, {
                      editModel: t,
                      bSkipChecks: !0,
                      partnerEventEditorStore: l.mh,
                      OnSuccess: () => {
                        window.open(
                          P.TS.PARTNER_BASE_URL +
                            "admin/editdiscountevent/" +
                            i,
                        );
                      },
                    }),
                    window,
                  );
              },
            },
            t.GetEventModel().jsondata.sale_discount_event_id
              ? (0, R.we)(
                  "#Sale_UpdateDiscountEvent",
                  t.GetEventModel().jsondata.sale_discount_event_id,
                )
              : (0, R.we)("#Sale_CreateDiscountEvent"),
          ),
        );
      }
      function zn(e) {
        const t = l.mh.GetEditModel(),
          [a, n, o, i, r] = (0, Xt.q3)(() => {
            const e = t.GetEventModel().jsondata;
            return [
              e.sale_section_disable_capitalize,
              e.sale_section_font_size,
              e.sale_font,
              e.sale_font_weight,
              e.sale_associated_advertising_appid,
            ];
          }),
          s = [
            { label: "Default", data: { fontFamily: "" } },
            {
              label: "Default, Bold",
              data: {
                fontFamily: "'Motiva Sans', 'Play', sans-serif",
                fontWeight: "bold",
              },
            },
            {
              label: "Jolly Lodger (Halloween)",
              data: {
                fontFamily:
                  "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
              },
            },
            {
              label: "Sigmar One",
              data: { fontFamily: "'Sigmar One', sans-serif" },
            },
          ].map((e) => ({
            ...e,
            label: d.createElement("div", { style: { ...e.data } }, e.label),
          })),
          c = s.find((e) => e.data.fontFamily == o && e.data.fontWeight == i),
          m = c && c.data;
        return d.createElement(
          I.E,
          { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
          d.createElement(h.m, {
            label: (0, R.we)("#Sale_SaleFont"),
            tooltip: (0, R.we)("#Sale_SaleFont_ttip"),
            strDropDownClassName: b.DropDownScroll,
            rgOptions: s,
            selectedOption: m,
            onChange: (e) => {
              (0, Z.h5)(() => {
                (t.GetEventModel().jsondata.sale_font = e.data.fontFamily),
                  (t.GetEventModel().jsondata.sale_font_weight =
                    e.data.fontWeight),
                  t.SetDirty(ne.IQ.jsondata_sales);
              });
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
          d.createElement(h.pd, {
            type: "text",
            label: (0, R.we)("#Sale_SectionTitleFontSize"),
            tooltip: (0, R.we)("#Sale_SectionTitleFontSize_ttip"),
            onChange: (e) => {
              (0, Z.h5)(() => {
                (t.GetEventModel().jsondata.sale_section_font_size = Number(
                  e.target.value,
                )),
                  t.SetDirty(ne.IQ.jsondata_sales);
              });
            },
            value: n,
          }),
          d.createElement(h.Yh, {
            label: (0, R.we)("#Sale_DontCapitalizeSectionTitles"),
            tooltip: (0, R.we)("#Sale_DontCapitalizeSectionTitles_ttip"),
            onChange: (e) => {
              (0, Z.h5)(() => {
                (t.GetEventModel().jsondata.sale_section_disable_capitalize =
                  e),
                  t.SetDirty(ne.IQ.jsondata_sales);
              });
            },
            checked: a,
          }),
          d.createElement(h.pd, {
            type: "number",
            label: (0, R.we)("#Sale_AdvertisingApp_ID"),
            tooltip: (0, R.we)("#Sale_AdvertisingApp_ID_ttip"),
            onChange: (e) => {
              (0, Z.h5)(() => {
                (t.GetEventModel().jsondata.sale_associated_advertising_appid =
                  Number(e.target.value)),
                  t.SetDirty(ne.IQ.jsondata_sales);
              });
            },
            value: r,
          }),
        );
      }
      function Un(e) {
        const t = l.mh.GetEditModel(),
          { bAllowChangingVanityURL: a, bAllowMakingChangesToSalePage: n } = (0,
          tn.fp)(t.GetClanAccountID(), t.GetGID()),
          [o, i, r] = (0, Xt.q3)(() => [
            t.GetEventModel().jsondata.sale_vanity_id,
            t.GetEventModel().jsondata
              .sale_vanity_id_valve_approved_for_sale_subpath,
            t.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub,
          ]),
          { creatorHome: s } = (0, $t.FV)(t.GetClanAccountID());
        let c = null;
        return (
          o && !i
            ? (c = s
                ? s.GetCreatorHomeURL("publisher") + "sale/" + o
                : `${P.TS.STORE_BASE_URL}curator/${t.GetClanAccountID()}/sale/${o}`)
            : o && i && (c = P.TS.STORE_BASE_URL + "sale/" + o),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(h.pd, {
              type: "text",
              label: (0, R.we)("#Sale_VanityID"),
              tooltip: (0, R.we)("#Sale_VanityID_ttip"),
              onChange: (e) => t.SetSaleVanityID(e.target.value),
              value: o,
              disabled: r || !a || !n,
            }),
            t.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub &&
              d.createElement(
                "div",
                { className: "LongURL Note" },
                "The vanity URL for this sale page is automatically set based on its content hub configuration. Adjust the settings under Content Hub Settings to change this behavior.",
              ),
            Boolean(c)
              ? d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "span",
                    { className: "DialogLabel" },
                    (0, R.we)("#Sale_VanityID_Link"),
                  ),
                  d.createElement("br", null),
                  d.createElement(
                    "a",
                    {
                      href: c,
                      className: "LongURL",
                      target: P.TS.IN_CLIENT ? "" : "_blank",
                    },
                    c,
                  ),
                )
              : d.createElement(
                  "div",
                  { className: On.ErrorStylesWithIcon },
                  (0, R.we)("#EventEditor_SaleNotReady_SaleVanity_ttip"),
                ),
            d.createElement(
              I.E,
              { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
              d.createElement(h.Yh, {
                label: (0, R.we)("#Sale_ValveTopSalePath"),
                tooltip: (0, R.we)("#Sale_ValveTopSalePath_ttip"),
                onChange: (e) => {
                  (0, Z.h5)(() => {
                    (t.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath =
                      e),
                      t.SetDirty(ne.IQ.jsondata_sales);
                  });
                },
                checked: i,
              }),
            ),
          )
        );
      }
      function qn(e) {
        const t = l.mh.GetEditModel(),
          a = (0, Xt.q3)(
            () => t.GetEventModel().jsondata.sale_update_landing_page_vanity_id,
          ),
          [n, o] = (0, v.TB)(t.GetClanAccountID()),
          [i] = (0, Pn.t7)(o.appid, { include_basic_info: !0 });
        if (n || !i) return;
        const r = (null == a ? void 0 : a.length)
          ? i.GetStorePageURL() + "/" + a
          : void 0;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(h.pd, {
            type: "text",
            label: (0, R.we)("#Sale_VanityID"),
            tooltip: (0, R.we)("#Sale_VanityID_ttip"),
            onChange: (e) => t.SetSaleUpdateLandingPageVanityID(e.target.value),
            value: a,
          }),
          Boolean(r)
            ? d.createElement(
                "div",
                null,
                d.createElement(
                  "span",
                  { className: "DialogLabel" },
                  (0, R.we)("#Sale_VanityID_Link"),
                ),
                d.createElement("br", null),
                d.createElement(
                  "a",
                  {
                    href: r,
                    className: "LongURL",
                    target: P.TS.IN_CLIENT ? "" : "_blank",
                  },
                  r,
                ),
              )
            : d.createElement(
                "div",
                { className: On.ErrorStylesWithIcon },
                (0, R.we)("#EventEditor_SaleNotReady_UpdateLandingPage_ttip"),
              ),
        );
      }
      var Vn = a(88748);
      function Wn(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [
            t.GetEventModel().BIsNextFest(),
            t.GetEventModel().jsondata.sale_ml_recommender_delay_hours,
          ]);
        return a
          ? d.createElement(
              "div",
              { className: Va.SettingCtn },
              d.createElement("div", { className: Va.Title }, "Next Fest"),
              "For the Live Next Fest event make sure to clone, review and operate the Next Fest event using:",
              d.createElement(
                "a",
                {
                  target: "_blank",
                  href: "https://confluence.valve.org/display/SteamBiz/Next+Fest+Launch+Checklist",
                },
                " Operations Checklist",
              ),
              d.createElement(
                "div",
                { className: Vn.WarningContainer },
                d.createElement(
                  Qn,
                  {
                    editModel: t,
                    fnPredicate: (e) =>
                      !(e.jsondata.sale_ml_recommender_delay_hours > 0),
                    fnFixIt: (e) =>
                      (e.jsondata.sale_ml_recommender_delay_hours = 48),
                    fixItText: "Set to 48 hours",
                  },
                  () =>
                    d.createElement(
                      "span",
                      null,
                      "Next Fest should have ML Recommender Delay set.",
                    ),
                ),
                d.createElement(
                  Yn,
                  {
                    editModel: t,
                    fnPredicate: (e) =>
                      (0, u.ye)(e.section_type) && !e.show_as_demos,
                    fnFixIt: (e) => (e.show_as_demos = !0),
                  },
                  (e) =>
                    d.createElement(
                      "span",
                      null,
                      "There are ",
                      e,
                      ' that don\'t have the "Show demo information" checkbox checked.',
                    ),
                ),
                d.createElement(
                  Yn,
                  {
                    editModel: t,
                    fnPredicate: (e) =>
                      (0, u.ye)(e.section_type) && !e.prefer_demo_store_page,
                    fnFixIt: (e) => (e.prefer_demo_store_page = !0),
                  },
                  (e) =>
                    d.createElement(
                      "span",
                      null,
                      "There are ",
                      e,
                      ' that don\'t have the "Prefer demo standalone store pages" checkbox checked.',
                    ),
                ),
              ),
              d.createElement("br", null),
              d.createElement(h.pd, {
                type: "number",
                mustBeNumeric: !0,
                rangeMin: 0,
                label: "Randomization delay (hours)",
                tooltip:
                  "The number of hours from the start of Next Fest to show the items in random order instead of ML recommended order",
                onChange: (e) => {
                  (t.GetEventModel().jsondata.sale_ml_recommender_delay_hours =
                    Number(e.target.value)),
                    t.SetDirty(ne.IQ.jsondata_sales);
                },
                placeholder: String(1e4),
                value: n,
              }),
            )
          : null;
      }
      const Qn = (0, c.PA)((e) => {
          const {
            editModel: t,
            fnPredicate: a,
            fnFixIt: n,
            fixItText: l,
            children: o,
          } = e;
          if (!(null == a ? void 0 : a(t.GetEventModel()))) return null;
          return d.createElement(
            "div",
            { className: Vn.Warning },
            o(),
            d.createElement(
              "div",
              { className: Vn.Buttons },
              n &&
                d.createElement(
                  h.$n,
                  {
                    onClick: () => (
                      n(t.GetEventModel()),
                      void t.SetDirty(ne.IQ.jsondata_sales)
                    ),
                  },
                  l || "Fix it",
                ),
            ),
          );
        }),
        Yn = (0, c.PA)((e) => {
          const {
              editModel: t,
              fnPredicate: a,
              fnFixIt: n,
              fixItText: l,
              children: o,
            } = e,
            i = t.GetSaleSections().filter(a);
          if (0 == i.length) return null;
          const r = d.createElement(
              d.Fragment,
              null,
              i
                .slice(0, 25)
                .map((e, a) =>
                  d.createElement(
                    "div",
                    { key: e.unique_id },
                    d.createElement(ha.fi, {
                      eventModel: t.GetEventModel(),
                      saleSection: e,
                      editLanguage: t.GetCurEditLanguage(),
                      index: a,
                    }),
                  ),
                )
                .concat(
                  i.length > 25
                    ? [d.createElement("div", { key: "elipses" }, "...")]
                    : [],
                ),
            ),
            s = d.createElement(
              te.Gq,
              { toolTipContent: r },
              d.createElement(
                "span",
                { className: Vn.TooltipIndicator },
                i.length,
                " sections",
              ),
            );
          return d.createElement(
            "div",
            { className: Vn.Warning },
            o(s),
            d.createElement(
              "div",
              { className: Vn.Buttons },
              n &&
                d.createElement(
                  h.$n,
                  {
                    onClick: () => (
                      i.forEach(n), void t.SetDirty(ne.IQ.jsondata_sales)
                    ),
                  },
                  null != l ? l : "Fix it",
                ),
            ),
          );
        });
      var Jn = a(99637);
      const Kn = (0, c.PA)((e) => {
          var t, a;
          const { editModel: n, fnOnOKCallback: l } = e,
            o = n.GetEventModel(),
            {
              fnSetStorePublishingRequiresValveApproval: i,
              fnSetUserWhoEnabledSalePage: r,
            } = (0, tn.g7)(n.GetClanAccountID(), n.GetGID()),
            [s, c] = d.useState(
              null !== (t = o.jsondata.sale_vanity_id) && void 0 !== t ? t : "",
            ),
            [m] = d.useState(new B.lu()),
            u =
              !on.iA.is_support &&
              !(null === (a = $t.pF.GetCreatorHome(n.GetClanSteamID())) ||
              void 0 === a
                ? void 0
                : a.BHasClanAccountFlagSet(64)),
            _ = Math.floor(Date.now() / 1e3),
            E = new Date();
          E.setHours(10), E.setMinutes(0), E.setSeconds(0);
          const p = new Date();
          p.setDate(E.getDate() + 1),
            p.setHours(10),
            p.setMinutes(0),
            p.setSeconds(0);
          const [v, g] = d.useState(
              o.startTime > _ ? o.startTime : Math.floor(p.getTime() / 1e3),
            ),
            S = new Date();
          S.setDate(p.getDate() + 1),
            S.setHours(10),
            S.setMinutes(0),
            S.setSeconds(0);
          const [b, w] = d.useState(
              (null == o ? void 0 : o.endTime) > Math.floor(S.getTime() / 1e3)
                ? o.endTime
                : Math.floor(S.getTime() / 1e3),
            ),
            C = () => {
              (0, Z.h5)(() => {
                (n.GetEventModel().jsondata.bSaleEnabled = !1),
                  n.SetDirty(ne.IQ.jsondata_sales);
              }),
                e.closeModal && e.closeModal();
            },
            f = s.replace(/[^\w-]/g, "").length > 0 && v && b;
          return d.createElement(
            Ct.tH,
            null,
            d.createElement(
              y.x_,
              { onEscKeypress: C },
              d.createElement(
                h.UC,
                null,
                d.createElement(h.Y9, null, (0, R.we)("#Sale_EnableTitle")),
                d.createElement(
                  h.nB,
                  null,
                  d.createElement(
                    h.a3,
                    null,
                    d.createElement(
                      "div",
                      { className: Va.SetupCtn },
                      d.createElement(
                        "span",
                        null,
                        (0, R.we)("#Sale_EnableDesc"),
                      ),
                      d.createElement(
                        "ol",
                        null,
                        d.createElement(
                          "li",
                          null,
                          (0, R.we)("#Sale_EnableDesc_1"),
                        ),
                        d.createElement(
                          "li",
                          null,
                          (0, R.we)("#Sale_EnableDesc_2"),
                        ),
                      ),
                      d.createElement("br", null),
                      d.createElement(h.pd, {
                        type: "text",
                        label: (0, R.we)("#Sale_VanityID"),
                        tooltip: (0, R.we)("#Sale_VanityID_ttip"),
                        onChange: (e) => c(e.target.value),
                        value: s,
                      }),
                      d.createElement(Jn.K, {
                        strDescription: (0, R.we)("#Sale_New_Start"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: () => v,
                        fnSetTimeToUpdate: g,
                        fnIsValidDateTime: () => !0,
                        bShowTimeZone: !0,
                      }),
                      d.createElement(Jn.K, {
                        strDescription: (0, R.we)("#Sale_New_End"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: () => b,
                        fnSetTimeToUpdate: w,
                        fnIsValidDateTime: () => b > v,
                        bShowTimeZone: !0,
                      }),
                      d.createElement(
                        I.E,
                        { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
                        d.createElement(cn, {
                          clanSteamID: n.GetClanSteamID(),
                          gidClanEvent: n.GetGID(),
                          fnOkCallbackList: m,
                        }),
                      ),
                    ),
                  ),
                ),
                d.createElement(
                  h.wi,
                  null,
                  d.createElement(h.CB, {
                    onCancel: C,
                    bOKDisabled: !f,
                    onOK: () => {
                      (0, Z.h5)(() => {
                        n.SetSaleVanityID(s),
                          n.SetEventStartTime(v),
                          n.SetEventEndTime(b),
                          r(on.iA.accountid),
                          u && i(!0),
                          m.Dispatch(),
                          l();
                      }),
                        e.closeModal && e.closeModal();
                    },
                  }),
                ),
              ),
            ),
          );
        }),
        Zn = (0, c.PA)((e) => {
          var t;
          const { editModel: a, fnOnOKCallback: n } = e,
            l = a.GetEventModel(),
            [o, i] = d.useState(
              null !== (t = l.jsondata.sale_update_landing_page_vanity_id) &&
                void 0 !== t
                ? t
                : "",
            ),
            r = () => {
              (0, Z.h5)(() => {
                (a.GetEventModel().jsondata.bSaleEnabled = !1),
                  a.SetDirty(ne.IQ.jsondata_sales);
              }),
                e.closeModal && e.closeModal();
            },
            s = o.replace(/[^\w-]/g, "").length > 0;
          return d.createElement(
            Ct.tH,
            null,
            d.createElement(
              y.x_,
              { onEscKeypress: r },
              d.createElement(
                h.UC,
                null,
                d.createElement(
                  h.Y9,
                  null,
                  (0, R.we)("#Sale_UpdateLandingPage_EnableTitle"),
                ),
                d.createElement(
                  h.nB,
                  null,
                  d.createElement(
                    h.a3,
                    null,
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "span",
                        null,
                        (0, R.we)("#Sale_UpdateLandingPage_EnableDesc"),
                      ),
                      d.createElement("br", null),
                      d.createElement("br", null),
                      d.createElement(h.pd, {
                        type: "text",
                        label: (0, R.we)("#Sale_UpdateLandingPageVanityID"),
                        tooltip: (0, R.we)(
                          "#Sale_UpdateLandingPageVanityID_ttip",
                        ),
                        onChange: (e) => i(e.target.value),
                        value: o,
                      }),
                    ),
                  ),
                ),
                d.createElement(
                  h.wi,
                  null,
                  d.createElement(h.CB, {
                    onCancel: r,
                    bOKDisabled: !s,
                    onOK: () => {
                      (0, Z.h5)(() => {
                        a.SetSaleUpdateLandingPageVanityID(o), n();
                      }),
                        e.closeModal && e.closeModal();
                    },
                  }),
                ),
              ),
            ),
          );
        });
      function Xn(e) {
        const { mode: t } = e,
          a = l.mh.GetEditModel(),
          [n, o] = d.useState(a.BHasSaleEnabled()),
          { creatorHome: i } = (0, $t.FV)(
            a.GetEventModel().clanSteamID.GetAccountID(),
          ),
          r = d.useRef(void 0),
          s = (e) => {
            var t;
            o(e),
              null === (t = null == r ? void 0 : r.current) ||
                void 0 === t ||
                t.setState({ checked: e }),
              (0, Z.h5)(() => {
                (a.GetEventModel().jsondata.bSaleEnabled = e),
                  a.SetDirty(ne.IQ.jsondata_sales);
              });
          },
          c = (0, I.m)(a.GetClanSteamID(), !0),
          m = !(
            a.BIsSourceEventSaleEnabled() ||
            2 == t ||
            (i && i.BHasClanAccountFlagSet(32)) ||
            c
          ),
          u = 2 != t;
        return d.createElement(
          "div",
          { className: b.InputBorder },
          d.createElement(h.RF, {
            ref: r,
            onChange: (e) => {
              var n;
              e && u
                ? (null === (n = null == r ? void 0 : r.current) ||
                    void 0 === n ||
                    n.setState({ checked: !1 }),
                  o(!1),
                  (0, D.pg)(
                    1 == t
                      ? d.createElement(Zn, {
                          editModel: a,
                          fnOnOKCallback: () => s(!0),
                        })
                      : d.createElement(Kn, {
                          editModel: a,
                          fnOnOKCallback: () => s(!0),
                        }),
                    window,
                  ))
                : s(e);
            },
            label: (0, R.we)(
              1 == t ? "#Sale_option_updatelandingpage" : "#Sale_option",
            ),
            disabled: m,
            checked: n,
          }),
          m &&
            d.createElement(
              "div",
              { className: On.WarningStyles },
              (0, R.we)("#Sale_Enable_Warning"),
            ),
        );
      }
      var $n = a(61491),
        el = a(62792),
        tl = a(60155),
        al = a(9161),
        nl = a(1743),
        ll = a(71168),
        ol = a(35453);
      function il(e) {
        const t = () => e.closeModal && e.closeModal(),
          [a, n] = (0, d.useState)(!1),
          [o, i] = (0, d.useState)(null),
          [r, c] = (0, d.useState)(null),
          [m, u] = (0, d.useState)(null),
          [_, E] = (0, d.useState)(!1);
        (0, d.useEffect)(() => {
          const e = s().CancelToken.source();
          return (
            rl().then(() => {
              e.token.reason || n(!0);
            }),
            () => e.cancel("SaleEventExplorerDialog: unmounting")
          );
        }, []);
        return d.createElement(
          Ct.tH,
          null,
          d.createElement(
            y.x_,
            { onEscKeypress: t },
            d.createElement(
              h.UC,
              null,
              d.createElement(h.Y9, null, (0, R.we)("#Sale_Debug_Title")),
              d.createElement(
                h.nB,
                null,
                d.createElement(
                  h.a3,
                  null,
                  Boolean(a)
                    ? d.createElement(
                        "div",
                        null,
                        d.createElement(
                          "div",
                          null,
                          (0, R.we)("#Sale_Debug_Desc"),
                        ),
                        d.createElement(cl, {
                          fnSetSaleItem: (e, t, a, n) => {
                            i(e), c(t), u(a), E(n);
                          },
                        }),
                        Boolean(o)
                          ? d.createElement(ml, {
                              saleCapsule: o,
                              list: r,
                              tabList: m,
                              bInLinkedItems: _,
                            })
                          : d.createElement(
                              "div",
                              null,
                              (0, R.we)("#Sale_Debug_NoMatchingItem"),
                            ),
                      )
                    : d.createElement(T.t, {
                        string: (0, R.we)("#Sale_Debug_Loading"),
                        size: "medium",
                      }),
                ),
              ),
              d.createElement(
                h.wi,
                null,
                d.createElement(h.CB, {
                  onCancel: t,
                  bOKDisabled: !o,
                  strOKText: (0, R.we)("#Button_Delete"),
                  onOK: () => {
                    (0, D.pg)(
                      d.createElement(y.o0, {
                        strTitle: (0, R.we)("#EventEditor_GenericAreYouSure"),
                        strDescription: (0, R.we)("#Sale_Debug_Delete"),
                        onOK: () => {
                          !(function (e) {
                            if (!e) return;
                            const t = l.mh.GetEditModel();
                            (0, Z.h5)(() => {
                              let a = 0;
                              const n = (t) => {
                                let n = t.capsules.findIndex(
                                  (t) => t.id == e.id && t.type == e.type,
                                );
                                for (; n >= 0; )
                                  t.capsules.splice(n, 1),
                                    (a += 1),
                                    (n = t.capsules.findIndex(
                                      (t) => t.id == e.id && t.type == e.type,
                                    ));
                              };
                              t.GetEventModel().jsondata.sale_sections.forEach(
                                n,
                              );
                              let l = t.GetTabSaleSection();
                              l && l.tabs.forEach(n),
                                a && t.SetDirty(ne.IQ.jsondata_sales);
                            });
                          })(o),
                            t();
                        },
                      }),
                      window,
                    );
                  },
                }),
              ),
            ),
          ),
        );
      }
      async function rl() {
        const e = l.mh.GetEditModel();
        await wt.A.Get().HintLoadStoreItems(
          Array.from(e.GetAllSalePageFeaturedItems("apps")),
          Array.from(e.GetAllSalePageFeaturedItems("packages")),
          Array.from(e.GetAllSalePageFeaturedItems("bundles")),
          null,
          null,
          null,
          { include_assets: !0 },
        );
      }
      function sl(e, t = "") {
        var a;
        return (
          (null === (a = wt.A.Get().GetStoreItem(e.id, (0, el.SW)(e.type))) ||
          void 0 === a
            ? void 0
            : a.GetName()) || t
        );
      }
      function cl(e) {
        const { fnSetSaleItem: t } = e,
          a = (0, d.useRef)(null),
          n = (0, d.useRef)(null),
          o = (0, d.useRef)(0),
          i = (0, d.useRef)(void 0);
        (0, d.useEffect)(() => () => window.clearTimeout(o.current), []);
        const r = (0, d.useCallback)(
          async (e) => {
            let r = e.target.value;
            r &&
              0 != r.trim().length &&
              ((r = r.toLocaleLowerCase()),
              window.clearTimeout(o.current),
              a.current && a.current("SearchForCurator: new request"),
              (o.current = window.setTimeout(async () => {
                const e = l.mh.GetEditModel();
                let a = Number.parseInt(r.trim()),
                  o = new Array();
                if (e.GetEventModel().BHasSaleEnabled()) {
                  const l = (e) =>
                      e.id == a || sl(e).toLowerCase().indexOf(r) >= 0,
                    s = (e) => {
                      o.findIndex((t) => t.id == e.id && t.type == e.type) <
                        0 && o.push(e);
                    };
                  e.GetEventModel().jsondata.sale_sections.forEach((e) => {
                    if (e.capsules) {
                      e.capsules.filter(l).forEach(s);
                    }
                  });
                  const c = e.GetTabSaleSection();
                  c &&
                    c.tabs.forEach((e) => {
                      e.capsules && e.capsules.filter(l).forEach(s);
                    });
                  const m = (a) => {
                    var n, l;
                    const o = (e) => a.id == e.id && a.type == e.type;
                    let i = new Array();
                    e.GetEventModel().jsondata.sale_sections.forEach((e) => {
                      var t;
                      (null === (t = e.capsules) || void 0 === t
                        ? void 0
                        : t.filter(o).length) > 0 && i.push(e);
                    });
                    let r = new Array();
                    c &&
                      (null === (n = c.tabs) ||
                        void 0 === n ||
                        n.forEach((e) => {
                          e.capsules.filter(o).length > 0 && r.push(e);
                        }));
                    const s =
                      (null === (l = e.GetEventModel().jsondata.tagged_items) ||
                      void 0 === l
                        ? void 0
                        : l.findIndex(
                            (e) => e && o(null == e ? void 0 : e.capsule),
                          )) >= 0;
                    t(a, i, r, s);
                  };
                  n.current = (0, Na.lX)(
                    d.createElement(dl, { list: o, fnChooseCapsule: m }),
                    i.current.element,
                    {
                      bOverlapHorizontal: !0,
                      bMatchWidth: !0,
                      bFitToWindow: !0,
                      bDisablePopTop: !0,
                      bNoFocusWhenShown: !0,
                      bSkipFocusWhenReady: !0,
                    },
                  );
                }
              }, 300)));
          },
          [t],
        );
        return d.createElement(h.pd, {
          type: "text",
          placeholder: (0, R.we)("#Sale_Debug_Placeholder"),
          tooltip: (0, R.we)("#Sale_Debug_InputToolTip"),
          onChange: r,
          onBlur: () => {
            setTimeout(() => n.current && n.current.Hide(), 200);
          },
          ref: i,
        });
      }
      function dl(e) {
        const { list: t, fnChooseCapsule: a } = e;
        return d.createElement(
          tl.tz,
          { className: nl.SearchResults },
          t.map((e) =>
            d.createElement(
              tl.kt,
              {
                key: "sale_" + e.id + "_tpe_" + e.type,
                onSelected: () => a(e),
              },
              d.createElement(
                "div",
                null,
                (0, R.we)(
                  "#Sale_Debug_ContextItem",
                  sl(e, (0, R.we)("#Sale_Debug_Unknown")),
                  e.type,
                ),
              ),
            ),
          ),
        );
      }
      function ml(e) {
        const { saleCapsule: t, list: a, tabList: n, bInLinkedItems: o } = e,
          i = l.mh.GetEditModel(),
          r = i.GetCurEditLanguage();
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            null,
            (0, R.we)(
              "#Sale_Debug_MatchItem",
              sl(t, (0, R.we)("#Sale_Debug_Unknown")),
              t.type,
            ),
          ),
          d.createElement("div", null, (0, R.we)("#Sale_Debug_AppearsIn")),
          d.createElement(
            "ol",
            null,
            Boolean(a && a.length > 0)
              ? a.map((e) =>
                  d.createElement(
                    "li",
                    { key: e.unique_id },
                    d.createElement(ha.fi, {
                      saleSection: e,
                      editLanguage: r,
                      eventModel: i.GetEventModel(),
                      index: i.GetSaleSectionIndexByID(e.unique_id),
                    }),
                  ),
                )
              : (0, R.we)("#Sale_Debug_NoMatchingItem"),
          ),
          d.createElement("div", null, (0, R.we)("#Sale_Debug_Tab_AppearsIn")),
          d.createElement(
            "ol",
            null,
            Boolean(n && n.length > 0)
              ? n.map((e) =>
                  d.createElement("li", { key: e.unique_id }, (0, ll.l8)(e, r)),
                )
              : (0, R.we)("#Sale_Debug_NoMatchingItem"),
          ),
          d.createElement(
            "div",
            null,
            (0, R.we)(
              o ? "#Sale_Debug_LinkedSection" : "#Sale_Debug_Not_LinkedSection",
            ),
          ),
        );
      }
      function ul(e) {
        return `${e.type}:${e.id}`;
      }
      function _l(e) {
        const t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      function El(e) {
        const [t, a] = (0, d.useState)(!1),
          [n, o] = (0, d.useState)(null),
          i = () => e.closeModal && e.closeModal();
        (0, d.useEffect)(() => {
          const e = s().CancelToken.source();
          return (
            rl().then(() => {
              e.token.reason || a(!0);
            }),
            o(
              (function () {
                var e, t;
                const a = [],
                  n = new Map(),
                  o = l.mh.GetEditModel(),
                  i = o.GetTabSaleSection();
                return (
                  null === (e = null == i ? void 0 : i.tabs) ||
                    void 0 === e ||
                    e.forEach((e) => {
                      var t;
                      const l = {
                        type: "tab",
                        unique_id: e.unique_id,
                        strLabel: (0, R.we)(
                          (null === (t = e.localized_label) || void 0 === t
                            ? void 0
                            : t[0]) || e.default_label,
                        ),
                      };
                      a.push(l),
                        e.capsules.forEach((t) => {
                          const a = ul(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  null === (t = o.GetEventModel().jsondata.sale_sections) ||
                    void 0 === t ||
                    t.forEach((e) => {
                      if ("items" != e.section_type) return;
                      const t = {
                        type: "section",
                        unique_id: e.unique_id,
                        strLabel: (0, R.we)(
                          (0, ol.s0)(e, o.GetEventModel(), 1) ||
                            e.localized_label[0] ||
                            e.default_label,
                        ),
                      };
                      a.push(t),
                        e.capsules.forEach((t) => {
                          const a = ul(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  { mapItemLocations: n, rgSections: a }
                );
              })(),
            ),
            () => e.cancel("SaleEventItemLocationCSVDownloadDialog: unmounting")
          );
        }, []);
        let r = null;
        if (n) {
          const e = n.rgSections.filter((e) => "tab" == e.type).length,
            t = n.rgSections.length - e,
            a = n.mapItemLocations.size;
          r = (0, R.we)("#Sale_GameExport_ContentSummary", e, t, a);
        }
        return d.createElement(
          Ct.tH,
          null,
          d.createElement(
            y.x_,
            { onEscKeypress: i },
            d.createElement(
              h.UC,
              null,
              d.createElement(h.Y9, null, (0, R.we)("#Sale_GameExport_Title")),
              d.createElement(
                h.nB,
                null,
                d.createElement(
                  h.a3,
                  null,
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)("#Sale_GameExport_Desc"),
                  ),
                ),
                d.createElement(
                  h.a3,
                  null,
                  t
                    ? r
                    : d.createElement(T.t, {
                        position: "center",
                        string: (0, R.we)("#Sale_Debug_Loading"),
                        size: "medium",
                      }),
                ),
              ),
              d.createElement(
                h.wi,
                null,
                d.createElement(h.CB, {
                  onCancel: i,
                  bOKDisabled: !t,
                  strOKText: (0, R.we)("#Button_Save"),
                  onOK: () => {
                    var e;
                    const { mapItemLocations: t, rgSections: a } = n,
                      l = [];
                    for (const a of Array.from(t.keys())) {
                      const t = _l(a);
                      let n;
                      try {
                        n =
                          null ===
                            (e = wt.A.Get().GetStoreItem(
                              t.id,
                              (0, el.SW)(t.type),
                            )) || void 0 === e
                            ? void 0
                            : e.GetName();
                      } catch (e) {}
                      l.push([`${t.type}: ${n || t.id}`, a]);
                    }
                    l.sort();
                    const o = [],
                      r = ["Item", "AppID", "Count"];
                    for (const e of a) r.push(`${e.strLabel} (${e.type})`);
                    o.push(r);
                    for (const [e, n] of l) {
                      const l = t.get(n),
                        i = [e, _l(n).id.toString(), l.size.toString()];
                      for (const e of a) i.push(l.has(e.unique_id) ? "1" : " ");
                      o.push(i);
                    }
                    const s = "item_locations.csv";
                    al.g.WriteCSVToFile(o, s),
                      (0, D.mK)(
                        d.createElement(y.o0, {
                          strTitle: (0, R.we)("#Sale_GameExport_Title"),
                          bAlertDialog: !0,
                          strDescription: (0, R.we)(
                            "#Sale_GameExport_FileExported",
                            s,
                          ),
                        }),
                        window,
                      ),
                      i();
                  },
                }),
              ),
            ),
          ),
        );
      }
      var pl = a(63872),
        vl = a.n(pl),
        gl = a(46590);
      const hl = (e) => {
        const t = new Array();
        e.rows.forEach((a) => {
          t.push(
            d.createElement(
              "div",
              {
                key: "tc_" + a.strSectionId,
                id: "tc_" + a.strSectionId,
                className: (0, L.A)({
                  [gl.TOCEntry]: !0,
                  [gl.SectionOnScreen]: a.bSectionIsVisible,
                  [a.strClassName]: !0,
                  [gl.TOCIndent]: a.bIndent,
                }),
                onClick: () => {
                  e.onSelected && e.onSelected(a);
                  let t = document.getElementById(a.strSectionId);
                  t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                },
              },
              d.createElement(
                "div",
                { style: a.style || null, className: gl.TOCEntryText },
                a.strLabel,
              ),
            ),
          );
        });
        const a = 36 == e.eventType;
        return d.createElement(
          "div",
          { className: gl.TableOfContentsContainer },
          d.createElement(
            "div",
            { className: gl.ManageLocCtn },
            d.createElement(
              "div",
              { className: gl.Header },
              (0, R.we)("#EventEditor_Loc_Title"),
            ),
            d.createElement(
              "div",
              { className: gl.ManageLocContents },
              a
                ? (0, R.we)("#EventEditor_Loc_Overview_Page")
                : (0, R.we)("#EventEditor_Loc_Overview"),
              d.createElement(
                "div",
                { className: gl.LocButtonsCtn },
                e.elTopContent,
              ),
            ),
          ),
          d.createElement(
            "div",
            { className: gl.TableOfContents },
            d.createElement("div", { className: gl.Header }, e.strHeader),
            t,
            e.elBottomContent,
          ),
        );
      };
      var Sl = a(75933),
        bl = a(62490),
        wl = a(58326),
        Cl = a(6103),
        fl = a.n(Cl),
        yl = a(50607),
        Dl = a(98924),
        Tl = a(28796),
        Il = a.n(Tl),
        Gl = a(54969);
      function Nl(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = [
            {
              label: (0, R.we)("#Sale_Debug_LivePreview_Device_Desktop"),
              data: "desktop",
              size: { width: 1500, height: 1100 },
            },
            {
              label: (0, R.we)("#Sale_Debug_LivePreview_Device_Mobile"),
              data: "mobile",
              size: { width: 402, height: 874 },
            },
            {
              label: (0, R.we)("#Sale_Debug_LivePreview_Device_SteamDeck"),
              data: "steamdeck",
              size: { width: 852, height: 532 },
              queryParams: [{ key: "force_gamepad_client_view", value: "1" }],
            },
            {
              label: (0, R.we)("#Sale_Debug_LivePreview_Device_NewTab"),
              tooltip: (0, R.we)("#Sale_Debug_LivePreview_Device_NewTab_ttip"),
              data: "window",
              newWindow: !0,
            },
          ],
          l = (e) => {
            var l;
            const o = n.find((t) => t.data == e),
              i = a.clanSteamID.GetAccountID(),
              r =
                36 == a.GetEventType()
                  ? `${P.TS.STORE_BASE_URL}curator/${i}`
                  : `${P.TS.STORE_BASE_URL}curator/${i}/sale/${a.jsondata.sale_vanity_id}`,
              s = !(
                null !== (l = null == o ? void 0 : o.newWindow) &&
                void 0 !== l &&
                l
              );
            Gl.xr
              .Get()
              .ShowPreviewWindow(
                r,
                t.GetEventModel(),
                s,
                null == o ? void 0 : o.size,
                null == o ? void 0 : o.queryParams,
              );
          },
          o = (0, Gl.cv)();
        return d.createElement(
          "div",
          { className: (0, L.A)(Il().LivePreview, o && Il().Connected) },
          d.createElement(
            h.$n,
            { className: (0, L.A)(Il().Button), onClick: () => l(void 0) },
            (0, R.we)("#Sale_Debug_LivePreview"),
          ),
          d.createElement(
            h.$n,
            {
              className: (0, L.A)(Il().DeviceDropdown),
              onClick: (e) =>
                ((e) => {
                  const t = d.createElement(h.n4, {
                    rgOptions: n,
                    onValueSelected: (e, t) => l(t.data),
                  });
                  (0, Na.lX)(t, e, { bOverlapHorizontal: !0 });
                })(e),
            },
            d.createElement(Sn.GB9, null),
          ),
        );
      }
      function Al(e) {
        return d.createElement(
          ga.Cs,
          { location: 3 },
          d.createElement(Ml, { ...e }),
        );
      }
      const Ml = (0, c.PA)((e) => {
          const { editModel: t } = e,
            a = (0, P.Qn)(),
            [n, l, o, i] = (0, Xt.q3)(() => [
              (0, wl.QD)(),
              (0, wl.dy)(),
              Boolean(t.GetEventModel().jsondata.sale_sub_menu),
              t.GetEventType(),
            ]),
            r = 36 == i,
            s = (e, t, a, n = !1, l) => {
              e.push({
                strLabel: t,
                strSectionId: a,
                style: l,
                bIndent: n,
                bSectionIsVisible: Xa.m_mapVisibleSections.has(a),
              });
            };
          let c = t.GetEventModel(),
            m = new Array();
          s(m, (0, R.we)("#Sale_PageConfigOptions"), "SalePageEdit_Config");
          const u = (0, I.m)(t.GetClanSteamID(), !1);
          (u || c.GetTaggedItems().length > 0) &&
            s(
              m,
              (0, R.we)("#Sale_TaggedItemsSection", c.GetTaggedItems().length),
              "SalePageEdit_TaggedItems",
            ),
            s(
              m,
              (0, R.we)(
                r ? "#Sale_Artwork_Sections_Page" : "#Sale_Artwork_Sections",
              ),
              "SalePageEdit_AllArtworkCtn",
            ),
            (c.BHasTag("contenthub") || c.BUsesContentHubForItemSource()) &&
              s(m, "Content Hub Settings", "SalePageEdit_ContentHub");
          let _ = !1,
            E = 0;
          if (
            (c.GetSaleSections().forEach((e, o) => {
              if (_ && n && !(0, Dl.bF)(l, e)) E += 1;
              else {
                const n = d.createElement(ha.fi, {
                    saleSection: e,
                    eventModel: t.GetEventModel(),
                    editLanguage: t.GetCurEditLanguage(),
                    index: o,
                  }),
                  l = { ...(0, ba.sq)(e, c, a), color: e.label_color },
                  i = Sl.mj + e.unique_id;
                s(m, n, i, _, l), "tabs" === e.section_type && (_ = !0);
              }
            }),
            E > 0)
          ) {
            const e = d.createElement(
              "div",
              {
                className: fl().Ctn,
                onClick: (e) => {
                  (0, wl.qT)(void 0), e.stopPropagation();
                },
              },
              d.createElement(
                "div",
                { className: fl().ButtonIcon },
                d.createElement(Sn.X, null),
              ),
              (0, R.we)("#Sale_TOC_ClearFilter"),
              d.createElement(G.o, {
                tooltip: (0, R.we)("#Sale_TOC_ClearFilter_ttip", E),
              }),
            );
            s(m, e, "DummyTargetNotReal", !0);
          }
          return (
            u &&
              (o && s(m, "(VO) Sub Menu Editor", "SalePageEdit_SubMenuEditor"),
              s(m, "(VO) Custom CSS Editor", "SalePageEdit_CustomCSSCode")),
            d.createElement(
              Ct.tH,
              null,
              d.createElement(hl, {
                eventType: e.editModel.GetEventType(),
                elTopContent: d.createElement(ut, { editModel: e.editModel }),
                strHeader: (0, R.we)("#Sale_TOC"),
                rows: m,
                onSelected: (t) => {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: d.createElement(Bl, {
                  editModel: e.editModel,
                }),
              }),
            )
          );
        }),
        Bl = (e) => {
          const { editModel: t } = e,
            [a, n, l] = (0, O.uD)(),
            o = (0, Z.XI)((e) => {
              const a = { ...u.G6, unique_id: t.GenerateSaleSectionUniqueID() },
                n = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              n &&
                ((a.label_color = n.label_color),
                (a.background_gradient_bottom = n.background_gradient_bottom),
                (a.background_gradient_top = n.background_gradient_top),
                (a.border_color = n.border_color),
                (a.border_width = n.border_width)),
                ne.nG.SetSaleSectionType(a, e),
                t.GetEventModel().jsondata.sale_sections.push(a),
                t.SetDirty(ne.IQ.jsondata_sales),
                (0, ua.mi)((0, ua.LY)(a), !0),
                l();
            });
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              Ct.tH,
              null,
              d.createElement(
                y.EN,
                { active: a },
                d.createElement(Ll, {
                  clanSteamID: t.GetClanSteamID(),
                  eventType: t.GetEventType(),
                  fnSectionTypeChosen: o,
                  closeModal: l,
                }),
              ),
            ),
            d.createElement(
              h.jn,
              { onClick: n, className: b.AddSectionButton },
              (0, R.we)("#Sale_AddNewSection"),
            ),
          );
        };
      function Ll(e) {
        const {
            clanSteamID: t,
            eventType: a,
            fnSectionTypeChosen: n,
            closeModal: l,
          } = e,
          [o, i] = d.useState("unselected_empty"),
          r = (0, yl.q)(t, a);
        return d.createElement(
          y.o0,
          {
            strTitle: (0, R.we)("#Sale_AddNewSection_Title"),
            strDescription: (0, R.we)("#Sale_AddNewSection_Desc"),
            onOK: () => n(o),
            onCancel: l,
            closeModal: l,
          },
          d.createElement(ba.gB, {
            rgSectionTypeInfos: r,
            sectionType: o,
            fnSetSectionType: (e) => i(e),
          }),
          d.createElement("div", {
            className: (0, L.A)(b.FlexColumnContainer, fl().ReassignCtn),
          }),
        );
      }
      function kl(e) {
        const t = l.mh.GetEditModel(),
          [a, n, o] = (0, O.uD)(),
          { bSoloMode: i, SetSoloMode: r } = (0, ua.eQ)();
        return d.createElement(
          "div",
          { className: pl.BottomBarControls },
          d.createElement(
            "div",
            null,
            d.createElement(
              te.Gq,
              { toolTipContent: (0, R.we)("#Sale_Debug_LivePreview_ttip") },
              d.createElement(Nl, { editModel: t }),
            ),
          ),
          d.createElement(
            "div",
            null,
            d.createElement(
              te.Gq,
              { toolTipContent: (0, R.we)("#Sale_Debug_Tooltip") },
              d.createElement(
                h.$n,
                {
                  onClick: (e) =>
                    (0, D.pg)(d.createElement(il, null), (0, k.uX)(e)),
                },
                d.createElement(Sn.eSy, null),
              ),
            ),
          ),
          d.createElement(
            "div",
            null,
            d.createElement(
              te.Gq,
              { toolTipContent: (0, R.we)("#Sale_GameExport_Desc") },
              d.createElement(
                h.$n,
                {
                  onClick: (e) =>
                    (0, D.pg)(d.createElement(El, null), (0, k.uX)(e)),
                },
                d.createElement(Sn.f5X, null),
              ),
            ),
          ),
          d.createElement(
            "div",
            null,
            d.createElement(
              y.EN,
              { active: a },
              d.createElement(Rl, { editModel: t, closeModal: o }),
            ),
            d.createElement(
              te.Gq,
              { toolTipContent: (0, R.we)("#Sale_ReorderSections_ttip") },
              d.createElement(
                h.$n,
                { onClick: () => n() },
                d.createElement(Sn._EF, null),
              ),
            ),
          ),
          d.createElement(
            "div",
            { className: pl.MinimizeAll },
            d.createElement(
              te.Gq,
              {
                toolTipContent: (0, R.we)("#Sale_Section_MinimizeAll_Tooltip"),
              },
              d.createElement(
                h.$n,
                { onClick: ua.TA },
                d.createElement(Sn.Xjb, null),
              ),
            ),
          ),
          d.createElement(
            "div",
            { className: pl.MinimizeAll },
            d.createElement(
              te.Gq,
              { toolTipContent: (0, R.we)("#Sale_Section_SoloMode_ttip") },
              d.createElement(h.Yh, {
                label: (0, R.we)("#Sale_Section_SoloMode"),
                checked: i,
                onChange: (e) => r(e),
              }),
            ),
          ),
        );
      }
      function Rl(e) {
        const { editModel: t, closeModal: a } = e,
          n = (0, Xt.q3)(() => t.GetSaleSections()),
          [l, o] = d.useState(null);
        d.useEffect(() => (o([...n]), () => o(null)), [n]);
        const i = (0, P.Qn)();
        return d.createElement(
          ga.Cs,
          { location: 4 },
          d.createElement(
            y.o0,
            {
              strTitle: (0, R.we)("#Sale_ReorderSections"),
              onOK: () => {
                (t.GetEventModel().jsondata.sale_sections = l),
                  t.SetDirty(ne.IQ.jsondata_sales),
                  o(null);
              },
              onCancel: () => o(null),
              closeModal: a,
            },
            Boolean(l)
              ? d.createElement(
                  "div",
                  { className: pl.ReorderSectionCtn },
                  d.createElement(
                    "div",
                    { className: pl.SectionList },
                    d.createElement(Sa.A, {
                      items: l,
                      onMove: (e, t) => {
                        let a = [...l];
                        (0, bl.yY)(a, e, t), o(a);
                      },
                      render: (e) => {
                        const a = t.GetSaleSections().findIndex((t) => e === t),
                          n = {
                            ...(0, ba.sq)(e, t.GetEventModel(), i),
                            color: e.label_color,
                          };
                        return d.createElement(
                          "div",
                          { className: pl.SectionTitle, style: n },
                          d.createElement(ha.fi, {
                            saleSection: e,
                            editLanguage: t.GetCurEditLanguage(),
                            eventModel: t.GetEventModel(),
                            index: a,
                          }),
                        );
                      },
                    }),
                  ),
                )
              : d.createElement(T.t, {
                  string: (0, R.we)("#Loading"),
                  size: "medium",
                  position: "center",
                }),
          ),
        );
      }
      const Ol = d.lazy(() =>
        Promise.all([a.e(91), a.e(8502)]).then(a.bind(a, 17065)),
      );
      function Pl(e) {
        const { editModel: t } = e,
          a = t.GetEventModel().jsondata,
          [n, l, o] = (0, Xt.q3)(() => [
            a.sale_custom_css,
            a.sale_vanity_id_valve_approved_for_sale_subpath,
            t.GetName(),
          ]),
          [i, r] = d.useState(() => o + "_custom.css");
        return d.createElement(
          d.Fragment,
          null,
          Boolean(l)
            ? d.createElement(
                "div",
                { className: Va.CustomCssCtn },
                d.createElement(
                  "p",
                  null,
                  "Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props.",
                ),
                d.createElement("h3", null, "Custom Fonts"),
                d.createElement(
                  "p",
                  null,
                  " If you're going to import custom fonts you need to declare each family separately or they won't import correctly. ",
                ),
                d.createElement(
                  "div",
                  { className: Va.CodeSnippet },
                  d.createElement("code", null, "'//For Example'"),
                  d.createElement("br", null),
                  d.createElement(
                    "code",
                    null,
                    "@import url('https://fonts.googleapis.com/css2?family=Protest+Strike&display=swap'); ",
                  ),
                  d.createElement("br", null),
                  d.createElement(
                    "code",
                    null,
                    "@import url('https://fonts.googleapis.com/css2?family=Quantico:ital,wght@0,400;0,700;1,400;1,700&display=swap');",
                  ),
                ),
                d.createElement(
                  "p",
                  null,
                  "Additionally, when you declare a font-family in your custom CSS do not wrap the name of the family in quotation marks.",
                ),
                d.createElement(
                  "div",
                  { className: Va.CodeSnippet },
                  d.createElement("code", null, "'//For Example'"),
                  d.createElement("br", null),
                  d.createElement("code", null, "font-family: Protest Strike"),
                  " will work, ",
                  d.createElement(
                    "code",
                    null,
                    'font-family: "Protest Strike"',
                  ),
                  " will NOT",
                ),
                d.createElement(
                  "div",
                  { className: Va.ButtonGroup },
                  d.createElement("input", {
                    type: "file",
                    onChange: (e) => {
                      var a;
                      const n =
                        null === (a = e.target.files) || void 0 === a
                          ? void 0
                          : a[0];
                      if (n) {
                        r(e.target.files[0].name);
                        const a = new FileReader();
                        (a.onload = (a) => {
                          const n = a.target.result.toString();
                          (t.GetEventModel().jsondata.sale_custom_css = n),
                            t.SetDirty(ne.IQ.jsondata_sales),
                            (e.target.value = "");
                        }),
                          a.readAsText(n);
                      }
                    },
                  }),
                  d.createElement(
                    h.$n,
                    {
                      onClick: () => {
                        const e = document.createElement("a"),
                          t = new Blob([n], { type: "text/css" });
                        (e.href = URL.createObjectURL(t)),
                          (e.download = i),
                          document.body.appendChild(e),
                          e.click();
                      },
                    },
                    "Export",
                  ),
                ),
                d.createElement(
                  "div",
                  { className: Va.CodeEditor },
                  d.createElement(
                    d.Suspense,
                    { fallback: null },
                    d.createElement(Ol, {
                      width: "100%",
                      height: "100%",
                      language: "css",
                      theme: "vs-dark",
                      value: n || "",
                      options: {
                        selectOnLineNumbers: !0,
                        tabCompletion: "on",
                        colorDecorators: !0,
                        scrollBeyondLastLine: !1,
                        automaticLayout: !0,
                      },
                      onChange: (e) => {
                        t.GetEventModel().jsondata.sale_custom_css != e &&
                          ((t.GetEventModel().jsondata.sale_custom_css = e),
                          t.SetDirty(ne.IQ.jsondata_sales));
                      },
                    }),
                  ),
                ),
              )
            : d.createElement(
                "div",
                { className: Va.SettingCtn },
                d.createElement(
                  "p",
                  null,
                  "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section",
                ),
              ),
        );
      }
      var xl = a(88494),
        Fl = a(72739),
        Hl = a(54736),
        jl = a(3937);
      const zl = d.createContext(void 0);
      function Ul(e) {
        return d.createElement(zl, { value: e.elContent }, e.children);
      }
      function ql(e) {
        const t = d.useContext(zl);
        return t ? Fl.createPortal(e.children, t) : null;
      }
      const Vl = (0, c.PA)((e) => {
          const t = l.mh.GetEditModel(),
            a = t.GetCategoryAsType(),
            n = t.BPublished(),
            o = t.BUnlisted(),
            i = t.BVisible(),
            r = 36 == a;
          return d.createElement(
            "div",
            {
              className: (0, L.A)(
                Hl.EventEditorTopBarContainer,
                n && (i || o) ? Hl.EventPublished : Hl.EventUnPublished,
              ),
            },
            d.createElement(
              "div",
              { className: w().EventBarBackAndTitle },
              d.createElement(
                yt.tj,
                {
                  eventModel: t.GetEventModel(),
                  route: yt.PH.k_eCommunityAdminPage,
                  className: w().EventBarBack,
                },
                (0, R.we)("#EventDisplay_EventsDashBtn"),
              ),
              d.createElement(
                "div",
                { className: w().EventBarTitleCtn },
                d.createElement(bn.zm, { editModel: t }),
              ),
            ),
            d.createElement(
              "div",
              { className: w().EventOptions },
              d.createElement(bn.$A, { editModel: t }),
            ),
            d.createElement(
              "div",
              { className: w().EventEditButtons },
              !r &&
                d.createElement(
                  yt.tj,
                  {
                    eventModel: t.GetEventModel(),
                    route: yt.PH.k_eCommunityPreview,
                    className: w().EditPreviewButton,
                  },
                  28 == a
                    ? (0, R.we)("#EventEditor_Preview_News")
                    : (0, R.we)("#EventEditor_Preview"),
                ),
              t.BHasSaleEnabled() &&
                d.createElement(
                  yt.tj,
                  {
                    eventModel: t.GetEventModel(),
                    route: yt.PH.k_eCommunityPreviewSale,
                    className: w().EditPreviewButton,
                  },
                  r
                    ? (0, R.we)("#EventEditor_PreviewSale_Page")
                    : (0, R.we)("#EventEditor_PreviewSale"),
                ),
              t.BHasSaleEnabled() &&
                d.createElement(
                  te.Gq,
                  { toolTipContent: (0, R.we)("#Sale_Debug_LivePreview_ttip") },
                  d.createElement(Nl, { editModel: t }),
                ),
            ),
          );
        }),
        Wl = (0, c.PA)((e) => {
          const { setAdditionalContentDiv: t } = e,
            a = l.mh.GetEditModel(),
            n = a.GetEventModel(),
            o = 36 == a.GetEventType(),
            { creatorHome: i } = (0, $t.FV)(a.GetClanAccountID()),
            r = o && (null == i ? void 0 : i.GetLinkedEventGID()) == n.GID,
            s =
              (a.GetVisibilityState() == u.zv.k_EEventStateVisible ||
                a.BUnlisted()) &&
              (!o || r);
          return d.createElement(
            "div",
            { className: Hl.EventEditorBottomBar },
            d.createElement(jl.c, { editModel: l.mh.GetEditModel() }),
            !o &&
              d.createElement(
                yt.tj,
                {
                  eventModel: n,
                  route: yt.PH.k_eCommunityPreview,
                  className: w().EditPreviewButton,
                },
                (0, R.we)("#EventEditor_Preview"),
              ),
            s &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  yt.tj,
                  {
                    className: w().EditPreviewButton,
                    eventModel: n,
                    route: yt.PH.k_eStoreView,
                  },
                  o
                    ? (0, R.we)("#EventEditor_ViewLive_CreatorHome")
                    : (0, R.we)("#EventEditor_ViewLive"),
                ),
                d.createElement(
                  "span",
                  { className: Hl.DisplayAdminPanel_Spacer },
                  " ",
                ),
              ),
            d.createElement("div", { className: Hl.AdditionalContent, ref: t }),
          );
        });
      var Ql = a(18368),
        Yl = a.n(Ql),
        Jl = a(47534),
        Kl = a(45699);
      function Zl(e) {
        const {
            rgSocialMediaItems: t,
            fnSetItems: a,
            rgSupportedSocialMediaTypes: n,
            rgValidationData: l,
          } = e,
          o = d.useMemo(
            () =>
              n
                .filter(
                  (e) =>
                    -1 === t.findIndex((t) => t.type === e.type) ||
                    "qq" === e.type ||
                    "qqlink" === e.type,
                )
                .map((e) => ({
                  label: (0, R.we)(`#StoreAdmin_SocialMedia_Type_${e.type}`),
                  data: e.type,
                }))
                .sort((e, t) => (e.label < t.label ? -1 : 1)),
            [n, t],
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(Xl, {
            options: o,
            onAddLink: (e) => {
              let n = t.slice();
              n.push({ type: e, link: "" }), a(n);
            },
          }),
          d.createElement(Sa.A, {
            items: t,
            onDelete: (e) => {
              let n = t.slice();
              n.splice(e, 1), a(n);
            },
            onMove: (e, n) => {
              let l = t.slice();
              (0, bl.yY)(l, e, n), a(l);
            },
            render: (e, n) =>
              d.createElement(eo, {
                key: e.type,
                item: e,
                onUpdateLink: (e) =>
                  ((e, n) => {
                    const l = t.map((t, a) =>
                      a === e ? { ...t, link: n } : t,
                    );
                    a(l);
                  })(n, e),
                validationData: l[e.type],
              }),
          }),
        );
      }
      function Xl(e) {
        const { options: t, onAddLink: a } = e;
        return d.createElement(
          "div",
          { className: Jl.AddLinkDropDown },
          d.createElement(h.ZU, {
            strDefaultLabel: (0, R.we)("#StoreAdmin_SocialMedia_Add"),
            controlled: !0,
            rgOptions: t,
            onChange: (e) => {
              const t = e.data;
              t && a(t);
            },
            selectedOption: null,
          }),
        );
      }
      function $l(e, t) {
        let a = !0,
          n = "";
        return (
          t.prefix
            ? ((n =
                "mastodon" === e.type
                  ? (0, R.we)(
                      "#StoreAdmin_SocialMedia_ValidationMastodon",
                      t.prefix.join(", "),
                    )
                  : (0, R.we)(
                      "#StoreAdmin_SocialMedia_ValidationPrefix",
                      t.prefix.join(", "),
                    )),
              e.link &&
                ((a = !1),
                t.prefix.forEach((t) => {
                  e.link.startsWith(t) && (a = !0);
                })))
            : t.number
              ? ((n = (0, R.we)("#StoreAdmin_SocialMedia_ValidationNumber")),
                e.link && (a = /^\d+$/.test(e.link)))
              : t.text
                ? (n = (0, R.we)("#StoreAdmin_SocialMedia_ValidationText"))
                : t.regex &&
                  "tumblr" === e.type &&
                  (n = (0, R.we)("#StoreAdmin_SocialMedia_ValidationTumblr")),
          { bValid: a, strTooltip: n }
        );
      }
      function eo(e) {
        const { item: t, onUpdateLink: a, validationData: n } = e;
        let l;
        l = n.number
          ? (0, R.we)("#StoreAdmin_SocialMedia_EnterNumber")
          : n.text
            ? (0, R.we)("#StoreAdmin_SocialMedia_EnterName")
            : (0, R.we)("#StoreAdmin_SocialMedia_EnterLink");
        const { bValid: o, strTooltip: i } = $l(t, n);
        return d.createElement(
          "div",
          { className: Jl.SocialMediaRow },
          d.createElement(
            "div",
            { className: Jl.SocialMediaType },
            (0, R.we)(`#StoreAdmin_SocialMedia_Type_${t.type}`),
          ),
          d.createElement(Kl.BA, {
            className: Jl.SocialMediaLink,
            type: "text",
            value: t.link,
            placeholder: l,
            onChange: (e) => a(e.target.value),
          }),
          i &&
            d.createElement(
              te.he,
              { className: Jl.SocialMediaTooltip, toolTipContent: i },
              "(?)",
            ),
          !o && d.createElement("div", { className: Jl.ValidationError }, i),
        );
      }
      function to(e) {
        const { editModel: t } = e;
        return 36 == (0, Xt.q3)(() => t.GetEventType())
          ? d.createElement(no, { editModel: t })
          : d.createElement(ao, { editModel: t });
      }
      function ao(e) {
        const { editModel: t } = e,
          a = t.GetCurEditLanguage(),
          [n, l, o, i] = (0, Xt.q3)(() => [
            t.GetName(a) || "",
            t.GetSummary(a) || "",
            t.GetDescription(a) || "",
            t.GetImageURL("capsule", a) || null,
          ]),
          r = l || u.lh.GenerateSummaryFromText(o);
        return d.createElement(lo, {
          editModel: t,
          title: n,
          titleTip: (0, R.we)("#Sale_DefaultSocialModule_DefaultTitle"),
          summary: r,
          summaryTip: (0, R.we)("#Sale_DefaultSocialModule_DefaultDesc"),
          imageUrl: i,
          socialMediaLinksEditor: !0,
        });
      }
      function no(e) {
        const { editModel: t } = e,
          [a, n] = (0, v.TB)(t.GetClanAccountID());
        return d.createElement(lo, {
          editModel: t,
          title: n.curator_title,
          titleTip: (0, R.we)(
            "#Sale_DefaultSocialModule_DefaultTitle_CreatorHome",
          ),
          summary: n.curator_description,
          summaryTip: (0, R.we)(
            "#Sale_DefaultSocialModule_DefaultDesc_CreatorHome",
          ),
          imageUrl: n.avatar_full_url,
          smallImage: !0,
        });
      }
      function lo(e) {
        const {
            editModel: t,
            title: a,
            titleTip: n,
            summary: l,
            summaryTip: o,
            imageUrl: i,
            socialMediaLinksEditor: r,
            smallImage: s,
          } = e,
          c = t.GetEventModel(),
          [m, u] = (0, Xt.q3)(() => [
            c.GetSaleSectionsByType("social_share") || [],
            c.jsondata.sale_default_social_media_disabled,
          ]),
          _ = m.length > 0,
          E = !(u || _);
        return d.createElement(
          "div",
          null,
          d.createElement(
            "p",
            null,
            (0, R.we)("#Sale_DefaultSocialModule_Description"),
          ),
          d.createElement(
            I.E,
            { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
            d.createElement(
              "p",
              { className: Yl().DefaultSocialOverrideMsg },
              (0, R.we)(
                _
                  ? "#Sale_DefaultSocialModule_DisabledByOverride"
                  : "#Sale_DefaultSocialModule_Override",
              ),
            ),
          ),
          E &&
            d.createElement(
              "div",
              { className: Yl().SocialShareCtn },
              d.createElement("img", {
                className: (0, L.A)(Yl().DefaultSocialImgCtn, s && Yl().Small),
                src: i,
              }),
              d.createElement(
                "div",
                { className: Yl().SocialShareText },
                d.createElement(
                  "div",
                  { className: Yl().SocialTitle },
                  a,
                  d.createElement("br", null),
                  d.createElement("span", null, n),
                ),
                d.createElement(
                  "div",
                  { className: Yl().SocialDesc },
                  l,
                  d.createElement("br", null),
                  d.createElement("span", null, o),
                ),
              ),
            ),
          d.createElement(h.RF, {
            onChange: (e) => {
              (c.jsondata.sale_default_social_media_disabled = !e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
            label: (0, R.we)("#Sale_DefaultSocialModule_Toggle"),
            checked: E,
            disabled: _,
          }),
          !r && d.createElement(oo, { editModel: t }),
        );
      }
      function oo(e) {
        const { editModel: t } = e,
          [a, n] = (0, d.useState)(() => {
            var e;
            return (
              (null ===
                (e = t.GetEventModel().jsondata.sale_social_media_items) ||
              void 0 === e
                ? void 0
                : e.length) > 0
            );
          });
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "p",
            null,
            (0, R.we)("#Sale_DefaultSocialModule_LinkDesc"),
          ),
          a
            ? d.createElement(io, { editModel: t })
            : d.createElement(h.RF, {
                onChange: () => n(!0),
                label: (0, R.we)(
                  "#Sale_DefaultSocialModule_EnableSocialMediaLink",
                ),
                checked: a,
              }),
        );
      }
      function io(e) {
        const { editModel: t } = e,
          a = (function () {
            const e = (0, ln.I)({
              queryKey: ["useSocialMediaSupports"],
              queryFn: async () => {
                var e;
                const t = `${on.TS.COMMUNITY_BASE_URL}sale/ajaxgetsocialmediaeditsettings`,
                  a = { origin: self.origin },
                  n = await s().get(t, { params: a });
                return 200 == (null == n ? void 0 : n.status) &&
                  1 ==
                    (null === (e = n.data) || void 0 === e ? void 0 : e.success)
                  ? n.data
                  : (console.error(
                      "useSocialMediaSupports:",
                      null == n ? void 0 : n.status,
                    ),
                    { success: 2 });
              },
            });
            return e.isLoading ? null : e.data;
          })();
        (0, d.useEffect)(() => {
          const e = t.GetEventModel().jsondata;
          e.sale_social_media_items || (e.sale_social_media_items = []);
        }, [t]);
        const n = (0, Xt.q3)(
            () => t.GetEventModel().jsondata.sale_social_media_items || [],
          ),
          [l, o] = (0, d.useState)(() => n);
        return a
          ? 1 != a.success
            ? d.createElement(
                "div",
                { className: Yl().ErrorContainer },
                d.createElement(
                  "div",
                  { className: Yl().ErrorText },
                  (0, R.we)("#GrantAwardError_Busy"),
                ),
              )
            : d.createElement(
                d.Fragment,
                null,
                d.createElement(Zl, {
                  rgValidationData: a.rgValidationData,
                  rgSupportedSocialMediaTypes: a.rgSupportedSocialMediaTypes,
                  rgSocialMediaItems: l,
                  fnSetItems: (e) => {
                    const n = a.rgValidationData;
                    (t.GetEventModel().jsondata.sale_social_media_items = e
                      .filter((e) => Boolean(e.link))
                      .filter((e) => $l(e, n[e.type]).bValid)),
                      t.SetDirty(ne.IQ.jsondata_sales),
                      o(e);
                  },
                }),
                Boolean(0 == n.length) &&
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)("#Sale_DefaultSocialModule_NoLinks"),
                  ),
              )
          : d.createElement(T.t, {
              string: (0, R.we)("#Loading"),
              position: "center",
            });
      }
      var ro = a(78395),
        so = a(21869),
        co = a(15761),
        mo = a(71193),
        uo = a.n(mo),
        _o = a(98069),
        Eo = a(85468),
        po = a(41388);
      function vo(e) {
        const { editModel: t } = e,
          [a] = (0, Xt.q3)(() => [
            Boolean(t.GetEventModel().jsondata.sale_sub_menu),
          ]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(wo, { editModel: t }),
          a && d.createElement(go, { editModel: t }),
        );
      }
      function go(e) {
        const { editModel: t } = e,
          [a] = (0, Xt.q3)(() => [t.GetEventModel().jsondata.sale_sub_menu]),
          n = (0, d.useCallback)(() => t.SetDirty(ne.IQ.jsondata_sales), [t]),
          l = [
            {
              name: "Editor",
              key: "submenu_editor",
              contents: d.createElement(So, { ...e }),
            },
            {
              name: "Background",
              key: "submenu_back",
              contents: d.createElement(co.Bb, {
                section: a,
                fnOnSetDirty: () => n,
                elAdditionalLabelSettings: d.createElement(ho, {
                  fnOnSetDirty: n,
                  subMenuSection: a,
                }),
                fnOnClearSettings: () => {
                  (a.selected_label_color = void 0),
                    (a.hover_label_color = void 0);
                },
              }),
            },
            {
              name: "Debug",
              key: "debug",
              contents: d.createElement(Kt.ad, { saleSection: a }),
            },
          ];
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "p",
            null,
            "Sub Menu appear below the main menu on this sale page. They are useful for organizing related items that exists on other pages in the store.",
          ),
          d.createElement(
            "div",
            { className: uo().TabContents },
            d.createElement(oa.V, { tabs: l, bDisableRouting: !0 }),
          ),
        );
      }
      function ho(e) {
        const { fnOnSetDirty: t, subMenuSection: a } = e,
          [n, l] = (0, Xt.q3)(() => [
            a.selected_label_color,
            a.hover_label_color,
          ]),
          o = (0, _o._)({
            fnOnSetDirty: t,
            section: a,
            property: "selected_label_color",
            color: n,
          }),
          i = (0, _o._)({
            fnOnSetDirty: t,
            section: a,
            property: "hover_label_color",
            color: l,
          });
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            h.$n,
            {
              onClick: o,
              className: b.EventEditorTextTitle,
              style: { color: n },
            },
            "Selected Label Color",
          ),
          d.createElement(
            h.$n,
            {
              onClick: i,
              className: b.EventEditorTextTitle,
              style: { color: l },
            },
            "Hover Label Color",
          ),
        );
      }
      function So(e) {
        const { editModel: t } = e,
          a = (0, O.CH)(),
          [n, l] = (0, Xt.q3)(() => {
            var e, a, n;
            return [
              (null ===
                (a =
                  null === (e = t.GetEventModel().jsondata.sale_sub_menu) ||
                  void 0 === e
                    ? void 0
                    : e.menu_items) || void 0 === a
                ? void 0
                : a.length) || 0,
              (null === (n = t.GetEventModel().jsondata.sale_sub_menu) ||
              void 0 === n
                ? void 0
                : n.menu_items) || [],
            ];
          });
        return d.createElement(
          d.Fragment,
          null,
          Boolean(n > 0)
            ? d.createElement(Sa.A, {
                items: l,
                onDelete: (e) => {
                  l.splice(e, 1), t.SetDirty(ne.IQ.jsondata_sales), a();
                },
                onReorder: () => t.SetDirty(ne.IQ.jsondata_sales),
                render: (e) =>
                  d.createElement(bo, {
                    fnOnDirty: () => t.SetDirty(ne.IQ.jsondata_sales),
                    menuItem: e,
                  }),
              })
            : d.createElement("p", null, "No sub menu items"),
          d.createElement(
            h.jn,
            {
              onClick: (e) => {
                let n = Math.floor(1e6 * Math.random());
                for (
                  ;
                  t
                    .GetEventModel()
                    .jsondata.sale_sub_menu.menu_items.find(
                      (e) => e.unique_id == n,
                    );
                )
                  n = Math.floor(1e6 * Math.random());
                t
                  .GetEventModel()
                  .jsondata.sale_sub_menu.menu_items.push({
                    unique_id: n,
                    sub_menu_icon: { media_type: po.Cu.k_MediaImage },
                  }),
                  t.SetDirty(ne.IQ.jsondata_sales),
                  a();
              },
            },
            "Add Sub Menu",
          ),
        );
      }
      function bo(e) {
        const { fnOnDirty: t, menuItem: a } = e,
          n = (0, en.E)(),
          [l, o] = (0, Xt.q3)(() => {
            var e;
            return [
              (null === (e = a.localized_sub_menu_name) || void 0 === e
                ? void 0
                : e[n]) || "",
              a.sub_menu_url || "",
            ];
          });
        return d.createElement(
          "div",
          null,
          d.createElement(h.pd, {
            type: "text",
            value: l,
            label: "Menu Item Name",
            onChange: (e) => {
              const o = e.currentTarget.value;
              o !== l &&
                ((!a.localized_sub_menu_name ||
                  a.localized_sub_menu_name.length < 31) &&
                  (a.localized_sub_menu_name = (0, bl.$Y)(
                    a.localized_sub_menu_name || [],
                    31,
                    null,
                  )),
                (a.localized_sub_menu_name[n] = o),
                t());
            },
          }),
          d.createElement(h.pd, {
            type: "url",
            value: o,
            label: "Store URL",
            tooltip:
              "Selection of the active one will happen automatically when the current URL match this URL entered",
            onChange: (e) => {
              const n = e.currentTarget.value;
              n !== o && ((a.sub_menu_url = n), t());
            },
          }),
          d.createElement(Co, { fnOnDirty: t, menuItem: a }),
        );
      }
      function wo(e) {
        const { editModel: t } = e,
          [a] = (0, Xt.q3)(() => [
            Boolean(t.GetEventModel().jsondata.sale_sub_menu),
          ]),
          [n, l] = (0, d.useState)(!1),
          [o, i, r] = (0, O.uD)(),
          s = d.useRef(void 0);
        return (
          (0, d.useEffect)(() => {
            n &&
              ((t.GetEventModel().jsondata.sale_sub_menu = void 0),
              t.SetDirty(ne.IQ.jsondata_sales),
              l(!1));
          }, [n, t]),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(h.RF, {
              ref: s,
              onChange: () => {
                var e;
                a
                  ? (null === (e = null == s ? void 0 : s.current) ||
                      void 0 === e ||
                      e.setState({ checked: !0 }),
                    i())
                  : ((t.GetEventModel().jsondata.sale_sub_menu = {
                      menu_items: [],
                    }),
                    t.SetDirty(ne.IQ.jsondata_sales));
              },
              label: "Enable Sub Menu",
              checked: a,
            }),
            d.createElement(
              so.E,
              { active: o },
              d.createElement(ro.o0, {
                strTitle: "Clear Sub Menu",
                strDescription:
                  "Sub Menu will be cleared from the model and this is not undo-able without reload the editor?",
                onOK: () => {
                  var e;
                  null === (e = null == s ? void 0 : s.current) ||
                    void 0 === e ||
                    e.setState({ checked: !1 }),
                    l(!0);
                },
                closeModal: r,
              }),
            ),
          )
        );
      }
      function Co(e) {
        var t;
        const { fnOnDirty: a, menuItem: n } = e,
          [l, o, i] = (0, O.uD)();
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(h.$n, { onClick: o }, "Open Icon Uploader"),
          d.createElement(
            so.E,
            { active: l },
            d.createElement(
              ro.o0,
              {
                strTitle: "Sub Menu Icon Uploader",
                strDescription:
                  "Upload a localizeable icon for this submenu item: " +
                  (null ===
                    (t = null == n ? void 0 : n.localized_sub_menu_name) ||
                  void 0 === t
                    ? void 0
                    : t[0]),
                bAlertDialog: !0,
                closeModal: i,
              },
              d.createElement(Eo.v, {
                fnOnDirty: a,
                localizedMedia: n.sub_menu_icon,
              }),
            ),
          ),
        );
      }
      var fo = a(49199),
        yo = a(79821),
        Do = a(33494),
        To = a(81047),
        Io = a(9239),
        Go = a(2160),
        No = a(30894);
      class Ao {
        static Get() {
          return (
            Ao.s_newsCuratorStore ||
              ((Ao.s_newsCuratorStore = new Ao()),
              (Ao.s_newsCuratorStore.m_LoadingPromise =
                Ao.s_newsCuratorStore.Init()),
              (window.g_NewsCuratorStore = Ao.s_newsCuratorStore)),
            Ao.s_newsCuratorStore
          );
        }
        constructor() {
          (this.m_mapNewsCurators = new Map()),
            (this.m_bIsLoadComplete = !1),
            (this.m_mapLangToNewsCurators = new Map()),
            (this.m_LoadingPromise = null),
            (0, Z.Gn)(this);
        }
        IsLoaded() {
          return this.m_bIsLoadComplete;
        }
        WaitForInitialLoad() {
          return this.m_LoadingPromise;
        }
        get allNewsCurators() {
          return Array.from(this.m_mapNewsCurators.values());
        }
        GetCuratorsForLang(e) {
          return this.m_mapLangToNewsCurators.get(e);
        }
        GetNewsCuratorForAccount(e) {
          return this.m_mapNewsCurators.get(e);
        }
        BIsTrustedPressAccount(e) {
          return void 0 !== this.GetNewsCuratorForAccount(e);
        }
        async Init() {
          R.A0.GetLanguageListForRealms([P.TS.EREALM]).forEach((e) =>
            this.m_mapLangToNewsCurators.set(e, []),
          );
          const e = P.TS.STORE_BASE_URL + "events/ajaxgetnewscurators";
          let t = { origin: self.origin };
          const a = await s().get(e, { params: t });
          (0, Z.h5)(() => {
            a.data && a.data.success && this.HandleCuratorResponse(a.data),
              (this.m_bIsLoadComplete = !0);
          });
        }
        HandleCuratorResponse(e) {
          var t;
          if (
            (e.groupvanityinfo && v.ac.RegisterClanData(e.groupvanityinfo),
            e.newscuratorinfo)
          )
            for (const a of e.newscuratorinfo) {
              if (this.m_mapNewsCurators.has(a.clanAccountID)) continue;
              this.m_mapNewsCurators.set(a.clanAccountID, a);
              const e = v.ac.GetClanInfoByClanAccountID(a.clanAccountID);
              e &&
                (null ===
                  (t = this.m_mapLangToNewsCurators.get(e.rss_language)) ||
                  void 0 === t ||
                  t.push(a));
            }
        }
      }
      (0, J.Cg)([Z.sH], Ao.prototype, "m_mapNewsCurators", void 0),
        (0, J.Cg)([Z.sH], Ao.prototype, "m_bIsLoadComplete", void 0),
        (0, J.Cg)([Z.sH], Ao.prototype, "m_mapLangToNewsCurators", void 0),
        (0, J.Cg)([Z.EW], Ao.prototype, "allNewsCurators", null),
        (0, J.Cg)([Z.XI], Ao.prototype, "HandleCuratorResponse", null);
      var Mo = a(41338),
        Bo = a(16345),
        Lo = a.n(Bo);
      function ko(e) {
        const t = new Set();
        return (
          (e.indexOf("games") >= 0 || e.indexOf("dlc") >= 0) && t.add("apps"),
          e.indexOf("curators") >= 0 && t.add("curators"),
          t
        );
      }
      class Ro extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strSearchString: "",
              rgAppSuggestions: null,
              rgCuratorSuggestions: null,
            }),
            (this.m_nHighestSentRequestID = 0),
            (this.m_mapHighestReceivedRequestIDFromBackEnd = new Map([
              ["apps", 0],
              ["curators", 0],
            ])),
            (this.m_timerForChange = new B.LU());
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel();
        }
        CloseSuggestions() {
          this.setState({
            rgCuratorSuggestions: null,
            rgAppSuggestions: null,
            strSearchString: "",
          });
        }
        async GetSuggestionsFromServer(e) {
          const t = ko(this.props.rgCorporaToSearch);
          t.has("apps") && this.GetAppSuggestionsFromServer(e),
            t.has("curators") && this.GetCuratorSuggestions(e);
        }
        async GetCuratorSuggestions(e) {
          var t;
          const a = Ao.Get().allNewsCurators,
            n = [];
          for (const l of a) {
            const a = v.ac.GetClanInfoByClanAccountID(l.clanAccountID),
              o = {
                corpus: "curators",
                id: l.clanAccountID,
                name: null == a ? void 0 : a.group_name,
                img: null == a ? void 0 : a.avatar_full_url,
              };
            if (
              (
                (null === (t = null == a ? void 0 : a.group_name) ||
                void 0 === t
                  ? void 0
                  : t.toLocaleLowerCase()) || ""
              ).indexOf(e) >= 0
            ) {
              if (
                this.props.fnFilterSuggestion &&
                !this.props.fnFilterSuggestion(o)
              )
                continue;
              if (No.Fm.Get().BIsIgnoringCurator(a.clanAccountID)) continue;
              const e = No.Fm.Get().BIsFollowingCurator(a.clanAccountID),
                t = d.createElement(Oo, {
                  key: "curatorsug_" + o.id,
                  suggestion: o,
                  fnOnSelected: this.props.fnOnSelected,
                  bShowFollowingLabel: e,
                });
              n.push(
                this.props.fnDecorateSuggestion
                  ? this.props.fnDecorateSuggestion(o, t)
                  : t,
              );
            }
          }
          this.m_mapHighestReceivedRequestIDFromBackEnd.set(
            "curators",
            this.m_nHighestSentRequestID,
          ),
            this.setState({ rgCuratorSuggestions: n });
        }
        async GetAppSuggestionsFromServer(e) {
          var t;
          const a = this.m_nHighestSentRequestID,
            n = [];
          this.props.rgCorporaToSearch.indexOf("games") >= 0 &&
            (n.push("game"), n.push("software")),
            this.props.rgCorporaToSearch.indexOf("dlc") >= 0 &&
              (n.push("dlc"), n.push("music"));
          const l = {
              cc: P.TS.COUNTRY,
              l: P.TS.LANGUAGE,
              realm: Go.TU.k_ESteamRealmGlobal,
              origin: self.origin,
              f: "jsonfull",
              term: e.replace(" ", "+"),
              require_type: n.join(","),
              excluded_tags: No.Fm.Get().GetExcludedTagsSortedByID(),
              excluded_content_descriptors:
                No.Fm.Get().ExcludedContentDescriptor,
            },
            o = `${P.TS.STORE_BASE_URL}search/suggest`,
            i = await s().get(o, { params: l, withCredentials: !0 });
          if (a < this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps"))
            return;
          let r;
          this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps", a),
            (null === (t = null == i ? void 0 : i.data) || void 0 === t
              ? void 0
              : t.length) &&
              (r = i.data.map((e) => {
                const t = {
                  corpus:
                    ((a = e.type),
                    "game" == a || "software" == a
                      ? "games"
                      : "dlc" == a || "music" == a
                        ? "dlc"
                        : null),
                  ...e,
                  id: parseInt(e.id),
                };
                var a;
                if (
                  this.props.fnFilterSuggestion &&
                  !this.props.fnFilterSuggestion(t)
                )
                  return null;
                const n = d.createElement(Oo, {
                  key: t.type + t.id,
                  suggestion: t,
                  fnOnSelected: this.props.fnOnSelected,
                });
                return this.props.fnDecorateSuggestion
                  ? this.props.fnDecorateSuggestion(t, n)
                  : n;
              })),
            this.setState({ rgAppSuggestions: r });
        }
        async UpdateSuggestions(e) {
          const t = e.target.value && e.target.value.trim().toLocaleLowerCase();
          if (
            (this.m_nHighestSentRequestID++, !(null == t ? void 0 : t.length))
          )
            return (
              Array.from(ko(this.props.rgCorporaToSearch)).forEach((e) =>
                this.m_mapHighestReceivedRequestIDFromBackEnd.set(
                  e,
                  this.m_nHighestSentRequestID,
                ),
              ),
              this.m_timerForChange.Cancel(),
              this.setState({ strSearchString: "" }),
              void this.ResetSuggestions()
            );
          this.setState({ strSearchString: t }),
            this.m_timerForChange.Schedule(300, () =>
              this.GetSuggestionsFromServer(t),
            );
        }
        ResetSuggestions() {
          this.setState({ rgAppSuggestions: null, rgCuratorSuggestions: null });
        }
        GetLimitedSuggestions() {
          let { rgAppSuggestions: e, rgCuratorSuggestions: t } = this.state;
          let a = e ? e.length : 10,
            n = t ? t.length : 10;
          return (
            a + n > 10 && (a = 10 - Math.min(n, 2)),
            (n = 10 - a),
            (e = null == e ? void 0 : e.slice(0, a)),
            (t = null == t ? void 0 : t.slice(0, n)),
            { rgAppSuggestions: e, rgCuratorSuggestions: t }
          );
        }
        render() {
          const {
              strLabel: e,
              focusOnMount: t,
              rgCorporaToSearch: a,
              strResultsClass: n,
            } = this.props,
            { strSearchString: l } = this.state,
            { rgAppSuggestions: o, rgCuratorSuggestions: i } =
              this.GetLimitedSuggestions(),
            r = (null == l ? void 0 : l.length) > 0,
            s = (null == o ? void 0 : o.length) > 0,
            c = (null == i ? void 0 : i.length) > 0,
            m = ko(a).size > 1,
            u =
              m &&
              s &&
              (0, R.we)(
                a.indexOf("dlc") >= 0
                  ? "#EventCalendar_SearchResultsHeader_GameAndDLCSection"
                  : "#EventCalendar_SearchResultsHeader_GameSection",
              ),
            _ = Array.from(ko(a)).some(
              (e) =>
                this.m_nHighestSentRequestID >
                this.m_mapHighestReceivedRequestIDFromBackEnd.get(e),
            ),
            E = !c && !s && !_;
          return d.createElement(
            "div",
            { className: Lo().SuggestContainer },
            d.createElement(h.pd, {
              type: "text",
              label: e,
              onChange: this.UpdateSuggestions,
              bAlwaysShowClearAction: r,
              focusOnMount: t,
            }),
            r &&
              d.createElement(
                "div",
                { className: (0, L.A)(Lo().Results, n) },
                s &&
                  d.createElement(
                    "div",
                    { key: "game-suggestions" },
                    m &&
                      d.createElement(
                        "div",
                        { className: Lo().ResultSectionHeader },
                        u,
                      ),
                    o,
                  ),
                c &&
                  d.createElement(
                    "div",
                    { key: "curator-suggestions" },
                    m &&
                      d.createElement(
                        "div",
                        { className: Lo().ResultSectionHeader },
                        (0, R.we)(
                          "#EventCalendar_SearchResultsHeader_CuratorSection",
                        ),
                      ),
                    i,
                  ),
                E &&
                  d.createElement(
                    "div",
                    { className: Lo().EmptyResults, key: "empty-results" },
                    (0, R.we)("#EventCalendar_GameSearch_NoneFound"),
                  ),
                _ && d.createElement(T.t, { size: "small" }),
              ),
          );
        }
      }
      (0, J.Cg)([O.oI], Ro.prototype, "UpdateSuggestions", null);
      const Oo = (e) =>
        d.createElement(
          "div",
          {
            className: Lo().ResultRow,
            key: `suggestion-${e.suggestion.id}`,
            onClick: () => e.fnOnSelected(e.suggestion),
          },
          d.createElement("img", {
            src: e.suggestion.img,
            className: Lo().AvatarImage,
          }),
          d.createElement(
            "div",
            { className: Lo().GameName },
            " ",
            (0, Mo.EK)(e.suggestion.name),
            " ",
          ),
          e.bShowFollowingLabel &&
            d.createElement(
              "div",
              { className: Lo().Label },
              (0, R.we)("#EventCalendar_FollowingCurator"),
            ),
        );
      function Po(e) {
        const { editModel: t } = e,
          a = t.GetEventModel(),
          n = (0, Xt.q3)(() => a.jsondata.associated_appid || 0),
          [l, o] = (0, d.useState)(Boolean(n));
        return a.appid
          ? null
          : l
            ? d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitleCtn },
                  d.createElement(
                    "span",
                    { className: w().EventEditorTextTitle },
                    (0, R.we)("#EventEditor_Associated_App"),
                  ),
                  d.createElement(G.o, {
                    tooltip: (0, R.we)("#EventEditor_Associated_App_ttip"),
                    className: w().tooltip_Ctn,
                  }),
                ),
                d.createElement(
                  "div",
                  { className: w().InputBorder },
                  d.createElement("input", {
                    type: "number",
                    className: (0, L.A)(pl.EventEditorTitleInput, pl.Subtitle),
                    value: n,
                    onChange: (e) => {
                      const n = Number.parseInt(e.currentTarget.value);
                      n !== a.jsondata.associated_appid &&
                        ((a.jsondata.associated_appid = n || void 0),
                        t.SetDirty(ne.IQ.description));
                    },
                  }),
                ),
              )
            : d.createElement(h.Yh, {
                checked: l,
                onChange: o,
                label: (0, R.we)("#EventEditor_Associated_App_Question"),
                tooltip: (0, R.we)("#EventEditor_Associated_App_ttip"),
              });
      }
      var xo = a(41756),
        Fo = a(77128),
        Ho = a(42519),
        jo = a(78606),
        zo = a.n(jo);
      function Uo(e) {
        return d.createElement(
          "div",
          { className: zo().HighlightBox },
          (0, R.oW)("#PartnerEvent_MM_TitleTip", d.createElement("i", null)),
        );
      }
      function qo(e) {
        return d.createElement(
          "div",
          { className: zo().HighlightBox },
          d.createElement(
            "p",
            null,
            (0, R.we)("#PartnerEvent_MM_DescriptionTip1"),
          ),
          d.createElement(
            "ul",
            null,
            d.createElement(
              "li",
              null,
              (0, R.we)("#PartnerEvent_MM_DescriptionTip2"),
            ),
            d.createElement(
              "li",
              null,
              (0, R.we)("#PartnerEvent_MM_DescriptionTip3"),
            ),
            d.createElement(
              "li",
              null,
              (0, R.we)("#PartnerEvent_MM_DescriptionTip4"),
            ),
          ),
          d.createElement(
            "p",
            null,
            (0, R.we)("#PartnerEvent_MM_DescriptionTip5"),
          ),
          d.createElement(
            "p",
            null,
            d.createElement(
              "a",
              {
                href: `${Ma.TS.PARTNER_BASE_URL}doc/store/assets/promos#popup_update`,
              },
              (0, R.we)("#PartnerEvent_MM_LearnMore"),
            ),
          ),
        );
      }
      function Vo(e) {
        const t = d.useRef(void 0),
          { editModel: a, bCanManuallyTagAssociatedApps: n } = e,
          l = d.useCallback((e, a) => {
            t.current && t.current(e, a);
          }, []),
          o = (0, Xt.q3)(() => a.BHasTag("vo_marketing_message"));
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(Wo, { editModel: a }),
          d.createElement(Qo, { editModel: a }),
          d.createElement(Yo, { editModel: a }),
          d.createElement(Jo, { editModel: a }),
          Boolean(n) && d.createElement(Ko, { editModel: a }),
          d.createElement(At, { editModel: a }),
          d.createElement(Po, { editModel: a }),
          o && d.createElement(qo, null),
          d.createElement(
            "div",
            { className: w().Columns },
            d.createElement($o, { editModel: a, refOnInsertImage: t }),
            d.createElement(ei, { editModel: a, fnInsertImage: l }),
          ),
        );
      }
      function Wo(e) {
        const { editModel: t } = e,
          a = (0, xo.IB)(e.editModel.GetClanSteamID().ConvertTo64BitString()),
          n = a.isSuccess && !!a.data.crowdin_project_id;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: w().FlexColumnContainer },
            d.createElement(
              "div",
              { className: Fo.LanguageControlsCtn },
              (0, R.we)("#EventEditor_LangaugeDesc"),
              d.createElement(
                "div",
                { className: (0, L.A)(w().FlexRowContainer, Fo.ToolContainer) },
                d.createElement(bn.$A, { editModel: t }),
                d.createElement(mt, { editModel: t }),
              ),
              n && d.createElement(Ho.s, { editModel: e.editModel }),
            ),
          ),
        );
      }
      function Qo(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [
            t.GetName(t.GetCurEditLanguage()) || "",
            t.GetEventType(),
          ]),
          l = Boolean(a.length >= u.dm),
          o = (0, Xt.q3)(() => t.BHasTag("vo_marketing_message"));
        let i = (0, R.we)("#EventEditor_EventTitle"),
          r = (0, R.we)("#EventEditor_Title_General_ttip");
        return (
          28 == n
            ? (i = (0, R.we)("#EventEditor_AnnouncementTitle"))
            : 36 == n &&
              ((i = (0, R.we)("#EventEditor_CreatorHomeTitle")),
              (r = (0, R.we)("#EventEditor_Title_CreatorHome_ttip"))),
          d.createElement(
            d.Fragment,
            null,
            o && d.createElement(Uo, null),
            d.createElement(
              "div",
              { className: w().EventEditorTextTitle },
              i,
              Boolean(l) &&
                d.createElement(
                  "span",
                  { className: w().EventEditorTextTitleLengthInfo },
                  (0, R.we)(
                    "#EventEditor_EventTitle_Max_Characters_Reached",
                    u.dm,
                  ),
                ),
              d.createElement(G.o, { tooltip: r, className: w().tooltip_Ctn }),
              d.createElement(
                "span",
                {
                  className: (0, L.A)(
                    pl.CharactorRemaining,
                    l ? pl.CharactorExhausted : "",
                  ),
                },
                (0, R.we)(
                  "#EventEditor_Input_Characters_Left",
                  u.dm - a.length,
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: w().InputBorder },
              d.createElement("input", {
                type: "text",
                className: (0, L.A)({
                  [pl.EventEditorTitleInput]: !0,
                  [pl.MainTitle]: !0,
                  [pl.EventEditorInputMaxLength]: l,
                }),
                value: a,
                placeholder: (0, R.we)("#EventEditor_Name_Placeholder"),
                onFocus: (e) => {
                  var t;
                  return null === (t = null == e ? void 0 : e.target) ||
                    void 0 === t
                    ? void 0
                    : t.select();
                },
                onChange: (e) => {
                  var a;
                  return t.SetName(
                    t.GetCurEditLanguage(),
                    (null === (a = null == e ? void 0 : e.currentTarget) ||
                    void 0 === a
                      ? void 0
                      : a.value) || "",
                  );
                },
                maxLength: u.dm,
              }),
            ),
          )
        );
      }
      function Yo(e) {
        const { editModel: t } = e,
          a = (0, Xt.q3)(() => t.GetSubTitle(t.GetCurEditLanguage()) || ""),
          n = Boolean(a.length >= u.Pd);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: w().EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEditor_Event_SubTitle"),
            ),
            d.createElement(
              "span",
              { className: w().EventEditorTextTitleLengthInfo },
              (0, R.we)(
                n
                  ? "#EventEditor_Event_SubTitle_Details_Reached"
                  : "#EventEditor_Event_SubTitle_Details",
                u.Pd,
              ),
            ),
            d.createElement(G.o, {
              tooltip: (0, R.we)("#EventEditor_SubTitle_General_ttip", u.Pd),
              className: w().tooltip_Ctn,
            }),
            d.createElement(
              "span",
              {
                className: (0, L.A)(
                  pl.CharactorRemaining,
                  n ? pl.CharactorExhausted : "",
                ),
              },
              (0, R.we)("#EventEditor_Input_Characters_Left", u.Pd - a.length),
            ),
          ),
          d.createElement(
            "div",
            { className: w().InputBorder },
            d.createElement("input", {
              type: "text",
              className: (0, L.A)(
                pl.EventEditorTitleInput,
                pl.Subtitle,
                n ? pl.EventEditorInputMaxLength : "",
              ),
              value: a,
              placeholder: (0, R.we)("#EventEditor_Name_SubTitle_Placeholder"),
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSubTitle(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || "",
                );
              },
              maxLength: u.Pd,
            }),
          ),
        );
      }
      function Jo(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [
            t.GetSummary(t.GetCurEditLanguage()) || "",
            t.GetDescription(t.GetCurEditLanguage()) || "",
          ]);
        let l = "";
        0 == a.trim().length &&
          (l =
            0 == n.length
              ? (0, R.we)("#EventEditor_Summary_Placeholder", u.p$)
              : (0, R.we)("#EventEditor_Summary_Autogenerated") +
                u.lh.GenerateSummaryFromText(n));
        let o = Boolean(a.length >= u.p$);
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: pl.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: w().EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEditor_Summary_Title"),
              ),
              d.createElement(
                "span",
                { className: w().EventEditorTextTitleLengthInfo },
                (0, R.we)(
                  o
                    ? "#EventEditor_Summary_Title_Length_Reached"
                    : "#EventEditor_Summary_Title_Length",
                  u.p$,
                ),
              ),
              d.createElement(G.o, {
                tooltip: (0, R.we)("#EventEditor_Summary_Ttip", u.p$),
                className: w().tooltip_Ctn,
              }),
              d.createElement(
                "span",
                {
                  className: (0, L.A)(
                    pl.CharactorRemaining,
                    o ? pl.CharactorExhausted : "",
                  ),
                },
                (0, R.we)(
                  "#EventEditor_Input_Characters_Left",
                  u.p$ - a.length,
                ),
              ),
            ),
            d.createElement("textarea", {
              className: (0, L.A)(
                pl.EventEditorTitleInput,
                pl.Summary,
                o ? pl.EventEditorInputMaxLength : "",
              ),
              value: a,
              placeholder: l,
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSummary(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || "",
                );
              },
              maxLength: u.p$,
              cols: 40,
              rows: 2,
            }),
          ),
          d.createElement("div", { className: w().ClearThings }),
        );
      }
      function Ko(e) {
        const { editModel: t } = e;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: w().EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEditor_ReferencedAppIDs_Header"),
            ),
            d.createElement(G.o, {
              tooltip: (0, R.we)("#EventEditor_ReferencedAppIDs_Tooltip"),
              className: w().tooltip_Ctn,
            }),
          ),
          d.createElement(
            "div",
            { className: pl.SaleImportURL },
            d.createElement(Ro, {
              strLabel: (0, R.we)("#EventEditor_ReferencedAppIDs_SearchLabel"),
              fnFilterSuggestion: (e) =>
                !t.GetReferencedAppIDArray().includes(Number(e.id)),
              fnOnSelected: (e) => {
                t.GetReferencedAppIDArray().includes(Number(e.id)) ||
                  (t.GetReferencedAppIDArray().push(Number(e.id)),
                  t.SetDirty(ne.IQ.jsondata_other));
              },
              rgCorporaToSearch: ["games", "dlc"],
            }),
          ),
          t.GetReferencedAppIDArray().length > 0 &&
            d.createElement(Sa.A, {
              items: t.GetReferencedAppIDArray(),
              onDelete: (e) => {
                t.GetReferencedAppIDArray().splice(e),
                  t.SetDirty(ne.IQ.jsondata_other);
              },
              onReorder: () => t.SetDirty(ne.IQ.jsondata_other),
              render: (e) =>
                d.createElement(Zo, { key: `suggestion-${e}`, appid: e }),
            }),
        );
      }
      function Zo(e) {
        const { appid: t } = e,
          [a] = (0, Pn.t7)(t, {});
        return d.createElement(
          "div",
          { className: pl.ResultRow },
          d.createElement(
            "div",
            { className: pl.GameName },
            " ",
            (0, Mo.EK)((null == a ? void 0 : a.GetName()) || "") + ` (${t})`,
            " ",
          ),
        );
      }
      const Xo = d.lazy(() =>
        Promise.all([a.e(6200), a.e(3772)]).then(a.bind(a, 16722)),
      );
      function $o(e) {
        const { editModel: t, refOnInsertImage: a } = e,
          [n, l] = (function (e) {
            const t = "partnerEventsRichEditorOptIn",
              a = "1",
              [n, l] = d.useState(() => {
                var e;
                return (
                  "1" ==
                  (null !== (e = localStorage.getItem(t)) && void 0 !== e
                    ? e
                    : a)
                );
              }),
              o = d.useCallback(
                (e) => {
                  localStorage.setItem(t, e ? "1" : "0"), l(e);
                },
                [t],
              );
            return [n, o];
          })(),
          o = (0, Xt.q3)(() => t.GetEventType()),
          i = (0, O.QS)(
            (e) => {
              if (!e) return;
              const t = (t, a) => (0, To.fW)(e, t, a);
              return (
                (a.current = t),
                () => {
                  a.current == t && (a.current = void 0);
                }
              );
            },
            [a],
          ),
          r = d.useMemo(() => {
            const e = P.iA.is_support;
            return (0, yo.BY)({
              bIncludeMedia: P.UF.CAN_UPLOAD_IMAGES,
              bIncludeValveOnly: e,
            });
          }, []);
        return d.createElement(
          "div",
          { className: (0, L.A)(w().LeftCol, Fo.DescEditorPadding) },
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            28 == o
              ? (0, R.we)("#EventEditor_DescriptionNews")
              : (0, R.we)("#EventEditor_Description"),
          ),
          d.createElement(
            "label",
            null,
            d.createElement("input", {
              type: "checkbox",
              checked: n,
              onChange: (e) => l(e.currentTarget.checked),
            }),
            (0, R.we)("#EventEditor_UseVisualEditor"),
          ),
          n
            ? d.createElement(
                d.Suspense,
                null,
                d.createElement(Xo, {
                  editModel: t,
                  refOnInsertImage: a,
                  limitBBCode: r,
                }),
              )
            : d.createElement(Io.I, {
                fnGetCurText: () => t.GetDescription(t.GetCurEditLanguage()),
                fnOnTextChange: (e) => {
                  var a;
                  return t.SetDescription(
                    t.GetCurEditLanguage(),
                    (null === (a = null == e ? void 0 : e.currentTarget) ||
                    void 0 === a
                      ? void 0
                      : a.value) || "",
                  );
                },
                fnSetText: (e) => t.SetDescription(t.GetCurEditLanguage(), e),
                strPlaceholder: (0, R.we)(
                  "#EventEditor_Description_PlaceHolder",
                ),
                ref: i,
                emoticonStore: Vt.A,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                limitBBCode: r,
                classNameForTextArea: pl.EventEditorDescription,
                clanSteamID: t.GetClanSteamID(),
              }),
        );
      }
      function ei(e) {
        const { editModel: t, fnInsertImage: a } = e,
          [n, o, i] = (0, Xt.q3)(() => [
            t.GetClanSteamID(),
            t.GetAppID(),
            t.GetIncludedRealmList(),
          ]);
        return P.UF.CAN_UPLOAD_IMAGES
          ? d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().RightCol,
                  Fo.DescEditorPadding,
                  Fo.ImagePickerCtn,
                ),
              },
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#ImagePicker_PreviousImages2"),
                d.createElement(G.o, {
                  tooltip: (0, R.we)("#ImagePicker_Images_ttip"),
                  className: w().tooltip_Ctn,
                }),
              ),
              d.createElement(Do.G, {
                bShowLightBox: !0,
                appid: o,
                clanSteamID: n,
                imageInsertCallBack: a,
                fnSetImageURL: t.SetImageURL,
                rgRealmList: i,
                fnLangHasData: t.BHasTitleImage,
                fnGetImageHash: t.GetImageHashAndExt,
                partnerEventStore: l.mh,
              }),
            )
          : null;
      }
      function ti(e) {
        return d.createElement(
          "div",
          { className: fo.TutoralCtn },
          d.createElement(
            "div",
            { className: fo.ExplanationCtn },
            d.createElement(
              "div",
              null,
              (0, R.oW)("#EventEditor_Event_CreatorHome_Explanation"),
            ),
          ),
        );
      }
      function ai(e) {
        const { editModel: t } = e,
          [a, n] = (0, Xt.q3)(() => [t.GetGID(), t.GetClanAccountID()]),
          l = !!a,
          { creatorHome: o } = (0, $t.FV)(n),
          i = o ? o.GetCreatorHomeURL(null) + "admin/curator_edit" : void 0,
          r = o ? o.GetCreatorHomeURL(null) + "#edit" : void 0;
        return d.createElement(
          "div",
          { className: fo.CreatorHomeEditCtn },
          d.createElement(ni, { editModel: t }),
          d.createElement(Qo, { editModel: t }),
          l &&
            o &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                "div",
                { className: fo.AdminLinkCtn },
                d.createElement(
                  "div",
                  { className: fo.LeftCol },
                  d.createElement(
                    "div",
                    { className: fo.Label },
                    (0, R.we)(
                      "#EventEditor_Event_CreatorHome_AdminAvatarLabel",
                    ),
                  ),
                  d.createElement("img", {
                    src: o.GetAvatarURLFullSize(),
                    className: fo.AvatarImage,
                  }),
                  d.createElement(
                    "div",
                    { className: fo.EditLink },
                    (0, R.oW)(
                      "#EventEditor_Event_CreatorHome_AdminLinkAvatarLabel",
                      r ? d.createElement("a", { href: r }) : void 0,
                    ),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: fo.RightCol },
                  d.createElement(
                    "div",
                    { className: fo.Label },
                    (0, R.we)(
                      "#EventEditor_Event_CreatorHome_AdminTaglineLabel",
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: fo.Tagline },
                    o.GetTagLine(),
                  ),
                  d.createElement(
                    "div",
                    { className: fo.EditLink },
                    (0, R.oW)(
                      "#EventEditor_Event_CreatorHome_AdminLinkTaglineLabel",
                      i ? d.createElement("a", { href: i }) : void 0,
                    ),
                  ),
                ),
              ),
            ),
          !l &&
            d.createElement(
              "div",
              { className: fo.SaveWarningCtn },
              (0, R.we)("#Sale_SaveFirst_CreatorHome"),
            ),
          d.createElement("br", null),
        );
      }
      function ni(e) {
        const { editModel: t } = e,
          [a, n, l] = (0, Xt.q3)(() => [
            t.GetGID(),
            t.GetClanAccountID(),
            t.BVisible() || t.BUnlisted(),
          ]),
          { creatorHome: o } = (0, $t.FV)(n),
          i = o ? o.GetCreatorHomeURL(null) + "admin/creatorhome_link" : void 0,
          r = (null == o ? void 0 : o.GetLinkedEventGID()) == a;
        return d.createElement(
          "div",
          {
            className: (0, L.A)(
              fo.SelectedExplanationCtn,
              (!l || !r) && fo.Warning,
            ),
          },
          !l &&
            d.createElement(
              "div",
              null,
              (0, R.we)("#EventEditor_Event_CreatorHome_Hidden"),
            ),
          l &&
            !r &&
            d.createElement(
              "div",
              null,
              (0, R.oW)(
                "#EventEditor_Event_CreatorHome_NotSelected",
                d.createElement("b", null),
                i ? d.createElement("a", { href: i }) : void 0,
              ),
            ),
          l &&
            r &&
            d.createElement(
              "div",
              null,
              (0, R.oW)(
                "#EventEditor_Event_CreatorHome_Selected",
                i ? d.createElement("a", { href: i }) : void 0,
              ),
            ),
        );
      }
      function li(e) {
        const { editModel: t, mode: a } = e,
          [n, l] = (0, Xt.q3)(() => [t.GetGID(), t.GetEventType()]);
        return n
          ? d.createElement(oi, { editModel: t, mode: a })
          : 36 == l
            ? d.createElement(ai, { editModel: t })
            : d.createElement(
                "div",
                { className: (0, L.A)(Va.SaleContainer, "SaleContainer") },
                (0, R.we)("#Sale_SaveFirst"),
              );
      }
      function oi(e) {
        const { editModel: t, mode: a } = e,
          [n, l, o, i, r, s, c] = (0, Xt.q3)(() => {
            var e;
            return [
              t.GetEventType(),
              t.GetEventModel().jsondata.sale_presenters,
              t.GetEventModel().jsondata,
              t.GetEventModel().clanSteamID,
              t.GetGID(),
              (null === (e = t.GetEventModel().jsondata.sale_presenters) ||
              void 0 === e
                ? void 0
                : e.length) > 0,
              t.BVisible(),
            ];
          }),
          { creatorHome: m } = (0, $t.FV)(i.GetAccountID()),
          { bRequiresHostDisclaimer: _ } = (0, tn.lA)(i.GetAccountID(), r),
          E = u.WN.includes(i.GetAccountID()),
          p = 36 == n;
        (0, d.useEffect)(() => {
          ua.oq.Get().EnsureLoaded(t),
            !ua.oq.Get().BHasExplicitSettings(t) &&
              t.GetSaleSectionCount() > 10 &&
              (0, ua.TA)();
        }, [t]);
        const g = d.useCallback((e) => {
          (0, ua.Nx)(e.strSectionId) && (0, ua.mi)(e.strSectionId);
        }, []);
        if (
          !t.BIsSourceEventSaleEnabled() &&
          o.clone_from_event_gid &&
          o.clone_from_sale_enabled &&
          (!m || !m.BHasClanAccountFlagSet(32))
        )
          return d.createElement(
            "div",
            { className: (0, L.A)(Va.SaleContainer, "SaleContainer") },
            d.createElement(
              "div",
              { className: On.WarningStyles },
              (0, R.we)("#Sale_CloneNotReady"),
            ),
            d.createElement(Xn, { mode: a }),
          );
        let h = "#Sale_title",
          S = "doc/marketing/event_tools/sales/tools";
        1 == a
          ? ((h = "#Sale_UpdateLandingPage_title"),
            (S = "doc/marketing/event_tools/updatelandingpages/tools"))
          : 2 == a &&
            ((h = "#Sale_CreatorHome_title"),
            (S = "doc/marketing/event_tools/creatorhome/tools"));
        const w = (0, I.m)(t.GetClanSteamID()),
          { bVisible: C } = (0, v.Yp)(t.GetEventModel()),
          { bVisible: f } = (0, v._5)(t.GetEventModel()),
          { bVisible: y } = (0, v.Ao)(t.GetEventModel()),
          D = C || f || (y && w);
        return d.createElement(
          "div",
          { className: (0, L.A)(Va.SaleContainer, "SaleContainer") },
          !p && d.createElement(Xn, { mode: a }),
          d.createElement(
            "div",
            { className: b.EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: (0, L.A)(b.EventEditorTextTitle, b.FlexGrow) },
              (0, R.we)(h),
            ),
            d.createElement(
              ca.uU,
              {
                href: P.TS.PARTNER_BASE_URL + S,
                className: (0, L.A)(b.doclink),
              },
              d.createElement(
                "span",
                null,
                (0, R.we)("#Broadcast_documentation"),
              ),
            ),
          ),
          p && d.createElement(ai, { editModel: t }),
          d.createElement(
            Cn,
            null,
            Boolean(!E && (!_ || s)) &&
              d.createElement(mn, {
                clanSteamID: i,
                gidClanEvent: r,
                rgSalePresenters: l,
                bIsEventVisible: c,
                fnCleanSaleEventPresenters: () => {
                  (t.GetEventModel().jsondata.sale_presenters = void 0),
                    t.SetDirty(ne.IQ.jsondata_sales);
                },
                bPublishTab: !1,
              }),
            d.createElement(fn, null),
            d.createElement(
              "div",
              null,
              d.createElement(ql, null, d.createElement(kl, null)),
              d.createElement(Al, { editModel: t, onSelected: g }),
              d.createElement(Wn, { editModel: t }),
              p &&
                d.createElement(
                  Ja,
                  {
                    strSectionId: "SalePageEdit_CreatorHomeTutorial",
                    hasMinimize: !0,
                    strTitle: (0, R.we)("#Sale_PageCreatorHomeTutorial"),
                  },
                  d.createElement(ti, null),
                ),
              D &&
                d.createElement(
                  Ja,
                  {
                    strSectionId: "SalePageEdit_Config",
                    hasMinimize: !0,
                    strTitle: (0, R.we)("#Sale_PageConfigOptions"),
                  },
                  d.createElement(xn, { salePage: C, updateLandingPage: f }),
                ),
              d.createElement(
                Ja,
                {
                  strSectionId: "SalePageEdit_TaggedItems",
                  hasMinimize: !0,
                  strToolTip: (0, R.we)("#Sale_TagFilter_SectionTooltip"),
                  strTitle: (0, R.we)(
                    "#Sale_TaggedItemsSection",
                    p
                      ? null == m
                        ? void 0
                        : m.GetAppIDList().length
                      : t.GetEventModel().GetTaggedItems().length,
                  ),
                },
                !p && d.createElement($n.PT, { editModel: t }),
                p && d.createElement($n.w7, { editModel: t }),
              ),
              d.createElement(
                Ja,
                {
                  strSectionId: "SalePageEdit_AllArtworkCtn",
                  hasMinimize: !0,
                  strTitle: (0, R.we)(
                    p
                      ? "#Sale_Artwork_Sections_Page"
                      : "#Sale_Artwork_Sections",
                  ),
                },
                d.createElement($a, { editModel: t }),
              ),
              (t.BHasTag("contenthub") ||
                t.GetEventModel().BUsesContentHubForItemSource()) &&
                d.createElement(
                  Ja,
                  {
                    strSectionId: "SalePageEdit_ContentHub",
                    hasMinimize: !0,
                    strTitle: "Content Hub Settings",
                    strToolTip:
                      "Manage settings for content hubs, including overrides for specific hubs and hub-based sales.",
                  },
                  d.createElement(Ca, { editModel: t }),
                ),
              d.createElement(ii, { editModel: t }),
              d.createElement(
                Ja,
                {
                  strSectionId: "SalePageEdit_SocialModule",
                  hasMinimize: !0,
                  strTitle: (0, R.we)("#Sale_DefaultSocialModule"),
                },
                d.createElement(to, { editModel: t }),
              ),
              d.createElement("div", { className: Va.SectionDivider }),
              !p &&
                d.createElement(
                  Ja,
                  {
                    strSectionId: "SalePageEdit_BrowseMore",
                    strTitle: `(VO) ${(0, R.we)("#Sale_BrowseMore")}`,
                    valveOnlyClanSteamID: t.GetClanSteamID(),
                    requireAdmin: !0,
                  },
                  d.createElement(si, { editModel: t }),
                ),
              !p &&
                d.createElement(
                  Ja,
                  {
                    strSectionId: "SalePageEdit_SubMenuEditor",
                    hasMinimize: !0,
                    strTitle: "(VO) Sub Menu Editor",
                    valveOnlyClanSteamID: t.GetClanSteamID(),
                    dataToCopy: Ya.E.k_EventData_SubMenu,
                  },
                  d.createElement(vo, { editModel: t }),
                ),
              d.createElement(
                Ja,
                {
                  strSectionId: "SalePageEdit_CustomCSSCode",
                  hasMinimize: !0,
                  strTitle: "(VO) Custom CSS",
                  valveOnlyClanSteamID: t.GetClanSteamID(),
                },
                d.createElement(Pl, { editModel: t }),
              ),
            ),
          ),
        );
      }
      function ii(e) {
        var t;
        const { editModel: a } = e,
          n = a.GetCurEditLanguage(),
          l = a.GetEventModel(),
          [o, i, r, s] = (0, Xt.q3)(() => {
            let e = -1;
            const t = new Map();
            for (const [a, n] of l.GetSaleSections().entries())
              t.set(n.section_type, (t.get(n.section_type) || 0) + 1),
                -1 == e && "tabs" == n.section_type && (e = a);
            return [l.GetSaleSections().length, t, e, (0, wl.dy)()];
          }),
          [c, m] = d.useState(""),
          u =
            void 0 !== s ||
            (null === (t = null == c ? void 0 : c.trim()) || void 0 === t
              ? void 0
              : t.length) > 0,
          _ = l.GetSaleSections().filter(
            (e, t) =>
              (void 0 === s || t < r || (0, Dl.bF)(s, e)) &&
              ((e) => {
                var t, a;
                const o =
                  null !== (t = null == c ? void 0 : c.trim().toLowerCase()) &&
                  void 0 !== t
                    ? t
                    : "";
                if (0 == o.length) return !0;
                if (
                  (null === (a = e.internal_section_title) || void 0 === a
                    ? void 0
                    : a.toLowerCase().includes(o)) ||
                  e.section_type.includes(o)
                )
                  return !0;
                const i = (0, ol.yO)(e, l, n, l.clanSteamID.GetAccountID(), 1);
                return "string" == typeof i && i.toLowerCase().includes(o);
              })(e),
          ),
          E = (function (e) {
            const t = e.map((e) => e.unique_id).join(","),
              [a, n] = d.useState(t);
            d.useEffect(() => {
              n(t);
            }, [t]);
            const l = (e, n) => {
              if (!e) return;
              ((0 == a.length && n > 0) || a + "," + n == t) &&
                e.scrollIntoView({ behavior: "smooth", block: "start" });
            };
            return l;
          })(_);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: Va.CustomSectionsTitle },
            d.createElement(
              "div",
              { className: b.EventEditorTextTitle },
              (0, R.we)("#Sale_Sections_Title"),
            ),
            d.createElement(
              "div",
              { className: Va.EventEditorSectionSearchLabel },
              (0, R.we)("#Sale_Sections_Search"),
            ),
            d.createElement(h.pd, {
              type: "text",
              value: c,
              onChange: (e) => m(e.target.value),
            }),
          ),
          0 == o
            ? d.createElement(ri, null)
            : d.createElement(Sa.A, {
                items: _,
                bDisabled: u,
                onMove: (e, t) => {
                  (0, bl.yY)(a.GetEventModel().jsondata.sale_sections, e, t),
                    a.SetDirty(ne.IQ.jsondata_sales);
                },
                render: (e, t) => {
                  var l;
                  const o = Sl.mj + e.unique_id,
                    r = (0, ba.vx)(e.section_type) && i.get(e.section_type) > 1;
                  return d.createElement(
                    Ka,
                    {
                      key:
                        Sl.mj +
                        (null !== (l = e.unique_id) && void 0 !== l ? l : t),
                      strSectionId: o,
                    },
                    d.createElement(ba.m, {
                      ref:
                        t == _.length - 1
                          ? (e) => E(e, _[t].unique_id)
                          : void 0,
                      index: t,
                      saleSection: e,
                      isDuplicateSingleton: r,
                      editModel: a,
                      editLanguage: n,
                    }),
                  );
                },
              }),
          d.createElement(
            "div",
            {
              id: "sale_editor_button_after_all_sections",
              className: Va.AddSectionBtnCtn,
            },
            d.createElement(
              "div",
              { className: (0, L.A)(b.SaleSectionHeader, "SaleSectionHeader") },
              (0, R.we)("#Sale_AddNewSection_Title"),
            ),
            d.createElement("p", null, (0, R.we)("#Sale_AddNewSection_Desc")),
            d.createElement(Bl, { editModel: a }),
          ),
        );
      }
      function ri(e) {
        return d.createElement(
          "div",
          {
            id: "NoSaleSections",
            className: (0, L.A)(Va.SaleSection, Va.InEditor),
          },
          d.createElement(
            "div",
            { className: (0, L.A)(b.SaleSectionHeader, "SaleSectionHeader") },
            (0, R.we)("#Sale_SectionListPlaceholder_Header"),
          ),
          d.createElement(
            "div",
            { className: Va.SaleSectionPlaceholder },
            (0, R.we)("#Sale_SectionListPlaceholder_Content"),
          ),
        );
      }
      function si(e) {
        const { editModel: t } = e,
          a = t.GetEventModel().jsondata,
          [n, l, o, i] = (0, Xt.q3)(() => [
            a.sale_browsemore_url,
            a.sale_browsemore_color,
            a.sale_browsemore_bgcolor,
            a.sale_browse_more_button,
          ]),
          r = (e, a) => {
            (t.GetEventModel().jsondata[a] = e),
              t.SetDirty(ne.IQ.jsondata_sales);
          };
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(h.RF, {
            onChange: (e) => {
              (t.GetEventModel().jsondata.sale_browse_more_button = e),
                t.SetDirty(ne.IQ.jsondata_sales);
            },
            label: (0, R.we)("#Sale_BrowseMore_Desc"),
            checked: i,
          }),
          i &&
            d.createElement(
              "div",
              null,
              d.createElement(h.pd, {
                type: "text",
                label: (0, R.we)("#Sale_BrowseMore_URL"),
                name: "sale_browsemore_url",
                placeholder: (0, R.we)("#Sale_BrowseMore_URL"),
                value: n,
                onChange: (e) => {
                  (t.GetEventModel().jsondata[e.target.name] = e.target.value),
                    t.SetDirty(ne.IQ.jsondata_sales);
                },
              }),
              d.createElement(
                h.$n,
                {
                  onClick: (e) => {
                    (0, Na.lX)(
                      d.createElement(Ga.s, {
                        onChange: (e) => r(e, "sale_browsemore_color"),
                        color: l,
                      }),
                      e,
                      { bDisablePopTop: !0 },
                    );
                  },
                  className: b.EventEditorTextTitle,
                  style: { color: l, backgroundColor: o },
                },
                (0, R.we)("#Sale_Section_Label_Color"),
              ),
              d.createElement(
                h.$n,
                {
                  onClick: (e) => {
                    const {
                      sale_browsemore_color: a,
                      sale_browsemore_bgcolor: n,
                    } = t.GetEventModel().jsondata;
                    (0, Na.lX)(
                      d.createElement(Ga.s, {
                        onChange: (e) => r(e, "sale_browsemore_bgcolor"),
                        color: n,
                      }),
                      e,
                      { bDisablePopTop: !0 },
                    );
                  },
                  className: b.EventEditorTextTitle,
                  style: { color: l, backgroundColor: o },
                },
                (0, R.we)("#Sale_Section_Background_Color"),
              ),
              d.createElement(xl.A, {
                text: (0, R.we)("#Sale_SeeAllSpecials"),
                url: "",
                color: l,
                bgcolor: o,
              }),
            ),
        );
      }
      function ci(e) {
        const { editModel: t } = e,
          a = (0, bt.f1)(),
          [n, l, o] = (0, Xt.q3)(() => [
            t.BHasSaleEnabled(),
            t.BHidden(),
            t.GetEventStartTime(),
          ]);
        return !n || l || o > a
          ? d.createElement(
              "div",
              null,
              "Sale Page not visible or started. No stats to share",
            )
          : d.createElement(di, { ...e });
      }
      function di(e) {
        const { editModel: t } = e,
          a = (function (e, t) {
            const a = (0, ln.I)({
              queryKey: ["useSaleSectionAggregateData", e, t],
              queryFn: async () => {
                const a = p.b.InitFromClanID(t),
                  n = `${Ma.TS.COMMUNITY_BASE_URL}gid/${a.ConvertTo64BitString()}/ajaxgetsalesectionstats?event_gid=${e}`,
                  l = { event_gid: e };
                return (await s().get(n, { params: l })).data.results || [];
              },
              enabled: Boolean(e && t),
            });
            return a.isLoading ? null : a.data;
          })(t.GetGID(), t.GetClanAccountID());
        return a
          ? d.createElement(
              "div",
              null,
              d.createElement(
                h.$n,
                {
                  onClick: () => {
                    const e = [];
                    e.push([
                      "Feature",
                      "Date",
                      "Impression",
                      "Visits",
                      "Ownership Impression",
                      "Owner Visit",
                      "Wishlist",
                      "Add to Cart",
                      "Ignore",
                    ]),
                      a.forEach((t) => {
                        e.push([
                          "" + t.feature,
                          (0, R.TW)(t.rtdate + 86400),
                          "" + t.total_impressions,
                          "" + t.total_views,
                          "" + t.total_owner_impressions,
                          "" + t.total_owner_views,
                          "" + t.total_wishlists,
                          "" + t.total_add_to_carts,
                          "" + t.total_ignores,
                        ]);
                      });
                    const n =
                      (t.GetName() + "_stats").replace(" ", "_") + ".csv";
                    al.g.WriteCSVToFile(e, n);
                  },
                },
                "Export to CSV",
              ),
              d.createElement(_i, { rgStats: a }),
              d.createElement(pi, { rgStats: a }),
            )
          : d.createElement(T.t, null);
      }
      function mi(e, t) {
        return t && 0 != t ? "" + ((100 * e) / t).toFixed(1) : "";
      }
      function ui(e) {
        return new Intl.NumberFormat((0, R.l4)(), {
          minimumFractionDigits: 0,
          maximumFractionDigits: 0,
        }).format(e);
      }
      function _i(e) {
        const { rgStats: t } = e,
          a = (0, d.useMemo)(() => {
            const e = new Map();
            return (
              t.forEach((t) => {
                if (e.has(t.feature)) {
                  const a = e.get(t.feature);
                  (a.total_views += t.total_views),
                    (a.total_impressions += t.total_impressions),
                    (a.total_owner_views += t.total_owner_views),
                    (a.total_owner_impressions += t.total_owner_impressions),
                    (a.total_wishlists += t.total_wishlists),
                    (a.total_ignores += t.total_ignores),
                    (a.total_add_to_carts += t.total_add_to_carts),
                    e.set(t.feature, a);
                } else e.set(t.feature, { ...t });
              }),
              Array.from(e.values()).sort(
                (e, t) => t.total_impressions - e.total_impressions,
              )
            );
          }, [t]);
        return d.createElement(
          "div",
          null,
          d.createElement("h3", null, "Total For Entire Sale"),
          d.createElement(Ei, { rgStats: a }),
        );
      }
      function Ei(e) {
        const { rgStats: t } = e;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "table",
            null,
            d.createElement(
              "thead",
              null,
              d.createElement("th", null, "Feature"),
              d.createElement("th", null, "Impressions"),
              d.createElement("th", null, "Visits"),
              d.createElement("th", null, "Impression to Visits"),
              d.createElement("th", null, "Owner Impressions"),
              d.createElement("th", null, "Owner Visits"),
              d.createElement("th", null, "Wishlist"),
              d.createElement("th", null, "Impression to Wishlist"),
              d.createElement("th", null, "Add to Cart"),
              d.createElement("th", null, "Ignore"),
            ),
            d.createElement(
              "tbody",
              null,
              t.map((e) =>
                d.createElement(
                  "tr",
                  { key: e.feature + "_" + e.rtdate },
                  d.createElement("td", null, e.feature),
                  d.createElement("td", null, ui(e.total_impressions)),
                  d.createElement("td", null, ui(e.total_views)),
                  d.createElement(
                    "td",
                    null,
                    mi(e.total_views, e.total_impressions),
                  ),
                  d.createElement("td", null, ui(e.total_owner_impressions)),
                  d.createElement("td", null, ui(e.total_owner_views)),
                  d.createElement("td", null, ui(e.total_wishlists)),
                  d.createElement(
                    "td",
                    null,
                    mi(e.total_wishlists, e.total_impressions),
                  ),
                  d.createElement("td", null, ui(e.total_add_to_carts)),
                  d.createElement("td", null, ui(e.total_ignores)),
                ),
              ),
            ),
          ),
        );
      }
      function pi(e) {
        const { rgStats: t } = e,
          a = (0, d.useMemo)(() => {
            const e = new Set();
            return (
              t.forEach((t) => {
                e.add(t.rtdate);
              }),
              Array.from(e).sort((e, t) => e - t)
            );
          }, [t]);
        return d.createElement(
          "div",
          null,
          d.createElement("h1", null, "By Each Date"),
          a.map((e) =>
            d.createElement(vi, { rgStats: t, rtDate: e, key: "" + e }),
          ),
        );
      }
      function vi(e) {
        const { rgStats: t, rtDate: a } = e,
          n = (0, d.useMemo)(
            () =>
              t
                .filter((e) => e.rtdate == a)
                .sort((e, t) => t.total_impressions - e.total_impressions),
            [t, a],
          );
        return d.createElement(
          "div",
          null,
          d.createElement("h3", null, "Stats for: ", (0, R.TW)(a + 86400)),
          d.createElement(Ei, { rgStats: n }),
        );
      }
      class gi {
        constructor(e) {
          (this.m_editModel = void 0), (0, Z.Gn)(this), (this.m_editModel = e);
        }
        GetJSONData() {
          return this.m_editModel.GetEventModel().jsondata;
        }
        GetBroadcastAllowList() {
          return this.GetJSONData().broadcast_whitelist;
        }
        SetBroadcastEnabled(e) {
          this.GetJSONData().bBroadcastEnabled !== e &&
            ((this.GetJSONData().bBroadcastEnabled = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetBroadcastForceBanner(e) {
          this.GetJSONData().broadcast_force_banner !== e &&
            ((this.GetJSONData().broadcast_force_banner = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetChangeSetting(e) {
          this.GetJSONData().broadcastChatSetting !== e &&
            ((this.GetJSONData().broadcastChatSetting = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetTitleToken(e) {
          this.GetJSONData().default_broadcast_title !== e &&
            ((this.GetJSONData().default_broadcast_title = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetCustomTitleLocalize(e, t) {
          this.GetJSONData().localized_broadcast_title[e] !== t &&
            ((this.GetJSONData().localized_broadcast_title[e] = t),
            (this.GetJSONData().localized_broadcast_title = [
              ...this.GetJSONData().localized_broadcast_title,
            ]),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        AddAccountToWhiteList(e) {
          const t = this.GetJSONData().broadcast_whitelist;
          t.includes(e) ||
            (t.push(e),
            (this.GetJSONData().broadcast_whitelist = [
              ...this.GetJSONData().broadcast_whitelist,
            ]),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        DeleteWhiteListAccount(e) {
          let t = this.GetJSONData().broadcast_whitelist.indexOf(e);
          t < 0
            ? "dev" == on.TS.WEB_UNIVERSE &&
              console.log(
                `EventBroadcastEditModel: Failed to find account to  ${e} in `,
                this.GetJSONData().broadcast_whitelist,
              )
            : (this.GetJSONData().broadcast_whitelist.splice(t, 1),
              this.GetJSONData().broadcast_language &&
                this.GetJSONData().broadcast_language.length > t &&
                this.GetJSONData().broadcast_language.splice(t, 1),
              this.GetJSONData().broadcast_priority &&
                this.GetJSONData().broadcast_priority.length > t &&
                this.GetJSONData().broadcast_priority.splice(t, 1),
              (this.GetJSONData().broadcast_whitelist = [
                ...this.GetJSONData().broadcast_whitelist,
              ]),
              this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetWhiteListAccountLanguage(e, t) {
          let a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          if (a < this.GetJSONData().broadcast_whitelist.length) {
            if (!this.GetJSONData().broadcast_language) {
              if (-1 == t) return;
              this.GetJSONData().broadcast_language = new Array();
            }
            const e = this.GetJSONData().broadcast_language;
            if (e.length < a && -1 == t) return;
            for (; e.length <= a; ) e.push(-1);
            if (e[a] != t) {
              for (e[a] = t; e.length > 0 && -1 == e[e.length - 1]; ) e.pop();
              0 == e.length
                ? (this.GetJSONData().broadcast_language = void 0)
                : (this.GetJSONData().broadcast_language = [
                    ...this.GetJSONData().broadcast_language,
                  ]),
                this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast);
            }
          }
        }
        SetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          const n = (0, bl.$Y)(
            this.GetJSONData().broadcast_priority || [],
            a + 1,
            "",
          );
          for (n[a] = t; n.length > 0 && !n[n.length - 1]; ) n.pop();
          (this.GetJSONData().broadcast_priority = n),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast);
        }
        GetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          return a < 0 ||
            !this.GetJSONData().broadcast_priority ||
            a >= this.GetJSONData().broadcast_priority.length
            ? t
            : this.GetJSONData().broadcast_priority[a] || t;
        }
        RemoveWhiteListAtIndex(e) {
          this.GetJSONData().broadcast_whitelist.length > e &&
            (this.GetJSONData().broadcast_whitelist.splice(e, 1),
            (this.GetJSONData().broadcast_whitelist = [
              ...this.GetJSONData().broadcast_whitelist,
            ]),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        ClearWhiteList() {
          this.GetJSONData().broadcast_whitelist.length > 0 &&
            ((this.GetJSONData().broadcast_whitelist = []),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        GetBroadcastContentType() {
          return this.GetJSONData().broadcast_content_type;
        }
        SetBroadcastContentType(e) {
          this.GetJSONData().broadcast_content_type != e &&
            ((this.GetJSONData().broadcast_content_type = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        GetPrerollVideo() {
          return this.GetJSONData().broadcast_preroll_vod_appid;
        }
        SetPrerollVODAppID(e) {
          this.GetJSONData().broadcast_preroll_vod_appid !== e &&
            ((this.GetJSONData().broadcast_preroll_vod_appid = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetDropsEnabled(e) {
          this.GetJSONData().broadcast_item_drops_enabled != e &&
            (e
              ? ((this.GetJSONData().broadcast_item_drops_enabled = !0),
                (this.GetJSONData().broadcast_item_drops_manual = !1),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = 30))
              : ((this.GetJSONData().broadcast_item_drops_enabled = void 0),
                (this.GetJSONData().broadcast_item_drops_manual = void 0),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes =
                  void 0),
                (this.GetJSONData().broadcast_item_drops_details_clan_accountid =
                  void 0),
                (this.GetJSONData().broadcast_item_drops_details_event_gid =
                  void 0)),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetItemDropManual(e) {
          this.GetJSONData().broadcast_item_drops_manual != e &&
            ((this.GetJSONData().broadcast_item_drops_manual = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetItemDropMinutes(e) {
          this.GetJSONData().broadcast_item_drops_min_watch_time_minutes != e &&
            ((this.GetJSONData().broadcast_item_drops_min_watch_time_minutes =
              e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetItemDropDetailEvents(e, t) {
          (this.GetJSONData().broadcast_item_drops_details_clan_accountid ==
            e &&
            this.GetJSONData().broadcast_item_drops_details_event_gid == t) ||
            ((this.GetJSONData().broadcast_item_drops_details_event_gid = t),
            (this.GetJSONData().broadcast_item_drops_details_clan_accountid =
              e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetWidePlayerLayout(e) {
          this.GetJSONData().broadcast_display_wide_player != e &&
            ((this.GetJSONData().broadcast_display_wide_player = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetWidePlayerSupportChat(e) {
          this.GetJSONData().broadcast_dispaly_wide_player_allow_chat != e &&
            ((this.GetJSONData().broadcast_dispaly_wide_player_allow_chat = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
        SetChatAnnouncementGiveawayGID(e) {
          this.GetJSONData().broadcast_chat_announcement_giveaway != e &&
            ((this.GetJSONData().broadcast_chat_announcement_giveaway = e),
            this.m_editModel.SetDirty(ne.IQ.jsondata_broadcast));
        }
      }
      (0, J.Cg)([Z.sH], gi.prototype, "m_editModel", void 0),
        (0, J.Cg)([Z.XI], gi.prototype, "SetBroadcastEnabled", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetBroadcastForceBanner", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetChangeSetting", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetTitleToken", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetCustomTitleLocalize", null),
        (0, J.Cg)([Z.XI], gi.prototype, "AddAccountToWhiteList", null),
        (0, J.Cg)([Z.XI], gi.prototype, "DeleteWhiteListAccount", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetWhiteListAccountLanguage", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetWhiteListAccountPriority", null),
        (0, J.Cg)([Z.XI], gi.prototype, "RemoveWhiteListAtIndex", null),
        (0, J.Cg)([Z.XI], gi.prototype, "ClearWhiteList", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetBroadcastContentType", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetPrerollVODAppID", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetDropsEnabled", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetItemDropManual", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetItemDropMinutes", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetItemDropDetailEvents", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetWidePlayerLayout", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetWidePlayerSupportChat", null),
        (0, J.Cg)([Z.XI], gi.prototype, "SetChatAnnouncementGiveawayGID", null);
      var hi = a(44894),
        Si = a(27643);
      class bi {
        GetFriendLiset() {
          return this.m_rgFriendsList;
        }
        async LoadFriendList() {
          var e, t;
          let a = null;
          if (this.m_rgFriendsList) return this.m_rgFriendsList;
          if (!P.iA.logged_in) return [];
          try {
            const n = await s().get(
              P.TS.COMMUNITY_BASE_URL + "actions/ajaxlistfriends",
            );
            if (
              200 == (null == n ? void 0 : n.status) &&
              1 ==
                (null === (e = n.data) || void 0 === e ? void 0 : e.success) &&
              (null === (t = n.data) || void 0 === t ? void 0 : t.friends)
            )
              return (
                (this.m_rgFriendsList = n.data.friends), this.m_rgFriendsList
              );
            (this.m_rgFriendsList = []), (a = (0, M.H)(n));
          } catch (e) {
            a = (0, M.H)(e);
          }
          return (
            console.error(
              "CSimpleFriendsListStore.LoadFriendList failed: " +
                (null == a ? void 0 : a.strErrorMsg),
              a,
            ),
            []
          );
        }
        static Get() {
          return (
            bi.s_Singleton ||
              ((bi.s_Singleton = new bi()),
              ("dev" != P.TS.WEB_UNIVERSE && "beta" != P.TS.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = bi.s_Singleton)),
            bi.s_Singleton
          );
        }
        constructor() {
          this.m_rgFriendsList = null;
        }
      }
      var wi = a(1909),
        Ci = a(19369),
        fi = a(64641),
        yi = a.n(fi),
        Di = a(86836),
        Ti = a.n(Di),
        Ii = a(69300),
        Gi = a(41471);
      let Ni = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strCustomTitle: "",
              customTitleLanguage: 0,
              whitelistSteamID: "",
            });
        }
        GetBroadcastEditModel() {
          return new gi(this.props.editModel);
        }
        OnBroadcastOptionChange(e) {
          this.GetBroadcastEditModel().SetBroadcastEnabled(e);
        }
        OnBroadcastForceBanner(e) {
          this.GetBroadcastEditModel().SetBroadcastForceBanner(e);
        }
        OnChatChange(e) {
          this.GetBroadcastEditModel().SetChangeSetting(e);
        }
        OnTitleChange(e) {
          this.GetBroadcastEditModel().SetTitleToken(e.data);
        }
        OnCustomTitleChange(e) {
          this.setState({ strCustomTitle: e.target.value });
        }
        OnCustomTitleLanguageChange(e) {
          this.setState({ customTitleLanguage: e.data });
        }
        AddTitle() {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(
            this.state.customTitleLanguage,
            this.state.strCustomTitle,
          ),
            this.setState({ strCustomTitle: "" });
        }
        RemoveTitle(e) {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(e, null);
        }
        OnSaleColorChange(e, t) {
          (this.props.editModel.GetEventModel().jsondata[t] = e),
            this.props.editModel.SetDirty(ne.IQ.jsondata_sales);
        }
        OnOpenGradientInnerColor(e) {
          (0, Na.lX)(
            d.createElement(Ga.s, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_inner_color"),
              color:
                this.props.editModel.GetEventModel().jsondata
                  .broadcast_gradient_inner_color,
            }),
            e,
            { bDisablePopTop: !0 },
          );
        }
        OnOpenGradientOuterColor(e) {
          (0, Na.lX)(
            d.createElement(Ga.s, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_outer_color"),
              color:
                this.props.editModel.GetEventModel().jsondata
                  .broadcast_gradient_outer_color,
            }),
            e,
            { bDisablePopTop: !0 },
          );
        }
        render() {
          const { editModel: e } = this.props,
            t = e.GetEventModel().jsondata,
            a = [
              "#Broadcast_default_title_dev",
              "#Broadcast_default_title_community",
              "#Broadcast_default_title_comp",
              "#Broadcast_default_title_speed",
              "#Broadcast_default_title_simple",
              "#Broadcast_default_title_dev_chat",
              "#Broadcast_default_title_ama",
            ].map((e) => ({ label: (0, R.we)(e), data: e })),
            n = [],
            o = R.A0.GetLanguageListForRealms([Go.TU.k_ESteamRealmGlobal]);
          for (const e of o) {
            const t = {
              label: (0, R.we)("#language_selection_" + (0, i.Lg)(e)),
              data: e,
            };
            n.push(t);
          }
          const r = Si.i.map((t) =>
            d.createElement(
              "div",
              {
                key: "broadcastchatOptions_" + t,
                className: (0, L.A)(w().FlexRowContainer, w().RadioOption),
              },
              d.createElement("input", {
                type: "radio",
                name: "BroadcastChat",
                id: "EventEditor_BroadcastSChat_" + t,
                value: t,
                checked: e.GetEventModel().GetBroadcastChatVisibility() === t,
                onChange: () => this.OnChatChange(t),
              }),
              d.createElement(
                "label",
                { htmlFor: "EventEditor_BroadcastSChat_" + t },
                d.createElement(
                  "span",
                  null,
                  (0, R.we)("#Broadcast_chat_" + t),
                ),
              ),
            ),
          );
          return d.createElement(
            "div",
            { className: vl().EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: w().EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: (0, L.A)(w().EventEditorTextTitle, w().FlexGrow) },
                (0, R.we)("#Broadcast_title"),
              ),
              d.createElement(
                "a",
                {
                  target: P.TS.IN_CLIENT ? void 0 : "_blank",
                  href:
                    P.TS.PARTNER_BASE_URL +
                    "doc/marketing/event_tools/sales/livestream",
                  className: (0, L.A)(w().doclink),
                },
                d.createElement(
                  "span",
                  null,
                  (0, R.we)("#Broadcast_documentation"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: w().InputBorder },
              d.createElement(h.RF, {
                onChange: this.OnBroadcastOptionChange,
                label: (0, R.we)("#Broadcast_option"),
                checked: e.GetEventModel().BHasBroadcastEnabled(),
              }),
            ),
            e.GetEventModel().BHasBroadcastEnabled() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#Broadcast_title_title"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, L.A)(
                      w().FlexColumnContainer,
                      w().EventDefaultRowContainer,
                    ),
                  },
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#Broadcast_title_desc"),
                  ),
                  d.createElement(h.m, {
                    rgOptions: a,
                    selectedOption: a[0].data,
                    onChange: this.OnTitleChange,
                  }),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)("#Broadcast_option_customtitle"),
                  ),
                  d.createElement(
                    "div",
                    { className: Ti().customTitleOptionsCtn },
                    d.createElement(
                      "div",
                      {
                        className: (0, L.A)(
                          w().FlexRowContainer,
                          Ti().CustomTitleCtn,
                        ),
                      },
                      d.createElement(
                        "div",
                        { style: { width: "400px" } },
                        d.createElement(h.pd, {
                          placeholder: (0, R.we)("#Broadcast_use_custom"),
                          onChange: this.OnCustomTitleChange,
                          value: this.state.strCustomTitle,
                        }),
                      ),
                      d.createElement(
                        "div",
                        { className: Ti().LanguageContainer },
                        d.createElement(h.m, {
                          bDisableMouseOverlay: !0,
                          strDropDownClassName: w().DropDownScroll,
                          rgOptions: n,
                          selectedOption: this.state.customTitleLanguage,
                          onChange: this.OnCustomTitleLanguageChange,
                        }),
                      ),
                      d.createElement(
                        "div",
                        { className: Ti().AddTitleButton },
                        d.createElement(
                          h.jn,
                          { onClick: () => this.AddTitle() },
                          (0, R.we)("#Broadcast_add_title"),
                        ),
                      ),
                    ),
                    d.createElement(
                      "p",
                      null,
                      (0, R.we)("#Sale_option_customtitle_entered"),
                    ),
                    d.createElement(
                      "div",
                      { className: (0, L.A)(w().FlexColumnContainer) },
                      t.localized_broadcast_title.map((e, t) =>
                        e
                          ? d.createElement(
                              "div",
                              {
                                className: (0, L.A)(
                                  Ti().TitleRowCtn,
                                  w().FlexRowContainer,
                                ),
                                key: t,
                              },
                              e,
                              " (",
                              (0, R.we)("#language_selection_" + (0, i.Lg)(t)),
                              ")",
                              d.createElement(
                                "div",
                                { style: { marginLeft: "auto" } },
                                d.createElement("img", {
                                  className: yi().RemoveIcon,
                                  src: hi.A,
                                  onClick: () => this.RemoveTitle(t),
                                }),
                              ),
                            )
                          : null,
                      ),
                    ),
                  ),
                ),
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#Broadcast_background"),
                ),
                d.createElement(
                  h.$n,
                  {
                    onClick: this.OnOpenGradientOuterColor,
                    className: w().EventEditorTextTitle,
                    style: {
                      backgroundColor:
                        this.props.editModel.GetEventModel().jsondata
                          .broadcast_gradient_outer_color,
                    },
                  },
                  (0, R.we)("#Broadcast_GradientOuterColor"),
                ),
                d.createElement(
                  h.$n,
                  {
                    onClick: this.OnOpenGradientInnerColor,
                    className: w().EventEditorTextTitle,
                    style: {
                      backgroundColor:
                        this.props.editModel.GetEventModel().jsondata
                          .broadcast_gradient_inner_color,
                    },
                  },
                  (0, R.we)("#Broadcast_GradientInnerColor"),
                ),
                d.createElement(Ai, {
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(ki, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#Broadcast_chat_title"),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, L.A)(
                      w().FlexColumnContainer,
                      w().EventDefaultRowContainer,
                    ),
                  },
                  r,
                ),
                d.createElement(Bi, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(Li, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#Broadcast_artwork"),
                ),
                d.createElement(ta.t, {
                  clanSteamID: e.GetClanSteamID(),
                  rgSupportArtwork: ["broadcast_left", "broadcast_right"],
                  fnSetImageURL: e.SetImageURL,
                  bAllowPreviousClanImageSelection: !0,
                  rgRealmList: e.GetIncludedRealmList(),
                }),
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#Broadcast_artwork_options"),
                ),
                d.createElement(
                  "div",
                  { className: w().InputBorder },
                  d.createElement(h.RF, {
                    onChange: this.OnBroadcastForceBanner,
                    label: (0, R.we)("#Broadcast_artwork_banner"),
                    tooltip: (0, R.we)("#Broadcast_artwork_banner_hint"),
                    checked: e.GetEventModel().BHasBroadcastForceBanner(),
                  }),
                ),
                d.createElement(aa.it, {
                  clanSteamID: e.GetClanSteamID(),
                  title: (0, R.we)("#EventEditor_ArtworkType_broadcast_left"),
                  artworkType: "broadcast_left",
                  appid: e.GetAppID(),
                  eventModel: e.GetEventModel(),
                  fnLangHasData: e.BHasTitleImage,
                  realms: e.GetIncludedRealmList(),
                  fnSetImageURL: e.SetImageURL,
                  fnGetImageHashAndExt: e.GetImageHashAndExt,
                  partnerEventStore: l.mh,
                }),
                d.createElement(aa.it, {
                  clanSteamID: e.GetClanSteamID(),
                  title: (0, R.we)("#EventEditor_ArtworkType_broadcast_right"),
                  eventModel: e.GetEventModel(),
                  artworkType: "broadcast_right",
                  appid: e.GetAppID(),
                  fnLangHasData: e.BHasTitleImage,
                  realms: e.GetIncludedRealmList(),
                  fnSetImageURL: e.SetImageURL,
                  fnGetImageHashAndExt: e.GetImageHashAndExt,
                  partnerEventStore: l.mh,
                }),
              ),
          );
        }
      };
      function Ai(e) {
        const { broadcastEditModel: t } = e,
          a = (0, Xt.q3)(() => t.GetBroadcastAllowList() || []);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#Broadcast_whitelist"),
          ),
          d.createElement(
            "div",
            {
              className: (0, L.A)(
                w().FlexColumnContainer,
                w().EventDefaultRowContainer,
              ),
            },
            d.createElement(
              "div",
              null,
              (0, R.we)("#Broadcast_whitelist_desc"),
            ),
            d.createElement(
              "div",
              null,
              (0, R.we)("#Broadcast_option_drag_ttip"),
            ),
            d.createElement(
              "div",
              { className: vl().BroadcastAccountList },
              a.map((e) =>
                d.createElement(Ri, {
                  key: "broadcastaccountrow_" + e,
                  accountid: e,
                }),
              ),
            ),
            d.createElement(Mi, { broadcastEditModel: t }),
            d.createElement(Ci.jl, {
              onButtonClick: async (e) => {
                const a = new p.b(e);
                return t.AddAccountToWhiteList(a.GetAccountID()), !0;
              },
              buttonText: (0, R.we)("#Broadcast_whitelist_adduser"),
            }),
            d.createElement(
              "div",
              null,
              (0, R.PP)(
                "#Broadcast_whitelist_friendcode",
                d.createElement(
                  "a",
                  {
                    target: "_blank",
                    href: P.TS.COMMUNITY_BASE_URL + "my/friends/add",
                  },
                  P.TS.COMMUNITY_BASE_URL + "my/friends/add",
                ),
              ),
            ),
          ),
        );
      }
      function Mi(e) {
        const { broadcastEditModel: t } = e,
          a = (function () {
            const [e, t] = d.useState(bi.Get().GetFriendLiset());
            return (
              d.useEffect(() => {
                Boolean(e) || bi.Get().LoadFriendList().then(t);
              }, []),
              e
            );
          })();
        return d.createElement(
          "div",
          { className: (0, L.A)(w().FlexRowWrapFlexStartContainer) },
          d.createElement(
            "a",
            {
              onClick: () => t.AddAccountToWhiteList(P.iA.accountid),
              className: w().EditPreviewButton,
            },
            (0, R.we)("#Broadcast_whitelist_addme"),
          ),
          d.createElement(
            "a",
            {
              onClick: (e) =>
                (0, Na.lX)(
                  d.createElement(
                    "div",
                    { className: w().DropDownScroll },
                    (a || []).map((e) =>
                      d.createElement(
                        tl.kt,
                        {
                          key: e.steamid,
                          onSelected: () => {
                            const a = new p.b(e.steamid);
                            t.AddAccountToWhiteList(a.GetAccountID());
                          },
                        },
                        d.createElement(
                          "div",
                          { style: { display: "flex", alignItems: "center" } },
                          d.createElement("img", {
                            className: Ti().WhitelistAvatar,
                            src: e.avatar_url,
                          }),
                          e.persona_name,
                        ),
                      ),
                    ),
                  ),
                  e,
                ),
              className: w().EditPreviewButton,
            },
            (0, R.we)("#Broadcast_whitelist_addfriend"),
          ),
          d.createElement(
            "a",
            {
              onClick: () => t.ClearWhiteList(),
              className: w().EditPreviewButton,
            },
            (0, R.we)("#Broadcast_whitelist_clear"),
          ),
        );
      }
      function Bi(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          [n, l, o, i, r, s] = (0, Xt.q3)(() => [
            t.GetEventModel().jsondata.broadcast_item_drops_enabled,
            t.GetEventModel().jsondata.broadcast_item_drops_manual,
            t.GetEventModel().jsondata
              .broadcast_item_drops_min_watch_time_minutes,
            t.GetEventModel().jsondata
              .broadcast_item_drops_details_clan_accountid,
            t.GetEventModel().jsondata.broadcast_item_drops_details_event_gid,
            t.GetEventModel().jsondata.broadcast_chat_announcement_giveaway ||
              0,
          ]);
        return d.createElement(
          I.E,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, L.A)(w().ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            "(VO) " + (0, R.we)("#Broadcast_DropsTitle"),
          ),
          d.createElement(h.Yh, {
            onChange: (e) => a.SetDropsEnabled(e),
            label: (0, R.we)("#Broadcast_Drops_Enable"),
            checked: Boolean(n),
          }),
          Boolean(n) &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(h.Yh, {
                onChange: (e) => a.SetItemDropManual(e),
                label: (0, R.we)("#Broadcast_Drops_IsManualDrops"),
                checked: Boolean(l),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_min_mintes" },
                (0, R.we)("#Broadcast_Drops_Minute"),
              ),
              d.createElement("input", {
                id: "broadcast_min_mintes",
                type: "number",
                min: "5",
                value: o,
                onChange: (e) =>
                  a.SetItemDropMinutes(Number.parseInt(e.target.value)),
              }),
              d.createElement(
                "div",
                { className: w().EventEditorTextSubTitle },
                (0, R.we)("#Broadcast_Drops_Details"),
              ),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_account" },
                (0, R.we)("#Broadcast_Drops_Details_Account"),
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_account",
                type: "number",
                min: "0",
                value: i,
                onChange: (e) =>
                  a.SetItemDropDetailEvents(Number.parseInt(e.target.value), r),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_event_gid" },
                (0, R.we)("#Broadcast_Drops_Details_GID"),
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_event_gid",
                type: "text",
                value: r,
                onChange: (e) => a.SetItemDropDetailEvents(i, e.target.value),
              }),
            ),
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            "(VO) " + (0, R.we)("#Broadcast_ChatAnnouncement_Giveaway_title"),
          ),
          d.createElement(h.pd, {
            type: "number",
            value: s,
            tooltip: (0, R.we)("#Broadcast_ChatAnnouncement_Giveaway_gid_ttip"),
            label: (0, R.we)("#Broadcast_ChatAnnouncement_Giveaway_gid"),
            onChange: (e) => a.SetChatAnnouncementGiveawayGID(e.target.value),
          }),
        );
      }
      function Li(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = (0, Xt.q3)(
            () => t.GetEventModel().jsondata.broadcast_display_wide_player,
          ),
          l = (0, Xt.q3)(
            () =>
              t.GetEventModel().jsondata
                .broadcast_dispaly_wide_player_allow_chat,
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#Broadcast_WidePlayer"),
          ),
          d.createElement(h.Yh, {
            onChange: (e) => a.SetWidePlayerLayout(e),
            label: (0, R.we)("#Broadcast_WidePlayer_Use"),
            tooltip: (0, R.we)("#Broadcast_WidePlayer_ttip"),
            checked: Boolean(n),
          }),
          d.createElement(h.Yh, {
            onChange: (e) => a.SetWidePlayerSupportChat(e),
            label: (0, R.we)("#Broadcast_WidePlayer_Chat_Use"),
            tooltip: (0, R.we)("#Broadcast_WidePlayer_Chat_ttip"),
            checked: Boolean(l),
            disabled: !n,
          }),
          d.createElement(
            I.E,
            {
              requireAdmin: !0,
              clanSteamID: t.GetClanSteamID(),
              className: (0, L.A)(w().ValveOnlyBackground),
            },
            d.createElement(
              te.he,
              { toolTipContent: (0, R.we)("#Broadcast_ContentType_Desc") },
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                "(VO) " + (0, R.we)("#Broadcast_ContentType"),
              ),
            ),
            d.createElement(Pi, null),
          ),
        );
      }
      function ki(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = (0, Xt.q3)(() => (null == a ? void 0 : a.GetPrerollVideo()));
        return d.createElement(
          I.E,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: (0, L.A)(w().ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#Broadcast_preroll_title"),
          ),
          d.createElement(
            "div",
            {
              className: (0, L.A)(
                w().FlexColumnContainer,
                w().EventDefaultRowContainer,
              ),
            },
            d.createElement("div", null, (0, R.we)("#Broadcast_preroll_desc")),
            d.createElement(h.pd, {
              type: "text",
              placeholder: (0, R.we)("#Broadcast_preroll_prompt"),
              mustBeNumeric: !0,
              rangeMin: 1,
              value: n || "",
              onChange: (e) => a.SetPrerollVODAppID(e.target.value.trim()),
            }),
            Boolean(n) &&
              d.createElement(
                "a",
                { href: P.TS.PARTNER_BASE_URL + "apps/landing/" + n },
                (0, R.we)("#Broadcast_preroll_app_link"),
              ),
          ),
        );
      }
      function Ri(e) {
        const { accountid: t } = e,
          { isLoading: a, data: n } = (0, Gi.js)(t),
          o = () => {
            let e = l.mh.GetEditModel();
            return new gi(e);
          };
        let i = l.mh.GetEditModel().GetEventModel(),
          r = (0, Xt.q3)(() => i.jsondata.broadcast_whitelist.indexOf(t)),
          s = (0, Xt.q3)(() => {
            let e = i.jsondata.broadcast_language,
              t = -1;
            return (
              r >= 0 && e && r < e.length && void 0 !== e[r] && (t = e[r]), t
            );
          });
        return a
          ? d.createElement(T.t, {
              size: "small",
              string: (0, R.we)("#Loading"),
            })
          : n
            ? d.createElement(
                "div",
                { className: (0, L.A)(yi().FlexCenter, Ti().AccountRow) },
                d.createElement(
                  "a",
                  {
                    className: (0, L.A)(
                      yi().FlexCenter,
                      vl().BroadcastAccountInfo,
                    ),
                    href: n.GetCommunityProfileURL(),
                    target: "_blank",
                  },
                  n
                    ? d.createElement("img", {
                        style: { marginRight: "8px" },
                        src: n.avatar_url,
                      })
                    : null,
                  n ? n.m_strPlayerName : null,
                ),
                d.createElement(
                  te.he,
                  { toolTipContent: (0, R.we)("#Broadcast_Language_hint") },
                  d.createElement(
                    "span",
                    null,
                    (0, R.we)("#EventEditor_Langauge"),
                    ": ",
                  ),
                  d.createElement(wi.Ng, {
                    bAllowUnsetOption: !0,
                    selectedLang: s,
                    fnOnLanguageChanged: (e) =>
                      o().SetWhiteListAccountLanguage(t, e),
                  }),
                ),
                d.createElement(Oi, { accountid: t }),
                d.createElement("img", {
                  className: (0, L.A)(yi().FlexCenter, yi().RemoveIcon),
                  src: hi.A,
                  onClick: () => o().DeleteWhiteListAccount(t),
                }),
              )
            : d.createElement(
                "div",
                null,
                (0, R.we)("#Broadcast_FailedToLoadUser"),
              );
      }
      function Oi(e) {
        const t = l.mh.GetEditModel(),
          a = new gi(t),
          n = [
            { label: (0, R.we)("#Broadcast_Priority_Primary"), data: Ii.U7 },
            { label: (0, R.we)("#Broadcast_Priority_Featured"), data: Ii._ },
            {
              label: (0, R.we)("#Broadcast_Priority_DefaultFeatured"),
              data: Ii.zl,
            },
            { label: (0, R.we)("#Broadcast_Priority_General"), data: Ii.mP },
          ],
          o = a.GetWhiteListAccountPriority(e.accountid, Ii.mP);
        return d.createElement(
          te.he,
          {
            toolTipContent: (0, R.we)("#Broadcast_Priority_hint"),
            className: vl().PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            (0, R.we)("#Broadcast_Priority_label"),
            ": ",
          ),
          d.createElement(h.m, {
            rgOptions: n,
            selectedOption: o,
            onChange: (t) => {
              a.SetWhiteListAccountPriority(e.accountid, t.data);
            },
          }),
        );
      }
      function Pi(e) {
        const t = l.mh.GetEditModel(),
          a = new gi(t),
          n = [
            {
              label: (0, R.we)("#Broadcast_ContentType_Unknown"),
              data: void 0,
            },
            { label: (0, R.we)("#Broadcast_ContentType_Live"), data: "live" },
            {
              label: (0, R.we)("#Broadcast_ContentType_Premiere"),
              data: "premiere",
            },
            {
              label: (0, R.we)("#Broadcast_ContentType_Encore"),
              data: "encore",
            },
          ],
          o = a.GetBroadcastContentType();
        return d.createElement(
          te.he,
          {
            toolTipContent: (0, R.we)("#Broadcast_ContentType_Desc"),
            className: vl().PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            (0, R.we)("#Broadcast_ContentType"),
            ": ",
          ),
          d.createElement(h.m, {
            rgOptions: n,
            selectedOption: o,
            onChange: (e) => a.SetBroadcastContentType(e.data),
          }),
        );
      }
      (0, J.Cg)([O.oI], Ni.prototype, "OnBroadcastOptionChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnBroadcastForceBanner", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnChatChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnTitleChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnCustomTitleChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnCustomTitleLanguageChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "AddTitle", null),
        (0, J.Cg)([O.oI], Ni.prototype, "RemoveTitle", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnSaleColorChange", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnOpenGradientInnerColor", null),
        (0, J.Cg)([O.oI], Ni.prototype, "OnOpenGradientOuterColor", null),
        (Ni = (0, J.Cg)([c.PA], Ni));
      var xi = a(73744),
        Fi = a(28954);
      class Hi {
        GetDLCForAppID(e) {
          return this.m_mapAppIDToDLCs.get(e);
        }
        GetSoundTracksForAppID(e) {
          return this.m_mapAppIDToSoundTracks.get(e);
        }
        async LoadDLCAndSoundTracksForAppID(e, t) {
          return (
            this.m_mapPromise.has(e) ||
              this.m_mapPromise.set(
                e,
                this.InternalLoadDLCAndSoundTracksForAppID(e, t),
              ),
            this.m_mapPromise.get(e)
          );
        }
        async InternalLoadDLCAndSoundTracksForAppID(e, t) {
          if (!this.m_mapAppIDToDLCs.has(e) && 0 != e)
            try {
              let a = {
                  origin: self.origin,
                  cc: P.TS.COUNTRY || "US",
                  l: P.TS.LANGUAGE,
                },
                n = "";
              n =
                "partnerweb" == (0, P.yK)()
                  ? `${P.TS.PARTNER_BASE_URL}seasonpass/ajaxgetreleasedorupcomingdlc?parentappid=${e}`
                  : P.TS.STORE_BASE_URL + "dlc/" + e + "/ajaxgetdlclist";
              let l = await s().get(n, {
                  params: a,
                  cancelToken: null == t ? void 0 : t.token,
                }),
                o = Array();
              l.data.dlcs &&
                l.data.dlcs.forEach((e) => {
                  o.push({
                    appid: e.appid,
                    name: e.name,
                    is_released_somewhere: Boolean(e.is_released_somewhere),
                  });
                }),
                this.m_mapAppIDToDLCs.set(e, o),
                (o = Array()),
                l.data.soundtracks &&
                  l.data.soundtracks.forEach((e) => {
                    o.push({
                      appid: e.appid,
                      name: e.name,
                      is_released_somewhere: Boolean(e.is_released_somewhere),
                    });
                  }),
                this.m_mapAppIDToSoundTracks.set(e, o);
            } catch (t) {
              const a = (0, M.H)(t);
              console.error(
                "LoadDLCAndSoundTracksForAppID for appid: " +
                  e +
                  " hit: " +
                  a.strErrorMsg,
                a,
              );
            }
          return {
            dlcs: this.m_mapAppIDToDLCs.has(e)
              ? this.m_mapAppIDToDLCs.get(e)
              : [],
            soundtracks: this.m_mapAppIDToSoundTracks.has(e)
              ? this.m_mapAppIDToSoundTracks.get(e)
              : [],
          };
        }
        static Get() {
          return (
            Hi.s_Singleton ||
              ((Hi.s_Singleton = new Hi()),
              "dev" == P.TS.WEB_UNIVERSE &&
                (window.g_StoreTagCache = Hi.s_Singleton)),
            Hi.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppIDToDLCs = new Map()),
            (this.m_mapAppIDToSoundTracks = new Map()),
            (this.m_mapPromise = new Map()),
            (0, Z.Gn)(this);
        }
      }
      var ji = a(4033),
        zi = a(27344),
        Ui = a(2805),
        qi = a(61924),
        Vi = a(30040),
        Wi = a(45832);
      let Qi = class extends d.Component {
        OnHeadlineChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetHeadline(e.currentTarget.value || null, a);
        }
        OnBodyChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetBody(e.currentTarget.value || null, a);
        }
        OnVideoChange(e) {
          const { section: t } = this.props;
          t.SetVideoLink(e.currentTarget.value || null);
        }
        OnRemoveSubSection(e) {
          const { section: t, fnRemoveSection: a } = this.props;
          (0, D.pg)(
            d.createElement(y.o0, {
              strTitle: (0, R.we)("#EventEmail_Template_EditTitle"),
              strDescription: (0, R.we)(
                "#EventEmail_Template_RemoveSubSection",
                (0, R.we)("#EventEmail_Template_Sub_" + e),
              ),
              onOK: () => {
                t.RemoveSubSection(e), !t.BHasSomeSubSection() && a && a();
              },
            }),
            window,
          );
        }
        GenerateTemplateRemove(e) {
          let t = (0, R.we)("#EventEmail_Template_Sub_" + e);
          return d.createElement(
            "div",
            { className: Vi.ImgCrossCtn },
            d.createElement(
              te.he,
              { toolTipContent: (0, R.we)("#EventEmail_Template_Remove", t) },
              d.createElement("img", {
                className: Vi.ImgCross,
                src: hi.A,
                onClick: () => this.OnRemoveSubSection(e),
              }),
            ),
          );
        }
        render() {
          const {
            section: e,
            additionalClassName: t,
            lang: a,
            bEditor: n,
            clanSteamID: l,
            appid: o,
            bTemplateEditable: i,
          } = this.props;
          return d.createElement(
            "div",
            {
              className: (0, L.A)(
                t,
                Vi.DevEmailEmailBackground,
                Vi.EmailSection,
              ),
            },
            e.BHasHeadline() &&
              d.createElement(
                d.Fragment,
                null,
                i && this.GenerateTemplateRemove("headline"),
                d.createElement("input", {
                  type: "text",
                  className: Vi.HeadlineInput,
                  placeholder: (0, R.we)("#EventEmail_EnterHeadline"),
                  value: e.GetHeadline(a),
                  onChange: this.OnHeadlineChange,
                }),
              ),
            e.BHasBody() &&
              d.createElement(
                d.Fragment,
                null,
                i && this.GenerateTemplateRemove("body"),
                d.createElement("textarea", {
                  className: Vi.BodyInput,
                  placeholder: (0, R.we)("#EventEmail_EnterBodyCopy"),
                  value: e.GetBody(a),
                  rows: 8,
                  onChange: this.OnBodyChange,
                }),
              ),
            e.BHasCallToAction() &&
              d.createElement(
                d.Fragment,
                null,
                i && this.GenerateTemplateRemove("action"),
                d.createElement(Yi, { appid: o, section: e }),
              ),
            e.BHasImage() &&
              d.createElement(
                d.Fragment,
                null,
                i && this.GenerateTemplateRemove("img"),
                d.createElement(Ki, {
                  section: e,
                  lang: a,
                  clanSteamID: l,
                  bEditor: n,
                  artworkType: i ? "email_centered" : "email_full",
                }),
              ),
            e.BHasVideo() &&
              d.createElement(
                d.Fragment,
                null,
                i && this.GenerateTemplateRemove("youtube"),
                d.createElement(
                  "div",
                  { className: Vi.VideoCtn },
                  d.createElement("img", { src: e.GetYouTubeImageURL() }),
                  Boolean(n) &&
                    d.createElement(
                      "div",
                      { className: Vi.VideoInputCtn },
                      d.createElement(
                        "div",
                        null,
                        (0, R.we)("#EventEditor_InsertYouTube_Placholder"),
                      ),
                      d.createElement("input", {
                        type: "text",
                        value: e.GetVideoURL(),
                        onChange: this.OnVideoChange,
                      }),
                      d.createElement(
                        "div",
                        null,
                        (0, R.we)("#EventEditor_InsertYouTube_UpdateThumbnail"),
                        d.createElement(
                          "a",
                          {
                            href: "https://support.google.com/youtube/answer/72431",
                            target: "_blank",
                          },
                          (0, R.we)("#EventEditor_InsertYouTube_LearnHow"),
                        ),
                      ),
                    ),
                ),
              ),
          );
        }
      };
      (0, J.Cg)([O.oI], Qi.prototype, "OnHeadlineChange", null),
        (0, J.Cg)([O.oI], Qi.prototype, "OnBodyChange", null),
        (0, J.Cg)([O.oI], Qi.prototype, "OnVideoChange", null),
        (0, J.Cg)([O.oI], Qi.prototype, "OnRemoveSubSection", null),
        (Qi = (0, J.Cg)([c.PA], Qi));
      let Yi = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.state = { dlcs: void 0 });
        }
        async LoadDLCForApp() {
          this.setState({
            dlcs: (
              await Hi.Get().LoadDLCAndSoundTracksForAppID(
                this.props.appid,
                this.m_cancelSignal,
              )
            ).dlcs,
          });
        }
        componentDidMount() {
          this.LoadDLCForApp();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EmailCallToAction cancelled");
        }
        BuildTextOptions() {
          let e = new Array();
          return (
            X.uM.forEach((t) => {
              e.push(
                d.createElement(
                  "option",
                  { key: t, value: t },
                  (0, R.we)("#" + t),
                ),
              );
            }),
            e
          );
        }
        BuildDestinationOptions() {
          let e = new Array();
          for (let t in X.gs)
            if (!isNaN(Number(t))) {
              let a = X.WH[t];
              e.push(
                d.createElement(
                  "option",
                  { key: a, value: t },
                  (0, R.we)("#" + a),
                ),
              );
            }
          return (
            void 0 === this.state.dlcs
              ? e.push(
                  d.createElement(
                    "option",
                    { key: "CallToActionThrobber" },
                    d.createElement(T.t, {
                      string: (0, R.we)("#EventEmail_LoadingDLC"),
                      size: "small",
                    }),
                  ),
                )
              : this.state.dlcs.forEach((t) => {
                  e.push(
                    d.createElement(
                      "option",
                      { key: "dlc" + t.appid, value: t.appid },
                      (0, R.we)(
                        "#EventEmail_Destination_DLCPage",
                        t.name,
                        t.appid,
                      ),
                    ),
                  );
                }),
            e
          );
        }
        OnButtonLocChange(e) {
          const { section: t } = this.props;
          X.uM.forEach((a) => {
            a === e.target.value && t.SetButtonTextLock(a);
          });
        }
        OnDestinationChange(e) {
          const { section: t } = this.props;
          let a = Number(e.target.value);
          (0, Z.h5)(() => {
            a < X.gg
              ? (t.SetButtonDestination(a), t.SetButtonAppOverride(void 0))
              : (t.SetButtonDestination(X.gs.k_EStorePage),
                t.SetButtonAppOverride(a));
          });
        }
        OnChangeStorePageURL() {
          const { section: e } = this.props;
          (0, D.pg)(
            d.createElement(Ji, {
              strExistingURL: P.TS.STORE_BASE_URL + e.GetDestinationStorePath(),
              fnUpdateURLOnSuccess: e.SetButtonDestinationStoreURL,
            }),
            window,
          );
        }
        render() {
          const { section: e } = this.props;
          let t = this.BuildTextOptions(),
            a = this.BuildDestinationOptions(),
            n = e.BHasButtonAppIDOverride()
              ? e.GetButtonAppidOverride()
              : e.GetDestination();
          return d.createElement(
            "div",
            { className: Vi.ButtonSettingContainer },
            d.createElement(
              "div",
              { className: Vi.ButtonSettingRow },
              d.createElement(
                "span",
                null,
                (0, R.we)("#EventEmail_Section_ButtonText"),
              ),
              d.createElement(
                "select",
                {
                  value: e.GetButtonTextLoc(),
                  onChange: this.OnButtonLocChange,
                },
                t,
              ),
            ),
            d.createElement(
              "div",
              null,
              d.createElement(
                "span",
                null,
                (0, R.we)("#EventEmail_Section_Destination"),
              ),
              d.createElement(
                "select",
                { value: n, onChange: this.OnDestinationChange },
                a,
              ),
            ),
            e.BIsStoreSalesPage() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "span",
                  null,
                  (0, R.we)("#EventEmail_Section_EnterSalesPage"),
                  " ",
                  d.createElement(G.o, {
                    tooltip: (0, R.we)(
                      "#EventEmail_Section_EnterSalesPage_ttip",
                    ),
                  }),
                ),
                d.createElement(
                  "span",
                  null,
                  P.TS.STORE_BASE_URL + e.GetDestinationStorePath(),
                ),
                d.createElement(
                  h.jn,
                  { onClick: this.OnChangeStorePageURL },
                  (0, R.we)("#EventEmail_Section_UpdateURL"),
                ),
              ),
          );
        }
      };
      (0, J.Cg)([O.oI], Yi.prototype, "OnButtonLocChange", null),
        (0, J.Cg)([O.oI], Yi.prototype, "OnDestinationChange", null),
        (0, J.Cg)([O.oI], Yi.prototype, "OnChangeStorePageURL", null),
        (Yi = (0, J.Cg)([c.PA], Yi));
      let Ji = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bIsValid: K.e$.IsValidStoreURL(this.props.strExistingURL),
              strURL: this.props.strExistingURL
                ? this.props.strExistingURL
                : "",
            });
        }
        OnURLUpdate(e) {
          let t = e.currentTarget.value;
          this.setState({ bIsValid: K.e$.IsValidStoreURL(t), strURL: t });
        }
        render() {
          const { fnUpdateURLOnSuccess: e, closeModal: t } = this.props;
          return d.createElement(
            y.o0,
            {
              strDescription: (0, R.we)(
                "#EventEmail_Section_EnterSalesPage_ttip",
              ),
              strTitle: (0, R.we)("#EventEmail_Section_UpdateURL"),
              onOK: () => {
                e(this.state.strURL), t();
              },
              onCancel: t,
              bOKDisabled: !this.state.bIsValid,
            },
            d.createElement(
              "div",
              null,
              d.createElement("input", {
                type: "test",
                className: Vi.ButtonDestInputSaleURL,
                value: this.state.strURL,
                onChange: this.OnURLUpdate,
              }),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], Ji.prototype, "OnURLUpdate", null),
        (Ji = (0, J.Cg)([c.PA], Ji));
      let Ki = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { langOverride: this.props.lang });
        }
        OnArtworkLangChange(e, t, a) {
          const { section: n } = this.props;
          sa.z.GetExtensionString(e) && n.SetImage(sa.z.GetHashAndExt(e), a),
            this.setState({ langOverride: a }, () => n.SetImage(null, t));
        }
        render() {
          const {
            clanSteamID: e,
            section: t,
            lang: a,
            bEditor: n,
            artworkType: o,
          } = this.props;
          let i = t.GetImageURLWithFallback(this.state.langOverride, e),
            r = t.BHasSomeImage(),
            s = xi.Fj[o];
          const c = l.mh.GetEditModel();
          return d.createElement(
            "div",
            { className: Vi.ImagePreview },
            d.createElement(
              "div",
              { className: Vi.FullImageCtn },
              d.createElement("img", {
                width: i ? (0, xi.qj)(s.width) : void 0,
                height: i ? (0, xi.qj)(s.height) : void 0,
                src: i,
              }),
              Boolean(n) &&
                d.createElement(Zi, {
                  section: t,
                  clanSteamID: e,
                  lang: a,
                  artworkType: o,
                }),
            ),
            r &&
              d.createElement(Wi.h, {
                clanSteamID: e,
                langOverride: this.state.langOverride,
                fnGetImageHash: (e) => t.GetImageHash(e),
                fnOnLanguagePreviewChange: (e) =>
                  this.setState({ langOverride: e }),
                fnOnRemoveImage: (e) => t.SetImage(null, e),
                fnOnArtworkLangChange: this.OnArtworkLangChange,
                realms: c.GetIncludedRealmList(),
                fnLangHasData: c.BHasTitleImage,
              }),
          );
        }
      };
      (0, J.Cg)([O.oI], Ki.prototype, "OnArtworkLangChange", null),
        (Ki = (0, J.Cg)([c.PA], Ki));
      let Zi = class extends d.Component {
        constructor(e) {
          super(e),
            (this.state = { bDownloadFromClanImageStore: !1 }),
            (this.m_clanImageUploader = void 0),
            this.RefreshUploader();
        }
        componentDidUpdate(e) {
          (e.clanSteamID.GetAccountID() ==
            this.props.clanSteamID.GetAccountID() &&
            e.artworkType == this.props.artworkType) ||
            this.RefreshUploader();
        }
        RefreshUploader() {
          this.m_clanImageUploader = new Fi.VE(this.props.clanSteamID, [
            this.props.artworkType,
          ]);
        }
        async DoUpload() {
          const { section: e } = this.props;
          try {
            const t = await this.m_clanImageUploader.UploadAllImages();
            for (const a of t)
              if (a.bSuccess && 1 === a.uploadResult.success) {
                a.image.status = "success";
                let t = sa.z.GetExtensionString(a.uploadResult);
                e.SetImage(a.uploadResult.image_hash + t, a.image.language);
              } else
                (a.image.status = "failed"),
                  (a.image.message = a.uploadResult.message);
          } catch (e) {
            console.error("DoUpload failed:" + (0, M.H)(e).strErrorMsg);
          }
        }
        async OnDropFiles(e) {
          if (e && e.length > 0) {
            const { lang: t } = this.props;
            let a = !0,
              n = Array.from(e);
            for (let e = 0; a && e < n.length; e++) {
              let l = n[e];
              (a = await this.m_clanImageUploader.AddImage(l, t)),
                a ||
                  (console.error(
                    "ClanImagePicker.OnDropFiles: failed on i=" +
                      e +
                      " file=" +
                      l.name,
                  ),
                  (0, D.pg)(
                    d.createElement(y.KG, {
                      strDescription: (0, R.we)("#ImagePicker_Error", l.name),
                    }),
                    window,
                  ));
            }
            return a;
          }
          return !1;
        }
        RenderInstructions() {
          const { artworkType: e } = this.props;
          let t = xi.Fj[e];
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "span",
              { className: Vi.EmailInputText },
              (0, R.we)("#EventEmail_SelectBrandingImage"),
            ),
            d.createElement(
              "span",
              null,
              (0, R.we)(
                "#EventEmail_ImageDimension",
                (0, xi.qj)(t.width),
                (0, xi.qj)(t.height),
              ),
            ),
          );
        }
        async OnPreviousImageSelected(e, t) {
          this.state.bDownloadFromClanImageStore ||
            this.setState({ bDownloadFromClanImageStore: !0 }, async () => {
              const { lang: t } = this.props;
              try {
                await this.m_clanImageUploader.AddExistingClanImage(e, t);
              } catch (e) {
                let t = (0, M.H)(e);
                console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                  (0, D.pg)(
                    d.createElement(y.KG, {
                      strDescription: (0, R.we)(
                        "#EventError_Code",
                        t.strErrorMsg,
                      ),
                    }),
                    window,
                  );
              }
              this.setState({ bDownloadFromClanImageStore: !1 });
            });
        }
        render() {
          const { section: e } = this.props;
          if (this.state.bDownloadFromClanImageStore)
            return d.createElement(
              "div",
              { className: Vi.EditImageInputCtn },
              d.createElement(T.t, {
                position: "center",
                size: "medium",
                string: (0, R.we)("#Loading"),
              }),
            );
          const { clanSteamID: t } = this.props;
          let a = (0, ji.fY)(this.m_clanImageUploader, "emailartupload_");
          return d.createElement(
            "div",
            { className: Vi.EditImageInputCtn },
            d.createElement(
              qi.D,
              {
                onDropFiles: this.OnDropFiles,
                elAdditonalButtons: [
                  d.createElement(Ui.Hd, {
                    key: "emailsecion",
                    OnClanImageSelected: this.OnPreviousImageSelected,
                    clanSteamID: t,
                  }),
                ],
                renderDesciption: this.RenderInstructions,
              },
              d.createElement("div", { className: zi.UploadPreviewCtn }, a),
              d.createElement(ji.PY, {
                imageUploader: this.m_clanImageUploader,
                fnOnUploadImageRequested: this.DoUpload,
              }),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], Zi.prototype, "DoUpload", null),
        (0, J.Cg)([O.oI], Zi.prototype, "OnDropFiles", null),
        (0, J.Cg)([O.oI], Zi.prototype, "RenderInstructions", null),
        (0, J.Cg)([O.oI], Zi.prototype, "OnPreviousImageSelected", null),
        (Zi = (0, J.Cg)([c.PA], Zi));
      const Xi =
          a.p +
          "images/applications/community/Logo_Steamworks.png?v=valveisgoodatcaching",
        $i =
          a.p +
          "images/applications/community/Logo_Steam_NoWords_Dark.png?v=valveisgoodatcaching",
        er =
          "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=";
      var tr = a(71647);
      const ar = {
        localized_headline: new Array(31),
        localized_body: new Array(31),
        localized_image: new Array(31),
        button_destination: X.gs.k_EEventPage,
        button_loc_token: "EventEmail_Button_ClickForMoreDetails",
        video_link: "",
      };
      let nr = class extends d.Component {
        GetEmailEditModel() {
          return new K.pC(this.props.editModel);
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetCurEditLanguage(),
            a = this.GetEmailEditModel(),
            n = [];
          a.GetSectionObjects().forEach((l, o) => {
            n.push(
              d.createElement(Qi, {
                lang: t,
                key: "email_editor_section_" + o,
                clanSteamID: e.GetClanSteamID(),
                bEditor: e.BIsEmailEditable(),
                appid: e.GetAppID(),
                section: l,
                additionalClassName: Vi.HeaderSection,
                bTemplateEditable: !0,
                fnRemoveSection: () => a.RemoveSection(o),
              }),
            );
          });
          let l = a.GetLocalizedSubject(t);
          return d.createElement(
            "div",
            { className: Vi.EmailEditorContent },
            d.createElement(
              "div",
              { className: Vi.RightAlign },
              d.createElement(
                "span",
                { className: Vi.EmailOptionTitle },
                (0, R.we)("#LanguageTitle"),
                ": ",
              ),
              d.createElement(wi.Ng, {
                selectedLang: t,
                fnLangHasData: a.BHasSomeLanguage,
                fnOnLanguageChanged: (t) => e.SetCurEditLanguage(t),
              }),
            ),
            d.createElement(
              "div",
              { className: (0, L.A)(w().FlexRowContainer, Vi.EmailSubjectCtn) },
              d.createElement(
                "span",
                { className: Vi.EmailOptionTitle },
                (0, R.we)("#EventEmail_Subject"),
              ),
              d.createElement("input", {
                type: "text",
                value: l,
                size: 90,
                maxLength: 250,
                onChange: (t) =>
                  this.GetEmailEditModel().SetLocalizedSubject(
                    e.GetCurEditLanguage(),
                    t.currentTarget.value,
                  ),
              }),
            ),
            d.createElement(
              "div",
              { className: (0, L.A)(Vi.EmailTemplate, Vi.DevEmailTemplate) },
              d.createElement(
                "div",
                { className: (0, L.A)(Vi.CenterAlign, Vi.DevEmail_TopHeader) },
                d.createElement(
                  "a",
                  { href: P.TS.PARTNER_BASE_URL },
                  d.createElement("img", {
                    src: Xi,
                    className: Vi.DevEmail_TopLogo,
                  }),
                ),
              ),
              d.createElement(
                "div",
                { className: (0, L.A)(Vi.DevEmail_Content) },
                d.createElement("div", { className: Vi.DevEmail_Subject }, l),
              ),
              n,
              d.createElement(
                "div",
                { className: (0, L.A)(Vi.EmailSection, Vi.SupportCtn) },
                d.createElement("b", null, "Have Questions?"),
                d.createElement("br", null),
                d.createElement("a", { href: "#" }, "Contact us"),
                " and we'll get right back to you.",
              ),
              d.createElement(
                "div",
                { className: (0, L.A)(Vi.DevEmail_Content) },
                d.createElement("img", {
                  src: $i,
                  className: Vi.DevEmail_SignOff_Img,
                }),
                d.createElement(
                  "div",
                  { className: Vi.DevEmail_Signoff },
                  d.createElement(
                    "div",
                    null,
                    "- ",
                    (0, R.we)("#EventEmail_Developer_SignOff2"),
                  ),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: (0, L.A)(Vi.DevEmail_Footer_Ctn) },
              d.createElement(
                "span",
                { className: Vi.DevEmail_Footer_Reason },
                (0, R.we)("#EventEmail_Developer_Footer_Reason"),
              ),
              d.createElement(
                "div",
                { className: Vi.DevEmail_Footer_SubSection },
                d.createElement("img", { src: er, width: 103, height: 43 }),
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "div",
                    { className: Vi.DevEmail_Footer_Bold },
                    d.createElement(
                      "strong",
                      null,
                      (0, R.we)("#EventEmail_Developer_Footer_Valve"),
                      d.createElement("br", null),
                      (0, R.we)("#EventEmail_Developer_Footer_Valve2"),
                    ),
                  ),
                  d.createElement(
                    "div",
                    { className: Vi.DevEmail_Footer_Regular },
                    (0, R.we)("#EventEmail_Developer_Footer_Valve3"),
                  ),
                  d.createElement(
                    "div",
                    null,
                    d.createElement(
                      "a",
                      {
                        className: w().FlexRowContainer,
                        href:
                          (P.TS.IN_CLIENT ? "steam://openurl/" : "") +
                          "https://twitter.com/steam_games",
                        target: P.TS.IN_CLIENT ? void 0 : "_blank",
                      },
                      d.createElement("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                        width: 33,
                        height: 28,
                      }),
                      d.createElement(
                        "div",
                        { className: Vi.DevEmail_Follow },
                        (0, R.we)("#EventEmail_Developer_Footer_Follow"),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            d.createElement(
              "button",
              {
                className: (0, L.A)(w().Button, Vi.CenterAlign),
                onClick: () => {
                  a.AddSection(ar);
                },
              },
              (0, R.we)("#EventEmail_Template_AddSection"),
            ),
          );
        }
      };
      nr = (0, J.Cg)([c.PA], nr);
      let lr = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              capabilities: void 0,
              selectedCapability: void 0,
              nDuplicatesRemoved: 0,
            }),
            (this.m_cancelSignal = s().CancelToken.source()),
            (this.m_appFileInput = d.createRef()),
            (this.m_pubFileInput = d.createRef());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("DevEventRecipientOptions cancelled");
        }
        async componentDidMount() {
          let e = await l.mh.GetPartnerCapabilities(this.m_cancelSignal),
            t = this.GetEmailEditModel(),
            a = { label: e[0].capability, value: e[0] };
          e.forEach((e) => {
            e.id === t.GetInternalTargetingPartnerCapability() &&
              (a = { label: e.capability, value: e });
          }),
            this.setState({ capabilities: e, selectedCapability: a });
        }
        GetEmailEditModel() {
          return new K.pC(this.props.editModel);
        }
        async OnFileChoice(e, t) {
          let a = t.target.files;
          if (a && a.length > 0 && a[0]) {
            let t = this;
            this.setState({ readingFile: !0, file: a[0] }, () => {
              const a = new FileReader();
              (a.onload = function () {
                const n = a.result
                    .toString()
                    .split("\n")
                    .map((e) => Number.parseInt(e)),
                  l = new Set(n);
                "app" == e
                  ? t.GetEmailEditModel().SetInternalAppIDs(Array.from(l))
                  : t
                      .GetEmailEditModel()
                      .SetInternalPublisherIDs(Array.from(l)),
                  t.setState({
                    readingFile: !1,
                    nDuplicatesRemoved: n.length - l.size,
                    file: null,
                  });
              }),
                (a.onerror = function () {
                  console.error(
                    "DevEventRecipientOptions - Failed to read file",
                    a,
                  ),
                    t.setState({ readingFile: !1, file: null });
                }),
                a.readAsText(this.state.file);
            });
          }
          this.m_appFileInput.current &&
            this.m_appFileInput.current.value &&
            (this.m_appFileInput.current.value = null),
            this.m_pubFileInput.current &&
              this.m_pubFileInput.current.value &&
              (this.m_pubFileInput.current.value = null);
        }
        ShowTargets(e) {
          let t = this.GetEmailEditModel(),
            a =
              "app" == e
                ? t.GetInternalTargetAppIDs()
                : t.GetInternalTargetPublisherIDs();
          (0, D.pg)(
            d.createElement(
              y.o0,
              {
                strTitle: (0, R.we)(
                  "app" == e
                    ? "#EventEmail_Developer_ShowApps"
                    : "#EventEmail_Developer_ShowPublisher",
                  a.length,
                ),
                onOK: () => {},
                onCancel: () => {},
                bAlertDialog: !0,
              },
              a.map((t) => d.createElement("div", { key: e + "_" + t }, t)),
            ),
            window,
          );
        }
        ClearTargets(e) {
          const t = this.GetEmailEditModel();
          "app" == e
            ? t.SetInternalAppIDs([])
            : "publisher" == e && t.SetInternalPublisherIDs([]);
        }
        render() {
          if (!this.state.capabilities)
            return d.createElement(T.t, { string: (0, R.we)("#Loading") });
          let e = this.GetEmailEditModel();
          const t = this.state.capabilities.map((e) => ({
              value: e,
              label: e.capability,
            })),
            a = Rn.PubRights.map((t) =>
              d.createElement(h.Yh, {
                key: "PubRights" + t.flag,
                onChange: (a) =>
                  e.UpdateInternalTargetPublisherRights(t.flag, a),
                label: (0, R.we)("#PubRight_" + t.token),
                tooltip: (0, R.we)("#PubRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingPublisherRight(t.flag),
              }),
            ),
            n = Rn.AppRights.filter(
              (e) =>
                ![Bn.Download, Bn.UploadCDKeys, Bn.ManageCEG].includes(e.token),
            ).map((t) =>
              d.createElement(h.Yh, {
                key: "AppRights" + t.flag,
                onChange: (a) => e.UpdateInternalTargetAppRights(t.flag, a),
                label: (0, R.we)("#AppRight_" + t.token),
                tooltip: (0, R.we)("#AppRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingAppRight(t.flag),
              }),
            );
          return d.createElement(
            "div",
            { className: Vi.RecipientCtn },
            d.createElement(
              "div",
              { className: (0, L.A)(w().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEmail_Recipients"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEmail_Recipients_desc"),
              ),
              d.createElement(
                "table",
                { className: Vi.DevEmail_RecipientTable },
                d.createElement(
                  "tbody",
                  null,
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, R.we)("#EventEmail_Developer_IsUrgent"),
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(h.Yh, {
                        onChange: (t) => e.SetInternalTargetPriority(t),
                        label: (0, R.we)("#EventEmail_Developer_IsUrgent_Desc"),
                        checked: e.BHasInternalTargetingPriority(),
                      }),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, R.we)("#EventEmail_Developer_PartnerCapability"),
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(va.Ay, {
                        className: "react-select-container",
                        classNamePrefix: "react-select",
                        isSearchable: !0,
                        isMulti: !1,
                        value: this.state.selectedCapability,
                        options: t,
                        onChange: (e) =>
                          this.setState({ selectedCapability: e }, () =>
                            this.GetEmailEditModel().SetInternalTargetPartnerCapability(
                              e.value.id,
                            ),
                          ),
                      }),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      { colSpan: 2 },
                      (0, R.we)("#EventEmail_Developer_RightDesc"),
                    ),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, R.we)("#EventEmail_Developer_PublisherRights"),
                    ),
                    d.createElement("td", null, a),
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      (0, R.we)("#EventEmail_Developer_AppRights"),
                    ),
                    d.createElement("td", null, n),
                  ),
                ),
              ),
              this.state.readingFile && d.createElement(T.t, { size: "small" }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "b",
                  null,
                  (0, R.we)("#EventEmail_Developer_FilterOptional"),
                ),
              ),
              Boolean(this.state.nDuplicatesRemoved > 0) &&
                d.createElement(
                  "div",
                  { className: On.WarningStylesBackground },
                  d.createElement(
                    "b",
                    null,
                    (0, R.we)(
                      "#EventEmail_Developer_DuplicateRemoved",
                      (0, Lt.D)(this.state.nDuplicatesRemoved),
                    ),
                  ),
                ),
              d.createElement(
                "div",
                { className: Vi.TargetCtn },
                d.createElement(
                  "div",
                  { className: Vi.TargetTypeTitle },
                  d.createElement("b", null, "App Targeting"),
                ),
                d.createElement(
                  "div",
                  { className: Vi.TargetTypeCtn },
                  Boolean(e.GetInternalTargetAppCount()) &&
                    d.createElement(
                      "div",
                      { className: Vi.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetAppCount(),
                        " apps targeted.",
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, R.we)(
                            "#EventEmail_Developer_ShowApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, R.we)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                    ),
                  d.createElement(
                    "div",
                    { className: Vi.SelectListCtn },
                    (0, R.we)("#EventEmail_Developer_AddApps"),
                    d.createElement(
                      "label",
                      {
                        className: tr.SelectImageButton,
                        htmlFor: "internal_loadappid",
                      },
                      (0, R.we)("#EventEmail_Developer_SelectFile"),
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadappid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("app", e),
                      onChange: (e) => this.OnFileChoice("app", e),
                      multiple: !1,
                    }),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: Vi.TargetCtn },
                d.createElement(
                  "div",
                  { className: Vi.TargetTypeTitle },
                  d.createElement("b", null, "Publisher Targeting"),
                ),
                d.createElement(
                  "div",
                  { className: Vi.TargetTypeCtn },
                  e.GetInternalTargetPublisherCount() &&
                    d.createElement(
                      "div",
                      { className: Vi.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetPublisherCount(),
                        " publishers targeted.",
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, R.we)(
                            "#EventEmail_Developer_ShowPublisher",
                            e.GetInternalTargetPublisherCount(),
                          ),
                        ),
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          (0, R.we)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount(),
                          ),
                        ),
                      ),
                    ),
                  d.createElement(
                    "div",
                    { className: Vi.SelectListCtn },
                    (0, R.we)("#EventEmail_Developer_AddPublisher"),
                    d.createElement(
                      "label",
                      {
                        className: tr.SelectImageButton,
                        htmlFor: "internal_loadpubid",
                      },
                      (0, R.we)("#EventEmail_Developer_SelectFile"),
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadpubid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("publisher", e),
                      onChange: (e) => this.OnFileChoice("publisher", e),
                      multiple: !1,
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], lr.prototype, "OnFileChoice", null),
        (0, J.Cg)([O.oI], lr.prototype, "ShowTargets", null),
        (0, J.Cg)([O.oI], lr.prototype, "ClearTargets", null),
        (lr = (0, J.Cg)([c.PA], lr));
      var or = a(1088),
        ir = a(10472);
      function rr(e) {
        const { editModel: t } = e,
          a = (0, en.E)(),
          n = new K.pC(t).GetSectionObj(0),
          [l, o] = (0, Xt.q3)(() => [n.GetHeadline(a), n.GetBody(a)]);
        return d.createElement(
          "div",
          { className: Vi.EmailEditorContent },
          d.createElement(
            "div",
            { className: Vi.EmailTemplate },
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  Vi.DevEmailEmailBackground,
                  Vi.EmailSection,
                ),
              },
              d.createElement(
                "p",
                null,
                "This description and location information is automatically injected into the registration and reminder emails",
              ),
              d.createElement(
                h.JU,
                null,
                "Short Description For Email Rendering",
              ),
              d.createElement("textarea", {
                className: Vi.BodyInput,
                placeholder: "Come join us...",
                value: l,
                rows: 8,
                onChange: (e) => n.SetHeadline(e.currentTarget.value || "", a),
              }),
              d.createElement(
                h.JU,
                null,
                "Event Location (address / building)",
              ),
              d.createElement("textarea", {
                className: Vi.BodyInput,
                placeholder: "10040 NE 4th Ave..",
                value: o,
                rows: 8,
                onChange: (e) => n.SetBody(e.currentTarget.value || "", a),
              }),
            ),
          ),
        );
      }
      var sr = a(57782),
        cr = a(31501);
      const dr = (0, c.PA)((e) => {
          const { editModel: t } = e;
          d.useEffect(() => {
            or.O.HintLoad();
          }, []);
          if (!$.KN.Get().BShowEmailEditorTab(t.GetEventModel())) return null;
          const a = (0, ea.H)() !== t.GetClanAccountID();
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: Vi.EmailTabCtn },
              d.createElement(
                "div",
                { className: (0, L.A)(w().EventEditorTextTitleCtn) },
                d.createElement(
                  "span",
                  {
                    className: (0, L.A)(w().EventEditorTextTitle, w().FlexGrow),
                  },
                  (0, R.we)("#EventEmail_FeatureTitle"),
                ),
                d.createElement(
                  "a",
                  { href: "#", className: (0, L.A)(w().doclink) },
                  d.createElement(
                    "span",
                    null,
                    (0, R.we)("#selectimage_see_documentation"),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: (0, L.A)(w().FlexColumnContainer) },
                d.createElement(h.RF, {
                  label: (0, R.we)("#EventEmail_EnableEmailOption"),
                  onChange: (t) => {
                    const { editModel: a } = e,
                      n = a.GetClanSteamID().GetAccountID();
                    (a.CreateOrGetEmailSettings(n).bEnable = t),
                      a.SetDirty(ne.IQ.jsondata_email);
                  },
                  checked: t.BIsEmailEnabled(),
                }),
              ),
            ),
            Boolean(t.BIsEmailEnabled()) &&
              d.createElement(
                "div",
                { className: pl.EventEditorInputPaneContainer },
                a &&
                  d.createElement(
                    Ct.tH,
                    null,
                    d.createElement(hr, { editModel: t }),
                  ),
                a &&
                  d.createElement(
                    Ct.tH,
                    null,
                    d.createElement(ur, { editModel: t }),
                  ),
                d.createElement(
                  Ct.tH,
                  null,
                  Boolean((0, ea.H)() === t.GetClanAccountID())
                    ? d.createElement(rr, { editModel: t })
                    : d.createElement(
                        d.Fragment,
                        null,
                        P.UF.IS_VALVE_GROUP
                          ? d.createElement(nr, { editModel: t })
                          : d.createElement(_r, { editModel: t }),
                      ),
                ),
                d.createElement(mr, { editModel: t }),
                a &&
                  d.createElement(
                    Ct.tH,
                    null,
                    P.UF.IS_VALVE_GROUP
                      ? d.createElement(lr, { editModel: t })
                      : d.createElement(
                          d.Fragment,
                          null,
                          d.createElement(pr, { editModel: t }),
                          d.createElement(Er, { editModel: t }),
                        ),
                  ),
              ),
          );
        }),
        mr = (e) =>
          (0, ir.K)(e.editModel.GetAppID())
            ? d.createElement(
                "div",
                { className: On.WarningStylesBackground },
                (0, R.we)("#EventEmail_SteamChina_Warning"),
              )
            : null;
      let ur = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSettingUp: !1 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EventEmailControlBar cancelled");
        }
        FireTestEmail() {
          const { editModel: e } = this.props;
          l.mh
            .FireTestEmail(
              e.GetClanSteamID(),
              e.GetGID(),
              e.GetCurEditLanguage(),
              this.m_cancelSignal,
            )
            .then((e) => {
              (0, D.pg)(
                d.createElement(
                  y.o0,
                  {
                    strTitle: (0, R.we)("#EventDisplay_Share_Success"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  (0, R.we)("#EventEmail_TestEmailQueue"),
                ),
                window,
              );
            })
            .catch((e) => {
              (0, D.pg)(
                d.createElement(y.KG, null, (0, M.H)(e).strErrorMsg),
                window,
              );
            });
        }
        OnTestEmail(e) {
          const { editModel: t } = this.props;
          e.preventDefault(),
            or.O.BHasValidatedEmail() && !t.BIsDirtyType(ne.IQ.jsondata_email)
              ? (0, D.HT)(
                  d.createElement(
                    y.o0,
                    {
                      strTitle: (0, R.we)("#EventEmail_Test_Email"),
                      onOK: this.FireTestEmail,
                      onCancel: () => {},
                    },
                    (0, R.PP)(
                      "#EventEmail_Send_TestEmail_Desc",
                      d.createElement(
                        "a",
                        {
                          target: P.TS.IN_CLIENT ? void 0 : "blank",
                          href: P.TS.STORE_BASE_URL + "account/",
                        },
                        P.TS.STORE_BASE_URL + "account/",
                      ),
                    ),
                  ),
                  (0, k.uX)(e),
                )
              : t.BIsDirtyType(ne.IQ.jsondata_email)
                ? (0, D.pg)(
                    d.createElement(
                      y.KG,
                      null,
                      (0, R.we)("#EventEmail_Test_Dirty"),
                    ),
                    window,
                  )
                : (0, D.pg)(
                    d.createElement(
                      y.KG,
                      null,
                      (0, R.PP)(
                        "#EventEmail_Test_Email_Fail",
                        d.createElement(
                          "a",
                          {
                            target: P.TS.IN_CLIENT ? void 0 : "blank",
                            href: P.TS.STORE_BASE_URL + "account/",
                          },
                          P.TS.STORE_BASE_URL + "account/",
                        ),
                      ),
                    ),
                    window,
                  );
        }
        OnPrepareEmail(e) {
          (0, D.pg)(
            d.createElement(gr, { editModel: this.props.editModel }),
            (0, k.uX)(e),
          );
        }
        OnSetupAndFireEmailConfirm(e) {
          (0, D.HT)(
            d.createElement(
              y.o0,
              {
                strTitle: "(VO) Setup and Send Email",
                onOK: () =>
                  this.setState({ bSettingUp: !0 }, this.OnSetupAndFireEmail),
                onCancel: () => {},
              },
              d.createElement(
                "div",
                null,
                "(VO) Be thoughtful. Talk to Alden or Adil if not sure. By pressing this, we will setup a database entry to fire this email in its current form and target. Double check the audience make sense and the localization looks good. This will also begin firing immediately.",
              ),
            ),
            (0, k.uX)(e),
          );
        }
        async OnSetupAndFireEmail() {
          const { editModel: e } = this.props;
          try {
            let t = P.UF.IS_VALVE_GROUP
              ? await l.mh.SetupInternalPartnerCommunication(
                  this.m_cancelSignal,
                  e.GetClanSteamID(),
                  e.GetGID(),
                  e.GetEmailSettings().internal_targeting,
                )
              : await l.mh.SetupPartnerEmailCampaign(
                  e.GetClanSteamID(),
                  e.GetGID(),
                  this.m_cancelSignal,
                );
            (0, D.pg)(
              d.createElement(
                y.o0,
                {
                  strTitle: (0, R.we)("#EventDisplay_Share_Success"),
                  onOK: () => {},
                  onCancel: () => {},
                  bAlertDialog: !0,
                },
                d.createElement(
                  "div",
                  null,
                  "Succesfully created the email on the server and saved it to the event. We are done!",
                ),
                Boolean(t.warning) &&
                  "However we hit the following warning: " + t.warning_msg,
              ),
              window,
            );
          } catch (e) {
            let t = (0, M.H)(e);
            console.error("OnSetupAndFireEmail failed: " + t.strErrorMsg),
              (0, D.pg)(
                d.createElement(
                  y.o0,
                  {
                    strTitle: (0, R.we)("#Error_Message"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  d.createElement(
                    "div",
                    null,
                    "We hit the follwoing error: Error Code (",
                    t.errorCode,
                    ")",
                    d.createElement("br", null),
                    "Error Message: ",
                    t.strErrorMsg,
                  ),
                ),
                window,
              );
          } finally {
            this.setState({ bSettingUp: !1 });
          }
        }
        render() {
          const { editModel: e } = this.props,
            t = Boolean(e.GetEmailSettings().locked),
            a = $.KN.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: Vi.ControlBarCtn },
            d.createElement(
              "a",
              { onClick: this.OnTestEmail, className: w().EditPreviewButton },
              this.state.bSettingUp && d.createElement(T.t, { size: "small" }),
              (0, R.we)("#EventEmail_Control_TestEmail"),
            ),
            t &&
              a.valve_admin &&
              d.createElement(
                "a",
                {
                  onClick: this.OnSetupAndFireEmailConfirm,
                  className: w().EditPreviewButton,
                },
                "(VO) Setup and Fire Email",
              ),
            t &&
              !a.valve_admin &&
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEmail_Ready_ValveRequiredToSend"),
              ),
            !t &&
              d.createElement(
                "a",
                {
                  onClick: this.OnPrepareEmail,
                  className: w().EditPreviewButton,
                },
                (0, R.we)("#EventEmail_Control_Prepare"),
              ),
          );
        }
      };
      (0, J.Cg)([O.oI], ur.prototype, "FireTestEmail", null),
        (0, J.Cg)([O.oI], ur.prototype, "OnTestEmail", null),
        (0, J.Cg)([O.oI], ur.prototype, "OnPrepareEmail", null),
        (0, J.Cg)([O.oI], ur.prototype, "OnSetupAndFireEmailConfirm", null),
        (0, J.Cg)([O.oI], ur.prototype, "OnSetupAndFireEmail", null),
        (ur = (0, J.Cg)([c.PA], ur));
      const _r = (0, c.PA)((e) => {
        const { editModel: t } = e;
        let a = new K.pC(t),
          n = ((e) => {
            var t;
            let a = Array(),
              n =
                null === (t = wt.A.Get().GetApp(e)) || void 0 === t
                  ? void 0
                  : t.GetName();
            return (
              X.j3.forEach((e) =>
                a.push(
                  d.createElement(
                    "option",
                    { key: e, value: e },
                    (0, R.we)("#" + e, n),
                  ),
                ),
              ),
              a
            );
          })(t.GetAppID()),
          l = t.GetCurEditLanguage();
        const o = t.GetAppID(),
          [i] = (0, Pn.t7)(o, { include_basic_info: !0 });
        if (!i)
          return d.createElement(T.t, {
            string: (0, R.we)("#Loading"),
            position: "center",
            size: "small",
          });
        let r = a.GetSectionObj(0),
          s = a.GetSectionObj(1),
          c = "#EventEmail_Reason_Played",
          m = !1,
          u = "#EventEmail_Footer_Reason_Played",
          _ = null == i ? void 0 : i.GetStorePageURL(),
          E = null == i ? void 0 : i.GetName();
        if (a.BIsTargetingGamePlayers());
        else if (a.BIsTargetingGameFollowers())
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
        else if (a.BIsTargetingGameWishlisters())
          (c = "#EventEmail_Reason_Wishlist"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Wishlisted");
        else if (a.BIsTargetingSomeCreator()) {
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
          let e = a.GetSomeCreatorTarget(),
            t = i.GetAllCreatorClanIDs().find((t) => t == e);
          if (t) {
            const e = p.b.InitFromClanID(t);
            let a = $t.pF.GetCreatorHome(e);
            if (a) {
              let e = "developer";
              i.GetAllDeveloperCreatorClans().includes(t) ||
                (e = i.GetAllPublisherCreatorClans().includes(t)
                  ? "publisher"
                  : "franchise"),
                (_ = a.GetCreatorHomeURL(e)),
                (E = a.GetName());
            }
          }
        }
        return d.createElement(
          "div",
          { className: Vi.EmailEditorContent },
          d.createElement(
            "div",
            { className: (0, L.A)(w().FlexRowContainer, Vi.EmailSubjectCtn) },
            d.createElement(
              "span",
              { className: Vi.EmailOptionTitle },
              (0, R.we)("#EventEmail_Subject"),
            ),
            d.createElement(
              "select",
              {
                className: Vi.EmailSubjectSelect,
                value: a.GetSubjectTextLoc(),
                onChange: (e) => {
                  X.j3.forEach((a) => {
                    if (a === e.target.value) {
                      new K.pC(t).SetSubjectTextLoc(a);
                    }
                  });
                },
              },
              n,
            ),
          ),
          d.createElement(
            "div",
            { className: Vi.RightAlign },
            d.createElement(
              "span",
              { className: Vi.EmailOptionTitle },
              (0, R.we)("#LanguageTitle"),
              ": ",
            ),
            d.createElement(wi.Ng, {
              selectedLang: l,
              fnLangHasData: a.BHasSomeLanguage,
              fnOnLanguageChanged: (t) => {
                e.editModel.SetCurEditLanguage(t);
              },
            }),
          ),
          d.createElement(
            "div",
            { className: Vi.EmailTemplate },
            d.createElement(
              "div",
              { className: (0, L.A)(Vi.EmailIconHeader, Vi.CenterAlign) },
              d.createElement("img", {
                src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABo1JREFUeNrsWg1MVlUY/iDTElOcI9ZgZBorV8ywVFYGc05mZQbmMgoNk37NQq3IJZWoLf+l9eMqSQ1lpm4aWgStpauZYbl+wK3EssjKflYmtAyi59Hnbme3e7/v3o9PVtt9t2fnfPe+55x7z3Pe97znvV9cZ2dnKJD/pvTwqji5oLAPiuuAscBwYBDQR7dbgWZgP1APbN9UXXU8mN6uSVwkywEpyShKgTsMMiJJG1AJLAZJLcE0x5gckBKH4i5gCXBOlP3TesqACpAU+M9YkANieqN4GbgpRuPsYLcgqC2Y8i6QI2I4maNjPNYHwJhgL4qSHLmyzcCNUfTVAewGPtHvoUA2EG/o1DKoAEF/B1PvP1q7P0pidjFgwKR/YbPCdBQviSTKOOAR4Mlg6n1YDiYyBQUn92yffbwJXC/L4R6Va1ynFZ4B7FQITvkTyLATGci/xXQ5ZVEQw/NNkeo1wBxgr8D6awDZv026lF7AY8HUe7QcWE1/1I8AZ/lsvxYWMA3t6Q4n0jrw+y9ZIl1mHbAN157G73WoTzX2p1Rc/97D4XegiL4SSAR+VHCxBu0/ls5CFJdG6KoG+muk/wKKc130jkLvTofn4KKqAs4EGqCzyOV556IYCRyEzoMuOv0UDcfrPWpwrQD1nnw//H7dtJyJURBjRWBW+6UWMRTU23kNyNOlvUY7urrJHoi5GAUJuA8YpqwEX3wm8D7uD5DqKOCGCMgwus4No5fr8jh03ZOkU4axE130RkpnDnQud9HhgT5feoOhd772/1vNM6UVEIyNgpgTis5Ccoe/O+jwWm/V2233OGZFhDEYPPRV25kiipZUCHyGBfCz9J6hhapOEm5XfQHwi+r7Hfpnqmmjw8HZSYqMei9N5LMRnr/UflYEEbS8B2x6fI8kvcdgOznDoyDncUxOo+rvArcYZFlSaFy7yHbvCg9jDFTZjLFWq74HqMZLxhtWusV4+TyDnErc+ypM/024v9aDBZ+nSNN6V1rqdA/kTELbCzHGQeMayUo1lXj2g95WVGlp6+3kJPsk5j25LEsWA/swwAqU1iTSb19D4uWv7dmGZFxPwIO1hhnncyCHxEJ3h1ZWPdp0xOis1Fd7miktcsmmTJErJtGz5c4z0XYYdD8Kt6cDDykNZonjPoR+DqM47BSt8QEfBg55zJdN5QQZHR9FkSUX9JZAn5yle/Ptq0WSGGGsJ0Knst0UZsTfYOCCSVkQxuf7kWnAlzakhnFpm/A+DTpyhAwLdZK3Ae7BRbI8WuAYFJcBJPQ3T6E0BvwJoCWka7UzBHZbmSXQPeTA/BGgGEgTihl54IHmy/f6FvapTMMs4FNdZpQ1D/jQCAhOm2CMESiGWI+kstpy27jvFkh9A2xQBFaia7NVPuU7QyBXwRRLLQZNk2sqFlF8oANWOBrmZZK0h2XqfJMeRv1XDwTR7a0i0Pcl2uTzFbkxNF/ZhblntrzEg3VZZ7ocPEOOYfH9lFHZ4NJ2qebgbrTjgr9WVsf95UU/h1D7pHwNcIWmaSJITgYGmcG9woWY8SgalRFYGIGYHyLsN+wvQecl65kabZFO0mm2GlpFgX4maCGsVJrLkulh5rBJh3O6++26vMTrftnDw8o9oSo3/DbtTVwJV+HeMb0EQ+nlwD0+3n2fBx1OwgytuiaFsAXG/YYuzj83dbvlHMN7VaqeJ+s4OanAH4beUN0fjT4GObl6w4VNAAbooL/eV+JT4SeTk8+Hy3lpJXCD2yg/Wo56psx6iM+JqfegczOQ4kJ6nbEao5VsIylrCSOmSlsgwDNVqc2qUnWIjFNgMM9lzvZAd7fGWWEsds+Ws0tuaxY6YqT1nNId7S7tuC/lQzdLbXv6nJQOY3MNJ+N0VuK3pQsUznKFblHqyMk9fGeQ5vZxry5c+sbwBq3qa6vDpLdAp0LP1d+4ZWVCzBCbi2uEntuSnXKVzV6y0qtt8fi3iu/fsX9ihu5y5ZgOiEi/UoU+pwSpTe97ziKRYaVbUpQ+4QphFvkVnQPGKwLhSlgXxZj8ZFAeTH1kMVMgjMsftd3PVfi3TMm6zSLlauWWRkUxZnnwLce/5YSUiMzWOcKSVUoq8nzTIh+7TKT5lVqvB7BAgj94/D/cmuHe2rSvvBrDcU6SHRDTRXIMgnjGuDfk/J3GqxxXXmxC8J+1GLg1hxQGPyfM1UHL6z8/g7/jdgc5Zp4rdOpTrflHdivHZv6RnYfYbYEL60ZyAul++UeAAQDyv2dSS4HffQAAAABJRU5ErkJggg==",
              }),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  Vi.EmailBackground,
                  Vi.EmailReasonHeader,
                  Vi.EmailTextCtn,
                ),
              },
              d.createElement(
                "div",
                { className: Vi.Hello },
                (0, R.we)(
                  "#EventEmail_Hello",
                  (0, R.we)("#EventEmail_UserName"),
                ),
              ),
              d.createElement("div", { className: Vi.Reason }, (0, R.we)(c, E)),
              !m &&
                d.createElement("a", { className: Vi.GameLink, href: _ }, E),
            ),
            d.createElement(Qi, {
              lang: l,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: r,
              additionalClassName: Vi.HeaderSection,
            }),
            d.createElement(Qi, {
              lang: l,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: s,
              additionalClassName: Vi.HeaderSection,
            }),
            d.createElement("hr", null),
            d.createElement(
              "div",
              { className: Vi.Footer },
              d.createElement("div", null, (0, R.we)(u)),
              d.createElement(
                "span",
                null,
                (0, R.we)("#EventEmail_Footer_Game", E),
              ),
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEmail_Footer_OptOut_Desc_Game"),
              ),
              d.createElement(
                "span",
                null,
                d.createElement(
                  "a",
                  { href: "#" },
                  (0, R.we)("#EventEmail_Footer_OptOut_Target", E),
                ),
                " " + (0, R.we)("#EventEmail_Footer_OptOut_Or") + " ",
                d.createElement(
                  "a",
                  { href: "#" },
                  (0, R.we)("#EventEmail_Footer_Optout_All"),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: (0, L.A)(Vi.FooterLegal, w().FlexRowContainer) },
              d.createElement("img", { src: er }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  null,
                  (0, R.we)("#EventEmail_Footer_LegalWithAddress_Line1"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, R.we)("#EventEmail_Footer_LegalWithAddress_Line2"),
                ),
              ),
            ),
          ),
        );
      });
      let Er = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = {});
        }
        GetEmailEditModel() {
          return new K.pC(this.props.editModel);
        }
        async componentDidMount() {
          let e = await v.ac.LoadClanInfoForClanSteamID(
            this.props.editModel.GetClanSteamID(),
          );
          this.setState({ clanInfo: e });
        }
        OnControlGroupSpinnerChange(e) {
          let t = Number.parseInt(e.target.value);
          this.GetEmailEditModel().SetControlGroupPercent(t);
        }
        render() {
          const { editModel: e } = this.props;
          if (
            !$.KN.Get().GetPartnerEventPermissions(e.GetClanSteamID())
              .support_user
          )
            return null;
          if (!Boolean(this.state.clanInfo))
            return d.createElement(T.t, {
              string: (0, R.we)("#Loading"),
              size: "medium",
            });
          const t = this.GetEmailEditModel();
          return d.createElement(
            "div",
            { className: (0, L.A)(w().ValveOnlyBackground, Vi.RecipientCtn) },
            d.createElement(
              "div",
              { className: (0, L.A)(w().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEmail_Filter"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEmail_Filter_Desc"),
              ),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(h.RF, {
                  onChange: (e) => this.GetEmailEditModel().SetFilterIRTopN(e),
                  label: (0, R.we)("#EventEmail_Filter_IR"),
                  checked: t.BIsIRTopNFiltering(),
                }),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(h.RF, {
                  onChange: (e) =>
                    this.GetEmailEditModel().SetFilterWishlist(e),
                  label: (0, R.we)("#EventEmail_Filter_Wishlist"),
                  checked: t.BIsWishListFiltering(),
                }),
              d.createElement(h.pd, {
                type: "number",
                min: "0",
                max: "99",
                label: (0, R.we)("#EventEmail_Filter_ControlGroup"),
                value: t.GetControlGroupPercent(),
                onChange: this.OnControlGroupSpinnerChange,
              }),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], Er.prototype, "OnControlGroupSpinnerChange", null),
        (Er = (0, J.Cg)([c.PA], Er));
      let pr = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bLoadingCreator: !0 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        async LoadCreatorHome() {
          this.state.bLoadingCreator || this.setState({ bLoadingCreator: !0 });
          const { editModel: e } = this.props;
          wt.A.Get().QueueAppRequest(e.GetAppID(), { include_basic_info: !0 });
          let t = new Array();
          (
            await $t.pF.LoadCreatorHomeListForAppIncludeHiddden(
              e.GetAppID(),
              this.m_cancelSignal,
            )
          ).forEach((e) => {
            let a = p.b.InitFromClanID(e.clan_account_id);
            t.push($t.pF.LoadCreatorHome(a, !1, this.m_cancelSignal));
          }),
            Promise.all(t).then((e) => {
              this.m_cancelSignal.token.reason ||
                this.setState({ bLoadingCreator: !1 });
            });
        }
        componentDidMount() {
          this.LoadCreatorHome();
        }
        componentDidUpdate(e) {
          e.editModel.GetAppID() != this.props.editModel.GetAppID() &&
            this.LoadCreatorHome();
        }
        GetEmailEditModel() {
          return new K.pC(this.props.editModel);
        }
        BuildCreatorHomeToggle(e) {
          let t = new Array(),
            a = new Array();
          if (this.state.bLoadingCreator)
            t.push(
              d.createElement(T.t, { key: "EmailRecipientControls_creator" }),
            );
          else {
            const { editModel: n } = this.props;
            let l = new K.pC(n);
            $t.pF
              .GetCreatorHomeListForAppIncludeHidden(n.GetAppID())
              .forEach((n) => {
                let o = $t.pF.GetCreatorHomeByID(n);
                if (
                  o &&
                  !a.some((e) => e.clan_account_id === o.GetClanAccountID())
                ) {
                  let i = d.createElement(
                      "a",
                      {
                        target: P.TS.IN_CLIENT ? void 0 : "_blank",
                        href: o.GetCreatorHomeURL(n.type),
                      },
                      o.BIsHidden()
                        ? (0, R.we)("#EventEmail_CreatorHidden") + " "
                        : "",
                      o.GetName(),
                    ),
                    r = d.createElement(vr, {
                      audience: o.GetNumFollowers(),
                      label: (0, R.PP)(
                        "#EventEmail_Recipients_follower_creator",
                        i,
                      ),
                    });
                  t.push(
                    d.createElement(h.RF, {
                      key: "RecipientToggle_" + n.clan_account_id,
                      onChange: (e) =>
                        this.GetEmailEditModel().SetTargetingCreator(
                          e,
                          n.clan_account_id,
                        ),
                      label: r,
                      checked: l.BIsTargetingCreator(o.GetClanAccountID()),
                    }),
                  ),
                    e.support_user &&
                      ((r = d.createElement(vr, {
                        valveOnly: !0,
                        label: (0, R.PP)(
                          "#EventEmail_Recipients_player_creator",
                          i,
                        ),
                      })),
                      t.push(
                        d.createElement(
                          "span",
                          {
                            key: "RecipientToggle_player_" + n.clan_account_id,
                            className: (0, L.A)(w().ValveOnlyBackground),
                          },
                          d.createElement(h.RF, {
                            onChange: (e) =>
                              this.GetEmailEditModel().SetTargetingCreatorPlayer(
                                e,
                                n.clan_account_id,
                              ),
                            label: r,
                            checked: l.BIsTargetingCreatorPlayer(
                              o.GetClanAccountID(),
                            ),
                          }),
                        ),
                      ),
                      a.push(n));
                }
              }),
              0 == t.length &&
                t.push(
                  d.createElement(
                    "div",
                    { key: "creatorhome_plug" },
                    (0, R.PP)(
                      "#EventEmail_Recipients_NoCreatorHome",
                      d.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/store/creator_homepage",
                        },
                        "https://partner.steamgames.com/doc/store/creator_homepage",
                      ),
                    ),
                  ),
                );
          }
          return t;
        }
        render() {
          const { editModel: e } = this.props;
          let t = new K.pC(e);
          const a = $.KN.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: Vi.RecipientCtn },
            d.createElement(
              "div",
              { className: (0, L.A)(w().EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEmail_Recipients"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                null,
                (0, R.we)("#EventEmail_Recipients_desc"),
              ),
              d.createElement(h.RF, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingExistingPlayer(e),
                label: (0, R.we)("#EventEmail_Recipients_players"),
                checked: t.BIsTargetingGamePlayers(),
              }),
              d.createElement(h.RF, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameWishlist(e),
                label: (0, R.we)("#EventEmail_Recipients_wishlist"),
                checked: t.BIsTargetingGameWishlisters(),
              }),
              d.createElement(h.RF, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameFollower(e),
                label: d.createElement(vr, {
                  label: (0, R.we)("#EventEmail_Recipients_follower"),
                  audience: v.ac.GetClanMemberCount(e.GetAppID()),
                }),
                checked: t.BIsTargetingGameFollowers(),
              }),
              d.createElement(h.RF, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetExcludeGameOwners(e),
                label: d.createElement(vr, {
                  label: (0, R.we)("#EventEmail_Recipients_exclude_owners"),
                }),
                checked: t.BIsExcludingGameOwners(),
              }),
              d.createElement(h.RF, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetOwnersWithNoPlaytime(e),
                label: d.createElement(vr, {
                  label: (0, R.we)("#EventEmail_Recipients_no_playtime"),
                }),
                checked: t.BIsTargetingGameOwnersWithoutPlaytime(),
              }),
              this.BuildCreatorHomeToggle(a),
            ),
          );
        }
      };
      pr = (0, J.Cg)([c.PA], pr);
      class vr extends d.Component {
        render() {
          const { valveOnly: e, label: t } = this.props;
          return d.createElement(
            "div",
            { className: Vi.TargetAndAudience },
            d.createElement(
              "span",
              null,
              e && d.createElement("span", null, "(VO) "),
              t,
            ),
            d.createElement(
              "span",
              null,
              void 0 !== this.props.audience && (0, Lt.D)(this.props.audience),
            ),
          );
        }
      }
      let gr = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              state: this.props.editModel.BIsDirty() ? "unsaved" : "loading",
            });
        }
        componentDidMount() {
          const { editModel: e } = this.props;
          if ("loading" == this.state.state) {
            let t = (0, sr.Lk)(e),
              a = (0, sr.Z6)(e);
            this.setState({
              error: t,
              warning: a,
              state:
                t.length > 0
                  ? "error"
                  : a.length > 0
                    ? "readywithwarning"
                    : "ready",
            });
          }
        }
        OnLockEmail() {
          const { editModel: e } = this.props;
          new K.pC(e).LockEmail(),
            this.setState({ state: "saving" }, () => {
              l.mh.SaveModel(e.GetClanSteamID()).then((e) => {
                this.setState({ state: "done" });
              });
            });
        }
        render() {
          switch (this.state.state) {
            case "loading":
              return d.createElement(
                y.o0,
                {
                  strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(T.t, null),
              );
            case "ready":
              return d.createElement(y.o0, {
                strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                strDescription: (0, R.we)("#EventEmail_Preparation_Desc"),
                onOK: this.OnLockEmail,
                onCancel: this.props.closeModal,
              });
            case "readywithwarning":
              return d.createElement(
                y.o0,
                {
                  strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                  strDescription: (0, R.we)("#EventEmail_Preparation_Desc"),
                  onOK: this.OnLockEmail,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#EventEmail_Preparation_DescWarning"),
                  ),
                  d.createElement("ol", null, this.state.warning),
                ),
              );
            case "unsaved":
              return d.createElement(y.KG, {
                strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                strDescription: (0, R.we)("#EventEmail_Preparation_Unsaved"),
                closeModal: this.props.closeModal,
              });
            case "saving":
              return d.createElement(
                y.o0,
                {
                  strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                  strDescription: (0, R.we)(
                    "#EventEmail_Preparation_InProcess",
                  ),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                },
                d.createElement(T.t, null),
              );
            case "done":
              return d.createElement(y.o0, {
                strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                strDescription: (0, R.we)("#EventEmail_Preparation_Done"),
                onOK: this.props.closeModal,
                onCancel: this.props.closeModal,
              });
            default:
              return d.createElement(
                y.KG,
                {
                  strTitle: (0, R.we)("#EventEmail_Preparation_Title"),
                  strDescription: (0, R.we)("#EventEmail_Preparation_Error"),
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement("ol", null, this.state.error),
                  Boolean(this.state.warning.length > 0) &&
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "p",
                        null,
                        (0, R.we)("#EventEmail_Preparation_DescWarning"),
                      ),
                      d.createElement("ol", null, this.state.warning),
                    ),
                ),
              );
          }
        }
      };
      (0, J.Cg)([O.oI], gr.prototype, "OnLockEmail", null),
        (gr = (0, J.Cg)([c.PA], gr));
      let hr = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { rtimeLastRefresh: 0, bRefreshing: !1 });
        }
        RefreshIfNeeded() {
          let e = Math.floor(Date.now() / 1e3);
          const { editModel: t } = this.props;
          !this.state.err_msg &&
            t.GetEventModel().jsondata.email_setting.force_feature_id &&
            this.state.rtimeLastRefresh + 300 < e &&
            !this.state.bRefreshing &&
            this.setState({ bRefreshing: !0 }, this.RefreshStats);
        }
        async RefreshStats() {
          const { editModel: e } = this.props;
          let t =
              P.TS.COMMUNITY_BASE_URL + "eventemail/ajaxgetpartneremailstats",
            a = {
              clanid: e.GetClanSteamID().GetAccountID(),
              gidevent: e.GetGID(),
              sessionid: P.TS.SESSIONID,
            };
          try {
            let e = await s().get(t, { params: a, withCredentials: !0 });
            this.setState({ stats: e.data.result, bRefreshing: !1 });
          } catch (e) {
            this.setState({
              bRefreshing: !1,
              err_msg: (0, M.H)(e).strErrorMsg,
            });
          }
        }
        componentDidMount() {
          this.RefreshIfNeeded(),
            (this.autoRefreshInterval = window.setInterval(
              this.RefreshIfNeeded,
              3e5,
            ));
        }
        componentDidUpdate(e) {
          this.props.editModel.GetGID() != e.editModel.GetGID() &&
            this.setState({ rtimeLastRefresh: 0 }, this.RefreshIfNeeded);
        }
        componentWillUnmount() {
          this.autoRefreshInterval &&
            (window.clearInterval(this.autoRefreshInterval),
            (this.autoRefreshInterval = void 0));
        }
        render() {
          var e, t, a, n, l, o, i, r, s, c;
          const { editModel: m } = this.props;
          if (!m.GetEventModel().jsondata.email_setting.force_feature_id)
            return d.createElement("div", null);
          if (this.state.err_msg)
            return d.createElement(
              "div",
              { className: pl.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEmail_Stats_Title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().FlexColumnContainer,
                    w().EventDefaultRowContainer,
                  ),
                },
                d.createElement(
                  "span",
                  { className: cr.ErrorMessaage },
                  this.state.err_msg,
                ),
              ),
            );
          if (!this.state.stats)
            return d.createElement(
              "div",
              { className: pl.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEmail_Stats_Title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().FlexColumnContainer,
                    w().EventDefaultRowContainer,
                  ),
                },
                d.createElement(T.t, null),
              ),
            );
          const u = this.state.stats;
          return d.createElement(
            "div",
            { className: pl.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEmail_Stats_Title"),
              this.state.bRefreshing && d.createElement(T.t, { size: "small" }),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: w().EventEditorTextSubTitle },
                (0, R.we)(
                  "#EventEmail_Stats_State",
                  (0, R.we)("#EventEmail_Stats_State_" + u.state),
                ),
              ),
              "sending" == u.state &&
                d.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#EventEmail_Stats_Started",
                    (0, R.TW)(u.rtime_start_firing),
                  ),
                ),
              ("complete" == u.state || "aborted" == u.state) &&
                d.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#EventEmail_Stats_Completed",
                    (0, R.TW)(u.rtime_start_firing),
                    (0, R.TW)(u.rtime_stop_firing),
                  ),
                ),
              "queued" != u.state &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#EventEmail_Stats_Examined",
                      null !==
                        (t =
                          null === (e = u.accounts_examined) || void 0 === e
                            ? void 0
                            : e.toLocaleString((0, Gt.J)())) && void 0 !== t
                        ? t
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#EventEmail_Stats_Duplicates",
                      null !==
                        (n =
                          null === (a = u.accounts_duplicates) || void 0 === a
                            ? void 0
                            : a.toLocaleString((0, Gt.J)())) && void 0 !== n
                        ? n
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#EventEmail_Stats_Emailed",
                      null !==
                        (o =
                          null === (l = u.accounts_emailed) || void 0 === l
                            ? void 0
                            : l.toLocaleString((0, Gt.J)())) && void 0 !== o
                        ? o
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#EventEmail_Stats_Skipped",
                      null !==
                        (r =
                          null === (i = u.accounts_not_emailed) || void 0 === i
                            ? void 0
                            : i.toLocaleString((0, Gt.J)())) && void 0 !== r
                        ? r
                        : 0,
                    ),
                  ),
                  d.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#EventEmail_Stats_Failed",
                      null !==
                        (c =
                          null === (s = u.accounts_email_failed) || void 0 === s
                            ? void 0
                            : s.toLocaleString((0, Gt.J)())) && void 0 !== c
                        ? c
                        : 0,
                    ),
                  ),
                ),
              d.createElement(
                "div",
                null,
                (0, R.we)(
                  "#EventEmail_Stats_Last_Refresh_Time",
                  (0, R.Hq)(this.state.rtimeLastRefresh),
                ),
              ),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], hr.prototype, "RefreshIfNeeded", null),
        (0, J.Cg)([O.oI], hr.prototype, "RefreshStats", null),
        (hr = (0, J.Cg)([c.PA], hr));
      var Sr = a(85345),
        br = a(13899),
        wr = a(4969),
        Cr = a.n(wr);
      const fr = (0, c.PA)((e) => {
        const { editModel: t } = e;
        let a = (0, U.JS)(t.GetEventType());
        const n = $.KN.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
          l = t.BHasTag("curator");
        return d.createElement(
          "div",
          { className: w().Columns },
          d.createElement(
            "div",
            { className: (0, L.A)(w().LeftCol) },
            d.createElement(Gr, { editModel: t }),
            d.createElement(br.u, { bHideEndRange: !a, editModel: t }),
            Boolean(t.BHasTag("steam_award_nomination_request")) &&
              d.createElement(Sr.ks, null),
            d.createElement(Ir, { editModel: t }),
            (!l || n.valve_admin) && d.createElement(yr, { editModel: t }),
            d.createElement("div", { className: w().ClearThings }),
          ),
          d.createElement(
            "div",
            { className: (0, L.A)(vl().OptionsNotes, w().RightCol) },
            d.createElement(
              "span",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEditor_Time_Zone"),
            ),
            (0, R.we)("#EventEditor_Time_ttip"),
          ),
        );
      });
      function yr(e) {
        const { editModel: t } = e;
        let a = d.useRef(void 0);
        const n = d.useCallback(
          (e) => {
            t.GetAppID() == u.DU && t.BHasTag("hide_library_overview") && e
              ? (0, D.pg)(
                  d.createElement(y.o0, {
                    strTitle: (0, R.we)("#EventEditor_GenericAreYouSure"),
                    strDescription:
                      "Showing on the library home page will pin this event into the first spot in the 'Whats New' section for ALL Steam Library. Are you sure this is an Steam update that applies to all Steam Library users? Be thoughtful.",
                    onOK: () => t.ClearTags(["hide_library_overview"]),
                    onCancel: () => {
                      var e;
                      return null === (e = null == a ? void 0 : a.current) ||
                        void 0 === e
                        ? void 0
                        : e.setState({ checked: !a.current.checked });
                    },
                  }),
                  window,
                )
              : t.SetTag("hide_library_overview", !e);
          },
          [t],
        );
        let [l, o, i, r, s, c, m, _, E] = (0, Xt.q3)(() => [
          t.BIsAllowedOnLibraryOverview(),
          t.BIsAllowedOnLibraryDetail(),
          t.BIsAllowedOnStore(),
          t.GetCategoryAsString(),
          !t.GetEventModel().BHasTag("hide_library_detail"),
          !t.GetEventModel().BHasTag("hide_library_overview"),
          t.GetEventModel().BShowLibrarySpotlight(),
          !t.GetEventModel().BHasTag("hide_store"),
          t.GetEventModel().BHasTag("workshop"),
        ]);
        return d.createElement(
          "div",
          { className: vl().EventEditorInputPaneContents },
          d.createElement(
            "div",
            { className: w().LeftCol },
            d.createElement(
              "div",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEditor_Options_Title"),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: w().EventEditorTextSubTitle },
                (0, R.PP)(
                  "#EventEditor_Options_Show_Warning",
                  d.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/6862-8119-C23E-EA7B",
                      target: P.TS.IN_CLIENT ? void 0 : "_blank",
                    },
                    (0, R.we)("#EventEditor_Options_Show_WarningLink"),
                  ),
                ),
              ),
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("hide_store", !e),
                label: (0, R.we)("#EventEditor_Options_Show_Store"),
                checked: !!i && _,
                description: i
                  ? void 0
                  : (0, R.we)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !i,
              }),
              d.createElement(h.RF, {
                onChange: n,
                label: (0, R.we)("#EventEditor_Options_Show_Library_Overview"),
                checked: !!l && c,
                description: l
                  ? (0, R.we)("#EventEditor_Options_Show_Library_Overview_Desc")
                  : (0, R.we)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !l,
                ref: a,
              }),
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("hide_library_detail", !e),
                label: (0, R.we)("#EventEditor_Options_Show_Library_Detail"),
                checked: !!o && s,
                description: o
                  ? void 0
                  : (0, R.we)("#EventEditor_Options_WontDisplayHere", r),
                disabled: !o,
              }),
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEditor_Options_Special_Desc"),
              ),
              d.createElement(h.RF, {
                onChange: (e) => {
                  t.SetLibrarySpotlight(e);
                },
                label: (0, R.we)(
                  "#EventEditor_Options_Library_Spotlight_Label",
                ),
                checked: m,
                description: (0, R.we)(
                  "#EventEditor_Options_Library_Spotlight_Desc",
                ),
                disabled: !s || !o,
              }),
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEditor_Options_Desc"),
              ),
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("workshop", e),
                label: (0, R.we)("#EventEditor_Options_Workshop_Label"),
                checked: E,
                description: (0, R.we)("#EventEditor_Options_Workshop_Desc"),
              }),
              Boolean(!1) && d.createElement(Dr, { editModel: t }),
              d.createElement(Lr, { editModel: t }),
              d.createElement(Br, { editModel: t }),
            ),
            d.createElement(Tr, { editModel: t }),
          ),
        );
      }
      function Dr(e) {
        const { editModel: t } = e,
          a = (function (e) {
            const t = (0, ln.I)({
              queryKey: ["demoappdetailsforbase", e],
              queryFn: async () => {
                var t;
                const a = `${on.TS.COMMUNITY_BASE_URL}demos/ajaxgetappdemoinfo`,
                  n = { appid: e, origin: self.origin },
                  l = await s().get(a, { params: n });
                return (
                  (null === (t = null == l ? void 0 : l.data) || void 0 === t
                    ? void 0
                    : t.demos) || []
                );
              },
              enabled: !!e,
            });
            return (null == t ? void 0 : t.isLoading) ? null : t.data;
          })(t.GetAppID()),
          [n, l] = (0, Xt.q3)(() => [
            t.GetEventModel().BHasTag("show_library_demo_detail"),
            t.GetGID(),
          ]);
        if (null == a)
          return d.createElement(T.t, {
            string: (0, R.we)("#EventEditor_Options_LoadingDemoInfo"),
            position: "center",
            size: "small",
          });
        const o = a.filter((e) => e.is_released_somewhere && e.appid > 0);
        let i = !1,
          r = null;
        return (
          o.length > 0
            ? l ||
              ((i = !0),
              (r = (0, R.we)("#EventEditor_Options_SaveFirstToRepostDemo")))
            : ((i = !0),
              (r = (0, R.we)("#EventEditor_Options_VisibleDemoTooltip"))),
          d.createElement(h.RF, {
            onChange: (e) => {
              t.SetDemoAppIDForRepost(o[0].appid),
                t.SetTag("repost_source_possible", !0),
                e
                  ? (t.SetTag("show_library_demo_detail", !0),
                    t.SetTag("clear_library_demo_detail", !1))
                  : (t.SetTag("show_library_demo_detail", !1),
                    t.BHasOriginalTag("show_library_demo_detail") &&
                      t.SetTag("clear_library_demo_detail", !0));
            },
            tooltip: i
              ? r
              : (0, R.we)("#EventEditor_Options_DemoRepostTooltop"),
            label: (0, R.we)("#EventEditor_Options_Demo_Library_Detail"),
            checked: n,
            description: (0, R.we)("#EventEditor_Options_Demo_Library_Desc"),
            disabled: i,
          })
        );
      }
      const Tr = (0, c.PA)((e) => {
        const { editModel: t } = e,
          a = $.KN.Get().GetPartnerEventPermissions(t.GetClanSteamID());
        let n = d.useRef(void 0);
        const l = t.BHasSaleEnabled(),
          o = t.GetEventType();
        if (!a.valve_admin) return null;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#EventEditor_Options_Moderation"),
          ),
          d.createElement(
            "div",
            {
              className: (0, L.A)(
                w().FlexColumnContainer,
                w().EventDefaultRowContainer,
                w().ValveOnlyBackground,
              ),
            },
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("mod_hide_library_overview", e),
              label: (0, R.we)("#EventEditor_Options_Hide_Library_Overview"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_overview"),
            }),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("mod_hide_library_detail", e),
              label: (0, R.we)("#EventEditor_Options_Hide_Library_Detail"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_detail"),
            }),
            d.createElement(h.RF, {
              onChange: (e) => {
                t.BHasSaleEnabled() && e && !t.BHasTag("mod_hide_store")
                  ? (0, D.pg)(
                      d.createElement(y.o0, {
                        strTitle: (0, R.we)("#EventEditor_Options_Hide_Store"),
                        strDescription:
                          "There is an active sale on this event. Setting this flag will HIDE the sale page completely. Are you sure?",
                        onOK: () => t.AddTag("mod_hide_store"),
                        onCancel: () => n.current.SetChecked(!1, !1),
                      }),
                      window,
                    )
                  : t.SetTag("mod_hide_store", e);
              },
              ref: n,
              label: (0, R.we)("#EventEditor_Options_Hide_Store"),
              checked: t.GetEventModel().BHasTag("mod_hide_store"),
            }),
            Boolean(P.UF.IS_OGG) &&
              d.createElement(h.RF, {
                onChange: (e) => t.SetSteamStoreSpotlight(e),
                label: "(VO) Allow Spotlight on Steam Store Product Page",
                checked: t.BAllowedSteamStoreSpotlight(),
                description:
                  "Allows the partner to upload a store spotlight artwork to be shown on the product page for upto a week from the event start.",
              }),
            Boolean(!P.UF.IS_OGG && l) &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("hide_from_events_and_discount", e),
                  label: "(VO) Hide Sale From Events and Discount Page",
                  checked: t
                    .GetEventModel()
                    .BHasTag("hide_from_events_and_discount"),
                  description:
                    "By default we show sale pages on the events and discount store hub. Turning this on, we will not show this sale page there.",
                }),
              ),
            d.createElement(h.RF, {
              onChange: (e) => t.SetLibraryHomeSpotlight(e),
              label: "(VO) Force Spotlight on Library Home",
              checked: t.BHasLibaryHomeSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork in the 'Whats New' section at the top of the library home for all owners.",
            }),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("blog", e),
              label: "(VO) Mark as Blog for Valve Game Teams",
              checked: t.GetEventModel().BHasTag("blog"),
              description:
                "Add the 'blog' tag to this post. Allowing game team website to filter news posts intended for their blog.",
            }),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("adult_only_content", e),
              label: "(VO) Event Contains Adult Only Content",
              checked: t.GetEventModel().BHasTag("adult_only_content"),
              description:
                "Set this to on if the post contains adult only content so that it can be filtered accordingly.",
            }),
            t.GetAppID() == u.DU &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("steam_blog", e),
                  label: "(VO) Steam Official Blog",
                  checked: t.GetEventModel().BHasTag("steam_blog"),
                  description:
                    "When checked this event will surface on https://store.steampowered.com/news/app/593110. Make sure to set this before you publish, or it will have no effect.",
                }),
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("skip_megaphone", e),
                  label: "(VO) Skip Lighting Up Steam Client Megaphone",
                  checked: t.GetEventModel().BHasTag("skip_megaphone"),
                  description:
                    "By default small event (patch notes) do not light up the megaphone in the Steam client. Enabling this flag does the same for all other event type.",
                }),
              ),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("forced_featured", e),
              label: "(VO) Force Feature this event in the NewsHub",
              checked: t.GetEventModel().BHasTag("forced_featured"),
              description:
                "Add the 'forced_featured' tag to this post. This will prioritize the event appearing in algorithmic featured newshub section.",
            }),
            Boolean(t.GetEventModel().BIsOGGEvent()) &&
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("seasonal_sale_featuring", e),
                label: "(VO) Feature this event during the Seasonal Sale",
                checked: t.GetEventModel().BHasTag("seasonal_sale_featuring"),
                description:
                  "Add the 'seasonal_sale_featuring' tag to this post. This will push the event to appear on the front page during a seasonal sale. This assume the content is specific to in-game items on sale for the underlying game",
              }),
            Boolean(t.GetClanAccountID() == u.bv) &&
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("contenthub", e),
                checked: t.GetEventModel().BHasTag("contenthub"),
                label: "(VO) Tag as Content Hub",
                description:
                  "Add the 'contenthub' tag to this event. Removes certain publishing restrictions for this event.",
              }),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("patchnotes", e),
              checked: t.GetEventModel().BHasTag("patchnotes"),
              label: "(VO) Tag as Patch Notes",
              description:
                "Add the 'patchnotes' tag to this event. Allows the event to show in certain contexts normally only showing Small Update/Patch Notes events such as Steam Client patch notes.",
            }),
            Boolean(P.UF.IS_OGG) &&
              d.createElement(h.RF, {
                onChange: (e) => {
                  e && (t.setEventType(14), t.SetSteamStoreSpotlight(e)),
                    t.SetTag("vo_marketing_message", e);
                },
                label: "(VO) Marketing Message Major Update",
                disabled:
                  !t.GetEventModel().BHasTag("vo_marketing_message") && 14 != o,
                checked: t.GetEventModel().BHasTag("vo_marketing_message"),
                description:
                  "This will surface on the event editor the rules and requirements behind being featured in a marketing message to better align them with customer information." +
                  (14 != o
                    ? " This can only be enable for Major Update Type."
                    : ""),
              }),
            d.createElement(h.RF, {
              onChange: (e) => t.SetTag("vo_prevent_delete", e),
              label: "(VO) Prevent this event from being deleted.",
              checked: t.GetEventModel().BHasTag("vo_prevent_delete"),
              description:
                "To prevent a partner or Valve from deleting this event because something is featuring it or depends on it.",
            }),
            Boolean(
              t.GetClanAccountID() == u.GU ||
                ((2 == P.TS.EUNIVERSE || 4 == P.TS.EUNIVERSE) &&
                  t.GetClanAccountID() == u.mW),
            ) &&
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("steam_top_releases", e),
                label: "(VO) Is Monthly Top Sellers?",
                checked: t.GetEventModel().BHasTag("steam_top_releases"),
                description:
                  "Add the 'steam_top_releases' tag to this post. This allows the Steam Top Release Charts to pull the official top releases events into those pages.",
              }),
            Boolean(
              t.GetClanAccountID() == u.GU ||
                ((2 == P.TS.EUNIVERSE || 4 == P.TS.EUNIVERSE) &&
                  t.GetClanAccountID() == u.mW),
            ) &&
              d.createElement(h.RF, {
                onChange: (e) => t.SetTag("steam_best_of_year", e),
                label: "(VO) Is Best of Year?",
                checked: t.GetEventModel().BHasTag("steam_best_of_year"),
                description:
                  "Add the 'steam_best_of_year' tag to this post. This allows the Steam Best of Year to pull the official best of year events into those pages.",
              }),
            Boolean(t.GetAppID() == u.qF) &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "p",
                  null,
                  "Channels where we want to surface these events to. See for details: https://confluence.valve.org/pages/viewpage.action?pageId=214073964",
                ),
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("stablechannel", e),
                  label: "(VO) Steam Deck Stable Channel",
                  checked: t.GetEventModel().BHasTag("stablechannel"),
                  description:
                    "Surface this to user who are subscribed to Steam Deck Stable Build. Only include Stable Steam Deck Client or Stable SteamOS notes.",
                }),
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("betachannel", e),
                  label: "(VO) Steam Deck Beta Channel",
                  checked: t.GetEventModel().BHasTag("betachannel"),
                  description:
                    "Surface this to user who are subscribed to Steam Deck Beta Build. Only include Beta Steam Deck Client or Stable SteamOS notes.",
                }),
                d.createElement(h.RF, {
                  onChange: (e) => t.SetTag("previewchannel", e),
                  label: "(VO) Steam Deck Preview Channel",
                  checked: t.GetEventModel().BHasTag("previewchannel"),
                  description:
                    "Surface this to user who are subscribed to SteamDeck Preview Build. Only include Beta Steam Deck Client or Beta SteamOS notes.",
                }),
              ),
          ),
        );
      });
      let Ir = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSending: !1 }),
            (this.m_cancelSignal = s().CancelToken.source());
        }
        TestFireEvent() {
          const { editModel: e } = this.props;
          this.setState({ bSending: !0 }, () => {
            l.mh.FireTestEventNotifiation(
              e.GetClanSteamID(),
              e.GetGID(),
              this.m_cancelSignal,
            ),
              this.setState({ bSending: !1 });
          });
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetEventType(),
            a = (0, U.rQ)(t);
          const n =
            e.GetEventModel().BIsVisibleEvent() &&
            e.GetEventModel().GetStartTimeAndDateUnixSeconds() <
              Math.floor(Date.now() / 1e3);
          if (!a || n) return null;
          let l = e.GetVisibilityPublishingSetup(),
            o =
              e.GetStartTimeEditChoice() == ne.z8.k_ENow ||
              l == ne.Fl.event_start;
          return d.createElement(
            "div",
            { className: (0, L.A)(vl().EventEditorInputPaneContents) },
            d.createElement(
              "div",
              { className: (0, L.A)(w().LeftCol, Cr().ThemedCtn) },
              d.createElement(
                "div",
                { className: w().EventEditorTextTitle },
                (0, R.we)("#EventEditor_Reminder_title"),
              ),
              d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().FlexColumnContainer,
                    w().EventDefaultRowContainer,
                  ),
                },
                d.createElement(
                  "div",
                  { className: w().EventEditorTextSubTitle },
                  (0, R.we)("#EventEditor_Reminder_desc"),
                ),
                d.createElement(
                  "div",
                  { className: w().EventEditorTextSubTitle },
                  (0, R.PP)(
                    "#EventEditor_Reminder_desc2",
                    d.createElement(
                      "a",
                      {
                        href: P.TS.STORE_BASE_URL + "mobile?show=steamapp",
                        target: P.TS.IN_CLIENT ? void 0 : "_blank",
                      },
                      (0, R.we)("#EventEditor_Reminder_mobileapp"),
                    ),
                  ),
                ),
                this.state.bSending &&
                  d.createElement(T.t, { size: "small", position: "center" }),
                d.createElement(
                  "button",
                  {
                    className: w().Button,
                    onClick: this.TestFireEvent,
                    disabled: o,
                  },
                  (0, R.we)("#EventEditor_Reminder_testfire"),
                ),
                o &&
                  d.createElement(
                    "span",
                    null,
                    (0, R.we)("#EventEditor_Reminder_disable"),
                  ),
              ),
            ),
          );
        }
      };
      (0, J.Cg)([O.oI], Ir.prototype, "TestFireEvent", null),
        (Ir = (0, J.Cg)([c.PA], Ir));
      const Gr = (0, c.PA)((e) => {
        const { editModel: t } = e;
        if (!t.BIsEventForOGGWithoutVisibleStorePage()) return null;
        return d.createElement(
          "div",
          { className: vl().EventEditorInputPaneContents },
          d.createElement(
            "div",
            { className: w().LeftCol },
            d.createElement(
              "div",
              { className: w().EventEditorTextTitle },
              (0, R.we)("#EventEditor_Options_VisibilityOptIn_Title"),
              d.createElement(
                "span",
                { className: vl().RequiredFieldLabel },
                (0, R.we)("#EventEditor_Required"),
              ),
            ),
            d.createElement(
              "div",
              {
                className: (0, L.A)(
                  w().FlexColumnContainer,
                  w().EventDefaultRowContainer,
                ),
              },
              d.createElement(
                "div",
                { className: w().EventEditorTextSubTitle },
                (0, R.we)(
                  "#EventEditor_Options_VisibilityOptIn_Description",
                  t.GetAppID(),
                ),
              ),
              d.createElement(h.RF, {
                onChange: (e) => t.SetOptedInForOGGWithoutVisibleStorePage(e),
                label: (0, R.we)("#EventEditor_Options_VisibilityOptIn_Label"),
                checked: t.BOptedInForOGGWithoutVisibleStorePage(),
              }),
            ),
          ),
        );
      });
      function Nr(e) {
        const t =
            e.BInRealmChina() &&
            R.A0.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              Go.TU.k_ESteamRealmChina,
            ),
          a =
            e.BInRealmGlobal() &&
            R.A0.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              Go.TU.k_ESteamRealmGlobal,
            );
        t || a || e.SetCurEditLanguage(e.BInRealmChina() ? 29 : 0);
      }
      const Ar = (0, c.PA)((e) => {
          const { editModel: t } = e;
          return d.createElement(h.RF, {
            onChange: (e) => {
              e
                ? (t.AddTag("enable_steam_china"),
                  t.AddTag("disable_steam_global"))
                : t.ClearTags(["enable_steam_china", "disable_steam_global"]),
                Nr(t);
            },
            label: (0, R.we)("#EventEditor_Options_ShowInSteamChina"),
            description: (0, R.we)(
              "#EventEditor_Options_ShowInSteamChina_Desc",
            ),
            checked: t.BInRealmChina(),
          });
        }),
        Mr = (0, c.PA)((e) => {
          const { editModel: t } = e;
          if (t.BInRealmGlobal() && !t.BInRealmChina()) return null;
          return d.createElement(h.RF, {
            onChange: (e) => {
              e
                ? t.AddTag("disable_steam_global")
                : t.ClearTags(["disable_steam_global"]),
                Nr(t);
            },
            label: (0, R.we)("#EventEditor_Options_ShowInSteamGlobal"),
            description: (0, R.we)(
              "#EventEditor_Options_ShowInSteamGlobal_Desc",
            ),
            checked: !t.BInRealmGlobal(),
          });
        }),
        Br = (0, c.PA)((e) => {
          const { editModel: t } = e,
            a = (0, u.Yz)(t.GetEventModel());
          return d.createElement(
            "div",
            null,
            a && d.createElement(Ar, { editModel: t }),
            d.createElement(Mr, { editModel: t }),
          );
        }),
        Lr = (0, c.PA)((e) => {
          const { editModel: t } = e;
          return ((e) => {
            const [t] = (0, Pn.t7)(e, wt.A.k_DataRequest_CommonOnly);
            return Boolean(t && t.HasContentDescriptorID(3));
          })(t.GetAppID())
            ? d.createElement(h.RF, {
                onChange: (e) => t.SetTag("adult_only_content", e),
                label: (0, R.we)("#EventEditor_Options_Has_Adult_Only_Content"),
                checked: t.GetEventModel().BHasTag("adult_only_content"),
                description: (0, R.we)(
                  "#EventEditor_Options_Has_Adult_Only_Content_Desc",
                ),
              })
            : null;
        });
      var kr = a(5618),
        Rr = a(6542),
        Or = a.n(Rr);
      function Pr(e) {
        const { editModel: t } = e,
          a = (0, Xt.q3)(() => ({
            bHidden: t.BHidden(),
            bUnlisted: t.BUnlisted(),
            bPublished: t.BPublished(),
          }));
        return (a.bHidden && !a.bUnlisted) || !a.bPublished
          ? d.createElement(xr, { ...e })
          : null;
      }
      const xr = (0, c.PA)((e) => {
        const { editModel: t, bTakePublishAction: a } = e,
          n = d.useRef(void 0),
          [o, i] = d.useState(!1),
          r = t.GetClanSteamID(),
          s = t.GetGID(),
          {
            bLoading: c,
            bPublishRequiresValveApproval: m,
            nAccountApproved: u,
          } = (0, tn.g7)(r.GetAccountID(), s);
        d.useEffect(() => {
          a && (null == n ? void 0 : n.current) && n.current.click();
        }, [a]);
        const _ = 36 == t.GetEventType(),
          E = r.GetAccountID() == (0, ea.H)() || _,
          p = !E && (0, I.m)(r, !0),
          v = (e, a) => {
            (0, D.pg)(
              d.createElement(ht.i, {
                editModel: t,
                bUnlistedMode: a,
                OnPublishSuccess: () => i(!0),
                partnerEventEditorStore: l.mh,
              }),
              (0, k.uX)(e),
            );
          };
        if (o)
          return d.createElement(yt.OG, {
            eventModel: t.GetEventModel(),
            route: yt.PH.k_eView,
          });
        const g = t.BHidden(),
          h = t.BPublished(),
          S = t.BUnlisted();
        if ((!g || S) && h) return null;
        if (c)
          return d.createElement(T.t, {
            string: (0, R.we)("#Loading"),
            size: "small",
          });
        const b = t.BAllowedToPublishStagedEvents(),
          C = m && !u;
        return d.createElement(
          "div",
          { className: (0, L.A)(w().FlexColumnContainer, Or().PublishOption) },
          d.createElement(
            "div",
            { className: w().EventEditorTextTitle },
            (0, R.we)("#Button_Publish"),
          ),
          d.createElement(
            "div",
            { className: (0, L.A)(Or().PublishButtonCtn) },
            C &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  null,
                  (0, R.we)("#EventEditor_Publish_PublicBlock_Title"),
                ),
                d.createElement(
                  "div",
                  null,
                  (0, R.we)("#EventEditor_Publish_PublicBlock_Desc"),
                ),
              ),
            Boolean(!h && !C) &&
              d.createElement(
                d.Fragment,
                null,
                !E &&
                  d.createElement(Fr, {
                    label: (0, R.we)("#Button_Publish"),
                    description: (0, R.we)("#EventEditor_Publish_Desc"),
                    refActionButton: n,
                    onClick: (e) => v(e, !1),
                  }),
                (E || p) &&
                  d.createElement(
                    ca.e7,
                    {
                      condition: p,
                      wrap: (e) =>
                        d.createElement(
                          I.E,
                          { clanSteamID: r, requireAdmin: !0 },
                          e,
                        ),
                    },
                    d.createElement(Fr, {
                      label: _
                        ? (0, R.we)("#EventEditor_Publish_Unlisted_CreatorHome")
                        : (0, R.we)("#EventEditor_Publish_Unlisted"),
                      description: _
                        ? (0, R.we)(
                            "#EventEditor_Publish_Unlisted_CreatorHome_Desc",
                          )
                        : (0, R.we)("#EventEditor_Publish_Unlisted_Desc"),
                      refActionButton: E ? n : void 0,
                      onClick: (e) => v(e, !0),
                    }),
                  ),
              ),
            Boolean(h && g && !S && !C) &&
              d.createElement(
                ca.e7,
                {
                  condition: !b,
                  wrap: (e) =>
                    d.createElement(
                      te.he,
                      {
                        toolTipContent: (0, R.we)(
                          "#EventEditor_Publish_Disable_ttip",
                        ),
                      },
                      e,
                    ),
                },
                d.createElement(Fr, {
                  label: (0, R.we)("#EventEditor_Publish_VisibleNow"),
                  refActionButton: n,
                  disabled: !b,
                  onClick: (e) => {
                    t.SetVisibilityPublishingSetup(ne.Fl.immediate),
                      (0, D.pg)(
                        d.createElement(ht.i, {
                          editModel: t,
                          OnPublishSuccess: () => i(!0),
                          partnerEventEditorStore: l.mh,
                          closeModal: () => {
                            t.ResetSetVisibilityStartTime();
                          },
                        }),
                        (0, k.uX)(e),
                      );
                  },
                }),
              ),
          ),
        );
      });
      function Fr(e) {
        const {
          label: t,
          description: a,
          tooltip: n,
          disabled: l,
          refActionButton: o,
          onClick: i,
        } = e;
        return d.createElement(
          "div",
          null,
          a && d.createElement("div", { className: Or().Description }, a),
          d.createElement(
            h.$n,
            {
              onClick: i,
              className: (0, L.A)(
                Or().EventPublishButton,
                "DialogButton Primary",
                Or().PublishButton,
              ),
              ref: o,
              disabled: l,
            },
            t,
            n && d.createElement(G.o, { tooltip: n }),
          ),
        );
      }
      var Hr = a(82267),
        jr = a.n(Hr);
      class zr {
        GetVisibilityRounds(e, t) {
          return 0 == e
            ? this.m_mapVisibilityUpdateRounds.get(t)
            : this.m_mapVisibilityLaunchRounds.get(t);
        }
        GetVisibilityRoundsChangeCallback(e, t) {
          const a =
            0 == e
              ? this.m_mapVisibilityUpdateChangeCallback
              : this.m_mapVisibilityLaunchChangeCallback;
          return a.has(t) || a.set(t, new B.lu()), a.get(t);
        }
        async LoadVisibilityRounds(e, t) {
          const a =
            0 == e
              ? this.m_mapVisibilityUpdateLoadPromises
              : this.m_mapVisibilityLaunchLoadPromises;
          return (
            a.has(t) || a.set(t, this.InternalLoadVisibilityRounds(e, t)),
            a.get(t)
          );
        }
        async InternalLoadVisibilityRounds(e, t) {
          var a;
          let n = null;
          try {
            const l = `${P.TS.COMMUNITY_BASE_URL}ogg/${t}/ajaxgetappvisibilityrounds`,
              o = { type: e },
              i = await s().get(l, { params: o, withCredentials: !0 });
            if (
              200 == (null == i ? void 0 : i.status) &&
              1 ==
                (null === (a = null == i ? void 0 : i.data) || void 0 === a
                  ? void 0
                  : a.success)
            ) {
              const a = Boolean(0 == e)
                  ? this.m_mapVisibilityUpdateRounds
                  : this.m_mapVisibilityLaunchRounds,
                n = i.data.data || [];
              return (
                a.set(t, n),
                this.GetVisibilityRoundsChangeCallback(e, t).Dispatch(n),
                n
              );
            }
            n = (0, M.H)(i);
          } catch (e) {
            n = (0, M.H)(e);
          }
          return (
            console.error(
              "CVisibilityRoundsStore.InternalLoadVisibilityRounds failed: " +
                (null == n ? void 0 : n.strErrorMsg),
              n,
            ),
            null
          );
        }
        static Get() {
          return (
            zr.s_Singleton ||
              ((zr.s_Singleton = new zr()),
              zr.s_Singleton.Init(),
              "dev" == P.TS.WEB_UNIVERSE &&
                (window.g_VisibilityRoundsStore = zr.s_Singleton)),
            zr.s_Singleton
          );
        }
        constructor() {
          (this.m_mapVisibilityUpdateRounds = new Map()),
            (this.m_mapVisibilityUpdateLoadPromises = new Map()),
            (this.m_mapVisibilityUpdateChangeCallback = new Map()),
            (this.m_mapVisibilityLaunchRounds = new Map()),
            (this.m_mapVisibilityLaunchLoadPromises = new Map()),
            (this.m_mapVisibilityLaunchChangeCallback = new Map());
        }
        Init() {}
      }
      var Ur = a(62752);
      const qr = 100;
      function Vr(e) {
        var t;
        const { editModel: a } = e,
          [n, l, o] = (0, Xt.q3)(() => [
            a.GetEventState(),
            a.GetClanSteamID(),
            a.GetEventModel().jsondata.clone_from_event_gid,
          ]),
          i = (0, ia.m)("EventReplacePublishingControls"),
          { rgClanEventData: r } = (0, _.SG)(l, qr, i);
        return o &&
          (null === (t = null == r ? void 0 : r.pages) || void 0 === t
            ? void 0
            : t.length)
          ? n != u.zv.k_EEventStateUnpublished
            ? null
            : d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().FlexColumnContainer,
                    jr().PublishOption,
                  ),
                },
                d.createElement(
                  "div",
                  { className: w().EventEditorTextTitle },
                  (0, R.we)("#EventPublishing_Replace_To"),
                ),
                d.createElement(
                  "div",
                  { className: (0, L.A)(w().RightColumnContainer) },
                  (0, R.we)("#EventPublishing_Replace_To_Desc"),
                  d.createElement("br", null),
                  d.createElement("br", null),
                  d.createElement(Yr, { editModel: a }),
                  d.createElement(Wr, {
                    editModel: a,
                    rgEventSummaries: r.pages[0],
                  }),
                ),
              )
          : null;
      }
      function Wr(e) {
        const { editModel: t, rgEventSummaries: a } = e,
          [n, l] = (0, d.useState)(null),
          [o, i, r] = (0, O.uD)(),
          s = (0, d.useMemo)(
            () =>
              a.map((e) => ({
                value: e.gid,
                label:
                  e.event_name +
                  ": " +
                  (0, R.TW)(e.rtime32_start_time) +
                  " @ " +
                  (0, j.pg)(e.rtime32_start_time),
              })),
            [a],
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            null,
            (0, R.we)("#EventPublishing_Replace_Pick"),
          ),
          d.createElement(va.Ay, {
            isSearchable: !0,
            isMulti: !1,
            isClearable: !0,
            className: jr().ItemSelect,
            options: s,
            value: s.find((e) => e.value === n),
            onChange: (e) => {
              e && l(e.value);
            },
          }),
          d.createElement(
            h.$n,
            { disabled: !n, onClick: i },
            (0, R.we)("#EventPublishing_Replace_Selected"),
          ),
          d.createElement(
            so.E,
            { active: o },
            d.createElement(Qr, {
              editModel: t,
              gidTargetClanEvent: n,
              closeModal: r,
            }),
          ),
        );
      }
      function Qr(e) {
        const { closeModal: t, editModel: a, gidTargetClanEvent: n } = e,
          o = (0, en.E)(),
          [i, r] = (0, d.useState)(),
          [s] = (0, d.useState)(() => new l.Nc()),
          [c, m] = (0, d.useState)(null),
          [u, _] = (0, d.useState)(!1),
          [E, p] = (0, d.useState)(!1),
          [v, g, S] = (0, Xt.q3)(() => [
            null == c ? void 0 : c.GetClanSteamID(),
            null == c ? void 0 : c.GetEventModel().GetNameWithFallback(o),
            null == c ? void 0 : c.GetEventModel().GetLastUpdateTime(),
          ]);
        (0, d.useEffect)(() => {
          n &&
            (null == c ? void 0 : c.GetGID()) != n &&
            s.LoadEditorModel(a.GetClanSteamID(), n).then((e) => {
              m(e);
            }),
            n &&
              !i &&
              l.Nc.GetLastUpdateTimeForEvent(
                a.GetClanSteamID(),
                n,
                null,
                null,
              ).then(r);
        }, [a, n, c, s, i]);
        const [b, w] = (0, d.useState)(!1),
          C = (0, an.vs)();
        return C.bLoading
          ? d.createElement(an.Hh, {
              state: C,
              strDialogTitle: (0, R.we)("#EventPublishing_Replace_To"),
              closeModal: t,
            })
          : b
            ? d.createElement(ht.t, {
                editModel: c,
                partnerEventEditorStore: s,
                OnSuccess: () => {},
                closeModal: t,
                bReplaceEventMode: !0,
                elSuccessDisplayLinks: d.createElement(
                  "a",
                  {
                    href: `${Ma.TS.COMMUNITY_BASE_URL}/gid/${null == v ? void 0 : v.ConvertTo64BitString()}/partnerevents/edit/${n}`,
                  },
                  (0, R.we)("#EventEdit_Replacing_Open"),
                ),
              })
            : d.createElement(
                ro.o0,
                {
                  onCancel: t,
                  strTitle: (0, R.we)("#EventPublishing_Replace_To"),
                  strDescription: (0, R.we)(
                    "#EventPublishing_Replace_Dialog_Desc1",
                  ),
                  bOKDisabled: !u,
                  onOK: () => {
                    E || (c.ReplaceFrom(a), w(!0));
                  },
                },
                Boolean(c && i)
                  ? d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(
                        "ul",
                        null,
                        d.createElement(
                          "li",
                          null,
                          (0, R.we)("#EventPublishing_Replace_Dialog_Desc2", g),
                        ),
                        d.createElement(
                          "li",
                          null,
                          (0, R.we)(
                            "#EventPublishing_Replace_Dialog_Desc3",
                            (0, R.TW)(S) + " @ " + (0, j.pg)(S),
                          ),
                        ),
                        d.createElement(
                          "li",
                          null,
                          (0, R.we)(
                            "#EventPublishing_Replace_Dialog_Desc4",
                            i.persona_name,
                          ),
                        ),
                      ),
                      d.createElement(
                        "div",
                        null,
                        (0, R.we)("#Dialog_AreYouSure"),
                      ),
                      d.createElement(h.Yh, {
                        checked: u,
                        onChange: _,
                        label: (0, R.we)("#EventPublishing_Replace_Confirm"),
                      }),
                      Boolean(Ma.iA.is_support) &&
                        d.createElement(Ur.DA, {
                          curEventModelJson: a.GetEventModel().jsondata,
                          prevEventModelJson: c.GetEventModel().jsondata,
                          onShowCallback: () => p(!0),
                          onCancelCallback: () => p(!1),
                        }),
                    )
                  : d.createElement(T.t, { string: (0, R.we)("#Loading") }),
              );
      }
      function Yr(e) {
        const { editModel: t } = e,
          a = (0, en.E)(),
          [n] = (0, Xt.q3)(() => [
            t.GetEventModel().jsondata.clone_from_event_gid,
          ]),
          l = (0, _.RR)(n),
          [o, i, r] = (0, O.uD)();
        if (!n) return null;
        if (n && !l)
          return d.createElement(T.t, { string: (0, R.we)("#Loading") });
        const s = l.BIsVisibleEvent() || l.BIsUnlistedEvent();
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            null,
            (0, R.PP)(
              "#EventPublishing_Replace_CloneFrom",
              d.createElement(m.N_, { to: `${n}` }, l.GetNameWithFallback(a)),
            ),
          ),
          d.createElement(
            h.$n,
            { disabled: !s, onClick: i },
            (0, R.we)("#EventPublishing_Replace_CloneFrom_Replace"),
            d.createElement(G.o, {
              tooltip: (0, R.we)(
                s
                  ? "#EventPublishing_Replace_CloneFrom_Replace_ttip"
                  : "#EventPublishing_Replace_CloneFrom_Replace_ttip_fail",
              ),
            }),
          ),
          d.createElement(
            so.E,
            { active: o },
            d.createElement(Qr, {
              editModel: t,
              gidTargetClanEvent: n,
              closeModal: r,
            }),
          ),
        );
      }
      var Jr = a(68297),
        Kr = a.n(Jr);
      function Zr(e) {
        const { editModel: t } = e,
          [a] = (0, Xt.q3)(() => [t.BHasTag("vo_marketing_message")]);
        if (a) return d.createElement($r, { ...e });
      }
      const Xr = 3;
      function $r(e) {
        var t, a;
        const { editModel: n } = e,
          [l, o, i] = (0, Xt.q3)(() => [
            n.BHasTag("vo_marketing_message"),
            n.GetClanAccountID(),
            n.GetGID(),
          ]),
          r = (0, tn.fj)(o, i),
          [s, c] = (0, d.useState)(() => {
            var e, t;
            return null ===
              (t =
                null === (e = null == r ? void 0 : r.oPrivateData) ||
                void 0 === e
                  ? void 0
                  : e.jsonData) || void 0 === t
              ? void 0
              : t.strMarketingMessageMajorUpdateHelpTicketReferenceCode;
          }),
          [m, u] = (0, d.useState)(null);
        (0, d.useEffect)(() => {
          var e, t, a, n;
          (null ===
            (t =
              null === (e = null == r ? void 0 : r.oPrivateData) || void 0 === e
                ? void 0
                : e.jsonData) || void 0 === t
            ? void 0
            : t.strMarketingMessageMajorUpdateHelpTicketReferenceCode) &&
            c(
              null ===
                (n =
                  null === (a = null == r ? void 0 : r.oPrivateData) ||
                  void 0 === a
                    ? void 0
                    : a.jsonData) || void 0 === n
                ? void 0
                : n.strMarketingMessageMajorUpdateHelpTicketReferenceCode,
            );
        }, [
          null ===
            (a =
              null === (t = null == r ? void 0 : r.oPrivateData) || void 0 === t
                ? void 0
                : t.jsonData) || void 0 === a
            ? void 0
            : a.strMarketingMessageMajorUpdateHelpTicketReferenceCode,
        ]);
        const [_, E, p] = (0, O.uD)(!1);
        return d.createElement(
          "div",
          { className: Kr().Ctn },
          d.createElement(
            "div",
            { className: b.EventEditorTextTitle },
            (0, R.we)("#MM_MajorUpdate_Review_title"),
          ),
          d.createElement(
            "div",
            null,
            Boolean(s)
              ? d.createElement(
                  "p",
                  null,
                  (0, R.oW)(
                    "#MM_MajorUpdate_Review_ticked_created",
                    d.createElement(ca.uU, {
                      href: `${on.TS.HELP_BASE_URL}en/wizard/HelpRequest/${s}`,
                      className: (0, L.A)(b.EditPreviewButton, b.Button),
                      bForceExternal: !0,
                    }),
                  ),
                )
              : d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#MM_MajorUpdate_Review_desc", Xr),
                  ),
                  d.createElement(sn, {
                    accountID: on.iA.accountid,
                    partnerID: m,
                    fnSetPartnerID: u,
                    strLabel: (0, R.we)(
                      "#EventEditor_SaleValveApproval_Request_Partner",
                    ),
                    strTooltip: (0, R.we)(
                      "#EventEditor_SaleValveApproval_Request_Partner_ttip",
                    ),
                  }),
                  d.createElement(
                    h.$n,
                    { onClick: E },
                    (0, R.we)("#MM_MajorUpdate_Review_create"),
                  ),
                  d.createElement(
                    so.E,
                    { active: _ },
                    d.createElement(es, {
                      editModel: n,
                      nPartnerID: m,
                      closeModal: p,
                      fnSetTicketID: c,
                    }),
                  ),
                ),
          ),
        );
      }
      function es(e) {
        const {
            editModel: t,
            nPartnerID: a,
            closeModal: n,
            fnSetTicketID: l,
          } = e,
          o = (0, an.vs)();
        return (
          (0, d.useEffect)(() => {
            if (!o.bLoading) {
              o.fnSetLoading(!0);
              (async () => {
                const e = t.GetClanSteamID(),
                  n = t.GetGID(),
                  i = await (async function (e, t, a, n, l) {
                    const o =
                        on.TS.COMMUNITY_BASE_URL +
                        "partnereventdata/ajaxrequestmarketingmessagemajorupdatereview",
                      i = new URLSearchParams();
                    i.append("sessionid", on.TS.SESSIONID),
                      i.append("clanAccountID", "" + e.GetAccountID()),
                      i.append("appid", "" + t),
                      i.append("gidClanEvent", a),
                      i.append("partnerID", "" + l),
                      i.append("message", n);
                    try {
                      let e = await s().post(o, i, { withCredentials: !0 });
                      return e && 200 == e.status && 1 == e.data.success
                        ? e.data
                        : (console.error(
                            "CreateMarketingMessageMajorUpdateReviewRequestTicket failed.",
                            e && (0, M.H)(e),
                          ),
                          29 == e.data.success ? e.data : null);
                    } catch (e) {
                      const t = (0, M.H)(e);
                      console.error(
                        "CreateMarketingMessageMajorUpdateReviewRequestTicket failed: " +
                          t.strErrorMsg,
                        t,
                      );
                    }
                    return null;
                  })(
                    e,
                    t.GetAppID(),
                    n,
                    "Requesting Marketing Message Major Update Review",
                    a,
                  );
                i
                  ? (l(i.reference_code), o.fnSetSuccess(!0))
                  : (o.fnSetError(!0),
                    o.fnSetStrError(
                      (0, R.we)("#Login_Error_Network_Description"),
                    ));
              })();
            }
          }, [a, t, o.bLoading, o, l]),
          d.createElement(an.Hh, {
            state: o,
            strDialogTitle: (0, R.we)("#MM_MajorUpdate_Review_create"),
            closeModal: n,
          })
        );
      }
      function ts(e) {
        const { editModel: t } = e,
          [a, n, l, o, i] = (0, Xt.q3)(() => [
            t.GetClanSteamID(),
            t.GetGID(),
            t.GetEventType(),
            t.GetEventModel().jsondata.sale_presenters,
            t.BVisible(),
          ]);
        return d.createElement(
          "div",
          { className: (0, L.A)(Hr.PublishContainer) },
          d.createElement(
            "div",
            { className: (0, L.A)(b.ReachBackground) },
            d.createElement(
              "div",
              { className: pl.EventEditorInputPaneContents },
              d.createElement(mn, {
                clanSteamID: a,
                gidClanEvent: n,
                rgSalePresenters: o,
                fnCleanSaleEventPresenters: () => {
                  (t.GetEventModel().jsondata.sale_presenters = void 0),
                    t.SetDirty(ne.IQ.jsondata_sales);
                },
                bPublishTab: !0,
                bIsEventVisible: i,
              }),
              d.createElement(ls, { editModel: t }),
              d.createElement(
                "div",
                {
                  className: (0, L.A)(b.FlexRowContainer, Hr.PublishOptionsCtn),
                },
                d.createElement(Pr, { editModel: t, bTakePublishAction: !1 }),
                d.createElement(Vr, { editModel: t }),
              ),
              d.createElement(Zr, { editModel: t }),
              d.createElement(as, { eventType: l, clanSteamID: a }),
              d.createElement("div", { className: b.ClearThings }),
            ),
          ),
        );
      }
      let as = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoadingClanInfo: !v.ac.BHasClanInfoLoaded(
                this.props.clanSteamID,
              ),
            });
        }
        async componentDidMount() {
          this.state.bLoadingClanInfo &&
            (await v.ac.LoadClanInfoForClanSteamID(this.props.clanSteamID),
            this.setState({ bLoadingClanInfo: !1 }));
        }
        render() {
          if (36 == this.props.eventType) return;
          if (this.state.bLoadingClanInfo)
            return d.createElement(
              "div",
              { className: "ReachCtn" },
              d.createElement(T.t, null),
            );
          let e = l.mh.GetEditModel(),
            t = e.GetCategoryAsType();
          const a = $.KN.Get().GetPartnerEventPermissions(
              this.props.clanSteamID,
            ),
            n = v.ac.GetClanInfoByClanAccountID(
              e.GetClanSteamID().GetAccountID(),
            );
          if (!a.can_edit) return d.createElement(d.Fragment, null);
          let o = e.BHasSaleEnabled() || n.is_ogg;
          const i =
            (e.BWillShowOnLibraryOverviewDueToSettings() ||
              e.BWillShowOnLibraryDetailDueToSettings()) &&
            (0, u.Dn)(e.GetEventModel());
          return d.createElement(
            "div",
            { className: "ReachCtn" },
            d.createElement(
              "div",
              { className: b.EventEditorTextTitle },
              (0, R.we)("#EventReach_Title"),
            ),
            d.createElement(
              "div",
              { className: Hr.ReachItems },
              d.createElement(
                "div",
                { className: b.EventEditorTextSubTitle },
                (0, R.we)("#EventReach_SubTitle"),
              ),
              d.createElement(
                "div",
                { className: Hr.ReachColumnTitles },
                d.createElement(
                  "div",
                  { className: Hr.ReachColumnName },
                  (0, R.we)("#EventReach_Location"),
                ),
              ),
              d.createElement(
                "div",
                { className: Hr.ReachItemList },
                e.BWillShowOnStoreDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: Hr.ReachSubject },
                    (0, R.we)("#EventReach_GamePage"),
                    d.createElement(G.o, {
                      tooltip: (0, R.we)("#EventReach_GamePage_ttip"),
                    }),
                  ),
                d.createElement(
                  "div",
                  { className: Hr.ReachSubject },
                  (0, R.we)("#EventReach_GameNewsPg"),
                  d.createElement(G.o, {
                    tooltip: (0, R.we)("#EventReach_GameNewsPg_ttip"),
                  }),
                ),
                d.createElement(
                  "div",
                  { className: (0, L.A)(Hr.ReachSubject) },
                  (0, R.we)("#EventReach_PersonalizedCalendar"),
                  d.createElement(G.o, {
                    tooltip: (0, R.we)("#EventReach_PersonalizedCalendar_ttip"),
                  }),
                ),
                d.createElement(
                  "div",
                  { className: Hr.ReachSubject },
                  (0, R.we)("#EventReach_Community"),
                  d.createElement(G.o, {
                    tooltip: (0, R.we)("#EventReach_Community_ttip"),
                  }),
                ),
                d.createElement(
                  "div",
                  { className: Hr.ReachSubject },
                  (0, R.we)("#EventReach_FriendActivity"),
                  d.createElement(G.o, {
                    tooltip: (0, R.we)("#EventReach_FriendActivity_ttip"),
                  }),
                ),
                e.BWillShowOnLibraryOverviewDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: (0, L.A)(Hr.ReachSubject) },
                    (0, R.we)("#EventReach_LibraryHome"),
                    i &&
                      d.createElement(
                        "span",
                        { className: Hr.ReachPendingVisibilityText },
                        "  ",
                        (0, R.we)(
                          "#EventReach_LibraryVisibilityPendingModeration",
                        ),
                      ),
                    d.createElement(G.o, {
                      tooltip: (0, R.we)("#EventReach_LibraryHome_ttip"),
                    }),
                  ),
                e.BWillShowOnLibraryDetailDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: (0, L.A)(Hr.ReachSubject) },
                    (0, R.we)("#EventReach_LibraryDetail"),
                    i &&
                      d.createElement(
                        "span",
                        { className: Hr.ReachPendingVisibilityText },
                        "  ",
                        (0, R.we)(
                          "#EventReach_LibraryVisibilityPendingModeration",
                        ),
                      ),
                    d.createElement(G.o, {
                      tooltip: (0, R.we)("#EventReach_LibraryDetail_ttip"),
                    }),
                  ),
                Boolean(
                  e.BIsAllowedInNotifications() && e.BIsVisibleBeforeStart(),
                ) &&
                  d.createElement(
                    "div",
                    { className: (0, L.A)(Hr.ReachSubject, Hr.Future) },
                    (0, R.we)("#EventReach_Future"),
                    " ",
                    (0, R.we)("#EventReach_Reminder"),
                    d.createElement(G.o, {
                      tooltip: (0, R.we)("#EventReach_Reminder_ttip"),
                    }),
                  ),
                Boolean(e.BIsAllowedInNotifications()) &&
                  d.createElement(
                    "div",
                    { className: (0, L.A)(Hr.ReachSubject, Hr.Future) },
                    (0, R.we)("#EventReach_Future"),
                    " ",
                    (0, R.we)("#EventReach_EmailRollUp"),
                    d.createElement(G.o, {
                      tooltip: (0, R.we)("#EventReach_EmailRollUp_ttip"),
                    }),
                  ),
              ),
              o &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    { className: Hr.ReachColumnTitles },
                    d.createElement(
                      "div",
                      { className: Hr.ReachColumnName },
                      (0, R.we)("#EventReach_OptionalLocation"),
                    ),
                  ),
                  n.is_ogg &&
                    d.createElement(
                      "div",
                      { className: Hr.ReachItemList },
                      d.createElement(
                        "div",
                        { className: Hr.ReachSubject },
                        d.createElement(
                          "span",
                          { className: Hr.ReachSubjectOptional },
                          d.createElement(S.EQ, {
                            bOn: e.GetEventModel().BHasTag("workshop"),
                          }),
                          d.createElement(
                            "span",
                            { className: Hr.ReactSubjectOptionalText },
                            (0, R.we)("#EventReach_Workshop"),
                          ),
                        ),
                        d.createElement(G.o, {
                          tooltip: (0, R.we)("#EventReach_Workshop_ttip"),
                        }),
                      ),
                      14 == t && d.createElement(ns, null),
                      d.createElement(
                        "div",
                        { className: (0, L.A)(Hr.ReachSubject) },
                        d.createElement(
                          "span",
                          { className: Hr.ReachSubjectOptional },
                          d.createElement(S.EQ, {
                            bOn: e.GetEventModel().BShowLibrarySpotlight(),
                          }),
                          d.createElement(
                            "span",
                            { className: Hr.ReactSubjectOptionalText },
                            (0, R.we)("#EventReach_LibraySpotLight"),
                          ),
                        ),
                        d.createElement(G.o, {
                          tooltip: (0, R.we)(
                            "#EventReach_LibraySpotLight_ttip",
                          ),
                        }),
                      ),
                    ),
                  e.BHasSaleEnabled() &&
                    d.createElement(
                      "div",
                      { className: Hr.ReachItemList },
                      d.createElement(
                        "div",
                        { className: Hr.ReachSubject },
                        d.createElement(
                          "span",
                          { className: Hr.ReachSubjectOptional },
                          d.createElement(S.EQ, {
                            bOn: e.BHasSaleProductBanners(),
                          }),
                          d.createElement(
                            "span",
                            { className: Hr.ReactSubjectOptionalText },
                            (0, R.we)("#EventReach_SaleBanner"),
                          ),
                        ),
                        d.createElement(G.o, {
                          tooltip: (0, R.we)("#EventReach_SaleBanner_ttip"),
                        }),
                      ),
                      Boolean(
                        e.BHasSaleProductBanners() &&
                          e.GetEventStartTime() &&
                          e.GetEventEndTime(),
                      ) &&
                        d.createElement(
                          d.Fragment,
                          null,
                          d.createElement("br", null),
                          d.createElement(
                            "div",
                            null,
                            (0, R.PP)(
                              "#EventReact_SaleBannerDuration",
                              d.createElement(j.K4, {
                                dateAndTime: e.GetEventStartTime(),
                                bSingleLine: !0,
                              }),
                              d.createElement(j.K4, {
                                dateAndTime: Math.min(
                                  e.GetEventEndTime(),
                                  e.GetEventStartTime() + 1209600,
                                ),
                                bSingleLine: !0,
                              }),
                            ),
                          ),
                        ),
                    ),
                ),
            ),
          );
        }
      };
      function ns(e) {
        const t = l.mh.GetEditModel(),
          a = (function (e, t) {
            const [a, n] = (0, d.useState)(zr.Get().GetVisibilityRounds(e, t));
            return (
              (0, d.useEffect)(() => {
                (a &&
                  0 != a.length &&
                  a[0].appid == t &&
                  a[0].feature_type == e) ||
                  zr
                    .Get()
                    .LoadVisibilityRounds(e, t)
                    .then((e) => n(e));
              }, [t, a, e]),
              (0, O.hL)(zr.Get().GetVisibilityRoundsChangeCallback(e, t), n),
              a
            );
          })(0, t.GetAppID());
        return d.createElement(
          "div",
          { className: Hr.ReachSubject },
          d.createElement(
            "span",
            { className: Hr.ReachSubjectOptional },
            Boolean(null == a || null == a)
              ? d.createElement(T.t, {
                  size: "small",
                  string: (0, R.we)("#Loading"),
                })
              : d.createElement(S.EQ, {
                  bOn: a.some(
                    (e) => e.announcementid == t.GetAnnouncementGID(),
                  ),
                }),
            d.createElement(
              "span",
              { className: Hr.ReactSubjectOptionalText },
              (0, R.we)("#EventReach_RecentlyUpdatedPg"),
            ),
          ),
          d.createElement(G.o, {
            tooltip: (0, R.we)("#EventReach_RecentlyUpdatedPg_ttip"),
          }),
        );
      }
      function ls(e) {
        const { editModel: t } = e,
          [a, n, l, o, i, r, s, c, m] = (0, Xt.q3)(() => [
            t.GetEventModel().GID,
            t.GetEventModel().AnnouncementGID,
            t.ComputeEditingModelTimeOverrides(),
            t.BHidden(),
            t.BPublished(),
            t.GetEventVisibilityStartTime(),
            t.GetVisibilitySetting(),
            t.GetEventModel().GetVisibilityStartTimeAndDateUnixSeconds(),
            36 == t.GetEventType(),
          ]);
        let u;
        if (!i)
          if (t.GetStartTimeEditChoice() == ne.z8.k_ESpecified)
            switch (s) {
              case ne.Fl.event_start:
                u = d.createElement(
                  "div",
                  { className: Hr.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#EventEditor_Status_WillBeVisible_EventStart"),
                  ),
                );
                break;
              case ne.Fl.specified_time:
                u = d.createElement(
                  "div",
                  { className: Hr.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, R.PP)(
                      "#EventEditor_Status_WillBeVisible_At",
                      d.createElement(j.K4, {
                        dateAndTime: c,
                        bSingleLine: !0,
                      }),
                    ),
                  ),
                );
                break;
              case ne.Fl.immediate:
              default:
                u = d.createElement(
                  "div",
                  { className: Hr.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#EventPublishing_Summary_Immediate"),
                  ),
                  d.createElement(
                    "p",
                    null,
                    (0, R.we)("#EventPublishing_Summary_ModerationNote"),
                  ),
                );
            }
          else
            u = d.createElement(
              "div",
              { className: Hr.VisibilityNote },
              d.createElement(
                "p",
                null,
                (0, R.we)("#EventPublishing_Summary_Immediate"),
              ),
              d.createElement(
                "p",
                null,
                (0, R.we)("#EventPublishing_Summary_ModerationNote"),
              ),
            );
        const _ = (0, yt.T7)(t.GetEventModel());
        return d.createElement(
          "div",
          { className: Hr.SummaryContainer },
          d.createElement(
            "div",
            { className: b.EventEditorTextTitle },
            (0, R.we)("#EventPublishing_Summary"),
          ),
          d.createElement(
            "div",
            { className: Hr.SummaryItems },
            d.createElement(
              "div",
              { className: Hr.StatusRow },
              d.createElement(
                "div",
                { className: Hr.StatusText },
                d.createElement(bn.zm, { editModel: t }),
              ),
              i &&
                !o &&
                !m &&
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    yt.tj,
                    {
                      className: (0, L.A)(b.Button, b.Primary),
                      eventModel: t.GetEventModel(),
                      route: yt.PH.k_eStoreView,
                    },
                    (0, R.we)("#EventEditor_ViewLive"),
                  ),
                ),
            ),
            !m &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: b.FlexRowContainer },
                  d.createElement(
                    "span",
                    null,
                    d.createElement(
                      "b",
                      null,
                      (0, R.we)("#EventDisplay_TimeUpcoming"),
                      ":",
                    ),
                    "",
                  ),
                  d.createElement(j.K4, {
                    dateAndTime: l.nOverrideStartTime,
                    bSingleLine: !0,
                  }),
                ),
                d.createElement(
                  "div",
                  { className: b.FlexRowContainer },
                  d.createElement(
                    "p",
                    null,
                    d.createElement(
                      "b",
                      null,
                      (0, R.we)("#EventPublishing_Summary_VisibilityStart"),
                      ":",
                    ),
                    "",
                  ),
                  Boolean(i && o) &&
                    d.createElement(
                      "span",
                      null,
                      (0, R.PP)(
                        "#EventEditor_Visibility_AutoVisible",
                        d.createElement(j.K4, {
                          dateAndTime: r,
                          bSingleLine: !0,
                        }),
                      ),
                      "",
                      (0, R.we)("#EventEditor_Visibility_NoAction"),
                    ),
                  u,
                ),
                Boolean(a || n) &&
                  d.createElement(
                    "div",
                    { className: Hr.LinkRow },
                    d.createElement(kr.V, {
                      eventLink: _,
                      labelOverride: "#EventEditor_Status_FutureURL",
                    }),
                  ),
              ),
            m &&
              d.createElement(
                "div",
                { className: b.FlexRowContainer },
                d.createElement(ni, { editModel: t }),
              ),
          ),
        );
      }
      function os(e) {
        var t;
        const { bInitiatePublishDialog: a, clanSteamID: n } = e,
          l = (0, ia.m)("EventInputPane"),
          o = (0, Jt.LU)(),
          i = o.GetEventModel();
        (0, d.useEffect)(() => {
          P.UF.IS_CURATOR && $t.pF.LoadCreatorHome(n, !1, l);
        }, [n, l]);
        const r = (0, d.useCallback)(() => {
            const e = $t.pF.GetCreatorHome(n);
            if (
              P.iA.is_support &&
              P.UF.CAN_UPLOAD_IMAGES &&
              P.UF.IS_CURATOR &&
              e
            ) {
              return !(
                e.BHasClanAccountFlagSet(2) ||
                e.BHasClanAccountFlagSet(1) ||
                e.BHasClanAccountFlagSet(4) ||
                e.GetNumFollowers() >= 15e3
              );
            }
            return !1;
          }, [n]),
          s = (0, v.Yp)(i),
          c = (0, Xt.q3)(() => (0, Zt.C7)()),
          m = (0, v._5)(i),
          u = (0, Xt.q3)(() => (0, Zt.cA)()),
          _ = (0, v.Ao)(i);
        (0, A.wT)(
          [s.bVisible, m.bVisible, _.bVisible].filter(Boolean).length <= 1,
          "Sale, Update Landing Page, and Creator Home should be mutually exclusive",
        );
        const E = !$.KN.Get().BShowEmailEditorTab(o.GetEventModel()),
          p = $.KN.Get().GetPartnerEventPermissions(i.clanSteamID);
        v.ac.LoadClanInfoForClanSteamID(n);
        const g = Boolean(
            null === (t = v.ac.GetClanInfoByClanAccountID(n.GetAccountID())) ||
              void 0 === t
              ? void 0
              : t.has_rss_feed,
          ),
          h = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          S = [
            {
              name: (0, R.we)("#EventEditor_Description_tab"),
              key: "description",
              status: d.createElement(rs, { fnGetStatus: Zt._P }),
              hidden: _.bVisible,
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(Vo, {
                  editModel: o,
                  bInitiatePublishDialog: a,
                  bCanManuallyTagAssociatedApps: g,
                }),
              ),
              onClick: h,
            },
            {
              name:
                (_.bValveOnly ? "(VO) " : "") +
                (0, R.we)("#EventEditor_CreatorHome_Title"),
              key: "creatorhome",
              hidden: !_.bVisible,
              vo_warning: r() && (0, R.we)("#EventEditor_CuratorImageWarning"),
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(li, { mode: 2, editModel: o }),
              ),
              onClick: h,
            },
            {
              name: (0, R.we)("#EventEditor_Visibility_Title"),
              key: "options",
              status: d.createElement(rs, { fnGetStatus: Zt.e5 }),
              hidden: _.bVisible,
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(fr, { editModel: o }),
                d.createElement("div", { className: w().ClearThings }),
              ),
              onClick: h,
            },
            {
              name: (0, R.we)("#EventEditor_Artwork"),
              key: "artwork",
              status: d.createElement(rs, { fnGetStatus: Zt.uu }),
              hidden: !P.UF.CAN_UPLOAD_IMAGES || _.bVisible,
              vo_warning: r() && (0, R.we)("#EventEditor_CuratorImageWarning"),
              contents: d.createElement(_s, { editModel: o }),
              onClick: h,
            },
            {
              name: (0, R.we)("#Broadcast_tab"),
              key: "broadcast",
              hidden:
                !P.UF.CAN_UPLOAD_IMAGES || o.GetClanAccountID() == (0, ea.H)(),
              vo_warning: r() && (0, R.we)("#EventEditor_CuratorImageWarning"),
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(Ni, { editModel: o }),
              ),
              onClick: h,
            },
            {
              name:
                (i.BHasEmailEnabled() ? "" : "(VO) ") +
                (0, R.we)("#EventEmail_TabTitle"),
              key: "email",
              hidden: E,
              status:
                o.GetClanAccountID() == (0, ea.H)()
                  ? d.createElement(rs, { fnGetStatus: Zt.ER })
                  : void 0,
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(dr, { editModel: o }),
              ),
              onClick: h,
            },
            {
              name: (s.bValveOnly ? "(VO) " : "") + (0, R.we)("#Sale_TabTitle"),
              key: "sale",
              status: d.createElement(rs, { fnGetStatus: () => c }),
              statusToolTip: null == c ? void 0 : c.ttip,
              hidden: !s.bVisible,
              vo_warning: r() && (0, R.we)("#EventEditor_CuratorImageWarning"),
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(li, { mode: 0, editModel: o }),
              ),
              onClick: h,
            },
            {
              name:
                (m.bValveOnly ? "(VO) " : "") +
                (0, R.we)("#EventEditor_UpdateLandingPage_Title"),
              key: "updatelandingpage",
              status: d.createElement(rs, { fnGetStatus: () => u }),
              statusToolTip: null == u ? void 0 : u.ttip,
              hidden: !m.bVisible,
              vo_warning: r() && (0, R.we)("#EventEditor_CuratorImageWarning"),
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(li, { mode: 1, editModel: o }),
              ),
              onClick: h,
            },
            {
              name: (0, R.we)("#Button_Publish"),
              key: "publishing",
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(ts, { editModel: o }),
              ),
              onClick: h,
            },
            {
              name: "(VO) Debug",
              key: "debug",
              hidden: !p.valve_admin,
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(Kt.Oq, { editModel: o }),
              ),
              onClick: h,
            },
            {
              name: "(VO) Stats",
              key: "stats",
              hidden: !p.valve_admin || !i.GID || !i.BHasSaleEnabled(),
              contents: d.createElement(
                Ct.tH,
                null,
                d.createElement(ci, { editModel: o }),
              ),
              onClick: h,
            },
          ];
        return d.createElement(
          is,
          null,
          d.createElement(oa.V, { tabs: S }),
          d.createElement("div", { className: w().ClearThings }),
        );
      }
      function is(e) {
        const [t, a] = d.useState();
        return d.createElement(
          "div",
          { className: vl().EventEditorInputPaneContainer },
          d.createElement(
            Ul,
            { elContent: t },
            d.createElement(
              "div",
              { className: vl().EventEditorInputPaneContents },
              e.children,
            ),
            d.createElement(
              "div",
              { className: (0, L.A)(w().SaveBackground) },
              d.createElement(Wl, { setAdditionalContentDiv: a }),
            ),
          ),
        );
      }
      as = (0, J.Cg)([c.PA], as);
      const rs = (0, c.PA)(function (e) {
          const t = e.fnGetStatus();
          if (!t) return null;
          const { text: a, complete: n, total: l } = t;
          return d.createElement(
            oa.a,
            { statusType: n >= l ? "success" : "danger" },
            a,
          );
        }),
        ss = (0, c.PA)((e) => {
          var t;
          (0, d.useEffect)(() => {
            v.ac.LoadOGGClanInfoForIdentifier(e.appid_or_vanity_str);
          }, [e.appid_or_vanity_str]);
          const {
              clanSteamID: a,
              gid: n,
              appid: o,
              bInitiatePublishDialog: i,
              appid_or_vanity_str: r,
            } = e,
            s = !(P.UF.IS_CREATOR_HOME || P.UF.IS_CURATOR)
              ? null === (t = wt.A.Get().GetApp(o)) || void 0 === t
                ? void 0
                : t.GetName()
              : P.UF.VANITY_ID,
            c = l.mh.GetEditModel();
          return d.createElement(
            Jt.A4,
            { editModel: c },
            d.createElement(
              "div",
              { className: (0, L.A)(vl().wrapper) },
              d.createElement(Vl, {
                clanSteamID: a,
                appid: o,
                gid: n,
                appid_or_vanity_str: r,
              }),
              d.createElement(
                "div",
                {
                  className: (0, L.A)(
                    w().FlexColumnContainer,
                    vl().EventEditBelowTopBarContainer,
                  ),
                },
                d.createElement(
                  "div",
                  { className: vl().EventEditBelowTopBarGameName },
                  s,
                ),
                d.createElement(
                  "div",
                  { className: vl().EventEditBelowTopBarRow },
                  d.createElement(cs, { editModel: c }),
                  d.createElement(
                    te.Gq,
                    { toolTipContent: c.GetName(), direction: "bottom" },
                    d.createElement(
                      "div",
                      { className: vl().EventEditBelowTopBarEventName },
                      c.GetName(),
                    ),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: vl().maincontent },
                d.createElement(os, {
                  appid_or_vanity_str: r,
                  appid: o,
                  gid: n,
                  bInitiatePublishDialog: i,
                  clanSteamID: a,
                }),
              ),
              d.createElement("div", null),
            ),
          );
        });
      function cs(e) {
        const { editModel: t } = e,
          [a, l, i, r, s, c] = (0, Xt.q3)(() => [
            t.GetEventModel().bOldAnnouncement,
            t.GetStrVanityOrAppID(),
            t.GetCategoryAsString(),
            t.GetAnnouncementGID(),
            t.BHasGid() ? t.GetGID() : "",
            t.BHasTag("vo_marketing_message"),
          ]),
          { bCanChange: u, strReasonText: _ } = (0, o.NN)(t),
          E = d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "span",
              null,
              (0, R.we)("#EventEditor_TypeTitle"),
              " ",
            ),
            i,
            u && d.createElement("img", { src: ra.A }),
            !u && d.createElement(G.o, { tooltip: _ }),
          );
        return d.createElement(
          d.Fragment,
          null,
          u &&
            d.createElement(
              m.N_,
              {
                className: (0, L.A)(
                  vl().EventEditBelowTopBarCategoryChoice,
                  vl().AllowHover,
                ),
                to: a ? n.GY.MigrateCategory(l, r) : n.GY.Category(l, s),
              },
              E,
            ),
          !u &&
            d.createElement(
              "div",
              { className: vl().EventEditBelowTopBarCategoryChoice },
              E,
            ),
        );
      }
      let ds = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new p.b(P.UF.CLANSTEAMID));
        }
        render() {
          return d.createElement(ss, {
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            appid: P.UF.APPID,
            gid: this.props.match.params.gid,
            clanSteamID: this.m_clanSteamID,
            bInitiatePublishDialog: this.props.bInitiatePublishDialog,
          });
        }
      };
      ds = (0, J.Cg)([c.PA], ds);
      const ms = (0, x.L)(ds);
      class us extends d.Component {
        constructor(e) {
          super(e),
            (this.m_bRedirect = !1),
            (this.m_bRedirect =
              void 0 === l.mh.GetEditModel() ||
              1 == l.mh.GetEditModel().GetCategoryAsType());
        }
        render() {
          return this.m_bRedirect
            ? d.createElement(St.rd, {
                to: n.GY.Category(
                  this.props.match.params.appid_or_vanity_str,
                  "",
                ),
              })
            : d.createElement(ms, { ...this.props });
        }
      }
      function _s(e) {
        const { editModel: t } = e,
          [a, n, o, i, r, s, c, m, u] = (0, Xt.q3)(() => {
            return [
              t.GetEventType(),
              Boolean(t.GetEventModel().BHasTag("steam_best_of_year")),
              t.GetClanSteamID(),
              t.GetEventModel().vecTags,
              t.GetIncludedRealmList(),
              34 === t.GetEventType(),
              ((e = t.GetEventModel().jsondata.localized_spotlight_image),
              e ? e.filter(Boolean).length : 0),
              t.BAllowedSteamStoreSpotlight(),
              t.GetAppID(),
            ];
            var e;
          }),
          _ = ["background", "capsule"];
        c > 0
          ? _.push("spotlight")
          : Boolean(P.UF.IS_OGG) &&
            m &&
            (_.push("localized_store_app_spotlight"),
            _.push("localized_store_app_spotlight_mobile")),
          n && _.push("bestofyear_banner", "bestofyear_banner_mobile");
        const E = _.includes("spotlight"),
          p = _.includes("localized_store_app_spotlight"),
          v = _.includes("localized_store_app_spotlight_mobile");
        return d.createElement(
          Ct.tH,
          null,
          d.createElement(
            "div",
            { className: vl().ArtworkTipsCtn },
            d.createElement(
              "div",
              { className: vl().ArtworkTips },
              d.createElement(
                "p",
                null,
                d.createElement(
                  "strong",
                  null,
                  (0, R.we)("#selectimage_tip3_title"),
                ),
                ": ",
                (0, R.PP)(
                  "#selectimage_tip3",
                  d.createElement(
                    "span",
                    null,
                    d.createElement("br", null),
                    d.createElement(
                      "a",
                      {
                        target: P.TS.IN_CLIENT ? void 0 : "_blank",
                        href: "https://partner.steamgames.com/doc/store/localization#supported_languages",
                      },
                      (0, R.we)("#selectimage_see_documentation"),
                    ),
                  ),
                ),
              ),
              d.createElement(
                "p",
                null,
                d.createElement(
                  "a",
                  {
                    href: "https://partner.steamgames.com/public/marketing/steam_game_templates_2023.zip",
                    download: !0,
                  },
                  (0, R.we)("#selectimage_downloadtemplate"),
                ),
              ),
            ),
            d.createElement(
              "a",
              {
                href: "https://partner.steamgames.com/doc/marketing/event_tools/event_examples",
                className: vl().ArtworkDocs,
                target: P.TS.IN_CLIENT ? void 0 : "_blank",
              },
              d.createElement(
                "div",
                { className: vl().ArtworkExampleCtn },
                d.createElement("img", {
                  className: vl().ArtworkExampleThumbnail,
                  src: P.TS.IMG_URL + "events/thumb_library_home.jpg",
                }),
              ),
              d.createElement(
                "div",
                { className: vl().ArtworkExampleTitle },
                (0, R.we)("#selectimage_viewExamples"),
              ),
            ),
          ),
          d.createElement(ta.t, {
            clanSteamID: o,
            rgSupportArtwork: _,
            fnSetImageURL: t.SetImageURL,
            bAllowPreviousClanImageSelection: !0,
            rgRealmList: r,
          }),
          d.createElement(aa.it, {
            clanSteamID: o,
            appid: u,
            eventModel: t.GetEventModel(),
            title: (0, R.we)("#EventEditor_ArtworkType_capsule"),
            artworkType: "capsule",
            fnLangHasData: t.BHasTitleImage,
            fnSetImageURL: t.SetImageURL,
            fnGetImageHashAndExt: t.GetImageHashAndExt,
            headerHint: (0, U.bc)(a, i) ? aa.uE.k_Required : void 0,
            elEventArtworkExample: d.createElement(da, {
              artworkType: "capsule",
            }),
            partnerEventStore: l.mh,
          }),
          d.createElement(aa.it, {
            clanSteamID: o,
            appid: u,
            eventModel: t.GetEventModel(),
            title: (0, R.we)("#EventEditor_ArtworkType_background"),
            fnLangHasData: t.BHasTitleImage,
            fnSetImageURL: t.SetImageURL,
            fnGetImageHashAndExt: t.GetImageHashAndExt,
            artworkType: "background",
            headerHint: aa.uE.k_Suggested,
            elEventArtworkExample: d.createElement(da, {
              artworkType: "background",
            }),
            partnerEventStore: l.mh,
          }),
          Boolean(s && (p || v || E)) &&
            d.createElement(
              "div",
              { className: la().ArtworkSelectorContainer },
              d.createElement(
                "div",
                { className: la().Title },
                (0, R.we)("#EventEditor_ArtworkType_store_spotlight"),
              ),
              d.createElement(
                "div",
                { className: (0, L.A)(la().SelectImageBlock, la().Tips) },
                (0, R.we)(
                  "#EventEditor_ArtworkType_SpotlightNotSupport",
                  t.GetCategoryAsString(),
                ),
              ),
              d.createElement("br", null),
            ),
          Boolean(p && !s) &&
            d.createElement(aa.it, {
              clanSteamID: o,
              appid: u,
              eventModel: t.GetEventModel(),
              title: (0, R.we)(
                "#EventEditor_ArtworkType_localized_store_app_spotlight",
              ),
              fnLangHasData: t.BHasTitleImage,
              fnSetImageURL: t.SetImageURL,
              fnGetImageHashAndExt: t.GetImageHashAndExt,
              artworkType: "localized_store_app_spotlight",
              elEventArtworkExample: d.createElement(da, {
                artworkType: "localized_store_app_spotlight",
              }),
              headerHint: aa.uE.k_Requested,
              partnerEventStore: l.mh,
            }),
          Boolean(v && !s) &&
            d.createElement(aa.it, {
              clanSteamID: o,
              appid: u,
              eventModel: t.GetEventModel(),
              title: (0, R.we)(
                "#EventEditor_ArtworkType_localized_store_app_spotlight_mobile",
              ),
              fnLangHasData: t.BHasTitleImage,
              fnSetImageURL: t.SetImageURL,
              fnGetImageHashAndExt: t.GetImageHashAndExt,
              artworkType: "localized_store_app_spotlight_mobile",
              elEventArtworkExample: d.createElement(da, {
                artworkType: "localized_store_app_spotlight_mobile",
              }),
              headerHint: aa.uE.k_Requested,
              partnerEventStore: l.mh,
            }),
          Boolean(E && !s) &&
            d.createElement(aa.it, {
              clanSteamID: o,
              appid: u,
              eventModel: t.GetEventModel(),
              title: (0, R.we)("#EventEditor_ArtworkType_store_spotlight"),
              fnLangHasData: t.BHasTitleImage,
              fnSetImageURL: t.SetImageURL,
              fnGetImageHashAndExt: t.GetImageHashAndExt,
              artworkType: "spotlight",
              headerHint: (0, U.Ch)(a) ? aa.uE.k_Suggested : void 0,
              elEventArtworkExample: d.createElement(da, {
                artworkType: "spotlight",
              }),
              partnerEventStore: l.mh,
            }),
          Boolean(P.UF.IS_OGG) &&
            d.createElement(aa.it, {
              clanSteamID: o,
              appid: u,
              eventModel: t.GetEventModel(),
              fnSetImageURL: t.SetImageURL,
              fnGetImageHashAndExt: t.GetImageHashAndExt,
              title: (0, R.we)("#EventEditor_ArtworkType_hero"),
              fnLangHasData: t.BHasTitleImage,
              artworkType: "hero",
              partnerEventStore: l.mh,
            }),
          Boolean(n) &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(aa.it, {
                clanSteamID: o,
                appid: u,
                eventModel: t.GetEventModel(),
                fnLangHasData: t.BHasTitleImage,
                fnSetImageURL: t.SetImageURL,
                fnGetImageHashAndExt: t.GetImageHashAndExt,
                title: (0, R.we)("#EventEditor_ArtworkType_bestofyear_banner"),
                artworkType: "bestofyear_banner",
                partnerEventStore: l.mh,
              }),
              d.createElement(aa.it, {
                clanSteamID: o,
                appid: u,
                eventModel: t.GetEventModel(),
                fnLangHasData: t.BHasTitleImage,
                fnSetImageURL: t.SetImageURL,
                fnGetImageHashAndExt: t.GetImageHashAndExt,
                title: (0, R.we)(
                  "#EventEditor_ArtworkType_bestofyear_banner_mobile",
                ),
                artworkType: "bestofyear_banner_mobile",
                partnerEventStore: l.mh,
              }),
            ),
        );
      }
      var Es = a(6503),
        ps = a(96059),
        vs = a(51006),
        gs = a(91254),
        hs = a(59952);
      class Ss {
        GetCounts() {
          return this.m_counts;
        }
        async LoadCounts() {
          return Boolean(this.m_counts)
            ? this.m_counts
            : (this.m_promise || (this.m_promise = this.LoadInternalCount()),
              this.m_promise);
        }
        async LoadInternalCount() {
          var e, t;
          let a = null;
          try {
            const n =
                P.TS.STORE_BASE_URL + "saleaction/ajaxgetuserdeckcompatcounts",
              l = await s().get(n, {});
            if (
              200 == (null == l ? void 0 : l.status) &&
              1 ==
                (null === (e = l.data) || void 0 === e ? void 0 : e.success) &&
              (null === (t = l.data) || void 0 === t ? void 0 : t.counts)
            )
              return (this.m_counts = l.data.counts), this.m_counts;
            a = (0, M.H)(l);
          } catch (e) {
            a = (0, M.H)(e);
          }
          return (
            console.error(
              "CDeckCompCountStore.LoadInternalCount failed: " +
                (null == a ? void 0 : a.strErrorMsg),
              a,
            ),
            null
          );
        }
        static Get() {
          return (
            Ss.s_globalSingletonStore ||
              ((Ss.s_globalSingletonStore = new Ss()),
              ("dev" != P.TS.WEB_UNIVERSE && "beta" != P.TS.WEB_UNIVERSE) ||
                (window.g_DeckCompatCountStores = Ss.s_globalSingletonStore)),
            Ss.s_globalSingletonStore
          );
        }
        constructor() {
          if (
            ((this.m_counts = null),
            document.getElementById("application_config"))
          ) {
            let e = (0, P.Tc)("deckcompatcount", "application_config");
            Ss.ValidateListCompat(e) && (this.m_counts = e);
          }
        }
        static ValidateListCompat(e) {
          const t = e;
          return (
            t &&
            "number" == typeof t.verified &&
            "number" == typeof t.unsupported &&
            "number" == typeof t.playable
          );
        }
      }
      var bs = a(85320),
        ws = a(56631),
        Cs = a(35400),
        fs = a(6878),
        ys = a(77291),
        Ds = a(19267);
      const Ts = d.Fragment;
      function Is(e) {
        const {
            reservationPackageID: t,
            event: a,
            depositPackageID: n,
            bIsPreview: l,
            psuLessPackageID: o,
            strOutOfStockOverride: i,
            strDeliveryOverride: r,
            bDeliveryOverrideOnlyIfOutOfStock: s,
          } = e,
          c = (0, Ds.DR)(t),
          m = (0, Ds.DR)(o),
          u = (0, d.useMemo)(
            () => [
              {
                unique_id: "reservation_bbcode_" + t,
                reservation_package: t,
                deposit_package: n,
                localized_reservation_desc: (0, bl.$Y)([], 31, null),
                localized_out_of_stock_override: (0, bl.$Y)(
                  [i || null],
                  31,
                  null,
                ),
                localized_delivery_override_desc: (0, bl.$Y)(
                  [r || null],
                  31,
                  null,
                ),
                override_delivery_only_out_of_stock: Boolean(s),
                psu_less_package: o,
              },
            ],
            [t, n, i, r, s, o],
          );
        if (!c || (o && !m))
          return d.createElement(T.t, {
            string: (0, R.we)("#Loading"),
            size: "small",
            position: "center",
          });
        const _ = !Ma.iA.logged_in || !c.account_restricted_from_purchasing;
        return d.createElement(
          Ct.tH,
          null,
          d.createElement(
            d.Suspense,
            { fallback: null },
            d.createElement(Ts, { bIsPreview: l, rgReservationDef: u }),
          ),
          Boolean(c.allow_purchase_in_country) &&
            d.createElement(
              "div",
              { className: u[0].unique_id },
              d.createElement(ys.bk, {
                reservationDef: u[0],
                hardwareDetail: c,
                bPSULessModel: !1,
              }),
              _ &&
                d.createElement(ys.pc, {
                  event: a,
                  reservationDef: u[0],
                  hardwareDetail: c,
                }),
              Boolean(null == m ? void 0 : m.allow_purchase_in_country) &&
                d.createElement(ys.bk, {
                  reservationDef: u[0],
                  hardwareDetail: m,
                  bPSULessModel: !0,
                }),
            ),
        );
      }
      var Gs = a(28188),
        Ns = a(60014),
        As = a(55963),
        Ms = a(83284),
        Bs = a.n(Ms),
        Ls = a(41751),
        ks = a(20446),
        Rs = a(9202),
        Os = a.n(Rs);
      function Ps(e) {
        const { appid: t, color: a, bgcolor: n } = e,
          l = (0, Ns.n9)(),
          o = (0, As.L3)(l);
        return d.createElement(
          "div",
          { className: Os().WishlistHoverCtn },
          d.createElement(Ls.EP, {
            snr: o,
            appID: t,
            classOverride: (0, L.A)(
              Bs().WishlistButtonNotTop,
              Os().BBCodeWishlistButton,
              "WishlistButton",
            ),
            styleOverride: { color: a, backgroundColor: n },
          }),
        );
      }
      function xs(e) {
        const t = Number(e.args.appid);
        if (!t) return null;
        const a = (0, ks.O)(e.args.color, "black"),
          n = (0, ks.O)(e.args.bgcolor, "white");
        return d.createElement(Ps, { appid: t, color: a, bgcolor: n });
      }
      var Fs = a(10026),
        Hs = a.n(Fs);
      function js(e) {
        const { appid: t, color: a, bgcolor: n } = e;
        (0, Ns.n9)();
        return d.createElement(Ls.gi, {
          appID: t,
          classOverride: (0, L.A)(
            Bs().FollowGameButtonNotTop,
            Hs().BBCodeFollowButton,
          ),
          styleOverride: { color: a, backgroundColor: n },
        });
      }
      function zs(e) {
        const t = Number(e.args.appid);
        if (!t) return null;
        const a = (0, ks.O)(e.args.color, "black"),
          n = (0, ks.O)(e.args.bgcolor, "white");
        return d.createElement(js, { appid: t, color: a, bgcolor: n });
      }
      var Us = a(94057),
        qs = a(29868);
      function Vs(e) {
        return e < 10 ? "0" + e : e;
      }
      function Ws(e) {
        const { giveawayid: t } = e,
          a = (0, Us.w)(t),
          {
            bLoadingGiveawayInfo: n,
            winner_count: l,
            closed: o,
            seconds_until_drawing: i,
          } = a;
        return n
          ? null
          : d.createElement(
              "div",
              { className: qs.countdownCtn },
              Boolean(o) &&
                d.createElement(
                  "div",
                  { className: qs.Closed },
                  l > 0
                    ? (0, R.we)("#Giveaway_Closed", (0, Lt.D)(l))
                    : (0, R.we)("#Giveaway_Closed_NoWinnerInfo"),
                ),
              Boolean(!o) &&
                d.createElement(
                  d.Fragment,
                  null,
                  Boolean(i <= 0)
                    ? d.createElement(
                        "div",
                        { className: qs.Throbber },
                        d.createElement(T.t, { size: "small" }),
                        d.createElement(
                          "div",
                          null,
                          (0, R.we)("#Giveaway_RandomDraw"),
                        ),
                      )
                    : d.createElement(
                        "div",
                        { className: qs.CountDownCtn },
                        d.createElement(
                          "div",
                          { className: qs.CountDownTime },
                          Vs(Math.floor(i / 60)) + ":" + Vs(i % 60),
                        ),
                        d.createElement(
                          "div",
                          { className: qs.CountDownText },
                          (0, R.we)("#Giveaway_CountDown2"),
                          " ",
                          (0, R.we)("#Giveaway_KeepWatching"),
                        ),
                      ),
                  Boolean(l > 0) &&
                    d.createElement(
                      "div",
                      { className: qs.WinnerInfo },
                      d.createElement(
                        "div",
                        { className: qs.WinnerCount },
                        (0, Lt.D)(l),
                      ),
                      d.createElement(
                        "div",
                        { className: qs.WinnerText },
                        (0, R.we)("#Giveaway_Congratulation"),
                      ),
                    ),
                ),
            );
      }
      var Qs = a(10962),
        Ys = a(39733),
        Js = a(82477),
        Ks = a(39256),
        Zs = a(99487),
        Xs = a(28714),
        $s = a(39199),
        ec = a(80569),
        tc = a(40353);
      function ac(e) {
        const { eventModel: t, nEventBadgeID: a } = e,
          n = (0, Ys.fy)(a);
        if ((null == n ? void 0 : n.level) > 0) {
          let e = n.level;
          if (null == t ? void 0 : t.BHasSaleEnabled()) {
            const n = t.GetSaleSectionsByType("badge_progress");
            if (1 == (null == n ? void 0 : n.length)) {
              const l = n[0].badge_progress;
              if (
                (null == l ? void 0 : l.event_badgeid) == a &&
                (null == l ? void 0 : l.granted_by_discovery_queue)
              ) {
                const a = l.levels[l.levels.length - 1].level;
                return d.createElement(nc, {
                  eventModel: t,
                  nBadgeLevel: e,
                  nMaxLevel: a,
                });
              }
            }
          }
          return d.createElement(
            "span",
            { className: "DisplayBadgeProgress" },
            (0, Lt.D)(e),
          );
        }
        return null;
      }
      function nc(e) {
        const { eventModel: t, nBadgeLevel: a, nMaxLevel: n } = e,
          l = d.useMemo(() => {
            const e = t
              .GetSaleSections()
              .filter((e) => "discoveryqueue" == e.section_type);
            return (null == e ? void 0 : e.length) > 0 ? e[0] : null;
          }, [t]),
          { storePageFilter: o, eStoreDiscoveryQueueType: i } = d.useMemo(
            () => (0, Xs.lx)(t, l),
            [t, l],
          ),
          r = (0, $s.Uf)(i, o),
          s = Math.min(a + r, n);
        return d.createElement(
          "span",
          { className: "DisplayBadgeProgress" },
          (0, Lt.D)(s),
        );
      }
      function lc(e) {
        const { event: t } = e.context,
          a = Number.parseInt((0, hs.j$)(e.args, "eventid"));
        return P.iA.logged_in && a
          ? d.createElement(ac, { nEventBadgeID: a, eventModel: t })
          : null;
      }
      function oc(e) {
        const { nDoorIndex: t, children: a } = e,
          n = (0, Cs.OM)(t),
          { fnOpenDoor: l } = (0, Cs.OC)(),
          [o, i] = d.useState(!1),
          [r, s] = d.useState(!1);
        return d.createElement(
          h.$n,
          {
            disabled: n,
            onClick: (e) => {
              o ||
                (P.iA.logged_in
                  ? (i(!0),
                    l(t, !0, null, !1)
                      .then((e) => {
                        e || s(!0), i(!1);
                      })
                      .catch(() => {
                        s(!0), i(!1);
                      }))
                  : (0, Js.vg)());
            },
          },
          Boolean(r)
            ? d.createElement("div", null, (0, R.we)("#GrantAwardError_Busy"))
            : d.createElement(
                d.Fragment,
                null,
                Boolean(o) && d.createElement(T.t, { size: "small" }),
                Boolean(n) && d.createElement(Sn.Jlk, null),
                a,
              ),
        );
      }
      function ic(e) {
        const t = Number.parseInt((0, hs.j$)(e.args)) || 0;
        return t >= 0 && t < 32
          ? d.createElement(oc, { nDoorIndex: t }, e.children)
          : null;
      }
      const rc = (0, St.y)(ec.H);
      function sc(e) {
        var t, a;
        const n = Number.parseInt((0, hs.j$)(e.args)),
          { event: l, showErrorInfo: o } = e.context;
        if (n) {
          const i =
            null ===
              (a =
                null === (t = null == l ? void 0 : l.jsondata) || void 0 === t
                  ? void 0
                  : t.sale_sections) || void 0 === a
              ? void 0
              : a.findIndex((e) => e.unique_id == n);
          if (i >= 0) {
            const t = l.GetDayIndexFromEventStart();
            return d.createElement(
              ga.Cs,
              { location: o ? 2 : 0 },
              d.createElement(rc, {
                event: l,
                section: l.jsondata.sale_sections[i],
                activeTab: new Zs.y(null, t),
                language: e.language,
                nSaleDayIndex: t,
                promotionName: "",
                appVisibilityTracker: null,
                ePreviewMode: o
                  ? tc.S.EPreviewMode_Enabled
                  : tc.S.EPreviewMode_Disabled,
              }),
            );
          }
          if (o)
            return d.createElement(
              "div",
              { className: Ks.ErrorDiv },
              "Error could not find sale section ",
              n,
            );
        }
        return null;
      }
      var cc = a(18657),
        dc = a.n(cc);
      function mc(e) {
        const { clanAccountID: t, color: a, bgcolor: n } = e;
        (0, No.L2)();
        const [l, o] = d.useState(!1);
        return d.createElement(
          "div",
          {
            className: (0, L.A)(dc().BBCodeFollowButton, l && dc().isHovered),
            onMouseEnter: () => o(!0),
            onMouseLeave: () => o(!1),
          },
          d.createElement(Ls.Q3, {
            nCreatorAccountID: t,
            classOverride: Bs().FollowGameButtonNotTop,
            styleOverride: { color: a, backgroundColor: n },
            followType: "group",
          }),
        );
      }
      function uc(e) {
        const { event: t } = e.context,
          a = Number(e.args.groupid) || t.clanSteamID.GetAccountID();
        if (!a) return null;
        const n = (0, ks.O)(e.args.color, "black"),
          l = (0, ks.O)(e.args.bgcolor, "white");
        return d.createElement(mc, { clanAccountID: a, color: n, bgcolor: l });
      }
      let _c = null;
      function Ec(e) {
        const { event: t } = e.context,
          a = Number.parseInt((0, hs.j$)(e.args, "appid")),
          n = Number.parseInt((0, hs.j$)(e.args, "itemdefid")),
          l = Number.parseInt((0, hs.j$)(e.args, "maxquantity")),
          o = (0, hs.j$)(e.args, "calltoaction");
        return (0, ws.gS)(a, n)
          ? d.createElement(Gs.f, {
              language: e.language,
              clanAccountID: t.clanSteamID.GetAccountID(),
              itemDefSetting: { nAppID: a, nItemDefID: n, max_quantity: l },
              strCallToAction: o,
            })
          : d.createElement(T.t, {
              size: "small",
              position: "center",
              string: (0, R.we)("#Loading"),
            });
      }
      function pc(e) {
        const t = (function () {
          const [e, t] = d.useState(Ss.Get().GetCounts());
          return (
            d.useEffect(() => {
              e || Ss.Get().LoadCounts().then(t);
            }, []),
            e
          );
        })();
        if (!t) return d.createElement(T.t, { size: "small" });
        const a = Number.parseInt((0, hs.j$)(e.args));
        let n = t.verified;
        switch (a) {
          case 2:
            n = t.playable;
            break;
          case 1:
            n = t.unsupported;
        }
        return d.createElement("span", null, (0, Lt.D)(Number(n)));
      }
      function vc(e) {
        var t, a, n, l;
        const o = (0, bs.j)("library");
        if (!o) return d.createElement(T.t, { size: "small" });
        const i = Number.parseInt((0, hs.j$)(e.args));
        let r =
          (null === (t = o.verifiedList) || void 0 === t ? void 0 : t.length) ||
          0;
        switch (i) {
          case 2:
            r =
              (null === (a = o.playableList) || void 0 === a
                ? void 0
                : a.length) || 0;
            break;
          case 1:
            r =
              (null === (n = o.unsupportedList) || void 0 === n
                ? void 0
                : n.length) || 0;
            break;
          case 0:
            r =
              (null === (l = o.unknownList) || void 0 === l
                ? void 0
                : l.length) || 0;
        }
        return d.createElement("span", null, (0, Lt.D)(Number(r)));
      }
      function gc(e) {
        const t = Number.parseInt((0, hs.j$)(e.args)),
          a =
            "hide" in e.args &&
            Boolean(Number.parseInt((0, hs.j$)(e.args, "hide")));
        return t >= 0
          ? d.createElement(hc, { nDoorIndex: t, bHide: a }, e.children)
          : null;
      }
      function hc(e) {
        const { nDoorIndex: t, bHide: a, children: n } = e,
          l = (0, Cs.OM)(t);
        return null == l
          ? null
          : (l && !a) || (!l && a)
            ? d.createElement(d.Fragment, null, e.children)
            : null;
      }
      function Sc(e) {
        if (P.iA.logged_in) {
          const t = Number.parseInt((0, hs.j$)(e.args)),
            a = Number.parseInt((0, hs.j$)(e.args, "mod"));
          if (a > 0 && t < a && P.iA.accountid % a == t) return e.children;
        }
        return null;
      }
      function bc(e) {
        const t = (0, hs.j$)(e.args);
        return (null == t ? void 0 : t.trim().length) > 0
          ? d.createElement("div", { className: t.trim() }, e.children)
          : d.createElement(d.Fragment, null, e.children);
      }
      function wc(e) {
        return d.createElement(
          "span",
          { className: fs.LocalizeBlock },
          (0, R.oW)(
            e.children,
            d.createElement("b", null),
            d.createElement("b", null),
            d.createElement("b", null),
            d.createElement("b", null),
          ),
        );
      }
      function Cc(e) {
        let t = (0, hs.j$)(e.args);
        return t
          ? d.createElement(Ws, { giveawayid: t })
          : d.createElement(d.Fragment, null);
      }
      function fc(e) {
        const { event: t, showErrorInfo: a } = e.context,
          n = Number.parseInt((0, hs.j$)(e.args));
        if (n) {
          const a = Number.parseInt((0, hs.j$)(e.args, "depositpackageid")),
            l = Number.parseInt((0, hs.j$)(e.args, "psulesspackageid")),
            o = (0, hs.j$)(e.args, "out_of_stock_override"),
            i = (0, hs.j$)(e.args, "delivery_override"),
            r = (0, hs.j$)(e.args, "delivery_override_out_of_stock");
          return d.createElement(Is, {
            reservationPackageID: n,
            event: t,
            depositPackageID: a,
            psuLessPackageID: l,
            strOutOfStockOverride: o,
            strDeliveryOverride: r || i,
            bDeliveryOverrideOnlyIfOutOfStock: Boolean(r),
          });
        }
        return d.createElement(d.Fragment, null);
      }
      var yc = a(94429),
        Dc = (a(5977), a(97058)),
        Tc = a(39020);
      let Ic = class extends Es.mn {
        constructor() {
          super(...arguments), (this.state = { bLoading: !0 });
        }
        GetRedirectRender() {
          return d.createElement(St.rd, {
            push: !0,
            to: n.GY.Edit(
              this.props.match.params.appid_or_vanity_str,
              this.state.redirectToGIDEvent,
            ),
          });
        }
        render() {
          let e = super.render();
          return null != e
            ? e
            : d.createElement(ss, {
                appid: on.UF.APPID,
                appid_or_vanity_str:
                  this.props.match.params.appid_or_vanity_str,
                gid: "",
                clanSteamID: this.m_clanSteamID,
              });
        }
      };
      function Gc(e) {
        const [t, a] = d.useState(!0),
          i = (0, Tc.vb)(P.TS.LANGUAGE);
        return (
          d.useEffect(() => {
            vs.Vw.Init(new ps.D(P.TS.WEBAPI_BASE_URL)),
              gs.O3.Init(),
              l.mh.Init(),
              yc.us.AddDictionary(
                (null == _c &&
                  (_c = new Map([
                    [
                      "itemdef",
                      {
                        Constructor: Ec,
                        autocloses: !1,
                        skipInternalNewline: !0,
                        allowWrapTextForCopying: !0,
                      },
                    ],
                    ["wishlist", { Constructor: xs, autocloses: !1 }],
                    ["followgame", { Constructor: zs, autocloses: !1 }],
                    ["followgroup", { Constructor: uc, autocloses: !1 }],
                    ["deckcompatcount", { Constructor: pc, autocloses: !1 }],
                    [
                      "deckcompatuserlibrarycount",
                      { Constructor: vc, autocloses: !1 },
                    ],
                    ["giveawayinfo", { Constructor: Cc, autocloses: !1 }],
                    ["price", { Constructor: Qs.zD, autocloses: !1 }],
                    ["pricesavings", { Constructor: Qs.y7, autocloses: !1 }],
                    [
                      "eventdoorvisibility",
                      { Constructor: gc, autocloses: !1 },
                    ],
                    ["chooseaccount", { Constructor: Sc, autocloses: !1 }],
                    ["badgecurrentlevel", { Constructor: lc, autocloses: !1 }],
                    ["optindoorquest", { Constructor: ic, autocloses: !1 }],
                    ["classname", { Constructor: bc, autocloses: !1 }],
                    ["localize", { Constructor: wc, autocloses: !1 }],
                    ["salesection", { Constructor: sc, autocloses: !1 }],
                    ["reservationbutton", { Constructor: fc, autocloses: !1 }],
                  ])),
                _c),
              ),
              Promise.all([$.KN.InitGlobal()]).then(() => a(!1));
          }, []),
          t || !i
            ? d.createElement(T.t, {
                position: "center",
                size: "medium",
                string: (0, R.we)("#Loading"),
              })
            : d.createElement(
                Ct.tH,
                null,
                d.createElement(
                  yt.IQ.Provider,
                  { value: { bCanUseLink: !0 } },
                  d.createElement(bn.EB, null),
                  d.createElement(
                    St.dO,
                    null,
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Home(":appid_or_vanity_str"),
                      component: Ht,
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.List(":appid_or_vanity_str"),
                      component: Ht,
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Create(":appid_or_vanity_str"),
                      component: o.A9,
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Category(
                        ":appid_or_vanity_str",
                        ":gid(\\d+)?",
                      ),
                      render: (e) =>
                        d.createElement(o.A9, {
                          ...e,
                          key: e.match.params.gid,
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.EditRedirectToCategory(":appid_or_vanity_str"),
                      render: (e) => d.createElement(us, { ...e }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Edit(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: (e) =>
                        d.createElement(ms, { ...e, key: e.match.params.gid }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Publish(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: (e) =>
                        d.createElement(ms, {
                          ...e,
                          key: e.match.params.gid,
                          bInitiatePublishDialog: !0,
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.PreviewSale(
                        ":appid_or_vanity_str",
                        ":gid(\\d+)?",
                      ),
                      render: (e) =>
                        d.createElement(Yt, {
                          ...e,
                          key: e.match.params.gid,
                          mode: "previewsale",
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Preview(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: (e) =>
                        d.createElement(Yt, {
                          ...e,
                          key: e.match.params.gid,
                          mode: "preview",
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.View(":appid_or_vanity_str", ":gid(\\d+)"),
                      render: (e) =>
                        d.createElement(Yt, {
                          ...e,
                          key: e.match.params.gid,
                          mode: "view",
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.Migrate(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)",
                      ),
                      render: (e) =>
                        d.createElement(Ic, {
                          ...e,
                          key: e.match.params.oldAnnouncementGID,
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.MigrateCategory(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)",
                      ),
                      render: (e) =>
                        d.createElement(Es.pl, {
                          ...e,
                          key: e.match.params.oldAnnouncementGID,
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.ViewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)",
                      ),
                      render: (e) =>
                        d.createElement(Es.Io, {
                          ...e,
                          key: e.match.params.oldAnnouncementGID,
                          bClearDirty: !0,
                          bPreview: !1,
                        }),
                    }),
                    d.createElement(St.qh, {
                      exact: !0,
                      path: n.GY.PreviewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)",
                      ),
                      render: (e) =>
                        d.createElement(Es.Io, {
                          ...e,
                          key: e.match.params.oldAnnouncementGID,
                          bClearDirty: !0,
                          bPreview: !0,
                        }),
                    }),
                    d.createElement(St.qh, { component: Dc.a }),
                  ),
                ),
              )
        );
      }
      Ic = (0, J.Cg)([c.PA], Ic);
    },
    94057: (e, t, a) => {
      "use strict";
      a.d(t, { w: () => g });
      var n = a(34629),
        l = a(41735),
        o = a.n(l),
        i = a(14947),
        r = a(65946),
        s = a(90626),
        c = a(6419),
        d = a(6144),
        m = a(73745),
        u = a(78327);
      class _ {
        constructor() {
          (this.giveaway_id = void 0),
            (this.seconds_until_drawing = void 0),
            (this.rtime_start = void 0),
            (this.rtime_end = void 0),
            (this.closed = void 0),
            (this.winner_count = void 0),
            (0, i.Gn)(this);
        }
        BIsValid() {
          return void 0 !== this.giveaway_id && null !== this.giveaway_id;
        }
        BStarted() {
          return (
            this.BIsValid() &&
            (this.seconds_until_drawing >= 0 || this.winner_count > 0)
          );
        }
        clone() {
          const e = new _();
          return (
            (e.giveaway_id = this.giveaway_id),
            (e.seconds_until_drawing = this.seconds_until_drawing),
            (e.rtime_start = this.rtime_start),
            (e.rtime_end = this.rtime_end),
            (e.closed = this.closed),
            (e.winner_count = this.winner_count),
            e
          );
        }
      }
      (0, n.Cg)([i.sH], _.prototype, "giveaway_id", void 0),
        (0, n.Cg)([i.sH], _.prototype, "seconds_until_drawing", void 0),
        (0, n.Cg)([i.sH], _.prototype, "rtime_start", void 0),
        (0, n.Cg)([i.sH], _.prototype, "rtime_end", void 0),
        (0, n.Cg)([i.sH], _.prototype, "closed", void 0),
        (0, n.Cg)([i.sH], _.prototype, "winner_count", void 0);
      class E {
        constructor() {
          (this.m_mapGiveawayIDToNextDrawInfo = new Map()),
            (this.m_mapGiveawayIDAndInstanceToNextDrawInfo = new Map()),
            (this.m_bLoadedFromConfig = !1),
            (this.m_mapNextDrawChangeCallback = new Map()),
            (0, i.Gn)(this);
        }
        GetKey(e, t) {
          return e + "_" + t;
        }
        GetInfoByInstance(e, t) {
          return this.m_mapGiveawayIDAndInstanceToNextDrawInfo.get(
            this.GetKey(e, t),
          );
        }
        GetNextDrawChangeCallback(e) {
          return (
            this.m_mapNextDrawChangeCallback.has(e) ||
              this.m_mapNextDrawChangeCallback.set(e, new d.lu()),
            this.m_mapNextDrawChangeCallback.get(e)
          );
        }
        CopyToGiveaway(e, t) {
          t.closed != e.closed && (t.closed = e.closed),
            t.giveaway_id != e.giveaway_id && (t.giveaway_id = e.giveaway_id),
            t.rtime_start != e.rtime_start && (t.rtime_start = e.rtime_start),
            t.rtime_end != e.rtime_end && (t.rtime_end = e.rtime_end),
            t.winner_count != e.winner_count &&
              (t.winner_count = e.winner_count),
            t.seconds_until_drawing != e.seconds_until_drawing &&
              (t.seconds_until_drawing = e.seconds_until_drawing);
        }
        async ReloadGiveaway(e, t) {
          if (!e) return null;
          let a = u.TS.STORE_BASE_URL + "prizes/nextdraw/" + e,
            n = null,
            l = { origin: self.origin };
          return (
            (n = await o().get(a, { params: l })),
            (0, i.h5)(() => {
              if (
                (this.m_mapGiveawayIDToNextDrawInfo.has(e) ||
                  this.m_mapGiveawayIDToNextDrawInfo.set(e, new _()),
                this.CopyToGiveaway(
                  n.data,
                  this.m_mapGiveawayIDToNextDrawInfo.get(e),
                ),
                void 0 !== t)
              ) {
                const a = this.GetKey(e, t);
                this.m_mapGiveawayIDAndInstanceToNextDrawInfo.has(a) ||
                  this.m_mapGiveawayIDAndInstanceToNextDrawInfo.set(a, new _()),
                  this.CopyToGiveaway(
                    n.data,
                    this.m_mapGiveawayIDAndInstanceToNextDrawInfo.get(a),
                  );
              }
            }),
            this.GetNextDrawChangeCallback(e).Dispatch(
              this.m_mapGiveawayIDToNextDrawInfo.get(e),
            ),
            this.m_mapGiveawayIDToNextDrawInfo.get(e)
          );
        }
        static Get() {
          return (
            E.s_Singleton ||
              ((E.s_Singleton = new E()),
              E.s_Singleton.Init(),
              "dev" == u.TS.WEB_UNIVERSE &&
                (window.g_GiveawayStore = E.s_Singleton)),
            E.s_Singleton
          );
        }
        Init() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, u.Tc)("giveawaynextdraw", "application_config");
            if (e && e.giveaway_id) {
              let t = new _();
              this.CopyToGiveaway(e, t),
                this.m_mapGiveawayIDToNextDrawInfo.set(e.giveaway_id, t);
            }
            this.m_bLoadedFromConfig = !0;
          }
        }
      }
      (0, n.Cg)([i.sH], E.prototype, "m_mapGiveawayIDToNextDrawInfo", void 0),
        (0, n.Cg)([i.XI], E.prototype, "CopyToGiveaway", null);
      class p {
        constructor() {
          (this.m_myInstanceNumber = 0),
            (this.m_myInstanceNumber = p.s_GlobalInstance),
            (p.s_GlobalInstance += 1);
        }
        ClearRefreshInterval() {
          this.m_intervalID &&
            (window.clearInterval(this.m_intervalID),
            (this.m_intervalID = void 0));
        }
        ClearCountDown() {
          this.m_intervalCountDownID &&
            (window.clearInterval(this.m_intervalCountDownID),
            (this.m_intervalCountDownID = void 0));
        }
        SetupRefreshDataInterval(e, t) {
          if ((this.ClearRefreshInterval(), !e.closed)) {
            let a =
              e.seconds_until_drawing <= 0 && 0 == e.winner_count ? 6e4 : 5e3;
            this.m_intervalID = window.setInterval(t, a);
          }
        }
        SetupCountDown(e, t) {
          e > 0 && (this.m_intervalCountDownID = window.setInterval(t, 1e3));
        }
      }
      function v(e, t) {
        const a = E.Get().GetInfoByInstance(e, t.m_myInstanceNumber);
        (a.seconds_until_drawing -= 1),
          0 == a.seconds_until_drawing && t.ClearCountDown();
      }
      function g(e) {
        const [t] = (0, s.useState)(new p()),
          a = (0, m.CH)();
        (0, s.useEffect)(
          () => (
            E.Get()
              .ReloadGiveaway(e, t.m_myInstanceNumber)
              .then((n) => {
                t.SetupRefreshDataInterval(n, () =>
                  (function (e, t) {
                    const a = E.Get().GetInfoByInstance(
                      e,
                      t.m_myInstanceNumber,
                    );
                    a &&
                      a.BIsValid() &&
                      a.seconds_until_drawing <= 0 &&
                      !a.closed &&
                      (t.ClearCountDown(),
                      E.Get()
                        .ReloadGiveaway(e, t.m_myInstanceNumber)
                        .then((a) => {
                          t.SetupCountDown(a.seconds_until_drawing, () =>
                            v(e, t),
                          );
                        }));
                  })(e, t),
                ),
                  t.SetupCountDown(n.seconds_until_drawing, () => v(e, t)),
                  a();
              }),
            () => {
              t.ClearRefreshInterval(), t.ClearCountDown();
            }
          ),
          [t, e, a],
        );
        const n = E.Get().GetInfoByInstance(e, t.m_myInstanceNumber),
          [l, o, i] = (0, r.q3)(() => [
            null == n ? void 0 : n.winner_count,
            null == n ? void 0 : n.closed,
            null == n ? void 0 : n.seconds_until_drawing,
          ]);
        return {
          bLoadingGiveawayInfo:
            !n || null == n.giveaway_id || !n.BStarted() || void 0 === l,
          winner_count: l,
          closed: o,
          seconds_until_drawing: i,
        };
      }
      (p.s_GlobalInstance = 0),
        (0, n.Cg)([c.o], p.prototype, "ClearRefreshInterval", null),
        (0, n.Cg)([c.o], p.prototype, "ClearCountDown", null),
        (0, n.Cg)([c.o], p.prototype, "SetupRefreshDataInterval", null),
        (0, n.Cg)([c.o], p.prototype, "SetupCountDown", null);
    },
    5618: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => u });
      var n = a(90626),
        l = a(61859),
        o = a(52038),
        i = a(95695),
        r = a.n(i),
        s = a(14256),
        c = a.n(s),
        d = a(32754),
        m = a(96715);
      const u = (e) => {
        const t = n.createRef(),
          [a, i] = n.useState(""),
          s = n.createRef();
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            {
              className: (0, o.A)(r().FlexRowContainer, c().linkField),
              onClick: (e) => {
                t.current &&
                  t.current.ownerDocument.defaultView.navigator.clipboard
                    .writeText(t.current.value)
                    .then((e) => {
                      i((0, l.we)("#EventDisplay_Share_CopiedToClipboard"));
                    })
                    .catch((e) => {
                      i(
                        (0, l.we)(
                          "#EventDisplay_Share_FailedToCopyToClipboard",
                        ),
                      ),
                        console.error("Failed to copy link to clipboard:", e);
                    });
              },
            },
            n.createElement(
              "span",
              { className: c().LinkInputLabel },
              (0, l.we)(
                e.labelOverride ? e.labelOverride : "#EventDisplay_Share_Link",
              ),
            ),
            n.createElement("textarea", {
              className: c().LinkInput,
              ref: t,
              value: e.eventLink,
              readOnly: !0,
            }),
            document.queryCommandSupported("copy") &&
              n.createElement(
                "div",
                {
                  className: (0, o.A)(r().Button, r().Icon, c().LinkButton),
                  title: (0, l.we)("#ToolTip_CopyLinkToClipboard"),
                },
                n.createElement(
                  d.he,
                  { toolTipContent: (0, l.we)("#ToolTip_CopyLinkToClipboard") },
                  n.createElement("img", {
                    className: c().ClipboardIcon,
                    src: m.A,
                  }),
                ),
              ),
          ),
          n.createElement("div", { ref: s, className: c().ClipboardText }, a),
        );
      };
    },
    19369: (e, t, a) => {
      "use strict";
      a.d(t, { jl: () => f, Bv: () => C });
      var n = a(34629),
        l = a(90626),
        o = a(73745),
        i = a(41735),
        r = a.n(i),
        s = a(68255),
        c = a(61859),
        d = a(91640),
        m = a.n(d),
        u = a(78327),
        _ = a(17720),
        E = a(56011),
        p = a(14947),
        v = a(85044),
        g = a(81393);
      a(68797);
      class h {
        constructor() {
          (this.m_mapProfiles = new Map()),
            (this.m_mapProfilesLoading = new Map()),
            (0, p.Gn)(this);
        }
        async LoadProfiles(e, t) {
          (0, g.wT)(
            e.length <= 500,
            "Check LoadProfiles, requesting too many steam IDs",
          );
          let a = e.filter(
            (e) =>
              !this.m_mapProfiles.has(e) && !this.m_mapProfilesLoading.has(e),
          );
          if (0 == a.length) return this.m_mapProfilesLoading.get(e[0]);
          let n = u.TS.COMMUNITY_BASE_URL + "actions/ajaxresolveusers",
            l = r().get(n, {
              params: { steamids: a.join(",") },
              withCredentials: !0,
              cancelToken: null == t ? void 0 : t.token,
            });
          a.forEach((e) => this.m_mapProfilesLoading.set(e, l));
          let o = await l;
          o.data &&
            200 == o.status &&
            o.data.forEach((e) => {
              (e.avatar_hash = e.avatar_url),
                (e.avatar_url_medium = (0, v.t)(e.avatar_url, "medium")),
                (e.avatar_url_full = (0, v.t)(e.avatar_url, "full")),
                (e.avatar_url = (0, v.t)(e.avatar_url)),
                this.m_mapProfiles.set(e.steamid, e),
                this.m_mapProfilesLoading.delete(e.steamid);
            });
        }
        GetProfile(e) {
          return this.m_mapProfiles.get(e);
        }
        GetProfileByAccountID(e) {
          return this.m_mapProfiles.get(
            _.b.InitFromAccountID(e).ConvertTo64BitString(),
          );
        }
        GetProfileBySteamID(e) {
          return this.m_mapProfiles.get(e.ConvertTo64BitString());
        }
        BHasProfile(e) {
          return this.m_mapProfiles.has(e);
        }
        BHasProfileByAccountID(e) {
          return this.m_mapProfiles.has(
            _.b.InitFromAccountID(e).ConvertTo64BitString(),
          );
        }
        BHasProfileBySteamID(e) {
          return this.m_mapProfiles.has(e.ConvertTo64BitString());
        }
        BHasAllProfilesBySteamID(e) {
          return !e.some((e) => !this.BHasProfileBySteamID(e));
        }
        GetProfileURLBySteamID(e) {
          const t = this.GetProfileBySteamID(e);
          return t && t.profile_url
            ? u.TS.COMMUNITY_BASE_URL + "id/" + t.profile_url
            : u.TS.COMMUNITY_BASE_URL + "profiles/" + e.ConvertTo64BitString();
        }
        GetPersonaNameBySteamID(e) {
          const t = this.GetProfileBySteamID(e);
          return t && t.persona_name ? t.persona_name : "";
        }
      }
      (0, n.Cg)([p.sH], h.prototype, "m_mapProfiles", void 0);
      const S = new h();
      var b = a(12155),
        w = a(45699);
      class C extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              invite_token: "",
              input_search: "",
              friend_code_copied: !1,
              invite_copied: !1,
            });
        }
        async componentDidMount() {
          const e = await r().get(
            u.TS.COMMUNITY_BASE_URL + "invites/ajaxgetall",
            { params: { sessionid: u.TS.SESSIONID } },
          );
          if (e && e.data && e.data.tokens) {
            const t = e.data.tokens.filter((e) => e.valid);
            t.length
              ? this.setState({ invite_token: t[0].invite_token })
              : this.OnCreateInviteLink();
          } else this.OnCreateInviteLink();
        }
        async OnCreateInviteLink() {
          const e = new FormData();
          e.append("sessionid", u.TS.SESSIONID),
            e.append("steamid_user", u.iA.steamid),
            e.append("duration", (2592e3).toString());
          const t = await r().post(
            u.TS.COMMUNITY_BASE_URL + "invites/ajaxcreate",
            e,
          );
          t &&
            t.data &&
            t.data.invite &&
            this.setState({ invite_token: t.data.invite.invite_token });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, E.OG)(t);
        }
        async OnAddFriend(e) {
          const t = new FormData();
          t.append("sessionID", u.TS.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0");
          try {
            const e = await r().post(
              u.TS.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
              t,
            );
            return e && e.data && 1 == e.data.success;
          } catch {
            return !1;
          }
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            u.TS.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = u.iA.short_url + "/" + this.state.invite_token;
          return l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: m().HeaderBlock },
              (0, c.we)("#ManageFriends_AddAFriend"),
            ),
            l.createElement(
              "div",
              { className: m().Background },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.we)("#ManageFriends_YourFriendCode"),
              ),
              l.createElement(
                "div",
                { className: m().CopyContainer },
                l.createElement("h1", { className: m().Text }, u.iA.accountid),
                l.createElement(
                  s.jn,
                  {
                    autoFocus: !0,
                    className: m().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(u.iA.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, c.we)("#ManageFriends_Copied")
                    : (0, c.we)("#ManageFriends_Copy"),
                ),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.we)("#ManageFriends_EnterFriendCode"),
              ),
              l.createElement(f, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, c.we)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            l.createElement(
              "div",
              { className: m().DimBackground },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.we)("#ManageFriends_OrSendQuickInvite"),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.we)("#ManageFriends_QuickInviteDescription"),
              ),
              l.createElement(
                "p",
                { className: m().Body },
                (0, c.we)("#ManageFriends_QuickInviteNote"),
              ),
              l.createElement(
                "div",
                { className: m().CopyContainer },
                Boolean(this.state.invite_token) &&
                  l.createElement("div", { className: m().Link }, e),
                l.createElement(
                  s.jn,
                  {
                    className: m().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, c.we)("#ManageFriends_Copied")
                    : (0, c.we)("#ManageFriends_Copy"),
                ),
              ),
              l.createElement(
                s.$n,
                {
                  className: m().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, c.we)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            l.createElement(
              "div",
              { className: m().Background },
              l.createElement(
                "h1",
                { className: m().Heading },
                (0, c.we)("#ManageFriends_OrSearch"),
              ),
              l.createElement("br", null),
              l.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                l.createElement(
                  "div",
                  { style: { width: "100%" } },
                  l.createElement(s.pd, {
                    className: m().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, c.we)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                l.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  l.createElement(b.eSy, null),
                ),
              ),
            ),
          );
        }
      }
      (0, n.Cg)([o.oI], C.prototype, "OnCreateInviteLink", null),
        (0, n.Cg)([o.oI], C.prototype, "OnCopy", null),
        (0, n.Cg)([o.oI], C.prototype, "OnAddFriend", null),
        (0, n.Cg)([o.oI], C.prototype, "OnSearchChange", null),
        (0, n.Cg)([o.oI], C.prototype, "OnSearchKeyDown", null),
        (0, n.Cg)([o.oI], C.prototype, "OnSearchSubmit", null);
      class f extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              input_friend_code: "",
              disable_send_invite: !1,
              searchResult: null,
              invite_status: "pending",
            }),
            (this.m_currentRequest = 0);
        }
        async OnFriendCodeChange(e) {
          const t = e.target.value.split(",")[0];
          this.setState({ input_friend_code: t, invite_status: "pending" }),
            window.clearTimeout(this.m_currentRequest),
            (this.m_currentRequest = window.setTimeout(
              () => this.LoadProfile(t),
              500,
            ));
        }
        async LoadProfile(e) {
          if (e) {
            const t = _.b.InitFromAccountID(Number(e));
            await S.LoadProfiles([t.ConvertTo64BitString()]);
            const a = S.GetProfile(t.ConvertTo64BitString());
            a
              ? this.setState({
                  searchResult: a,
                  disable_send_invite:
                    u.iA.is_limited ||
                    (this.props.bDisableForFriends && a.is_friend) ||
                    (this.props.bDisableForSelf && a.steamid === u.iA.steamid),
                })
              : this.setState({ searchResult: null });
          } else this.setState({ searchResult: null });
        }
        async OnActionClick(e) {
          const t = new FormData();
          t.append("sessionID", u.TS.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0"),
            this.setState({ disable_send_invite: !0 });
          (await this.props.onButtonClick(e))
            ? (this.setState({
                input_friend_code: "",
                invite_status: "success",
              }),
              setTimeout(() => this.setState({ searchResult: null }), 3e3))
            : this.setState({
                invite_status: "failure",
                disable_send_invite: !1,
              });
        }
        render() {
          return l.createElement(
            "div",
            { className: m().FriendCodeSelector },
            l.createElement(s.pd, {
              className: m().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, c.we)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            l.createElement(
              y,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              l.createElement(
                s.jn,
                {
                  className: m().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, n.Cg)([o.oI], f.prototype, "OnFriendCodeChange", null),
        (0, n.Cg)([o.oI], f.prototype, "LoadProfile", null),
        (0, n.Cg)([o.oI], f.prototype, "OnActionClick", null);
      const y = (e) => {
        const {
            searchResult: t,
            invite_status: a,
            bShowStatus: n,
            children: o,
          } = e,
          i = (0, u.Qn)();
        return Boolean(t)
          ? l.createElement(
              "div",
              { className: m().ProfileCard },
              l.createElement(
                "div",
                { className: m().UserContainer },
                l.createElement(
                  "div",
                  { className: m().Image },
                  l.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                l.createElement(
                  "div",
                  { className: m().ProfileContent },
                  l.createElement(
                    "h1",
                    { className: m().Heading },
                    t.persona_name,
                  ),
                  l.createElement(
                    "div",
                    { className: m().ProfileLink },
                    l.createElement(
                      w.Ii,
                      {
                        target: i ? void 0 : "_blank",
                        href: u.TS.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, c.we)("#ManageFriends_ProfileLink"),
                    ),
                    l.createElement("br", null),
                    l.createElement(
                      "span",
                      { className: m().Body },
                      t.real_name,
                      l.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${t.state ? "," : ""} ${t.country}`,
                    ),
                  ),
                ),
                o,
              ),
              l.createElement(
                "div",
                { className: m().ProfileLink },
                t.is_friend &&
                  l.createElement(
                    "div",
                    null,
                    (0, c.we)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      w.Ii,
                      {
                        target: i ? void 0 : "_blank",
                        href:
                          u.TS.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, c.we)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, c.we)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                n &&
                  "failure" === a &&
                  l.createElement(
                    "div",
                    { className: m().Failure },
                    (0, c.we)("#ManageFriends_InviteFailure"),
                  ),
                n &&
                  "success" === a &&
                  l.createElement(
                    "div",
                    { className: m().Success },
                    (0, c.we)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
    },
    96715: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => n });
      const n =
        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIxNDAwcHgiIGhlaWdodD0iMTQwOXB4IiB2aWV3Qm94PSIwIDE4MDEuNSAxNDAwIDE0MDkiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAxODAxLjUgMTQwMCAxNDA5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9Imljb25tb25zdHItbGluay0xXzFfIiBmaWxsPSIjRkZGRkZGIiBkPSJNMzYyLjM1MywyMzEwLjU4OGMxNDguMjM1LTE0OC4yMzUsMzg3LjA2LTE0OC4yMzUsNTI3LjA2LDAKCWMxNi40NzEsMTYuNDcxLDMyLjk0MSw0MS4xNzcsNDkuNDExLDU3LjY0N0w4MDcuMDU5LDI1MDBjLTQxLjE3Ni04Mi4zNTMtMTMxLjc2NS0xMzEuNzY1LTIyMi4zNTMtMTE1LjI5NAoJYy00MS4xNzcsOC4yMzUtNzQuMTE4LDI0LjcwNi05OC44MjMsNDkuNDExbC0yNDcuMDU5LDI0Ny4wNmMtNzQuMTE4LDc0LjExNy03NC4xMTgsMTk3LjY0NiwwLDI4MAoJYzc0LjExOCw3NC4xMTcsMTk3LjY0Nyw3NC4xMTcsMjgwLDBsMCwwbDc0LjExOC03NC4xMThjNzQuMTE3LDI0LjcwNiwxNDguMjM1LDQxLjE3NywyMjIuMzUzLDMyLjk0MWwtMTcyLjk0LDE3Mi45NDEKCWMtMTQ4LjIzNSwxNDguMjM1LTM4Ny4wNiwxNDguMjM1LTUyNy4wNiwwcy0xNDguMjM1LTM4Ny4wNTksMC01MjcuMDU5QzEwNy4wNTksMjU1Ny42NDcsMzYyLjM1MywyMzEwLjU4OCwzNjIuMzUzLDIzMTAuNTg4egoJIE03NTcuNjQ2LDE5MDcuMDU5TDU5Mi45NDEsMjA4MGM3NC4xMTctOC4yMzUsMTQ4LjIzNSw4LjIzNSwyMTQuMTE3LDMyLjk0MWw3NC4xMTgtNzQuMTE4Yzc0LjExNy03NC4xMTcsMTk3LjY0Ni03NC4xMTcsMjgwLDAKCWM4Mi4zNTMsNzQuMTE4LDc0LjExNywxOTcuNjQ3LDAsMjgwbC0yNTUuMjk0LDI0Ny4wNmMtNzQuMTE4LDc0LjExNy0xOTcuNjQ3LDc0LjExNy0yODAsMAoJYy04LjIzNS0xNi40NzEtMjQuNzA2LTQxLjE3Ny0zMi45NDEtNjUuODgzbC0xMzEuNzY1LDEzMS43NjVjMTYuNDcxLDI0LjcwNiwzMi45NCw0MS4xNzcsNDkuNDExLDU3LjY0NwoJYzE0OC4yMzUsMTQ4LjIzNSwzODcuMDU5LDE0OC4yMzUsNTI3LjA2LDBsMCwwbDI0Ny4wNTktMjQ3LjA2YzE0OC4yMzUtMTQ4LjIzNSwxNDguMjM1LTM4Ny4wNTksMC01MjcuMDU5CglTOTA1Ljg4MywxNzY3LjA1OSw3NTcuNjQ2LDE5MDcuMDU5TDc1Ny42NDYsMTkwNy4wNTlMNzU3LjY0NiwxOTA3LjA1OXoiLz4KPC9zdmc+Cg==";
    },
  },
]);
