/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [8138],
  {
    35471: (e) => {
      e.exports = {
        AvatarRow: "_2_WvK_kw61MeIY0BLQuTYk",
        Avatar: "_27tBXgfdEAfkIIkBVcHcz7",
        AvatarImgCtn: "_38rbzqVaeYFSog5HY2wIfA",
        AvatarCropPreview: "_2Oe26ilBQ7C8rjQMvDsmgp",
        AvatarFrame: "_3ySvFQWUuRAY6Vx1d5Efkw",
        Large: "EYMShwguH1_ideNSQzvMS",
        Medium: "_14qK3ssEIfafgHxF-tSLUd",
        Small: "_2pCRw3iWEG_XNKhAxycr9t",
        size: "_2jOhbF8XC1faroHD7ujZfC",
        AvatarDialog: "_1p-WxvRlOfiudkoGE7ksJy",
        AvatarDialogBody: "_39Ovvp_JpX-r2RWezUkAdX",
        AvatarDialogTop: "aCrGPGVeH6HvzyPW8PaAj",
        AvatarDialogUploadArea: "_22EnaYFQb5I0kYtH2UHEhV",
        AvatarSaveActions: "_1c6Pv0fgCBFtwWexhQwIT-",
        Error: "eo3iM5FQXIYFjV6icGtOt",
        HideDefaultAvatar: "_6zU6FltqwlftPqcXGNwdg",
      };
    },
    45301: (e) => {
      e.exports = {
        AvatarCollectionHeader: "_27Q-8T7of0bKkwA3zlx1kz",
        AvatarCollectionName: "_2pum1YNak3hPxNcovBkHLM",
        AvatarCollection: "_1UoAvYFtO-OEv3DMwZCL8A",
        AvatarCollectionSingleRowWrapper: "_1vTT_zTYgCMac88oxQi3Ha",
        ExpandButtonContainer: "_1gQbx3Kj8dnEC2lP45X6kS",
        AvatarCollectionSingleRow: "BT8ZjnpbIcKCaGUGlVd-v",
        AvatarRowSpacer: "_3g0nrYJivLhKmdWlHk1uhD",
        AvatarPreview: "_29CGQrIvjYllKwVQKe8d8R",
        Large: "_1aa4CwlUeZE1tRZGOsRPx9",
        ExpandAvatarsButton: "_3PolQ91t3Uohfvr4beUAM9",
        FramePreview: "_16w1DqxiJ7Hou6al4RGELE",
        DefaultAvatarFrame: "Z3REHSppX48KICnAjjh90",
        DefaultAvatarFrameContent: "_2TBs_xzgkuwXPkgIBiITOJ",
        CollectionGroup: "_2kbA6NLESf88_j1ERdI8Gv",
        Title: "_2Gy0LT9CY0HBBCjrM9Ffs7",
        Primary: "_24kMLN7TtIY39bpBnG9XZv",
        CollectionGroupAvatars: "wWso7JTRLQM-cuJ7gvxf3",
      };
    },
    27456: (e) => {
      e.exports = { FilteredNameWarning: "WMztNH2YVTVVxIq6OxSLt" };
    },
    90713: (e) => {
      e.exports = {
        Badge: "_2ODUBJas15JwSZWN9fWb07",
        BadgeImage: "_3M7FE3-Qhs3rPPI1uEviqM",
        BadgeImageNone: "_1oIYR3fmUnOC9eWJOv-Rz-",
        BadgeDetails: "_3Y40HABkqaQQVn7lIX0Rm9",
        GameName: "k5TyflBXF_FmpbYNKfggk",
        Active: "_1r9u8u8kKtPi6zOrEDoLzY",
        FavoriteBadge: "_3lkNZaOsD0rSbyrItINirx",
        BadgeOption: "P1MG7839XeRbNLY9PPQ38",
      };
    },
    53841: (e) => {
      e.exports = {
        Group: "_1yHxtA_qbj9xWiLkUiovpE",
        GroupAvatar: "_1C_n640PvrV_-DCXwOeCZY",
        GroupDetails: "aUFBJvbETNq6EL-n8KopY",
        Active: "_12sHAG2Fad1srfzqUDKzBF",
        FavoriteGroup: "_2XwzRFYfrwfarnDmtGb8Hj",
        GroupOption: "_3neyrJugKgECRdGVuulTG5",
      };
    },
    30082: (e) => {
      e.exports = {
        MiniProfilePreview: "_1MWlWL7ZhPBM6BDFnIiZC-",
        MiniProfileBackgroundOption: "_1kB6_rUcA_VRp7MER6E0Vi",
        Preview: "_1JFlRrkeYJegFK8xCBRfYw",
        Active: "B-qJhQJWkxUckMndLyqeR",
        Details: "_3-aXJM9nyOBORZvUQyQ3ap",
        BlankBackground: "_19sKX1Sg9icPcVJAPT7kN0",
        PreviewVideo: "_3PAmyizPC3zW2TZLRI8I9P",
        Title: "_2l5zy4BaLwvaZNuUvyQnU6",
        App: "xmRMR8QAsdIDgZA0PoBxy",
        WithVideo: "_1BBISLCwQa0DE2a_Xy6Icq",
      };
    },
    26075: (e) => {
      e.exports = {
        EquippedBackgroundBlock: "_1PihrEGH3HghW5Q87-82wa",
        EquippedBackgroundPreview: "_2k_2LLU5UqpUgiNx2F04-w",
        BackgroundOption: "_189ERe_A-jhzSSRw4f2Hw",
        Preview: "_2Zeggw-2qC5ma2qpjzHRlF",
        Active: "evPn26xhwAuh_SlWNY26E",
        Details: "_1xKo7wTahW2CJNXn4Gfkxj",
        PreviewVideo: "_2zA7YWc8urB45EvldeF88g",
        WithVideo: "_3muY5fT_nvt4gikS1bVHmO",
        Title: "o0PlP8_WMy75QKdhVlbov",
        App: "_3yGh0iLXIo7GSx2Pg69p8j",
        ProfileBackgroundEquipOptions: "RS77Un974Vp7lUC-yWzSj",
        HideEquipOptions: "_1XNnrCt7ro_dtfW9NhPTVH",
        ProfileBackgroundEquipOption: "_3Hc2RndZ1VBwa3ChKjT5r_",
      };
    },
    78091: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Shell: "_2kqKZFxhF8XvzaoAekjV7m",
        Navigation: "_33Kl16vpskBOQpwINGA8ah",
        NavLink: "_3rtIpqfC_9VWz4DRSTPach",
        ExternalLink: "_1xCANgh2DSCcadDX6X0PpT",
        Disabled: "k9wPoKS3UeY-ju9JEoeZZ",
        Active: "_3H7Awq1oAhxrdDo3ANR4mu",
        ProfileEditStoreLink: "_3iaJsP4avEYu4oI9gP8Gro",
        PageContent: "_23XE60ehNyeIhLHf5L7QPl",
        table: "_3hkXCJfwhtQ7cIylRaBXqu",
        grey_bevel: "TyiecoVJmS6-thhLSt8g3",
        ProfileEditLine: "_58Mghr8vhm_-IZP3Mkcb_",
        BackToProfileCtn: "_1YOt2792y012GM8bOQs0kh",
      };
    },
    49622: (e) => {
      e.exports = {
        ProfileModifierPreview: "OhBEtbgKwv_tF8ApEBKW1",
        ProfileModifierOption: "_3NIiYdehUu4wAz6rNXR_OB",
        Preview: "_2GvFUUI49ePmg62crk2qDO",
        Active: "_3nePJyNcthWMTkF4NSI7aI",
        Details: "v3WjrE9N9goFIJQPWYt2y",
        BlankBackground: "Gd3-pJ25GXL-bDaQAnChb",
        Title: "_3be6DMXFaQOXetdgMvAlAB",
        App: "_2SYZ_HWvH4AGrrsvCxfhv",
      };
    },
    38945: (e) => {
      e.exports = {
        ProfilePreview: "sJ5StnbpDdxWmTGb1GPaI",
        PaintRadial0: "_3ygvjjstY4gEw5KnTovscL",
        PaintRadial1: "_1iVdB4h9VHJh3-Y2uaYV_a",
        ThemeBackground: "_2cgol9Az0EgKe5fq221xB1",
        ProfilePagePreviewCtn: "jnA47pnC2fs47Uo4apcHu",
        BackgroundPosition: "_2iCc5ucakNB4NVioWadFOk",
        Background: "_3gdqW4BrRxMHh-BiNB6op0",
        FullScreen: "_3wfiB3fzVjHX4d37oNIrws",
        ProfilePreviewPosition: "_2YO8vzkqzPjjFQ2DkjOdUE",
        ProfilePreviewCtn: "uyN_gy4zQkYOLt9JjhqwO",
      };
    },
    20644: (e) => {
      e.exports = {
        ProfileThemePicker: "_37I7qqfjDrrodNn7HMcUDt",
        ThemePickerDisabled: "_1gBl2q9swlXkDKS1stCsJI",
        ProfileThemePreviewCtn: "_3PwJq2PZopqeihMUUx3DFr",
        ThemesDisabledNotice: "_3GOAIB03esypNEP7awK6mV",
        Notice: "_2fpuQBcIAw_0cP_FLqJqBR",
        ProfileTheme: "_39ksjd1_LKKPt0CIOhnMF7",
        Option: "_2aQ08chNRS9DgKjACdNLuA",
        Details: "mHggMG8QHavW0I9eosXGZ",
        Preview: "_36oStJXlvGWLdFxYUgNyg-",
        Active: "_1axztkRY8LVC4m3V8pYDb3",
        PreviewCtn: "_33SnKgfa_4ZtACekXcqli0",
        EditBackground: "_1idPP7NJkL8W_tzA70RqD_",
        PaintRadial0: "_18laVD4VvL_F7TfqStTAlc",
        PaintRadial1: "W_TqKQWMZV-fb62eqJZLF",
        ProfilePreview: "MneEOvQdS_KqFNR9i_Uxz",
      };
    },
    19838: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        formattingButtons: "_2T2D7Afq6aW35s3wV5Tgkz",
        formattingButton: "LhNoIaEKN1cIpOrnt59wq",
        summaryTextArea: "_2ipSt29jAqoPXf-_iTAL0-",
        summaryContainer: "_3sH5hzWvrCU2QOKpNxfq3m",
      };
    },
    31270: (e) => {
      e.exports = {
        ProfileEditRoot: "_1lBbVHO5WRsyO1b79tnWM7",
        ItemPicker: "n1M1oAE4l0f1dxNm_ux2s",
        ItemPickerCtn: "_20EDLy9ziFgZhS3jI4b1FG",
        ItemPickerList: "SMUuC8C6RWRfyx8muAw-S",
        PickerPreviewDialog: "_20HXbZxc7PM5Cr1hOzK2SC",
        PickerPreviewBody: "_2sArlom6cS_SfcD2RzzHW2",
        PickerPreviewItems: "_2N5uyja8fIs2OYuVFmwXLH",
        SaveCancelButtons: "_2KJ8a96V8ilTQR7aQd6wsC",
        ProfileRow: "_302o-E1lWNsjmNpOpQSdDC",
        ProfileCol: "_3tMGe9MfyRH0586o3fy4n5",
        ProfileBox: "uwqwoAlIVWyJ8l71i77-i",
        ProfileBoxTitle: "_2CGYg9che0ONznDOoGhp9Y",
        ProfileBoxContent: "_3s6BBoF1hXm0yeOzoVsAQj",
        ShortLeftCol: "_1tHO9JW5QgfwCm1zzF3wgo",
        HTMLErrorBox: "_2MfLNiVZp5dIGmdFChe4Dg",
        HTMLErrorBoxAppear: "_1QYzncYqyxT6XGGW0-0gTG",
        CooldownNotice: "_2kl3Ad3oDakegWuvxJmSOH",
        ErrorMessage: "_3j9lmAnUKBFcmX-wJ4iTF7",
        DisabledInputCtn: "ZePu4IVRyGY6qjrJ4cgua",
      };
    },
    85198: (e) => {
      e.exports = {
        miniProfile: "_2QPdq7GZ_03AD1ioPixVXW",
        miniProfileContent: "_1xTATKELHR-lRS_s3A4yzd",
        miniProfileHeader: "_3CZcHyWskP9Hc5t7AOo75A",
        miniProfilePlayer: "_2jZ0A5VjGTNGTQm03FbLrF",
        playerContent: "_2-pwJCHlrc7zxN4iup2TR7",
        miniProfileBackground: "_3HzZhZyBuR0K4qXaQoHMxI",
        miniProfileBackgroundBlur: "xUosYQXZvivPCxe-KwpvT",
        miniProfileVideoBackground: "_2ZqfbNDeHFU_qaf3X3_Jjv",
        miniProfileVideoBackgroundContainer: "_3MrYvAGQ-g7bNccn6VJNpK",
        miniProfileBackdropBlur: "_1QhpYlQvI1J05uCM2I2e3X",
        miniProfileBlocked: "_39Jef4sV4jnGy6XES6JdVs",
        miniProfileNotFriends: "_3Ea91LEoevcAXAuoA2-uLa",
        notFriends: "_2zgR7xa30ESr7HTdIXFpx_",
        SnoozeContainer: "_1cAsx42HMUFngn5IALUvH0",
        miniProfileHover: "_2AWayy-K0ZoNKv_Fr3CT_R",
        miniprofile_arrow: "_1YsNonjqp5KW66H9OqH1uE",
        left: "_1qS_btEzAb6Qf5ngmgbhmz",
        playerAvatar: "_36eQg-jp1ebbdaE6PBniHu",
        Frame: "_2nPONxDUmK4rQXzK4Y3vG2",
        avatarStatus: "_1YdpXFoH7P9pEEXDMITSHu",
        miniProfileAvatarStatus: "_1k5YkN8kx48i2TZ6kG9muA",
        personaName: "qiP8aEgNz331tt6X4NMNW",
        hasNickname: "_2TAWSrfSd1CiZ9WSYsc69c",
        personaNameLabel: "_2VUw8xyYCaD1WduLCK3nlW",
        nickName: "h_So5GaEfmXOgB9hCC0Is",
        persona: "_3c5GOobmMUyjAWTosaUKUS",
        personaAndIcons: "_1p9kf3ahuMynhiqV1RC7aC",
        awayStatusLabel: "_1FgWIOIaRCAekjhGj0zFWq",
        nickname: "_1SWhpi9ByGQrwHGQgTJCF5",
        playerNicknameBracket: "_3qa8cpVZ8PcsB3PpYNfVgb",
        notInOrWatchingGame: "_1NkB7RuIs66QCtsv4kxeCu",
        miniProfileBottom: "_26ga2HHZL2HlK6wwFImcgX",
        miniProfileGameContainer: "_7-U6jtoeGvesTm7JFGH0-",
        gameLogo: "A0XYrZMFUpzFpMU7qBrhJ",
        ingame: "_24oQzlBma4VdZUDiSBaYFA",
        richPresence: "_39T3EbAEqqKrJl5rX1-qPW",
        gameState: "_3Hxc3f2ZlkYTKbrxVoS9sq",
        watchingbroadcast: "_3hSAG74hI2XkboOz8Vpg5L",
        watchingbroadcastThumbnail: "FmBWyeU1wuwOi6NsbQ4c2",
        gameContent: "_3YwnZTz_58lZ5anORkzDg3",
        miniProfileFeaturedContainer: "_1KDhdcZYSzJ8bcqGIVKlWI",
        favoriteBadgeIcon: "qP4hsoQxxvaLVT3Gkm4J8",
        badgeIcon: "_1oWOaeg_sFX88v15LwM2PO",
        featuredLabels: "_39hariVfr4A85k8c2TC_x1",
        friendPlayerLevelNum: "_3vvwMiUuxFKnz-LwGwe5Do",
        featuredTitle: "_2mCgtDakdGp_qrKcyIcZii",
        mutualFriends: "_3AWk3BnPfsx8KJEGVge4Cr",
        featuredSubTitle: "_3DelZ7HZu1TfU115lLc7vl",
      };
    },
    19939: (e) => {
      e.exports = {
        DefaultTheme: "tedMfud89T5ZrUuQ8lAqa",
        CosmicTheme: "_17vHyc7XLi7gzu2oXAzl5a",
        SummerTheme: "_2skFv_DvfYIlpykYdWu7xV",
        MidnightTheme: "M8Pf4xHIhZLaD7sf8J3vu",
        DarkModeTheme: "_2p-_xCU5_sEJ9phLJw-z_3",
        SteelTheme: "xdD8LlOZDqnQ4lJDHdXGW",
        PinkTealTheme: "_3M7clERndkEKPNIhBohVMW",
        MutedRedTheme: "_3lp4RPxbavagP3nVyYOqZR",
        SteamGreenTheme: "_335yQcbM4tv-C34Oxp247l",
        BlueRedTheme: "_2wH82wp5kaa9YD2ljk9RES",
        GoldBurgundyTheme: "YGKfXNHlIS_8t5PbZ990c",
        VibrantBlueTheme: "_3DOwBWizAt9lgmPWTYUHGM",
        GoldenProfileDebutTheme: "_3BHT2anoumk7shbvRYLwFK",
        WinterProfile2020Theme: "_3jPiA59YTBrjF0Yke8xtNc",
        GoldenWeekProfile2021Theme: "_24NEVre-U6vI5Uy2EbOWXo",
        Summer2021Theme: "_2bB_m6htDqAvdWtyyUGztf",
        MutedBlueTheme: "_3-7Wke7qwH61HrZRnXuxmv",
        GoldTheme: "l3sX-a8OUjKBofHsEf91k",
        BurntOrangeTheme: "_37pNJIGOi3wXudkvWXoSml",
        FlatGreyTheme: "_2AFCapxkkQ1VOQHq5zlYQC",
        PurpleTheme: "KM8jQtPy2nL-Nk9L8yGP",
        GreenSlimeTheme: "FdC8cnFr-QlxSBx3MwbCE",
        GhostTheme: "_1JZpez3LJOrJQwH9KGB0RI",
        ColorNightmareTheme: "_2LNsd64hsGzgmRbQ8WSHSh",
        MurugiahTheme: "_22BXC8Rv2JkvXu3mmagICl",
        Winter2021Theme: "X0_g81BFvECaAe-ByasOs",
        Lunar2022Theme: "_1NSMHkt3eWfSDC6LEzKeJn",
        SteamDeckTheme: "_2aDQKbd2fBPJ0D_2CiGhRT",
      };
    },
    39821: (e, t, a) => {
      "use strict";
      a.d(t, { s: () => r });
      let r = { ProfileURL: "" };
    },
    86811: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { ProfileEditRoutes: () => rr, default: () => sr });
      var r = a(39821),
        i = a(34629),
        s = a(41735),
        n = a.n(s),
        o = a(14947),
        l = a(77350),
        m = a(51006),
        c = a(75844),
        d = a(90626),
        h = a(51383),
        u = a(52038),
        p = a(61859),
        v = a(83141),
        _ = a(85198),
        g = a.n(_),
        f = a(10622),
        P = a(1035),
        E = a(55263),
        y = a(14771),
        C = a(78327);
      const S = y.Kp.PerMinute;
      class A {
        constructor(e) {
          (this.m_bLoadingData = !1),
            (this.m_rtLastLoad = 0),
            (this.m_communityData = void 0),
            (0, o.Gn)(this),
            (this.m_accountid = e);
        }
        get community_data() {
          return this.m_communityData;
        }
        get community_data_ready() {
          return void 0 !== this.m_communityData;
        }
        get player_level() {
          return this.m_communityData && this.m_communityData.level;
        }
        get player_level_class() {
          return this.m_communityData && this.m_communityData.level_class;
        }
        get player_badge() {
          return this.m_communityData && this.m_communityData.favorite_badge;
        }
        get profile_background() {
          return (
            this.m_communityData && this.m_communityData.profile_background
          );
        }
        Reload() {
          (this.m_rtLastLoad = 0), this.EnsureCommunityDataLoaded();
        }
        EnsureCommunityDataLoaded() {
          const e = this.m_communityData || this.m_bLoadingData,
            t = Date.now() > this.m_rtLastLoad + 1e3 * S;
          (!e || (t && !this.m_bLoadingData)) &&
            ((this.m_bLoadingData = !0),
            n()
              .get(
                C.TS.CHAT_BASE_URL +
                  "miniprofile/" +
                  this.m_accountid +
                  "/json/?origin=" +
                  (0, C.xv)(),
              )
              .then((e) => {
                let t = e.data;
                "number" == typeof t.level &&
                  "string" == typeof t.level_class &&
                  (this.m_communityData = t),
                  (this.m_bLoadingData = !1),
                  (this.m_rtLastLoad = Date.now());
              })
              .catch((e) => {
                this.m_bLoadingData = !1;
              }));
        }
      }
      (0, i.Cg)([o.sH], A.prototype, "m_communityData", void 0);
      let w = class extends d.Component {
        render() {
          const { community_data: e } = this.props;
          let t = e && e.favorite_badge;
          return t
            ? d.createElement(
                "div",
                {
                  className: (0, u.A)(
                    g().miniProfileFeaturedContainer,
                    this.props.className,
                  ),
                },
                d.createElement(
                  "div",
                  { className: g().favoriteBadgeIcon },
                  d.createElement("img", {
                    src: t.icon,
                    className: g().badgeIcon,
                  }),
                ),
                d.createElement(
                  "div",
                  {
                    className: (0, u.A)(
                      g().featuredLabels,
                      g().favoriteBadgeDescription,
                    ),
                  },
                  d.createElement(
                    "div",
                    { className: g().featuredTitle },
                    t.name,
                  ),
                  d.createElement(
                    "div",
                    { className: g().featuredSubTitle },
                    (0, p.we)("#Hover_BadgeXP", t.xp),
                  ),
                ),
              )
            : null;
        }
      };
      w = (0, i.Cg)([c.PA], w);
      let I = class extends d.Component {
        render() {
          const { community_data: e, className: t } = this.props;
          return e
            ? d.createElement(
                "div",
                { className: (0, u.A)(g().miniProfileFeaturedContainer, t) },
                d.createElement(
                  "div",
                  { className: e.level_class },
                  d.createElement(
                    "span",
                    { className: g().friendPlayerLevelNum },
                    e.level,
                  ),
                ),
                d.createElement(
                  "div",
                  { className: g().featuredLabels },
                  d.createElement(
                    "div",
                    { className: g().featuredTitle },
                    (0, p.we)("#Hover_SteamLevel") + " ",
                  ),
                ),
              )
            : null;
        }
      };
      I = (0, i.Cg)([c.PA], I);
      let G = class extends d.Component {
        render() {
          var e;
          let t = this.props.persona,
            a = this.props.community_data;
          return d.createElement(
            "div",
            {
              className: (0, u.A)(
                g().miniProfileGameContainer,
                this.props.className,
              ),
            },
            (null === (e = null == a ? void 0 : a.in_game) || void 0 === e
              ? void 0
              : e.logo) &&
              d.createElement("img", {
                className: g().gameLogo,
                src: a.in_game.logo,
              }),
            d.createElement(
              "div",
              {
                className: (0, u.A)(
                  g().gameContent,
                  g().persona,
                  g().ingame,
                  g().ellipsis,
                ),
              },
              d.createElement(
                "div",
                { className: g().gameState },
                (0, p.we)(
                  t.is_in_nonsteam_game
                    ? "#PersonaStateInNonSteamGame"
                    : "#PersonaStateInGame",
                ),
              ),
              this.props.persona.GetCurrentGameName(),
              this.props.persona.HasCurrentGameRichPresence() &&
                d.createElement(
                  "div",
                  { className: g().richPresence },
                  this.props.persona.GetCurrentGameRichPresence(),
                ),
              this.props.in_game_section_additional,
            ),
          );
        }
      };
      function N(e) {
        var t;
        const { appID: a } = e,
          [r] = (0, E.t7)(a, { include_assets_without_overrides: !0 }),
          i =
            null === (t = null == r ? void 0 : r.GetAssetsWithoutOverrides()) ||
            void 0 === t
              ? void 0
              : t.GetHeaderURL();
        return i
          ? d.createElement("img", { className: g().gameLogo, src: i })
          : null;
      }
      G = (0, i.Cg)([c.PA], G);
      let B = class extends d.Component {
        render() {
          let e,
            t,
            a = this.props.broadcast_description;
          return (
            a && ((e = (0, p.we)("#PersonaStateWatchingBroadcast")), (t = a)),
            d.createElement(
              "div",
              {
                className: (0, u.A)(
                  g().miniProfileGameContainer,
                  this.props.className,
                ),
              },
              this.props.persona.m_broadcastAppId &&
                d.createElement(N, {
                  appID: this.props.persona.m_broadcastAppId,
                }),
              d.createElement(
                "div",
                {
                  className: (0, u.A)(
                    g().gameContent,
                    g().persona,
                    g().watchingbroadcast,
                    g().ellipsis,
                  ),
                },
                d.createElement("div", { className: g().gameState }, e),
                t && d.createElement("div", { className: g().richPresence }, t),
                d.createElement(
                  "div",
                  { className: g().watchingbroadcastThumbnail },
                  this.props.broadcast_thumbnail,
                ),
              ),
            )
          );
        }
      };
      B = (0, i.Cg)([c.PA], B);
      let b = class extends d.Component {
        render() {
          const {
            className: e,
            persona: t,
            data_loader: a,
            community_data_override: r,
            nickname: i,
            is_friend: s,
            is_blocked: n,
            friend_relationship: o,
            broadcast_description: l,
            broadcast_thumbnail: m,
            mutual_friends: c,
            in_game_section_additional: _,
            bottom_section_additional: P,
            ...E
          } = this.props;
          let y = a.community_data;
          r && (y = { ...y, ...r });
          const C = Object.keys((y && y.profile_background) || {}).length > 0;
          let S,
            A = g().miniProfileContent;
          t.is_ingame
            ? (S = d.createElement(G, {
                ...this.props,
                community_data: y,
                className: C ? g().miniProfileBackdropBlur : void 0,
              }))
            : t.is_watchingbroadcast
              ? (S = d.createElement(B, {
                  ...this.props,
                  className: C ? g().miniProfileBackdropBlur : void 0,
                }))
              : (A += " " + g().notInOrWatchingGame);
          let N = !0,
            b = !1,
            k = !1;
          s || ((A += " " + g().notFriends), (N = !1)),
            n && ((A += " " + g().communicationBlocked), (k = !0));
          let T,
            F = void 0 !== i,
            D = t.is_awayOrSnooze;
          return (
            (T = F
              ? d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "div",
                    { className: g().personaAndIcons },
                    d.createElement(
                      "div",
                      { className: (0, u.A)(g().personaName, g().nickName) },
                      d.createElement(
                        "div",
                        { className: g().personaNameLabel },
                        this.props.nickname,
                      ),
                      d.createElement(
                        "div",
                        {
                          className: g().playerNicknameBracket,
                          title: (0, p.we)("#isNickname"),
                        },
                        "*",
                      ),
                    ),
                    d.createElement(h.X, { persona: t }),
                  ),
                  d.createElement(
                    "div",
                    { className: (0, u.A)(g().personaName, g().hasNickname) },
                    "( ",
                    d.createElement(
                      "div",
                      { className: g().personaNameLabel },
                      t.m_strPlayerName,
                    ),
                    " )",
                  ),
                )
              : d.createElement(
                  "div",
                  { className: g().personaAndIcons },
                  d.createElement(
                    "div",
                    { className: g().personaName },
                    d.createElement(
                      "div",
                      { className: g().personaNameLabel },
                      t.m_strPlayerName,
                    ),
                  ),
                  d.createElement(h.X, { persona: t }),
                )),
            2 == this.props.friend_relationship && (b = !0),
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                "div",
                {
                  key: t.GetAccountID(),
                  className: (0, u.A)(this.props.className, g().miniProfile),
                  ...E,
                },
                d.createElement(
                  "div",
                  { className: A },
                  d.createElement(L, { community_data: y, persona: t }),
                  d.createElement(
                    "div",
                    { className: g().miniProfileHeader },
                    d.createElement(
                      "div",
                      {
                        className: (0, u.A)(
                          g().miniProfilePlayer,
                          t.online_state,
                          D && g().isAway,
                          (0, f.rO)(t),
                        ),
                      },
                      d.createElement(R, {
                        persona: this.props.persona,
                        community_data: y,
                      }),
                      D &&
                        d.createElement(v.p, {
                          persona: t,
                          animating: !0,
                          className: g().SnoozeContainer,
                          size: "large",
                        }),
                      d.createElement(
                        "div",
                        { className: g().playerContent },
                        d.createElement(
                          "div",
                          { className: g().playerName },
                          d.createElement(
                            "div",
                            { className: g().persona },
                            T,
                            D &&
                              d.createElement(
                                "div",
                                { className: g().awayStatusLabel },
                                (0, p.we)("#PersonaStateAway"),
                              ),
                            !t.is_online &&
                              d.createElement(
                                "div",
                                { className: g().awayStatusLabel },
                                this.props.persona.GetLocalizedOnlineStatus(),
                              ),
                            "online" == t.online_state &&
                              !D &&
                              d.createElement(
                                "div",
                                { className: g().awayStatusLabel },
                                (0, p.we)("#PersonaStateOnline"),
                              ),
                            !N &&
                              d.createElement(
                                "div",
                                { className: g().miniProfileNotFriends },
                                b
                                  ? (0, p.we)(
                                      "#Friend_Menu_NotAFriendRequesting",
                                    )
                                  : (0, p.we)("#Friend_Menu_NotAFriendLabel"),
                              ),
                            k &&
                              d.createElement(
                                "div",
                                { className: g().miniProfileBlocked },
                                (0, p.we)("#PersonaStateBlocked"),
                              ),
                          ),
                        ),
                      ),
                    ),
                  ),
                  S,
                  d.createElement(
                    "div",
                    {
                      className: (0, u.A)(
                        g().miniProfileBottom,
                        C && g().miniProfileBackdropBlur,
                      ),
                    },
                    d.createElement(w, { community_data: y }),
                    d.createElement(I, { community_data: y }),
                  ),
                  P,
                  d.createElement(
                    "div",
                    { className: g().mutualFriends },
                    this.props.mutual_friends,
                  ),
                ),
              ),
            )
          );
        }
      };
      b = (0, i.Cg)([c.PA], b);
      const L = ({ community_data: e, persona: t }) => {
          if (e && e.profile_background) {
            const { image: t, ...a } = e.profile_background;
            if (Object.keys(a).length)
              return d.createElement(
                "div",
                {
                  className: g().miniProfileVideoBackgroundContainer,
                  key: a["video/webm"] || a["video/mp4"] || "image",
                },
                d.createElement(
                  "video",
                  {
                    className: g().miniProfileVideoBackground,
                    playsInline: !0,
                    muted: !0,
                    autoPlay: !0,
                    loop: !0,
                    poster: t,
                  },
                  Object.keys(a).map((e) =>
                    d.createElement("source", { key: e, src: a[e], type: e }),
                  ),
                ),
              );
            if (t)
              return d.createElement(
                "div",
                { className: g().miniProfileVideoBackgroundContainer },
                d.createElement("img", {
                  className: g().miniProfileVideoBackground,
                  src: t,
                }),
              );
          }
          return d.createElement(
            "div",
            { className: g().miniProfileBackground },
            d.createElement("img", {
              className: g().miniProfileBackgroundBlur,
              src: t.avatar_url,
            }),
          );
        },
        R = (e) => {
          const { persona: t, community_data: a, size: r, ...i } = e,
            s =
              a &&
              a.avatar_frame &&
              d.createElement("img", {
                src: a.avatar_frame,
                className: g().Frame,
              }),
            n = a && a.animated_avatar,
            o = {
              size: r || "X-Large",
              statusPosition: "bottom",
              className: g().playerAvatar,
            };
          return n
            ? d.createElement(P.Ul, { ...i, strAvatarURL: n, ...o }, s)
            : d.createElement(P.i8, { persona: t, ...i, ...o }, s);
        };
      var k = a(17720),
        T = a(68033),
        F = a(56545),
        D = a(37403);
      class O {
        constructor(e) {
          (this.m_rgPreviousAvatars = []),
            (0, o.Gn)(this),
            (this.m_SteamInterface = e);
        }
        GetAvatarHistory() {
          return this.StartLoadIfNeeded(), this.m_rgPreviousAvatars || [];
        }
        RefreshAvatarHistory() {
          this.m_promiseLoading = this.LoadAvatarHistory();
        }
        async BWaitForLoad() {
          return this.StartLoadIfNeeded(), this.m_promiseLoading;
        }
        StartLoadIfNeeded() {
          this.m_promiseLoading ||
            (this.m_promiseLoading = this.LoadAvatarHistory());
        }
        async LoadAvatarHistory() {
          const e = F.w.Init(D.Vc);
          e.SetBodyFields({
            steamid: C.iA.steamid,
            filter_user_uploaded_only: !0,
          });
          let t = await D.BE.GetAvatarHistory(
            this.m_SteamInterface.GetServiceTransport(),
            e,
          );
          return (
            1 == t.GetEResult()
              ? ((this.m_rgPreviousAvatars = []),
                t
                  .Body()
                  .toObject()
                  .avatars.map((e) => {
                    this.m_rgPreviousAvatars.push({
                      avatar_hash: e.avatar_sha1,
                      timestamp: e.timestamp,
                    });
                  }))
              : console.error(
                  `Error when calling CommunityService.GetAvatarHistory: EResult=${t.GetEResult()}`,
                ),
            !!this.m_rgPreviousAvatars
          );
        }
        async SetPreviousAvatar(e) {
          let t = e.GetAvatarHash();
          for (let a = 0; a < this.m_rgPreviousAvatars.length; ++a)
            if (this.m_rgPreviousAvatars[a].avatar_hash == t)
              return this.SelectAvatar(e, t);
          return 42;
        }
        async SelectAvatar(e, t) {
          let a = new FormData();
          a.append("sessionid", C.TS.SESSIONID),
            a.append("json", "1"),
            a.append("sha", t);
          let r =
            (
              await n().post(
                `${C.TS.COMMUNITY_BASE_URL}actions/selectPreviousAvatar`,
                a,
              )
            ).data.success || 2;
          return 1 == r && e.CommitAvatarHash(), r;
        }
      }
      (0, i.Cg)([o.sH], O.prototype, "m_rgPreviousAvatars", void 0);
      class M {
        constructor() {
          (this.m_AvatarData = void 0), (0, o.Gn)(this);
        }
        GetRecentGameAvatars() {
          return (
            this.StartLoadIfNeeded(),
            (this.m_AvatarData && this.m_AvatarData.rgRecentGames) || []
          );
        }
        GetOwnedGameAvatars() {
          return (
            this.StartLoadIfNeeded(),
            (this.m_AvatarData && this.m_AvatarData.rgOwnedGames) || []
          );
        }
        GetOtherGameAvatars() {
          return (
            this.StartLoadIfNeeded(),
            (this.m_AvatarData && this.m_AvatarData.rgOtherGames) || []
          );
        }
        async BWaitForLoad() {
          return this.StartLoadIfNeeded(), this.m_promiseLoading;
        }
        StartLoadIfNeeded() {
          this.m_promiseLoading ||
            (this.m_promiseLoading = this.LoadOGGAvatars());
        }
        async LoadOGGAvatars() {
          let e = await n().get(
            `${C.TS.COMMUNITY_BASE_URL}actions/GameAvatars/?json=1&l=${C.TS.LANGUAGE}`,
          );
          return (this.m_AvatarData = e.data || null), !!e.data;
        }
        async SetPlayerOGGAvatar(e) {
          let t,
            a = (function* (e) {
              for (let t of [
                e.GetRecentGameAvatars(),
                e.GetOwnedGameAvatars(),
                e.GetOtherGameAvatars(),
              ])
                for (let e of t) yield e;
            })(this),
            r = e.GetAvatarHash();
          for (; (t = a.next().value); ) {
            let a = t.avatars.find((e) => e.avatar_hash == r);
            if (a) return this.SelectGameAvatar(e, t.appid, a.ordinal);
          }
          return 42;
        }
        async SelectGameAvatar(e, t, a) {
          let r = new FormData();
          r.append("sessionid", C.TS.SESSIONID),
            r.append("json", "1"),
            r.append("selectedAvatar", "" + a);
          let i =
            (
              await n().post(
                `${C.TS.COMMUNITY_BASE_URL}ogg/${t}/selectAvatar`,
                r,
              )
            ).data.success || 2;
          return 1 == i && e.CommitAvatarHash(), i;
        }
        UpdateAvatarsForGame(e, t) {
          const a = ["rgRecentGames", "rgOwnedGames", "rgOtherGames"];
          let r = new Set();
          for (const i of a) {
            const a = this.m_AvatarData[i];
            if (a && Array.isArray(a))
              for (const s of a) s.appid === e && ((s.avatars = t), r.add(i));
          }
          r.forEach((e) => {
            const t = this.m_AvatarData[e];
            t && Array.isArray(t) && (this.m_AvatarData[e] = [...t]);
          });
        }
      }
      function H(e) {
        switch (e) {
          case 1:
            return (0, p.we)("#Privacy_Private");
          case 2:
            return (0, p.we)("#Privacy_FriendsOnly");
          case 3:
            return (0, p.we)("#Privacy_Public");
          default:
            return "";
        }
      }
      function x(e, t) {
        return e < t ? e : t;
      }
      (0, i.Cg)([o.sH.shallow], M.prototype, "m_AvatarData", void 0);
      class U {
        constructor(e, t) {
          (this.m_PrivacySettings = void 0),
            (this.m_eCommentPermission = void 0),
            (this.m_eSaveStateByKey = new Map()),
            (this.m_eCommentSaveState = 0),
            (0, o.Gn)(this),
            (this.m_PrivacySettings = e),
            (this.m_eCommentPermission = t);
        }
        GetPrivacySetting(e) {
          return "PrivacyOwnedGames" == e
            ? x(
                this.m_PrivacySettings.PrivacyProfile,
                this.m_PrivacySettings.PrivacyOwnedGames,
              )
            : "PrivacyPlaytime" == e
              ? x(
                  this.GetPrivacySetting("PrivacyOwnedGames"),
                  this.m_PrivacySettings.PrivacyPlaytime,
                )
              : "PrivacyInventory" == e
                ? x(
                    this.m_PrivacySettings.PrivacyProfile,
                    this.m_PrivacySettings.PrivacyInventory,
                  )
                : "PrivacyInventoryGifts" == e
                  ? x(
                      this.GetPrivacySetting("PrivacyInventory"),
                      this.m_PrivacySettings.PrivacyInventoryGifts,
                    )
                  : "PrivacyFriendsList" == e
                    ? x(
                        this.m_PrivacySettings.PrivacyProfile,
                        this.m_PrivacySettings.PrivacyFriendsList,
                      )
                    : this.m_PrivacySettings[e];
        }
        get CommentPermission() {
          return this.m_eCommentPermission;
        }
        GetSaveState(e) {
          return this.m_eSaveStateByKey.get(e) || 0;
        }
        GetCommentSaveState() {
          return this.m_eCommentSaveState;
        }
        ChangePrivacySetting(e, t, a) {
          if (this.m_PrivacySettings[e] == t) return;
          this.m_PrivacySettings[e] = t;
          let r = this.SavePrivacy(),
            i = a || e;
          r
            ? (this.m_eSaveStateByKey.set(i, 1),
              r.then((e) => {
                e
                  ? this.m_eSaveStateByKey.set(i, 2)
                  : this.m_eSaveStateByKey.set(i, 3);
              }))
            : this.m_eSaveStateByKey.set(i, 0);
        }
        ChangeCommentPermission(e) {
          if (this.m_eCommentPermission == e) return;
          this.m_eCommentPermission = e;
          let t = this.SavePrivacy();
          t
            ? ((this.m_eCommentSaveState = 1),
              t.then((e) => {
                this.m_eCommentSaveState = e ? 2 : 3;
              }))
            : (this.m_eCommentSaveState = 0);
        }
        SavePrivacy() {
          let e = new FormData();
          return (
            e.append("sessionid", C.TS.SESSIONID),
            e.append("Privacy", JSON.stringify(this.m_PrivacySettings)),
            e.append(
              "eCommentPermission",
              JSON.stringify(this.m_eCommentPermission),
            ),
            n()
              .post(r.s.ProfileURL + "ajaxsetprivacy/", e)
              .then((e) => {
                let t = e.data;
                if (1 != t.success)
                  return (
                    window.ShowAlertDialog(
                      (0, p.we)("#Error_Error"),
                      (0, p.we)("#Error_CommentEditFailed"),
                    ),
                    !1
                  );
                let a = t.Privacy;
                return (
                  a &&
                    a.PrivacySettings &&
                    a.eCommentPermission &&
                    (0, o.h5)(() => {
                      (this.m_PrivacySettings = a.PrivacySettings),
                        (this.m_eCommentPermission = a.eCommentPermission);
                    }),
                  !0
                );
              })
              .catch(
                (e) => (
                  window.ShowAlertDialog(
                    (0, p.we)("#Error_Error"),
                    (0, p.we)("#Error_CommentEditFailed"),
                  ),
                  !1
                ),
              )
          );
        }
      }
      (0, i.Cg)([o.sH], U.prototype, "m_PrivacySettings", void 0),
        (0, i.Cg)([o.sH], U.prototype, "m_eCommentPermission", void 0),
        (0, i.Cg)([o.sH], U.prototype, "m_eSaveStateByKey", void 0),
        (0, i.Cg)([o.sH], U.prototype, "m_eCommentSaveState", void 0);
      var q = a(37735);
      class W {
        constructor(e, t, a) {
          (this.m_rgBadges = []),
            (this.m_FavoriteBadge = void 0),
            (0, o.Gn)(this),
            (this.m_CMInterface = e),
            (this.m_AppInfoStore = t);
          const r = a.rgBadges,
            i = a.FavoriteBadge;
          if (!Array.isArray(r))
            for (let e in r) {
              const t = r[e];
              let a;
              (a =
                "communityitemid" in t
                  ? new V(t, this.m_AppInfoStore)
                  : new Y(t)),
                this.m_rgBadges.push(a),
                i &&
                  a.BIsFavoriteBadge(i) &&
                  (this.m_CommittedFavoriteBadge = this.m_FavoriteBadge = a);
            }
        }
        get Badges() {
          return this.m_rgBadges;
        }
        get FavoriteBadge() {
          return this.m_FavoriteBadge;
        }
        get FavoriteBadgeID() {
          return this.m_FavoriteBadge
            ? this.m_FavoriteBadge.GetFavoriteBadgeID()
            : {};
        }
        SetFavoriteBadge(e) {
          this.m_FavoriteBadge = e;
        }
        RevertFavoriteBadge() {
          this.m_FavoriteBadge = this.m_CommittedFavoriteBadge;
        }
        BFavoriteBadgeUncomitted() {
          return this.m_FavoriteBadge != this.m_CommittedFavoriteBadge;
        }
        async CommitFavoriteBadgeChanges() {
          if (this.m_FavoriteBadge == this.m_CommittedFavoriteBadge) return 1;
          let e = this.FavoriteBadgeID,
            t = F.w.Init(q.Hr);
          e.badgeid
            ? t.Body().set_badgeid(e.badgeid)
            : e.communityitemid &&
              t.Body().set_communityitemid(e.communityitemid);
          let a = await q.xt.SetFavoriteBadge(
            this.m_CMInterface.GetServiceTransport(),
            t,
          );
          return (
            1 == a.GetEResult() &&
              (this.m_CommittedFavoriteBadge = this.m_FavoriteBadge),
            a.GetEResult()
          );
        }
        GetFavoriteBadgePreview() {
          return this.m_FavoriteBadge
            ? {
                name: this.m_FavoriteBadge.GetName(),
                xp: parseInt(this.m_FavoriteBadge.GetXP()),
                level: 0,
                description: this.m_FavoriteBadge.GetGameName(),
                icon: this.m_FavoriteBadge.GetIconURL(),
              }
            : null;
        }
      }
      (0, i.Cg)([o.sH], W.prototype, "m_FavoriteBadge", void 0),
        (0, i.Cg)([o.XI], W.prototype, "SetFavoriteBadge", null),
        (0, i.Cg)([o.XI], W.prototype, "RevertFavoriteBadge", null);
      class z {
        constructor(e) {
          (this.m_strIconURL = e.icon),
            (this.m_strName = e.name),
            (this.m_strXP = e.xp);
        }
        GetIconURL() {
          return this.m_strIconURL;
        }
        GetName() {
          return this.m_strName;
        }
        GetXP() {
          return this.m_strXP;
        }
        GetGameName() {
          return "";
        }
        BIsFoil() {
          return !1;
        }
      }
      class Y extends z {
        constructor(e) {
          super(e), (this.m_unBadgeID = e.badgeid);
        }
        GetFavoriteBadgeID() {
          return { badgeid: this.m_unBadgeID };
        }
        BIsFavoriteBadge(e) {
          return e.badgeid && e.badgeid == this.m_unBadgeID;
        }
      }
      class V extends z {
        constructor(e, t) {
          super(e),
            (this.m_ulCommunityItemID = e.communityitemid),
            (this.m_usItemType = e.item_type),
            (this.m_unAppID = e.appid),
            (this.m_unBorderColor = e.border_color),
            (this.m_AppInfoStore = t);
        }
        GetFavoriteBadgeID() {
          return { communityitemid: this.m_ulCommunityItemID };
        }
        BIsFavoriteBadge(e) {
          return (
            e.communityitemid && e.communityitemid == this.m_ulCommunityItemID
          );
        }
        GetGameName() {
          return this.m_AppInfoStore.GetAppInfo(this.m_unAppID).name;
        }
        BIsFoil() {
          return 1 == this.m_unBorderColor;
        }
      }
      var X = a(58222),
        K = a(6144);
      function Z(e) {
        return J(e.image_small);
      }
      function j(e) {
        return J(e.image_large);
      }
      function Q(e) {
        return (function (e, t, a) {
          return e
            ? e.image_large
              ? `${C.TS.COMMUNITY_CDN_URL}economy/profilebackground/${e.image_large}?size=${t}x${a}`
              : null
            : `${C.TS.COMMUNITY_CDN_URL}public/images/profile/2020/bg_dots.png`;
        })(e, 252, 160);
      }
      function $(e, t = !1) {
        let a = {},
          r = t
            ? (function (e) {
                return J(e.movie_webm_small) || J(e.movie_webm);
              })(e)
            : (function (e) {
                return J(e.movie_webm);
              })(e);
        r && (a["video/webm"] = r);
        let i = t
          ? (function (e) {
              return J(e.movie_mp4_small) || J(e.movie_mp4);
            })(e)
          : (function (e) {
              return J(e.movie_mp4);
            })(e);
        return i && (a["video/mp4"] = i), a;
      }
      function J(e) {
        return e ? `${C.TS.MEDIA_CDN_COMMUNITY_URL}images/${e}` : null;
      }
      class ee {
        constructor(e, t, a) {
          (this.m_Backgrounds = new te(this)),
            (this.m_MiniProfileBackgrounds = new te(this)),
            (this.m_Avatars = new te(this)),
            (this.m_AvatarFrames = new te(this)),
            (this.m_ProfileModifiers = new te(this)),
            (this.m_OnAvatarEquipmentChangedCallbacks = new K.lu()),
            (this.m_mapGoldenProfileConfigByAppID = new Map()),
            (0, o.Gn)(this),
            (this.m_SteamInterface = e),
            (this.m_AppInfoStore = t);
          for (let e of a) this.m_mapGoldenProfileConfigByAppID.set(e.appid, e);
          this.Initialize();
        }
        get AppInfoStore() {
          return this.m_AppInfoStore;
        }
        async GetOwnedBackgrounds() {
          return (
            this.m_Backgrounds.m_rgOwnedItems ||
              (await this.m_Backgrounds.SetItems(
                (await this.m_promiseOwned).Body().profile_backgrounds(),
              )),
            this.m_Backgrounds.m_rgOwnedItems
          );
        }
        GetEquippedBackground() {
          return (
            this.m_Backgrounds.m_bEquippedLoaded ||
              (async () => {
                this.m_Backgrounds.LoadEquipped(
                  (await this.m_promiseEquipped).Body().profile_background(!1),
                );
              })(),
            this.m_Backgrounds.m_EquippedItem
          );
        }
        SetEquippedBackground(e) {
          this.m_Backgrounds.SetEquipped(e);
        }
        GetEquippedBackgroundFlags() {
          return this.m_Backgrounds.m_EquipFlags || 0;
        }
        SetEquippedBackgroundFlags(e) {
          this.m_Backgrounds.SetEquippedFlags(e);
        }
        BIsBackgroundUncomitted() {
          return this.m_Backgrounds.BIsUncomitted();
        }
        async SetAndEquipProfileBackground(e) {
          if (
            (this.m_Backgrounds.SetEquipped(e),
            this.m_Backgrounds.BIsUncomitted())
          ) {
            {
              let e = F.w.Init(q.F5);
              e.Body().set_communityitemid(
                this.m_Backgrounds.m_EquippedItem &&
                  this.m_Backgrounds.m_EquippedItem.communityitemid,
              );
              let t = await q.xt.SetProfileBackground(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 != t.GetEResult()) return t.GetEResult();
            }
            if (
              this.m_Backgrounds.m_EquippedItem &&
              this.m_Backgrounds.m_EquippedItem.communityitemid
            ) {
              let e = F.w.Init(q.MK);
              e
                .Body()
                .set_communityitemid(
                  this.m_Backgrounds.m_EquippedItem.communityitemid,
                ),
                e.Body().set_flags(this.m_Backgrounds.m_EquipFlags);
              let t = await q.xt.SetEquippedProfileItemFlags(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              1 != t.GetEResult() &&
                console.error(
                  `Error when calling PlayerService.SetEquippedProfileItemFlags: EResult=${t.GetEResult()}`,
                );
            }
          }
          return this.m_Backgrounds.SetComitted(), 1;
        }
        RevertBackgroundChanges() {
          this.m_Backgrounds.Revert();
        }
        async GetOwnedMiniProfileBackgrounds() {
          return (
            this.m_MiniProfileBackgrounds.m_rgOwnedItems ||
              (await this.m_MiniProfileBackgrounds.SetItems(
                (await this.m_promiseOwned).Body().mini_profile_backgrounds(),
              )),
            this.m_MiniProfileBackgrounds.m_rgOwnedItems
          );
        }
        GetEquippedMiniProfileBackground() {
          return (
            this.m_MiniProfileBackgrounds.m_bEquippedLoaded ||
              (async () => {
                this.m_MiniProfileBackgrounds.LoadEquipped(
                  (await this.m_promiseEquipped)
                    .Body()
                    .mini_profile_background(!1),
                );
              })(),
            this.m_MiniProfileBackgrounds.m_EquippedItem
          );
        }
        SetEquippedMiniProfileBackground(e) {
          this.m_MiniProfileBackgrounds.SetEquipped(e);
        }
        BIsMiniProfileBackgroundUncomitted() {
          return this.m_MiniProfileBackgrounds.BIsUncomitted();
        }
        async CommitMiniProfileChanges() {
          if (this.m_MiniProfileBackgrounds.BIsUncomitted()) {
            let e = F.w.Init(q.A6);
            e.Body().set_communityitemid(
              this.m_MiniProfileBackgrounds.m_EquippedItem &&
                this.m_MiniProfileBackgrounds.m_EquippedItem.communityitemid,
            );
            let t = await q.xt.SetMiniProfileBackground(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 != t.GetEResult()) return t.GetEResult();
          }
          return (
            this.m_MiniProfileBackgrounds.SetComitted(),
            this.m_OnAvatarEquipmentChangedCallbacks.Dispatch(),
            1
          );
        }
        RevertMiniProfileBackgroundChanges() {
          this.m_MiniProfileBackgrounds.Revert();
        }
        BIsAvatarUncomitted() {
          return (
            this.m_Avatars.BIsUncomitted() ||
            this.m_AvatarFrames.BIsUncomitted()
          );
        }
        async CommitAvatarChanges() {
          let e, t;
          if (this.m_Avatars.BIsUncomitted()) {
            let t = F.w.Init(q.UM);
            t
              .Body()
              .set_communityitemid(
                this.m_Avatars.m_EquippedItem &&
                  this.m_Avatars.m_EquippedItem.communityitemid,
              ),
              (e = q.xt.SetAnimatedAvatar(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              ));
          }
          if (this.m_AvatarFrames.BIsUncomitted()) {
            let e = F.w.Init(q.C0);
            e
              .Body()
              .set_communityitemid(
                this.m_AvatarFrames.m_EquippedItem &&
                  this.m_AvatarFrames.m_EquippedItem.communityitemid,
              ),
              (t = q.xt.SetAvatarFrame(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              ));
          }
          const [a, r] = await Promise.all([e, t]);
          return a && 1 != a.GetEResult()
            ? a.GetEResult()
            : r && 1 != r.GetEResult()
              ? r.GetEResult()
              : (this.m_Avatars.SetComitted(),
                this.m_AvatarFrames.SetComitted(),
                this.m_OnAvatarEquipmentChangedCallbacks.Dispatch(),
                1);
        }
        RevertAvatarChanges() {
          this.m_Avatars.Revert(), this.m_AvatarFrames.Revert();
        }
        AddOnAvatarEquipmentChangedCallback(e) {
          this.m_OnAvatarEquipmentChangedCallbacks.Register(e);
        }
        async GetOwnedAvatars() {
          return (
            this.m_Avatars.m_rgOwnedItems ||
              (await this.m_Avatars.SetItems(
                (await this.m_promiseOwned).Body().animated_avatars(),
              )),
            this.m_Avatars.m_rgOwnedItems
          );
        }
        GetEquippedAvatar() {
          return (
            this.m_Avatars.m_bEquippedLoaded ||
              (async () => {
                this.m_Avatars.LoadEquipped(
                  (await this.m_promiseEquipped).Body().animated_avatar(!1),
                );
              })(),
            this.m_Avatars.m_EquippedItem
          );
        }
        GetCommittedEquippedAvatar() {
          return (
            this.m_Avatars.m_bEquippedLoaded ||
              (async () => {
                this.m_Avatars.LoadEquipped(
                  (await this.m_promiseEquipped).Body().animated_avatar(!1),
                );
              })(),
            this.m_Avatars.m_CommittedEquippedItem
          );
        }
        SetEquippedAvatar(e, t = !1) {
          this.m_Avatars.SetEquipped(e, t);
        }
        async GetOwnedAvatarFrames() {
          return (
            this.m_AvatarFrames.m_rgOwnedItems ||
              (await this.m_AvatarFrames.SetItems(
                (await this.m_promiseOwned).Body().avatar_frames(),
              )),
            this.m_AvatarFrames.m_rgOwnedItems
          );
        }
        GetEquippedAvatarFrame() {
          return (
            this.m_AvatarFrames.m_bEquippedLoaded ||
              (async () => {
                this.m_AvatarFrames.LoadEquipped(
                  (await this.m_promiseEquipped).Body().avatar_frame(!1),
                );
              })(),
            this.m_AvatarFrames.m_EquippedItem
          );
        }
        GetCommittedEquippedAvatarFrame() {
          return (
            this.m_AvatarFrames.m_bEquippedLoaded ||
              (async () => {
                this.m_AvatarFrames.LoadEquipped(
                  (await this.m_promiseEquipped).Body().avatar_frame(!1),
                );
              })(),
            this.m_AvatarFrames.m_CommittedEquippedItem
          );
        }
        SetEquippedAvatarFrame(e) {
          this.m_AvatarFrames.SetEquipped(e);
        }
        async GetOwnedProfileModifiers() {
          return (
            this.m_ProfileModifiers.m_rgOwnedItems ||
              (await this.m_ProfileModifiers.SetItems(
                (await this.m_promiseOwned).Body().profile_modifiers(),
              )),
            this.m_ProfileModifiers.m_rgOwnedItems
          );
        }
        GetEquippedProfileModifier() {
          return (
            this.m_ProfileModifiers.m_bEquippedLoaded ||
              (async () => {
                this.m_ProfileModifiers.LoadEquipped(
                  (await this.m_promiseEquipped).Body().profile_modifier(!1),
                );
              })(),
            this.m_ProfileModifiers.m_EquippedItem
          );
        }
        GetCommittedEquippedProfileModifier() {
          return (
            this.m_ProfileModifiers.m_bEquippedLoaded ||
              (async () => {
                this.m_ProfileModifiers.LoadEquipped(
                  (await this.m_promiseEquipped).Body().profile_modifier(!1),
                );
              })(),
            this.m_ProfileModifiers.m_CommittedEquippedItem
          );
        }
        BHasAnyProfileModifiers() {
          return (
            this.GetOwnedProfileModifiers(),
            !!this.m_ProfileModifiers.GetOwnedItemCount()
          );
        }
        SetEquippedProfileModifier(e) {
          this.m_ProfileModifiers.SetEquipped(e);
        }
        RevertProfileModifierChanges() {
          this.m_ProfileModifiers.Revert();
        }
        ReloadEquippedItems() {
          let e = F.w.Init(q.aK);
          e.Body().set_steamid(C.iA.steamid),
            e.Body().set_language(C.TS.LANGUAGE),
            (this.m_promiseEquipped = q.xt.GetProfileItemsEquipped(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            )),
            this.m_AvatarFrames.SetEquipped(null, !0),
            (this.m_AvatarFrames.m_bEquippedLoaded = !1),
            this.GetEquippedAvatarFrame(),
            this.m_Backgrounds.SetEquipped(null, !0),
            (this.m_Backgrounds.m_bEquippedLoaded = !1),
            this.GetEquippedBackground(),
            this.m_MiniProfileBackgrounds.SetEquipped(null, !0),
            (this.m_MiniProfileBackgrounds.m_bEquippedLoaded = !1),
            this.GetEquippedMiniProfileBackground();
        }
        async CommitProfileModifierChanges() {
          if (this.m_ProfileModifiers.BIsUncomitted()) {
            let e = !1;
            if (
              this.m_ProfileModifiers.m_CommittedEquippedItem &&
              this.m_ProfileModifiers.m_CommittedEquippedItem !=
                this.m_ProfileModifiers.m_EquippedItem
            ) {
              let t = F.w.Init(X.fp);
              t
                .Body()
                .set_communityitemid(
                  this.m_ProfileModifiers.m_CommittedEquippedItem
                    .communityitemid,
                ),
                t
                  .Body()
                  .set_appid(
                    this.m_ProfileModifiers.m_CommittedEquippedItem.appid,
                  ),
                t.Body().set_activate(!1);
              let a = await X.uy.ActivateProfileModifierItem(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 != a.GetEResult()) return a.GetEResult();
              e = !0;
            }
            if (this.m_ProfileModifiers.m_EquippedItem) {
              let t = F.w.Init(X.fp);
              t
                .Body()
                .set_communityitemid(
                  this.m_ProfileModifiers.m_EquippedItem.communityitemid,
                ),
                t
                  .Body()
                  .set_appid(this.m_ProfileModifiers.m_EquippedItem.appid),
                t.Body().set_activate(!0);
              let a = await X.uy.ActivateProfileModifierItem(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 != a.GetEResult()) return a.GetEResult();
              e = !0;
            }
            this.m_ProfileModifiers.SetComitted(),
              e &&
                (0, o.h5)(() => {
                  this.ReloadEquippedItems();
                });
          }
          return 1;
        }
        BIsLegacyGoldenProfile(e) {
          return this.m_mapGoldenProfileConfigByAppID.has(e);
        }
        GetGoldenProfileConfigValue(e) {
          let t = this.GetEquippedProfileModifier();
          if (!t) return null;
          let a = this.m_mapGoldenProfileConfigByAppID.get(t.appid);
          return a ? a[e] : null;
        }
        GetProfileModifierCSSURL() {
          return this.GetGoldenProfileConfigValue("css_url");
        }
        GetProfileModifierAvatarFrameURL() {
          return this.GetGoldenProfileConfigValue("frame_url");
        }
        GetProfileModifierMiniProfileBackground() {
          return this.GetGoldenProfileConfigValue("miniprofile_background");
        }
        GetProfileModifierMiniProfileBackgroundMovies() {
          return this.GetGoldenProfileConfigValue("miniprofile_movie");
        }
        async Initialize() {
          let e = F.w.Init(q.Yk);
          e.Body().set_language(C.TS.LANGUAGE),
            (this.m_promiseOwned = q.xt.GetProfileItemsOwned(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            ));
          let t = F.w.Init(q.aK);
          t.Body().set_steamid(C.iA.steamid),
            t.Body().set_language(C.TS.LANGUAGE),
            (this.m_promiseEquipped = q.xt.GetProfileItemsEquipped(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            ));
        }
      }
      (0, i.Cg)([o.XI], ee.prototype, "RevertBackgroundChanges", null),
        (0, i.Cg)(
          [o.XI],
          ee.prototype,
          "RevertMiniProfileBackgroundChanges",
          null,
        ),
        (0, i.Cg)([o.XI], ee.prototype, "RevertAvatarChanges", null),
        (0, i.Cg)([o.XI], ee.prototype, "ReloadEquippedItems", null);
      class te {
        constructor(e) {
          (this.m_cItemsOwned = void 0),
            (this.m_bEquippedLoaded = !1),
            (this.m_bUnsavedChanges = !1),
            (this.m_CommittedEquippedItem = void 0),
            (this.m_EquippedItem = void 0),
            (this.m_EquipFlags = void 0),
            (0, o.Gn)(this),
            (this.m_parent = e);
        }
        GetOwnedItemCount() {
          return this.m_cItemsOwned;
        }
        async SetItems(e) {
          let t = e.map((e) => e.toObject());
          (this.m_rgOwnedItems = (await this.FillAppNames(t)).reverse()),
            (this.m_cItemsOwned = this.m_rgOwnedItems.length);
        }
        async LoadEquipped(e) {
          if (void 0 !== e && e.communityitemid()) {
            let t = e.toObject();
            if (t) {
              let [e] = await this.FillAppNames([t]);
              (0, o.h5)(() => {
                (this.m_CommittedEquippedItem = this.m_EquippedItem = e),
                  (this.m_EquipFlags = e && e.equipped_flags);
              });
            }
            this.m_bEquippedLoaded = !0;
          }
        }
        SetEquipped(e, t = !1) {
          (this.m_EquippedItem = e),
            (this.m_bEquippedLoaded = !0),
            t
              ? this.SetComitted()
              : (e &&
                    (!this.m_CommittedEquippedItem ||
                      this.m_CommittedEquippedItem.communityitemid !=
                        e.communityitemid ||
                      this.m_CommittedEquippedItem.equipped_flags !=
                        this.m_EquipFlags)) ||
                  (!e && this.m_CommittedEquippedItem)
                ? (this.m_bUnsavedChanges = !0)
                : (this.m_bUnsavedChanges = !1);
        }
        SetEquippedFlags(e) {
          this.m_EquipFlags = e;
        }
        BIsUncomitted() {
          return this.m_bUnsavedChanges;
        }
        SetComitted() {
          (this.m_bUnsavedChanges = !1),
            (this.m_CommittedEquippedItem = this.m_EquippedItem),
            this.m_CommittedEquippedItem &&
              (this.m_CommittedEquippedItem.equipped_flags = this.m_EquipFlags);
        }
        Revert() {
          (this.m_EquippedItem = this.m_CommittedEquippedItem),
            (this.m_EquipFlags =
              this.m_EquippedItem && this.m_EquippedItem.equipped_flags),
            (this.m_bUnsavedChanges = !1);
        }
        async FillAppNames(e) {
          await this.m_parent.AppInfoStore.EnsureAppInfoForAppIDs(
            e.map((e) => e.appid),
          );
          for (let t of e)
            t.app_name = t.appid
              ? this.m_parent.AppInfoStore.GetAppInfo(t.appid).name
              : "";
          return e;
        }
      }
      (0, i.Cg)([o.sH], te.prototype, "m_cItemsOwned", void 0),
        (0, i.Cg)([o.sH], te.prototype, "m_bUnsavedChanges", void 0),
        (0, i.Cg)([o.sH], te.prototype, "m_CommittedEquippedItem", void 0),
        (0, i.Cg)([o.sH], te.prototype, "m_EquippedItem", void 0),
        (0, i.Cg)([o.sH], te.prototype, "m_EquipFlags", void 0),
        (0, i.Cg)([o.XI], te.prototype, "SetEquipped", null),
        (0, i.Cg)([o.XI], te.prototype, "SetEquippedFlags", null),
        (0, i.Cg)([o.XI], te.prototype, "Revert", null);
      class ae {
        constructor(e, t, a, r, i, s) {
          (this.m_strDisplayCountry = void 0),
            (this.m_strDisplayState = void 0),
            (this.m_strDisplayCity = void 0),
            (this.m_strCountryCode = void 0),
            (this.m_strStateCode = void 0),
            (this.m_strCityCode = void 0),
            (this.m_bStateSelectionAvailable = !1),
            (this.m_bCitySelectionAvailable = !1),
            (0, o.Gn)(this),
            (this.m_strDisplayCountry = e),
            (this.m_strDisplayState = a),
            (this.m_strDisplayCity = i),
            (this.m_strCountryCode = t),
            (this.m_strStateCode = r),
            (this.m_strCityCode = s),
            this.m_strStateCode
              ? (this.m_bStateSelectionAvailable = !0)
              : this.m_strCountryCode && this.GetCountryList(),
            (this.m_bCitySelectionAvailable = !!this.m_strStateCode);
        }
        get Country() {
          return this.m_strDisplayCountry;
        }
        get CountryCode() {
          return this.m_strCountryCode;
        }
        SetCountry(e, t) {
          e != this.m_strCountryCode &&
            ((this.m_strStateCode = ""),
            (this.m_strDisplayState = ""),
            (this.m_strCityCode = ""),
            (this.m_strDisplayCity = "")),
            (this.m_strCountryCode = e),
            (this.m_strDisplayCountry = t),
            this.FindAndSetActiveCountry(),
            this.FindAndSetActiveState();
        }
        BIsStateSelectionAvailable() {
          return this.m_bStateSelectionAvailable;
        }
        get State() {
          return this.m_strDisplayState;
        }
        get StateCode() {
          return this.m_strStateCode;
        }
        SetState(e, t) {
          e != this.m_strStateCode &&
            ((this.m_strCityCode = ""), (this.m_strDisplayCity = "")),
            (this.m_strStateCode = e),
            (this.m_strDisplayState = t),
            this.FindAndSetActiveState();
        }
        BIsCitySelectionAvailable() {
          return this.m_bCitySelectionAvailable;
        }
        get City() {
          return this.m_strDisplayCity;
        }
        get CityCode() {
          return this.m_strCityCode;
        }
        SetCity(e, t) {
          (this.m_strCityCode = e), (this.m_strDisplayCity = t);
        }
        async GetCountryList() {
          return this.m_rgCountryList
            ? this.m_rgCountryList
            : (this.m_promiseLoadCountries ||
                ((this.m_promiseLoadCountries = n()
                  .get(C.TS.COMMUNITY_BASE_URL + "/actions/QueryLocations/")
                  .then((e) => e.data)),
                this.m_promiseLoadCountries.then(
                  (e) => {
                    (this.m_rgCountryList = e),
                      (this.m_promiseLoadCountries = null),
                      this.FindAndSetActiveCountry();
                  },
                  () => {
                    this.m_promiseLoadCountries = null;
                  },
                )),
              this.m_promiseLoadCountries);
        }
        FindAndSetActiveCountry() {
          (this.m_CountryCur =
            this.m_strCountryCode &&
            this.m_rgCountryList.find(
              (e) => e.countrycode == this.m_strCountryCode,
            )),
            (this.m_bStateSelectionAvailable =
              this.m_CountryCur && !!this.m_CountryCur.hasstates);
        }
        async GetStateList() {
          this.m_CountryCur || (await this.GetCountryList());
          let e = this.m_CountryCur;
          return e && e.hasstates
            ? void 0 !== e.states
              ? e.states
              : (e.stateloader ||
                  ((e.stateloader = n()
                    .get(
                      C.TS.COMMUNITY_BASE_URL +
                        `/actions/QueryLocations/${e.countrycode}/`,
                    )
                    .then((e) => e.data)),
                  e.stateloader.then(
                    (t) => {
                      (e.states = t || []),
                        delete e.stateloader,
                        this.FindAndSetActiveState();
                    },
                    () => {
                      delete e.stateloader;
                    },
                  )),
                e.stateloader)
            : [];
        }
        FindAndSetActiveState() {
          (this.m_StateCur =
            this.m_CountryCur &&
            this.m_CountryCur.states &&
            this.m_CountryCur.states.find(
              (e) => e.statecode == this.m_strStateCode,
            )),
            (this.m_bCitySelectionAvailable = !!this.m_StateCur);
        }
        async GetCityList() {
          this.m_StateCur || (await this.GetStateList());
          let e = this.m_StateCur;
          return e
            ? void 0 !== e.cities
              ? e.cities
              : (e.cityloader ||
                  ((e.cityloader = n()
                    .get(
                      C.TS.COMMUNITY_BASE_URL +
                        `/actions/QueryLocations/${e.countrycode}/${e.statecode}`,
                    )
                    .then((e) => e.data)),
                  e.cityloader.then(
                    (t) => {
                      (e.cities = t || []), delete e.cityloader;
                    },
                    () => {
                      delete e.cityloader;
                    },
                  )),
                e.cityloader)
            : [];
        }
      }
      (0, i.Cg)([o.sH], ae.prototype, "m_strDisplayCountry", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_strDisplayState", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_strDisplayCity", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_strCountryCode", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_strStateCode", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_strCityCode", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_bStateSelectionAvailable", void 0),
        (0, i.Cg)([o.sH], ae.prototype, "m_bCitySelectionAvailable", void 0),
        (0, i.Cg)([o.XI], ae.prototype, "SetCountry", null),
        (0, i.Cg)([o.XI], ae.prototype, "SetState", null),
        (0, i.Cg)([o.XI], ae.prototype, "SetCity", null),
        (0, i.Cg)([o.XI], ae.prototype, "FindAndSetActiveCountry", null),
        (0, i.Cg)([o.XI], ae.prototype, "FindAndSetActiveState", null);
      class re {
        constructor(e, t, a) {
          (this.m_ActiveTheme = void 0),
            (0, o.Gn)(this),
            (this.m_CMInterface = e),
            (this.m_rgAvailableThemes = a.map((e) => ({
              ...e,
              theme_id: e.theme_id || "Default",
              title: (0, p.we)(e.title),
            }))),
            void 0 === t || "" === t.theme_id
              ? this.SetActiveTheme("Default", !0)
              : ((this.m_ActiveTheme = t), (this.m_ComittedActiveTheme = t));
        }
        get ActiveTheme() {
          return this.m_ActiveTheme;
        }
        get AvailableThemes() {
          return this.m_rgAvailableThemes;
        }
        SetActiveTheme(e, t = !1) {
          for (let a of this.m_rgAvailableThemes)
            if (e === a.theme_id) {
              (this.m_ActiveTheme = a), t && (this.m_ComittedActiveTheme = a);
              break;
            }
        }
        BActiveThemeUncomitted() {
          return (
            this.m_ActiveTheme.theme_id != this.m_ComittedActiveTheme.theme_id
          );
        }
        RevertActiveTheme() {
          this.m_ActiveTheme = this.m_ComittedActiveTheme;
        }
        async CommitActiveTheme() {
          let e = F.w.Init(q.yo);
          e.Body().set_theme_id(
            "Default" == this.ActiveTheme.theme_id
              ? ""
              : this.ActiveTheme.theme_id,
          );
          const t = await q.xt.SetProfileTheme(
            this.m_CMInterface.GetServiceTransport(),
            e,
          );
          return (
            1 == t.GetEResult() &&
              (this.m_ComittedActiveTheme = this.ActiveTheme),
            t.GetEResult()
          );
        }
      }
      (0, i.Cg)([o.sH], re.prototype, "m_ActiveTheme", void 0),
        (0, i.Cg)([o.XI], re.prototype, "RevertActiveTheme", null);
      var ie = a(85044);
      async function se(e, t) {
        let a;
        if (t instanceof FormData) a = t;
        else {
          a = new FormData();
          for (const e in t) a.append(e, t[e]);
        }
        a.append("type", e),
          a.append("sessionID", C.TS.SESSIONID),
          a.append("json", "1");
        const i = `${r.s.ProfileURL}edit/`;
        try {
          let e = await n().post(i, a);
          return {
            eResult: e.data.success,
            strHTMLError: e.data.errmsg,
            strRedirectURL: e.data.redirect,
          };
        } catch (e) {
          return {
            eResult: 35,
            strHTMLError: (0, p.we)("#ConnectionTrouble_FailedToConnect"),
          };
        }
      }
      class ne {
        constructor(e) {
          (this.m_PrimaryGroup = void 0),
            (this.m_bLoaded = !1),
            (0, o.Gn)(this),
            e &&
              (this.m_CommittedPrimaryGroup = this.m_PrimaryGroup =
                new oe(new k.b(e.steamid), e.name, e.avatarHash));
        }
        get PrimaryGroup() {
          return this.m_PrimaryGroup;
        }
        SetPrimaryGroup(e) {
          this.m_PrimaryGroup = e;
        }
        BGroupsLoaded() {
          return this.m_bLoaded;
        }
        BHasAnyGroups() {
          return this.m_rgUserGroups.length > 0;
        }
        GetUserGroups() {
          return (
            this.m_bLoaded || this.StartUserGroupLoad(), this.m_rgUserGroups
          );
        }
        async BWaitForUserGroups() {
          return this.StartUserGroupLoad(), this.m_promiseLoading;
        }
        StartUserGroupLoad() {
          this.m_promiseLoading ||
            (this.m_promiseLoading = this.LoadUserGroups());
        }
        async LoadUserGroups() {
          let e = await n().get(
            `${r.s.ProfileURL}ajaxgroupinvite?select_primary=1&json=1`,
          );
          return (
            (0, o.h5)(() => {
              e.data &&
                (this.m_rgUserGroups = e.data.map(
                  (e) => new oe(new k.b(e.steamid), e.name, e.avatarHash),
                )),
                (this.m_bLoaded = !0);
            }),
            !!e.data
          );
        }
        BPrimaryGroupUncomitted() {
          return (
            (this.m_PrimaryGroup &&
              this.m_PrimaryGroup.GetSteamID().GetAccountID()) !=
            (this.m_CommittedPrimaryGroup &&
              this.m_CommittedPrimaryGroup.GetSteamID().GetAccountID())
          );
        }
        async CommitPrimaryGroup() {
          let e = await se("favoriteclan", {
            primary_group_steamid: this.m_PrimaryGroup
              .GetSteamID()
              .ConvertTo64BitString(),
          });
          return (
            1 == e.eResult &&
              (this.m_CommittedPrimaryGroup = this.m_PrimaryGroup),
            e
          );
        }
        RevertPrimaryGroupChanges() {
          this.m_PrimaryGroup = this.m_CommittedPrimaryGroup;
        }
      }
      (0, i.Cg)([o.sH], ne.prototype, "m_PrimaryGroup", void 0),
        (0, i.Cg)([o.sH], ne.prototype, "m_bLoaded", void 0),
        (0, i.Cg)([o.XI], ne.prototype, "SetPrimaryGroup", null),
        (0, i.Cg)([o.XI], ne.prototype, "RevertPrimaryGroupChanges", null);
      class oe {
        constructor(e, t, a) {
          (this.m_steamID = e),
            (this.m_strName = t),
            (this.m_strAvatarHash = a);
        }
        GetSteamID() {
          return this.m_steamID;
        }
        GetName() {
          return this.m_strName;
        }
        GetAvatarURL(e) {
          return (0, ie.t)(
            this.m_strAvatarHash || "0000000000000000000000000000000000000000",
            e,
          );
        }
      }
      class le {
        constructor(e, t, a) {
          (this.m_OGGAvatars = new M()),
            (this.m_EmoticonStore = new T.T()),
            (this.m_Profile = new me(e)),
            (this.m_WebAPI = a),
            (this.m_AppInfoStore = new m.Mi()),
            this.m_AppInfoStore.Init(this.m_WebAPI),
            this.m_AppInfoStore.SetCacheStorage(new l.A()),
            (this.m_ProfileBadges = new W(
              this.m_WebAPI,
              this.m_AppInfoStore,
              t,
            )),
            (this.m_ProfileItems = new ee(
              this.m_WebAPI,
              this.m_AppInfoStore,
              e.rgGoldenProfileData,
            )),
            (this.m_ProfileTheme = new re(
              this.m_WebAPI,
              e.ActiveTheme,
              e.rgAvailableThemes,
            )),
            (this.m_ProfilePrivacy = new U(
              e.Privacy.PrivacySettings,
              e.Privacy.eCommentPermission,
            )),
            (this.m_AvatarHistory = new O(this.m_WebAPI)),
            this.m_ProfileItems.AddOnAvatarEquipmentChangedCallback(() => {
              this.m_Profile.MiniProfileData.Reload(),
                this.m_AvatarHistory.RefreshAvatarHistory();
            });
        }
        get ServiceTransport() {
          return this.m_WebAPI.GetServiceTransport();
        }
        get Profile() {
          return this.m_Profile;
        }
        get ProfileBadges() {
          return this.m_ProfileBadges;
        }
        get ProfileItems() {
          return this.m_ProfileItems;
        }
        get ProfileTheme() {
          return this.m_ProfileTheme;
        }
        get ProfilePrivacy() {
          return this.m_ProfilePrivacy;
        }
        get OGGAvatarStore() {
          return this.m_OGGAvatars;
        }
        get AvatarHistory() {
          return this.m_AvatarHistory;
        }
        get EmoticonStore() {
          return this.m_EmoticonStore;
        }
        get MiniProfileOverrideData() {
          return {
            favorite_badge: this.m_ProfileBadges.GetFavoriteBadgePreview(),
          };
        }
      }
      class me {
        constructor(e) {
          (this.m_strPersonaName = void 0),
            (this.m_strCommittedPersonaName = void 0),
            (this.m_strCustomURL = void 0),
            (this.m_strRealName = void 0),
            (this.m_strSummary = void 0),
            (this.m_strAvatarHash = void 0),
            (this.m_strCommittedAvatarHash = void 0),
            (this.m_Preferences = void 0),
            (0, o.Gn)(this),
            (this.m_strPersonaName = e.strPersonaName),
            (this.m_strFilteredPersonaName = e.strFilteredPersonaName),
            (this.m_strCustomURL = e.strCustomURL),
            (this.m_strRealName = e.strRealName),
            (this.m_strFilteredRealName = e.strFilteredRealName),
            (this.m_strSummary = e.strSummary),
            (this.m_Preferences = e.ProfilePreferences),
            this.SetBasicInfoChangesComitted(),
            (this.m_strCommittedAvatarHash = this.m_strAvatarHash =
              e.strAvatarHash);
          const {
            LocationData: {
              locCountry: t,
              locCountryCode: a,
              locState: r,
              locStateCode: i,
              locCity: s,
              locCityCode: n,
            },
          } = e;
          (this.m_Location = new ae(t, a, r, i, s, n)),
            (this.m_GroupList = new ne(e.PrimaryGroup));
          const l = new k.b(C.iA.steamid);
          (this.m_MiniProfileData = new A(l.GetAccountID())),
            (this.m_persona = new f.Z(l)),
            (0, o.fm)(() => {
              this.BuildPersonaStateObject();
            }),
            (this.m_rtPersonaNameBannedUntil =
              e.rtPersonaNameBannedUntil || void 0),
            (this.m_rtProfileSummaryBannedUntil =
              e.rtProfileSummaryBannedUntil || void 0),
            (this.m_rtAvatarBannedUntil = e.rtAvatarBannedUntil || void 0);
        }
        RevertBasicInfoChanges() {
          (this.m_strPersonaName = this.m_strCommittedPersonaName),
            (this.m_strFilteredPersonaName =
              this.m_strCommittedFilteredPersonaName),
            (this.m_strCustomURL = this.m_strComittedCustomURL),
            (this.m_strRealName = this.m_strComittedRealName),
            (this.m_strFilteredRealName = this.m_strCommittedFilteredRealName),
            (this.m_strSummary = this.m_strComittedSummary);
        }
        SetBasicInfoChangesComitted() {
          (this.m_strCommittedPersonaName = this.m_strPersonaName),
            (this.m_strCommittedFilteredPersonaName =
              this.m_strFilteredPersonaName),
            (this.m_strComittedCustomURL = this.m_strCustomURL),
            (this.m_strComittedRealName = this.m_strRealName),
            (this.m_strCommittedFilteredRealName = this.m_strFilteredRealName),
            (this.m_strComittedSummary = this.m_strSummary);
        }
        NotifyRNMobileAppStateChanged() {
          const e = Reflect.get(window, "ReactNativeWebView");
          if (null == e ? void 0 : e.postMessage) {
            const t = {
              event_name: "personastatechanged",
              steamid: C.iA.steamid,
            };
            e.postMessage(JSON.stringify(t));
          }
        }
        GetPersonaName() {
          return this.m_strPersonaName;
        }
        GetComittedPersonaName() {
          return this.m_strCommittedPersonaName;
        }
        SetPersonaName(e) {
          (this.m_strPersonaName = e), (this.m_strFilteredPersonaName = e);
        }
        HasFilteredPersonaName() {
          return this.m_strPersonaName !== this.m_strFilteredPersonaName;
        }
        GetRealName() {
          return this.m_strRealName;
        }
        SetRealName(e) {
          (this.m_strRealName = e), (this.m_strFilteredRealName = e);
        }
        HasFilteredRealName() {
          return this.m_strRealName !== this.m_strFilteredRealName;
        }
        GetCustomURL() {
          return this.m_strCustomURL;
        }
        SetCustomURL(e) {
          this.m_strCustomURL = e;
        }
        GetConstructedURL() {
          return this.m_strCustomURL
            ? `${C.TS.COMMUNITY_BASE_URL}id/${this.m_strCustomURL}/`
            : `${C.TS.COMMUNITY_BASE_URL}profiles/${C.iA.steamid}/`;
        }
        GetAvatarHash() {
          return this.m_strAvatarHash;
        }
        GetCommittedAvatarHash() {
          return this.m_strCommittedAvatarHash;
        }
        GetSummary() {
          return this.m_strSummary;
        }
        SetSummary(e) {
          this.m_strSummary = e;
        }
        GetPreferences() {
          return this.m_Preferences;
        }
        SetPreferences(e) {
          this.m_Preferences = e;
        }
        GetPrimaryGroupSteamID() {
          return (
            this.m_GroupList.PrimaryGroup &&
            this.m_GroupList.PrimaryGroup.GetSteamID()
          );
        }
        get GroupList() {
          return this.m_GroupList;
        }
        get Location() {
          return this.m_Location;
        }
        get MiniProfileData() {
          return (
            this.m_MiniProfileData.EnsureCommunityDataLoaded(),
            this.m_MiniProfileData
          );
        }
        get PersonaState() {
          return this.m_persona;
        }
        BuildPersonaStateObject() {
          (this.m_persona.m_strPlayerName = this.m_strPersonaName),
            (this.m_persona.m_strAvatarHash = this.m_strAvatarHash),
            (this.m_persona.m_ePersonaState = 1);
        }
        async UploadAvatar(e) {
          let t = new FormData();
          t.append("avatar", e),
            t.append("type", "player_avatar_image"),
            t.append("sId", C.iA.steamid),
            t.append("sessionid", C.TS.SESSIONID),
            t.append("doSub", "1"),
            t.append("json", "1");
          let a = !1,
            r = "";
          try {
            let e = await n().post(
              `${C.TS.COMMUNITY_BASE_URL}actions/FileUploader/`,
              t,
            );
            e.data && e.data.success
              ? ((a = !0), this.SetAvatarHash(e.data.hash, !0))
              : (r =
                  (e.data && e.data.message) ||
                  (0, p.we)("#Chat_Settings_Error_ServerError"));
          } catch (e) {
            r =
              (e.response && e.response.data.message) ||
              (0, p.we)("#Chat_Settings_Error_ServerError");
          }
          return { bSuccess: a, strError: r };
        }
        SetAvatarHash(e, t = !1) {
          (this.m_strAvatarHash = e), t && this.CommitAvatarHash();
        }
        BHasUncomittedAvatarChanges() {
          return this.m_strAvatarHash != this.m_strCommittedAvatarHash;
        }
        CommitAvatarHash() {
          this.m_strCommittedAvatarHash = this.m_strAvatarHash;
        }
        RevertToComittedAvatarHash() {
          this.m_strAvatarHash = this.m_strCommittedAvatarHash;
        }
        BIsPersonaNameChangeOnCooldown() {
          return !!this.m_rtPersonaNameBannedUntil;
        }
        GetPersonaNameCooldownEndRTime() {
          return this.m_rtPersonaNameBannedUntil;
        }
        BIsProfileSummaryChangeOnCooldown() {
          return !!this.m_rtProfileSummaryBannedUntil;
        }
        GetProfileSummaryCooldownEndRTime() {
          return this.m_rtProfileSummaryBannedUntil;
        }
        BIsAvatarChangeOnCooldown() {
          return !!this.m_rtAvatarBannedUntil;
        }
        GetAvatarChangeCooldownEndRTime() {
          return this.m_rtAvatarBannedUntil;
        }
      }
      (me.k_strPersonaNameCooldownSupportURL =
        "https://help.steampowered.com/faqs/view/6862-8119-C23E-EA7B"),
        (me.k_strProfileSummaryCooldownSupportURL =
          "https://help.steampowered.com/faqs/view/6862-8119-C23E-EA7B"),
        (me.k_strAvatarCooldownSupportURL =
          "https://help.steampowered.com/faqs/view/6862-8119-C23E-EA7B"),
        (me.k_strNameFilteredSupportURL =
          "https://help.steampowered.com/wizard/HelpWithSteamIssue/?issueid=415"),
        (0, i.Cg)([o.sH], me.prototype, "m_strPersonaName", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strCommittedPersonaName", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strCustomURL", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strRealName", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strSummary", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strAvatarHash", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_strCommittedAvatarHash", void 0),
        (0, i.Cg)([o.sH], me.prototype, "m_Preferences", void 0),
        (0, i.Cg)([o.XI], me.prototype, "RevertBasicInfoChanges", null),
        (0, i.Cg)([o.XI], me.prototype, "SetAvatarHash", null),
        (0, i.Cg)([o.XI], me.prototype, "RevertToComittedAvatarHash", null);
      var ce = a(92757),
        de = a(2160),
        he = a(23809),
        ue = (a(64641), a(72739)),
        pe = a(35471),
        ve = a(68255),
        _e = a(73745),
        ge = a(8527),
        fe = a(88942),
        Pe = a(45301),
        Ee = a(76217),
        ye = a(31270),
        Ce = (a(9154), a(84811)),
        Se = a(91675);
      const Ae = ({ title: e, className: t, children: a }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(ye.ProfileBox, t) },
            d.createElement("div", { className: ye.ProfileBoxTitle }, e),
            d.createElement(
              "div",
              { className: ye.ProfileBoxContent },
              d.createElement(Ce.tH, null, a),
            ),
          ),
        we = ({ onSave: e, onCancel: t, disabled: a }) =>
          d.createElement(
            Ee.Z,
            { className: ye.SaveCancelButtons, "flow-children": "row-reverse" },
            d.createElement(
              ve.jn,
              { onClick: e, disabled: a },
              (0, p.we)("#Button_Save"),
            ),
            d.createElement(ve.$n, { onClick: t }, (0, p.we)("#Button_Cancel")),
          );
      function Ie(e) {
        return (0, p.we)(e).replace(/%s/g, "");
      }
      class Ge extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { activeItem: void 0, bSaving: !1 });
        }
        static getDerivedStateFromProps(e, t) {
          return {
            activeItem: void 0 !== t.activeItem ? t.activeItem : e.ActiveItem,
          };
        }
        async CommitChanges() {
          this.setState({ bSaving: !0 });
          await this.props.fnCommitChanges(this.state.activeItem);
          this.setState({ bSaving: !1 });
        }
        async RevertChanges() {
          this.setState({ activeItem: this.props.ActiveItem }),
            this.props.fnRevertChanges();
        }
        OnItemSelected(e) {
          this.setState({ activeItem: e });
        }
        render() {
          const {
              strDialogTitle: e,
              ActiveItem: t,
              className: a,
              fnRenderPreview: r,
              ...i
            } = this.props,
            { activeItem: s, bSaving: n } = this.state;
          return d.createElement(
            ve.nB,
            { className: (0, u.A)(ye.PickerPreviewDialog, a) },
            d.createElement(ce.XG, {
              when: !i.fnIsSameItem(s, this.props.ActiveItem),
              message: (0, p.we)("#Profile_Edit_UnsavedChangesWarning"),
            }),
            d.createElement(
              Ee.Z,
              { className: ye.PickerPreviewBody, "flow-children": "column" },
              d.createElement(
                "div",
                { className: ye.PickerPreview },
                d.createElement(Ce.tH, null, r(s)),
              ),
              e && d.createElement(ve.Y9, null, e),
              d.createElement(
                "div",
                { className: ye.PickerPreviewItems },
                d.createElement(
                  Ce.tH,
                  null,
                  d.createElement(Be, {
                    ...i,
                    onItemSelected: this.OnItemSelected,
                    activeItem: s,
                  }),
                ),
              ),
              d.createElement(we, {
                onSave: this.CommitChanges,
                onCancel: this.RevertChanges,
                disabled: n,
              }),
            ),
          );
        }
      }
      function Ne(e) {
        return e ? e.toLocaleLowerCase().replace(/\W/g, "") : "";
      }
      (0, i.Cg)([_e.oI], Ge.prototype, "CommitChanges", null),
        (0, i.Cg)([_e.oI], Ge.prototype, "RevertChanges", null),
        (0, i.Cg)([_e.oI], Ge.prototype, "OnItemSelected", null);
      class Be extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { strSearch: "" }),
            (this.m_rgSearchableItems = null),
            (this.m_refRootDiv = d.createRef());
        }
        async componentDidMount() {
          if (null === this.m_rgSearchableItems) {
            const {
                getItems: e,
                getSearchFields: t,
                onItemSelected: a,
              } = this.props,
              r = await e();
            this.m_fnSearchFieldsDisposer = (0, o.fm)(() => {
              (this.m_rgSearchableItems = r.map((e, r) => ({
                key: "" + r,
                normalized_search_strings: t && t(e).map(Ne),
                OnSelected: () => {
                  a(e);
                },
                item: e,
              }))),
                this.props.RenderDefaultComponent &&
                  this.m_rgSearchableItems.unshift({
                    key: "default",
                    normalized_search_strings: [""],
                    OnSelected: () => {
                      a(null);
                    },
                    item: null,
                  }),
                this.forceUpdate();
            });
          }
        }
        componentWillUnmount() {
          this.m_fnSearchFieldsDisposer && this.m_fnSearchFieldsDisposer();
        }
        BuildFilterPredicate() {
          const { strSearch: e } = this.state;
          if (e && e.trim().length) {
            let t = e
              .toLocaleLowerCase()
              .split(/\W/)
              .filter((e) => e.trim().length > 0);
            return (e) => {
              for (let a of t) {
                let t = !1;
                for (let r of e.normalized_search_strings)
                  if (r.includes(a)) {
                    t = !0;
                    break;
                  }
                if (!t) return !1;
              }
              return !0;
            };
          }
          return null;
        }
        OnSearchChange(e) {
          let t = e.currentTarget.value;
          this.setState((e) => {
            let a = { strSearch: t };
            if (!e.strSearch && t) {
              let e = this.m_refRootDiv.current.getBoundingClientRect();
              (a.nHeight = e.height), (a.nWidth = e.width);
            } else e.strSearch && !t && ((a.nHeight = null), (a.nWidth = null));
            return a;
          });
        }
        render() {
          const {
              ItemComponent: e,
              RenderDefaultComponent: t,
              getSearchFields: a,
              activeItem: r,
              fnIsSameItem: i,
              classNameItemPicker: s,
            } = this.props,
            { strSearch: n, nWidth: o, nHeight: l } = this.state;
          if (null === this.m_rgSearchableItems) return null;
          let m = this.BuildFilterPredicate(),
            c = {};
          o && l && (c = { width: o + "px", height: l + "px" });
          let h =
            i ||
            function (e, t) {
              return e == t;
            };
          return d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(ye.ItemPicker, s),
              ref: this.m_refRootDiv,
              style: c,
              "flow-children": "column",
            },
            a &&
              d.createElement(
                "div",
                { className: ye.ItemPickeFilter },
                d.createElement(ve.pd, {
                  value: n,
                  label: (0, p.we)("#ItemPicker_Filter"),
                  onChange: this.OnSearchChange,
                }),
              ),
            d.createElement(
              "div",
              { className: ye.ItemPickerCtn },
              d.createElement(
                Ee.Z,
                { className: ye.ItemPickerList, "flow-children": "grid" },
                this.m_rgSearchableItems.map((a) =>
                  m && !m(a)
                    ? null
                    : a.item
                      ? d.createElement(
                          Ce.tH,
                          { key: a.key },
                          d.createElement(e, {
                            Item: a.item,
                            onSelected: a.OnSelected,
                            active: r && h(a.item, r),
                          }),
                        )
                      : d.createElement(
                          Ce.tH,
                          { key: a.key },
                          t({ onSelected: a.OnSelected, active: !r }),
                        ),
                ),
              ),
            ),
          );
        }
      }
      (0, i.Cg)([_e.oI], Be.prototype, "OnSearchChange", null);
      const be = ({ strHTMLError: e }) =>
          e
            ? d.createElement(
                "div",
                { className: ye.HTMLErrorBox },
                d.createElement(
                  "b",
                  null,
                  (0, p.we)("#Error_Generic_Label"),
                  "",
                ),
                d.createElement("span", {
                  className: ye.HTMLError,
                  dangerouslySetInnerHTML: { __html: e },
                }),
              )
            : null,
        Le = ({
          strCooldownLabel: e,
          rtCooldownEnd: t,
          strCooldownDescHTML: a,
          children: r,
        }) => {
          if (!t) return d.createElement(d.Fragment, null, r);
          const i = Math.max(0, t - Date.now() / 1e3);
          return d.createElement(
            "div",
            { className: ye.CooldownNotice },
            d.createElement(
              "div",
              { className: ye.HTMLErrorBox },
              d.createElement(
                "div",
                { className: ye.ErrorMessage },
                e,
                " ",
                (0, p.Hq)(i, { eSuffix: Se.a8.None, bForceSingleUnits: !0 }),
                " ",
              ),
              d.createElement("div", {
                dangerouslySetInnerHTML: { __html: a },
              }),
            ),
            d.createElement("div", { className: ye.DisabledInputCtn }, r),
          );
        };
      function Re(e) {
        const { image: t, onSelected: a, className: r } = e,
          [i, s] = d.useState(!1),
          [n, o] = d.useState(!1);
        return d.createElement(
          Ee.Z,
          {
            className: r,
            onGamepadFocus: () => o(!0),
            onGamepadBlur: () => o(!1),
            onMouseEnter: () => s(!0),
            onMouseLeave: () => s(!1),
            onActivate: () => a(t),
          },
          d.createElement("img", {
            src: i || n || Ke ? Z(t) : j(t),
            loading: "lazy",
          }),
        );
      }
      let ke = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bReady: !1 });
        }
        async componentDidMount() {
          let e;
          ([this.m_rgAvatars, e] = await Promise.all([
            this.props.ProfileItems.GetOwnedAvatars(),
            this.props.OGGAvatars.BWaitForLoad(),
          ])),
            this.setState({ bReady: !0 });
        }
        SelectAnimatedAvatar(e) {
          this.props.Profile.RevertToComittedAvatarHash(),
            this.props.ProfileItems.SetEquippedAvatar(e),
            this.props.fnOnCollapse();
        }
        SelectOGGAvatar(e) {
          this.props.Profile.SetAvatarHash(e),
            this.props.ProfileItems.SetEquippedAvatar(null),
            this.props.fnOnCollapse();
        }
        SelectPreviousAvatar(e) {
          this.props.Profile.SetAvatarHash(e),
            this.props.ProfileItems.SetEquippedAvatar(null),
            this.props.fnOnCollapse();
        }
        GetTopAvatars(e = 4) {
          let t;
          if (((t = this.m_rgAvatars.slice(0, e)), t.length < e)) {
            const a = this.props.AvatarHistory.GetAvatarHistory();
            for (
              let r = 0;
              r < a.length && (t.push(a[r]), !(t.length >= e));
              ++r
            );
          }
          if (t.length < e) {
            let a = (function* (e) {
              for (let t of [
                e.GetRecentGameAvatars(),
                e.GetOwnedGameAvatars(),
                e.GetOtherGameAvatars(),
              ])
                for (let e of t) for (let t of e.avatars) yield t;
            })(this.props.OGGAvatars);
            for (
              let r = a.next();
              r.value && (t.push(r.value), !(t.length >= e));
              r = a.next()
            );
          }
          return t;
        }
        render() {
          if (!this.state.bReady) return !1;
          const {
            bExpanded: e,
            fnOnExpand: t,
            OGGAvatars: a,
            AvatarHistory: r,
            fnOnCollapse: i,
          } = this.props;
          if (e)
            return d.createElement(
              "div",
              { className: Pe.AvatarCollection },
              d.createElement(
                Fe,
                null,
                (0, p.we)("#Profile_Edit_Avatar_YourAvatars"),
              ),
              d.createElement(Me, {
                rgAnimatedAvatars: this.m_rgAvatars,
                OGGAvatars: a,
                AvatarHistory: r,
                onSelectAnimatedAvatar: this.SelectAnimatedAvatar,
                onSelectOGGAvatar: this.SelectOGGAvatar,
                onSelectPreviousAvatar: this.SelectPreviousAvatar,
              }),
            );
          {
            let e = this.GetTopAvatars();
            return d.createElement(
              "div",
              { className: Pe.AvatarCollection },
              d.createElement(
                Fe,
                null,
                (0, p.we)("#Profile_Edit_Avatar_YourAvatars"),
              ),
              d.createElement(
                "div",
                { className: Pe.AvatarCollectionSingleRowWrapper },
                d.createElement(
                  Ee.Z,
                  {
                    className: Pe.AvatarCollectionSingleRow,
                    "flow-children": "row",
                  },
                  e.map((e) =>
                    "communityitemid" in e
                      ? d.createElement(
                          d.Fragment,
                          { key: e.communityitemid },
                          d.createElement(De, {
                            avatar: e,
                            onSelected: this.SelectAnimatedAvatar,
                            large: !0,
                          }),
                          d.createElement("div", {
                            className: Pe.AvatarRowSpacer,
                          }),
                        )
                      : "timestamp" in e
                        ? d.createElement(
                            d.Fragment,
                            { key: e.avatar_hash },
                            d.createElement(Oe, {
                              hash: e.avatar_hash,
                              onSelected: this.SelectPreviousAvatar,
                              large: !0,
                            }),
                            d.createElement("div", {
                              className: Pe.AvatarRowSpacer,
                            }),
                          )
                        : d.createElement(
                            d.Fragment,
                            { key: e.avatar_hash },
                            d.createElement(Oe, {
                              hash: e.avatar_hash,
                              onSelected: this.SelectOGGAvatar,
                              large: !0,
                            }),
                            d.createElement("div", {
                              className: Pe.AvatarRowSpacer,
                            }),
                          ),
                  ),
                ),
              ),
              d.createElement(
                "div",
                { className: Pe.ExpandButtonContainer },
                d.createElement(
                  ve.$n,
                  { onClick: t },
                  (0, p.we)("#Profile_Edit_Avatar_SeeAll"),
                ),
              ),
            );
          }
        }
      };
      (0, i.Cg)([_e.oI], ke.prototype, "SelectAnimatedAvatar", null),
        (0, i.Cg)([_e.oI], ke.prototype, "SelectOGGAvatar", null),
        (0, i.Cg)([_e.oI], ke.prototype, "SelectPreviousAvatar", null),
        (ke = (0, i.Cg)([c.PA], ke));
      const Te = ke,
        Fe = ({ children: e }) =>
          d.createElement(
            "div",
            { className: Pe.AvatarCollectionHeader },
            d.createElement("div", { className: Pe.AvatarCollectionName }, e),
          );
      function De(e) {
        const { avatar: t, onSelected: a, large: r } = e;
        return d.createElement(Re, {
          image: t,
          onSelected: a,
          className: (0, u.A)(Pe.AvatarPreview, Pe.Animated, r && Pe.Large),
        });
      }
      const Oe = ({ hash: e, onSelected: t, large: a }) =>
          d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(Pe.AvatarPreview, Pe.Static, a && Pe.Large),
              onClick: () => t(e),
              onActivate: () => t(e),
            },
            d.createElement("img", {
              src: (0, f.tp)(e, a ? "full" : "medium"),
              loading: "lazy",
            }),
          ),
        Me = (0, c.PA)(
          ({
            rgAnimatedAvatars: e,
            OGGAvatars: t,
            AvatarHistory: a,
            onSelectAnimatedAvatar: r,
            onSelectOGGAvatar: i,
            onSelectPreviousAvatar: s,
          }) => {
            let n = a.GetAvatarHistory(),
              o = [...t.GetRecentGameAvatars(), ...t.GetOwnedGameAvatars()];
            return d.createElement(
              Ee.Z,
              { "flow-children": "column" },
              d.createElement(He, { rgAnimatedAvatars: e, onSelected: r }),
              d.createElement(xe, { rgAvatars: n, onSelected: s }),
              d.createElement(Ue, {
                OGGAvatars: t,
                rgAvatars: o,
                onSelected: i,
                title: (0, p.we)("#Profile_Edit_YourGameAvatars"),
              }),
              o.length < 20 &&
                d.createElement(Ue, {
                  OGGAvatars: t,
                  rgAvatars: t.GetOtherGameAvatars(),
                  onSelected: i,
                  title: (0, p.we)("#Profile_Edit_MoreGameAvatars"),
                }),
            );
          },
        ),
        He = ({ rgAnimatedAvatars: e, onSelected: t }) =>
          e.length
            ? d.createElement(
                "div",
                { className: (0, u.A)(Pe.CollectionGroup, Pe.Primary) },
                d.createElement(
                  "div",
                  { className: Pe.Title },
                  (0, p.we)("#Profile_Edit_PurchasedFromRewardsStore"),
                ),
                d.createElement(
                  Ee.Z,
                  {
                    className: Pe.CollectionGroupAvatars,
                    "flow-children": "grid",
                  },
                  e.map((e) =>
                    d.createElement(De, {
                      key: e.communityitemid,
                      avatar: e,
                      onSelected: t,
                    }),
                  ),
                ),
              )
            : null,
        xe = (0, c.PA)(({ rgAvatars: e, onSelected: t }) =>
          e.length
            ? d.createElement(
                "div",
                { className: (0, u.A)(Pe.CollectionGroup, Pe.Primary) },
                d.createElement(
                  "div",
                  { className: Pe.Title },
                  (0, p.we)("#Profile_Edit_YourPreviousAvatars"),
                ),
                d.createElement(
                  "div",
                  { className: Pe.CollectionGroupAvatars },
                  e.map((e) =>
                    d.createElement(Oe, {
                      key: e.avatar_hash,
                      hash: e.avatar_hash,
                      onSelected: t,
                    }),
                  ),
                ),
              )
            : null,
        );
      function Ue(e) {
        const { rgAvatars: t, OGGAvatars: a, onSelected: r, title: i } = e;
        return t.length
          ? d.createElement(
              "div",
              { className: (0, u.A)(Pe.CollectionGroup, Pe.Primary) },
              d.createElement("div", { className: Pe.Title }, i),
              t.map((e) =>
                d.createElement(qe, {
                  OGGAvatars: a,
                  key: e.appid,
                  game: e,
                  onSelected: r,
                }),
              ),
            )
          : null;
      }
      function qe(e) {
        const { game: t, onSelected: a, OGGAvatars: r } = e,
          [i, s] = d.useState(!1),
          { isLoading: n, data: o } = (function (e, t, a) {
            return (0, fe.I)({
              queryKey: ["OGGAvatars", t],
              queryFn: async () => {
                const a = await fetch(
                    `${ge.TS.COMMUNITY_BASE_URL}actions/GameAvatarsForGame/${t}`,
                  ),
                  r = await a.json();
                return e.UpdateAvatarsForGame(t, r), r;
              },
              enabled: a,
            });
          })(r, t.appid, i);
        let l;
        l =
          i && o
            ? o
            : t.avatar_count == t.avatars.length
              ? t.avatars
              : t.avatars.slice(0, 5);
        const m = t.avatar_count - l.length;
        return d.createElement(
          "div",
          { className: Pe.CollectionGroup },
          d.createElement("div", { className: Pe.Title }, t.name),
          d.createElement(
            Ee.Z,
            { className: Pe.CollectionGroupAvatars, "flow-children": "grid" },
            l.map((e) =>
              d.createElement(Oe, {
                key: e.avatar_hash,
                hash: e.avatar_hash,
                onSelected: a,
              }),
            ),
            (!i || n) &&
              m > 0 &&
              d.createElement(
                ve.$n,
                {
                  type: "button",
                  className: (0, u.A)(
                    Pe.AvatarPreview,
                    Pe.ExpandAvatarsButton,
                    Pe.Static,
                  ),
                  disabled: n,
                  onClick: n ? void 0 : () => s(!0),
                },
                "+",
                m.toLocaleString(),
              ),
          ),
        );
      }
      class We extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bReady: !1 });
        }
        async componentDidMount() {
          (this.m_rgFrames =
            await this.props.ProfileItems.GetOwnedAvatarFrames()),
            this.setState({ bReady: !0 });
        }
        SelectFrame(e) {
          this.props.ProfileItems.SetEquippedAvatarFrame(e),
            this.props.fnOnCollapse();
        }
        render() {
          if (!this.state.bReady) return !1;
          const {
            bExpanded: e,
            ProfileItems: t,
            fnOnExpand: a,
            fnOnCollapse: r,
          } = this.props;
          if (e)
            return d.createElement(
              "div",
              { className: Pe.AvatarCollection },
              d.createElement(
                Fe,
                null,
                (0, p.we)("#Profile_Edit_Avatar_YourFrames"),
              ),
              d.createElement(
                Ce.tH,
                null,
                d.createElement(Ve, {
                  rgFrames: this.m_rgFrames,
                  ProfileItems: t,
                  onSelected: this.SelectFrame,
                }),
              ),
            );
          {
            let e = this.m_rgFrames.slice(0, 2),
              r = this.m_rgFrames.length > 2;
            return d.createElement(
              Ee.Z,
              { className: Pe.AvatarCollection, "flow-children": "column" },
              d.createElement(
                Fe,
                null,
                (0, p.we)("#Profile_Edit_Avatar_YourFrames"),
              ),
              d.createElement(
                "div",
                { className: Pe.AvatarCollectionSingleRowWrapper },
                d.createElement(
                  Ee.Z,
                  {
                    className: (0, u.A)(
                      Pe.AvatarCollectionSingleRow,
                      Pe.ThreeColumns,
                    ),
                    "flow-children": "row",
                  },
                  d.createElement(Ye, {
                    onSelected: this.SelectFrame,
                    large: !0,
                    ProfileItems: t,
                  }),
                  d.createElement("div", { className: Pe.AvatarRowSpacer }),
                  d.createElement(
                    Ce.tH,
                    null,
                    e.map((e) =>
                      d.createElement(
                        d.Fragment,
                        { key: e.communityitemid },
                        d.createElement(ze, {
                          frame: e,
                          onSelected: this.SelectFrame,
                          large: !0,
                        }),
                        d.createElement("div", {
                          className: Pe.AvatarRowSpacer,
                        }),
                      ),
                    ),
                  ),
                ),
              ),
              r &&
                d.createElement(
                  "div",
                  { className: Pe.ExpandButtonContainer },
                  d.createElement(
                    ve.$n,
                    { onClick: a },
                    (0, p.we)("#Profile_Edit_Avatar_SeeAll"),
                  ),
                ),
            );
          }
        }
      }
      function ze(e) {
        const { frame: t, onSelected: a, large: r } = e;
        return d.createElement(Re, {
          image: t,
          onSelected: a,
          className: (0, u.A)(Pe.FramePreview, r && Pe.Large),
        });
      }
      (0, i.Cg)([_e.oI], We.prototype, "SelectFrame", null);
      const Ye = (0, c.PA)(({ onSelected: e, ProfileItems: t, large: a }) => {
          let r = t.GetProfileModifierAvatarFrameURL();
          return r
            ? d.createElement(
                Ee.Z,
                {
                  className: (0, u.A)(Pe.FramePreview, a && Pe.Large),
                  onActivate: () => e(null),
                },
                d.createElement("img", { src: r }),
              )
            : d.createElement(
                Ee.Z,
                {
                  className: (0, u.A)(
                    Pe.FramePreview,
                    a && Pe.Large,
                    Pe.DefaultAvatarFramePreview,
                  ),
                  onActivate: () => e(null),
                },
                d.createElement(
                  "div",
                  { className: Pe.DefaultAvatarFrame },
                  d.createElement("div", {
                    className: Pe.DefaultAvatarFrameContent,
                  }),
                ),
              );
        }),
        Ve = ({ rgFrames: e, ProfileItems: t, onSelected: a }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(Pe.CollectionGroup, Pe.Primary) },
            d.createElement(
              "div",
              { className: Pe.Title },
              (0, p.we)("#Profile_Edit_PurchasedFromRewardsStore"),
            ),
            d.createElement(
              Ee.Z,
              { className: Pe.CollectionGroupAvatars, "flow-children": "grid" },
              d.createElement(Ye, { onSelected: a, ProfileItems: t }),
              e.map((e) =>
                d.createElement(ze, {
                  key: e.communityitemid,
                  frame: e,
                  onSelected: a,
                }),
              ),
            ),
          ),
        Xe = d.lazy(() =>
          Promise.all([a.e(4922), a.e(5278)]).then(a.bind(a, 66884)),
        ),
        Ke = !0;
      let Ze = class extends d.Component {
        render() {
          return d.createElement($e, { ...this.props });
        }
      };
      Ze = (0, i.Cg)([c.PA], Ze);
      const je = Ze;
      class Qe extends d.Component {
        componentDidMount() {
          document
            .querySelector(".profile_small_header_avatar")
            .classList.add(pe.HideDefaultAvatar),
            (this.m_disposer = (0, o.fm)(() => {
              const { Profile: e, ProfileItems: t } = this.props,
                a = et(
                  e.GetCommittedAvatarHash(),
                  t.GetCommittedEquippedAvatar(),
                  "small",
                  { disableAnimation: !0 },
                );
              document
                .querySelectorAll(".user_avatar > img")
                .forEach((e) => (e.src = a));
            }));
        }
        componentWillUnmount() {
          document
            .querySelector(".profile_small_header_avatar")
            .classList.remove(pe.HideDefaultAvatar),
            this.m_disposer();
        }
        render() {
          const { Profile: e, ProfileItems: t } = this.props;
          return ue.createPortal(
            d.createElement(it, { Profile: e, ProfileItems: t }),
            document.querySelector(".profile_small_header_avatar"),
          );
        }
      }
      class $e extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              uploadImage: null,
              strUploadError: "",
              bAvatarCollectionExpanded: !1,
              bFrameCollectionExpanded: !1,
              bSaving: !1,
              bHTMLError: !1,
            }),
            (this.cropRef = d.createRef());
        }
        OnUploadSelected(e) {
          this.setState({
            uploadImage: e,
            bAvatarCollectionExpanded: !1,
            bFrameCollectionExpanded: !1,
          });
        }
        OnShowAllAvatarsClicked() {
          this.setState({
            bAvatarCollectionExpanded: !0,
            bFrameCollectionExpanded: !1,
          });
        }
        OnShowAllFramesClicked() {
          this.setState({
            bAvatarCollectionExpanded: !1,
            bFrameCollectionExpanded: !0,
          });
        }
        Reset() {
          (this.cropRef = d.createRef()),
            this.setState({
              uploadImage: null,
              strUploadError: "",
              bAvatarCollectionExpanded: !1,
              bFrameCollectionExpanded: !1,
              bHTMLError: !1,
            });
        }
        RevertChanges() {
          this.props.ProfileItems.RevertAvatarChanges(),
            this.props.Profile.RevertToComittedAvatarHash(),
            this.Reset();
        }
        async OnSave() {
          this.setState({ bSaving: !0 }),
            this.state.uploadImage
              ? await this.SaveUpload()
              : await this.CommitChanges(),
            this.setState({ bSaving: !1 }),
            this.props.Profile.NotifyRNMobileAppStateChanged();
        }
        async SaveUpload() {
          var e;
          const { Profile: t, ProfileItems: a, AvatarHistory: r } = this.props,
            i = await t.UploadAvatar(
              await (null === (e = this.cropRef.current) || void 0 === e
                ? void 0
                : e.getBlob()),
            );
          i.bSuccess
            ? (this.setState({ uploadImage: null, strUploadError: "" }),
              (this.cropRef = d.createRef()),
              a.SetEquippedAvatar(null, !0),
              r.RefreshAvatarHistory(),
              this.setState({
                bHTMLError: 1 !== (await a.CommitAvatarChanges()),
              }))
            : this.setState({ strUploadError: i.strError });
        }
        async CommitChanges() {
          const {
              Profile: e,
              ProfileItems: t,
              OGGAvatars: a,
              AvatarHistory: r,
            } = this.props,
            [i, s, n] = await Promise.all([
              t.CommitAvatarChanges(),
              e.BHasUncomittedAvatarChanges()
                ? a.SetPlayerOGGAvatar(e)
                : Promise.resolve(1),
              e.BHasUncomittedAvatarChanges()
                ? r.SetPreviousAvatar(e)
                : Promise.resolve(1),
            ]);
          this.setState({ bHTMLError: 1 !== i || (1 !== s && 1 !== n) }),
            r.RefreshAvatarHistory();
        }
        componentWillUnmount() {
          this.RevertChanges();
        }
        render() {
          const {
              Profile: e,
              ProfileItems: t,
              OGGAvatars: a,
              AvatarHistory: r,
            } = this.props,
            {
              uploadImage: i,
              bAvatarCollectionExpanded: s,
              bFrameCollectionExpanded: n,
              bSaving: o,
            } = this.state,
            l = {
              Profile: e,
              ProfileItems: t,
              OGGAvatars: a,
              AvatarHistory: r,
              fnOnCollapse: this.Reset,
            };
          return d.createElement(
            ve.nB,
            { className: pe.AvatarDialog },
            d.createElement(ce.XG, {
              when: t.BIsAvatarUncomitted(),
              message: (0, p.we)("#Profile_Edit_UnsavedChangesWarning"),
            }),
            d.createElement(
              Ee.Z,
              { "flow-children": "column" },
              d.createElement(
                Ee.Z,
                { className: pe.AvatarDialogBody, "flow-children": "column" },
                d.createElement(ve.Y9, null, (0, p.we)("#Profile_FieldAvatar")),
                d.createElement(
                  ve.a3,
                  null,
                  (0, p.we)("#Profile_Edit_Avatar_Instructions"),
                ),
                d.createElement(be, {
                  strHTMLError: this.state.bHTMLError
                    ? (0, p.we)("#ConnectionTrouble_FailedToConnect")
                    : "",
                }),
                d.createElement(
                  Je,
                  { Profile: e },
                  d.createElement(
                    "div",
                    { className: pe.AvatarDialogTop },
                    d.createElement(tt, { Profile: e, ProfileItems: t }),
                    d.createElement(
                      "div",
                      { className: pe.AvatarDialogUploadArea },
                      d.createElement(rt, {
                        OnAvatarSelected: this.OnUploadSelected,
                        disabled: this.state.bSaving,
                        strError: this.state.strUploadError,
                      }),
                      d.createElement(
                        "div",
                        null,
                        (0, p.we)("#Profile_Edit_Avatar_UploadInstructions"),
                      ),
                    ),
                  ),
                  i &&
                    d.createElement(
                      d.Suspense,
                      { fallback: null },
                      d.createElement(Xe, { imageData: i, ref: this.cropRef }),
                    ),
                  !i &&
                    !n &&
                    d.createElement(Te, {
                      ...l,
                      bExpanded: s,
                      fnOnExpand: this.OnShowAllAvatarsClicked,
                    }),
                  !i &&
                    !s &&
                    d.createElement(We, {
                      ...l,
                      bExpanded: n,
                      fnOnExpand: this.OnShowAllFramesClicked,
                    }),
                ),
              ),
              d.createElement(we, {
                onSave: this.OnSave,
                onCancel: this.RevertChanges,
                disabled: o || e.BIsAvatarChangeOnCooldown(),
              }),
            ),
          );
        }
      }
      (0, i.Cg)([_e.oI], $e.prototype, "OnUploadSelected", null),
        (0, i.Cg)([_e.oI], $e.prototype, "OnShowAllAvatarsClicked", null),
        (0, i.Cg)([_e.oI], $e.prototype, "OnShowAllFramesClicked", null),
        (0, i.Cg)([_e.oI], $e.prototype, "Reset", null),
        (0, i.Cg)([_e.oI], $e.prototype, "RevertChanges", null),
        (0, i.Cg)([_e.oI], $e.prototype, "OnSave", null),
        (0, i.Cg)([_e.oI], $e.prototype, "SaveUpload", null),
        (0, i.Cg)([_e.oI], $e.prototype, "CommitChanges", null);
      const Je = ({ Profile: e, children: t }) =>
        e.BIsAvatarChangeOnCooldown()
          ? d.createElement(
              Le,
              {
                rtCooldownEnd: e.GetAvatarChangeCooldownEndRTime(),
                strCooldownLabel: (0, p.we)("#Profile_AvatarUploadingBanned"),
                strCooldownDescHTML: (0, p.we)(
                  "#Profile_AvatarUploadingBanned_Desc",
                  me.k_strAvatarCooldownSupportURL,
                ),
              },
              t,
            )
          : d.createElement(d.Fragment, null, t);
      function et(e, t, a, r) {
        return t
          ? (null == r ? void 0 : r.disableAnimation)
            ? j(t)
            : Z(t)
          : (0, ie.t)(e || ie.d, a);
      }
      const tt = (0, c.PA)(({ Profile: e, ProfileItems: t }) => {
          const a = e.GetAvatarHash(),
            r = t.GetEquippedAvatar(),
            i = t.GetEquippedAvatarFrame();
          let s = !i && t.GetEquippedProfileModifier();
          s && !t.BIsLegacyGoldenProfile(s.appid) && (s = null);
          let n = null;
          return (
            s ? (n = t.GetProfileModifierAvatarFrameURL()) : i && (n = Z(i)),
            d.createElement(
              "div",
              { className: pe.AvatarRow },
              d.createElement(at, {
                sizeClassName: pe.Large,
                sizePx: 184,
                avatarURL: et(a, r, "full"),
                frameURL: n,
                isGolden: !!s,
              }),
              d.createElement(at, {
                sizeClassName: pe.Medium,
                sizePx: 64,
                avatarURL: et(a, r, "medium"),
                frameURL: n,
                isGolden: !!s,
              }),
              d.createElement(at, {
                sizeClassName: pe.Small,
                sizePx: 32,
                avatarURL: et(a, r, "small"),
                frameURL: n,
                isGolden: !!s,
              }),
            )
          );
        }),
        at = ({
          sizeClassName: e,
          sizePx: t,
          avatarURL: a,
          frameURL: r,
          isGolden: i,
        }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(pe.Avatar, e) },
            d.createElement(
              "div",
              { className: pe.AvatarImgCtn },
              d.createElement("div", { className: pe.AvatarCropPreview }),
              r &&
                d.createElement(
                  "div",
                  { className: pe.AvatarFrame },
                  d.createElement("img", { src: r }),
                ),
              i && d.createElement("div", { className: "goldenAvatarOverlay" }),
              d.createElement("img", { src: a }),
            ),
            d.createElement("div", { className: pe.size }, t, "px"),
          );
      function rt(e) {
        const { OnAvatarSelected: t, disabled: a, strError: r } = e,
          i = d.useRef(void 0),
          s = d.useCallback(() => {
            var e;
            const a =
              null === (e = i.current) || void 0 === e ? void 0 : e.files;
            (null == a ? void 0 : a.length) > 0 &&
              a[0].type.startsWith("image/") &&
              (t(a[0]), (i.current.value = null));
          }, [t]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement("input", {
            type: "file",
            accept: "image/*",
            style: { display: "none" },
            ref: i,
            onInput: s,
          }),
          !!r && d.createElement("div", { className: pe.Error }, r),
          d.createElement(
            ve.$n,
            { onClick: () => i.current.click(), disabled: a },
            (0, p.we)("#Profile_UploadAvatar"),
          ),
        );
      }
      const it = (0, c.PA)(({ Profile: e, ProfileItems: t }) => {
        const a = et(
            e.GetCommittedAvatarHash(),
            t.GetCommittedEquippedAvatar(),
            "full",
          ),
          r = t.GetCommittedEquippedAvatarFrame();
        let i = null;
        return (
          !r && t.GetCommittedEquippedProfileModifier()
            ? (i = t.GetProfileModifierAvatarFrameURL())
            : r && (i = Z(r)),
          d.createElement(
            "div",
            { className: (0, u.A)(pe.Avatar, pe.Medium) },
            d.createElement(
              "div",
              { className: pe.AvatarImgCtn },
              i &&
                d.createElement(
                  "div",
                  { className: pe.AvatarFrame },
                  d.createElement("img", { src: i }),
                ),
              d.createElement("img", { src: a }),
            ),
          )
        );
      });
      var st = a(23649),
        nt = a(27456),
        ot = a(65946);
      function lt(e) {
        const {
          Profile: { Location: t },
        } = e;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(ct, { LocationStore: t }),
          d.createElement(dt, { LocationStore: t }),
          d.createElement(ht, { LocationStore: t }),
        );
      }
      async function mt(e, t) {
        const a = await e();
        return [
          { label: (0, p.we)("#Profile_LocationDoNotDisplay"), data: null },
          ...a
            .map(t)
            .sort((e, t) =>
              e.data.strDisplayText.localeCompare(t.data.strDisplayText),
            ),
        ];
      }
      function ct(e) {
        const { LocationStore: t } = e,
          { CountryCode: a, Country: r } = t,
          [i, s] = d.useState(),
          n = (0, fe.I)({
            queryKey: ["CountryEdit"],
            queryFn: async () =>
              await mt(
                () => t.GetCountryList(),
                (e) => ({
                  label: e.countryname,
                  data: {
                    strCode: e.countrycode,
                    strDisplayText: e.countryname,
                  },
                }),
              ),
            staleTime: 1 / 0,
          });
        d.useEffect(() => {
          var e, a, r;
          s(
            null !==
              (a =
                null === (e = n.data) || void 0 === e
                  ? void 0
                  : e.find((e) => {
                      var a;
                      return (
                        (null === (a = e.data) || void 0 === a
                          ? void 0
                          : a.strCode) == t.CountryCode
                      );
                    })) && void 0 !== a
              ? a
              : (null === (r = n.data) || void 0 === r ? void 0 : r.length) > 0
                ? n.data[0]
                : void 0,
          );
        }, [n.data, t.CountryCode]);
        const o = d.useCallback(
          (e) => {
            var a, r;
            t.SetCountry(
              null === (a = e.data) || void 0 === a ? void 0 : a.strCode,
              (null === (r = e.data) || void 0 === r ? void 0 : r.strCode)
                ? e.data.strDisplayText
                : void 0,
            ),
              s(e);
          },
          [t],
        );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement("input", {
            type: "hidden",
            name: "country",
            value: a || "",
          }),
          d.createElement(ve.m, {
            contextMenuPositionOptions: { bDisablePopTop: !0 },
            label: (0, p.we)("#Profile_FieldCountry"),
            rgOptions: n.data,
            selectedOption: null == i ? void 0 : i.data,
            controlled: !0,
            disabled: n.isFetching,
            onChange: o,
            strDefaultLabel: r || (0, p.we)("#Profile_LocationDoNotDisplay"),
            tooltip: Ie("#Profile_DescriptionLocation"),
          }),
        );
      }
      function dt(e) {
        const { LocationStore: t } = e,
          { StateCode: a, State: r } = t,
          [i, s] = d.useState(),
          [n, o] = (0, ot.q3)(() => [
            t.BIsStateSelectionAvailable(),
            t.CountryCode,
          ]),
          l = (0, fe.I)({
            queryKey: ["StateEdit", o],
            queryFn: async () =>
              await mt(
                () => t.GetStateList(),
                (e) => ({
                  label: e.statename,
                  data: { strCode: e.statecode, strDisplayText: e.statename },
                }),
              ),
            staleTime: 1 / 0,
          });
        d.useEffect(() => {
          var e, a, r;
          s(
            null !==
              (a =
                null === (e = l.data) || void 0 === e
                  ? void 0
                  : e.find((e) => {
                      var a;
                      return (
                        (null === (a = e.data) || void 0 === a
                          ? void 0
                          : a.strCode) == t.StateCode
                      );
                    })) && void 0 !== a
              ? a
              : (null === (r = l.data) || void 0 === r ? void 0 : r.length) > 0
                ? l.data[0]
                : void 0,
          );
        }, [l.data, t.StateCode]);
        const m = d.useCallback(
            (e) => {
              var a, r;
              t.SetState(
                null === (a = e.data) || void 0 === a ? void 0 : a.strCode,
                (null === (r = e.data) || void 0 === r ? void 0 : r.strCode)
                  ? e.data.strDisplayText
                  : void 0,
              ),
                s(e);
            },
            [t],
          ),
          c = n && !l.isError;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement("input", {
            type: "hidden",
            name: "state",
            value: a || "",
          }),
          c &&
            d.createElement(ve.m, {
              contextMenuPositionOptions: { bDisablePopTop: !0 },
              label: (0, p.we)("#Profile_FieldState"),
              rgOptions: l.data,
              selectedOption: null == i ? void 0 : i.data,
              controlled: !0,
              disabled: l.isFetching,
              onChange: m,
              strDefaultLabel: r || (0, p.we)("#Profile_LocationDoNotDisplay"),
              tooltip: Ie("#Profile_DescriptionLocation"),
            }),
        );
      }
      function ht(e) {
        const { LocationStore: t } = e,
          { CityCode: a, City: r } = t,
          [i, s] = d.useState(),
          [n, o, l] = (0, ot.q3)(() => [
            t.BIsCitySelectionAvailable(),
            t.CountryCode,
            t.StateCode,
          ]),
          m = (0, fe.I)({
            queryKey: ["CityEdit", o, l],
            queryFn: async () =>
              await mt(
                () => t.GetCityList(),
                (e) => ({
                  label: e.cityname,
                  data: { strCode: "" + e.cityid, strDisplayText: e.cityname },
                }),
              ),
            staleTime: 1 / 0,
            retry: !1,
          });
        d.useEffect(() => {
          var e, a, r;
          s(
            null !==
              (a =
                null === (e = m.data) || void 0 === e
                  ? void 0
                  : e.find((e) => {
                      var a;
                      return (
                        (null === (a = e.data) || void 0 === a
                          ? void 0
                          : a.strCode) == t.CityCode
                      );
                    })) && void 0 !== a
              ? a
              : (null === (r = m.data) || void 0 === r ? void 0 : r.length) > 0
                ? m.data[0]
                : void 0,
          );
        }, [m.data, t.CityCode]);
        const c = d.useCallback(
            (e) => {
              var a, r;
              t.SetCity(
                null === (a = e.data) || void 0 === a ? void 0 : a.strCode,
                (null === (r = e.data) || void 0 === r ? void 0 : r.strCode)
                  ? e.data.strDisplayText
                  : void 0,
              ),
                s(e);
            },
            [t],
          ),
          h = n && !m.isError;
        return d.createElement(
          d.Fragment,
          null,
          d.createElement("input", {
            type: "hidden",
            name: "city",
            value: a || "",
          }),
          h &&
            d.createElement(ve.m, {
              contextMenuPositionOptions: { bDisablePopTop: !0 },
              label: (0, p.we)("#Profile_FieldCity"),
              rgOptions: m.data,
              selectedOption: null == i ? void 0 : i.data,
              controlled: !0,
              disabled: m.isFetching,
              onChange: c,
              strDefaultLabel: r || (0, p.we)("#Profile_LocationDoNotDisplay"),
              tooltip: Ie("#Profile_DescriptionLocation"),
            }),
        );
      }
      var ut = a(283),
        pt = a(19838);
      class vt extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { strSummary: "" }),
            (this.m_refTextInput = d.createRef());
        }
        static getDerivedStateFromProps(e) {
          return { strSummary: e.Profile.GetSummary() };
        }
        OnChange(e) {
          this.SetInputValue(e.currentTarget.value);
        }
        InsertEmoticon(e, t) {
          t || this.m_refTextInput.current.focus(),
            this.InsertAtCursor(`:${e}:`);
        }
        InsertAtCursor(e) {
          let t = this.m_refTextInput.current.textarea,
            a = t.value,
            r = a.substr(0, t.selectionStart) + e + a.substr(t.selectionEnd),
            i = t.selectionStart + e.length;
          this.SetInputValue(r, () => {
            t.selectionStart = t.selectionEnd = i;
          });
        }
        SetInputValue(e, t) {
          this.setState({ strSummary: e }, t), this.props.Profile.SetSummary(e);
        }
        render() {
          const { EmoticonStore: e, Profile: t } = this.props,
            { strSummary: a } = this.state;
          return d.createElement(
            _t,
            { Profile: t },
            d.createElement(
              "div",
              { className: pt.summaryContainer },
              d.createElement(ve.Cl, {
                nMinHeight: 40,
                name: "summary",
                rows: 3,
                cols: 40,
                onChange: this.OnChange,
                className: pt.summaryTextArea,
                value: a,
                ref: this.m_refTextInput,
              }),
              d.createElement(
                "div",
                { className: pt.formattingButtons },
                d.createElement(ut.A, {
                  className: pt.formattingButton,
                  disabled: !1,
                  OnEmoticonSelected: this.InsertEmoticon,
                  emoticonStore: e,
                }),
              ),
            ),
          );
        }
      }
      (0, i.Cg)([_e.oI], vt.prototype, "OnChange", null),
        (0, i.Cg)([_e.oI], vt.prototype, "InsertEmoticon", null);
      const _t = ({ Profile: e, children: t }) =>
        e.BIsProfileSummaryChangeOnCooldown()
          ? d.createElement(
              Le,
              {
                rtCooldownEnd: e.GetProfileSummaryCooldownEndRTime(),
                strCooldownLabel: (0, p.we)("#Profile_ProfileSummaryCooldown"),
                strCooldownDescHTML: (0, p.we)(
                  "#Profile_ProfileSummaryCooldown_Desc",
                  me.k_strProfileSummaryCooldownSupportURL,
                ),
              },
              t,
            )
          : d.createElement(d.Fragment, null, t);
      var gt = a(84143);
      class ft extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bSaving: !1, strHTMLError: "" });
        }
        OnSubmit(e) {
          e.preventDefault(), this.CommitChanges(e.currentTarget);
        }
        async CommitChanges(e) {
          this.setState({ bSaving: !0, strHTMLError: "" });
          let t = await se("profileSave", new FormData(e));
          t.strRedirectURL
            ? (window.location.href = `${t.strRedirectURL}/info`)
            : (this.props.Profile.SetBasicInfoChangesComitted(),
              t.strHTMLError
                ? this.setState({ strHTMLError: t.strHTMLError })
                : this.setState({ strHTMLError: "" }),
              this.setState({ bSaving: !1 }),
              this.props.Profile.NotifyRNMobileAppStateChanged());
        }
        RevertChanges() {
          const { Profile: e } = this.props;
          e.RevertBasicInfoChanges(), this.setState({ strHTMLError: "" });
        }
        render() {
          const { Profile: e, EmoticonStore: t } = this.props,
            { bSaving: a, strHTMLError: i } = this.state;
          return d.createElement(
            Ee.Z,
            {
              "flow-children": "column",
              navEntryPreferPosition: gt.iU.MAINTAIN_Y,
            },
            d.createElement(
              "form",
              {
                method: "POST",
                action: `${r.s.ProfileURL}edit/info`,
                onSubmit: this.OnSubmit,
              },
              d.createElement("input", {
                type: "hidden",
                name: "sessionID",
                value: C.TS.SESSIONID,
              }),
              d.createElement("input", {
                type: "hidden",
                name: "type",
                value: "profileSave",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_1_title",
                value: "",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_1_url",
                value: "",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_2_title",
                value: "",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_2_url",
                value: "",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_3_title",
                value: "",
              }),
              d.createElement("input", {
                type: "hidden",
                name: "weblink_3_url",
                value: "",
              }),
              d.createElement(ve.Y9, null, (0, p.we)("#Profile_About")),
              d.createElement(ve.a3, null, d.createElement(Pt, null)),
              d.createElement(be, { strHTMLError: i }),
              d.createElement(
                Ae,
                { title: (0, p.we)("#Profile_Edit_BasicInfo") },
                d.createElement(Et, { Profile: e }),
                !(0, de.nA)(C.TS.EREALM) && d.createElement(wt, { Profile: e }),
              ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  Ae,
                  { title: (0, p.we)("#Profile_Edit_Location") },
                  d.createElement(lt, { Profile: e }),
                ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  Ae,
                  { title: (0, p.we)("#Profile_FieldSummary") },
                  d.createElement(vt, { Profile: e, EmoticonStore: t }),
                ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  Ae,
                  { title: (0, p.we)("#Profile_Edit_Preferences") },
                  d.createElement(Gt, { Profile: e }),
                ),
              d.createElement(we, {
                onCancel: this.RevertChanges,
                disabled: a,
              }),
            ),
          );
        }
      }
      (0, i.Cg)([_e.oI], ft.prototype, "OnSubmit", null),
        (0, i.Cg)([_e.oI], ft.prototype, "RevertChanges", null);
      class Pt extends d.Component {
        render() {
          return d.createElement(
            "div",
            { style: { display: "block" } },
            d.createElement(st.h, {
              text: (0, p.we)(
                (0, de.nA)(C.TS.EREALM)
                  ? "#Profile_Edit_About_Instructions_SteamChina"
                  : "#Profile_Edit_About_Instructions",
              ),
            }),
          );
        }
      }
      let Et = class extends d.Component {
        OnPersonaNameChange(e) {
          this.props.Profile.SetPersonaName(e.target.value);
        }
        OnRealNameChange(e) {
          this.props.Profile.SetRealName(e.target.value);
        }
        render() {
          const { Profile: e } = this.props;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              yt,
              { Profile: e },
              d.createElement(ve.pd, {
                label: (0, p.we)("#Profile_FieldProfileName"),
                disabled: e.BIsPersonaNameChangeOnCooldown(),
                name: "personaName",
                value: e.GetPersonaName(),
                onChange: this.OnPersonaNameChange,
              }),
              d.createElement(Ct, { Profile: e }),
            ),
            !(0, de.nA)(C.TS.EREALM) &&
              d.createElement(
                St,
                { Profile: e },
                d.createElement(ve.pd, {
                  label: (0, p.we)("#Profile_FieldRealName"),
                  disabled: e.BIsProfileSummaryChangeOnCooldown(),
                  tooltip: Ie("#Profile_DescriptionRealName"),
                  name: "real_name",
                  value: e.GetRealName(),
                  onChange: this.OnRealNameChange,
                }),
                d.createElement(At, { Profile: e }),
              ),
          );
        }
      };
      (0, i.Cg)([_e.oI], Et.prototype, "OnPersonaNameChange", null),
        (0, i.Cg)([_e.oI], Et.prototype, "OnRealNameChange", null),
        (Et = (0, i.Cg)([c.PA], Et));
      const yt = ({ Profile: e, children: t }) =>
        e.BIsPersonaNameChangeOnCooldown()
          ? d.createElement(
              Le,
              {
                rtCooldownEnd: e.GetPersonaNameCooldownEndRTime(),
                strCooldownLabel: (0, p.we)("#Profile_PersonaNameCooldown"),
                strCooldownDescHTML: (0, p.we)(
                  "#Profile_PersonaNameCooldown_Desc",
                  me.k_strPersonaNameCooldownSupportURL,
                ),
              },
              t,
            )
          : d.createElement(d.Fragment, null, t);
      class Ct extends d.Component {
        render() {
          const { Profile: e } = this.props;
          return e.HasFilteredPersonaName()
            ? d.createElement(
                "div",
                { className: nt.FilteredNameWarning },
                (0, p.oW)(
                  "#Profile_PersonaNameFiltered",
                  d.createElement("a", {
                    href: me.k_strNameFilteredSupportURL,
                  }),
                ),
              )
            : null;
        }
      }
      const St = ({ Profile: e, children: t }) =>
        e.BIsProfileSummaryChangeOnCooldown()
          ? d.createElement(
              Le,
              {
                rtCooldownEnd: e.GetProfileSummaryCooldownEndRTime(),
                strCooldownLabel: (0, p.we)("#Profile_RealNameCooldown"),
                strCooldownDescHTML: (0, p.we)(
                  "#Profile_RealNameCooldown_Desc",
                  me.k_strPersonaNameCooldownSupportURL,
                ),
              },
              t,
            )
          : d.createElement(d.Fragment, null, t);
      class At extends d.Component {
        render() {
          const { Profile: e } = this.props;
          return e.HasFilteredRealName()
            ? d.createElement(
                "div",
                { className: nt.FilteredNameWarning },
                (0, p.oW)(
                  "#Profile_RealNameFiltered",
                  d.createElement("a", {
                    href: me.k_strNameFilteredSupportURL,
                  }),
                ),
              )
            : null;
        }
      }
      let wt = class extends d.Component {
        OnProfileURLChange(e) {
          this.props.Profile.SetCustomURL(e.target.value);
        }
        render() {
          const { Profile: e } = this.props;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(ve.pd, {
              label: (0, p.we)("#Profile_FieldCustomURL"),
              tooltip: Ie("#Profile_DescriptionCustomURL"),
              name: "customURL",
              value: e.GetCustomURL(),
              onChange: this.OnProfileURLChange,
              description: (0, p.we)(
                "#Profile_ProfileAvailableAtURL",
                e.GetConstructedURL(),
              ),
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], wt.prototype, "OnProfileURLChange", null),
        (wt = (0, i.Cg)([c.PA], wt));
      let It = class extends d.Component {
        componentDidMount() {
          this.m_disposer = (0, o.fm)(() => {
            const { Profile: e } = this.props;
            document
              .querySelectorAll(".persona_name_text_content")
              .forEach((t) => (t.textContent = e.GetComittedPersonaName()));
          });
        }
        componentWillUnmount() {
          this.m_disposer();
        }
        render() {
          return null;
        }
      };
      It = (0, i.Cg)([c.PA], It);
      let Gt = class extends d.Component {
        OnProfileAwardsCheckboxChecked(e) {
          let { Profile: t } = this.props,
            a = e,
            r = t.GetPreferences();
          (r.hide_profile_awards = a), t.SetPreferences(r);
        }
        render() {
          const { Profile: e } = this.props,
            t = e.GetPreferences();
          return d.createElement(
            "div",
            null,
            d.createElement(ve.Yh, {
              label: (0, p.we)("#Profile_Preferences_HideProfileAwards"),
              checked: t.hide_profile_awards,
              onChange: this.OnProfileAwardsCheckboxChecked,
            }),
            d.createElement("input", {
              type: "hidden",
              name: "hide_profile_awards",
              value: t.hide_profile_awards ? 1 : 0,
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], Gt.prototype, "OnProfileAwardsCheckboxChecked", null),
        (Gt = (0, i.Cg)([c.PA], Gt));
      var Nt = a(90713);
      let Bt = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bSaving: !1, strHTMLError: "" });
        }
        async CommitFavoriteBadge() {
          const e = this.props.Badges;
          this.setState({ bSaving: !0 }),
            1 != (await e.CommitFavoriteBadgeChanges())
              ? this.setState({
                  strHTMLError: (0, p.we)("#ConnectionTrouble_FailedToConnect"),
                })
              : this.setState({ strHTMLError: "" }),
            this.setState({ bSaving: !1 });
        }
        RevertFavoriteBadge() {
          this.props.Badges.RevertFavoriteBadge(),
            this.setState({ strHTMLError: "" });
        }
        componentWillUnmount() {
          this.props.Badges.RevertFavoriteBadge();
        }
        render() {
          const { Badges: e } = this.props,
            { bSaving: t, strHTMLError: a } = this.state;
          let r = e.FavoriteBadge;
          return d.createElement(
            Ce.tH,
            null,
            d.createElement(
              Ee.Z,
              { "flow-children": "column" },
              d.createElement(ce.XG, {
                when: e.BFavoriteBadgeUncomitted(),
                message: (0, p.we)("#Profile_Edit_UnsavedChangesWarning"),
              }),
              d.createElement(
                ve.Y9,
                null,
                (0, p.we)("#Profile_Edit_FavoriteBadge"),
              ),
              d.createElement(
                ve.a3,
                null,
                (0, p.we)("#Profile_Edit_Badge_Instructions"),
              ),
              d.createElement(be, { strHTMLError: a }),
              r && d.createElement(Lt, { badge: r }),
              !r && d.createElement(Rt, { count: e.Badges.length }),
              d.createElement(Be, {
                getSearchFields: kt,
                getItems: async () => e.Badges,
                onItemSelected: (t) => {
                  e.SetFavoriteBadge(t);
                },
                ItemComponent: Tt,
              }),
              d.createElement(we, {
                onSave: this.CommitFavoriteBadge,
                onCancel: this.RevertFavoriteBadge,
                disabled: t,
              }),
            ),
          );
        }
      };
      (0, i.Cg)([_e.oI], Bt.prototype, "CommitFavoriteBadge", null),
        (0, i.Cg)([_e.oI], Bt.prototype, "RevertFavoriteBadge", null),
        (Bt = (0, i.Cg)([c.PA], Bt));
      const bt = Bt,
        Lt = ({ badge: e, children: t }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(Nt.Badge, Nt.FavoriteBadge) },
            d.createElement("img", {
              className: Nt.BadgeImage,
              src: e.GetIconURL(),
            }),
            d.createElement(
              "div",
              { className: Nt.BadgeDetails },
              d.createElement("div", { className: Nt.BadgeName }, e.GetName()),
              d.createElement(
                "div",
                { className: Nt.GameName },
                e.GetGameName(),
              ),
            ),
          ),
        Rt = ({ count: e, children: t }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(Nt.Badge, Nt.FavoriteBadge) },
            d.createElement(
              "div",
              { className: Nt.BadgeImageNone },
              d.createElement("img", {
                className: Nt.BadgeImage,
                src: `${C.TS.COMMUNITY_CDN_URL}public/images/trans.gif`,
              }),
            ),
            d.createElement(
              "div",
              { className: Nt.BadgeDetails },
              d.createElement(
                "div",
                { className: Nt.BadgeName },
                "None selected",
              ),
              d.createElement(
                "div",
                { className: Nt.GameName },
                `${e} badges available`,
              ),
            ),
          ),
        kt = (e) => [e.GetName(), e.GetGameName()],
        Tt = ({ Item: e, onSelected: t }) => {
          const a = e;
          return d.createElement(
            Ee.Z,
            { className: (0, u.A)(Nt.Badge, Nt.BadgeOption), onActivate: t },
            d.createElement("img", {
              className: Nt.BadgeImage,
              src: a.GetIconURL(),
              loading: "lazy",
            }),
            d.createElement(
              "div",
              { className: Nt.BadgeDetails },
              d.createElement("div", { className: Nt.BadgeName }, a.GetName()),
              d.createElement(
                "div",
                { className: Nt.GameName },
                a.GetGameName(),
              ),
            ),
          );
        };
      var Ft = a(53841);
      let Dt = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bSaving: !1, strHTMLError: "" });
        }
        async CommitFavoriteGroup() {
          const e = this.props.Profile.GroupList;
          this.setState({ bSaving: !0 });
          let t = await e.CommitPrimaryGroup();
          t.strHTMLError
            ? this.setState({ strHTMLError: t.strHTMLError })
            : this.setState({ strHTMLError: "" }),
            this.setState({ bSaving: !1 });
        }
        RevertFavoriteGroup() {
          this.props.Profile.GroupList.RevertPrimaryGroupChanges(),
            this.setState({ strHTMLError: "" });
        }
        componentWillUnmount() {
          this.props.Profile.GroupList.RevertPrimaryGroupChanges();
        }
        render() {
          const { Profile: e } = this.props,
            { bSaving: t, strHTMLError: a } = this.state,
            r = e.GroupList,
            i = r.PrimaryGroup;
          return d.createElement(
            Ee.Z,
            { "flow-children": "column" },
            d.createElement(ce.XG, {
              when: r.BPrimaryGroupUncomitted(),
              message: (0, p.we)("#Profile_Edit_UnsavedChangesWarning"),
            }),
            d.createElement(
              ve.Y9,
              null,
              (0, p.we)("#Profile_Edit_FavoriteGroup"),
            ),
            d.createElement(
              ve.a3,
              null,
              (0, p.we)("#Profile_Edit_Group_Instructions"),
            ),
            d.createElement(be, { strHTMLError: a }),
            i && d.createElement(Mt, { group: i }),
            d.createElement(Be, {
              getSearchFields: Ht,
              getItems: async () => (
                await r.BWaitForUserGroups(), r.GetUserGroups()
              ),
              onItemSelected: (e) => {
                r.SetPrimaryGroup(e);
              },
              ItemComponent: xt,
            }),
            d.createElement(we, {
              onSave: this.CommitFavoriteGroup,
              onCancel: this.RevertFavoriteGroup,
              disabled: t,
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], Dt.prototype, "CommitFavoriteGroup", null),
        (0, i.Cg)([_e.oI], Dt.prototype, "RevertFavoriteGroup", null),
        (Dt = (0, i.Cg)([c.PA], Dt));
      const Ot = Dt,
        Mt = ({ group: e, children: t }) =>
          d.createElement(
            "div",
            { className: (0, u.A)(Ft.Group, Ft.FavoriteGroup) },
            d.createElement("img", {
              className: Ft.GroupAvatar,
              src: e.GetAvatarURL("full"),
            }),
            d.createElement(
              "div",
              { className: Ft.GroupDetails },
              d.createElement("div", { className: Ft.GroupName }, e.GetName()),
            ),
          ),
        Ht = (e) => [e.GetName()],
        xt = ({ Item: e, onSelected: t }) => {
          const a = e;
          return d.createElement(
            Ee.Z,
            { className: (0, u.A)(Ft.Group, Ft.GroupOption), onActivate: t },
            d.createElement("img", {
              className: Ft.GroupAvatar,
              src: a.GetAvatarURL("full"),
              loading: "lazy",
            }),
            d.createElement(
              "div",
              { className: Ft.GroupDetails },
              d.createElement("div", { className: Ft.GroupName }, a.GetName()),
            ),
          );
        };
      var Ut = a(30082);
      const qt = ({ Item: e, small: t }) => {
          let a = $(e, t);
          return 0 == Object.keys(a).length
            ? null
            : d.createElement(
                "video",
                {
                  loop: !0,
                  preload: "none",
                  muted: !0,
                  autoPlay: !0,
                  playsInline: !0,
                },
                Object.keys(a).map((e) =>
                  d.createElement("source", { key: e, src: a[e], type: e }),
                ),
              );
        },
        Wt = ({ Background: e, className: t, small: a }) =>
          e
            ? d.createElement(
                "div",
                { className: t },
                d.createElement(qt, { Item: e, small: a }),
              )
            : null;
      function zt(e) {
        e.currentTarget.querySelector("video").play();
      }
      function Yt(e) {
        e.detail.focusedNode.Element.querySelector("video").play();
      }
      function Vt(e) {
        return [e.item_title, e.app_name];
      }
      function Xt(e, t) {
        return e ? !!t && e.communityitemid === t.communityitemid : !t;
      }
      let Kt = class extends d.Component {
        RevertChanges() {
          this.props.ProfileEdit.ProfileItems.RevertMiniProfileBackgroundChanges();
        }
        render() {
          const { ProfileEdit: e } = this.props,
            { Profile: t, ProfileItems: a, MiniProfileOverrideData: r } = e,
            { MiniProfileData: i, PersonaState: s } = t;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              ve.Y9,
              null,
              (0, p.we)("#Profile_Edit_MiniProfile"),
            ),
            d.createElement(
              ve.a3,
              null,
              (0, p.we)("#Profile_Edit_MiniProfile_Instructions"),
            ),
            d.createElement(jt, {
              ProfileItems: a,
              Profile: t,
              MiniProfileOverrideData: r,
              onDismiss: this.RevertChanges,
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], Kt.prototype, "RevertChanges", null),
        (Kt = (0, i.Cg)([c.PA], Kt));
      const Zt = Kt,
        jt = (0, c.PA)(
          ({
            Profile: e,
            ProfileItems: t,
            MiniProfileOverrideData: a,
            onDismiss: r,
          }) => {
            let i = t.GetEquippedProfileModifier();
            return (
              i && !t.BIsLegacyGoldenProfile(i.appid) && (i = null),
              d.createElement(Ge, {
                fnRevertChanges: r,
                getSearchFields: Vt,
                getItems: () => t.GetOwnedMiniProfileBackgrounds(),
                fnCommitChanges: async (e) => (
                  t.SetEquippedMiniProfileBackground(e),
                  t.CommitMiniProfileChanges()
                ),
                ItemComponent: $t,
                RenderDefaultComponent: ({ onSelected: e, active: t }) =>
                  d.createElement(Jt, {
                    onSelected: e,
                    active: t,
                    Modifier: i,
                  }),
                ActiveItem: t.GetEquippedMiniProfileBackground(),
                fnIsSameItem: Xt,
                fnRenderPreview: (r) =>
                  d.createElement(Qt, {
                    MiniProfileBackground: r,
                    Profile: e,
                    ProfileItems: t,
                    MiniProfileOverrideData: a,
                  }),
              })
            );
          },
        ),
        Qt = ({
          MiniProfileBackground: e,
          MiniProfileOverrideData: t,
          Profile: a,
          ProfileItems: r,
        }) => {
          const { MiniProfileData: i, PersonaState: s } = a;
          let n;
          if (e) {
            n = $(e);
            let t = j(e);
            t && (n.image = t);
          } else {
            n = r.GetProfileModifierMiniProfileBackgroundMovies();
            let e = r.GetProfileModifierMiniProfileBackground();
            e && (n.image = e);
          }
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: Ut.MiniProfileDialogPreviewCtn },
              d.createElement(b, {
                persona: s,
                className: Ut.MiniProfilePreview,
                data_loader: i,
                community_data_override: { ...t, profile_background: n },
              }),
            ),
          );
        },
        $t = ({ Item: e, onSelected: t, children: a, active: r }) => {
          let i = $(e),
            s = Object.keys(i).length > 0;
          return d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(
                Ut.MiniProfileBackgroundOption,
                s && Ut.WithVideo,
                r && Ut.Active,
              ),
              onActivate: t,
              onMouseEnter: s ? zt : void 0,
            },
            d.createElement(
              "div",
              { className: Ut.Preview },
              d.createElement("img", { src: j(e), loading: "lazy" }),
              s &&
                d.createElement(
                  "div",
                  { className: Ut.PreviewVideo },
                  d.createElement(qt, { Item: e }),
                ),
            ),
            d.createElement(
              "div",
              { className: Ut.Details },
              d.createElement(
                "div",
                null,
                d.createElement("div", { className: Ut.Title }, e.item_title),
                d.createElement("div", { className: Ut.App }, e.app_name),
              ),
              a,
            ),
          );
        },
        Jt = ({ Modifier: e, onSelected: t, children: a, active: r }) =>
          e
            ? d.createElement($t, { Item: e, onSelected: t, active: r })
            : d.createElement(
                Ee.Z,
                {
                  className: (0, u.A)(
                    Ut.MiniProfileBackgroundOption,
                    r && Ut.Active,
                  ),
                  onClick: t,
                  onActivate: t,
                },
                d.createElement(
                  "div",
                  { className: (0, u.A)(Ut.Preview, Ut.BlankBackground) },
                  d.createElement("img", {
                    src: `${C.TS.COMMUNITY_CDN_URL}public/images/trans.gif`,
                    loading: "lazy",
                  }),
                ),
                d.createElement(
                  "div",
                  { className: Ut.Details },
                  d.createElement(
                    "div",
                    null,
                    d.createElement(
                      "div",
                      { className: Ut.Title },
                      (0, p.we)("#Profile_Edit_DefaultBlankBackground"),
                    ),
                    d.createElement("div", { className: Ut.App }),
                  ),
                  a,
                ),
              );
      var ea = a(45699);
      let ta = class extends d.Component {
        render() {
          let e = this.props.PrivacyStore;
          return d.createElement(
            Ee.Z,
            {
              className: "ProfilePrivacyRoot",
              "flow-children": "column",
              navEntryPreferPosition: gt.iU.MAINTAIN_Y,
            },
            d.createElement(
              aa,
              {
                PrivacyStore: e,
                strLabel: (0, p.we)("#ProfilePrivacy_BasicDetails"),
                strReadOnlySetting: H(3),
              },
              (0, p.we)("#ProfilePrivacy_BasicDetails_Desc"),
            ),
            d.createElement("div", { className: "ProfilePrivacyHR" }),
            d.createElement(
              aa,
              {
                PrivacyStore: e,
                strLabel: (0, p.we)("#ProfilePrivacy_Profile"),
                PrivacyKey: "PrivacyProfile",
              },
              d.createElement(
                "p",
                null,
                (0, p.we)("#ProfilePrivacy_Profile_Desc"),
              ),
              d.createElement(
                "p",
                null,
                (0, p.we)("#ProfilePrivacy_Profile_Desc2"),
              ),
            ),
            d.createElement(
              "div",
              { className: "ProfilePrivacyRoot_Indent" },
              d.createElement(
                aa,
                {
                  PrivacyStore: e,
                  strLabel: (0, p.we)("#ProfilePrivacy_GameLibrary"),
                  PrivacyKey: "PrivacyOwnedGames",
                  LimitPrivacyKey: "PrivacyProfile",
                },
                (0, p.we)("#ProfilePrivacy_GameLibrary_Desc"),
                1 != e.GetPrivacySetting("PrivacyOwnedGames") &&
                  d.createElement(
                    oa,
                    {
                      PrivacyStore: e,
                      PrivacyKey: "PrivacyPlaytime",
                      LimitPrivacyKey: "PrivacyOwnedGames",
                    },
                    (0, p.we)("#ProfilePrivacy_Playtime"),
                  ),
              ),
              d.createElement("div", { className: "ProfilePrivacyHR" }),
              d.createElement(
                aa,
                {
                  PrivacyStore: e,
                  strLabel: (0, p.we)("#ProfilePrivacy_FriendsList"),
                  PrivacyKey: "PrivacyFriendsList",
                  LimitPrivacyKey: "PrivacyProfile",
                },
                (0, p.we)("#ProfilePrivacy_FriendsList_Desc"),
              ),
              d.createElement("div", { className: "ProfilePrivacyHR" }),
              d.createElement(
                aa,
                {
                  PrivacyStore: e,
                  strLabel: (0, p.we)("#ProfilePrivacy_Inventory"),
                  PrivacyKey: "PrivacyInventory",
                  LimitPrivacyKey: "PrivacyProfile",
                },
                d.createElement(
                  Ee.Z,
                  { "flow-children": "row" },
                  (0, p.PP)(
                    "#ProfilePrivacy_Inventory_Desc",
                    d.createElement(
                      ea.Ii,
                      { href: r.s.ProfileURL + "inventory/" },
                      (0, p.we)("#ProfilePrivacy_Inventory_Inventory"),
                    ),
                    d.createElement(
                      ea.Ii,
                      { href: r.s.ProfileURL + "inventory/#753_6" },
                      (0, p.we)("#ProfilePrivacy_Inventory_TradingCards"),
                    ),
                  ),
                ),
                1 != e.GetPrivacySetting("PrivacyInventory") &&
                  d.createElement(
                    oa,
                    {
                      PrivacyStore: e,
                      PrivacyKey: "PrivacyInventoryGifts",
                      LimitPrivacyKey: "PrivacyInventory",
                    },
                    (0, p.we)("#ProfilePrivacy_Gifts"),
                  ),
              ),
              d.createElement("div", { className: "ProfilePrivacyHR" }),
              d.createElement(
                ra,
                null,
                (0, p.we)("#ProfilePrivacy_Comments"),
                ":",
                d.createElement(la, { PrivacyStore: e }),
              ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement("div", { className: "ProfilePrivacyHR" }),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  aa,
                  {
                    PrivacyStore: e,
                    strLabel: (0, p.we)("#ProfilePrivacy_UGC"),
                    strReadOnlySetting: (0, p.we)("#Privacy_PerItem"),
                  },
                  d.createElement(
                    Ee.Z,
                    { "flow-children": "row" },
                    (0, p.PP)(
                      "#ProfilePrivacy_UGC_Desc",
                      d.createElement(
                        ea.Ii,
                        { href: r.s.ProfileURL + "screenshots/" },
                        (0, p.we)("#ProfilePrivacy_UGC_Desc_Screenshots"),
                      ),
                      d.createElement(
                        ea.Ii,
                        { href: r.s.ProfileURL + "myworkshopfiles/" },
                        (0, p.we)("#ProfilePrivacy_UGC_Desc_WorkshopItems"),
                      ),
                    ),
                  ),
                ),
            ),
          );
        }
      };
      function aa(e) {
        let t;
        return (
          (t = e.strReadOnlySetting
            ? d.createElement(ma, { strLabel: e.strReadOnlySetting })
            : d.createElement(sa, {
                PrivacyStore: e.PrivacyStore,
                PrivacyKey: e.PrivacyKey,
                LimitPrivacyKey: e.LimitPrivacyKey,
              })),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(ra, null, e.strLabel, ":", t),
            d.createElement(ia, null, e.children),
          )
        );
      }
      function ra(e) {
        return d.createElement(
          "div",
          { className: "ProfilePrivacyHeader" },
          e.children,
        );
      }
      function ia(e) {
        return d.createElement(
          "div",
          { className: "ProfilePrivacyDesc" },
          e.children,
        );
      }
      ta = (0, i.Cg)([c.PA], ta);
      const sa = (0, c.PA)(function (e) {
        const {
            PrivacyStore: t,
            PrivacyKey: a,
            LimitPrivacyKey: r,
            children: i,
          } = e,
          s = d.useCallback(() => {
            if (r) return t.GetPrivacySetting(r);
          }, [t, r]),
          n = d.useCallback(
            (e) => {
              t.ChangePrivacySetting(a, e);
            },
            [t, a],
          );
        let o = t.GetPrivacySetting(a);
        H(o);
        const l = (function (e) {
          const t = [
              { label: (0, p.we)("#Privacy_Public"), data: 3 },
              { label: (0, p.we)("#Privacy_FriendsOnly"), data: 2 },
              { label: (0, p.we)("#Privacy_Private"), data: 1 },
            ],
            a = null != e ? e : 3;
          return t.filter((e) => a >= e.data);
        })(s());
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(ve.ZU, {
            strDropDownButtonClassName: "ProfilePrivacyDropDown",
            bMatchWidth: !1,
            rgOptions: l,
            onChange: (e) => n(e.data),
            selectedOption: o,
          }),
          d.createElement(na, { eSaveState: t.GetSaveState(a) }),
        );
      });
      function na(e) {
        switch (e.eSaveState) {
          case 1:
            return d.createElement(
              "div",
              { className: "PrivacySaveNotice Saving" },
              (0, p.we)("#Shared_Saving"),
            );
          case 3:
            return d.createElement(
              "div",
              { className: "PrivacySaveNotice Error" },
              (0, p.we)("#Error_Error"),
            );
          case 2:
            return d.createElement(
              "div",
              { className: "PrivacySaveNotice Saved" },
              (0, p.we)("#Shared_Saved"),
            );
          default:
            return null;
        }
      }
      function oa(e) {
        const {
            PrivacyStore: t,
            PrivacyKey: a,
            LimitPrivacyKey: r,
            children: i,
          } = e,
          s = d.useCallback(
            (e) => {
              let i = e.currentTarget.checked ? 1 : 3;
              t.ChangePrivacySetting(a, i, r);
            },
            [t, a, r],
          );
        let n = 1 == (0, ot.q3)(() => t.GetPrivacySetting(a));
        return d.createElement(
          "div",
          { className: "ProfilePrivacyCheckbox" },
          d.createElement(
            "label",
            null,
            d.createElement(ea.BA, {
              className: "ProfilePrivacyCheckbox_Input",
              type: "checkbox",
              checked: n,
              onChange: s,
            }),
            d.createElement(
              "div",
              { className: "ProfilePrivacyCheckbox_Desc" },
              i,
            ),
          ),
        );
      }
      let la = class extends d.Component {
        constructor(e) {
          super(e), (this.state = { eSaveState: 0 });
        }
        OnSettingChanged(e) {
          this.props.PrivacyStore.ChangeCommentPermission(e);
        }
        render() {
          let e = this.props.PrivacyStore.CommentPermission,
            t = this.props.PrivacyStore.GetPrivacySetting("PrivacyProfile");
          !(function (e) {
            switch (e) {
              case 0:
                return (0, p.we)("#Privacy_FriendsOnly");
              case 1:
                return (0, p.we)("#Privacy_Public");
              case 2:
                return (0, p.we)("#Privacy_Private");
              default:
            }
          })(((a = e), 1 == (r = t) ? 2 : 2 == r && 1 == a ? 0 : a));
          var a, r;
          const i = (function (e) {
            const t = [
                {
                  label: (0, p.we)("#Profile_CommentPermission_Public_Desc"),
                  data: 1,
                },
                {
                  label: (0, p.we)(
                    "#Profile_CommentPermission_FriendsOnly_Desc",
                  ),
                  data: 0,
                },
                {
                  label: (0, p.we)("#Profile_CommentPermission_Private_Desc"),
                  data: 2,
                },
              ],
              a = null != e ? e : 3;
            return t.filter((e) => a >= e.data);
          })(t);
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(ve.ZU, {
              strDropDownButtonClassName: "ProfilePrivacyDropDown",
              rgOptions: i,
              bMatchWidth: !1,
              onChange: (e) => this.OnSettingChanged(e.data),
              selectedOption: e,
            }),
            d.createElement(na, {
              eSaveState: this.props.PrivacyStore.GetCommentSaveState(),
            }),
          );
        }
      };
      function ma(e) {
        return d.createElement(
          "div",
          { className: "ProfilePrivacyDropDown readonly" },
          e.strLabel,
        );
      }
      (0, i.Cg)([_e.oI], la.prototype, "OnSettingChanged", null),
        (la = (0, i.Cg)([c.PA], la));
      var ca = a(26075),
        da = a(38945),
        ha = a(19939),
        ua = a(97875);
      const pa = ({ className: e, width: t, height: a, theme: r }) => {
          r || (r = "Default"), (r += "Theme");
          const [i, s] = (0, ua.l)(),
            [n, o] = (0, ua.l)();
          return d.createElement(
            "svg",
            {
              width: t || "401",
              height: a || "399",
              viewBox: "0 0 401 399",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              className: (0, u.A)(e, da.ProfilePreview, ha[r]),
            },
            d.createElement("rect", {
              y: "13",
              width: "401",
              height: "386",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "0.5",
              y: "13.5",
              width: "400",
              height: "385",
              stroke: "black",
              strokeOpacity: "0.5",
            }),
            d.createElement("rect", {
              x: "26",
              y: "33",
              width: "61",
              height: "61",
              rx: "10",
              fill: "#272B30",
            }),
            d.createElement("path", {
              d: "M57.0246 64.052C63.4696 64.052 68.6942 58.8273 68.6942 52.3823C68.6942 45.9373 63.4696 40.7126 57.0246 40.7126C50.5796 40.7126 45.3549 45.9373 45.3549 52.3823C45.3549 58.8273 50.5796 64.052 57.0246 64.052Z",
              fill: "#444A51",
            }),
            d.createElement("path", {
              d: "M77.4319 72.8873C76.6734 68.1167 70.0792 66.5175 65.3744 65.0024C63.1235 66.918 60.2118 68.0792 57.0246 68.0792C53.8374 68.0792 50.9262 66.918 48.6753 65.0024C43.97 66.5175 37.3763 68.1167 36.6172 72.8873C35.2667 81.3728 47.8848 86.2873 57.0246 86.2873C66.1648 86.2873 78.7825 81.3728 77.4319 72.8873Z",
              fill: "#444A51",
            }),
            d.createElement("rect", {
              x: "299",
              y: "50",
              width: "91",
              height: "31.882",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "299",
              y: "87",
              width: "44",
              height: "10",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "346",
              y: "87",
              width: "44",
              height: "10",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "299",
              y: "104.091",
              width: "91",
              height: "240.254",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "103",
              y: "57",
              width: "82",
              height: "6",
              rx: "3",
              fill: "#444A51",
            }),
            d.createElement("rect", {
              x: "103",
              y: "67",
              width: "82",
              height: "6",
              rx: "3",
              fill: "#444A51",
            }),
            d.createElement("rect", {
              x: "26",
              y: "117.755",
              width: "260",
              height: "87.6755",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "32",
              y: "182.755",
              width: "246",
              height: "17",
              rx: "3",
              fill: "#262B31",
            }),
            d.createElement("rect", {
              x: "37",
              y: "185.755",
              width: "21",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "37",
              y: "192.755",
              width: "12",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "71",
              y: "185.755",
              width: "21",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "71",
              y: "192.755",
              width: "12",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("path", {
              d: "M26 120.755C26 119.098 27.3431 117.755 29 117.755H283C284.657 117.755 286 119.098 286 120.755V131.755H26V120.755Z",
              fill: "#444A51",
            }),
            d.createElement("rect", {
              x: "35",
              y: "120.755",
              width: "37",
              height: "7",
              rx: "3",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "103",
              y: "38.0502",
              width: "57",
              height: "11.3864",
              rx: "3",
              fill: "#4F555C",
            }),
            d.createElement("rect", {
              x: "299",
              y: "32",
              width: "35",
              height: "11",
              rx: "3",
              fill: "#4F555C",
            }),
            d.createElement("rect", {
              x: "26",
              y: "214.54",
              width: "260",
              height: "167.381",
              rx: "3",
              fill: "#272B30",
            }),
            d.createElement("rect", {
              x: "32",
              y: "358.54",
              width: "246",
              height: "17",
              rx: "3",
              fill: "#262B31",
            }),
            d.createElement("rect", {
              x: "37",
              y: "361.54",
              width: "21",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "37",
              y: "368.54",
              width: "12",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "71",
              y: "361.54",
              width: "21",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "71",
              y: "368.54",
              width: "12",
              height: "4",
              rx: "2",
              fill: "#373C42",
            }),
            d.createElement("path", {
              d: "M26 217.54C26 215.883 27.3431 214.54 29 214.54H283C284.657 214.54 286 215.883 286 217.54V228.54H26V217.54Z",
              fill: "#444A51",
            }),
            d.createElement("rect", {
              x: "35",
              y: "217.54",
              width: "37",
              height: "7",
              rx: "3",
              fill: "#373C42",
            }),
            d.createElement("circle", {
              cx: "347.5",
              cy: "37.5",
              r: "8.5",
              stroke: "#4F555C",
              strokeWidth: "2",
            }),
            d.createElement("rect", {
              x: "41",
              y: "144",
              width: "31",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "36",
              y: "241",
              width: "111",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "36",
              y: "283",
              width: "111",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "161",
              y: "241",
              width: "111",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "161",
              y: "283",
              width: "111",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "91",
              y: "144",
              width: "31",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "141",
              y: "144",
              width: "31",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "191",
              y: "144",
              width: "31",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              x: "241",
              y: "144",
              width: "31",
              height: "31",
              rx: "5",
              fill: "#373C42",
            }),
            d.createElement("rect", {
              y: "13",
              width: "401",
              height: "382",
              fill: "var(--gradient-background)",
              fillOpacity: "0.23",
              className: da.ThemeBackground,
            }),
            d.createElement("rect", {
              y: "13",
              width: "401",
              height: "382",
              fill: s,
              className: da.PaintRadial0,
            }),
            d.createElement("rect", {
              y: "13",
              width: "401",
              height: "382",
              fill: o,
              className: da.PaintRadial1,
            }),
            d.createElement(
              "defs",
              null,
              d.createElement(
                "radialGradient",
                {
                  id: i,
                  cx: "0",
                  cy: "0",
                  r: "1",
                  gradientUnits: "userSpaceOnUse",
                  gradientTransform:
                    "translate(11 126) rotate(9.77175) scale(182.65 191.735)",
                },
                d.createElement("stop", { stopColor: "var(--gradient-left)" }),
                d.createElement("stop", {
                  offset: "1",
                  stopColor: "var(--gradient-background-left)",
                  stopOpacity: "0",
                }),
              ),
              d.createElement(
                "radialGradient",
                {
                  id: n,
                  cx: "0",
                  cy: "0",
                  r: "1",
                  gradientUnits: "userSpaceOnUse",
                  gradientTransform:
                    "translate(385 148) rotate(-164.809) scale(312.935 328.499)",
                },
                d.createElement("stop", {
                  offset: "0.348958",
                  stopColor: "var(--gradient-right)",
                }),
                d.createElement("stop", {
                  offset: "1",
                  stopColor: "var(--gradient-background-right)",
                  stopOpacity: "0",
                }),
              ),
            ),
          );
        },
        va = (0, c.PA)(({ ProfileItems: e, Background: t, theme: a }) => {
          void 0 === t && (t = e.GetEquippedBackground());
          let r = t && t.movie_webm,
            i = t && t.tiled,
            s = t ? j(t) : Q(null);
          const n = t && !i && 1 == e.GetEquippedBackgroundFlags();
          let o = null;
          return (
            i &&
              (o = {
                backgroundImage: `url( ${s} )`,
                backgroundRepeat: "repeat",
                backgroundSize: "125px 125px",
              }),
            d.createElement(
              "div",
              { style: o, className: da.ProfilePagePreviewCtn },
              d.createElement(
                "div",
                { className: da.BackgroundPosition },
                d.createElement(
                  "div",
                  { className: (0, u.A)(da.Background, n && da.FullScreen) },
                  !r && !i && d.createElement("img", { src: s }),
                  r && d.createElement(Wt, { Background: t, className: "" }),
                ),
              ),
              d.createElement(
                "div",
                { className: da.ProfilePreviewPosition },
                d.createElement(
                  "div",
                  { className: da.ProfilePreviewCtn },
                  d.createElement(pa, {
                    className: da.ProfilePreview,
                    width: "50%",
                    height: "auto",
                    theme: a,
                  }),
                ),
              ),
            )
          );
        });
      let _a = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { equipFlags: 0 });
        }
        async componentDidMount() {
          const { ProfileItems: e } = this.props;
          await e.GetEquippedBackground();
        }
        async CommitChanges(e) {
          const { ProfileItems: t } = this.props;
          return t.SetAndEquipProfileBackground(e);
        }
        RevertChanges() {
          const { ProfileItems: e } = this.props;
          e.RevertBackgroundChanges();
        }
        render() {
          const { ProfileItems: e, ProfileTheme: t } = this.props;
          e.GetEquippedBackground();
          let a = e.GetEquippedProfileModifier();
          return (
            a && !e.BIsLegacyGoldenProfile(a.appid) && (a = null),
            d.createElement(
              Ee.Z,
              { "flow-children": "column" },
              d.createElement(
                ve.Y9,
                null,
                (0, p.we)("#Profile_Edit_ChooseBackground"),
              ),
              d.createElement(
                ve.a3,
                null,
                (0, p.we)("#Profile_Edit_Background_Instructions"),
              ),
              d.createElement(Ge, {
                className: ca.BackgroundPickerPage,
                getSearchFields: Vt,
                getItems: () => e.GetOwnedBackgrounds(),
                fnCommitChanges: this.CommitChanges,
                fnRevertChanges: this.RevertChanges,
                ItemComponent: Ca,
                RenderDefaultComponent: ({ onSelected: e, active: t }) =>
                  d.createElement(Sa, {
                    Modifier: a,
                    onSelected: e,
                    active: t,
                  }),
                ActiveItem: e.GetEquippedBackground(),
                fnIsSameItem: Xt,
                fnRenderPreview: (a) =>
                  d.createElement(Ea, {
                    Background: a,
                    ProfileItems: e,
                    theme: t.ActiveTheme.theme_id,
                  }),
              }),
            )
          );
        }
      };
      (0, i.Cg)([_e.oI], _a.prototype, "CommitChanges", null),
        (0, i.Cg)([_e.oI], _a.prototype, "RevertChanges", null),
        (_a = (0, i.Cg)([c.PA], _a));
      const ga = _a,
        fa = ({ label: e, currentFlag: t, flag: a, onSelect: r }) =>
          d.createElement(
            "div",
            { className: ca.ProfileBackgroundEquipOption },
            d.createElement(ve.Od, {
              checked: t == a,
              disabled: t == a,
              onChange: (e) => {
                e && r(a);
              },
              label: e,
            }),
          );
      let Pa = class extends d.Component {
        OnChange(e) {
          this.props.ProfileItems.SetEquippedBackgroundFlags(e);
        }
        render() {
          let { Background: e, ProfileItems: t } = this.props;
          const a = !e || (null == e ? void 0 : e.tiled),
            r = t.GetEquippedBackgroundFlags();
          let i = d.createElement(fa, {
              flag: 1,
              currentFlag: r,
              onSelect: this.OnChange,
              label: (0, p.we)("#Profile_Edit_BackgroundEquipFlag_FullScreen"),
            }),
            s = d.createElement(fa, {
              flag: 0,
              currentFlag: r,
              onSelect: this.OnChange,
              label: (0, p.we)(
                "#Profile_Edit_BackgroundEquipFlag_OriginalSize",
              ),
            });
          return d.createElement(
            "div",
            {
              className: (0, u.A)(
                ca.ProfileBackgroundEquipOptions,
                a && ca.HideEquipOptions,
              ),
            },
            i,
            s,
          );
        }
      };
      (0, i.Cg)([_e.oI], Pa.prototype, "OnChange", null),
        (Pa = (0, i.Cg)([c.PA], Pa));
      const Ea = (0, c.PA)(({ Background: e, ProfileItems: t, theme: a }) =>
          d.createElement(
            "div",
            null,
            d.createElement(va, {
              Background: e,
              ProfileItems: t,
              key: e && e.communityitemid,
              theme: a,
            }),
            d.createElement(Pa, { ProfileItems: t, Background: e }),
          ),
        ),
        ya = ({ Background: e, children: t }) =>
          d.createElement(
            "div",
            { className: ca.Details },
            d.createElement(
              "div",
              null,
              d.createElement(
                "div",
                { className: ca.Title },
                e
                  ? e.item_title
                  : (0, p.we)("#Profile_Edit_DefaultBlankBackground"),
              ),
              d.createElement("div", { className: ca.App }, e && e.app_name),
            ),
            t,
          ),
        Ca = ({ Item: e, onSelected: t, active: a, children: r }) => {
          let i = !!e.movie_webm;
          return d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(
                ca.BackgroundOption,
                i && ca.WithVideo,
                a && ca.Active,
              ),
              onClick: t,
              onActivate: t,
              onGamepadFocus: i ? Yt : void 0,
              onMouseEnter: i ? zt : void 0,
              focusable: !0,
            },
            d.createElement(
              "div",
              { className: ca.Preview },
              d.createElement("img", { src: Q(e), loading: "lazy" }),
              d.createElement(Wt, {
                Background: e,
                className: ca.PreviewVideo,
                small: !0,
              }),
            ),
            d.createElement(ya, { Background: e }, r),
          );
        },
        Sa = ({ onSelected: e, Modifier: t, active: a, children: r }) =>
          t
            ? d.createElement(Ca, { Item: t, onSelected: e, active: a })
            : d.createElement(
                "div",
                {
                  className: (0, u.A)(ca.BackgroundOption, a && ca.Active),
                  onClick: e,
                },
                d.createElement(
                  "div",
                  { className: ca.Preview },
                  d.createElement("img", { src: Q(null) }),
                ),
                d.createElement(ya, { Background: null }, r),
              );
      var Aa = a(17083);
      function wa(e) {
        const { navigate: t, onClick: a, ...r } = e,
          { target: i } = r;
        return d.createElement(ea.Ii, {
          ...r,
          onClick: (e) => {
            try {
              a && a(e);
            } catch (t) {
              throw (e.preventDefault(), t);
            }
            e.defaultPrevented ||
              0 !== e.button ||
              (i && "_self" !== i) ||
              (function (e) {
                return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);
              })(e) ||
              (e.preventDefault(), t());
          },
        });
      }
      function Ia(e) {
        return d.createElement(Aa.k2, { component: wa, ...e });
      }
      var Ga = a(78091),
        Na = a(12447);
      function Ba(e) {
        const { root: t, currentPath: a, linksAvailable: r, children: i } = e;
        return d.createElement(
          Na.u,
          { navID: "ProfileEditShell" },
          d.createElement(
            Ee.Z,
            null,
            d.createElement(
              Ee.Z,
              {
                className: Ga.Shell,
                "flow-children": "row",
                navEntryPreferPosition: gt.iU.FIRST,
              },
              d.createElement(ba, {
                root: t,
                currentPath: a,
                linksAvailable: r,
              }),
              d.createElement(
                "div",
                { className: Ga.PageContent },
                d.createElement(Ce.tH, null, i),
              ),
            ),
          ),
        );
      }
      const ba = ({ root: e, currentPath: t, linksAvailable: a }) => {
          const i = { root: e, currentPath: t },
            s = rr,
            n = (0, C.Qn)();
          return d.createElement(
            Ee.Z,
            { className: Ga.Navigation, "flow-children": "column" },
            d.createElement(
              "div",
              { className: Ga.BackToProfileCtn },
              d.createElement(
                ea.Ii,
                { href: r.s.ProfileURL },
                (0, p.we)("#Profile_ReturnToYourProfile"),
              ),
            ),
            d.createElement("div", { className: Ga.ProfileEditLine }),
            d.createElement(
              La,
              { ...i, to: s.Info() },
              (0, p.we)("#Profile_Edit_BasicInfo"),
            ),
            d.createElement(
              La,
              { ...i, to: s.Avatar() },
              (0, p.we)("#Profile_FieldAvatar"),
            ),
            d.createElement(
              La,
              { ...i, to: s.Background() },
              (0, p.we)("#Profile_FieldProfileBackground"),
            ),
            d.createElement(
              La,
              { ...i, to: s.MiniProfile() },
              (0, p.we)("#Profile_Edit_MiniProfile"),
            ),
            d.createElement(
              La,
              { ...i, to: s.Theme() },
              (0, p.we)("#Profile_Edit_Theme"),
            ),
            d.createElement(
              La,
              {
                ...i,
                to: s.ProfileModifier(),
                fnVisible: a.ProfileModifierAvailable,
              },
              (0, p.we)("#Profile_Edit_ProfileModifier"),
            ),
            d.createElement(
              La,
              { ...i, to: s.FavoriteBadge(), fnVisible: a.BadgesAvailable },
              (0, p.we)("#Profile_Edit_FavoriteBadge"),
            ),
            d.createElement(
              La,
              { ...i, to: s.FavoriteGroup(), fnVisible: a.GroupsAvailable },
              (0, p.we)("#Profile_Edit_FavoriteGroup"),
            ),
            !n &&
              d.createElement(
                La,
                { ...i, to: s.Showcases(), fnVisible: a.ShowcasesAvailable },
                (0, p.we)("#Profile_Edit_FeaturedShowcase"),
              ),
            d.createElement("div", { className: Ga.ProfileEditLine }),
            d.createElement(
              La,
              { ...i, to: s.Privacy() },
              (0, p.we)("#Profile_EditPrivacySettings"),
            ),
            d.createElement(
              "div",
              { className: Ga.ProfileEditStoreLink },
              d.createElement(
                ea.Ii,
                {
                  className: (0, u.A)(Ga.ExternalLink),
                  href: `${C.TS.STORE_BASE_URL}points/`,
                },
                (0, p.we)("#SteamPointsShop"),
              ),
            ),
          );
        },
        La = (0, c.PA)(
          ({
            root: e,
            currentPath: t,
            to: a,
            fnVisible: r,
            fnDisabled: i,
            children: s,
          }) => {
            const n = `${e}${a}`,
              o = n == t;
            if (!o && r && !r()) return null;
            const l = i && i(),
              m = !!l;
            let c;
            return (
              l && (c = (e) => e.preventDefault()),
              d.createElement(
                Ia,
                {
                  className: (0, u.A)(
                    Ga.NavLink,
                    o && Ga.Active,
                    m && Ga.Disabled,
                  ),
                  to: n,
                  onClick: c,
                  title: l,
                },
                s,
              )
            );
          },
        );
      var Ra = a(49622);
      let ka = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bDialogActive: !1 });
        }
        ShowDialog() {
          this.setState({ bDialogActive: !0 });
        }
        HideDialog() {
          this.setState({ bDialogActive: !1 });
        }
        render() {
          const { ProfileItems: e } = this.props;
          return e.BHasAnyProfileModifiers()
            ? d.createElement(Oa, {
                active: this.state.bDialogActive,
                ProfileItems: e,
                onDismiss: this.HideDialog,
              })
            : null;
        }
      };
      (0, i.Cg)([_e.oI], ka.prototype, "ShowDialog", null),
        (0, i.Cg)([_e.oI], ka.prototype, "HideDialog", null),
        (ka = (0, i.Cg)([c.PA], ka));
      const Ta = ka,
        Fa = (0, c.PA)(({ ProfileItems: e }) => {
          let t = e.GetProfileModifierCSSURL();
          return t
            ? d.createElement("link", {
                rel: "stylesheet",
                type: "text/css",
                href: t,
              })
            : null;
        }),
        Da = ({ ProfileModifier: e }) => {
          const t = e
              ? j(e)
              : `${C.TS.COMMUNITY_CDN_URL}public/images/trans.gif`,
            a = e
              ? e.item_title
              : (0, p.we)("#Profile_Edit_DefaultBlankBackground"),
            r = e ? e.app_name : "";
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: Ra.ProfileModifierBody },
              d.createElement("img", {
                className: Ra.GoldenProfileItemImage,
                src: t,
              }),
              d.createElement("div", { className: Ra.GoldenProfileTitle }, a),
              d.createElement("div", { className: Ra.GoldenProfileApp }, r),
            ),
          );
        };
      let Oa = class extends d.Component {
        OnDismiss() {
          this.props.ProfileItems.RevertProfileModifierChanges(),
            this.props.onDismiss();
        }
        render() {
          const { ProfileItems: e } = this.props;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              ve.Y9,
              null,
              (0, p.we)("#Profile_Edit_ProfileModifier"),
            ),
            d.createElement(
              ve.a3,
              null,
              (0, p.we)("#Profile_Edit_ProfileModifier_Instructions"),
            ),
            d.createElement(Ge, {
              fnRevertChanges: this.OnDismiss,
              getSearchFields: Vt,
              getItems: () => e.GetOwnedProfileModifiers(),
              fnCommitChanges: async (t) => (
                e.SetEquippedProfileModifier(t),
                e.CommitProfileModifierChanges()
              ),
              ItemComponent: Ma,
              RenderDefaultComponent: ({ onSelected: e, active: t }) =>
                d.createElement(Ha, { onSelected: e, active: t }),
              ActiveItem: e.GetEquippedProfileModifier(),
              fnIsSameItem: Xt,
              fnRenderPreview: (e) =>
                d.createElement(Da, { ProfileModifier: e }),
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], Oa.prototype, "OnDismiss", null),
        (Oa = (0, i.Cg)([c.PA], Oa));
      const Ma = ({ Item: e, onSelected: t, children: a, active: r }) =>
          d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(Ra.ProfileModifierOption, r && Ra.Active),
              onActivate: t,
            },
            d.createElement(
              "div",
              { className: Ra.Preview },
              d.createElement("img", { src: j(e), loading: "lazy" }),
            ),
            d.createElement(
              "div",
              { className: Ra.Details },
              d.createElement(
                "div",
                null,
                d.createElement("div", { className: Ra.Title }, e.item_title),
                d.createElement("div", { className: Ra.App }, e.app_name),
              ),
              a,
            ),
          ),
        Ha = ({ onSelected: e, children: t, active: a }) =>
          d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(Ra.ProfileModifierOption, a && Ra.Active),
              onActivate: e,
            },
            d.createElement(
              "div",
              { className: (0, u.A)(Ra.Preview, Ra.BlankBackground) },
              d.createElement("img", {
                src: `${C.TS.COMMUNITY_CDN_URL}public/images/trans.gif`,
                loading: "lazy",
              }),
            ),
            d.createElement(
              "div",
              { className: Ra.Details },
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: Ra.Title },
                  (0, p.we)("#ProfileModifier_DisabledTitle"),
                ),
                d.createElement("div", { className: Ra.App }),
              ),
              t,
            ),
          );
      var xa = a(20644);
      let Ua = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { bSaving: !1, strHTMLError: "" });
        }
        async CommitChanges(e) {
          const { ProfileTheme: t } = this.props;
          this.setState({ bSaving: !0, strHTMLError: "" }),
            t.SetActiveTheme(e.theme_id);
          let a = await t.CommitActiveTheme();
          return (
            1 != a &&
              this.setState({
                strHTMLError: (0, p.we)("#ConnectionTrouble_FailedToConnect"),
              }),
            this.setState({ bSaving: !1 }),
            a
          );
        }
        RevertChanges() {
          const { ProfileTheme: e } = this.props;
          this.setState({ strHTMLError: "" }), e.RevertActiveTheme();
        }
        render() {
          const { ProfileTheme: e, ProfileItems: t } = this.props;
          let a = !!t.GetEquippedProfileModifier();
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(ve.Y9, null, (0, p.we)("#Profile_Edit_Theme")),
            d.createElement(
              ve.a3,
              null,
              (0, p.we)("#Profile_Edit_Theme_Instructions"),
            ),
            d.createElement(be, { strHTMLError: this.state.strHTMLError }),
            a && d.createElement(Xa, null),
            d.createElement(Ge, {
              getSearchFields: null,
              ActiveItem: e.ActiveTheme,
              getItems: async () => e.AvailableThemes,
              fnCommitChanges: this.CommitChanges,
              fnRevertChanges: this.RevertChanges,
              fnRenderPreview: (e) =>
                d.createElement(za, { Theme: e, ProfileItems: t }),
              fnIsSameItem: Ya,
              ItemComponent: Va,
              classNameItemPicker: xa.ProfileThemePicker,
              className: (0, u.A)(a && xa.ThemePickerDisabled),
            }),
          );
        }
      };
      (0, i.Cg)([_e.oI], Ua.prototype, "CommitChanges", null),
        (0, i.Cg)([_e.oI], Ua.prototype, "RevertChanges", null),
        (Ua = (0, i.Cg)([c.PA], Ua));
      const qa = Ua,
        Wa = ({ Theme: e, children: t }) => {
          let a;
          return (
            (a =
              "string" == typeof e
                ? e + "Theme"
                : ((null == e ? void 0 : e.theme_id) || "Default") + "Theme"),
            d.createElement("div", { className: ha[a] }, t)
          );
        },
        za = (0, c.PA)(({ Theme: e, ProfileItems: t }) =>
          d.createElement(
            "div",
            { className: xa.ProfileThemePreviewCtn },
            d.createElement(va, { ProfileItems: t, theme: e.theme_id }),
          ),
        ),
        Ya = (e, t) => (e && e.theme_id) === (t && t.theme_id),
        Va = ({ Item: e, onSelected: t, active: a, children: r }) => {
          const i = e.theme_id + "Theme",
            s = `ThemeOption${i}`;
          return d.createElement(
            Ee.Z,
            {
              className: (0, u.A)(
                xa.ProfileTheme,
                t && xa.Option,
                a && xa.Active,
                ha[i],
              ),
              onActivate: t,
            },
            d.createElement(
              "div",
              { className: xa.PreviewCtn },
              d.createElement(
                "svg",
                {
                  className: (0, u.A)(xa.Preview),
                  viewBox: "0 0 382 382",
                  width: "100%",
                  height: "100%",
                },
                d.createElement("rect", {
                  width: "382",
                  height: "382",
                  fill: "var(--edit-background)",
                  className: xa.EditBackground,
                }),
                d.createElement("rect", {
                  width: "382",
                  height: "382",
                  fill: "var(--gradient-background)",
                  fillOpacity: "0.23",
                  className: xa.ThemeBackground,
                }),
                d.createElement("rect", {
                  width: "382",
                  height: "382",
                  fill: `url(#${s}paint0_radial)`,
                  className: xa.PaintRadial0,
                }),
                d.createElement("rect", {
                  width: "382",
                  height: "382",
                  fill: `url(#${s}paint1_radial)`,
                  className: xa.PaintRadial1,
                }),
                d.createElement(
                  "defs",
                  null,
                  d.createElement(
                    "radialGradient",
                    {
                      id: `${s}paint0_radial`,
                      cx: "0",
                      cy: "0",
                      r: "1",
                      gradientUnits: "userSpaceOnUse",
                      gradientTransform:
                        "translate(11 126) rotate(9.77175) scale(182.65 191.735)",
                    },
                    d.createElement("stop", {
                      stopColor: "var(--gradient-left)",
                    }),
                    d.createElement("stop", {
                      offset: "1",
                      stopColor: "var(--gradient-background-left)",
                      stopOpacity: "0",
                    }),
                  ),
                  d.createElement(
                    "radialGradient",
                    {
                      id: `${s}paint1_radial`,
                      cx: "0",
                      cy: "0",
                      r: "1",
                      gradientUnits: "userSpaceOnUse",
                      gradientTransform:
                        "translate(385 148) rotate(-164.809) scale(312.935 328.499)",
                    },
                    d.createElement("stop", {
                      offset: "0.348958",
                      stopColor: "var(--gradient-right)",
                    }),
                    d.createElement("stop", {
                      offset: "1",
                      stopColor: "var(--gradient-background-right)",
                      stopOpacity: "0",
                    }),
                  ),
                ),
              ),
            ),
            d.createElement(
              "div",
              { className: xa.Details },
              d.createElement("div", { className: xa.Title }, e.title),
              r,
            ),
          );
        },
        Xa = ({ children: e }) =>
          d.createElement(
            "div",
            { className: xa.ThemesDisabledNotice },
            d.createElement(
              "div",
              { className: xa.Notice },
              (0, p.we)("#Profile_Edit_GoldenProfileOverridesTheme"),
            ),
          );
      class Ka extends d.Component {
        constructor() {
          super(...arguments),
            (this.m_refDiv = d.createRef()),
            (this.state = { bSaving: !1, strHTMLError: "" });
        }
        OnSubmit(e) {
          e.preventDefault(), this.CommitChanges(e.currentTarget);
        }
        async CommitChanges(e) {
          this.setState({ bSaving: !0, strHTMLError: "" });
          let t = await se("showcases", new FormData(e));
          t.strHTMLError
            ? this.setState({ strHTMLError: t.strHTMLError })
            : this.setState({ strHTMLError: "" }),
            this.setState({ bSaving: !1 });
        }
        RevertChanges() {
          window.location.href = r.s.ProfileURL;
        }
        componentDidMount() {
          this.props.elShowcases &&
            ((this.props.elShowcases.style.display = ""),
            this.m_refDiv.current.appendChild(this.props.elShowcases));
        }
        render() {
          const { bSaving: e, strHTMLError: t } = this.state,
            { ProfileTheme: a } = this.props;
          return d.createElement(
            Wa,
            { Theme: a.ActiveTheme },
            d.createElement(
              "form",
              { onSubmit: this.OnSubmit },
              d.createElement(
                ve.Y9,
                null,
                (0, p.we)("#Profile_Edit_FeaturedShowcase"),
              ),
              d.createElement(
                ve.a3,
                null,
                (0, p.oW)(
                  "#Profile_Edit_Showcase_Instructions",
                  d.createElement("a", {
                    href: C.TS.STORE_BASE_URL + "points/",
                  }),
                ),
              ),
              d.createElement(be, { strHTMLError: t }),
              d.createElement("div", { ref: this.m_refDiv }),
              d.createElement(we, {
                onCancel: this.RevertChanges,
                disabled: e,
              }),
            ),
          );
        }
      }
      let Za, ja, Qa;
      function $a(e) {
        const [t, a] = d.useState(!1),
          i = (0, he.TR)();
        if (
          (d.useEffect(() => {
            Qa ||
              (Qa = (async function (e) {
                let t = (0, C.Tc)("config", "profile_config");
                t && Object.assign(r.s, t),
                  (Za = new le(
                    (0, C.Tc)("profile-edit", "profile_edit_config"),
                    (0, C.Tc)("profile-badges", "profile_edit_config"),
                    e,
                  )),
                  (0, de.nA)(C.TS.EREALM) ||
                    Za.Profile.GroupList.GetUserGroups(),
                  (ja = document.getElementById("showcases"));
              })(i)),
              Qa.then(() => a(!0));
          }, [i]),
          d.useLayoutEffect(() => {
            if (t)
              for (let e of [
                "profile_edit_main_content",
                "profile_edit_leftcol",
              ]) {
                let t = document.getElementById(e);
                t && (t.style.visibility = "");
              }
          }, [t]),
          !t)
        )
          return null;
        const s = e.match.url,
          n = Za,
          {
            Profile: o,
            ProfileItems: l,
            ProfileTheme: m,
            EmoticonStore: c,
          } = n,
          h = rr,
          u = {
            ProfileModifierAvailable: () => l.BHasAnyProfileModifiers(),
            BadgesAvailable: () =>
              !(0, de.nA)(C.TS.EREALM) && n.ProfileBadges.Badges.length > 0,
            GroupsAvailable: () =>
              !(0, de.nA)(C.TS.EREALM) &&
              (!o.GroupList.BGroupsLoaded() || o.GroupList.BHasAnyGroups()),
            ShowcasesAvailable: () => null != ja,
          };
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(Fa, { ProfileItems: l }),
          d.createElement(It, { Profile: o }),
          d.createElement(Qe, { Profile: o, ProfileItems: l }),
          d.createElement(
            Ba,
            { root: s, currentPath: e.location.pathname, linksAvailable: u },
            d.createElement(
              ce.dO,
              null,
              d.createElement(
                ce.qh,
                { path: `${s}${h.Info()}` },
                d.createElement(ft, { Profile: o, EmoticonStore: c }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.Avatar()}` },
                d.createElement(je, {
                  Profile: o,
                  ProfileItems: l,
                  OGGAvatars: n.OGGAvatarStore,
                  AvatarHistory: n.AvatarHistory,
                }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.Background()}` },
                d.createElement(ga, { ProfileTheme: m, ProfileItems: l }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.MiniProfile()}` },
                d.createElement(Zt, { ProfileEdit: n }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.Theme()}` },
                d.createElement(qa, { ProfileTheme: m, ProfileItems: l }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.ProfileModifier()}` },
                d.createElement(Ta, { ProfileItems: l }),
              ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  ce.qh,
                  { path: `${s}${h.FavoriteBadge()}` },
                  d.createElement(bt, { Badges: n.ProfileBadges }),
                ),
              !(0, de.nA)(C.TS.EREALM) &&
                d.createElement(
                  ce.qh,
                  { path: `${s}${h.FavoriteGroup()}` },
                  d.createElement(Ot, { Profile: o }),
                ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.Privacy()}` },
                d.createElement(ta, { PrivacyStore: n.ProfilePrivacy }),
              ),
              d.createElement(
                ce.qh,
                { path: `${s}${h.Showcases()}` },
                d.createElement(Ka, { elShowcases: ja, ProfileTheme: m }),
              ),
              d.createElement(
                ce.qh,
                null,
                d.createElement(ce.rd, { to: `${s}${h.Info()}` }),
              ),
            ),
          ),
        );
      }
      (0, i.Cg)([_e.oI], Ka.prototype, "OnSubmit", null),
        (0, i.Cg)([_e.oI], Ka.prototype, "RevertChanges", null);
      var Ja = a(50050),
        er = a(6813),
        tr = a(47132);
      const ar = {
          ProfileEdit: () => "edit",
          ProfilePrivacy: () => "edit/settings",
          Games: () => "games",
          ItemCollection: () => "itemcollection",
        },
        rr = {
          Info: () => "/info",
          Avatar: () => "/avatar",
          Background: () => "/background",
          MiniProfile: () => "/miniprofile",
          Theme: () => "/theme",
          ProfileModifier: () => "/goldenprofile",
          FavoriteBadge: () => "/favoritebadge",
          FavoriteGroup: () => "/favoritegroup",
          Privacy: () => "/settings",
          Showcases: () => "/showcases",
        };
      function ir(e) {
        return d.createElement(
          "div",
          null,
          d.createElement(Ja.Ay, { targetType: 3 }),
        );
      }
      function sr(e) {
        const t = e.match.path;
        return d.createElement(
          ce.dO,
          null,
          d.createElement(ce.qh, {
            path: `${t}/${ar.ProfileEdit()}`,
            render: (e) => d.createElement($a, { ...e }),
          }),
          d.createElement(ce.qh, {
            path: `${t}`,
            render: (e) =>
              d.createElement(er.X, {
                config: {
                  "profile-rewards": () => d.createElement(ir, { ...e }),
                  "ugc-file-content-moderation-report-dialog": (e) =>
                    d.createElement(tr.Xi, { ...e }),
                  "comment-content-moderation-report-dialog": (e) =>
                    d.createElement(tr.b$, { ...e }),
                },
              }),
          }),
        );
      }
    },
    12447: (e, t, a) => {
      "use strict";
      a.d(t, { u: () => m });
      var r = a(8871),
        i = a(90626),
        s = a(78327),
        n = a(85585),
        o = a(7445),
        l = a(43899);
      const m = i.forwardRef(function (e, t) {
        const { children: a, navTreeRef: m, ...c } = e,
          d = i.useRef(void 0),
          h = (0, r.Ue)(d, m),
          u = (0, s.Qn)(),
          p = (0, l.AO)("__nav_tree_root");
        return i.createElement(
          n.B2,
          {
            ...c,
            navTreeRef: h,
            ref: t,
            parentEmbeddedNavTree: p,
            disabledRoot: !u,
          },
          i.createElement(o.q, { disableFocusRing: !u }, a),
        );
      });
    },
    10622: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => d, dV: () => m.d, rO: () => c, tp: () => m.t });
      var r = a(34629),
        i = a(14947),
        s = a(31561),
        n = a(51006),
        o = a(61859),
        l = a(78327),
        m = a(85044);
      function c(e) {
        let t = "offline";
        return (
          e &&
            (e.is_ingame
              ? (t = "ingame")
              : e.m_broadcastAccountId
                ? (t = "watchingbroadcast")
                : e.is_online && (t = "online"),
            e.is_awayOrSnooze && (t += " awayOrSnooze")),
          t
        );
      }
      class d {
        constructor(e) {
          (this.m_bInitialized = !1),
            (this.m_ePersonaState = 0),
            (this.m_unGamePlayedAppID = 0),
            (this.m_gameid = "0"),
            (this.m_unPersonaStateFlags = 0),
            (this.m_strPlayerName = ""),
            (this.m_strAvatarHash = m.d),
            (this.m_strAccountName = ""),
            (this.m_rtLastSeenOnline = 0),
            (this.m_strGameExtraInfo = ""),
            (this.m_unGameServerIP = 0),
            (this.m_unGameServerPort = 0),
            (this.m_game_lobby_id = ""),
            (this.m_bPlayerNamePending = !1),
            (this.m_bAvatarPending = !1),
            (this.m_broadcastId = void 0),
            (this.m_broadcastAccountId = void 0),
            (this.m_broadcastAppId = void 0),
            (this.m_broadcastViewerCount = void 0),
            (this.m_strBroadcastTitle = void 0),
            (this.m_bCommunityBanned = void 0),
            (this.m_eGamingDeviceType = 0),
            (this.m_mapRichPresence = i.sH.map()),
            (this.m_bNameInitialized = !1),
            (this.m_bStatusInitialized = !1),
            (this.m_strProfileURL = void 0),
            (0, i.Gn)(this),
            (this.m_steamid = e);
        }
        Reset() {
          (this.m_ePersonaState = 0),
            (this.m_unGamePlayedAppID = 0),
            (this.m_gameid = "0"),
            (this.m_strGameExtraInfo = ""),
            (this.m_unGameServerIP = 0),
            (this.m_unGameServerPort = 0),
            (this.m_game_lobby_id = ""),
            this.m_mapRichPresence.clear(),
            (this.m_broadcastId = void 0),
            (this.m_broadcastAccountId = void 0),
            (this.m_broadcastAppId = void 0),
            (this.m_broadcastViewerCount = void 0),
            (this.m_strBroadcastTitle = void 0),
            (this.m_eGamingDeviceType = 0);
        }
        GetAccountID() {
          return this.m_steamid.GetAccountID();
        }
        get is_online() {
          return 0 != this.m_ePersonaState && 7 != this.m_ePersonaState;
        }
        get is_ingame() {
          return (
            this.is_online &&
            (0 != this.m_unGamePlayedAppID || "0" != this.m_gameid)
          );
        }
        get is_watchingbroadcast() {
          return !!this.m_broadcastAccountId;
        }
        get is_in_nonsteam_game() {
          return 0 == this.m_unGamePlayedAppID && "0" != this.m_gameid;
        }
        get is_in_joinable_game() {
          return (
            this.has_joinable_game_flag ||
            this.is_in_valid_lobby ||
            this.has_server_ip
          );
        }
        get has_joinable_game_flag() {
          var e;
          return (
            0 !=
            (2 &
              (null !== (e = this.m_unPersonaStateFlags) && void 0 !== e
                ? e
                : 0))
          );
        }
        get connect_string() {
          return this.m_mapRichPresence.get("connect");
        }
        get is_in_valid_lobby() {
          return null != this.m_game_lobby_id && "0" != this.m_game_lobby_id;
        }
        get has_server_ip() {
          return 0 != this.m_unGameServerIP;
        }
        get is_awayOrSnooze() {
          return 3 == this.m_ePersonaState || 4 == this.m_ePersonaState;
        }
        HasStateFlag(e) {
          var t;
          return (
            0 !=
            ((null !== (t = this.m_unPersonaStateFlags) && void 0 !== t
              ? t
              : 0) &
              e)
          );
        }
        get last_seen_online() {
          return this.m_rtLastSeenOnline;
        }
        ClearStateOnDisconnect() {
          0 != this.m_ePersonaState && this.Reset();
        }
        get is_golden() {
          return this.HasStateFlag(4);
        }
        GetCurrentGameName() {
          return this.m_strGameExtraInfo
            ? this.m_strGameExtraInfo
            : this.m_unGamePlayedAppID
              ? n.Vw.GetAppInfo(this.m_unGamePlayedAppID).name
              : "";
        }
        GetCurrentGameIconURL() {
          return this.m_unGamePlayedAppID
            ? n.Vw.GetAppInfo(this.m_unGamePlayedAppID).icon_url
            : "";
        }
        BIsAppInfoReady() {
          return (
            !this.m_unGamePlayedAppID ||
            n.Vw.GetAppInfo(this.m_unGamePlayedAppID).is_initialized
          );
        }
        HasCurrentGameRichPresence() {
          return this.m_mapRichPresence.has("steam_display");
        }
        HasRichPresenceForViewGameInfo() {
          return !!(
            this.m_mapRichPresence.has("status") ||
            this.m_mapRichPresence.has("connect") ||
            this.m_mapRichPresence.has("connect_private")
          );
        }
        GetCurrentGameRichPresence() {
          if (this.HasCurrentGameRichPresence()) {
            let e = n.Vw.GetRichPresenceLoc(this.m_unGamePlayedAppID);
            if (e) {
              let t = this.m_mapRichPresence.get("steam_display");
              return e.Localize(t, this.m_mapRichPresence);
            }
          } else if (this.HasStateFlag(8))
            return (0, o.we)("#PersonaStateRemotePlayTogether");
          return "";
        }
        GetCurrentGameStatus() {
          return (
            this.GetCurrentGameRichPresence() ||
            this.m_mapRichPresence.get("status") ||
            ""
          );
        }
        GetOfflineStatusUpdateRate() {
          if (0 == this.last_seen_online) return 3e4;
          const e = 3600;
          let t = 1e3;
          const a = n.Vw.CMInterface.GetServerRTime32() - this.last_seen_online;
          return (t *= a > 86400 ? e : a > 7200 ? 60 : 15), t;
        }
        GetOfflineStatusTime() {
          if (0 == this.last_seen_online)
            return (0, o.we)("#PersonaStateOffline");
          let e = this.GetOfflineStatusUpdateRate();
          (!l.TS.IN_MOBILE || e <= 60) && (0, s.tB)(e);
          let t = n.Vw.CMInterface.GetServerRTime32() - this.last_seen_online;
          return t < 60
            ? (0, o.we)("#PersonaStateLastSeen_JustNow")
            : (0, o.we)("#PersonaStateLastSeen", (0, o.Hq)(t));
        }
        GetLocalizedOnlineStatus() {
          switch (this.m_ePersonaState) {
            case 0:
            case 7:
              return this.GetOfflineStatusTime();
            case 1:
              return (0, o.we)("#PersonaStateOnline");
            case 2:
              return (0, o.we)("#PersonaStateBusy");
            case 3:
              return (0, o.we)("#PersonaStateAway");
            case 4:
              return (0, o.we)("#PersonaStateSnooze");
            case 5:
              return (0, o.we)("#PersonaStateLookingToTrade");
            case 6:
              return (0, o.we)("#PersonaStateLookingToPlay");
            default:
              return "";
          }
        }
        get has_public_party_beacon() {
          return this.m_mapRichPresence.has("__beacon") && this.is_ingame;
        }
        get player_group() {
          return this.m_mapRichPresence.has("steam_player_group")
            ? this.m_mapRichPresence.get("steam_player_group")
            : "";
        }
        get player_group_size() {
          return this.m_mapRichPresence.has("steam_player_group_size")
            ? Number.parseInt(
                this.m_mapRichPresence.get("steam_player_group_size"),
              )
            : 0;
        }
        get online_state() {
          return this.is_online
            ? this.is_ingame
              ? "in-game"
              : this.m_broadcastAccountId
                ? "watchingbroadcast"
                : "online"
            : "offline";
        }
        BHasAvatarSet() {
          return this.m_strAvatarHash != m.d;
        }
        get avatar_url() {
          return (0, m.t)(this.m_strAvatarHash);
        }
        get avatar_url_medium() {
          return (0, m.t)(this.m_strAvatarHash, "medium");
        }
        get avatar_url_full() {
          return (0, m.t)(this.m_strAvatarHash, "full");
        }
        static SortStatusComparator(e, t, a) {
          if (t.has_public_party_beacon) {
            if (!a.has_public_party_beacon) return -1;
          } else {
            if (a.has_public_party_beacon) return 1;
            if (t.is_ingame) {
              if (!a.is_ingame) return -1;
              if (!e) return 0;
              if (t.is_awayOrSnooze) {
                if (!a.is_awayOrSnooze) return 1;
              } else if (a.is_awayOrSnooze) return -1;
            } else if (a.is_ingame) return 1;
          }
          if (t.is_online) {
            if (!a.is_online) return -1;
          } else if (a.is_online) return 1;
          if (e)
            if (t.is_awayOrSnooze) {
              if (!a.is_awayOrSnooze) return 1;
            } else if (a.is_awayOrSnooze) return -1;
          return 0;
        }
        GetCommunityProfileURL() {
          return this.m_strProfileURL
            ? `${l.TS.COMMUNITY_BASE_URL}id/${this.m_strProfileURL}/`
            : `${l.TS.COMMUNITY_BASE_URL}profiles/${this.m_steamid.ConvertTo64BitString()}/`;
        }
      }
      (0, r.Cg)([i.sH], d.prototype, "m_bInitialized", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_ePersonaState", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_unGamePlayedAppID", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_gameid", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_unPersonaStateFlags", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_strPlayerName", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_strAvatarHash", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_strAccountName", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_rtLastSeenOnline", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_strGameExtraInfo", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_unGameServerIP", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_unGameServerPort", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_game_lobby_id", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_bPlayerNamePending", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_bAvatarPending", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_broadcastId", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_broadcastAccountId", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_broadcastAppId", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_broadcastViewerCount", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_strBroadcastTitle", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_bCommunityBanned", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_eGamingDeviceType", void 0),
        (0, r.Cg)([i.sH], d.prototype, "m_bNameInitialized", void 0);
    },
    30724: (e, t, a) => {
      "use strict";
      a.d(t, { q: () => o });
      var r = a(48767),
        i = a(45995),
        s = class extends r.$ {
          constructor(e, t) {
            super(e, t);
          }
          bindMethods() {
            super.bindMethods(),
              (this.fetchNextPage = this.fetchNextPage.bind(this)),
              (this.fetchPreviousPage = this.fetchPreviousPage.bind(this));
          }
          setOptions(e, t) {
            super.setOptions({ ...e, behavior: (0, i.PL)() }, t);
          }
          getOptimisticResult(e) {
            return (e.behavior = (0, i.PL)()), super.getOptimisticResult(e);
          }
          fetchNextPage(e) {
            return this.fetch({
              ...e,
              meta: { fetchMore: { direction: "forward" } },
            });
          }
          fetchPreviousPage(e) {
            return this.fetch({
              ...e,
              meta: { fetchMore: { direction: "backward" } },
            });
          }
          createResult(e, t) {
            var a, r;
            const { state: s } = e,
              n = super.createResult(e, t),
              {
                isFetching: o,
                isRefetching: l,
                isError: m,
                isRefetchError: c,
              } = n,
              d =
                null == (r = null == (a = s.fetchMeta) ? void 0 : a.fetchMore)
                  ? void 0
                  : r.direction,
              h = m && "forward" === d,
              u = o && "forward" === d,
              p = m && "backward" === d,
              v = o && "backward" === d;
            return {
              ...n,
              fetchNextPage: this.fetchNextPage,
              fetchPreviousPage: this.fetchPreviousPage,
              hasNextPage: (0, i.rB)(t, s.data),
              hasPreviousPage: (0, i.RQ)(t, s.data),
              isFetchNextPageError: h,
              isFetchingNextPage: u,
              isFetchPreviousPageError: p,
              isFetchingPreviousPage: v,
              isRefetchError: c && !h && !p,
              isRefetching: l && !u && !v,
            };
          }
        },
        n = a(25081);
      function o(e, t) {
        return (0, n.t)(e, s, t);
      }
    },
  },
]);
