/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(window.webpackJsonp = window.webpackJsonp || []).push([
  [5],
  {
    "0rc7": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return E;
      });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n("TyAF"),
        o = n("bxiW"),
        l = n("65Yx"),
        s = n.n(l),
        c = n("dsQf"),
        u = n.n(c),
        d = n("Kw0F"),
        p = n("26EA"),
        m = n.n(p),
        _ = n("xnZ7"),
        g = n.n(_),
        h = n("6Y59"),
        f = n("vDqi"),
        b = n.n(f),
        v = n("YyVH"),
        E = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.state = {
                bGrabbing: !1,
                startY: 0,
                index: -1,
                rowDelta: 0,
                actualRowHeight: 0,
              }),
              (n.container = null),
              (n.m_cancelSignal = b.a.CancelToken.source()),
              (n.container = i.createRef()),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.container.current &&
                this.container.current.firstElementChild &&
                this.setState({
                  actualRowHeight: this.container.current.firstElementChild.getBoundingClientRect()
                    .height,
                });
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ReorderableList unmounting");
            }),
            (t.prototype.OnWhitelistGrab = function (e, t) {
              if (!this.m_cancelSignal.token.reason) {
                var n = e.clientY;
                this.setState({ bGrabbing: !0, startY: n, index: t }),
                  window.addEventListener("mousemove", this.OnWhitelistMove),
                  window.addEventListener("mouseup", this.OnWhitelistRelease);
              }
            }),
            (t.prototype.OnWhitelistRelease = function (e) {
              this.m_cancelSignal.token.reason ||
                (this.setState({
                  bGrabbing: !1,
                  startY: 0,
                  index: -1,
                  rowDelta: 0,
                }),
                window.removeEventListener("mousemove", this.OnWhitelistMove));
            }),
            (t.prototype.OnWhitelistMove = function (e) {
              var t = e.clientY - this.state.startY,
                n = Boolean(this.props.fixedRowHeight)
                  ? this.props.fixedRowHeight
                  : this.state.actualRowHeight,
                a = Math.min(
                  Math.round(t / n),
                  this.props.items.length - this.state.index - 1
                );
              if (a !== this.state.rowDelta) {
                var i = this.state.index + this.state.rowDelta,
                  r = v.a(this.state.index + a, 0, this.props.items.length - 1);
                this.m_cancelSignal.token.reason ||
                  (this.props.onMove
                    ? this.props.onMove(i, r)
                    : Object(d.d)(this.props.items, i, r),
                  this.setState({ rowDelta: a }),
                  this.props.onReorder && this.props.onReorder());
              }
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.render;
              return i.createElement(
                "div",
                { className: m.a.WhitelistCtn, ref: this.container },
                this.props.items.map(function (n, a) {
                  return i.createElement(
                    "div",
                    {
                      key: a,
                      className: "" + m.a.WhitelistRow,
                      style: Boolean(e.props.fixedRowHeight)
                        ? { height: e.props.fixedRowHeight }
                        : {},
                    },
                    i.createElement("img", {
                      className:
                        m.a.WhitelistAvatar +
                        " " +
                        m.a.Grabbable +
                        " " +
                        (e.state.bGrabbing ? m.a.Grabbing : "") +
                        " " +
                        (e.props.bDisabled ? m.a.DisabledGrab : ""),
                      src: s.a,
                      onMouseDown: Boolean(e.props.bDisabled)
                        ? void 0
                        : function (t) {
                            return e.OnWhitelistGrab(t, a);
                          },
                    }),
                    i.createElement(
                      "div",
                      { className: m.a.WhitelistNumber },
                      a + 1
                    ),
                    t(n),
                    Boolean(e.props.onEdit || e.props.onDelete) &&
                      i.createElement(
                        "div",
                        { className: m.a.ButtonCtn },
                        Boolean(e.props.onEdit) &&
                          i.createElement(
                            "div",
                            {
                              className: g.a.RemoveIcon,
                              onClick: function (t) {
                                return e.props.onEdit(a, t);
                              },
                            },
                            i.createElement(h.r, null)
                          ),
                        Boolean(e.props.onDelete) &&
                          i.createElement("img", {
                            className: g.a.RemoveIcon,
                            src: u.a,
                            onClick: function (t) {
                              return e.props.onDelete(a, t);
                            },
                          })
                      )
                  );
                })
              );
            }),
            Object(a.c)([o.a], t.prototype, "OnWhitelistGrab", null),
            Object(a.c)([o.a], t.prototype, "OnWhitelistRelease", null),
            Object(a.c)([o.a], t.prototype, "OnWhitelistMove", null),
            (t = Object(a.c)([r.a], t))
          );
        })(i.Component);
    },
    "1AZ/": function (e, t, n) {
      "use strict";
      var a, i;
      n.d(t, "b", function () {
        return a;
      }),
        n.d(t, "a", function () {
          return r;
        }),
        (function (e) {
          (e.EditInfo = "apprighteditinfo"),
            (e.Publish = "apprightpublish"),
            (e.ViewErrorData = "apprightviewerrordata"),
            (e.Download = "apprightdownload"),
            (e.UploadCDKeys = "apprightuploadcdkeys"),
            (e.GenerateCDKeys = "apprightgeneratecdkeys"),
            (e.ViewFinancials = "apprightviewfinancials"),
            (e.ManageCEG = "apprightmanageceg"),
            (e.ManagingSigning = "apprightmanagesigning"),
            (e.ManageCDKeys = "apprightmanagecdkeys"),
            (e.EditMarketing = "apprighteditmarketing"),
            (e.EconomySupport = "apprighteconomysupport"),
            (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
            (e.ManagePricing = "appmanagepricing"),
            (e.BroadcastLive = "apprightbroadcastlive"),
            (e.AppRightEditStoreDisplayContent =
              "apprighteditstoredisplaycontent"),
            (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
        })(a || (a = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(i || (i = {}));
      var r = (function () {
        function e() {}
        return (
          (e.ConstructAppRightsMap = function () {
            var t = new Map();
            return (
              e.AppRights.forEach(function (e) {
                return t.set(e.token, e);
              }),
              t
            );
          }),
          (e.ConstructPubRightsMap = function () {
            var t = new Map();
            return (
              e.PubRights.forEach(function (e) {
                return t.set(e.token, e);
              }),
              t
            );
          }),
          (e.GetAppRightFlags = function (t) {
            var n = 0;
            return (
              t.forEach(function (t) {
                n |= e.MapAppRights.get(t).flag;
              }),
              n
            );
          }),
          (e.GetPublisherRightFlags = function (t) {
            var n = 0;
            return (
              t.forEach(function (t) {
                n |= e.MapPubRights.get(t).flag;
              }),
              n
            );
          }),
          (e.AppRights = [
            { flag: 1, token: a.EditInfo },
            { flag: 2, token: a.Publish },
            { flag: 4, token: a.ViewErrorData },
            { flag: 8, token: a.Download },
            { flag: 16, token: a.UploadCDKeys },
            { flag: 32, token: a.GenerateCDKeys },
            { flag: 64, token: a.ViewFinancials },
            { flag: 128, token: a.ManageCEG },
            { flag: 256, token: a.ManagingSigning },
            { flag: 512, token: a.ManageCDKeys },
            { flag: 1024, token: a.EditMarketing },
            { flag: 2048, token: a.EconomySupport },
            { flag: 4096, token: a.EconomySupportSupervisor },
            { flag: 8192, token: a.ManagePricing },
            { flag: 16384, token: a.BroadcastLive },
            { flag: 32768, token: a.AppRightViewMarketingTraffic },
            { flag: 65536, token: a.AppRightEditStoreDisplayContent },
          ]),
          (e.MapAppRights = e.ConstructAppRightsMap()),
          (e.PubRights = [
            { flag: 1, token: i.ManagerUsers },
            { flag: 2, token: i.ActualAuthority },
            { flag: 4, token: i.ViewFinancials },
            { flag: 8, token: i.ApproveWalletFunding },
            { flag: 16, token: i.ManageLicensedSites },
          ]),
          (e.MapPubRights = e.ConstructPubRightsMap()),
          e
        );
      })();
    },
    "1fPh": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return r;
      });
      var a = n("lkRc"),
        i = function () {
          return a.b.IS_OGG ? "games" : "groups";
        },
        r = {
          Home: function (e) {
            return "/" + i() + "/" + e + "/partnerevents";
          },
          Create: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/create";
          },
          Category: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/category/" + t;
          },
          Edit: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/edit/" + t;
          },
          EditRedirectToCategory: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/edit";
          },
          Preview: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/preview/" + t;
          },
          PreviewSale: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/previewsale/" + t;
          },
          View: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/view/" + t;
          },
          List: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/list";
          },
          Publish: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/publish/" + t;
          },
          ViewEventDetails: function (e, t) {
            return "/" + i() + "/" + e + "/announcements/detail/" + t;
          },
          Listing: function (e) {
            return "/" + i() + "/" + e + "/announcements/(listing)?";
          },
          Migrate: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/migrate_announcement/" + t
            );
          },
          MigrateCategory: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/migrate_category_announcement/" +
              t
            );
          },
          ViewOldAnnouncement: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/view_old_announcement/" + t
            );
          },
          PreviewOldAnnouncement: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/preview_old_announcement/" +
              t
            );
          },
          MigrateEvents: function () {
            return "/(migrateevents|migrate)";
          },
          WorkshopHub: function (e) {
            return "/app/" + e + "/workshop/";
          },
          AppHub: function (e) {
            return "/app/" + e;
          },
          GroupHub: function (e) {
            return "/groups/" + e;
          },
          DiagData: function () {
            return "/" + i() + "/:anything*/diagdata";
          },
        };
    },
    "226m": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return s;
      });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("bDQf"),
        l = n("lkRc"),
        s = (function () {
          function e() {
            this.m_mapOptInData = new Map();
          }
          return (
            (e.Get = function () {
              return (
                this.s_Singleton || (this.s_Singleton = new e()),
                this.s_Singleton
              );
            }),
            (e.prototype.ForceLoadOptInPage = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = {
                        sessionid: l.c.SESSIONID,
                        origin: self.origin,
                        cc: l.c.COUNTRY || "US",
                        l: l.c.LANGUAGE,
                        saleid: e,
                      }),
                        (n = l.c.COMMUNITY_BASE_URL + "sale/ajaxoptinsummary"),
                        (i = null),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]), [4, r.a.get(n, { params: t })]
                      );
                    case 2:
                      return (s = a.sent()), (i = s.data), [3, 4];
                    case 3:
                      return (
                        (c = a.sent()),
                        console.error(
                          "Failed getting opt in summary: " +
                            Object(o.a)(c).strErrorMsg
                        ),
                        [3, 4]
                      );
                    case 4:
                      return this.AddOptInPageToCache(e, i), [2, i];
                  }
                });
              });
            }),
            (e.prototype.AddOptInPageToCache = function (e, t) {
              var n = new Map();
              if (t && t.success)
                for (var a = 0, i = t.opted_in; a < i.length; a++) {
                  var r = i[a];
                  n.set(r.appid, r);
                }
              this.m_mapOptInData.set(e, n);
            }),
            (e.prototype.HintLoadOptInPageData = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.GetOptInPageData(e)
                        ? [2]
                        : [4, this.ForceLoadOptInPage(e)];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.GetOptInPageData = function (e) {
              return this.m_mapOptInData.get(e);
            }),
            e
          );
        })();
    },
    "3yM6": function (e, t, n) {
      e.exports = { SearchResults: "partnersaledebug_SearchResults_26iJ3" };
    },
    "4lry": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return R;
      }),
        n.d(t, "b", function () {
          return W;
        });
      var a = n("mrSG"),
        i = n("fcuX"),
        r = n("KP/B"),
        o = n("vDqi"),
        l = n.n(o),
        s = n("mgoM"),
        c = n("3+zv"),
        u = n("bDQf"),
        d = n("lkRc"),
        p = new ((function () {
          function e(e) {
            void 0 === e && (e = null),
              (this.m_rgCategoriesForTagID = null),
              (this.m_rgTagNameForTagID = null),
              (this.m_rgAtomicTagIDsForTagID = null),
              (this.m_rgLocalizedCategoryNames = null),
              (this.m_rgLocalizedTagNames = null),
              (this.m_rgLanguages = null),
              e && this.ParseResponse(e);
          }
          return (
            (e.prototype.GetCategoriesForTagID = function () {
              return this.m_rgCategoriesForTagID;
            }),
            (e.prototype.GetTagNameForTagID = function () {
              return this.m_rgTagNameForTagID;
            }),
            (e.prototype.GetAtomicTagIDsForTagID = function () {
              return this.m_rgAtomicTagIDsForTagID;
            }),
            (e.prototype.GetLocalizedCategoryNames = function () {
              return this.m_rgLocalizedCategoryNames;
            }),
            (e.prototype.GetLocalizedTagNames = function () {
              return this.m_rgLocalizedTagNames;
            }),
            (e.prototype.GetLanguages = function () {
              return this.m_rgLanguages;
            }),
            (e.prototype.AutoGenerateFacets = function () {
              var e = this.ComputeLocalizedCategoryNames(),
                t = this.ComputeLocalizedTagNames(),
                n = this.ComputeCategoryToTagMap(),
                a = this.FindNonAtomicTags(),
                i = this.ComputeFacetCategoryToTagMap(n, a),
                r = this.ComputeAtomicTagToTagsMap();
              return this.ComputeFacets(i, r, e, t);
            }),
            (e.prototype.AutoGenerateFacetsAsync = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.EnsureLoaded()];
                    case 1:
                      return e.sent(), [2, this.AutoGenerateFacets()];
                  }
                });
              });
            }),
            (e.prototype.BIsTagAtomic = function (e) {
              return (
                this.m_rgAtomicTagIDsForTagID.has(e) &&
                this.m_rgAtomicTagIDsForTagID.get(e).includes(e)
              );
            }),
            (e.prototype.ParseResponse = function (e) {
              (this.m_rgCategoriesForTagID = new Map()),
                (this.m_rgTagNameForTagID = new Map()),
                (this.m_rgAtomicTagIDsForTagID = new Map()),
                (this.m_rgLocalizedCategoryNames = new Map()),
                (this.m_rgLocalizedTagNames = new Map()),
                (this.m_rgLanguages = new Array());
              for (
                var t = 0, n = Object.keys(e.rgCategoriesByTag);
                t < n.length;
                t++
              ) {
                var a = n[t];
                this.m_rgCategoriesForTagID.set(
                  Number(a),
                  Array.from(e.rgCategoriesByTag[a])
                );
              }
              for (
                var i = 0, r = Object.keys(e.rgTagNames);
                i < r.length;
                i++
              ) {
                a = r[i];
                this.m_rgTagNameForTagID.set(Number(a), e.rgTagNames[a]);
              }
              for (
                var o = 0, l = Object.keys(e.rgTagBreakdown);
                o < l.length;
                o++
              ) {
                a = l[o];
                this.m_rgAtomicTagIDsForTagID.set(
                  Number(a),
                  Array.from(e.rgTagBreakdown[a]).map(function (e) {
                    return Number(e);
                  })
                );
              }
              for (
                var s = 0, c = Object.keys(e.rgLocalizedCategoryNames);
                s < c.length;
                s++
              ) {
                var u = c[s];
                this.m_rgLocalizedCategoryNames.set(
                  u,
                  Array.from(e.rgLocalizedCategoryNames[u])
                );
              }
              for (
                var d = 0, p = Object.keys(e.rgLocalizedTagNames);
                d < p.length;
                d++
              ) {
                a = p[d];
                this.m_rgLocalizedTagNames.set(
                  Number(a),
                  Array.from(e.rgLocalizedTagNames[a])
                );
              }
              this.m_rgLanguages = Array.from(e.rgLanguages);
            }),
            (e.prototype.EnsureLoaded = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e;
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.m_rgCategoriesForTagID
                        ? [2]
                        : [4, this.Load()];
                    case 1:
                      return (e = t.sent()), this.ParseResponse(e), [2];
                  }
                });
              });
            }),
            (e.prototype.Load = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (e = null), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [
                          4,
                          l.a.get(
                            d.c.COMMUNITY_BASE_URL +
                              "sale/ajaxgetcategoriesbytag"
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (t = a.sent()),
                        1 !== (null == (e = t.data) ? void 0 : e.success)
                          ? (console.error(
                              "Unable to load tag category data: " +
                                (null == e ? void 0 : e.success)
                            ),
                            [2, null])
                          : [3, 4]
                      );
                    case 3:
                      return (
                        (n = a.sent()),
                        console.error(
                          "Unable to load tag category data: " +
                            Object(u.a)(n).strErrorMsg
                        ),
                        [2, null]
                      );
                    case 4:
                      return [2, e];
                  }
                });
              });
            }),
            (e.prototype.Verify = function (e) {
              for (
                var t = new Set(),
                  n = new Set(),
                  a = Object.keys(e.rgTagBreakdown),
                  i = Object.keys(e.rgTagNames),
                  r = Object.keys(e.rgCategoriesByTag),
                  o = 0,
                  l = a;
                o < l.length;
                o++
              )
                for (
                  var s = l[o], c = 0, u = e.rgTagBreakdown[s].flat();
                  c < u.length;
                  c++
                ) {
                  var d = u[c];
                  i.includes(d.toString()) || t.add(d),
                    (r.includes(d.toString()) &&
                      e.rgCategoriesByTag[d] &&
                      0 !== e.rgCategoriesByTag[d].length) ||
                      n.add(d);
                }
              console.log(t.size + " un-named tags."),
                t.size > 0 && console.log(t),
                console.log(n.size + " un-categorized tags."),
                n.size > 0 && console.log(n);
            }),
            (e.prototype.ComputeCategoryToTagMap = function () {
              var e = new Map();
              return (
                this.m_rgCategoriesForTagID.forEach(function (t, n) {
                  if (t)
                    for (var a = 0, i = t; a < i.length; a++) {
                      var r = i[a];
                      e.has(r) || e.set(r, new Array()), e.get(r).push(n);
                    }
                }),
                e
              );
            }),
            (e.prototype.FindNonAtomicTags = function () {
              var e = new Set();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, n) {
                  1 !== t.length && e.add(n);
                }),
                e
              );
            }),
            (e.prototype.ComputeFacetCategoryToTagMap = function (e, t) {
              for (
                var n = new Set(),
                  a = new Map(),
                  i = function (i, r) {
                    for (var o = 0, l = e.get(r); o < l.length; o++) {
                      var s = l[o];
                      n.has(s) || t.has(s) || (n.add(s), a.get(i).push(s));
                    }
                  },
                  r = 0,
                  o = [
                    "supergenre",
                    "genre",
                    "subgenre",
                    "visuals",
                    "theme_mood",
                    "feature",
                    "players",
                  ];
                r < o.length;
                r++
              ) {
                var l = o[r];
                a.set(l, new Array()),
                  "theme_mood" === l ? (i(l, "theme"), i(l, "mood")) : i(l, l);
              }
              return a;
            }),
            (e.prototype.ComputeLocalizedCategoryNames = function () {
              var e = new Map();
              e.set("supergenre", "#App_Taxonomy_Survey_QSuperGenreTitle"),
                e.set("genre", "#App_Taxonomy_Survey_QGenreTitle"),
                e.set("subgenre", "#App_Taxonomy_Survey_QSubGenreTitle"),
                e.set("visuals", "#App_Taxonomy_Survey_QVisualsTitle"),
                e.set("theme_mood", "#App_Taxonomy_Survey_QThemeMoodTitle"),
                e.set("feature", "#App_Taxonomy_Survey_QFeaturesTitle"),
                e.set("players", "#App_Taxonomy_Survey_QPlayersTitle");
              var t = new Map();
              return (
                this.m_rgLocalizedCategoryNames.forEach(function (n, a) {
                  var i = new Array(30);
                  (i[0] = e.get(a)), t.set(a, i);
                }),
                t
              );
            }),
            (e.prototype.ComputeLocalizedTagNames = function () {
              var e = this,
                t = new Map();
              return (
                this.m_rgLocalizedTagNames.forEach(function (n, a) {
                  var i = n,
                    r = new Array(30);
                  r.fill(""),
                    e.m_rgLanguages.forEach(function (e, t) {
                      var n = Object(s.d)(e, -1);
                      -1 === n
                        ? console.warn("Unrecognized language: " + e)
                        : 0 <= n && n < 30 && (r[n] = i[t]);
                    }),
                    t.set(a, r);
                }),
                t
              );
            }),
            (e.prototype.ComputeAtomicTagToTagsMap = function () {
              var e = new Map();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, n) {
                  for (var a = 0, i = t; a < i.length; a++) {
                    var r = i[a],
                      o = Number(r);
                    e.has(o) || e.set(o, new Array()), e.get(o).push(n);
                  }
                }),
                e
              );
            }),
            (e.prototype.ComputeFacets = function (e, t, n, a) {
              var i = new Array();
              return (
                e.forEach(function (e, r) {
                  for (
                    var o = { name: n.get(r), facetValues: new Array() },
                      l = Array(),
                      s = 0,
                      u = e;
                    s < u.length;
                    s++
                  ) {
                    var d = u[s];
                    if (a.get(d)) {
                      var p = {
                        name: a.get(d),
                        subtitle: new Array(),
                        rgStoreTagFilter: {
                          type: c.n.k_EStoreFilterClauseTypeAnd,
                          rgSubexpressions: [
                            {
                              type: c.n.k_EStoreFilterClauseTypeOr,
                              rgSubexpressions: t.has(d)
                                ? t.get(d).map(function (e) {
                                    return {
                                      type:
                                        c.n.k_EStoreFilterClauseTypeStoreTag,
                                      value: e,
                                    };
                                  })
                                : [
                                    {
                                      type:
                                        c.n.k_EStoreFilterClauseTypeStoreTag,
                                      value: d,
                                    },
                                  ],
                            },
                          ],
                        },
                        nAtomicStoreTagID: d,
                        filter: null,
                        matchingCapsules: [],
                      };
                      o.facetValues.push(p);
                    } else l.push(d);
                  }
                  l.length > 0 &&
                    console.warn(
                      "No name information found for tag count " +
                        l.length +
                        ", skipping.",
                      l
                    ),
                    i.push(o);
                }),
                i
              );
            }),
            e
          );
        })())(),
        m = n("TyAF"),
        _ = n("q1tI"),
        g = n("TtDX"),
        h = n("Mgs7"),
        f = n("IjL/"),
        b = n("Jqb/"),
        v = n("ka0M"),
        E = n("0rc7"),
        S = n("0OaU"),
        y = n("exH9"),
        O = n("TLQK"),
        T = n("h5LU"),
        C = n("Vitc"),
        j = n("as1E"),
        I = n("k3PP"),
        w = n("oqmg"),
        M = n("IMce"),
        D = n("UvY0"),
        k = n("vBFs"),
        G = n("gyoR"),
        L = n("5eAM"),
        A = Object(m.a)(function (e) {
          var t = e.language,
            n = e.facetValue,
            a = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = function (e) {
              if ("name" === e.target.name) {
                var a = n.name,
                  i = O.a.Set(a || [], t, e.target.value);
                n.name = i;
              } else if ("subtitle" === e.target.name) {
                var o = n.subtitle,
                  l = O.a.Set(o || [], t, e.target.value);
                n.subtitle = l;
              }
              r();
            },
            l = function (e) {
              (n.filter = e), r();
            },
            u = [
              {
                label: Object(O.f)("#Sale_TagFilter_Filter"),
                data: c.l.k_ESaleTagFilter,
              },
              { label: Object(O.f)("#LanguageTitle"), data: c.l.k_ELanguage },
              {
                label: Object(O.f)("#Browse_Sale_Mature_Themes"),
                data: c.l.k_EContentDescriptor,
              },
              {
                label: Object(O.f)("#Sale_Preferences"),
                data: c.l.k_EUserPreference,
              },
              {
                label: Object(O.f)("#Sale_BrowserSortOption_Price"),
                data: c.l.k_EPrice,
              },
              {
                label: Object(O.f)("#AppTypeLabelTitle"),
                data: c.l.k_EAppType,
              },
            ],
            p = [
              { label: Object(O.f)("#Browse_Sale_Mature_Feature"), data: 5 },
              { label: Object(O.f)("#Browse_sale_Violence_Feature"), data: 2 },
              { label: Object(O.f)("#Browse_Sale_Sexual_Feature"), data: 1 },
              { label: Object(O.f)("#Browse_Sale_Adult_Feature"), data: 3 },
            ],
            m = [
              {
                label: Object(O.f)("#UserPreference_HideOwnedItems"),
                data: c.m.k_EHideOwnedItems,
              },
              {
                label: Object(O.f)("#UserPreference_HideWishlistedItems"),
                data: c.m.k_EHideWishlistedItems,
              },
              {
                label: Object(O.f)("#UserPreference_HideIgnoredItems"),
                data: c.m.k_EHideIgnoredItems,
              },
            ],
            g = [
              { label: Object(O.f)("#AppTypeLabel_game"), data: "game" },
              {
                label: Object(O.f)("#AppTypeLabel_software"),
                data: "software",
              },
              { label: Object(O.f)("#AppTypeLabel_dlc"), data: "dlc" },
              { label: Object(O.f)("#AppTypeLabel_demo"), data: "demo" },
              { label: Object(O.f)("#AppTypeLabel_music"), data: "music" },
              { label: Object(O.f)("#AppTypeLabel_video"), data: "video" },
              {
                label: Object(O.f)("#AppTypeLabel_hardware"),
                data: "hardware",
              },
            ];
          return _.createElement(
            "div",
            {
              className: Object(y.a)(
                j.FilterDisplayCtn,
                C.FacetValueFilterDisplayCtn
              ),
            },
            _.createElement(
              "div",
              null,
              _.createElement(h.n, null, Object(O.f)("#EventEditor_TypeTitle")),
              _.createElement(h.i, {
                rgOptions: u,
                selectedOption: n.type || c.l.k_ESaleTagFilter,
                onChange: function (e) {
                  (n.type = e.data),
                    n.type === c.l.k_ELanguage &&
                      null == n.language &&
                      (n.language = Object(s.d)(d.c.LANGUAGE)),
                    n.type === c.l.k_EContentDescriptor &&
                      null == n.contentDescriptor &&
                      (n.contentDescriptor = 5),
                    n.type === c.l.k_EUserPreference &&
                      null == n.userPreference &&
                      (n.userPreference = c.m.k_EHideOwnedItems),
                    n.type === c.l.k_EAppType &&
                      null == n.appType &&
                      (n.appType = "game"),
                    r();
                },
              })
            ),
            _.createElement(
              "div",
              { className: C.FacetValueCtn },
              _.createElement(h.m, {
                name: "name",
                label: Object(O.f)("#FacetedBrowseEditor_Name"),
                tooltip: Object(O.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Name"
                ),
                value: O.a.Get(n.name, t),
                onChange: o,
              }),
              _.createElement(h.m, {
                name: "subtitle",
                label: Object(O.f)("#FacetedBrowseEditor_Subtitle"),
                tooltip: Object(O.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Subtitle"
                ),
                value: O.a.Get(n.subtitle, t),
                onChange: o,
              }),
              (n.type === c.l.k_ESaleTagFilter || void 0 === n.type) &&
                _.createElement(
                  "div",
                  null,
                  _.createElement(
                    h.n,
                    null,
                    Object(O.f)("#Sale_TagFilter_Filter")
                  ),
                  _.createElement(
                    "div",
                    null,
                    _.createElement(
                      h.d,
                      {
                        onClick: function () {
                          Object(v.c)(
                            _.createElement(w.a, {
                              editModel: a,
                              filter: n.filter,
                              title: Object(O.f)("#Sale_TagFilter_EditFilter"),
                              onApplyFilter: l,
                              ignoreStartingReferences: i,
                            }),
                            window
                          );
                        },
                      },
                      Object(O.f)("#Sale_TagFilter_EditFilter")
                    )
                  )
                ),
              n.type === c.l.k_ELanguage &&
                _.createElement(
                  "div",
                  null,
                  _.createElement(h.n, null, Object(O.f)("#LanguageTitle")),
                  _.createElement(
                    "div",
                    null,
                    _.createElement(k.a, {
                      selectedLang: n.language || Object(s.d)(d.c.LANGUAGE),
                      fnOnLanguageChanged: function (e) {
                        (n.language = e), r();
                      },
                    })
                  )
                ),
              n.type === c.l.k_EContentDescriptor &&
                _.createElement(
                  "div",
                  null,
                  _.createElement(h.n, null, Object(O.f)("#ContentDescriptor")),
                  _.createElement(
                    "div",
                    null,
                    _.createElement(h.i, {
                      rgOptions: p,
                      selectedOption: n.contentDescriptor || 5,
                      onChange: function (e) {
                        (n.contentDescriptor = e.data), r();
                      },
                    })
                  )
                ),
              n.type === c.l.k_EUserPreference &&
                _.createElement(
                  "div",
                  null,
                  _.createElement(h.n, null, Object(O.f)("#Sale_Preferences")),
                  _.createElement(
                    "div",
                    null,
                    _.createElement(h.i, {
                      rgOptions: m,
                      selectedOption: n.userPreference || c.m.k_EHideOwnedItems,
                      onChange: function (e) {
                        (n.userPreference = e.data), r();
                      },
                    })
                  )
                ),
              n.type === c.l.k_EAppType &&
                _.createElement(
                  "div",
                  null,
                  _.createElement(h.n, null, Object(O.f)("#AppTypeLabelTitle")),
                  _.createElement(
                    "div",
                    null,
                    _.createElement(h.i, {
                      rgOptions: g,
                      selectedOption: n.appType || "game",
                      onChange: function (e) {
                        (n.appType = e.data), r();
                      },
                    })
                  )
                )
            ),
            n.type !== c.l.k_EPrice &&
              _.createElement(
                "div",
                null,
                _.createElement(h.e, {
                  label: Object(O.f)("#FacetedBrowseEditor_EnabledByDefault"),
                  checked: n.bEnabledByDefault,
                  onChange: function (e) {
                    (n.bEnabledByDefault = e), r();
                  },
                })
              )
          );
        }),
        B = Object(m.a)(function (e) {
          var t = e.language,
            n = e.facet,
            a = e.facetValueArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = e.fnNotifyExpanded,
            s = _.useState(!1),
            c = s[0],
            u = s[1];
          return _.createElement(
            _.Fragment,
            null,
            _.createElement(
              "div",
              { className: j.SaleSectionTitleHeader },
              _.createElement(
                "div",
                { className: j.EventEditorTextTitle },
                Object(O.f)(
                  "#FacetedBrowseEditor_NumFacetValues",
                  a.length.toString()
                )
              ),
              _.createElement(I.b, {
                bIsMinimized: !c,
                fnToggleMinimize: function () {
                  l(!c), u(!c);
                },
              })
            ),
            c &&
              _.createElement(
                _.Fragment,
                null,
                _.createElement(E.a, {
                  items: a,
                  onDelete: function (e, t) {
                    a.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return _.createElement(A, {
                      language: t,
                      facetValue: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                    });
                  },
                }),
                _.createElement(
                  h.d,
                  {
                    onClick: function (e) {
                      a.push({
                        unique_id: i.GenerateFacetValueUniqueID(n),
                        name: [],
                        subtitle: [],
                        filter: { clauses: [] },
                        rgStoreTagFilter: null,
                        matchingCapsules: null,
                      }),
                        o();
                    },
                  },
                  Object(O.f)("#FacetedBrowseEditor_AddFacetValue")
                )
              )
          );
        }),
        N = Object(m.a)(function (e) {
          var t = e.language,
            n = e.facet,
            a = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = e.fnNotifyExpanded;
          return _.createElement(
            "div",
            {
              className: Object(y.a)(
                j.FilterDisplayCtn,
                C.FacetFilterDisplayCtn
              ),
            },
            _.createElement(h.m, {
              name: "name",
              label: Object(O.f)("#FacetedBrowseEditor_Name"),
              tooltip: Object(O.f)("#FacetedBrowseEditor_Tooltip_Facet_Name"),
              value: O.a.Get(n.name, t),
              onChange: function (e) {
                if ("name" === e.target.name) {
                  var a = n.name,
                    i = O.a.Set(a || [], t, e.target.value);
                  n.name = i;
                }
                r();
              },
            }),
            _.createElement(B, {
              language: t,
              facet: n,
              facetValueArray: n.facetValues,
              editModel: a,
              capsuleContainer: i,
              fnMarkEditModelDirty: r,
              fnNotifyExpanded: o,
            })
          );
        }),
        F = Object(m.a)(function (e) {
          var t = e.language,
            n = e.section,
            a = e.facetArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = _.useState(!1),
            s = l[0],
            c = l[1],
            u = _.useState(!1),
            d = u[0],
            p = u[1],
            m = function (e) {
              p(e);
            };
          return _.createElement(
            _.Fragment,
            null,
            _.createElement(
              "div",
              { className: j.SaleSectionTitleHeader },
              _.createElement(
                "div",
                { className: j.EventEditorTextTitle },
                Object(O.f)(
                  "#FacetedBrowseEditor_NumFacets",
                  a.length.toString()
                )
              ),
              _.createElement(I.b, {
                bIsMinimized: !s,
                fnToggleMinimize: function () {
                  c(!s);
                },
              })
            ),
            s &&
              _.createElement(
                _.Fragment,
                null,
                _.createElement(E.a, {
                  items: a,
                  onDelete: function (e, t) {
                    a.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return _.createElement(N, {
                      language: t,
                      facet: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                      fnNotifyExpanded: m,
                    });
                  },
                  bDisabled: d,
                }),
                _.createElement(
                  h.d,
                  {
                    onClick: function (e) {
                      a.push({
                        unique_id: i.GenerateFacetUniqueID(n),
                        name: [],
                        facetValues: [],
                      }),
                        o();
                    },
                  },
                  Object(O.f)("#FacetedBrowseEditor_AddFacet")
                )
              )
          );
        }),
        R = Object(m.a)(function (e) {
          var t = e.section,
            n = e.capsuleContainer,
            o = e.editModel,
            l = e.bAllowPruneFacets,
            s = void 0 !== l && l,
            u = Object(_.useState)(!1),
            d = u[0],
            p = u[1],
            m = function () {
              o.SetDirty(i.c.jsondata_sales);
            },
            E = [
              {
                label: Object(O.f)("#FacetedBrowseEditor_SortFacetValues_Name"),
                tooltip: Object(O.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByName"
                ),
                data: c.k.k_ESortFacetsByName,
              },
              {
                label: Object(O.f)(
                  "#FacetedBrowseEditor_SortFacetValues_MatchCount"
                ),
                tooltip: Object(O.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByCount"
                ),
                data: c.k.k_ESortFacetsByMatchCount,
              },
              {
                label: Object(O.f)(
                  "#FacetedBrowseEditor_SortFacetValues_Manual"
                ),
                tooltip: Object(O.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_Manual"
                ),
                data: c.k.k_ESortFacetsManually,
              },
            ],
            y = function () {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var e, t, l, s;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = o.GetEventModel().GetTaggedItems()),
                        [4, x(n.facets, e)]
                      );
                    case 1:
                      for (a.sent(), t = 0, l = n.facets; t < l.length; t++)
                        (s = l[t]).facetValues = s.facetValues.filter(function (
                          t
                        ) {
                          return t.type === c.l.k_ELanguage
                            ? e.some(function (e) {
                                return L.a
                                  .GetAppLinkInfo(e.capsule.id)
                                  .localized_langs.includes(t.language);
                              })
                            : t.type === c.l.k_EContentDescriptor
                            ? e.some(function (e) {
                                var n = L.a.GetAppLinkInfo(e.capsule.id);
                                return (
                                  Boolean(n) &&
                                  n.content_descriptors.includes(
                                    t.contentDescriptor
                                  )
                                );
                              })
                            : t.type === c.l.k_EAppType
                            ? e.some(function (e) {
                                var n = L.a.GetAppLinkInfo(e.capsule.id);
                                return Boolean(n) && n.type === t.appType;
                              })
                            : t.type === c.l.k_EUserPreference ||
                              t.type === c.l.k_EPrice ||
                              e.some(function (e) {
                                return Object(r.h)(e.tags, t.filter);
                              });
                        });
                      return o.SetDirty(i.c.jsondata_sales), [2];
                  }
                });
              });
            };
          return _.createElement(
            f.a,
            null,
            _.createElement(
              D.b,
              { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
              _.createElement(h.q, {
                label: Object(O.f)("#FacetedBrowseEditor_FacetsCheckbox"),
                description: Object(O.f)(
                  "#FacetedBrowseEditor_FacetsCheckboxHelp"
                ),
                checked: n.enable_faceted_browsing,
                onChange: function (e) {
                  (n.enable_faceted_browsing = e),
                    e && !n.facets && (n.facets = []),
                    o.SetDirty(i.c.jsondata_sales);
                },
              }),
              n.enable_faceted_browsing &&
                _.createElement(
                  "div",
                  { className: j.FilterDisplayCtn },
                  _.createElement(
                    "div",
                    { className: M.FilterDisplayCtn },
                    _.createElement(
                      "div",
                      { className: M.FilterTitle },
                      Object(O.f)("#FacetedBrowseEditor_FacetsSection")
                    )
                  ),
                  _.createElement(
                    "div",
                    { className: M.FilterDisplayCtn },
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement("span", null),
                      _.createElement(
                        h.d,
                        {
                          onClick: function (e) {
                            Object(g.a)(
                              _.createElement(T.a, {
                                onChange: function (e) {
                                  (n.highlighted_facet_color = e), m();
                                },
                                color: n.highlighted_facet_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: n.highlighted_facet_color },
                        },
                        Object(O.f)(
                          "#FacetedBrowseEditor_HighlightedFacetColor"
                        )
                      )
                    ),
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement("span", null),
                      _.createElement(
                        h.d,
                        {
                          onClick: function (e) {
                            Object(g.a)(
                              _.createElement(T.a, {
                                onChange: function (e) {
                                  (n.heading_color = e), m();
                                },
                                color: n.heading_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: n.heading_color },
                        },
                        Object(O.f)("#FacetedBrowseEditor_HeadingColor")
                      )
                    ),
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement(
                        "span",
                        null,
                        Object(O.f)("#FacetedBrowseEditor_AutoGenerate"),
                        _.createElement(I.d, {
                          tooltip: Object(O.f)(
                            "#FacetedBrowseEditor_Tooltip_AutoGenerate"
                          ),
                        })
                      ),
                      _.createElement(
                        h.d,
                        {
                          onClick: function () {
                            var e,
                              t = function () {
                                Object(v.c)(
                                  _.createElement(V, {
                                    onOK: function (e) {
                                      return (function (e) {
                                        return Object(a.b)(
                                          void 0,
                                          void 0,
                                          void 0,
                                          function () {
                                            var t;
                                            return Object(a.e)(
                                              this,
                                              function (a) {
                                                switch (a.label) {
                                                  case 0:
                                                    p(!0), (a.label = 1);
                                                  case 1:
                                                    return (
                                                      a.trys.push([1, , 5, 6]),
                                                      (t = n),
                                                      [4, P(e)]
                                                    );
                                                  case 2:
                                                    return (
                                                      (t.facets = a.sent()),
                                                      s ? [4, y()] : [3, 4]
                                                    );
                                                  case 3:
                                                    a.sent(), (a.label = 4);
                                                  case 4:
                                                    return (
                                                      o.SetDirty(
                                                        i.c.jsondata_sales
                                                      ),
                                                      [3, 6]
                                                    );
                                                  case 5:
                                                    return p(!1), [7];
                                                  case 6:
                                                    return [2];
                                                }
                                              }
                                            );
                                          }
                                        );
                                      })(e);
                                    },
                                  }),
                                  window
                                );
                              };
                            (null === (e = n.facets) || void 0 === e
                              ? void 0
                              : e.length) > 0
                              ? Object(v.c)(
                                  _.createElement(b.d, {
                                    strTitle: Object(O.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogTitle"
                                    ),
                                    strDescription: Object(O.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogText"
                                    ),
                                    onOK: t,
                                  }),
                                  window
                                )
                              : t();
                          },
                        },
                        Object(O.f)("#FacetedBrowseEditor_AutoGenerateButton")
                      )
                    ),
                    s &&
                      _.createElement(
                        "div",
                        { className: M.FilterActionsCtn },
                        _.createElement(
                          "span",
                          null,
                          Object(O.f)("#FacetedBrowseEditor_PruneUnused"),
                          _.createElement(I.d, {
                            tooltip: Object(O.f)(
                              "#FacetedBrowseEditor_Tooltip_PruneUnused"
                            ),
                          })
                        ),
                        _.createElement(
                          h.d,
                          { onClick: y },
                          Object(O.f)("#FacetedBrowseEditor_PruneUnusedButton")
                        )
                      ),
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement(
                        "span",
                        null,
                        Object(O.f)("#FacetedBrowseEditor_MinMatchesText"),
                        _.createElement(I.d, {
                          tooltip: Object(O.f)(
                            "#FacetedBrowseEditor_Tooltip_MinMatches"
                          ),
                        })
                      ),
                      _.createElement(
                        "div",
                        { className: M.FilterSettingRightCol },
                        _.createElement(h.m, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: n.min_capsule_matches_for_facet_values,
                          onChange: function (e) {
                            (n.min_capsule_matches_for_facet_values = Number(
                              e.target.value
                            )),
                              m();
                          },
                        })
                      )
                    ),
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement(
                        "span",
                        null,
                        Object(O.f)("#FacetedBrowseEditor_MaxFacetValuesText"),
                        _.createElement(I.d, {
                          tooltip: Object(O.f)(
                            "#FacetedBrowseEditor_Tooltip_MaxFacetValues"
                          ),
                        })
                      ),
                      _.createElement(
                        "div",
                        { className: M.FilterSettingRightCol },
                        _.createElement(h.m, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: n.max_facet_values_for_facet,
                          onChange: function (e) {
                            (n.max_facet_values_for_facet = Number(
                              e.target.value
                            )),
                              m();
                          },
                        })
                      )
                    ),
                    _.createElement(
                      "div",
                      { className: M.FilterActionsCtn },
                      _.createElement(
                        "span",
                        null,
                        Object(O.f)("#FacetedBrowseEditor_SortFacetValuesText"),
                        _.createElement(I.d, {
                          tooltip: Object(O.f)(
                            "#FacetedBrowseEditor_Tooltip_SortFacetValues"
                          ),
                        })
                      ),
                      _.createElement(
                        "div",
                        { className: M.FilterSettingRightCol },
                        _.createElement(h.i, {
                          rgOptions: E,
                          selectedOption: n.facet_sort_order,
                          onChange: function (e) {
                            (n.facet_sort_order = e.data), m();
                          },
                        })
                      )
                    ),
                    _.createElement(
                      D.b,
                      { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
                      H(t) &&
                        _.createElement(
                          "div",
                          { className: M.FilterActionsCtn },
                          _.createElement(
                            "span",
                            null,
                            Object(O.f)(
                              "#FacetedBrowseEditor_GenerateDebugInfo"
                            )
                          ),
                          _.createElement(
                            "div",
                            { className: M.FilterSettingRightCol },
                            _.createElement(h.e, {
                              checked: n.facets_generate_debug_info,
                              onChange: function (e) {
                                (n.facets_generate_debug_info = e), m();
                              },
                            })
                          )
                        )
                    )
                  ),
                  d
                    ? _.createElement(S.a, null)
                    : _.createElement(F, {
                        language: o.GetCurEditLanguage(),
                        section: t,
                        facetArray: n.facets,
                        editModel: o,
                        capsuleContainer: n,
                        fnMarkEditModelDirty: m,
                      })
                )
            )
          );
        });
      function x(e, t) {
        return Object(a.b)(this, void 0, void 0, function () {
          var n, i;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                if (
                  !e.some(function (e) {
                    return e.facetValues.some(function (e) {
                      return (
                        e.type === c.l.k_ELanguage ||
                        e.type === c.l.k_EContentDescriptor ||
                        e.type === c.l.k_EAppType
                      );
                    });
                  })
                )
                  return [3, 4];
                (n = t.map(function (e) {
                  return e.capsule;
                })),
                  (a.label = 1);
              case 1:
                return a.trys.push([1, 3, , 4]), [4, Object(G.i)(n)];
              case 2:
                return a.sent(), [3, 4];
              case 3:
                return (i = a.sent()), console.error(i), [3, 4];
              case 4:
                return [2];
            }
          });
        });
      }
      function P(e) {
        return Object(a.b)(this, void 0, void 0, function () {
          var t;
          return Object(a.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return [4, p.AutoGenerateFacetsAsync()];
              case 1:
                return (
                  (function (e) {
                    for (
                      var t = p.GetAtomicTagIDsForTagID(),
                        n = p.GetTagNameForTagID(),
                        a = 0,
                        i = e;
                      a < i.length;
                      a++
                    )
                      for (var r = 0, o = i[a].facetValues; r < o.length; r++) {
                        var l = o[r],
                          s = l.nAtomicStoreTagID,
                          u = t.has(s)
                            ? t.get(s).map(function (e) {
                                return n.get(e);
                              })
                            : [n.get(s)];
                        (u = u.map(function (e) {
                          return U(e);
                        })),
                          (l.type = c.l.k_ESaleTagFilter),
                          (l.filter = {
                            clauses: [{ type: "Must have", or_tags: u }],
                          });
                      }
                  })((t = n.sent())),
                  e.bForceFeatureTagForFullController &&
                    (function (e) {
                      e.forEach(function (e) {
                        e.facetValues.forEach(function (e) {
                          e.type === c.l.k_ESaleTagFilter &&
                            e.filter.clauses.forEach(function (e) {
                              e.or_tags.forEach(function (t, n) {
                                var a = Object(r.k)(t),
                                  i = Object(r.s)(t).toLocaleLowerCase();
                                a === r.j.Store &&
                                  "controller" === i &&
                                  (e.or_tags[n] = Object(r.f)(
                                    "Full Controller",
                                    r.j.Feature
                                  ));
                              });
                            });
                        });
                      });
                    })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#AppTypeLabelTitle"], facetValues: [] },
                        n = 0,
                        a = [
                          "game",
                          "software",
                          "dlc",
                          "demo",
                          "music",
                          "video",
                          "hardware",
                        ];
                      n < a.length;
                      n++
                    ) {
                      var i = a[n];
                      t.facetValues.push({
                        name: ["#AppTypeLabel_" + i],
                        type: c.l.k_EAppType,
                        appType: i,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    }
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Platform"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#Platform_Windows"],
                      type: c.l.k_ESaleTagFilter,
                      filter: {
                        clauses: [
                          { type: "Must have", or_tags: ["[Feature] Windows"] },
                        ],
                      },
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#Platform_Linux"],
                        type: c.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Linux"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#Platform_Mac"],
                        type: c.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Mac"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#LanguageTitle"], facetValues: [] },
                        n = 0;
                      n < 30;
                      ++n
                    )
                      t.facetValues.push({
                        name: ["#language_selection_" + Object(s.a)(n)],
                        type: c.l.k_ELanguage,
                        language: n,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#ContentDescriptor"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#ContentDescriptor_GeneralMatureContent"],
                      type: c.l.k_EContentDescriptor,
                      contentDescriptor: 5,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_FrequentViolenceOrGore"],
                        type: c.l.k_EContentDescriptor,
                        contentDescriptor: 2,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_NudityOrSexualContent"],
                        type: c.l.k_EContentDescriptor,
                        contentDescriptor: 1,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_AdultOnlySexualContent"],
                        type: c.l.k_EContentDescriptor,
                        contentDescriptor: 3,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Sale_Preferences"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#UserPreference_HideOwnedItems"],
                      type: c.l.k_EUserPreference,
                      userPreference: c.m.k_EHideOwnedItems,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideWishlistedItems"],
                        type: c.l.k_EUserPreference,
                        userPreference: c.m.k_EHideWishlistedItems,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideIgnoredItems"],
                        type: c.l.k_EUserPreference,
                        userPreference: c.m.k_EHideIgnoredItems,
                        bEnabledByDefault: !0,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  [2, t]
                );
            }
          });
        });
      }
      function U(e) {
        return Object(r.f)(e, r.j.Store);
      }
      var V = Object(m.a)(function (e) {
        var t = e.closeModal,
          n = e.onOK,
          a = Object(_.useState)(!1),
          i = a[0],
          r = a[1];
        return _.createElement(
          b.e,
          { onCancel: t, closeModal: t },
          _.createElement(
            h.l,
            null,
            Object(O.f)("#FacetedBrowseEditor_AutoGenerate")
          ),
          _.createElement(
            h.b,
            null,
            _.createElement(h.e, {
              label: Object(O.f)(
                "#FacetedBrowseEditor_AutoGenerateOptions_FeatureTagForController"
              ),
              checked: i,
              onChange: function (e) {
                r(e);
              },
            })
          ),
          _.createElement(
            h.k,
            null,
            _.createElement(
              h.r,
              {
                onClick: function () {
                  n({ bForceFeatureTagForFullController: i }), t();
                },
              },
              Object(O.f)("#Button_OK")
            ),
            _.createElement(h.d, { onClick: t }, Object(O.f)("#Button_Cancel"))
          )
        );
      });
      function H(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function z(e, t, n) {
        var i;
        return Object(a.b)(this, void 0, void 0, function () {
          var o, l, s, u, d, p, m, _, g, h, f, b, v, E, S, y, O, T, C, j;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return [4, x(n, t)];
              case 1:
                for (
                  a.sent(),
                    o = t.map(function (e) {
                      return {
                        setTags: Object(r.m)(e.tags),
                        capsule: e.capsule,
                      };
                    }),
                    l = t.map(function (e) {
                      var t = L.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        languages: Boolean(t)
                          ? new Set(t.localized_langs)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    s = t.map(function (e) {
                      var t = L.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        contentDescriptors: Boolean(t)
                          ? new Set(t.content_descriptors)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    u = t.map(function (e) {
                      var t = L.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        appType: Boolean(t) ? t.type : null,
                        capsule: e.capsule,
                      };
                    }),
                    d = 0,
                    p = n;
                  d < p.length;
                  d++
                )
                  for (m = p[d], _ = 0, g = m.facetValues; _ < g.length; _++)
                    if (
                      (((h = g[_]).matchingCapsules = []),
                      H(e) && !1 === e.facets_generate_debug_info)
                    )
                      h.matchingCapsules = void 0;
                    else if (h.type === c.l.k_ELanguage)
                      for (f = 0, b = l; f < b.length; f++)
                        (O = b[f]),
                          (null === (i = O.languages) || void 0 === i
                            ? void 0
                            : i.has(h.language)) &&
                            h.matchingCapsules.push(O.capsule);
                    else if (h.type === c.l.k_EContentDescriptor)
                      for (v = 0, E = s; v < E.length; v++)
                        (null === (O = E[v]).contentDescriptors ||
                          O.contentDescriptors.has(h.contentDescriptor)) &&
                          h.matchingCapsules.push(O.capsule);
                    else if (
                      h.type === c.l.k_EUserPreference ||
                      h.type === c.l.k_EPrice
                    )
                      h.matchingCapsules = [];
                    else if (h.type === c.l.k_EAppType)
                      for (S = 0, y = u; S < y.length; S++)
                        (O = y[S]).appType === h.appType &&
                          h.matchingCapsules.push(O.capsule);
                    else
                      for (T = 0, C = o; T < C.length; T++)
                        (j = C[T]),
                          Object(r.i)(j.setTags, h.filter) &&
                            h.matchingCapsules.push(j.capsule);
                return [2];
            }
          });
        });
      }
      function W(e) {
        return Object(a.b)(this, void 0, void 0, function () {
          var t, n, i, r, o, l, u, d;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return e.BIsSourceEventSaleEnabled() &&
                  (null == (t = e.GetEventModel().GetTaggedItems())
                    ? void 0
                    : t.length)
                  ? [4, p.EnsureLoaded()]
                  : [2];
              case 1:
                return (
                  a.sent(), (n = p.GetTagNameForTagID()), [4, p.GetLanguages()]
                );
              case 2:
                return (i = a.sent()), [4, p.GetLocalizedTagNames()];
              case 3:
                (r = a.sent()),
                  (o = new Map()),
                  n.forEach(function (e, t) {
                    var n = e.toLocaleLowerCase();
                    o.has(n)
                      ? console.error("Duplicate tag name: " + e)
                      : o.set(n, t);
                  }),
                  (l = 0),
                  (u = e.GetSaleSections()),
                  (a.label = 4);
              case 4:
                return l < u.length
                  ? "tabs" === (d = u[l]).section_type && d.tabs
                    ? (d.tabs.forEach(function (e) {
                        e.sale_tag_filter &&
                          (e.store_filter = q(e.sale_tag_filter, o));
                      }),
                      [3, 7])
                    : [3, 5]
                  : [3, 8];
              case 5:
                return d.enable_faceted_browsing
                  ? [4, z(d, t, d.facets)]
                  : [3, 7];
              case 6:
                a.sent(),
                  (function (e, t) {
                    for (
                      var n = function (e) {
                          for (
                            var n = new Map(),
                              a = new Map(),
                              i = 0,
                              r = e.facetValues;
                            i < r.length;
                            i++
                          ) {
                            (s = r[i]).type === c.l.k_ELanguage
                              ? n.set(s, Y(s.language))
                              : s.type === c.l.k_EContentDescriptor
                              ? n.set(s, Q(s.contentDescriptor))
                              : s.type === c.l.k_EUserPreference
                              ? n.set(s, null)
                              : s.type === c.l.k_EPrice
                              ? n.set(s, {
                                  type: c.n.k_EStoreFilterClauseTypePrice,
                                })
                              : s.type === c.l.k_EAppType
                              ? n.set(s, J(s.appType))
                              : (n.set(s, q(s.filter, t)),
                                a.set(s, K(s.filter, t)));
                          }
                          if (
                            e.facetValues.every(function (e) {
                              return (
                                e.type !== c.l.k_EUserPreference &&
                                null === n.get(e)
                              );
                            })
                          )
                            return (
                              console.error(
                                "Couldn't look up store tag names for any facet value in facet " +
                                  e.name[0] +
                                  ", skipping."
                              ),
                              "continue"
                            );
                          for (
                            var o = 0, l = e.facetValues;
                            o < l.length;
                            o++
                          ) {
                            var s;
                            (s = l[o]).rgStoreTagFilter = n.get(s);
                            var u = a.get(s);
                            u > 0 && (s.nAtomicStoreTagID = u);
                          }
                        },
                        a = 0,
                        i = e.facets;
                      a < i.length;
                      a++
                    ) {
                      n(i[a]);
                    }
                  })(d, o),
                  (function (e, t, n, a) {
                    e.facets.forEach(function (e) {
                      e.facetValues.forEach(function (e) {
                        e.nAtomicStoreTagID &&
                          n.forEach(function (n, i) {
                            var r = Object(s.d)(n);
                            if (0 === O.a.Get(e.name, r).length) {
                              var o = t.get(e.nAtomicStoreTagID),
                                l = a.get(e.nAtomicStoreTagID),
                                c = O.a.Get(l, i);
                              0 !== c.length &&
                                (O.a.Set(e.name, r, c),
                                console.warn(
                                  "Added missing localized name (" +
                                    c +
                                    ") (" +
                                    n +
                                    ") for facet value with atomic store tag ID " +
                                    e.nAtomicStoreTagID +
                                    " (" +
                                    o +
                                    ")"
                                ));
                            }
                          });
                      });
                    });
                  })(d, n, i, r),
                  d.metadata_matching_capsules &&
                    (d.metadata_matching_capsules = void 0),
                  (a.label = 7);
              case 7:
                return l++, [3, 4];
              case 8:
                return [2];
            }
          });
        });
      }
      function q(e, t) {
        for (
          var n = {
              type: c.n.k_EStoreFilterClauseTypeAnd,
              rgSubexpressions: new Array(),
            },
            a = 0,
            i = e.clauses;
          a < i.length;
          a++
        ) {
          for (
            var o = i[a],
              l = {
                type: c.n.k_EStoreFilterClauseTypeOr,
                bNegated: "Must not have" === o.type,
                rgSubexpressions: new Array(),
              },
              s = 0,
              u = o.or_tags;
            s < u.length;
            s++
          ) {
            var d = u[s],
              p = Object(r.k)(d),
              m = Object(r.s)(d).toLocaleLowerCase();
            if (p === r.j.Store) {
              if (!t.has(m)) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + d
                );
                continue;
              }
              var _ = t.get(m);
              l.rgSubexpressions.push({
                type: c.n.k_EStoreFilterClauseTypeStoreTag,
                value: _,
              });
            } else
              p == r.j.Feature
                ? l.rgSubexpressions.push({
                    type: c.n.k_EStoreFilterClauseTypeFeatureTag,
                    value: m,
                  })
                : console.warn("Sale tag not implemented for faceting: " + d);
          }
          if (0 === l.rgSubexpressions.length) return null;
          n.rgSubexpressions.push(l);
        }
        return n;
      }
      function K(e, t) {
        for (var n = 0, a = e.clauses; n < a.length; n++)
          for (var i = 0, o = a[n].or_tags; i < o.length; i++) {
            var l = o[i],
              s = Object(r.k)(l),
              c = Object(r.s)(l).toLocaleLowerCase();
            if (s === r.j.Store) {
              if (!t.has(c)) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + l
                );
                continue;
              }
              var u = t.get(c);
              if (p.BIsTagAtomic(u)) return u;
            }
          }
        return 0;
      }
      function Y(e) {
        return {
          type: c.n.k_EStoreFilterClauseTypeLanguage,
          value: Object(s.a)(e),
        };
      }
      function Q(e) {
        return {
          type: c.n.k_EStoreFilterClauseTypeContentDescriptor,
          value: e,
        };
      }
      function J(e) {
        return { type: c.n.k_EStoreFilterClauseTypeAppType, value: e };
      }
    },
    "65Yx": function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEEFRg0nBijuQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAw0lEQVRIx+2WMQqDMBSG/xedEnCp3kFzh56gN+iN7SrFLsEDmElwDHGyFNEYlQyF/FPgvXx5fMsL3R9P+CRJEgsAxhjy6We+UClLSFl+H7gMnqGcC3AuvOHMFzrHF86OQI/A062CMYaa5o2zYQiUNMsyGwRcVWWQicOpaNsPooqoIqqIKvYmrusX/dXE4VS4lqkQwnl5HMfND4xzmRbFzeZ5sVrXuscwDHRKhVIdad2vQpXq6JLjJdwH6lSxhAOwP+fdTHcfVDuVWnTzAAAAAElFTkSuQmCC";
    },
    "66At": function (e, t, n) {
      e.exports = {
        DisplayWarning: "saleeditorlocationcontrolwidget_DisplayWarning_162UW",
        SelectArea: "saleeditorlocationcontrolwidget_SelectArea_3hAkB",
        dropDown: "saleeditorlocationcontrolwidget_dropDown_a8hfO",
      };
    },
    "6Oks": function (e, t, n) {
      e.exports = {
        EventEditorArtworkCtn:
          "partnereventartwork_EventEditorArtworkCtn_3rX0b",
        ArtworkPreview: "partnereventartwork_ArtworkPreview_JnQir",
        EventEditorArtworkBarContainer:
          "partnereventartwork_EventEditorArtworkBarContainer_1C85T",
        EventEditorButton: "partnereventartwork_EventEditorButton_2ffmU",
        EventEditorInputPaneTopRow:
          "partnereventartwork_EventEditorInputPaneTopRow_91ZJa",
        EventCoverImageCtn: "partnereventartwork_EventCoverImageCtn_31GkG",
        DragTarget: "partnereventartwork_DragTarget_3rLfM",
        DragOnTopOfMe: "partnereventartwork_DragOnTopOfMe_2fjw2",
        EventEditorArtworkTextCtn:
          "partnereventartwork_EventEditorArtworkTextCtn_30C-z",
        EventEditorDragTargetArea:
          "partnereventartwork_EventEditorDragTargetArea_13RCA",
        EventEditorArtworkTitle:
          "partnereventartwork_EventEditorArtworkTitle_2LN2o",
        EventEditorArtworkSubTitle:
          "partnereventartwork_EventEditorArtworkSubTitle_2WU2t",
        EventEditorArtworkResolution:
          "partnereventartwork_EventEditorArtworkResolution_3BWYC",
        ReassignCtn: "partnereventartwork_ReassignCtn_1ELGs",
        ImagePreviewContainer:
          "partnereventartwork_ImagePreviewContainer_xiD01",
        NoneSet: "partnereventartwork_NoneSet_2iqoN",
        TitleSafePreview: "partnereventartwork_TitleSafePreview_1k4fh",
        TitleSafeCaption: "partnereventartwork_TitleSafeCaption_2p02K",
        LanguageSelector: "partnereventartwork_LanguageSelector_3r2rl",
        LanguageSelectorSelected:
          "partnereventartwork_LanguageSelectorSelected_1M7um",
        LanguageSelectorNoData:
          "partnereventartwork_LanguageSelectorNoData_2F3x5",
        LanguageContainer: "partnereventartwork_LanguageContainer_1Vs5U",
        LanguageOptions: "partnereventartwork_LanguageOptions_1ntKq",
        LanguageListContainer:
          "partnereventartwork_LanguageListContainer_Yhl9T",
        SelectImageContainerTopRow:
          "partnereventartwork_SelectImageContainerTopRow_2TTdk",
        SelectImageContainerBottomRow:
          "partnereventartwork_SelectImageContainerBottomRow_3W5Me",
        TextTitle: "partnereventartwork_TextTitle_WMeyY",
        TextSubTitle: "partnereventartwork_TextSubTitle_3zHVs",
        ExampleSectionTitle: "partnereventartwork_ExampleSectionTitle_1Rcen",
        DetailPageExample: "partnereventartwork_DetailPageExample_pD3MC",
        detailExample: "partnereventartwork_detailExample_syg2Q",
        detailExample2: "partnereventartwork_detailExample2_9E9yp",
        MainImageCtn: "partnereventartwork_MainImageCtn_1XTVD",
        ExampleBodyPosition: "partnereventartwork_ExampleBodyPosition_rEaNp",
        ExampleContentCtn: "partnereventartwork_ExampleContentCtn_-LvtM",
        TextBody: "partnereventartwork_TextBody_IiSBO",
        SpotlightExample: "partnereventartwork_SpotlightExample_rAJxh",
        SelectImageEqualColumns:
          "partnereventartwork_SelectImageEqualColumns_2zf7x",
        SelectImageBlock: "partnereventartwork_SelectImageBlock_3jEs0",
        MainPreviewBlock: "partnereventartwork_MainPreviewBlock_2HX0X",
        Tips: "partnereventartwork_Tips_1CHYZ",
        SpotlightOptions: "partnereventartwork_SpotlightOptions_2Kej2",
        ExamplesCtn: "partnereventartwork_ExamplesCtn_3Bp1I",
        SelectImageExampleImg:
          "partnereventartwork_SelectImageExampleImg_2kTis",
        SelectImageLanguagesCtn:
          "partnereventartwork_SelectImageLanguagesCtn_2vu5Q",
        SelectImageTitle: "partnereventartwork_SelectImageTitle_1m6cv",
        ArtworkSelectorContainer:
          "partnereventartwork_ArtworkSelectorContainer_1nl9m",
        Title: "partnereventartwork_Title_2Phq4",
        BroadcastPreviewContainer:
          "partnereventartwork_BroadcastPreviewContainer_3Y5k3",
        SaleHeaderPreviewContainer:
          "partnereventartwork_SaleHeaderPreviewContainer_14dIa",
        SaleHeaderExampleCtn: "partnereventartwork_SaleHeaderExampleCtn_16coG",
        SaleHeaderExampleCol: "partnereventartwork_SaleHeaderExampleCol_1czA2",
        BroadcastPreview: "partnereventartwork_BroadcastPreview_87eNb",
        ExampleSpacer: "partnereventartwork_ExampleSpacer_2r0lB",
        MultipleExampleContainer:
          "partnereventartwork_MultipleExampleContainer_1dda1",
        AssetExampleSpotlightCtn:
          "partnereventartwork_AssetExampleSpotlightCtn_taJSe",
      };
    },
    "6h0J": function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=";
    },
    "6yBx": function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return w;
      }),
        n.d(t, "a", function () {
          return M;
        }),
        n.d(t, "c", function () {
          return D;
        });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("Nsq5"),
        c = n("U+Q5"),
        u = n("I/R6"),
        d = n("Mgs7"),
        p = n("fpVW"),
        m = n.n(p),
        _ = n("Jqb/"),
        g = n("ka0M"),
        h = n("xnZ7"),
        f = n.n(h),
        b = n("6Y59"),
        v = n("0OaU"),
        E = n("exH9"),
        S = n("NOFC"),
        y = n("TLQK"),
        O = n("bDQf"),
        T = n("bxiW"),
        C = n("NrWE"),
        j = n("as1E"),
        I = n.n(j),
        w = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bDownloadFromClanImageStore: !1 }),
              (t.m_clanImageUploader = new c.b(t.props.clanSteamID)),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetValidLanguageForImage = function (e) {
              var t = this.props.rgRealmList;
              if (!t || 0 === t.length) return e;
              for (var n = 0, a = t; n < a.length; n++) {
                var i = a[n];
                if (y.b.IsELanguageValidInRealm(e, i)) return e;
              }
              for (var r = 0, o = t; r < o.length; r++) {
                i = o[r];
                if (
                  y.b.IsELanguageValidInRealm(u.a.Get().GetCurEditLanguage(), i)
                )
                  return u.a.Get().GetCurEditLanguage();
              }
              return t.includes(l.f.k_ESteamRealmGlobal) ? 0 : 29;
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, o, l, s, d, p;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = this.props),
                        (n = t.rgSupportArtwork),
                        (i = t.localizedPrimaryImage),
                        (o = Array.from(e)),
                        (l = !0),
                        (s = 0),
                        (a.label = 1);
                    case 1:
                      return s < o.length
                        ? ((d = e.item(s)),
                          (p =
                            c.d.DetectLanguageFromFilename(d.name) ||
                            u.a.Get().GetCurEditLanguage()),
                          [
                            4,
                            this.m_clanImageUploader.AddImageForLanguage(
                              d,
                              this.GetValidLanguageForImage(p),
                              n,
                              i
                            ),
                          ])
                        : [3, 4];
                    case 2:
                      (l = a.sent()) ||
                        (console.error(
                          "ArtworkUploader.OnDropFiles: failed on i=" +
                            s +
                            " file=" +
                            d.name
                        ),
                        Object(g.d)(
                          r.createElement(_.f, {
                            strDescription: Object(y.f)(
                              "#ImagePicker_Error",
                              d.name
                            ),
                          }),
                          window
                        )),
                        (a.label = 3);
                    case 3:
                      return s++, [3, 1];
                    case 4:
                      return [2, l];
                  }
                });
              });
            }),
            (t.prototype.OnUploadImages = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t = this;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        this.m_clanImageUploader.UploadAllFiles(
                          this.props.rgSupportArtwork,
                          this.props.forceResolution,
                          this.props.localizedPrimaryImage &&
                            this.props.localizedPrimaryImage.file_type
                        ),
                      ];
                    case 1:
                      return (
                        (e = n.sent()),
                        Object.keys(e).forEach(function (n) {
                          var a = e[n],
                            i = t.m_clanImageUploader.m_filesToUpload.find(
                              function (e) {
                                return e.uploadTime + "/" + e.file.name === n;
                              }
                            );
                          if (i)
                            if (1 !== a.success)
                              (i.status = "failed"), (i.message = a.message);
                            else if (((i.status = "success"), a.origimagehash))
                              c.d.AddLocalizeImageUploaded(
                                a.origimagehash,
                                t.GetValidLanguageForImage(a.language)
                              );
                            else {
                              var r = c.d.GetClanImageByImageHash(
                                t.props.clanSteamID,
                                a.image_hash
                              );
                              r &&
                                t.props.fnSetImageURL(
                                  i.type,
                                  r,
                                  t.GetValidLanguageForImage(i.language)
                                );
                            }
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPreviousImageSelected = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t = this;
                return Object(a.e)(this, function (n) {
                  return (
                    this.state.bDownloadFromClanImageStore ||
                      this.setState(
                        { bDownloadFromClanImageStore: !0 },
                        function () {
                          return Object(a.b)(t, void 0, void 0, function () {
                            var t, n, i, o, l;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  return (
                                    a.trys.push([0, 2, , 3]),
                                    (t = this.props),
                                    (n = t.rgSupportArtwork),
                                    (i = t.localizedPrimaryImage),
                                    [
                                      4,
                                      this.m_clanImageUploader.AddExistingClanImage(
                                        e,
                                        this.GetValidLanguageForImage(
                                          u.a.Get().GetCurEditLanguage()
                                        ),
                                        n,
                                        i
                                      ),
                                    ]
                                  );
                                case 1:
                                  return a.sent(), [3, 3];
                                case 2:
                                  return (
                                    (o = a.sent()),
                                    (l = Object(O.a)(o)),
                                    console.error(
                                      "AddExistingClanImage: " + l.strErrorMsg,
                                      l
                                    ),
                                    Object(g.d)(
                                      r.createElement(_.f, {
                                        strDescription: Object(y.f)(
                                          "#EventError_Code",
                                          l.strErrorMsg
                                        ),
                                      }),
                                      window
                                    ),
                                    [3, 3]
                                  );
                                case 3:
                                  return (
                                    this.setState({
                                      bDownloadFromClanImageStore: !1,
                                    }),
                                    [2]
                                  );
                              }
                            });
                          });
                        }
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.rgSupportArtwork,
                n = e.forceResolution,
                a = e.localizedPrimaryImage,
                i = e.clanSteamID,
                o = D(
                  this.m_clanImageUploader,
                  "arttabupload_",
                  t,
                  n,
                  a && a.file_type,
                  this.props.rgRealmList
                );
              return r.createElement(
                C.b,
                {
                  onDropFiles: this.OnDropFiles,
                  clanSteamID: i,
                  bAllowPreviousClanImages: !Boolean(
                    this.props.bPreventPreviousClanImages
                  ),
                  OnClanImageSelected: this.OnPreviousImageSelected,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                },
                r.createElement(
                  r.Fragment,
                  null,
                  this.state.bDownloadFromClanImageStore &&
                    r.createElement(v.a, {
                      position: "center",
                      size: "medium",
                      string: Object(y.f)("#Loading"),
                    }),
                  r.createElement("div", { className: I.a.UploadPreviewCtn }, o)
                ),
                r.createElement(M, {
                  clanImageUploader: this.m_clanImageUploader,
                  fnOnUploadImageRequested: this.OnUploadImages,
                })
              );
            }),
            Object(a.c)([T.a], t.prototype, "OnDropFiles", null),
            Object(a.c)([T.a], t.prototype, "OnUploadImages", null),
            Object(a.c)([T.a], t.prototype, "OnPreviousImageSelected", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component),
        M = Object(i.a)(function (e) {
          var t = e.clanImageUploader,
            n = e.fnOnUploadImageRequested;
          return r.createElement(
            "div",
            {
              style: { display: "flex" },
              className: I.a.UploadPreviewButtonsCtn,
            },
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                d.d,
                { style: { margin: "8px" }, onClick: n },
                Object(y.f)("#ImageUpload_Upload")
              ),
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                d.d,
                { style: { margin: "8px" }, onClick: t.ClearImages },
                Object(y.f)("#ImageUpload_Clear")
              )
          );
        });
      function D(e, t, n, a, i, o) {
        var l = new Array();
        return (
          e.m_filesToUpload.map(function (s) {
            l.push(
              r.createElement(k, {
                key: t + s.file + "_" + s.uploadTime,
                image: s,
                supported: n,
                forceResolution: a,
                forceFileType: i,
                fnOnRemove: function () {
                  return e.DeleteUploadImage(s);
                },
                languageRealms: o,
              })
            );
          }),
          l
        );
      }
      var k = Object(i.a)(function (e) {
        for (
          var t = e.image,
            n = e.fnOnRemove,
            a = e.supported,
            i = e.languageRealms,
            c = a.map(function (e) {
              var n = Object(y.f)("#EventEditor_ArtworkType_" + e),
                a = s.a[e];
              a &&
                !a.bDisableEnforceDimensions &&
                (n += " - " + a.width + "x" + a.height);
              var i = void 0;
              return (
                t.BIsOriginalMinimumDimensions(e) ||
                  (i = I.a.ArtworkDimensionTooSmall),
                { label: n, data: e, strOptionClass: i }
              );
            }),
            u = {
              pending: Object(y.f)("#ImageUpload_Pending"),
              uploading: Object(y.f)("#ImageUpload_Uploading"),
              success: Object(y.f)("#ImageUpload_SuccessCard"),
              failed: Object(y.f)("#ImageUpload_Failed"),
            },
            p = new Array(),
            _ = 0,
            h = y.b.GetLanguageListForRealms(i || [l.f.k_ESteamRealmGlobal]);
          _ < h.length;
          _++
        ) {
          var O = h[_],
            T = Object(y.f)("#Language_" + Object(o.a)(O));
          p.push({ label: T, data: O });
        }
        p.sort(function (e, t) {
          return e.label.localeCompare(t.label);
        });
        var C = [];
        p.forEach(function (e) {
          return C.push({ label: e.label, data: e.data });
        });
        var j = t.IsValidImage(e.supported, e.forceResolution, e.forceFileType),
          w = j.needsCrop
            ? Object(y.f)("#ImageUpload_NeedsCrop")
            : j.error
            ? Object(y.f)("#ImageUpload_Invalid")
            : u[t.status];
        return r.createElement(
          "div",
          { className: I.a.UploadPreview },
          r.createElement(
            "div",
            {
              className: I.a.UploadPreviewDelete,
              onClick: function () {
                return n(t);
              },
            },
            r.createElement(b.lb, null)
          ),
          r.createElement(
            "div",
            {
              className: I.a.PreviewImgCtn,
              style: { backgroundImage: "url(" + t.dataUrl + ")" },
            },
            r.createElement(
              "span",
              { className: I.a.PreviewImgInfo },
              t.width,
              " x ",
              t.height
            )
          ),
          r.createElement(d.i, {
            strDropDownClassName: m.a.DropDownScroll,
            rgOptions: C,
            selectedOption: t.language,
            onChange: function (e) {
              return (t.language = e.data);
            },
          }),
          Boolean(c.length > 1) &&
            r.createElement(d.i, {
              rgOptions: c.filter(function (e) {
                return "hero" !== e.data;
              }),
              selectedOption: t.type || c[0].data,
              onChange: function (e) {
                return (t.type = e.data);
              },
            }),
          r.createElement(
            "div",
            { className: Object(E.a)(m.a.FlexColumnContainer) },
            w,
            Boolean("uploading" == w) &&
              r.createElement(
                "div",
                { className: f.a.FlexCenter },
                r.createElement(v.a, { size: "small" })
              )
          ),
          r.createElement(
            "div",
            { className: I.a.UploadPreviewError },
            t.message
          ),
          j.error &&
            r.createElement(
              "div",
              { className: I.a.UploadPreviewError },
              j.error
            ),
          j.needsCrop &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                d.r,
                {
                  onClick: function () {
                    return (function (t) {
                      t.ResetImage();
                      var n = window,
                        a = r.createElement(S.a, {
                          ownerWin: n,
                          uploadFile: t,
                          forceResolution: e.forceResolution,
                          fileType: e.forceFileType || 3,
                        });
                      Object(g.c)(a, n, "CropModal", {
                        strTitle: Object(y.f)("#ImageUpload_CropModalTitle"),
                      });
                    })(t);
                  },
                },
                Object(y.f)("#ImageUpload_OpenEditor")
              )
            )
        );
      });
    },
    "75vw": function (e, t, n) {
      e.exports = {
        PickerContainer: "clanimagepicker_PickerContainer_1qhUO",
        PickerTitle: "clanimagepicker_PickerTitle_1E-Kb",
        SearchInput: "clanimagepicker_SearchInput_lwt4u",
        ImagesContainer: "clanimagepicker_ImagesContainer_2MNEt",
        ImageWrapperContainer: "clanimagepicker_ImageWrapperContainer_3nF8i",
        ImageWrapper: "clanimagepicker_ImageWrapper_vYrtX",
        ImageWrapperFilename: "clanimagepicker_ImageWrapperFilename_3rKYp",
        Hilight: "clanimagepicker_Hilight_5oO3l",
        ImageButton: "clanimagepicker_ImageButton_1NdF6",
        Thumb: "clanimagepicker_Thumb_5b4gX",
        Full: "clanimagepicker_Full_3zBhO",
        Delete: "clanimagepicker_Delete_UQ4fW",
        FloatingThrobber: "clanimagepicker_FloatingThrobber_1zWl-",
        Localized: "clanimagepicker_Localized__5lkv",
        ResultNotification: "clanimagepicker_ResultNotification_1mERN",
        errorcode: "clanimagepicker_errorcode_2f4ad",
        ImageUploadBar: "clanimagepicker_ImageUploadBar_1aUdS",
        SelectImageButton: "clanimagepicker_SelectImageButton__R_zU",
        UploaderContainer: "clanimagepicker_UploaderContainer_dR0Ne",
        UploaderTitle: "clanimagepicker_UploaderTitle_DL9t5",
        UploaderRunning: "clanimagepicker_UploaderRunning_1lRF9",
        UploaderDesc: "clanimagepicker_UploaderDesc_2fhbn",
        UploadError: "clanimagepicker_UploadError_3B5rV",
        UploadMessageAndButtonsContainer:
          "clanimagepicker_UploadMessageAndButtonsContainer_3OQ66",
        UploadSuccess: "clanimagepicker_UploadSuccess_2RXjw",
        UploadDismissButton: "clanimagepicker_UploadDismissButton_3j1zt",
        DragAndDropContainer: "clanimagepicker_DragAndDropContainer_2Q0Xd",
        DragAndDropContainerDragging:
          "clanimagepicker_DragAndDropContainerDragging_2Xhk9",
      };
    },
    AIbc: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return m;
      }),
        n.d(t, "b", function () {
          return _;
        });
      var a = n("q1tI"),
        i = n("Mgs7"),
        r = n("fpVW"),
        o = n.n(r),
        l = n("Jqb/"),
        s = n("ka0M"),
        c = n("+d9t"),
        u = n("TLQK"),
        d = n("6Oks"),
        p = n.n(d),
        m = function (e) {
          var t = null;
          "capsule" === e.artworkType
            ? (t = a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "p",
                  null,
                  Object(u.f)("#selectimage_tip_capsule_1")
                ),
                a.createElement(
                  "div",
                  null,
                  a.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg",
                  }),
                  a.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png",
                  }),
                  a.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png",
                  }),
                  a.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg",
                  })
                )
              ))
            : "background" === e.artworkType
            ? (t = a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "p",
                  null,
                  Object(u.f)("#selectimage_tip_background_1")
                ),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/5193306/62436147b454715822a198a2767e5c7a8560617e.jpg",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png",
                })
              ))
            : "spotlight" === e.artworkType &&
              (t = a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "div",
                  { className: p.a.AssetExampleSpotlightCtn },
                  a.createElement(
                    "p",
                    null,
                    Object(u.f)("#selectimage_tip_spotlight_3")
                  ),
                  a.createElement(
                    "p",
                    null,
                    Object(u.f)("#selectimage_tip_spotlight_4")
                  ),
                  a.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_1.jpg",
                  }),
                  a.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_2.jpg",
                  }),
                  a.createElement(
                    "p",
                    null,
                    Object(u.f)("#selectimage_tip_spotlight_5")
                  ),
                  a.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                  }),
                  a.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                  })
                )
              ));
          return t
            ? a.createElement(
                "div",
                { className: o.a.FlexRowContainer },
                a.createElement(
                  i.u,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(s.d)(
                          a.createElement(
                            l.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(u.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(u.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(u.f)("#EventEditor_ViewExamples")
                ),
                a.createElement(
                  i.u,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(c.d)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets"
                      );
                    },
                  },
                  Object(u.f)("#EventEditor_Learn_More")
                )
              )
            : null;
        },
        _ = function (e) {
          var t = null;
          "sale_header" === e.artworkType
            ? (t = a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "p",
                  null,
                  Object(u.f)("#selectimage_tip_sale_header_1")
                ),
                a.createElement(
                  "p",
                  null,
                  Object(u.f)("#selectimage_tip_sale_header_2")
                ),
                a.createElement(
                  "div",
                  { className: p.a.SaleHeaderExampleCtn },
                  a.createElement(
                    "div",
                    { className: p.a.SaleHeaderExampleCol },
                    a.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cca6e939f4a7cdd48d8437f1cc83b8e265f78966.jpg",
                        target: "_blank",
                      },
                      a.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cca6e939f4a7cdd48d8437f1cc83b8e265f78966.jpg",
                      })
                    ),
                    a.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                        target: "_blank",
                      },
                      a.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                      })
                    )
                  ),
                  a.createElement(
                    "div",
                    { className: p.a.SaleHeaderExampleCol },
                    a.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                        target: "_blank",
                      },
                      a.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                      })
                    )
                  ),
                  a.createElement(
                    "div",
                    { className: p.a.SaleHeaderExampleCol },
                    a.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                        target: "_blank",
                      },
                      a.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                      })
                    )
                  )
                )
              ))
            : "product_banner" === e.artworkType &&
              (t = a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  "p",
                  null,
                  Object(u.f)("#selectimage_tip_sale_product_banner")
                ),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/309cb650beb92e00ae352710387832aea78433ef.jpg",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg",
                }),
                a.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif",
                })
              ));
          return t
            ? a.createElement(
                "div",
                { className: o.a.FlexRowContainer },
                a.createElement(
                  i.u,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(s.d)(
                          a.createElement(
                            l.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(u.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(u.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(u.f)("#EventEditor_ViewExamples")
                ),
                a.createElement(
                  i.u,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(c.d)(
                        e,
                        "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta"
                      );
                    },
                  },
                  Object(u.f)("#EventEditor_Learn_More")
                ),
                a.createElement("br", null)
              )
            : null;
        };
    },
    EA3E: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return T;
      }),
        n.d(t, "c", function () {
          return C;
        }),
        n.d(t, "d", function () {
          return j;
        }),
        n.d(t, "e", function () {
          return I;
        }),
        n.d(t, "b", function () {
          return w;
        });
      var a = n("mrSG"),
        i = n("1fPh"),
        r = n("fcuX"),
        o = n("t0uJ"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("Ty5D"),
        u = n("3+zv"),
        d = n("9w6b"),
        p = n("6oCP"),
        m = n("vBFs"),
        _ = n("fpVW"),
        g = n.n(_),
        h = n("YLyR"),
        f = n("exH9"),
        b = n("TLQK"),
        v = n("bxiW"),
        E = n("lkRc"),
        S = n("k3PP"),
        y = n("K1T0"),
        O = n.n(y),
        T = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.CanTransition = function (e) {
              if (o.c.BHasEditModel()) {
                var t = o.c.GetEditModel();
                if (
                  null != t &&
                  null != t &&
                  t.BIsDirty() &&
                  (t.BHasGid() || t.GetChangeTypes() != r.c.type)
                ) {
                  var n = t.GetStrVanityOrAppID();
                  return (
                    (e.pathname != i.a.Home(n) && e.pathname != i.a.List(n)) ||
                    Object(b.f)("#EventEditor_UnsavedChanges")
                  );
                }
              }
              return !0;
            }),
            (t.prototype.render = function () {
              return s.createElement(c.a, { message: this.CanTransition });
            }),
            Object(a.c)([v.a], t.prototype, "CanTransition", null),
            t
          );
        })(s.Component),
        C = Object(l.a)(function (e) {
          var t = o.c.GetEditModel(),
            n = t.GetCurEditLanguage();
          return s.createElement(m.a, {
            selectedLang: n,
            fnOnLanguageChanged: function (n) {
              t.SetCurEditLanguage(n) &&
                e.OnLanguageChange &&
                e.OnLanguageChange();
            },
            fnLangHasData: t.BHasLanguage,
            fnIsLangSupported: t.BDoesSupportLanguage,
            fnLastUpdateRTime: t.LastTimeLanguageUpdate,
            realms: t.GetIncludedRealmList(),
          });
        }),
        j = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetVisibilityState(),
                n = d.a.Get().GetPartnerEventPermissions(e.GetClanSteamID()),
                a =
                  (e.BWillShowOnLibraryOverviewDueToSettings() ||
                    e.BWillShowOnLibraryDetailDueToSettings()) &&
                  Object(u.e)(e.GetEventModel());
              if (t == p.b.k_EEventStateVisible)
                return s.createElement(
                  "div",
                  {
                    className: Object(f.a)(g.a.FlexColumnContainer, "visible"),
                  },
                  s.createElement(
                    "span",
                    { className: g.a.FlexRowContainer },
                    Object(b.f)("#EventEditor_Status"),
                    ": ",
                    s.createElement(
                      "span",
                      { className: "StatusVisibleText" },
                      "  ",
                      Object(b.f)("#EventEditor_Status_Public")
                    ),
                    n &&
                      s.createElement(S.d, {
                        tooltip: Object(b.f)("#EventEditor_Status_Public_ttip"),
                      }),
                    a &&
                      s.createElement(
                        "span",
                        { className: O.a.PendingVisibilityText },
                        "  ",
                        Object(b.f)("#EventEditor_Status_PendingModeration")
                      ),
                    n &&
                      a &&
                      s.createElement(S.d, {
                        tooltip: Object(b.f)(
                          "#EventDashBoard_ModerationQueueWarning"
                        ),
                      })
                  )
                );
              if (t == p.b.k_EEventStateStaged) {
                var i = e.GetEventVisibilityStartTime(),
                  r = i == e.GetEventStartTime();
                return s.createElement(
                  "div",
                  { className: g.a.FlexColumnContainer },
                  Object(b.f)("#EventEditor_Status") + ": ",
                  Object(b.n)(
                    r
                      ? "#EventEditor_Status_Staged_EventStart"
                      : "#EventEditor_Status_Staged",
                    s.createElement(
                      "span",
                      { className: g.a.FlexRowContainer },
                      s.createElement(h.a, { bSingleLine: !0, dateAndTime: i }),
                      s.createElement(S.d, {
                        tooltip: Object(b.f)("#EventEditor_Status_Staged_ttip"),
                      })
                    )
                  )
                );
              }
              return s.createElement(
                "div",
                { className: g.a.FlexColumnContainer },
                s.createElement(
                  "span",
                  { className: g.a.FlexRowContainer },
                  Object(b.f)("#EventEditor_Status") +
                    ": " +
                    Object(b.f)("#EventEditor_Status_Draft"),
                  s.createElement(S.d, {
                    tooltip: Object(b.f)("#EventEditor_Status_Draft_ttip"),
                  })
                )
              );
            }),
            (t = Object(a.c)([l.a], t))
          );
        })(s.Component),
        I = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              return s.createElement(
                "div",
                {
                  className: Object(f.a)(
                    g.a.FlexColumnContainer,
                    g.a.BetaContainer,
                    g.a.PartnerEventFont
                  ),
                },
                s.createElement(
                  "div",
                  { className: g.a.EventBetaTextTitle },
                  Object(b.f)("#PartnerEvent_Beta_Title")
                ),
                s.createElement("br", null),
                s.createElement(
                  "div",
                  null,
                  Object(b.n)(
                    "#PartnerEvent_Beta_Feedback",
                    s.createElement(
                      "a",
                      {
                        target: E.c.IN_CLIENT ? void 0 : "_blank",
                        href:
                          "https://steamcommunity.com/groups/steamworks/discussions/24/",
                      },
                      Object(b.f)("#PartnerEvent_Beta_SteamWorks")
                    )
                  )
                )
              );
            }),
            t
          );
        })(s.Component),
        w = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              return (
                console.warn(
                  'EventNotAvailable message:"' +
                    this.props.strErrorMsg +
                    '" code:"' +
                    this.props.errorCode +
                    '"'
                ),
                s.createElement(
                  "div",
                  { className: O.a.ErrorPage },
                  s.createElement(
                    "div",
                    { className: g.a.maintitle },
                    Object(b.f)("#EventError_Title")
                  ),
                  this.props.errorCode &&
                    s.createElement(
                      "div",
                      { className: O.a.ErrorCode },
                      " ",
                      Object(b.f)("#EventError_Code", this.props.errorCode),
                      " "
                    ),
                  this.props.strErrorMsg &&
                    s.createElement(
                      "div",
                      { className: O.a.ErrorMsg },
                      this.props.strErrorMsg
                    )
                )
              );
            }),
            t
          );
        })(s.Component);
    },
    GOhU: function (e, t, n) {
      e.exports = {
        ToolContainer: "partnereventdescriptiontab_ToolContainer_1YUip",
        LanguageControlsCtn:
          "partnereventdescriptiontab_LanguageControlsCtn_14o5K",
        DescEditorPadding: "partnereventdescriptiontab_DescEditorPadding_3mLVV",
      };
    },
    "I/R6": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return s;
      });
      var a = n("mrSG"),
        i = n("2vnA"),
        r = n("mgoM"),
        o = n("XxJJ"),
        l = n("lkRc"),
        s = (function () {
          function e() {
            this.m_eCurLang = Object(r.d)(l.c.LANGUAGE);
          }
          return (
            (e.prototype.GetCurEditLanguage = function () {
              return this.m_eCurLang;
            }),
            (e.prototype.SetCurEditLanguage = function (e) {
              return this.m_eCurLang != e && ((this.m_eCurLang = e), !0);
            }),
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  "dev" == l.c.WEB_UNIVERSE &&
                    (window.DUS = e.s_globalSingletonStore)),
                e.s_globalSingletonStore
              );
            }),
            Object(a.c)([i.C], e.prototype, "m_eCurLang", void 0),
            Object(a.c)([o.a], e.prototype, "GetCurEditLanguage", null),
            Object(a.c)([o.a], e.prototype, "SetCurEditLanguage", null),
            e
          );
        })();
    },
    IMce: function (e, t, n) {
      e.exports = {
        FilterDisplayCtn: "partnereventsaletagitems_FilterDisplayCtn_3y3Xg",
        FilterTitle: "partnereventsaletagitems_FilterTitle_24W_L",
        FilterDisplayNoFilter:
          "partnereventsaletagitems_FilterDisplayNoFilter_1rdbp",
        FilterActionsCtn: "partnereventsaletagitems_FilterActionsCtn_2C1SZ",
        FilterSettingRightCol:
          "partnereventsaletagitems_FilterSettingRightCol_3Nq-P",
        FilterDisplayList: "partnereventsaletagitems_FilterDisplayList_2z8dM",
        ClauseRowCtn: "partnereventsaletagitems_ClauseRowCtn_14Xr-",
        MustHaveClause: "partnereventsaletagitems_MustHaveClause_1DnHX",
        MustNotHaveClause: "partnereventsaletagitems_MustNotHaveClause_2jCYC",
        TagItemCtn: "partnereventsaletagitems_TagItemCtn_m0Krj",
        TagItemImageCtn: "partnereventsaletagitems_TagItemImageCtn_gmw1A",
        NameAndTagCtn: "partnereventsaletagitems_NameAndTagCtn_3iqFC",
        NameCtn: "partnereventsaletagitems_NameCtn_2tE2h",
        TagSummaryCtn: "partnereventsaletagitems_TagSummaryCtn_2qiIu",
        TagSummary: "partnereventsaletagitems_TagSummary_Srtyk",
        TagShowToggle: "partnereventsaletagitems_TagShowToggle_2znRW",
        TagListCtn: "partnereventsaletagitems_TagListCtn_1QkXs",
        ItemTag: "partnereventsaletagitems_ItemTag_zTys5",
        TagHighlight: "partnereventsaletagitems_TagHighlight_3t7O7",
        TagMustHave: "partnereventsaletagitems_TagMustHave_1TwOa",
        TagMustNotHave: "partnereventsaletagitems_TagMustNotHave_209Gu",
        TagMissingMustHave: "partnereventsaletagitems_TagMissingMustHave_1fV9c",
        TagItemEditorCtn: "partnereventsaletagitems_TagItemEditorCtn_BCZuV",
        ItemListTitle: "partnereventsaletagitems_ItemListTitle_1Qb2C",
        ItemListControls: "partnereventsaletagitems_ItemListControls_3d5Ah",
        ButtonRow: "partnereventsaletagitems_ButtonRow_jzDFC",
        EditTagsTitle: "partnereventsaletagitems_EditTagsTitle_lZkG5",
        EditTagsTitleText: "partnereventsaletagitems_EditTagsTitleText_2ydMd",
        EditTagsBody: "partnereventsaletagitems_EditTagsBody_1GXBp",
        ColumnList: "partnereventsaletagitems_ColumnList_2K3OM",
        TagColumn: "partnereventsaletagitems_TagColumn_qG9e1",
        SmallColumn: "partnereventsaletagitems_SmallColumn_3sDs-",
        TagColumnList: "partnereventsaletagitems_TagColumnList_1CmFb",
        FillColumn: "partnereventsaletagitems_FillColumn_Goo9R",
        TagColumnTitle: "partnereventsaletagitems_TagColumnTitle_16Usf",
        PopulateByFilter: "partnereventsaletagitems_PopulateByFilter_ECCkN",
        EditTag: "partnereventsaletagitems_EditTag_10HeQ",
        AppliedTag: "partnereventsaletagitems_AppliedTag_2hdwo",
        OtherTag: "partnereventsaletagitems_OtherTag_3XSu2",
        DefaultTag: "partnereventsaletagitems_DefaultTag_1DR0t",
        SectionRemoved: "partnereventsaletagitems_SectionRemoved_3r5Sr",
        SectionAdded: "partnereventsaletagitems_SectionAdded_3RbJU",
        SectionUnchanged: "partnereventsaletagitems_SectionUnchanged_262k4",
        OKButton: "partnereventsaletagitems_OKButton_2vnfP",
        AddTagCtn: "partnereventsaletagitems_AddTagCtn_1hCAC",
        EditFitlerCtn: "partnereventsaletagitems_EditFitlerCtn_3OUM2",
        HideTagBreakdown: "partnereventsaletagitems_HideTagBreakdown_3yvRa",
        TagBreakdownCtn: "partnereventsaletagitems_TagBreakdownCtn_3YQ9j",
        TopSection: "partnereventsaletagitems_TopSection_1jYl9",
        TopTabs: "partnereventsaletagitems_TopTabs_FWpoZ",
        TagSelector: "partnereventsaletagitems_TagSelector_2_RKa",
        SectionTab: "partnereventsaletagitems_SectionTab_1-1pA",
        TabActive: "partnereventsaletagitems_TabActive_3GdyE",
        ShowTagBreakdown: "partnereventsaletagitems_ShowTagBreakdown_2lsxI",
        SectionTitle: "partnereventsaletagitems_SectionTitle_31ngR",
        MatchingItemsCtn: "partnereventsaletagitems_MatchingItemsCtn_20hem",
        ItemList: "partnereventsaletagitems_ItemList_pbaI3",
        TagBreakdownList: "partnereventsaletagitems_TagBreakdownList_306uE",
        SelectTag: "partnereventsaletagitems_SelectTag_Mbvwl",
        TagBreakdownEntry: "partnereventsaletagitems_TagBreakdownEntry_3FcaB",
        Selected: "partnereventsaletagitems_Selected_1dbZr",
        PercentageBarFill: "partnereventsaletagitems_PercentageBarFill_2RtUr",
        TextStats: "partnereventsaletagitems_TextStats_1uh33",
        TagName: "partnereventsaletagitems_TagName_2_TkE",
        TagUses: "partnereventsaletagitems_TagUses_13lRd",
        PercentageBar: "partnereventsaletagitems_PercentageBar_3j-lq",
        FilterControlsCtn: "partnereventsaletagitems_FilterControlsCtn_21IKJ",
        FilterControlBox: "partnereventsaletagitems_FilterControlBox_30c0H",
        OrLabel: "partnereventsaletagitems_OrLabel_nLRaJ",
        AndLabel: "partnereventsaletagitems_AndLabel_1HdmS",
        TagDropDown: "partnereventsaletagitems_TagDropDown_16GWP",
        ClauseTypeDropDown: "partnereventsaletagitems_ClauseTypeDropDown_3C61-",
        FirstClause: "partnereventsaletagitems_FirstClause_2U-HG",
        ClauseTagList: "partnereventsaletagitems_ClauseTagList_2Yv3H",
        OptInInputTitle: "partnereventsaletagitems_OptInInputTitle_1gDie",
        EditRawTextArea: "partnereventsaletagitems_EditRawTextArea_1HSN_",
        EditAutoTagsBody: "partnereventsaletagitems_EditAutoTagsBody_e8374",
        AutoTagList: "partnereventsaletagitems_AutoTagList_1EmxH",
        AutoTag: "partnereventsaletagitems_AutoTag_2gCmA",
        AutoTagRow: "partnereventsaletagitems_AutoTagRow_2o3nc",
      };
    },
    "J/GH": function (e, t, n) {
      "use strict";
      n.d(t, "c", function () {
        return g;
      }),
        n.d(t, "d", function () {
          return f;
        }),
        n.d(t, "a", function () {
          return b;
        }),
        n.d(t, "b", function () {
          return v;
        });
      var a = n("Q47U"),
        i = n("fcuX"),
        r = n("q1tI"),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("5izx"),
        c = n("qP7j"),
        u = n.n(c),
        d = n("YLyR"),
        p = n("TLQK"),
        m = n("N0Ye"),
        _ = n("lkRc");
      function g(e, t) {
        var n = new Array(),
          a = e.BPublished(),
          c = e.BHidden(),
          _ = s.a.GetTimeNowWithOverride(),
          g = e.ComputeStartTime(_),
          f = e.ComputeVisibilityStartTime(_, g),
          b =
            e.GetEndTimeEditChoice() == i.b.k_EDuration
              ? e.ComputeDurationBasedRoundedEndTime()
              : e.GetEventEndTime(),
          v = Object(m.c)(e.GetEventType(), e.GetEventModel().vecTags);
        (!a && e.GetStartTimeEditChoice() != i.d.k_ESpecified) ||
          (g && 0 != g) ||
          n.push(
            r.createElement(
              "li",
              { key: "EventEdit_Error_StartTimeNotSet" },
              r.createElement(
                "div",
                { className: u.a.ErrorStyles },
                Object(p.f)("#EventEdit_Error_StartTimeNotSet")
              )
            )
          ),
          a &&
            c &&
            f > g &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_VisibilityAfterStart" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_VisibilityAfterStart")
                )
              )
            ),
          e.BIsValidStartTimeForEdit() ||
            (e.GetEventStartTime() < e.GetEarliestStartTimeForEdit()
              ? n.push(
                  r.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeTooEarly_" + g },
                    r.createElement(
                      "div",
                      { className: u.a.ErrorStyles },
                      Object(p.n)(
                        "#EventEdit_Error_StartTimeTooEarly",
                        r.createElement(d.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        }),
                        r.createElement(d.a, {
                          dateAndTime: e.GetEarliestStartTimeForEdit(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                )
              : n.push(
                  r.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeInPast_" + g },
                    r.createElement(
                      "div",
                      { className: u.a.ErrorStyles },
                      Object(p.n)(
                        "#EventEdit_Error_StartTimeInPast",
                        r.createElement(d.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                ));
        var E = Object(m.a)(e.GetCategoryAsType());
        !a ||
          !E ||
          (e.GetEventEndTime() && 0 != e.GetEventEndTime()) ||
          e.GetEndTimeEditChoice() != i.b.k_ESpecified ||
          n.push(
            r.createElement(
              "li",
              { key: "EventEdit_Error_EndTimeNeededNotSet" },
              r.createElement(
                "div",
                { className: u.a.ErrorStyles },
                Object(p.f)("#EventEdit_Error_EndTimeNeededNotSet")
              )
            )
          ),
          E &&
            (t || a) &&
            b < g &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_EndTimeBeforeStart" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_EndTimeBeforeStart")
                )
              )
            );
        for (var S = 0, y = 0; y < 30; ++y) {
          var O = e.BIsLanguageValidForRealms(y),
            T = Object(p.f)("#Language_" + Object(o.a)(y));
          if (O && e.BHasLanguage(y) && !e.BHasLanguageRequired(y)) {
            var C = e.BHasLanguageTitle(y)
              ? "EventEdit_Error_TitleExistsMissingDesc"
              : "EventEdit_Error_DescExistsMissingTitle";
            n.push(
              r.createElement(
                "li",
                { key: C + y },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#" + C, T)
                )
              )
            );
          }
          e.BHasLanguageDescription(y) &&
            Array.from(e.GetDescription(y)).length > 32e3 &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_DescriptionTooLong" + y },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_DescriptionTooLong", T)
                )
              )
            ),
            p.b.IsELanguageValidInRealm(y, l.f.k_ESteamRealmGlobal) &&
              e.BHasLanguageRequired(y) &&
              ++S;
        }
        if (
          (e.BInRealmGlobal() &&
            0 == S &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_MissingTitleAndDesc" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_MissingTitleAndDesc")
                )
              )
            ),
          e.BInRealmChina())
        )
          for (
            var j = 0,
              I = p.b.GetLanguageListForRealms([l.f.k_ESteamRealmChina]);
            j < I.length;
            j++
          ) {
            var w = I[j],
              M = p.b.GetELanguageFallback(w);
            if (!e.BHasLanguageRequiredOrFallback(w, M)) {
              T = Object(p.f)("#Language_" + Object(o.a)(w));
              n.push(
                r.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingChinaTitleAndDesc" + w },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEdit_Error_MissingChinaTitleAndDesc", T)
                  )
                )
              );
            }
          }
        if (v) {
          var D = e.BInRealmGlobal() && !h(e, "capsule", 0),
            k =
              e.BInRealmChina() &&
              !(function (e, t) {
                for (
                  var n = 0,
                    a = p.b.GetLanguageListForRealms([l.f.k_ESteamRealmChina]);
                  n < a.length;
                  n++
                ) {
                  var i = a[n];
                  if (!h(e, t, i, p.b.GetELanguageFallback(i))) return !1;
                }
                return !0;
              })(e, "capsule");
          D &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_MissingCapsule" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)(
                    "#EventEdit_Error_MissingCapsule",
                    Object(p.f)("#PartnerEvent_" + e.GetEventType())
                  )
                )
              )
            ),
            k &&
              n.push(
                r.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingCapsuleChina" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)(
                      "#EventEdit_Error_MissingCapsuleChina",
                      Object(p.f)("#PartnerEvent_" + e.GetEventType())
                    )
                  )
                )
              );
        }
        return (
          e.GetSaleSections().reduce(function (e, t) {
            return e + ("tabs" === t.section_type ? 1 : 0);
          }, 0) > 1 &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_TooManyTabsSections" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_TooManyTabsSections")
                )
              )
            ),
          e.BIsEventForOGGWithoutVisibleStorePage() &&
            !e.BOptedInForOGGWithoutVisibleStorePage() &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEdit_Error_PublishingForHiddenGame" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEdit_Error_PublishingForHiddenGame")
                )
              )
            ),
          e.BHasSaleEnabled() &&
            !e.GetEventModel().BHasSaleVanity() &&
            n.push(
              r.createElement(
                "li",
                { key: "EventEditor_SaleNotReady_ttip" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEditor_SaleNotReady_ttip")
                )
              )
            ),
          n
        );
      }
      function h(e, t, n, a) {
        void 0 === a && (a = -1);
        var i = e.GetImageURL(t, n);
        return (
          (i && 0 != i.length) || -1 == a || (i = e.GetImageURL(t, a)),
          i && i.length > 1
        );
      }
      function f(e) {
        var t = new Array(),
          n = e.BPublished(),
          a = e.BHidden();
        e.BInRealmGlobal() &&
          !e.BHasLanguageRequired(0) &&
          t.push(
            r.createElement(
              "li",
              { key: "EventEdit_Warning_EnglishMissing" },
              r.createElement(
                "div",
                { className: u.a.WarningStyles },
                Object(p.f)("#EventEdit_Warning_EnglishMissing")
              )
            )
          ),
          1 == e.GetEventType() &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEdit_Warning_Other" },
                r.createElement(
                  "div",
                  { className: u.a.WarningStyles },
                  Object(p.f)("#EventEdit_Warning_Other")
                )
              )
            );
        for (var i = 0, o = 0, c = 0, d = 0, m = 0; m < 30; ++m) {
          var g = p.b.IsELanguageValidInRealm(m, l.f.k_ESteamRealmGlobal),
            f = p.b.IsELanguageValidInRealm(m, l.f.k_ESteamRealmChina);
          if ((g && e.BInRealmGlobal()) || (f && e.BInRealmChina())) {
            var b = f ? p.b.GetELanguageFallback(m) : m;
            h(e, "capsule", m, b) && i++,
              h(e, "spotlight", m, b) && d++,
              e.BHasLanguageRequiredOrFallback(m, b) &&
                (o++, (e.GetSubTitle(m) || e.GetSubTitle(b)) && c++);
          }
        }
        _.b.CAN_UPLOAD_IMAGES &&
          0 == i &&
          t.push(
            r.createElement(
              "li",
              { key: "EventEdit_Warning_ArtworkMissing" },
              r.createElement(
                "div",
                { className: u.a.WarningStyles },
                Object(p.f)(
                  e.GetAppID()
                    ? "#EventEdit_Warning_ArtworkMissing"
                    : "#EventEdit_Warning_ArtworkMissing_clan"
                )
              )
            )
          ),
          c > 0 &&
            o > c &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEdit_Warnign_SubTitle" },
                r.createElement(
                  "div",
                  { className: u.a.WarningStyles },
                  Object(p.f)("#EventEdit_Warnign_SubTitle", c, o)
                )
              )
            ),
          i > 0 &&
            o > i &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEdit_Warnign_Artwork" },
                r.createElement(
                  "div",
                  { className: u.a.WarningStyles },
                  Object(p.f)("#EventEdit_Warnign_Artwork", i, o)
                )
              )
            );
        var v = e.GetEventVisibilityStartTime();
        return (
          n &&
            a &&
            e.BGetOriginalEventVisibilityStartTime() != v &&
            v <= s.a.GetTimeNowWithOverride() &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEdit_Warning_VisibilityTimeChange" },
                r.createElement(
                  "div",
                  { className: u.a.WarningStyles },
                  Object(p.f)("#EventEdit_Warning_VisibilityTimeChange")
                )
              )
            ),
          d > 0 &&
            !e.GetEventModel().BShowLibrarySpotlight() &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEdit_Warning_SpotlightImageWithFlag" },
                r.createElement(
                  "div",
                  { className: u.a.WarningStyles },
                  Object(p.f)("#EventEdit_Warning_SpotlightImageWithFlag")
                )
              )
            ),
          t
        );
      }
      function b(e) {
        for (
          var t = new Array(),
            n = new a.b(e),
            i = _.b.IS_VALVE_GROUP,
            l = n.GetSectionObj(i ? 0 : 1),
            s = 0;
          s < 30;
          ++s
        ) {
          var c = 0;
          l.GetHeadline(s) && l.GetHeadline(s).trim().length > 0 && (c += 1),
            l.GetBody(s) && l.GetBody(s).trim().length > 0 && (c += 1),
            i ||
              (1 != c && (2 == c || 0 !== s)) ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_LanguageIncomplete" + s },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)(
                      "#EventEmail_Error_LanguageIncomplete",
                      Object(p.f)("#Language_" + Object(o.a)(s)),
                      c,
                      2
                    )
                  )
                )
              );
        }
        i
          ? (n.GetSectionObjects().filter(function (e) {
              return e.BHasHeadlineInLanguage(0) || e.BHasBodyInLanguage(0);
            }).length > 0 ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_NoText" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEmail_Error_NoText")
                  )
                )
              ),
            n.BHasAnyInternalTargetingAppRight() ||
              n.BHasAnyInternalTargetingPublisherRight() ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_InternalTarget" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEmail_Error_InternalTarget")
                  )
                )
              ))
          : (n.GetSectionObj(0).GetImageHashAndExtRaw(0) ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_EnglishArtworkMissing" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEmail_Error_EnglishArtworkMissing")
                  )
                )
              ),
            n.BHasSomeTargetEnabled() ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_TargetSelection" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEmail_Error_TargetSelection")
                  )
                )
              ),
            void 0 === l.GetRawVideoURL() ||
              null === l.GetRawVideoURL() ||
              "" === l.GetRawVideoURL().trim() ||
              l.BHasValidVideoURL() ||
              t.push(
                r.createElement(
                  "li",
                  { key: "EventEmail_Error_InvalidVideo" },
                  r.createElement(
                    "div",
                    { className: u.a.ErrorStyles },
                    Object(p.f)("#EventEmail_Error_InvalidVideo")
                  )
                )
              ));
        return (
          e.BHidden() &&
            t.push(
              r.createElement(
                "li",
                { key: "EventEmail_Error_EventNotLive" },
                r.createElement(
                  "div",
                  { className: u.a.ErrorStyles },
                  Object(p.f)("#EventEmail_Error_EventNotLive")
                )
              )
            ),
          t
        );
      }
      function v(e) {
        for (
          var t = new Array(),
            n = new a.b(e),
            i = _.b.IS_VALVE_GROUP,
            l = new Array(),
            s = 0;
          s < 30;
          ++s
        ) {
          var c = 0,
            d = n.GetSectionObj(i ? 0 : 1);
          d.GetHeadline(s) && d.GetHeadline(s).trim().length > 0 && (c += 1),
            d.GetBody(s) && d.GetBody(s).trim().length > 0 && (c += 1),
            2 == c &&
              0 != s &&
              void 0 === n.GetSectionObj(0).GetImageHashAndExtRaw(s) &&
              l.push(s);
        }
        return (
          l.length > 0 &&
            (1 == l.length
              ? t.push(
                  r.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_1" + l[0] },
                    r.createElement(
                      "div",
                      { className: u.a.WarningStyles },
                      Object(p.f)(
                        "#EventEmail_Warning_ImageLanguage_1",
                        Object(p.f)("#Language_" + Object(o.a)(l[0]))
                      )
                    )
                  )
                )
              : 2 == l.length
              ? t.push(
                  r.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_2" + l[0] },
                    r.createElement(
                      "div",
                      { className: u.a.WarningStyles },
                      Object(p.f)(
                        "#EventEmail_Warning_ImageLanguage_2",
                        Object(p.f)("#Language_" + Object(o.a)(l[0])),
                        Object(p.f)("#Language_" + Object(o.a)(l[1]))
                      )
                    )
                  )
                )
              : t.push(
                  r.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_n" + l[0] },
                    r.createElement(
                      "div",
                      { className: u.a.WarningStyles },
                      Object(p.f)(
                        "#EventEmail_Warning_ImageLanguage_n",
                        Object(p.f)("#Language_" + Object(o.a)(l[0])),
                        Object(p.f)("#Language_" + Object(o.a)(l[1])),
                        l.length - 2
                      )
                    )
                  )
                )),
          t
        );
      }
    },
    JiI5: function (e, t, n) {
      e.exports = {
        SaleContainer: "partnereventsale_SaleContainer_3BwSi",
        CustomSectionsTitle: "partnereventsale_CustomSectionsTitle_2L2x_",
        SaleSection: "partnereventsale_SaleSection_SOMqO",
        EditorCtn: "partnereventsale_EditorCtn_1SyQQ",
        DefaultTitlePicker: "partnereventsale_DefaultTitlePicker_1Rgup",
        SectionTypePicker: "partnereventsale_SectionTypePicker_3Tjtf",
        SectionTypePrompt: "partnereventsale_SectionTypePrompt_2yqih",
        CrossTabWarning: "partnereventsale_CrossTabWarning_2iLl5",
        CrossTabLink: "partnereventsale_CrossTabLink_VkuQf",
        UploadLinkRow: "partnereventsale_UploadLinkRow_zoWy8",
        UploadLinkImageButton: "partnereventsale_UploadLinkImageButton_3lofP",
        SmallText: "partnereventsale_SmallText_1SKHf",
        FlexContainer: "partnereventsale_FlexContainer_23PZF",
        SearchResults: "partnereventsale_SearchResults_IBZUs",
        AddTitleButton: "partnereventsale_AddTitleButton_1i6s-",
        RemoveTitleButton: "partnereventsale_RemoveTitleButton_3rCfB",
        customTitleOptionsCtn: "partnereventsale_customTitleOptionsCtn_18Ftt",
        CustomTitleCtn: "partnereventsale_CustomTitleCtn_3xf_h",
        LanguageInput: "partnereventsale_LanguageInput_9Ojz4",
        CustomImageTitle: "partnereventsale_CustomImageTitle_1Y-jG",
        PromptText: "partnereventsale_PromptText_2YG1P",
        UploadImageButton: "partnereventsale_UploadImageButton_3Jjrh",
        SettingCtn: "partnereventsale_SettingCtn_32UTR",
        Title: "partnereventsale_Title_11Euz",
        Columns: "partnereventsale_Columns_1uTkj",
        LeftCol: "partnereventsale_LeftCol_3CdEC",
        RightCol: "partnereventsale_RightCol_ly_n8",
        AddSectionBtnCtn: "partnereventsale_AddSectionBtnCtn_3afet",
        SmartSelType: "partnereventsale_SmartSelType_17JE0",
        SmartSelCount: "partnereventsale_SmartSelCount_VRUTW",
        SmartSelLabel: "partnereventsale_SmartSelLabel_2JVw-",
        SaleImportBar: "partnereventsale_SaleImportBar_2bBTj",
        SaleImportBarTooltip: "partnereventsale_SaleImportBarTooltip_12tD-",
        SaleImportBarButton: "partnereventsale_SaleImportBarButton_2JDr9",
        SaleCapsuleConflict: "partnereventsale_SaleCapsuleConflict_1pnji",
        SaleCapsuleImg: "partnereventsale_SaleCapsuleImg_3UFfV",
        SaleVisibilityDate: "partnereventsale_SaleVisibilityDate_2CATv",
        SaleVisibilityDateFilter:
          "partnereventsale_SaleVisibilityDateFilter_7xofs",
        SaleDaySelection: "partnereventsale_SaleDaySelection_nh0SY",
        TextSectionGroup: "partnereventsale_TextSectionGroup_3kcsq",
        TextSectionBBCode: "partnereventsale_TextSectionBBCode_2SWKu",
        TextSectionImages: "partnereventsale_TextSectionImages_3_gw-",
        SaleImportURL: "partnereventsale_SaleImportURL_1AmwV",
        BackgroundSettings: "partnereventsale_BackgroundSettings_3_B1e",
        HalfColumn: "partnereventsale_HalfColumn_3F_CF",
      };
    },
    K1T0: function (e, t, n) {
      e.exports = {
        ErrorPage: "partnereventshared_ErrorPage_1HZBl",
        ErrorMsg: "partnereventshared_ErrorMsg__guJ8",
        ErrorCode: "partnereventshared_ErrorCode_2ZZXk",
        PendingVisibilityText: "partnereventshared_PendingVisibilityText_1G3Ia",
      };
    },
    K3tN: function (e, t, n) {
      e.exports = {
        CurrentTabsCtn: "saletabeditor_CurrentTabsCtn_24eKi",
        AddButton: "saletabeditor_AddButton_2fqBD",
        ImgPreview: "saletabeditor_ImgPreview_3jXQP",
      };
    },
    "KP/B": function (e, t, n) {
      "use strict";
      n.d(t, "j", function () {
        return a;
      }),
        n.d(t, "w", function () {
          return g;
        }),
        n.d(t, "b", function () {
          return h;
        }),
        n.d(t, "c", function () {
          return b;
        }),
        n.d(t, "e", function () {
          return v;
        }),
        n.d(t, "a", function () {
          return E;
        }),
        n.d(t, "n", function () {
          return S;
        }),
        n.d(t, "m", function () {
          return y;
        }),
        n.d(t, "i", function () {
          return O;
        }),
        n.d(t, "h", function () {
          return T;
        }),
        n.d(t, "l", function () {
          return C;
        }),
        n.d(t, "f", function () {
          return j;
        }),
        n.d(t, "s", function () {
          return I;
        }),
        n.d(t, "k", function () {
          return w;
        }),
        n.d(t, "d", function () {
          return M;
        }),
        n.d(t, "t", function () {
          return k;
        }),
        n.d(t, "q", function () {
          return G;
        }),
        n.d(t, "r", function () {
          return L;
        }),
        n.d(t, "u", function () {
          return A;
        }),
        n.d(t, "v", function () {
          return B;
        }),
        n.d(t, "p", function () {
          return N;
        }),
        n.d(t, "o", function () {
          return F;
        }),
        n.d(t, "g", function () {
          return P;
        });
      var a,
        i = n("mrSG"),
        r = n("vDqi"),
        o = n.n(r),
        l = n("226m"),
        s = n("2vnA"),
        c = n("5eAM"),
        u = n("gOcu"),
        d = n("C4Nl"),
        p = n("gyoR"),
        m = n("lkRc"),
        _ = n("fcuX");
      function g(e, t, n, r, _, g) {
        return (
          void 0 === n && (n = !0),
          void 0 === r && (r = !0),
          void 0 === _ && (_ = !0),
          void 0 === g && (g = !1),
          Object(i.b)(this, void 0, void 0, function () {
            var h,
              f,
              b,
              v,
              E,
              S,
              y,
              O,
              T,
              C,
              j,
              I,
              w,
              M,
              D,
              G,
              L = this;
            return Object(i.e)(this, function (A) {
              switch (A.label) {
                case 0:
                  return (
                    (h = null),
                    (f = e.GetEventModel().jsondata.sale_opt_in_page_name),
                    _ && f ? [4, l.a.Get().HintLoadOptInPageData(f)] : [3, 2]
                  );
                case 1:
                  A.sent(), (A.label = 2);
                case 2:
                  return (
                    (b = _ && f ? l.a.Get().GetOptInPageData(f) : null),
                    [
                      4,
                      Object(p.i)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 3:
                  return (
                    A.sent(),
                    [
                      4,
                      Object(p.g)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 4:
                  if (((v = A.sent()), (E = new Map()), !n)) return [3, 8];
                  (S = 0), (y = t), (A.label = 5);
                case 5:
                  return S < y.length
                    ? ((O = y[S]),
                      (C = (T = E).set),
                      (j = [O]),
                      [4, Object(p.f)(O.capsule)])
                    : [3, 8];
                case 6:
                  C.apply(T, j.concat([A.sent()])), (A.label = 7);
                case 7:
                  return S++, [3, 5];
                case 8:
                  if (
                    ((I = new Array()),
                    g &&
                      I.push(
                        (function (e) {
                          return Object(i.b)(this, void 0, void 0, function () {
                            var t, n, a, r, l, s, c, u;
                            return Object(i.e)(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  for (
                                    t = 50, n = [], a = e.slice();
                                    a.length > 0;

                                  )
                                    (r = Math.min(t, a.length)),
                                      (l = a.slice(0, r)),
                                      (a = a.slice(r)),
                                      n.push(l);
                                  return (
                                    (s = n.map(function (e) {
                                      var t =
                                          m.c.STORE_BASE_URL +
                                          "broadcast/ajaxgettopntagsforappbatch",
                                        n = { appids: e.join(",") };
                                      return o.a.get(t, { params: n });
                                    })),
                                    [4, Promise.all(s)]
                                  );
                                case 1:
                                  return (
                                    (c = i.sent()),
                                    (u = new Map()),
                                    c.forEach(function (e) {
                                      var t, n;
                                      null ===
                                        (n =
                                          null ===
                                            (t = null == e ? void 0 : e.data) ||
                                          void 0 === t
                                            ? void 0
                                            : t.apps) ||
                                        void 0 === n ||
                                        n.forEach(function (e) {
                                          u.set(Number(e.appid), e.tags);
                                        });
                                    }),
                                    [2, u]
                                  );
                              }
                            });
                          });
                        })(v).then(function (e) {
                          h = e;
                        })
                      ),
                    r)
                  )
                    for (
                      I.push(u.a.Get().LoadAppIDsBatch(v)),
                        100,
                        w = Promise.resolve(null),
                        M = function (e) {
                          var t = Math.min(100, v.length - e),
                            n = v.slice(e, e + t),
                            a = function () {
                              return Object(i.b)(
                                L,
                                void 0,
                                void 0,
                                function () {
                                  return Object(i.e)(this, function (e) {
                                    return [
                                      2,
                                      d.a
                                        .Get()
                                        .HintLoadStoreItems(
                                          void 0,
                                          n,
                                          [],
                                          [],
                                          d.a.k_DataRequest_CommonOnly
                                        ),
                                    ];
                                  });
                                }
                              );
                            };
                          (w = w.then(a, a)), I.push(w);
                        },
                        D = 0;
                      D < v.length;
                      D += 100
                    )
                      M(D);
                  return [4, Promise.all(I)];
                case 9:
                  return (
                    A.sent(),
                    (G = !1),
                    Object(s.G)(function () {
                      for (var i = 0, o = t; i < o.length; i++) {
                        var l = o[i],
                          s = !1;
                        if (b) {
                          var u = b.get(l.capsule.id);
                          k(
                            l,
                            u
                              ? u.tags.map(function (e) {
                                  return e.name;
                                })
                              : [],
                            a.OptIn
                          ) && (s = !0);
                        }
                        if (n) {
                          for (
                            var d = new Set(), p = 0, m = E.get(l);
                            p < m.length;
                            p++
                          ) {
                            var _ = m[p];
                            if (g) {
                              if (!h || !h.has(_)) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var f = 0, v = h.get(_); f < v.length; f++) {
                                var S = v[f];
                                d.add(S.name);
                              }
                            } else {
                              var y = c.a.GetAppLinkInfo(_);
                              if (!y || !y.tags) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var O = 0, T = y.tags; O < T.length; O++) {
                                S = T[O];
                                d.add(S.name);
                              }
                            }
                          }
                          k(l, Array.from(d), a.Store) && (s = !0);
                        }
                        if (r) k(l, x(l.capsule), a.Feature) && (s = !0);
                        s &&
                          (B(e.GetEventModel().jsondata.auto_item_tags, l),
                          (G = !0));
                      }
                    }),
                    [2, G]
                  );
              }
            });
          })
        );
      }
      function h(e, t, n) {
        return Object(i.b)(this, void 0, void 0, function () {
          var a, r;
          return Object(i.e)(this, function (i) {
            switch (i.label) {
              case 0:
                return (
                  e.GetEventModel().jsondata.tagged_items ||
                    (e.GetEventModel().jsondata.tagged_items = new Array()),
                  (a = e.GetEventModel().GetTaggedItems()).find(function (e) {
                    return e.capsule.id === n && e.capsule.type === t;
                  })
                    ? [2]
                    : ((r = { capsule: { id: n, type: t }, tags: new Array() }),
                      [4, g(e, [r])])
                );
              case 1:
                return (
                  i.sent(), a.push(r), A(e), e.SetDirty(_.c.jsondata_sales), [2]
                );
            }
          });
        });
      }
      function f(e, t) {
        e.manually_added_tags &&
          (e.manually_added_tags = e.manually_added_tags.filter(function (e) {
            return e.toLocaleLowerCase() != t;
          })),
          e.manually_removed_tags &&
            (e.manually_removed_tags = e.manually_removed_tags.filter(function (
              e
            ) {
              return e.toLocaleLowerCase() != t;
            }));
      }
      function b(e, t) {
        for (var n = !1, a = new Map(), i = 0, r = e.tags; i < r.length; i++) {
          var o = r[i];
          a.set(o.toLocaleLowerCase(), o);
        }
        for (var l = 0, s = t; l < s.length; l++) {
          var c = s[l],
            u = c.toLocaleLowerCase();
          a.has(u)
            ? a.delete(u)
            : (f(e, u),
              e.manually_added_tags || (e.manually_added_tags = []),
              e.manually_added_tags.push(c),
              (n = !0));
        }
        return (
          a.forEach(function (t, a) {
            f(e, a),
              e.manually_removed_tags || (e.manually_removed_tags = []),
              e.manually_removed_tags.push(t),
              (n = !0);
          }),
          n && (e.tags = t),
          n
        );
      }
      function v(e) {
        return JSON.parse(JSON.stringify(e));
      }
      function E(e, t, n) {
        for (var a = 0, i = t; a < i.length; a++) {
          var r = i[a],
            o = r.toLocaleLowerCase(),
            l = n.get(o);
          l ? l.items.push(e) : n.set(o, { properCaseString: r, items: [e] });
        }
      }
      function S(e) {
        for (var t = new Map(), n = 0, a = e; n < a.length; n++) {
          var i = a[n];
          i.tags && E(i, i.tags, t);
        }
        return t;
      }
      function y(e) {
        var t = new Set();
        return (
          e.forEach(function (e) {
            return t.add(e.toLocaleLowerCase());
          }),
          t
        );
      }
      function O(e, t) {
        if (t && t.clauses)
          for (var n = 0, a = t.clauses; n < a.length; n++) {
            var i = a[n];
            if (i.or_tags) {
              for (var r = !1, o = 0, l = 0, s = i.or_tags; l < s.length; l++) {
                var c = s[l];
                if (c && (o++, (r = e.has(c.toLocaleLowerCase())))) break;
              }
              if (0 !== o) if (!("Must have" === i.type ? r : !r)) return !1;
            }
          }
        return !0;
      }
      function T(e, t) {
        return !t || !t.clauses || O(y(e), t);
      }
      function C(e, t) {
        return e.filter(function (e) {
          return T(e.tags, t);
        });
      }
      function j(e, t) {
        return "[" + t + "] " + e;
      }
      function I(e) {
        return e.replace(/^\[(.+)\]/, "").trim();
      }
      function w(e) {
        var t = /^\[(.+)\]/.exec(e);
        return t ? t[1] : void 0;
      }
      function M(e, t) {
        return w(e) === t;
      }
      function D(e, t) {
        return (
          !!t &&
          t.some(function (t) {
            return t.toLocaleLowerCase() === e;
          })
        );
      }
      function k(e, t, n, a) {
        void 0 === a && (a = null);
        var i = !1,
          r = new Map();
        t.forEach(function (e) {
          var t = w(e);
          if (!t || t === n) {
            var a = t ? e : j(e, n);
            r.set(a.toLocaleLowerCase(), a);
          }
        });
        var o = j("", n).toLocaleLowerCase(),
          l = null;
        return (
          a &&
            ((l = new Set()),
            a.forEach(function (e) {
              var t = w(e);
              if (!t || t === n) {
                var a = t ? e : j(e, n);
                l.add(a.toLocaleLowerCase());
              }
            })),
          (e.tags = e.tags.filter(function (t) {
            var n = t.toLocaleLowerCase();
            return (
              !(!l || l.has(n)) ||
              !n.startsWith(o) ||
              (r.has(n)
                ? (r.delete(n), !0)
                : !!D(n, e.manually_added_tags) || ((i = !0), !1))
            );
          })),
          r.forEach(function (t, n) {
            D(n, e.tags) ||
              D(n, e.manually_removed_tags) ||
              ((i = !0), e.tags.push(t));
          }),
          i
        );
      }
      function G(e) {
        var t;
        if (
          !e ||
          !(null === (t = e.clauses) || void 0 === t ? void 0 : t.length)
        )
          return !0;
        for (var n = 0, a = e.clauses; n < a.length; n++) {
          if (a[n].or_tags.length > 0) return !1;
        }
        return !0;
      }
      function L(e, t, n) {
        for (var a = new Map(), i = 0, r = n; i < r.length; i++) {
          var o = r[i];
          a.set(o.type + o.id, !1);
        }
        for (
          var l = C(e, t), s = new Array(), c = 0, u = l;
          c < u.length;
          c++
        ) {
          var d = u[c],
            p = d.capsule.type + d.capsule.id,
            m = a.get(p);
          void 0 === m ? s.push(d.capsule) : !1 === m && a.set(p, !0);
        }
        var _ = n.filter(function (e) {
          return a.get(e.type + e.id);
        });
        return _.push.apply(_, s), _;
      }
      function A(e) {
        Object(s.G)(function () {
          var t = F(e);
          if (e.GetEventModel().jsondata.sorting_tiers)
            for (
              var n = 0, a = e.GetEventModel().jsondata.sorting_tiers;
              n < a.length;
              n++
            ) {
              var i = a[n];
              i.sale_tag_filter &&
                (i.capsules = L(t, i.sale_tag_filter, i.capsules));
            }
          for (
            var r = 0, o = e.GetEventModel().GetSaleSections();
            r < o.length;
            r++
          ) {
            var l = o[r];
            if (
              (l.sale_tag_filter &&
                (l.capsules = L(t, l.sale_tag_filter, l.capsules)),
              l.tabs)
            )
              for (var s = 0, c = l.tabs; s < c.length; s++) {
                var u = c[s];
                u.sale_tag_filter &&
                  (u.capsules = L(t, u.sale_tag_filter, u.capsules));
              }
          }
        });
      }
      function B(e, t) {
        var n = new Array();
        if (e)
          for (var i = 0, r = e; i < r.length; i++) {
            var o = r[i];
            T(t.tags, o.filter) && n.push(o.tag_name);
          }
        return k(t, n, a.Auto);
      }
      function N(e) {
        return e.GetEventModel().jsondata.tagged_item_filter || { clauses: [] };
      }
      function F(e) {
        var t = N(e);
        return C(e.GetEventModel().GetTaggedItems(), t);
      }
      function R(e, t) {
        return (
          !!e.content_descriptors &&
          void 0 !==
            e.content_descriptors.find(function (e) {
              return e === t;
            })
        );
      }
      function x(e) {
        var t = new Array(),
          n = c.a.GetAppLinkInfo(e.id),
          a = u.a.Get().GetDemoEventInfo(e.id),
          i = d.a.Get().GetApp(e.id);
        return (
          a && a.demo_appid && t.push("Has Demo"),
          n
            ? (n.coming_soon && t.push("Coming Soon"),
              n.available_linux && t.push("Linux"),
              n.available_mac && t.push("Mac"),
              n.support_vrhmd && t.push("VR"),
              n.support_vrhmd_only && t.push("VR Only"),
              n.discount_percent && t.push("Discounted"),
              n.is_free && t.push("Free"),
              "music" === n.type && t.push("Soundtrack"),
              "dlc" === n.type && t.push("DLC"),
              R(n, 3) && t.push("Adult Only Sexual Content"),
              R(n, 1) && t.push("Nudity or Sexual Content"),
              R(n, 2) && t.push("Violence or Gore"))
            : console.log("Could not load appinfo for", e.type, e.id),
          i &&
            (i.BHasStoreCategory(28) && t.push("Full Controller"),
            i.BHasStoreCategory(9) && t.push("Coop"),
            (i.BHasStoreCategory(41) ||
              i.BHasStoreCategory(42) ||
              i.BHasStoreCategory(43) ||
              i.BHasStoreCategory(44)) &&
              t.push("Remote Play"),
            i.BHasStoreCategory(44) && t.push("Remote Play Together")),
          t
        );
      }
      function P(e) {
        var t = N(e);
        if (G(t)) return !1;
        var n = e.GetEventModel().jsondata.tagged_items.length;
        return (
          Object(s.G)(function () {
            e.GetEventModel().jsondata.tagged_items = C(
              e.GetEventModel().jsondata.tagged_items,
              t
            );
          }),
          e.GetEventModel().jsondata.tagged_items.length !== n
        );
      }
      !(function (e) {
        (e.Store = "Store"),
          (e.Feature = "Feature"),
          (e.OptIn = "Opt"),
          (e.Auto = "Auto"),
          (e.Custom = "Custom");
      })(a || (a = {}));
    },
    KmXr: function (e, t, n) {
      e.exports = {
        Label: "importexportdialog_Label_1LhIt",
        ImportLocSampleButtonCtn:
          "importexportdialog_ImportLocSampleButtonCtn_D-1dl",
        SampleTitle: "importexportdialog_SampleTitle_9189i",
        ImportButton: "importexportdialog_ImportButton_Wyfyx",
      };
    },
    Mnbl: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return B;
      }),
        n.d(t, "b", function () {
          return N;
        }),
        n.d(t, "d", function () {
          return F;
        }),
        n.d(t, "c", function () {
          return R;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("Q47U"),
        l = n("t0uJ"),
        s = n("2vnA"),
        c = n("TyAF"),
        u = n("q1tI"),
        d = n("dZOt"),
        p = n("9w6b"),
        m = n("Mgs7"),
        _ = n("fpVW"),
        g = n("yKSN"),
        h = n("Jqb/"),
        f = n("ka0M"),
        b = n("5E+2"),
        v = n("exH9"),
        E = n("X3Ds"),
        S = n("TLQK"),
        y = n("P2lf"),
        O = n("bDQf"),
        T = n("bxiW"),
        C = n("lkRc"),
        j = "email_headline_",
        I = "email_body_",
        w = "sale_section_label_id_",
        M = "sale_section_text_id_",
        D = "email_subject",
        k = "sale_tab_name_",
        G = "sale_facet_name_",
        L = "sale_facetvalue_name_",
        A = "sale_facetvalue_subtitle_";
      function B(e, t, n, a) {
        var i = new y.b();
        if (t)
          for (var r = 0; r < 30; ++r) {
            var o = e.GetEventModel();
            (e.BHasLanguageTitle(r) || 0 == r) &&
              i.SetLocalization("title", r, e.GetName(r)),
              (o.BHasSubTitle(r) || 0 == r) &&
                i.SetLocalization("subtitle", r, e.GetSubTitle(r)),
              (e.BHasLanguageDescription(r) || 0 == r) &&
                i.SetLocalization("body", r, e.GetDescription(r)),
              (o.BHasSummary(r) || 0 == r) &&
                i.SetLocalization("summary", r, e.GetSummary(r));
          }
        if (n && e.BHasEmailEnabled()) {
          var l = e.GetEmailSettings();
          if (C.b.IS_VALVE_GROUP) {
            var s = new d.b(e.GetEmailSettings());
            for (r = 0; r < 30; ++r)
              s.BHasLocalizedSubject(r) &&
                i.SetLocalization(D, r, s.GetLocalizedSubject(r));
          }
          l.sections.forEach(function (e, t) {
            for (var n = new d.a(e), a = 0; a < 30; ++a)
              n.BHasHeadlineInLanguage(a) &&
                i.SetLocalization(j + t, a, n.GetHeadline(a)),
                n.BHasBodyInLanguage(a) &&
                  i.SetLocalization(I + t, a, n.GetBody(a));
          });
        }
        return (
          a &&
            e.BHasSaleEnabled() &&
            e.GetSaleSections().forEach(function (t, n) {
              for (
                var a = function (a) {
                    if (
                      (e.BHasSaleSectionLabelLocalization(a, n) &&
                        i.SetLocalization(
                          w + t.unique_id,
                          a,
                          t.localized_label[a]
                        ),
                      e.BHasSaleSectionTextLocalization(a, n) &&
                        i.SetLocalization(
                          M + t.unique_id,
                          a,
                          t.text_section_contents[a]
                        ),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var r = 0, o = t.tabs; r < o.length; r++) {
                        var l = o[r];
                        e.BHasSaleSectionTabName(a, l) &&
                          i.SetLocalization(
                            k + t.unique_id + "_" + l.unique_id,
                            a,
                            l.localized_label[a]
                          );
                      }
                    t.enable_faceted_browsing &&
                      (t.facets.forEach(function (n) {
                        e.BHasSaleSectionFacetName(a, n) &&
                          i.SetLocalization(
                            G + t.unique_id + "_" + n.unique_id,
                            a,
                            n.name[a]
                          );
                      }),
                      t.facets.forEach(function (n) {
                        n.facetValues.forEach(function (r) {
                          e.BHasSaleSectionFacetValueName(a, r) &&
                            i.SetLocalization(
                              L +
                                t.unique_id +
                                "_" +
                                n.unique_id +
                                "_" +
                                r.unique_id,
                              a,
                              r.name[a]
                            ),
                            e.BHasSaleSectionFacetValueSubtitle(a, r) &&
                              i.SetLocalization(
                                A +
                                  t.unique_id +
                                  "_" +
                                  n.unique_id +
                                  "_" +
                                  r.unique_id,
                                a,
                                r.subtitle[a]
                              );
                        });
                      }));
                  },
                  r = 0;
                r < 30;
                ++r
              )
                a(r);
            }),
          i
        );
      }
      function N(e, t, n) {
        var a = new Array(),
          i = t.GetSortedTokenList();
        return (
          Object(s.G)(function () {
            n.forEach(function (n) {
              var r = !1;
              i.forEach(function (a) {
                var i = t.GetLocalization(a, n) || "";
                if (
                  ("title" === a &&
                    (i || e.BHasLanguageTitle(n)) &&
                    e.SetName(n, i) &&
                    (r = !0),
                  "body" === a &&
                    (i || e.BHasLanguageDescription(n)) &&
                    e.SetDescription(n, i) &&
                    (r = !0),
                  "subtitle" === a &&
                    (i || e.BHasLanguageSubTitle(n)) &&
                    e.SetSubTitle(n, i) &&
                    (r = !0),
                  "summary" === a &&
                    (i || e.BHasLanguageSummary(n)) &&
                    e.SetSummary(n, i) &&
                    (r = !0),
                  e.BHasEmailEnabled())
                ) {
                  var l = e.GetEmailSettings();
                  if (C.b.IS_VALVE_GROUP && a === D) {
                    var s = new o.b(e);
                    (i || s.BHasLocalizedSubject(n)) &&
                      s.SetLocalizedSubject(n, i) &&
                      (r = !0);
                  }
                  l.sections.forEach(function (t, l) {
                    var s = new o.a(t, e);
                    s.BHasHeadline() &&
                      a === j + l &&
                      (i || s.BHasHeadlineInLanguage(n)) &&
                      s.SetHeadline(i, n) &&
                      (r = !0),
                      s.BHasBody() &&
                        a === I + l &&
                        (i || s.BHasBodyInLanguage(n)) &&
                        s.SetBody(i, n) &&
                        (r = !0);
                  });
                }
                e.BHasSaleEnabled() &&
                  e.GetSaleSections().forEach(function (t, o) {
                    if (
                      ((a !== "sale_section_label_" + o &&
                        a !== w + t.unique_id) ||
                        ((i || e.BHasSaleSectionLabelLocalization(n, o)) &&
                          e.SetSaleSectionLabelLocalization(n, o, i) &&
                          (r = !0)),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var l = 0, s = t.tabs; l < s.length; l++) {
                        var c = s[l];
                        a === k + t.unique_id + "_" + c.unique_id &&
                          (i || e.BHasSaleSectionTabName(n, c)) &&
                          e.SetSaleSectionTabName(n, c, i) &&
                          (r = !0);
                      }
                    "text_section" === t.section_type &&
                      a === M + t.unique_id &&
                      (i || e.BHasSaleSectionTextLocalization(n, o)) &&
                      e.SetSaleSectionTextLocalization(n, o, i) &&
                      (r = !0),
                      t.enable_faceted_browsing &&
                        t.facets.forEach(function (o) {
                          a === G + t.unique_id + "_" + o.unique_id &&
                            (i || e.BHasSaleSectionFacetName(n, o)) &&
                            e.SetSaleSectionFacetName(n, o, i) &&
                            (r = !0),
                            o.facetValues.forEach(function (l) {
                              a ===
                                L +
                                  t.unique_id +
                                  "_" +
                                  o.unique_id +
                                  "_" +
                                  l.unique_id &&
                                (i || e.BHasSaleSectionFacetValueName(n, l)) &&
                                e.SetSaleSectionFacetValueName(n, l, i) &&
                                (r = !0),
                                a ===
                                  A +
                                    t.unique_id +
                                    "_" +
                                    o.unique_id +
                                    "_" +
                                    l.unique_id &&
                                  (i ||
                                    e.BHasSaleSectionFacetValueSubtitle(
                                      n,
                                      l
                                    )) &&
                                  e.SetSaleSectionFacetValueSubtitle(n, l, i) &&
                                  (r = !0);
                            });
                        });
                  });
              }),
                r && a.push(n);
            });
          }),
          a
        );
      }
      var F = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                importing: !1,
                translating: !1,
                langUpdated: new Array(),
              }),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "Unmounting LocalizationToolPartnerEvents"
              );
            }),
            (t.prototype.OnRequestTranslations = function (e) {
              var t = this;
              e.preventDefault();
              var n = this.props.editModel;
              !n.BHasGid() || n.BIsDirty()
                ? (console.log(
                    "LocalizationToolPartnerEvents: OnRequestTranslations error"
                  ),
                  Object(f.d)(
                    u.createElement(
                      h.f,
                      null,
                      u.createElement(
                        "p",
                        null,
                        "We cannot initiate translation if the event has unsaved changes. Please save first."
                      )
                    ),
                    Object(E.m)(e)
                  ))
                : Object(f.d)(
                    u.createElement(h.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Create or update an English translate for this event and email. Best to be issued once editing is completed.",
                      onOK: function () {
                        return t.setState(
                          { translating: !0 },
                          t.RequestTranslation
                        );
                      },
                    }),
                    Object(E.m)(e)
                  );
            }),
            (t.prototype.RequestTranslation = function () {
              var e = this,
                t = this.props.editModel;
              l.c
                .RequestLocalizationOfEvent(
                  t.GetClanSteamID(),
                  t.GetGID(),
                  this.m_cancelSignal
                )
                .then(function () {
                  Object(f.d)(
                    u.createElement(h.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Success! Translation request pushed to CrowdIn",
                      bAlertDialog: !0,
                      closeModal: function () {
                        return e.setState({ translating: !1 });
                      },
                    }),
                    window
                  );
                })
                .catch(function (t) {
                  console.log(
                    "LocalizationToolPartnerEvents: RequestTranslation error"
                  ),
                    Object(f.d)(
                      u.createElement(
                        h.f,
                        {
                          closeModal: function () {
                            return e.setState({ translating: !1 });
                          },
                        },
                        u.createElement(
                          "div",
                          null,
                          u.createElement(
                            "p",
                            null,
                            "Encountered the following error attempting to send the event information to CrowdIn:"
                          ),
                          u.createElement("p", null, Object(O.a)(t).strErrorMsg)
                        )
                      ),
                      window
                    );
                });
            }),
            (t.prototype.render = function () {
              return u.createElement(
                "div",
                { className: Object(v.a)(_.FlexRowContainer) },
                u.createElement(R, { editModel: this.props.editModel })
              );
            }),
            Object(a.c)([T.a], t.prototype, "OnRequestTranslations", null),
            Object(a.c)([T.a], t.prototype, "RequestTranslation", null),
            (t = Object(a.c)([c.a], t))
          );
        })(u.Component),
        R = function (e) {
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(
              b.a,
              {
                className: Object(v.a)(_.EditPreviewButton),
                toolTipContent: Object(S.f)("#EventEditor_Loc_Export_Desc0"),
              },
              u.createElement(
                "a",
                {
                  onClick: function (t) {
                    t.preventDefault(),
                      Object(f.d)(
                        u.createElement(x, { editModel: e.editModel }),
                        Object(E.m)(t)
                      );
                  },
                },
                Object(S.f)("#EventEditor_Loc_Export_Short")
              )
            ),
            u.createElement(g.b, {
              strToolTip: Object(S.f)("#EventEditor_Loc_Import_ttip"),
              strLabel: Object(S.f)("#EventEditor_Loc_Import_Short"),
              fnOnImportLocData: function (t, n) {
                return N(e.editModel, t, n);
              },
            })
          );
        },
        x = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowCSV: !0,
                bExportEventBody: !0,
                bExportEmail: t.props.editModel.BHasEmailEnabled(),
                bExportSale: t.props.editModel.BHasSaleEnabled(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetLocalizationFilePrefix = function () {
              var e = this.props.editModel.GetName(0);
              return (e && "" != e.trim()) || (e = "event"), e;
            }),
            (t.prototype.GetLocalizationModel = function () {
              return B(
                this.props.editModel,
                this.state.bExportEventBody,
                this.state.bExportEmail,
                this.state.bExportSale
              );
            }),
            (t.prototype.OnExportTypeChange = function (e) {
              this.setState({ bShowCSV: "csv" == e });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.closeModal,
                a = t.editModel,
                i = p.a.Get().GetPartnerEventPermissions(a.GetClanSteamID());
              return u.createElement(
                h.e,
                { onCancel: n, closeModal: n },
                u.createElement(
                  m.l,
                  null,
                  Object(S.f)("#EventEditor_Loc_Export")
                ),
                u.createElement(
                  m.b,
                  null,
                  u.createElement(
                    m.c,
                    null,
                    u.createElement(
                      "div",
                      { className: Object(v.a)(_.FlexColumnContainer) },
                      u.createElement(
                        "p",
                        null,
                        Object(S.f)("#EventEditor_Loc_Export_Desc0")
                      ),
                      u.createElement(
                        "div",
                        {
                          className: Object(v.a)(
                            _.FlexRowContainer,
                            _.RadioOption
                          ),
                        },
                        u.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportCSVOption",
                          value: "csv",
                          checked: this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("csv");
                          },
                        }),
                        u.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportCSVOption" },
                          u.createElement(
                            "span",
                            null,
                            Object(S.f)("#EventEditor_Loc_Export_CSV")
                          )
                        )
                      ),
                      u.createElement(
                        "div",
                        {
                          className: Object(v.a)(
                            _.FlexRowContainer,
                            _.RadioOption
                          ),
                        },
                        u.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportXMLOption",
                          value: "xml",
                          checked: !this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("xml");
                          },
                        }),
                        u.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportXMLOption" },
                          u.createElement(
                            "span",
                            null,
                            Object(S.f)("#EventEditor_Loc_Export_XML")
                          )
                        )
                      ),
                      Boolean(
                        i.support_user &&
                          (a.BHasSaleEnabled() || a.BHasEmailEnabled)
                      ) &&
                        u.createElement(
                          "div",
                          { className: _.ValveOnlyBackground },
                          u.createElement(
                            "p",
                            null,
                            "(VO) Identify which sections to export"
                          ),
                          u.createElement(m.e, {
                            label: "Export Event Body",
                            onChange: function (t) {
                              return e.setState({ bExportEventBody: t });
                            },
                            checked: this.state.bExportEventBody,
                          }),
                          u.createElement(m.e, {
                            disabled: !a.BHasEmailEnabled(),
                            label: "Export Email",
                            onChange: function (t) {
                              return e.setState({ bExportEmail: t });
                            },
                            checked: this.state.bExportEmail,
                          }),
                          u.createElement(m.e, {
                            disabled: !a.BHasSaleEnabled(),
                            label: "Export Sales",
                            onChange: function (t) {
                              return e.setState({ bExportSale: t });
                            },
                            checked: this.state.bExportSale,
                          })
                        ),
                      this.state.bShowCSV
                        ? u.createElement(
                            u.Fragment,
                            null,
                            u.createElement(
                              "p",
                              null,
                              Object(S.f)("#EventEditor_Loc_Export_Desc")
                            ),
                            u.createElement(
                              "p",
                              null,
                              Object(S.f)("#EventEditor_Loc_Export_Desc2")
                            ),
                            u.createElement(
                              "p",
                              null,
                              Object(S.f)("#EventEditor_Loc_Export_Desc3")
                            )
                          )
                        : u.createElement(
                            u.Fragment,
                            null,
                            u.createElement(
                              "p",
                              null,
                              Object(S.f)("#EventEditor_Loc_Export_XMLDesc")
                            ),
                            u.createElement(
                              "p",
                              null,
                              Object(S.f)("#EventEditor_Loc_Export_XMLDesc2")
                            )
                          )
                    )
                  ),
                  u.createElement(
                    m.k,
                    null,
                    u.createElement(g.a, {
                      fnGetLocData: this.GetLocalizationModel,
                      bShowCSV: this.state.bShowCSV,
                      bShowXML: !this.state.bShowCSV,
                      strFileNamePrefix: this.GetLocalizationFilePrefix(),
                      lang: this.props.editModel.GetCurEditLanguage(),
                      closeModal: this.props.closeModal,
                    }),
                    u.createElement(
                      m.d,
                      { onClick: n },
                      Object(S.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(a.c)([T.a], t.prototype, "GetLocalizationModel", null),
            Object(a.c)([T.a], t.prototype, "OnExportTypeChange", null),
            (t = Object(a.c)([c.a], t))
          );
        })(u.Component);
    },
    N038: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return b;
      }),
        n.d(t, "a", function () {
          return E;
        });
      var a,
        i = n("mrSG"),
        r = n("vDqi"),
        o = n.n(r),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("kLLr"),
        u = (n("2vnA"), n("bDQf")),
        d = n("lkRc");
      !(function (e) {
        (e[(e.k_ModReviewed = 0)] = "k_ModReviewed"),
          (e[(e.k_ModUnreviewed = 1)] = "k_ModUnreviewed"),
          (e[(e.k_ChangeEventType = 2)] = "k_ChangeEventType"),
          (e[(e.k_UpdateSeasonTags = 3)] = "k_UpdateSeasonTags"),
          (e[(e.k_ModReReviewed = 4)] = "k_ModReReviewed"),
          (e[(e.k_ModRemovedFromSteamChina = 5)] =
            "k_ModRemovedFromSteamChina"),
          (e[(e.k_ModFlagAdultOnlyContent = 6)] = "k_ModFlagAdultOnlyContent"),
          (e[(e.k_ModRemoveAdultOnlyContent = 7)] =
            "k_ModRemoveAdultOnlyContent");
      })(a || (a = {}));
      var p = "ModAct",
        m = (function () {
          function e() {}
          return (
            (e.prototype.ToModString = function () {
              var e =
                "ModAct_" +
                this.m_moderator +
                "_" +
                Math.floor(this.m_rtWhen) +
                "_" +
                this.m_action;
              switch (this.m_action) {
                case a.k_ChangeEventType:
                  e += "_" + this.m_newEventType;
                  break;
                case a.k_UpdateSeasonTags:
                  e += "_" + this.m_newTagAdded;
              }
              return e;
            }),
            (e.prototype.FromString = function (e) {
              var t = e.split("_");
              if (!t || t[0] !== p) return !1;
              switch (
                ((this.m_moderator = Number(t[1])),
                (this.m_rtWhen = Number(t[2])),
                (this.m_action = Number(t[3])),
                this.m_action)
              ) {
                case a.k_ChangeEventType:
                  this.m_newEventType = Number(t[4]);
                  break;
                case a.k_UpdateSeasonTags:
                  this.m_newTagAdded = t.slice(4).join("_");
              }
              return !0;
            }),
            (e.prototype.SetActionChangeEvent = function (e) {
              return (
                (this.m_moderator = d.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = a.k_ChangeEventType),
                (this.m_newEventType = e),
                this
              );
            }),
            (e.prototype.SetReviewAction = function (e) {
              return (
                (this.m_moderator = d.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? a.k_ModReviewed : a.k_ModUnreviewed),
                this
              );
            }),
            (e.prototype.SetAdultOnlyContentAction = function (e) {
              return (
                (this.m_moderator = d.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e
                  ? a.k_ModFlagAdultOnlyContent
                  : a.k_ModRemoveAdultOnlyContent),
                this
              );
            }),
            (e.prototype.SetReReviewAction = function (e) {
              return (
                (this.m_moderator = d.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? a.k_ModReReviewed : a.k_ModUnreviewed),
                this
              );
            }),
            (e.IsAuditAction = function (e) {
              return e.startsWith(p);
            }),
            (e.prototype.SetUpdateSeasonalTags = function (e) {
              return (
                (this.m_moderator = d.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = a.k_UpdateSeasonTags),
                (this.m_newTagAdded = e),
                this
              );
            }),
            e
          );
        })(),
        _ = n("Qcoi"),
        g = n("TLQK"),
        h = n("N0Ye"),
        f = n("zrk3"),
        b = Object(l.a)(function (e) {
          var t = e.accountID,
            n = e.locToken,
            a = c.a.InitFromAccountID(t).ConvertTo64BitString(),
            r = s.useRef(null),
            l = s.useState(_.a.GetProfile(a)),
            p = l[0],
            m = l[1];
          s.useEffect(
            function () {
              var e = c.a.InitFromAccountID(t).ConvertTo64BitString();
              if (!_.a.BHasProfile(e)) {
                Object(i.b)(void 0, void 0, void 0, function () {
                  var t, n, a;
                  return Object(i.e)(this, function (i) {
                    switch (i.label) {
                      case 0:
                        (t = o.a.CancelToken.source()),
                          (r.current = t.cancel),
                          (i.label = 1);
                      case 1:
                        return (
                          i.trys.push([1, 3, , 4]), [4, _.a.LoadProfiles([e])]
                        );
                      case 2:
                        return i.sent(), [3, 4];
                      case 3:
                        return (
                          (n = i.sent()),
                          (a = Object(u.a)(n)),
                          console.error(
                            "EventModerationTile profile load : " +
                              a.strErrorMsg,
                            a
                          ),
                          [3, 4]
                        );
                      case 4:
                        return t.token.reason || m(_.a.GetProfile(e)), [2];
                    }
                  });
                });
              }
              return function () {
                r.current && r.current("ModEventUserProfile: unmounting");
              };
            },
            [t]
          );
          var h =
            "https://steamsupport.valvesoftware.com/account/overview/" + a;
          return s.createElement(
            "div",
            null,
            Object(g.n)(
              n,
              s.createElement(
                "a",
                { href: h, target: d.c.IN_CLIENT ? void 0 : "_blank" },
                Boolean(p)
                  ? s.createElement(s.Fragment, null, p.persona_name)
                  : s.createElement(
                      s.Fragment,
                      null,
                      s.createElement("span", null, t)
                    )
              )
            )
          );
        }),
        v = function (e) {
          var t = e.modAction,
            n = Object(g.k)(t.m_rtWhen) + " @ " + Object(g.m)(t.m_rtWhen),
            i = s.createElement(b, {
              locToken: "#EventModTile_Moderator",
              accountID: t.m_moderator,
            });
          switch (t.m_action) {
            case a.k_ModReviewed:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_Reviewed",
                  s.createElement("span", null, n),
                  i
                )
              );
            case a.k_ModUnreviewed:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_UnReviewed",
                  s.createElement("span", null, n),
                  i
                )
              );
            case a.k_ChangeEventType:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_NewEventType",
                  s.createElement("span", null, n),
                  i,
                  Object(h.e)(t.m_newEventType)
                )
              );
            case a.k_UpdateSeasonTags:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_SeasonTagUpdate",
                  s.createElement("span", null, n),
                  i,
                  t.m_newTagAdded
                )
              );
            case a.k_ModReReviewed:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_ReReviewed",
                  s.createElement("span", null, n),
                  i
                )
              );
            case a.k_ModRemovedFromSteamChina:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_RemoveFromSC",
                  s.createElement("span", null, n),
                  i
                )
              );
            case a.k_ModFlagAdultOnlyContent:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_FlagAdultContent",
                  s.createElement("span", null, n),
                  i
                )
              );
            case a.k_ModRemoveAdultOnlyContent:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                Object(g.n)(
                  "#EventModTile_Action_RemoveAdultContent",
                  s.createElement("span", null, n),
                  i
                )
              );
            default:
              return s.createElement(
                "div",
                { className: f.ModeratorAuditActionCtn },
                t.ToModString
              );
          }
        },
        E = function (e) {
          var t = s.useState(!0),
            n = t[0],
            a = t[1],
            i = e.eventModel
              .GetAllTags()
              .filter(function (e) {
                return m.IsAuditAction(e);
              })
              .reverse(),
            r = i.length,
            o = i.length > 3 && n;
          return 0 == i.length
            ? null
            : (o && (i = i.splice(0, 3)),
              s.createElement(
                "div",
                null,
                s.createElement(
                  "h4",
                  null,
                  Object(g.f)("#EventModTile_Action_Title")
                ),
                (function (t) {
                  var n = e.eventModel;
                  return t.map(function (e) {
                    var t = new m();
                    return (
                      t.FromString(e),
                      s.createElement(v, { key: n.GID + e, modAction: t })
                    );
                  });
                })(i),
                o &&
                  s.createElement(
                    "a",
                    {
                      onClick: function () {
                        return a(!1);
                      },
                      className: f.ExpandModActions,
                    },
                    Object(g.f)("#EventModTile_Action_More", r - 3)
                  ),
                Boolean(!o && r > 3) &&
                  s.createElement(
                    "a",
                    {
                      onClick: function () {
                        return a(!0);
                      },
                      className: f.ExpandModActions,
                    },
                    Object(g.f)("#EventModTile_Action_Hide")
                  )
              ));
        };
    },
    NrWE: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return k;
      }),
        n.d(t, "b", function () {
          return L;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("TyAF"),
        l = n("q1tI"),
        s = n("1VNF"),
        c = n("kLLr"),
        u = n("U+Q5"),
        d = n("9w6b"),
        p = n("fpVW"),
        m = n.n(p),
        _ = n("Jqb/"),
        g = n("ka0M"),
        h = n("0OaU"),
        f = n("exH9"),
        b = n("X3Ds"),
        v = n("TLQK"),
        E = n("bDQf"),
        S = n("bxiW"),
        y = n("75vw"),
        O = n.n(y),
        T = n("Mgs7"),
        C = n("6yBx"),
        j = n("bVxH"),
        I = n("R5ed"),
        w = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bPrefetchingLanguages: !0 }),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              if (this.props.closeModal) {
                var e = this.props.primaryLocalizedImage;
                u.d.SetPrimaryImageForImageGroup(e, "localized_image_group"),
                  this.LoadImageResolution(),
                  this.LoadAvailableLocalizations();
              }
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.LoadImageResolution = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (e = this.props.primaryLocalizedImage),
                        (t = c.a.InitFromClanID(e.clanAccountID)),
                        [
                          4,
                          u.d.AsyncGetImageResolution(
                            t,
                            e.image_hash,
                            e.file_type,
                            this.m_cancelSignal,
                            !1
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (n = a.sent()),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ imageSize: n }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (i = a.sent()),
                        (r = Object(E.a)(i)),
                        console.error(
                          "LocalizedImageDialog : " + r.strErrorMsg,
                          r
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.LoadAvailableLocalizations = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        [
                          4,
                          u.d.DetermineAvailableLocalizationForGroup(
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return (
                        n.sent(),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bPrefetchingLanguages: !1 }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (e = n.sent()),
                        (t = Object(E.a)(e)),
                        console.error(
                          "LocalizedImageDialog : " + t.strErrorMsg,
                          t
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnCommitGroup = function () {}),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                n = e.primaryLocalizedImage,
                a = e.clanSteamID,
                i = this.state,
                r = i.bPrefetchingLanguages,
                o = i.imageSize,
                s = !r && o,
                c = o ? " - " + o.width + "x" + o.height : "",
                d = u.a.GetExtensionStringForFileType(n.file_type).slice(1),
                p = o && { width: o.width, height: o.height },
                g = u.a.GenerateArtworkURLFromHashAndExtensions(
                  a,
                  u.a.GetHashAndExt(n)
                );
              return l.createElement(
                _.e,
                {
                  onOK: this.OnCommitGroup,
                  bAllowFullSize: !0,
                  onCancel: t,
                  closeModal: t,
                },
                l.createElement(
                  T.l,
                  null,
                  Object(v.f)("#ImagePickerLoc_Title")
                ),
                l.createElement(
                  T.b,
                  null,
                  l.createElement(
                    T.c,
                    null,
                    l.createElement(
                      "div",
                      { className: m.a.FlexRowContainer },
                      l.createElement(
                        "span",
                        { className: m.a.FlexColumnContainer },
                        l.createElement(
                          "div",
                          null,
                          Object(v.f)("#ImagePickerLoc_Default"),
                          " ",
                          l.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(v.f)(
                                "#ImagePickerLoc_Default_Hint"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        l.createElement("img", {
                          className: j.titleimg,
                          src: g,
                        }),
                        l.createElement(
                          "div",
                          null,
                          n.file_name + c + " - " + d
                        )
                      )
                    ),
                    !s &&
                      l.createElement(h.a, {
                        position: "center",
                        string: Object(v.f)("#Loading"),
                      }),
                    s &&
                      l.createElement(
                        l.Fragment,
                        null,
                        l.createElement(C.b, {
                          clanSteamID: a,
                          rgSupportArtwork: [],
                          localizedPrimaryImage: n,
                          forceResolution: p,
                          fnSetImageURL: this.props.fnSetImageURL,
                          rgRealmList: this.props.rgRealmList,
                        }),
                        l.createElement(
                          "div",
                          { className: j.artworkbar },
                          l.createElement(I.b, {
                            clanSteamID: a,
                            artworkType: "localized_image_group",
                            title: Object(v.f)("#ImagePickerLoc_Title"),
                          })
                        )
                      )
                  )
                )
              );
            }),
            Object(a.c)([S.a], t.prototype, "OnCommitGroup", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component),
        M = n("blFj"),
        D = n("Yamg"),
        k = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_searchInput = null),
              (t.m_clanImageUploader = null),
              (t.state = {
                filenameSearch: "",
                uploadToken: 0,
                bLoading: !u.d.BHasLoadedClanImages(t.props.clanSteamID),
              }),
              t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.componentDidMount = function () {
              this.state.bLoading && this.HandleLoadClanImages();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              (this.props.clanSteamID.GetAccountID() ==
                e.clanSteamID.GetAccountID() &&
                u.d.BHasLoadedClanImages(this.props.clanSteamID)) ||
                (this.state.bLoading || this.setState({ bLoading: !0 }),
                this.HandleLoadClanImages());
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.HandleLoadClanImages = function () {
              var e = this;
              u.d
                .LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
                .then(function () {
                  e.m_cancelSignal.token.reason || e.setState({ bLoading: !1 });
                })
                .catch(function (t) {
                  var n = Object(E.a)(t);
                  console.error(
                    "ClanImagePicker Failed: " +
                      n.strErrorMsg +
                      " errCode: " +
                      n.strErrorMsg
                  ),
                    e.m_cancelSignal.token.reason ||
                      e.setState({ bLoading: !1, strErrMsg: n.strErrorMsg });
                });
            }),
            (t.prototype.onSearchTextChangeHandler = function (e) {
              var t = e.currentTarget.value;
              this.state.filenameSearch != t &&
                this.setState({ filenameSearch: t });
            }),
            (t.prototype.CreateImageWrappers = function () {
              var e = [],
                t = this.state.filenameSearch.trim().toLowerCase(),
                n = u.d.GetFilteredClanImages(this.props.clanSteamID, t);
              if (n.length > 0)
                for (var a = 0, i = n; a < i.length; a++) {
                  var r = i[a];
                  e.push(
                    l.createElement(A, {
                      key: r.imageid,
                      clanImage: r,
                      searchStringHilight: t,
                      imageInsertCallBack: this.props.imageInsertCallBack,
                      fnOnOpenLocalizedImageGroup: this
                        .InternalOpenLocalizeImageGroup,
                      insertActions: this.props.insertActions,
                      OnImageClick: this.OnExpandImage,
                    })
                  );
                }
              if (0 == e.length) {
                var o = u.d.GetLoadState(this.props.clanSteamID);
                o && o.loaded
                  ? e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: O.a.ResultNotification,
                        },
                        t.length > 0
                          ? Object(v.f)("#ImagePicker_EmptySearch")
                          : Object(v.f)("#ImagePicker_Empty")
                      )
                    )
                  : o && o.errMsg
                  ? e.push(
                      l.createElement(
                        "div",
                        { key: "ImagePicker_Result", className: O.a.errorcode },
                        Object(v.f)("#ImagePicker_Error", o.errMsg)
                      )
                    )
                  : e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: O.a.ResultNotification,
                        },
                        Object(v.f)("#Loading")
                      )
                    );
              }
              return e;
            }),
            (t.prototype.onSearchTextKeyPress = function (e) {
              "Escape" == e.key &&
                (this.setState({ filenameSearch: "" }),
                this.m_searchInput && (this.m_searchInput.value = ""));
            }),
            (t.prototype.onUploaderDismiss = function () {
              this.setState({
                filenameSearch: this.state.filenameSearch,
                uploadToken: null,
              });
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!(e && e.length > 0)) return [3, 5];
                      (this.m_clanImageUploader = new u.b(
                        this.props.clanSteamID
                      )),
                        (t = !0),
                        (i = 0),
                        (a.label = 1);
                    case 1:
                      return t && i < Array.from(e).length
                        ? ((r = e.item(i)),
                          [4, this.m_clanImageUploader.AddImage(r, 0, null)])
                        : [3, 4];
                    case 2:
                      (t = a.sent()) ||
                        (console.error(
                          "ClanImagePicker.OnDropFiles: failed on i=" +
                            i +
                            " file=" +
                            r.name
                        ),
                        Object(g.d)(
                          l.createElement(_.f, {
                            strDescription: Object(v.f)(
                              "#ImagePicker_Error",
                              r.name
                            ),
                          }),
                          window
                        )),
                        (a.label = 3);
                    case 3:
                      return i++, [3, 1];
                    case 4:
                      return (
                        t &&
                          (this.setState({
                            filenameSearch: "",
                            uploadToken: ++n.m_uploaderCounter,
                          }),
                          this.m_clanImageUploader.UploadAllFiles()),
                        [2, t]
                      );
                    case 5:
                      return [2, !1];
                  }
                });
              });
            }),
            (t.prototype.GetLastUploadFiles = function () {
              return this.m_clanImageUploader
                ? this.m_clanImageUploader.GetFilesToUpload()
                : null;
            }),
            (t.prototype.BFileUploadCompleted = function (e) {
              return (
                !!this.m_clanImageUploader &&
                this.m_clanImageUploader.BIsFileCompleted(e)
              );
            }),
            (t.prototype.OnExpandImage = function (e) {
              if (e && this.props.bShowLightBox) {
                var t = u.d.GetFilteredClanImages(
                    this.props.clanSteamID,
                    this.state.filenameSearch.trim().toLowerCase()
                  ),
                  n = t.findIndex(function (t, n, a) {
                    return e.imageid == t.imageid;
                  });
                n >= 0 &&
                  this.setState({ photoIndex: n, filteredClanImages: t });
              }
            }),
            (t.prototype.OnExpandExitImage = function () {
              this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
            }),
            (t.prototype.OnHandleExpandedFullSize = function () {
              this.InternalHandleExpandedAction(D.a.k_eInsertFullImage);
            }),
            (t.prototype.OnHandleExpandedThumbnail = function () {
              this.InternalHandleExpandedAction(D.a.k_eInsertThumbnail);
            }),
            (t.prototype.OnHandleOpenLocalizedImageGroup = function () {
              null != this.state.photoIndex &&
                this.InternalOpenLocalizeImageGroup(
                  this.state.filteredClanImages[this.state.photoIndex]
                );
            }),
            (t.prototype.InternalHandleExpandedAction = function (e) {
              null != this.state.photoIndex &&
                (this.props.imageInsertCallBack(
                  this.state.filteredClanImages[this.state.photoIndex],
                  e
                ),
                this.OnExpandExitImage());
            }),
            (t.prototype.InternalOpenLocalizeImageGroup = function (e) {
              var t = this.props.clanSteamID;
              Object(g.d)(
                l.createElement(w, {
                  primaryLocalizedImage: e,
                  clanSteamID: t,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this;
              if (this.state.strErrMsg)
                return l.createElement(
                  "div",
                  null,
                  l.createElement("div", null, Object(v.f)("#Error_Message")),
                  l.createElement("div", null, this.state.strErrMsg),
                  l.createElement(
                    "div",
                    {
                      className: Object(f.a)(m.a.Button),
                      onClick: this.HandleLoadClanImages,
                    },
                    Object(v.f)("#Button_Retry")
                  )
                );
              if (this.state.bLoading)
                return l.createElement(h.a, {
                  position: "center",
                  string: Object(v.f)("#Loading"),
                });
              var t = this.CreateImageWrappers(),
                n = this.state.filteredClanImages,
                a = this.state.photoIndex,
                i = this.props.clanSteamID;
              return l.createElement(
                "div",
                { className: Object(f.a)(O.a.PickerContainer) },
                l.createElement(
                  "div",
                  { className: O.a.PickerTitle },
                  l.createElement("input", {
                    ref: function (t) {
                      return (e.m_searchInput = t);
                    },
                    className: O.a.SearchInput,
                    type: "text",
                    placeholder: Object(v.f)("#ImagePicker_Search"),
                    onChange: this.onSearchTextChangeHandler,
                    onKeyDown: this.onSearchTextKeyPress,
                  })
                ),
                l.createElement("div", { className: O.a.ImagesContainer }, t),
                this.state.uploadToken > 0 &&
                  l.createElement(B, {
                    key: "clanimageuploaderview" + this.state.uploadToken,
                    uploader: this.m_clanImageUploader,
                    onDismiss: this.onUploaderDismiss,
                  }),
                !this.props.bHideDragAndDrop &&
                  l.createElement(L, {
                    onDropFiles: this.OnDropFiles,
                    fnSetImageURL: this.props.fnSetImageURL,
                    clanSteamID: i,
                    rgRealmList: this.props.rgRealmList,
                  }),
                null != a &&
                  l.createElement(s.a, {
                    mainSrc: n[a].url,
                    mainSrcThumbnail: n[a].thumb_url,
                    imageTitle: n[a].file_name,
                    nextSrc: a < n.length - 1 ? n[a + 1].url : void 0,
                    nextSrcThumbnail:
                      a < n.length - 1 ? n[a + 1].thumb_url : void 0,
                    nextLabel: Object(v.f)("#ClanImage_Next"),
                    prevLabel: Object(v.f)("#ClanImage_Prev"),
                    closeLabel: Object(v.f)("#ClanImage_Close"),
                    zoomInLabel: Object(v.f)("#ClanImage_ZoomIn"),
                    zoomOutLabel: Object(v.f)("#ClanImage_ZoomOut"),
                    imageLoadErrorMessage: Object(v.f)(
                      "#ClanImage_ImageLoadFailure"
                    ),
                    prevSrc: a > 0 ? n[a - 1].url : void 0,
                    prevSrcThumbnail: a > 0 ? n[a - 1].thumb_url : void 0,
                    onMoveNextRequest: function () {
                      return e.setState({ photoIndex: a + 1 });
                    },
                    onMovePrevRequest: function () {
                      return e.setState({ photoIndex: a - 1 });
                    },
                    onCloseRequest: this.OnExpandExitImage,
                    toolbarButtons: [
                      l.createElement(
                        "button",
                        {
                          key: "fullsize",
                          className: O.a.Full,
                          onClick: this.OnHandleExpandedFullSize,
                        },
                        Object(v.f)("#ImagePicker_FullSize")
                      ),
                      l.createElement(
                        "button",
                        {
                          key: "thumbnail",
                          className: O.a.Full,
                          onClick: this.OnHandleExpandedThumbnail,
                        },
                        Object(v.f)("#ImagePicker_Thumbnail")
                      ),
                    ],
                  })
              );
            }),
            (t.m_uploaderCounter = 1),
            Object(a.c)([S.a], t.prototype, "HandleLoadClanImages", null),
            Object(a.c)([S.a], t.prototype, "onSearchTextChangeHandler", null),
            Object(a.c)([S.a], t.prototype, "onSearchTextKeyPress", null),
            Object(a.c)([S.a], t.prototype, "onUploaderDismiss", null),
            Object(a.c)([S.a], t.prototype, "OnDropFiles", null),
            Object(a.c)([S.a], t.prototype, "OnExpandImage", null),
            Object(a.c)([S.a], t.prototype, "OnExpandExitImage", null),
            Object(a.c)([S.a], t.prototype, "OnHandleExpandedFullSize", null),
            Object(a.c)([S.a], t.prototype, "OnHandleExpandedThumbnail", null),
            Object(a.c)(
              [S.a],
              t.prototype,
              "OnHandleOpenLocalizedImageGroup",
              null
            ),
            Object(a.c)(
              [S.a],
              t.prototype,
              "InternalHandleExpandedAction",
              null
            ),
            Object(a.c)(
              [S.a],
              t.prototype,
              "InternalOpenLocalizeImageGroup",
              null
            ),
            (t = n = Object(a.c)([o.a], t))
          );
        })(l.Component),
        G = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnClanImageSelected = function (e, t) {
              var n = this.props,
                a = n.OnClanImageSelected,
                i = n.closeModal;
              a(e, t), i();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanSteamID,
                n = e.closeModal;
              return l.createElement(
                _.d,
                {
                  strTitle: Object(v.f)("#ImagePicker_Images"),
                  strDescription: Object(v.f)(
                    "#ImagePicker_DoubleClickToSelect"
                  ),
                  bAlertDialog: !0,
                  onOK: n,
                  onCancel: n,
                },
                l.createElement(k, {
                  clanSteamID: t,
                  insertActions: [],
                  imageInsertCallBack: this.OnClanImageSelected,
                  bHideDragAndDrop: !0,
                  bShowLightBox: !1,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                })
              );
            }),
            Object(a.c)([S.a], t.prototype, "OnClanImageSelected", null),
            t
          );
        })(l.Component),
        L = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_myInstanceID = n.m_instanceID += 1),
              (t.m_fileInput = l.createRef()),
              (t.state = { dragging: !1 }),
              (t.m_dragEventCounter = 0),
              t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.OverrideEventDefaults = function (e) {
              e.preventDefault(), e.stopPropagation();
            }),
            (t.prototype.DragEnterListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (this.state.dragging || this.setState({ dragging: !0 }));
            }),
            (t.prototype.DragLeaveListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter -= 1),
                0 === this.m_dragEventCounter &&
                  this.state.dragging &&
                  this.setState({ dragging: !1 });
            }),
            (t.prototype.DropListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter = 0),
                this.setState({ dragging: !1 });
              var t = e.dataTransfer.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t);
            }),
            (t.prototype.onFileChoice = function (e) {
              var t = e.target.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t),
                this.m_fileInput.current &&
                  this.m_fileInput.current.value &&
                  (this.m_fileInput.current.value = null);
            }),
            (t.prototype.OnNoOp = function () {}),
            (t.prototype.OnClanImageDialog = function (e) {
              var t = this.props,
                n = t.clanSteamID,
                a = t.OnClanImageSelected;
              Object(g.d)(
                l.createElement(G, {
                  fnSetImageURL: this.props.fnSetImageURL,
                  clanSteamID: n,
                  OnClanImageSelected: a,
                  rgRealmList: this.props.rgRealmList,
                }),
                Object(b.m)(e)
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.renderDesciption;
              return l.createElement(
                "div",
                {
                  className: this.state.dragging
                    ? O.a.DragAndDropContainerDragging
                    : O.a.DragAndDropContainer,
                  onDrag: this.OverrideEventDefaults,
                  onDragStart: this.OverrideEventDefaults,
                  onDragEnd: this.OverrideEventDefaults,
                  onDragOver: this.OverrideEventDefaults,
                  onDragEnter: this.DragEnterListener,
                  onDragLeave: this.DragLeaveListener,
                  onDrop: this.DropListener,
                },
                Boolean(e) && e(),
                l.createElement(
                  "div",
                  null,
                  Object(v.f)("#ImagePicker_DragAndDrop")
                ),
                l.createElement(
                  "div",
                  { className: O.a.ImageUploadBar },
                  l.createElement(
                    "label",
                    { htmlFor: "imagepickerfilechoice" + this.m_myInstanceID },
                    l.createElement(
                      "span",
                      null,
                      Object(v.f)("#ImagePicker_OrBrowse"),
                      " "
                    ),
                    l.createElement(
                      "span",
                      { className: O.a.SelectImageButton },
                      Object(v.f)("#selectimage_select_file")
                    )
                  ),
                  l.createElement("input", {
                    ref: this.m_fileInput,
                    style: { display: "none" },
                    id: "imagepickerfilechoice" + this.m_myInstanceID,
                    type: "file",
                    onSubmit: this.onFileChoice,
                    onChange: this.onFileChoice,
                    multiple: !0,
                    accept: "image/png, image/jpg, image/gif",
                  })
                ),
                this.props.bAllowPreviousClanImages &&
                  l.createElement(
                    "div",
                    { className: O.a.ImageUploadBar },
                    l.createElement(
                      "label",
                      { htmlFor: "clanimagedialog" + this.m_myInstanceID },
                      l.createElement(
                        "span",
                        null,
                        Object(v.f)("#ImagePicker_PreviousImages"),
                        " "
                      ),
                      l.createElement(
                        "span",
                        { className: O.a.SelectImageButton },
                        Object(v.f)("#ImagePicker_PreviousImages2")
                      )
                    ),
                    l.createElement("input", {
                      style: { display: "none" },
                      id: "clanimagedialog" + this.m_myInstanceID,
                      type: "button",
                      onClick: this.OnClanImageDialog,
                    })
                  ),
                this.props.children
              );
            }),
            (t.m_instanceID = 0),
            Object(a.c)([S.a], t.prototype, "OverrideEventDefaults", null),
            Object(a.c)([S.a], t.prototype, "DragEnterListener", null),
            Object(a.c)([S.a], t.prototype, "DragLeaveListener", null),
            Object(a.c)([S.a], t.prototype, "DropListener", null),
            Object(a.c)([S.a], t.prototype, "onFileChoice", null),
            Object(a.c)([S.a], t.prototype, "OnNoOp", null),
            Object(a.c)([S.a], t.prototype, "OnClanImageDialog", null),
            (t = n = Object(a.c)([o.a], t))
          );
        })(l.Component),
        A = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_linkPopupRef = l.createRef()),
              (t.state = { bDeleting: !1 }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.onHandleFullSize = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                D.a.k_eInsertFullImage
              );
            }),
            (t.prototype.onHandleThumbnail = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                D.a.k_eInsertThumbnail
              );
            }),
            (t.prototype.onHandleLocalizedImageGroup = function () {
              this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
            }),
            (t.prototype.ShowInsertAction = function (e) {
              return (
                !this.props.insertActions ||
                this.props.insertActions.indexOf(e) >= 0
              );
            }),
            (t.prototype.OnDragStartSource = function (e) {
              var t = this;
              e.dataTransfer.setData("text", this.props.clanImage.url),
                u.d.GetClanImageDragListener().forEach(function (e) {
                  e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !0);
                });
            }),
            (t.prototype.OnDragEndSource = function (e) {
              var t = this;
              u.d.GetClanImageDragListener().forEach(function (e) {
                e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !1);
              });
            }),
            (t.prototype.OnDeleteClick = function (e) {
              Object(g.c)(
                l.createElement(
                  _.d,
                  {
                    strTitle: Object(v.f)("#ImagePicker_DeleteImageTitle"),
                    strDescription: "",
                    onOK: this.onDelete,
                    onCancel: this.OnCloseDialog,
                    closeModal: this.OnCloseDialog,
                  },
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "div",
                      null,
                      Object(v.f)(
                        "#ImagePicker_DeleteAreYouSure",
                        this.props.clanImage.file_name
                      )
                    ),
                    l.createElement("br", null),
                    l.createElement("br", null),
                    l.createElement(
                      "div",
                      null,
                      Object(v.f)("#ImagePicker_DeleteWarning")
                    )
                  )
                ),
                Object(b.m)(e)
              );
            }),
            (t.prototype.ShowDeleteError = function (e) {
              console.log("ClanImageWrapper on delete error: " + e),
                Object(g.d)(
                  l.createElement(
                    _.f,
                    {
                      strTitle: Object(v.f)("#Error_FailureNotice"),
                      strDescription: Object(v.f)(
                        "#EventDisplay_DeleteEvent_Error"
                      ),
                    },
                    l.createElement("p", null, e)
                  ),
                  window
                );
            }),
            (t.prototype.onDelete = function () {
              var e = this;
              this.setState({ bDeleting: !0 });
              var t = c.a.InitFromClanID(this.props.clanImage.clanAccountID);
              u.d
                .DeleteClanImage(t, this.props.clanImage)
                .then(function (t) {
                  1 != t.success &&
                    e.ShowDeleteError(Object(E.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                })
                .catch(function (t) {
                  e.ShowDeleteError(Object(E.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                }),
                this.m_linkPopupRef &&
                  this.m_linkPopupRef.current &&
                  this.m_linkPopupRef.current.click(),
                this.OnCloseDialog();
            }),
            (t.prototype.OnCloseDialog = function () {}),
            (t.prototype.OnImageClick = function () {
              this.props.OnImageClick &&
                this.props.OnImageClick(this.props.clanImage);
            }),
            (t.prototype.render = function () {
              var e = this.props.clanImage,
                t = this.props.clanImage.file_name
                  ? this.props.clanImage.file_name
                  : "",
                n = Object(M.b)(
                  this.props.searchStringHilight,
                  t,
                  String(this.props.clanImage.imageid),
                  O.a.Hilight
                ),
                a = c.a.InitFromClanID(e.clanAccountID),
                i = d.a.Get().GetPartnerEventPermissions(a),
                r = this.state.bDeleting,
                o = !r && this.ShowInsertAction(D.a.k_eInsertFullImage),
                s = !r && this.ShowInsertAction(D.a.k_eInsertThumbnail),
                u = Boolean(
                  !r &&
                    i.valve_admin &&
                    this.ShowInsertAction(D.a.k_eShowImageGroup)
                );
              return l.createElement(
                "div",
                { className: O.a.ImageWrapperContainer },
                l.createElement(
                  "div",
                  { className: O.a.ImageButton },
                  l.createElement("div", {
                    className: O.a.ImageWrapper,
                    style: {
                      backgroundImage:
                        "url( '" + this.props.clanImage.thumb_url + "' )",
                    },
                    draggable: !0,
                    onDragStart: this.OnDragStartSource,
                    onDragEnd: this.OnDragEndSource,
                    onDoubleClick: this.onHandleFullSize,
                    onClick: this.OnImageClick,
                  }),
                  o &&
                    l.createElement(
                      "span",
                      { className: O.a.Full, onClick: this.onHandleFullSize },
                      Object(v.f)("#ImagePicker_FullSize")
                    ),
                  r &&
                    l.createElement(h.a, {
                      size: "medium",
                      className: O.a.FloatingThrobber,
                    }),
                  s &&
                    l.createElement(
                      "span",
                      { className: O.a.Thumb, onClick: this.onHandleThumbnail },
                      Object(v.f)("#ImagePicker_Thumbnail")
                    ),
                  u &&
                    l.createElement(
                      "span",
                      {
                        className: Object(f.a)(
                          O.a.Localized,
                          m.a.ValveOnlyBackground
                        ),
                        onClick: this.onHandleLocalizedImageGroup,
                      },
                      "(VO) " + Object(v.f)("#ImagePicker_Localized")
                    ),
                  !r &&
                    l.createElement(
                      "span",
                      { className: O.a.Delete, onClick: this.OnDeleteClick },
                      l.createElement("img", null)
                    ),
                  l.createElement(
                    "div",
                    { className: O.a.ImageWrapperFilename, title: t },
                    n
                  )
                )
              );
            }),
            Object(a.c)([S.a], t.prototype, "onHandleFullSize", null),
            Object(a.c)([S.a], t.prototype, "onHandleThumbnail", null),
            Object(a.c)(
              [S.a],
              t.prototype,
              "onHandleLocalizedImageGroup",
              null
            ),
            Object(a.c)([S.a], t.prototype, "OnDragStartSource", null),
            Object(a.c)([S.a], t.prototype, "OnDragEndSource", null),
            Object(a.c)([S.a], t.prototype, "OnDeleteClick", null),
            Object(a.c)([S.a], t.prototype, "onDelete", null),
            Object(a.c)([S.a], t.prototype, "OnCloseDialog", null),
            Object(a.c)([S.a], t.prototype, "OnImageClick", null),
            t
          );
        })(l.Component),
        B = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.onRetry = function () {
              this.props.uploader.RetryAllFailedUploads();
            }),
            (t.prototype.onCancelUploads = function () {
              this.props.uploader.CancelAllUploads(), this.props.onDismiss();
            }),
            (t.prototype.render = function () {
              var e = this.props.uploader,
                t = e.BAllDone(),
                n = !t && !e.BHasError();
              return l.createElement(
                "div",
                { className: O.a.UploaderContainer },
                n &&
                  l.createElement(
                    "div",
                    { className: O.a.UploaderRunning },
                    l.createElement(
                      "div",
                      { className: O.a.UploaderDesc },
                      Object(v.f)(
                        "#ImageUpload_Desc",
                        e.GetCompletedFiles(),
                        e.GetTotalFiles()
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: "DialogButton",
                        onClick: this.onCancelUploads,
                      },
                      Object(v.f)("#Button_Cancel")
                    )
                  ),
                e.BHasError() &&
                  l.createElement(
                    "div",
                    { className: O.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: O.a.UploadError },
                      Object(v.f)(
                        "#ImageUpload_Error",
                        e.GetLastErrorFile().file.name,
                        e.GetLastErrorFile().status,
                        e.GetLastErrorFile().message
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: O.a.UploadButtonCancel,
                        onClick: this.props.onDismiss,
                      },
                      Object(v.f)("#Button_Cancel")
                    ),
                    l.createElement(
                      "button",
                      {
                        className: O.a.UploadButtonRetry,
                        onClick: this.onRetry,
                      },
                      Object(v.f)("#Button_Retry")
                    )
                  ),
                t &&
                  l.createElement(
                    "div",
                    { className: O.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: O.a.UploadSuccess },
                      Object(v.f)("#ImageUpload_Success")
                    )
                  )
              );
            }),
            Object(a.c)([S.a], t.prototype, "onRetry", null),
            Object(a.c)([S.a], t.prototype, "onCancelUploads", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component);
    },
    P2lf: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return u;
      }),
        n.d(t, "a", function () {
          return d;
        });
      var a = n("mrSG"),
        i = n("NpuA"),
        r = n.n(i),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("Kw0F"),
        c = n("TLQK"),
        u = (function () {
          function e() {
            this.m_mapTokens = new Map();
          }
          return (
            (e.prototype.GetLocalization = function (e, t) {
              var n = this.m_mapTokens.get(e);
              if (n && n[t]) return n[t];
            }),
            (e.prototype.SetLocalization = function (e, t, n) {
              var a = this.m_mapTokens.get(e);
              a ||
                ((a = Object(s.e)([], 30, null)), this.m_mapTokens.set(e, a)),
                (a[t] = n);
            }),
            (e.prototype.GetSortedTokenList = function () {
              var e = [];
              return (
                this.m_mapTokens.forEach(function (t, n) {
                  return e.push(n);
                }),
                e.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                e
              );
            }),
            (e.prototype.GetLanguagesWithTokens = function () {
              var e = new Map();
              this.m_mapTokens.forEach(function (t) {
                for (var n = 0; n < t.length; ++n)
                  !e.has(n) &&
                    null !== t[n] &&
                    void 0 !== t[n] &&
                    t[n].trim().length > 0 &&
                    e.set(n, !0);
              });
              var t = new Array();
              return (
                e.forEach(function (e, n) {
                  e && t.push(n);
                }),
                t
              );
            }),
            (e.prototype.ClearLanguagesTokens = function (e) {
              var t = this;
              e.forEach(function (e) {
                t.m_mapTokens.forEach(function (t, n) {
                  e < t.length && null !== t[e] && (t[e] = null);
                });
              });
            }),
            e
          );
        })(),
        d = (function () {
          function e() {
            this.m_DummyValueForQuestionHack = 0;
          }
          return (
            (e.prototype.DetectAndFormatCSV = function (e) {
              var t,
                n,
                a,
                i,
                r,
                l,
                s = null;
              return (
                (null ===
                  (n =
                    null === (t = null == e ? void 0 : e.meta) || void 0 === t
                      ? void 0
                      : t.fields) || void 0 === n
                  ? void 0
                  : n.length) >= 3 &&
                "field" === e.meta.fields[0] &&
                "language" === e.meta.fields[1] &&
                "value" === e.meta.fields[2]
                  ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
                  : (null ===
                      (i =
                        null === (a = null == e ? void 0 : e.meta) ||
                        void 0 === a
                          ? void 0
                          : a.fields) || void 0 === i
                      ? void 0
                      : i.length) >= 2 &&
                    "field" === e.meta.fields[0] &&
                    -1 != Object(o.d)(e.meta.fields[1], -1)
                  ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
                  : (null ===
                      (l =
                        null === (r = null == e ? void 0 : e.meta) ||
                        void 0 === r
                          ? void 0
                          : r.fields) || void 0 === l
                      ? void 0
                      : l.length) >= 2 &&
                    "language" === e.meta.fields[0] &&
                    (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
                s
              );
            }),
            (e.WriteFile = function (e, t) {
              var n = document.createElement("a");
              if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
              else {
                var a = window.URL.createObjectURL(e);
                n.href = a;
              }
              n.setAttribute("download", t), n.click();
              try {
                document.removeChild(n);
              } catch (e) {}
            }),
            (e.prototype.ReadFile = function (e) {
              return new Promise(function (t, n) {
                var a = new FileReader();
                (a.onload = function (e) {
                  return t(a.result);
                }),
                  a.readAsText(e);
              });
            }),
            (e.prototype.WriteCSVToFile = function (t, n) {
              var a = r.a.unparse(t, { header: !0 });
              e.WriteFile(
                new Blob([a], { type: "text/csv:charset=utf-8;" }),
                n
              );
            }),
            (e.prototype.WriteXMLToFile = function (t, n) {
              var a = this,
                i = function () {
                  return a.m_DummyValueForQuestionHack ? "never returned" : "?";
                },
                r =
                  "<" +
                  i() +
                  'xml version="1.0" encoding="UTF-8" ' +
                  i() +
                  ">\n";
              (r += new XMLSerializer().serializeToString(t)),
                e.WriteFile(
                  new Blob([r], { type: "application/xml:charset=utf-8;" }),
                  n
                );
            }),
            (e.prototype.ReadLocalizationData_XML_SingleLanguage = function (
              e,
              t
            ) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, r, o, l, s, c, d;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (n = new u()),
                        (i = new DOMParser()),
                        [4, this.ReadFile(e)]
                      );
                    case 1:
                      for (
                        r = a.sent(),
                          o = i.parseFromString(
                            r.toString(),
                            "application/xml"
                          ),
                          l = 0;
                        l < o.documentElement.children.length;
                        ++l
                      )
                        (s = o.documentElement.children.item(l)),
                          (c = s.getAttribute("id").toLocaleLowerCase()),
                          (d = s.textContent),
                          n.SetLocalization(c, t, d);
                      return [2, n];
                  }
                });
              });
            }),
            (e.prototype.ReadLocalizationData_CSV_TokenLanguageList = function (
              e
            ) {
              var t = new u();
              return (
                e.data.forEach(function (e) {
                  var n = e.field,
                    a = Object(o.d)(e.language);
                  t.SetLocalization(n, a, e.value);
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageColumns = function (
              e
            ) {
              var t = new u();
              return (
                e.data.forEach(function (e) {
                  for (var n = e.field, a = 0; a < 30; ++a) {
                    var i = Object(o.c)(Object(o.a)(a));
                    t.SetLocalization(n, a, e[i]);
                  }
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageRows = function (e) {
              var t = new u();
              return (
                e.data.forEach(function (e) {
                  var n = Object(o.d)(e.language, 30);
                  if (30 !== n)
                    for (var a = 0, i = Object.entries(e); a < i.length; a++) {
                      var r = i[a],
                        l = r[0],
                        s = r[1];
                      "language" !== l &&
                        "string" == typeof s &&
                        t.SetLocalization(l, n, s);
                    }
                }),
                t
              );
            }),
            (e.prototype.GetExportLanguages = function () {
              return c.b.GetLanguageListForRealms([l.f.k_ESteamRealmGlobal]);
            }),
            (e.prototype.WriteLocalizationData_CSV_TokenAndLanguageColumns = function (
              e,
              t
            ) {
              var n = this,
                a = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = n.GetExportLanguages(); i < r.length; i++) {
                  var l = r[i],
                    s = { field: t };
                  (s.language = Object(o.c)(Object(o.a)(l))),
                    (s.value = e.GetLocalization(t, l)),
                    a.push(s);
                }
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageColumns = function (
              e,
              t
            ) {
              var n = this,
                a = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (
                  var i = { field: t }, r = 0, l = n.GetExportLanguages();
                  r < l.length;
                  r++
                ) {
                  var s = l[r];
                  i[Object(o.c)(Object(o.a)(s))] = e.GetLocalization(t, s);
                }
                a.push(i);
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageRows = function (
              e,
              t
            ) {
              for (
                var n = this,
                  a = new Array(),
                  i = 0,
                  r = this.GetExportLanguages();
                i < r.length;
                i++
              ) {
                var l = r[i];
                a.push({ language: Object(o.c)(Object(o.a)(l)) });
              }
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = n.GetExportLanguages(); i < r.length; i++) {
                  var o = r[i];
                  a[o][t] = e.GetLocalization(t, o);
                }
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_XML_SingleLanguage = function (
              e,
              t,
              n
            ) {
              var a = document.implementation.createDocument(
                null,
                "content",
                null
              );
              e.GetSortedTokenList().forEach(function (n) {
                var i = a.createElement("string");
                i.setAttribute("id", n),
                  i.appendChild(
                    a.createTextNode(e.GetLocalization(n, t) || "")
                  ),
                  a.documentElement.append(i);
              }),
                this.WriteXMLToFile(a, n);
            }),
            e
          );
        })();
    },
    Q47U: function (e, t, n) {
      "use strict";
      n.d(t, "c", function () {
        return u;
      }),
        n.d(t, "b", function () {
          return d;
        }),
        n.d(t, "a", function () {
          return p;
        });
      var a = n("mrSG"),
        i = n("2vnA"),
        r = n("dZOt"),
        o = n("Kw0F"),
        l = n("r64O"),
        s = n("lkRc"),
        c = n("fcuX"),
        u = {
          capability: 1,
          appids: [],
          partnerids: [],
          pub_rights: 0,
          app_rights: 0,
          priority: !1,
        },
        d = (function (e) {
          function t(t) {
            var n = e.call(this, t.GetEmailSettings()) || this;
            return (
              (n.m_editModel = t),
              (n.m_sections = new Array()),
              n.m_setting.sections.forEach(function (e) {
                return n.m_sections.push(new p(e, t));
              }),
              s.b.IS_VALVE_GROUP &&
                (n.m_setting.internal_targeting
                  ? n.m_setting.internal_targeting.partnerids ||
                    (n.m_setting.internal_targeting.partnerids = [])
                  : (n.m_setting.internal_targeting = Object(a.a)({}, u))),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.BSameEditModel = function (e) {
              return e === this.m_editModel;
            }),
            (t.prototype.GetNumSections = function () {
              return this.m_sections.length;
            }),
            (t.prototype.GetSectionObj = function (e) {
              return this.m_sections[e];
            }),
            (t.prototype.GetSectionObjects = function () {
              return this.m_sections;
            }),
            (t.prototype.LockEmail = function () {
              this.m_setting.locked ||
                ((this.m_setting.locked = !0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetSubjectTextLoc = function (e) {
              this.m_setting.subject_loc_token != e &&
                ((this.m_setting.subject_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.EnsureTargetingExists = function () {
              if (!this.m_setting.targeting) {
                this.m_setting.targeting = Object(i.C)({});
              }
            }),
            (t.prototype.EnsureFilteringExists = function () {
              if (!this.m_setting.filtering) {
                this.m_setting.filtering = Object(i.C)({});
              }
            }),
            (t.prototype.SetFilterIRTopN = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.ir_topn !== e &&
                  ((this.m_setting.filtering.ir_topn = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetFilterWishlist = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.wishlist !== e &&
                  ((this.m_setting.filtering.wishlist = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetControlGroupPercent = function (e) {
              Object(l.a)(
                e >= 0 && e <= 99,
                "SetControlGroupPercent outside of bounds: " + e
              ),
                (!e || e <= 0) && (e = 0),
                e > 99 && (e = 99),
                this.EnsureFilteringExists(),
                this.m_setting.filtering.control_group_percent !== e &&
                  ((this.m_setting.filtering.control_group_percent = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingExistingPlayer = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_players !== e &&
                  ((this.m_setting.targeting.game_players = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameWishlist = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_wishlister !== e &&
                  ((this.m_setting.targeting.game_wishlister = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetExcludeGameOwners = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_exclude_owners !== e &&
                  ((this.m_setting.targeting.game_exclude_owners = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetOwnersWithNoPlaytime = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_owner_with_no_playtime !== e &&
                  ((this.m_setting.targeting.game_owner_with_no_playtime = e),
                  e &&
                    ((this.m_setting.targeting.game_exclude_owners = !1),
                    (this.m_setting.targeting.game_players = !1),
                    (this.m_setting.targeting.creator_home_player = void 0)),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameFollower = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_followers !== e &&
                  ((this.m_setting.targeting.game_followers = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingCreator = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home = e ? [t] : void 0),
                this.m_setting.targeting.creator_home_player &&
                  this.m_setting.targeting.creator_home_player[0] != t &&
                  (this.m_setting.targeting.creator_home_player = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetTargetingCreatorPlayer = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home_player = e
                  ? [t]
                  : void 0),
                this.m_setting.targeting.creator_home &&
                  this.m_setting.targeting.creator_home[0] != t &&
                  (this.m_setting.targeting.creator_home = void 0),
                e &&
                  (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetForceFeatureID = function (e) {
              this.m_setting.force_feature_id != e &&
                ((this.m_setting.force_feature_id = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetLocalizedSubject = function (e, t) {
              return (
                (!this.m_setting.localized_subject ||
                  this.m_setting.localized_subject.length < 30) &&
                  (this.m_setting.localized_subject = Object(o.e)(
                    this.m_setting.localized_subject || [],
                    30,
                    null
                  )),
                this.m_setting.localized_subject[e] != t &&
                  ((this.m_setting.localized_subject[e] = t),
                  this.m_editModel.SetDirty(c.c.jsondata_email),
                  !0)
              );
            }),
            (t.prototype.RemoveSection = function (e) {
              this.m_sections &&
                e < this.m_sections.length &&
                (this.m_setting.sections.splice(e, 1),
                this.m_sections.splice(e, 1),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.AddSection = function (e) {
              this.m_setting.sections.push(Object(a.a)({}, e)),
                this.m_sections.push(
                  new p(
                    this.m_setting.sections[this.m_setting.sections.length - 1],
                    this.m_editModel
                  )
                ),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalTargetPriority = function (e) {
              this.m_setting.internal_targeting.priority !== e &&
                ((this.m_setting.internal_targeting.priority = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalTargetPartnerCapability = function (e) {
              this.m_setting.internal_targeting.capability !== e &&
                ((this.m_setting.internal_targeting.capability = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetPublisherRights = function (e, t) {
              ((this.m_setting.internal_targeting.pub_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.pub_rights |= e)
                  : (this.m_setting.internal_targeting.pub_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetAppRights = function (e, t) {
              ((this.m_setting.internal_targeting.app_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.app_rights |= e)
                  : (this.m_setting.internal_targeting.app_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalAppIDs = function (e) {
              (this.m_setting.internal_targeting.appids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalPublisherIDs = function (e) {
              (this.m_setting.internal_targeting.partnerids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            Object(a.c)([i.C], t.prototype, "m_sections", void 0),
            Object(a.c)([i.k], t.prototype, "SetFilterIRTopN", null),
            Object(a.c)([i.k], t.prototype, "SetFilterWishlist", null),
            Object(a.c)([i.k], t.prototype, "SetControlGroupPercent", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingExistingPlayer", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingGameWishlist", null),
            Object(a.c)([i.k], t.prototype, "SetExcludeGameOwners", null),
            Object(a.c)([i.k], t.prototype, "SetOwnersWithNoPlaytime", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingGameFollower", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingCreator", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingCreatorPlayer", null),
            Object(a.c)([i.k], t.prototype, "SetForceFeatureID", null),
            Object(a.c)([i.k], t.prototype, "SetLocalizedSubject", null),
            Object(a.c)([i.k], t.prototype, "RemoveSection", null),
            Object(a.c)([i.k], t.prototype, "AddSection", null),
            Object(a.c)([i.k], t.prototype, "SetInternalTargetPriority", null),
            Object(a.c)(
              [i.k],
              t.prototype,
              "SetInternalTargetPartnerCapability",
              null
            ),
            Object(a.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetPublisherRights",
              null
            ),
            Object(a.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetAppRights",
              null
            ),
            Object(a.c)([i.k], t.prototype, "SetInternalAppIDs", null),
            Object(a.c)([i.k], t.prototype, "SetInternalPublisherIDs", null),
            t
          );
        })(r.b),
        p = (function (e) {
          function t(t, n) {
            var a = e.call(this, t) || this;
            return (a.m_editModel = n), a;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.SetHeadline = function (e, t) {
              return (
                (this.m_section.localized_headline.length < t ||
                  this.m_section.localized_headline[t] !== e) &&
                ((this.m_section.localized_headline[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetBody = function (e, t) {
              return (
                (this.m_section.localized_body.length < t ||
                  this.m_section.localized_body[t] !== e) &&
                ((this.m_section.localized_body[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetVideoLink = function (e) {
              this.m_section.video_link !== e &&
                ((this.m_section.video_link = e),
                (this.m_section.video_image = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetVideoHashAndExt = function (e) {
              this.m_section.video_image !== e &&
                ((this.m_section.video_image = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetImage = function (e, t) {
              (this.m_section.localized_image.length < t ||
                this.m_section.localized_image[t] !== e) &&
                ((this.m_section.localized_image[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonTextLock = function (e) {
              this.m_section.button_loc_token !== e &&
                ((this.m_section.button_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonDestination = function (e) {
              this.m_section.button_destination !== e &&
                ((this.m_section.button_destination = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.IsValidStoreURL = function (e) {
              return e && e.startsWith("https://store.steampowered.com/");
            }),
            (t.prototype.SetButtonDestinationStoreURL = function (e) {
              if (t.IsValidStoreURL(e)) {
                var n = e.substr("https://store.steampowered.com/".length);
                n != this.m_section.button_store_path &&
                  ((this.m_section.button_store_path = n),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
              }
            }),
            (t.prototype.SetButtonAppOverride = function (e) {
              this.m_section.button_appid_override !== e &&
                ((this.m_section.button_appid_override = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.RemoveSubSection = function (e) {
              switch (e) {
                case "headline":
                  this.BHasHeadline() &&
                    ((this.m_section.localized_headline = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "body":
                  this.BHasBody() &&
                    ((this.m_section.localized_body = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "img":
                  this.BHasImage() &&
                    ((this.m_section.localized_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "action":
                  this.BHasCallToAction() &&
                    ((this.m_section.button_loc_token = void 0),
                    (this.m_section.button_appid_override = void 0),
                    (this.m_section.button_destination = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "youtube":
                  this.BHasVideo() &&
                    ((this.m_section.video_link = void 0),
                    (this.m_section.video_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                default:
                  console.error(
                    "CEmailSectionEditModel: Unexpected Email Template SubType to Remove: " +
                      e
                  );
              }
            }),
            (t.prototype.BHasSomeSubSection = function () {
              return (
                this.BHasHeadline() ||
                this.BHasBody() ||
                this.BHasImage() ||
                this.BHasCallToAction() ||
                this.BHasVideo()
              );
            }),
            Object(a.c)([i.k], t.prototype, "SetHeadline", null),
            Object(a.c)([i.k], t.prototype, "SetBody", null),
            Object(a.c)([i.k], t.prototype, "SetVideoLink", null),
            Object(a.c)([i.k], t.prototype, "SetVideoHashAndExt", null),
            Object(a.c)([i.k], t.prototype, "SetImage", null),
            Object(a.c)([i.k], t.prototype, "SetButtonTextLock", null),
            Object(a.c)([i.k], t.prototype, "SetButtonDestination", null),
            Object(a.c)(
              [i.k.bound],
              t.prototype,
              "SetButtonDestinationStoreURL",
              null
            ),
            Object(a.c)([i.k], t.prototype, "SetButtonAppOverride", null),
            Object(a.c)([i.k], t.prototype, "RemoveSubSection", null),
            t
          );
        })(r.a);
    },
    R5ed: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return q;
        }),
        n.d(t, "c", function () {
          return ie;
        });
      var a,
        i = n("mrSG"),
        r = n("t0uJ"),
        o = n("2vnA"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("dsQf"),
        u = n.n(c),
        d = n("mgoM"),
        p = n("kyHq"),
        m = n("Nsq5"),
        _ = n("qD+2"),
        g = n("kLLr"),
        h = n("ir+G"),
        f = n("U+Q5"),
        b = n("I/R6"),
        v = n("UWWC"),
        E = n("Mgs7"),
        S = n("qP7j"),
        y = n("yJqL"),
        O = n("TOXn"),
        T = n("SdTr"),
        C = n("vBFs"),
        j = n("fpVW"),
        I = n.n(j),
        w = n("Txw1"),
        M = n.n(w),
        D = n("exH9"),
        k = n("bxiW"),
        G = n("UxvL"),
        L = n("lkRc"),
        A = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnClick = function (e) {
              e.preventDefault();
              var t = this.props,
                n = t.fnHandleOpenEvent,
                a = t.event;
              n && n(a);
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.event,
                n = e.spotlightURLOverride,
                a = e.headerNavElement,
                i = e.fnImageFailureCallback,
                r = e.fnFilterImageURLsForKnownFailures,
                o = e.langOverride || Object(d.d)(L.c.LANGUAGE),
                l =
                  void 0 !== n
                    ? [n]
                    : t.GetImageForSizeAsArrayWithFallback(
                        "spotlight",
                        o,
                        f.c.spotlight_main
                      );
              r && (l = r(l));
              var c = t.GetSummaryWithFallback(o),
                u = t.GetNameWithFallback(0),
                p = t.GetCategoryAsString();
              c = c.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
              var m = s.createElement(
                "span",
                { className: M.a.EventType },
                p,
                "-"
              );
              return s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: M.a.MajorEvent_Ctn },
                  s.createElement(
                    "div",
                    { className: M.a.MajorEventHeader },
                    s.createElement("div", { className: M.a.EventType }, m),
                    s.createElement(
                      "div",
                      { className: M.a.PartnerEventLargeImage_Title },
                      u
                    ),
                    a
                  ),
                  s.createElement(
                    "div",
                    {
                      className: Object(D.a)(
                        M.a.AppDetailsSpotlightContainer,
                        M.a.MajorEventContainer
                      ),
                      onClick: this.OnClick,
                    },
                    s.createElement(
                      "div",
                      { className: M.a.MajorEventBackground },
                      s.createElement(G.a, {
                        className: M.a.MajorEventImageBackgroundBlur,
                        rgSources: l,
                        onIncrementalError: function (e, t, n) {
                          return i && i(t);
                        },
                      })
                    ),
                    s.createElement(
                      "div",
                      { className: M.a.MajorEventImageContainer },
                      s.createElement(G.a, {
                        className: M.a.MajorEventImage,
                        rgSources: l,
                        onIncrementalError: function (e, t, n) {
                          return i && i(t);
                        },
                      }),
                      s.createElement("div", {
                        className: M.a.MajorEventImageTemplate,
                      }),
                      s.createElement(
                        "div",
                        { className: M.a.MajoreEventImageContentContainer },
                        t.BShowLibrarySpotlightText() &&
                          s.createElement(
                            "div",
                            { className: M.a.MajorEventContent },
                            s.createElement(G.a, {
                              className: M.a.MajorEventSpotlightBackground,
                              rgSources: l,
                              onIncrementalError: function (e, t, n) {
                                return i && i(t);
                              },
                            }),
                            s.createElement(
                              "div",
                              { className: M.a.MajorEventTextCtn },
                              s.createElement(
                                "div",
                                { className: M.a.MajorEventTitle },
                                t.GetNameWithFallback(o)
                              ),
                              s.createElement(
                                "div",
                                { className: M.a.MajorEventSummary },
                                c
                              )
                            )
                          )
                      )
                    ),
                    s.createElement("div", { className: M.a.BottomShadow })
                  )
                )
              );
            }),
            Object(i.c)([k.a], t.prototype, "OnClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        B = n("Jqb/"),
        N = n("ka0M"),
        F = n("6Y59"),
        R = n("X3Ds"),
        x = n("TLQK"),
        P = n("6h0J"),
        U = n.n(P),
        V = n("75vw"),
        H = n("bVxH"),
        z = n("6Oks"),
        W = n.n(z);
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required");
      })(a || (a = {}));
      var q = Object(l.a)(function (e) {
          var t = r.c.GetEditModel(),
            n = e.artworkType,
            i = e.headerHint,
            o = null;
          i === a.k_Required
            ? (o = s.createElement(
                "span",
                { style: { color: "#C6512B" } },
                Object(x.f)("#EventEditor_Required")
              ))
            : i === a.k_Suggested &&
              (o = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                Object(x.f)("#EventEditor_Suggested")
              ));
          var l = null;
          if ("capsule" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(x.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_capsule_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(x.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_capsule_2")
              )
            );
          else if ("background" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(x.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_background_1")
              )
            );
          else if ("spotlight" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(x.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_spotlight_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(x.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_spotlight_2")
              )
            );
          else if ("broadcast_left" === n || "broadcast_right" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(x.f)("#selectimage_tip_broadcast_1")
              )
            );
          else if ("sale_header" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: I.a.EventElementRequired },
                Object(x.f)("#selectimage_tip_required_title")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(x.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_sale_header_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(x.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(x.f)("#selectimage_tip_sale_header_2")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(x.f)("#selectimage_tip_template_title")
                ),
                ": ",
                s.createElement(
                  "a",
                  {
                    href:
                      "https://cdn.cloudflare.steamstatic.com/appmgmt/storeadmin/SalePageTemplate_min.zip",
                  },
                  Object(x.f)("#selectimage_tip_sale_header_3")
                )
              ),
              s.createElement("br", null)
            );
          else if ("hero" === n) {
            var c = h.a.GetStoreCapsuleInfo(t.GetAppID());
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(x.f)("#selectimage_tip_hero_1")
              ),
              !c.GetAppStoreData().library_asset_setup_complete &&
                s.createElement(
                  "p",
                  { className: S.ErrorStylesBackground },
                  Object(x.f)("#EventEdtior_ArtworkType_hero_warning")
                )
            );
          } else
            "localized_image_group" === n ||
            "link_capsule" === n ||
            "sale_section_title" === n ||
            "schedule_track_art" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    Object(x.f)("#ImagePickerLoc_Desc")
                  ),
                  s.createElement(
                    "p",
                    null,
                    Object(x.n)(
                      "#ImagePickerLoc_Files",
                      s.createElement(
                        "a",
                        {
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                          target: L.c.IN_CLIENT ? void 0 : "_blank",
                        },
                        Object(x.f)("#ImagePickerLoc_URL")
                      )
                    )
                  )
                ))
              : "product_banner" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(x.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(x.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(x.f)("#selectimage_tip_sale_product_banner")
                  )
                ))
              : "product_mobile_banner" === n ||
                "product_banner_override" === n ||
                "product_mobile_banner_override" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(x.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(x.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(x.f)("#selectimage_tip_sale_product_banner"),
                    "product_mobile_banner" === n &&
                      s.createElement(
                        "span",
                        null,
                        "  ",
                        Object(x.f)(
                          "#selectimage_tip_sale_product_banner_mobile"
                        )
                      )
                  )
                ))
              : "tab_bar_background" === n &&
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(x.f)("#selectimage_tip_design_title")
                    ),
                    ":",
                    Object(x.f)("#Sale_Tabs_Background_Design")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(x.f)("#selectimage_tip_usage_title")
                    ),
                    ":",
                    Object(x.f)("#Sale_Tabs_Background_Usage")
                  )
                ));
          var u = m.a[e.artworkType].width,
            d = m.a[e.artworkType].height;
          return s.createElement(
            "div",
            { id: e.id, className: W.a.ArtworkSelectorContainer },
            s.createElement(
              "div",
              { className: W.a.Title, onDoubleClick: e.fnToggleMinimize },
              e.title,
              s.createElement("span", null, ""),
              o,
              e.fnToggleMinimize &&
                s.createElement(
                  E.d,
                  {
                    "data-tooltip-text": Object(x.f)(
                      e.bIsMinimized
                        ? "#Sale_Section_Maximize_Tooltip"
                        : "#Sale_Section_Minimize_Tooltip"
                    ),
                    onClick: e.fnToggleMinimize,
                  },
                  e.bIsMinimized
                    ? s.createElement(F.G, null)
                    : s.createElement(F.J, null)
                )
            ),
            !e.bIsMinimized &&
              s.createElement(
                "div",
                { className: Object(D.a)(W.a.SelectImageBlock, W.a.Tips) },
                l,
                Boolean(u && d) &&
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(x.f)("#selectimage_tip_dimensions_title")
                    ),
                    ":",
                    Object(x.n)("#selectimage_tip1", u, d)
                  ),
                Boolean(e.strWarning) &&
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      "p",
                      { className: S.WarningStylesWithIcon },
                      e.strWarning
                    )
                  ),
                e.elEventArtworkExample,
                "",
                s.createElement("br", null),
                e.elAdditionalControls
              ),
            !e.bIsMinimized &&
              s.createElement(K, {
                clanSteamID: e.clanSteamID,
                title: e.title,
                imageWidth: u,
                imageHeight: d,
                artworkType: e.artworkType,
              })
          );
        }),
        K = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                langOverride: b.a.Get().GetCurEditLanguage(),
                lastSelection: new Array(),
              }),
              t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnUpdateAndMoveClanImageLang = function (e, t, n) {
              var a = this,
                i = r.c.GetEditModel();
              Object(o.G)(function () {
                var r = a.props.artworkType;
                i.GetImageHash(r, t) == e.image_hash &&
                  i.SetImageURL(r, null, t),
                  i.SetImageURL(r, e, n),
                  a.InsertOrUpdateClanImageAndLangMapping(e, n, !1);
              });
            }),
            (t.prototype.OnRemoveImage = function (e) {
              r.c.GetEditModel().SetImageURL(this.props.artworkType, null, e);
            }),
            (t.prototype.InsertOrUpdateClanImageAndLangMapping = function (
              e,
              t,
              n
            ) {
              var a,
                i = this.state.lastSelection;
              i.find(function (t) {
                return t.clanImage.imageid == e.imageid;
              })
                ? (a = i.map(function (n) {
                    return n.clanImage.imageid == e.imageid
                      ? { clanImage: e, lang: t }
                      : n;
                  }))
                : n && (a = i.concat({ clanImage: e, lang: t })),
                this.setState({ lastSelection: a });
            }),
            (t.prototype.OnLanguageChange = function (e) {
              e != this.state.langOverride &&
                this.setState({ langOverride: e });
            }),
            (t.prototype.OnSpotlightChange = function (e) {
              var t = r.c.GetEditModel();
              e && !t.BHasImage("spotlight", 0)
                ? (console.error("EventArtworkSelector: OnSpotlightChange"),
                  Object(N.d)(
                    s.createElement(B.f, {
                      strTitle: Object(x.f)("#Error_FailureNotice"),
                      strDescription: Object(x.f)(
                        "#EventEditor_Options_Spotlight_Error",
                        Object(x.f)("#EventEditor_Artwork")
                      ),
                    }),
                    window
                  ))
                : t.SetLibrarySpotlight(e);
            }),
            (t.prototype.OnSpotlightTextChange = function (e) {
              r.c.GetEditModel().SetLibrarySpotlightText(e);
            }),
            (t.prototype.render = function () {
              var e = r.c.GetEditModel(),
                t = e.BHasImage("spotlight", 0),
                n = "localized_image_group" === this.props.artworkType;
              return "hero" === this.props.artworkType
                ? s.createElement(
                    "div",
                    { style: { padding: "16px" } },
                    s.createElement(
                      E.d,
                      {
                        style: { textTransform: "uppercase", width: "200px" },
                        onClick: function () {
                          return window.open(
                            L.c.PARTNER_BASE_URL +
                              "admin/game/edit/" +
                              e.GetStoreItemID() +
                              "?activetab=tab_graphicalassets"
                          );
                        },
                      },
                      Object(x.f)("#ImageUpload_EditHeroImage")
                    )
                  )
                : s.createElement(
                    "div",
                    null,
                    s.createElement(Y, {
                      list: this.state.lastSelection,
                      fnOnArtworkLanguageChange: this
                        .OnUpdateAndMoveClanImageLang,
                    }),
                    s.createElement(
                      "div",
                      null,
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(E.q, {
                            onChange: this.OnSpotlightChange,
                            label: Object(x.f)(
                              "#EventEditor_Options_Spotlight_Label"
                            ),
                            checked: e.GetEventModel().BShowLibrarySpotlight(),
                            disabled: !t,
                            description: Object(x.f)(
                              "#EventEditor_Options_Spotlight_Desc",
                              Object(x.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(E.q, {
                            onChange: this.OnSpotlightTextChange,
                            label: Object(x.f)(
                              "#EventEditor_Options_SpotlightText_Label"
                            ),
                            checked: e
                              .GetEventModel()
                              .BShowLibrarySpotlightText(),
                            disabled: !t,
                            description: Object(x.f)(
                              "#EventEditor_Options_SpotlightText_Desc",
                              Object(x.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      s.createElement(
                        "div",
                        {
                          className: Object(D.a)(
                            W.a.SelectImageBlock,
                            W.a.MainPreviewBlock
                          ),
                        },
                        s.createElement(ae, {
                          clanSteamID: this.props.clanSteamID,
                          fnOnLanguagePreviewChange: this.OnLanguageChange,
                          langOverride: this.state.langOverride,
                          fnOnArtworkLangChange: n
                            ? null
                            : this.OnUpdateAndMoveClanImageLang,
                          artworkType: this.props.artworkType,
                          fnOnRemoveImage: n ? null : this.OnRemoveImage,
                        })
                      )
                    )
                  );
            }),
            Object(i.c)(
              [k.a],
              t.prototype,
              "OnUpdateAndMoveClanImageLang",
              null
            ),
            Object(i.c)([k.a], t.prototype, "OnRemoveImage", null),
            Object(i.c)(
              [k.a],
              t.prototype,
              "InsertOrUpdateClanImageAndLangMapping",
              null
            ),
            Object(i.c)([k.a], t.prototype, "OnLanguageChange", null),
            Object(i.c)([k.a], t.prototype, "OnSpotlightChange", null),
            Object(i.c)([k.a], t.prototype, "OnSpotlightTextChange", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Y = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.ShowLangChangeDialog = function (e, t) {
              var n = this.props.fnOnArtworkLanguageChange;
              Object(N.d)(
                s.createElement(Q, {
                  clanImage: e,
                  lang: t,
                  fnOnArtworkLangChange: n,
                }),
                window
              );
            }),
            (t.prototype.GenerateImageMappings = function () {
              var e = this,
                t = new Array();
              return (
                this.props.list.forEach(function (n) {
                  var a = n.clanImage,
                    i = n.lang,
                    r = Object(x.f)("#Language_" + Object(d.a)(i));
                  t.push(
                    s.createElement(
                      "div",
                      {
                        key: "img_lang_" + n.clanImage.imageid + "_" + i,
                        className: I.a.FlexRowContainer,
                      },
                      s.createElement(
                        "span",
                        null,
                        Object(x.f)(
                          "#ImageUpload_Success_Mapping",
                          a.file_name,
                          r
                        )
                      ),
                      s.createElement(
                        "a",
                        {
                          onClick: function () {
                            return e.ShowLangChangeDialog(a, i);
                          },
                        },
                        Object(x.f)("#ImageUpload_Success_Mapping_Change")
                      )
                    )
                  );
                }),
                t
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.list;
              if (!e || 0 == e.length) return s.createElement("div", null);
              var t = this.GenerateImageMappings();
              return s.createElement("div", { className: V.UploadSuccess }, t);
            }),
            Object(i.c)([k.a], t.prototype, "ShowLangChangeDialog", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Q = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { selectedLang: t.props.lang }), t;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnOK = function () {
              this.props.fnOnArtworkLangChange(
                this.props.clanImage,
                this.props.lang,
                this.state.selectedLang
              );
            }),
            (t.prototype.OnLanguageChange = function (e) {
              this.state.selectedLang != e &&
                this.setState({ selectedLang: e });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanImage,
                n = e.closeModal,
                a = (e.lang, g.a.InitFromClanID(t.clanAccountID)),
                i = f.a.GenerateArtworkURLFromHashAndExtensions(
                  a,
                  f.a.GetHashAndExt(t)
                ),
                o = r.c.GetEditModel();
              return s.createElement(
                B.d,
                {
                  strTitle: Object(x.f)(
                    "#selectimage_change_artwork_lang_title"
                  ),
                  strDescription: Object(x.f)(
                    "#selectimage_change_artworl_lang_desc"
                  ),
                  onOK: this.OnOK,
                  onCancel: n,
                  closeModal: n,
                },
                s.createElement(
                  "div",
                  {
                    className: Object(D.a)(
                      I.a.FlexColumnContainer,
                      W.a.ReassignCtn
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    s.createElement("img", {
                      className: W.a.ArtworkPreview,
                      src: i,
                    })
                  ),
                  s.createElement(C.a, {
                    selectedLang: this.state.selectedLang,
                    fnLangHasData: o.BHasTitleImage,
                    fnOnLanguageChanged: this.OnLanguageChange,
                    realms: o.GetIncludedRealmList(),
                  })
                )
              );
            }),
            Object(i.c)([k.a], t.prototype, "OnOK", null),
            Object(i.c)([k.a], t.prototype, "OnLanguageChange", null),
            t
          );
        })(s.Component),
        J = Object(l.a)(function (e) {
          var t = e.imgURL,
            n = r.c.GetEditModel(),
            a = b.a.Get().GetCurEditLanguage();
          return s.createElement(
            "div",
            { style: { display: "flex", width: "304px" } },
            s.createElement(T.b, {
              event: n.GetEventModel(),
              imageURLOverride: t,
              langOverride: a,
            })
          );
        }),
        Z = function (e) {
          var t = e.lang,
            n = r.c.GetEditModel().GetEventModel(),
            a = n.GetNameWithFallback(t),
            i = n.GetDescriptionWithFallback(t),
            o = n.GetSubTitleWithLanguageFallback(t),
            l = i
              ? s.createElement(O.a, {
                  text: i || "",
                  partnerEventStore: r.c,
                  showErrorInfo: !1,
                  event: n,
                  languageOverride: b.a.Get().GetCurEditLanguage(),
                })
              : Object(x.f)("#selectimage_display_event_body");
          return s.createElement(
            "div",
            { className: W.a.MultipleExampleContainer },
            s.createElement(
              "div",
              { className: W.a.ExampleSectionTitle },
              Object(x.f)("#selectimage_preview_title_1")
            ),
            s.createElement(
              "div",
              {
                className: Object(D.a)(
                  W.a.DetailPageExample,
                  "DetailPageExample"
                ),
              },
              s.createElement(
                "div",
                { className: W.a.detailExample },
                s.createElement(
                  "div",
                  { className: W.a.MainImageCtn },
                  s.createElement("img", { src: e.imgURL })
                ),
                s.createElement(
                  "div",
                  { className: W.a.ExampleBodyPosition },
                  s.createElement(
                    "div",
                    { className: W.a.ExampleContentCtn },
                    s.createElement(
                      "div",
                      { className: W.a.TextTitle },
                      a || Object(x.f)("#selectimage_display_event_title")
                    ),
                    s.createElement(
                      "div",
                      { className: W.a.TextSubTitle },
                      o || Object(x.f)("#selectimage_display_event_subtitle")
                    ),
                    s.createElement("div", { className: W.a.TextBody }, l)
                  )
                )
              )
            ),
            12 != n.type &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("div", { className: W.a.ExampleSpacer }),
                s.createElement(
                  "div",
                  { className: W.a.ExampleSectionTitle },
                  Object(x.f)("#selectimage_preview_title_2")
                ),
                s.createElement(
                  "div",
                  {
                    className: Object(D.a)(
                      W.a.DetailPageExample,
                      "DetailPageExample"
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.detailExample2 },
                    s.createElement(y.d, {
                      key: n.AnnouncementGID,
                      event: n,
                      emoticonStore: v.b,
                      partnerEventStore: r.c,
                      appStore: _.a,
                      headerClassnames: "editor",
                      langOverride: t,
                      bDisableBroadcastPlayer: !0,
                    })
                  )
                )
              )
          );
        },
        X = function (e) {
          var t = h.a.GetStoreCapsuleInfo(e.event.appid).GetAppStoreData(),
            n = t.title,
            a = t.icon_url;
          return s.createElement(
            "div",
            { className: W.a.SpotlightExample },
            s.createElement(A, {
              event: e.event,
              strDisplayName: n,
              gameIconUrl: a,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            })
          );
        },
        $ = function (e) {
          var t = [
            s.createElement("img", { key: "img", src: e.imgURL }),
            s.createElement("div", {
              key: "video",
              className: W.a.BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            s.createElement(
              "div",
              { className: W.a.BroadcastPreviewContainer },
              t
            )
          );
        },
        ee = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        te = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ne = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ae = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { langOverride: b.a.Get().GetCurEditLanguage() }), t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.langOverride,
                n = e.artworkType,
                a = e.fnOnLanguagePreviewChange,
                i = e.clanSteamID,
                o = r.c.GetEditModel(),
                l = o.GetImageURL(
                  this.props.artworkType,
                  this.props.langOverride
                );
              return o.BHasSomeImage(n)
                ? s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === n && s.createElement(J, { imgURL: l }),
                    "background" === n &&
                      s.createElement(Z, {
                        imgURL: l,
                        lang: b.a.Get().GetCurEditLanguage(),
                      }),
                    "spotlight" === n &&
                      s.createElement(X, {
                        imgURL: l,
                        event: o.GetEventModel(),
                        lang: o.GetCurEditLanguage(),
                      }),
                    ("broadcast_left" === n || "broadcast_right" === n) &&
                      s.createElement($, {
                        imgURL: l,
                        side: "broadcast_right" === n ? "right" : "left",
                      }),
                    "sale_header" === n && s.createElement(ee, { imgURL: l }),
                    "sale_overlay" === n && s.createElement(te, { imgURL: l }),
                    Boolean(
                      "localized_image_group" === n ||
                        "link_capsule" === n ||
                        "product_mobile_banner_override" === n ||
                        "product_banner_override" === n ||
                        "sale_section_title" === n ||
                        "schedule_track_art" === n
                    ) &&
                      s.createElement("img", {
                        className: H.previewimg,
                        src: f.d.GetLocalizedImageGroupForEditAsURL(i, t),
                      }),
                    "product_banner" === n &&
                      s.createElement(ne, { imgURL: l }),
                    "product_mobile_banner" === n &&
                      s.createElement(ne, { imgURL: l }),
                    s.createElement(ie, {
                      langOverride: t,
                      clanSteamID: i,
                      fnOnLanguagePreviewChange: a,
                      fnOnRemoveImage: this.props.fnOnRemoveImage,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                      fnGetImageHash: function (e) {
                        return o.GetImageHash(n, e);
                      },
                    })
                  )
                : s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === n &&
                      s.createElement(J, {
                        imgURL:
                          L.c.IMG_URL + "events/defaults/default_img_cover.jpg",
                      }),
                    "background" === n &&
                      s.createElement(Z, {
                        imgURL:
                          L.c.IMG_URL +
                          "events/defaults/default_img_header.jpg",
                        lang: o.GetCurEditLanguage(),
                      }),
                    "spotlight" === n &&
                      s.createElement(X, {
                        lang: b.a.Get().GetCurEditLanguage(),
                        imgURL:
                          L.c.IMG_URL +
                          "events/defaults/default_img_spotlight.jpg",
                        event: o.GetEventModel(),
                      }),
                    s.createElement(
                      "div",
                      null,
                      Object(x.f)("#EventEditor_ArtworkMissing")
                    )
                  );
            }),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        ie = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnCloseDeleteDialog = function () {}),
            (t.prototype.OnChangeImageLanguage = function (e) {
              var t = Object(d.d)(e.currentTarget.id);
              this.props.fnOnLanguagePreviewChange(t);
            }),
            (t.prototype.OnChangeLanguage = function (e) {
              var t = this.props,
                n = t.fnGetImageHash,
                a = t.clanSteamID,
                i = +e.currentTarget.dataset.lang,
                r = n(i);
              if (r) {
                var o = f.d.GetClanImageByImageHash(a, r);
                o &&
                  Object(N.d)(
                    s.createElement(Q, {
                      clanImage: o,
                      lang: i,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                    }),
                    window
                  );
              }
            }),
            (t.prototype.OnDeleteClick = function (e) {
              var t = this;
              e.stopPropagation(), e.preventDefault();
              var n = +e.currentTarget.dataset.lang;
              Object(N.d)(
                s.createElement(B.d, {
                  strTitle: Object(x.f)("#selectimage_remove_image"),
                  strDescription: Object(x.f)(
                    "#selectimage_remove_details",
                    Object(x.f)("#Language_" + Object(d.a)(n))
                  ),
                  closeModal: this.OnCloseDeleteDialog,
                  onOK: function () {
                    t.props.fnOnRemoveImage(n);
                  },
                  onCancel: this.OnCloseDeleteDialog,
                }),
                Object(R.m)(e)
              );
            }),
            (t.prototype.ConstructLanguages = function () {
              for (
                var e = this.props,
                  t = e.langOverride,
                  n = e.fnGetImageHash,
                  a = e.clanSteamID,
                  i = new Array(),
                  r = a.GetAccountID(),
                  o = Array(),
                  l = 0,
                  c = x.b.GetLanguageListForRealms([
                    p.f.k_ESteamRealmGlobal,
                    p.f.k_ESteamRealmChina,
                  ]);
                l < c.length;
                l++
              ) {
                var m = c[l],
                  _ = n(m);
                if (_) {
                  var g = Object(d.a)(m),
                    h = Object(x.f)("#Language_" + g);
                  o.push({ lang: m, strLang: g, locLang: h, imgHash: _ });
                }
              }
              for (
                var b = 0,
                  v = (o = o.sort(function (e, t) {
                    return e.locLang > t.locLang
                      ? 1
                      : e.locLang < t.locLang
                      ? -1
                      : 0;
                  }));
                b < v.length;
                b++
              ) {
                var E = v[b],
                  S = f.d.GetClanImageByImageHash(a, E.imgHash),
                  y = S
                    ? f.a.GenerateArtworkURLFromHashAndExtensions(
                        this.props.clanSteamID,
                        f.a.GetHashAndExt(S),
                        f.c.full,
                        E.lang
                      )
                    : "",
                  O =
                    t == E.lang
                      ? W.a.LanguageSelectorSelected
                      : E.imgHash
                      ? W.a.LanguageSelector
                      : W.a.LanguageSelectorNoData;
                i.push(
                  s.createElement(
                    "div",
                    {
                      key: "lang_select_" + r + " " + E.strLang,
                      id: E.strLang,
                      className: W.a.LanguageContainer,
                      onClick: this.OnChangeImageLanguage,
                    },
                    s.createElement("div", { className: O }, E.locLang),
                    s.createElement(
                      "span",
                      { className: W.a.LanguageOptions },
                      Boolean(y) &&
                        s.createElement(
                          "a",
                          {
                            href: y,
                            target: "_blank",
                            "data-tooltip-text": Object(x.f)(
                              "#selectimage_viewimage_ttip"
                            ),
                          },
                          F.P()
                        ),
                      this.props.fnOnArtworkLangChange &&
                        s.createElement("img", {
                          "data-lang": E.lang,
                          src: U.a,
                          onClick: this.OnChangeLanguage,
                          "data-tooltip-text": Object(x.f)(
                            "#selectimage_reassign_image_ttip"
                          ),
                        }),
                      this.props.fnOnRemoveImage &&
                        s.createElement("img", {
                          "data-lang": E.lang,
                          src: u.a,
                          onClick: this.OnDeleteClick,
                          "data-tooltip-text": Object(x.f)(
                            "#selectimage_delete_image_ttip"
                          ),
                        })
                    )
                  )
                );
              }
              return i;
            }),
            (t.prototype.render = function () {
              var e = this.ConstructLanguages();
              return s.createElement(
                "div",
                { className: W.a.SelectImageLanguagesCtn },
                s.createElement(
                  "div",
                  { className: W.a.SelectImageTitle },
                  Object(x.f)("#selectimage_uploaded_languages")
                ),
                s.createElement(
                  "div",
                  { className: W.a.LanguageListContainer },
                  e
                )
              );
            }),
            Object(i.c)([k.a], t.prototype, "OnCloseDeleteDialog", null),
            Object(i.c)([k.a], t.prototype, "OnChangeImageLanguage", null),
            Object(i.c)([k.a], t.prototype, "OnChangeLanguage", null),
            Object(i.c)([k.a], t.prototype, "OnDeleteClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component);
    },
    Txw1: function (e, t, n) {
      e.exports = {
        ReadMoreLink: "spotlight_ReadMoreLink_2mvgc",
        MajorEventContainer: "spotlight_MajorEventContainer_dVJB2",
        MajorEventImageContainer: "spotlight_MajorEventImageContainer_1PkTB",
        MajorEventImage: "spotlight_MajorEventImage_25fL1",
        BottomShadow: "spotlight_BottomShadow_1ueE9",
        MajoreEventImageContentContainer:
          "spotlight_MajoreEventImageContentContainer_3mREW",
        MajorEventImageTemplate: "spotlight_MajorEventImageTemplate_lQR9_",
        MajorEventBackground: "spotlight_MajorEventBackground_388Iu",
        MajorEventImageBackgroundBlur:
          "spotlight_MajorEventImageBackgroundBlur_3sVs6",
        MajorEventHeader: "spotlight_MajorEventHeader_1HL2n",
        EventType: "spotlight_EventType_3zVyX",
        GameIconAndName: "spotlight_GameIconAndName_IltgR",
        GameIcon: "spotlight_GameIcon_3Dkj3",
        MajorEventSpotlightBackground:
          "spotlight_MajorEventSpotlightBackground_1aheP",
        MajorEventContent: "spotlight_MajorEventContent_2nr7N",
        MajorEventTextCtn: "spotlight_MajorEventTextCtn_Ojdg2",
        MajorEventTitle: "spotlight_MajorEventTitle_nEBZT",
        MajorEventSummary: "spotlight_MajorEventSummary_HPngO",
        MajorEvent_Ctn: "spotlight_MajorEvent_Ctn_2_kU7",
        AppDetailsSpotlightContainer:
          "spotlight_AppDetailsSpotlightContainer_1zDJ1",
      };
    },
    UvY0: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return l;
      }),
        n.d(t, "b", function () {
          return s;
        });
      var a = n("q1tI"),
        i = n("9w6b"),
        r = n("fpVW"),
        o = n("exH9");
      function l(e, t) {
        if (!e || !e.BIsClanAccount) return !1;
        var n = i.a.Get().GetPartnerEventPermissions(e);
        return !!n && (t ? n.valve_admin : n.valve_admin || n.support_user);
      }
      var s = function (e) {
        return l(e.clanSteamID, e.requireAdmin)
          ? a.createElement(
              "div",
              {
                className: Object(o.a)(
                  e.className,
                  e.requireAdmin
                    ? r.ValveOnlyAdminBackground
                    : r.ValveOnlyBackground
                ),
              },
              e.children
            )
          : null;
      };
    },
    Vitc: function (e, t, n) {
      e.exports = {
        FacetValueName: "facetedbrowseeditor_FacetValueName_3wruf",
        FacetValueCtn: "facetedbrowseeditor_FacetValueCtn_btRSv",
        FacetValueFilterDisplayCtn:
          "facetedbrowseeditor_FacetValueFilterDisplayCtn_2Xo5C",
        FacetName: "facetedbrowseeditor_FacetName_39gQo",
        FacetFilterDisplayCtn:
          "facetedbrowseeditor_FacetFilterDisplayCtn_3_YHd",
      };
    },
    Ww0A: function (e, t, n) {
      "use strict";
      n.d(t, "d", function () {
        return r;
      }),
        n.d(t, "b", function () {
          return o;
        }),
        n.d(t, "a", function () {
          return l;
        }),
        n.d(t, "e", function () {
          return c;
        }),
        n.d(t, "c", function () {
          return u;
        });
      var a = n("wd/R"),
        i = n.n(a),
        r = [
          "small_update",
          "regular_update",
          "major_update",
          "release",
          "future_release",
          "beta_release",
          "dlc_release",
          "season_release",
          "sale",
          "gameitem_sale",
          "trial",
          "bonusxp",
          "loot",
          "perks",
          "general",
          "challenge",
          "contest",
          "broadcast",
          "news",
          "chat",
          "irl",
          "crosspost",
        ],
        o = {
          small_update: {
            name: "#PartnerEvent_12",
            description: "#PartnerEvent_12_Desc",
            type: 12,
            tags: ["patchnotes"],
          },
          regular_update: {
            name: "#PartnerEvent_13",
            description: "#PartnerEvent_13_Desc",
            type: 13,
          },
          major_update: {
            name: "#PartnerEvent_14",
            description: "#PartnerEvent_14_Desc",
            type: 14,
          },
          release: {
            name: "#PartnerEvent_10_editor",
            description: "#PartnerEvent_10_Desc",
            type: 10,
          },
          future_release: {
            name: "#PartnerEvent_16_editor",
            description: "#PartnerEvent_16_Desc",
            type: 16,
          },
          beta_release: {
            name: "#PartnerEvent_29_editor",
            description: "#PartnerEvent_29_Desc",
            type: 29,
          },
          dlc_release: {
            name: "#PartnerEvent_15",
            description: "#PartnerEvent_15_Desc",
            type: 15,
          },
          season_release: {
            name: "#PartnerEvent_32",
            description: "#PartnerEvent_32_Desc",
            type: 32,
          },
          sale: {
            name: "#PartnerEvent_20_editor",
            description: "#PartnerEvent_20_Desc",
            type: 20,
          },
          gameitem_sale: {
            name: "#PartnerEvent_21_editor",
            description: "#PartnerEvent_21_Desc",
            type: 21,
          },
          trial: {
            name: "#PartnerEvent_31",
            description: "#PartnerEvent_31_Desc",
            type: 31,
          },
          bonusxp: {
            name: "#PartnerEvent_22",
            description: "#PartnerEvent_22_Desc",
            type: 22,
          },
          loot: {
            name: "#PartnerEvent_23",
            description: "#PartnerEvent_23_Desc",
            type: 23,
          },
          perks: {
            name: "#PartnerEvent_24",
            description: "#PartnerEvent_24_Desc",
            type: 24,
          },
          general: {
            name: "#PartnerEvent_35",
            description: "#PartnerEvent_35_Desc",
            type: 35,
          },
          challenge: {
            name: "#PartnerEvent_25",
            description: "#PartnerEvent_25_Desc",
            type: 25,
          },
          contest: {
            name: "#PartnerEvent_26",
            description: "#PartnerEvent_26_Desc",
            type: 26,
          },
          broadcast: {
            name: "#PartnerEvent_11",
            description: "#PartnerEvent_11_Desc",
            icon: "11",
            type: 11,
          },
          news: {
            name: "#PartnerEvent_28_editor",
            description: "#PartnerEvent_28_Desc",
            icon: "28",
            type: 28,
          },
          chat: {
            name: "#PartnerEvent_9_editor",
            description: "#PartnerEvent_9_Desc",
            icon: "9",
            type: 9,
          },
          irl: {
            name: "#PartnerEvent_27_editor",
            description: "#PartnerEvent_27_Desc",
            icon: "27",
            type: 27,
          },
          crosspost: {
            name: "#PartnerEvent_34",
            description: "#PartnerEvent_34_Desc",
            icon: "34",
            type: 34,
          },
        },
        l = {
          news: {
            name: "#EventCategory_Curator_Group_Members",
            description: "#EventCategory_Curator_Group_Members_Desc",
            icon: "27",
            type: 28,
            tags: ["curator", "curator_group_members"],
          },
          public: {
            name: "#EventCategory_Curator_Public",
            description: "#EventCategory_Curator_Public_Desc",
            icon: "28",
            type: 28,
            tags: ["curator", "curator_public", "audience_followers"],
          },
          salepage: {
            name: "#EventCategory_Creator_SalePage",
            description: "#EventCategory_Creator_SalePage_Desc",
            icon: "20",
            type: 20,
            tags: ["curator", "curator_public", "audience_followers"],
          },
        },
        s = i()("2021-06-16T10:00:00-07:00").unix(),
        c = i()("2021-06-22T10:00:00-07:00").unix(),
        u = {
          artist_statement: {
            name: "#EventCategory_SteamGameFestival_ArtistStatement",
            description:
              "#EventCategory_SteamGameFestival_ArtistStatement_Desc",
            icon: "info",
            type: 28,
            tags: ["steam_game_festival_artist_statement", "hide_store"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: s,
            actionEndTime: c,
          },
          broadcast: {
            name: "#EventCategory_SteamGameFestival_Broadcast",
            description: "#EventCategory_SteamGameFestival_Broadcast_Desc",
            icon: "11",
            type: 11,
            tags: ["steam_game_festival_broadcast"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
          office_hours: {
            name: "#EventCategory_SteamGameFestival_OfficeHours",
            description: "#EventCategory_SteamGameFestival_OfficeHours_Desc",
            icon: "9",
            type: 9,
            tags: ["steam_game_festival_office_hour"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
        };
    },
    XBHn: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return T;
      }),
        n.d(t, "b", function () {
          return C;
        });
      var a = n("mrSG"),
        i = n("fcuX"),
        r = n("t0uJ"),
        o = n("TyAF"),
        l = n("q1tI"),
        s = n("5izx"),
        c = n("9w6b"),
        u = n("fpVW"),
        d = n.n(u),
        p = n("YLyR"),
        m = n("Jqb/"),
        _ = n("xnZ7"),
        g = n.n(_),
        h = n("0OaU"),
        f = n("exH9"),
        b = n("TLQK"),
        v = n("bDQf"),
        E = n("bxiW"),
        S = n("J/GH"),
        y = n("Mgs7"),
        O = n("N0Ye"),
        T = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                dialogState: "default",
                strErrorMsg: "",
                bFakeError: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnByPassWarnings = function () {
              this.setState({ dialogState: "bypasswarning" });
            }),
            (t.prototype.OnPublish = function () {
              var e = this,
                t = this.props.editModel,
                n = t.GetClanSteamID();
              this.setState({ dialogState: "waiting" }),
                t.OnPreSave(),
                t.BIsDirty() && t.GetChangeTypes() != i.c.visibility
                  ? r.c
                      .SaveModel(n)
                      .then(function () {
                        return r.c
                          .PublishModel(n, e.state.bFakeError)
                          .then(function () {
                            e.setState({ dialogState: "showsuccess" });
                          });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(a.a)(
                            { dialogState: "displayerror" },
                            Object(v.a)(t)
                          )
                        );
                      })
                  : r.c
                      .PublishModel(n, this.state.bFakeError)
                      .then(function () {
                        e.setState({ dialogState: "showsuccess" });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(a.a)(
                            { dialogState: "displayerror" },
                            Object(v.a)(t)
                          )
                        );
                      });
            }),
            (t.prototype.OnFakeErrorChange = function (e) {
              var t = e.target.checked;
              t != this.state.bFakeError && this.setState({ bFakeError: t });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = s.a.GetTimeNowWithOverride(),
                n = e.ComputeStartTime(t),
                a = e.ComputeVisibilityStartTime(t, n),
                r = Object(S.c)(e, !0),
                o = Object(S.d)(e),
                u = this.state.dialogState,
                _ = c.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
              switch (
                (null != r && r.length > 0
                  ? (u = "prevalidateerror")
                  : "default" == u &&
                    null != o &&
                    o.length > 0 &&
                    (u = "showwarning"),
                u)
              ) {
                case "prevalidateerror":
                  return l.createElement(
                    m.f,
                    {
                      strTitle: Object(b.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Error_PublishingDesc"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    l.createElement("ol", null, r),
                    null != o &&
                      o.length > 0 &&
                      l.createElement(
                        l.Fragment,
                        null,
                        l.createElement(
                          "div",
                          null,
                          Object(b.f)("#EventEdit_Warning_PublishingDesc")
                        ),
                        l.createElement("ol", null, o)
                      )
                  );
                case "showwarning":
                  return l.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#EventEditor_Publish_Warning"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Warning_PublishingDesc"
                      ),
                      onOK: this.OnByPassWarnings,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(b.f)(
                        "#EventEditor_ByPassWarnings"
                      ),
                    },
                    l.createElement("ol", null, o)
                  );
                case "bypasswarning":
                case "default":
                  var v = e.ComputeStartTime(t),
                    E = Object(O.a)(e.GetEventType()),
                    y =
                      e.GetVisibilityPublishingSetup() == i.f.immediate ||
                      v <= t;
                  if (E) {
                    var T = e.ComputeVisibilityStartTime(t, v);
                    y = y || T <= t;
                  }
                  return l.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#Button_Publish"),
                      strDescription: "",
                      onOK: this.OnPublish,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(b.f)("#Button_Publish"),
                    },
                    l.createElement(
                      l.Fragment,
                      null,
                      Object(b.f)("#EventEditor_Publish_Notice"),
                      l.createElement("br", null),
                      l.createElement("br", null),
                      y
                        ? Object(b.f)("#EventEditor_Publish_Immediate")
                        : Object(b.n)(
                            "#EventEditor_Publish_Staged",
                            l.createElement(p.a, {
                              dateAndTime: a,
                              bSingleLine: !0,
                            })
                          ),
                      Object(b.f)("#EventEditor_Publish_ContinueEdits"),
                      l.createElement("br", null),
                      l.createElement("br", null),
                      Object(b.f)("#EventEditor_Publish_Notice_Note"),
                      Boolean(_.valve_admin) &&
                        l.createElement(
                          "div",
                          {
                            className: Object(f.a)(
                              d.a.ValveSupportOnly,
                              d.a.ValveOnlyBackground
                            ),
                          },
                          l.createElement("input", {
                            id: "Publishing_FakeError",
                            type: "checkbox",
                            onChange: this.OnFakeErrorChange,
                            checked: this.state.bFakeError,
                          }),
                          l.createElement(
                            "label",
                            { htmlFor: "Publishing_FakeError" },
                            "(VO) Fake an error on the server to test error flow"
                          )
                        )
                    )
                  );
                default:
                case "displayerror":
                  return l.createElement(
                    m.f,
                    {
                      strTitle: Object(b.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Publishing_Failure"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    l.createElement("br", null),
                    l.createElement("br", null),
                    this.state.strErrorMsg
                  );
                case "waiting":
                  return l.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#Button_Publish"),
                      strDescription: Object(b.f)(
                        "#EventEditor_Publishing_PleaseWait"
                      ),
                      bAlertDialog: !0,
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(b.f)("#Button_Cancel"),
                      bOKDisabled: !0,
                    },
                    l.createElement(
                      "div",
                      { className: g.a.FlexCenter },
                      l.createElement(h.a, null)
                    )
                  );
                case "showsuccess":
                  return l.createElement(m.d, {
                    strTitle: Object(b.f)("#Button_Publish"),
                    strDescription: Object(b.f)(
                      "#EventEdit_Publishing_Success"
                    ),
                    bAlertDialog: !0,
                    onOK: this.props.OnPublishSuccess,
                    onCancel: this.props.OnPublishSuccess,
                    closeModal: this.props.closeModal,
                    strOKButtonText: Object(b.f)("#Button_Close"),
                  });
              }
            }),
            Object(a.c)([E.a], t.prototype, "OnByPassWarnings", null),
            Object(a.c)([E.a], t.prototype, "OnPublish", null),
            Object(a.c)([E.a], t.prototype, "OnFakeErrorChange", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component),
        C = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this,
              a = n.props.editModel;
            if (a.BPublished() && !n.props.bSkipChecks) {
              var i = Object(S.c)(a, !1),
                r = Object(S.d)(a),
                o = "default";
              null != i && i.length > 0
                ? (o = "prevalidateerror")
                : null != r && r.length > 0 && (o = "showwarning"),
                (n.state = { dialogState: o, errorList: i, warningList: r });
            } else n.state = { dialogState: "default" };
            return n;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              "default" == this.state.dialogState && this.InternalSave(!1);
            }),
            (t.prototype.OnByPassWarnings = function () {
              var e = this;
              this.setState({ dialogState: "bypasswarning" }, function () {
                return e.InternalSave(!1);
              });
            }),
            (t.prototype.OnByPassOverwriteWarnings = function () {
              var e = this;
              this.setState(
                {
                  dialogState: "bypasswarning",
                  errorList: void 0,
                  warningList: void 0,
                  strErrorMsg: void 0,
                  errorCode: void 0,
                },
                function () {
                  return e.InternalSave(!0);
                }
              );
            }),
            (t.prototype.InternalSave = function (e) {
              var t = this,
                n = this.props.editModel,
                i = n.GetClanSteamID();
              n.OnPreSave(),
                r.c
                  .SaveModel(i, !1, e)
                  .then(function () {
                    t.setState({ dialogState: "success" });
                  })
                  .catch(function (e) {
                    var n = Object(a.a)(
                      { dialogState: "error" },
                      Object(v.a)(e)
                    );
                    !n.strErrorMsg &&
                      Object(b.f)("#EventEditor_Error_" + n.errorCode) &&
                      (n.strErrorMsg = Object(b.f)(
                        "#EventEditor_Error_" + n.errorCode
                      )),
                      27 == n.errorCode && (n.dialogState = "overwrite"),
                      t.setState(n);
                  });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = this.state,
                n = t.errorList,
                a = t.warningList;
              switch (t.dialogState) {
                case "prevalidateerror":
                  return l.createElement(
                    m.f,
                    {
                      strTitle: Object(b.f)("#EventEdit_Saving_Error_Title"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Saving_ErrorDesc"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    l.createElement("ol", null, n),
                    null != a &&
                      a.length > 0 &&
                      l.createElement(
                        l.Fragment,
                        null,
                        l.createElement(
                          "div",
                          null,
                          Object(b.f)("#EventEdit_Saving_WarningDesc")
                        ),
                        l.createElement("ol", null, a)
                      )
                  );
                case "showwarning":
                  return l.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#EventEdit_Saving_Warning_Title"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Saving_WarningDesc"
                      ),
                      onOK: this.OnByPassWarnings,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(b.f)(
                        "#EventEdit_Saving_ByPassWarnings"
                      ),
                    },
                    l.createElement("ol", null, a)
                  );
                case "default":
                default:
                  return l.createElement(
                    m.e,
                    {
                      bDisableBackgroundDismiss: !0,
                      bOKDisabled: !0,
                      bHideCloseIcon: !0,
                    },
                    l.createElement(
                      y.l,
                      null,
                      Object(b.f)("#EventEdit_Saving_Title")
                    ),
                    l.createElement(
                      y.b,
                      null,
                      l.createElement(
                        "div",
                        null,
                        Object(b.f)("#EventEdit_Saving_Description")
                      ),
                      l.createElement(
                        "div",
                        { className: g.a.FlexCenter },
                        l.createElement(h.a, null)
                      )
                    )
                  );
                case "success":
                  var i = Object(b.f)("#EventEdit_Saving_Successful");
                  return (
                    e.BPublished() &&
                      e.BVisible() &&
                      (i +=
                        " " +
                        Object(b.f)("#EventEdit_Saving_Successful_Visible")),
                    l.createElement(m.d, {
                      strTitle: Object(b.f)("#EventEdit_Saving_Success_Title"),
                      strDescription: i,
                      onOK: this.props.OnSuccess,
                      onCancel: this.props.closeModal,
                      closeModal: this.props.closeModal,
                      bAlertDialog: !0,
                    })
                  );
                case "error":
                  return l.createElement(
                    m.f,
                    {
                      strTitle: Object(b.f)("#EventEdit_Saving_Error_Title"),
                      strDescription: Object(b.f)(
                        "#EventEdit_Saving_Failure_Desc"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    l.createElement("br", null),
                    l.createElement("br", null),
                    this.state.strErrorMsg
                  );
                case "overwrite":
                  return l.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)(
                        "#EventEditor_SaveOrPublish_ClobberTitle"
                      ),
                      strDescription: Object(b.f)(
                        "#EventEdit_Saving_Failure_Desc"
                      ),
                      onCancel: this.props.closeModal,
                      onOK: this.OnByPassOverwriteWarnings,
                      strOKButtonText: Object(b.f)("#Button_Overwrite"),
                      bDestructiveWarning: !0,
                    },
                    l.createElement("br", null),
                    l.createElement("br", null),
                    this.state.strErrorMsg
                  );
              }
            }),
            Object(a.c)([E.a], t.prototype, "OnByPassWarnings", null),
            Object(a.c)([E.a], t.prototype, "OnByPassOverwriteWarnings", null),
            Object(a.c)([E.a], t.prototype, "InternalSave", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component);
    },
    Yamg: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return o;
        });
      var a,
        i = n("U+Q5"),
        r = n("ZeAL");
      function o(e, t, n) {
        var o = "",
          l = r.e + "/" + t.clanAccountID + "/" + i.a.GetHashAndExt(t);
        n == a.k_eInsertFullImage
          ? (o = "[img]" + l + "[/img]")
          : (o =
              "[url=" +
              l +
              "][img]" +
              (r.e + "/" + t.clanAccountID + "/" + i.a.GetThumbHashAndExt(t)) +
              "[/img][/url]");
        e.InsertText(o);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup");
      })(a || (a = {}));
    },
    aXcg: function (e, t, n) {
      e.exports = { SavedImage: "partnereventsavebutton_SavedImage_1y3QV" };
    },
    as1E: function (e, t, n) {
      e.exports = {
        CategoryImage: "partnereventeditor_CategoryImage_2bE2w",
        EventCategory_Top_Desc:
          "partnereventeditor_EventCategory_Top_Desc_1kI-Q",
        eventcategory_picker_page:
          "partnereventeditor_eventcategory_picker_page_1axHR",
        EventEditorDescription:
          "partnereventeditor_EventEditorDescription_3C8iP",
        EventSubCategory_Section_Title:
          "partnereventeditor_EventSubCategory_Section_Title_1g3oT",
        EventCategory_Top_Title:
          "partnereventeditor_EventCategory_Top_Title_3XiNN",
        EventSubCategory_Section_Desc:
          "partnereventeditor_EventSubCategory_Section_Desc_1nVkr",
        EventCategory_Expander:
          "partnereventeditor_EventCategory_Expander_3Egt2",
        CategoryTitles_Ctn: "partnereventeditor_CategoryTitles_Ctn_21Aec",
        EventCategory_Title: "partnereventeditor_EventCategory_Title_16pAy",
        EventSubCategory_Ctn: "partnereventeditor_EventSubCategory_Ctn_1xp2X",
        CategoryTypeImage: "partnereventeditor_CategoryTypeImage_1bk8c",
        EventSubCategory_Title:
          "partnereventeditor_EventSubCategory_Title_2OocG",
        EventCategory_Desc: "partnereventeditor_EventCategory_Desc_S7Pze",
        EventSubCategory_Desc: "partnereventeditor_EventSubCategory_Desc_kjyqb",
        EventCategory_HeaderCtn:
          "partnereventeditor_EventCategory_HeaderCtn_48mLX",
        EventCategory: "partnereventeditor_EventCategory_1rJ2O",
        EventCategory_SteamAwardsVoteRequest:
          "partnereventeditor_EventCategory_SteamAwardsVoteRequest_RxhoL",
        EventCategory_SteamGameFestival:
          "partnereventeditor_EventCategory_SteamGameFestival_1DanT",
        TitleCtn: "partnereventeditor_TitleCtn_oGmJd",
        Title: "partnereventeditor_Title_1iEFY",
        Summary: "partnereventeditor_Summary_2eQap",
        Link: "partnereventeditor_Link_3s-fD",
        EventSubCategoriesCtn: "partnereventeditor_EventSubCategoriesCtn_1Ic2i",
        EventCategoryExpanded: "partnereventeditor_EventCategoryExpanded_2gb8_",
        EventEditorCatagorySection:
          "partnereventeditor_EventEditorCatagorySection_1HRyu",
        EventCategoryNotExpandable:
          "partnereventeditor_EventCategoryNotExpandable_3gOyF",
        EventEditorInputPaneContainer:
          "partnereventeditor_EventEditorInputPaneContainer_2hDSK",
        EventEditorInputPaneContents:
          "partnereventeditor_EventEditorInputPaneContents_24lkz",
        RequiredFieldLabel: "partnereventeditor_RequiredFieldLabel_11TnL",
        OptionsNotes: "partnereventeditor_OptionsNotes_3iBea",
        EventCategoryColumns: "partnereventeditor_EventCategoryColumns_36Vhg",
        EventCategoryLeftCol: "partnereventeditor_EventCategoryLeftCol__-nHy",
        EventCategoryRightCol: "partnereventeditor_EventCategoryRightCol_25O-o",
        EventCategoryVisibilityCtn:
          "partnereventeditor_EventCategoryVisibilityCtn_HRszO",
        ExceptionNote: "partnereventeditor_ExceptionNote_19VPv",
        ExceptionDocsLink: "partnereventeditor_ExceptionDocsLink_1iykQ",
        EventVisibility_Title: "partnereventeditor_EventVisibility_Title_jWhiI",
        wrapper: "partnereventeditor_wrapper_2OTbb",
        EventEditorTitleInput: "partnereventeditor_EventEditorTitleInput_ZAOXn",
        Subtitle: "partnereventeditor_Subtitle_32XZf",
        EventEditorInputMaxLength:
          "partnereventeditor_EventEditorInputMaxLength_2B38_",
        CharactorRemaining: "partnereventeditor_CharactorRemaining_153Co",
        CharactorExhausted: "partnereventeditor_CharactorExhausted_2zjgO",
        EventSubCategory: "partnereventeditor_EventSubCategory_2Q82B",
        EventEditBelowTopBarContainer:
          "partnereventeditor_EventEditBelowTopBarContainer_2sTiY",
        EventEditBelowTopBarGameName:
          "partnereventeditor_EventEditBelowTopBarGameName_2mDt_",
        EventEditBelowTopBarCategoryChoice:
          "partnereventeditor_EventEditBelowTopBarCategoryChoice_1GRf_",
        DashLink: "partnereventeditor_DashLink_2UhUF",
        EventEditorInputPaneTopRow:
          "partnereventeditor_EventEditorInputPaneTopRow_1jWGj",
        EventEditPopopLinkContainer:
          "partnereventeditor_EventEditPopopLinkContainer_28dFn",
        InlinePreviewContainer:
          "partnereventeditor_InlinePreviewContainer_1KczU",
        InlinePreviewHeader: "partnereventeditor_InlinePreviewHeader_36LPo",
        TopBarDeleteButton: "partnereventeditor_TopBarDeleteButton_3JgPZ",
        UploadPreviewCtn: "partnereventeditor_UploadPreviewCtn_1f_3B",
        PreviewImgCtn: "partnereventeditor_PreviewImgCtn_5cvwO",
        PreviewImgInfo: "partnereventeditor_PreviewImgInfo_wiK-n",
        UploadPreviewButtonsCtn:
          "partnereventeditor_UploadPreviewButtonsCtn_1E996",
        UploadPreview: "partnereventeditor_UploadPreview_1Go1Y",
        UploadPreviewDelete: "partnereventeditor_UploadPreviewDelete_PQiPX",
        UploadPreviewButton: "partnereventeditor_UploadPreviewButton_3ucHv",
        ArtworkDimensionTooSmall:
          "partnereventeditor_ArtworkDimensionTooSmall_1BKDz",
        UploadPreviewError: "partnereventeditor_UploadPreviewError_FqFpo",
        UploadPreviewWarning: "partnereventeditor_UploadPreviewWarning_3WxvC",
        ArtworkTipsCtn: "partnereventeditor_ArtworkTipsCtn_36oQU",
        ArtworkDocs: "partnereventeditor_ArtworkDocs_R7tUA",
        ArtworkExampleTitle: "partnereventeditor_ArtworkExampleTitle_3IYml",
        ArtworkExampleCtn: "partnereventeditor_ArtworkExampleCtn_1-LYQ",
        EditRawExample: "partnereventeditor_EditRawExample_2Z-Uc",
        EditRawTextArea: "partnereventeditor_EditRawTextArea_2Hjmo",
        TitleSelectionContainer:
          "partnereventeditor_TitleSelectionContainer_wXKYm",
        SaleSectionTitleHeader:
          "partnereventeditor_SaleSectionTitleHeader_1PZp0",
        TabsSelectorEntry: "partnereventeditor_TabsSelectorEntry_rTO_V",
        TabsSelectorEntrySelected:
          "partnereventeditor_TabsSelectorEntrySelected_1ryee",
        TabsMultipleError: "partnereventeditor_TabsMultipleError_2-JUW",
        TabsSelectToEdit: "partnereventeditor_TabsSelectToEdit_2HsE1",
        ShowOnTabCheckBoxCtn: "partnereventeditor_ShowOnTabCheckBoxCtn_2xl2v",
        ShowOnTabCheckBox: "partnereventeditor_ShowOnTabCheckBox_3p5Yu",
        ShowOnTabsLabel: "partnereventeditor_ShowOnTabsLabel_IMegH",
        ShowOnTabsButton: "partnereventeditor_ShowOnTabsButton_3bfm0",
        BottomBarControls: "partnereventeditor_BottomBarControls_3sisA",
        ReoderSections: "partnereventeditor_ReoderSections_234Ad",
        MinimizeAll: "partnereventeditor_MinimizeAll_kQpet",
        ItemBrowseInactiveTab: "partnereventeditor_ItemBrowseInactiveTab_1-3nD",
        ItemBrowseInactiveTabAdd:
          "partnereventeditor_ItemBrowseInactiveTabAdd_3K8G5",
        TabHideItemFilterCtn: "partnereventeditor_TabHideItemFilterCtn_2vW4l",
        ReorderSectionCtn: "partnereventeditor_ReorderSectionCtn_2ye5W",
        SectionList: "partnereventeditor_SectionList_2g1Br",
        SectionTitle: "partnereventeditor_SectionTitle_3euRU",
        FilterDisplayCtn: "partnereventeditor_FilterDisplayCtn_yqDsi",
        PrioritySelector: "partnereventeditor_PrioritySelector_3OCga",
        BroadcastAccountInfo: "partnereventeditor_BroadcastAccountInfo_2udBY",
        BroadcastAccountList: "partnereventeditor_BroadcastAccountList_1LLBz",
        ShowInTabsList: "partnereventeditor_ShowInTabsList_1slxi",
      };
    },
    bVxH: function (e, t, n) {
      e.exports = {
        titleimg: "clanlocalizedimage_titleimg_rjdSm",
        previewimg: "clanlocalizedimage_previewimg_45E3Z",
        artworkbar: "clanlocalizedimage_artworkbar_q0Eu4",
      };
    },
    ba6i: function (e, t, n) {
      e.exports = {
        EventTimeSection: "partnereventshareddates_EventTimeSection_3HyTV",
        EventTimeTitle: "partnereventshareddates_EventTimeTitle_2lG5h",
        EventVisibilityItem:
          "partnereventshareddates_EventVisibilityItem_1she-",
        EventEditorInputPaneContainer:
          "partnereventshareddates_EventEditorInputPaneContainer_1fCy4",
        TimeWidth: "partnereventshareddates_TimeWidth_3JGsB",
        EventPublishTimeCtn:
          "partnereventshareddates_EventPublishTimeCtn_2QIVv",
        InputBorder: "partnereventshareddates_InputBorder_1_H1s",
        TimeBlock: "partnereventshareddates_TimeBlock_2xLBs",
        TimeRowContainer: "partnereventshareddates_TimeRowContainer_BWmgg",
        TimeRowDropDown: "partnereventshareddates_TimeRowDropDown_3ECiy",
        EndDateAmountCtn: "partnereventshareddates_EndDateAmountCtn_1BIlZ",
        EndRound: "partnereventshareddates_EndRound_jwuNo",
        VisibilityItemList: "partnereventshareddates_VisibilityItemList_3B0QM",
        VisibilityItems: "partnereventshareddates_VisibilityItems_1WleI",
        EventEditorVisibilityCtn:
          "partnereventshareddates_EventEditorVisibilityCtn_4gWwy",
      };
    },
    dZOt: function (e, t, n) {
      "use strict";
      n.d(t, "c", function () {
        return a;
      }),
        n.d(t, "d", function () {
          return u;
        }),
        n.d(t, "f", function () {
          return d;
        }),
        n.d(t, "g", function () {
          return p;
        }),
        n.d(t, "e", function () {
          return m;
        }),
        n.d(t, "b", function () {
          return _;
        }),
        n.d(t, "a", function () {
          return g;
        });
      var a,
        i = n("mrSG"),
        r = n("2vnA"),
        o = n("+VX6"),
        l = n("U+Q5"),
        s = n("TLQK"),
        c = n("XxJJ");
      !(function (e) {
        (e[(e.k_EStorePage = 0)] = "k_EStorePage"),
          (e[(e.k_EEventPage = 1)] = "k_EEventPage"),
          (e[(e.k_ESalesPage = 2)] = "k_ESalesPage");
      })(a || (a = {}));
      var u = 3,
        d = [
          "EventEmail_Destination_Store",
          "EventEmail_Destination_Event",
          "EventEmail_Destination_SalesPage",
        ],
        p = [
          "EventEmail_Subject_NewUpdate",
          "EventEmail_Subject_UpcomingLaunch",
          "EventEmail_Subject_NowAvailable",
          "EventEmail_Subject_FreeDemoAvailable",
          "EventEmail_Subject_SpecialOffer",
          "EventEmail_Subject_Tournament_Now",
          "EventEmail_Subject_LiveStream_Now",
          "Email_Wishlist_NewReleaseEA_Subject",
          "EventEmail_Subject_NewDLC",
          "EventEmail_Subject_NewExpansion",
          "EventEmail_Subject_NewChapter",
          "EventEmail_Subject_NewBattlePass",
          "EventEmail_Subject_NewSeason",
        ],
        m = [
          "EventEmail_Button_ClickForMoreDetails",
          "EventEmail_Button_PrepurchaseNow",
          "EventEmail_Button_BuyNow",
          "EventEmail_Button_WishlistNow",
          "EventEmail_Button_PlayNow",
          "EventEmail_WatchNow",
        ],
        _ = (function () {
          function e(e) {
            this.m_setting = e;
          }
          return (
            (e.prototype.BIsEnableEnabled = function () {
              return this.m_setting.bEnable;
            }),
            (e.prototype.GetLocalizedSubject = function (e) {
              return this.m_setting.localized_subject &&
                this.m_setting.localized_subject[e]
                ? this.m_setting.localized_subject[e]
                : "";
            }),
            (e.prototype.GetSubjectTextLoc = function () {
              return this.m_setting.subject_loc_token
                ? this.m_setting.subject_loc_token
                : "EventEmail_Subject_NewUpdate";
            }),
            (e.prototype.GetNumSections = function () {
              return this.m_setting.sections.length;
            }),
            (e.prototype.GetSection = function (e) {
              return this.m_setting.sections[e];
            }),
            (e.prototype.GetSomeCreatorTarget = function () {
              return this.GetTargetting().creator_home[0];
            }),
            (e.prototype.GetFiltering = function () {
              return this.m_setting.filtering || {};
            }),
            (e.prototype.BIsIRTopNFiltering = function () {
              return this.GetFiltering().ir_topn;
            }),
            (e.prototype.BIsWishListFiltering = function () {
              return this.GetFiltering().wishlist;
            }),
            (e.prototype.GetControlGroupPercent = function () {
              var e = this.GetFiltering();
              return Boolean(e && e.control_group_percent)
                ? e.control_group_percent
                : 0;
            }),
            (e.prototype.GetTargetting = function () {
              return this.m_setting.targeting || {};
            }),
            (e.prototype.BIsTargetingGamePlayers = function () {
              return this.GetTargetting().game_players;
            }),
            (e.prototype.BIsTargetingGameFollowers = function () {
              return this.GetTargetting().game_followers;
            }),
            (e.prototype.BIsTargetingGameWishlisters = function () {
              return this.GetTargetting().game_wishlister;
            }),
            (e.prototype.BIsExcludingGameOwners = function () {
              return this.GetTargetting().game_exclude_owners;
            }),
            (e.prototype.BIsTargetingGameOwnersWithoutPlaytime = function () {
              return this.GetTargetting().game_owner_with_no_playtime;
            }),
            (e.prototype.BIsTargetingSomeCreator = function () {
              return (
                this.GetTargetting().creator_home &&
                this.GetTargetting().creator_home.length > 0
              );
            }),
            (e.prototype.BIsTargetingSomeCreatorPlayer = function () {
              return (
                this.GetTargetting().creator_home_player &&
                this.GetTargetting().creator_home_player.length > 0
              );
            }),
            (e.prototype.BIsTargetingCreator = function (e) {
              var t = this.GetTargetting().creator_home;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsTargetingCreatorPlayer = function (e) {
              var t = this.GetTargetting().creator_home_player;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsLocked = function () {
              return this.m_setting.locked;
            }),
            (e.prototype.BHasSomeTargetEnabled = function () {
              return (
                this.BIsTargetingGamePlayers() ||
                this.BIsTargetingGameFollowers() ||
                this.BIsTargetingGameWishlisters() ||
                this.BIsTargetingSomeCreator() ||
                this.BIsTargetingSomeCreatorPlayer() ||
                this.BIsTargetingGameOwnersWithoutPlaytime()
              );
            }),
            (e.prototype.BHasSomeLanguage = function (e) {
              return (
                this.m_setting &&
                this.m_setting.sections.some(function (t) {
                  var n = new g(t);
                  return (
                    n.GetHeadline(e).trim().length > 0 ||
                    n.GetBody(e).trim().length > 0 ||
                    void 0 !== n.GetImageHashAndExtRaw(e)
                  );
                })
              );
            }),
            (e.prototype.GetInternalTargetingPartnerCapability = function () {
              return this.m_setting.internal_targeting.capability;
            }),
            (e.prototype.BHasInternalTargetingPriority = function () {
              return this.m_setting.internal_targeting.priority;
            }),
            (e.prototype.BHasInternalTargetingPublisherRight = function (e) {
              return (this.m_setting.internal_targeting.pub_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingPublisherRight = function () {
              return 0 != this.m_setting.internal_targeting.pub_rights;
            }),
            (e.prototype.BHasInternalTargetingAppRight = function (e) {
              return (this.m_setting.internal_targeting.app_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingAppRight = function () {
              return 0 != this.m_setting.internal_targeting.app_rights;
            }),
            (e.prototype.GetInternalTargetAppCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetPublisherCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetAppIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids
                : [];
            }),
            (e.prototype.GetInternalTargetPublisherIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids
                : [];
            }),
            (e.prototype.BHasLocalizedSubject = function (e) {
              return (
                this.m_setting.localized_subject &&
                e < this.m_setting.localized_subject.length &&
                Boolean(this.m_setting.localized_subject[e])
              );
            }),
            Object(i.c)([r.C], e.prototype, "m_setting", void 0),
            Object(i.c)([c.a], e.prototype, "BHasSomeLanguage", null),
            e
          );
        })(),
        g = (function () {
          function e(e) {
            this.m_section = e;
          }
          return (
            (e.prototype.BHasHeadline = function () {
              return void 0 !== this.m_section.localized_headline;
            }),
            (e.prototype.BHasHeadlineInLanguage = function (e) {
              return (
                this.m_section.localized_headline &&
                this.m_section.localized_headline.length > e &&
                Boolean(this.m_section.localized_headline[e])
              );
            }),
            (e.prototype.BHasBody = function () {
              return void 0 !== this.m_section.localized_body;
            }),
            (e.prototype.BHasBodyInLanguage = function (e) {
              return (
                this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
              );
            }),
            (e.prototype.BHasCallToAction = function () {
              return void 0 !== this.m_section.button_loc_token;
            }),
            (e.prototype.BHasImage = function () {
              return void 0 !== this.m_section.localized_image;
            }),
            (e.prototype.BHasVideo = function () {
              return void 0 !== this.m_section.video_link;
            }),
            (e.prototype.BHasSomeImage = function () {
              return (
                this.m_section.localized_image &&
                this.m_section.localized_image.some(function (e) {
                  return Boolean(e);
                })
              );
            }),
            (e.prototype.GetHeadline = function (e) {
              return s.a.Get(this.m_section.localized_headline, e);
            }),
            (e.prototype.GetHeadlineWithFallback = function (e) {
              var t = this.GetHeadline(e),
                n = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != n && (t = this.GetHeadline(n)), t;
            }),
            (e.prototype.GetBody = function (e) {
              return this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
                ? this.m_section.localized_body[e]
                : "";
            }),
            (e.prototype.GetBodyWithFallback = function (e) {
              var t = this.GetBody(e),
                n = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != n && (t = this.GetBody(n)), t;
            }),
            (e.prototype.GetImageHashAndExtRaw = function (e) {
              return this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                this.m_section.localized_image[e]
                ? this.m_section.localized_image[e]
                : void 0;
            }),
            (e.prototype.GetImageHash = function (e) {
              var t = this.GetImageHashAndExtRaw(e);
              if (t) return t.substr(0, t.length - 4);
            }),
            (e.prototype.GetImageHashAndExtWithFallback = function (e) {
              var t = this.GetImageHashAndExtRaw(e),
                n = s.b.GetELanguageFallback(e);
              return (
                void 0 === t && e != n && (t = this.GetImageHashAndExtRaw(n)), t
              );
            }),
            (e.prototype.RemoveImage = function (e) {
              this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                (this.m_section.localized_image[e] = void 0);
            }),
            (e.prototype.GetImageURLWithFallback = function (e, t) {
              var n = this.GetImageHashAndExtWithFallback(e);
              return n
                ? l.a.GenerateArtworkURLFromHashAndExtensions(t, n)
                : void 0;
            }),
            (e.prototype.GetVideoURL = function () {
              return this.m_section.video_link ? this.m_section.video_link : "";
            }),
            (e.prototype.GetVideoImage = function () {
              return this.m_section.video_image;
            }),
            (e.prototype.GetDestination = function () {
              return this.m_section.button_destination;
            }),
            (e.prototype.BIsStoreSalesPage = function () {
              return this.m_section.button_destination == a.k_ESalesPage;
            }),
            (e.prototype.GetDestinationStorePath = function () {
              return this.m_section.button_store_path
                ? this.m_section.button_store_path
                : "";
            }),
            (e.prototype.GetButtonTextLoc = function () {
              return this.m_section.button_loc_token;
            }),
            (e.prototype.GetButtonAppidOverride = function () {
              return this.m_section.button_appid_override;
            }),
            (e.prototype.BHasButtonAppIDOverride = function () {
              return (
                this.m_section.button_appid_override &&
                this.m_section.button_appid_override > u
              );
            }),
            (e.prototype.BHasValidVideoURL = function () {
              return Object(o.a)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeVideoID = function () {
              return Object(o.c)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeImageURL = function () {
              if (this.BHasValidVideoURL())
                return (
                  "https://img.youtube.com/vi/" +
                  this.GetYouTubeVideoID() +
                  "/0.jpg"
                );
            }),
            (e.prototype.GetRawVideoURL = function () {
              return this.m_section.video_link;
            }),
            (e.prototype.BHasVideoImage = function () {
              return Boolean(this.m_section.video_image);
            }),
            Object(i.c)([r.C], e.prototype, "m_section", void 0),
            e
          );
        })();
    },
    dsQf: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
    f1ZV: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return E;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("y2g3"),
        l = n.n(o),
        s = n("dsQf"),
        c = n.n(s),
        u = n("5izx"),
        d = n("fpVW"),
        p = n.n(d),
        m = n("exH9"),
        _ = n("TLQK"),
        g = n("bxiW"),
        h = n("5E+2"),
        f = n("ba6i"),
        b = n.n(f),
        v = n("f0Wu"),
        E = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.state = {
                timeAsString: null,
                dateAsString: null,
                bEndTimeBeforeStartTime: !1,
              }),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnTimeChange = function (e) {
              var t = this.props,
                n = t.nEarliestTime,
                a = t.fnSetTimeToUpdate,
                i = t.fnIsValidDateTime;
              if (!t.disabled) {
                if ("string" == typeof e) {
                  var r = v(e, "h:m a +-h:m", !0);
                  if (!r.isValid())
                    return void this.setState({ timeAsString: e });
                  e = r;
                }
                var o = this.props.fnGetTimeToUpdate(),
                  l = 0;
                if (o) {
                  var s = v.unix(o);
                  e.year(s.year()),
                    e.month(s.month()),
                    e.day(s.day()),
                    (l = e.unix());
                } else {
                  l =
                    v.unix(n).hour(0).second(0).minutes(0).unix() +
                    3600 * e.hour() +
                    60 * e.minutes();
                }
                a(l);
                var c = i && !0 === i();
                (null == this.state.timeAsString &&
                  c == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    timeAsString: null,
                    bEndTimeBeforeStartTime: c,
                  });
              }
            }),
            (t.prototype.OnDateChange = function (e) {
              if (!this.props.disabled) {
                if ("string" == typeof e) {
                  var t = v(e, "M/D/YYYY", !0);
                  if (!t.isValid())
                    return void this.setState({ dateAsString: e });
                  e = t;
                }
                var n = this.props.fnGetTimeToUpdate(),
                  a = v.unix(n || u.a.GetTimeNowWithOverride());
                e.hour(a.hour()),
                  e.minute(a.minute()),
                  e.second(0),
                  this.props.fnSetTimeToUpdate(e.unix());
                var i =
                  this.props.fnIsValidDateTime &&
                  !0 === this.props.fnIsValidDateTime();
                (null == this.state.dateAsString &&
                  i == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    dateAsString: null,
                    bEndTimeBeforeStartTime: i,
                  });
              }
            }),
            (t.prototype.IsValidDate = function (e) {
              if (this.props.disabled) return !1;
              var t = this.props,
                n = t.nEarliestTime,
                a = t.nLatestTime,
                i = v.unix(n).hour(0).seconds(0).minute(0),
                r = e.unix() >= i.unix();
              if (r && a && a >= n) {
                var o = v.unix(a).hour(23).minute(59).seconds(59);
                r = e.unix() <= o.unix();
              }
              return r;
            }),
            (t.prototype.SetToNow = function () {
              this.props.fnSetToNow
                ? this.props.fnSetToNow(u.a.GetTimeNowWithOverride())
                : this.props.fnSetTimeToUpdate(u.a.GetTimeNowWithOverride());
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.nLatestTime,
                n = e.nEarliestTime,
                a = e.fnGetTimeToUpdate,
                i = e.fnIsValidDateTime,
                o = a(),
                s = o > 0 ? new Date(1e3 * o) : null,
                d = "h:mm A",
                g = i && i(),
                f =
                  this.state.timeAsString ||
                  this.state.dateAsString ||
                  "string" == typeof g,
                E = "#EventEditor_Fallback_Invalid_DateTime";
              this.state.timeAsString
                ? (E = "#EventEditor_Time_CannotParse")
                : this.state.dateAsString
                ? (E = "#EventEditor_Date_CannotParse")
                : "string" == typeof g && (E = g);
              var S = void 0;
              if (t && n && t == n && n > u.a.GetTimeNowWithOverride()) {
                var y = v.unix(n);
                (S = {
                  hours: { max: y.hour(), min: y.hour(), step: 0 },
                  minutes: { max: y.minute(), min: y.minute(), step: 0 },
                  seconds: { max: y.seconds(), min: y.seconds(), step: 0 },
                  milliseconds: { max: 0, min: 0, step: 0 },
                }),
                  (d = "HH:mm");
              }
              var O = void 0;
              !o && n && (O = v.unix(n));
              var T = v.tz.guess(),
                C = v.unix(o).tz(T);
              return r.createElement(
                "div",
                {
                  className: Object(m.a)(
                    b.a.EventTimeSection,
                    this.props.className
                  ),
                },
                r.createElement(
                  "div",
                  { className: b.a.EventTimeTitle },
                  r.createElement(
                    h.a,
                    {
                      toolTipContent: this.props.strDescToolTip,
                      direction: "top",
                    },
                    Boolean(this.props.strDescription) &&
                      r.createElement("span", null, this.props.strDescription)
                  ),
                  f &&
                    r.createElement(
                      "span",
                      null,
                      r.createElement("img", { src: c.a }),
                      Object(_.f)(E)
                    )
                ),
                r.createElement(
                  "div",
                  { className: p.a.FlexRowContainer },
                  r.createElement(
                    "div",
                    { className: Object(m.a)(p.a.InputBorder, b.a.TimeBlock) },
                    r.createElement(l.a, {
                      onChange: this.OnDateChange,
                      timeFormat: !1,
                      value: this.state.dateAsString
                        ? this.state.dateAsString
                        : s,
                      isValidDate: this.IsValidDate,
                      initialValue: O,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Date"),
                        className: b.a.TimeWidth,
                      },
                    })
                  ),
                  r.createElement(
                    "div",
                    {
                      className: Object(m.a)(
                        p.a.InputBorder,
                        b.a.TimeBlock,
                        p.a.FlexRowContainer
                      ),
                    },
                    r.createElement(l.a, {
                      onChange: this.OnTimeChange,
                      dateFormat: !1,
                      timeFormat: d,
                      timeConstraints: S,
                      value: this.state.timeAsString
                        ? this.state.timeAsString
                        : s,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Time"),
                        className: b.a.TimeWidth,
                      },
                    })
                  ),
                  this.props.bShowTimeZone &&
                    r.createElement("div", null, C.zoneAbbr())
                ),
                Boolean(S) &&
                  r.createElement(
                    "div",
                    null,
                    Object(_.f)("#EventEditor_DateTime_Fixed")
                  )
              );
            }),
            Object(a.c)([g.a], t.prototype, "OnTimeChange", null),
            Object(a.c)([g.a], t.prototype, "OnDateChange", null),
            Object(a.c)([g.a], t.prototype, "IsValidDate", null),
            Object(a.c)([g.a], t.prototype, "SetToNow", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    fcuX: function (e, t, n) {
      "use strict";
      n.d(t, "d", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return i;
        }),
        n.d(t, "c", function () {
          return r;
        }),
        n.d(t, "a", function () {
          return o;
        }),
        n.d(t, "f", function () {
          return w;
        }),
        n.d(t, "e", function () {
          return M;
        });
      var a,
        i,
        r,
        o,
        l = n("mrSG"),
        s = n("t0uJ"),
        c = n("2vnA"),
        u = n("mgoM"),
        d = n("kyHq"),
        p = n("dZOt"),
        m = n("3+zv"),
        _ = n("kLLr"),
        g = n("ir+G"),
        h = n("U+Q5"),
        f = n("TQGK"),
        b = n("5izx"),
        v = n("6oCP"),
        E = n("r64O"),
        S = n("TLQK"),
        y = n("N0Ye"),
        O = n("bxiW"),
        T = n("lkRc"),
        C = n("Q47U"),
        j = n("KP/B"),
        I = n("I/R6");
      !(function (e) {
        (e.k_ENow = "now"), (e.k_ESpecified = "specified");
      })(a || (a = {})),
        (function (e) {
          (e.k_EDuration = "duration"), (e.k_ESpecified = "specified");
        })(i || (i = {})),
        (function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.type = 1)] = "type"),
            (e[(e.name = 2)] = "name"),
            (e[(e.description = 4)] = "description"),
            (e[(e.time = 8)] = "time"),
            (e[(e.visibility = 16)] = "visibility"),
            (e[(e.jsondata_other = 32)] = "jsondata_other"),
            (e[(e.jsondata_image = 64)] = "jsondata_image"),
            (e[(e.jsondata_email = 128)] = "jsondata_email"),
            (e[(e.jsondata_broadcast = 256)] = "jsondata_broadcast"),
            (e[(e.jsondata_sales = 512)] = "jsondata_sales"),
            (e[(e.jsondata_schedule = 1024)] = "jsondata_schedule");
        })(r || (r = {})),
        (function (e) {
          (e.k_EHour = "hour"), (e.k_EDay = "day"), (e.k_EWeek = "week");
        })(o || (o = {}));
      var w;
      !(function (e) {
        (e[(e.immediate = 0)] = "immediate"),
          (e[(e.event_start = 1)] = "event_start"),
          (e[(e.specified_time = 2)] = "specified_time");
      })(w || (w = {}));
      var M = (function () {
        function e(e) {
          (this.m_bChanged = !1),
            (this.m_changes = r.None),
            (this.visibilitySetting = w.immediate),
            (this.m_startTimeEditChoice = a.k_ENow),
            (this.m_endTimeEditChoice = i.k_EDuration),
            (this.m_originalEvent = e),
            (this.m_curModel = e.clone()),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            e.BIsOGGEvent() && f.a.LoadOGGClanInfoForAppID(e.appid),
            this.ClearDirty();
        }
        return (
          (e.prototype.GetCreatorUserSteamID = function () {
            return new _.a(this.m_originalEvent.creator_steamid);
          }),
          (e.prototype.GetLastUpdater = function () {
            return new _.a(this.m_originalEvent.last_update_steamid);
          }),
          (e.prototype.GetLastUpdateTime = function () {
            return this.m_originalEvent.rtime32_last_modified;
          }),
          (e.prototype.GetGID = function () {
            return this.m_curModel.GID ? this.m_curModel.GID : "";
          }),
          (e.prototype.BHasGid = function () {
            return this.m_curModel.GID && this.m_curModel.GID.length > 1;
          }),
          (e.prototype.GetAnnouncementGID = function () {
            return this.m_curModel.AnnouncementGID
              ? this.m_curModel.AnnouncementGID
              : "";
          }),
          (e.prototype.GetClanSteamID = function () {
            return this.m_curModel.clanSteamID;
          }),
          (e.prototype.GetAppID = function () {
            return this.m_curModel.appid;
          }),
          (e.prototype.GetEventState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetEventTypeAsString = function () {
            return this.m_curModel.GetEventTypeAsString();
          }),
          (e.prototype.GetStartTimeEditChoice = function () {
            return this.m_startTimeEditChoice;
          }),
          (e.prototype.GetEndTimeEditChoice = function () {
            return this.m_endTimeEditChoice;
          }),
          (e.prototype.GetEndEditDurationType = function () {
            return this.m_editDurationType;
          }),
          (e.prototype.GetEndEditDurationValue = function () {
            return this.m_editDurationValue;
          }),
          (e.prototype.GetUniqueKey = function () {
            return this.BHasGid() ? this.GetGID() : "GIDLessNewEvent";
          }),
          (e.prototype.BIsSourceEventSaleEnabled = function () {
            return this.m_originalEvent.jsondata.bSaleEnabled;
          }),
          (e.prototype.BInRealmGlobal = function () {
            return this.m_curModel.BInRealmGlobal();
          }),
          (e.prototype.BInRealmChina = function () {
            return this.m_curModel.BInRealmChina();
          }),
          (e.prototype.BIsLanguageValidForRealms = function (e) {
            return this.m_curModel.BIsLanguageValidForRealms(e);
          }),
          (e.prototype.EnsureCurrentLanguageValid = function () {
            this.BIsLanguageValidForRealms(I.a.Get().GetCurEditLanguage()) ||
              I.a.Get().SetCurEditLanguage(this.BInRealmChina() ? 29 : 0);
          }),
          (e.prototype.GetIncludedRealmList = function () {
            var e = new Array();
            return (
              this.BInRealmGlobal() && e.push(d.f.k_ESteamRealmGlobal),
              this.BInRealmChina() && e.push(d.f.k_ESteamRealmChina),
              Object(E.a)(
                e.length > 0,
                "Event " +
                  this.GetGID() +
                  " is currently configured so that no realms are valid for display. Either enable Steam China or Global to address this issue"
              ),
              e
            );
          }),
          (e.prototype.GetCompletionState = function (e, t) {
            var n = e.filter(function (e) {
                return Boolean(e);
              }),
              a = n.length >= e.length;
            return {
              text: Object(S.f)(
                a
                  ? "#EventEditor_CompleteStatus"
                  : "#EventEditor_IncompleteStatus",
                n.length,
                e.length
              ),
              complete: n.length,
              total: e.length,
              ttip: a ? void 0 : t,
            };
          }),
          (e.prototype.GetDescriptionCompletion = function () {
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetName(e), this.GetDescription(e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetArtworkCompletion = function () {
            if (this.BHasTag("curator")) return null;
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetImageURL("capsule", e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetOptionsCompletion = function () {
            var e = [];
            return (
              this.BHasTag("steam_award_nomination_request") &&
                e.push(this.GetSteamAwardCategory()),
              this.BIsEventForOGGWithoutVisibleStorePage() &&
                e.push(this.BOptedInForOGGWithoutVisibleStorePage()),
              e.length ? this.GetCompletionState(e) : null
            );
          }),
          (e.prototype.GetSaleTabCompletion = function () {
            var e = [];
            return (
              this.BHasSaleEnabled() &&
                e.push(this.GetEventModel().GetSaleVanity()),
              e.length
                ? this.GetCompletionState(
                    e,
                    Object(S.f)("#EventEditor_SaleNotReady_ttip")
                  )
                : null
            );
          }),
          (e.prototype.BAllowedToPublishStagedEvents = function () {
            return (
              !this.BHasTag("steam_award_nomination_request") &&
              !this.BHasTag("steam_award_vote_request")
            );
          }),
          (e.prototype.GetEventStartTime = function () {
            return this.m_curModel.startTime;
          }),
          (e.prototype.GetEventEndTime = function () {
            return this.m_curModel.endTime;
          }),
          (e.prototype.GetEventVisibilityStartTime = function () {
            return Object(y.b)(this.GetCategoryAsType())
              ? this.m_curModel.visibilityStartTime
              : this.m_curModel.startTime;
          }),
          (e.prototype.BGetOriginalEventVisibilityStartTime = function () {
            return this.m_originalEvent.visibilityStartTime;
          }),
          (e.prototype.GetEventVisibilityEndTime = function () {
            return this.m_curModel.visibilityEndTime;
          }),
          (e.prototype.GetOriginalEventStartTime = function () {
            return this.m_originalEvent.startTime;
          }),
          (e.prototype.GetOriginalEventEndTime = function () {
            return this.m_originalEvent.endTime;
          }),
          (e.prototype.BIsValidStartTimeForEdit = function () {
            var e = this.GetEventStartTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventStartTime()) ||
              (this.GetEarliestStartTimeForEdit() &&
              e < this.GetEarliestStartTimeForEdit()
                ? "#EventEditor_StartTime_BeforeEarliestAllowed"
                : !(e + 3600 < b.a.GetTimeNowWithOverride()) ||
                  "#EventEditor_StartTime_BeforeNow")
            );
          }),
          (e.prototype.BIsValidEndTimeForEdit = function () {
            var e = this.GetEventEndTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventEndTime()) ||
              (this.BIsBeginTimeBeforeEnd()
                ? !(
                    this.GetLatestEndTimeForEdit() &&
                    e > this.GetLatestEndTimeForEdit()
                  ) || "#EventEditor_StartTime_AfterLatestAllowed"
                : "#EventEditor_EndTime_ToEarly")
            );
          }),
          (e.prototype.GetName = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.name.get(e);
          }),
          (e.prototype.GetDescription = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.description.get(e);
          }),
          (e.prototype.BHasBroadcaster = function () {
            return null != this.m_curModel.broadcaster;
          }),
          (e.prototype.GetBroadcaster = function () {
            return this.m_curModel.broadcaster;
          }),
          (e.prototype.BHasLanguageTitle = function (e) {
            var t = this.m_curModel.name.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageDescription = function (e) {
            var t = this.m_curModel.description.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSubTitle = function (e) {
            var t = this.m_curModel.GetSubTitle(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSummary = function (e) {
            var t = this.m_curModel.GetSummary(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguage = function (e) {
            return this.BHasLanguageTitle(e) || this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasLanguageRequired = function (e) {
            return this.BHasLanguageTitle(e) && this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasSubTitle = function (e) {
            return this.m_curModel.BHasSubTitle(e);
          }),
          (e.prototype.GetSubTitle = function (e) {
            return this.m_curModel.GetSubTitle(e);
          }),
          (e.prototype.GetSummary = function (e) {
            return this.m_curModel.GetSummary(e);
          }),
          (e.prototype.GetAppName = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().title;
          }),
          (e.prototype.GetStoreItemID = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().item_id;
          }),
          (e.prototype.GetCategoryAsString = function () {
            return this.m_curModel.GetCategoryAsString();
          }),
          (e.prototype.GetCategoryAsType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetCurEditLanguage = function () {
            return I.a.Get().GetCurEditLanguage();
          }),
          (e.prototype.BHidden = function () {
            return (
              this.m_curModel.visibility_state ==
                v.b.k_EEventStateUnpublished ||
              this.m_curModel.visibility_state == v.b.k_EEventStateStaged
            );
          }),
          (e.prototype.BPublished = function () {
            return (
              this.m_curModel.visibility_state == v.b.k_EEventStateStaged ||
              this.m_curModel.visibility_state == v.b.k_EEventStateVisible
            );
          }),
          (e.prototype.BVisible = function () {
            return this.m_curModel.visibility_state == v.b.k_EEventStateVisible;
          }),
          (e.prototype.GetVisibilityState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventModel = function () {
            return this.m_curModel;
          }),
          (e.prototype.BHasEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BHasSaleEnabled = function () {
            return this.m_curModel.jsondata.bSaleEnabled;
          }),
          (e.prototype.BHasScheduleEnabled = function () {
            return this.m_curModel.jsondata.bScheduleEnabled;
          }),
          (e.prototype.GetScheduleEntries = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries
              : [];
          }),
          (e.prototype.GetScheduleEntriesCount = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries.length
              : 0;
          }),
          (e.prototype.GetSaleSections = function () {
            return this.m_curModel.jsondata.sale_sections;
          }),
          (e.prototype.BHasLanguageRequiredOrFallback = function (e, t) {
            return (
              (this.BHasLanguageTitle(e) || this.BHasLanguageTitle(t)) &&
              (this.BHasLanguageDescription(e) ||
                this.BHasLanguageDescription(t))
            );
          }),
          (e.prototype.GetDynamicRevealSections = function () {
            var e = new Array();
            return (
              this.GetSaleSections().forEach(function (t) {
                t.dynamic_reveal && e.push(t);
              }),
              e
            );
          }),
          (e.prototype.GetTabSaleSection = function () {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (e) {
                return "tabs" === e.section_type;
              });
          }),
          (e.prototype.GetSaleSectionIndexByID = function (e) {
            return this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.findIndex(function (t) {
                  return t.unique_id === e;
                })
              : -1;
          }),
          (e.prototype.GetSaleSectionByID = function (e) {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (t) {
                return t.unique_id === e;
              });
          }),
          (e.prototype.BHasSaleSectionLabelLocalization = function (e, t) {
            var n = this.GetSaleSections()[t];
            return Boolean(S.a.Get(n.localized_label, e));
          }),
          (e.prototype.SetSaleSectionLabelLocalization = function (e, t, n) {
            var a = this.GetSaleSections()[t];
            return (
              S.a.Get(a.localized_label, e) != n &&
              ((a.localized_label = S.a.Set(a.localized_label || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.SetSaleSectionType = function (e, t) {
            e.section_type !== t &&
              ((e.internal_section_data =
                "vo_internal" === t ? Object(l.a)({}, m.i) : null),
              (e.section_type = t),
              "items" == t &&
                void 0 === e.capsules_per_row_array &&
                ((e.capsules_per_row_array = [2, 3, 4, 3]),
                (e.carousel_rows = 2),
                (e.show_as_carousel = !0)));
          }),
          (e.prototype.BHasSaleSectionTextLocalization = function (e, t) {
            var n = this.GetSaleSections()[t];
            return Boolean(
              "text_section" === n.section_type &&
                n.text_section_contents &&
                n.text_section_contents.length > e &&
                n.text_section_contents[e]
            );
          }),
          (e.prototype.SetSaleSectionTextLocalization = function (e, t, n) {
            var a = this.GetSaleSections()[t];
            return (
              "text_section" === a.section_type &&
              S.a.Get(a.text_section_contents, e) != n &&
              ((a.text_section_contents = S.a.Set(
                a.text_section_contents || [],
                e,
                n
              )),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionTabName = function (e, t) {
            return Boolean(t && S.a.Get(t.localized_label, e));
          }),
          (e.prototype.SetSaleSectionTabName = function (e, t, n) {
            return (
              S.a.Get(t.localized_label, e) != n &&
              ((t.localized_label = S.a.Set(t.localized_label || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionFacetName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueSubtitle = function (e, t) {
            return Boolean(t && S.a.Get(t.subtitle, e));
          }),
          (e.prototype.SetSaleSectionFacetName = function (e, t, n) {
            return (
              S.a.Get(t.name, e) !== n &&
              ((t.name = S.a.Set(t.name || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueName = function (e, t, n) {
            return (
              S.a.Get(t.name, e) !== n &&
              ((t.name = S.a.Set(t.name || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueSubtitle = function (e, t, n) {
            return (
              S.a.Get(t.subtitle, e) !== n &&
              ((t.subtitle = S.a.Set(t.subtitle || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.GetVisibilityPublishingSetup = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.BIsEmailVideoImageMissing = function () {
            return (
              this.BHasEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.sections[1].video_image &&
              Boolean(
                this.m_curModel.jsondata.email_setting.sections[1].video_link
              )
            );
          }),
          (e.prototype.GetFirstLanguageWithTitle = function () {
            for (var e = 0; e < 30; ++e)
              if (this.BHasLanguageTitle(e)) return e;
            return e;
          }),
          (e.prototype.BHasSpotlightArtwork = function () {
            return Boolean(
              this.m_curModel.jsondata.localized_spotlight_image &&
                this.m_curModel.jsondata.localized_spotlight_image[0]
            );
          }),
          (e.prototype.BHasSteamStoreSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.store_spotlight);
          }),
          (e.prototype.BHasLibaryHomeSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.library_home_spotlight);
          }),
          (e.prototype.SetSteamStoreSpotlight = function (e) {
            this.m_curModel.jsondata.store_spotlight != e &&
              ((this.m_curModel.jsondata.store_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetLibraryHomeSpotlight = function (e) {
            this.m_curModel.jsondata.library_home_spotlight != e &&
              ((this.m_curModel.jsondata.library_home_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetStartTimeEditChoice = function (e) {
            this.m_startTimeEditChoice != e && (this.m_startTimeEditChoice = e);
          }),
          (e.prototype.SetEndTimeEditChoice = function (e) {
            this.m_endTimeEditChoice != e && (this.m_endTimeEditChoice = e);
          }),
          (e.prototype.SetEndEditDurationType = function (e) {
            this.m_editDurationType != e && (this.m_editDurationType = e);
          }),
          (e.prototype.SetEndEditDurationValue = function (e) {
            this.m_editDurationValue != e && (this.m_editDurationValue = e);
          }),
          (e.prototype.UpdateVisibilityState = function (e, t) {
            this.m_curModel.visibility_state = e
              ? t
                ? v.b.k_EEventStateStaged
                : v.b.k_EEventStateVisible
              : v.b.k_EEventStateUnpublished;
          }),
          (e.prototype.SetVisibilityPublishingSetup = function (e) {
            e != this.visibilitySetting &&
              ((this.visibilitySetting = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetGIDs = function (e, t, n) {
            (this.m_curModel.clanSteamID = e),
              Object(E.a)(
                this.m_curModel.clanSteamID &&
                  this.m_curModel.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + e.ConvertTo64BitString()
              ),
              (this.m_curModel.GID = t),
              (this.m_curModel.AnnouncementGID = n);
          }),
          (e.prototype.SetVisibilityState = function (e) {
            this.m_curModel.visibility_state != e &&
              ((this.m_curModel.visibility_state = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetName = function (e, t) {
            return (
              this.m_curModel.name.get(e) !== t &&
              (this.m_curModel.name.set(e, t), this.SetDirty(r.name), !0)
            );
          }),
          (e.prototype.SetDescription = function (e, t) {
            return (
              this.m_curModel.description.get(e) != t &&
              (this.m_curModel.description.set(e, t),
              this.SetDirty(r.description),
              !0)
            );
          }),
          (e.prototype.SetSubTitle = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_subtitle[e] != t &&
              ((this.m_curModel.jsondata.localized_subtitle[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetSummary = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_summary[e] != t &&
              ((this.m_curModel.jsondata.localized_summary[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetCurEditLanguage = function (e) {
            return I.a.Get().SetCurEditLanguage(e);
          }),
          (e.prototype.PrepareAsClone = function (e) {
            (this.m_curModel = e),
              (this.m_curModel.GID = void 0),
              (this.m_curModel.AnnouncementGID = void 0),
              (this.m_curModel.visibility_state = v.b.k_EEventStateUnpublished),
              (this.m_curModel.nCommentCount = 0),
              (this.m_curModel.nVotesDown = 0),
              (this.m_curModel.nVotesUp = 0),
              (this.m_curModel.forumTopicGID = void 0),
              (this.m_curModel.creator_steamid = void 0),
              (this.m_curModel.last_update_steamid = void 0),
              (this.m_curModel.rtime32_last_modified = 0),
              (this.m_curModel.rtime32_last_solr_search_col_updated = 0),
              (this.m_curModel.rtime32_moderator_reviewed = 0),
              (this.m_curModel.postTime = 0),
              (this.m_curModel.startTime = void 0),
              (this.m_curModel.endTime = void 0),
              (this.m_curModel.visibilityStartTime = void 0),
              (this.m_curModel.visibilityEndTime = void 0),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.m_curModel.timestamp_loc_updated.clear();
            for (var t = this.m_curModel.vecTags.length - 1; t >= 0; --t) {
              var n = this.m_curModel.vecTags[t];
              (n.startsWith("mod_") || n.startsWith("ModAct_")) &&
                this.m_curModel.vecTags.splice(t, 1);
            }
            (this.m_originalEvent = new v.c()),
              (this.m_originalEvent.loadedAllLanguages = !0),
              Object(m.u)(this.m_curModel.jsondata),
              this.SetDirty(
                r.description |
                  r.name |
                  r.time |
                  r.type |
                  r.jsondata_image |
                  r.jsondata_other |
                  r.jsondata_email
              );
          }),
          (e.prototype.setEventType = function (e) {
            this.m_curModel.type != e &&
              ((this.m_curModel.type = e), this.SetDirty(r.type));
          }),
          (e.prototype.SetAnnouncementGID = function (e) {
            this.m_curModel.AnnouncementGID = e;
          }),
          (e.prototype.SetEarliestAllowedStartTime = function (e) {
            this.earliestAllowedStartTime = e;
          }),
          (e.prototype.SetLatestAllowedEndTime = function (e) {
            this.latestAllowedEndTime = e;
          }),
          (e.prototype.SetEventStartTime = function (e) {
            var t = Math.abs(e - (e % 60));
            this.m_curModel.startTime != t &&
              ((this.m_curModel.startTime = t),
              this.m_curModel.endTime < this.m_curModel.startTime &&
                (this.m_curModel.endTime = this.m_curModel.startTime + 3600),
              this.SetDirty(r.time));
          }),
          (e.prototype.SetEventEndTime = function (e) {
            var t = e - (e % 60);
            this.m_curModel.endTime != t &&
              ((this.m_curModel.endTime = t), this.SetDirty(r.time));
          }),
          (e.prototype.SetSaleVanityID = function (e) {
            var t,
              n =
                null !== (t = e.replace(/[^\w-]/g, "")) && void 0 !== t
                  ? t
                  : "";
            this.m_curModel.jsondata.sale_vanity_id != n &&
              ((this.m_curModel.jsondata.sale_vanity_id = n),
              this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.SetVisibilityStartTime = function (e) {
            this.m_curModel.visibilityStartTime != e &&
              ((this.m_curModel.visibilityStartTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.ResetSetVisibilityStartTime = function () {
            this.SetVisibilityStartTime(
              this.m_originalEvent.visibilityStartTime
            ),
              this.DeriveVisibilitySetting();
          }),
          (e.prototype.SetVisibilityEndTime = function (e) {
            this.m_curModel.visibilityEndTime != e &&
              ((this.m_curModel.visibilityEndTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetActionEndTime = function (e) {
            (this.m_curModel.jsondata.action_end_time = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.BIsDirty = function () {
            return this.m_bChanged;
          }),
          (e.prototype.ClearDirty = function () {
            (this.m_bChanged = !1), (this.m_changes = r.None);
          }),
          (e.prototype.SetDirty = function (e) {
            this.m_bChanged || e == r.None || (this.m_bChanged = !0),
              (this.m_changes & e) != e && (this.m_changes |= e),
              (this.m_curModel.rtime32_last_local_modification =
                Date.now() / 1e3);
          }),
          (e.prototype.GetChangeTypes = function () {
            return this.m_changes;
          }),
          (e.prototype.BIsDirtyType = function (e) {
            return Boolean(this.m_changes & e);
          }),
          (e.prototype.DeriveTimeEditChoices = function () {
            var e = this.ComputeDurationSetting(),
              t = null != e;
            null == e && (e = this.ComputeDefaultDuration()),
              this.SetEndEditDurationType(e.durationType),
              this.SetEndEditDurationValue(e.value),
              !this.BPublished() &&
                this.GetEventStartTime() < b.a.GetTimeNowWithOverride() &&
                this.SetEventStartTime(0);
            var n =
                !this.GetEventStartTime() || this.GetEventStartTime() <= 1
                  ? a.k_ENow
                  : a.k_ESpecified,
              r =
                !this.GetEventEndTime() || this.GetEventEndTime() <= 1 || t
                  ? i.k_EDuration
                  : i.k_ESpecified;
            this.SetStartTimeEditChoice(n), this.SetEndTimeEditChoice(r);
          }),
          (e.prototype.DeriveVisibilitySetting = function () {
            if (this.BHidden()) {
              var e = this.m_curModel.startTime,
                t = this.m_curModel.visibilityStartTime;
              (this.visibilitySetting = w.specified_time),
                !t || t <= 1
                  ? (this.visibilitySetting = w.immediate)
                  : t == e && (this.visibilitySetting = w.event_start);
            }
          }),
          (e.CalculateEndTimeFromStartAndDuration = function (e, t, n) {
            return t == o.k_EWeek
              ? e + 604800 * n
              : t == o.k_EDay
              ? e + 86400 * n
              : e + 3600 * n;
          }),
          (e.prototype.RemoveNullCapsules = function () {
            for (var e = 0, t = this.GetSaleSections(); e < t.length; e++) {
              var n = t[e];
              n.capsules &&
                n.capsules.some(function (e) {
                  return !Boolean(e);
                }) &&
                (n.capsules = n.capsules.filter(function (e) {
                  return Boolean(e);
                }));
            }
          }),
          (e.prototype.OnPreSave = function () {
            this.RemoveNullCapsules(),
              this.PreSaveEventTimeAssignment(),
              this.FixupTabVisibilitySettings(),
              Object(j.u)(this);
          }),
          (e.prototype.FixupTabVisibilitySettings = function () {
            for (
              var e = null, t = 0, n = this.GetSaleSections();
              t < n.length;
              t++
            ) {
              var a = n[t];
              a.show_on_tabs &&
                ((a.show_on_tabs = a.show_on_tabs.filter(function (t) {
                  return (
                    e &&
                    e.tabs.some(function (e) {
                      return t === e.unique_id;
                    })
                  );
                })),
                0 === a.show_on_tabs.length && (a.show_on_tabs = void 0)),
                "tabs" === a.section_type &&
                  a.tabs &&
                  a.tabs.length > 0 &&
                  (e = a);
            }
          }),
          (e.prototype.PreSaveEventTimeAssignment = function () {
            var e = b.a.GetTimeNowWithOverride();
            if (
              ((e -= e % 60),
              this.SetEventStartTime(this.ComputeStartTime(e)),
              Object(y.b)(this.m_curModel.type))
            ) {
              var t = this.GetEventStartTime();
              this.m_endTimeEditChoice == i.k_EDuration &&
                (this.m_curModel.endTime =
                  1 + this.InternalComputeDurationRoundedEndTime(t));
            }
            if (
              (null == this.GetEventEndTime() && this.SetEventEndTime(0),
              this.BHidden())
            ) {
              var n = this.ComputeVisibilityStartTime(
                e,
                this.m_curModel.startTime
              );
              this.SetVisibilityStartTime(n);
            }
          }),
          (e.prototype.ComputeStartTime = function (e) {
            return this.m_startTimeEditChoice == a.k_ENow ||
              null == this.GetEventStartTime() ||
              0 == this.GetEventStartTime()
              ? e
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeVisibilityStartTime = function (e, t) {
            switch (this.visibilitySetting) {
              default:
                return (
                  console.error("Unexpected: " + this.visibilitySetting), 0
                );
              case w.immediate:
                return 0;
              case w.event_start:
                return t <= 1 ? e : t;
              case w.specified_time:
                return this.m_curModel.visibilityStartTime < e
                  ? e
                  : this.m_curModel.visibilityStartTime;
            }
          }),
          (e.prototype.GetVisibilitySetting = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.Refresh = function (e) {
            this.m_curModel.GID == e.GID &&
              ((this.m_originalEvent = e),
              (this.m_curModel = e.clone()),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.ClearDirty(),
              this.MigrateForEdit());
          }),
          (e.prototype.BIsBeginTimeBeforeEnd = function () {
            var e = b.a.GetTimeNowWithOverride(),
              t = this.ComputeStartTime(e);
            return (
              !this.m_curModel.endTime ||
              0 == this.m_curModel.endTime ||
              this.m_curModel.endTime >= t
            );
          }),
          (e.prototype.BIsValidVisibilityStartTime = function () {
            var e = b.a.GetTimeNowWithOverride();
            return (
              !!(
                this.visibilitySetting != w.specified_time ||
                !this.m_curModel.visibilityStartTime ||
                0 == this.m_curModel.visibilityStartTime ||
                this.m_curModel.startTime < e ||
                (e < this.m_curModel.visibilityStartTime &&
                  this.m_curModel.visibilityStartTime <=
                    this.m_curModel.startTime)
              ) || "#EventEditor_Publish_InvalidPublishDate"
            );
          }),
          (e.prototype.GetEarliestStartTimeForEdit = function () {
            return this.earliestAllowedStartTime;
          }),
          (e.prototype.GetLatestEndTimeForEdit = function () {
            return this.latestAllowedEndTime;
          }),
          (e.prototype.GetEarliestEndTimeForEdit = function () {
            return this.m_curModel.startTime && 0 != this.m_curModel.startTime
              ? this.m_curModel.startTime
              : b.a.GetTimeNowWithOverride();
          }),
          (e.prototype.GetEarliestVisibilityStartTimeForEdit = function () {
            return Math.min(
              this.GetEarliestEndTimeForEdit(),
              b.a.GetTimeNowWithOverride()
            );
          }),
          (e.prototype.ConstructJSONData = function () {
            return this.m_curModel.jsondata
              ? JSON.stringify(this.m_curModel.jsondata)
              : "";
          }),
          (e.prototype.SetImageURL = function (e, t, n) {
            void 0 === n && (n = 0);
            var a = t ? h.a.GetExtensionString(t) : null,
              i = t ? t.image_hash + a : null,
              o = this.m_curModel.jsondata;
            if ("background" === e && o.localized_title_image[n] !== i)
              (o.localized_title_image[n] = i), this.SetDirty(r.jsondata_image);
            else if ("capsule" === e && o.localized_capsule_image[n] !== i)
              (o.localized_capsule_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if ("spotlight" === e && o.localized_spotlight_image[n] !== i)
              (o.localized_spotlight_image[n] = i),
                this.GetImageURL("spotlight", 0) || (o.library_spotlight = !1),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_left" === e &&
              o.localized_broadcast_left_image[n] !== i
            )
              (o.localized_broadcast_left_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_right" === e &&
              o.localized_broadcast_right_image[n] !== i
            )
              (o.localized_broadcast_right_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if ("sale_header" === e) {
              var l = void 0;
              if (void 0 !== o.sale_num_headers) {
                var s = Math.min(
                  o.sale_num_headers,
                  this.m_curModel.GetDayIndexFromEventStart()
                );
                l = o.localized_per_day_sales_header[s];
              } else l = o.localized_sale_header;
              l[n] !== i && ((l[n] = i), this.SetDirty(r.jsondata_image));
            } else
              "sale_overlay" === e && o.localized_sale_overlay[n] !== i
                ? ((o.localized_sale_overlay[n] = i),
                  this.SetDirty(r.jsondata_image))
                : "product_banner" === e &&
                  S.a.Get(o.localized_sale_product_banner, n) !== i
                ? ((o.localized_sale_product_banner = S.a.Set(
                    o.localized_sale_product_banner || [],
                    n,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "product_mobile_banner" === e &&
                  S.a.Get(o.localized_sale_product_mobile_banner, n) !== i
                ? ((o.localized_sale_product_mobile_banner = S.a.Set(
                    o.localized_sale_product_mobile_banner || [],
                    n,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "link_capsule" === e ||
                  "product_banner_override" === e ||
                  "product_mobile_banner_override" === e ||
                  "sale_section_title" === e ||
                  "schedule_track_art" === e
                ? (i &&
                    0 == h.d.GetAllLocalizedGroupImages().length &&
                    h.d.SetPrimaryImageForImageGroup(t, e),
                  h.d.SetLocalizedImageGroupAtLang(n, this.GetClanSteamID(), i))
                : "localized_image_group" === e &&
                  console.error(
                    "Attempting to save localized image via editor model, not supported, it belong to the store itself"
                  );
          }),
          (e.prototype.GetImageURL = function (e, t, n) {
            return (
              void 0 === t && (t = 0),
              void 0 === n && (n = h.c.full),
              this.m_curModel.GetImageURL(e, t, n)
            );
          }),
          (e.prototype.GetImageURLWithFallback = function (e, t, n) {
            return (
              void 0 === n && (n = h.c.full),
              this.m_curModel.GetImageURLWithFallback(e, t, n)
            );
          }),
          (e.prototype.GetImageHash = function (e, t) {
            return this.m_curModel.GetImageHash(e, t);
          }),
          (e.prototype.BHasImage = function (e, t) {
            return this.m_curModel.BHasImage(e, t);
          }),
          (e.prototype.BHasTitleImage = function (e) {
            return void 0 !== this.m_curModel.GetImageURL("background", e);
          }),
          (e.prototype.BIsImageSafeForAllAges = function (e, t) {
            return this.m_curModel.BIsImageSafeForAllAges(e, t);
          }),
          (e.prototype.GetTitleImageLanguages = function () {
            var e = new Array();
            if (
              this.m_curModel.jsondata &&
              this.m_curModel.jsondata.localized_title_image
            )
              for (var t in this.m_curModel.jsondata.localized_title_image)
                e.push(Number.parseInt(t));
            return e;
          }),
          (e.prototype.BHasSomeImage = function (e) {
            return this.m_curModel.BHasSomeImage(e);
          }),
          (e.prototype.GetWhenEventWillBeVisibleToPublic = function () {
            return this.GetEventVisibilityStartTime() &&
              0 != this.GetEventVisibilityStartTime()
              ? this.GetEventVisibilityStartTime()
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeDurationSetting = function () {
            if (
              !this.m_curModel.endTime ||
              !this.m_curModel.startTime ||
              this.m_curModel.endTime <= 1 ||
              0 == (1 & this.m_curModel.endTime)
            )
              return null;
            var e = 86400,
              t = 604800,
              n = this.m_curModel.endTime - this.m_curModel.startTime - 1;
            return n % t == 0
              ? {
                  durationType: o.k_EWeek,
                  value: Math.floor(Math.max(1, n / t)),
                }
              : n % e == 0
              ? {
                  durationType: o.k_EDay,
                  value: Math.floor(Math.max(1, n / e)),
                }
              : {
                  durationType: o.k_EHour,
                  value: Math.floor(Math.max(1, n / 3600)),
                };
          }),
          (e.prototype.ComputeDefaultDuration = function () {
            return { durationType: o.k_EHour, value: 1 };
          }),
          (e.prototype.ComputeDurationBasedRoundedEndTime = function () {
            if (this.m_endTimeEditChoice == i.k_EDuration) {
              var e = this.m_curModel.startTime;
              if (
                this.m_startTimeEditChoice != a.k_ESpecified ||
                (e && !(e <= 1))
              )
                return (
                  this.m_startTimeEditChoice == a.k_ENow &&
                    (e = b.a.GetTimeNowWithOverride()),
                  this.InternalComputeDurationRoundedEndTime(e)
                );
            }
          }),
          (e.prototype.InternalComputeDurationRoundedEndTime = function (t) {
            var n =
              e.CalculateEndTimeFromStartAndDuration(
                t,
                this.m_editDurationType,
                this.m_editDurationValue
              ) / 60;
            return 60 * (n + (30 - (n % 30)));
          }),
          (e.prototype.GetFallbackLanguageIfNeeded = function () {
            var e = this.GetCurEditLanguage(),
              t = S.b.GetELanguageFallback(e);
            if (e != t) {
              var n = this.GetDescription(e);
              if (!n || 0 == n.length) return t;
            }
          }),
          (e.prototype.LastTimeLanguageUpdate = function (e) {
            return this.m_curModel.timestamp_loc_updated.has(e)
              ? this.m_curModel.timestamp_loc_updated.get(e)
              : 0;
          }),
          (e.prototype.ComputeEditingModelTimeOverrides = function () {
            var e = this.GetEventModel().GetStartTimeAndDateUnixSeconds(),
              t = this.GetEventModel().GetEndTimeAndDateUnixSeconds(),
              n = b.a.GetTimeNowWithOverride();
            e = this.ComputeStartTime(n);
            var a = this.ComputeDurationBasedRoundedEndTime();
            return (
              null != a && (t = a),
              { nOverrideEndTime: t, nOverrideStartTime: e }
            );
          }),
          (e.prototype.GetStrVanityOrAppID = function () {
            return T.b.VANITY_ID;
          }),
          (e.prototype.SetLibrarySpotlight = function (e) {
            this.m_curModel.jsondata.library_spotlight !== e &&
              ((this.m_curModel.jsondata.library_spotlight = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.SetLibrarySpotlightText = function (e) {
            this.m_curModel.jsondata.library_spotlight_text !== e &&
              ((this.m_curModel.jsondata.library_spotlight_text = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.GetEmailSettings = function () {
            return this.m_curModel.jsondata.email_setting;
          }),
          (e.prototype.BIsEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BIsEmailEditable = function () {
            return (
              this.BIsEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.locked
            );
          }),
          (e.prototype.CreateOrGetEmailSettings = function (e) {
            return (
              this.m_curModel.jsondata.email_setting ||
                (T.b.IS_VALVE_GROUP
                  ? (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          localized_image: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                      internal_targeting: Object(l.a)({}, C.c),
                    })
                  : (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      subject_loc_token: "EventEmail_Subject_NewUpdate",
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_image: new Array(30),
                        },
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                    }),
                this.SetDirty(r.jsondata_email)),
              this.m_curModel.jsondata.email_setting
            );
          }),
          (e.prototype.ToggleTag = function (e) {
            var t = this.m_curModel.vecTags.indexOf(e);
            -1 == t
              ? this.m_curModel.vecTags.push(e)
              : this.m_curModel.vecTags.splice(t, 1),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.AddTag = function (e) {
            -1 == this.m_curModel.vecTags.indexOf(e) &&
              this.m_curModel.vecTags.push(e),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.BHasTag = function (e) {
            return this.m_curModel.BHasTag(e);
          }),
          (e.prototype.GetAllTags = function () {
            return this.m_curModel.vecTags;
          }),
          (e.prototype.ClearTags = function (e) {
            var t = this;
            e.forEach(function (e) {
              var n = t.m_curModel.vecTags.indexOf(e);
              -1 != n && t.m_curModel.vecTags.splice(n, 1);
            });
          }),
          (e.prototype.SetSteamAwardCategory = function (e) {
            (this.m_curModel.jsondata.steam_award_category_suggestion = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwardCategory = function () {
            return this.m_curModel.GetSteamAwardCategory();
          }),
          (e.prototype.SetSteamAwardNomineeVoteIDs = function (e) {
            (this.m_curModel.jsondata.steam_award_category_voteids = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwareNomineeVoteIDs = function () {
            return this.m_curModel.GetSteamAwardNomineeCategories();
          }),
          (e.prototype.BIsAppReleased = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon;
          }),
          (e.prototype.GetAppReleaseDate = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon && e.rt_release_date
              ? e.rt_release_date
              : null;
          }),
          (e.prototype.BDoesSupportLanguage = function (e) {
            if (this.m_curModel && this.m_curModel.appid) {
              var t = g.a
                .GetStoreCapsuleInfo(this.m_curModel.appid)
                .GetAppStoreData();
              if (t && 1 == t.success && t.languages) {
                29 === e && (e = 6);
                var n = Object(u.a)(e);
                return Boolean(
                  t.languages.find(function (e) {
                    return n === e.language;
                  })
                );
              }
            }
            return !1;
          }),
          (e.prototype.BIsVisibleBeforeStart = function () {
            var e = this.m_curModel.startTime;
            return (
              this.m_startTimeEditChoice == a.k_ESpecified &&
              ((this.visibilitySetting == w.immediate &&
                e > b.a.GetTimeNowWithOverride()) ||
                (this.visibilitySetting == w.specified_time &&
                  this.m_curModel.visibilityStartTime < e))
            );
          }),
          (e.prototype.BIsAllowedOnLibraryOverview = function () {
            return Object(m.b)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnLibraryDetail = function () {
            return Object(m.a)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnStore = function () {
            return Object(m.c)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedInNotifications = function () {
            return Object(m.d)(this.GetEventModel());
          }),
          (e.prototype.BWillShowOnLibraryOverviewDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryOverview() &&
              !this.BHasTag("hide_library_overview") &&
              !this.BHasTag("mod_hide_library_overview")
            );
          }),
          (e.prototype.BWillShowOnLibraryDetailDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryDetail() &&
              !this.BHasTag("hide_library_detail") &&
              !this.BHasTag("mod_hide_library_detail")
            );
          }),
          (e.prototype.BWillShowOnStoreDueToSettings = function () {
            return (
              this.BIsAllowedOnStore() &&
              !this.BHasTag("hide_store") &&
              !this.BHasTag("mod_hide_store")
            );
          }),
          (e.prototype.BWillShowInNotificationsDueToSettings = function () {
            return this.BIsAllowedInNotifications();
          }),
          (e.prototype.GetNumberOfDays = function () {
            var e = this.m_curModel.startTime,
              t = this.m_curModel.endTime;
            return e > 0 && t > 0 && t > e ? Math.floor((t - e) / 86400) : 0;
          }),
          (e.prototype.GetNumSalesBackgroundHeader = function () {
            return void 0 !== this.m_curModel.jsondata.sale_num_headers
              ? this.m_curModel.jsondata.sale_num_headers
              : 1;
          }),
          (e.prototype.SetNumSalesBackgroundHeader = function (e) {
            var t = this;
            void 0 !== e && e <= 1 && (e = void 0),
              this.m_curModel.jsondata.sale_num_headers !== e &&
                (void 0 === this.m_curModel.jsondata.sale_num_headers &&
                  this.m_curModel.jsondata.localized_sale_header.forEach(
                    function (e, n) {
                      return (t.m_curModel.jsondata.localized_sale_header[
                        n
                      ] = null);
                    }
                  ),
                (this.m_curModel.jsondata.sale_num_headers = e),
                void 0 !== e &&
                  ((this.m_curModel.jsondata.localized_per_day_sales_header = void 0),
                  s.c.HelperInitializeNumSalesHeaderArray(this.m_curModel)),
                this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.MarkUpdateSuccessful = function (e, t) {
            (this.m_originalEvent.last_update_steamid = t),
              (this.m_originalEvent.rtime32_last_modified = e);
          }),
          (e.prototype.GetSaleSectionCount = function () {
            return this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.length
              : 0;
          }),
          (e.prototype.GetAllSalePageFeaturedItems = function (e) {
            var t = new Set();
            if (!this.m_curModel.jsondata.bSaleEnabled) return t;
            var n = "bundles" == e,
              a = "packages" == e,
              i = function (e) {
                (n && "bundle" == e.type) || (a && "sub" == e.type)
                  ? t.add(e.id)
                  : a ||
                    n ||
                    "bundle" == e.type ||
                    "sub" == e.type ||
                    t.add(e.id);
              };
            this.m_curModel.jsondata.sale_sections.forEach(function (e) {
              return e.capsules.forEach(i);
            });
            var r = this.GetTabSaleSection();
            return (
              r &&
                r.tabs.forEach(function (e) {
                  return e.capsules.forEach(i);
                }),
              t
            );
          }),
          (e.prototype.GenerateSaleSectionUniqueID = function () {
            for (
              var e = Math.floor(1e4 + 9e4 * Math.random());
              this.GetSaleSectionByID(e);

            )
              e = Math.floor(1e4 + 9e4 * Math.random());
            return e;
          }),
          (e.prototype.GetFacetByID = function (e, t) {
            var n;
            return null === (n = null == e ? void 0 : e.facets) || void 0 === n
              ? void 0
              : n.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GetFacetValueByID = function (e, t) {
            var n;
            return null === (n = null == e ? void 0 : e.facetValues) ||
              void 0 === n
              ? void 0
              : n.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GenerateFacetUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GenerateFacetValueUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetValueByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GetReferencedAppIDArray = function () {
            return this.m_curModel.jsondata.referenced_appids;
          }),
          (e.prototype.BIsEventForOGGWithoutVisibleStorePage = function () {
            if (!this.m_curModel.BIsOGGEvent()) return !1;
            var e = f.a.GetOGGClanInfo(this.m_curModel.appid);
            return !e || !e.has_visible_store_page;
          }),
          (e.prototype.BOptedInForOGGWithoutVisibleStorePage = function () {
            return this.m_curModel.jsondata.bInvisibleGameOptIn;
          }),
          (e.prototype.SetOptedInForOGGWithoutVisibleStorePage = function (e) {
            (this.m_curModel.jsondata.bInvisibleGameOptIn = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.SetMigrated = function (e) {
            this.m_curModel.jsondata.rt_migrated_time = e;
          }),
          (e.prototype.MigrateForEdit = function () {
            var e = this;
            this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections &&
              this.m_curModel.jsondata.sale_sections.forEach(function (t, n) {
                if (!t.unique_id) {
                  for (var a = n + 1; e.GetSaleSectionByID(a); ) a++;
                  e.m_curModel.jsondata.sale_sections[n].unique_id = a;
                }
                t.enable_faceted_browsing &&
                  t.facets.forEach(function (a, i) {
                    if (!a.unique_id) {
                      for (var r = i + 1; e.GetFacetByID(t, r); ) r++;
                      e.m_curModel.jsondata.sale_sections[n].facets[
                        i
                      ].unique_id = r;
                    }
                    a.facetValues.forEach(function (t, r) {
                      if (!t.unique_id) {
                        for (var o = i + 1; e.GetFacetValueByID(a, o); ) o++;
                        e.m_curModel.jsondata.sale_sections[n].facets[
                          i
                        ].facetValues[r].unique_id = o;
                      }
                    });
                  });
              });
          }),
          (e.prototype.BHasSaleProductBanners = function () {
            return this.GetEventModel().BHasSaleProductBanners();
          }),
          Object(l.c)([c.C], e.prototype, "m_curModel", void 0),
          Object(l.c)([c.C], e.prototype, "m_bChanged", void 0),
          Object(l.c)([c.C], e.prototype, "m_changes", void 0),
          Object(l.c)([c.C], e.prototype, "visibilitySetting", void 0),
          Object(l.c)([c.C], e.prototype, "m_startTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_endTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationType", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationValue", void 0),
          Object(l.c)([O.a], e.prototype, "GetEventStartTime", null),
          Object(l.c)([O.a], e.prototype, "GetEventEndTime", null),
          Object(l.c)([O.a], e.prototype, "GetEventVisibilityStartTime", null),
          Object(l.c)([O.a], e.prototype, "GetEventVisibilityEndTime", null),
          Object(l.c)([O.a], e.prototype, "GetOriginalEventStartTime", null),
          Object(l.c)([O.a], e.prototype, "GetOriginalEventEndTime", null),
          Object(l.c)([O.a], e.prototype, "BIsValidStartTimeForEdit", null),
          Object(l.c)([O.a], e.prototype, "BIsValidEndTimeForEdit", null),
          Object(l.c)([O.a], e.prototype, "BHasLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetSteamStoreSpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibraryHomeSpotlight", null),
          Object(l.c)([c.k], e.prototype, "UpdateVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityPublishingSetup", null),
          Object(l.c)([c.k], e.prototype, "SetGIDs", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetName", null),
          Object(l.c)([c.k], e.prototype, "SetDescription", null),
          Object(l.c)([c.k], e.prototype, "SetSubTitle", null),
          Object(l.c)([c.k], e.prototype, "SetSummary", null),
          Object(l.c)([c.k], e.prototype, "PrepareAsClone", null),
          Object(l.c)([c.k], e.prototype, "setEventType", null),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetEarliestAllowedStartTime",
            null
          ),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetLatestAllowedEndTime",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetEventStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetEventEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetSaleVanityID", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityStartTime", null),
          Object(l.c)([c.k], e.prototype, "ResetSetVisibilityStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetActionEndTime", null),
          Object(l.c)([c.k], e.prototype, "ClearDirty", null),
          Object(l.c)([c.k], e.prototype, "SetDirty", null),
          Object(l.c)([c.k], e.prototype, "DeriveTimeEditChoices", null),
          Object(l.c)([c.k], e.prototype, "DeriveVisibilitySetting", null),
          Object(l.c)([c.k], e.prototype, "OnPreSave", null),
          Object(l.c)([c.k], e.prototype, "Refresh", null),
          Object(l.c)([O.a], e.prototype, "BIsBeginTimeBeforeEnd", null),
          Object(l.c)([O.a], e.prototype, "BIsValidVisibilityStartTime", null),
          Object(l.c)([O.a], e.prototype, "GetEarliestStartTimeForEdit", null),
          Object(l.c)([O.a], e.prototype, "GetLatestEndTimeForEdit", null),
          Object(l.c)([O.a], e.prototype, "GetEarliestEndTimeForEdit", null),
          Object(l.c)(
            [O.a],
            e.prototype,
            "GetEarliestVisibilityStartTimeForEdit",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetImageURL", null),
          Object(l.c)([O.a], e.prototype, "BHasTitleImage", null),
          Object(l.c)([O.a], e.prototype, "LastTimeLanguageUpdate", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlightText", null),
          Object(l.c)([c.k], e.prototype, "ToggleTag", null),
          Object(l.c)([c.k], e.prototype, "AddTag", null),
          Object(l.c)([c.k], e.prototype, "ClearTags", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardCategory", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardNomineeVoteIDs", null),
          Object(l.c)([O.a], e.prototype, "BDoesSupportLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetNumSalesBackgroundHeader", null),
          Object(l.c)([c.k], e, "SetSaleSectionType", null),
          e
        );
      })();
    },
    h5LU: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return l;
      });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n("WFjJ"),
        o = n("bxiW"),
        l = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { color: t.props.color || "rgba(1.0,1.0,1.0,1.0)" }), t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.GetColorString = function (e) {
              return (
                "rgba(" +
                e.rgb.r +
                ", " +
                e.rgb.g +
                ", " +
                e.rgb.b +
                ", " +
                e.rgb.a +
                ")"
              );
            }),
            (t.prototype.OnColorChange = function (e) {
              var n = t.GetColorString(e);
              this.setState({ color: n }), this.props.onChange(n);
            }),
            (t.prototype.render = function () {
              return i.createElement(r.ChromePicker, {
                onChange: this.OnColorChange,
                color: this.state.color,
              });
            }),
            Object(a.c)([o.a], t.prototype, "OnColorChange", null),
            t
          );
        })(i.Component);
    },
    hvYe: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
    i3zJ: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return O;
      });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("lkRc"),
        l = n("bDQf"),
        s = (function () {
          function e() {
            (this.m_events = null),
              (this.m_eventMap = new Map()),
              (this.m_eventDetailsMap = new Map()),
              (window.g_discountEventStore = this);
          }
          return (
            (e.Get = function () {
              return (
                e.s_DiscountEvent || (e.s_DiscountEvent = new e()),
                e.s_DiscountEvent
              );
            }),
            (e.prototype.GetDiscountEvents = function () {
              return this.m_events;
            }),
            (e.prototype.GetSingleDiscountEvent = function (e) {
              return this.m_eventMap.get(e);
            }),
            (e.prototype.GetDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.get(e);
            }),
            (e.prototype.BHasDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.has(e);
            }),
            (e.prototype.LoadDiscountEvents = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  s,
                  c,
                  u = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (this.m_events) return [2, this.m_events];
                      (t = o.c.COMMUNITY_BASE_URL + "sale/ajaxdiscountevents"),
                        (n = { sessionid: o.c.SESSIONID }),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, r.a.get(t, { params: n, cancelToken: e.token })]
                      );
                    case 2:
                      return (
                        (i = a.sent()) &&
                          200 == i.status &&
                          1 == i.data.success &&
                          i.data.discount_events &&
                          ((this.m_events = i.data.discount_events),
                          this.m_events.map(function (e) {
                            u.m_eventMap.set(e.id, e);
                          })),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (s = a.sent()),
                        (c = Object(l.a)(s)),
                        console.error(
                          "LoadDiscountEvents failed: " + c.strErrorMsg,
                          c
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_events];
                  }
                });
              });
            }),
            (e.prototype.LoadDiscountEventDetails = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, s, c, u;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (this.m_eventDetailsMap.has(e)) return [3, 4];
                      (n =
                        o.c.COMMUNITY_BASE_URL +
                        "sale/ajaxdiscounteventdetails"),
                        (i = { sessionid: o.c.SESSIONID, id: e }),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, r.a.get(n, { params: i, cancelToken: t.token })]
                      );
                    case 2:
                      return (
                        (s = a.sent()) &&
                          200 == s.status &&
                          1 == s.data.success &&
                          s.data.packages &&
                          this.m_eventDetailsMap.set(e, {
                            apps: s.data.apps,
                            packages: s.data.packages,
                          }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (c = a.sent()),
                        (u = Object(l.a)(c)),
                        console.error(
                          "LoadDiscountEventDetails failed: " + u.strErrorMsg,
                          u
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_eventDetailsMap.get(e)];
                  }
                });
              });
            }),
            e
          );
        })(),
        c = n("2vnA"),
        u = n("TyAF"),
        d = n("q1tI"),
        p = n.n(d),
        m = n("vwsU"),
        _ = n("5eAM"),
        g = n("oVVc"),
        h = n("Mgs7"),
        f = n("IjL/"),
        b = n("YLyR"),
        v = n("Jqb/"),
        E = n("0OaU"),
        S = n("TLQK"),
        y = n("k3PP"),
        O = Object(u.a)(function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            n = e.onDiscountEventSelected,
            a = Object(d.useState)(null),
            i = a[0],
            r = a[1],
            o = j.Get().BHasSomethingSelected();
          return p.a.createElement(
            f.a,
            null,
            p.a.createElement(
              v.h,
              { onEscKeypress: t },
              p.a.createElement(
                h.f,
                null,
                p.a.createElement(
                  h.l,
                  null,
                  Object(S.f)("#Sale_DiscountEvent_Add")
                ),
                p.a.createElement(
                  h.b,
                  null,
                  p.a.createElement(
                    h.c,
                    null,
                    p.a.createElement(
                      "div",
                      { style: { minHeight: 500 } },
                      p.a.createElement(T, { fnSetDiscountID: r }),
                      p.a.createElement(C, { discountID: i })
                    )
                  )
                ),
                p.a.createElement(
                  h.k,
                  null,
                  p.a.createElement(h.o, {
                    onCancel: t,
                    bOKDisabled: !o,
                    strOKText: Object(S.f)("#Sale_New_CreateEvent"),
                    onOK: function () {
                      j.Get().UpdateSaleSection(n), t();
                    },
                  })
                )
              )
            )
          );
        }),
        T = function (e) {
          var t = e.fnSetDiscountID,
            n = Object(d.useState)(!0),
            i = n[0],
            o = n[1],
            c = Object(d.useRef)(null);
          if (
            (Object(d.useEffect)(function () {
              var e = r.a.CancelToken.source();
              c.current = e.cancel;
              return (
                Object(a.b)(void 0, void 0, void 0, function () {
                  var t, n;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return (
                          a.trys.push([0, 2, , 3]),
                          [4, s.Get().LoadDiscountEvents(e)]
                        );
                      case 1:
                        return (
                          a.sent() &&
                            !e.token.reason &&
                            (j.Get().Reset(), o(!1)),
                          [3, 3]
                        );
                      case 2:
                        return (
                          (t = a.sent()),
                          (n = Object(l.a)(t)),
                          console.error(
                            "DiscountEventChooser failed to load: " +
                              n.strErrorMsg,
                            n
                          ),
                          [3, 3]
                        );
                      case 3:
                        return [2];
                    }
                  });
                }),
                function () {
                  return (
                    c.current && c.current("DiscountEventChooser unmounting")
                  );
                }
              );
            }, []),
            i)
          )
            return p.a.createElement(E.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_Loading"),
            });
          var u = s
              .Get()
              .GetDiscountEvents()
              .map(function (e) {
                return { label: e.name, value: e.id };
              }),
            _ = {
              option: function (e) {
                return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
              },
            };
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_Choose"),
              p.a.createElement(y.d, {
                tooltip: Object(S.f)("#Sale_DiscountEvent_Choose_ttip"),
              })
            ),
            p.a.createElement(m.a, {
              styles: _,
              isSearchable: !0,
              isMulti: !1,
              isClearable: !0,
              options: u,
              defaultMenuIsOpen: !1,
              isValidNewOption: function () {
                return !1;
              },
              onChange: function (e) {
                (null == e ? void 0 : e.value) && t(e.value);
              },
            })
          );
        },
        C = function (e) {
          var t = e.discountID,
            n = Object(d.useState)(!0),
            i = n[0],
            o = n[1],
            c = Object(d.useState)(null),
            u = c[0],
            m = c[1],
            f = Object(d.useRef)(null);
          if (
            (Object(d.useEffect)(
              function () {
                o(!0),
                  f.current &&
                    f.current(
                      "SelectAppsAndPackagesFromDiscountEvent reloading"
                    );
                var e = r.a.CancelToken.source();
                f.current = e.cancel;
                return (
                  t &&
                    Object(a.b)(void 0, void 0, void 0, function () {
                      var n, i, r, c, u;
                      return Object(a.e)(this, function (a) {
                        switch (a.label) {
                          case 0:
                            return (
                              a.trys.push([0, 5, , 6]),
                              s.Get().BHasDiscountEventDetails(t)
                                ? [3, 2]
                                : [4, s.Get().LoadDiscountEventDetails(t, e)]
                            );
                          case 1:
                            a.sent(), (a.label = 2);
                          case 2:
                            return !(n = s.Get().GetDiscountEventDetails(t)) ||
                              e.token.reason
                              ? [3, 4]
                              : ((i = new Array()),
                                (r = n.apps),
                                n.packages.map(function (e) {
                                  return i.push(
                                    "string" == typeof e.subid
                                      ? Number.parseInt(e.subid)
                                      : e.subid
                                  );
                                }),
                                [
                                  4,
                                  Promise.all([
                                    g.b.LoadPackageInfo(i),
                                    _.a.LoadAppLinkInfo(r),
                                  ]),
                                ]);
                          case 3:
                            a.sent(), o(!1), (a.label = 4);
                          case 4:
                            return [3, 6];
                          case 5:
                            return (
                              (c = a.sent()),
                              (u = Object(l.a)(c)),
                              console.error(
                                "SelectAppsAndPackagesFromDiscountEvent failed: " +
                                  u.strErrorMsg,
                                u
                              ),
                              [3, 6]
                            );
                          case 6:
                            return [2];
                        }
                      });
                    }),
                  function () {
                    return (
                      f.current &&
                      f.current(
                        "SelectAppsAndPackagesFromDiscountEvent unmounting"
                      )
                    );
                  }
                );
              },
              [t]
            ),
            !t)
          )
            return p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_NoneChosen")
            );
          if (i || !s.Get().BHasDiscountEventDetails(t))
            return p.a.createElement(E.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_LoadingDetails"),
            });
          var v = s.Get().GetSingleDiscountEvent(t),
            y = s.Get().GetDiscountEventDetails(t);
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "p",
              null,
              Object(S.f)("#Sale_DiscountEvent_Select", v.name, v.id)
            ),
            p.a.createElement(b.b, {
              startDateAndTime: v.start_date,
              endDateAndTime: v.end_date,
            }),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_DiscountEvent_Contains",
                y.apps.length.toLocaleString(),
                y.packages.length.toLocaleString()
              )
            ),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_New_Selected",
                j.Get().GetTotalSelectedCount(),
                j.Get().AppCount().toLocaleString(),
                j.Get().PackageCount().toLocaleString()
              )
            ),
            p.a.createElement(
              "div",
              null,
              p.a.createElement(h.m, {
                type: "text",
                label: Object(S.f)("#EventCalendar_UniversalSearch"),
                value: u || "",
                onChange: function (e) {
                  return m(e.target.value);
                },
              }),
              p.a.createElement("h2", null, "Apps:"),
              p.a.createElement(
                h.d,
                {
                  onClick: function () {
                    return j.Get().SelectAllApps(y.apps);
                  },
                },
                "Select All Apps"
              ),
              p.a.createElement(
                h.d,
                {
                  onClick: function () {
                    return j.Get().ClearAllSelectedApps();
                  },
                },
                "Clear all Selected Apps"
              ),
              Boolean(y.apps)
                ? y.apps.map(function (e) {
                    return p.a.createElement(I, {
                      appid: e,
                      key: "appid_" + e,
                      strFilter: u,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoApps")
                  ),
              p.a.createElement("h2", null, "Packages:"),
              Boolean(y.packages)
                ? y.packages.map(function (e) {
                    return p.a.createElement(w, {
                      subid: e.subid,
                      key: "subid_" + e.subid,
                      strFilter: u,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoSubs")
                  )
            )
          );
        },
        j = (function () {
          function e() {
            (this.m_selectedApps = new Set()),
              (this.m_selectedSubs = new Set()),
              (this.m_nTotalSelected = 0);
          }
          return (
            (e.prototype.BIsAppSelected = function (e) {
              return this.m_selectedApps.has(e);
            }),
            (e.prototype.BIsPackageSelected = function (e) {
              return this.m_selectedSubs.has(e);
            }),
            (e.prototype.AddApp = function (e) {
              this.m_selectedApps.add(e), this.UpdateSelected();
            }),
            (e.prototype.AddPackage = function (e) {
              this.m_selectedSubs.add(e), this.UpdateSelected();
            }),
            (e.prototype.RemoveApp = function (e) {
              this.m_selectedApps.delete(e), this.UpdateSelected();
            }),
            (e.prototype.RemovePackage = function (e) {
              this.m_selectedSubs.delete(e), this.UpdateSelected();
            }),
            (e.prototype.UpdateApp = function (e, t) {
              t ? this.AddApp(e) : this.RemoveApp(e);
            }),
            (e.prototype.UpdatePackage = function (e, t) {
              t ? this.AddPackage(e) : this.RemovePackage(e);
            }),
            (e.prototype.AppCount = function () {
              return this.m_selectedApps.size;
            }),
            (e.prototype.PackageCount = function () {
              return this.m_selectedSubs.size;
            }),
            (e.prototype.BHasSomethingSelected = function () {
              return this.m_nTotalSelected > 0;
            }),
            (e.prototype.GetTotalSelectedCount = function () {
              return this.m_nTotalSelected;
            }),
            (e.prototype.SelectAllApps = function (e) {
              var t = this;
              e.forEach(function (e) {
                return t.m_selectedApps.add(e);
              }),
                this.UpdateSelected();
            }),
            (e.prototype.Reset = function () {
              this.m_selectedApps.clear(),
                this.m_selectedSubs.clear(),
                this.UpdateSelected();
            }),
            (e.prototype.ClearAllSelectedApps = function () {
              this.m_selectedApps.clear(), this.UpdateSelected();
            }),
            (e.prototype.UpdateSelected = function () {
              var e = this.AppCount() + this.PackageCount();
              e != this.m_nTotalSelected && (this.m_nTotalSelected = e);
            }),
            (e.prototype.UpdateSaleSection = function (e) {
              e(this.m_selectedApps, this.m_selectedSubs);
            }),
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  e.s_globalSingletonStore.Init()),
                e.s_globalSingletonStore
              );
            }),
            (e.prototype.Init = function () {}),
            Object(a.c)([c.C], e.prototype, "m_nTotalSelected", void 0),
            Object(a.c)([c.k], e.prototype, "SelectAllApps", null),
            Object(a.c)([c.k], e.prototype, "ClearAllSelectedApps", null),
            e
          );
        })(),
        I = function (e) {
          var t = e.appid,
            n = e.strFilter,
            a = _.a.GetAppLinkInfo(
              "string" == typeof t ? Number.parseInt(t) : t
            );
          if (
            n &&
            n.trim().length > 0 &&
            (!a || -1 == a.name.toLowerCase().indexOf(n))
          )
            return null;
          var i = a
            ? a.name +
              "(" +
              a.appid +
              ")" +
              ("application" != a.type && "game" != a.type ? " DLC" : "")
            : Object(S.f)("#Sale_DiscountEvent_AppMissing", t);
          return p.a.createElement(h.e, {
            label: i,
            checked: j.Get().BIsAppSelected(t),
            onChange: function (e) {
              return j.Get().UpdateApp(t, e);
            },
          });
        },
        w = function (e) {
          var t = e.subid,
            n = e.strFilter,
            a = g.b.GetPackageInfo(t);
          if (
            n &&
            n.trim().length > 0 &&
            (!a || -1 == a.name.toLowerCase().indexOf(n))
          )
            return null;
          var i = a
            ? a.name +
              "(" +
              a.id +
              ") : " +
              Object(S.f)("#Sale_DiscountEvent_SubContains", a.appids.length)
            : Object(S.f)("#Sale_DiscountEvent_SubMissing", t);
          return p.a.createElement(h.e, {
            label: i,
            checked: j.Get().BIsAppSelected(t),
            onChange: function (e) {
              return j.Get().UpdatePackage(t, e);
            },
          });
        };
    },
    jZUi: function (e, t, n) {},
    k3PP: function (e, t, n) {
      "use strict";
      n.d(t, "h", function () {
        return zt;
      }),
        n.d(t, "g", function () {
          return Wt;
        }),
        n.d(t, "d", function () {
          return qt;
        }),
        n.d(t, "c", function () {
          return Yt;
        }),
        n.d(t, "f", function () {
          return Xt;
        }),
        n.d(t, "a", function () {
          return nn;
        }),
        n.d(t, "e", function () {
          return mn;
        }),
        n.d(t, "b", function () {
          return Sn;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("fcuX"),
        l = n("t0uJ"),
        s = n("NrWE"),
        c = n("Ww0A"),
        u = n("TyAF"),
        d = n("q1tI"),
        p = n.n(d),
        m = n("U+Q5"),
        _ = n("Mgs7"),
        g = n("qP7j"),
        h = n("Jqb/"),
        f = n("TLQK"),
        b = n("bxiW"),
        v = n("6yBx"),
        E = n("R5ed"),
        S = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this.props,
                t = e.editModel,
                n = e.loc_images,
                a = e.artworkType;
              m.d.ClearImageGroup(),
                n &&
                  n.forEach(function (e, n) {
                    var i = e && m.a.GetHashFromHashAndExt(e),
                      r =
                        i && m.d.GetClanImageByImageHash(t.GetClanSteamID(), i);
                    r && t.SetImageURL(a, r, n);
                  });
            }),
            (t.prototype.OnSaveToEditModel = function () {
              var e = this.props,
                t = e.editModel,
                n = e.fnSetImage;
              m.d.GetAllLocalizedGroupImages().forEach(function (e, t) {
                if (e) {
                  var a = e.lastIndexOf("/");
                  n(t, e.substring(a + 1));
                }
              }),
                t.SetDirty(o.c.jsondata_sales),
                this.props.closeModal(),
                m.d.ClearImageGroup();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                n = e.editModel,
                a = e.artworkType,
                i = n.GetClanSteamID();
              return d.createElement(
                h.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: g.NotTooWideModal,
                },
                d.createElement(
                  _.l,
                  null,
                  Object(f.f)("#ImagePickerLoc_Title")
                ),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    _.c,
                    null,
                    d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(v.b, {
                        clanSteamID: i,
                        rgSupportArtwork: [a],
                        bPreventPreviousClanImages: !0,
                        fnSetImageURL: n.SetImageURL,
                        rgRealmList: n.GetIncludedRealmList(),
                      }),
                      d.createElement(E.b, {
                        clanSteamID: i,
                        artworkType: a,
                        title: Object(f.f)("#ImagePickerLoc_Title"),
                      })
                    )
                  ),
                  d.createElement(
                    _.k,
                    null,
                    d.createElement(
                      _.r,
                      { onClick: this.OnSaveToEditModel, disabled: !1 },
                      Object(f.f)("#Button_Confirm"),
                      " "
                    ),
                    d.createElement(
                      _.d,
                      { onClick: this.props.closeModal, disabled: !1 },
                      Object(f.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnSaveToEditModel", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        y = n("as1E"),
        O = n("2vnA"),
        T = n("TtDX"),
        C = n("h5LU"),
        j = n("fpVW"),
        I = n.n(j),
        w = n("f1ZV"),
        M = n("ka0M"),
        D = n("0rc7"),
        k = n("5E+2"),
        G = n("Kw0F"),
        L = n("exH9"),
        A = n("X3Ds"),
        B = n("N0Ye"),
        N = n("lkRc"),
        F = n("nvcf"),
        R = n("UvY0"),
        x = n("kyHq"),
        P = n("kLLr"),
        U = n("TQGK"),
        V = n("uIWk"),
        H = (function () {
          function e() {
            (this.m_mapEventGIDToSolrData = new Map()),
              (this.m_listEvents = new Array());
          }
          return (
            (e.prototype.BHasSolrEvent = function (e) {
              return this.m_mapEventGIDToSolrData.has(e);
            }),
            (e.prototype.GetAllSolrEvents = function () {
              return this.m_listEvents;
            }),
            (e.Get = function () {
              return e.s_Singleton || (e.s_Singleton = new e()), e.s_Singleton;
            }),
            (e.prototype.ClearAllSolrEvents = function () {
              (this.m_mapEventGIDToSolrData = new Map()),
                (this.m_listEvents = new Array());
            }),
            (e.prototype.LoadPartnerEventForQueryIncremental = function (
              e,
              t,
              n,
              i,
              r,
              o,
              l,
              s,
              c
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = 10),
                Object(a.b)(this, void 0, void 0, function () {
                  var u,
                    d,
                    p = this;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return [
                          4,
                          this.GetLatestPartnerEvents(
                            e,
                            t,
                            n,
                            i,
                            r,
                            o,
                            l,
                            s,
                            c
                          ),
                        ];
                      case 1:
                        return (
                          (u = a.sent()),
                          (d = new Array()),
                          Object(O.G)(function () {
                            u.forEach(function (e) {
                              p.m_mapEventGIDToSolrData.has(e.unique_id) ||
                                (d.push(e),
                                p.m_mapEventGIDToSolrData.set(e.unique_id, e),
                                p.m_listEvents.push(e));
                            });
                          }),
                          [2, d]
                        );
                    }
                  });
                })
              );
            }),
            (e.prototype.GetLatestPartnerEvents = function (
              e,
              t,
              n,
              i,
              o,
              l,
              s,
              c,
              u,
              d,
              p,
              m
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = 10),
                Object(a.b)(this, void 0, void 0, function () {
                  var _, g, h;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return (
                          (_ =
                            N.c.STORE_BASE_URL +
                            "events_admin/ajaxgetlatestpartnerevents"),
                          (g = {
                            page: t,
                            count: n,
                            date: s,
                            appids: void 0 === i ? void 0 : i.join(","),
                            required_tags: void 0 === o ? void 0 : o.join(","),
                            exclude_tags: void 0 === l ? void 0 : l.join(","),
                            eventtypefilter:
                              void 0 === c ? void 0 : c.join(","),
                            orderByVisibility: u || void 0,
                            creator_home_clan_id:
                              void 0 === d ? void 0 : d.join(","),
                            showUnpublished: void 0 === m ? void 0 : m,
                            term: void 0 === p ? void 0 : p,
                          }),
                          [
                            4,
                            r.a.get(_, {
                              params: g,
                              withCredentials: !0,
                              cancelToken: e ? e.token : void 0,
                            }),
                          ]
                        );
                      case 1:
                        return [2, (h = a.sent()).data ? h.data.docs : []];
                    }
                  });
                })
              );
            }),
            Object(a.c)([O.C], e.prototype, "m_mapEventGIDToSolrData", void 0),
            Object(a.c)([O.C], e.prototype, "m_listEvents", void 0),
            Object(a.c)([O.k], e.prototype, "ClearAllSolrEvents", null),
            e
          );
        })(),
        z = n("6oCP"),
        W = n("y+6m"),
        q = n("mB/g"),
        K = n("xnZ7"),
        Y = n.n(K),
        Q = n("bS9Q"),
        J = n("JiI5"),
        Z = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_currentRequest = 0),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = (this.props.saleSection.events || [])
                .filter(function (e) {
                  return Boolean(e);
                })
                .map(function (e) {
                  return e.announcement_gid;
                });
              z.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                void 0,
                e,
                this.m_cancelSignal
              );
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("unloading EventsSaleSectionEditor");
            }),
            (t.prototype.AddEventWithDuplicatePrompt = function (e) {
              var t = this;
              (this.m_refInput.element.value = ""),
                this.props.saleSection.events ||
                  (this.props.saleSection.events = []),
                this.props.saleSection.events.some(function (t) {
                  return (null == t ? void 0 : t.announcement_gid) == e.id;
                })
                  ? Object(M.d)(
                      d.createElement(h.d, {
                        strTitle: Object(f.f)("#Sale_DuplicateCapsule"),
                        strDescription: Object(f.f)(
                          "#Sale_DuplicateEVent_Desc"
                        ),
                        onOK: function () {
                          return t.AddEvent(e);
                        },
                      }),
                      window
                    )
                  : this.AddEvent(e);
            }),
            (t.prototype.AddEvent = function (e) {
              this.props.saleSection.events.push({
                announcement_gid: e.id,
                clan_steamid: e.clan_steamid,
              }),
                z.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                  new P.a(e.clan_steamid),
                  e.id,
                  null
                ),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RemoveEvent = function (e) {
              (this.props.saleSection.events = this.props.saleSection.events.filter(
                function (e) {
                  return Boolean(e);
                }
              )),
                this.props.saleSection.events.splice(e, 1),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.CreateSelectionMenu = function (e) {
              var t = this;
              this.m_searchResultsMenu = Object(T.a)(
                d.createElement(
                  W.c,
                  { className: J.SearchResults },
                  e.map(function (e) {
                    return d.createElement(
                      W.d,
                      {
                        key: e.id,
                        onSelected: function () {
                          return t.AddEventWithDuplicatePrompt(e);
                        },
                      },
                      d.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        Object(Q.b)(e.name),
                        "",
                        d.createElement("span", null, "(", e.id, ")"),
                        "",
                        d.createElement(
                          "span",
                          { className: J.SmallText },
                          "(",
                          e.type,
                          ")"
                        )
                      )
                    );
                  })
                ),
                this.m_refInput.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                }
              );
            }),
            (t.prototype.UpdateEventSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  o,
                  l,
                  s,
                  c,
                  u,
                  d,
                  p,
                  m,
                  _,
                  g,
                  h,
                  f,
                  b,
                  v,
                  E = this;
                return Object(a.e)(this, function (S) {
                  switch (S.label) {
                    case 0:
                      return (t = String(e.target.value)) &&
                        0 != t.trim().length
                        ? ((n = []),
                          !1,
                          t
                            .toLocaleLowerCase()
                            .startsWith(N.c.STORE_BASE_URL) ||
                          t
                            .toLocaleLowerCase()
                            .startsWith(N.c.COMMUNITY_BASE_URL)
                            ? ((i = Object(x.h)(N.c.LANGUAGE)),
                              (o = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (l = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (s = /groups\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (c = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (u = /games\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (d = null),
                              (p = null),
                              (m = null),
                              (_ = null),
                              (g = null),
                              (h = null),
                              o && o.length >= 3
                                ? ((d = Number.parseInt(o[1])),
                                  (_ = o[2]),
                                  [3, 6])
                                : [3, 1])
                            : [3, 18])
                        : [2];
                    case 1:
                      return l && l.length >= 3
                        ? ((m = Number.parseInt(l[1])), (_ = l[2]), [3, 6])
                        : [3, 2];
                    case 2:
                      return s && s.length >= 3
                        ? ((p = s[1]), (g = s[2]), [3, 6])
                        : [3, 3];
                    case 3:
                      return c && c.length >= 3
                        ? ((d = Number.parseInt(c[1])), (g = c[2]), [3, 6])
                        : [3, 4];
                    case 4:
                      return u && u.length >= 3
                        ? ((f = u[1]),
                          (g = u[2]),
                          [4, U.a.LoadOGGClanInfoForIdentifier(f)])
                        : [3, 6];
                    case 5:
                      (v = S.sent()) && (d = v.appid), (S.label = 6);
                    case 6:
                      return d
                        ? _
                          ? [4, z.d.LoadPartnerEventFromClanEventGID(d, _, 0)]
                          : [3, 8]
                        : [3, 11];
                    case 7:
                      return (h = S.sent()), [3, 10];
                    case 8:
                      return g
                        ? [4, z.d.LoadPartnerEventFromAnnoucementGID(d, g, 0)]
                        : [3, 10];
                    case 9:
                      (h = S.sent()), (S.label = 10);
                    case 10:
                      return [3, 17];
                    case 11:
                      return (
                        (b = null),
                        m && (b = P.a.InitFromClanID(m)),
                        p ? [4, U.a.LoadOGGClanInfoForGroupVanity(p)] : [3, 13]
                      );
                    case 12:
                      (v = S.sent()), (b = v.clanSteamID), (S.label = 13);
                    case 13:
                      return g && b
                        ? [
                            4,
                            z.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                              b,
                              g,
                              0
                            ),
                          ]
                        : [3, 15];
                    case 14:
                      return (h = S.sent()), [3, 17];
                    case 15:
                      return _ && b
                        ? [
                            4,
                            z.d.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                              b,
                              _,
                              0
                            ),
                          ]
                        : [3, 17];
                    case 16:
                      (h = S.sent()), (S.label = 17);
                    case 17:
                      if (h)
                        return (
                          n.push({
                            id: h.GetAnnouncementGID(),
                            clan_steamid: h.clanSteamID.ConvertTo64BitString(),
                            name: h.GetNameWithFallback(i),
                            type: "event",
                          }),
                          this.CreateSelectionMenu(n),
                          [2]
                        );
                      S.label = 18;
                    case 18:
                      return (
                        window.clearTimeout(this.m_currentRequest),
                        (this.m_currentRequest = window.setTimeout(function () {
                          return Object(a.b)(E, void 0, void 0, function () {
                            var e, n, i;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  return (
                                    (e = V.a.GetCreatorHome(
                                      new P.a(N.b.CLANSTEAMID)
                                    )),
                                    [
                                      4,
                                      H.Get().GetLatestPartnerEvents(
                                        r.a.CancelToken.source(),
                                        0,
                                        20,
                                        e.GetAppIDList(),
                                        void 0,
                                        void 0,
                                        void 0,
                                        void 0,
                                        !0,
                                        [e.GetClanAccountID()],
                                        t,
                                        !0
                                      ),
                                    ]
                                  );
                                case 1:
                                  return (
                                    (n = a.sent()),
                                    (i = n.map(function (e) {
                                      return {
                                        id: e.announcement_gid,
                                        clan_steamid: e.clan_steamid,
                                        name: e.event_name,
                                        type: "event",
                                      };
                                    })),
                                    this.CreateSelectionMenu(i),
                                    [2]
                                  );
                              }
                            });
                          });
                        }, 300)),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e,
                t = this,
                n = this.props.fnIsValidEvent;
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(D.a, {
                  items:
                    null === (e = this.props.saleSection.events) || void 0 === e
                      ? void 0
                      : e.filter(function (e) {
                          return Boolean(e);
                        }),
                  onDelete: this.RemoveEvent,
                  onReorder: function () {
                    return t.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (e) {
                    var t = z.d.GetClanEventFromAnnouncementGID(
                      e.announcement_gid
                    );
                    return d.createElement(
                      q.c,
                      {
                        className: Y.a.FlexCenter,
                        eventModel: t,
                        route: q.a.k_eView,
                      },
                      t
                        ? d.createElement("img", {
                            style: { height: "40px", marginRight: "8px" },
                            src: t.GetImageURLWithFallback("capsule", 0),
                          })
                        : null,
                      t ? t.GetNameWithFallback(0) : null,
                      " (",
                      t ? t.AnnouncementGID : null,
                      ")",
                      n &&
                        !n(t) &&
                        d.createElement(
                          "div",
                          { className: g.ErrorStylesWithIcon },
                          Object(f.f)("#Sale_EventInvalid")
                        )
                    );
                  },
                }),
                d.createElement(_.m, {
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        t.m_searchResultsMenu && t.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: function (e) {
                    return (t.m_refInput = e);
                  },
                  type: "text",
                  label: Object(f.f)("#Sale_EnterEventsURL"),
                  onChange: this.UpdateEventSuggestions,
                  tooltip: Object(f.f)("#Sale_EnterEventsURL_Tooltip"),
                })
              );
            }),
            Object(a.c)(
              [b.a],
              t.prototype,
              "AddEventWithDuplicatePrompt",
              null
            ),
            Object(a.c)([b.a], t.prototype, "AddEvent", null),
            Object(a.c)([O.k.bound], t.prototype, "RemoveEvent", null),
            Object(a.c)([b.a], t.prototype, "UpdateEventSuggestions", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        X = Object(u.a)(function (e) {
          var t,
            n = e.saleSection,
            i = e.editModel;
          return d.createElement(
            "div",
            null,
            d.createElement(
              "div",
              null,
              Object(f.f)(
                n.smart_section_event_tags
                  ? "#Sele_Event_SmartSection_RecentEvent_allgame"
                  : "#Sele_Event_SmartSection_RecentEvents"
              )
            ),
            d.createElement(_.m, {
              type: "number",
              min: "4",
              max: "90",
              label: Object(f.f)("#Sale_EventMaxEventsToShow"),
              tooltip: Object(f.f)("#Sale_EventMaxEventsToShow_ttip"),
              value: n.smart_section_max_apps,
              placeholder: Object(f.f)("#Sale_EventMaxEventDefault", 15),
              onChange: function (e) {
                var t = Number.parseInt(e.currentTarget.value);
                t &&
                  Number.isInteger(t) &&
                  n.smart_section_max_apps != t &&
                  ((n.smart_section_max_apps = t),
                  i.SetDirty(o.c.jsondata_sales));
              },
            }),
            d.createElement(
              "div",
              { className: j.EventEditorTextTitle },
              Object(f.f)("#Sale_EventDateRange"),
              d.createElement(qt, {
                tooltip: Object(f.f)("#Sale_EventDateRange_ttip"),
              })
            ),
            d.createElement(
              oe,
              Object(a.a)({}, e, { bSetDefaultIfMissing: !1 })
            ),
            d.createElement(
              R.b,
              { clanSteamID: i.GetClanSteamID() },
              d.createElement(_.m, {
                type: "text",
                label: Object(f.f)("#Sale_EventTagsToSearch"),
                onChange: function (e) {
                  Object(O.G)(function () {
                    var t = e.target.value.replace(/\s+/g, "");
                    n.smart_section_event_tags &&
                    n.smart_section_event_tags[0] == t
                      ? 0 == t.length &&
                        n.smart_section_event_tags &&
                        ((n.smart_section_type = "recent_events"),
                        (n.smart_section_event_tags = void 0),
                        i.SetDirty(o.c.jsondata_sales))
                      : ((n.smart_section_type = "recent_tagged_events"),
                        (n.smart_section_event_tags = [t]),
                        i.SetDirty(o.c.jsondata_sales));
                  });
                },
                value:
                  (null === (t = n.smart_section_event_tags) || void 0 === t
                    ? void 0
                    : t.length) > 0
                    ? n.smart_section_event_tags[0]
                    : "",
                tooltip: Object(f.f)("#Sale_EventTagsToSearch_ttip"),
                placeholder: Object(f.f)("#Sale_EventTagsToSearch_Placeholder"),
              })
            )
          );
        }),
        $ = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.state = {};
            var a = n.props.saleSection;
            if (
              (a.event_schedule_categories ||
                (a.event_schedule_categories = []),
              !a.event_schedule_rtime_start)
            ) {
              var i = new Date();
              i.setHours(10),
                i.setMinutes(0),
                i.setSeconds(0),
                (a.event_schedule_rtime_start = Math.floor(i.getTime() / 1e3));
            }
            return (
              a.event_schedule_rtime_end ||
                (a.event_schedule_rtime_end =
                  a.event_schedule_rtime_start + 3600),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnCategoryCheck = function (e, t) {
              var n = this.props.saleSection,
                a = this.GetCategoryIndex(t);
              e && -1 == a
                ? (n.event_schedule_categories ||
                    (n.event_schedule_categories = []),
                  n.event_schedule_categories.push({
                    type: t.type,
                    tags: t.tags || [],
                  }),
                  this.props.editModel.SetDirty(o.c.jsondata_sales))
                : e ||
                  -1 == a ||
                  (n.event_schedule_categories.splice(a, 1),
                  this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.GetCategoryIndex = function (e) {
              var t = this.props.saleSection;
              return t.event_schedule_categories
                ? t.event_schedule_categories.findIndex(function (t) {
                    return (
                      t.type == e.type &&
                      Object(G.a)(t.tags || [], e.tags || [])
                    );
                  })
                : -1;
            }),
            (t.prototype.BContainsCategory = function (e) {
              return -1 != this.GetCategoryIndex(e);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.saleSection,
                i = new Array();
              for (var r in c.b) {
                var l = c.b[r];
                Object(B.a)(l.type) &&
                  i.push(
                    d.createElement(ee, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
              }
              var s = new Array();
              if (N.i.is_support)
                for (var r in c.c) {
                  l = c.c[r];
                  s.push(
                    d.createElement(ee, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
                }
              return d.createElement(
                "div",
                null,
                d.createElement(
                  "p",
                  null,
                  Object(f.f)("#EventEditor_SaleEventSchedule")
                ),
                d.createElement(
                  "p",
                  null,
                  Object(f.n)(
                    "#EventEditor_SaleEventSchedule_NewsHub",
                    d.createElement(
                      "a",
                      {
                        href: N.c.STORE_BASE_URL + "newshub/sale/" + n.GetGID(),
                        target: N.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(f.f)("#EventEditor_SaleEventSchedule_NewsHubToken")
                    )
                  )
                ),
                d.createElement(mn, {
                  varName: "show_as_demos",
                  editModel: n,
                  section: a,
                  textToken: "#EventEditor_SaleEventSchedule_FeatureDemos",
                  ttipToken: "#EventEditor_SaleEventSchedule_FeatureDemos_ttip",
                }),
                d.createElement(
                  "p",
                  null,
                  Object(f.f)("#EventEditor_SaleEventSchedule_Range")
                ),
                d.createElement(oe, {
                  saleSection: a,
                  editModel: n,
                  bSetDefaultIfMissing: !0,
                  elSetStartTime: d.createElement(
                    _.d,
                    {
                      disabled: 0 == n.GetEventStartTime(),
                      onClick: function () {
                        (a.event_schedule_rtime_start = n.GetEventStartTime()),
                          n.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(f.f)("#EventEditor_SaleEventSchedule_SetToStart")
                  ),
                  elSetEndTime: d.createElement(
                    _.d,
                    {
                      disabled: 0 == n.GetEventEndTime(),
                      onClick: function () {
                        (a.event_schedule_rtime_end = n.GetEventEndTime()),
                          n.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(f.f)("#EventEditor_SaleEventSchedule_SetToEnd")
                  ),
                }),
                d.createElement(te, {
                  editModel: n,
                  saleSection: a,
                  selectedTrack: this.state.selectedTrack,
                  fnSelectTrack: function (t) {
                    e.setState({
                      selectedTrack: e.state.selectedTrack === t ? void 0 : t,
                    });
                  },
                }),
                Boolean(this.state.selectedTrack) &&
                  d.createElement(ie, {
                    editModel: n,
                    track: this.state.selectedTrack,
                    saleSection: a,
                  }),
                d.createElement(
                  "p",
                  null,
                  Object(f.f)("#EventEditor_SaleEventSchedule_Desc")
                ),
                Boolean(N.i.is_support) &&
                  d.createElement(
                    "div",
                    {
                      className: Object(L.a)(
                        j.ValveOnlyBackground,
                        F.EventCategoryCtn
                      ),
                    },
                    s
                  ),
                d.createElement("div", { className: F.EventCategoryCtn }, i)
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnCategoryCheck", null),
            Object(a.c)([b.a], t.prototype, "GetCategoryIndex", null),
            Object(a.c)([b.a], t.prototype, "BContainsCategory", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        ee = function (e) {
          var t = e.category,
            n = e.fnCategoryToggle,
            a = e.fnContainCategory;
          return d.createElement(
            k.a,
            {
              direction: "top",
              className: Object(L.a)(F.EventCategoryWidth),
              toolTipContent: Object(f.f)(t.description),
            },
            d.createElement(_.e, {
              label: Object(f.f)(t.name),
              checked: a(t),
              onChange: function (e) {
                return n(e, t);
              },
            })
          );
        },
        te = Object(u.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            a = e.fnSelectTrack;
          return d.createElement(
            "div",
            null,
            d.createElement(
              "div",
              { className: j.EventEditorTextTitle },
              Object(f.f)("#EventSchedule_Track_Current"),
              d.createElement(qt, {
                tooltip: Object(f.f)("#EventSchedule_Track_Current_ttip"),
              })
            ),
            Boolean(n.event_schedule_tracks)
              ? d.createElement(D.a, {
                  items: n.event_schedule_tracks,
                  onDelete: function (e) {
                    Object(M.d)(
                      d.createElement(h.d, {
                        strTitle: Object(f.f)(
                          "#EventSchedule_DeletePrompt_Title"
                        ),
                        strDescription: Object(f.f)(
                          "#EventSchedule_DeletePrompt_Body"
                        ),
                        onOK: function () {
                          n.event_schedule_tracks.splice(e, 1),
                            t.SetDirty(o.c.jsondata_sales),
                            a(null);
                        },
                      }),
                      window
                    );
                  },
                  onReorder: function () {
                    return t.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return d.createElement(ne, {
                      track: t,
                      selected: t === e.selectedTrack,
                      fnOnSelect: e.fnSelectTrack,
                      index: e.saleSection.event_schedule_tracks.indexOf(t),
                    });
                  },
                })
              : d.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventSchedule_NoTracks")
                ),
            d.createElement(
              k.a,
              { toolTipContent: Object(f.f)("#EventSchedule_AddTrack_ttip") },
              d.createElement(
                _.r,
                {
                  onClick: function () {
                    n.event_schedule_tracks || (n.event_schedule_tracks = []);
                    var e = n.event_schedule_tracks.reduce(function (e, t) {
                      return Math.max(e, t.unique_id);
                    }, 0);
                    n.event_schedule_tracks.push({
                      unique_id: e + 1,
                      localized_track_image: [],
                      events: [],
                    }),
                      t.SetDirty(o.c.jsondata_sales);
                  },
                },
                Object(f.f)("#EventSchedule_AddTrack")
              )
            )
          );
        }),
        ne = function (e) {
          return d.createElement(
            "div",
            {
              className: Object(L.a)(
                y.TabsSelectorEntry,
                e.selected && y.TabsSelectorEntrySelected
              ),
              onClick: function () {
                return e.fnOnSelect(e.track);
              },
            },
            Object(f.f)(
              "#EventSchedule_Unlabled_Track",
              e.index ? e.index + 1 : 1
            )
          );
        };
      function ae(e, t, n, a) {
        Object(T.a)(
          d.createElement(C.a, {
            onChange: function (e) {
              (t[a] = e), n.SetDirty(o.c.jsondata_sales);
            },
            color: t[a],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var ie = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.track,
            a = e.editModel,
            i = n.localized_track_image.reduce(function (e, t) {
              return t ? e + 1 : e;
            }, 0),
            r =
              "linear-gradient(to right, " +
              ((null == n ? void 0 : n.background_gradient_left) ||
                "transparent") +
              " 0%, " +
              ((null == n ? void 0 : n.background_gradient_right) ||
                "transparent") +
              " 100%)";
          return d.createElement(
            "div",
            null,
            d.createElement(
              _.d,
              {
                onClick: function (e) {
                  Object(M.d)(
                    d.createElement(S, {
                      loc_images: n.localized_track_image,
                      fnSetImage: function (e, t) {
                        n.localized_track_image = f.a.Set(
                          n.localized_track_image || [],
                          e,
                          t
                        );
                      },
                      editModel: a,
                      artworkType: "schedule_track_art",
                    }),
                    Object(A.m)(e)
                  );
                },
              },
              Boolean(i > 0)
                ? Object(f.l)("#selectimage_managing_n_existing_title", i)
                : Object(f.f)("#selectimage_uploading_title")
            ),
            d.createElement(
              "div",
              null,
              d.createElement(
                _.d,
                {
                  onClick: function (e) {
                    return ae(e, n, a, "label_color");
                  },
                  className: j.EventEditorTextTitle,
                  style: { color: n.label_color },
                },
                Object(f.f)("#Sale_Section_Label_Color")
              ),
              d.createElement(
                _.d,
                {
                  onClick: function (e) {
                    return ae(e, n, a, "background_gradient_left");
                  },
                  className: j.EventEditorTextTitle,
                  style: { color: n.label_color, background: r },
                },
                Object(f.f)("#Sale_Section_Background_Left")
              ),
              d.createElement(
                _.d,
                {
                  onClick: function (e) {
                    return ae(e, n, a, "background_gradient_right");
                  },
                  className: j.EventEditorTextTitle,
                  style: { color: n.label_color, background: r },
                },
                Object(f.f)("#Sale_Section_Background_Right")
              )
            ),
            d.createElement(
              "div",
              null,
              Object(f.f)("#EventSchedule_EventValidDesc")
            ),
            d.createElement(Z, {
              editModel: a,
              saleSection: n,
              fnIsValidEvent: function (e) {
                return (
                  e &&
                  e.startTime >= t.event_schedule_rtime_start &&
                  e.endTime <= t.event_schedule_rtime_end &&
                  (function (e, t) {
                    return t.some(function (t) {
                      return t.type == e.type && e.BMatchesAllTags(t.tags);
                    });
                  })(e, t.event_schedule_categories)
                );
              },
            })
          );
        }),
        re = function (e) {
          var t = new Date(1e3 * e);
          return t.setSeconds(0), Math.floor(t.getTime() / 1e3);
        },
        oe = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            a = e.bSetDefaultIfMissing;
          return (
            d.useEffect(
              function () {
                a &&
                  Object(O.G)(function () {
                    if (!t.event_schedule_rtime_start) {
                      var e = new Date();
                      e.setHours(10),
                        e.setMinutes(0),
                        e.setSeconds(0),
                        (t.event_schedule_rtime_start = Math.floor(
                          e.getTime() / 1e3
                        )),
                        n.SetDirty(o.c.jsondata_sales);
                    }
                    t.event_schedule_rtime_end ||
                      ((t.event_schedule_rtime_end =
                        t.event_schedule_rtime_start + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                  });
              },
              [t, n, a]
            ),
            d.createElement(
              d.Fragment,
              null,
              d.createElement(w.a, {
                strDescription: Object(f.f)("#EventEditor_Starts"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_start;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = re(e)),
                    t.event_schedule_rtime_start != e &&
                      ((t.event_schedule_rtime_start = e),
                      t.event_schedule_rtime_end < e &&
                        (t.event_schedule_rtime_end = e + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetStartTime && F.SingleLine,
              }),
              Boolean(e.elSetStartTime) &&
                d.createElement(
                  "div",
                  { className: F.SingleLine },
                  e.elSetStartTime
                ),
              d.createElement(w.a, {
                strDescription: Object(f.f)("#EventEditor_Ends"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_end;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = re(e)),
                    t.event_schedule_rtime_end != e &&
                      ((t.event_schedule_rtime_end = e),
                      t.event_schedule_rtime_end <
                        t.event_schedule_rtime_start &&
                        (t.event_schedule_rtime_end =
                          t.event_schedule_rtime_start + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetEndTime && F.SingleLine,
              }),
              Boolean(e.elSetEndTime) &&
                d.createElement(
                  "div",
                  { className: F.SingleLine },
                  e.elSetEndTime
                )
            )
          );
        }),
        le = n("KP/B"),
        se = n("NpuA"),
        ce = n.n(se),
        ue = n("5eAM"),
        de = n("R+8l"),
        pe = n("oVVc"),
        me = n("IjL/"),
        _e = n("6AJf"),
        ge = n("gyoR"),
        he = n("0OaU"),
        fe = n("3yM6"),
        be = n("EA3E"),
        ve = n("Cs6D"),
        Ee = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { strCustomTitle: "", bSelectedCustomTitle: !1 }), t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.componentDidMount = function () {
              this.setState({
                strCustomTitle: f.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
              });
            }),
            (t.prototype.componentDidUpdate = function (e, t) {
              var n = f.a.Get(
                this.props.localized_label,
                this.props.editLanguage
              );
              n != t.strCustomTitle &&
                e.editLanguage != this.props.editLanguage &&
                this.setState({ strCustomTitle: n });
            }),
            (t.prototype.GetTitleOptions = function (e) {
              var t = {
                  value: "#Sale_default_label",
                  label: Object(f.f)("#Sale_default_label"),
                },
                n = {
                  value: "#Sale_default_label_custom",
                  label: Object(f.f)("#Sale_default_label_custom"),
                };
              if (e) return [n];
              for (var i = [], r = 0, o = 1; r < 5; o++) {
                var l = "#Sale_default_label_" + o,
                  s = Object(f.f)(l);
                l === s ? r++ : ((r = 0), i.push({ value: l, label: s }));
              }
              return (
                i.sort(function (e, t) {
                  return e.label.localeCompare(t.label);
                }),
                Object(a.g)([t, n], i)
              );
            }),
            (t.IsValidTitleOption = function (e) {
              return (
                e &&
                "#Sale_default_label" !== e &&
                "#Sale_default_label_custom" !== e
              );
            }),
            (t.prototype.OnTitleChange = function (e) {
              var t = n.IsValidTitleOption(e.value) ? e.value : "";
              this.props.default_label !== t && this.props.onSetDefaultLabel(t),
                this.setState({
                  bSelectedCustomTitle:
                    "#Sale_default_label_custom" === e.value,
                });
            }),
            (t.prototype.OnCustomTitleChange = function (e) {
              this.setState({ strCustomTitle: e.target.value });
            }),
            (t.prototype.OnClearCustomTitle = function () {
              this.setState({ strCustomTitle: "" }),
                this.props.onClearCustomTitle();
            }),
            (t.prototype.render = function () {
              var e = this,
                t = f.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
                n = Boolean(
                  f.a.GetWithFallback(
                    this.props.localized_label,
                    this.props.editLanguage
                  )
                ),
                i = this.GetTitleOptions(n),
                r = this.props.default_label
                  ? {
                      label: Object(f.f)(this.props.default_label),
                      value: this.props.default_label,
                    }
                  : i[0],
                o = this.state.bSelectedCustomTitle || n;
              o &&
                (r = i.find(function (e) {
                  return "#Sale_default_label_custom" === e.value;
                }));
              var l = {
                option: function (e) {
                  return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
                },
              };
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: J.DefaultTitlePicker },
                  d.createElement(
                    "div",
                    { className: y.TitleSelectionContainer },
                    d.createElement(ve.a, {
                      styles: l,
                      isSearchable: !0,
                      isMulti: !1,
                      onChange: this.OnTitleChange,
                      value: r,
                      options: i,
                      defaultMenuIsOpen: !1,
                    })
                  )
                ),
                o &&
                  d.createElement(
                    d.Fragment,
                    null,
                    d.createElement("div", null, d.createElement(be.c, null)),
                    d.createElement(
                      "div",
                      { className: J.customTitleOptionsCtn },
                      d.createElement(
                        "div",
                        {
                          className: Object(L.a)(
                            j.FlexRowContainer,
                            J.CustomTitleCtn
                          ),
                        },
                        d.createElement(
                          "div",
                          { className: J.LanguageInput },
                          d.createElement(_.m, {
                            placeholder: Object(f.f)("#Broadcast_use_custom"),
                            onChange: this.OnCustomTitleChange,
                            value: this.state.strCustomTitle,
                          })
                        ),
                        d.createElement(
                          "div",
                          { className: J.AddTitleButton },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Broadcast_save_title_ttip"
                              ),
                            },
                            d.createElement(
                              _.r,
                              {
                                onClick: function () {
                                  return e.props.onSetCustomTitle(
                                    e.state.strCustomTitle
                                  );
                                },
                                disabled: t == this.state.strCustomTitle,
                              },
                              Object(f.f)("#Broadcast_save_title")
                            )
                          )
                        ),
                        d.createElement(
                          "div",
                          { className: J.RemoveTitleButton },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Broadcast_remove_title_ttip"
                              ),
                            },
                            d.createElement(
                              _.r,
                              {
                                onClick: this.OnClearCustomTitle,
                                disabled: !t,
                              },
                              Object(f.f)("#Broadcast_remove_title")
                            )
                          )
                        )
                      )
                    )
                  )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([b.a], t.prototype, "OnCustomTitleChange", null),
            Object(a.c)([b.a], t.prototype, "OnClearCustomTitle", null),
            (t = n = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Se = n("i3zJ"),
        ye = n("oqmg"),
        Oe = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.DoesCapsuleConflict = function () {
              var e = this.props,
                t = e.capsule,
                n = e.capsuleContainer;
              if (!t || !n) return !1;
              for (var a = 0, i = n.capsules; a < i.length; a++) {
                var r = i[a];
                if (
                  r &&
                  r !== t &&
                  r.id == t.id &&
                  r.type == t.type &&
                  (!t.visibility_index ||
                    !r.visibility_index ||
                    r.visibility_index == t.visibility_index)
                )
                  return !0;
              }
              return !1;
            }),
            (t.prototype.render = function () {
              var e = this.props.capsule;
              if (!e)
                return d.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventEditor_InvalidCapsuleItem")
                );
              var t = this.DoesCapsuleConflict(),
                n = Object(ye.b)(e),
                a = n.appData,
                i = n.linkURL,
                r = n.bInvalidID,
                o = Object(f.f)("#AppType_" + e.type);
              return d.createElement(
                _e.i,
                { className: Y.a.FlexCenter, url: i },
                a
                  ? d.createElement("img", {
                      loading: "lazy",
                      className: J.SaleCapsuleImg,
                      src: a.header_image_url,
                    })
                  : null,
                a ? a.name : null,
                " (",
                a ? a.appid || a.bundleid || a.packageid : e.id,
                ") ",
                d.createElement(
                  "span",
                  { className: J.SmallText },
                  "(",
                  o,
                  ")"
                ),
                r &&
                  d.createElement(
                    "div",
                    { className: J.SaleCapsuleConflict },
                    Object(f.f)("#Sale_NotFoundCapsule"),
                    d.createElement(qt, {
                      tooltip: Object(f.f)(
                        "#Sale_NotFoundCapsule_Tooltip",
                        o,
                        e.id
                      ),
                    })
                  ),
                t &&
                  d.createElement(
                    "div",
                    { className: J.SaleCapsuleConflict },
                    Object(f.f)("#Sale_DuplicateCapsule"),
                    d.createElement(qt, {
                      tooltip: Object(f.f)("#Sale_DuplicateCapsule_Tooltip"),
                    })
                  ),
                Boolean(void 0 !== e.visibility_index) &&
                  d.createElement(
                    "span",
                    { className: J.SaleVisibilityDate },
                    Object(f.f)(
                      "#Sale_VisibilityIndex_Day",
                      e.visibility_index + 1
                    )
                  )
              );
            }),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Te = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bImporting: !1, type: "game", importList: "" }), t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnImportAction = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.state.importList.split("\n")),
                        (t = e.filter(function (e) {
                          return (
                            e.trim().length > 0 && isNaN(parseInt(e.trim()))
                          );
                        })).length > 0
                          ? (console.error("Failed to Parse", t),
                            [
                              2,
                              this.setState({
                                bImporting: !1,
                                errMsg: Object(f.f)(
                                  "#Sale_ImportItems_ConvertNumberFailed",
                                  t[0]
                                ),
                              }),
                            ])
                          : ((n = e
                              .filter(function (e) {
                                return e.trim().length > 0;
                              })
                              .map(function (e) {
                                return parseInt(e.trim());
                              })),
                            (i = n.map(function (e) {
                              return { id: e, type: r.state.type };
                            })),
                            [4, Object(ge.i)(i)])
                      );
                    case 1:
                      return (
                        a.sent(),
                        n.forEach(function (e) {
                          return r.props.fnAddCapsule(e, r.state.type);
                        }),
                        this.setState({ bImporting: !1 }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTypeChange = function (e) {
              this.setState({ type: e });
            }),
            (t.prototype.OnImportChange = function (e) {
              this.setState({ importList: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                n = new Array();
              return (
                ["game", "sub", "bundle"].forEach(function (t) {
                  n.push(
                    d.createElement(
                      "div",
                      {
                        key: "ImportSaleItemsDialog_" + t,
                        className: Object(L.a)(
                          j.FlexRowContainer,
                          j.RadioOption
                        ),
                      },
                      d.createElement("input", {
                        type: "radio",
                        name: "ImportSaleItemsDialog",
                        id: "ImportSaleItemsDialog_input_" + t,
                        value: t,
                        checked: t == e.state.type,
                        onChange: function () {
                          return e.OnTypeChange(t);
                        },
                      }),
                      d.createElement(
                        "label",
                        { htmlFor: "ImportSaleItemsDialog_input_" + t },
                        d.createElement(
                          "span",
                          null,
                          Object(f.f)("#Sale_ImportItems_Type_" + t)
                        )
                      )
                    )
                  );
                }),
                d.createElement(
                  h.e,
                  {
                    onCancel: t,
                    closeModal: t,
                    bDisableBackgroundDismiss: !0,
                    bAllowFullSize: !0,
                    bHideCloseIcon: this.state.bImporting,
                  },
                  d.createElement(_.l, null, Object(f.f)("#Sale_ImportItems")),
                  d.createElement(
                    _.b,
                    null,
                    d.createElement(
                      "div",
                      null,
                      Object(f.f)("#Sale_ImportItems_Desc")
                    ),
                    Boolean(this.state.errMsg) &&
                      d.createElement(
                        "p",
                        { className: g.ErrorStyles },
                        this.state.errMsg
                      ),
                    n,
                    this.state.bImporting &&
                      d.createElement(he.a, {
                        size: "medium",
                        position: "center",
                      }),
                    !this.state.bImporting &&
                      d.createElement("textarea", {
                        value: this.state.importList,
                        cols: 40,
                        rows: 10,
                        onChange: this.OnImportChange,
                      })
                  ),
                  !this.state.bImporting &&
                    d.createElement(
                      _.k,
                      null,
                      d.createElement(
                        _.r,
                        { onClick: this.OnImportAction, disabled: !1 },
                        Object(f.f)("#Button_Confirm"),
                        " "
                      ),
                      d.createElement(
                        _.d,
                        { onClick: this.props.closeModal, disabled: !1 },
                        Object(f.f)("#Button_Cancel")
                      )
                    )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnImportAction", null),
            Object(a.c)([b.a], t.prototype, "DoImport", null),
            Object(a.c)([b.a], t.prototype, "OnTypeChange", null),
            Object(a.c)([b.a], t.prototype, "OnImportChange", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Ce = n("qD+2"),
        je = n("YLyR"),
        Ie = n("r64O"),
        we = -1,
        Me = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                nImportCapsuleVisibiltyIndex: we,
                nShowVisibilityIndexOnly: we,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RemoveCapsule = function (e) {
              var t = this.props,
                n = t.capsuleContainer,
                a = t.editModel;
              Object(Ie.a)(
                e >= 0 && e < n.capsules.length,
                "Remove capsule called outside of range: " +
                  e +
                  " len: " +
                  n.capsules.length
              ),
                e >= 0 &&
                  e < n.capsules.length &&
                  (n.capsules.splice(e, 1), a.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.AddCapsule = function (e, t) {
              var n = {
                id: e,
                type: t,
                visibility_index:
                  this.state.nImportCapsuleVisibiltyIndex == we
                    ? void 0
                    : this.state.nImportCapsuleVisibiltyIndex,
              };
              this.props.capsuleContainer.capsules.push(n),
                Object(ge.i)([n]),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.CountCapsPerVisibilityIndex = function () {
              var e = this.props,
                t = e.capsuleContainer,
                n = e.editModel;
              if (t.capsules) {
                var a = n.GetNumberOfDays(),
                  i = new Array(a);
                i.fill(0);
                var r = !1;
                return (
                  t.capsules.forEach(function (e) {
                    if (void 0 !== (null == e ? void 0 : e.visibility_index)) {
                      for (; i.length <= e.visibility_index; ) i.push(0);
                      (r = !0), (i[e.visibility_index] += 1);
                    }
                  }),
                  r ? i : void 0
                );
              }
            }),
            (t.prototype.ImportSaleItems = function (e) {
              Object(M.d)(
                d.createElement(Te, { fnAddCapsule: this.AddCapsule }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnChangeVisibilityDate = function (e) {
              this.setState({ nImportCapsuleVisibiltyIndex: e });
            }),
            (t.prototype.OnVisibilityIndexFilterChange = function (e) {
              this.setState({ nShowVisibilityIndexOnly: e });
            }),
            (t.prototype.OnRemoveAllPrompt = function () {
              Object(M.d)(
                d.createElement(h.d, {
                  strTitle: Object(f.f)("#Sale_RemoveAllConfirm_Title"),
                  strDescription: Object(f.f)("#Sale_RemoveAllConfirm_Body"),
                  onOK: this.OnRemoveAllConfirmed,
                }),
                window
              );
            }),
            (t.prototype.OnRemoveAllConfirmed = function () {
              (this.props.capsuleContainer.capsules = []),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(M.d)(
                d.createElement(De, {
                  editModel: this.props.editModel,
                  capsuleContainer: this.props.capsuleContainer,
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnUseTagFilterChangeConfirmed = function (e) {
              var t,
                n,
                a = this.props,
                i = a.capsuleContainer,
                r = a.editModel;
              if (e) {
                var l = Object(le.o)(r);
                (i.sale_tag_filter = { clauses: new Array() }),
                  (i.capsules = Object(le.r)(l, i.sale_tag_filter, i.capsules));
              } else
                (null ===
                  (n =
                    null === (t = i.sale_tag_filter) || void 0 === t
                      ? void 0
                      : t.clauses) || void 0 === n
                  ? void 0
                  : n.length) || (i.capsules = []),
                  (i.sale_tag_filter = null);
              r.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnUseTagFilterChange = function (e) {
              var t,
                n = this,
                a = this.props,
                i = a.capsuleContainer;
              a.editModel;
              if (e) {
                if (i.sale_tag_filter) return;
                i.capsules.length
                  ? Object(M.d)(
                      d.createElement(h.d, {
                        strTitle: Object(f.f)(
                          "#Sale_TaggedItemFilter_EnableTitle"
                        ),
                        strDescription: Object(f.f)(
                          "#Sale_TaggedItemFilter_EnableDescription"
                        ),
                        onOK: function () {
                          return n.OnUseTagFilterChangeConfirmed(!0);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!0);
              } else {
                if (!i.sale_tag_filter) return;
                (
                  null === (t = i.sale_tag_filter.clauses) || void 0 === t
                    ? void 0
                    : t.length
                )
                  ? Object(M.d)(
                      d.createElement(h.d, {
                        strTitle: Object(f.f)(
                          "#Sale_TaggedItemFilter_DisableTitle"
                        ),
                        strDescription: Object(f.f)(
                          "#Sale_TaggedItemFilter_DisableDescription"
                        ),
                        onOK: function () {
                          return n.OnUseTagFilterChangeConfirmed(!1);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!1);
              }
            }),
            (t.prototype.renderFilterView = function () {
              var e = this.props,
                t = e.editModel,
                n = e.capsuleContainer,
                a =
                  Object(f.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_FilteredProducts_Title"
                  ) +
                  " - " +
                  n.capsules.length,
                i = Object(f.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_FilteredProducts_Tooltip"
                ),
                r = "ShowFilterItems_" + this.props.uniqueKey,
                l = Wt.IsMinimized(t, r, !0);
              return d.createElement(
                me.a,
                null,
                d.createElement(
                  "div",
                  { className: y.FilterDisplayCtn },
                  d.createElement(ye.d, { editModel: t, capsuleContainer: n }),
                  d.createElement(
                    "div",
                    { className: y.SaleSectionTitleHeader },
                    d.createElement(
                      "div",
                      { className: j.EventEditorTextTitle },
                      a,
                      d.createElement(qt, { tooltip: i })
                    ),
                    d.createElement(Sn, {
                      bIsMinimized: l,
                      fnToggleMinimize: function () {
                        return Wt.ToggleMinimized(t, r, !0);
                      },
                    })
                  ),
                  !l &&
                    d.createElement(
                      "div",
                      {
                        className: Object(L.a)(
                          j.FlexColumnContainer,
                          j.EventDefaultRowContainer
                        ),
                      },
                      d.createElement(D.a, {
                        items: n.capsules,
                        onReorder: function () {
                          return t.SetDirty(o.c.jsondata_sales);
                        },
                        render: function (e) {
                          return d.createElement(Oe, {
                            capsule: e,
                            capsuleContainer: n,
                          });
                        },
                      })
                    )
                )
              );
            }),
            (t.prototype.OnSelectDiscountEvent = function (e) {
              var t = this;
              Object(M.d)(
                d.createElement(Se.a, {
                  onDiscountEventSelected: function (e, n) {
                    var a =
                        t.state.nImportCapsuleVisibiltyIndex == we
                          ? void 0
                          : t.state.nImportCapsuleVisibiltyIndex,
                      i = t.props.capsuleContainer;
                    e.forEach(function (e) {
                      if (
                        !i.capsules.find(function (t) {
                          return t.id === e && "sub" !== t.type;
                        })
                      ) {
                        var t = ue.a.GetAppLinkInfo(e);
                        i.capsules.push({
                          id: e,
                          type: t ? t.type : "game",
                          visibility_index: a,
                        });
                      }
                    }),
                      n.forEach(function (e) {
                        i.capsules.find(function (t) {
                          return t.id === e && "sub" === t.type;
                        }) ||
                          i.capsules.push({
                            id: e,
                            type: "sub",
                            visibility_index: a,
                          });
                      }),
                      t.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.renderItemView = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.capsuleContainer,
                i = [
                  {
                    label: Object(f.f)("#Sale_VisibilityIndex_Default"),
                    data: we,
                  },
                ],
                r = n.GetNumberOfDays(),
                l = "ShowCapsuleItems_" + this.props.uniqueKey,
                s = Wt.IsMinimized(n, l, !1);
              if (!this.props.disableDaySelection && r > 1)
                for (var c = 0; c < r; c++) {
                  var u = n.GetEventStartTime() + 86400 * c,
                    p = {
                      label: Object(f.n)(
                        c + 1 == r
                          ? "#Sale_VisibilityIndex_DayTimeOnward"
                          : "#Sale_VisibilityIndex_DayTime",
                        c + 1,
                        d.createElement(je.a, {
                          dateAndTime: u,
                          bSingleLine: !0,
                        }),
                        d.createElement(je.a, {
                          dateAndTime: u + 86400,
                          bSingleLine: !0,
                        })
                      ),
                      data: c,
                    };
                  i.push(p);
                }
              var m = this.CountCapsPerVisibilityIndex(),
                g = new Array();
              if (m) {
                var h = "CountFilter_Sale" + this.props.uniqueKey,
                  b = "CountFilter_Sale" + this.props.uniqueKey + "_day_all";
                g.push(
                  d.createElement(
                    "div",
                    {
                      key: "CountFilter_sale" + this.props.uniqueKey + "_" + we,
                      className: Object(L.a)(j.FlexRowContainer, j.RadioOption),
                    },
                    d.createElement("input", {
                      type: "radio",
                      name: h,
                      id: b,
                      value: we,
                      checked: we == this.state.nShowVisibilityIndexOnly,
                      onChange: function () {
                        return e.OnVisibilityIndexFilterChange(we);
                      },
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: b },
                      d.createElement(
                        "span",
                        null,
                        Object(f.f)("#Sale_VisibilityIndex_ShowAll")
                      )
                    )
                  )
                ),
                  m.forEach(function (t, n) {
                    var a =
                      "CountFilter_Sale" + e.props.uniqueKey + "_day_" + n;
                    g.push(
                      d.createElement(
                        "div",
                        {
                          key: "CountFilter_sale" + e.props.uniqueKey + "_" + n,
                          className: Object(L.a)(
                            j.FlexRowContainer,
                            j.RadioOption
                          ),
                        },
                        d.createElement("input", {
                          type: "radio",
                          name: h,
                          id: a,
                          value: n,
                          checked: n == e.state.nShowVisibilityIndexOnly,
                          onChange: function () {
                            return e.OnVisibilityIndexFilterChange(n);
                          },
                        }),
                        d.createElement(
                          "label",
                          { htmlFor: a },
                          d.createElement(
                            "span",
                            null,
                            Object(f.f)(
                              "#Sale_VisibilityIndex_ShowDay",
                              n + 1,
                              t
                            )
                          )
                        )
                      )
                    );
                  });
              }
              var v =
                  Object(f.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_ReferencedProducts_Title"
                  ) +
                  " - " +
                  a.capsules.length,
                E = Object(f.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_ReferencedProducts_Tooltip"
                );
              return d.createElement(
                me.a,
                null,
                d.createElement(
                  "div",
                  { className: y.SaleSectionTitleHeader },
                  d.createElement(
                    "div",
                    { className: j.EventEditorTextTitle },
                    v,
                    d.createElement(qt, { tooltip: E })
                  ),
                  d.createElement(Sn, {
                    bIsMinimized: s,
                    fnToggleMinimize: function () {
                      return Wt.ToggleMinimized(n, l, !1);
                    },
                  })
                ),
                !s &&
                  d.createElement(
                    "div",
                    {
                      className: Object(L.a)(
                        j.FlexColumnContainer,
                        j.EventDefaultRowContainer
                      ),
                    },
                    Boolean(m && m.length > 0) &&
                      d.createElement(
                        "div",
                        { className: J.SaleVisibilityDateFilter },
                        d.createElement(
                          "span",
                          null,
                          Object(f.f)("#Sale_VisibilityIndex_ShowFilter")
                        ),
                        g
                      ),
                    d.createElement(ye.c, { onAddItem: this.AddCapsule }),
                    d.createElement(
                      "div",
                      { className: J.SaleImportBar },
                      d.createElement(
                        k.a,
                        {
                          className: J.SaleImportBarTooltip,
                          toolTipContent: Object(f.f)(
                            "#Sale_RemoveAll_Tooltip"
                          ),
                        },
                        d.createElement(
                          _.d,
                          {
                            className: J.SaleImportBarButton,
                            onClick: this.OnRemoveAllPrompt,
                          },
                          Object(f.f)("#Sale_RemoveAll")
                        )
                      ),
                      d.createElement(
                        k.a,
                        {
                          className: J.SaleImportBarTooltip,
                          toolTipContent: Object(f.f)(
                            "#Sale_ImportItems_Tooltip"
                          ),
                        },
                        d.createElement(
                          _.d,
                          {
                            className: J.SaleImportBarButton,
                            onClick: this.ImportSaleItems,
                          },
                          Object(f.f)("#Sale_ImportItems")
                        )
                      ),
                      d.createElement(
                        k.a,
                        {
                          className: J.SaleImportBarTooltip,
                          toolTipContent: Object(f.f)("#Sale_EditRaw_Tooltip"),
                        },
                        d.createElement(
                          _.d,
                          {
                            className: J.SaleImportBarButton,
                            onClick: this.OnEditRaw,
                          },
                          Object(f.f)("#Sale_EditRaw")
                        )
                      ),
                      d.createElement(
                        R.b,
                        { requireAdmin: !0, clanSteamID: n.GetClanSteamID() },
                        d.createElement(
                          k.a,
                          {
                            className: J.SaleImportBarTooltip,
                            toolTipContent: Object(f.f)(
                              "#Sale_DiscountEvent_ttip"
                            ),
                          },
                          d.createElement(
                            _.d,
                            {
                              className: J.SaleImportBarButton,
                              onClick: this.OnSelectDiscountEvent,
                            },
                            Object(f.f)("#Sale_DiscountEvent_Add")
                          )
                        )
                      )
                    ),
                    d.createElement(D.a, {
                      bDisabled: this.state.nShowVisibilityIndexOnly != we,
                      items:
                        this.state.nShowVisibilityIndexOnly === we
                          ? a.capsules
                          : a.capsules.filter(function (t) {
                              return (
                                null == t.visibility_index ||
                                t.visibility_index ==
                                  e.state.nShowVisibilityIndexOnly
                              );
                            }),
                      onDelete: this.RemoveCapsule,
                      onReorder: function () {
                        return e.props.editModel.SetDirty(o.c.jsondata_sales);
                      },
                      render: function (e) {
                        return d.createElement(Oe, {
                          capsule: e,
                          capsuleContainer: a,
                        });
                      },
                    }),
                    i.length > 1 &&
                      d.createElement(_.i, {
                        strDropDownClassName: j.DropDownScroll,
                        label: Object(f.f)("#Sale_VisibilityIndex_Label"),
                        rgOptions: i,
                        selectedOption: this.state.nImportCapsuleVisibiltyIndex,
                        onChange: function (t) {
                          return e.OnChangeVisibilityDate(t.data);
                        },
                        bDisableMouseOverlay: !0,
                        contextMenuPositionOptions: {
                          bDisableMouseOverlay: !0,
                          bDisablePopTop: !0,
                        },
                        disabled: 1 == i.length,
                        strClassName: J.SaleDaySelection,
                        tooltip: Object(f.f)("#Sale_VisibilityIndex_Tooltip"),
                      })
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                n = e.capsuleContainer,
                a = Boolean(n.sale_tag_filter),
                i = a || t.GetEventModel().GetTaggedItems().length > 0;
              return d.createElement(
                me.a,
                null,
                i &&
                  d.createElement(_.q, {
                    onChange: this.OnUseTagFilterChange,
                    label: Object(f.f)("#Sale_TaggedItemFilter"),
                    description: n.sale_tag_filter
                      ? ""
                      : Object(f.f)("#Sale_TaggedItemFilterDescription"),
                    checked: Boolean(n.sale_tag_filter),
                  }),
                a && this.renderFilterView(),
                !a && this.renderItemView()
              );
            }),
            Object(a.c)([b.a], t.prototype, "RemoveCapsule", null),
            Object(a.c)([b.a], t.prototype, "AddCapsule", null),
            Object(a.c)([b.a], t.prototype, "ImportSaleItems", null),
            Object(a.c)([b.a], t.prototype, "OnChangeVisibilityDate", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnVisibilityIndexFilterChange",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnRemoveAllPrompt", null),
            Object(a.c)([b.a], t.prototype, "OnRemoveAllConfirmed", null),
            Object(a.c)([b.a], t.prototype, "OnEditRaw", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnUseTagFilterChangeConfirmed",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnUseTagFilterChange", null),
            Object(a.c)([b.a], t.prototype, "OnSelectDiscountEvent", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        De = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              var e = this.props.capsuleContainer,
                t = !1;
              e.capsules.forEach(function (e) {
                return (t =
                  t || void 0 !== (null == e ? void 0 : e.visibility_index));
              });
              for (var n = "", a = 0, i = e.capsules; a < i.length; a++) {
                var r = i[a];
                if (r) {
                  var o = "";
                  if ("bundle" === r.type)
                    o = (l = de.a.GetBundleInfo(r.id)) && l.name;
                  else if ("sub" === r.type) {
                    o = (l = pe.b.GetPackageInfo(r.id)) && l.name;
                  } else {
                    var l;
                    o = (l = Ce.a.GetAppInfo(r.id)) && l.name;
                  }
                  var s = r.id + "\t" + r.type;
                  void 0 !== r.visibility_index
                    ? (s += "\tDay " + r.visibility_index)
                    : t && (s += "\t"),
                    o && (s += '\t"' + o + '"'),
                    (n += s + "\n");
                }
              }
              return n;
            }),
            (t.prototype.ParseCapsuleInfoFromLine = function (e) {
              var t = e + " ",
                n = /^\s*([0-9]+)\W+(.*)/.exec(t);
              if (n) {
                var a = { id: parseInt(n[1]), type: "game" };
                t = n[2];
                var i = /^(game|software|dlc|bundle|video|sub|event|tag|music|hardware)\W+(.*)/i.exec(
                  t
                );
                i && ((a.type = i[1]), (t = i[2]));
                var r = /^day\s+(\d+)\W+/i.exec(t);
                return r && (a.visibility_index = parseInt(r[1])), a;
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, l, s, c, u, d, p, m, _, g;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      for (
                        e = this.props,
                          t = e.editModel,
                          n = e.capsuleContainer,
                          i = new Array(),
                          r = this.state.editValue.split("\n"),
                          l = 0,
                          s = r;
                        l < s.length;
                        l++
                      )
                        (c = s[l]),
                          (u = this.ParseCapsuleInfoFromLine(c)) && i.push(u);
                      return [4, Object(ge.i)(i)];
                    case 1:
                      for (
                        a.sent(), d = "", p = t.GetNumberOfDays(), m = 0, _ = i;
                        m < _.length;
                        m++
                      )
                        if (
                          void 0 !== (g = _[m]).visibility_index &&
                          g.visibility_index >= p
                        ) {
                          d = Object(f.f)(
                            "#Sale_EditRaw_Error_InvalidDay",
                            g.id,
                            g.visibility_index
                          );
                          break;
                        }
                      return (
                        this.setState({ bImporting: !1, errMsg: d }),
                        d ||
                          (JSON.stringify(n.capsules) !== JSON.stringify(i) &&
                            ((n.capsules = i), t.SetDirty(o.c.jsondata_sales)),
                          this.props.closeModal()),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return d.createElement(
                h.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                d.createElement(_.l, null, Object(f.f)("#Sale_EditRaw_Title")),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    "div",
                    null,
                    Object(f.f)("#Sale_EditRaw_Desc_1")
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(f.f)("#Sale_EditRaw_Desc_2")
                  ),
                  d.createElement(
                    "div",
                    { className: y.EditRawExample },
                    Object(f.f)("#Sale_EditRaw_Example_Title")
                  ),
                  d.createElement(
                    "div",
                    { className: y.EditRawExample },
                    Object(f.f)("#Sale_EditRaw_Example_1")
                  ),
                  d.createElement(
                    "div",
                    { className: y.EditRawExample },
                    Object(f.f)("#Sale_EditRaw_Example_2")
                  ),
                  d.createElement(
                    "div",
                    { className: y.EditRawExample },
                    Object(f.f)("#Sale_EditRaw_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    d.createElement(
                      "p",
                      { className: g.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    d.createElement(he.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    d.createElement("textarea", {
                      className: y.EditRawTextArea,
                      value: this.state.editValue,
                      cols: 40,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  d.createElement(
                    _.k,
                    null,
                    d.createElement(
                      _.r,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(f.f)("#Button_Confirm"),
                      " "
                    ),
                    d.createElement(
                      _.d,
                      { onClick: e, disabled: !1 },
                      Object(f.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnCompleteEdit", null),
            Object(a.c)([b.a], t.prototype, "DoImport", null),
            Object(a.c)([b.a], t.prototype, "OnTextChange", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        ke = n("NF5x"),
        Ge = n("bDQf"),
        Le = n("K3tN"),
        Ae = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            a = d.useState(null),
            i = a[0],
            r = a[1],
            o = Boolean(t.tabs && t.tabs.length > 0 && !i);
          return n.GetSaleSections().reduce(function (e, t) {
            return e + ("tabs" === t.section_type ? 1 : 0);
          }, 0) > 1
            ? d.createElement(
                "div",
                { className: y.TabsMultipleError },
                Object(f.f)("#Sale_Tabs_MultipleTabSections")
              )
            : d.createElement(
                "div",
                null,
                d.createElement(Fe, {
                  saleSection: t,
                  editModel: n,
                  onTabSelected: r,
                  selectedTab: i,
                }),
                o &&
                  d.createElement(
                    "div",
                    { className: y.TabsSelectToEdit },
                    Object(f.f)("#Sale_Tabs_SelectTab")
                  ),
                i &&
                  d.createElement(Re, {
                    tab: i,
                    editModel: n,
                    editLanguage: n.GetCurEditLanguage(),
                  })
              );
        });
      function Be(e, t) {
        var n = Object(_e.g)(e, t);
        return n || (n = Object(f.f)("#Sale_Tabs_UnnamedTab", e.unique_id)), n;
      }
      var Ne = Object(u.a)(function (e) {
          var t,
            n,
            a = e.tab,
            i = (e.language, Be(e.tab, e.language)),
            r =
              e.tab.capsules.length > 0
                ? Object(f.f)(
                    "#Sale_Tabs_TitleItemCount",
                    i,
                    e.tab.capsules.length
                  )
                : Object(f.f)("#Sale_Tabs_TitleShowAllItems", i),
            o =
              null !== (t = e.overrideStyle) && void 0 !== t
                ? t
                : Object(ke.a)(e.selected, e.section),
            l = null;
          if (
            (null === (n = a.tab_bar_bg_image) || void 0 === n
              ? void 0
              : n.length) > 0
          ) {
            var s = new P.a(N.b.CLANSTEAMID);
            l = m.a.GenerateArtworkURLFromHashAndExtensions(
              s,
              a.tab_bar_bg_image
            );
          }
          return d.createElement(
            "div",
            {
              className: Object(L.a)(
                y.TabsSelectorEntry,
                e.selected && y.TabsSelectorEntrySelected
              ),
              style: o,
              onClick: function () {
                return e.onSelected(e.tab);
              },
            },
            d.createElement("span", null, r),
            Boolean(l) &&
              d.createElement("img", { className: Le.ImgPreview, src: l })
          );
        }),
        Fe = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GenerateUniqueID = function () {
              var e = this.props.saleSection.tabs;
              return (
                (e
                  ? e.reduce(function (e, t) {
                      return Math.max(t.unique_id, e);
                    }, 0)
                  : 0) + 1
              );
            }),
            (t.prototype.OnAddTab = function () {
              this.props.saleSection.tabs || (this.props.saleSection.tabs = []);
              var e = {
                unique_id: this.GenerateUniqueID(),
                default_label: null,
                localized_label: null,
                capsules: [],
              };
              this.props.saleSection.tabs.push(e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnDeleteTabPrompt = function (e) {
              var t = this,
                n = this.props.saleSection.tabs[e];
              Object(M.d)(
                d.createElement(h.d, {
                  strTitle: Object(f.f)("#Sale_Tabs_DeletePrompt_Title"),
                  strDescription: Object(f.f)(
                    "#Sale_Tabs_DeletePrompt_Body",
                    Be(n, this.props.editModel.GetCurEditLanguage())
                  ),
                  onOK: function () {
                    return t.OnDeleteTabConfirmed(n);
                  },
                }),
                window
              );
            }),
            (t.prototype.OnSelectTab = function (e) {
              this.props.onTabSelected(e);
            }),
            (t.prototype.OnDeleteTabConfirmed = function (e) {
              (this.props.saleSection.tabs = this.props.saleSection.tabs.filter(
                function (t) {
                  return t != e;
                }
              )),
                this.props.editModel.SetDirty(o.c.jsondata_sales),
                this.props.selectedTab === e && this.OnSelectTab(null);
            }),
            (t.prototype.RenderTab = function (e) {
              var t = e === this.props.selectedTab;
              return d.createElement(Ne, {
                section: this.props.saleSection,
                selected: t,
                tab: e,
                onSelected: this.OnSelectTab,
                language: this.props.editModel.GetCurEditLanguage(),
                overrideStyle: t
                  ? { color: "#000000", background: "#d3d3d3" }
                  : { color: "#FFFFFF", background: "" },
              });
            }),
            (t.prototype.RenderTabs = function () {
              var e = this;
              return this.props.saleSection.tabs
                ? d.createElement(D.a, {
                    items: this.props.saleSection.tabs,
                    onDelete: this.OnDeleteTabPrompt,
                    onReorder: function () {
                      return e.props.editModel.SetDirty(o.c.jsondata_sales);
                    },
                    render: this.RenderTab,
                  })
                : null;
            }),
            (t.prototype.render = function () {
              var e = this;
              return d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_Tabs_Colors"),
                  d.createElement(qt, {
                    tooltip: Object(f.f)("#Sale_Tabs_Colors_ttip"),
                  })
                ),
                d.createElement(Pe, {
                  section: this.props.saleSection,
                  editModel: this.props.editModel,
                }),
                d.createElement(
                  "div",
                  { className: Le.CurrentTabsCtn },
                  d.createElement(
                    "div",
                    { className: j.EventEditorTextTitle },
                    Object(f.f)("#Sale_Tabs_Current"),
                    d.createElement(qt, {
                      tooltip: Object(f.f)("#Sale_Tabs_Current_ttip"),
                    })
                  ),
                  d.createElement(
                    "div",
                    { className: Le.AddButton },
                    d.createElement(
                      k.a,
                      { toolTipContent: Object(f.f)("#Sale_Tabs_AddTab_ttip") },
                      d.createElement(
                        _.r,
                        {
                          onClick: function () {
                            return e.OnAddTab();
                          },
                        },
                        Object(f.f)("#Sale_Tabs_AddTab")
                      )
                    )
                  ),
                  this.RenderTabs()
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnAddTab", null),
            Object(a.c)([b.a], t.prototype, "OnDeleteTabPrompt", null),
            Object(a.c)([b.a], t.prototype, "OnSelectTab", null),
            Object(a.c)([b.a], t.prototype, "RenderTab", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Re = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bShowItemListing: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidUpdate = function (e, t) {
              this.props.tab !== e.tab &&
                this.setState({ bShowItemListing: !1 });
            }),
            (t.prototype.OnTitleChange = function (e) {
              (this.props.tab.default_label = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSetCustomTitle = function (e) {
              var t = this.props,
                n = t.tab,
                a = t.editLanguage;
              t.editModel.SetSaleSectionTabName(a, n, e);
            }),
            (t.prototype.OnClearCustomTitle = function () {
              var e = this.props,
                t = e.tab,
                n = e.editLanguage;
              e.editModel.SetSaleSectionTabName(n, t, "");
            }),
            (t.prototype.OnShowTabItems = function () {
              this.setState({ bShowItemListing: !0 });
            }),
            (t.prototype.RenderHideItemFilter = function () {
              return d.createElement(
                "div",
                { className: y.TabHideItemFilterCtn },
                Object(f.f)("#Sale_Tabs_ShowItems"),
                d.createElement(
                  _.d,
                  { onClick: this.OnShowTabItems },
                  Object(f.f)("#Sale_Tabs_ShowItems_Button")
                )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.tab,
                n = e.editLanguage,
                a = e.editModel,
                i =
                  this.state.bShowItemListing ||
                  (t.capsules && t.capsules.length > 0);
              return d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_Tabs_Title"),
                  d.createElement(qt, {
                    tooltip: Object(f.f)("#Sale_Tabs_Title_ttip"),
                  })
                ),
                d.createElement(Ee, {
                  key: "TabName" + t.unique_id,
                  default_label: t.default_label,
                  localized_label: t.localized_label,
                  editLanguage: n,
                  onClearCustomTitle: this.OnClearCustomTitle,
                  onSetCustomTitle: this.OnSetCustomTitle,
                  onSetDefaultLabel: this.OnTitleChange,
                }),
                !i && this.RenderHideItemFilter(),
                i &&
                  d.createElement(Me, {
                    key: "TabItems" + t.unique_id,
                    capsuleContainer: t,
                    editModel: this.props.editModel,
                    uniqueKey: "Tab" + t.unique_id,
                    disableDaySelection: !1,
                    titleLocToken: "#Sale_Tabs_ItemTitle",
                    ttipLocToken: "#Sale_Tabs_ItemTitle_ttip",
                  }),
                d.createElement(Ue, { tab: t, editModel: a })
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([b.a], t.prototype, "OnSetCustomTitle", null),
            Object(a.c)([b.a], t.prototype, "OnClearCustomTitle", null),
            Object(a.c)([b.a], t.prototype, "OnShowTabItems", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component);
      function xe(e, t, n, a) {
        Object(T.a)(
          d.createElement(C.a, {
            onChange: function (e) {
              (t[a] = e), n.SetDirty(o.c.jsondata_sales);
            },
            color: t[a],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var Pe = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.section,
                n = e.editModel,
                a = Object(ke.a)(!1, t),
                i = Object(ke.a)(!0, t);
              return d.createElement(
                "div",
                { style: { display: "flex" } },
                d.createElement(
                  "div",
                  { className: j.HalfColumn },
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(e, t, n, "tab_inactive_label_color");
                      },
                      className: j.EventEditorTextTitle,
                      style: a,
                    },
                    Object(f.f)("#Sale_Section_TabInactive_Label_Color")
                  ),
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(
                          e,
                          t,
                          n,
                          "tab_inactive_background_gradient_top"
                        );
                      },
                      className: j.EventEditorTextTitle,
                      style: a,
                    },
                    Object(f.f)("#Sale_Section_TabInactive_Background_Top")
                  ),
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(
                          e,
                          t,
                          n,
                          "tab_inactive_background_gradient_bottom"
                        );
                      },
                      className: j.EventEditorTextTitle,
                      style: a,
                    },
                    Object(f.f)("#Sale_Section_TabInactive_Background_Bottom")
                  )
                ),
                d.createElement(
                  "div",
                  { className: j.HalfColumn },
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(e, t, n, "tab_active_label_color");
                      },
                      className: j.EventEditorTextTitle,
                      style: i,
                    },
                    Object(f.f)("#Sale_Section_TabActive_Label_Color")
                  ),
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(
                          e,
                          t,
                          n,
                          "tab_active_background_gradient_top"
                        );
                      },
                      className: j.EventEditorTextTitle,
                      style: i,
                    },
                    Object(f.f)("#Sale_Section_TabActive_Background_Top")
                  ),
                  d.createElement(
                    _.d,
                    {
                      onClick: function (e) {
                        return xe(
                          e,
                          t,
                          n,
                          "tab_active_background_gradient_bottom"
                        );
                      },
                      className: j.EventEditorTextTitle,
                      style: i,
                    },
                    Object(f.f)("#Sale_Section_TabActive_Background_Bottom")
                  )
                )
              );
            }),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Ue = Object(u.a)(function (e) {
          var t = e.tab,
            n = e.editModel,
            i = d.useState(new m.b(n.GetClanSteamID()))[0],
            r = d.useState(!1),
            l = r[0],
            c = r[1];
          return d.createElement(
            "div",
            null,
            d.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Tabs_Background_title")
            ),
            d.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Tabs_Background_desc")
            ),
            d.createElement(s.b, {
              bAllowPreviousClanImages: !0,
              onDropFiles: function (e) {
                return Object(a.b)(void 0, void 0, void 0, function () {
                  var r, l, s, u, p, _, g;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        if (!(e && e.length > 0)) return [3, 9];
                        c(!0), (r = ["tab_bar_background"]), (a.label = 1);
                      case 1:
                        return (
                          a.trys.push([1, 6, 7, 8]), [4, i.AddImage(e[0], 0, r)]
                        );
                      case 2:
                        return a.sent()
                          ? [3, 3]
                          : (console.error(
                              "TabSaleBackgroundImageEditor.OnDropFiles: failed file=" +
                                e[0].name
                            ),
                            Object(M.d)(
                              d.createElement(h.f, {
                                strDescription: Object(f.f)(
                                  "#ImagePicker_Error",
                                  e[0].name
                                ),
                              }),
                              window
                            ),
                            [3, 5]);
                      case 3:
                        return [4, i.UploadAllFiles(r)];
                      case 4:
                        (l = a.sent()),
                          (s = l[Object.keys(l)[0]]),
                          (u = s ? m.a.GetExtensionString(s) : null),
                          (p = s ? s.image_hash + u : null),
                          (t.tab_bar_bg_image = p),
                          n.SetDirty(o.c.jsondata_sales),
                          (a.label = 5);
                      case 5:
                        return [3, 8];
                      case 6:
                        return (
                          (_ = a.sent()),
                          (g = Object(Ge.a)(_)),
                          console.error(
                            "TabSaleBackgroundImageEditor: failed add " +
                              g.strErrorMsg,
                            g
                          ),
                          [3, 8]
                        );
                      case 7:
                        return c(!1), [7];
                      case 8:
                        return [3, 10];
                      case 9:
                        console.log(
                          "TabSaleBackgroundImageEditor: error fnOnDropFiles file missing",
                          e
                        ),
                          (a.label = 10);
                      case 10:
                        return [2];
                    }
                  });
                });
              },
              OnClanImageSelected: function (e, i) {
                return Object(a.b)(void 0, void 0, void 0, function () {
                  var i, r;
                  return Object(a.e)(this, function (a) {
                    return (
                      (i = e ? m.a.GetExtensionString(e) : null),
                      (r = e ? e.image_hash + i : null),
                      (t.tab_bar_bg_image = r),
                      n.SetDirty(o.c.jsondata_sales),
                      [2]
                    );
                  });
                });
              },
              clanSteamID: n.GetClanSteamID(),
              fnSetImageURL: n.SetImageURL,
              rgRealmList: n.GetIncludedRealmList(),
            }),
            l &&
              d.createElement(he.a, {
                size: "medium",
                position: "center",
                string: Object(f.f)("#Uploading"),
              }),
            Boolean(t.tab_bar_bg_image) &&
              d.createElement("img", {
                src: m.a.GenerateArtworkURLFromHashAndExtensions(
                  n.GetClanSteamID(),
                  t.tab_bar_bg_image
                ),
              })
          );
        }),
        Ve = function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            n = Object(d.useState)(!1),
            a = n[0],
            i = n[1],
            s = Object(d.useState)(null),
            c = s[0],
            u = s[1],
            m = Object(d.useState)(null),
            g = m[0],
            b = m[1],
            v = Object(d.useState)(null),
            E = v[0],
            S = v[1],
            y = Object(d.useState)(null),
            T = y[0],
            C = y[1];
          Object(d.useEffect)(function () {
            var e = r.a.CancelToken.source();
            return (
              He().then(function () {
                e.token.reason || i(!0);
              }),
              function () {
                return e.cancel("SaleEventExplorerDialog: unmounting");
              }
            );
          }, []);
          return p.a.createElement(
            me.a,
            null,
            p.a.createElement(
              h.h,
              { onEscKeypress: t },
              p.a.createElement(
                _.f,
                null,
                p.a.createElement(_.l, null, Object(f.f)("#Sale_Debug_Title")),
                p.a.createElement(
                  _.b,
                  null,
                  p.a.createElement(
                    _.c,
                    null,
                    Boolean(a)
                      ? p.a.createElement(
                          "div",
                          null,
                          p.a.createElement(
                            "div",
                            null,
                            Object(f.f)("#Sale_Debug_Desc")
                          ),
                          p.a.createElement(We, {
                            fnSetSaleItem: function (e, t, n, a) {
                              u(e), b(t), S(n), C(a);
                            },
                          }),
                          Boolean(c)
                            ? p.a.createElement(Ke, {
                                saleCapsule: c,
                                list: g,
                                tabList: E,
                                sortList: T,
                              })
                            : p.a.createElement(
                                "div",
                                null,
                                Object(f.f)("#Sale_Debug_NoMatchingItem")
                              )
                        )
                      : p.a.createElement(he.a, {
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                p.a.createElement(
                  _.k,
                  null,
                  p.a.createElement(_.o, {
                    onCancel: t,
                    bOKDisabled: !c,
                    strOKText: Object(f.f)("#Button_Delete"),
                    onOK: function () {
                      Object(M.d)(
                        p.a.createElement(h.d, {
                          title: Object(f.f)("#EventEditor_GenericAreYouSure"),
                          strDescription: Object(f.f)("#Sale_Debug_Delete"),
                          onOK: function () {
                            !(function (e) {
                              if (!e) return;
                              var t = l.c.GetEditModel();
                              Object(O.G)(function () {
                                var n = 0,
                                  a = function (t) {
                                    for (
                                      var a = t.capsules.findIndex(function (
                                        t
                                      ) {
                                        return t.id == e.id && t.type == e.type;
                                      });
                                      a >= 0;

                                    )
                                      t.capsules.splice(a, 1),
                                        (n += 1),
                                        (a = t.capsules.findIndex(function (t) {
                                          return (
                                            t.id == e.id && t.type == e.type
                                          );
                                        }));
                                  };
                                t.GetEventModel().jsondata.sale_sections.forEach(
                                  a
                                );
                                var i = t.GetTabSaleSection();
                                i && i.tabs.forEach(a),
                                  n && t.SetDirty(o.c.jsondata_sales);
                              });
                            })(c),
                              t();
                          },
                        }),
                        window
                      );
                    },
                  })
                )
              )
            )
          );
        };
      function He() {
        return Object(a.b)(this, void 0, void 0, function () {
          var e;
          return Object(a.e)(this, function (t) {
            switch (t.label) {
              case 0:
                return (
                  (e = l.c.GetEditModel()),
                  [
                    4,
                    Promise.all([
                      ue.a.LoadAppLinkInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("apps"))
                      ),
                      de.a.LoadBundleInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("bundles"))
                      ),
                      pe.b.LoadPackageInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("packages"))
                      ),
                    ]),
                  ]
                );
              case 1:
                return t.sent(), [2];
            }
          });
        });
      }
      function ze(e, t) {
        if ((void 0 === t && (t = ""), "bundle" == e.type)) {
          var n = de.a.GetBundleInfo(e.id);
          return n ? n.name : t;
        }
        if ("sub" == e.type) {
          var a = pe.b.GetPackageInfo(e.id);
          return a ? a.name : t;
        }
        var i = ue.a.GetAppLinkInfo(e.id);
        return i ? i.name : t;
      }
      var We = function (e) {
          var t = e.fnSetSaleItem,
            n = Object(d.useRef)(null),
            i = Object(d.useRef)(null),
            r = Object(d.useRef)(0),
            o = Object(d.useRef)();
          Object(d.useEffect)(function () {
            return function () {
              return window.clearTimeout(r.current);
            };
          }, []);
          var s = Object(d.useCallback)(
            function (e) {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var s;
                return Object(a.e)(this, function (c) {
                  return (s = e.target.value) && 0 != s.trim().length
                    ? ((s = s.toLocaleLowerCase()),
                      window.clearTimeout(r.current),
                      n.current && n.current("SearchForCurator: new request"),
                      (r.current = window.setTimeout(function () {
                        return Object(a.b)(void 0, void 0, void 0, function () {
                          var e, n, r, c, u, d, m;
                          return Object(a.e)(this, function (a) {
                            return (
                              (e = l.c.GetEditModel()),
                              (n = Number.parseInt(s.trim())),
                              (r = new Array()),
                              e.GetEventModel().BHasSaleEnabled() &&
                                ((c = function (e) {
                                  return (
                                    e.id == n ||
                                    ze(e).toLowerCase().indexOf(s) >= 0
                                  );
                                }),
                                (u = function (e) {
                                  r.findIndex(function (t) {
                                    return t.id == e.id && t.type == e.type;
                                  }) < 0 && r.push(e);
                                }),
                                e
                                  .GetEventModel()
                                  .jsondata.sale_sections.forEach(function (e) {
                                    e.capsules.filter(c).forEach(u);
                                  }),
                                (d = e.GetTabSaleSection()) &&
                                  d.tabs.forEach(function (e) {
                                    return e.capsules.filter(c).forEach(u);
                                  }),
                                (m = function (n) {
                                  var a,
                                    i = function (e) {
                                      return n.id == e.id && n.type == e.type;
                                    },
                                    r = new Array();
                                  e.GetEventModel().jsondata.sale_sections.forEach(
                                    function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        r.push(e);
                                    }
                                  );
                                  var o = new Array();
                                  d &&
                                    d.tabs.forEach(function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        o.push(e);
                                    });
                                  var l = new Array();
                                  null ===
                                    (a = e.GetEventModel().jsondata
                                      .sorting_tiers) ||
                                    void 0 === a ||
                                    a.forEach(function (e, t) {
                                      if (
                                        (null == e
                                          ? void 0
                                          : e.capsules.filter(i).length) > 0
                                      )
                                        l.push(t);
                                      else if (
                                        null == e ? void 0 : e.sale_tag_filter
                                      ) {
                                        var a = new Array();
                                        a.push(n),
                                          Object(le.r)(
                                            new Array(),
                                            e.sale_tag_filter,
                                            a
                                          ).length > 0 && l.push(t);
                                      }
                                    }),
                                    t(n, r, o, l);
                                }),
                                (i.current = Object(T.a)(
                                  p.a.createElement(qe, {
                                    list: r,
                                    fnChooseCapsule: m,
                                  }),
                                  o.current.element,
                                  {
                                    bOverlapHorizontal: !0,
                                    bMatchWidth: !0,
                                    bFitToWindow: !0,
                                    bDisablePopTop: !0,
                                  }
                                ))),
                              [2]
                            );
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            },
            [t]
          );
          return p.a.createElement(_.m, {
            type: "text",
            placeholder: Object(f.f)("#Sale_Debug_Placeholder"),
            tooltip: Object(f.f)("#Sale_Debug_InputToolTip"),
            onChange: s,
            onBlur: function () {
              setTimeout(function () {
                return i.current && i.current.Hide();
              }, 200);
            },
            ref: o,
          });
        },
        qe = function (e) {
          var t = e.list,
            n = e.fnChooseCapsule;
          return p.a.createElement(
            W.c,
            { className: fe.SearchResults },
            t.map(function (e) {
              return p.a.createElement(
                W.d,
                {
                  key: "sale_" + e.id + "_tpe_" + e.type,
                  onSelected: function () {
                    return n(e);
                  },
                },
                p.a.createElement(
                  "div",
                  null,
                  Object(f.f)(
                    "#Sale_Debug_ContextItem",
                    ze(e, Object(f.f)("#Sale_Debug_Unknown")),
                    e.type
                  )
                )
              );
            })
          );
        },
        Ke = function (e) {
          var t,
            n = e.saleCapsule,
            a = e.list,
            i = e.tabList,
            r = e.sortList,
            o = l.c.GetEditModel(),
            s = o.GetCurEditLanguage(),
            c =
              Object(R.a)(o.GetClanSteamID(), !1) ||
              (null === (t = o.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === t
                ? void 0
                : t.length) > 0;
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "div",
              null,
              Object(f.f)(
                "#Sale_Debug_MatchItem",
                ze(n, Object(f.f)("#Sale_Debug_Unknown")),
                n.type
              )
            ),
            p.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_AppearsIn")
            ),
            p.a.createElement(
              "ol",
              null,
              Boolean(a && a.length > 0)
                ? a.map(function (e) {
                    return p.a.createElement(
                      "li",
                      { key: e.unique_id },
                      nn(e, s, o, o.GetSaleSectionIndexByID(e.unique_id), !0)
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            p.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_Tab_AppearsIn")
            ),
            p.a.createElement(
              "ol",
              null,
              Boolean(i && i.length > 0)
                ? i.map(function (e) {
                    return p.a.createElement(
                      "li",
                      { key: e.unique_id },
                      Be(e, s)
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            c &&
              p.a.createElement(
                p.a.Fragment,
                null,
                p.a.createElement(
                  "div",
                  null,
                  Object(f.f)("#Sale_Debug_SortTier_AppearsIn")
                ),
                p.a.createElement(
                  "ol",
                  null,
                  Boolean((null == r ? void 0 : r.length) > 0)
                    ? r.map(function (e) {
                        return p.a.createElement(
                          "li",
                          { key: "st" + e },
                          Object(f.f)("#Sale_Debug_Tier", e + 1)
                        );
                      })
                    : Object(f.f)("#Sale_Debug_NoMatchingItem")
                )
              )
          );
        };
      function Ye(e) {
        return e.type + ":" + e.id;
      }
      function Qe(e) {
        var t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      var Je = function (e) {
          var t = Object(d.useState)(!1),
            n = t[0],
            a = t[1],
            i = Object(d.useState)(null),
            o = i[0],
            s = i[1],
            c = function () {
              return e.closeModal && e.closeModal();
            };
          Object(d.useEffect)(function () {
            var e = r.a.CancelToken.source();
            return (
              He().then(function () {
                e.token.reason || a(!0);
              }),
              s(
                (function () {
                  var e,
                    t,
                    n = [],
                    a = new Map(),
                    i = l.c.GetEditModel(),
                    r = i.GetTabSaleSection();
                  return (
                    null === (e = null == r ? void 0 : r.tabs) ||
                      void 0 === e ||
                      e.forEach(function (e) {
                        var t,
                          i = {
                            type: "tab",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              (null === (t = e.localized_label) || void 0 === t
                                ? void 0
                                : t[0]) || e.default_label
                            ),
                          };
                        n.push(i),
                          e.capsules.forEach(function (t) {
                            var n = Ye(t);
                            a.has(n) || a.set(n, new Set()),
                              a.get(n).add(e.unique_id);
                          });
                      }),
                    null === (t = i.GetEventModel().jsondata.sale_sections) ||
                      void 0 === t ||
                      t.forEach(function (e) {
                        if ("items" == e.section_type) {
                          var t = {
                            type: "section",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              Object(_e.d)(e) ||
                                e.localized_label[0] ||
                                e.default_label
                            ),
                          };
                          n.push(t),
                            e.capsules.forEach(function (t) {
                              var n = Ye(t);
                              a.has(n) || a.set(n, new Set()),
                                a.get(n).add(e.unique_id);
                            });
                        }
                      }),
                    { mapItemLocations: a, rgSections: n }
                  );
                })()
              ),
              function () {
                return e.cancel(
                  "SaleEventItemLocationCSVDownloadDialog: unmounting"
                );
              }
            );
          }, []);
          var u = null;
          if (o) {
            var m = o.rgSections.filter(function (e) {
                return "tab" == e.type;
              }).length,
              g = o.rgSections.length - m,
              b = o.mapItemLocations.size;
            u = Object(f.f)("#Sale_GameExport_ContentSummary", m, g, b);
          }
          return p.a.createElement(
            me.a,
            null,
            p.a.createElement(
              h.h,
              { onEscKeypress: c },
              p.a.createElement(
                _.f,
                null,
                p.a.createElement(
                  _.l,
                  null,
                  Object(f.f)("#Sale_GameExport_Title")
                ),
                p.a.createElement(
                  _.b,
                  null,
                  p.a.createElement(
                    _.c,
                    null,
                    p.a.createElement(
                      "div",
                      null,
                      Object(f.f)("#Sale_GameExport_Desc")
                    )
                  ),
                  p.a.createElement(
                    _.c,
                    null,
                    n
                      ? u
                      : p.a.createElement(he.a, {
                          position: "center",
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                p.a.createElement(
                  _.k,
                  null,
                  p.a.createElement(_.o, {
                    onCancel: c,
                    bOKDisabled: !n,
                    strOKText: Object(f.f)("#Button_Save"),
                    onOK: function () {
                      for (
                        var e,
                          t = o.mapItemLocations,
                          n = o.rgSections,
                          a = [],
                          i = 0,
                          r = Array.from(t.keys());
                        i < r.length;
                        i++
                      ) {
                        var l = Qe((S = r[i])),
                          s = void 0;
                        try {
                          s =
                            null === (e = Object(ge.h)(l)) || void 0 === e
                              ? void 0
                              : e.name;
                        } catch (e) {}
                        a.push([l.type + ": " + (s || l.id), S]);
                      }
                      a.sort();
                      for (
                        var u = [],
                          d = ["Item", "AppID", "Count"],
                          m = 0,
                          _ = n;
                        m < _.length;
                        m++
                      ) {
                        var g = _[m];
                        d.push(g.strLabel + " (" + g.type + ")");
                      }
                      u.push(d);
                      for (var b = 0, v = a; b < v.length; b++) {
                        for (
                          var E = v[b],
                            S = ((s = E[0]), E[1]),
                            y = t.get(S),
                            O = [
                              s,
                              (l = Qe(S)).id.toString(),
                              y.size.toString(),
                            ],
                            T = 0,
                            C = n;
                          T < C.length;
                          T++
                        ) {
                          g = C[T];
                          O.push(y.has(g.unique_id) ? "1" : " ");
                        }
                        u.push(O);
                      }
                      var j = ce.a.unparse(u, { header: !0 }),
                        I = "item_locations.csv";
                      !(function (e, t) {
                        var n = document.createElement("a");
                        if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
                        else {
                          var a = window.URL.createObjectURL(e);
                          n.href = a;
                        }
                        n.setAttribute("download", t), n.click();
                        try {
                          document.removeChild(n);
                        } catch (e) {}
                      })(new Blob([j], { type: "text/csv:charset=utf-8;" }), I),
                        Object(M.b)(
                          p.a.createElement(h.d, {
                            strTitle: Object(f.f)("#Sale_GameExport_Title"),
                            bAlertDialog: !0,
                            strDescription: Object(f.f)(
                              "#Sale_GameExport_FileExported",
                              I
                            ),
                          }),
                          window
                        ),
                        c();
                    },
                  })
                )
              )
            )
          );
        },
        Ze = n("6Oks"),
        Xe = n.n(Ze),
        $e = Object(u.a)(function (e) {
          var t = e.editModel,
            n = d.createRef();
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(_.m, {
              onChange: function (e) {
                (t.GetEventModel().jsondata.sale_header_offset =
                  Number(e.target.value) || 0),
                  t.SetDirty(o.c.jsondata_sales);
              },
              label: Object(f.f)("#Sale_HeaderOffset"),
              value: t.GetEventModel().jsondata.sale_header_offset,
            }),
            d.createElement(
              _.d,
              {
                onClick: function (e) {
                  var n = t.GetEventModel().jsondata.sale_background_color;
                  Object(T.a)(
                    d.createElement(C.a, {
                      onChange: function (e) {
                        return (
                          (t = e),
                          (n = "sale_background_color"),
                          (l.c.GetEditModel().GetEventModel().jsondata[n] = t),
                          void l.c.GetEditModel().SetDirty(o.c.jsondata_sales)
                        );
                        var t, n;
                      },
                      color: n,
                    }),
                    e,
                    { bDisablePopTop: !0 }
                  );
                },
                className: I.a.EventEditorTextTitle,
                style: {
                  backgroundColor: t.GetEventModel().jsondata
                    .sale_background_color,
                },
              },
              Object(f.f)("#Sale_BackgroundColor")
            ),
            d.createElement(_.i, {
              dropDownControlRef: n,
              strDropDownClassName: I.a.DropDownScroll,
              label: Object(f.f)("#Sale_HeaderArtwork_Multi"),
              tooltip: Object(f.f)("#Sale_HeaderArtwork_Multi_hint"),
              rgOptions: (function () {
                var e = [
                    {
                      label: Object(f.f)("#Sale_HeaderArtwork_Single"),
                      data: 1,
                    },
                  ],
                  t = l.c.GetEditModel(),
                  n = Math.min(t.GetNumberOfDays(), 5);
                if (n > 1)
                  for (var a = 2; a <= n; a++)
                    e.push({
                      label: Object(f.f)("#Sale_HeaderArtwork_Multi_Amount", a),
                      data: a,
                    });
                return e;
              })(),
              selectedOption: t.GetNumSalesBackgroundHeader(),
              onChange: function (e) {
                var t = l.c.GetEditModel();
                t.GetEventModel().jsondata.sale_num_headers !== e.data &&
                  Object(M.d)(
                    d.createElement(h.d, {
                      strTitle: Object(f.f)("#Button_Confirm"),
                      strDescription: Object(f.f)(
                        "#Sale_HeaderArtwork_Warning"
                      ),
                      onOK: function () {
                        return (function (e) {
                          var t = l.c.GetEditModel();
                          t.GetEventModel().jsondata.sale_num_headers !== e &&
                            t.SetNumSalesBackgroundHeader(e);
                        })(e.data);
                      },
                      onCancel: function () {
                        var e;
                        return null === (e = null == n ? void 0 : n.current) ||
                          void 0 === e
                          ? void 0
                          : e.SetSelectedOption(
                              t.GetNumSalesBackgroundHeader()
                            );
                      },
                    }),
                    window
                  );
              },
              bDisableMouseOverlay: !0,
              disabled: t.GetNumberOfDays() <= 1,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: Xe.a.SaleDaySelection,
            }),
            Boolean(t.GetNumSalesBackgroundHeader() > 1) &&
              d.createElement(_.i, {
                strDropDownClassName: I.a.DropDownScroll,
                label: Object(f.f)("#Sale_HeaderArtwork_EditDay"),
                tooltip: Object(f.f)("#Sale_HeaderArtwork_EditDay_hint"),
                rgOptions: (function () {
                  for (
                    var e = [],
                      t = l.c.GetEditModel(),
                      n = t.GetNumSalesBackgroundHeader(),
                      a = 0;
                    a < n;
                    a++
                  ) {
                    var i = t.GetEventStartTime() + 86400 * a,
                      r = {
                        label: Object(f.n)(
                          a + 1 == n
                            ? "#Sale_HeaderArtwork_DayTimeOnward"
                            : "#Sale_HeaderArtwork_DayTime",
                          a + 1,
                          d.createElement(je.a, {
                            dateAndTime: i,
                            bSingleLine: !0,
                          }),
                          d.createElement(je.a, {
                            dateAndTime: i + 86400,
                            bSingleLine: !0,
                          })
                        ),
                        data: a,
                      };
                    e.push(r);
                  }
                  return e;
                })(),
                selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
                onChange: function (e) {
                  l.c.GetEditModel().GetEventModel().m_overrideCurrentDay =
                    e.data;
                },
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: {
                  bDisableMouseOverlay: !0,
                  bDisablePopTop: !0,
                },
                strClassName: Xe.a.SaleDaySelection,
              })
          );
        }),
        et = n("AIbc"),
        tt = Object(u.a)(function (e) {
          var t = e.editModel,
            n = Boolean(
              t.BHasSomeImage("product_banner") &&
                t.GetEventModel().BHasTag("hide_store")
            ),
            a = Boolean(
              t.BHasSomeImage("product_mobile_banner") &&
                t.GetEventModel().BHasTag("hide_store")
            ),
            i = function (e, n) {
              return void 0 === n && (n = !1), Wt.IsMinimized(t, e, n);
            },
            r = function (e, n) {
              return void 0 === n && (n = !1), Wt.ToggleMinimized(t, e, n);
            },
            o = i("all_artwork_ctn");
          return d.createElement(
            "div",
            { className: J.SettingCtn },
            zt.WrapWithNavWaypoint(
              "SalePageEdit_AllArtworkCtn",
              d.createElement(
                "div",
                {
                  className: Object(L.a)(J.Title),
                  id: "SalePageEdit_AllArtworkCtn",
                  onDoubleClick: function () {
                    return r("all_artwork_ctn");
                  },
                },
                d.createElement(
                  "span",
                  null,
                  Object(f.f)("#Sale_Artwork_Sections")
                ),
                d.createElement(Sn, {
                  bIsMinimized: o,
                  fnToggleMinimize: function () {
                    return r("all_artwork_ctn");
                  },
                })
              )
            ),
            !o &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(v.b, {
                  clanSteamID: t.GetClanSteamID(),
                  rgSupportArtwork: [
                    "sale_header",
                    "product_banner",
                    "product_mobile_banner",
                  ],
                  fnSetImageURL: t.SetImageURL,
                  rgRealmList: t.GetIncludedRealmList(),
                }),
                zt.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBgImg",
                  d.createElement(E.b, {
                    id: "SalePageEdit_SaleBgImg",
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(f.f)("#EventEditor_ArtworkType_sale_header"),
                    artworkType: "sale_header",
                    elEventArtworkExample: d.createElement(et.b, {
                      artworkType: "sale_header",
                    }),
                    bIsMinimized: i("sale_header"),
                    fnToggleMinimize: function () {
                      return r("sale_header");
                    },
                    elAdditionalControls: d.createElement($e, { editModel: t }),
                  })
                ),
                zt.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBanner",
                  d.createElement(E.b, {
                    id: "SalePageEdit_SaleBanner",
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_banner"
                    ),
                    artworkType: "product_banner",
                    bIsMinimized: i("product_banner"),
                    fnToggleMinimize: function () {
                      return r("product_banner");
                    },
                    strWarning: n
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    elEventArtworkExample: d.createElement(et.b, {
                      artworkType: "product_banner",
                    }),
                  })
                ),
                zt.WrapWithNavWaypoint(
                  "SalePageEdit_SaleMobileBanner",
                  d.createElement(E.b, {
                    id: "SalePageEdit_SaleMobileBanner",
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_mobile_banner"
                    ),
                    artworkType: "product_mobile_banner",
                    bIsMinimized: i("product_mobile_banner"),
                    fnToggleMinimize: function () {
                      return r("product_mobile_banner");
                    },
                    strWarning: a
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                  })
                )
              )
          );
        }),
        nt = Object(u.a)(function (e) {
          var t,
            n,
            a,
            i = e.editModel,
            r = i.GetEventModel(),
            l = d.useState(
              null !== (t = r.jsondata.sale_vanity_id) && void 0 !== t ? t : ""
            ),
            s = l[0],
            c = l[1],
            u = (d.useRef(null), new Date());
          u.setHours(10), u.setMinutes(0), u.setSeconds(0);
          var p = d.useState(
              null !== (n = r.startTime) && void 0 !== n
                ? n
                : Math.floor(u.getTime() / 1e3)
            ),
            m = p[0],
            g = p[1],
            b = new Date();
          b.setDate(b.getDate() + 1),
            b.setHours(10),
            b.setMinutes(0),
            b.setSeconds(0);
          var v = d.useState(
              null !== (a = r.endTime) && void 0 !== a
                ? a
                : Math.floor(b.getTime() / 1e3)
            ),
            E = v[0],
            S = v[1],
            y = function () {
              Object(O.G)(function () {
                (i.GetEventModel().jsondata.bSaleEnabled = !1),
                  i.SetDirty(o.c.jsondata_sales);
              }),
                e.closeModal && e.closeModal();
            },
            T = s.replace(/[^\w-]/g, "").length > 0 && m && E;
          return d.createElement(
            me.a,
            null,
            d.createElement(
              h.h,
              { onEscKeypress: y },
              d.createElement(
                _.f,
                null,
                d.createElement(_.l, null, Object(f.f)("#Sale_EnableTitle")),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    _.c,
                    null,
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "span",
                        null,
                        Object(f.f)("#Sale_EanbleDesc")
                      ),
                      d.createElement(
                        "ol",
                        null,
                        d.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_1")
                        ),
                        d.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_2")
                        )
                      ),
                      d.createElement("br", null),
                      d.createElement(_.m, {
                        type: "text",
                        label: Object(f.f)("#Sale_VanityID"),
                        tooltip: Object(f.f)("#Sale_VanityID_ttip"),
                        onChange: function (e) {
                          return c(e.target.value);
                        },
                        value: s,
                      }),
                      d.createElement(w.a, {
                        strDescription: Object(f.f)("#Sale_New_Start"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return m;
                        },
                        fnSetTimeToUpdate: g,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      }),
                      d.createElement(w.a, {
                        strDescription: Object(f.f)("#Sale_New_End"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return E;
                        },
                        fnSetTimeToUpdate: S,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      })
                    )
                  )
                ),
                d.createElement(
                  _.k,
                  null,
                  d.createElement(_.o, {
                    onCancel: y,
                    bOKDisabled: !T,
                    onOK: function () {
                      Object(O.G)(function () {
                        i.SetSaleVanityID(s),
                          i.SetEventStartTime(m),
                          i.SetEventEndTime(E);
                      }),
                        e.closeModal && e.closeModal();
                    },
                  })
                )
              )
            )
          );
        }),
        at = Object(u.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            i = d.useState(new m.b(t.GetClanSteamID()))[0],
            r = function (e, n, a) {
              (e[a] = n), t.SetDirty(o.c.jsondata_sales);
            },
            l = function (e) {
              Object(M.d)(
                d.createElement(S, {
                  loc_images: e
                    ? n.localized_sale_product_mobile_banner_override
                    : n.localized_sale_product_banner_override,
                  fnSetImage: function (t, a) {
                    e
                      ? (n.localized_sale_product_mobile_banner_override = f.a.Set(
                          n.localized_sale_product_mobile_banner_override,
                          t,
                          a
                        ))
                      : (n.localized_sale_product_banner_override = f.a.Set(
                          n.localized_sale_product_banner_override,
                          t,
                          a
                        ));
                  },
                  editModel: t,
                  artworkType: e
                    ? "product_mobile_banner_override"
                    : "product_banner_override",
                }),
                window
              );
            },
            c = function (e) {
              var t = "SaleSection_" + n.unique_id;
              return e && (t += "_" + e), t;
            },
            u =
              "linear-gradient(0deg, " +
              (n.background_gradient_bottom || "transparent") +
              " 0%, " +
              (n.background_gradient_top || "transparent") +
              " 100%)",
            p = "tabs" !== n.section_type;
          return d.createElement(
            Xt,
            {
              title: Object(f.f)("#Sale_Section_Background_Title"),
              tooltip: Object(f.f)("#Sale_Section_Background_Title_ttip"),
              getMinimized: function () {
                return (t = "background"), (n = !0), e.getMinimized(c(t), n);
                var t, n;
              },
              toggleMinimized: function () {
                return (
                  (t = "background"), (n = !0), void e.toggleMinimized(c(t), n)
                );
                var t, n;
              },
            },
            d.createElement(
              "div",
              { style: { display: "flex" }, className: J.BackgroundSettings },
              d.createElement(
                "div",
                { className: Object(L.a)(j.HalfColumn, J.HalfColumn) },
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_Section_BackgroundColors_Title"),
                  " "
                ),
                d.createElement(
                  _.d,
                  {
                    onClick: function (e) {
                      Object(T.a)(
                        d.createElement(C.a, {
                          onChange: function (e) {
                            r(n, e, "label_color");
                          },
                          color: n.label_color,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: j.EventEditorTextTitle,
                    style: { color: n.label_color },
                  },
                  Object(f.f)("#Sale_Section_Label_Color")
                ),
                !n.disable_background &&
                  d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      _.d,
                      {
                        onClick: function (e) {
                          Object(T.a)(
                            d.createElement(C.a, {
                              onChange: function (e) {
                                return r(n, e, "background_gradient_top");
                              },
                              color: n.background_gradient_top,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: j.EventEditorTextTitle,
                        style: { color: n.label_color, background: u },
                      },
                      Object(f.f)("#Sale_Section_Background_Top")
                    ),
                    d.createElement(
                      _.d,
                      {
                        onClick: function (e) {
                          Object(T.a)(
                            d.createElement(C.a, {
                              onChange: function (e) {
                                return r(n, e, "background_gradient_bottom");
                              },
                              color: n.background_gradient_bottom,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: j.EventEditorTextTitle,
                        style: { color: n.label_color, background: u },
                      },
                      Object(f.f)("#Sale_Section_Background_Bottom")
                    )
                  ),
                d.createElement(mn, {
                  varName: "disable_background",
                  editModel: t,
                  section: n,
                  textToken: "#Sale_Section_DisableBackground",
                  ttipToken: "#Sale_Section_DisableBackground_ttip",
                })
              ),
              Boolean(p && !n.disable_background) &&
                d.createElement(
                  "div",
                  { className: Object(L.a)(j.HalfColumn, J.HalfColumn) },
                  d.createElement(
                    "div",
                    { className: j.EventEditorTextTitle },
                    Object(f.f)("#Sale_Section_BackgroundImage_Title"),
                    " ",
                    d.createElement(qt, {
                      tooltip: Object(f.f)(
                        "#Sale_Section_BackgroundImage_ttip"
                      ),
                    })
                  ),
                  d.createElement(s.b, {
                    bAllowPreviousClanImages: !0,
                    onDropFiles: function (e) {
                      return Object(a.b)(void 0, void 0, void 0, function () {
                        var r, l, s, c, u;
                        return Object(a.e)(this, function (a) {
                          switch (a.label) {
                            case 0:
                              return e && e.length > 0
                                ? ((r = ["sale_section_background"]),
                                  [4, i.AddImage(e[0], 0, r)])
                                : [3, 4];
                            case 1:
                              return a.sent()
                                ? [3, 2]
                                : (console.error(
                                    "SaleSection.OnDropFiles: failed file=" +
                                      e[0].name
                                  ),
                                  Object(M.d)(
                                    d.createElement(h.f, {
                                      strDescription: Object(f.f)(
                                        "#ImagePicker_Error",
                                        e[0].name
                                      ),
                                    }),
                                    window
                                  ),
                                  [3, 4]);
                            case 2:
                              return [4, i.UploadAllFiles(r)];
                            case 3:
                              (l = a.sent()),
                                (s = l[Object.keys(l)[0]]),
                                (c = s ? m.a.GetExtensionString(s) : null),
                                (u = s ? s.image_hash + c : null),
                                (n.background_image = u),
                                t.SetDirty(o.c.jsondata_sales),
                                (a.label = 4);
                            case 4:
                              return [2];
                          }
                        });
                      });
                    },
                    OnClanImageSelected: function (e, i) {
                      return Object(a.b)(void 0, void 0, void 0, function () {
                        var i, r;
                        return Object(a.e)(this, function (a) {
                          return (
                            (i = e ? m.a.GetExtensionString(e) : null),
                            (r = e ? e.image_hash + i : null),
                            (n.background_image = r),
                            t.SetDirty(o.c.jsondata_sales),
                            [2]
                          );
                        });
                      });
                    },
                    clanSteamID: t.GetClanSteamID(),
                    fnSetImageURL: t.SetImageURL,
                    rgRealmList: t.GetIncludedRealmList(),
                  }),
                  d.createElement(
                    R.b,
                    { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                    d.createElement(
                      _.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), l(!1);
                        },
                        "data-tooltip-text": Object(f.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: j.EventEditorTextTitle,
                      },
                      Object(f.f)("#Sale_Seciton_BannerImage_Override")
                    ),
                    d.createElement(
                      _.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), l(!0);
                        },
                        "data-tooltip-text": Object(f.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: j.EventEditorTextTitle,
                      },
                      Object(f.f)("#Sale_Seciton_MobileBannerImage_Override")
                    ),
                    Boolean(
                      void 0 !== n.localized_sale_product_banner_override ||
                        void 0 !==
                          n.localized_sale_product_mobile_banner_override
                    ) &&
                      d.createElement(
                        _.d,
                        {
                          onClick: function () {
                            (n.localized_sale_product_banner_override = void 0),
                              (n.localized_sale_product_mobile_banner_override = void 0),
                              t.SetDirty(o.c.jsondata_sales);
                          },
                          className: j.EventEditorTextTitle,
                        },
                        Object(f.f)("#Sale_Section_BannerImage_Clear")
                      )
                  ),
                  d.createElement(
                    _.d,
                    {
                      onClick: function () {
                        (n.background_image = null),
                          t.SetDirty(o.c.jsondata_sales);
                      },
                      className: j.EventEditorTextTitle,
                    },
                    Object(f.f)("#Sale_Section_Background_Clear")
                  )
                )
            )
          );
        }),
        it = n("4lry"),
        rt = n("Mnbl"),
        ot = n("XBHn"),
        lt = n("N038"),
        st = n("rppr"),
        ct = n.n(st),
        ut = Object(u.a)(function (e) {
          var t = e.editModel;
          return Object(R.a)(t.GetClanSteamID()) && t.BHasSaleEnabled()
            ? d.createElement(
                "div",
                { className: ct.a.AssociatedBuildBody },
                d.createElement(
                  _.d,
                  {
                    onClick: function (t) {
                      return Object(M.d)(
                        d.createElement(dt, { editModel: e.editModel }),
                        Object(A.m)(t)
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Versions_View")
                )
              )
            : null;
        });
      var dt = function (e) {
          var t,
            n,
            a,
            i,
            o,
            l,
            s = e.editModel,
            c = e.closeModal,
            u =
              ((t = s.GetEventModel().clanSteamID),
              (n = s.GetEventModel().GID),
              (a = d.useState(null)),
              (i = a[0]),
              (o = a[1]),
              (l = t.ConvertTo64BitString()),
              d.useEffect(
                function () {
                  if ((o(null), n)) {
                    var e = r.a.CancelToken.source(),
                      t = { event_gid: n },
                      a =
                        N.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        l +
                        "/ajaxgeteventhistory";
                    return (
                      r.a
                        .get(a, {
                          params: t,
                          withCredentials: !0,
                          cancelToken: e.token,
                        })
                        .then(function (t) {
                          var n;
                          if (!e.token.reason) {
                            var a =
                              1 ==
                              (null === (n = null == t ? void 0 : t.data) ||
                              void 0 === n
                                ? void 0
                                : n.success);
                            o(a ? t.data.versions : []);
                          }
                        })
                        .catch(function (t) {
                          if (!e.token.reason) {
                            var n = Object(Ge.a)(t);
                            console.error(
                              "useEventHistory: " + n.strErrorMsg,
                              n
                            );
                          }
                        }),
                      function () {
                        return e.cancel("useEventHistory: unmounting");
                      }
                    );
                  }
                },
                [l, n]
              ),
              i),
            p = function (e) {
              Object(M.d)(
                d.createElement(h.d, {
                  strTitle: Object(f.f)("#EventEditor_VersionsPrompt_Title"),
                  strDescription: Object(f.f)(
                    "#EventEditor_VersionsPrompt_Body"
                  ),
                  onOK: function () {
                    return (function (e, t) {
                      Object(M.d)(
                        d.createElement(pt, { editModel: e, versionID: t }),
                        window
                      );
                    })(s, e.version_id);
                  },
                }),
                window
              );
            },
            m = Boolean(u),
            g =
              null == u
                ? void 0
                : u.map(function (e) {
                    var t = new Date(1e3 * e.time_stamp),
                      n = t.toLocaleDateString() + " " + t.toLocaleTimeString();
                    return d.createElement(
                      "div",
                      { className: ct.a.VersionCtn, key: e.version_id },
                      d.createElement(
                        "div",
                        { className: ct.a.VersionInfoCtn },
                        d.createElement(
                          "div",
                          { className: ct.a.VersionAccount },
                          d.createElement(lt.b, {
                            locToken: "#EventEditor_VersionsUser",
                            accountID: e.account_id,
                          })
                        ),
                        d.createElement(
                          "div",
                          { className: ct.a.VersionDate },
                          n
                        )
                      ),
                      d.createElement(
                        _.d,
                        {
                          className: ct.a.RollbackButton,
                          onClick: function () {
                            return p(e);
                          },
                        },
                        Object(f.f)("#EventEditor_RollbackToVersion")
                      )
                    );
                  });
          return d.createElement(
            me.a,
            null,
            d.createElement(
              M.a,
              { onEscKeypress: c },
              d.createElement(
                _.f,
                null,
                d.createElement(
                  _.l,
                  null,
                  Object(f.f)("#EventEditor_VersionsDialog_Title")
                ),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    _.c,
                    null,
                    Object(f.f)("#EventEditor_VersionsDialog_Body")
                  ),
                  m &&
                    d.createElement(
                      "div",
                      { className: ct.a.VersionListCtn },
                      g,
                      0 == g.length &&
                        d.createElement(
                          "div",
                          { className: ct.a.VersionListEmpty },
                          Object(f.f)("#EventEditor_Versions_NoVersions")
                        )
                    ),
                  !m && d.createElement(he.a, null)
                ),
                d.createElement(
                  _.k,
                  null,
                  d.createElement(
                    _.r,
                    { onClick: c },
                    Object(f.f)("#Button_Close")
                  )
                )
              )
            )
          );
        },
        pt = function (e) {
          var t = e.editModel,
            n = e.versionID,
            a = e.closeModal,
            i = d.useState("rollback"),
            o = i[0],
            l = i[1];
          d.useEffect(
            function () {
              var e = new URLSearchParams();
              e.append("version_id", n), e.append("event_gid", t.GetGID());
              var a =
                N.c.COMMUNITY_BASE_URL +
                "gid/" +
                t.GetClanSteamID().ConvertTo64BitString() +
                "/ajaxrollbackevent";
              r.a
                .post(a, e, { withCredentials: !0 })
                .then(function (e) {
                  var t;
                  1 ==
                  (null === (t = null == e ? void 0 : e.data) || void 0 === t
                    ? void 0
                    : t.success)
                    ? window.location.reload()
                    : l("error");
                })
                .catch(function (e) {
                  l("error");
                });
            },
            [t, n]
          );
          var s = null;
          return (
            (s =
              "rollback" === o
                ? d.createElement(
                    _.f,
                    null,
                    d.createElement(
                      _.l,
                      null,
                      Object(f.f)("#EventEditor_VersionsDialog_RollingBack")
                    ),
                    d.createElement(_.b, null, d.createElement(he.a, null))
                  )
                : d.createElement(
                    _.f,
                    null,
                    d.createElement(
                      _.l,
                      null,
                      Object(f.f)(
                        "#EventEditor_VersionsDialog_RollingBackFailed"
                      )
                    ),
                    d.createElement(
                      _.k,
                      null,
                      d.createElement(
                        _.r,
                        { onClick: a },
                        Object(f.f)("#Button_Close")
                      )
                    )
                  )),
            d.createElement(me.a, null, d.createElement(M.a, null, s))
          );
        },
        mt = n("tzvv"),
        _t = function (e) {
          var t,
            n,
            a,
            i = e.editModel;
          if (
            !(
              Object(R.a)(i.GetClanSteamID(), !1) ||
              (null === (n = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === n
                ? void 0
                : n.length) > 0
            )
          )
            return null;
          var r =
              (null === (a = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0,
            o = function (e, t) {
              return void 0 === t && (t = !1), Wt.IsMinimized(i, e, t);
            },
            l = function (e, t) {
              return void 0 === t && (t = !1), Wt.ToggleMinimized(i, e, t);
            };
          return d.createElement(
            "div",
            {
              id: "SalePageEdit_SortingTiers",
              className: Object(L.a)(
                ((t = {}),
                (t[I.a.ValveOnlyBackground] = !0),
                (t[J.SettingCtn] = !0),
                t)
              ),
            },
            d.createElement(
              "div",
              {
                className: J.Title,
                onDoubleClick: function () {
                  return l("SalePageEdit_SortingTiers", !0);
                },
              },
              Object(f.f)("#Sale_SortingTiersSection", r),
              d.createElement(qt, {
                tooltip: Object(f.f)("#Sale_SortingTiers_SectionTooltip"),
              }),
              d.createElement(Sn, {
                bIsMinimized: o("SalePageEdit_SortingTiers", !0),
                fnToggleMinimize: function () {
                  return l("SalePageEdit_SortingTiers", !0);
                },
              })
            ),
            !o("SalePageEdit_SortingTiers", !0) &&
              d.createElement(ht, { editModel: i })
          );
        },
        gt = function (e) {
          return d.createElement(
            "div",
            { className: mt.SortTierControls },
            d.createElement(Me, {
              capsuleContainer: e.sortTier,
              editModel: e.editModel,
              uniqueKey: "sort_tier_" + e.tierIndex,
              disableDaySelection: !0,
            })
          );
        },
        ht = Object(u.a)(function (e) {
          var t,
            n = e.editModel,
            a = d.useState(!1),
            i = a[0],
            r = a[1],
            l =
              null !== (t = n.GetEventModel().jsondata.sorting_tiers) &&
              void 0 !== t
                ? t
                : [];
          return i || l.length
            ? d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  null,
                  Object(f.f)("#Sale_SortTier_Description")
                ),
                (n.GetSaleSections() || []).map(function (e) {
                  return "items" == e.section_type && e.use_random_order
                    ? d.createElement(_e.h, {
                        key: "sorttier_" + e.unique_id,
                        section: e,
                        language: n.GetCurEditLanguage(),
                        event: n.GetEventModel(),
                      })
                    : null;
                }),
                d.createElement(D.a, {
                  items: l,
                  onDelete: function (e) {
                    n.GetEventModel().jsondata.sorting_tiers.splice(e, 1);
                  },
                  onReorder: function () {
                    return n.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (e) {
                    return d.createElement(gt, {
                      editModel: n,
                      tierIndex: l.findIndex(function (t) {
                        return t === e;
                      }),
                      sortTier: e,
                    });
                  },
                }),
                d.createElement(
                  _.d,
                  {
                    onClick: function () {
                      n.GetEventModel().jsondata.sorting_tiers ||
                        (n.GetEventModel().jsondata.sorting_tiers = []),
                        n
                          .GetEventModel()
                          .jsondata.sorting_tiers.push({ capsules: [] }),
                        n.SetDirty(o.c.jsondata_sales);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Add")
                )
              )
            : d.createElement(
                "div",
                null,
                Object(f.f)("#Sale_SortTier_EnableInfo"),
                d.createElement(
                  _.d,
                  {
                    onClick: function () {
                      return r(!0);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Enable")
                )
              );
        }),
        ft = n("wLVu"),
        bt = function (e) {
          var t = new Array();
          return (
            e.rows.forEach(function (n) {
              t.push(
                d.createElement(
                  "div",
                  {
                    key: "tc_" + n.strSectionId,
                    id: "tc_" + n.strSectionId,
                    className: Object(L.a)(
                      ft.TOCEntry,
                      n.bSectionIsVisible && ft.SectionOnScreen,
                      n.strClassName,
                      n.bIndent && ft.TOCIndent
                    ),
                    onClick: function () {
                      e.onSelected && e.onSelected(n);
                      var t = document.getElementById(n.strSectionId);
                      t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                    },
                  },
                  d.createElement(
                    "div",
                    { style: n.style || null, className: ft.TOCEntryText },
                    n.strLabel
                  )
                )
              );
            }),
            d.createElement(
              "div",
              { className: ft.TableOfContentsContainer },
              d.createElement(
                "div",
                { className: ft.ManageLocCtn },
                d.createElement(
                  "div",
                  { className: ft.Header },
                  Object(f.f)("#EventEditor_Loc_Title")
                ),
                d.createElement(
                  "div",
                  { className: ft.ManageLocContents },
                  Object(f.f)("#EventEditor_Loc_Overview"),
                  d.createElement(
                    "div",
                    { className: ft.LocButtonsCtn },
                    e.elTopContent
                  )
                )
              ),
              d.createElement(
                "div",
                { className: ft.TableOfContents },
                d.createElement("div", { className: ft.Header }, e.strHeader),
                t,
                e.elBottomContent
              )
            )
          );
        },
        vt = n("ZeAL"),
        Et = n("Yamg"),
        St = n("3+zv"),
        yt = n("1AZ/"),
        Ot = n("UWWC"),
        Tt = n("4P4B"),
        Ct = n("nxSy"),
        jt = n("MnIK"),
        It = n("6Y59"),
        wt = n("+d9t"),
        Mt = n("d+Me"),
        Dt = n("YyVH"),
        kt = n("IzPI"),
        Gt = n("UCyf"),
        Lt = n("5izx"),
        At = n("BRUS"),
        Bt = n("66At"),
        Nt = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnShowOnlySaleWhiteListedBroadcasts = function (e) {
              this.props.editModel.GetEventModel().jsondata
                .sale_only_whitelisted_broadcasts !== e &&
                ((this.props.editModel.GetEventModel().jsondata.sale_only_whitelisted_broadcasts = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.BIsFirstBroadcastSaleSection = function () {
              for (var e = 0; e < this.props.index; e++) {
                if (
                  "broadcast" ==
                  this.props.editModel.GetEventModel().GetSaleSections()[e]
                    .section_type
                )
                  return !1;
              }
              return !0;
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                n =
                  (e.saleSection,
                  d.createElement(
                    q.c,
                    {
                      eventModel: t.GetEventModel(),
                      route: q.a.k_eCommunityEditBroadcast,
                      className: J.CrossTabLink,
                    },
                    Object(f.f)("#Sale_Broadcast_TabLink")
                  ));
              return t.GetEventModel().BHasBroadcastEnabled()
                ? this.BIsFirstBroadcastSaleSection()
                  ? d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(
                        "div",
                        { className: j.InputBorder },
                        d.createElement(_.q, {
                          onChange: this.OnShowOnlySaleWhiteListedBroadcasts,
                          label: Object(f.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale"
                          ),
                          tooltip: Object(f.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale_ttip"
                          ),
                          checked: t.GetEventModel().jsondata
                            .sale_only_whitelisted_broadcasts,
                        })
                      ),
                      n
                    )
                  : d.createElement(
                      "div",
                      { className: J.CrossTabWarning },
                      Object(f.f)("#Sale_ShowingBroadcastElsewhere")
                    )
                : d.createElement(
                    d.Fragment,
                    null,
                    n,
                    d.createElement(
                      "div",
                      { className: J.CrossTabWarning },
                      Object(f.f)("#Sale_Broadcast_Disabled"),
                      d.createElement(qt, {
                        tooltip: Object(f.f)("#Sale_Broadcast_Disabled_hint"),
                      })
                    )
                  );
            }),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnShowOnlySaleWhiteListedBroadcasts",
              null
            ),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Ft = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_currentRequest = 0),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "CuratorSaleSection component unmounted"
              ),
                window.clearTimeout(this.m_currentRequest);
            }),
            (t.prototype.SetCurator = function (e) {
              this.props.saleSection.curator_clan_id != e.GetClanAccountID() &&
                ((this.props.saleSection.curator_clan_id = e.GetClanAccountID()),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.UpdateCuratorSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(a.b)(n, void 0, void 0, function () {
                          var e,
                            n = this;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                return [
                                  4,
                                  V.a.SearchCreatorHomeStore(
                                    t,
                                    !1,
                                    this.m_cancelSignal
                                  ),
                                ];
                              case 1:
                                return (
                                  (e = a.sent()),
                                  (this.m_searchResultsMenu = Object(T.a)(
                                    d.createElement(
                                      W.c,
                                      { className: J.SearchResults },
                                      e.map(function (e) {
                                        return d.createElement(
                                          W.d,
                                          {
                                            key:
                                              "curatorresult" +
                                              e.GetClanAccountID(),
                                            onSelected: function () {
                                              return n.SetCurator(e);
                                            },
                                          },
                                          d.createElement(
                                            "div",
                                            {
                                              style: {
                                                display: "flex",
                                                alignItems: "center",
                                              },
                                            },
                                            d.createElement(
                                              "div",
                                              {
                                                className:
                                                  Y.a.GameImageContainer,
                                              },
                                              d.createElement("img", {
                                                src: e.GetAvatarURLFullSize(),
                                                className: Y.a.AvatarImage,
                                              })
                                            ),
                                            Object(Q.b)(e.GetName())
                                          )
                                        );
                                      })
                                    ),
                                    this.m_refInput.element,
                                    {
                                      bOverlapHorizontal: !0,
                                      bMatchWidth: !0,
                                      bFitToWindow: !0,
                                      bDisablePopTop: !0,
                                    }
                                  )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection;
              return d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: J.SaleImportURL },
                  d.createElement(_.m, {
                    type: "text",
                    label: Object(f.f)("#Sale_SearchCurator"),
                    onChange: this.UpdateCuratorSuggestions,
                    onBlur: function () {
                      setTimeout(function () {
                        return (
                          e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                        );
                      }, 200);
                    },
                    ref: function (t) {
                      return (e.m_refInput = t);
                    },
                    tooltip: Object(f.f)("#Sale_SearchCurator_ttip"),
                  })
                ),
                Boolean(t.curator_clan_id) &&
                  d.createElement(At.a, {
                    creatorID: {
                      name: null,
                      clan_account_id: t.curator_clan_id,
                      type: "developer",
                    },
                    bShowTagline: !0,
                    bHideCreatorType: !0,
                  })
              );
            }),
            Object(a.c)([b.a], t.prototype, "SetCurator", null),
            Object(a.c)([b.a], t.prototype, "UpdateCuratorSuggestions", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Rt = Object(u.a)(function (e) {
          for (
            var t = e.editModel, n = e.index, a = t.GetEventModel(), i = 0;
            i < n;
            i++
          )
            if ("event_description" == a.GetSaleSections()[i].section_type)
              return d.createElement(
                "div",
                { className: J.CrossTabWarning },
                Object(f.f)("#Sale_UsingEventBodyElsewhere")
              );
          return d.createElement(
            q.c,
            {
              eventModel: a,
              route: q.a.k_eCommunityEdit,
              className: J.CrossTabLink,
            },
            Object(f.f)("#Sale_EventDescriptionTabLink")
          );
        }),
        xt = Object(u.a)(function (e) {
          var t,
            n = e.editModel,
            i = e.index,
            l = n.GetEventModel(),
            s = l.GetSaleSections()[i],
            c = d.useState(!0),
            u = c[0],
            p = c[1];
          if (
            (d.useEffect(
              function () {
                var e = null;
                if (u)
                  if (
                    ((e = r.a.CancelToken.source()), s.featured_curator_list)
                  ) {
                    var t = new Array();
                    s.featured_curator_list.forEach(function (n) {
                      var a = P.a.InitFromClanID(n.clanAccountID);
                      t.push(Gt.a.Get().LoadListDetails(a, n.listID, e));
                    }),
                      Promise.all(t).then(function () {
                        return p(!1);
                      });
                  } else (s.featured_curator_list = []), p(!1);
                return function () {
                  return null == e
                    ? void 0
                    : e.cancel("CuratorRecommendationWidgetEditor: unmounting");
                };
              },
              [u, s]
            ),
            u)
          )
            return d.createElement(he.a, {
              size: "medium",
              string: Object(f.f)("#Loading"),
            });
          for (var m = !1, g = 0; g < i; g++)
            if (
              "curator_recommendation" == l.GetSaleSections()[g].section_type
            ) {
              m = !0;
              break;
            }
          return d.createElement(
            "div",
            null,
            d.createElement(
              "div",
              null,
              Object(f.f)("#Sale_CuratorRecommendation_desc")
            ),
            d.createElement("br", null),
            d.createElement(w.a, {
              strDescription: Object(f.f)(
                "#Sale_CuratorRecommendation_StartTime"
              ),
              strDescToolTip: Object(f.f)(
                "#Sale_CuratorRecommendation_StartTime_ttip"
              ),
              nEarliestTime: n.GetEventStartTime(),
              nLatestTime: n.GetEventEndTime(),
              fnGetTimeToUpdate: function () {
                return (
                  s.featured_curator_list_rtime_start || n.GetEventStartTime()
                );
              },
              fnSetTimeToUpdate: function (e) {
                (e = re(e)),
                  s.featured_curator_list_rtime_start != e &&
                    ((s.featured_curator_list_rtime_start = e),
                    n.SetDirty(o.c.jsondata_sales));
              },
              fnIsValidDateTime: function () {
                return !0;
              },
              bShowTimeZone: !0,
            }),
            d.createElement(
              "div",
              { className: j.EventEditorTextTitle },
              Object(f.f)("#Sale_CuratorRecommendation_FeaturedList"),
              d.createElement(qt, {
                tooltip: Object(f.f)(
                  "#Sale_CuratorRecommendation_FeaturedList_ttip"
                ),
              })
            ),
            d.createElement(D.a, {
              items: s.featured_curator_list,
              onDelete: function (e) {
                s.featured_curator_list.splice(e, 1),
                  n.SetDirty(o.c.jsondata_sales);
              },
              onReorder: function () {
                return n.SetDirty(o.c.jsondata_sales);
              },
              render: function (e) {
                return d.createElement(Pt, { tuple: e });
              },
            }),
            d.createElement(
              _.d,
              {
                onClick: function (t) {
                  Object(M.d)(
                    d.createElement(Ut, Object(a.a)({}, e, { saleSection: s })),
                    Object(A.m)(t)
                  );
                },
              },
              Object(f.f)("#Sale_CuratorRecommendation_ChooseList")
            ),
            Boolean(
              (null === (t = s.featured_curator_list) || void 0 === t
                ? void 0
                : t.length) >= 2
            ) &&
              d.createElement(mn, {
                varName: "use_random_order",
                editModel: n,
                section: s,
                textToken: "#Sale_Section_FeaturedCurator_UseRandomOrder",
                ttipToken: "#Sale_Section_FeaturedCurator_UseRandomOrder_hint",
              }),
            m &&
              d.createElement(
                "div",
                { className: J.CrossTabWarning },
                Object(f.f)("#Sale_UsingCuratorRecommendationElsewhere")
              )
          );
        });
      var Pt = Object(u.a)(function (e) {
          if (
            ((n = e.tuple),
            "object" == typeof (a = n) &&
              "number" == typeof a.clanAccountID &&
              "string" == typeof a.listID)
          ) {
            var t = Gt.a.Get().GetListDetails(e.tuple.listID);
            return t
              ? d.createElement("div", null, t.title)
              : d.createElement(he.a, {
                  size: "small",
                  string: Object(f.f)("#Loading"),
                });
          }
          var n, a;
          return d.createElement("div", null, Object(f.f)("#Error"));
        }),
        Ut = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            i = n.GetClanSteamID(),
            l = n.GetGID(),
            s = d.useState(!0),
            c = s[0],
            u = s[1],
            p = d.useState(null),
            m = p[0],
            g = p[1],
            b = function () {
              return e.closeModal && e.closeModal();
            },
            v =
              n.GetEventModel().BIsVisibleEvent() &&
              n.GetEventStartTime() < Lt.a.GetTimeNowWithOverride();
          d.useEffect(
            function () {
              var e = null;
              return (
                v
                  ? ((e = r.a.CancelToken.source()),
                    Gt.a
                      .Get()
                      .LoadAllSaleCurationLists(i, l, e)
                      .then(function (e) {
                        if ((null == e ? void 0 : e.length) > 0) {
                          var t = new Array();
                          e.forEach(function (e) {
                            var n = Gt.a
                                .Get()
                                .GetClanAccountFromListID(e.listid),
                              a = P.a.InitFromClanID(n);
                            t.push(U.a.LoadClanInfoForClanSteamID(a));
                          }),
                            Promise.all(t).then(function () {
                              return u(!1);
                            });
                        }
                      }))
                  : u(!1),
                function () {
                  return null == e
                    ? void 0
                    : e.cancel("FeatureCuratorListDialog: unmounting");
                }
              );
            },
            [v, i, l]
          );
          var E = {
              option: function (e) {
                return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
              },
            },
            S = new Array();
          Gt.a
            .Get()
            .GetAllSaleCurationLists(n.GetGID())
            .forEach(function (e) {
              if (
                -1 ==
                t.featured_curator_list.findIndex(function (t) {
                  return t.listID == e.listid;
                })
              ) {
                var n = Gt.a.Get().GetClanAccountFromListID(e.listid);
                S.push({ clanAccountID: n, list: e });
              }
            });
          var y = S.map(function (e) {
            var t = U.a.GetClanInfoByClanAccountID(e.clanAccountID),
              n = t ? t.group_name : "GroupID " + e.clanAccountID;
            return { label: (n += ": " + e.list.title), value: e.list.listid };
          });
          return d.createElement(
            me.a,
            null,
            d.createElement(
              h.h,
              { onEscKeypress: b },
              d.createElement(
                _.f,
                null,
                d.createElement(
                  _.l,
                  null,
                  Object(f.f)("#Sale_CuratorRecommendation_ChooseList")
                ),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    _.c,
                    null,
                    d.createElement(
                      "div",
                      null,
                      Object(f.f)("#Sale_CuratorRecommendation_ChooseDesc")
                    ),
                    v
                      ? d.createElement(
                          "div",
                          { className: Bt.SelectArea },
                          c
                            ? d.createElement(he.a, {
                                size: "medium",
                                string: Object(f.f)("#Loading"),
                              })
                            : d.createElement(ve.a, {
                                styles: E,
                                className: Bt.dropDown,
                                isSearchable: !0,
                                isMulti: !1,
                                options: y,
                                defaultMenuIsOpen: !1,
                                value: m,
                                onChange: function (e) {
                                  return g(e);
                                },
                              })
                        )
                      : d.createElement(
                          "div",
                          { className: Bt.DisplayWarning },
                          Object(f.f)(
                            "#Sale_CuratorRecommendation_ChooseInvalid"
                          )
                        )
                  )
                ),
                d.createElement(
                  _.k,
                  null,
                  d.createElement(_.o, {
                    onCancel: b,
                    bOKDisabled: null == m,
                    onOK: function () {
                      var e = m.value;
                      t.featured_curator_list.push({
                        clanAccountID: Gt.a.Get().GetClanAccountFromListID(e),
                        listID: e,
                      }),
                        n.SetDirty(o.c.jsondata_sales),
                        b();
                    },
                  })
                )
              )
            )
          );
        }),
        Vt = n("GOhU"),
        Ht = (function () {
          function e() {}
          return (
            (e.prototype.EnsureLoaded = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e;
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.m_hubs
                        ? [3, 2]
                        : ((e = this), [4, this.Load()]);
                    case 1:
                      (e.m_hubs = t.sent()), (t.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.GetHubs = function () {
              return this.m_hubs;
            }),
            (e.prototype.Load = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, o, l, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (t =
                          N.c.STORE_BASE_URL +
                          "contenthub/ajaxgetcontenthubnames"),
                        (n = { origin: self.origin }),
                        [4, r.a.get(t, { params: n })]
                      );
                    case 1:
                      return 1 !== (i = a.sent()).data.success
                        ? [2, null]
                        : ((e = i.data), [3, 3]);
                    case 2:
                      return a.sent(), [2, null];
                    case 3:
                      for (
                        (o = new Map()).set("", Object(f.f)("#Broadcast_None")),
                          l = 0,
                          s = Object.keys(e.hub_names);
                        l < s.length;
                        l++
                      )
                        (c = s[l]), o.set(c, e.hub_names[c]);
                      return [2, o];
                  }
                });
              });
            }),
            (e.Get = function () {
              return e.s_singleton || (e.s_singleton = new e()), e.s_singleton;
            }),
            Object(a.c)([O.C], e.prototype, "m_hubs", void 0),
            e
          );
        })();
      var zt = new ((function () {
          function e() {
            this.m_mapVisibleSections = new Map();
          }
          return (
            (e.prototype.WrapWithNavWaypoint = function (e, t) {
              return d.createElement(
                me.a,
                { key: "eb_sale_sect_" + e },
                d.createElement(
                  Mt.a,
                  {
                    key: "waypoint_sale_sect_" + e,
                    onEnter: function () {
                      return zt.m_mapVisibleSections.set(e, e);
                    },
                    onLeave: function () {
                      return zt.m_mapVisibleSections.delete(e);
                    },
                    topOffset: "100px",
                    bottomOffset: "100px",
                  },
                  d.createElement("div", null, t)
                )
              );
            }),
            Object(a.c)([O.C], e.prototype, "m_mapVisibleSections", void 0),
            e
          );
        })())(),
        Wt = new ((function () {
          function e() {
            (this.m_mapMinimizedState = new Map()),
              (this.m_setLoaded = new Set());
          }
          return (
            (e.prototype.EnsureLoaded = function (e) {
              var t = e.GetGID();
              if (!this.m_setLoaded.has(t)) {
                var n = Object(l.a)("esmin-" + t) || {};
                this.m_mapMinimizedState.set(t, n), this.m_setLoaded.add(t);
              }
            }),
            (e.prototype.IsMinimized = function (e, t, n) {
              var a = this.m_mapMinimizedState.get(e.GetGID()),
                i = a ? a[t] : void 0;
              return void 0 === i ? n : Boolean(i);
            }),
            (e.prototype.ToggleMinimized = function (e, t, n) {
              var a = this.m_mapMinimizedState.get(e.GetGID()) || {},
                i = a[t],
                r = void 0 === i ? n : Boolean(i);
              (a[t] = !r), Object(l.b)("esmin-" + e.GetGID(), a);
            }),
            (e.prototype.SetMinimizedList = function (e, t, n) {
              for (
                var a = this.m_mapMinimizedState.get(e.GetGID()) || {},
                  i = 0,
                  r = t;
                i < r.length;
                i++
              ) {
                a[r[i]] = n;
              }
              Object(l.b)("esmin-" + e.GetGID(), a);
            }),
            (e.prototype.BHasExplicitSettings = function (e) {
              return !!Object(l.a)("esmin-" + e.GetGID());
            }),
            Object(a.c)([O.k], e.prototype, "EnsureLoaded", null),
            Object(a.c)([O.k], e.prototype, "ToggleMinimized", null),
            Object(a.c)([O.k], e.prototype, "SetMinimizedList", null),
            Object(a.c)([O.C], e.prototype, "m_mapMinimizedState", void 0),
            e
          );
        })())(),
        qt = function (e) {
          return d.createElement(
            "span",
            { "data-tooltip-text": e.tooltip, className: j.HelperTooltip },
            "",
            d.createElement(It.z, null)
          );
        };
      function Kt(e, t) {
        return e.disable_background
          ? { background: "transparent" }
          : Object(_e.f)(e, t);
      }
      var Yt = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.state = {
                saleImportUrl: "",
                strRequiredAppInput: "",
                strRequiredPackageInput: "",
              }),
              (n.m_cancelSignal = r.a.CancelToken.source()),
              Wt.EnsureLoaded(t.editModel),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e, t;
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [
                        4,
                        V.a.LoadCreatorHome(
                          this.props.editModel.GetClanSteamID(),
                          this.m_cancelSignal
                        ),
                      ];
                    case 1:
                      return (
                        (n = a.sent()),
                        (i = this.props.editModel
                          .GetEventModel()
                          .BIsLockedToGameOwners()
                          ? null ===
                              (e = this.props.editModel
                                .GetEventModel()
                                .GetRequiredAppIDs()) || void 0 === e
                            ? void 0
                            : e.join(",")
                          : ""),
                        (r = this.props.editModel
                          .GetEventModel()
                          .BIsLockedToGameOwners()
                          ? null ===
                              (t = this.props.editModel
                                .GetEventModel()
                                .GetRequiredPackageIDs()) || void 0 === t
                            ? void 0
                            : t.join(",")
                          : ""),
                        this.setState({
                          creatorHome: n,
                          strRequiredAppInput: i,
                          strRequiredPackageInput: r,
                        }),
                        !Wt.BHasExplicitSettings(this.props.editModel) &&
                          this.props.editModel.GetSaleSectionCount() > 10 &&
                          this.MinimizeAllSaleSections(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "PartnerEventSale component unmounted"
              );
            }),
            (t.prototype.ToggleMinimizeSection = function (e, t) {
              return (
                void 0 === t && (t = !1),
                Wt.ToggleMinimized(this.props.editModel, e, t)
              );
            }),
            (t.prototype.MinimizeAllSaleSections = function () {
              var e = this.props.editModel.GetSaleSections().map(function (e) {
                return "SaleSection_" + e.unique_id;
              });
              e.push(
                "SalePageEdit_Config",
                "sale_header",
                "sale_artwork_section",
                "product_banner",
                "product_mobile_banner",
                "SalePageEdit_TaggedItems"
              ),
                Wt.SetMinimizedList(this.props.editModel, e, !0);
            }),
            (t.prototype.ReorderSaleSections = function () {
              Object(M.c)(
                d.createElement(En, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnSaleChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata[e.target.name] =
                e.target.value),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSaleColorChange = function (e, t) {
              (this.props.editModel.GetEventModel().jsondata[t] = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnOpenButtonTextColor = function (e) {
              var t = this,
                n = this.props.editModel.GetEventModel().jsondata,
                a = n.sale_browsemore_color;
              n.sale_browsemore_bgcolor;
              Object(T.a)(
                d.createElement(C.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(e, "sale_browsemore_color");
                  },
                  color: a,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.OnOpenButtonBackgroundColor = function (e) {
              var t = this,
                n = this.props.editModel.GetEventModel().jsondata,
                a = (n.sale_browsemore_color, n.sale_browsemore_bgcolor);
              Object(T.a)(
                d.createElement(C.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(e, "sale_browsemore_bgcolor");
                  },
                  color: a,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.OnSaleOptionChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.bSaleEnabled = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales),
                e &&
                  Object(M.d)(
                    d.createElement(nt, { editModel: this.props.editModel }),
                    window
                  );
            }),
            (t.prototype.OnShowCreatorChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_show_creator = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnBrowseMoreButtonChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_browse_more_button = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnImportSaleChange = function (e) {
              this.setState({ saleImportUrl: e.target.value });
            }),
            (t.prototype.OnSaleFontChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_font =
                e.data.fontFamily),
                (this.props.editModel.GetEventModel().jsondata.sale_font_weight =
                  e.data.fontWeight),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnCapitalizeSectionChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_section_disable_capitalize = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnOptInPageChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_opt_in_page_name =
                e.target.value),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnValveHostOnTopSalesPathChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSectionTitleFontSizeChange = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_section_font_size = Number(
                e.target.value
              )),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnImportSaleSubmit = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, l, s;
                return Object(a.e)(this, function (c) {
                  switch (c.label) {
                    case 0:
                      return this.state.saleImportUrl
                        ? [4, r.a.get(this.state.saleImportUrl + "?json=1")]
                        : [3, 2];
                    case 1:
                      for (n in ((e = c.sent()),
                      (t = e.data),
                      (this.props.editModel.GetEventModel().jsondata.sale_sections = []),
                      t.sections))
                        "0" !== n &&
                          Number(n) &&
                          ((i = t.sections[n]),
                          (l = Object(a.a)({}, St.h)),
                          "string" == typeof i.label &&
                            (l.localized_label = Object(G.e)(
                              [i.label],
                              30,
                              null
                            )),
                          (l.background_color = i.section_bg_color),
                          (l.background_gradient_top = i.section_bg_color),
                          (l.background_gradient_bottom = i.section_bg_color),
                          (l.label_color = i.label_color),
                          (l.capsules_per_row = i.capsules),
                          (l.use_random_order = i.random_order),
                          (s = t.capsules["n_section_" + n]) &&
                            (l.capsules = s.capsules.map(function (e) {
                              var t = "game";
                              e.packageid
                                ? (t = "sub")
                                : e.bundleid && (t = "bundle");
                              var n = {
                                type: t,
                                id: Number(
                                  e.bundleid || e.packageid || e.appid
                                ),
                              };
                              return (
                                "bundle" === n.type
                                  ? de.a.LoadBundleInfo([Number(n.id)])
                                  : "sub" === n.type
                                  ? pe.b.LoadPackageInfo([Number(n.id)])
                                  : Ce.a.EnsureAppInfoForAppIDs(
                                      new Set([Number(n.id)])
                                    ),
                                n
                              );
                            })),
                          this.props.editModel
                            .GetEventModel()
                            .jsondata.sale_sections.push(l));
                      this.props.editModel.SetDirty(o.c.jsondata_sales),
                        (c.label = 2);
                    case 2:
                      return this.setState({ saleImportUrl: "" }), [2];
                  }
                });
              });
            }),
            (t.prototype.OnCreateUpdateDiscountEvent = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  o = this;
                return Object(a.e)(this, function (l) {
                  switch (l.label) {
                    case 0:
                      return (
                        (e = []),
                        this.props.editModel
                          .GetEventModel()
                          .jsondata.sale_sections.forEach(function (t) {
                            t.capsules.forEach(function (t) {
                              return Object(a.b)(
                                o,
                                void 0,
                                void 0,
                                function () {
                                  var n, i;
                                  return Object(a.e)(this, function (a) {
                                    switch (a.label) {
                                      case 0:
                                        return "bundle" !== t.type
                                          ? [3, 2]
                                          : ((n = de.a.GetBundleInfo(t.id)),
                                            [
                                              4,
                                              pe.b.LoadPackageInfo(
                                                n.packageids
                                              ),
                                            ]);
                                      case 1:
                                        return (
                                          a.sent(),
                                          n.packageids.forEach(function (t) {
                                            var n = pe.b.GetPackageInfo(
                                              Number(t)
                                            );
                                            e.push.apply(e, n.appids);
                                          }),
                                          [3, 5]
                                        );
                                      case 2:
                                        return "sub" !== t.type
                                          ? [3, 4]
                                          : [4, pe.b.LoadPackageInfo([t.id])];
                                      case 3:
                                        return (
                                          a.sent(),
                                          (i = pe.b.GetPackageInfo(t.id)),
                                          e.push.apply(e, i.appids),
                                          [3, 5]
                                        );
                                      case 4:
                                        Object(x.b)(t.type) &&
                                          e.push(Number(t.id)),
                                          (a.label = 5);
                                      case 5:
                                        return [2];
                                    }
                                  });
                                }
                              );
                            });
                          }),
                        (e = Array.from(new Set(e))).sort(),
                        (t = new FormData()).append("sessionid", N.c.SESSIONID),
                        t.append(
                          "name",
                          "[AUTO] " + this.props.editModel.GetName()
                        ),
                        t.append("event", "1"),
                        t.append("type", "discount"),
                        t.append("header", this.props.editModel.GetName()),
                        t.append("appids", e.join(",")),
                        t.append(
                          "start_date",
                          this.props.editModel.GetEventStartTime().toString()
                        ),
                        t.append(
                          "end_date",
                          this.props.editModel.GetEventEndTime().toString()
                        ),
                        t.append(
                          "description",
                          "#discount_desc_preset_special"
                        ),
                        this.props.editModel.GetEventModel().jsondata
                          .sale_discount_event_id &&
                          t.append(
                            "discount_id",
                            this.props.editModel
                              .GetEventModel()
                              .jsondata.sale_discount_event_id.toString()
                          ),
                        [
                          4,
                          r.a.post(
                            N.c.COMMUNITY_BASE_URL +
                              "actions/ajaxcreateupdatediscountevent",
                            t,
                            { withCredentials: !0 }
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (n = l.sent()),
                        (i =
                          n.data.discountid ||
                          this.props.editModel.GetEventModel().jsondata
                            .sale_discount_event_id),
                        this.props.editModel.GetEventModel().jsondata
                          .sale_discount_event_id ||
                          (this.props.editModel.GetEventModel().jsondata.sale_discount_event_id = i),
                        Object(M.c)(
                          d.createElement(ot.b, {
                            editModel: this.props.editModel,
                            bSkipChecks: !0,
                            OnSuccess: function () {
                              window.open(
                                N.c.PARTNER_BASE_URL +
                                  "admin/editdiscountevent/" +
                                  i
                              );
                            },
                          }),
                          window
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnCustomCSSChange = function (e) {
              this.props.editModel.GetEventModel().jsondata.sale_custom_css !=
                e.currentTarget.value &&
                ((this.props.editModel.GetEventModel().jsondata.sale_custom_css =
                  e.currentTarget.value),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnOwnershipRestrictionChange = function (e) {
              var t = this.props.editModel.GetEventModel().jsondata;
              t.ownership_requirement_info
                ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                : (t.ownership_requirement_info = {
                    bLockedToAppOwners: e,
                    rgRequiredAppIDs: [],
                    rgRequiredPackageIDs: [],
                    strRedirectURL: "",
                  }),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnPartnerAppRightsChange = function (e) {
              var t = this.props.editModel.GetEventModel().jsondata;
              t.app_right_requirement_info
                ? (t.app_right_requirement_info.bLockedToPartnerAppRights = e)
                : (t.app_right_requirement_info = {
                    bLockedToPartnerAppRights: e,
                    nAppRightFlag: yt.a.GetAppRightFlags([yt.b.EditInfo]),
                  }),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnRequiredAppIdChange = function (e) {
              if (this.state.strRequiredAppInput != e.target.value) {
                this.setState({ strRequiredAppInput: e.target.value });
                var t = this.props.editModel
                    .GetEventModel()
                    .GetRequiredAppIDs(),
                  n = e.target.value
                    .split(",")
                    .map(Number)
                    .filter(function (e) {
                      return e > 0;
                    });
                t.splice.apply(t, Object(a.g)([0, t.length], n)),
                  this.props.editModel.SetDirty(o.c.jsondata_sales);
              }
            }),
            (t.prototype.OnRequiredPackageIdChange = function (e) {
              if (this.state.strRequiredPackageInput != e.target.value) {
                this.setState({ strRequiredPackageInput: e.target.value });
                var t = this.props.editModel
                    .GetEventModel()
                    .GetRequiredPackageIDs(),
                  n = e.target.value
                    .split(",")
                    .map(Number)
                    .filter(function (e) {
                      return e > 0;
                    });
                t.splice.apply(t, Object(a.g)([0, t.length], n)),
                  this.props.editModel.SetDirty(o.c.jsondata_sales);
              }
            }),
            (t.prototype.OnUseSubscriptionLayoutChanged = function (e) {
              (this.props.editModel.GetEventModel().jsondata.sale_use_subscription_layout = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnNonOwnerRedirectChange = function (e) {
              this.props.editModel.GetEventModel().jsondata
                .ownership_requirement_info.strRedirectURL != e.target.value &&
                ((this.props.editModel.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                  e.target.value),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.GetMinimized = function (e, t) {
              return (
                void 0 === t && (t = !1),
                Wt.IsMinimized(this.props.editModel, e, t)
              );
            }),
            (t.prototype.ExpandSectionFromTOC = function (e) {
              this.GetMinimized(e.strSectionId) &&
                this.ToggleMinimizeSection(e.strSectionId);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel,
                n = this.props.editModel.GetEventModel().jsondata,
                i = n.sale_vanity_id,
                r = n.sale_browsemore_url,
                o = n.sale_browsemore_color,
                l = n.sale_browsemore_bgcolor,
                s = n.sale_font,
                c = n.sale_font_weight,
                u = n.sale_section_disable_capitalize,
                p = n.sale_opt_in_page_name,
                m = n.sale_section_font_size,
                h = n.sale_vanity_id_valve_approved_for_sale_subpath,
                b = [
                  { label: "Default", data: { fontFamily: "" } },
                  {
                    label: "Default, Bold",
                    data: {
                      fontFamily: "'Motiva Sans', 'Play', sans-serif",
                      fontWeight: "bold",
                    },
                  },
                  {
                    label: "Jolly Lodger (Halloween)",
                    data: {
                      fontFamily:
                        "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
                    },
                  },
                  {
                    label: "Sigmar One",
                    data: { fontFamily: "'Sigmar One', sans-serif" },
                  },
                ].map(function (e) {
                  return Object(a.a)(Object(a.a)({}, e), {
                    label: d.createElement(
                      "div",
                      { style: Object(a.a)({}, e.data) },
                      e.label
                    ),
                  });
                }),
                v = b.find(function (e) {
                  return e.data.fontFamily == s && e.data.fontWeight == c;
                }),
                E = v && v.data,
                S = null;
              return (
                i && !h && this.state.creatorHome
                  ? (S =
                      this.state.creatorHome.GetCreatorHomeURL("publisher") +
                      "sale/" +
                      i)
                  : i && h && (S = N.c.STORE_BASE_URL + "sale/" + i),
                d.createElement(
                  "div",
                  { className: Object(L.a)(J.SaleContainer, "SaleContainer") },
                  d.createElement(
                    "div",
                    { className: j.EventEditorTextTitleCtn },
                    d.createElement(
                      "span",
                      { className: j.EventEditorTextTitle },
                      Object(f.f)("#Sale_title")
                    ),
                    d.createElement(
                      wt.b,
                      {
                        href:
                          N.c.PARTNER_BASE_URL +
                          "doc/resources/Sales_Feature_Beta",
                        className: Object(L.a)(j.doclink),
                      },
                      d.createElement(
                        "span",
                        null,
                        Object(f.f)("#Broadcast_documentation")
                      )
                    )
                  ),
                  d.createElement(
                    "div",
                    { className: j.InputBorder },
                    d.createElement(_.q, {
                      onChange: this.OnSaleOptionChange,
                      label: Object(f.f)("#Sale_option"),
                      checked: this.props.editModel
                        .GetEventModel()
                        .BHasSaleEnabled(),
                    }),
                    Boolean(!t.BIsSourceEventSaleEnabled()) &&
                      d.createElement(
                        "div",
                        { className: g.WarningStyles },
                        Object(f.f)("#Sale_Enable_Warning")
                      )
                  ),
                  this.props.editModel.GetEventModel().BHasSaleEnabled() &&
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "div",
                        { className: y.BottomBarControls },
                        d.createElement(
                          "div",
                          { className: y.ReoderSections },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Sale_Debug_Tooltip"
                              ),
                            },
                            d.createElement(
                              _.d,
                              {
                                onClick: function (e) {
                                  return Object(M.d)(
                                    d.createElement(Ve, null),
                                    Object(A.m)(e)
                                  );
                                },
                              },
                              Object(f.f)("#Sale_Debug_Title")
                            )
                          )
                        ),
                        d.createElement(
                          "div",
                          { className: y.ReoderSections },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Sale_GameExport_Desc"
                              ),
                            },
                            d.createElement(
                              _.d,
                              {
                                onClick: function (e) {
                                  return Object(M.d)(
                                    d.createElement(Je, null),
                                    Object(A.m)(e)
                                  );
                                },
                              },
                              Object(f.f)("#Sale_GameExport_Title")
                            )
                          )
                        ),
                        d.createElement(
                          "div",
                          { className: y.ReoderSections },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Sale_ReorderSections_ttip"
                              ),
                            },
                            d.createElement(
                              _.d,
                              { onClick: this.ReorderSaleSections },
                              Object(f.f)("#Sale_ReorderSections")
                            )
                          )
                        ),
                        d.createElement(
                          "div",
                          { className: y.MinimizeAll },
                          d.createElement(
                            k.a,
                            {
                              toolTipContent: Object(f.f)(
                                "#Sale_Section_MinimizeAll_Tooltip"
                              ),
                            },
                            d.createElement(
                              _.d,
                              { onClick: this.MinimizeAllSaleSections },
                              Object(f.f)("#Sale_Section_MinimizeAll")
                            )
                          )
                        )
                      ),
                      d.createElement(yn, {
                        editModel: t,
                        onSelected: this.ExpandSectionFromTOC,
                      }),
                      zt.WrapWithNavWaypoint(
                        "SalePageEdit_Config",
                        d.createElement(
                          "div",
                          {
                            id: "SalePageEdit_Config",
                            className: J.SettingCtn,
                          },
                          d.createElement(
                            "div",
                            {
                              className: J.Title,
                              onDoubleClick: function () {
                                return e.ToggleMinimizeSection(
                                  "SalePageEdit_Config"
                                );
                              },
                            },
                            Object(f.f)("#Sale_PageConfigOptions"),
                            d.createElement(Sn, {
                              bIsMinimized: this.GetMinimized(
                                "SalePageEdit_Config"
                              ),
                              fnToggleMinimize: function () {
                                return e.ToggleMinimizeSection(
                                  "SalePageEdit_Config"
                                );
                              },
                            })
                          ),
                          !this.GetMinimized("SalePageEdit_Config") &&
                            d.createElement(
                              "div",
                              { className: J.Columns },
                              d.createElement(
                                "div",
                                { className: J.LeftCol },
                                d.createElement(_.m, {
                                  type: "text",
                                  label: Object(f.f)("#Sale_VanityID"),
                                  tooltip: Object(f.f)("#Sale_VanityID_ttip"),
                                  onChange: function (e) {
                                    return t.SetSaleVanityID(e.target.value);
                                  },
                                  value: i,
                                }),
                                Boolean(S)
                                  ? d.createElement(
                                      "div",
                                      null,
                                      d.createElement(
                                        "span",
                                        { className: "DialogLabel" },
                                        Object(f.f)("#Sale_VanityID_Link")
                                      ),
                                      d.createElement("br", null),
                                      d.createElement(
                                        "a",
                                        {
                                          href: S,
                                          target: N.c.IN_CLIENT ? "" : "_blank",
                                        },
                                        S
                                      )
                                    )
                                  : d.createElement(
                                      "div",
                                      { className: g.ErrorStylesWithIcon },
                                      Object(f.f)(
                                        "#EventEditor_SaleNotReady_ttip"
                                      )
                                    ),
                                d.createElement(
                                  R.b,
                                  {
                                    requireAdmin: !0,
                                    clanSteamID: t.GetClanSteamID(),
                                  },
                                  d.createElement(_.e, {
                                    label: Object(f.f)(
                                      "#Sale_ValveTopSalePath"
                                    ),
                                    tooltip: Object(f.f)(
                                      "#Sale_ValveTopSalePath_ttip"
                                    ),
                                    onChange: this
                                      .OnValveHostOnTopSalesPathChange,
                                    checked: h,
                                  }),
                                  d.createElement(_.i, {
                                    label: Object(f.f)("#Sale_SaleFont"),
                                    tooltip: Object(f.f)("#Sale_SaleFont_ttip"),
                                    strDropDownClassName: j.DropDownScroll,
                                    rgOptions: b,
                                    selectedOption: E,
                                    onChange: this.OnSaleFontChange,
                                    contextMenuPositionOptions: {
                                      bDisablePopTop: !0,
                                    },
                                  }),
                                  d.createElement(_.m, {
                                    type: "text",
                                    label: Object(f.f)(
                                      "#Sale_SectionTitleFontSize"
                                    ),
                                    tooltip: Object(f.f)(
                                      "#Sale_SectionTitleFontSize_ttip"
                                    ),
                                    onChange: this.OnSectionTitleFontSizeChange,
                                    value: m,
                                  }),
                                  d.createElement(_.e, {
                                    label: Object(f.f)(
                                      "#Sale_DontCapitalizeSectionTitles"
                                    ),
                                    tooltip: Object(f.f)(
                                      "#Sale_DontCapitalizeSectionTitles_ttip"
                                    ),
                                    onChange: this.OnCapitalizeSectionChange,
                                    checked: u,
                                  })
                                )
                              ),
                              d.createElement(
                                "div",
                                { className: J.RightCol },
                                d.createElement(
                                  R.b,
                                  {
                                    clanSteamID: t.GetClanSteamID(),
                                    className: j.EditPreviewButton,
                                  },
                                  d.createElement(_.m, {
                                    type: "text",
                                    label: Object(f.f)("#Sale_ImportSale"),
                                    tooltip: Object(f.f)(
                                      "#Sale_ImportSale_ttip"
                                    ),
                                    value: this.state.saleImportUrl,
                                    onChange: this.OnImportSaleChange,
                                  }),
                                  d.createElement(
                                    _.r,
                                    { onClick: this.OnImportSaleSubmit },
                                    Object(f.f)("#Sale_ImportButton")
                                  )
                                ),
                                d.createElement(
                                  R.b,
                                  {
                                    requireAdmin: !0,
                                    clanSteamID: t.GetClanSteamID(),
                                    className: j.EditPreviewButton,
                                  },
                                  d.createElement(
                                    "div",
                                    { className: j.EventEditorTextTitle },
                                    Object(f.f)(
                                      "#Sale_CreateUpdateDiscountEventTitle"
                                    ),
                                    d.createElement(qt, {
                                      tooltip: Object(f.f)(
                                        "#Sale_CreateUpdateDiscountEventTitle_ttip"
                                      ),
                                    })
                                  ),
                                  d.createElement(
                                    _.r,
                                    {
                                      onClick: this.OnCreateUpdateDiscountEvent,
                                    },
                                    this.props.editModel.GetEventModel()
                                      .jsondata.sale_discount_event_id
                                      ? Object(f.f)(
                                          "#Sale_UpdateDiscountEvent",
                                          this.props.editModel.GetEventModel()
                                            .jsondata.sale_discount_event_id
                                        )
                                      : Object(f.f)("#Sale_CreateDiscountEvent")
                                  )
                                ),
                                d.createElement(
                                  R.b,
                                  {
                                    clanSteamID: t.GetClanSteamID(),
                                    className: j.EditPreviewButton,
                                  },
                                  d.createElement(_.m, {
                                    type: "text",
                                    label: Object(f.f)("#Sale_OptInPageName"),
                                    tooltip: Object(f.f)(
                                      "#Sale_OptInPageName_ttip"
                                    ),
                                    value: p,
                                    onChange: this.OnOptInPageChange,
                                  })
                                ),
                                d.createElement(
                                  k.a,
                                  {
                                    toolTipContent:
                                      "#Sale_ShowCreatorHome_ttip",
                                    direction: "top",
                                  },
                                  d.createElement(
                                    "div",
                                    { className: j.InputBorder },
                                    d.createElement(_.q, {
                                      onChange: this.OnShowCreatorChange,
                                      label: Object(f.f)(
                                        "#Sale_ShowCreatorHome"
                                      ),
                                      checked: t.GetEventModel().jsondata
                                        .sale_show_creator,
                                    })
                                  )
                                ),
                                d.createElement(
                                  R.b,
                                  { clanSteamID: t.GetClanSteamID() },
                                  d.createElement(
                                    k.a,
                                    {
                                      toolTipContent:
                                        "#Sale_OwnershipRestrictions_ttip",
                                      direction: "top",
                                    },
                                    d.createElement(
                                      "div",
                                      { className: j.InputBorder },
                                      d.createElement(_.q, {
                                        onChange: this
                                          .OnOwnershipRestrictionChange,
                                        label: Object(f.f)(
                                          "#Sale_OwnershipRestrictions"
                                        ),
                                        checked: t
                                          .GetEventModel()
                                          .BIsLockedToGameOwners(),
                                      })
                                    )
                                  ),
                                  t.GetEventModel().BIsLockedToGameOwners() &&
                                    d.createElement(
                                      d.Fragment,
                                      null,
                                      d.createElement(_.m, {
                                        type: "text",
                                        label: Object(f.f)(
                                          "#Sale_RequiredApps"
                                        ),
                                        tooltip: Object(f.f)(
                                          "#Sale_RequiredApps_ttip"
                                        ),
                                        onChange: this.OnRequiredAppIdChange,
                                        value: this.state.strRequiredAppInput,
                                      }),
                                      d.createElement(_.m, {
                                        type: "text",
                                        label: Object(f.f)(
                                          "#Sale_RequiredPackages"
                                        ),
                                        tooltip: Object(f.f)(
                                          "#Sale_RequiredPackages_ttip"
                                        ),
                                        onChange: this
                                          .OnRequiredPackageIdChange,
                                        value: this.state
                                          .strRequiredPackageInput,
                                      }),
                                      d.createElement(_.m, {
                                        type: "text",
                                        label: Object(f.f)(
                                          "#Sale_OwnershipLockRedirect"
                                        ),
                                        tooltip: Object(f.f)(
                                          "#Sale_OwnershipLockRedirect_ttip"
                                        ),
                                        onChange: this.OnNonOwnerRedirectChange,
                                        value: this.props.editModel.GetEventModel()
                                          .jsondata.ownership_requirement_info
                                          .strRedirectURL,
                                      }),
                                      d.createElement(
                                        R.b,
                                        { clanSteamID: t.GetClanSteamID() },
                                        d.createElement(_.e, {
                                          onChange: this
                                            .OnUseSubscriptionLayoutChanged,
                                          label:
                                            "(VO) " +
                                            Object(f.f)(
                                              "#Sale_UseSubscriptionLayout"
                                            ),
                                          tooltip: Object(f.f)(
                                            "#Sale_UseSubscriptionLayout_ttip"
                                          ),
                                          checked: !!this.props.editModel.GetEventModel()
                                            .jsondata
                                            .sale_use_subscription_layout,
                                        })
                                      )
                                    ),
                                  d.createElement(
                                    k.a,
                                    {
                                      toolTipContent:
                                        "#Sale_PartnerAppEditRestrictions_ttip",
                                      direction: "top",
                                    },
                                    d.createElement(
                                      "div",
                                      { className: j.InputBorder },
                                      d.createElement(_.q, {
                                        onChange: this.OnPartnerAppRightsChange,
                                        label: Object(f.f)(
                                          "#Sale_PartnerAppEditRestrictions"
                                        ),
                                        checked: t
                                          .GetEventModel()
                                          .BIsLockedToPartnerAppRights(),
                                      })
                                    )
                                  ),
                                  d.createElement(ut, { editModel: t })
                                )
                              )
                            )
                        )
                      ),
                      zt.WrapWithNavWaypoint(
                        "SalePageEdit_TaggedItems",
                        d.createElement(
                          "div",
                          {
                            id: "SalePageEdit_TaggedItems",
                            className: Object(L.a)(J.SettingCtn),
                          },
                          d.createElement(
                            "div",
                            {
                              className: J.Title,
                              onDoubleClick: function () {
                                return e.ToggleMinimizeSection(
                                  "SalePageEdit_TaggedItems"
                                );
                              },
                            },
                            Object(f.f)(
                              "#Sale_TaggedItemsSection",
                              t.GetEventModel().GetTaggedItems().length
                            ),
                            d.createElement(qt, {
                              tooltip: Object(f.f)(
                                "#Sale_TagFilter_SectionTooltip"
                              ),
                            }),
                            d.createElement(Sn, {
                              bIsMinimized: this.GetMinimized(
                                "SalePageEdit_TaggedItems"
                              ),
                              fnToggleMinimize: function () {
                                return e.ToggleMinimizeSection(
                                  "SalePageEdit_TaggedItems"
                                );
                              },
                            })
                          ),
                          !this.GetMinimized("SalePageEdit_TaggedItems") &&
                            d.createElement(ye.e, { editModel: t })
                        )
                      ),
                      d.createElement(_t, { editModel: t }),
                      d.createElement(tt, { editModel: t }),
                      d.createElement(
                        "div",
                        {
                          className: Object(L.a)(
                            j.EventEditorTextTitle,
                            J.CustomSectionsTitle
                          ),
                        },
                        Object(f.f)("#Sale_Sections_Title")
                      ),
                      0 ==
                        this.props.editModel.GetEventModel().GetSaleSections()
                          .length
                        ? d.createElement(tn, null)
                        : this.props.editModel
                            .GetEventModel()
                            .GetSaleSections()
                            .map(function (t, n) {
                              var a,
                                i = "SaleSection_" + t.unique_id;
                              return zt.WrapWithNavWaypoint(
                                i,
                                d.createElement(an, {
                                  key:
                                    "salesection_" +
                                    (null !== (a = t.unique_id) && void 0 !== a
                                      ? a
                                      : n),
                                  index: n,
                                  saleSection: t,
                                  editModel: e.props.editModel,
                                  getMinimized: e.GetMinimized,
                                  toggleMinimized: e.ToggleMinimizeSection,
                                  editLanguage: e.props.editModel.GetCurEditLanguage(),
                                })
                              );
                            }),
                      d.createElement(
                        "div",
                        {
                          id: "sale_editor_button_after_all_sections",
                          className: J.AddSectionBtnCtn,
                        },
                        d.createElement(
                          "div",
                          { className: j.SaleSectionHeader },
                          Object(f.f)("#Sale_AddNewSection_Title")
                        ),
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#Sale_AddNewSection_Desc")
                        ),
                        d.createElement(Qt, { editModel: t })
                      ),
                      d.createElement(
                        R.b,
                        { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                        d.createElement(
                          "div",
                          { className: J.SettingCtn },
                          d.createElement(
                            "div",
                            { className: J.Title },
                            Object(f.f)("#Sale_BrowseMore")
                          ),
                          d.createElement(_.q, {
                            onChange: this.OnBrowseMoreButtonChange,
                            label: Object(f.f)("#Sale_BrowseMore_Desc"),
                            checked: this.props.editModel.GetEventModel()
                              .jsondata.sale_browse_more_button,
                          }),
                          this.props.editModel.GetEventModel().jsondata
                            .sale_browse_more_button &&
                            d.createElement(
                              "div",
                              null,
                              d.createElement(_.m, {
                                type: "text",
                                label: Object(f.f)("#Sale_BrowseMore_URL"),
                                name: "sale_browsemore_url",
                                placeholder: Object(f.f)(
                                  "#Sale_BrowseMore_URL"
                                ),
                                value: r,
                                onChange: this.OnSaleChange,
                              }),
                              d.createElement(
                                _.d,
                                {
                                  onClick: this.OnOpenButtonTextColor,
                                  className: j.EventEditorTextTitle,
                                  style: { color: o, backgroundColor: l },
                                },
                                Object(f.f)("#Sale_Section_Label_Color")
                              ),
                              d.createElement(
                                _.d,
                                {
                                  onClick: this.OnOpenButtonBackgroundColor,
                                  className: j.EventEditorTextTitle,
                                  style: { color: o, backgroundColor: l },
                                },
                                Object(f.f)("#Sale_Section_Background_Color")
                              ),
                              d.createElement(_e.b, {
                                text: Object(f.f)("#Sale_SeeAllSpecials"),
                                url: "",
                                color: o,
                                bgcolor: l,
                              })
                            )
                        )
                      ),
                      d.createElement(
                        R.b,
                        { clanSteamID: t.GetClanSteamID() },
                        Boolean(
                          t.GetEventModel().jsondata
                            .sale_vanity_id_valve_approved_for_sale_subpath
                        )
                          ? d.createElement(
                              "div",
                              { className: J.SettingCtn },
                              d.createElement(
                                "p",
                                null,
                                "(VO) Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props."
                              ),
                              d.createElement("textarea", {
                                value: t.GetEventModel().jsondata
                                  .sale_custom_css
                                  ? t.GetEventModel().jsondata.sale_custom_css
                                  : "",
                                cols: 120,
                                rows: 10,
                                onChange: this.OnCustomCSSChange,
                              })
                            )
                          : d.createElement(
                              "div",
                              { className: J.SettingCtn },
                              d.createElement(
                                "p",
                                null,
                                "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section"
                              )
                            )
                      )
                    )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "ToggleMinimizeSection", null),
            Object(a.c)([b.a], t.prototype, "MinimizeAllSaleSections", null),
            Object(a.c)([b.a], t.prototype, "ReorderSaleSections", null),
            Object(a.c)([b.a], t.prototype, "OnSaleChange", null),
            Object(a.c)([b.a], t.prototype, "OnSaleColorChange", null),
            Object(a.c)([b.a], t.prototype, "OnOpenButtonTextColor", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnOpenButtonBackgroundColor",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnSaleOptionChange", null),
            Object(a.c)([b.a], t.prototype, "OnShowCreatorChange", null),
            Object(a.c)([b.a], t.prototype, "OnBrowseMoreButtonChange", null),
            Object(a.c)([b.a], t.prototype, "OnImportSaleChange", null),
            Object(a.c)([O.k.bound], t.prototype, "OnSaleFontChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapitalizeSectionChange", null),
            Object(a.c)([b.a], t.prototype, "OnOptInPageChange", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnValveHostOnTopSalesPathChange",
              null
            ),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnSectionTitleFontSizeChange",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnImportSaleSubmit", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnCreateUpdateDiscountEvent",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnCustomCSSChange", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnOwnershipRestrictionChange",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnPartnerAppRightsChange", null),
            Object(a.c)([b.a], t.prototype, "OnRequiredAppIdChange", null),
            Object(a.c)([b.a], t.prototype, "OnRequiredPackageIdChange", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnUseSubscriptionLayoutChanged",
              null
            ),
            Object(a.c)([b.a], t.prototype, "OnNonOwnerRedirectChange", null),
            Object(a.c)([b.a], t.prototype, "GetMinimized", null),
            Object(a.c)([b.a], t.prototype, "ExpandSectionFromTOC", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        Qt = function (e) {
          var t = e.editModel,
            n = Object(O.k)(function () {
              var e = Object(a.a)(Object(a.a)({}, St.h), {
                  unique_id: t.GenerateSaleSectionUniqueID(),
                }),
                n = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              n &&
                ((e.label_color = n.label_color),
                (e.background_gradient_bottom = n.background_gradient_bottom),
                (e.background_gradient_top = n.background_gradient_top)),
                t.GetEventModel().jsondata.sale_sections.push(e),
                t.SetDirty(o.c.jsondata_sales);
              var i = document.getElementById(
                "sale_editor_button_after_all_sections"
              );
              i && i.scrollIntoView();
            });
          return d.createElement(
            _.r,
            { onClick: n, className: j.AddSectionButton },
            Object(f.f)("#Sale_AddNewSection")
          );
        };
      function Jt(e, t) {
        for (var n = 0, a = e.GetSaleSections(); n < a.length; n++) {
          var i = a[n];
          if (i === t) break;
          if ("tabs" === i.section_type) return i;
        }
        return null;
      }
      function Zt(e, t) {
        var n = Jt(e, t);
        if (n) {
          var i = new Set(Object(a.g)(t.show_on_tabs || [])),
            r = n.tabs.map(function (n) {
              var a,
                r =
                  (null === (a = t.capsules) || void 0 === a
                    ? void 0
                    : a.length) > 0
                    ? (function (e, t) {
                        var n = new Set();
                        e.forEach(function (e) {
                          return n.add(Number(e.id));
                        });
                        for (var a = 0, i = 0, r = t; i < r.length; i++) {
                          var o = r[i];
                          n.has(Number(o.id)) && a++;
                        }
                        return a;
                      })(t.capsules, n.capsules)
                    : void 0,
                o = void 0 === r ? "" : " (" + r + ")";
              return d.createElement(_.e, {
                key: n.unique_id,
                classname: y.ShowOnTabCheckBox,
                onChange: function (e) {
                  e ? i.add(n.unique_id) : i.delete(n.unique_id);
                },
                label: Object(_e.g)(n, e.GetCurEditLanguage()) + o,
                checked: i.has(n.unique_id),
              });
            });
          Object(M.d)(
            d.createElement(
              h.d,
              {
                strTitle: Object(f.f)("#Sale_Section_ShowOnTabs_DialogTitle"),
                strDescription: Object(f.f)(
                  "#Sale_Section_ShowOnTabs_DialogDesc"
                ),
                onOK: function () {
                  (t.show_on_tabs = Array.from(i.keys())),
                    e.SetDirty(o.c.jsondata_sales);
                },
              },
              d.createElement("div", { className: y.ShowOnTabCheckBoxCtn }, r)
            ),
            window
          );
        }
      }
      var Xt = Object(u.a)(function (e) {
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: y.SaleSectionTitleHeader },
              d.createElement(
                "div",
                { className: j.EventEditorTextTitle },
                e.title,
                d.createElement(qt, { tooltip: e.tooltip })
              ),
              d.createElement(Sn, {
                bIsMinimized: e.getMinimized(),
                fnToggleMinimize: e.toggleMinimized,
              })
            ),
            !e.getMinimized() && d.createElement(me.a, null, e.children)
          );
        }),
        $t = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetShowOnTabsList = function (e) {
              var t = this.props,
                n = t.saleSection,
                a = t.editLanguage;
              if (!e || !n.show_on_tabs || 0 === n.show_on_tabs.length)
                return Object(f.f)("#Sale_Section_ShowOnTabs_All");
              for (
                var i = [],
                  r = function (t) {
                    var n = e.tabs
                      ? e.tabs.find(function (e) {
                          return e.unique_id === t;
                        })
                      : null;
                    n && i.push(Object(_e.g)(n, a));
                  },
                  o = 0,
                  l = n.show_on_tabs;
                o < l.length;
                o++
              ) {
                r(l[o]);
              }
              return 0 === i.length
                ? Object(f.f)("#Sale_Section_ShowOnTabs_All")
                : i.join(", ");
            }),
            (t.prototype.OnEditTabSections = function () {
              var e = this.props,
                t = e.saleSection;
              Zt(e.editModel, t);
            }),
            (t.prototype.render = function () {
              var e = Jt(this.props.editModel, this.props.saleSection);
              return e && e.tabs && 0 !== e.tabs.length
                ? d.createElement(
                    Xt,
                    {
                      title: Object(f.f)("#Sale_Section_TabSettings_Title"),
                      tooltip: Object(f.f)(
                        "#Sale_Section_TabSettings_Title_ttip"
                      ),
                      getMinimized: this.props.getMinimized,
                      toggleMinimized: this.props.toggleMinimized,
                    },
                    d.createElement(mn, {
                      varName: "diable_tab_id_filtering",
                      editModel: this.props.editModel,
                      section: this.props.saleSection,
                      textToken: "#Sale_Section_TabSettings_DisableIDFiltering",
                      ttipToken:
                        "#Sale_Section_TabSettings_DisableIDFiltering_ttip",
                    }),
                    d.createElement(
                      "div",
                      { style: { display: "flex" } },
                      d.createElement(
                        "div",
                        {
                          className: Object(L.a)(
                            j.EventEditorTextTitle,
                            y.ShowOnTabsLabel
                          ),
                        },
                        Object(f.f)("#Sale_Section_ShowOnTabs"),
                        this.GetShowOnTabsList(e)
                      ),
                      d.createElement(
                        "div",
                        { className: y.ShowOnTabsButton },
                        d.createElement(
                          _.r,
                          { onClick: this.OnEditTabSections },
                          Object(f.f)("#Sale_Section_ShowOnTabs_Edit")
                        )
                      )
                    )
                  )
                : null;
            }),
            Object(a.c)([b.a], t.prototype, "OnEditTabSections", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        en = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel;
          if (!t.label_link) return null;
          return d.createElement(
            R.b,
            { clanSteamID: n.GetClanSteamID() },
            d.createElement(_.q, {
              onChange: function (e) {
                (t.label_link_style = e ? "browseall" : void 0),
                  n.SetDirty(o.c.jsondata_sales);
              },
              label: "(VO) " + Object(f.f)("#Sale_Section_TitleLink_BrowseAll"),
              tooltip: Object(f.f)("#Sale_Section_TitleLink_BrowseAll_ttip"),
              checked: "browseall" === t.label_link_style,
            })
          );
        }),
        tn = function (e) {
          return d.createElement(
            "div",
            {
              id: "NoSaleSections",
              className: Object(L.a)(J.SaleSection, J.InEditor),
            },
            d.createElement(
              "div",
              { className: j.SaleSectionHeader },
              Object(f.f)("#Sale_SectionListPlaceholder_Header")
            ),
            d.createElement(
              "div",
              null,
              Object(f.f)("#Sale_SectionListPlaceholder_Content")
            )
          );
        };
      function nn(e, t, n, a, i) {
        var r = Object(_e.e)(e, t, n.GetClanSteamID().GetAccountID(), i);
        if (r) return r;
        var o = Object(f.f)("#Sale_Section_Header", a + 1),
          l = "#Sale_Section_Type_" + e.section_type,
          s = Object(f.f)(l);
        return s !== l && (o = o + " (" + s + ")"), o;
      }
      var an = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = { bIsExiting: !1 }), t;
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e = new Set(),
              t = new Array(),
              n = new Array();
            this.props.saleSection.capsules.forEach(function (a) {
              a &&
                ("bundle" === a.type
                  ? t.push(a.id)
                  : "sub" === a.type
                  ? n.push(a.id)
                  : e.add(a.id));
            }),
              Ce.a.EnsureAppInfoForAppIDs(new Set(e)),
              de.a.LoadBundleInfo(t),
              pe.b.LoadPackageInfo(n),
              z.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                null,
                this.props.saleSection.events
                  .filter(function (e) {
                    return Boolean(null == e ? void 0 : e.announcement_gid);
                  })
                  .map(function (e) {
                    return e.announcement_gid;
                  })
              );
          }),
          (t.prototype.RemoveSection = function (e) {
            var t = this;
            Object(M.d)(
              d.createElement(h.d, {
                strTitle: Object(f.f)("#Button_Remove"),
                strDescription: Object(f.f)("#Sale_RemoveSectionConfirmation"),
                onOK: function () {
                  return t.DoRemoveSection(e);
                },
              }),
              window
            );
          }),
          (t.prototype.DoRemoveSection = function (e) {
            var t = this;
            this.setState({ bIsExiting: !0 }),
              window.setTimeout(function () {
                t.props.editModel
                  .GetEventModel()
                  .jsondata.sale_sections.splice(e, 1),
                  t.props.editModel.SetDirty(o.c.jsondata_sales);
              }, 500);
          }),
          (t.prototype.OnTitleChange = function (e) {
            (this.props.saleSection.default_label = e),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnTitleLinkChange = function (e) {
            (this.props.saleSection.label_link = e.target.value),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnSetCustomTitle = function (e) {
            var t = this.props,
              n = t.saleSection,
              a = t.editLanguage,
              i = t.editModel;
            (n.localized_label = f.a.Set(n.localized_label || [], a, e)),
              i.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnClearCustomTitle = function () {
            var e = this.props,
              t = e.saleSection,
              n = e.editLanguage,
              a = e.editModel;
            (t.localized_label = f.a.Set(t.localized_label || [], n, null)),
              a.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnShowTitleImageUpload = function (e, t) {
            e.preventDefault(),
              e.stopPropagation(),
              Object(M.d)(
                d.createElement(S, {
                  loc_images: t.localized_label_image,
                  fnSetImage: function (e, n) {
                    t.localized_label_image = f.a.Set(
                      t.localized_label_image || [],
                      e,
                      n
                    );
                  },
                  editModel: this.props.editModel,
                  artworkType: "sale_section_title",
                }),
                window
              );
          }),
          (t.prototype.OnSaleSectionTypeChange = function (e) {
            o.e.SetSaleSectionType(this.props.saleSection, e.data),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.MoveSection = function (e) {
            var t = e ? 1 : -1;
            Object(G.d)(
              this.props.editModel.GetEventModel().jsondata.sale_sections,
              this.props.index,
              Object(Dt.a)(
                this.props.index + t,
                0,
                this.props.editModel.GetEventModel().jsondata.sale_sections
                  .length - 1
              )
            ),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.GetMinimizedTag = function (e) {
            var t = "SaleSection_" + this.props.saleSection.unique_id;
            return e && (t += "_" + e), t;
          }),
          (t.prototype.GetMinimized = function (e, t) {
            return this.props.getMinimized(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.ToggleMinimized = function (e, t) {
            this.props.toggleMinimized(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.render = function () {
            var e = this,
              t = this.props,
              n = t.editModel,
              i = t.saleSection,
              r = t.editLanguage,
              o = [
                {
                  label: Object(f.f)("#Sale_NoChoiceMade"),
                  data: "unselected_empty",
                },
                {
                  label: Object(f.f)("#Sale_Items"),
                  data: "items",
                  tooltip: Object(f.f)("#Sale_Items_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_TextSection"),
                  data: "text_section",
                  tooltip: Object(f.f)("#Sale_TextSection_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_Events"),
                  data: "events",
                  tooltip: Object(f.f)("#Sale_Events_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_CuratorSection"),
                  data: "curator",
                  tooltip: Object(f.f)("#Sale_CuratorSection_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_BroadcastPlayerSection"),
                  data: "broadcast",
                  tooltip: Object(f.f)("#Sale_BroadcastPlayerSection_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_SectionType_EventSchedule"),
                  data: "event_schedule",
                  tooltip: Object(f.f)("#Sale_SectionType_EventSchedule_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_Tabs"),
                  data: "tabs",
                  tooltip: Object(f.f)("#Sale_Tabs_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_TabButtons"),
                  data: "tab_buttons",
                  tooltip: Object(f.f)("#Sale_TabButtons_ttip"),
                },
                {
                  label: Object(f.f)("#Sale_Links"),
                  data: "links",
                  tooltip: Object(f.f)("#Sale_Links_ttip"),
                },
              ];
            Object(R.a)(n.GetClanSteamID()) &&
              (o.push({
                label: "(VO) " + Object(f.f)("#Sale_CuratorRecommendation"),
                data: "curator_recommendation",
                tooltip: Object(f.f)("#Sale_CuratorRecommendation_ttip"),
              }),
              o.push({
                label: "(VO) " + Object(f.f)("#Sale_AdventCalendarDoorSection"),
                data: "doors",
              }),
              o.push({
                label: "(VO) " + Object(f.f)("#Sale_VOInternalSection"),
                data: "vo_internal",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(f.f)("#Sale_VOInternalSection_SaleItemBrowser"),
                data: "sale_item_browser",
              }));
            var l = n.GetEventModel().jsondata,
              s = l.sale_font,
              c = l.sale_section_font_size,
              u = l.sale_section_disable_capitalize,
              p = Object(_e.d)(i),
              m = this.props.saleSection.section_type || o[0].data,
              g = Boolean(f.a.GetWithFallback(i.localized_label, r)),
              h =
                g ||
                Ee.IsValidTitleOption(this.props.saleSection.default_label),
              b = 0;
            i.localized_label_image &&
              i.localized_label_image.forEach(function (e) {
                b += e ? 1 : 0;
              });
            var v,
              E = this.GetMinimized("", !1),
              S =
                "event_schedule" !== i.section_type &&
                "broadcast" !== i.section_type;
            return d.createElement(
              "div",
              {
                id: "SaleSection_" + i.unique_id,
                className: Object(L.a)(J.SaleSection, J.InEditor),
                style: Object(a.a)(Object(a.a)({}, Kt(i, n.GetEventModel())), {
                  opacity: this.state.bIsExiting ? 0 : 1,
                  transition: "opacity 500ms",
                }),
              },
              d.createElement(
                "div",
                {
                  className: j.SaleSectionHeader,
                  onDoubleClick: function () {
                    return e.ToggleMinimized("", !1);
                  },
                  style: {
                    fontFamily: s,
                    fontSize: c,
                    textTransform: u ? "initial" : null,
                    color: this.props.saleSection.label_color,
                  },
                },
                nn(i, this.props.editLanguage, n, this.props.index, !1),
                d.createElement(
                  "div",
                  { className: Object(L.a)(j.CloseSectionTools) },
                  d.createElement(
                    "div",
                    { className: j.FlexRowContainer },
                    d.createElement(
                      _.d,
                      {
                        "data-tooltip-text": Object(f.f)(
                          "#Sale_Section_ReorderUp_Title"
                        ),
                        disabled: 0 == this.props.index,
                        onClick: function () {
                          return e.MoveSection(!1);
                        },
                      },
                      d.createElement(It.c, { angle: 0 })
                    ),
                    d.createElement(
                      _.d,
                      {
                        "data-tooltip-text": Object(f.f)(
                          "#Sale_Section_ReorderDown_Title"
                        ),
                        disabled:
                          this.props.index + 1 == n.GetSaleSectionCount(),
                        onClick: function () {
                          return e.MoveSection(!0);
                        },
                      },
                      d.createElement(It.c, { angle: 180 })
                    ),
                    d.createElement(Sn, {
                      bIsMinimized: E,
                      fnToggleMinimize: function () {
                        return e.ToggleMinimized("", !1);
                      },
                    }),
                    d.createElement(
                      _.d,
                      {
                        "data-tooltip-text": Object(f.f)("#Button_Remove"),
                        onClick: function () {
                          return e.RemoveSection(e.props.index);
                        },
                      },
                      d.createElement(It.lb, null)
                    )
                  )
                )
              ),
              E
                ? d.createElement(rn, {
                    editModel: n,
                    section: i,
                    tabSection: n.GetTabSaleSection(),
                  })
                : d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      jt.a,
                      { placeholderHeight: "300px", className: J.EditorCtn },
                      d.createElement(
                        "div",
                        { className: J.SectionTypePicker },
                        d.createElement(
                          "div",
                          { className: J.SectionTypePrompt },
                          " ",
                          Object(f.f)("#Sale_SectionContents"),
                          " "
                        ),
                        d.createElement(_.i, {
                          rgOptions: o,
                          strDropDownClassName: j.DropDownScroll,
                          selectedOption: m,
                          onChange: this.OnSaleSectionTypeChange,
                          contextMenuPositionOptions: { bDisablePopTop: !0 },
                        }),
                        d.createElement(qt, {
                          tooltip: Object(f.f)("#Sale_SectionTypeTTip_" + m),
                        })
                      )
                    ),
                    Boolean("unselected_empty" !== m) &&
                      d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          jt.a,
                          {
                            placeholderHeight: "300px",
                            className: J.EditorCtn,
                          },
                          null === p &&
                            d.createElement(
                              d.Fragment,
                              null,
                              d.createElement(
                                "div",
                                { className: y.SaleSectionTitleHeader },
                                d.createElement(
                                  "div",
                                  { className: j.EventEditorTextTitle },
                                  Object(f.f)(
                                    "#Sale_Section_SectionTitle_Title"
                                  ),
                                  d.createElement(qt, {
                                    tooltip: Object(f.f)(
                                      "#Sale_Section_SectionTitle_Title_ttip"
                                    ),
                                  })
                                ),
                                d.createElement(Sn, {
                                  bIsMinimized: this.GetMinimized("title", !1),
                                  fnToggleMinimize: function () {
                                    return e.ToggleMinimized("title", !1);
                                  },
                                })
                              ),
                              !this.GetMinimized("title", !1) &&
                                d.createElement(
                                  "div",
                                  {
                                    className: Object(L.a)(
                                      j.FlexColumnContainer,
                                      j.EventDefaultRowContainer
                                    ),
                                  },
                                  d.createElement(Ee, {
                                    default_label: i.default_label,
                                    localized_label: i.localized_label,
                                    editLanguage: this.props.editLanguage,
                                    onClearCustomTitle: this.OnClearCustomTitle,
                                    onSetCustomTitle: this.OnSetCustomTitle,
                                    onSetDefaultLabel: this.OnTitleChange,
                                  }),
                                  g &&
                                    d.createElement(
                                      R.b,
                                      {
                                        clanSteamID: n.GetClanSteamID(),
                                        className: J.CustomImageTitle,
                                      },
                                      d.createElement(
                                        "span",
                                        { className: J.PromptText },
                                        Object(f.f)("#Sale_option_title_image")
                                      ),
                                      d.createElement(
                                        "div",
                                        { className: J.UploadImageButton },
                                        d.createElement(
                                          _.r,
                                          {
                                            onClick: function (t) {
                                              return e.OnShowTitleImageUpload(
                                                t,
                                                i
                                              );
                                            },
                                          },
                                          b > 0
                                            ? Object(f.l)(
                                                "#selectimage_managing_n_existing_title",
                                                b
                                              )
                                            : Object(f.f)(
                                                "#selectimage_uploading_title"
                                              )
                                        )
                                      )
                                    ),
                                  h &&
                                    d.createElement(
                                      R.b,
                                      { clanSteamID: n.GetClanSteamID() },
                                      d.createElement(_.m, {
                                        label: Object(f.f)("#Sale_LinkURL"),
                                        tooltip: Object(f.f)(
                                          "#Sale_LinkURL_title_hint"
                                        ),
                                        placeholder: Object(f.f)(
                                          "#Sale_LinkURL"
                                        ),
                                        onChange: this.OnTitleLinkChange,
                                        value: this.props.saleSection
                                          .label_link,
                                      }),
                                      d.createElement(en, {
                                        saleSection: i,
                                        editModel: n,
                                      })
                                    )
                                )
                            ),
                          S && d.createElement(at, Object(a.a)({}, this.props)),
                          d.createElement($t, {
                            saleSection: i,
                            editModel: n,
                            editLanguage: r,
                            getMinimized: function () {
                              return e.GetMinimized("tabsettings", !0);
                            },
                            toggleMinimized: function () {
                              return e.ToggleMinimized("tabsettings", !0);
                            },
                          })
                        ),
                        "unselected_empty" !=
                          (v = this.props.saleSection.section_type) &&
                          "tab_buttons" != v &&
                          d.createElement(
                            jt.a,
                            {
                              placeholderHeight: "300px",
                              className: J.EditorCtn,
                              id: "salesection_item_" + this.props.index,
                            },
                            d.createElement(bn, Object(a.a)({}, this.props))
                          )
                      )
                  )
            );
          }),
          Object(a.c)([b.a], t.prototype, "RemoveSection", null),
          Object(a.c)([b.a], t.prototype, "DoRemoveSection", null),
          Object(a.c)([b.a], t.prototype, "OnTitleChange", null),
          Object(a.c)([b.a], t.prototype, "OnTitleLinkChange", null),
          Object(a.c)([b.a], t.prototype, "OnSetCustomTitle", null),
          Object(a.c)([b.a], t.prototype, "OnClearCustomTitle", null),
          Object(a.c)([b.a], t.prototype, "OnShowTitleImageUpload", null),
          Object(a.c)([b.a], t.prototype, "OnSaleSectionTypeChange", null),
          Object(a.c)([b.a], t.prototype, "MoveSection", null),
          Object(a.c)([b.a], t.prototype, "GetMinimized", null),
          Object(a.c)([b.a], t.prototype, "ToggleMinimized", null),
          (t = Object(a.c)([u.a], t))
        );
      })(d.Component);
      var rn = function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.tabSection,
            i = a
              ? d.createElement(
                  "span",
                  {
                    className: y.ShowInTabsList,
                    onClick: function () {
                      return Zt(t, n);
                    },
                  },
                  Object(f.f)(
                    "#Sale_SectionDesc_Tabs",
                    (function (e, t) {
                      var n = "";
                      return (
                        e && e.length > 0 && t && t.tabs && t.tabs.length > 0
                          ? e.forEach(function (e) {
                              n.length > 0 && (n += ", ");
                              var a = t.tabs.find(function (t) {
                                return t.unique_id == e;
                              });
                              n += a
                                ? Object(_e.g)(a, Object(x.h)(N.c.LANGUAGE))
                                : Object(f.f)("#EventCalendar_MuteApp_Unknown");
                            })
                          : (n = Object(f.f)("#Sale_Section_ShowOnTabs_All")),
                        n
                      );
                    })(n.show_on_tabs, a)
                  )
                )
              : null;
          return ("items" === n.section_type && !n.smart_section_type) ||
            "events" === n.section_type
            ? d.createElement(
                "div",
                null,
                Boolean("items" === n.section_type)
                  ? Object(f.f)(
                      "#Sale_SectionDesc_Items",
                      n.capsules ? n.capsules.length : 0
                    )
                  : Object(f.f)(
                      "#Sale_SectionDesc_Events",
                      n.events ? n.events.length : 0
                    ),
                Boolean(n.show_as_carousel) &&
                  Object(f.f)("#Sale_SectionDesc_Carousel"),
                i && " - ",
                i
              )
            : "event_schedule" === n.section_type
            ? d.createElement(
                "div",
                null,
                Object(f.l)(
                  "#EventEditor_SaleEventSchedule_MinView",
                  n.event_schedule_categories
                    ? n.event_schedule_categories.length
                    : Object(f.f)("#Dialog_Off")
                ),
                i && " - ",
                i
              )
            : i;
        },
        on = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnSmartSectionChange = function (e) {
              (this.props.saleSection.smart_section = e),
                (this.props.saleSection.smart_section_type = e
                  ? "wishlist"
                  : void 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.render = function () {
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(_.q, {
                  onChange: this.OnSmartSectionChange,
                  label: Object(f.f)("#Sale_SmartSection"),
                  description: Object(f.f)("#Sale_SmartSectionDescription"),
                  checked: this.props.saleSection.smart_section,
                }),
                this.props.saleSection.smart_section &&
                  d.createElement(vn, {
                    saleSection: this.props.saleSection,
                    editModel: this.props.editModel,
                  }),
                !this.props.saleSection.smart_section &&
                  d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(Me, {
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      uniqueKey: "Section" + this.props.saleSection.unique_id,
                    }),
                    d.createElement(it.a, {
                      section: this.props.saleSection,
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      bAllowPruneFacets: !0,
                    })
                  )
              );
            }),
            Object(a.c)([O.k.bound], t.prototype, "OnSmartSectionChange", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        ln = Object(u.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(_.q, {
              onChange: function (e) {
                Object(O.G)(function () {
                  t.smart_section = e;
                  var a =
                    t.smart_section_event_tags &&
                    t.smart_section_event_tags.length > 0;
                  (t.smart_section_type = e
                    ? a
                      ? "recent_tagged_events"
                      : "recent_events"
                    : void 0),
                    n.SetDirty(o.c.jsondata_sales);
                });
              },
              label: Object(f.f)("#Sale_SmartSection"),
              description: Object(f.f)("#Sale_SmartSectionDescription"),
              checked: t.smart_section,
            }),
            t.smart_section
              ? d.createElement(X, Object(a.a)({}, e))
              : d.createElement(Z, Object(a.a)({}, e))
          );
        }),
        sn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { linkToAddURL: "" }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.AddLink = function () {
              (this.m_refInput.element.value = ""),
                this.props.saleSection.links.push({
                  url: this.state.linkToAddURL,
                }),
                this.setState({ linkToAddURL: "" }),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RemoveLink = function (e) {
              this.props.saleSection.links.splice(e, 1),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnLinkChange = function (e) {
              var t = e.target.value;
              this.setState({ linkToAddURL: t });
            }),
            (t.prototype.OnShowLinkCapsuleUpload = function (e, t) {
              e.preventDefault(),
                e.stopPropagation(),
                Object(M.d)(
                  d.createElement(S, {
                    loc_images: t.localized_link_capsule,
                    fnSetImage: function (e, n) {
                      (t.localized_link_capsule = Object(G.e)(
                        t.localized_link_capsule || [],
                        30,
                        null
                      )),
                        (t.localized_link_capsule[e] = n);
                    },
                    editModel: this.props.editModel,
                    artworkType: "link_capsule",
                  }),
                  window
                );
            }),
            (t.prototype.render = function () {
              var e = this;
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(D.a, {
                  items: this.props.saleSection.links,
                  onDelete: this.RemoveLink,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    var n = 0;
                    t.localized_link_capsule &&
                      t.localized_link_capsule.forEach(function (e) {
                        n += e ? 1 : 0;
                      });
                    var a = Object(kt.a)(t.url, N.c.STORE_BASE_URL);
                    return d.createElement(
                      _e.i,
                      {
                        className: Object(L.a)(Y.a.FlexCenter, J.UploadLinkRow),
                        url: t.url,
                      },
                      a,
                      d.createElement(
                        "div",
                        { className: J.UploadLinkImageButton },
                        d.createElement(
                          _.r,
                          {
                            onClick: function (n) {
                              return e.OnShowLinkCapsuleUpload(n, t);
                            },
                          },
                          n > 0
                            ? Object(f.l)(
                                "#selectimage_managing_n_existing_title",
                                n
                              )
                            : Object(f.f)("#selectimage_uploading_title")
                        )
                      )
                    );
                  },
                }),
                d.createElement(_.m, {
                  ref: function (t) {
                    return (e.m_refInput = t);
                  },
                  type: "text",
                  label: Object(f.f)("#Sale_LinkURL"),
                  onChange: this.OnLinkChange,
                }),
                d.createElement(
                  _.r,
                  { onClick: this.AddLink },
                  Object(f.f)("#Sale_AddLink")
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "AddLink", null),
            Object(a.c)([b.a], t.prototype, "RemoveLink", null),
            Object(a.c)([b.a], t.prototype, "OnLinkChange", null),
            Object(a.c)([b.a], t.prototype, "OnShowLinkCapsuleUpload", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        cn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                maxRowsString: Object(St.q)(t.props.saleSection).toString(),
                capItemCountString: Object(St.s)(
                  t.props.saleSection
                ).toString(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnRandomChange = function (e, t) {
              t || (e.cap_item_count = 0),
                this.setState({
                  maxRowsString: Object(St.s)(
                    this.props.saleSection
                  ).toString(),
                });
            }),
            (t.prototype.OnCapSectionChange = function (e, t) {
              this.setState({
                maxRowsString: Object(St.q)(this.props.saleSection).toString(),
              });
            }),
            (t.prototype.OnCapItemCountChange = function (e, t) {
              var n = Number(t);
              n >= 0 &&
                ((e.cap_item_count = n),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ capItemCountString: t });
            }),
            (t.prototype.OnCarouselRowsChange = function (e, t) {
              (e.carousel_rows = t),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnCapSectionRowCountChange = function (e, t) {
              var n = Number(t);
              n > 0 &&
                ((e.cap_section_row_count = n),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ maxRowsString: t });
            }),
            (t.prototype.ConvertStringToRowConfig = function (e) {
              return JSON.parse(e);
            }),
            (t.prototype.ConvertRowConfigToString = function (e, t) {
              return JSON.stringify({ rows: e, styles: t || [] });
            }),
            (t.prototype.OnCapsulesPerRowArrayChange = function (e, t) {
              var n = this.ConvertStringToRowConfig(t),
                a = n.rows,
                i = n.styles;
              (e.capsules_per_row_array = a),
                (e.capsule_style_per_row_array = i && i.length ? i : null),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.GetCapsulesPerRowDropDown = function () {
              var e = this,
                t = this.props,
                n = t.saleSection,
                a = t.editModel,
                i = [
                  {
                    label: Object(f.f)("#Sale_CapsulesPerRow_1"),
                    data: this.ConvertRowConfigToString([1]),
                  },
                  {
                    label: Object(f.f)("#Sale_CapsulesPerRow_2"),
                    data: this.ConvertRowConfigToString([2]),
                  },
                  {
                    label: Object(f.f)("#Sale_CapsulesPerRow_3"),
                    data: this.ConvertRowConfigToString([3]),
                  },
                  {
                    label: Object(f.f)("#Sale_CapsulesPerRow_4"),
                    data: this.ConvertRowConfigToString([4]),
                  },
                  {
                    label: Object(f.f)("#Sale_CapsulesPerRow_Pattern_2343"),
                    data: this.ConvertRowConfigToString([2, 3, 4, 3]),
                  },
                ];
              "links" === n.section_type
                ? i.push({
                    label: Object(f.f)("#Sale_CapsulesPerRow_5"),
                    data: this.ConvertRowConfigToString([5]),
                  })
                : "items" === n.section_type &&
                  Object(R.a)(a.GetClanSteamID(), !1) &&
                  i.push(
                    {
                      label:
                        "(VO) " +
                        Object(f.f)("#Sale_CapsulesPerRow_Pattern_3t23"),
                      data: this.ConvertRowConfigToString(
                        [3, 2, 3],
                        ["tall", "grid", "grid"]
                      ),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(f.f)("#Sale_CapsulesPerRow_Pattern_5t"),
                      data: this.ConvertRowConfigToString([5], ["tall"]),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(f.f)("#Sale_CapsulesPerRow_Pattern_3t"),
                      data: this.ConvertRowConfigToString([3], ["tall"]),
                    }
                  );
              var r = Object(Ct.b)(n),
                o = this.ConvertRowConfigToString(
                  r,
                  n.capsule_style_per_row_array
                );
              return d.createElement(_.i, {
                rgOptions: i,
                label: Object(f.f)("#Sale_Section_CapsulesPerRow"),
                tooltip: Object(f.f)("#Sale_Section_CapsulesPerRow_Tooltip"),
                strDropDownClassName: j.DropDownScroll,
                selectedOption: o,
                onChange: function (t) {
                  return e.OnCapsulesPerRowArrayChange(n, t.data);
                },
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              });
            }),
            (t.prototype.render = function () {
              var e,
                t,
                n,
                a = this,
                i = this.props,
                r = i.saleSection,
                o = i.bSmartSection,
                l = i.editModel,
                s =
                  o &&
                  "items" === r.section_type &&
                  ("tag" === r.smart_section_type ||
                    "category" === r.smart_section_type),
                c = "items" === r.section_type,
                u = "items" === r.section_type || "events" === r.section_type,
                p = "library" === r.single_item_style,
                m =
                  "items" === r.section_type &&
                  (!r.capsules_per_row_array ||
                    (1 ==
                      (null === (e = r.capsules_per_row_array) || void 0 === e
                        ? void 0
                        : e.length) &&
                      1 == r.capsules_per_row_array[0])),
                g =
                  "items" == r.section_type &&
                  (null ===
                    (n =
                      null === (t = l.GetEventModel().jsondata) || void 0 === t
                        ? void 0
                        : t.sorting_tiers) || void 0 === n
                    ? void 0
                    : n.length) > 0;
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_Section_GridSettings_Title")
                ),
                d.createElement(
                  "div",
                  {
                    style: { display: "flex" },
                    className: j.EventDefaultRowContainer,
                  },
                  d.createElement(
                    "div",
                    { className: j.HalfColumn },
                    r.show_as_carousel &&
                      d.createElement(_.t, {
                        label: Object(f.f)("#Sale_Section_CarouselRows"),
                        showValue: !0,
                        min: 1,
                        max: 3,
                        value: Object(St.r)(r),
                        onChange: function (e) {
                          return a.OnCarouselRowsChange(r, e);
                        },
                        tooltip: Object(f.f)(
                          "#Sale_Section_CarouselRows_Tooltip"
                        ),
                      }),
                    this.GetCapsulesPerRowDropDown()
                  ),
                  d.createElement(
                    "div",
                    { className: j.HalfColumn },
                    d.createElement(mn, {
                      varName: "use_random_order",
                      onChange: this.OnRandomChange,
                      editModel: l,
                      section: r,
                      textToken: g
                        ? "#Sale_Section_UseRandomOrder_SortingTiers"
                        : "#Sale_Section_UseRandomOrder",
                      ttipToken: o
                        ? "#Sale_Section_UseRandomOrder_smart_hint"
                        : g
                        ? "#Sale_Section_UseRandomOrder_hint"
                        : "Sale_Section_UseRandomOrder_SortingTiers_hint",
                    }),
                    s &&
                      d.createElement(mn, {
                        varName: "random_from_entire_set",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_RandomFromSmartSet",
                        ttipToken: "#Sale_Section_RandomFromSmartSet_hint",
                      }),
                    r.use_random_order &&
                      d.createElement(
                        R.b,
                        { clanSteamID: l.GetClanSteamID() },
                        d.createElement(_.m, {
                          mustBeNumeric: !0,
                          rangeMin: 0,
                          label:
                            "(VO) " +
                            Object(f.f)("#Sale_Section_CapSectionItemCount"),
                          tooltip: Object(f.f)(
                            "#Sale_Section_CapSectionItemCount_hint"
                          ),
                          onChange: function (e) {
                            return a.OnCapItemCountChange(r, e.target.value);
                          },
                          value: this.state.capItemCountString,
                        })
                      ),
                    d.createElement(mn, {
                      varName: "show_as_carousel",
                      editModel: l,
                      section: r,
                      textToken: "#Sale_Section_ShowAsCarousel",
                      ttipToken: "#Sale_Section_ShowAsCarousel_Tooltip",
                    }),
                    !r.show_as_carousel &&
                      d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(mn, {
                          varName: "cap_section_content",
                          onChange: this.OnCapSectionChange,
                          editModel: l,
                          section: r,
                          textToken: "#Sale_Section_CapSectionContent",
                          ttipToken: "#Sale_Section_CapSectionContent_Tooltip",
                        }),
                        r.cap_section_content &&
                          d.createElement(_.m, {
                            mustBeNumeric: !0,
                            rangeMin: 1,
                            label: Object(f.f)(
                              "#Sale_Section_CapSectionContentCount"
                            ),
                            tooltip: Object(f.f)(
                              "#Sale_Section_CapSectionContentCount_hint"
                            ),
                            onChange: function (e) {
                              return a.OnCapSectionRowCountChange(
                                r,
                                e.target.value
                              );
                            },
                            value: this.state.maxRowsString,
                          })
                      ),
                    c && d.createElement(dn, { editModel: l, section: r }),
                    d.createElement(pn, {
                      editModel: l,
                      section: r,
                      bDisabled: !m,
                    }),
                    p &&
                      d.createElement(mn, {
                        varName: "show_purchase_options",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_ShowPurchaseOptions",
                        ttipToken: "#Sale_Section_ShowPurchaseOptions_ttip",
                      }),
                    u &&
                      d.createElement(mn, {
                        valveOnly: !0,
                        varName: "hide_prices",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_HidePrices",
                        ttipToken: "#Sale_Section_HidePrices_ttip",
                      }),
                    d.createElement(un, { editModel: l, saleSection: r })
                  )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnRandomChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapSectionChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapItemCountChange", null),
            Object(a.c)([b.a], t.prototype, "OnCarouselRowsChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapSectionRowCountChange", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnCapsulesPerRowArrayChange",
              null
            ),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        un = Object(u.a)(function (e) {
          var t,
            n = e.saleSection,
            a = e.editModel;
          if ("items" !== n.section_type && "events" !== n.section_type)
            return null;
          var i = !0;
          null === (t = a.GetDynamicRevealSections()) ||
            void 0 === t ||
            t.forEach(function (e) {
              e.section_type == n.section_type &&
                e.unique_id != n.unique_id &&
                (i = !1);
            });
          var r = "#Sale_Section_RevealSetting_limit";
          return (
            i &&
              (r =
                "events" === n.section_type
                  ? "#Sale_Section_RevealSetting_event_ttip"
                  : "#Sale_Section_RevealSetting_ttip"),
            "items" === n.section_type &&
              Boolean(n.smart_section_type) &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            "events" === n.section_type &&
              Boolean(n.smart_section_type) &&
              "recent_tagged_events" !== n.smart_section_type &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            d.createElement(mn, {
              valveOnly: !0,
              varName: "dynamic_reveal",
              editModel: a,
              section: n,
              textToken: "#Sale_Section_RevealSetting",
              ttipToken: r,
              disabled: !i,
            })
          );
        }),
        dn = function (e) {
          return d.createElement(mn, {
            valveOnly: !0,
            varName: "show_as_demos",
            editModel: e.editModel,
            section: e.section,
            textToken: "#Sale_Section_UseDemoLayout",
            ttipToken: "#Sale_Section_UseDemoLayout_ttip",
          });
        },
        pn = Object(u.a)(function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.bDisabled;
          if ("items" !== n.section_type) return null;
          var i = [
            {
              label: Object(f.f)("#Sale_Section_SingleItemDisplay_bordered"),
              tooltip: Object(f.f)(
                "#Sale_Section_SingleItemDisplay_bordered_ttip"
              ),
              data: "bordered",
            },
            {
              label: Object(f.f)("#Sale_Section_SingleItemDisplay_full"),
              tooltip: Object(f.f)("#Sale_Section_SingleItemDisplay_full_ttip"),
              data: "full",
            },
            {
              label: Object(f.f)("#Sale_Section_SingleItemDisplay_library"),
              tooltip: Object(f.f)(
                "#Sale_Section_SingleItemDisplay_library_ttip"
              ),
              data: "library",
            },
          ];
          return d.createElement(_.i, {
            disabled: a,
            rgOptions: i,
            label: Object(f.f)(
              a
                ? "#Sale_Section_SingleItemDisplay_disabled"
                : "#Sale_Section_SingleItemDisplay"
            ),
            tooltip: Object(f.f)(
              a
                ? "#Sale_Section_SingleItemDisplay_disabled_ttip"
                : "#Sale_Section_SingleItemDisplay_ttip"
            ),
            strDropDownClassName: j.DropDownScroll,
            selectedOption: n.single_item_style || St.w,
            onChange: function (e) {
              n.single_item_style !== e.data &&
                ((n.single_item_style = e.data),
                t.SetDirty(o.c.jsondata_sales));
            },
          });
        }),
        mn = Object(u.a)(function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.varName,
            i = e.valveOnly,
            r = e.textToken,
            l = e.ttipToken,
            s = e.disabled,
            c = e.onChange,
            u = function (e) {
              (n[a] = e), t.SetDirty(o.c.jsondata_sales), c && c(n, e);
            };
          return i
            ? d.createElement(
                R.b,
                { clanSteamID: t.GetClanSteamID() },
                d.createElement(_.e, {
                  onChange: u,
                  label: "(VO) " + Object(f.f)(r),
                  tooltip: Object(f.f)(l),
                  checked: n[a],
                  disabled: s,
                })
              )
            : d.createElement(_.e, {
                onChange: u,
                label: Object(f.f)(r),
                tooltip: Object(f.f)(l),
                checked: n[a],
                disabled: s,
              });
        }),
        _n = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_descBBCodeEditor = d.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetCurText = function () {
              var e = this.props,
                t = e.editModel,
                n = e.saleSection,
                a =
                  n.text_section_contents &&
                  n.text_section_contents[t.GetCurEditLanguage()];
              return a || "";
            }),
            (t.prototype.SetText = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.saleSection;
              n.SetSaleSectionTextLocalization(
                n.GetCurEditLanguage(),
                n.GetSaleSectionIndexByID(a.unique_id),
                e
              );
            }),
            (t.prototype.OnTextChange = function (e) {
              this.SetText(e.currentTarget.value);
            }),
            (t.prototype.OnImageInsert = function (e, t) {
              this.m_descBBCodeEditor.current &&
                Object(Et.b)(this.m_descBBCodeEditor.current, e, t);
            }),
            (t.prototype.OnRelatedToBroadcast = function (e) {
              this.props.saleSection.hide_section_if_broadcast_is_hidden !==
                e &&
                ((this.props.saleSection.hide_section_if_broadcast_is_hidden = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.saleSection;
              return d.createElement(
                "div",
                { className: J.TextSectionGroup },
                d.createElement(
                  "div",
                  { className: J.TextSectionBBCode },
                  d.createElement(Tt.a, {
                    fnGetCurText: this.GetCurText,
                    fnOnTextChange: this.OnTextChange,
                    fnSetText: this.SetText,
                    ref: this.m_descBBCodeEditor,
                    strPlaceholder: Object(f.f)(
                      "#EventEditor_SaleTextSection_PlaceHolder"
                    ),
                    emoticonStore: Ot.b,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: y.EventEditorDescription,
                    limitBBCode: N.b.CAN_UPLOAD_IMAGES ? void 0 : vt.f,
                    clanSteamID: n.GetClanSteamID(),
                  }),
                  d.createElement(
                    k.a,
                    {
                      toolTipContent: Object(f.f)(
                        "#EventEditor_RelatedToBroadcast_ttip"
                      ),
                    },
                    d.createElement(
                      "div",
                      { className: j.EventEditorTextTitle },
                      Object(f.f)("#EventEditor_RelatedToBroadcast")
                    )
                  ),
                  d.createElement(_.e, {
                    onChange: function (t) {
                      return e.OnRelatedToBroadcast(t);
                    },
                    label: Object(f.f)(
                      "#EventEditor_RelatedToBroadcast_action"
                    ),
                    checked: Boolean(a.hide_section_if_broadcast_is_hidden),
                  })
                ),
                N.b.CAN_UPLOAD_IMAGES &&
                  d.createElement(
                    "div",
                    {
                      className: Object(L.a)(
                        j.RightCol,
                        Vt.DescEditorPadding,
                        J.TextSectionImages
                      ),
                    },
                    d.createElement(s.a, {
                      bShowLightBox: !0,
                      clanSteamID: n.GetClanSteamID(),
                      imageInsertCallBack: this.OnImageInsert,
                      fnSetImageURL: n.SetImageURL,
                      rgRealmList: n.GetIncludedRealmList(),
                    })
                  )
              );
            }),
            Object(a.c)([b.a], t.prototype, "GetCurText", null),
            Object(a.c)([b.a], t.prototype, "SetText", null),
            Object(a.c)([b.a], t.prototype, "OnTextChange", null),
            Object(a.c)([b.a], t.prototype, "OnImageInsert", null),
            Object(a.c)([b.a], t.prototype, "OnRelatedToBroadcast", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        gn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.EnsureBrowseData = function () {
              var e = this.props,
                t = e.saleSection,
                n = e.editModel;
              t.item_browse_section_data ||
                ((t.item_browse_section_data = {}),
                n.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnSubscriptionIDChange = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.master_subscription =
                  Number.parseInt(e.target.value) || 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnRemoveTab = function (e) {
              this.EnsureBrowseData();
              var t = this.props.editModel,
                n = this.props.saleSection.item_browse_section_data;
              e >= 0 &&
                e < n.tabs.length &&
                (n.tabs.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnAddTab = function (e) {
              this.EnsureBrowseData(),
                this.props.saleSection.item_browse_section_data.tabs ||
                  (this.props.saleSection.item_browse_section_data.tabs = []),
                this.props.saleSection.item_browse_section_data.tabs.push(e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnShowAsDemos = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.show_as_demos = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEnableSearch = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.enable_search = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RenderTabName = function (e) {
              var t = St.D.find(function (t) {
                return t.flavor === e;
              });
              return d.createElement(
                d.Fragment,
                null,
                t ? Object(f.f)(t.label) : e,
                d.createElement(qt, { tooltip: Object(f.f)(t.tooltip) })
              );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection.item_browse_section_data || {},
                n = t.master_subscription,
                a = t.tabs || [],
                i = St.E.filter(function (e) {
                  return (
                    void 0 ===
                    a.find(function (t) {
                      return t === e;
                    })
                  );
                }).map(function (t) {
                  return d.createElement(
                    "div",
                    { key: t, className: y.ItemBrowseInactiveTab },
                    d.createElement(
                      "div",
                      {
                        className: y.ItemBrowseInactiveTabAdd,
                        onClick: function () {
                          return e.OnAddTab(t);
                        },
                      },
                      d.createElement(It.r, null)
                    ),
                    e.RenderTabName(t)
                  );
                });
              return d.createElement(
                "div",
                null,
                d.createElement(_.e, {
                  label: Object(f.f)("#Sale_Section_EnableSearch"),
                  tooltip: Object(f.f)("#Sale_Section_EnableSearch_ttip"),
                  onChange: this.OnEnableSearch,
                  checked: t.enable_search,
                }),
                d.createElement(_.e, {
                  label: Object(f.f)("#Sale_Section_UseDemoLayout"),
                  tooltip: Object(f.f)("#Sale_Section_UseDemoLayout_ttip"),
                  onChange: this.OnShowAsDemos,
                  checked: t.show_as_demos,
                }),
                d.createElement(_.m, {
                  type: "text",
                  label: Object(f.f)("#Sale_BrowseSection_SubscriptionID"),
                  tooltip: Object(f.f)(
                    "#Sale_BrowseSection_SubscriptionID_ttip"
                  ),
                  onChange: this.OnSubscriptionIDChange,
                  value: n,
                }),
                d.createElement(
                  R.b,
                  {
                    clanSteamID: this.props.editModel.GetClanSteamID(),
                    requireAdmin: !0,
                  },
                  d.createElement(hn, {
                    editModel: this.props.editModel,
                    section: this.props.saleSection,
                  })
                ),
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_BrowseSection_TabList"),
                  d.createElement(qt, {
                    tooltip: Object(f.f)("#Sale_BrowseSection_TabList_ttip"),
                  })
                ),
                d.createElement(D.a, {
                  items: a,
                  onDelete: this.OnRemoveTab,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return d.createElement(
                      "div",
                      { className: y.ItemBrowseActiveTab },
                      e.RenderTabName(t)
                    );
                  },
                }),
                d.createElement(
                  "div",
                  { className: j.EventEditorTextTitle },
                  Object(f.f)("#Sale_BrowseSection_AdditionalTabList"),
                  d.createElement(qt, {
                    tooltip: Object(f.f)(
                      "#Sale_BrowseSection_AdditionalTabList_ttip"
                    ),
                  })
                ),
                d.createElement("div", null, i),
                d.createElement(it.a, {
                  section: this.props.saleSection,
                  capsuleContainer: this.props.saleSection,
                  editModel: this.props.editModel,
                  bAllowPruneFacets: !0,
                })
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnSubscriptionIDChange", null),
            Object(a.c)([b.a], t.prototype, "OnRemoveTab", null),
            Object(a.c)([b.a], t.prototype, "OnAddTab", null),
            Object(a.c)([b.a], t.prototype, "OnShowAsDemos", null),
            Object(a.c)([b.a], t.prototype, "OnEnableSearch", null),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        hn = Object(u.a)(function (e) {
          var t,
            n,
            a,
            i,
            r = e.editModel,
            l = e.section,
            s = Object(d.useState)(!0),
            c = s[0],
            u = s[1],
            p = function () {
              l.item_browse_section_data || (l.item_browse_section_data = {});
            },
            m =
              (null === (t = Jt(r, l)) || void 0 === t ? void 0 : t.tabs) || [],
            g =
              ((a = Ht.Get()),
              Object(d.useEffect)(
                function () {
                  a.EnsureLoaded();
                },
                [a]
              ),
              a.GetHubs());
          return (
            g &&
              (i = Array.from(null == g ? void 0 : g.keys()).map(function (e) {
                return {
                  label:
                    (null == e ? void 0 : e.length) > 0
                      ? g.get(e) + " (" + e + ")"
                      : "" + g.get(e),
                  value: e,
                };
              })),
            d.createElement(
              Xt,
              {
                title: Object(f.f)("#Sale_BrowseSection_ContentHubTitle"),
                tooltip: Object(f.f)("#Sale_BrowseSection_ContentHubTooltip"),
                getMinimized: function () {
                  return c;
                },
                toggleMinimized: function () {
                  return u(!c);
                },
              },
              Boolean(g)
                ? d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      _.n,
                      null,
                      Object(f.f)("#Sale_BrowseSection_ContentHub")
                    ),
                    d.createElement(ve.a, {
                      options: i,
                      value: i.find(function (e) {
                        var t;
                        return (
                          e.value ===
                          (null === (t = l.item_browse_section_data) ||
                          void 0 === t
                            ? void 0
                            : t.source_content_hub)
                        );
                      }),
                      onChange: function (e) {
                        p(),
                          (l.item_browse_section_data.source_content_hub =
                            e.value),
                          r.SetDirty(o.c.jsondata_sales);
                      },
                      isSearchable: !0,
                    }),
                    d.createElement(_.e, {
                      label: Object(f.f)(
                        "#Sale_BrowseSection_ContentHubDiscountedOnly"
                      ),
                      checked:
                        null === (n = l.item_browse_section_data) ||
                        void 0 === n
                          ? void 0
                          : n.content_hub_discounted_only,
                      onChange: function (e) {
                        p(),
                          (l.item_browse_section_data.content_hub_discounted_only = e),
                          r.SetDirty(o.c.jsondata_sales);
                      },
                    }),
                    d.createElement(
                      "p",
                      null,
                      Object(f.f)(
                        "#Sale_BrowseSection_ContentHubTabOverridesDesc"
                      )
                    ),
                    null == m
                      ? void 0
                      : m.map(function (e) {
                          return d.createElement(
                            "div",
                            { key: "tab_override_" + e.unique_id },
                            d.createElement(
                              _.n,
                              null,
                              Object(f.f)(
                                "#Sale_BrowseSection_ContentHubTabOverride",
                                e.localized_label
                                  ? e.localized_label[Object(x.h)(N.c.LANGUAGE)]
                                  : Object(f.f)(e.default_label)
                              )
                            ),
                            d.createElement(ve.a, {
                              options: i,
                              value: i.find(function (t) {
                                return (
                                  t.value === e.source_content_hub_override
                                );
                              }),
                              onChange: function (t) {
                                return (function (e, t) {
                                  p(),
                                    (e.source_content_hub_override = t.value),
                                    r.SetDirty(o.c.jsondata_sales);
                                })(e, t);
                              },
                              isSearchable: !0,
                            })
                          );
                        })
                  )
                : d.createElement(he.a, { size: "medium", position: "center" })
            )
          );
        }),
        fn = Object(u.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            a = (e.index, n.internal_section_data),
            i = [
              {
                label: Object(f.f)(
                  "#Sale_VOInternalSection_SubscriptionPricing"
                ),
                data: "subscription_pricing",
              },
              {
                label: Object(f.f)("#Sale_VOInternalSection_TabContents"),
                data: "tab_contents",
              },
              {
                label: Object(f.f)("#Sale_VOInternalSection_TabReferences"),
                data: "tab_references",
              },
            ];
          var r = null == a ? void 0 : a.internal_type;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(_.i, {
              rgOptions: i,
              strDropDownClassName: j.DropDownScroll,
              selectedOption: r || "subscription_pricing",
              onChange: function (e) {
                (a.internal_type = e.data), t.SetDirty(o.c.jsondata_sales);
              },
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
            d.createElement(Me, {
              capsuleContainer: n,
              editModel: t,
              uniqueKey: "Section" + n.unique_id,
              disableDaySelection: !0,
            }),
            "subscription_pricing" === r &&
              d.createElement(_.m, {
                type: "text",
                label: Object(f.f)("#Sale_SubscriptionLogo"),
                tooltip: Object(f.f)("#Sale_SubscriptionLogo_ttip"),
                onChange: function (e) {
                  (a.subscription_logo_image = e.target.value),
                    t.SetDirty(o.c.jsondata_sales);
                },
                value: (null == a ? void 0 : a.subscription_logo_image) || "",
              }),
            !1
          );
        }),
        bn = Object(u.a)(function (e) {
          switch (e.saleSection.section_type) {
            case "items":
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(on, Object(a.a)({}, e)),
                d.createElement(
                  cn,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "events":
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(ln, Object(a.a)({}, e)),
                d.createElement(
                  cn,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "links":
              return d.createElement(
                d.Fragment,
                null,
                d.createElement(sn, Object(a.a)({}, e)),
                d.createElement(
                  cn,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "broadcast":
              return d.createElement(Nt, Object(a.a)({}, e));
            case "event_description":
              return d.createElement(Rt, Object(a.a)({}, e));
            case "text_section":
              return d.createElement(_n, Object(a.a)({}, e));
            case "curator":
              return d.createElement(Ft, Object(a.a)({}, e));
            case "vo_internal":
              return d.createElement(fn, Object(a.a)({}, e));
            case "tabs":
              return d.createElement(Ae, Object(a.a)({}, e));
            case "tab_buttons":
              return null;
            case "doors":
              return d.createElement("div", null, "No settings for now.");
            case "sale_item_browser":
              return d.createElement(gn, Object(a.a)({}, e));
            case "event_schedule":
              return d.createElement($, Object(a.a)({}, e));
            case "curator_recommendation":
              return d.createElement(xt, Object(a.a)({}, e));
            case "unselected_empty":
            default:
              return null;
          }
        });
      var vn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_bMounted = !1),
              (t.state = { storeCategories: [], storeTags: [] }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this;
              (this.m_bMounted = !0),
                r.a
                  .get(N.c.STORE_BASE_URL + "actions/ajaxgetstoretags")
                  .then(function (t) {
                    e.m_bMounted &&
                      e.setState({ storeTags: t.data && t.data.tags });
                  }),
                r.a
                  .get(N.c.STORE_BASE_URL + "actions/ajaxgetstorecategories")
                  .then(function (t) {
                    e.m_bMounted && e.setState({ storeCategories: t.data });
                  });
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_bMounted = !1;
            }),
            (t.prototype.OnSmartSectionTypeChange = function (e) {
              (this.props.saleSection.smart_section_type = e.data),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSmartSectionMaxAppChange = function (e) {
              (this.props.saleSection.smart_section_max_apps = Number.parseInt(
                e.target.value
              )),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.SetSmartSectionCategory = function (e) {
              (this.props.saleSection.smart_section_category = Number(e.data)),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.SetSmartSectionTag = function (e) {
              (this.m_refInput.element.value = ""),
                (this.props.saleSection.smart_section_tag = Number(e.id)),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.UpdateTagSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (a) {
                  return (
                    (t = e.target.value),
                    window.setTimeout(function () {
                      var e = n.state.storeTags
                        .filter(function (e) {
                          return (
                            -1 !== e.name.toLowerCase().indexOf(t.toLowerCase())
                          );
                        })
                        .map(function (e) {
                          return { id: e.tagid, name: e.name, type: "tag" };
                        });
                      n.m_searchResultsMenu = Object(T.a)(
                        d.createElement(
                          W.c,
                          { className: J.SearchResults },
                          e.map(function (e) {
                            return d.createElement(
                              W.d,
                              {
                                key: e.id,
                                onSelected: function () {
                                  return n.SetSmartSectionTag(e);
                                },
                              },
                              d.createElement(
                                "div",
                                {
                                  style: {
                                    display: "flex",
                                    alignItems: "center",
                                  },
                                },
                                Object(Q.b)(e.name),
                                "",
                                d.createElement("span", null, "(", e.id, ")"),
                                "",
                                d.createElement(
                                  "span",
                                  { className: J.SmallText },
                                  "(",
                                  e.type,
                                  ")"
                                )
                              )
                            );
                          })
                        ),
                        n.m_refInput.element,
                        {
                          bOverlapHorizontal: !0,
                          bMatchWidth: !0,
                          bFitToWindow: !0,
                          bDisablePopTop: !0,
                        }
                      );
                    }, 300),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.SetMasterAppID = function (e, t) {
              var n = this;
              this.m_refInput &&
                this.m_refInput.element &&
                this.m_refInput.element.value &&
                (this.m_refInput.element.value = ""),
                Object(O.G)(function () {
                  (n.props.saleSection.capsules = [{ id: e, type: t }]),
                    Object(ge.i)(n.props.saleSection.capsules),
                    n.props.editModel.SetDirty(o.c.jsondata_sales);
                });
            }),
            (t.prototype.OnChooseMasterSubscriptionID = function (e) {
              Object(M.d)(
                d.createElement(Te, { fnAddCapsule: this.SetMasterAppID }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.render = function () {
              var e,
                t = this,
                n = this.props.editModel,
                a = this.state.storeCategories.map(function (e) {
                  return { label: e.name, data: e.categoryid };
                }),
                i = [
                  { label: Object(f.f)("#Sale_Wishlist"), data: "wishlist" },
                  {
                    label: Object(f.f)("#Sale_InteractiveRecommender"),
                    data: "interactive_recommender",
                  },
                  { label: Object(f.f)("#Sale_Tag"), data: "tag" },
                  { label: Object(f.f)("#Sale_Category"), data: "category" },
                  {
                    label: Object(f.f)("#Sale_BrowserSortOption_Discounted"),
                    data: "discounted",
                  },
                ];
              Object(R.a)(n.GetClanSteamID()) &&
                (i.push({
                  label: "(VO) Tag Recommender (?)",
                  tooltip:
                    "Orders games featured on this sales page by their original store tags mashed against the recommended tags for the logged in users.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "tag_recommender",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_TopWishlisted") +
                    " (?)",
                  tooltip:
                    "Orders games featured on this sales page by all time wishlist data.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "topwishlisted",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_TrendingWishlisted") +
                    " (?)",
                  tooltip:
                    "Orders games featured on this sales page by using trending wishlist data from last 2 weeks as a sliding window.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "trendingwishlisted",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_PopularPurchased") +
                    " (?)",
                  tooltip:
                    "Show games featured on this sale page, ordered by their recent trending sales data",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "popularpurchased",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)(
                      "#Sale_BrowserSortOption_PopularPurchasedDiscounted"
                    ) +
                    " (?)",
                  tooltip:
                    "Shows games featured on this sale page that also have a DISCOUNT NOW, and orders them by their recent trending sales data",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "popularpurchaseddiscounted",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_NewAndTrending") +
                    " (?)",
                  tooltip:
                    "Shows games in a similar fashion to the front pages New and Trending tab. Mix of recency of release, review score and play count",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "newandtrending",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_PopularComingSoon") +
                    " (?)",
                  tooltip:
                    "Orders not released games featured on this sales page by their all time wishlists data.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "popularcomingsoon",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_MostPlayedDemo") +
                    " (?)",
                  tooltip:
                    "Orders games featured on this sales page by total demo player count (all-time).",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "mostplayeddemo",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_DailyActiveUserDemo") +
                    " (?)",
                  tooltip:
                    "Orders games featured on this sales page by yesterdays peak player count.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "dailyactiveuserdemo",
                }),
                i.push({
                  label:
                    "(VO) " +
                    Object(f.f)("#Sale_BrowserSortOption_PlayedNowDemo") +
                    " (?)",
                  tooltip:
                    "This is limited to Demo AppIDs. Using only featured games from this sale page. Will sort games using live server player count data with a 5 minute.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "playednowdemo",
                }),
                i.push({
                  label:
                    "(VO) Show ANY discounted item from user's wishlist (?)",
                  tooltip:
                    "This will pull the ANY discount game that is also on the logged in users wishlist across the entire Steam catalog. Not limited to the games featured on this sale page.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "wishlist_onsale",
                }),
                i.push({
                  label: "(VO) Show ANY discounted DLC from user's library (?)",
                  tooltip:
                    "This will pull the ANY DLC for a game in the users library that is on Sale. Not limited to the DLCs featured on this sale page.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "dlc_onsale",
                }),
                i.push({
                  label:
                    "(VO) Show ANY discounted Soundtracks from user's library (?)",
                  tooltip:
                    "This will pull any soundtrack (specific DLC) for a game the user owns that is on sale across the entire Steam catalog",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "dlc_music_onsale",
                }),
                i.push({
                  label: "(VO) Show ANY discounted Top Seller (?)",
                  tooltip:
                    "This will pull the TOP discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "top_n",
                }),
                i.push({
                  label: "(VO) Show ANY discounted (?)",
                  tooltip:
                    "This will pull ALL discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "all_discounted",
                }),
                i.push({
                  label:
                    "(VO) Show ANY discounted interactive recommendations (?)",
                  tooltip:
                    "This will use the interactive recommender results for logged in users to pull the TOP recommended that are also on discount across the ENTIRE Steam catalog. It is not limited to the games specifically featured in this sales page.",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "interactive_recommender_onsale",
                }),
                i.push({
                  label:
                    "(VO) Show Various TAGs as clickable links to hub pages (?)",
                  tooltip:
                    "Displays a carousel of tag related images that will direct for a set of curated tags backed by Steam Tag Content hubs",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "sale_tabhub",
                }),
                i.push({
                  label:
                    "(VO) Show Interactive Recommended Games from Subscription (?)",
                  tooltip:
                    "Specific to a Master Subscription (ie, EA Play) on Steam.  Will only displayed IR recommended games for a logged in users that part of the master subscription",
                  strOptionClass: Object(L.a)(j.ValveOnlyBackground),
                  data: "ir_subscription",
                }));
              var r = this.props.saleSection,
                o = this.props.saleSection.smart_section_type;
              return d.createElement(
                me.a,
                null,
                d.createElement(
                  "div",
                  { className: Object(L.a)(j.FlexRowContainer) },
                  d.createElement(_.i, {
                    strClassName: J.SmartSelType,
                    label: Object(f.f)("#Sale_SmartSectionType"),
                    rgOptions: i,
                    selectedOption:
                      this.props.saleSection.smart_section_type || "wishlist",
                    onChange: this.OnSmartSectionTypeChange,
                    contextMenuPositionOptions: { bDisablePopTop: !0 },
                  }),
                  d.createElement(
                    "div",
                    null,
                    d.createElement(
                      "label",
                      {
                        className: Object(L.a)("DialogLabel", J.SmartSelLabel),
                      },
                      Object(f.f)("#Sale_SmartSection_MaxApps")
                    ),
                    d.createElement(
                      "div",
                      null,
                      d.createElement("input", {
                        className: Object(L.a)(J.SmartSelCount),
                        type: "number",
                        min: "0",
                        value: this.props.saleSection.smart_section_max_apps,
                        onChange: this.OnSmartSectionMaxAppChange,
                      })
                    )
                  )
                ),
                "tag" === o &&
                  d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(_.m, {
                      onBlur: function () {
                        setTimeout(function () {
                          return (
                            t.m_searchResultsMenu &&
                            t.m_searchResultsMenu.Hide()
                          );
                        }, 200);
                      },
                      ref: function (e) {
                        return (t.m_refInput = e);
                      },
                      type: "text",
                      label: Object(f.f)("#Sale_SelectTag"),
                      onChange: this.UpdateTagSuggestions,
                    }),
                    d.createElement(
                      "div",
                      null,
                      null ===
                        (e = this.state.storeTags.find(function (e) {
                          return (
                            Number(e.tagid) ===
                            t.props.saleSection.smart_section_tag
                          );
                        })) || void 0 === e
                        ? void 0
                        : e.name
                    )
                  ),
                "category" === o &&
                  d.createElement(_.i, {
                    key: a.length,
                    label: Object(f.f)("#Sale_SelectCategory"),
                    strDropDownClassName: j.DropDownScroll,
                    rgOptions: a,
                    selectedOption:
                      this.props.saleSection.smart_section_category || 1,
                    onChange: this.SetSmartSectionCategory,
                    contextMenuPositionOptions: { bDisablePopTop: !0 },
                  }),
                "ir_subscription" === o &&
                  d.createElement(
                    "div",
                    null,
                    Boolean(r.capsules && r.capsules.length > 0) &&
                      d.createElement(Oe, { capsule: r.capsules[0] }),
                    d.createElement(
                      "div",
                      { className: J.SaleImportBarButtonGroup },
                      d.createElement(
                        k.a,
                        {
                          toolTipContent:
                            "Enter the master subscription appid ID.",
                        },
                        d.createElement(
                          _.d,
                          {
                            className: J.SaleImportBarButton,
                            onClick: this.OnChooseMasterSubscriptionID,
                          },
                          "Set Master Subscription ID"
                        )
                      )
                    )
                  ),
                d.createElement(it.a, {
                  section: this.props.saleSection,
                  capsuleContainer: this.props.saleSection,
                  editModel: this.props.editModel,
                })
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnSmartSectionTypeChange", null),
            Object(a.c)([b.a], t.prototype, "OnSmartSectionMaxAppChange", null),
            Object(a.c)([b.a], t.prototype, "SetSmartSectionCategory", null),
            Object(a.c)([b.a], t.prototype, "SetSmartSectionTag", null),
            Object(a.c)([b.a], t.prototype, "UpdateTagSuggestions", null),
            Object(a.c)([b.a], t.prototype, "SetMasterAppID", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnChooseMasterSubscriptionID",
              null
            ),
            (t = Object(a.c)([u.a], t))
          );
        })(d.Component),
        En = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                sections: Object(a.g)(t.props.editModel.GetSaleSections()),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RenderSection = function (e) {
              var t = this.props.editModel,
                n = t.GetSaleSections().findIndex(function (t) {
                  return e === t;
                }),
                i = Object(a.a)(Object(a.a)({}, Kt(e, t.GetEventModel())), {
                  color: e.label_color,
                });
              return d.createElement(
                "div",
                { className: y.SectionTitle, style: i },
                nn(e, t.GetCurEditLanguage(), t, n, !0)
              );
            }),
            (t.prototype.OnOK = function () {
              var e = this.props,
                t = e.editModel,
                n = e.closeModal,
                a = this.state.sections;
              (t.GetEventModel().jsondata.sale_sections = a),
                t.SetDirty(o.c.jsondata_sales),
                n();
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal,
                t = this.state.sections;
              return d.createElement(
                h.e,
                {
                  onOK: this.OnOK,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: g.NotTooWideModal,
                },
                d.createElement(
                  _.l,
                  null,
                  Object(f.f)("#Sale_ReorderSections")
                ),
                d.createElement(
                  _.b,
                  null,
                  d.createElement(
                    "div",
                    { className: y.ReorderSectionCtn },
                    d.createElement(
                      "div",
                      { className: y.SectionList },
                      d.createElement(D.a, {
                        items: t,
                        render: this.RenderSection,
                      })
                    ),
                    d.createElement(
                      "div",
                      { className: y.OKButton },
                      d.createElement(
                        _.r,
                        { onClick: this.OnOK },
                        Object(f.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "RenderSection", null),
            Object(a.c)([b.a], t.prototype, "OnOK", null),
            t
          );
        })(d.Component),
        Sn = function (e) {
          return d.createElement(
            _.d,
            {
              "data-tooltip-text": Object(f.f)(
                e.bIsMinimized
                  ? "#Sale_Section_Maximize_Tooltip"
                  : "#Sale_Section_Minimize_Tooltip"
              ),
              onClick: e.fnToggleMinimize,
            },
            " ",
            e.bIsMinimized
              ? d.createElement(It.G, null)
              : d.createElement(It.J, null)
          );
        },
        yn = Object(u.a)(function (e) {
          var t,
            n,
            i = function (e, t, n, a, i) {
              void 0 === a && (a = !1),
                e.push({
                  strLabel: t,
                  strSectionId: n,
                  style: i,
                  bIndent: a,
                  bSectionIsVisible: zt.m_mapVisibleSections.has(n),
                });
            },
            r = e.editModel,
            o = r.GetEventModel(),
            l = new Array();
          if (
            (i(
              l,
              Object(f.f)("#Sale_PageConfigOptions"),
              "SalePageEdit_Config"
            ),
            (Object(R.a)(r.GetClanSteamID(), !1) ||
              o.GetTaggedItems().length > 0) &&
              i(
                l,
                Object(f.f)(
                  "#Sale_TaggedItemsSection",
                  o.GetTaggedItems().length
                ),
                "SalePageEdit_TaggedItems"
              ),
            Object(R.a)(r.GetClanSteamID(), !1) ||
              (null === (t = o.jsondata.sorting_tiers) || void 0 === t
                ? void 0
                : t.length) > 0)
          ) {
            var s =
              (null === (n = r.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === n
                ? void 0
                : n.length) || 0;
            i(
              l,
              Object(f.f)("#Sale_SortingTiersSection", s),
              "SalePageEdit_SortingTiers"
            );
          }
          i(
            l,
            Object(f.f)("#Sale_Artwork_Sections"),
            "SalePageEdit_AllArtworkCtn"
          );
          var c = !1;
          return (
            o.GetSaleSections().forEach(function (e, t) {
              var n = nn(e, r.GetCurEditLanguage(), r, t, !0),
                s = Object(a.a)(Object(a.a)({}, Kt(e, o)), {
                  color: e.label_color,
                }),
                u = "SaleSection_" + e.unique_id;
              i(l, n, u, c, s), "tabs" === e.section_type && (c = !0);
            }),
            d.createElement(
              me.a,
              null,
              d.createElement(bt, {
                elTopContent: d.createElement(rt.c, { editModel: e.editModel }),
                strHeader: Object(f.f)("#Sale_TOC"),
                rows: l,
                onSelected: function (t) {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: d.createElement(Qt, {
                  editModel: e.editModel,
                }),
              })
            )
          );
        });
    },
    nvcf: function (e, t, n) {
      e.exports = {
        EventCategoryCtn: "partnereventsalewidgeteditor_EventCategoryCtn_46KWq",
        EventCategoryWidth:
          "partnereventsalewidgeteditor_EventCategoryWidth_3SyzC",
        SingleLine: "partnereventsalewidgeteditor_SingleLine_JPNIC",
      };
    },
    oqmg: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return q;
      }),
        n.d(t, "c", function () {
          return X;
        }),
        n.d(t, "d", function () {
          return $;
        }),
        n.d(t, "e", function () {
          return ee;
        }),
        n.d(t, "a", function () {
          return se;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("fcuX"),
        l = n("KP/B"),
        s = n("226m"),
        c = n("i3zJ"),
        u = n("UvY0"),
        d = n("2vnA"),
        p = n("TyAF"),
        m = n("q1tI"),
        _ = n("Cs6D"),
        g = n("vwsU"),
        h = n("dsQf"),
        f = n.n(h),
        b = n("TtDX"),
        v = n("5eAM"),
        E = n("R+8l"),
        S = n("oVVc"),
        y = n("y+6m"),
        O = n("Mgs7"),
        T = n("qP7j"),
        C = n("fpVW"),
        j = n("gyoR"),
        I = n("MnIK"),
        w = n("Jqb/"),
        M = n("ka0M"),
        D = n("xnZ7"),
        k = n.n(D),
        G = n("0OaU"),
        L = n("+d9t"),
        A = n("qiKp"),
        B = n("exH9"),
        N = n("TLQK"),
        F = n("bxiW"),
        R = n("bS9Q"),
        x = n("IzPI"),
        P = n("lkRc"),
        U = n("as1E"),
        V = n("k3PP"),
        H = n("JiI5"),
        z = n("IMce");
      function W(e) {
        return (e = (e = (e = e.replace('"', " ")).replace("<", " ")).replace(
          ">",
          " "
        )).trim();
      }
      function q(e) {
        var t = null,
          n = "",
          a = !1,
          i = null == e ? void 0 : e.type;
        if ("bundle" === i)
          (t = E.a.GetBundleInfo(e.id)),
            (n = P.c.STORE_BASE_URL + "bundle/" + e.id),
            (a = !t);
        else if ("sub" === i)
          (t = S.b.GetPackageInfo(e.id)),
            (n = P.c.STORE_BASE_URL + "sub/" + e.id),
            (a = !t);
        else if (i) {
          v.a.LoadAppLinkInfo([e.id]);
          var r = v.a.GetAppLinkInfo(e.id);
          (t = r && r.name ? r : null),
            (n = P.c.STORE_BASE_URL + "app/" + e.id),
            (a = !t && v.a.BHasAppLinkLoaded(e.id));
        }
        return { appData: t, linkURL: n, bInvalidID: a };
      }
      var K = function (e) {
          return m.createElement("img", {
            className: k.a.RemoveIcon,
            src: f.a,
            onClick: e.onClick,
          });
        },
        Y = function (e) {
          var t,
            n = e.clause;
          if (!(null === (t = n.or_tags) || void 0 === t ? void 0 : t.length))
            return null;
          var a =
              ("Must have" === n.type
                ? Object(N.f)("#Sale_TagFilter_MustHave")
                : Object(N.f)("#Sale_TagFilter_MustNotHave")) +
              " '" +
              n.or_tags.join("' " + Object(N.f)("#Sale_TagFilter_Or") + " '") +
              "'",
            i = "Must have" === n.type ? z.MustHaveClause : z.MustNotHaveClause;
          return m.createElement(
            "div",
            { className: Object(B.a)(i, z.ClauseRowCtn) },
            a
          );
        },
        Q = function (e) {
          var t = e.filter;
          return Object(l.q)(t)
            ? m.createElement(
                "div",
                { className: z.FilterDisplayNoFilter },
                Object(N.f)("#Sale_TagFilter_NoFilter"),
                m.createElement(V.d, {
                  tooltip: Object(N.f)("#Sale_TagFilter_NoFilter_ttip"),
                })
              )
            : m.createElement(
                "div",
                { className: z.FilterDisplayList },
                t.clauses.map(function (e, t) {
                  return m.createElement(Y, { clause: e, key: "clause" + t });
                })
              );
        },
        J = (function () {
          function e(e) {
            this.m_storageKey = "RecentTags_" + e;
            var t = window.localStorage.getItem(this.m_storageKey);
            this.m_Tags = t ? JSON.parse(t) : [];
          }
          return (
            (e.prototype.GetRecentTags = function () {
              return this.m_Tags;
            }),
            (e.prototype.AddRecentTag = function (e) {
              var t = this.m_Tags.filter(function (t) {
                return t.toLocaleLowerCase() !== e.toLocaleLowerCase();
              });
              this.m_Tags = Object(a.g)([e], t).slice(0, 20);
              var n = JSON.stringify(this.m_Tags);
              window.localStorage.setItem(this.m_storageKey, n);
            }),
            (e.Get = function (t) {
              var n = e.m_mapStores.get(t.GetEventModel().GID);
              return (
                n ||
                  ((n = new e(t.GetEventModel().GID)),
                  e.m_mapStores.set(t.GetEventModel().GID, n)),
                n
              );
            }),
            (e.m_mapStores = new Map()),
            Object(a.c)([d.C], e.prototype, "m_Tags", void 0),
            e
          );
        })(),
        Z = Object(p.a)(function (e) {
          var t = e.id,
            n = e.type,
            a = e.name;
          return m.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            m.createElement(
              "div",
              { className: k.a.GameImageContainer },
              m.createElement("img", {
                src: Object(x.b)(Number(t)),
                className: k.a.AvatarImage,
              })
            ),
            Object(R.b)(a),
            "",
            m.createElement("span", null, "(", t, ")"),
            "",
            m.createElement("span", { className: H.SmallText }, "(", n, ")")
          );
        }),
        X = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_currentRequest = 0), (t.m_refInput = m.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnAddItem = function (e, t) {
              (this.m_refInput.current.element.value = ""),
                this.props.onAddItem(e, t);
            }),
            (t.prototype.UpdateAppSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(a.b)(n, void 0, void 0, function () {
                          var e,
                            n,
                            i,
                            o,
                            l,
                            s,
                            c,
                            u,
                            d,
                            p,
                            _,
                            g = this;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                return (
                                  (e = new Array()),
                                  0 !== t.indexOf("https://")
                                    ? [3, 1]
                                    : ((n = t.split("/")),
                                      (i = n.indexOf("app")),
                                      (o =
                                        i > -1 &&
                                        n.length > i + 1 &&
                                        n[i + 1]) &&
                                        e.push({
                                          id: o,
                                          name: n[-1],
                                          type: "game",
                                        }),
                                      (l = n.indexOf("bundle")),
                                      (s =
                                        l > -1 &&
                                        n.length > l + 1 &&
                                        n[l + 1]) &&
                                        e.push({
                                          id: s,
                                          name: n[-1],
                                          type: "bundle",
                                        }),
                                      (c = n.indexOf("sub")),
                                      (u =
                                        c > -1 &&
                                        n.length > c + 1 &&
                                        n[c + 1]) &&
                                        e.push({
                                          id: u,
                                          name: n[-1],
                                          type: "sub",
                                        }),
                                      [3, 3])
                                );
                              case 1:
                                return (
                                  (d =
                                    P.c.STORE_BASE_URL +
                                    "events_promotion_admin/ajaxitemsuggest"),
                                  (p = {
                                    term: t.replace(" ", "+"),
                                    cc: P.c.COUNTRY,
                                    l: P.c.LANGUAGE,
                                  }),
                                  [
                                    4,
                                    r.a.get(d, {
                                      params: p,
                                      withCredentials: !0,
                                    }),
                                  ]
                                );
                              case 2:
                                (_ = a.sent()).data && (e = _.data),
                                  (a.label = 3);
                              case 3:
                                return (
                                  e &&
                                    (this.m_searchResultsMenu = Object(b.a)(
                                      m.createElement(
                                        y.c,
                                        { className: H.SearchResults },
                                        e.map(function (e) {
                                          return m.createElement(
                                            y.d,
                                            {
                                              key: e.id,
                                              onSelected: function () {
                                                return g.OnAddItem(
                                                  Number(e.id),
                                                  e.type
                                                );
                                              },
                                            },
                                            m.createElement(Z, {
                                              name: e.name,
                                              id: Number(e.id),
                                              type: e.type,
                                            })
                                          );
                                        })
                                      ),
                                      this.m_refInput.current.element,
                                      {
                                        bOverlapHorizontal: !0,
                                        bMatchWidth: !0,
                                        bFitToWindow: !0,
                                        bDisablePopTop: !0,
                                      }
                                    )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              return m.createElement(
                "div",
                { className: H.SaleImportURL },
                m.createElement(O.m, {
                  type: "text",
                  label: Object(N.f)("#Sale_SelectApps"),
                  onChange: this.UpdateAppSuggestions,
                  placeholder: Object(N.f)("#Sale_SelectApps_Placeholder"),
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: this.m_refInput,
                  tooltip: Object(N.f)("#Sale_SelectApps_Tooltip"),
                })
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnAddItem", null),
            Object(a.c)([F.a], t.prototype, "UpdateAppSuggestions", null),
            t
          );
        })(m.Component),
        $ = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.capsuleContainer,
                i = Object(l.o)(n);
              (a.sale_tag_filter = e),
                (a.capsules = Object(l.r)(i, e, a.capsules));
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.capsuleContainer;
              Object(M.d)(
                m.createElement(se, {
                  editModel: this.props.editModel,
                  filter: e.sale_tag_filter,
                  title: Object(N.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreStartingReferences: e,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.capsuleContainer;
              return m.createElement(
                "div",
                { className: z.FilterDisplayCtn },
                m.createElement(
                  "div",
                  { className: z.FilterTitle },
                  Object(N.f)("#Sale_TagFilter_CurrentFilter"),
                  m.createElement(V.d, {
                    tooltip: Object(N.f)("#Sale_TagFilter_EditFilter_ttip"),
                  })
                ),
                m.createElement(
                  "div",
                  { className: z.FilterActionsCtn },
                  m.createElement(Q, { filter: e.sale_tag_filter }),
                  m.createElement(
                    O.d,
                    { onClick: this.OnEditFilter },
                    Object(N.f)("#Sale_TagFilter_EditFilter")
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnEditFilter", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        ee = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowItemEditor: !1,
                strSearch: "",
                bShowFiltered: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RemoveTagItem = function (e) {
              var t = this.props.editModel,
                n = t.GetEventModel().GetTaggedItems();
              e >= 0 &&
                e < n.length &&
                (n.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.AddTagItem = function (e, t) {
              Object(l.b)(this.props.editModel, t, e);
            }),
            (t.prototype.UpdateSearchText = function (e) {
              this.setState({ strSearch: e.target.value.toLowerCase() });
            }),
            (t.prototype.OnExploreTags = function () {
              var e = { clauses: new Array() };
              Object(M.d)(
                m.createElement(se, {
                  editModel: this.props.editModel,
                  filter: e,
                  title: Object(N.f)("#Sale_TagFilter_Explore"),
                }),
                window
              );
            }),
            (t.prototype.OnBatchEditTags = function () {
              Object(M.d)(
                m.createElement(oe, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnEditAutoTags = function () {
              Object(M.d)(
                m.createElement(pe, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props.editModel;
              (t.GetEventModel().jsondata.tagged_item_filter = e),
                Object(l.u)(t),
                t.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.editModel;
              Object(M.d)(
                m.createElement(se, {
                  editModel: e,
                  filter: Object(l.p)(e),
                  title: Object(N.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreEventFilter: !0,
                }),
                window
              );
            }),
            (t.prototype.OnShowFiltered = function (e) {
              this.setState({ bShowFiltered: e });
            }),
            (t.prototype.OnShowItemEditor = function () {
              this.setState({ bShowItemEditor: !0 });
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(M.d)(
                m.createElement(ce, {
                  editModel: this.props.editModel,
                  bRemoveMissingEntries: !0,
                }),
                window
              );
            }),
            (t.prototype.OnEditRawCustom = function (e) {
              Object(M.d)(
                m.createElement(ce, {
                  editModel: this.props.editModel,
                  collection: l.j.Custom,
                  bRemoveMissingEntries: !1,
                }),
                window
              );
            }),
            (t.prototype.OnDeleteFiltered = function () {
              var e = this.props.editModel;
              Object(l.g)(e) && e.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSync = function (e) {
              Object(M.d)(
                m.createElement(ue, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnImportDiscountEvent = function (e) {
              var t = this;
              Object(M.d)(
                m.createElement(c.a, {
                  onDiscountEventSelected: function (e, n) {
                    return Object(a.b)(t, void 0, void 0, function () {
                      var t, i, r;
                      return Object(a.e)(this, function (a) {
                        switch (a.label) {
                          case 0:
                            return (
                              (t = this.props.editModel),
                              (i = t.GetEventModel().GetTaggedItems()),
                              (r = new Array()),
                              e.forEach(function (e) {
                                if (
                                  !i.find(function (t) {
                                    return (
                                      t.capsule.id === e &&
                                      "sub" !== t.capsule.type
                                    );
                                  })
                                ) {
                                  var t = v.a.GetAppLinkInfo(e);
                                  r.push({
                                    capsule: {
                                      id: e,
                                      type: t ? t.type : "game",
                                    },
                                    tags: [],
                                  });
                                }
                              }),
                              n.forEach(function (e) {
                                i.find(function (t) {
                                  return (
                                    t.capsule.id === e &&
                                    "sub" === t.capsule.type
                                  );
                                }) ||
                                  r.push({
                                    capsule: { id: e, type: "sub" },
                                    tags: [],
                                  });
                              }),
                              0 == r.length ? [2] : [4, Object(l.w)(t, r)]
                            );
                          case 1:
                            return (
                              a.sent(),
                              i.push.apply(i, r),
                              t.SetDirty(o.c.jsondata_sales),
                              [2]
                            );
                        }
                      });
                    });
                  },
                }),
                window
              );
            }),
            (t.prototype.RenderEditPrompt = function () {
              return m.createElement(
                "div",
                { className: z.TagItemEditorCtn },
                m.createElement(
                  "div",
                  { className: z.ItemEditDescription },
                  Object(N.f)("#Sale_EditTags_EnableItemEditingDesc")
                ),
                m.createElement(
                  O.r,
                  { onClick: this.OnShowItemEditor },
                  Object(N.f)("#Sale_EditTags_EnableItemEditing")
                )
              );
            }),
            (t.prototype.RenderItemList = function () {
              var e = this,
                t = this.state,
                n = t.strSearch,
                a = t.bShowFiltered,
                i = this.props.editModel,
                r = Object(l.p)(i),
                o = 0,
                s = 0,
                c = i.GetEventModel().GetTaggedItems();
              Object(j.i)(
                c.map(function (e) {
                  return e.capsule;
                })
              );
              var d = c.map(function (t, c) {
                  var u = Object(l.h)(t.tags, r);
                  return (
                    u ? o++ : s++,
                    u || a
                      ? m.createElement(te, {
                          key: t.capsule.type + t.capsule.id,
                          item: t,
                          strSearchFilter: n,
                          editModel: i,
                          onRemove: function () {
                            return e.RemoveTagItem(c);
                          },
                        })
                      : null
                  );
                }),
                p =
                  (i.GetEventModel().jsondata.sale_opt_in_page_name,
                  V.g.IsMinimized(i, "TaggedItemList", !1));
              return m.createElement(
                "div",
                { className: z.ItemListCtn },
                m.createElement(
                  "div",
                  { className: z.ItemListTitle },
                  m.createElement(
                    "div",
                    { className: U.SaleSectionTitleHeader },
                    m.createElement(
                      "div",
                      { className: C.EventEditorTextTitle },
                      s > 0
                        ? Object(N.f)("#Sale_TaggedItemsCountFiltered", o, s)
                        : Object(N.f)("#Sale_TaggedItemsCount", o),
                      m.createElement(V.d, {
                        tooltip: Object(N.f)("#Sale_TaggedItemsCount_ttip"),
                      })
                    ),
                    m.createElement(V.b, {
                      bIsMinimized: p,
                      fnToggleMinimize: function () {
                        return V.g.ToggleMinimized(i, "TaggedItemList", !1);
                      },
                    })
                  ),
                  m.createElement(
                    "div",
                    { className: z.ItemListControls },
                    m.createElement(
                      "div",
                      { className: z.ButtonRow },
                      m.createElement(
                        O.d,
                        { onClick: this.OnExploreTags },
                        Object(N.f)("#Sale_Explore"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)("#Sale_ExploreTaggedItems_ttip"),
                        })
                      ),
                      m.createElement(
                        O.d,
                        { onClick: this.OnEditRaw },
                        Object(N.f)("#Sale_EditRaw"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)("#Sale_EditRawTaggedItems_ttip"),
                        })
                      )
                    ),
                    m.createElement(
                      u.b,
                      { clanSteamID: i.GetClanSteamID() },
                      m.createElement(
                        "div",
                        { className: z.ButtonRow },
                        m.createElement(
                          O.d,
                          { onClick: this.OnEditFilter },
                          Object(N.f)("#Sale_EditTaggedItemFilter"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditTaggedItemFilter_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          O.d,
                          { onClick: this.OnSync },
                          Object(N.f)("#Sale_SyncTaggedItems"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)("#Sale_SyncTaggedItems_ttip"),
                          })
                        ),
                        m.createElement(
                          O.d,
                          { onClick: this.OnImportDiscountEvent },
                          Object(N.f)("#Sale_DiscountEvent_Add"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)("#Sale_DiscountEvent_ttip"),
                          })
                        ),
                        m.createElement(
                          O.d,
                          { onClick: this.OnEditRawCustom },
                          Object(N.f)("#Sale_EditRawCustom"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditRawCustomTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          O.d,
                          { onClick: this.OnBatchEditTags },
                          Object(N.f)("#Sale_BatchEditTaggedItems"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_BatchEditTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          O.d,
                          { onClick: this.OnEditAutoTags },
                          Object(N.f)("#Sale_EditAutoTags"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)("#Sale_EditAutoTags_ttip"),
                          })
                        ),
                        s > 0 &&
                          m.createElement(
                            O.d,
                            { onClick: this.OnDeleteFiltered },
                            Object(N.f)("#Sale_DeleteFilteredItems"),
                            m.createElement(V.d, {
                              tooltip: Object(N.f)(
                                "#Sale_DeleteFilteredItems_ttip"
                              ),
                            })
                          )
                      )
                    )
                  )
                ),
                !p &&
                  m.createElement(
                    "div",
                    { className: z.ItemList },
                    s > 0 &&
                      m.createElement(O.e, {
                        label: Object(N.f)("#Sale_ShowFilteredTaggedItems"),
                        tooltip: Object(N.f)(
                          "#Sale_ShowFilteredTaggedItems_ttip"
                        ),
                        checked: this.state.bShowFiltered,
                        onChange: this.OnShowFiltered,
                      }),
                    m.createElement(O.m, {
                      type: "text",
                      label: Object(N.f)("#Sale_TaggedItemsFilter"),
                      placeholder: Object(N.f)("#Sale_TaggedItemsFilter"),
                      onChange: this.UpdateSearchText,
                      tooltip: Object(N.f)("#Sale_TaggedItemsFilter_ttip"),
                    }),
                    d
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.state.bShowItemEditor,
                t = this.props.editModel.GetEventModel().GetTaggedItems();
              return (null == t ? void 0 : t.length) || e
                ? m.createElement(
                    "div",
                    { className: z.TagItemEditorCtn },
                    m.createElement(X, { onAddItem: this.AddTagItem }),
                    this.RenderItemList()
                  )
                : this.RenderEditPrompt();
            }),
            Object(a.c)([F.a], t.prototype, "RemoveTagItem", null),
            Object(a.c)([F.a], t.prototype, "AddTagItem", null),
            Object(a.c)([F.a], t.prototype, "UpdateSearchText", null),
            Object(a.c)([F.a], t.prototype, "OnExploreTags", null),
            Object(a.c)([F.a], t.prototype, "OnBatchEditTags", null),
            Object(a.c)([F.a], t.prototype, "OnEditAutoTags", null),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnEditFilter", null),
            Object(a.c)([F.a], t.prototype, "OnShowFiltered", null),
            Object(a.c)([F.a], t.prototype, "OnShowItemEditor", null),
            Object(a.c)([F.a], t.prototype, "OnEditRaw", null),
            Object(a.c)([F.a], t.prototype, "OnEditRawCustom", null),
            Object(a.c)([F.a], t.prototype, "OnDeleteFiltered", null),
            Object(a.c)([F.a], t.prototype, "OnSync", null),
            Object(a.c)([F.a], t.prototype, "OnImportDiscountEvent", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        te = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { expanded: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnEditTags = function () {
              Object(M.d)(
                m.createElement(re, {
                  editModel: this.props.editModel,
                  item: this.props.item,
                  onTagsModified: this.props.onTagsModified,
                }),
                window
              );
            }),
            (t.prototype.OnToggleTags = function () {
              this.setState({ expanded: !this.state.expanded });
            }),
            (t.prototype.render = function () {
              var e,
                t = this.props,
                n = t.item,
                a = t.onRemove,
                i = t.strSearchFilter,
                r = t.tagHighlight,
                o = t.filter,
                l = n.capsule,
                s = q(l),
                c = s.appData,
                u = s.linkURL,
                d = s.bInvalidID,
                p = Object(N.f)("#AppType_" + l.type),
                _ = c ? c.appid || c.bundleid || c.packageid : l.id,
                g = c ? c.name : null;
              if (
                i &&
                (g || "").toLowerCase().search(i) < 0 &&
                String(_ || "").search(i) < 0
              )
                return null;
              var h = r ? r.toLocaleLowerCase() : void 0;
              return m.createElement(
                I.a,
                { className: z.TagItemCtn },
                m.createElement(
                  L.b,
                  {
                    className: z.TagItemImageCtn,
                    bDisableContextMenu: !0,
                    href: u,
                  },
                  c
                    ? m.createElement("img", {
                        loading: "lazy",
                        className: H.SaleCapsuleImg,
                        src: c.header_image_url,
                      })
                    : null
                ),
                m.createElement(
                  "div",
                  { className: z.NameAndTagCtn },
                  m.createElement(
                    "div",
                    { className: z.NameCtn },
                    g,
                    "(",
                    _,
                    ")",
                    m.createElement(
                      "span",
                      { className: H.SmallText },
                      "(",
                      p,
                      ")"
                    ),
                    d &&
                      m.createElement(
                        "div",
                        { className: H.SaleCapsuleConflict },
                        Object(N.f)("#Sale_NotFoundCapsule"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)(
                            "#Sale_NotFoundCapsule_Tooltip",
                            p,
                            l.id
                          ),
                        })
                      )
                  ),
                  m.createElement(
                    "div",
                    { className: z.TagSummaryCtn },
                    m.createElement(
                      "span",
                      { className: z.TagSummary, onClick: this.OnEditTags },
                      Object(N.f)(
                        "#Sale_EditTags_TagCount",
                        (null === (e = n.tags) || void 0 === e
                          ? void 0
                          : e.length) || 0
                      )
                    ),
                    m.createElement(
                      "span",
                      {
                        className: z.TagShowToggle,
                        onClick: this.OnToggleTags,
                      },
                      Object(N.f)(
                        this.state.expanded
                          ? "#Sale_EditTags_Hide"
                          : "#Sale_EditTags_Show"
                      )
                    )
                  ),
                  this.state.expanded &&
                    m.createElement(
                      "div",
                      { onClick: this.OnEditTags },
                      m.createElement(ae, {
                        item: n,
                        lowerTagHighlight: h,
                        filter: o,
                      })
                    )
                ),
                a && m.createElement(K, { onClick: a })
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnEditTags", null),
            Object(a.c)([F.a], t.prototype, "OnToggleTags", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function ne(e, t, n) {
        var a,
          i = e.toLocaleLowerCase();
        if (t && i === t) return z.TagHighlight;
        if (null == n ? void 0 : n.clauses)
          for (var r = 0, o = n.clauses; r < o.length; r++) {
            var l = o[r];
            if (
              null === (a = l.or_tags) || void 0 === a
                ? void 0
                : a.find(function (e) {
                    return i === e.toLocaleLowerCase();
                  })
            )
              return "Must have" === l.type ? z.TagMustHave : z.TagMustNotHave;
          }
        return null;
      }
      var ae = Object(p.a)(function (e) {
          var t = e.item,
            n = Array.from(t.tags),
            a = (function (e, t) {
              var n;
              if (!(null == t ? void 0 : t.clauses)) return null;
              for (var a = null, i = 0, r = t.clauses; i < r.length; i++) {
                var o = r[i];
                if (
                  "Must have" === o.type &&
                  (null === (n = o.or_tags) || void 0 === n ? void 0 : n.length)
                ) {
                  for (
                    var l = !1,
                      s = 0,
                      c = function (t) {
                        if (
                          t &&
                          (s++,
                          e.find(function (e) {
                            return e === t;
                          }))
                        )
                          return (l = !0), "break";
                      },
                      u = 0,
                      d = o.or_tags;
                    u < d.length && "break" !== c(d[u]);
                    u++
                  );
                  s > 0 &&
                    !l &&
                    (a = a || []).push(
                      Object(N.f)("#Sale_TagFilter_Missing") +
                        o.or_tags.join(
                          " " + Object(N.f)("#Sale_TagFilter_Or") + " "
                        )
                    );
                }
              }
              return a;
            })(t.tags, e.filter);
          return 0 !== n.length || a
            ? (n.sort(function (e, t) {
                return e.localeCompare(t);
              }),
              m.createElement(
                "div",
                { className: z.TagListCtn },
                n.map(function (t) {
                  return m.createElement(ie, {
                    key: t,
                    tag: t,
                    className: ne(t, e.lowerTagHighlight, e.filter),
                  });
                }),
                a &&
                  a.map(function (e) {
                    return m.createElement(ie, {
                      key: e,
                      tag: e,
                      className: z.TagMissingMustHave,
                    });
                  })
              ))
            : m.createElement(
                "div",
                { className: z.TagListCtn },
                Object(N.f)("#Sale_TagFilter_AddTags")
              );
        }),
        ie = function (e) {
          var t = Object(l.k)(e.tag);
          return m.createElement(
            "div",
            {
              className: Object(B.a)(
                z.ItemTag,
                e.className,
                t && "TagCollection_" + t
              ),
            },
            e.tag
          );
        },
        re = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                currentTags: Object(a.g)(t.props.item.tags),
                defaultTags: null,
                otherTags: null,
                startingSections: t.GetIncludedSections(t.props.item.tags),
                includedSections: t.GetIncludedSections(t.props.item.tags),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.LoadAppDefaultTags();
            }),
            (t.prototype.GetIncludedSections = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.item,
                i = [],
                r = a.capsule;
              return (
                n
                  .GetEventModel()
                  .GetSaleSections()
                  .forEach(function (t, a) {
                    var o = !1;
                    t.sale_tag_filter
                      ? (o = Object(l.h)(e, t.sale_tag_filter))
                      : t.capsules &&
                        (o = Boolean(
                          t.capsules.find(function (e) {
                            return e.type === r.type && e.id === r.id;
                          })
                        )),
                      o &&
                        i.push(
                          Object(V.a)(t, n.GetCurEditLanguage(), n, a, !0)
                        );
                  }),
                i.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                i
              );
            }),
            (t.prototype.LoadAppDefaultTags = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, o;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = { capsule: this.props.item.capsule, tags: [] }),
                        [4, Object(l.w)(this.props.editModel, [e])]
                      );
                    case 1:
                      for (
                        a.sent(),
                          t = new Set(),
                          e.tags.forEach(function (e) {
                            return t.add(e);
                          }),
                          n = new Map(),
                          i = 0,
                          r = this.props.editModel
                            .GetEventModel()
                            .GetTaggedItems();
                        i < r.length;
                        i++
                      )
                        (o = r[i]).tags &&
                          o.tags.forEach(function (e) {
                            return n.set(e.toLocaleLowerCase(), e);
                          });
                      return (
                        t.forEach(function (e) {
                          return n.set(e.toLocaleLowerCase(), e);
                        }),
                        this.setState({ defaultTags: t, otherTags: n }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.UpdateTagList = function (e) {
              this.setState({
                currentTags: e,
                includedSections: this.GetIncludedSections(e),
              });
            }),
            (t.prototype.RemoveTag = function (e) {
              var t = e.toLocaleLowerCase(),
                n = this.state.currentTags.filter(function (e) {
                  return e.toLocaleLowerCase() != t;
                });
              this.UpdateTagList(n);
            }),
            (t.prototype.AddTag = function (e) {
              var t = this.state.currentTags,
                n = (e = W(e)).toLocaleLowerCase();
              if (
                (J.Get(this.props.editModel).AddRecentTag(e),
                !t.find(function (e) {
                  return e.toLocaleLowerCase() === n;
                }))
              ) {
                var i = this.state.otherTags.get(n);
                i && (e = i), this.UpdateTagList(Object(a.g)(t, [e]));
              }
            }),
            (t.prototype.OnOK = function () {
              Object(l.c)(this.props.item, this.state.currentTags) &&
                (Object(l.v)(
                  this.props.editModel.GetEventModel().jsondata.auto_item_tags,
                  this.props.item
                ),
                Object(l.u)(this.props.editModel),
                this.props.onTagsModified && this.props.onTagsModified(),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.RenderSectionList = function () {
              var e = this.state,
                t = e.startingSections;
              return e.includedSections.map(function (e, n) {
                var a = !t.find(function (t) {
                  return e === t;
                });
                return m.createElement(
                  "div",
                  {
                    key: n,
                    className: a ? z.SectionAdded : z.SectionUnchanged,
                  },
                  e
                );
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.item,
                i = t.closeModal,
                r = this.state,
                o = r.currentTags,
                l = r.defaultTags,
                s = r.otherTags;
              if (!l) return m.createElement(G.a, null);
              var c = new Set();
              o.forEach(function (e) {
                return c.add(e.toLocaleLowerCase());
              });
              var u = Object(a.g)(o);
              u.sort(function (e, t) {
                return e.localeCompare(t);
              });
              var d = u.map(function (t) {
                  var n = l.has(t),
                    a = Object(B.a)(z.EditTag, z.AppliedTag, n && z.DefaultTag);
                  return m.createElement(
                    "div",
                    {
                      key: t,
                      className: a,
                      onClick: function () {
                        return e.RemoveTag(t);
                      },
                    },
                    t
                  );
                }),
                p = new Array();
              s.forEach(function (e, t) {
                c.has(t) || p.push(e);
              }),
                p.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var _ = [];
              p.forEach(function (t) {
                if (l.has(t)) {
                  var n = Object(B.a)(z.EditTag, z.OtherTag, z.DefaultTag);
                  _.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: n,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                }
              });
              var h = [];
              J.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  if (!c.has(t.toLocaleLowerCase())) {
                    var n = l.has(t),
                      a = Object(B.a)(z.EditTag, z.OtherTag, n && z.DefaultTag);
                    h.push(
                      m.createElement(
                        "div",
                        {
                          key: t,
                          className: a,
                          onClick: function () {
                            return e.AddTag(t);
                          },
                        },
                        t
                      )
                    );
                  }
                });
              var f = this.RenderSectionList(),
                b = q(n.capsule).appData,
                v = b ? b.appid || b.bundleid || b.packageid : n.capsule.id,
                E = {
                  option: function (e) {
                    return Object(a.a)(Object(a.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                S = p.map(function (e) {
                  return { label: e, value: e };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: i,
                  closeModal: i,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: T.NotTooWideModal,
                },
                m.createElement(
                  O.l,
                  { className: z.EditTagsTitle },
                  b
                    ? m.createElement("img", {
                        className: H.SaleCapsuleImg,
                        src: b.header_image_url,
                      })
                    : null,
                  m.createElement(
                    "div",
                    { className: z.EditTagsTitleText },
                    b ? b.name : null,
                    " (",
                    v,
                    ")"
                  )
                ),
                m.createElement(
                  O.b,
                  null,
                  m.createElement(
                    "div",
                    { className: z.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: z.ColumnList },
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.TagColumnTitle },
                          Object(N.f)("#Sale_EditTags_Applied", o.length),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: z.TagColumnList },
                          d
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        _.length > 0 &&
                          m.createElement(
                            "div",
                            { className: z.SmallColumn },
                            m.createElement(
                              "div",
                              { className: z.TagColumnTitle },
                              Object(N.f)("#Sale_EditTags_Store", _.length),
                              m.createElement(V.d, {
                                tooltip: Object(N.f)(
                                  "#Sale_EditTags_Store_ttip"
                                ),
                              })
                            ),
                            m.createElement(
                              "div",
                              { className: z.TagColumnList },
                              _
                            )
                          ),
                        m.createElement(
                          "div",
                          { className: z.FillColumn },
                          m.createElement(
                            "div",
                            { className: z.TagColumnTitle },
                            Object(N.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(V.d, {
                              tooltip: Object(N.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: z.TagColumnList },
                            h
                          )
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.TagColumnTitle },
                          Object(N.f)("#Sale_EditTags_Sections", f.length),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditTags_Sections_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: z.TagColumnList },
                          f
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: z.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: z.TagColumnTitle },
                        Object(N.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: E,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: S,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: z.OKButton },
                      m.createElement(
                        O.r,
                        { onClick: this.OnOK },
                        Object(N.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "RemoveTag", null),
            Object(a.c)([F.a], t.prototype, "AddTag", null),
            Object(a.c)([F.a], t.prototype, "OnOK", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        oe = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_timerForChange = new A.b()),
              (t.state = {
                editItems: t.props.editModel.GetEventModel().GetTaggedItems(),
                modifiedTags: new Map(),
                currentTags: new Map(),
                otherTags: Object(l.n)(
                  t.props.editModel.GetEventModel().GetTaggedItems()
                ),
                editText: "",
                filter: { clauses: new Array() },
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.UpdateCurrentTagToItemMap();
            }),
            (t.prototype.CloneModifiedTags = function () {
              var e = new Map();
              return (
                this.state.modifiedTags.forEach(function (t, n) {
                  return e.set(n, t);
                }),
                e
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = Object(l.l)(
                  this.props.editModel.GetEventModel().GetTaggedItems(),
                  e
                ),
                n = t.map(function (e) {
                  return e.capsule.id;
                });
              n.sort(function (e, t) {
                return e - t;
              });
              var a = n.join("\n");
              this.setState({ filter: e, editText: a, editItems: t });
            }),
            (t.prototype.OnPopulateFromFilter = function () {
              new Array();
              Object(M.d)(
                m.createElement(se, {
                  editModel: this.props.editModel,
                  filter: this.state.filter,
                  onApplyFilter: this.OnApplyFilter,
                  title: Object(N.f)("#Sale_TagFilter_EditFilter"),
                }),
                window
              );
            }),
            (t.prototype.RemoveTag = function (e) {
              for (
                var t = this,
                  n = e.toLocaleLowerCase(),
                  a = this.CloneModifiedTags(),
                  i = 0,
                  r = this.state.editItems;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  l = (a.get(o) || o.tags || []).filter(function (e) {
                    return e.toLocaleLowerCase() != n;
                  });
                a.set(o, l);
              }
              this.setState({ modifiedTags: a }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.AddTag = function (e) {
              var t = this,
                n = (e = W(e)).toLocaleLowerCase(),
                i = this.state.otherTags.get(n);
              i && (e = i.properCaseString);
              var r = this.CloneModifiedTags();
              J.Get(this.props.editModel).AddRecentTag(e);
              for (var o = 0, l = this.state.editItems; o < l.length; o++) {
                var s = l[o],
                  c = r.get(s) || s.tags || [];
                c.find(function (e) {
                  return e.toLocaleLowerCase() === n;
                }) || r.set(s, Object(a.g)(c, [e]));
              }
              this.setState({ modifiedTags: r }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.OnOK = function () {
              var e = this,
                t = !1;
              this.state.modifiedTags.forEach(function (n, a) {
                Object(l.c)(a, n) &&
                  ((t = !0),
                  Object(l.v)(
                    e.props.editModel.GetEventModel().jsondata.auto_item_tags,
                    a
                  ));
              }),
                t &&
                  (Object(l.u)(this.props.editModel),
                  this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.UpdateCurrentTagToItemMap = function () {
              for (
                var e = new Map(), t = 0, n = this.state.editItems;
                t < n.length;
                t++
              ) {
                var a = n[t],
                  i = this.state.modifiedTags.get(a) || a.tags || [];
                Object(l.a)(a, i, e);
              }
              this.setState({ currentTags: e });
            }),
            (t.prototype.OnUpdateItemListFromText = function () {
              for (
                var e = this,
                  t = this.state.editText,
                  n = /.*?(\d\d\d+)/gm,
                  a = new Set();
                ;

              ) {
                var i = n.exec(t);
                if (null === i) break;
                a.add(Number(i[1]));
              }
              var r = this.props.editModel.GetEventModel().GetTaggedItems();
              a.size > 0 &&
                (r = r.filter(function (e) {
                  return a.has(e.capsule.id);
                })),
                this.setState({ editItems: r }, function () {
                  return e.UpdateCurrentTagToItemMap();
                });
            }),
            (t.prototype.OnTextChanged = function (e) {
              this.setState({ editText: e }),
                this.m_timerForChange.Cancel(),
                this.m_timerForChange.Schedule(
                  300,
                  this.OnUpdateItemListFromText
                );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                n = this.state,
                i = n.editItems,
                r = n.currentTags,
                o = n.otherTags,
                l = new Array();
              r.forEach(function (e, t) {
                l.push({ tag: e.properCaseString, count: e.items.length });
              }),
                l.sort(function (e, t) {
                  return e.tag.localeCompare(t.tag);
                });
              var s = l.map(function (t) {
                  var n = Object(B.a)(z.EditTag, z.AppliedTag);
                  return m.createElement(
                    "div",
                    {
                      key: t.tag,
                      className: n,
                      onClick: function () {
                        return e.RemoveTag(t.tag);
                      },
                    },
                    t.tag + " (" + t.count + ")"
                  );
                }),
                c = new Array();
              o.forEach(function (e, t) {
                c.push(e.properCaseString);
              }),
                c.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var u = [];
              J.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  var n = Object(B.a)(z.EditTag, z.OtherTag);
                  u.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: n,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                });
              var d = i.map(function (e) {
                  var t = q(e.capsule).appData;
                  return m.createElement(
                    "div",
                    { key: e.capsule.id },
                    t
                      ? m.createElement("img", {
                          className: H.SaleCapsuleImg,
                          src: t.header_image_url,
                        })
                      : null,
                    t ? t.name : null,
                    " (",
                    e.capsule.id,
                    ")"
                  );
                }),
                p = {
                  option: function (e) {
                    return Object(a.a)(Object(a.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                h = c.map(function (e) {
                  return { label: e, value: e };
                }),
                f = l.map(function (e) {
                  return { label: e.tag + " (" + e.count + ")", value: e.tag };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: T.NotTooWideModal,
                },
                m.createElement(
                  O.b,
                  null,
                  m.createElement(
                    "div",
                    { className: z.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: z.ColumnList },
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.TagColumnTitle },
                          Object(N.f)("#Sale_EditTags_BatchItemText", d.length),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditTags_BatchItemText_ttip"
                            ),
                          })
                        ),
                        m.createElement("textarea", {
                          value: this.state.editText,
                          cols: 60,
                          onChange: function (t) {
                            return e.OnTextChanged(t.currentTarget.value);
                          },
                        }),
                        m.createElement(
                          "div",
                          {
                            className: z.PopulateByFilter,
                            onClick: this.OnPopulateFromFilter,
                          },
                          Object(N.f)("#Sale_EditTags_BatchFilter"),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditTags_BatchFilter_ttip"
                            ),
                          })
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.TagColumnTitle },
                          Object(N.f)("#Sale_EditTags_BatchItems", d.length),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)(
                              "#Sale_EditTags_BatchItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: z.TagColumnList },
                          d
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.TagColumnTitle },
                          Object(N.f)("#Sale_EditTags_Applied", r.size),
                          m.createElement(V.d, {
                            tooltip: Object(N.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: z.TagColumnList },
                          s
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: z.TagColumn },
                        m.createElement(
                          "div",
                          { className: z.FillColumn },
                          m.createElement(
                            "div",
                            { className: z.TagColumnTitle },
                            Object(N.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(V.d, {
                              tooltip: Object(N.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: z.TagColumnList },
                            u
                          )
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: z.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: z.TagColumnTitle },
                        Object(N.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: h,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      }),
                      m.createElement(
                        "div",
                        { className: z.TagColumnTitle },
                        Object(N.f)("#Sale_EditTags_RemoveTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)(
                            "#Sale_EditTags_RemoveTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(_.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) &&
                            e.RemoveTag(t.value);
                        },
                        options: f,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: z.OKButton },
                      m.createElement(
                        O.r,
                        { onClick: this.OnOK },
                        Object(N.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnPopulateFromFilter", null),
            Object(a.c)([F.a], t.prototype, "RemoveTag", null),
            Object(a.c)([F.a], t.prototype, "AddTag", null),
            Object(a.c)([F.a], t.prototype, "OnOK", null),
            Object(a.c)([F.a], t.prototype, "OnUpdateItemListFromText", null),
            Object(a.c)([F.a], t.prototype, "OnTextChanged", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function le(e) {
        var t = e.onClauseChanged,
          n = e.value,
          i = e.taggedItems,
          r = e.filter,
          o = e.clauseIndex,
          s = e.tagIndex,
          c = m.useState(new Array()),
          u = c[0],
          d = c[1],
          p = { label: Object(N.f)("#Sale_TagFilter_SelectTag"), value: "" },
          g = n ? { label: n, value: n } : p,
          h = {
            option: function (e) {
              return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
            },
          };
        return m.createElement(_.a, {
          styles: h,
          isSearchable: !0,
          isMulti: !1,
          onChange: function (e) {
            return t(e.value);
          },
          value: g,
          options: u,
          defaultMenuIsOpen: u.length > 0,
          onMenuOpen: function () {
            var e = Object(l.n)(i),
              t = [p],
              n = r.clauses[o].or_tags[s];
            r.clauses[o].or_tags[s] = "";
            var a = !0;
            r.clauses.forEach(function (e) {
              e.or_tags.some(Boolean) && (a = !1);
            });
            var c = a ? i : Object(l.l)(i, r),
              u = new Set(
                c.map(function (e) {
                  return e.capsule.id;
                })
              );
            e.forEach(function (e) {
              r.clauses[o].or_tags[s] = e.properCaseString;
              var n = 0,
                i = 0;
              a
                ? (i =
                    "Must have" === r.clauses[0].type
                      ? c.length - e.items.length
                      : e.items.length)
                : e.items.forEach(function (e) {
                    var t = Object(l.h)(e.tags, r);
                    t != u.has(e.capsule.id) && (t ? n++ : i++);
                  });
              var d = c.length + n - i;
              t.push({
                label: e.properCaseString + " (" + d + ")",
                value: e.properCaseString,
              });
            }),
              (r.clauses[o].or_tags[s] = n),
              t.sort(function (e, t) {
                return e.value.localeCompare(t.value);
              }),
              d(t);
          },
          onMenuClose: function () {
            d([]);
          },
          menuPlacement: "bottom",
        });
      }
      var se = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = t.GenerateInitialState()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GenerateInitialState = function () {
              var e = this.SetupInitialFilter(),
                t = this.GenerateStartingUnreferencedItems();
              return Object(a.a)(
                {
                  tagDropdownOptions: this.GenerateTagDropDownOptions(),
                  currentFilter: e,
                  tagHighlight: "",
                  showTagBreakdown: !1,
                  showMode: "active",
                  strSearch: "",
                  startingUnreferencedItems: t,
                },
                this.CalcualateItemsAndTags(e, t)
              );
            }),
            (t.prototype.GetFilteredItems = function () {
              return this.props.ignoreEventFilter
                ? this.props.editModel.GetEventModel().GetTaggedItems()
                : Object(l.o)(this.props.editModel);
            }),
            (t.prototype.GenerateStartingUnreferencedItems = function () {
              for (
                var e = this.props.editModel,
                  t = new Map(),
                  n = 0,
                  a = this.GetFilteredItems();
                n < a.length;
                n++
              ) {
                var i = a[n];
                t.set(i.capsule.type + i.capsule.id, i);
              }
              for (
                var r = 0, o = e.GetEventModel().GetSaleSections();
                r < o.length;
                r++
              ) {
                var l = o[r];
                if (
                  !this.props.ignoreStartingReferences ||
                  l.capsules !== this.props.ignoreStartingReferences.capsules
                )
                  for (var s = 0, c = l.capsules; s < c.length; s++) {
                    var u = c[s];
                    t.delete(u.type + u.id);
                  }
              }
              return Array.from(t.values());
            }),
            (t.prototype.CalcualateItemsAndTags = function (e, t) {
              this.props.editModel;
              var n = this.GetFilteredItems(),
                a = Object(l.l)(n, e),
                i = new Set(a),
                r = n.filter(function (e) {
                  return !i.has(e);
                }),
                o = t.filter(function (e) {
                  return !i.has(e);
                });
              return {
                activeItems: a,
                activeTagBreakdown: Object(l.n)(a),
                filteredItems: r,
                filteredTagBreakdown: Object(l.n)(r),
                unusedItems: o,
                unusedTagBreakdown: Object(l.n)(o),
              };
            }),
            (t.prototype.GenerateTagDropDownOptions = function () {
              var e = Object(l.n)(this.GetFilteredItems()),
                t = [
                  {
                    label: Object(N.f)("#Sale_TagFilter_SelectTag"),
                    value: "",
                  },
                ];
              return (
                e.forEach(function (e) {
                  return t.push({
                    label: e.properCaseString + " (" + e.items.length + ")",
                    value: e.properCaseString,
                  });
                }),
                t.sort(function (e, t) {
                  return e.value.localeCompare(t.value);
                }),
                t
              );
            }),
            (t.prototype.SanitizeFilter = function (e) {
              for (var t, n = 0, a = e.clauses; n < a.length; n++) {
                var i = a[n];
                i.or_tags =
                  null === (t = i.or_tags) || void 0 === t
                    ? void 0
                    : t.filter(function (e) {
                        return Boolean(e);
                      });
              }
              e.clauses = e.clauses.filter(function (e) {
                var t;
                return Boolean(
                  null === (t = e.or_tags) || void 0 === t ? void 0 : t.length
                );
              });
            }),
            (t.prototype.SetupInitialFilter = function () {
              var e = Object(l.e)(this.props.filter);
              this.SanitizeFilter(e),
                e.clauses || (e.clauses = new Array()),
                0 === e.clauses.length &&
                  e.clauses.push({ type: "Must have", or_tags: new Array("") });
              for (var t = 0, n = e.clauses; t < n.length; t++) {
                var a = n[t];
                (a.or_tags && 0 !== a.or_tags.length) ||
                  (a.or_tags = new Array(""));
              }
              return e;
            }),
            (t.prototype.RenderFilterClause = function (e, t) {
              var n = this,
                a = [
                  {
                    label: Object(N.f)("#Sale_TagFilter_MustHave"),
                    data: "Must have",
                  },
                  {
                    label: Object(N.f)("#Sale_TagFilter_MustNotHave"),
                    data: "Must not have",
                  },
                ],
                i = this.GetFilteredItems(),
                r = e.or_tags.map(function (e, a) {
                  return m.createElement(
                    "div",
                    { className: z.ClauseTagList, key: "Clause" + t + "_" + a },
                    a > 0 &&
                      m.createElement(
                        "div",
                        { className: z.OrLabel },
                        Object(N.f)("#Sale_TagFilter_Or")
                      ),
                    m.createElement(
                      "div",
                      { className: z.TagDropDown },
                      m.createElement(le, {
                        taggedItems: i,
                        value: e,
                        onClauseChanged: function (e) {
                          return n.OnChangeClauseTag(t, a, e);
                        },
                        clauseIndex: t,
                        tagIndex: a,
                        filter: n.state.currentFilter,
                      })
                    ),
                    a > 0 &&
                      m.createElement(K, {
                        onClick: function () {
                          return n.OnRemoveClauseTagSlot(t, a);
                        },
                      })
                  );
                }),
                o =
                  "Must have" === e.type
                    ? z.MustHaveClause
                    : z.MustNotHaveClause;
              return m.createElement(
                "div",
                {
                  key: "Clause" + t,
                  className: Object(B.a)(
                    z.ClauseRowCtn,
                    o,
                    0 === t && z.FirstClause
                  ),
                },
                t > 0 &&
                  m.createElement(
                    m.Fragment,
                    null,
                    m.createElement(K, {
                      onClick: function () {
                        return n.OnRemoveClause(t);
                      },
                    }),
                    m.createElement(
                      "div",
                      { className: z.AndLabel },
                      Object(N.f)("#Sale_TagFilter_And")
                    )
                  ),
                m.createElement(
                  "div",
                  { className: z.ClauseTypeDropDown },
                  m.createElement(O.i, {
                    rgOptions: a,
                    selectedOption: e.type,
                    onChange: function (e) {
                      return n.OnChangeClauseType(t, e.data);
                    },
                  })
                ),
                r,
                e.or_tags.length < 3 &&
                  m.createElement(
                    O.d,
                    {
                      onClick: function () {
                        return n.OnAddClauseTagSlot(t);
                      },
                    },
                    "+",
                    Object(N.f)("#Sale_TagFilter_Or"),
                    m.createElement(V.d, {
                      tooltip: Object(N.f)("#Sale_TagFilter_Or_ttip"),
                    })
                  )
              );
            }),
            (t.prototype.RenderFilterControls = function () {
              var e = this,
                t = this.state.currentFilter,
                n = t.clauses.map(function (t, n) {
                  return e.RenderFilterClause(t, n);
                });
              return m.createElement(
                "div",
                { className: z.FilterControlsCtn },
                m.createElement(
                  "div",
                  { className: z.SectionTitle },
                  Object(N.f)("#Sale_TagFilter_Filter"),
                  m.createElement(V.d, {
                    tooltip: Object(N.f)("#Sale_TagFilter_Filter_ttip"),
                  })
                ),
                m.createElement(
                  "div",
                  { className: z.FilterControlBox },
                  n,
                  t.clauses.length < 5 &&
                    m.createElement(
                      O.d,
                      { onClick: this.OnAddClause },
                      "+",
                      Object(N.f)("#Sale_TagFilter_And"),
                      m.createElement(V.d, {
                        tooltip: Object(N.f)("#Sale_TagFilter_And_ttip"),
                      })
                    )
                )
              );
            }),
            (t.prototype.RenderTagBreakdown = function (e, t) {
              var n = this,
                a = this.state.tagHighlight,
                i = [];
              t.forEach(function (e) {
                return i.push({
                  tag: e.properCaseString,
                  count: e.items.length,
                });
              }),
                i.sort(function (e, t) {
                  return e.count != t.count
                    ? t.count - e.count
                    : e.tag.localeCompare(t.tag);
                });
              var r = i.map(function (t) {
                return m.createElement(
                  "div",
                  {
                    key: t.tag,
                    className: Object(B.a)(
                      z.TagBreakdownEntry,
                      a === t.tag && z.Selected
                    ),
                    onClick: function () {
                      return n.OnHighlightTag(t.tag);
                    },
                  },
                  m.createElement(
                    "div",
                    { className: z.TextStats },
                    m.createElement("div", { className: z.TagName }, t.tag),
                    m.createElement("div", { className: z.TagUses }, t.count)
                  ),
                  m.createElement(
                    "div",
                    { className: z.PercentageBar },
                    m.createElement("div", {
                      className: z.PercentageBarFill,
                      style: { width: (100 * t.count) / e + "%" },
                    })
                  )
                );
              });
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(
                  "div",
                  { className: z.TagBreakdownCtn },
                  m.createElement("div", { className: z.TagBreakdownList }, r)
                )
              );
            }),
            (t.prototype.ModifyFilter = function (e) {
              var t = Object(l.e)(this.state.currentFilter);
              e(t),
                this.setState(
                  Object(a.a)(
                    { currentFilter: t },
                    this.CalcualateItemsAndTags(
                      t,
                      this.state.startingUnreferencedItems
                    )
                  )
                );
            }),
            (t.prototype.OnChangeClauseType = function (e, t) {
              this.ModifyFilter(function (n) {
                return (n.clauses[e].type = t);
              });
            }),
            (t.prototype.OnChangeClauseTag = function (e, t, n) {
              this.ModifyFilter(function (a) {
                return (a.clauses[e].or_tags[t] = n);
              });
            }),
            (t.prototype.OnAddClause = function () {
              this.ModifyFilter(function (e) {
                return e.clauses.push({
                  type: "Must have",
                  or_tags: new Array(""),
                });
              });
            }),
            (t.prototype.OnRemoveClause = function (e) {
              this.ModifyFilter(function (t) {
                return t.clauses.splice(e, 1);
              });
            }),
            (t.prototype.OnAddClauseTagSlot = function (e) {
              this.ModifyFilter(function (t) {
                return t.clauses[e].or_tags.push("");
              });
            }),
            (t.prototype.OnRemoveClauseTagSlot = function (e, t) {
              this.ModifyFilter(function (n) {
                return n.clauses[e].or_tags.splice(t, 1);
              });
            }),
            (t.prototype.OnHighlightTag = function (e) {
              this.setState({
                tagHighlight: this.state.tagHighlight === e ? "" : e,
              });
            }),
            (t.prototype.OnToggleTagBreakdown = function () {
              this.setState({ showTagBreakdown: !this.state.showTagBreakdown });
            }),
            (t.prototype.OnSetViewMode = function (e) {
              this.setState({ showMode: e });
            }),
            (t.prototype.OnTagsModified = function () {
              var e = this.GenerateStartingUnreferencedItems();
              this.setState(
                Object(a.a)(
                  { startingUnreferencedItems: e },
                  this.CalcualateItemsAndTags(this.state.currentFilter, e)
                )
              );
            }),
            (t.prototype.UpdateSearchText = function (e) {
              this.setState({ strSearch: e.target.value.toLowerCase() });
            }),
            (t.prototype.OnOK = function () {
              if (this.props.onApplyFilter) {
                var e = Object(l.e)(this.state.currentFilter);
                this.SanitizeFilter(e), this.props.onApplyFilter(e);
              }
              this.props.editModel.SetDirty(o.c.jsondata_sales),
                this.props.closeModal();
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.closeModal,
                i = t.title,
                r = this.state,
                o = r.showMode,
                l = r.currentFilter,
                s = r.strSearch,
                c = r.showTagBreakdown,
                u = this.state,
                d = u.activeItems,
                p = u.activeTagBreakdown,
                _ = u.filteredItems,
                g = u.filteredTagBreakdown,
                h = u.unusedItems,
                f = u.unusedTagBreakdown,
                b = c ? this.state.tagHighlight : "",
                v = "active" === o ? p : "filtered" === o ? g : f,
                E = ("active" === o ? d : "filtered" === o ? _ : h).map(
                  function (e) {
                    var t = q(e.capsule).appData;
                    return {
                      item: e,
                      name: t && t.name,
                      highlight:
                        b &&
                        e.tags.find(function (e) {
                          return e === b;
                        }),
                    };
                  }
                );
              E.sort(function (e, t) {
                return e.highlight != t.highlight
                  ? e.highlight
                    ? -1
                    : 1
                  : (e.name || "").localeCompare(t.name);
              });
              var S = [
                  {
                    label: m.createElement(
                      m.Fragment,
                      null,
                      Object(N.f)("#Sale_TagFilter_MatchingItems", d.length),
                      m.createElement(V.d, {
                        tooltip: Object(N.f)(
                          "#Sale_TagFilter_MatchingItems_ttip"
                        ),
                      })
                    ),
                    data: "active",
                  },
                  {
                    label: m.createElement(
                      m.Fragment,
                      null,
                      Object(N.f)("#Sale_TagFilter_FilteredItems", _.length),
                      m.createElement(V.d, {
                        tooltip: Object(N.f)(
                          "#Sale_TagFilter_FilteredItems_ttip"
                        ),
                      })
                    ),
                    data: "filtered",
                  },
                  {
                    label: m.createElement(
                      m.Fragment,
                      null,
                      Object(N.f)("#Sale_TagFilter_UnusedItems", h.length),
                      m.createElement(V.d, {
                        tooltip: Object(N.f)(
                          "#Sale_TagFilter_UnusedItems_ttip"
                        ),
                      })
                    ),
                    data: "unused",
                  },
                ],
                y = E.map(function (t) {
                  var a = t.item;
                  return m.createElement(te, {
                    key: a.capsule.type + a.capsule.id,
                    editModel: n,
                    item: a,
                    tagHighlight: b,
                    onTagsModified: e.OnTagsModified,
                    strSearchFilter: s,
                    filter: "filtered" === o && l,
                  });
                }),
                C = c ? z.ShowTagBreakdown : z.HideTagBreakdown;
              return m.createElement(
                w.e,
                {
                  closeModal: a,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: T.NotTooWideModal,
                },
                m.createElement(O.l, null, i),
                m.createElement(
                  O.b,
                  null,
                  m.createElement(
                    "div",
                    { className: Object(B.a)(z.EditFitlerCtn, C) },
                    this.RenderFilterControls(),
                    m.createElement(
                      "div",
                      { className: z.TopTabs },
                      m.createElement(
                        "div",
                        { className: z.TagSelector },
                        m.createElement(O.i, {
                          rgOptions: S,
                          selectedOption: o,
                          onChange: function (t) {
                            return e.OnSetViewMode(t.data);
                          },
                        })
                      ),
                      m.createElement(
                        O.d,
                        {
                          className: Object(B.a)(
                            z.ShowTagBreakdown,
                            z.SectionTab,
                            c && z.TabActive
                          ),
                          onClick: this.OnToggleTagBreakdown,
                        },
                        Object(N.f)(
                          this.state.showTagBreakdown
                            ? "#Sale_TagFilter_HideTagBreakdown"
                            : "#Sale_TagFilter_ShowTagBreakdown"
                        ),
                        m.createElement(V.d, {
                          tooltip: Object(N.f)(
                            "#Sale_TagFilter_TagBreakdown_ttip"
                          ),
                        })
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: z.TopSection },
                      m.createElement(
                        "div",
                        { className: z.MatchingItemsCtn },
                        m.createElement("div", { className: z.ItemList }, y)
                      ),
                      this.RenderTagBreakdown(y.length, v)
                    ),
                    m.createElement(O.m, {
                      type: "text",
                      label: Object(N.f)("#Sale_TaggedItemsFilter"),
                      onChange: this.UpdateSearchText,
                      focusOnMount: !0,
                      tooltip: Object(N.f)("#Sale_TaggedItemsFilter_ttip"),
                    }),
                    m.createElement(
                      "div",
                      { className: z.OKButton },
                      m.createElement(
                        O.r,
                        { onClick: this.OnOK },
                        Object(N.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnChangeClauseType", null),
            Object(a.c)([F.a], t.prototype, "OnChangeClauseTag", null),
            Object(a.c)([F.a], t.prototype, "OnAddClause", null),
            Object(a.c)([F.a], t.prototype, "OnRemoveClause", null),
            Object(a.c)([F.a], t.prototype, "OnAddClauseTagSlot", null),
            Object(a.c)([F.a], t.prototype, "OnRemoveClauseTagSlot", null),
            Object(a.c)([F.a], t.prototype, "OnHighlightTag", null),
            Object(a.c)([F.a], t.prototype, "OnToggleTagBreakdown", null),
            Object(a.c)([F.a], t.prototype, "OnSetViewMode", null),
            Object(a.c)([F.a], t.prototype, "OnTagsModified", null),
            Object(a.c)([F.a], t.prototype, "UpdateSearchText", null),
            Object(a.c)([F.a], t.prototype, "OnOK", null),
            t
          );
        })(m.Component),
        ce = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              for (
                var e = this.props.editModel,
                  t = this.props.collection,
                  n = "",
                  a = 0,
                  i = e.GetEventModel().GetTaggedItems();
                a < i.length;
                a++
              ) {
                var r = i[a],
                  o = r.capsule,
                  s = r.tags,
                  c = q(o).appData,
                  u = o.id + "\t" + o.type;
                u +=
                  '\t"' +
                  (t
                    ? s.filter(function (e) {
                        return Object(l.d)(e, t);
                      })
                    : s
                  ).join(";") +
                  '"';
                var d = c ? c.name : "";
                d && (u += '\t// "' + d + '"'), (n += u + "\n");
              }
              return n;
            }),
            (t.prototype.ParseTagItemInfoFromLine = function (e) {
              var t = /^(.*)\/\/.*/i.exec(e),
                n = ((null == t ? void 0 : t.length) > 1 ? t[1] : e) + " ";
              n = n.replace(",", "\t");
              var a = /^\s*([0-9]+)[\'\,\"\s]+(.*)/.exec(n);
              if (a) {
                var i = { id: parseInt(a[1]), type: "game" };
                n = a[2];
                var r = /^(game|software|dlc|bundle|video|sub|event|tag|music)[\'\,\"\s]+(.*)/i.exec(
                  n
                );
                if (r) (i.type = r[1]), (n = r[2]);
                else
                  for (
                    var o = 0,
                      l = this.props.editModel.GetEventModel().GetTaggedItems();
                    o < l.length;
                    o++
                  ) {
                    var s = l[o];
                    if (s.capsule.id === i.id) {
                      i.type = s.capsule.type;
                      break;
                    }
                  }
                var c = /^\"?([^\t\"\n]*)\"?/i.exec(n),
                  u = new Set(),
                  d = new Array();
                if (c)
                  for (var p = 0, m = c[1].split(";"); p < m.length; p++) {
                    var _ = W(m[p]);
                    if (_) {
                      var g = _.toLocaleLowerCase();
                      u.has(g) || (u.add(g), d.push(_));
                    }
                  }
                return { capsule: i, tags: d };
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, s, c, u, p, m, _, g, h;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      for (
                        e = this.props.editModel,
                          t = new Map(),
                          n = this.state.editValue.split("\n"),
                          i = 0,
                          r = n;
                        i < r.length;
                        i++
                      )
                        (s = r[i]),
                          (c = this.ParseTagItemInfoFromLine(s)) &&
                            t.set(c.capsule.id, c);
                      return (
                        !0,
                        (u = this.props.bRemoveMissingEntries),
                        (p = this.props.collection),
                        (m = e.GetEventModel().jsondata),
                        (_ = new Array()),
                        (g = function (e) {
                          e.tags.some(function (e) {
                            return Object(l.d)(e, l.j.Store);
                          }) || _.push(e);
                        }),
                        (h = !0),
                        p &&
                          t.forEach(function (e) {
                            e.tags.some(function (e) {
                              return Boolean(Object(l.k)(e));
                            }) && (h = !1);
                          }),
                        Object(d.G)(function () {
                          m.tagged_items || (m.tagged_items = []),
                            u &&
                              (m.tagged_items = m.tagged_items.filter(function (
                                e
                              ) {
                                var n,
                                  a =
                                    null === (n = t.get(e.capsule.id)) ||
                                    void 0 === n
                                      ? void 0
                                      : n.capsule.type;
                                return e.capsule.type === a;
                              }));
                          for (
                            var e = 0, n = m.tagged_items;
                            e < n.length;
                            e++
                          ) {
                            var a = n[e],
                              i = t.get(a.capsule.id);
                            if (i && i.capsule.type == a.capsule.type) {
                              if (p) {
                                var r = h
                                  ? i.tags.map(function (e) {
                                      return Object(l.f)(e, p);
                                    })
                                  : i.tags;
                                Object(l.t)(a, r, p);
                              } else (a.tags = i.tags), g(a);
                              Object(l.v)(m.auto_item_tags, a),
                                t.delete(a.capsule.id);
                            }
                          }
                          t.forEach(function (e) {
                            Object(l.v)(m.auto_item_tags, e),
                              m.tagged_items.push(e),
                              g(m.tagged_items[m.tagged_items.length - 1]);
                          });
                        }),
                        _.length > 0 ? [4, Object(l.w)(e, _)] : [3, 2]
                      );
                    case 1:
                      a.sent(), (a.label = 2);
                    case 2:
                      return (
                        this.setState({ bImporting: !1, errMsg: "" }),
                        e.SetDirty(o.c.jsondata_sales),
                        Object(l.u)(e),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return m.createElement(
                w.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(O.l, null, Object(N.f)("#Sale_EditRaw_Title")),
                m.createElement(
                  O.b,
                  null,
                  m.createElement(
                    "div",
                    null,
                    Object(N.f)("#Sale_EditRaw_Desc_1")
                  ),
                  m.createElement(
                    "div",
                    null,
                    Object(N.f)("#Sale_EditRaw_Desc_2")
                  ),
                  m.createElement(
                    "div",
                    { className: U.EditRawExample },
                    Object(N.f)("#Sale_EditRaw_Example_Title")
                  ),
                  m.createElement(
                    "div",
                    { className: U.EditRawExample },
                    Object(N.f)("#Sale_EditTagItems_Example_1")
                  ),
                  m.createElement(
                    "div",
                    { className: U.EditRawExample },
                    Object(N.f)("#Sale_EditTagItems_Example_2")
                  ),
                  m.createElement(
                    "div",
                    { className: U.EditRawExample },
                    Object(N.f)("#Sale_EditTagItems_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: T.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(G.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    m.createElement("textarea", {
                      className: Object(B.a)(
                        U.EditRawTextArea,
                        z.EditRawTextArea
                      ),
                      value: this.state.editValue,
                      cols: 80,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  m.createElement(
                    O.k,
                    null,
                    m.createElement(
                      O.r,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(N.f)("#Button_Confirm"),
                      " "
                    ),
                    m.createElement(
                      O.d,
                      { onClick: e, disabled: !1 },
                      Object(N.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnCompleteEdit", null),
            Object(a.c)([F.a], t.prototype, "DoImport", null),
            Object(a.c)([F.a], t.prototype, "OnTextChange", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        ue = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                sync_opt_in_items: !1,
                sync_opt_in_tags: !1,
                sync_store_tags: !1,
                sync_feature_tags: !1,
                bSyncTop20StoreTags: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.ConvertToCapsule = function (e) {
              return { id: e, type: "game" };
            }),
            (t.prototype.AddTag = function (e, t) {
              var n = t.toLocaleLowerCase();
              e.find(function (e) {
                return e.toLocaleLowerCase() === n;
              }) || e.push(t);
            }),
            (t.prototype.ImportOptInPage = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, r, o, c, u, p, m, _, g, h, f, b;
                return Object(a.e)(this, function (v) {
                  switch (v.label) {
                    case 0:
                      return (
                        (n = this.props.editModel),
                        (i = n.GetEventModel().jsondata.sale_opt_in_page_name)
                          ? (this.setState({
                              statusMsg: Object(N.f)(
                                "#Sale_ImportOptIn_Progress_LoadOptIn"
                              ),
                            }),
                            [4, s.a.Get().ForceLoadOptInPage(i)])
                          : (this.setState({
                              bImporting: !1,
                              errMsg: "Invalid opt in page specified " + i,
                            }),
                            [2, !1])
                      );
                    case 1:
                      return 1 !== (null == (r = v.sent()) ? void 0 : r.success)
                        ? (this.setState({
                            bImporting: !1,
                            errMsg:
                              (null == r ? void 0 : r.msg) ||
                              "Unable to load the application list for the sale id " +
                                i,
                          }),
                          [2, !1])
                        : ((o = !1),
                          (c = r.opted_in),
                          (u = n.GetEventModel().jsondata.tagged_items
                            ? Object(a.g)(
                                n.GetEventModel().jsondata.tagged_items
                              )
                            : []),
                          (p = s.a.Get().GetOptInPageData(i)),
                          t ? [4, Object(l.w)(n, u, !1, !1, !0)] : [3, 3]);
                    case 2:
                      (o = v.sent()), (v.label = 3);
                    case 3:
                      if (!e) return [3, 5];
                      for (
                        Object(d.G)(function () {
                          u = u.filter(function (e) {
                            var t = Boolean(p.has(e.capsule.id));
                            return (o = o || !t), t;
                          });
                        }),
                          m = new Array(),
                          _ = function (e) {
                            if (
                              !u.find(function (t) {
                                return t.capsule.id === e.appid;
                              })
                            ) {
                              var t = {
                                capsule: g.ConvertToCapsule(e.appid),
                                tags: [],
                              };
                              m.push(t), (o = !0);
                            }
                          },
                          g = this,
                          h = 0,
                          f = c;
                        h < f.length;
                        h++
                      )
                        (b = f[h]), _(b);
                      return [4, Object(l.w)(n, m)];
                    case 4:
                      v.sent(), u.push.apply(u, m), (v.label = 5);
                    case 5:
                      return (
                        o && (n.GetEventModel().jsondata.tagged_items = u),
                        [2, o]
                      );
                  }
                });
              });
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.state),
                        (t = e.sync_feature_tags),
                        (n = e.sync_opt_in_items),
                        (i = e.sync_opt_in_tags),
                        (r = e.sync_store_tags),
                        (s = !1),
                        n || i ? [4, this.ImportOptInPage(n, i)] : [3, 2]
                      );
                    case 1:
                      (s = a.sent() || s), (a.label = 2);
                    case 2:
                      return (
                        (c = this.props.editModel
                          .GetEventModel()
                          .GetTaggedItems()),
                        this.setState({
                          statusMsg: Object(N.f)(
                            "#Sale_SyncTaggedItems_Progress_LoadingStore",
                            c.length
                          ),
                        }),
                        r || t
                          ? [
                              4,
                              Object(l.w)(
                                this.props.editModel,
                                c,
                                r,
                                t,
                                !1,
                                this.state.bSyncTop20StoreTags
                              ),
                            ]
                          : [3, 4]
                      );
                    case 3:
                      (s = a.sent() || s), (a.label = 4);
                    case 4:
                      return (
                        s &&
                          (Object(l.u)(this.props.editModel),
                          this.props.editModel.SetDirty(o.c.jsondata_sales)),
                        this.setState({ bImporting: !1, errMsg: "" }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPerformSync = function () {
              this.setState(
                {
                  bImporting: !0,
                  errMsg: void 0,
                  statusMsg: Object(N.f)(
                    "#Sale_ImportOptIn_Progress_LoadOptIn"
                  ),
                },
                this.DoImport
              );
            }),
            (t.prototype.CanPerformSync = function () {
              var e = this.state,
                t = e.sync_feature_tags,
                n = e.sync_opt_in_items,
                a = e.sync_opt_in_tags,
                i = e.sync_store_tags;
              return t || n || a || i;
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.closeModal,
                a = t.editModel,
                i = Boolean(a.GetEventModel().jsondata.sale_opt_in_page_name);
              return m.createElement(
                w.e,
                {
                  onCancel: n,
                  closeModal: n,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(
                  O.l,
                  null,
                  Object(N.f)("#Sale_SyncTaggedItems_Title")
                ),
                m.createElement(
                  O.b,
                  null,
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: T.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      this.state.statusMsg &&
                        m.createElement("p", null, this.state.statusMsg),
                      m.createElement(G.a, {
                        size: "medium",
                        position: "center",
                      })
                    ),
                  !this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      i &&
                        m.createElement(O.e, {
                          label: Object(N.f)("#Sale_SyncTag_OptInItems"),
                          tooltip: Object(N.f)("#Sale_SyncTag_OptInItems_ttip"),
                          checked: this.state.sync_opt_in_items,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_items: t });
                          },
                        }),
                      i &&
                        m.createElement(O.e, {
                          label: Object(N.f)("#Sale_SyncTag_OptInTags"),
                          tooltip: Object(N.f)("#Sale_SyncTag_OptInTags_ttip"),
                          checked: this.state.sync_opt_in_tags,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_tags: t });
                          },
                        }),
                      m.createElement(O.e, {
                        label: Object(N.f)("#Sale_SyncTag_StoreTags"),
                        tooltip: Object(N.f)("#Sale_SyncTag_StoreTags_ttip"),
                        checked: this.state.sync_store_tags,
                        onChange: function (t) {
                          return e.setState({ sync_store_tags: t });
                        },
                      }),
                      this.state.sync_store_tags &&
                        m.createElement(O.e, {
                          label: Object(N.f)(
                            "#FacetedBrowseEditor_SyncTopNTags"
                          ),
                          tooltip: Object(N.f)(
                            "#FacetedBrowseEditor_SyncTopNTags_Tooltip"
                          ),
                          checked: this.state.bSyncTop20StoreTags,
                          onChange: function (t) {
                            return e.setState({ bSyncTop20StoreTags: t });
                          },
                        }),
                      m.createElement(O.e, {
                        label: Object(N.f)("#Sale_SyncTag_Features"),
                        tooltip: Object(N.f)("#Sale_SyncTag_Features"),
                        checked: this.state.sync_feature_tags,
                        onChange: function (t) {
                          return e.setState({ sync_feature_tags: t });
                        },
                      })
                    )
                ),
                !this.state.bImporting &&
                  m.createElement(
                    O.k,
                    null,
                    m.createElement(
                      O.r,
                      {
                        onClick: this.OnPerformSync,
                        disabled: !this.CanPerformSync(),
                      },
                      Object(N.f)("#Button_Confirm")
                    ),
                    m.createElement(
                      O.d,
                      { onClick: n, disabled: !1 },
                      Object(N.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([F.a], t.prototype, "ImportOptInPage", null),
            Object(a.c)([F.a], t.prototype, "OnPerformSync", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function de(e) {
        for (var t = new Set(), n = 0, a = e; n < a.length; n++) {
          var i = a[n],
            r = i.tag_name.trim().toLocaleLowerCase();
          if (!r) return !1;
          if (t.has(r)) return !1;
          if (Object(l.q)(i.filter)) return !1;
          t.add(r);
        }
        return !0;
      }
      var pe = function (e) {
          var t = e.closeModal,
            n = e.editModel,
            i = n.GetEventModel().jsondata,
            r = m.useState(!0),
            s = r[0],
            c = r[1],
            u = m.useState(!1),
            p = u[0],
            _ = u[1],
            g = m.useState(Object(a.g)(i.auto_item_tags || [])),
            h = g[0],
            f = g[1],
            b = function () {
              c(de(h)), _(!0);
            },
            v = h.map(function (e, t) {
              return m.createElement(me, {
                key: "AutoTag" + t,
                editModel: n,
                fnOnEdited: b,
                fnOnDeleted: function () {
                  return (
                    (e = t),
                    f(
                      h.filter(function (t, n) {
                        return n != e;
                      })
                    ),
                    void c(de(h))
                  );
                  var e;
                },
                autoTag: e,
              });
            });
          return m.createElement(
            w.e,
            {
              onCancel: t,
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
            },
            m.createElement(O.l, null, Object(N.f)("#Sale_EditAutoTags_Title")),
            m.createElement(
              O.b,
              null,
              m.createElement(
                "div",
                { className: z.EditAutoTagsBody },
                m.createElement(
                  "div",
                  { className: z.AutoTagList },
                  v,
                  m.createElement(
                    O.d,
                    {
                      onClick: function () {
                        f(
                          Object(a.g)(h, [
                            { tag_name: "", filter: { clauses: [] } },
                          ])
                        ),
                          c(!1);
                      },
                    },
                    Object(N.f)("#Sale_EditTags_NewTagButton")
                  )
                )
              )
            ),
            m.createElement(
              O.k,
              null,
              m.createElement(
                O.d,
                {
                  onClick: function () {
                    s &&
                      p &&
                      Object(d.G)(function () {
                        i.auto_item_tags = h;
                        for (
                          var e = 0, t = n.GetEventModel().GetTaggedItems();
                          e < t.length;
                          e++
                        ) {
                          var a = t[e];
                          Object(l.v)(i.auto_item_tags, a);
                        }
                        n.SetDirty(o.c.jsondata_sales);
                      }),
                      e.closeModal();
                  },
                  disabled: !s,
                },
                Object(N.f)("#Button_OK")
              )
            )
          );
        },
        me = function (e) {
          var t = m.useState(e.autoTag.tag_name),
            n = t[0],
            a = t[1],
            i = m.useState(e.autoTag.filter),
            r = i[0],
            o = i[1],
            l = function (t) {
              (e.autoTag.filter = t), e.fnOnEdited(), o(t);
            };
          return m.createElement(
            "div",
            { className: z.AutoTag },
            m.createElement(
              "div",
              { className: z.AutoTagRow },
              m.createElement(O.m, {
                type: "text",
                onChange: function (t) {
                  a(t.target.value),
                    (e.autoTag.tag_name = t.target.value.trim()),
                    e.fnOnEdited();
                },
                placeholder: Object(N.f)("#Sale_EditAutoTags_Placeholder"),
                tooltip: Object(N.f)("#Sale_EditAutoTags_Tooltip"),
                value: n,
              }),
              m.createElement(K, {
                onClick: function () {
                  return e.fnOnDeleted();
                },
              })
            ),
            m.createElement(
              "div",
              { className: z.AutoTagRow },
              m.createElement(Q, { filter: r }),
              m.createElement(
                O.d,
                {
                  onClick: function () {
                    Object(M.d)(
                      m.createElement(se, {
                        editModel: e.editModel,
                        filter: r,
                        title: Object(N.f)("#Sale_TagFilter_EditFilter"),
                        onApplyFilter: l,
                      }),
                      window
                    );
                  },
                },
                Object(N.f)("#Sale_TagFilter_EditFilter")
              )
            )
          );
        };
    },
    rppr: function (e, t, n) {
      e.exports = {
        VersionListCtn: "partnereventrevisionhistory_VersionListCtn_32hnY",
        VersionCtn: "partnereventrevisionhistory_VersionCtn_3vUSX",
        VersionInfoCtn: "partnereventrevisionhistory_VersionInfoCtn_1sI79",
      };
    },
    t0uJ: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return C;
      }),
        n.d(t, "a", function () {
          return j;
        }),
        n.d(t, "c", function () {
          return I;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("Q47U"),
        l = n("fcuX"),
        s = n("t0uJ"),
        c = n("4lry"),
        u = n("2vnA"),
        d = n("mgoM"),
        p = n("3+zv"),
        m = n("kLLr"),
        _ = n("ir+G"),
        g = n("U+Q5"),
        h = n("TQGK"),
        f = n("BVKn"),
        b = n("9w6b"),
        v = n("6oCP"),
        E = n("r64O"),
        S = n("TLQK"),
        y = n("bDQf"),
        O = n("lkRc");
      function T(e) {
        return "U" + (O.i.accountid || "anon") + "-" + e;
      }
      function C(e, t) {
        window.sessionStorage.setItem(T(e), JSON.stringify(t));
      }
      function j(e) {
        var t = null,
          n = window.sessionStorage.getItem(T(e));
        if (n)
          try {
            t = JSON.parse(n);
          } catch (e) {}
        return t;
      }
      var I = new ((function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.m_bLoadedOrInflightSteamAwardVoteDefinitions = !1),
            (t.m_mapSteamAwardVoteDefinitionsForApp = new Map()),
            t
          );
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.GetCurHoverCategory = function () {
            return {
              type: this.m_curHoverCategoryType,
              tags: this.m_curHoverCategoryTags,
            };
          }),
          (t.prototype.SetCurHoverCategory = function (e, t) {
            this.m_curHoverCategoryType !== e &&
              (this.m_curHoverCategoryType = e),
              this.m_curHoverCategoryTags !== t &&
                (this.m_curHoverCategoryTags = t);
          }),
          (t.prototype.BHasEditModel = function () {
            return null != this.m_editModel;
          }),
          (t.prototype.ClearModel = function () {
            this.m_editModel = null;
          }),
          (t.prototype.BIsCreateModel = function () {
            return !this.m_editModel || "" == this.m_editModel.GetGID();
          }),
          (t.prototype.BIsDirty = function () {
            return this.m_editModel && this.m_editModel.BIsDirty();
          }),
          (t.prototype.BEventModelHasTag = function (e) {
            return this.GetEditModel().BHasTag(e);
          }),
          (t.prototype.ResetModel = function (e, t) {
            var n = new v.c();
            (n.GID = e),
              (n.clanSteamID = t || m.a.InitFromClanID(O.b.CLANACCOUNTID)),
              Object(E.a)(
                n.clanSteamID && n.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + n.clanSteamID.ConvertTo64BitString()
              ),
              (n.appid = O.b.APPID),
              (n.bOldAnnouncement = e && e.startsWith(p.F)),
              (n.bLoaded = !0),
              null == e && (n.loadedAllLanguages = !0),
              n.appid == p.B &&
                (n.vecTags.push("hide_library_overview"),
                n.vecTags.push("steam_blog"),
                n.vecTags.push("mod_reviewed")),
              (this.m_editModel = new l.e(n)),
              _.a.EnsureStoreCapsuleInfoLoaded(O.b.APPID);
          }),
          (t.prototype.LoadClanEventsForPartnerDashboard = function (
            e,
            t,
            n,
            i
          ) {
            var o, l, s;
            return Object(a.b)(this, void 0, void 0, function () {
              var c,
                u,
                d,
                p,
                m = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (c =
                        O.c.COMMUNITY_BASE_URL +
                        "/gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxlisteventsfordashboard/"),
                      (u = { start: t, count: n, l: O.c.LANGUAGE }),
                      [
                        4,
                        r.a.get(c, {
                          params: u,
                          cancelToken: i ? i.token : void 0,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (d = a.sent()),
                      (p = new Array()),
                      1 ==
                        (null === (o = null == d ? void 0 : d.data) ||
                        void 0 === o
                          ? void 0
                          : o.success) &&
                        ((null === (l = d.data.hidden_announcement_gids) ||
                        void 0 === l
                          ? void 0
                          : l.length) > 0 &&
                          d.data.hidden_announcement_gids.forEach(function (t) {
                            return p.push(
                              m.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          }),
                        (null === (s = d.data.announcement_gids) || void 0 === s
                          ? void 0
                          : s.length) > 0 &&
                          d.data.announcement_gids.forEach(function (t) {
                            return p.push(
                              m.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          })),
                      [4, Promise.all(p)]
                    );
                  case 2:
                    return a.sent(), [2, this.GetAllClanEvents(e)];
                }
              });
            });
          }),
          (t.prototype.LoadEditorModel = function (e, t) {
            var n;
            return Object(a.b)(this, void 0, void 0, function () {
              var i;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return t &&
                      (null === (n = this.m_editModel) || void 0 === n
                        ? void 0
                        : n.GetGID()) == t &&
                      this.m_editModel.GetEventModel().loadedAllLanguages
                      ? [3, 6]
                      : [3, 1];
                  case 1:
                    return t
                      ? (this.ResetModel(t, e),
                        [4, this.LoadHiddenPartnerEvent(e, t)])
                      : [3, 5];
                  case 2:
                    return (
                      a.sent(),
                      (i = s.c.GetClanEventModel(t))
                        ? (this.m_editModel.Refresh(i),
                          [4, s.c.LoadClanEventLocalization(e, t, !1)])
                        : [3, 4]
                    );
                  case 3:
                    a.sent(), (a.label = 4);
                  case 4:
                    return [3, 6];
                  case 5:
                    this.m_editModel || this.ResetModel(), (a.label = 6);
                  case 6:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.GetEditModel = function () {
            return this.m_editModel;
          }),
          (t.prototype.CreateClone = function () {
            var e = this.GetEditModel().GetEventModel().clone();
            return this.m_editModel.PrepareAsClone(e), this.m_editModel;
          }),
          (t.prototype.PublishModel = function (e, t) {
            return (
              void 0 === t && (t = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [4, this.InternalSaveAction(e, !0, t)];
                    case 1:
                      if (1 != (n = a.sent()).success) throw n;
                      return [2, n];
                  }
                });
              })
            );
          }),
          (t.prototype.PreSaveActions = function (e) {
            return Object(a.b)(this, void 0, void 0, function () {
              var t, n, i, r, l, s, u, d, p;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    if (
                      (30 == this.m_editModel.GetFirstLanguageWithTitle() &&
                        this.m_editModel.SetName(
                          this.m_editModel.GetCurEditLanguage(),
                          Object(S.f)("#EventEditor_Placeholder_Title")
                        ),
                      !this.m_editModel.BHasEmailEnabled())
                    )
                      return [3, 6];
                    (t = this.m_editModel.GetEmailSettings().sections),
                      (n = 0),
                      (a.label = 1);
                  case 1:
                    if (!(n < t.length)) return [3, 6];
                    if (
                      ((i = t[n]),
                      !(r = new o.a(i, this.m_editModel)).BHasValidVideoURL())
                    )
                      return [3, 5];
                    if (!(l = r.GetYouTubeVideoID()) || r.BHasVideoImage())
                      return [3, 5];
                    (s =
                      O.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      this.m_editModel.GetClanSteamID().ConvertTo64BitString() +
                      "/fetchyoutubeimage?videoid=" +
                      l),
                      (u =
                        O.c.COMMUNITY_BASE_URL +
                        "public/images/events/media_play_icon.png"),
                      (a.label = 2);
                  case 2:
                    return (
                      a.trys.push([2, 4, , 5]),
                      [4, g.d.AsyncOverlay(e, s, u, l, 740, 555)]
                    );
                  case 3:
                    return (d = a.sent()), r.SetVideoHashAndExt(d), [3, 5];
                  case 4:
                    return (
                      (p = a.sent()),
                      console.error(
                        "We failed to create a video image, not a blocker: " +
                          Object(y.a)(p).strErrorMsg
                      ),
                      [3, 5]
                    );
                  case 5:
                    return ++n, [3, 1];
                  case 6:
                    return (
                      this.m_editModel.BHasSaleEnabled() &&
                        this.m_editModel.GetSaleSectionCount() > 0 &&
                        this.m_editModel
                          .GetSaleSections()
                          .forEach(function (e) {
                            "items" == e.section_type &&
                              Boolean(e.smart_section_type) &&
                              (e.capsules = []);
                          }),
                      [4, Object(c.b)(this.m_editModel)]
                    );
                  case 7:
                    return a.sent(), [2];
                }
              });
            });
          }),
          (t.prototype.SaveModel = function (e, t, n) {
            return (
              void 0 === t && (t = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var i;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [4, this.PreSaveActions(e)];
                    case 1:
                      return (
                        a.sent(), [4, this.InternalSaveAction(e, !1, t, n)]
                      );
                    case 2:
                      if (1 != (i = a.sent()).success) throw i;
                      return [2, i];
                  }
                });
              })
            );
          }),
          (t.prototype.InternalSaveAction = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o,
                s,
                c,
                _,
                g,
                h,
                f,
                b,
                v,
                T,
                C,
                j,
                I,
                w,
                M,
                D,
                k = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        !!this.m_editModel.GetGID() &&
                        !this.m_editModel.GetGID().startsWith(p.F)),
                      t && !o
                        ? [
                            2,
                            {
                              success: 11,
                              msg: Object(S.f)(
                                "#EventEditor_Publish_CannotPublishWithoutSaveFirst"
                              ),
                            },
                          ]
                        : this.m_editModel.GetEventModel().loadedAllLanguages
                        ? i || (!o && !t)
                          ? [3, 2]
                          : [
                              4,
                              this.GetLastUpdateTimeForEvent(
                                e,
                                this.m_editModel.GetEventModel().GID,
                                void 0,
                                null
                              ),
                            ]
                        : [
                            2,
                            {
                              success: 11,
                              msg: Object(S.f)(
                                "#EventEditor_SaveOrPublish_MissingLocalizationInternalError"
                              ),
                            },
                          ]
                    );
                  case 1:
                    if (
                      (s = a.sent()) &&
                      s.last_update_rtime > 0 &&
                      s.last_update_rtime !=
                        this.m_editModel.GetLastUpdateTime()
                    )
                      return (
                        console.log(
                          "Clobber Warning Appears: Original Seconds: " +
                            s.last_update_rtime +
                            " update time: " +
                            this.m_editModel.GetLastUpdateTime() +
                            " previous user: " +
                            s.persona_name
                        ),
                        [
                          2,
                          {
                            success: 27,
                            msg: Object(S.f)(
                              "#EventEditor_SaveOrPublish_ClobberWarning",
                              Object(S.m)(s.last_update_rtime),
                              s.persona_name,
                              Object(S.m)(this.m_editModel.GetLastUpdateTime())
                            ),
                          },
                        ]
                      );
                    a.label = 2;
                  case 2:
                    if (
                      ((c = this.m_editModel.GetGID()),
                      (_ = new URLSearchParams()).append(
                        "sessionid",
                        O.c.SESSIONID
                      ),
                      _.append("authwgtoken", O.i.authwgtoken),
                      n && _.append("fake_error", "" + n),
                      this.m_editModel
                        .GetEventModel()
                        .BHasTag("mod_reviewed") &&
                        this.m_editModel.AddTag("mod_require_rereview"),
                      this.m_editModel.BHasTag("auto_migrated") &&
                        !this.m_editModel.GetEventModel().bOldAnnouncement &&
                        this.m_editModel.ClearTags(["auto_migrated"]),
                      o || t
                        ? (_.append(t ? "bPublish" : "bUpdate", "1"),
                          _.append("gid", this.m_editModel.GetGID()),
                          _.append(
                            "announcement_gid",
                            this.m_editModel.GetAnnouncementGID()
                          ))
                        : (this.m_editModel.GetEventModel().bOldAnnouncement &&
                            _.append(
                              "announcement_gid",
                              this.m_editModel.GetAnnouncementGID()
                            ),
                          _.append("bCreate", "1")),
                      _.append(
                        "rtime32_visibility_start",
                        "" + this.m_editModel.GetEventVisibilityStartTime()
                      ),
                      _.append(
                        "rtime32_visibility_end",
                        "" + this.m_editModel.GetEventVisibilityEndTime()
                      ),
                      _.append(
                        "start_time_is_now",
                        this.m_editModel.GetStartTimeEditChoice() ==
                          l.d.k_ENow ||
                          this.m_editModel.GetVisibilitySetting() ==
                            l.f.immediate
                          ? "1"
                          : "0"
                      ),
                      !t)
                    ) {
                      if (
                        ((g = "Untitled"),
                        !(h = (this.m_editModel.GetName(0) || "").trim()) ||
                          h === g)
                      ) {
                        for (f = "", b = 0; b < 30; ++b)
                          if (
                            ((v = (this.m_editModel.GetName(b) || "").trim()),
                            this.m_editModel.BIsLanguageValidForRealms(b) && v)
                          ) {
                            f = v;
                            break;
                          }
                        this.m_editModel.SetName(0, f || g);
                      }
                      for (
                        _.append("hidden", "" + this.m_editModel.BHidden()),
                          _.append(
                            "published",
                            "" + this.m_editModel.BPublished()
                          ),
                          _.append("appid", "" + this.m_editModel.GetAppID()),
                          _.append("event_name", this.m_editModel.GetName(0)),
                          _.append(
                            "event_type",
                            "" + this.m_editModel.GetEventType()
                          ),
                          _.append(
                            "body",
                            this.m_editModel.GetDescription(0)
                              ? this.m_editModel.GetDescription(0)
                              : ""
                          ),
                          _.append(
                            "rtime32_start_time",
                            "" + this.m_editModel.GetEventStartTime()
                          ),
                          _.append(
                            "rtime32_end_time",
                            "" + this.m_editModel.GetEventEndTime()
                          ),
                          _.append(
                            "jsondata",
                            "" + this.m_editModel.ConstructJSONData()
                          ),
                          _.append(
                            "tags",
                            JSON.stringify(
                              this.m_editModel.GetEventModel().vecTags
                            )
                          ),
                          this.m_editModel.BHasBroadcaster() &&
                            _.append(
                              "broadcaster_accountid",
                              "" +
                                this.m_editModel.GetBroadcaster().GetAccountID()
                            ),
                          T = 0;
                        T < 30;
                        ++T
                      )
                        this.m_editModel.BHasLanguage(T) &&
                          (_.append(
                            Object(d.c)(Object(d.a)(T)) + "_headline",
                            this.m_editModel.GetName(T)
                              ? this.m_editModel.GetName(T)
                              : ""
                          ),
                          _.append(
                            Object(d.c)(Object(d.a)(T)) + "_body",
                            this.m_editModel.GetDescription(T)
                              ? this.m_editModel.GetDescription(T)
                              : ""
                          ));
                    }
                    (C = this.m_editModel.GetAppID()),
                      (j =
                        O.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxcreateupdatedeletepartnerevents/"),
                      (a.label = 3);
                  case 3:
                    return a.trys.push([3, 6, , 7]), [4, r.a.post(j, _)];
                  case 4:
                    return (
                      (I = a.sent()),
                      Object(u.G)(function () {
                        if (
                          (Object(E.a)(
                            200 == I.status && 1 == I.data.success,
                            "We should only get 200 if we succeed in this method."
                          ),
                          k.m_editModel.GetGID() == c)
                        ) {
                          k.m_editModel.ClearDirty(),
                            t
                              ? (k.m_editModel.UpdateVisibilityState(
                                  I.data.published,
                                  I.data.hidden
                                ),
                                I.data.forum_topic_id &&
                                  (k.m_editModel.GetEventModel().forumTopicGID =
                                    I.data.forum_topic_id))
                              : (o ||
                                  (k.m_editModel.SetGIDs(
                                    e,
                                    I.data.gid,
                                    I.data.announcement_gid
                                  ),
                                  k.InsertUniqueEventGID(
                                    e.GetAccountID(),
                                    C,
                                    I.data.gid
                                  )),
                                I.data.localization_updates &&
                                  I.data.localization_updates.forEach(function (
                                    e
                                  ) {
                                    k.m_editModel
                                      .GetEventModel()
                                      .timestamp_loc_updated.set(
                                        e.lang,
                                        e.timestamp_updated
                                      );
                                  }));
                          var n = k.m_editModel.GetEventModel();
                          k.m_mapExistingEvents.set(n.GID, n),
                            k.m_editModel.Refresh(n);
                        }
                      }),
                      [
                        4,
                        this.GetLastUpdateTimeForEvent(
                          e,
                          this.m_editModel.GetGID(),
                          void 0,
                          void 0
                        ),
                      ]
                    );
                  case 5:
                    return (
                      (w = a.sent())
                        ? this.m_editModel.MarkUpdateSuccessful(
                            w.last_update_rtime,
                            w.last_updater_steamid
                          )
                        : this.m_editModel.MarkUpdateSuccessful(
                            Math.floor(Date.now() / 1e3),
                            m.a
                              .InitFromAccountID(O.i.accountid)
                              .ConvertTo64BitString()
                          ),
                      [2, I.data]
                    );
                  case 6:
                    return (
                      (M = a.sent()),
                      (D = Object(y.a)(M)),
                      console.error(
                        "InternalSaveAction failed: " + D.strErrorMsg,
                        D
                      ),
                      [2, { success: 2, msg: D.strErrorMsg }]
                    );
                  case 7:
                    return [2];
                }
              });
            });
          }),
          (t.prototype.LoadClanEventLocalization = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i,
                r,
                o = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return !(i = this.m_mapExistingEvents.get(t)) ||
                      (i.loadedAllLanguages && !n)
                      ? [3, 2]
                      : (r = i.AnnouncementGID) && "0" != r
                      ? [
                          4,
                          this.LoadClanEventLocalizationFromAnnouncementGID(
                            e,
                            r
                          ).then(function (e) {
                            e &&
                              Object(u.G)(function () {
                                i.loadedAllLanguages = !0;
                                for (var t = 0, n = e; t < n.length; t++) {
                                  var a = n[t];
                                  i.name.set(a.language, a.headline),
                                    i.description.set(a.language, a.body),
                                    i.timestamp_loc_updated.set(
                                      a.language,
                                      a.timestamp_updated
                                    );
                                }
                                o.m_editModel.Refresh(i);
                              });
                          }),
                        ]
                      : [2, this.m_editModel];
                  case 1:
                    a.sent(), (a.label = 2);
                  case 2:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.FireTestEmail = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        O.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxtestfirepartnereventemail"),
                      Object(E.a)(
                        e && e.BIsValid(),
                        "FireTestEventNotifiation clan steamd is invalid " +
                          (e ? e.ConvertTo64BitString() : "undefined")
                      ),
                      (l = new URLSearchParams()).append(
                        "sessionid",
                        O.c.SESSIONID
                      ),
                      l.append("clan_event_gid", t),
                      l.append("clan_account_id", "" + e.GetAccountID()),
                      l.append("language", Object(d.a)(n)),
                      [4, r.a.post(o, l, { cancelToken: i.token })]
                    );
                  case 1:
                    return [2, a.sent().data];
                }
              });
            });
          }),
          (t.prototype.FireTestEventNotifiation = function (e, t, n, i) {
            return (
              void 0 === i && (i = 0),
              Object(a.b)(this, void 0, void 0, function () {
                var o, l;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (o =
                          O.c.COMMUNITY_BASE_URL +
                          "eventemail/ajaxtestfireeventnotification"),
                        Object(E.a)(
                          e && e.BIsValid(),
                          "FireTestEventNotifiation clan steamd is invalid " +
                            (e ? e.ConvertTo64BitString() : "undefined")
                        ),
                        (l = new URLSearchParams()).append(
                          "sessionid",
                          O.c.SESSIONID
                        ),
                        l.append("clan_event_gid", t),
                        l.append("clan_account_id", "" + e.GetAccountID()),
                        l.append("notification_type", "" + i),
                        [4, r.a.post(o, l, { cancelToken: n.token })]
                      );
                    case 1:
                      return [2, a.sent().data];
                  }
                });
              })
            );
          }),
          (t.prototype.SetupPartnerEmailCampaign = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, o, l;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (i =
                        O.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxsetuppartneremail"),
                      (o = new URLSearchParams()).append(
                        "sessionid",
                        O.c.SESSIONID
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      [
                        4,
                        r.a.post(i, o, {
                          withCredentials: !0,
                          cancelToken: n.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (l = a.sent()),
                      [4, this.HandleEmailSetupResponse(e, t, l)]
                    );
                  case 2:
                    return [2, a.sent()];
                }
              });
            });
          }),
          (t.prototype.HandleEmailSetupResponse = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, r;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return n.data.force_feature_id && 1 == n.data.success
                      ? ((i = n.data.force_feature_id),
                        console.log(
                          "SetupPartnerEmailCampaign successful with feature id: " +
                            i
                        ),
                        [4, this.LoadEditorModel(e, t)])
                      : [3, 3];
                  case 1:
                    return (
                      (r = a.sent()),
                      new o.b(r).SetForceFeatureID(i),
                      [4, this.SaveModel(e)]
                    );
                  case 2:
                    return [2, a.sent()];
                  case 3:
                    return [2, n.data];
                }
              });
            });
          }),
          (t.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID = function (
            t,
            n,
            i,
            r,
            o,
            l
          ) {
            return (
              void 0 === l && (l = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var l, s;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return t ? [3, 2] : [4, h.a.LoadOGGClanInfoForAppID(n)];
                    case 1:
                      (l = a.sent()), (t = l.clanSteamID), (a.label = 2);
                    case 2:
                      return [4, b.a.Get().LoadSingleAppEventPermissions(t)];
                    case 3:
                      return (
                        (s = a.sent()),
                        [
                          2,
                          e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID.call(
                            this,
                            t,
                            n,
                            i,
                            r,
                            o,
                            s.can_edit
                          ),
                        ]
                      );
                  }
                });
              })
            );
          }),
          (t.prototype.RequestLocalizationOfEvent = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, o;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (i =
                        O.c.STORE_BASE_URL + "events/ajaxrequestlocalization"),
                      (o = new URLSearchParams()).append(
                        "authwgtoken",
                        O.i.authwgtoken
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      o.append("primaryLang", "0"),
                      [4, r.a.post(i, o, { cancelToken: n.token })]
                    );
                  case 1:
                    return [2, a.sent().data];
                }
              });
            });
          }),
          (t.prototype.GetLastUpdateTimeForEvent = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l, s, c;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    (o =
                      O.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      e.ConvertTo64BitString() +
                      "/ajaxgetlastupdatetimeforpartnerevent"),
                      (l = { eventgid: t, announcementgid: n }),
                      (a.label = 1);
                  case 1:
                    return (
                      a.trys.push([1, 3, , 4]),
                      [
                        4,
                        r.a.get(o, {
                          params: l,
                          withCredentials: !0,
                          cancelToken: i ? i.token : void 0,
                        }),
                      ]
                    );
                  case 2:
                    return [2, a.sent().data];
                  case 3:
                    return (
                      (s = a.sent()),
                      (c = Object(y.a)(s)),
                      console.error(
                        "GetLastUpdateTimeForEvent: Failed to get last update time: " +
                          c.strErrorMsg,
                        c
                      ),
                      [3, 4]
                    );
                  case 4:
                    return [2, null];
                }
              });
            });
          }),
          (t.prototype.SetupInternalPartnerCommunication = function (
            e,
            t,
            n,
            i
          ) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l, s;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        O.c.STORE_BASE_URL +
                        "events_admin/ajaxupdatepartneremailtarget"),
                      (l = new URLSearchParams()).append(
                        "authwgtoken",
                        O.i.authwgtoken
                      ),
                      l.append("sessionid", O.c.SESSIONID),
                      l.append("clan_accountid", "" + t.GetAccountID()),
                      l.append("gid_event", n),
                      l.append("partner_capability", "" + i.capability),
                      l.append("app_right_flags", "" + i.app_rights),
                      l.append("publisher_right_flags", "" + i.pub_rights),
                      l.append("mark_urgent", "" + i.priority),
                      l.append("appids", i.appids.join(",")),
                      l.append("publisherids", i.partnerids.join(",")),
                      [
                        4,
                        r.a.post(o, l, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (s = a.sent()),
                      [4, this.HandleEmailSetupResponse(t, n, s)]
                    );
                  case 2:
                    return [2, a.sent()];
                }
              });
            });
          }),
          (t.prototype.GetPartnerCapabilities = function (e) {
            return Object(a.b)(this, void 0, void 0, function () {
              var t, n;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (t =
                        O.c.STORE_BASE_URL +
                        "events_admin/ajaxgetcapabilities"),
                      (n = new URLSearchParams()).append(
                        "authwgtoken",
                        O.i.authwgtoken
                      ),
                      n.append("sessionid", O.c.SESSIONID),
                      [
                        4,
                        r.a.post(t, n, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return [2, a.sent().data.capabilities];
                }
              });
            });
          }),
          (t.prototype.GetSteamAwardVoteDefinitionForApp = function (e) {
            var t = this;
            if (!this.m_bLoadedOrInflightSteamAwardVoteDefinitions) {
              this.m_bLoadedOrInflightSteamAwardVoteDefinitions = !0;
              var n = O.c.STORE_BASE_URL + "steamawards/ajaxgetpartnervotedefs",
                a = new URLSearchParams();
              a.append("authwgtoken", O.i.authwgtoken),
                a.append("sessionid", O.c.SESSIONID),
                a.append("appid", e.toString()),
                r.a.post(n, a, { withCredentials: !0 }).then(
                  function (e) {
                    var n, a, i;
                    1 ==
                      (null === (n = null == e ? void 0 : e.data) ||
                      void 0 === n
                        ? void 0
                        : n.success) &&
                      (null ===
                        (i =
                          null === (a = null == e ? void 0 : e.data) ||
                          void 0 === a
                            ? void 0
                            : a.votes) || void 0 === i
                        ? void 0
                        : i.length) > 0 &&
                      e.data.votes.forEach(function (e) {
                        t.m_mapSteamAwardVoteDefinitionsForApp.has(e.appid)
                          ? t.m_mapSteamAwardVoteDefinitionsForApp
                              .get(e.appid)
                              .push(e)
                          : t.m_mapSteamAwardVoteDefinitionsForApp.set(
                              e.appid,
                              [e]
                            );
                      });
                  },
                  function (e) {
                    var t = Object(y.a)(e);
                    console.error(
                      "LoadSteamAwardVoteDefinitionsForPartner: Request failed: " +
                        t.strErrorMsg,
                      t
                    );
                  }
                );
            }
            return this.m_mapSteamAwardVoteDefinitionsForApp.get(e);
          }),
          Object(a.c)([u.C], t.prototype, "m_curHoverCategoryType", void 0),
          Object(a.c)([u.C], t.prototype, "m_curHoverCategoryTags", void 0),
          Object(a.c)(
            [u.C],
            t.prototype,
            "m_mapSteamAwardVoteDefinitionsForApp",
            void 0
          ),
          Object(a.c)([u.k], t.prototype, "ResetModel", null),
          Object(a.c)([u.k], t.prototype, "LoadClanEventLocalization", null),
          t
        );
      })(f.a))();
      window.g_PartnerEventEditStore = I;
    },
    tzvv: function (e, t, n) {
      e.exports = {
        SortTierControls: "partnereventsalesorttiers_SortTierControls_1_f_6",
      };
    },
    vBFs: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return m;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("fpVW"),
        c = n.n(s),
        u = n("exH9"),
        d = n("TLQK"),
        p = n("bxiW"),
        m = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GenerateLanguageOptions = function () {
              var e,
                t = [],
                n = this.props,
                a = n.fnFilterLanguage,
                i = n.fnLangHasData,
                s = n.fnLastUpdateRTime,
                p = n.fnIsLangSupported;
              this.props.bAllowUnsetOption &&
                t.push(
                  r.createElement(
                    "option",
                    { key: "langpicker_unset", value: -1 },
                    Object(d.f)("#EventEditor_NoneLanguage")
                  )
                );
              for (
                var m = new Array(),
                  _ = this.props.realms || [l.f.k_ESteamRealmGlobal],
                  g = 0,
                  h = d.b.GetLanguageListForRealms(_);
                g < h.length;
                g++
              ) {
                var f = h[g];
                if (!a || a(f)) {
                  var b = Object(o.a)(f),
                    v = Object(d.f)("#Language_" + b),
                    E = Boolean(p) && p(f);
                  m.push({ eLang: f, sLocName: v, bSupported: E });
                }
              }
              m.sort(function (e, t) {
                return e.bSupported != t.bSupported
                  ? e.bSupported
                    ? -1
                    : 1
                  : e.sLocName.localeCompare(t.sLocName);
              });
              for (var S = !1, y = 0, O = m; y < O.length; y++) {
                (f = O[y]).bSupported != S &&
                  (t.push(
                    r.createElement(
                      "option",
                      {
                        key: f.bSupported
                          ? "SupportedGroup"
                          : "UnsupportedGroup",
                        className: c.a.SupportedGroupLabel,
                        disabled: !0,
                      },
                      Object(d.f)(
                        f.bSupported
                          ? "#LanguageGroup_Supported"
                          : "#LanguageGroup_Unsupported"
                      )
                    )
                  ),
                  (S = f.bSupported));
                var T = i && i(f.eLang),
                  C = s && s(f.eLang),
                  j = f.sLocName;
                C &&
                  0 !== C &&
                  ((j += " "),
                  (j += Object(d.f)(
                    "#Language_Last_Update",
                    Object(d.o)(C) + " @ " + Object(d.m)(C)
                  ))),
                  t.push(
                    r.createElement(
                      "option",
                      {
                        key: "langpicker" + f.eLang + (T ? "_hasdata" : ""),
                        value: f.eLang,
                        className: Object(u.a)(
                          ((e = {}), (e[c.a.LangaugeWithContent] = T), e),
                          f.bSupported
                            ? c.a.SupportedLanguage
                            : c.a.UnsupportedLanguage
                        ),
                      },
                      j
                    )
                  );
              }
              return t;
            }),
            (t.prototype.OnLanguageChange = function (e) {
              var t = this.props,
                n = t.fnOnLanguageChanged,
                a = t.selectedLang,
                i = Number.parseInt(e.currentTarget.value);
              i != a && n && n(i);
            }),
            (t.prototype.render = function () {
              var e = this.props.selectedLang,
                t = this.GenerateLanguageOptions();
              return r.createElement(
                "select",
                { value: e, onChange: this.OnLanguageChange },
                t
              );
            }),
            Object(a.c)([p.a], t.prototype, "OnLanguageChange", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    wLVu: function (e, t, n) {
      e.exports = {
        TableOfContentsContainer:
          "tableofcontents_TableOfContentsContainer_2VyHw",
        TableOfContents: "tableofcontents_TableOfContents_3-gNE",
        TOCEntry: "tableofcontents_TOCEntry_2fked",
        TOCEntryText: "tableofcontents_TOCEntryText_2E83D",
        SectionOnScreen: "tableofcontents_SectionOnScreen_1ZlX0",
        TOCIndent: "tableofcontents_TOCIndent_mtCjw",
        Header: "tableofcontents_Header_1JRRC",
        ManageLocCtn: "tableofcontents_ManageLocCtn_1PmKQ",
        LocButtonsCtn: "tableofcontents_LocButtonsCtn_19-WG",
        ManageLocContents: "tableofcontents_ManageLocContents_N1BFb",
      };
    },
    wst7: function (e, t, n) {
      e.exports = {
        DisplayAdminPanel_Spacer:
          "partnereventcontrolbars_DisplayAdminPanel_Spacer_3TzVF",
        EventEditorTopBarContainer:
          "partnereventcontrolbars_EventEditorTopBarContainer_1Afx7",
        EventPublished: "partnereventcontrolbars_EventPublished_3zTXC",
        EventUnPublished: "partnereventcontrolbars_EventUnPublished_pjxnm",
      };
    },
    yKSN: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return y;
      }),
        n.d(t, "b", function () {
          return O;
        });
      var a = n("mrSG"),
        i = n("NpuA"),
        r = n.n(i),
        o = n("q1tI"),
        l = n.n(o),
        s = n("mgoM"),
        c = n("kyHq"),
        u = n("U+Q5"),
        d = n("Mgs7"),
        p = n("fpVW"),
        m = n("Jqb/"),
        _ = n("ka0M"),
        g = n("0OaU"),
        h = n("exH9"),
        f = n("TLQK"),
        b = n("P2lf"),
        v = n("bDQf"),
        E = n("5E+2"),
        S = n("KmXr"),
        y = function (e) {
          var t = function (t, n) {
            t.preventDefault();
            var a = e.fnGetLocData,
              i = e.closeModal,
              r = e.strFileNamePrefix,
              o = e.lang,
              l = a(),
              c = new b.a(),
              u = r ? r + "_localization" : "localization";
            switch (n) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(l, u + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(l, u + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  l,
                  u + ".csv"
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  l,
                  o,
                  u + "_" + Object(s.c)(Object(s.a)(o)) + ".xml"
                );
            }
            i && i();
          };
          return l.a.createElement(
            l.a.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              l.a.createElement(
                l.a.Fragment,
                null,
                l.a.createElement(
                  d.r,
                  {
                    onClick: function (e) {
                      return t(e, "csv_row");
                    },
                  },
                  Object(f.f)("#Localization_Export_Btn_RowLanguages")
                ),
                l.a.createElement(
                  d.r,
                  {
                    onClick: function (e) {
                      return t(e, "csv_column");
                    },
                  },
                  Object(f.f)("#Localization_Export_Btn_ColumnLanguages")
                ),
                l.a.createElement(
                  d.r,
                  {
                    onClick: function (e) {
                      return t(e, "csv_token");
                    },
                  },
                  Object(f.f)("#Localization_Export_Btn_TokenLanguages")
                )
              ),
            Boolean(e.bShowXML) &&
              l.a.createElement(
                d.r,
                {
                  onClick: function (e) {
                    return t(e, "xml");
                  },
                },
                Object(f.f)("#Localization_Export_Btn_XML")
              )
          );
        },
        O = function (e) {
          var t = Object(o.useState)(!1),
            n = t[0],
            i = t[1],
            d = function (e, t) {
              i(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e
                ),
                Object(_.d)(
                  l.a.createElement(
                    m.f,
                    null,
                    l.a.createElement(
                      "div",
                      null,
                      l.a.createElement(
                        "p",
                        null,
                        Object(f.f)("#Localization_Error_Input")
                      ),
                      l.a.createElement("p", null, e.message)
                    )
                  ),
                  window
                );
            },
            y = function (e) {
              i(!1);
              var t = "";
              e.forEach(function (e) {
                t.length > 0 && (t += ", "),
                  (t += Object(f.f)("#Language_" + Object(s.a)(e)));
              }),
                Object(_.d)(
                  l.a.createElement(
                    m.d,
                    {
                      strTitle: Object(f.f)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    l.a.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? Object(f.f)(
                            "#Localization_Success_ImportComplete_NoChange"
                          )
                        : Object(f.f)("#Localization_Success_ImportComplete", t)
                    )
                  ),
                  window
                );
            },
            O = function (t) {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var n, o, l, s, p, m, _, g;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!((n = t.target.files) && n.length > 0))
                        return [3, 10];
                      i(!0),
                        (o = new Array()),
                        (l = new b.a()),
                        (s = 0),
                        (a.label = 1);
                    case 1:
                      return s < n.length
                        ? n[s]
                          ? n[s].name.toLocaleLowerCase().endsWith(".csv")
                            ? (r.a.parse(n[0], {
                                header: !0,
                                complete: function (t) {
                                  var n = new b.a().DetectAndFormatCSV(t);
                                  if (n) {
                                    var a = f.b.GetLanguageListForRealms([
                                        c.f.k_ESteamRealmGlobal,
                                      ]),
                                      i = e.fnOnImportLocData(n, a);
                                    y(i);
                                  } else
                                    d({
                                      code: "",
                                      message: "",
                                      row: 0,
                                      type: "filenameerror",
                                    });
                                },
                                error: d,
                              }),
                              [2])
                            : [3, 2]
                          : [3, 8]
                        : [3, 9];
                    case 2:
                      if (!n[s].name.toLocaleLowerCase().endsWith(".xml"))
                        return [3, 7];
                      if (
                        null ==
                          (p = u.d.DetectLanguageFromFilename(n[s].name)) ||
                        -1 == p
                      )
                        return (
                          d({
                            code: "",
                            message: Object(f.f)(
                              "#Localization_Error_FileLangauage",
                              n[s].name
                            ),
                            row: 0,
                            type: "filenameerror",
                          }),
                          [2]
                        );
                      a.label = 3;
                    case 3:
                      return (
                        a.trys.push([3, 5, , 6]),
                        [4, l.ReadLocalizationData_XML_SingleLanguage(n[s], p)]
                      );
                    case 4:
                      return (
                        (m = a.sent()),
                        e.fnOnImportLocData(m, [p]).map(function (e) {
                          -1 == o.indexOf(e) && o.push(e);
                        }),
                        [3, 6]
                      );
                    case 5:
                      return (
                        (_ = a.sent()),
                        (g = Object(v.a)(_)),
                        d({
                          code: "",
                          message: Object(f.f)(
                            "#Localization_Error_XMLParseError",
                            g.strErrorMsg
                          ),
                          row: 0,
                          type: "parseerror",
                        }),
                        [2]
                      );
                    case 6:
                      return [3, 8];
                    case 7:
                      d({
                        code: "",
                        message: Object(f.f)(
                          "#Localization_Error_FileExtention",
                          n[s].name
                        ),
                        row: 0,
                        type: "filenameerror",
                      }),
                        (a.label = 8);
                    case 8:
                      return ++s, [3, 1];
                    case 9:
                      y(o), (a.label = 10);
                    case 10:
                      return [2];
                  }
                });
              });
            };
          return l.a.createElement(
            E.a,
            {
              className: Object(h.a)(
                e.className ? e.className : p.EditPreviewButton
              ),
              toolTipContent: e.strToolTip,
            },
            l.a.createElement(
              "label",
              { className: S.ImportButton, htmlFor: "importlocalization" },
              n && l.a.createElement(g.a, { size: "small" }),
              l.a.createElement(
                "div",
                { className: S.Label },
                Object(f.f)(
                  e.strLabel ? e.strLabel : "#Localization_Import_Btn"
                )
              ),
              l.a.createElement("input", {
                id: "importlocalization",
                className: S.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: O,
                onChange: O,
                multiple: !0,
              })
            )
          );
        };
    },
    zrk3: function (e, t, n) {
      e.exports = {
        ModeratorAuditActionCtn:
          "eventmoderationaudit_ModeratorAuditActionCtn_f6z__",
        ExpandModActions: "eventmoderationaudit_ExpandModActions_3nNMe",
      };
    },
  },
]);
