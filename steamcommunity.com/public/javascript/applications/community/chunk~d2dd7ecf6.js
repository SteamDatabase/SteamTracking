/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [9505],
  {
    46742: (e) => {
      e.exports = {
        LightboxDialog: "_3ZlRVLZBBJ5AlqcTXgH39I",
        LightboxImageContainer: "_2Q0i393KuCPDvhYcQE_8hn",
        LightboxMainImage: "_1QaLXa9BqcHtuXQn-WeKKB",
        LightboxPrevImage: "_3CBDhewhtAYADfOEKQ088x",
        LightboxNextImage: "_1bAQfVTEag1iry95f9aB5b",
        LightboxToolbar: "_1peagr4kB_Df9EaBgyqNw_",
        LightboxImageTitle: "_1SOhddmKueqNM0bBsPezHq",
        LightboxToolbarButtons: "hK1C_5FvGkWxVfYm1K5O-",
        LightboxCloseButton: "_3Yti5xlO0MO1IRLD4owQ3n",
        LightboxLeftButton: "WtITgXcX98FEtm06NIQNY",
        LightboxRightButton: "KKIxD3K9xRk6zlGyP2kmI",
      };
    },
    51520: (e) => {
      e.exports = { SavedImage: "_1y3QVgsz4daj3E3S5wzwt-" };
    },
    33924: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "_9H6b5yfaxlmcnHvkqtwDK",
        OtherEvents_MainImageCtn: "_2qyLPxO8_nkczRvFiaju8N",
        OtherEvents: "_16DzRvjcqFcYr0NYcWmTrg",
        OtherEvents_EventCtn: "_1MwNf8slOG9lOvAeOshmuu",
        OtherEvents_MainImage: "_3_wKbXvT7_y5YkrtadL0I6",
        OtherEvents_BGImage: "_2pPj9UWoWM6h318uBN0-8X",
        OtherEvents_ContentCtn: "_22jEpNTfml-w_aRJV-fKDm",
        OtherEvents_TextCtn: "_3-EtNa1Nr_737K0kglkT9C",
        OtherEvents_TextTitle: "_2jc1DpJ_WzFtigRh5qDWce",
        UpcomingCtn: "_2CXrGPtlQh-j3aSa6XsQDI",
        OtherEvents_SubTitle: "_1Swox5XYdeesack-J7fNLH",
        HoversEnabled: "_3o6M87A6T172WsUE6MNvdW",
        PartnerEventRowCapsule_MainImage: "bC2Zkx7FlANno4SW8FwB-",
        EventSummaryContainer: "_2GYp44BuZLfKRQdeILTDC3",
        EventSummaryText: "ENbI1gFgvIca6HSKAbfiJ",
        EventSummaryType: "_11JXznGoylLSEmZXZbgcsq",
        HorizontalEvent: "_1ruRSreC31IK4kUGUcSRDK",
        HorizontalSummary: "_2bTWamVtbFnHovwqhlrxiV",
        HorizontalTitle: "B9-wlbaW3NhZ3FQPArnkW",
        HorizontalDescriptionCtn: "_3CQtWw7qMAWImOwd8J5xHi",
        HorizontalDescription: "_2hPZwxDYhaY3SllhjeFqb_",
        AppCapsuleImage: "_3OzV3h4jW1bkLmB6TqbYmo",
        AppCapsuleCtn: "_16au-uWHggl6G731aw_eHt",
        AppCapsuleImageHover: "IeC3X0McKdGC79BsC3VvM",
        AppCapsulePrice: "_2-l2M5GPuxKFwV8h1tc_fH",
      };
    },
    92543: (e) => {
      e.exports = {
        ArtworkDimensionTooSmall: "_1m0PpUctuGTw-Jma50hi2v",
        UploadPreviewCtn: "_34UWtR_ugfBbP2GT9UNyZB",
        UploadPreviewButtonsCtn: "_3rKybFjcU5JGIfziRxbuNt",
        UploadPreviewDelete: "_260mOfOKtRiiYz6UiaZS_w",
        UploadPreviewButton: "_19Fl6VCN7JZgGShsQY_p95",
        UploadPreviewError: "_14nIWrGmXJICEe4YEEcdWS",
        UploadPreviewWarning: "_13jPeHck1h76bmmxJ-csvw",
        UploadPreview: "mOxVUSRnTr3nIwMW_T0fY",
        PreviewImgCtn: "_1gWyQDmPFiSh-p1BD5TC1k",
        PreviewImgInfo: "_15NFxbc1Jv0dEJJpjDrtri",
      };
    },
    53732: (e) => {
      e.exports = {
        ImageWrapperContainer: "_2or51Nzh1oEwvdNjKQ1XsS",
        ImageWrapper: "_34WcpEIVKr8Z72GaesGoR4",
        VideoBackground: "_3IizOeZqT1lZaoPEmdVxG",
        ImageWrapperFilename: "_3_vYFjDjTuDvhsL10XO9BU",
        ResultNotification: "_1X95b1CVvEsEa5dfoR5Pfv",
        ErrorCode: "_-7Alg3skQ6oFTYIpKTHsI",
        Hilight: "_3lBJMYeg4_hihNl0QTX1Qi",
        ImageButton: "_2MUWDtjaZWaMDdJaQr4o5a",
        Thumb: "_3M02zvAfoMwX5XlzlvFkc3",
        Full: "_1RN-YKVciU9zYHOYX6OV0",
        Delete: "_1X87fLS_CT0g2Vu5-fClUZ",
        FloatingThrobber: "_2EHZ15YQSAK_T5SCxVobtG",
        Localized: "_3FFrtt5Of4jP9unTFjYiHs",
      };
    },
    96866: (e) => {
      e.exports = {
        PickerContainer: "_3hEmqKnspI1WSyye2lMCnU",
        SearchInput: "Y12tprgNrNvnZ-eZvch6X",
        Hilight: "_13t_BRkK7eD3KorHIRnCQg",
        ImagesContainer: "oCi3RlRuxmlmslNXhrvbu",
        UploaderContainer: "qkC7CxPM6pro8iwepOfPA",
        UploaderTitle: "_2XGqDBgqyWPUyswJ-2bQy4",
        UploaderRunning: "_3_uPXn6Boi1uEsOtepIaKb",
        UploaderDesc: "_2BZckGhvMPS5VS4DD9bpvT",
        UploadError: "_2dVHFBaaWfiXq7Ea3wn-wJ",
        UploadMessageAndButtonsContainer: "_3rToctsao7fc2jlrU7bnW1",
        UploadSuccess: "_2WvOuad9iiZkV_HKI8NYlO",
        UploadDismissButton: "_1HjnUXpsmTADB1fcOmHSpX",
      };
    },
    9709: (e) => {
      e.exports = {
        TitleImg: "_3E4IFPQP4lnTaJ8fo462Br",
        PreviewImg: "_2COOlV_DzUDN3N0P3ToybN",
        ArtworkBar: "_3OWH-tupjKqql_tcQsLYIp",
      };
    },
    71647: (e) => {
      e.exports = {
        DragAndDropContainer: "_2RL1a79W53-tCW7090DcUp",
        DragAndDropContainerDragging: "wn604fTvW5SH1o852jAnI",
        ImageUploadBar: "_2Zk7b2c_FLMvZPqYvzTzt5",
        SelectImageButton: "_3Cd9cpywFS-01PilCrgOQo",
      };
    },
    49460: (e) => {
      e.exports = {
        SearchInput: "z7qI4Gjuleb-g6osRQpw2",
        PickerTitle: "_1yPqhNpX8e1HgnrarYmsZg",
      };
    },
    25359: (e) => {
      e.exports = {
        EventEditorArtworkCtn: "_3etoSeNgIJIJoQjVvKBkdK",
        ArtworkPreview: "_1fBG8S7L5v1-Ll8UMASqW5",
        EventEditorArtworkBarContainer: "TLT1tvLtG6-1EdFGwToo1",
        EventEditorButton: "_2EbfH5kGhG6VdMYM0aSFsw",
        EventEditorInputPaneTopRow: "_3loSsH7QVVzJW4dbA_k8pH",
        EventCoverImageCtn: "vcULy1uwr1V-xetzQ3t5_",
        DragTarget: "_2qaqHaHt0FsJ5g6E50Rpbn",
        DragOnTopOfMe: "_1-0mEm0at-4Czr10kmQ82K",
        EventEditorArtworkTextCtn: "wbzVx6PSPvY3jxjmybwT7",
        EventEditorDragTargetArea: "_352Z7ynHHExwu7pbLG0mi3",
        EventEditorArtworkTitle: "_1BtkzIs3COLhdqubhPqTJa",
        EventEditorArtworkSubTitle: "_3NsjbDpfSxc8ZHhYE5TuTv",
        EventEditorArtworkResolution: "pScoegXLiCfPTrVdDHgRc",
        ReassignCtn: "_2kzxUHYwRnfLZc2qUJp54m",
        ImagePreviewContainer: "_4M__i4jyU9-VJE6K30Rat",
        NoneSet: "csDC3rD7ooQ8gGXZhh594",
        TitleSafePreview: "_2Gel5eBC4smzhCMPJN4poX",
        TitleSafeCaption: "_2oU3ulhvWy8BrTtr-wLTHL",
        LanguageSelector: "_33sdnBObDSgcIemY_8d188",
        LanguageSelectorSelected: "_35iac6gVYl3NbfLM5oGhAp",
        LanguageSelectorNoData: "_2MrExNFgrVVmzV4_XxWk7m",
        LanguageContainer: "_1GqYxNpFolOmvCXZZ5SqS9",
        LanguageOptions: "_1OF4inXEccSHpEi-94BNyB",
        LanguageListContainer: "_2NKwVWWJzUopyzUpm5K8PU",
        SelectImageContainerTopRow: "_33RDQ6gt9hW0N3baDbAfnl",
        SelectImageContainerBottomRow: "_3Mstp8zLfqhPc0yqJGve2N",
        TextTitle: "_1b_OxtjP85MZc-IlQfnnHR",
        TextSubTitle: "EqzVNygGbzsiBalSQOtWy",
        ExampleSectionTitle: "_2AePWUSM2FTvZMktTEaX-X",
        DetailPageExample: "_392ONkyGLvYAILmrlrnvpW",
        DetailExample: "uCqc1bF2AGYNJFBx59-Hr",
        DetailExample2: "GgO-cRDrIDxhC9mzlUA9A",
        MainImageCtn: "_3VYOHJvHihqQTfP1-kMBap",
        ExampleBodyPosition: "_22lmznAIoce0crmqLa7pEy",
        ExampleContentCtn: "_3p_W9DK9PwoiZD6BEweFwC",
        TextBody: "_232HvNzrbXUHJCdNDolSM9",
        SpotlightExample: "_2m41926NXpqJxJB2dEchHw",
        SelectImageEqualColumns: "Qz0mmjcnBMcs99N6fgVCv",
        SelectImageBlock: "X_wtWeV0nNEF-9Rz0wZRL",
        MainPreviewBlock: "_3kAV8hXf4G70C4tDE8HDjI",
        Tips: "_2jAkKq9D5KKOH2cgMu59yN",
        ExamplesCtn: "WiG3FOkzY58mDmTzVy40z",
        SelectImageExampleImg: "_3Lcquzc_EacniSS2QxdUHx",
        SelectImageLanguagesCtn: "_27huHYrHSwivfUIglfRube",
        SelectImageTitle: "lJEQ6yKHtjwXClD4NVqUY",
        ArtworkSelectorContainer: "_2dxWXru9IFUHuJgzC9_WwQ",
        Title: "_2HiqsrLG8k4zf4raXVygUP",
        BroadcastPreviewContainer: "_3myaExQMpilWMgxWk6AufV",
        SaleHeaderPreviewContainer: "_1p6D8VoQJUTyY1LiTsqaQf",
        SaleHeaderExampleCtn: "_2Nwi2WWTWdc4JkMEiHDFFK",
        SaleHeaderExampleCol: "_2s4zAjRHJabF47kK9uxCY6",
        BroadcastPreview: "_3NxzN3dNq98rjVdkyQ9QIH",
        ExampleSpacer: "_1UuTcQvO7lyRrxjs-QPMdh",
        MultipleExampleContainer: "_34yXhyKRnXlCQ1XA_DLGAW",
        AssetExampleSpotlightCtn: "_29B1UOzVRMVZSd22IyP43x",
        BackgroundConfigCtn: "_3SVRvFP-sXikNXmksKkDQ7",
        OptionCtn: "_2XnObldRTEs5T4Sswyv5Fo",
        BackgroundColorBtn: "_2YD-avez2pqO4MJHAO5_v0",
      };
    },
    15496: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        ReadMoreLink: "_2mvgc6dpEDHRJlTWhGDz7h",
        MajorEventContainer: "dVJB2r43CGIAgr-Xtt4P3",
        MajorEventImageContainer: "_1PkTBeZJVs3WI8US0zffEx",
        MajorEventImage: "_25fL1JQcG1kh_9L5danMxc",
        BottomShadow: "_1ueE9cjv0hzERo311Gr6qL",
        MajoreEventImageContentContainer: "_3mREW5LJ_7jyeol7BtXcym",
        MajorEventImageTemplate: "lQR9_4nAXfydIY7zwOzSF",
        MajorEventBackground: "_388IuJImOHcpIL9kvqJdet",
        MajorEventImageBackgroundBlur: "_3sVs6YBElnuTON_cY_6ne5",
        MajorEventHeader: "_1HL2nt3zhHJo3RkMzmD-Gb",
        PartnerEventLargeImage_Title: "bYwbk-ycz_n2JnQgyrgDx",
        EventType: "_3zVyXPaFJl95Q5qnxtDpuB",
        GameIconAndName: "IltgR1LrH0neRnKq0TLxy",
        GameIcon: "_3Dkj3XaiQV2I1d2m-RRA_L",
        MajorEventSpotlightBackground: "_1ahePoGx6gPXhapzZw2L21",
        MajorEventContent: "_2nr7NuawYs9NhC8OUkY0fK",
        MajorEventTextCtn: "Ojdg2vBD3O1oroxYVU2zB",
        MajorEventTitle: "nEBZT02OOnxIbyIl9Dk44",
        MajorEventSummary: "HPngOFPPykmeXFSxcC1Zv",
        MajorEvent_Ctn: "_2_kU7nUB6wwDu-LsbQZmNc",
        AppDetailsSpotlightContainer: "_1zDJ1bfFg-UkuAluUAoGKj",
      };
    },
    70238: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => M });
      var n = a(34629),
        l = a(41735),
        r = a.n(l),
        o = a(75844),
        i = a(65946),
        s = a(90626),
        c = a(81047),
        m = a(28954),
        g = a(71138),
        p = a(63556),
        d = a(2805),
        u = a(96866),
        E = a.n(u),
        I = a(61924),
        h = a(36509),
        _ = a(95695),
        v = a.n(_),
        C = a(21273),
        w = a(738),
        A = a(22797),
        S = a(68797),
        D = a(52038),
        f = a(61859),
        k = a(56093),
        L = a(17720),
        b = a(7068),
        y = a(9709),
        N = a(9449),
        R = a(2472),
        U = a(26408);
      let G = class extends s.Component {
        constructor() {
          super(...arguments),
            (this.state = { bPrefetchingLanguages: !0 }),
            (this.m_cancelSignal = r().CancelToken.source());
        }
        componentDidMount() {
          if (this.props.closeModal) {
            const { primaryLocalizedImage: e } = this.props;
            g.pU.SetPrimaryImageForImageGroup(e, "localized_image_group"),
              this.LoadImageResolution(),
              this.LoadAvailableLocalizations();
          }
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        async LoadImageResolution() {
          try {
            const { primaryLocalizedImage: e } = this.props,
              t = L.b.InitFromClanID(e.clanAccountID),
              a = await g.pU.AsyncGetImageResolution(
                t,
                e.image_hash,
                e.file_type,
                this.m_cancelSignal,
                !1,
              );
            this.m_cancelSignal.token.reason || this.setState({ imageSize: a });
          } catch (e) {
            let t = (0, S.H)(e);
            console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
          }
        }
        async LoadAvailableLocalizations() {
          try {
            await g.pU.DetermineAvailableLocalizationForGroup(
              this.m_cancelSignal,
            ),
              this.m_cancelSignal.token.reason ||
                this.setState({ bPrefetchingLanguages: !1 });
          } catch (e) {
            let t = (0, S.H)(e);
            console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
          }
        }
        OnCommitGroup() {}
        render() {
          const {
              closeModal: e,
              primaryLocalizedImage: t,
              clanSteamID: a,
              rgRealmList: n,
              fnLangHasData: l,
              appid: r,
              eventModel: o,
              partnerEventStore: i,
            } = this.props,
            { bPrefetchingLanguages: c, imageSize: m } = this.state,
            p = !c && m,
            d = m ? ` - ${m.width}x${m.height}` : "",
            u = g.i6.GetExtensionStringForFileType(t.file_type).slice(1),
            E = m && { width: m.width, height: m.height },
            I = g.i6.GenerateArtworkURLFromHashAndExtensions(
              a,
              g.i6.GetHashAndExt(t),
            );
          return s.createElement(
            C.eV,
            {
              onOK: this.OnCommitGroup,
              bAllowFullSize: !0,
              onCancel: e,
              closeModal: e,
            },
            s.createElement(b.Y9, null, (0, f.we)("#ImagePickerLoc_Title")),
            s.createElement(
              b.nB,
              null,
              s.createElement(
                b.a3,
                null,
                s.createElement(
                  "div",
                  { className: v().FlexRowContainer },
                  s.createElement(
                    "span",
                    { className: v().FlexColumnContainer },
                    s.createElement(
                      "div",
                      null,
                      (0, f.we)("#ImagePickerLoc_Default"),
                      s.createElement(U.o, {
                        tooltip: (0, f.we)("#ImagePickerLoc_Default_Hint"),
                      }),
                    ),
                    s.createElement("img", { className: y.TitleImg, src: I }),
                    s.createElement("div", null, t.file_name + d + " - " + u),
                  ),
                ),
                !p &&
                  s.createElement(A.t, {
                    position: "center",
                    string: (0, f.we)("#Loading"),
                  }),
                p &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(N.V, {
                      clanSteamID: a,
                      rgSupportArtwork: [],
                      localizedPrimaryImage: t,
                      forceResolution: E,
                      bAllowPreviousClanImageSelection: !0,
                      fnSetImageURL: this.props.fnSetImageURL,
                      rgRealmList: this.props.rgRealmList,
                    }),
                    s.createElement(
                      "div",
                      { className: y.ArtworkBar },
                      s.createElement(R.it, {
                        clanSteamID: a,
                        eventModel: o,
                        artworkType: "localized_image_group",
                        title: (0, f.we)("#ImagePickerLoc_Title"),
                        realms: n,
                        fnLangHasData: l,
                        appid: r,
                        fnGetImageHashAndExt: this.props.fnGetImageHash,
                        fnSetImageURL: this.props.fnSetImageURL,
                        partnerEventStore: i,
                      }),
                    ),
                  ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([k.oI], G.prototype, "OnCommitGroup", null),
        (G = (0, n.Cg)([o.PA], G));
      var T,
        O = a(46742),
        x = a.n(O);
      function B(e) {
        const t = (0, s.useRef)(null);
        return (
          (0, s.useEffect)(() => {
            var e;
            null === (e = t.current) || void 0 === e || e.showModal();
            const a = document.body.style.overflow;
            return (
              (document.body.style.overflow = "hidden"),
              () => {
                document.body.style.overflow = a;
              }
            );
          }, []),
          s.createElement(
            "dialog",
            {
              ref: t,
              className: x().LightboxDialog,
              onClose: () => e.onCloseRequest(),
              onKeyDown: (t) => {
                "ArrowRight" === t.key && e.nextSrc
                  ? e.onMoveNextRequest()
                  : "ArrowLeft" === t.key && e.prevSrc && e.onMovePrevRequest();
              },
            },
            e.prevSrc &&
              s.createElement(
                "div",
                {
                  className: (0, D.A)(
                    x().LightboxImageContainer,
                    x().LightboxPrevImage,
                  ),
                  key: e.prevSrc,
                },
                s.createElement("img", { src: e.prevSrc }),
              ),
            s.createElement(
              "div",
              {
                className: (0, D.A)(
                  x().LightboxImageContainer,
                  x().LightboxMainImage,
                ),
                key: e.mainSrc,
                onClick: (t) => {
                  "IMG" !== t.target.nodeName && e.onCloseRequest();
                },
              },
              s.createElement("img", { src: e.mainSrc }),
            ),
            e.nextSrc &&
              s.createElement(
                "div",
                {
                  className: (0, D.A)(
                    x().LightboxImageContainer,
                    x().LightboxNextImage,
                  ),
                  key: e.nextSrc,
                },
                s.createElement("img", { key: e.nextSrc, src: e.nextSrc }),
              ),
            s.createElement(
              "div",
              { className: x().LightboxToolbar },
              s.createElement(
                "span",
                { className: x().LightboxImageTitle },
                e.imageTitle,
              ),
              s.createElement(
                "div",
                { className: x().LightboxToolbarButtons },
                e.toolbarButtons,
                s.createElement("button", {
                  className: x().LightboxCloseButton,
                  onClick: e.onCloseRequest,
                }),
              ),
            ),
            e.prevSrc &&
              s.createElement("button", {
                className: x().LightboxLeftButton,
                onClick: e.onMovePrevRequest,
              }),
            e.nextSrc &&
              s.createElement("button", {
                className: x().LightboxRightButton,
                onClick: e.onMoveNextRequest,
              }),
          )
        );
      }
      let M = (T = class extends s.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = r().CancelToken.source()),
            (this.m_searchInput = null),
            (this.m_clanImageUploader = null),
            (this.state = {
              filenameSearch: "",
              uploadToken: 0,
              bLoading: !g.pU.BHasLoadedClanImages(this.props.clanSteamID),
            });
        }
        componentDidMount() {
          this.state.bLoading && this.HandleLoadClanImages();
        }
        componentDidUpdate(e) {
          (this.props.clanSteamID.GetAccountID() ==
            e.clanSteamID.GetAccountID() &&
            g.pU.BHasLoadedClanImages(this.props.clanSteamID)) ||
            (this.state.bLoading || this.setState({ bLoading: !0 }),
            this.HandleLoadClanImages());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        HandleLoadClanImages() {
          g.pU
            .LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
            .then(() => {
              this.m_cancelSignal.token.reason ||
                this.setState({ bLoading: !1 });
            })
            .catch((e) => {
              let t = (0, S.H)(e);
              console.error(
                "ClanImagePicker Failed: " +
                  t.strErrorMsg +
                  " errCode: " +
                  t.strErrorMsg,
              ),
                this.m_cancelSignal.token.reason ||
                  this.setState({ bLoading: !1, strErrMsg: t.strErrorMsg });
            });
        }
        onUploaderDismiss() {
          this.setState({
            filenameSearch: this.state.filenameSearch,
            uploadToken: null,
          });
        }
        async OnDropFiles(e) {
          if (e && e.length > 0) {
            this.m_clanImageUploader = new m.V(this.props.clanSteamID);
            let t = !0;
            for (let a = 0; t && a < Array.from(e).length; a++) {
              let n = e.item(a);
              (t = await this.m_clanImageUploader.AddImage(n, 0, null)),
                t ||
                  (console.error(
                    "ClanImagePicker.OnDropFiles: failed on i=" +
                      a +
                      " file=" +
                      n.name,
                  ),
                  (0, w.pg)(
                    s.createElement(C.KG, {
                      strDescription: (0, f.we)("#ImagePicker_Error", n.name),
                    }),
                    window,
                  ));
            }
            return (
              t &&
                (this.setState({
                  filenameSearch: "",
                  uploadToken: ++T.m_uploaderCounter,
                }),
                this.m_clanImageUploader.UploadAllImages(
                  this.props.rgRealmList,
                  p.O.Get().GetCurEditLanguage(),
                )),
              t
            );
          }
          return !1;
        }
        GetLastUploadFiles() {
          return this.m_clanImageUploader
            ? this.m_clanImageUploader.GetFilesToUpload()
            : null;
        }
        BFileUploadCompleted(e) {
          return (
            !!this.m_clanImageUploader &&
            this.m_clanImageUploader.BIsFileCompleted(e)
          );
        }
        OnExpandImage(e) {
          if (e && this.props.bShowLightBox) {
            let t = g.pU.GetFilteredClanImages(
                this.props.clanSteamID,
                this.state.filenameSearch.trim().toLowerCase(),
              ),
              a = t.findIndex((t, a, n) => e.imageid == t.imageid);
            a >= 0 && this.setState({ photoIndex: a, filteredClanImages: t });
          }
        }
        OnExpandExitImage() {
          this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
        }
        OnHandleExpandedFullSize() {
          this.InternalHandleExpandedAction(c._.k_eInsertFullImage);
        }
        OnHandleExpandedThumbnail() {
          this.InternalHandleExpandedAction(c._.k_eInsertThumbnail);
        }
        OnHandleOpenLocalizedImageGroup() {
          null != this.state.photoIndex &&
            this.InternalOpenLocalizeImageGroup(
              this.state.filteredClanImages[this.state.photoIndex],
            );
        }
        InternalHandleExpandedAction(e) {
          if (null != this.state.photoIndex) {
            const t = this.state.filteredClanImages[this.state.photoIndex];
            this.OnExpandExitImage(),
              requestAnimationFrame(() => {
                this.props.imageInsertCallBack(t, e);
              });
          }
        }
        InternalOpenLocalizeImageGroup(e) {
          const { clanSteamID: t, partnerEventStore: a } = this.props;
          (0, w.pg)(
            s.createElement(G, {
              primaryLocalizedImage: e,
              appid: this.props.appid,
              eventModel: void 0,
              clanSteamID: t,
              fnSetImageURL: this.props.fnSetImageURL,
              rgRealmList: this.props.rgRealmList,
              fnLangHasData: this.props.fnLangHasData,
              fnGetImageHash: this.props.fnGetImageHash,
              partnerEventStore: a,
            }),
            window,
          );
        }
        render() {
          if (this.state.strErrMsg)
            return s.createElement(
              "div",
              null,
              s.createElement("div", null, (0, f.we)("#Error_Message")),
              s.createElement("div", null, this.state.strErrMsg),
              s.createElement(
                "div",
                {
                  className: (0, D.A)(v().Button),
                  onClick: this.HandleLoadClanImages,
                },
                (0, f.we)("#Button_Retry"),
              ),
            );
          if (this.state.bLoading)
            return s.createElement(A.t, {
              position: "center",
              string: (0, f.we)("#Loading"),
            });
          let e = this.state.filteredClanImages,
            t = this.state.photoIndex;
          const { clanSteamID: a } = this.props;
          return s.createElement(
            "div",
            { className: (0, D.A)(E().PickerContainer) },
            s.createElement(h.g, {
              fnSetImageSearch: (e) => this.setState({ filenameSearch: e }),
            }),
            s.createElement(
              "div",
              { className: E().ImagesContainer },
              s.createElement(d.G, {
                clanAccountID: a.GetAccountID(),
                fileNameSearch: this.state.filenameSearch,
                imageInsertCallBack: this.props.imageInsertCallBack,
                fnOnExpandImage: this.OnExpandImage,
                insertActions: this.props.insertActions,
                InternalOpenLocalizeImageGroup:
                  this.InternalOpenLocalizeImageGroup,
              }),
            ),
            this.state.uploadToken > 0 &&
              s.createElement(F, {
                key: "clanimageuploaderview" + this.state.uploadToken,
                uploader: this.m_clanImageUploader,
                onDismiss: this.onUploaderDismiss,
              }),
            !this.props.bHideDragAndDrop &&
              s.createElement(I.D, { onDropFiles: this.OnDropFiles }),
            null != t &&
              s.createElement(B, {
                mainSrc: e[t].url,
                mainSrcThumbnail: e[t].thumb_url,
                imageTitle: e[t].file_name,
                nextSrc: t < e.length - 1 ? e[t + 1].url : void 0,
                nextSrcThumbnail:
                  t < e.length - 1 ? e[t + 1].thumb_url : void 0,
                nextLabel: (0, f.we)("#ClanImage_Next"),
                prevLabel: (0, f.we)("#ClanImage_Prev"),
                closeLabel: (0, f.we)("#ClanImage_Close"),
                zoomInLabel: (0, f.we)("#ClanImage_ZoomIn"),
                zoomOutLabel: (0, f.we)("#ClanImage_ZoomOut"),
                imageLoadErrorMessage: (0, f.we)("#ClanImage_ImageLoadFailure"),
                prevSrc: t > 0 ? e[t - 1].url : void 0,
                prevSrcThumbnail: t > 0 ? e[t - 1].thumb_url : void 0,
                onMoveNextRequest: () => this.setState({ photoIndex: t + 1 }),
                onMovePrevRequest: () => this.setState({ photoIndex: t - 1 }),
                onCloseRequest: this.OnExpandExitImage,
                toolbarButtons: [
                  s.createElement(
                    "button",
                    {
                      key: "fullsize",
                      className: E().Full,
                      onClick: this.OnHandleExpandedFullSize,
                    },
                    (0, f.we)("#ImagePicker_FullSize"),
                  ),
                  s.createElement(
                    "button",
                    {
                      key: "thumbnail",
                      className: E().Full,
                      onClick: this.OnHandleExpandedThumbnail,
                    },
                    (0, f.we)("#ImagePicker_Thumbnail"),
                  ),
                ],
              }),
          );
        }
      });
      function F(e) {
        const { uploader: t, onDismiss: a } = e,
          [n, l] = (0, i.q3)(() => [
            t.BAllDone(),
            !t.BAllDone() && !t.BHasError(),
          ]);
        return s.createElement(
          "div",
          { className: E().UploaderContainer },
          l &&
            s.createElement(
              "div",
              { className: E().UploaderRunning },
              s.createElement(
                "div",
                { className: E().UploaderDesc },
                (0, f.we)(
                  "#ImageUpload_Desc",
                  t.GetCompletedFiles(),
                  t.GetTotalFiles(),
                ),
              ),
              s.createElement(
                "button",
                {
                  className: "DialogButton",
                  onClick: () => {
                    t.CancelAllUploads(), a();
                  },
                },
                (0, f.we)("#Button_Cancel"),
              ),
            ),
          t.BHasError() &&
            s.createElement(
              "div",
              { className: E().UploadMessageAndButtonsContainer },
              s.createElement(
                "div",
                { className: E().UploadError },
                (0, f.we)(
                  "#ImageUpload_Error",
                  t.GetLastErrorFile().file.name,
                  t.GetLastErrorFile().status,
                  t.GetLastErrorFile().message,
                ),
              ),
              s.createElement(
                "button",
                { className: E().UploadButtonCancel, onClick: a },
                (0, f.we)("#Button_Cancel"),
              ),
              s.createElement(
                "button",
                {
                  className: E().UploadButtonRetry,
                  onClick: () => t.RetryAllFailedUploads(),
                },
                (0, f.we)("#Button_Retry"),
              ),
            ),
          Boolean(n) &&
            s.createElement(
              "div",
              { className: E().UploadMessageAndButtonsContainer },
              s.createElement(
                "div",
                { className: E().UploadSuccess },
                (0, f.we)("#ImageUpload_Success"),
              ),
            ),
        );
      }
      (M.m_uploaderCounter = 1),
        (0, n.Cg)([k.oI], M.prototype, "HandleLoadClanImages", null),
        (0, n.Cg)([k.oI], M.prototype, "onUploaderDismiss", null),
        (0, n.Cg)([k.oI], M.prototype, "OnDropFiles", null),
        (0, n.Cg)([k.oI], M.prototype, "OnExpandImage", null),
        (0, n.Cg)([k.oI], M.prototype, "OnExpandExitImage", null),
        (0, n.Cg)([k.oI], M.prototype, "OnHandleExpandedFullSize", null),
        (0, n.Cg)([k.oI], M.prototype, "OnHandleExpandedThumbnail", null),
        (0, n.Cg)([k.oI], M.prototype, "OnHandleOpenLocalizedImageGroup", null),
        (0, n.Cg)([k.oI], M.prototype, "InternalHandleExpandedAction", null),
        (0, n.Cg)([k.oI], M.prototype, "InternalOpenLocalizeImageGroup", null),
        (M = T = (0, n.Cg)([o.PA], M));
    },
    81047: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => n, f: () => o });
      var n,
        l = a(71138),
        r = a(12611);
      function o(e, t, a) {
        let o = "";
        const i = r.l + "/" + t.clanAccountID + "/" + l.i6.GetHashAndExt(t);
        if (a == n.k_eInsertVideo)
          (o = "[video webm="),
            5 == t.file_type && (o += i),
            (o += " mp4="),
            4 == t.file_type && (o += i),
            (o += " autoplay=true controls=false][/video]");
        else if (a == n.k_eInsertFullImage) o = "[img]" + i + "[/img]";
        else {
          o =
            "[url=" +
            i +
            "][img]" +
            (r.l + "/" + t.clanAccountID + "/" + l.i6.GetThumbHashAndExt(t)) +
            "[/img][/url]";
        }
        e.InsertText(o);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup"),
          (e[(e.k_eInsertVideo = 4)] = "k_eInsertVideo");
      })(n || (n = {}));
    },
    35685: (e, t, a) => {
      "use strict";
      a.d(t, { kH: () => z, rN: () => M, uY: () => P, zA: () => H });
      var n = a(22837),
        l = a(41735),
        r = a.n(l),
        o = a(75844),
        i = a(65946),
        s = a(90626),
        c = a(57876),
        m = a(32381),
        g = a(40094),
        p = a(70078),
        d = a(17720),
        u = a(71138),
        E = a(4796),
        I = a(46067),
        h = a(60746),
        _ = a(55263),
        v = a(8107),
        C = a(3919),
        w = a(95695),
        A = a.n(w),
        S = a(72860),
        D = a(76684),
        f = a(12155),
        k = a(32630),
        L = a(62490),
        b = a(52038),
        y = a(61859),
        N = a(78327),
        R = a(84811),
        U = a(22797),
        G = a(33924),
        T = a.n(G),
        O = a(29863),
        x = a(18654),
        B = a.n(x);
      const M = (0, o.PA)((e) => {
          const {
              clanAccountID: t,
              gidAnnouncement: a,
              partnerEventStore: n,
              trackingLocation: l,
              bViewAllShowInfiniteScroll: o,
            } = e,
            i = d.b.InitFromClanID(t),
            c = (0, s.useRef)(null),
            [p, u] = (0, s.useState)(null),
            [I, _] = (0, s.useState)(!0),
            [w, S] = (0, s.useState)(!1);
          if (
            ((0, s.useEffect)(
              () => (
                (async () => {
                  c.current &&
                    c.current("PartnerEventRow Initializng new mount");
                  const e = r().CancelToken.source();
                  c.current = e.cancel;
                  const o = d.b.InitFromClanID(t);
                  await E.ac.LoadClanInfoForClanSteamID(o);
                  let i = await n.LoadAdjacentPartnerEventsByAnnouncement(
                    a,
                    o,
                    null,
                    4,
                    4,
                    void 0,
                    e,
                  );
                  if (!e.token.reason) {
                    i = i || [];
                    let e = i
                      .filter((e) => e.GetAnnouncementGID() != a)
                      .map((e) => e.AnnouncementGID);
                    L.fW(e);
                    const t = e
                      .slice(0, 3)
                      .map((e) => n.GetClanEventFromAnnouncementGID(e));
                    if ((u(t), _(!1), l)) {
                      let e = h.KN.Get().GetTracker(),
                        r = !1;
                      if (n.BHasClanAnnouncementGID(a)) {
                        let t = n.GetClanEventFromAnnouncementGID(a);
                        t &&
                          t.BIsPartnerEvent() &&
                          t.BIsVisibleEvent() &&
                          (e.MarkEventRead(
                            t.GID,
                            t.clanSteamID.GetAccountID(),
                            l,
                          ),
                          (r = !0));
                      }
                      t.length > 0 &&
                        (i
                          .filter((e) => e.BIsPartnerEvent())
                          .forEach((t) =>
                            e.MarkEventShown(
                              t.GID,
                              t.clanSteamID.GetAccountID(),
                              l,
                            ),
                          ),
                        (r = !0)),
                        r && e.Flush();
                    }
                  }
                })(),
                () => {
                  c.current && c.current("PartnerEventRow: unmounting");
                }
              ),
              [t, a, n, l],
            ),
            I)
          )
            return s.createElement(U.t, { position: "center", size: "medium" });
          if (0 == p.length) return s.createElement("div", null);
          const D = E.ac.GetClanInfoByClanAccountID(t);
          return s.createElement(
            R.tH,
            null,
            s.createElement(
              "div",
              { className: (0, b.A)(T().OtherEventsCtn, "OtherEventsCtn") },
              s.createElement(
                "div",
                { className: A().EventSectionTitleCtn },
                s.createElement(
                  "div",
                  {
                    className: (0, b.A)(
                      A().EventSectionTitle,
                      "EventSectionTitle",
                    ),
                  },
                  (0, y.PP)("#EventBrowse_MoreEventsTitle", D.group_name),
                  " ",
                ),
                s.createElement(
                  "div",
                  { className: A().EventSectionSpacer },
                  "Â ",
                ),
                o
                  ? s.createElement(
                      "div",
                      {
                        className: A().EventSectionMoreBtn,
                        onClick: () => S(!0),
                      },
                      (0, y.we)("#EventBrowse_MoreEventsBtn"),
                    )
                  : s.createElement(
                      C.tj,
                      {
                        eventModel: p[0],
                        route: C.PH.k_eViewWebSiteHub,
                        className: A().EventSectionMoreBtn,
                      },
                      (0, y.we)("#EventBrowse_MoreEventsBtn"),
                    ),
              ),
              s.createElement(
                m.Z,
                {
                  className: T().OtherEvents,
                  "flow-children": "column",
                  navEntryPreferPosition: g.iU.PREFERRED_CHILD,
                },
                p.map((e) =>
                  s.createElement(P, { key: e.AnnouncementGID, event: e }),
                ),
              ),
              Boolean(w) &&
                s.createElement(v.N, {
                  appid: p[0].appid,
                  clanSteamID: i,
                  announcementGID: p[0].AnnouncementGID,
                  closeModal: () => S(!1),
                  partnerEventStore: n,
                }),
            ),
          );
        }),
        F = 30;
      function P(e) {
        const {
            event: t,
            imageURLOverride: a,
            bShowAssociatedApp: l,
            langOverride: r,
            onClick: o,
            eEventRount: c,
            bHidePrices: m,
          } = e,
          [g, d, E, h, v, w, A, S] = (0, i.q3)(() => {
            const e = r || (0, n.sf)(N.TS.LANGUAGE),
              l = Boolean(void 0 !== a)
                ? a
                : t.GetImageURLWithFallback("capsule", e, u.wI.capsule_main),
              o = Boolean(void 0 !== a)
                ? a
                : t.GetImageURLWithFallback("capsule", e, u.wI.full);
            return [
              t.appid,
              l,
              t.GetNameWithFallback(e) || "",
              t.GetCategoryAsString(),
              t.GetSummaryWithFallback(e),
              (0, p.j3)(l),
              (0, p.j3)(o),
              t.GetSubTitleWithLanguageFallback(e) || "",
            ];
          }),
          [f] = (0, _.t7)(g, { include_assets: !0, include_screenshots: !0 }),
          [k, L] = (0, s.useState)(void 0);
        if (
          ((0, s.useEffect)(() => {
            const e = new Image();
            (e.src = d),
              (e.onload = () => {
                L(w);
              }),
              (e.onerror = () => {
                L(A);
              });
          }, [w, d, A]),
          !t)
        )
          return s.createElement("div", {
            className: T().OtherEvents_EventCtn,
          });
        if (!f && g)
          return s.createElement(U.t, {
            className: T().OtherEvents_EventCtn,
            size: "small",
            position: "center",
            string: (0, y.we)("#Loading"),
          });
        const R = (0, I.v0)().GetStoreInitializationTimestamp().getTime() / 1e3,
          G = t ? t.GetStartTimeAndDateUnixSeconds() : 0;
        let O = S;
        return (
          S && (S.length > F || E.length > F) && (O = void 0),
          s.createElement(
            s.Fragment,
            null,
            s.createElement(
              C.tj,
              {
                className: (0, b.A)(
                  T().OtherEvents_EventCtn,
                  "OtherEvents_EventCtn",
                  T().HoversEnabled,
                ),
                eventModel: t,
                route: c || C.PH.k_eView,
                onClick: o,
                preferredFocus: !0,
              },
              s.createElement(
                "div",
                { className: T().EventSummaryContainer },
                s.createElement("div", { className: T().EventSummaryType }, h),
                s.createElement("div", { className: T().EventSummaryText }, v),
              ),
              s.createElement("div", {
                className: T().OtherEvents_BGImage,
                style: {
                  backgroundColor: "#ffffff",
                  backgroundImage: k ? `url(${k})` : "none",
                },
              }),
              s.createElement(
                "div",
                { className: T().OtherEvents_ContentCtn },
                s.createElement(
                  "div",
                  { className: T().OtherEvents_MainImageCtn },
                  s.createElement("img", {
                    src: k || d,
                    className: T().OtherEvents_MainImage,
                  }),
                ),
                s.createElement(
                  "div",
                  { className: T().OtherEvents_TextCtn },
                  s.createElement(
                    "div",
                    { className: T().OtherEvents_TextTitle },
                    E,
                  ),
                  Boolean(O) &&
                    s.createElement(
                      "div",
                      { className: T().OtherEvents_SubTitle },
                      O,
                    ),
                  Boolean(G > R)
                    ? s.createElement(
                        "div",
                        { className: (0, b.A)(T().UpcomingCtn, "UpcomingCtn") },
                        s.createElement(D.K4, {
                          bSingleLine: !0,
                          dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                        }),
                      )
                    : s.createElement(D.K4, {
                        bSingleLine: !0,
                        bOnlyDate: !0,
                        dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                      }),
                ),
              ),
            ),
            Boolean(l && t.appid) &&
              s.createElement(H, { appid: t.appid, bHidePrice: m }),
          )
        );
      }
      function H(e) {
        const { appid: t, bHidePrice: a } = e,
          [n] = (0, _.t7)(t, c.Xh),
          l = (0, k.n9)(),
          r = (0, N.Qn)();
        if (!n) return null;
        const o = n.GetBestPurchaseOption(),
          i = (null == o ? void 0 : o.hide_discount_pct_for_compliance) && !0;
        return s.createElement(
          m.Z,
          {
            className: (0, b.A)(T().AppCapsuleCtn, "AppCapsuleCtn"),
            ...(0, S.S)(n, l, r),
          },
          s.createElement(
            O.Qf,
            {
              item: { type: "game", id: t },
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            s.createElement("img", {
              className: T().AppCapsuleImage,
              src: n.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
          Boolean(!a && !n.BIsFree()) &&
            s.createElement(
              "span",
              {
                className: (0, b.A)(
                  T().AppCapsulePrice,
                  Boolean(null == o ? void 0 : o.discount_pct)
                    ? B().Discounted
                    : "",
                ),
              },
              Boolean((null == o ? void 0 : o.discount_pct) && i) &&
                s.createElement(
                  "div",
                  { className: B().DiscountIconCtn },
                  s.createElement(f.XH_, null),
                ),
              Boolean((null == o ? void 0 : o.discount_pct) && !i) &&
                s.createElement(
                  "span",
                  { className: B().StoreSaleDiscountBox },
                  `-${null == o ? void 0 : o.discount_pct}%`,
                ),
              Boolean(o.final_price_in_cents) &&
                s.createElement(
                  "span",
                  { className: B().StoreSalePriceBox },
                  o.formatted_final_price,
                ),
            ),
        );
      }
      function z(e) {
        const { event: t, imageURLOverride: a, onClick: l } = e,
          r = (0, n.sf)(N.TS.LANGUAGE),
          [o, c, m] = (0, i.q3)(() =>
            t
              ? [
                  void 0 !== a
                    ? a
                    : t.GetImageURLWithFallback(
                        "capsule",
                        r,
                        u.wI.capsule_main,
                      ),
                  t.GetNameWithFallback(r),
                  t.GetCategoryAsString(),
                ]
              : [void 0, void 0, void 0],
          );
        return t
          ? s.createElement(
              C.tj,
              {
                className: T().OtherEvents_EventCtn + " " + T().HorizontalEvent,
                eventModel: t,
                route: C.PH.k_eView,
                onClick: l,
              },
              s.createElement(
                "div",
                { className: T().OtherEvents_ContentCtn },
                s.createElement(
                  "div",
                  { className: T().OtherEvents_MainImageCtn },
                  s.createElement("img", {
                    src: o,
                    className: T().OtherEvents_MainImage,
                  }),
                ),
              ),
              s.createElement(
                "div",
                { className: T().OtherEvents_TextCtn },
                s.createElement(
                  "div",
                  { className: T().HorizontalDescriptionCtn },
                  s.createElement(
                    "div",
                    { className: T().HorizontalDescription },
                    m,
                  ),
                  s.createElement(D.K4, {
                    bSingleLine: !0,
                    dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                  }),
                ),
                s.createElement("div", { className: T().HorizontalTitle }, c),
              ),
            )
          : s.createElement("div", { className: T().OtherEvents_EventCtn });
      }
    },
    29108: (e, t, a) => {
      "use strict";
      a.d(t, { QU: () => N, Rw: () => y, fY: () => R });
      var n = a(65946),
        l = a(75844),
        r = a(90626),
        o = a(22837),
        i = a(2160),
        s = a(73744),
        c = a(64953),
        m = a(69343),
        g = a(63556),
        p = a(7068),
        d = a(61924),
        u = a(95695),
        E = a.n(u),
        I = a(21273),
        h = a(738),
        _ = a(64641),
        v = a.n(_),
        C = a(12155),
        w = a(22797),
        A = a(68797),
        S = a(52038),
        D = a(56011),
        f = a(66331),
        k = a(61859),
        L = a(92543),
        b = a.n(L);
      function y(e) {
        const {
            imageUploader: t,
            rgSupportArtwork: a,
            strOverrideDragAndDropText: l,
            forceResolution: o,
            localizedPrimaryImage: i,
            elAdditonalButtons: s,
            rgRealmList: c,
          } = e,
          [p, u] = (0, n.q3)(() => [
            t.GetUploadImages(),
            g.O.Get().GetCurEditLanguage(),
          ]),
          E = r.useCallback(
            async (e) => {
              let n = Array.from(e),
                l = !0;
              for (let o = 0; o < n.length; o++) {
                const n = e.item(o),
                  s = (0, m.j)(n.name, u);
                try {
                  const e = (0, m.P)(s, u, c);
                  (l = await t.AddImageForLanguage(n, e, a, i)),
                    l ||
                      (console.error(
                        "ArtworkUploader.OnDropFiles: failed on i=" +
                          o +
                          " file=" +
                          n.name,
                      ),
                      (0, h.pg)(
                        r.createElement(I.KG, {
                          strDescription: (0, k.we)(
                            "#ImagePicker_Error",
                            n.name,
                          ),
                        }),
                        window,
                      ));
                } catch (e) {
                  let t = (0, A.H)(e);
                  console.error(
                    "ArtworkUploader.OnDropFiles: " + t.strErrorMsg,
                    t,
                  ),
                    (0, h.pg)(
                      r.createElement(I.KG, {
                        strDescription: (0, k.we)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
              }
              return l;
            },
            [u, t, i, c, a],
          );
        return r.createElement(
          d.D,
          {
            onDropFiles: E,
            elAdditonalButtons: s,
            strOverrideDragAndDropText: l,
          },
          r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              { className: b().UploadPreviewCtn },
              p.map((e) =>
                r.createElement(U, {
                  key: "arttabupload_" + e.file + "_" + e.uploadTime,
                  asset: e,
                  supported: a,
                  forceResolution: o,
                  forceFileType: i && i.file_type,
                  fnOnRemove: () => t.DeleteUploadImage(e),
                  languageRealms: c,
                }),
              ),
            ),
          ),
          r.createElement(N, {
            imageUploader: t,
            fnOnUploadImageRequested: async () => {
              await t.UploadAllImages(c, u, a, o, i && i.file_type);
            },
          }),
        );
      }
      function N(e) {
        const { imageUploader: t, fnOnUploadImageRequested: a } = e,
          [l] = (0, n.q3)(() => [t.GetUploadImages()]);
        return r.createElement(
          "div",
          {
            style: { display: "flex" },
            className: b().UploadPreviewButtonsCtn,
          },
          Boolean(l.length) &&
            r.createElement(
              p.$n,
              { style: { margin: "8px" }, onClick: a },
              (0, k.we)("#ImageUpload_Upload"),
            ),
          Boolean(l.length) &&
            r.createElement(
              p.$n,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              (0, k.we)("#ImageUpload_Clear"),
            ),
        );
      }
      function R(e, t, a, n, l, o) {
        let i = new Array();
        return (
          e.GetUploadImages().map((s) => {
            i.push(
              r.createElement(U, {
                key: t + s.file + "_" + s.uploadTime,
                asset: s,
                supported: a,
                forceResolution: n,
                forceFileType: l,
                fnOnRemove: () => e.DeleteUploadImage(s),
                languageRealms: o,
              }),
            );
          }),
          i
        );
      }
      const U = (0, l.PA)((e) => {
        const { asset: t, fnOnRemove: a, supported: n, languageRealms: l } = e,
          m = n.map((e) => {
            let a = (0, k.we)("#EventEditor_ArtworkType_" + e);
            "spotlight" == e &&
              (a = (0, k.we)("#EventEditor_ArtworkType_store_spotlight"));
            const n = s.Fj[e];
            let l;
            n &&
              !n.bDisableEnforceDimensions &&
              (a += ` - ${n.width}x${n.height}`),
              (t.BIsOriginalMinimumDimensions(e) && (0, s.N_)(t.fileType, e)) ||
                (l = b().ArtworkDimensionTooSmall);
            return { label: a, data: e, strOptionClass: l };
          }),
          g = {
            pending: (0, k.we)("#ImageUpload_Pending"),
            uploading: (0, k.we)("#ImageUpload_Uploading"),
            success: (0, k.we)("#ImageUpload_SuccessCard"),
            failed: (0, k.we)("#ImageUpload_Failed"),
          },
          d = new Array(),
          u = k.A0.GetLanguageListForRealms(l || [i.TU.k_ESteamRealmGlobal]);
        for (const e of u) {
          const t = (0, k.we)("#Language_" + (0, o.Lg)(e));
          d.push({ label: t, data: e });
        }
        d.sort((e, t) => e.label.localeCompare(t.label));
        const I = [];
        d.forEach((e) => I.push({ label: e.label, data: e.data }));
        const _ = t.IsValidAssetType(
            e.supported,
            e.forceResolution,
            e.forceFileType,
          ),
          A = _.needsCrop
            ? (0, k.we)("#ImageUpload_NeedsCrop")
            : _.error
              ? (0, k.we)("#ImageUpload_Invalid")
              : g[t.status];
        return r.createElement(
          "div",
          { className: b().UploadPreview },
          r.createElement(
            "div",
            { className: b().UploadPreviewDelete, onClick: () => a(t) },
            r.createElement(C.sED, null),
          ),
          r.createElement(G, { asset: t }),
          r.createElement(p.m, {
            strDropDownClassName: E().DropDownScroll,
            rgOptions: I,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(m.length > 1) &&
            r.createElement(p.m, {
              rgOptions: m.filter((e) => "hero" !== e.data),
              selectedOption: t.type || m[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          r.createElement(
            "div",
            { className: (0, S.A)(E().FlexColumnContainer) },
            A,
            Boolean("uploading" == A) &&
              r.createElement(
                "div",
                { className: v().FlexCenter },
                r.createElement(w.t, { size: "small" }),
              ),
          ),
          r.createElement(
            "div",
            { className: b().UploadPreviewError },
            t.message,
          ),
          _.error &&
            r.createElement(
              "div",
              { className: b().UploadPreviewError },
              _.error,
            ),
          _.needsCrop &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                p.jn,
                {
                  onClick: () =>
                    ((t) => {
                      if (t instanceof c.i9) {
                        t.ResetImage();
                        const a = window,
                          n = r.createElement(f.q, {
                            ownerWin: a,
                            uploadFile: t,
                            forceResolution: e.forceResolution,
                            fileType: e.forceFileType || 3,
                          });
                        (0, h.HT)(n, a, "CropModal", {
                          strTitle: (0, k.we)("#ImageUpload_CropModalTitle"),
                        });
                      }
                      console.log(
                        "ArtworkUploadEmbeddedDialog trying to crop non image",
                        t.fileType,
                        t.type,
                      );
                    })(t),
                },
                (0, k.we)("#ImageUpload_OpenEditor"),
              ),
            ),
        );
      });
      function G(e) {
        const { asset: t } = e;
        return s.Ho.includes(t.fileType)
          ? r.createElement(
              "div",
              {
                className: b().PreviewImgCtn,
                onClick: (e) =>
                  (0, h.pg)(r.createElement(T, { asset: t }), (0, D.uX)(e)),
              },
              r.createElement(
                "span",
                { className: b().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
              r.createElement(
                "video",
                {
                  height: 120,
                  controls: !1,
                  autoPlay: !0,
                  loop: !0,
                  muted: !0,
                },
                r.createElement("source", { src: t.dataUrl }),
              ),
            )
          : r.createElement(
              "div",
              {
                className: b().PreviewImgCtn,
                style: { backgroundImage: `url(${t.dataUrl})` },
              },
              r.createElement(
                "span",
                { className: b().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
            );
      }
      function T(e) {
        const { asset: t, closeModal: a } = e;
        return r.createElement(
          I.o0,
          { bAlertDialog: !0, closeModal: a },
          r.createElement(
            "video",
            { controls: !0, autoPlay: !0, loop: !0, muted: !0 },
            r.createElement("source", { src: t.dataUrl }),
          ),
        );
      }
    },
    9449: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => E });
      var n = a(65946),
        l = a(90626),
        r = a(28954),
        o = a(69343),
        i = a(63556),
        s = a(21273),
        c = a(738),
        m = a(22797),
        g = a(68797),
        p = a(61859),
        d = a(29108),
        u = a(2805);
      function E(e) {
        const {
            clanSteamID: t,
            rgSupportArtwork: a,
            localizedPrimaryImage: E,
            bAllowPreviousClanImageSelection: I,
            fnSetImageURL: h,
            rgRealmList: _,
          } = e,
          [v] = l.useState(() => e.uploaderOverride || new r.V(t)),
          [C, w] = l.useState(!1),
          [A] = (0, n.q3)(() => [i.O.Get().GetCurEditLanguage()]);
        l.useEffect(() => {
          v.SetImageAllUrlFunction(e.fnSetImageURL);
        }, [v, e.fnSetImageURL]);
        const S = l.useCallback(
            async (e, t) => {
              if (!C) {
                w(!0);
                try {
                  const t = (0, o.j)(e.file_name, A),
                    n = (0, o.P)(t, A, _);
                  await v.AddExistingClanImage(e, n, a, E);
                } catch (e) {
                  let t = (0, g.H)(e);
                  console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                    (0, c.pg)(
                      l.createElement(s.KG, {
                        strDescription: (0, p.we)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
                w(!1);
              }
            },
            [C, v, A, E, _, a],
          ),
          D = l.useMemo(
            () =>
              I
                ? [
                    [
                      l.createElement(u.H, {
                        key: "clanartworkpicker",
                        clanSteamID: t,
                        fnSetImageURL: h,
                        rgRealmList: _,
                        OnClanImageSelected: S,
                      }),
                    ],
                  ]
                : null,
            [S, I, t, h, _],
          );
        return l.createElement(d.Rw, {
          ...e,
          imageUploader: v,
          elAdditonalButtons: C
            ? [
                l.createElement(m.t, {
                  key: "throbbing",
                  position: "center",
                  size: "medium",
                  string: (0, p.we)("#Loading"),
                }),
              ]
            : D,
        });
      }
    },
    2805: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => k, H: () => y });
      var n = a(34629),
        l = a(90626),
        r = a(81047),
        o = a(17720),
        i = a(71138),
        s = a(60746),
        c = a(29347),
        m = a(95695),
        g = a.n(m),
        p = a(96236),
        d = a(21273),
        u = a(738),
        E = a(22797),
        I = a(68797),
        h = a(52038),
        _ = a(56011),
        v = a(61859),
        C = a(56093),
        w = a(53732),
        A = a.n(w),
        S = a(71647),
        D = a.n(S),
        f = a(36509);
      function k(e) {
        const {
            fileNameSearch: t,
            clanAccountID: a,
            imageInsertCallBack: n,
            fnOnExpandImage: s,
            insertActions: c,
            InternalOpenLocalizeImageGroup: m,
          } = e,
          g = (0, i.n9)(a),
          p = l.useMemo(() => {
            let e = [],
              p = (null == t ? void 0 : t.trim().toLowerCase()) || "";
            const d = o.b.InitFromClanID(a);
            let u = i.pU.GetFilteredClanImagesList(g, p);
            if (u.length > 0)
              for (let t of u)
                e.push(
                  l.createElement(L, {
                    key: t.imageid,
                    clanImage: t,
                    searchStringHilight: p,
                    imageInsertCallBack: n,
                    fnOnOpenLocalizedImageGroup: m,
                    insertActions:
                      null == c
                        ? void 0
                        : c.filter(
                            (e) =>
                              (5 != t.file_type && 4 != t.file_type) ||
                              e == r._.k_eInsertFullImage,
                          ),
                    OnImageClick: s,
                  }),
                );
            if (0 == e.length) {
              let t = i.pU.GetLoadState(d);
              t && t.loaded
                ? e.push(
                    l.createElement(
                      "div",
                      {
                        key: "ImagePicker_Result",
                        className: A().ResultNotification,
                      },
                      p.length > 0
                        ? (0, v.we)("#ImagePicker_EmptySearch")
                        : (0, v.we)("#ImagePicker_Empty"),
                    ),
                  )
                : t && t.errMsg
                  ? e.push(
                      l.createElement(
                        "div",
                        { key: "ImagePicker_Result", className: A().ErrorCode },
                        (0, v.we)("#ImagePicker_Error", t.errMsg),
                      ),
                    )
                  : e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: A().ResultNotification,
                        },
                        (0, v.we)("#Loading"),
                      ),
                    );
            }
            return e;
          }, [t, a, n, c, s, m, g]);
        return l.createElement(l.Fragment, null, p);
      }
      class L extends l.Component {
        constructor() {
          super(...arguments),
            (this.m_linkPopupRef = l.createRef()),
            (this.state = { bDeleting: !1 });
        }
        onHandleFullSize() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r._.k_eInsertFullImage,
          );
        }
        onHandleVideo() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r._.k_eInsertVideo,
          );
        }
        onHandleThumbnail() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r._.k_eInsertThumbnail,
          );
        }
        onHandleLocalizedImageGroup() {
          this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
        }
        ShowInsertAction(e) {
          return this.props.insertActions
            ? this.props.insertActions.indexOf(e) >= 0
            : (5 != this.props.clanImage.file_type &&
                4 != this.props.clanImage.file_type) ||
                e == r._.k_eInsertVideo;
        }
        OnDragStartSource(e) {
          e.dataTransfer.setData("text", this.props.clanImage.url),
            i.pU.GetClanImageDragListener().forEach((e) => {
              e(o.b.InitFromClanID(this.props.clanImage.clanAccountID), !0);
            });
        }
        OnDragEndSource(e) {
          i.pU.GetClanImageDragListener().forEach((e) => {
            e(o.b.InitFromClanID(this.props.clanImage.clanAccountID), !1);
          });
        }
        OnDeleteClick(e) {
          (0, u.pg)(
            l.createElement(
              d.o0,
              {
                strTitle: (0, v.we)("#ImagePicker_DeleteImageTitle"),
                strDescription: "",
                onOK: this.onDelete,
                onCancel: this.OnCloseDialog,
                closeModal: this.OnCloseDialog,
              },
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  null,
                  (0, v.we)(
                    "#ImagePicker_DeleteAreYouSure",
                    this.props.clanImage.file_name,
                  ),
                ),
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(
                  "div",
                  null,
                  (0, v.we)("#ImagePicker_DeleteWarning"),
                ),
              ),
            ),
            (0, _.uX)(e),
          );
        }
        ShowDeleteError(e) {
          console.log("ClanImageWrapper on delete error: " + e),
            (0, u.pg)(
              l.createElement(
                d.KG,
                {
                  strTitle: (0, v.we)("#Error_FailureNotice"),
                  strDescription: (0, v.we)("#EventDisplay_DeleteEvent_Error"),
                },
                l.createElement("p", null, e),
              ),
              window,
            );
        }
        onDelete() {
          this.setState({ bDeleting: !0 });
          let e = o.b.InitFromClanID(this.props.clanImage.clanAccountID);
          i.pU
            .DeleteClanImage(e, this.props.clanImage)
            .then((e) => {
              1 != e.success && this.ShowDeleteError((0, I.H)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            })
            .catch((e) => {
              this.ShowDeleteError((0, I.H)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            }),
            this.m_linkPopupRef &&
              this.m_linkPopupRef.current &&
              this.m_linkPopupRef.current.click(),
            this.OnCloseDialog();
        }
        OnCloseDialog() {}
        OnImageClick() {
          this.props.OnImageClick &&
            this.props.OnImageClick(this.props.clanImage);
        }
        render() {
          const { clanImage: e } = this.props;
          let t = this.props.clanImage.file_name
              ? this.props.clanImage.file_name
              : "",
            a = (0, c.r)(
              this.props.searchStringHilight,
              t,
              String(this.props.clanImage.imageid),
              A().Hilight,
            ),
            n = o.b.InitFromClanID(e.clanAccountID);
          const i = s.KN.Get().GetPartnerEventPermissions(n);
          let m = this.state.bDeleting;
          const d = 4 == e.file_type || 5 == e.file_type;
          let u = !m && !d && this.ShowInsertAction(r._.k_eInsertFullImage),
            I = !m && !d && this.ShowInsertAction(r._.k_eInsertThumbnail),
            _ = !m && d && this.ShowInsertAction(r._.k_eInsertVideo),
            C = Boolean(
              !m &&
                i.valve_admin &&
                this.ShowInsertAction(r._.k_eShowImageGroup),
            );
          return l.createElement(
            p.K,
            {
              placeholderHeight: "100vh",
              className: A().ImageWrapperContainer,
              rootMargin: "0px 0px 100% 0px",
            },
            l.createElement(
              "div",
              { className: A().ImageButton },
              l.createElement(
                "div",
                {
                  className: A().ImageWrapper,
                  style: {
                    backgroundImage: d
                      ? ""
                      : `url( '${this.props.clanImage.thumb_url}' )`,
                  },
                  draggable: !0,
                  onDragStart: this.OnDragStartSource,
                  onDragEnd: this.OnDragEndSource,
                  onDoubleClick: this.onHandleFullSize,
                  onClick: this.OnImageClick,
                },
                Boolean(d) &&
                  l.createElement(
                    "video",
                    {
                      autoPlay: !0,
                      loop: !0,
                      muted: !0,
                      className: A().VideoBackground,
                    },
                    l.createElement("source", {
                      src: this.props.clanImage.url,
                      type: "video/" + (4 == e.file_type ? "mp4" : "webm"),
                    }),
                  ),
              ),
              u &&
                l.createElement(
                  "span",
                  { className: A().Full, onClick: this.onHandleFullSize },
                  (0, v.we)("#ImagePicker_FullSize"),
                ),
              m &&
                l.createElement(E.t, {
                  size: "medium",
                  className: A().FloatingThrobber,
                }),
              I &&
                l.createElement(
                  "span",
                  { className: A().Thumb, onClick: this.onHandleThumbnail },
                  (0, v.we)("#ImagePicker_Thumbnail"),
                ),
              C &&
                l.createElement(
                  "span",
                  {
                    className: (0, h.A)(A().Localized, g().ValveOnlyBackground),
                    onClick: this.onHandleLocalizedImageGroup,
                  },
                  "(VO) " + (0, v.we)("#ImagePicker_Localized"),
                ),
              _ &&
                l.createElement(
                  "span",
                  { className: A().Full, onClick: this.onHandleVideo },
                  (0, v.we)("#ImagePicker_Video"),
                ),
              !m &&
                l.createElement(
                  "span",
                  { className: A().Delete, onClick: this.OnDeleteClick },
                  l.createElement("img", null),
                ),
              l.createElement(
                "div",
                { className: A().ImageWrapperFilename, title: t },
                a,
              ),
            ),
          );
        }
      }
      function b(e) {
        const {
            clanSteamID: t,
            closeModal: a,
            OnClanImageSelected: n,
            fnSetImageURL: r,
            rgRealmList: o,
          } = e,
          i = (0, l.useCallback)(
            (e, t) => {
              n(e, t), a();
            },
            [n, a],
          ),
          s = (0, l.useMemo)(() => [], []),
          [c, m] = (0, l.useState)(null);
        return l.createElement(
          d.o0,
          {
            strTitle: (0, v.we)("#ImagePicker_Images"),
            strDescription: (0, v.we)("#ImagePicker_DoubleClickToSelect"),
            bAlertDialog: !0,
            onOK: a,
            onCancel: a,
          },
          l.createElement(f.g, { fnSetImageSearch: m }),
          l.createElement(k, {
            clanAccountID: t.GetAccountID(),
            fileNameSearch: c,
            imageInsertCallBack: i,
            fnOnExpandImage: () => {},
            insertActions: s,
            InternalOpenLocalizeImageGroup: null,
          }),
        );
      }
      function y(e) {
        const {
          clanSteamID: t,
          fnSetImageURL: a,
          OnClanImageSelected: n,
          rgRealmList: r,
        } = e;
        return l.createElement(
          "div",
          { className: D().ImageUploadBar },
          l.createElement(
            "label",
            { htmlFor: "clanimagedialog" },
            l.createElement(
              "span",
              null,
              (0, v.we)("#ImagePicker_PreviousImages"),
              " ",
            ),
            l.createElement(
              "span",
              { className: D().SelectImageButton },
              (0, v.we)("#ImagePicker_PreviousImages2"),
            ),
          ),
          l.createElement("input", {
            style: { display: "none" },
            id: "clanimagedialog",
            type: "button",
            onClick: (e) => {
              (0, u.pg)(
                l.createElement(b, {
                  fnSetImageURL: a,
                  clanSteamID: t,
                  OnClanImageSelected: n,
                  rgRealmList: r,
                }),
                (0, _.uX)(e),
              );
            },
          }),
        );
      }
      (0, n.Cg)([C.oI], L.prototype, "onHandleFullSize", null),
        (0, n.Cg)([C.oI], L.prototype, "onHandleVideo", null),
        (0, n.Cg)([C.oI], L.prototype, "onHandleThumbnail", null),
        (0, n.Cg)([C.oI], L.prototype, "onHandleLocalizedImageGroup", null),
        (0, n.Cg)([C.oI], L.prototype, "OnDragStartSource", null),
        (0, n.Cg)([C.oI], L.prototype, "OnDragEndSource", null),
        (0, n.Cg)([C.oI], L.prototype, "OnDeleteClick", null),
        (0, n.Cg)([C.oI], L.prototype, "onDelete", null),
        (0, n.Cg)([C.oI], L.prototype, "OnCloseDialog", null),
        (0, n.Cg)([C.oI], L.prototype, "OnImageClick", null);
    },
    61924: (e, t, a) => {
      "use strict";
      a.d(t, { D: () => c });
      var n = a(90626),
        l = a(61859),
        r = a(52038),
        o = a(71647),
        i = a.n(o);
      let s = 1;
      function c(e) {
        const {
            onDropFiles: t,
            renderDesciption: a,
            elAdditonalButtons: o,
            strOverrideDragAndDropText: c,
          } = e,
          [m] = (0, n.useState)(++s),
          g = (0, n.useRef)(),
          [p, d] = (0, n.useState)(!1),
          u = (0, n.useRef)(0),
          E = (0, n.useCallback)((e) => {
            e.preventDefault(), e.stopPropagation();
          }, []),
          I = (0, n.useCallback)(
            (e) => {
              let a = e.target.files;
              a && a.length > 0 && a[0] && t(a),
                g.current && g.current.value && (g.current.value = null);
            },
            [t],
          );
        return n.createElement(
          "div",
          {
            className: (0, r.A)(
              p ? i().DragAndDropContainerDragging : i().DragAndDropContainer,
              "DragAndDropContainer",
            ),
            onDrag: E,
            onDragStart: E,
            onDragEnd: E,
            onDragOver: E,
            onDragEnter: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (u.current += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (p || d(!0));
            },
            onDragLeave: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (u.current -= 1),
                0 === u.current && p && d(!1);
            },
            onDrop: (e) => {
              e.preventDefault(), e.stopPropagation(), (u.current = 0), d(!1);
              const a = e.dataTransfer.files;
              a && a.length > 0 && a[0] && t(a);
            },
          },
          Boolean(a) && a(),
          n.createElement(
            "div",
            null,
            c || (0, l.we)("#ImagePicker_DragAndDrop"),
          ),
          n.createElement(
            "div",
            { className: i().ImageUploadBar },
            n.createElement(
              "label",
              { htmlFor: "imagepickerfilechoice" + m },
              n.createElement(
                "span",
                null,
                (0, l.we)("#ImagePicker_OrBrowse"),
                " ",
              ),
              n.createElement(
                "span",
                { className: i().SelectImageButton },
                (0, l.we)("#selectimage_select_file"),
              ),
            ),
            n.createElement("input", {
              ref: g,
              style: { display: "none" },
              id: "imagepickerfilechoice" + m,
              type: "file",
              onSubmit: I,
              onChange: I,
              multiple: !0,
              accept: "image/png, image/jpeg, image/gif, image/webp",
            }),
          ),
          o,
          e.children,
        );
      }
    },
    36509: (e, t, a) => {
      "use strict";
      a.d(t, { g: () => o });
      var n = a(90626),
        l = a(61859),
        r = a(49460);
      function o(e) {
        const { fnSetImageSearch: t } = e,
          a = (0, n.useRef)(null);
        return n.createElement(
          "div",
          { className: r.PickerTitle },
          n.createElement("input", {
            ref: a,
            className: r.SearchInput,
            type: "text",
            placeholder: (0, l.we)("#ImagePicker_Search"),
            onChange: (e) => t(e.currentTarget.value),
            onKeyDown: (e) => {
              "Escape" == e.key && (t(""), a.current && (a.current.value = ""));
            },
          }),
        );
      }
    },
    2472: (e, t, a) => {
      "use strict";
      a.d(t, { uE: () => j, it: () => V, ur: () => Y });
      var n = a(34629),
        l = a(22837),
        r = a(14947),
        o = a(75844),
        i = a(65946),
        s = a(90626),
        c = a(73744),
        m = a(71138),
        g = a(63556),
        p = a(68033),
        d = a(55263),
        u = a(7068),
        E = a(27658),
        I = a(53418),
        h = a(35685),
        _ = a(9709),
        v = a(96866),
        C = a(25359),
        w = a.n(C),
        A = a(45832),
        S = a(93016),
        D = a(56330),
        f = a(95695),
        k = a.n(f),
        L = a(32381),
        b = a(52038),
        y = a(78327),
        N = a(3088),
        R = a(10224),
        U = a(15496),
        G = a.n(U);
      function T(e) {
        const {
            event: t,
            spotlightURLOverride: a,
            fnHandleOpenEvent: n,
            fnImageFailureCallback: r,
            fnFilterImageURLsForKnownFailures: o,
            langOverride: c,
          } = e,
          g = (0, R.c)(),
          p = s.useCallback(
            (e) => {
              e.preventDefault(), n && n(t);
            },
            [t, n],
          ),
          d = c || (0, l.sf)(y.TS.LANGUAGE),
          [u, E, I, h] = (0, i.q3)(() => [
            t.GetSummaryWithFallback(d),
            t.GetNameWithFallback(d),
            t.GetCategoryAsString(),
            t.BShowLibrarySpotlightText(),
          ]);
        let _ = new Array();
        (_ =
          void 0 !== a
            ? [a]
            : 2434320 == t.appid || 2 == y.TS.EUNIVERSE
              ? g
                ? t.GetImageForSizeAsArrayWithFallback(
                    "localized_store_app_spotlight_mobile",
                    d,
                    m.wI.full,
                  )
                : t.GetImageForSizeAsArrayWithFallback(
                    "localized_store_app_spotlight",
                    d,
                    m.wI.full,
                  )
              : t.GetImageForSizeAsArrayWithFallback(
                  "spotlight",
                  d,
                  m.wI.spotlight_main,
                )),
          o && (_ = o(_));
        const v = u.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: G().MajorEvent_Ctn },
            s.createElement(
              L.Z,
              {
                className: (0, b.A)(
                  G().AppDetailsSpotlightContainer,
                  G().MajorEventContainer,
                ),
                onActivate: p,
                focusable: !0,
              },
              s.createElement(
                "div",
                { className: G().MajorEventBackground },
                s.createElement(N.c, {
                  className: G().MajorEventImageBackgroundBlur,
                  rgSources: _,
                  onIncrementalError: (e, t, a) => r && r(t),
                }),
              ),
              s.createElement(
                "div",
                { className: G().MajorEventImageContainer },
                s.createElement(N.c, {
                  className: G().MajorEventImage,
                  rgSources: _,
                  onIncrementalError: (e, t, a) => r && r(t),
                }),
                s.createElement("div", {
                  className: G().MajorEventImageTemplate,
                }),
                s.createElement(
                  "div",
                  { className: G().MajoreEventImageContentContainer },
                  h &&
                    s.createElement(
                      "div",
                      { className: G().MajorEventContent },
                      s.createElement(N.c, {
                        className: G().MajorEventSpotlightBackground,
                        rgSources: _,
                        onIncrementalError: (e, t, a) => r && r(t),
                      }),
                      s.createElement(
                        "div",
                        { className: G().MajorEventTextCtn },
                        s.createElement(
                          "div",
                          { className: G().MajorEventTitle },
                          E,
                        ),
                        s.createElement(
                          "div",
                          { className: G().MajorEventSummary },
                          v,
                        ),
                      ),
                    ),
                ),
              ),
              s.createElement("div", { className: G().BottomShadow }),
            ),
          ),
        );
      }
      var O = a(21273),
        x = a(738),
        B = a(12155),
        M = a(32754),
        F = a(56011),
        P = a(61859),
        H = a(56093);
      const z =
        "https://partner.steamgames.com/doc/store/localization#supported_languages";
      var j;
      function V(e) {
        const {
            artworkType: t,
            headerHint: a,
            appid: n,
            fnToggleMinimize: l,
            realms: r,
            eventModel: o,
            fnLangHasData: i,
            fnGetImageHashAndExt: m,
            fnSetImageURL: g,
            partnerEventStore: p,
          } = e,
          [E] = (0, d.t7)(n, { include_assets: !0 });
        let I = null;
        a === j.k_Required
          ? (I = s.createElement(
              "span",
              { style: { color: "#C6512B" } },
              (0, P.we)("#EventEditor_Required"),
            ))
          : a === j.k_Suggested
            ? (I = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                (0, P.we)("#EventEditor_Suggested"),
              ))
            : a === j.k_Requested &&
              (I = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                (0, P.we)("#EventEditor_Requested"),
              ));
        let h = null;
        "capsule" === t
          ? (h = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  (0, P.we)("#selectimage_tip_design_title"),
                ),
                ": ",
                (0, P.we)("#selectimage_tip_capsule_1"),
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  (0, P.we)("#selectimage_tip_usage_title"),
                ),
                ": ",
                (0, P.we)("#selectimage_tip_capsule_2"),
              ),
            ))
          : "background" === t
            ? (h = s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "p",
                  null,
                  s.createElement(
                    "strong",
                    null,
                    (0, P.we)("#selectimage_tip_design_title"),
                  ),
                  ": ",
                  (0, P.we)("#selectimage_tip_background_1"),
                ),
              ))
            : "spotlight" === t || "localized_store_app_spotlight" === t
              ? (h = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      (0, P.we)("#selectimage_tip_usage_title"),
                    ),
                    ": ",
                    (0, P.we)("#selectimage_tip_store_spotlight_1"),
                  ),
                ))
              : "localized_store_app_spotlight_mobile" === t
                ? (h = s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "p",
                      null,
                      s.createElement(
                        "strong",
                        null,
                        (0, P.we)("#selectimage_tip_usage_title"),
                      ),
                      ": ",
                      (0, P.we)("#selectimage_tip_store_mobile_spotlight"),
                    ),
                  ))
                : "broadcast_left" === t || "broadcast_right" === t
                  ? (h = s.createElement(
                      s.Fragment,
                      null,
                      s.createElement(
                        "p",
                        null,
                        (0, P.we)("#selectimage_tip_broadcast_1"),
                      ),
                    ))
                  : "sale_header" === t
                    ? (h = s.createElement(
                        s.Fragment,
                        null,
                        s.createElement(
                          "div",
                          { className: k().EventElementRequired },
                          (0, P.we)("#selectimage_tip_required_title"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, P.we)("#selectimage_tip_usage_title"),
                          ),
                          ": ",
                          (0, P.we)("#selectimage_tip_sale_header_1"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, P.we)("#selectimage_tip_design_title"),
                          ),
                          ": ",
                          (0, P.we)("#selectimage_tip_sale_header_2"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          (0, P.we)("#selectimage_tip_sale_header_4"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, P.we)("#selectimage_tip_template_title"),
                          ),
                          ": ",
                          s.createElement(
                            "a",
                            {
                              href: "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                            },
                            (0, P.we)("#selectimage_tip_sale_header_3"),
                          ),
                        ),
                        s.createElement("br", null),
                      ))
                    : "hero" === t
                      ? E &&
                        (h = s.createElement(
                          s.Fragment,
                          null,
                          s.createElement(
                            "p",
                            null,
                            (0, P.we)("#selectimage_tip_hero_1"),
                          ),
                          !Boolean(E.GetAssets().GetLibraryHeroURL()) &&
                            s.createElement(
                              "p",
                              { className: D.ErrorStylesBackground },
                              (0, P.we)(
                                "#EventEdtior_ArtworkType_hero_warning",
                              ),
                            ),
                        ))
                      : (h =
                          "localized_image_group" === t ||
                          "link_capsule" === t ||
                          "sale_section_title" === t ||
                          "schedule_track_art" === t ||
                          "localized_background_art" === t
                            ? s.createElement(
                                s.Fragment,
                                null,
                                s.createElement(
                                  "p",
                                  null,
                                  (0, P.we)("#ImagePickerLoc_Desc"),
                                ),
                                s.createElement(
                                  "p",
                                  null,
                                  (0, P.PP)(
                                    "#ImagePickerLoc_Files",
                                    s.createElement(
                                      "a",
                                      {
                                        href: z,
                                        target: y.TS.IN_CLIENT
                                          ? void 0
                                          : "_blank",
                                      },
                                      (0, P.we)("#ImagePickerLoc_URL"),
                                    ),
                                  ),
                                ),
                              )
                            : "product_banner" === t
                              ? s.createElement(
                                  s.Fragment,
                                  null,
                                  s.createElement(
                                    "div",
                                    { className: k().EventElementOptional },
                                    (0, P.we)(
                                      "#selectimage_tip_optional_title",
                                    ),
                                  ),
                                  s.createElement(
                                    "p",
                                    null,
                                    s.createElement(
                                      "b",
                                      null,
                                      (0, P.we)("#selectimage_tip_usage_title"),
                                    ),
                                    ": ",
                                    (0, P.we)(
                                      "#selectimage_tip_sale_product_banner",
                                    ),
                                  ),
                                )
                              : "product_mobile_banner" === t ||
                                  "product_banner_override" === t ||
                                  "product_mobile_banner_override" === t
                                ? s.createElement(
                                    s.Fragment,
                                    null,
                                    s.createElement(
                                      "div",
                                      { className: k().EventElementOptional },
                                      (0, P.we)(
                                        "#selectimage_tip_optional_title",
                                      ),
                                    ),
                                    s.createElement(
                                      "p",
                                      null,
                                      s.createElement(
                                        "b",
                                        null,
                                        (0, P.we)(
                                          "#selectimage_tip_usage_title",
                                        ),
                                      ),
                                      ": ",
                                      (0, P.we)(
                                        "#selectimage_tip_sale_product_banner",
                                      ),
                                      "product_mobile_banner" === t &&
                                        s.createElement(
                                          "span",
                                          null,
                                          "  ",
                                          (0, P.we)(
                                            "#selectimage_tip_sale_product_banner_mobile",
                                          ),
                                        ),
                                    ),
                                  )
                                : "tab_bar_background" === t
                                  ? s.createElement(
                                      s.Fragment,
                                      null,
                                      s.createElement(
                                        "p",
                                        null,
                                        s.createElement(
                                          "strong",
                                          null,
                                          (0, P.we)(
                                            "#selectimage_tip_design_title",
                                          ),
                                        ),
                                        ":",
                                        (0, P.we)(
                                          "#Sale_Tabs_Background_Design",
                                        ),
                                      ),
                                      s.createElement(
                                        "p",
                                        null,
                                        s.createElement(
                                          "strong",
                                          null,
                                          (0, P.we)(
                                            "#selectimage_tip_usage_title",
                                          ),
                                        ),
                                        ":",
                                        (0, P.we)(
                                          "#Sale_Tabs_Background_Usage",
                                        ),
                                      ),
                                    )
                                  : "sale_logo" === t
                                    ? s.createElement(
                                        s.Fragment,
                                        null,
                                        s.createElement(
                                          "div",
                                          {
                                            className: k().EventElementOptional,
                                          },
                                          (0, P.we)(
                                            "#selectimage_tip_optional_title",
                                          ),
                                        ),
                                        s.createElement(
                                          "p",
                                          null,
                                          s.createElement(
                                            "b",
                                            null,
                                            (0, P.we)(
                                              "#selectimage_tip_usage_title",
                                            ),
                                          ),
                                          ": ",
                                          (0, P.we)(
                                            "#selectimage_tip_pageLogo",
                                          ),
                                        ),
                                      )
                                    : s.createElement(
                                        s.Fragment,
                                        null,
                                        s.createElement(
                                          "div",
                                          {
                                            className: k().EventElementRequired,
                                          },
                                          (0, P.we)(
                                            "#selectimage_tip_required_title",
                                          ),
                                        ),
                                        s.createElement(
                                          "p",
                                          null,
                                          s.createElement(
                                            "b",
                                            null,
                                            (0, P.we)(
                                              "#selectimage_tip_usage_title",
                                            ),
                                          ),
                                          ": ",
                                          (0, P.we)(
                                            "#selectimage_tip_bestofyear",
                                          ),
                                        ),
                                      ));
        const _ = c.Fj[e.artworkType].width,
          v = c.Fj[e.artworkType].height;
        return s.createElement(
          "div",
          { id: e.id, className: w().ArtworkSelectorContainer },
          Boolean(e.title) &&
            s.createElement(
              "div",
              { className: w().Title, onDoubleClick: l },
              e.title,
              s.createElement("span", null, "Â "),
              I,
              l &&
                s.createElement(
                  u.$n,
                  { onClick: l },
                  s.createElement(
                    M.he,
                    {
                      toolTipContent: (0, P.we)(
                        e.bIsMinimized
                          ? "#Sale_Section_Maximize_Tooltip"
                          : "#Sale_Section_Minimize_Tooltip",
                      ),
                    },
                    e.bIsMinimized
                      ? s.createElement(B.hz4, null)
                      : s.createElement(B.Xjb, null),
                  ),
                ),
            ),
          !e.bIsMinimized &&
            s.createElement(
              "div",
              { className: (0, b.A)(w().SelectImageBlock, w().Tips) },
              h,
              Boolean(_ && v) &&
                s.createElement(
                  "p",
                  null,
                  s.createElement(
                    "b",
                    null,
                    (0, P.we)("#selectimage_tip_dimensions_title"),
                  ),
                  ":Â ",
                  (0, P.PP)("#selectimage_tip1", _, v),
                ),
              Boolean(e.strWarning) &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "p",
                    { className: D.WarningStylesWithIcon },
                    e.strWarning,
                  ),
                ),
              e.elEventArtworkExample,
              "Â ",
              s.createElement("br", null),
              e.elAdditionalControls,
              Boolean(e.fnRemoveAllArtwork) &&
                s.createElement(
                  u.$n,
                  {
                    onClick: (t) => {
                      (0, x.pg)(
                        s.createElement(W, {
                          fnRemoveAllArtwork: e.fnRemoveAllArtwork,
                        }),
                        (0, F.uX)(t),
                      );
                    },
                  },
                  (0, P.we)("#Sale_RemoveAll"),
                ),
            ),
          !e.bIsMinimized &&
            s.createElement(Z, {
              clanSteamID: e.clanSteamID,
              title: e.title,
              imageWidth: _,
              eventModel: o,
              imageHeight: v,
              artworkType: e.artworkType,
              realms: r,
              appid: n,
              fnGetImageHashAndExt: m,
              fnSetImageURL: g,
              fnLangHasData: i,
              partnerEventStore: p,
            }),
        );
      }
      function W(e) {
        const { fnRemoveAllArtwork: t, closeModal: a } = e;
        return s.createElement(O.o0, {
          strTitle: (0, P.we)("#Sale_RemoveAll"),
          strDescription: (0, P.we)("#ImageUpload_DeleteAll_Confirm"),
          onOK: () => {
            t(), a();
          },
          onCancel: a,
        });
      }
      function Y(e) {
        const t = e.lastIndexOf(".");
        return -1 === t ? e : e.substring(0, t);
      }
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required"),
          (e[(e.k_Requested = 3)] = "k_Requested");
      })(j || (j = {}));
      let Z = class extends s.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              langOverride: g.O.Get().GetCurEditLanguage(),
              lastSelection: new Array(),
            });
        }
        OnUpdateAndMoveClanImageLang(e, t, a) {
          const { fnGetImageHashAndExt: n, fnSetImageURL: l } = this.props;
          (0, r.h5)(() => {
            const { artworkType: r } = this.props;
            Y(n(r, t)) == e.image_hash && l(r, null, t),
              l(r, e, a),
              this.InsertOrUpdateClanImageAndLangMapping(e, a, !1);
          });
        }
        OnRemoveImage(e) {
          const { fnSetImageURL: t } = this.props;
          t(this.props.artworkType, null, e);
        }
        InsertOrUpdateClanImageAndLangMapping(e, t, a) {
          const { lastSelection: n } = this.state;
          let l;
          n.find((t) => t.clanImage.imageid == e.imageid)
            ? (l = n.map((a) =>
                a.clanImage.imageid == e.imageid
                  ? { clanImage: e, lang: t }
                  : a,
              ))
            : a && (l = n.concat({ clanImage: e, lang: t })),
            this.setState({ lastSelection: l });
        }
        OnLanguageChange(e) {
          e != this.state.langOverride && this.setState({ langOverride: e });
        }
        render() {
          const {
              artworkType: e,
              realms: t,
              fnLangHasData: a,
              fnGetImageHashAndExt: n,
              eventModel: l,
              appid: r,
              partnerEventStore: o,
            } = this.props,
            i = "localized_image_group" === e;
          return "hero" === e
            ? s.createElement(
                "div",
                { style: { padding: "16px" } },
                s.createElement(
                  u.$n,
                  {
                    style: { textTransform: "uppercase", width: "200px" },
                    onClick: () =>
                      window.open(
                        `${y.TS.PARTNER_BASE_URL}admin/game/editbyappid/${r}?activetab=tab_graphicalassets`,
                      ),
                  },
                  (0, P.we)("#ImageUpload_EditHeroImage"),
                ),
              )
            : s.createElement(
                "div",
                null,
                s.createElement(Q, {
                  list: this.state.lastSelection,
                  fnOnArtworkLanguageChange: this.OnUpdateAndMoveClanImageLang,
                  realms: t,
                  fnLangHasData: a,
                }),
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "div",
                    {
                      className: (0, b.A)(
                        w().SelectImageBlock,
                        w().MainPreviewBlock,
                      ),
                    },
                    s.createElement(ne, {
                      eventModel: l,
                      clanSteamID: this.props.clanSteamID,
                      fnOnLanguagePreviewChange: this.OnLanguageChange,
                      langOverride: this.state.langOverride,
                      fnOnArtworkLangChange: i
                        ? null
                        : this.OnUpdateAndMoveClanImageLang,
                      artworkType: this.props.artworkType,
                      fnOnRemoveImage: i ? null : this.OnRemoveImage,
                      realms: t,
                      fnLangHasData: a,
                      fnGetImageHashAndExt: n,
                      partnerEventStore: o,
                    }),
                  ),
                ),
              );
        }
      };
      (0, n.Cg)([H.oI], Z.prototype, "OnUpdateAndMoveClanImageLang", null),
        (0, n.Cg)([H.oI], Z.prototype, "OnRemoveImage", null),
        (0, n.Cg)(
          [H.oI],
          Z.prototype,
          "InsertOrUpdateClanImageAndLangMapping",
          null,
        ),
        (0, n.Cg)([H.oI], Z.prototype, "OnLanguageChange", null),
        (Z = (0, n.Cg)([o.PA], Z));
      let Q = class extends s.Component {
        ShowLangChangeDialog(e, t) {
          const {
            fnOnArtworkLanguageChange: a,
            realms: n,
            fnLangHasData: l,
          } = this.props;
          (0, x.pg)(
            s.createElement(S.e, {
              clanImage: e,
              lang: t,
              fnOnArtworkLangChange: a,
              fnLangHasData: l,
              realms: n,
            }),
            window,
          );
        }
        GenerateImageMappings() {
          let e = new Array();
          const { list: t } = this.props;
          return (
            t.forEach((t) => {
              const { clanImage: a, lang: n } = t;
              let r = (0, P.we)("#Language_" + (0, l.Lg)(n));
              e.push(
                s.createElement(
                  "div",
                  {
                    key: "img_lang_" + t.clanImage.imageid + "_" + n,
                    className: k().FlexRowContainer,
                  },
                  s.createElement(
                    "span",
                    null,
                    (0, P.we)("#ImageUpload_Success_Mapping", a.file_name, r),
                  ),
                  s.createElement(
                    "a",
                    { onClick: () => this.ShowLangChangeDialog(a, n) },
                    (0, P.we)("#ImageUpload_Success_Mapping_Change"),
                  ),
                ),
              );
            }),
            e
          );
        }
        render() {
          const { list: e } = this.props;
          if (!e || 0 == e.length) return s.createElement("div", null);
          let t = this.GenerateImageMappings();
          return s.createElement("div", { className: v.UploadSuccess }, t);
        }
      };
      function J(e) {
        const { imgURL: t, eventModel: a } = e,
          n = (0, g.E)();
        return s.createElement(
          "div",
          { style: { display: "flex", width: "304px" } },
          s.createElement(h.uY, {
            event: a,
            imageURLOverride: t,
            langOverride: n,
          }),
        );
      }
      function X(e) {
        const { lang: t, eventModel: a, partnerEventStore: n } = e,
          [l, r, o, c, m] = (0, i.q3)(() => [
            a.GetNameWithFallback(t),
            a.GetDescriptionWithFallback(t),
            a.GetSubTitleWithLanguageFallback(t),
            a.type,
            a.AnnouncementGID,
          ]);
        let d = r
          ? s.createElement(I.f, {
              text: r || "",
              partnerEventStore: n,
              showErrorInfo: !1,
              event: a,
              languageOverride: g.O.Get().GetCurEditLanguage(),
            })
          : (0, P.we)("#selectimage_display_event_body");
        return s.createElement(
          "div",
          { className: w().MultipleExampleContainer },
          s.createElement(
            "div",
            { className: w().ExampleSectionTitle },
            (0, P.we)("#selectimage_preview_title_1"),
          ),
          s.createElement(
            "div",
            { className: (0, b.A)(w().DetailPageExample, "DetailPageExample") },
            s.createElement(
              "div",
              { className: w().DetailExample },
              s.createElement(
                "div",
                { className: w().MainImageCtn },
                s.createElement("img", { src: e.imgURL }),
              ),
              s.createElement(
                "div",
                { className: w().ExampleBodyPosition },
                s.createElement(
                  "div",
                  { className: w().ExampleContentCtn },
                  s.createElement(
                    "div",
                    { className: w().TextTitle },
                    l || (0, P.we)("#selectimage_display_event_title"),
                  ),
                  s.createElement(
                    "div",
                    { className: w().TextSubTitle },
                    o || (0, P.we)("#selectimage_display_event_subtitle"),
                  ),
                  s.createElement("div", { className: w().TextBody }, d),
                ),
              ),
            ),
          ),
          12 != c &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement("div", { className: w().ExampleSpacer }),
              s.createElement(
                "div",
                { className: w().ExampleSectionTitle },
                (0, P.we)("#selectimage_preview_title_2"),
              ),
              s.createElement(
                "div",
                {
                  className: (0, b.A)(
                    w().DetailPageExample,
                    "DetailPageExample",
                  ),
                },
                s.createElement(
                  "div",
                  { className: w().DetailExample2 },
                  s.createElement(E.He, {
                    key: m,
                    event: a,
                    emoticonStore: p.A,
                    partnerEventStore: n,
                    headerClassnames: "editor",
                    langOverride: t,
                    bDisableBroadcastPlayer: !0,
                  }),
                ),
              ),
            ),
        );
      }
      (0, n.Cg)([H.oI], Q.prototype, "ShowLangChangeDialog", null),
        (Q = (0, n.Cg)([o.PA], Q));
      const q = (e) => {
          const [t] = (0, d.t7)(e.event.appid, { include_assets: !0 });
          if (!t) return null;
          const a = t.GetName(),
            n = t.GetAssets().GetCommunityIconURL();
          return s.createElement(
            "div",
            { className: w().SpotlightExample },
            s.createElement(T, {
              event: e.event,
              strDisplayName: a,
              gameIconUrl: n,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            }),
          );
        },
        K = (e) => {
          const t = [
            s.createElement("img", { key: "img", src: e.imgURL }),
            s.createElement("div", {
              key: "video",
              className: w().BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            s.createElement(
              "div",
              { className: w().BroadcastPreviewContainer },
              t,
            )
          );
        },
        $ = (e) =>
          s.createElement(
            "div",
            { className: w().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          ),
        ee = (e) =>
          s.createElement(
            "div",
            { className: w().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          ),
        te = (e) =>
          s.createElement(
            "div",
            { className: w().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          );
      function ae(e, t) {
        var a;
        let n = 0;
        for (let l = 0; l < 31; ++l)
          (null === (a = t(e, l)) || void 0 === a ? void 0 : a.length) > 0 &&
            (n += 1);
        return n;
      }
      function ne(e) {
        const {
            langOverride: t,
            artworkType: a,
            fnOnLanguagePreviewChange: n,
            clanSteamID: l,
            eventModel: r,
            partnerEventStore: o,
            fnOnRemoveImage: c,
            fnOnArtworkLangChange: g,
            realms: p,
            fnLangHasData: d,
            fnGetImageHashAndExt: u,
          } = e,
          E = u(a, t),
          I = E
            ? m.i6.GenerateArtworkURLFromHashAndExtensions(l, E, m.wI.full, t)
            : "",
          [h] = (0, i.q3)(() => [ae(a, u)]);
        return 0 == h
          ? s.createElement(
              "div",
              { className: w().ImagePreviewContainer },
              "capsule" === a &&
                s.createElement(J, {
                  imgURL:
                    y.TS.IMG_URL + "events/defaults/default_img_cover.jpg",
                  eventModel: r,
                }),
              "background" === a &&
                s.createElement(X, {
                  imgURL:
                    y.TS.IMG_URL + "events/defaults/default_img_header.jpg",
                  lang: t,
                  eventModel: r,
                  partnerEventStore: o,
                }),
              "spotlight" === a &&
                s.createElement(q, {
                  lang: t,
                  imgURL:
                    y.TS.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              "localized_store_app_spotlight" === a &&
                s.createElement(q, {
                  lang: t,
                  imgURL:
                    y.TS.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              "localized_store_app_spotlight_mobile" === a &&
                s.createElement(q, {
                  lang: t,
                  imgURL:
                    y.TS.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              s.createElement(
                "div",
                null,
                (0, P.we)("#EventEditor_ArtworkMissing"),
              ),
            )
          : s.createElement(
              "div",
              { className: w().ImagePreviewContainer },
              "capsule" === a &&
                s.createElement(J, { imgURL: I, eventModel: r }),
              "background" === a &&
                s.createElement(X, {
                  imgURL: I,
                  lang: t,
                  eventModel: r,
                  partnerEventStore: o,
                }),
              "spotlight" === a &&
                s.createElement(q, { imgURL: I, event: r, lang: t }),
              "localized_store_app_spotlight" === a &&
                s.createElement(q, { imgURL: I, event: r, lang: t }),
              "localized_store_app_spotlight_mobile" === a &&
                s.createElement(q, { imgURL: I, event: r, lang: t }),
              ("broadcast_left" === a || "broadcast_right" === a) &&
                s.createElement(K, {
                  imgURL: I,
                  side: "broadcast_right" === a ? "right" : "left",
                }),
              "sale_header" === a && s.createElement($, { imgURL: I }),
              "sale_overlay" === a && s.createElement(ee, { imgURL: I }),
              m.pb.includes(a) &&
                s.createElement("img", {
                  className: _.PreviewImg,
                  src: m.pU.GetLocalizedImageGroupForEditAsURL(l, t),
                }),
              "product_banner" === a && s.createElement(te, { imgURL: I }),
              "product_mobile_banner" === a &&
                s.createElement(te, { imgURL: I }),
              "sale_logo" === a && s.createElement(te, { imgURL: I }),
              "bestofyear_banner" === a && s.createElement(te, { imgURL: I }),
              "bestofyear_banner_mobile" === a &&
                s.createElement(te, { imgURL: I }),
              s.createElement(A.h, {
                langOverride: t,
                clanSteamID: l,
                fnOnLanguagePreviewChange: n,
                fnOnRemoveImage: c,
                fnOnArtworkLangChange: g,
                realms: p,
                fnLangHasData: d,
                fnGetImageHash: (e) => u(a, e),
              }),
            );
      }
    },
    45832: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => C });
      var n = a(34629),
        l = a(2160),
        r = a(22837),
        o = a(75844),
        i = a(90626),
        s = a(44894),
        c = a(71138),
        m = a(25359),
        g = a.n(m),
        p = a(93016),
        d = a(21273),
        u = a(738),
        E = a(12155),
        I = a(56011),
        h = a(61859),
        _ = a(56093);
      var v = a(32754);
      let C = class extends i.Component {
        OnCloseDeleteDialog() {}
        OnChangeImageLanguage(e) {
          let t = (0, r.sf)(e.currentTarget.id);
          this.props.fnOnLanguagePreviewChange(t);
        }
        OnChangeLanguage(e) {
          const { fnGetImageHash: t, clanSteamID: a } = this.props;
          let n = +e.currentTarget.dataset.lang,
            l = t(n);
          if (l) {
            let e = c.pU.GetClanImageByImageHash(a, l);
            e &&
              (0, u.pg)(
                i.createElement(p.e, {
                  clanImage: e,
                  lang: n,
                  fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                  fnLangHasData: this.props.fnLangHasData,
                  realms: this.props.realms,
                }),
                window,
              );
          }
        }
        OnDeleteClick(e) {
          e.stopPropagation(), e.preventDefault();
          let t = +e.currentTarget.dataset.lang;
          (0, u.pg)(
            i.createElement(d.o0, {
              strTitle: (0, h.we)("#selectimage_remove_image"),
              strDescription: (0, h.we)(
                "#selectimage_remove_details",
                (0, h.we)("#Language_" + (0, r.Lg)(t)),
              ),
              closeModal: this.OnCloseDeleteDialog,
              onOK: () => {
                this.props.fnOnRemoveImage(t);
              },
              onCancel: this.OnCloseDeleteDialog,
            }),
            (0, I.uX)(e),
          );
        }
        ConstructLanguages() {
          const {
            langOverride: e,
            fnGetImageHash: t,
            clanSteamID: a,
          } = this.props;
          let n = new Array(),
            o = a.GetAccountID(),
            m = Array();
          const p = h.A0.GetLanguageListForRealms([
            l.TU.k_ESteamRealmGlobal,
            l.TU.k_ESteamRealmChina,
          ]);
          for (const e of p) {
            const a = t(e);
            if (a) {
              const t = (0, r.Lg)(e),
                n = (0, h.we)("#Language_" + t);
              m.push({ lang: e, strLang: t, locLang: n, imgHash: a });
            }
          }
          m = m.sort((e, t) =>
            e.locLang > t.locLang ? 1 : e.locLang < t.locLang ? -1 : 0,
          );
          for (const t of m) {
            const l = c.pU.GetClanImageByImageHash(a, t.imgHash),
              r = l
                ? c.i6.GenerateArtworkURLFromHashAndExtensions(
                    this.props.clanSteamID,
                    c.i6.GetHashAndExt(l),
                    c.wI.full,
                    t.lang,
                  )
                : "",
              m =
                e == t.lang
                  ? g().LanguageSelectorSelected
                  : t.imgHash
                    ? g().LanguageSelector
                    : g().LanguageSelectorNoData;
            n.push(
              i.createElement(
                "div",
                {
                  key: "lang_select_" + o + " " + t.strLang,
                  id: t.strLang,
                  className: g().LanguageContainer,
                  onClick: this.OnChangeImageLanguage,
                },
                i.createElement("div", { className: m }, t.locLang),
                i.createElement(
                  "span",
                  { className: g().LanguageOptions },
                  Boolean(r) &&
                    i.createElement(
                      "a",
                      { href: r, target: "_blank" },
                      i.createElement(
                        v.he,
                        {
                          toolTipContent: (0, h.we)(
                            "#selectimage_viewimage_ttip",
                          ),
                        },
                        E.YNO(),
                      ),
                    ),
                  this.props.fnOnArtworkLangChange &&
                    i.createElement(
                      v.he,
                      {
                        toolTipContent: (0, h.we)(
                          "#selectimage_reassign_image_ttip",
                        ),
                      },
                      i.createElement("img", {
                        "data-lang": t.lang,
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=",
                        onClick: this.OnChangeLanguage,
                      }),
                    ),
                  this.props.fnOnRemoveImage &&
                    i.createElement(
                      v.he,
                      {
                        toolTipContent: (0, h.we)(
                          "#selectimage_delete_image_ttip",
                        ),
                      },
                      i.createElement("img", {
                        "data-lang": t.lang,
                        src: s.A,
                        onClick: this.OnDeleteClick,
                      }),
                    ),
                ),
              ),
            );
          }
          return n;
        }
        render() {
          let e = this.ConstructLanguages();
          return i.createElement(
            "div",
            { className: g().SelectImageLanguagesCtn },
            i.createElement(
              "div",
              { className: g().SelectImageTitle },
              (0, h.we)("#selectimage_uploaded_languages"),
            ),
            i.createElement("div", { className: g().LanguageListContainer }, e),
          );
        }
      };
      (0, n.Cg)([_.oI], C.prototype, "OnCloseDeleteDialog", null),
        (0, n.Cg)([_.oI], C.prototype, "OnChangeImageLanguage", null),
        (0, n.Cg)([_.oI], C.prototype, "OnChangeLanguage", null),
        (0, n.Cg)([_.oI], C.prototype, "OnDeleteClick", null),
        (C = (0, n.Cg)([o.PA], C));
    },
    93016: (e, t, a) => {
      "use strict";
      a.d(t, { e: () => E });
      var n = a(65946),
        l = a(90626),
        r = a(17720),
        o = a(71138),
        i = a(1909),
        s = a(95695),
        c = a.n(s),
        m = a(21273),
        g = a(52038),
        p = a(61859),
        d = a(25359),
        u = a.n(d);
      function E(e) {
        const {
            clanImage: t,
            closeModal: a,
            lang: s,
            fnOnArtworkLangChange: d,
            realms: E,
            fnLangHasData: I,
          } = e,
          [h, _] = (0, l.useState)(s),
          v = r.b.InitFromClanID(t.clanAccountID),
          C = (0, n.q3)(() =>
            o.i6.GenerateArtworkURLFromHashAndExtensions(
              v,
              o.i6.GetHashAndExt(t),
            ),
          );
        return l.createElement(
          m.o0,
          {
            strTitle: (0, p.we)("#selectimage_change_artwork_lang_title"),
            strDescription: (0, p.we)("#selectimage_change_artworl_lang_desc"),
            onOK: () => d(t, s, h),
            onCancel: a,
            closeModal: a,
          },
          l.createElement(
            "div",
            { className: (0, g.A)(c().FlexColumnContainer, u().ReassignCtn) },
            l.createElement(
              "div",
              { className: u().ImagePreviewContainer },
              l.createElement("img", { className: u().ArtworkPreview, src: C }),
            ),
            l.createElement(i.Ng, {
              selectedLang: h,
              fnLangHasData: I,
              fnOnLanguageChanged: _,
              realms: E,
            }),
          ),
        );
      }
    },
    59461: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
    44894: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
  },
]);
