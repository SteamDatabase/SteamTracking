/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [508],
  {
    90366: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "_1qNsZzOZwNCYm1GS9pqnZE",
        OtherEvents_MainImageCtn: "_1_8oyHdewqai4JuEIh11wy",
        OtherEvents: "_2ioeML9G6BTyA11zRYPJiO",
        OtherEvents_EventCtn: "_17gGs3rUyGwRkz8uPik0rB",
        OtherEvents_MainImage: "_3xf4AU1wEY5nIzAOdOnSsj",
        OtherEvents_BGImage: "_3rp-lFmelffTONjJ-ldqgL",
        OtherEvents_ContentCtn: "_3QaFWiKl_XbnEBVEhdfeLt",
        OtherEvents_TextCtn: "_2AVL1OmApcsfoOPFx8QThT",
        OtherEvents_TextTitle: "_3ZuflpGGSeJvmjZJIQx5e0",
        UpcomingCtn: "_--lM7hJVkwcISdQAWy1fy",
        OtherEvents_SubTitle: "_2UUNjtLra_-qqwuU_ktz94",
        HoversEnabled: "_34Nxj-HIVRgOjpEoZXrtFD",
        PartnerEventRowCapsule_MainImage: "_2bZBnkMp0OljJLD36Un9Rs",
        EventSummaryContainer: "_3PdWgzJe3GHkyxSZIwO-s9",
        EventSummaryText: "h5tE8wA0PgU4nQ14CqEFH",
        EventSummaryType: "_1Fp_lXtrNwSdYbJzuWW4Lj",
        HorizontalEvent: "_1RS0bEbL5I8O-TAKKNlrd2",
        HorizontalSummary: "_3_1QoQ3NWvsgyUYgk21yEo",
        HorizontalTitle: "_1m9zET7Fmfr8h2A1YssRN0",
        HorizontalDescriptionCtn: "_2s9cBSqOYZUBg096zdH0Ck",
        HorizontalDescription: "Dc9KCKnzyOidFrl_me_hi",
        AppCapsuleImage: "_2vo-l83xvmTcw5MrKYG_fF",
        AppCapsuleCtn: "_1kYhaueKYB851hCFLTlB_X",
        AppCapsuleImageHover: "rcwMfB3Hsb-m7NClNj-TD",
        AppCapsulePrice: "Jq75m8cExMwOQIjp-8NfC",
      };
    },
    34216: (e) => {
      e.exports = {
        ArtworkDimensionTooSmall: "_8JWUNs4beh8JKImTVfd0O",
        UploadPreviewCtn: "ei0wWR3mb0L5b1FaTv6a9",
        UploadPreviewButtonsCtn: "_26B6AoCiKBGzwcWkCb3WC7",
        UploadPreviewDelete: "_341V_BWctUFnfZYSzx2ccV",
        UploadPreviewButton: "_2cbB1cqD4vHVmzfKIVfbxR",
        UploadPreviewError: "_2v0gpsyKTsA_DH1EOfSvWy",
        UploadPreviewWarning: "_3AsIIDTjjALqv1bpFhFYqA",
        UploadPreview: "_3pASZrqpJGF66HhDmaOZQ0",
        PreviewImgCtn: "_3cUm3eIHePztTha25LhC4_",
        PreviewImgInfo: "_3Iv_ta0j1KkrQSANN9Uelw",
      };
    },
    46223: (e) => {
      e.exports = {
        ImageWrapperContainer: "GXVrkonCyhaOg6miwVGta",
        ImageWrapper: "mUjPw7di81GtDU_N5ujrE",
        VideoBackground: "qN_9EngViamtq37lMtOeH",
        ImageWrapperFilename: "pk7bnofiMwc6OMSgVLXCN",
        ResultNotification: "_1-HZj06qCtZujs8-C5GeBz",
        ErrorCode: "_3rw-6qx8_epej3A1Hp80p9",
        Hilight: "_1vRwLhLzEKzki5hmaW2ylR",
        ImageButton: "_3Z046eQxlmocVAhlsl1HMk",
        Thumb: "_1bjzrcDXEtvvFnkRAwz_cN",
        Full: "_3L9QziCp5RhK_qP45ooioI",
        Delete: "_28wLj--1s8gZfzLTXVU2HQ",
        FloatingThrobber: "_30_ORK0oqFpRsMDV-6d9_-",
        Localized: "_1kXpAXUfzN86R8b1irxb3z",
      };
    },
    91572: (e) => {
      e.exports = {
        PickerContainer: "_1ghHVqd-1tJukk-J9t4C0C",
        SearchInput: "_2Qg-758cQkldqHwWHU9GJQ",
        Hilight: "_3DnuhouA6rFSUTWcoQxElF",
        ImagesContainer: "_2TiIPsTracyCnJckBxHwqz",
        UploaderContainer: "_2Fy1jj7xiZgc973r2ZDciX",
        UploaderTitle: "_1epKJX9oRt9XaRe3VbbB15",
        UploaderRunning: "yuSdH0CbO4pw6GMyUfP4F",
        UploaderDesc: "_19Mg9pNpXsQCKiPdRZP4tQ",
        UploadError: "_1sE47iRSnBiEtqd0sykneh",
        UploadMessageAndButtonsContainer: "_14sm54En0UX_kQK0h0Uvqv",
        UploadSuccess: "_1TWyxhS0__EV0osFT1nFhH",
        UploadDismissButton: "_1ke-KgmMglYM7DY6dTK5GD",
      };
    },
    4725: (e) => {
      e.exports = {
        TitleImg: "_1KFE_k1fB35onNgaLfxp3n",
        PreviewImg: "_3eu5XlO1bGg5Gz3A29joR-",
        ArtworkBar: "_3F0DGWSQp0U5-qpWnjVDDU",
      };
    },
    23188: (e) => {
      e.exports = {
        DragAndDropContainer: "_1BEPNI1VRg_n1yO7i-sYnG",
        DragAndDropContainerDragging: "_2pUkOvmrrCo5acF6P3gjVE",
        ImageUploadBar: "_3qMiPN9GMj5LzmUzsBvbkM",
        SelectImageButton: "_39lgcR-zD4iH4gArdGptkZ",
      };
    },
    65633: (e) => {
      e.exports = {
        SearchInput: "_1MoNlMMPAa7a_PUbZdUPYK",
        PickerTitle: "_2GOa_E9ft3Uit4FcVjVMTy",
      };
    },
    29974: (e) => {
      e.exports = {
        EventEditorArtworkCtn: "_33NhLkt7tLqmOif2ZExIR0",
        ArtworkPreview: "EqRZAmBNTlVL4kKZLlR_R",
        EventEditorArtworkBarContainer: "_3xwThyUw93WjDWCW9guCiV",
        EventEditorButton: "_1HzhU-JNdujGcm1wOMHbcn",
        EventEditorInputPaneTopRow: "w07PNyyCzVvNhbTfvktRX",
        EventCoverImageCtn: "_31izeXkn5sHax6qxVQ_CvQ",
        DragTarget: "_1ZBrEamjcBsuh-gfKjZtgn",
        DragOnTopOfMe: "_10u-LR57b_mKm5A7eITMmo",
        EventEditorArtworkTextCtn: "_3ttXOfwJinHGZQrJJqi6ui",
        EventEditorDragTargetArea: "_1gPC5-CX5UfgqrGVALxWAq",
        EventEditorArtworkTitle: "_3L5GB8sLuQctPXy3V1r7Ua",
        EventEditorArtworkSubTitle: "_3rf8sGkiu_Ue3ch2Zhbela",
        EventEditorArtworkResolution: "Ba5DYxijVKstBAm0n0fRP",
        ReassignCtn: "_3i2cKBmasBzOBF2TjtfPRH",
        ImagePreviewContainer: "vwsDZljJ3WF5NCWhkQ70c",
        NoneSet: "zgB_eAjwiZHZUSO3ABHSw",
        TitleSafePreview: "_6hMMjvmYlX11phiPM5Vk4",
        TitleSafeCaption: "_2P3U85qhswGSU_fA8WJFTt",
        LanguageSelector: "FG0tY6ZUavlkuWbyMLJ7h",
        LanguageSelectorSelected: "_1SStc82BSMY7zr_uvcXP8Q",
        LanguageSelectorNoData: "keABzVVUz9gd1H4S6KOUn",
        LanguageContainer: "_1t-OL2LSV97F1qZ9H1We2o",
        LanguageOptions: "_23F4IPfffbnRRYQGV2FnG0",
        LanguageListContainer: "lZMp7D5olGHNNjfz_c3mZ",
        SelectImageContainerTopRow: "_3OgOTszkRIEjEd2uziWYaS",
        SelectImageContainerBottomRow: "_285xYjkQULENTwXZxWC5sc",
        TextTitle: "TCvIjhjwX7Wge5h8QW5IU",
        TextSubTitle: "_2Yp1XFWTHwH5PcE80Coo0Z",
        ExampleSectionTitle: "_16BFp-JzuGtA0VxCgE1rs9",
        DetailPageExample: "_3h6b3Hq37pPDFNN9Wn5YNq",
        DetailExample: "_237-IbZ84psl8XCi8GttAR",
        DetailExample2: "_185Wmc8r4ZhxWahJkNlPSQ",
        MainImageCtn: "_2llnCJtE25C_OBXIUQFLyY",
        ExampleBodyPosition: "_2IQ6o7uyDRolDbFoMLV2iP",
        ExampleContentCtn: "_1w_r-_aV7JnBLrdapfalbY",
        TextBody: "_1RLjyyaTV3koMUpmdnYG9",
        SpotlightExample: "_2YId3vx12hMO9OsI4Bly5X",
        SelectImageEqualColumns: "_37Pjvh2Z_uOUInbF1SAmYG",
        SelectImageBlock: "aV4M-FQ8HAMal2Jc5V2uD",
        MainPreviewBlock: "_3vfquPO9VfuTodEs9A4Zdu",
        Tips: "_1xG3g-6Xa1p1fUnPoHonso",
        ExamplesCtn: "rYs2mC6xFY4z6xAdcYAJD",
        SelectImageExampleImg: "_3g11rNB9RanMzDc_rbuxSp",
        SelectImageLanguagesCtn: "_3k2i4Gq0jCw4xsqdXMgiiR",
        SelectImageTitle: "_3XYOE8pSkpZqseEhuVBcLT",
        ArtworkSelectorContainer: "_2i5j2jPI0JzXKJn-zLIVWJ",
        Title: "GcC5KuANIXbm_xjqx1FIv",
        BroadcastPreviewContainer: "_6afStGJxyl89FnM6Ww3h1",
        SaleHeaderPreviewContainer: "_1V1jOTk2QnwheUvb9qd9PD",
        SaleHeaderExampleCtn: "_29AWp6zHrcf_u3JQAHKMHa",
        SaleHeaderExampleCol: "_2aSaoovHt-UT3OR213NqFv",
        BroadcastPreview: "_2ZtsW-xaySLoZ30gcBUJVz",
        ExampleSpacer: "_8bKRW3LMsPihLDQ5xC_Tm",
        MultipleExampleContainer: "Sc_aOPUlUO1j1mq2ERpEZ",
        AssetExampleSpotlightCtn: "_2inRYR_DUPtHi73CvLtEva",
        BackgroundConfigCtn: "_2FXdvNeJT5XosGDsWWROGU",
        OptionCtn: "_3nPXFTBBq45umfIcjkSgt4",
        BackgroundColorBtn: "_1zWeum2lZqUNxrMK4RSUwV",
      };
    },
    74252: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        ReadMoreLink: "_2KaxocDJ8dCBuEzg2VYz81",
        MajorEventContainer: "_3do5n9uOTTNJW89MCTMEyL",
        MajorEventImageContainer: "_35tOsJtd5I0mYOURFptfil",
        MajorEventImage: "_1Up1WOo2DSqA-IFUKwYk8",
        BottomShadow: "_1AACQ0HtBUfw_EPo6LIysu",
        MajoreEventImageContentContainer: "udfRceX4RgLxEQmTmttUa",
        MajorEventImageTemplate: "ro7_SkUt0pd6RNxMVgmph",
        MajorEventBackground: "QREVk_A95MIhIPzEsBU4U",
        MajorEventImageBackgroundBlur: "_291S2UcaecZD08Y6Noh1-H",
        MajorEventHeader: "_3Qj29ladyfIc6AMkoOuInu",
        PartnerEventLargeImage_Title: "_1OsLhMjkmMC-_04GGnb1c5",
        EventType: "_3Lhg82eHxMJKKeIa7WT0Hp",
        GameIconAndName: "BQi3-z8C6QEtQFqpv_WYy",
        GameIcon: "_25LeJvIYCvP9I-JC5lUBBk",
        MajorEventSpotlightBackground: "_3L8ZqT9yRDGOzXoZ8FUvwd",
        MajorEventContent: "_3mLphn2Pprtt-qnPD7-dOm",
        MajorEventTextCtn: "_2O77i6UjCy94FNBrXXiJ9x",
        MajorEventTitle: "_2ftZCUDJJ6BE0arrygjQ9m",
        MajorEventSummary: "_2R4OpRaVAvsG07JBCyUh0P",
        MajorEvent_Ctn: "_2beUzKK2am3sTg6J3j0mne",
        AppDetailsSpotlightContainer: "_30w2v6caGebz3IjP05yXgs",
      };
    },
    76696: (e) => {
      e.exports = {
        LightboxDialog: "_3ZlRVLZBBJ5AlqcTXgH39I",
        LightboxImageContainer: "_2Q0i393KuCPDvhYcQE_8hn",
        LightboxMainImage: "_1QaLXa9BqcHtuXQn-WeKKB",
        LightboxPrevImage: "_3CBDhewhtAYADfOEKQ088x",
        LightboxNextImage: "_1bAQfVTEag1iry95f9aB5b",
        LightboxToolbar: "_1peagr4kB_Df9EaBgyqNw_",
        LightboxImageTitle: "_1SOhddmKueqNM0bBsPezHq",
        LightboxToolbarButtons: "hK1C_5FvGkWxVfYm1K5O-",
        LightboxCloseButton: "_3Yti5xlO0MO1IRLD4owQ3n",
        LightboxLeftButton: "WtITgXcX98FEtm06NIQNY",
        LightboxRightButton: "KKIxD3K9xRk6zlGyP2kmI",
      };
    },
    22227: (e) => {
      e.exports = { SavedImage: "_1y3QVgsz4daj3E3S5wzwt-" };
    },
    25667: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => i, f: () => n });
      var n,
        l = a(68985),
        r = a(77115);
      function i(e, t, a) {
        let i = "";
        const o = r.A + "/" + t.clanAccountID + "/" + l.aN.GetHashAndExt(t);
        if (a == n.k_eInsertVideo)
          (i = "[video webm="),
            5 == t.file_type && (i += o),
            (i += " mp4="),
            4 == t.file_type && (i += o),
            (i += " autoplay=true controls=false][/video]");
        else if (a == n.k_eInsertFullImage) i = "[img]" + o + "[/img]";
        else {
          i =
            "[url=" +
            o +
            "][img]" +
            (r.A + "/" + t.clanAccountID + "/" + l.aN.GetThumbHashAndExt(t)) +
            "[/img][/url]";
        }
        e.InsertText(i);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup"),
          (e[(e.k_eInsertVideo = 4)] = "k_eInsertVideo");
      })(n || (n = {}));
    },
    32144: (e, t, a) => {
      "use strict";
      a.d(t, { KE: () => X, T4: () => P, _G: () => B, zY: () => H });
      var n = a(77936),
        l = a(80751),
        r = a.n(l),
        i = a(27605),
        o = a(30750),
        s = a(47427),
        c = a(16610),
        m = a(91618),
        g = a(3783),
        p = a(86878),
        d = a(35427),
        u = a(68985),
        E = a(93243),
        I = a(30851),
        _ = a(42855),
        h = a(80886),
        v = a(27784),
        C = a(81913),
        A = a(71741),
        S = a.n(A),
        k = a(91552),
        x = a(24827),
        f = a(62613),
        D = a(25006),
        L = a(87225),
        b = a(13129),
        U = a(31846),
        w = a(37563),
        R = a(10162),
        y = a(46882),
        N = a(90366),
        G = a.n(N),
        O = a(85305),
        M = a(7769),
        T = a.n(M);
      const B = (0, i.Pi)((e) => {
          const {
              clanAccountID: t,
              gidAnnouncement: a,
              partnerEventStore: n,
              trackingLocation: l,
              bViewAllShowInfiniteScroll: i,
            } = e,
            o = d.K.InitFromClanID(t),
            c = (0, s.useRef)(null),
            [p, u] = (0, s.useState)(null),
            [I, h] = (0, s.useState)(!0),
            [A, k] = (0, s.useState)(!1);
          if (
            ((0, s.useEffect)(
              () => (
                (async () => {
                  c.current &&
                    c.current("PartnerEventRow Initializng new mount");
                  const e = r().CancelToken.source();
                  c.current = e.cancel;
                  const i = d.K.InitFromClanID(t);
                  await E.sV.LoadClanInfoForClanSteamID(i);
                  let o = await n.LoadAdjacentPartnerEventsByAnnouncement(
                    a,
                    i,
                    null,
                    4,
                    4,
                    void 0,
                    e,
                  );
                  if (!e.token.reason) {
                    o = o || [];
                    let e = o
                      .filter((e) => e.GetAnnouncementGID() != a)
                      .map((e) => e.AnnouncementGID);
                    L.LQ(e);
                    const t = e
                      .slice(0, 3)
                      .map((e) => n.GetClanEventFromAnnouncementGID(e));
                    if ((u(t), h(!1), l)) {
                      let e = _.cb.Get().GetTracker(),
                        r = !1;
                      if (n.BHasClanAnnouncementGID(a)) {
                        let t = n.GetClanEventFromAnnouncementGID(a);
                        t &&
                          t.BIsPartnerEvent() &&
                          t.BIsVisibleEvent() &&
                          (e.MarkEventRead(
                            t.GID,
                            t.clanSteamID.GetAccountID(),
                            l,
                          ),
                          (r = !0));
                      }
                      t.length > 0 &&
                        (o
                          .filter((e) => e.BIsPartnerEvent())
                          .forEach((t) =>
                            e.MarkEventShown(
                              t.GID,
                              t.clanSteamID.GetAccountID(),
                              l,
                            ),
                          ),
                        (r = !0)),
                        r && e.Flush();
                    }
                  }
                })(),
                () => {
                  c.current && c.current("PartnerEventRow: unmounting");
                }
              ),
              [t, a, n, l],
            ),
            I)
          )
            return s.createElement(y.V, { position: "center", size: "medium" });
          if (0 == p.length) return s.createElement("div", null);
          const x = E.sV.GetClanInfoByClanAccountID(t);
          return s.createElement(
            R.SV,
            null,
            s.createElement(
              "div",
              { className: (0, b.Z)(G().OtherEventsCtn, "OtherEventsCtn") },
              s.createElement(
                "div",
                { className: S().EventSectionTitleCtn },
                s.createElement(
                  "div",
                  {
                    className: (0, b.Z)(
                      S().EventSectionTitle,
                      "EventSectionTitle",
                    ),
                  },
                  (0, U.kQ)("#EventBrowse_MoreEventsTitle", x.group_name),
                  " ",
                ),
                s.createElement(
                  "div",
                  { className: S().EventSectionSpacer },
                  "Â ",
                ),
                i
                  ? s.createElement(
                      "div",
                      {
                        className: S().EventSectionMoreBtn,
                        onClick: () => k(!0),
                      },
                      (0, U.Xx)("#EventBrowse_MoreEventsBtn"),
                    )
                  : s.createElement(
                      C.JW,
                      {
                        eventModel: p[0],
                        route: C.Ue.k_eViewWebSiteHub,
                        className: S().EventSectionMoreBtn,
                      },
                      (0, U.Xx)("#EventBrowse_MoreEventsBtn"),
                    ),
              ),
              s.createElement(
                m.s,
                {
                  className: G().OtherEvents,
                  "flow-children": "column",
                  navEntryPreferPosition: g.c4.PREFERRED_CHILD,
                },
                p.map((e) =>
                  s.createElement(P, { key: e.AnnouncementGID, event: e }),
                ),
              ),
              Boolean(A) &&
                s.createElement(v.x, {
                  appid: p[0].appid,
                  clanSteamID: o,
                  announcementGID: p[0].AnnouncementGID,
                  closeModal: () => k(!1),
                  partnerEventStore: n,
                }),
            ),
          );
        }),
        F = 30;
      function P(e) {
        const {
            event: t,
            imageURLOverride: a,
            bShowAssociatedApp: l,
            langOverride: r,
            onClick: i,
            eEventRount: c,
            bHidePrices: m,
          } = e,
          [g, d, E, _, v, A, S, k] = (0, o.SZ)(() => {
            const e = r || (0, n.jM)(w.De.LANGUAGE),
              l = Boolean(void 0 !== a)
                ? a
                : t.GetImageURLWithFallback("capsule", e, u.FN.capsule_main),
              i = Boolean(void 0 !== a)
                ? a
                : t.GetImageURLWithFallback("capsule", e, u.FN.full);
            return [
              t.appid,
              l,
              t.GetNameWithFallback(e) || "",
              t.GetCategoryAsString(),
              t.GetSummaryWithFallback(e),
              (0, p.ax)(l),
              (0, p.ax)(i),
              t.GetSubTitleWithLanguageFallback(e) || "",
            ];
          }),
          [f] = (0, h.vs)(g, { include_assets: !0, include_screenshots: !0 }),
          [D, L] = (0, s.useState)(void 0);
        if (
          ((0, s.useEffect)(() => {
            const e = new Image();
            (e.src = d),
              (e.onload = () => {
                L(A);
              }),
              (e.onerror = () => {
                L(S);
              });
          }, [A, d, S]),
          !t)
        )
          return s.createElement("div", {
            className: G().OtherEvents_EventCtn,
          });
        if (!f && g)
          return s.createElement(y.V, {
            className: G().OtherEvents_EventCtn,
            size: "small",
            position: "center",
            string: (0, U.Xx)("#Loading"),
          });
        const R = (0, I.vY)().GetStoreInitializationTimestamp().getTime() / 1e3,
          N = t ? t.GetStartTimeAndDateUnixSeconds() : 0;
        let O = k;
        return (
          k && (k.length > F || E.length > F) && (O = void 0),
          s.createElement(
            s.Fragment,
            null,
            s.createElement(
              C.JW,
              {
                className: (0, b.Z)(
                  G().OtherEvents_EventCtn,
                  "OtherEvents_EventCtn",
                  G().HoversEnabled,
                ),
                eventModel: t,
                route: c || C.Ue.k_eView,
                onClick: i,
                preferredFocus: !0,
              },
              s.createElement(
                "div",
                { className: G().EventSummaryContainer },
                s.createElement("div", { className: G().EventSummaryType }, _),
                s.createElement("div", { className: G().EventSummaryText }, v),
              ),
              s.createElement("div", {
                className: G().OtherEvents_BGImage,
                style: {
                  backgroundColor: "#ffffff",
                  backgroundImage: D ? `url(${D})` : "none",
                },
              }),
              s.createElement(
                "div",
                { className: G().OtherEvents_ContentCtn },
                s.createElement(
                  "div",
                  { className: G().OtherEvents_MainImageCtn },
                  s.createElement("img", {
                    src: D || d,
                    className: G().OtherEvents_MainImage,
                  }),
                ),
                s.createElement(
                  "div",
                  { className: G().OtherEvents_TextCtn },
                  s.createElement(
                    "div",
                    { className: G().OtherEvents_TextTitle },
                    E,
                  ),
                  Boolean(O) &&
                    s.createElement(
                      "div",
                      { className: G().OtherEvents_SubTitle },
                      O,
                    ),
                  Boolean(N > R)
                    ? s.createElement(
                        "div",
                        { className: (0, b.Z)(G().UpcomingCtn, "UpcomingCtn") },
                        s.createElement(x.H6, {
                          bSingleLine: !0,
                          dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                        }),
                      )
                    : s.createElement(x.H6, {
                        bSingleLine: !0,
                        bOnlyDate: !0,
                        dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                      }),
                ),
              ),
            ),
            Boolean(l && t.appid) &&
              s.createElement(H, { appid: t.appid, bHidePrice: m }),
          )
        );
      }
      function H(e) {
        const { appid: t, bHidePrice: a } = e,
          [n] = (0, h.vs)(t, c.bk),
          l = (0, D.bJ)(),
          r = (0, w.id)();
        if (!n) return null;
        const i = n.GetBestPurchaseOption(),
          o = i?.hide_discount_pct_for_compliance && !0;
        return s.createElement(
          m.s,
          {
            className: (0, b.Z)(G().AppCapsuleCtn, "AppCapsuleCtn"),
            ...(0, k.h)(n, l, r),
          },
          s.createElement(
            O.ll,
            {
              item: { type: "game", id: t },
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            s.createElement("img", {
              className: G().AppCapsuleImage,
              src: n.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
          Boolean(!a && !n.BIsFree()) &&
            s.createElement(
              "span",
              {
                className: (0, b.Z)(
                  G().AppCapsulePrice,
                  Boolean(i?.discount_pct) ? T().Discounted : "",
                ),
              },
              Boolean(i?.discount_pct && o) &&
                s.createElement(
                  "div",
                  { className: T().DiscountIconCtn },
                  s.createElement(f.dCe, null),
                ),
              Boolean(i?.discount_pct && !o) &&
                s.createElement(
                  "span",
                  { className: T().StoreSaleDiscountBox },
                  `-${i?.discount_pct}%`,
                ),
              Boolean(i.final_price_in_cents) &&
                s.createElement(
                  "span",
                  { className: T().StoreSalePriceBox },
                  i.formatted_final_price,
                ),
            ),
        );
      }
      function X(e) {
        const { event: t, imageURLOverride: a, onClick: l } = e,
          r = (0, n.jM)(w.De.LANGUAGE),
          [i, c, m] = (0, o.SZ)(() =>
            t
              ? [
                  void 0 !== a
                    ? a
                    : t.GetImageURLWithFallback(
                        "capsule",
                        r,
                        u.FN.capsule_main,
                      ),
                  t.GetNameWithFallback(r),
                  t.GetCategoryAsString(),
                ]
              : [void 0, void 0, void 0],
          );
        return t
          ? s.createElement(
              C.JW,
              {
                className: G().OtherEvents_EventCtn + " " + G().HorizontalEvent,
                eventModel: t,
                route: C.Ue.k_eView,
                onClick: l,
              },
              s.createElement(
                "div",
                { className: G().OtherEvents_ContentCtn },
                s.createElement(
                  "div",
                  { className: G().OtherEvents_MainImageCtn },
                  s.createElement("img", {
                    src: i,
                    className: G().OtherEvents_MainImage,
                  }),
                ),
              ),
              s.createElement(
                "div",
                { className: G().OtherEvents_TextCtn },
                s.createElement(
                  "div",
                  { className: G().HorizontalDescriptionCtn },
                  s.createElement(
                    "div",
                    { className: G().HorizontalDescription },
                    m,
                  ),
                  s.createElement(x.H6, {
                    bSingleLine: !0,
                    dateAndTime: t.GetStartTimeAndDateUnixSeconds(),
                  }),
                ),
                s.createElement("div", { className: G().HorizontalTitle }, c),
              ),
            )
          : s.createElement("div", { className: G().OtherEvents_EventCtn });
      }
    },
    45562: (e, t, a) => {
      "use strict";
      a.d(t, { L4: () => U, qn: () => R, tu: () => w });
      var n = a(30750),
        l = a(27605),
        r = a(47427),
        i = a(77936),
        o = a(38071),
        s = a(27174),
        c = a(12055),
        m = a(20029),
        g = a(65650),
        p = a(1485),
        d = a(75747),
        u = a(71741),
        E = a.n(u),
        I = a(50898),
        _ = a(90069),
        h = a(7765),
        v = a.n(h),
        C = a(62613),
        A = a(46882),
        S = a(16649),
        k = a(13129),
        x = a(50423),
        f = a(9075),
        D = a(31846),
        L = a(34216),
        b = a.n(L);
      function U(e) {
        const {
            imageUploader: t,
            rgSupportArtwork: a,
            strOverrideDragAndDropText: l,
            forceResolution: i,
            localizedPrimaryImage: o,
            elAdditonalButtons: s,
            rgRealmList: c,
          } = e,
          [p, u] = (0, n.SZ)(() => [
            t.GetUploadImages(),
            g.U.Get().GetCurEditLanguage(),
          ]),
          E = r.useCallback(
            async (e) => {
              let n = Array.from(e),
                l = !0;
              for (let i = 0; i < n.length; i++) {
                const n = e.item(i),
                  s = (0, m.Z)(n.name, u);
                try {
                  const e = (0, m.C)(s, u, c);
                  (l = await t.AddImageForLanguage(n, e, a, o)),
                    l ||
                      (console.error(
                        "ArtworkUploader.OnDropFiles: failed on i=" +
                          i +
                          " file=" +
                          n.name,
                      ),
                      (0, _.AM)(
                        r.createElement(I.JX, {
                          strDescription: (0, D.Xx)(
                            "#ImagePicker_Error",
                            n.name,
                          ),
                        }),
                        window,
                      ));
                } catch (e) {
                  let t = (0, S.l)(e);
                  console.error(
                    "ArtworkUploader.OnDropFiles: " + t.strErrorMsg,
                    t,
                  ),
                    (0, _.AM)(
                      r.createElement(I.JX, {
                        strDescription: (0, D.Xx)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
              }
              return l;
            },
            [u, t, o, c, a],
          );
        return r.createElement(
          d.x,
          {
            onDropFiles: E,
            elAdditonalButtons: s,
            strOverrideDragAndDropText: l,
          },
          r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              { className: b().UploadPreviewCtn },
              p.map((e) =>
                r.createElement(y, {
                  key: "arttabupload_" + e.file + "_" + e.uploadTime,
                  asset: e,
                  supported: a,
                  forceResolution: i,
                  forceFileType: o && o.file_type,
                  fnOnRemove: () => t.DeleteUploadImage(e),
                  languageRealms: c,
                }),
              ),
            ),
          ),
          r.createElement(w, {
            imageUploader: t,
            fnOnUploadImageRequested: async () => {
              await t.UploadAllImages(c, u, a, i, o && o.file_type);
            },
          }),
        );
      }
      function w(e) {
        const { imageUploader: t, fnOnUploadImageRequested: a } = e,
          [l] = (0, n.SZ)(() => [t.GetUploadImages()]);
        return r.createElement(
          "div",
          {
            style: { display: "flex" },
            className: b().UploadPreviewButtonsCtn,
          },
          Boolean(l.length) &&
            r.createElement(
              p.zx,
              { style: { margin: "8px" }, onClick: a },
              (0, D.Xx)("#ImageUpload_Upload"),
            ),
          Boolean(l.length) &&
            r.createElement(
              p.zx,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              (0, D.Xx)("#ImageUpload_Clear"),
            ),
        );
      }
      function R(e, t, a, n, l, i) {
        let o = new Array();
        return (
          e.GetUploadImages().map((s) => {
            o.push(
              r.createElement(y, {
                key: t + s.file + "_" + s.uploadTime,
                asset: s,
                supported: a,
                forceResolution: n,
                forceFileType: l,
                fnOnRemove: () => e.DeleteUploadImage(s),
                languageRealms: i,
              }),
            );
          }),
          o
        );
      }
      const y = (0, l.Pi)((e) => {
        const { asset: t, fnOnRemove: a, supported: n, languageRealms: l } = e,
          m = n.map((e) => {
            let a = (0, D.Xx)("#EventEditor_ArtworkType_" + e);
            "spotlight" == e &&
              (a = (0, D.Xx)("#EventEditor_ArtworkType_store_spotlight"));
            const n = s.h1[e];
            let l;
            n &&
              !n.bDisableEnforceDimensions &&
              (a += ` - ${n.width}x${n.height}`),
              (t.BIsOriginalMinimumDimensions(e) && (0, s.W4)(t.fileType, e)) ||
                (l = b().ArtworkDimensionTooSmall);
            return { label: a, data: e, strOptionClass: l };
          }),
          g = {
            pending: (0, D.Xx)("#ImageUpload_Pending"),
            uploading: (0, D.Xx)("#ImageUpload_Uploading"),
            success: (0, D.Xx)("#ImageUpload_SuccessCard"),
            failed: (0, D.Xx)("#ImageUpload_Failed"),
          },
          d = new Array(),
          u = D.LJ.GetLanguageListForRealms(l || [o.IN.k_ESteamRealmGlobal]);
        for (const e of u) {
          const t = (0, D.Xx)("#Language_" + (0, i.j_)(e));
          d.push({ label: t, data: e });
        }
        d.sort((e, t) => e.label.localeCompare(t.label));
        const I = [];
        d.forEach((e) => I.push({ label: e.label, data: e.data }));
        const h = t.IsValidAssetType(
            e.supported,
            e.forceResolution,
            e.forceFileType,
          ),
          S = h.needsCrop
            ? (0, D.Xx)("#ImageUpload_NeedsCrop")
            : h.error
              ? (0, D.Xx)("#ImageUpload_Invalid")
              : g[t.status];
        return r.createElement(
          "div",
          { className: b().UploadPreview },
          r.createElement(
            "div",
            { className: b().UploadPreviewDelete, onClick: () => a(t) },
            r.createElement(C.pVO, null),
          ),
          r.createElement(N, { asset: t }),
          r.createElement(p.ry, {
            strDropDownClassName: E().DropDownScroll,
            rgOptions: I,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(m.length > 1) &&
            r.createElement(p.ry, {
              rgOptions: m.filter((e) => "hero" !== e.data),
              selectedOption: t.type || m[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          r.createElement(
            "div",
            { className: (0, k.Z)(E().FlexColumnContainer) },
            S,
            Boolean("uploading" == S) &&
              r.createElement(
                "div",
                { className: v().FlexCenter },
                r.createElement(A.V, { size: "small" }),
              ),
          ),
          r.createElement(
            "div",
            { className: b().UploadPreviewError },
            t.message,
          ),
          h.error &&
            r.createElement(
              "div",
              { className: b().UploadPreviewError },
              h.error,
            ),
          h.needsCrop &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                p.KM,
                {
                  onClick: () =>
                    ((t) => {
                      if (t instanceof c.Mr) {
                        t.ResetImage();
                        const a = window,
                          n = r.createElement(f.e, {
                            ownerWin: a,
                            uploadFile: t,
                            forceResolution: e.forceResolution,
                            fileType: e.forceFileType || 3,
                          });
                        (0, _.BR)(n, a, "CropModal", {
                          strTitle: (0, D.Xx)("#ImageUpload_CropModalTitle"),
                        });
                      }
                      console.log(
                        "ArtworkUploadEmbeddedDialog trying to crop non image",
                        t.fileType,
                        t.type,
                      );
                    })(t),
                },
                (0, D.Xx)("#ImageUpload_OpenEditor"),
              ),
            ),
        );
      });
      function N(e) {
        const { asset: t } = e;
        return s.D_.includes(t.fileType)
          ? r.createElement(
              "div",
              {
                className: b().PreviewImgCtn,
                onClick: (e) =>
                  (0, _.AM)(r.createElement(G, { asset: t }), (0, x.RA)(e)),
              },
              r.createElement(
                "span",
                { className: b().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
              r.createElement(
                "video",
                {
                  height: 120,
                  controls: !1,
                  autoPlay: !0,
                  loop: !0,
                  muted: !0,
                },
                r.createElement("source", { src: t.dataUrl }),
              ),
            )
          : r.createElement(
              "div",
              {
                className: b().PreviewImgCtn,
                style: { backgroundImage: `url(${t.dataUrl})` },
              },
              r.createElement(
                "span",
                { className: b().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
            );
      }
      function G(e) {
        const { asset: t, closeModal: a } = e;
        return r.createElement(
          I.uH,
          { bAlertDialog: !0, closeModal: a },
          r.createElement(
            "video",
            { controls: !0, autoPlay: !0, loop: !0, muted: !0 },
            r.createElement("source", { src: t.dataUrl }),
          ),
        );
      }
    },
    7591: (e, t, a) => {
      "use strict";
      a.d(t, { p: () => E });
      var n = a(30750),
        l = a(47427),
        r = a(37593),
        i = a(20029),
        o = a(65650),
        s = a(50898),
        c = a(90069),
        m = a(46882),
        g = a(16649),
        p = a(31846),
        d = a(45562),
        u = a(5153);
      function E(e) {
        const {
            clanSteamID: t,
            rgSupportArtwork: a,
            localizedPrimaryImage: E,
            bAllowPreviousClanImageSelection: I,
            fnSetImageURL: _,
            rgRealmList: h,
          } = e,
          [v] = l.useState(new r.S(t)),
          [C, A] = l.useState(!1),
          [S] = (0, n.SZ)(() => [o.U.Get().GetCurEditLanguage()]);
        l.useEffect(() => {
          v.SetImageAllUrlFunction(e.fnSetImageURL);
        }, [v, e.fnSetImageURL]);
        const k = l.useCallback(
            async (e, t) => {
              if (!C) {
                A(!0);
                try {
                  const t = (0, i.Z)(e.file_name, S),
                    n = (0, i.C)(t, S, h);
                  await v.AddExistingClanImage(e, n, a, E);
                } catch (e) {
                  let t = (0, g.l)(e);
                  console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                    (0, c.AM)(
                      l.createElement(s.JX, {
                        strDescription: (0, p.Xx)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
                A(!1);
              }
            },
            [C, v, S, E, h, a],
          ),
          x = l.useMemo(
            () =>
              I
                ? [
                    [
                      l.createElement(u.j, {
                        key: "clanartworkpicker",
                        clanSteamID: t,
                        fnSetImageURL: _,
                        rgRealmList: h,
                        OnClanImageSelected: k,
                      }),
                    ],
                  ]
                : null,
            [k, I, t, _, h],
          );
        return l.createElement(d.L4, {
          ...e,
          imageUploader: v,
          elAdditonalButtons: C
            ? [
                l.createElement(m.V, {
                  key: "throbbing",
                  position: "center",
                  size: "medium",
                  string: (0, p.Xx)("#Loading"),
                }),
              ]
            : x,
        });
      }
    },
    5153: (e, t, a) => {
      "use strict";
      a.d(t, { D: () => D, j: () => U });
      var n = a(85556),
        l = a(47427),
        r = a(25667),
        i = a(35427),
        o = a(68985),
        s = a(42855),
        c = a(69210),
        m = a(71741),
        g = a.n(m),
        p = a(47242),
        d = a(50898),
        u = a(90069),
        E = a(46882),
        I = a(16649),
        _ = a(13129),
        h = a(50423),
        v = a(31846),
        C = a(20417),
        A = a(46223),
        S = a.n(A),
        k = a(23188),
        x = a.n(k),
        f = a(92303);
      function D(e) {
        const {
            fileNameSearch: t,
            clanAccountID: a,
            imageInsertCallBack: n,
            fnOnExpandImage: s,
            insertActions: c,
            InternalOpenLocalizeImageGroup: m,
          } = e,
          g = (0, o.C3)(a),
          p = l.useMemo(() => {
            let e = [],
              p = t?.trim().toLowerCase() || "";
            const d = i.K.InitFromClanID(a);
            let u = o.U8.GetFilteredClanImagesList(g, p);
            if (u.length > 0)
              for (let t of u)
                e.push(
                  l.createElement(L, {
                    key: t.imageid,
                    clanImage: t,
                    searchStringHilight: p,
                    imageInsertCallBack: n,
                    fnOnOpenLocalizedImageGroup: m,
                    insertActions: c?.filter(
                      (e) =>
                        (5 != t.file_type && 4 != t.file_type) ||
                        e == r.f.k_eInsertFullImage,
                    ),
                    OnImageClick: s,
                  }),
                );
            if (0 == e.length) {
              let t = o.U8.GetLoadState(d);
              t && t.loaded
                ? e.push(
                    l.createElement(
                      "div",
                      {
                        key: "ImagePicker_Result",
                        className: S().ResultNotification,
                      },
                      p.length > 0
                        ? (0, v.Xx)("#ImagePicker_EmptySearch")
                        : (0, v.Xx)("#ImagePicker_Empty"),
                    ),
                  )
                : t && t.errMsg
                  ? e.push(
                      l.createElement(
                        "div",
                        { key: "ImagePicker_Result", className: S().ErrorCode },
                        (0, v.Xx)("#ImagePicker_Error", t.errMsg),
                      ),
                    )
                  : e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: S().ResultNotification,
                        },
                        (0, v.Xx)("#Loading"),
                      ),
                    );
            }
            return e;
          }, [t, a, n, c, s, m, g]);
        return l.createElement(l.Fragment, null, p);
      }
      class L extends l.Component {
        m_linkPopupRef = l.createRef();
        state = { bDeleting: !1 };
        onHandleFullSize() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r.f.k_eInsertFullImage,
          );
        }
        onHandleVideo() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r.f.k_eInsertVideo,
          );
        }
        onHandleThumbnail() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            r.f.k_eInsertThumbnail,
          );
        }
        onHandleLocalizedImageGroup() {
          this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
        }
        ShowInsertAction(e) {
          return this.props.insertActions
            ? this.props.insertActions.indexOf(e) >= 0
            : (5 != this.props.clanImage.file_type &&
                4 != this.props.clanImage.file_type) ||
                e == r.f.k_eInsertVideo;
        }
        OnDragStartSource(e) {
          e.dataTransfer.setData("text", this.props.clanImage.url),
            o.U8.GetClanImageDragListener().forEach((e) => {
              e(i.K.InitFromClanID(this.props.clanImage.clanAccountID), !0);
            });
        }
        OnDragEndSource(e) {
          o.U8.GetClanImageDragListener().forEach((e) => {
            e(i.K.InitFromClanID(this.props.clanImage.clanAccountID), !1);
          });
        }
        OnDeleteClick(e) {
          (0, u.AM)(
            l.createElement(
              d.uH,
              {
                strTitle: (0, v.Xx)("#ImagePicker_DeleteImageTitle"),
                strDescription: "",
                onOK: this.onDelete,
                onCancel: this.OnCloseDialog,
                closeModal: this.OnCloseDialog,
              },
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  null,
                  (0, v.Xx)(
                    "#ImagePicker_DeleteAreYouSure",
                    this.props.clanImage.file_name,
                  ),
                ),
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(
                  "div",
                  null,
                  (0, v.Xx)("#ImagePicker_DeleteWarning"),
                ),
              ),
            ),
            (0, h.RA)(e),
          );
        }
        ShowDeleteError(e) {
          console.log("ClanImageWrapper on delete error: " + e),
            (0, u.AM)(
              l.createElement(
                d.JX,
                {
                  strTitle: (0, v.Xx)("#Error_FailureNotice"),
                  strDescription: (0, v.Xx)("#EventDisplay_DeleteEvent_Error"),
                },
                l.createElement("p", null, e),
              ),
              window,
            );
        }
        onDelete() {
          this.setState({ bDeleting: !0 });
          let e = i.K.InitFromClanID(this.props.clanImage.clanAccountID);
          o.U8.DeleteClanImage(e, this.props.clanImage)
            .then((e) => {
              1 != e.success && this.ShowDeleteError((0, I.l)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            })
            .catch((e) => {
              this.ShowDeleteError((0, I.l)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            }),
            this.m_linkPopupRef &&
              this.m_linkPopupRef.current &&
              this.m_linkPopupRef.current.click(),
            this.OnCloseDialog();
        }
        OnCloseDialog() {}
        OnImageClick() {
          this.props.OnImageClick &&
            this.props.OnImageClick(this.props.clanImage);
        }
        render() {
          const { clanImage: e } = this.props;
          let t = this.props.clanImage.file_name
              ? this.props.clanImage.file_name
              : "",
            a = (0, c.Y)(
              this.props.searchStringHilight,
              t,
              String(this.props.clanImage.imageid),
              S().Hilight,
            ),
            n = i.K.InitFromClanID(e.clanAccountID);
          const o = s.cb.Get().GetPartnerEventPermissions(n);
          let m = this.state.bDeleting;
          const d = 4 == e.file_type || 5 == e.file_type;
          let u = !m && !d && this.ShowInsertAction(r.f.k_eInsertFullImage),
            I = !m && !d && this.ShowInsertAction(r.f.k_eInsertThumbnail),
            h = !m && d && this.ShowInsertAction(r.f.k_eInsertVideo),
            C = Boolean(
              !m &&
                o.valve_admin &&
                this.ShowInsertAction(r.f.k_eShowImageGroup),
            );
          return l.createElement(
            p.Y,
            {
              placeholderHeight: "100vh",
              className: S().ImageWrapperContainer,
              rootMargin: "0px 0px 100% 0px",
            },
            l.createElement(
              "div",
              { className: S().ImageButton },
              l.createElement(
                "div",
                {
                  className: S().ImageWrapper,
                  style: {
                    backgroundImage: d
                      ? ""
                      : `url( '${this.props.clanImage.thumb_url}' )`,
                  },
                  draggable: !0,
                  onDragStart: this.OnDragStartSource,
                  onDragEnd: this.OnDragEndSource,
                  onDoubleClick: this.onHandleFullSize,
                  onClick: this.OnImageClick,
                },
                Boolean(d) &&
                  l.createElement(
                    "video",
                    {
                      autoPlay: !0,
                      loop: !0,
                      muted: !0,
                      className: S().VideoBackground,
                    },
                    l.createElement("source", {
                      src: this.props.clanImage.url,
                      type: "video/" + (4 == e.file_type ? "mp4" : "webm"),
                    }),
                  ),
              ),
              u &&
                l.createElement(
                  "span",
                  { className: S().Full, onClick: this.onHandleFullSize },
                  (0, v.Xx)("#ImagePicker_FullSize"),
                ),
              m &&
                l.createElement(E.V, {
                  size: "medium",
                  className: S().FloatingThrobber,
                }),
              I &&
                l.createElement(
                  "span",
                  { className: S().Thumb, onClick: this.onHandleThumbnail },
                  (0, v.Xx)("#ImagePicker_Thumbnail"),
                ),
              C &&
                l.createElement(
                  "span",
                  {
                    className: (0, _.Z)(S().Localized, g().ValveOnlyBackground),
                    onClick: this.onHandleLocalizedImageGroup,
                  },
                  "(VO) " + (0, v.Xx)("#ImagePicker_Localized"),
                ),
              h &&
                l.createElement(
                  "span",
                  { className: S().Full, onClick: this.onHandleVideo },
                  (0, v.Xx)("#ImagePicker_Video"),
                ),
              !m &&
                l.createElement(
                  "span",
                  { className: S().Delete, onClick: this.OnDeleteClick },
                  l.createElement("img", null),
                ),
              l.createElement(
                "div",
                { className: S().ImageWrapperFilename, title: t },
                a,
              ),
            ),
          );
        }
      }
      function b(e) {
        const {
            clanSteamID: t,
            closeModal: a,
            OnClanImageSelected: n,
            fnSetImageURL: r,
            rgRealmList: i,
          } = e,
          o = (0, l.useCallback)(
            (e, t) => {
              n(e, t), a();
            },
            [n, a],
          ),
          s = (0, l.useMemo)(() => [], []),
          [c, m] = (0, l.useState)(null);
        return l.createElement(
          d.uH,
          {
            strTitle: (0, v.Xx)("#ImagePicker_Images"),
            strDescription: (0, v.Xx)("#ImagePicker_DoubleClickToSelect"),
            bAlertDialog: !0,
            onOK: a,
            onCancel: a,
          },
          l.createElement(f.J, { fnSetImageSearch: m }),
          l.createElement(D, {
            clanAccountID: t.GetAccountID(),
            fileNameSearch: c,
            imageInsertCallBack: o,
            fnOnExpandImage: () => {},
            insertActions: s,
            InternalOpenLocalizeImageGroup: null,
          }),
        );
      }
      function U(e) {
        const {
          clanSteamID: t,
          fnSetImageURL: a,
          OnClanImageSelected: n,
          rgRealmList: r,
        } = e;
        return l.createElement(
          "div",
          { className: x().ImageUploadBar },
          l.createElement(
            "label",
            { htmlFor: "clanimagedialog" },
            l.createElement(
              "span",
              null,
              (0, v.Xx)("#ImagePicker_PreviousImages"),
              " ",
            ),
            l.createElement(
              "span",
              { className: x().SelectImageButton },
              (0, v.Xx)("#ImagePicker_PreviousImages2"),
            ),
          ),
          l.createElement("input", {
            style: { display: "none" },
            id: "clanimagedialog",
            type: "button",
            onClick: (e) => {
              (0, u.AM)(
                l.createElement(b, {
                  fnSetImageURL: a,
                  clanSteamID: t,
                  OnClanImageSelected: n,
                  rgRealmList: r,
                }),
                (0, h.RA)(e),
              );
            },
          }),
        );
      }
      (0, n.gn)([C.ak], L.prototype, "onHandleFullSize", null),
        (0, n.gn)([C.ak], L.prototype, "onHandleVideo", null),
        (0, n.gn)([C.ak], L.prototype, "onHandleThumbnail", null),
        (0, n.gn)([C.ak], L.prototype, "onHandleLocalizedImageGroup", null),
        (0, n.gn)([C.ak], L.prototype, "OnDragStartSource", null),
        (0, n.gn)([C.ak], L.prototype, "OnDragEndSource", null),
        (0, n.gn)([C.ak], L.prototype, "OnDeleteClick", null),
        (0, n.gn)([C.ak], L.prototype, "onDelete", null),
        (0, n.gn)([C.ak], L.prototype, "OnCloseDialog", null),
        (0, n.gn)([C.ak], L.prototype, "OnImageClick", null);
    },
    75747: (e, t, a) => {
      "use strict";
      a.d(t, { x: () => c });
      var n = a(47427),
        l = a(31846),
        r = a(13129),
        i = a(23188),
        o = a.n(i);
      let s = 1;
      function c(e) {
        const {
            onDropFiles: t,
            renderDesciption: a,
            elAdditonalButtons: i,
            strOverrideDragAndDropText: c,
          } = e,
          [m] = (0, n.useState)(++s),
          g = (0, n.useRef)(),
          [p, d] = (0, n.useState)(!1),
          u = (0, n.useRef)(0),
          E = (0, n.useCallback)((e) => {
            e.preventDefault(), e.stopPropagation();
          }, []),
          I = (0, n.useCallback)(
            (e) => {
              let a = e.target.files;
              a && a.length > 0 && a[0] && t(a),
                g.current && g.current.value && (g.current.value = null);
            },
            [t],
          );
        return n.createElement(
          "div",
          {
            className: (0, r.Z)(
              p ? o().DragAndDropContainerDragging : o().DragAndDropContainer,
              "DragAndDropContainer",
            ),
            onDrag: E,
            onDragStart: E,
            onDragEnd: E,
            onDragOver: E,
            onDragEnter: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (u.current += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (p || d(!0));
            },
            onDragLeave: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (u.current -= 1),
                0 === u.current && p && d(!1);
            },
            onDrop: (e) => {
              e.preventDefault(), e.stopPropagation(), (u.current = 0), d(!1);
              const a = e.dataTransfer.files;
              a && a.length > 0 && a[0] && t(a);
            },
          },
          Boolean(a) && a(),
          n.createElement(
            "div",
            null,
            c || (0, l.Xx)("#ImagePicker_DragAndDrop"),
          ),
          n.createElement(
            "div",
            { className: o().ImageUploadBar },
            n.createElement(
              "label",
              { htmlFor: "imagepickerfilechoice" + m },
              n.createElement(
                "span",
                null,
                (0, l.Xx)("#ImagePicker_OrBrowse"),
                " ",
              ),
              n.createElement(
                "span",
                { className: o().SelectImageButton },
                (0, l.Xx)("#selectimage_select_file"),
              ),
            ),
            n.createElement("input", {
              ref: g,
              style: { display: "none" },
              id: "imagepickerfilechoice" + m,
              type: "file",
              onSubmit: I,
              onChange: I,
              multiple: !0,
              accept: "image/png, image/jpeg, image/gif, image/webp",
            }),
          ),
          i,
          e.children,
        );
      }
    },
    92303: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => i });
      var n = a(47427),
        l = a(31846),
        r = a(65633);
      function i(e) {
        const { fnSetImageSearch: t } = e,
          a = (0, n.useRef)(null);
        return n.createElement(
          "div",
          { className: r.PickerTitle },
          n.createElement("input", {
            ref: a,
            className: r.SearchInput,
            type: "text",
            placeholder: (0, l.Xx)("#ImagePicker_Search"),
            onChange: (e) => t(e.currentTarget.value),
            onKeyDown: (e) => {
              "Escape" == e.key && (t(""), a.current && (a.current.value = ""));
            },
          }),
        );
      }
    },
    10049: (e, t, a) => {
      "use strict";
      a.d(t, { KH: () => X, Yo: () => z, f_: () => j });
      var n = a(85556),
        l = a(77936),
        r = a(54842),
        i = a(27605),
        o = a(30750),
        s = a(47427),
        c = a(27174),
        m = a(68985),
        g = a(65650),
        p = a(45167),
        d = a(80886),
        u = a(1485),
        E = a(54384),
        I = a(78356),
        _ = a(32144),
        h = a(4725),
        v = a(91572),
        C = a(29974),
        A = a.n(C),
        S = a(11172),
        k = a(90481),
        x = a(72297),
        f = a(71741),
        D = a.n(f),
        L = a(91618),
        b = a(13129),
        U = a(37563),
        w = a(28918),
        R = a(83059),
        y = a(74252),
        N = a.n(y);
      function G(e) {
        const {
            event: t,
            spotlightURLOverride: a,
            fnHandleOpenEvent: n,
            fnImageFailureCallback: r,
            fnFilterImageURLsForKnownFailures: i,
            langOverride: c,
          } = e,
          g = (0, R.p)(),
          p = s.useCallback(
            (e) => {
              e.preventDefault(), n && n(t);
            },
            [t, n],
          ),
          d = c || (0, l.jM)(U.De.LANGUAGE),
          [u, E, I, _] = (0, o.SZ)(() => [
            t.GetSummaryWithFallback(d),
            t.GetNameWithFallback(d),
            t.GetCategoryAsString(),
            t.BShowLibrarySpotlightText(),
          ]);
        let h = new Array();
        (h =
          void 0 !== a
            ? [a]
            : 2434320 == t.appid || 2 == U.De.EUNIVERSE
              ? g
                ? t.GetImageForSizeAsArrayWithFallback(
                    "localized_store_app_spotlight_mobile",
                    d,
                    m.FN.full,
                  )
                : t.GetImageForSizeAsArrayWithFallback(
                    "localized_store_app_spotlight",
                    d,
                    m.FN.full,
                  )
              : t.GetImageForSizeAsArrayWithFallback(
                  "spotlight",
                  d,
                  m.FN.spotlight_main,
                )),
          i && (h = i(h));
        const v = u.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: N().MajorEvent_Ctn },
            s.createElement(
              L.s,
              {
                className: (0, b.Z)(
                  N().AppDetailsSpotlightContainer,
                  N().MajorEventContainer,
                ),
                onActivate: p,
                focusable: !0,
              },
              s.createElement(
                "div",
                { className: N().MajorEventBackground },
                s.createElement(w.j, {
                  className: N().MajorEventImageBackgroundBlur,
                  rgSources: h,
                  onIncrementalError: (e, t, a) => r && r(t),
                }),
              ),
              s.createElement(
                "div",
                { className: N().MajorEventImageContainer },
                s.createElement(w.j, {
                  className: N().MajorEventImage,
                  rgSources: h,
                  onIncrementalError: (e, t, a) => r && r(t),
                }),
                s.createElement("div", {
                  className: N().MajorEventImageTemplate,
                }),
                s.createElement(
                  "div",
                  { className: N().MajoreEventImageContentContainer },
                  _ &&
                    s.createElement(
                      "div",
                      { className: N().MajorEventContent },
                      s.createElement(w.j, {
                        className: N().MajorEventSpotlightBackground,
                        rgSources: h,
                        onIncrementalError: (e, t, a) => r && r(t),
                      }),
                      s.createElement(
                        "div",
                        { className: N().MajorEventTextCtn },
                        s.createElement(
                          "div",
                          { className: N().MajorEventTitle },
                          E,
                        ),
                        s.createElement(
                          "div",
                          { className: N().MajorEventSummary },
                          v,
                        ),
                      ),
                    ),
                ),
              ),
              s.createElement("div", { className: N().BottomShadow }),
            ),
          ),
        );
      }
      var O = a(50898),
        M = a(90069),
        T = a(62613),
        B = a(50423),
        F = a(31846),
        P = a(20417);
      const H =
        "https://partner.steamgames.com/doc/store/localization#supported_languages";
      var X;
      function z(e) {
        const {
            artworkType: t,
            headerHint: a,
            appid: n,
            fnToggleMinimize: l,
            realms: r,
            eventModel: i,
            fnLangHasData: o,
            fnGetImageHashAndExt: m,
            fnSetImageURL: g,
            partnerEventStore: p,
          } = e,
          [E] = (0, d.vs)(n, { include_assets: !0 });
        let I = null;
        a === X.k_Required
          ? (I = s.createElement(
              "span",
              { style: { color: "#C6512B" } },
              (0, F.Xx)("#EventEditor_Required"),
            ))
          : a === X.k_Suggested
            ? (I = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                (0, F.Xx)("#EventEditor_Suggested"),
              ))
            : a === X.k_Requested &&
              (I = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                (0, F.Xx)("#EventEditor_Requested"),
              ));
        let _ = null;
        "capsule" === t
          ? (_ = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  (0, F.Xx)("#selectimage_tip_design_title"),
                ),
                ": ",
                (0, F.Xx)("#selectimage_tip_capsule_1"),
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  (0, F.Xx)("#selectimage_tip_usage_title"),
                ),
                ": ",
                (0, F.Xx)("#selectimage_tip_capsule_2"),
              ),
            ))
          : "background" === t
            ? (_ = s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "p",
                  null,
                  s.createElement(
                    "strong",
                    null,
                    (0, F.Xx)("#selectimage_tip_design_title"),
                  ),
                  ": ",
                  (0, F.Xx)("#selectimage_tip_background_1"),
                ),
              ))
            : "spotlight" === t || "localized_store_app_spotlight" === t
              ? (_ = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      (0, F.Xx)("#selectimage_tip_usage_title"),
                    ),
                    ": ",
                    (0, F.Xx)("#selectimage_tip_store_spotlight_1"),
                  ),
                ))
              : "localized_store_app_spotlight_mobile" === t
                ? (_ = s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "p",
                      null,
                      s.createElement(
                        "strong",
                        null,
                        (0, F.Xx)("#selectimage_tip_usage_title"),
                      ),
                      ": ",
                      (0, F.Xx)("#selectimage_tip_store_mobile_spotlight"),
                    ),
                  ))
                : "broadcast_left" === t || "broadcast_right" === t
                  ? (_ = s.createElement(
                      s.Fragment,
                      null,
                      s.createElement(
                        "p",
                        null,
                        (0, F.Xx)("#selectimage_tip_broadcast_1"),
                      ),
                    ))
                  : "sale_header" === t
                    ? (_ = s.createElement(
                        s.Fragment,
                        null,
                        s.createElement(
                          "div",
                          { className: D().EventElementRequired },
                          (0, F.Xx)("#selectimage_tip_required_title"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, F.Xx)("#selectimage_tip_usage_title"),
                          ),
                          ": ",
                          (0, F.Xx)("#selectimage_tip_sale_header_1"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, F.Xx)("#selectimage_tip_design_title"),
                          ),
                          ": ",
                          (0, F.Xx)("#selectimage_tip_sale_header_2"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          (0, F.Xx)("#selectimage_tip_sale_header_4"),
                        ),
                        s.createElement(
                          "p",
                          null,
                          s.createElement(
                            "b",
                            null,
                            (0, F.Xx)("#selectimage_tip_template_title"),
                          ),
                          ": ",
                          s.createElement(
                            "a",
                            {
                              href: "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                            },
                            (0, F.Xx)("#selectimage_tip_sale_header_3"),
                          ),
                        ),
                        s.createElement("br", null),
                      ))
                    : "hero" === t
                      ? E &&
                        (_ = s.createElement(
                          s.Fragment,
                          null,
                          s.createElement(
                            "p",
                            null,
                            (0, F.Xx)("#selectimage_tip_hero_1"),
                          ),
                          !Boolean(E.GetAssets().GetLibraryHeroURL()) &&
                            s.createElement(
                              "p",
                              { className: x.ErrorStylesBackground },
                              (0, F.Xx)(
                                "#EventEdtior_ArtworkType_hero_warning",
                              ),
                            ),
                        ))
                      : (_ =
                          "localized_image_group" === t ||
                          "link_capsule" === t ||
                          "sale_section_title" === t ||
                          "schedule_track_art" === t ||
                          "localized_background_art" === t
                            ? s.createElement(
                                s.Fragment,
                                null,
                                s.createElement(
                                  "p",
                                  null,
                                  (0, F.Xx)("#ImagePickerLoc_Desc"),
                                ),
                                s.createElement(
                                  "p",
                                  null,
                                  (0, F.kQ)(
                                    "#ImagePickerLoc_Files",
                                    s.createElement(
                                      "a",
                                      {
                                        href: H,
                                        target: U.De.IN_CLIENT
                                          ? void 0
                                          : "_blank",
                                      },
                                      (0, F.Xx)("#ImagePickerLoc_URL"),
                                    ),
                                  ),
                                ),
                              )
                            : "product_banner" === t
                              ? s.createElement(
                                  s.Fragment,
                                  null,
                                  s.createElement(
                                    "div",
                                    { className: D().EventElementOptional },
                                    (0, F.Xx)(
                                      "#selectimage_tip_optional_title",
                                    ),
                                  ),
                                  s.createElement(
                                    "p",
                                    null,
                                    s.createElement(
                                      "b",
                                      null,
                                      (0, F.Xx)("#selectimage_tip_usage_title"),
                                    ),
                                    ": ",
                                    (0, F.Xx)(
                                      "#selectimage_tip_sale_product_banner",
                                    ),
                                  ),
                                )
                              : "product_mobile_banner" === t ||
                                  "product_banner_override" === t ||
                                  "product_mobile_banner_override" === t
                                ? s.createElement(
                                    s.Fragment,
                                    null,
                                    s.createElement(
                                      "div",
                                      { className: D().EventElementOptional },
                                      (0, F.Xx)(
                                        "#selectimage_tip_optional_title",
                                      ),
                                    ),
                                    s.createElement(
                                      "p",
                                      null,
                                      s.createElement(
                                        "b",
                                        null,
                                        (0, F.Xx)(
                                          "#selectimage_tip_usage_title",
                                        ),
                                      ),
                                      ": ",
                                      (0, F.Xx)(
                                        "#selectimage_tip_sale_product_banner",
                                      ),
                                      "product_mobile_banner" === t &&
                                        s.createElement(
                                          "span",
                                          null,
                                          "  ",
                                          (0, F.Xx)(
                                            "#selectimage_tip_sale_product_banner_mobile",
                                          ),
                                        ),
                                    ),
                                  )
                                : "tab_bar_background" === t
                                  ? s.createElement(
                                      s.Fragment,
                                      null,
                                      s.createElement(
                                        "p",
                                        null,
                                        s.createElement(
                                          "strong",
                                          null,
                                          (0, F.Xx)(
                                            "#selectimage_tip_design_title",
                                          ),
                                        ),
                                        ":",
                                        (0, F.Xx)(
                                          "#Sale_Tabs_Background_Design",
                                        ),
                                      ),
                                      s.createElement(
                                        "p",
                                        null,
                                        s.createElement(
                                          "strong",
                                          null,
                                          (0, F.Xx)(
                                            "#selectimage_tip_usage_title",
                                          ),
                                        ),
                                        ":",
                                        (0, F.Xx)(
                                          "#Sale_Tabs_Background_Usage",
                                        ),
                                      ),
                                    )
                                  : "sale_logo" === t
                                    ? s.createElement(
                                        s.Fragment,
                                        null,
                                        s.createElement(
                                          "div",
                                          {
                                            className: D().EventElementOptional,
                                          },
                                          (0, F.Xx)(
                                            "#selectimage_tip_optional_title",
                                          ),
                                        ),
                                        s.createElement(
                                          "p",
                                          null,
                                          s.createElement(
                                            "b",
                                            null,
                                            (0, F.Xx)(
                                              "#selectimage_tip_usage_title",
                                            ),
                                          ),
                                          ": ",
                                          (0, F.Xx)(
                                            "#selectimage_tip_pageLogo",
                                          ),
                                        ),
                                      )
                                    : s.createElement(
                                        s.Fragment,
                                        null,
                                        s.createElement(
                                          "div",
                                          {
                                            className: D().EventElementRequired,
                                          },
                                          (0, F.Xx)(
                                            "#selectimage_tip_required_title",
                                          ),
                                        ),
                                        s.createElement(
                                          "p",
                                          null,
                                          s.createElement(
                                            "b",
                                            null,
                                            (0, F.Xx)(
                                              "#selectimage_tip_usage_title",
                                            ),
                                          ),
                                          ": ",
                                          (0, F.Xx)(
                                            "#selectimage_tip_bestofyear",
                                          ),
                                        ),
                                      ));
        const h = c.h1[e.artworkType].width,
          v = c.h1[e.artworkType].height;
        return s.createElement(
          "div",
          { id: e.id, className: A().ArtworkSelectorContainer },
          Boolean(e.title) &&
            s.createElement(
              "div",
              { className: A().Title, onDoubleClick: l },
              e.title,
              s.createElement("span", null, "Â "),
              I,
              l &&
                s.createElement(
                  u.zx,
                  {
                    "data-tooltip-text": (0, F.Xx)(
                      e.bIsMinimized
                        ? "#Sale_Section_Maximize_Tooltip"
                        : "#Sale_Section_Minimize_Tooltip",
                    ),
                    onClick: l,
                  },
                  e.bIsMinimized
                    ? s.createElement(T.YqJ, null)
                    : s.createElement(T.gR, null),
                ),
            ),
          !e.bIsMinimized &&
            s.createElement(
              "div",
              { className: (0, b.Z)(A().SelectImageBlock, A().Tips) },
              _,
              Boolean(h && v) &&
                s.createElement(
                  "p",
                  null,
                  s.createElement(
                    "b",
                    null,
                    (0, F.Xx)("#selectimage_tip_dimensions_title"),
                  ),
                  ":Â ",
                  (0, F.kQ)("#selectimage_tip1", h, v),
                ),
              Boolean(e.strWarning) &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "p",
                    { className: x.WarningStylesWithIcon },
                    e.strWarning,
                  ),
                ),
              e.elEventArtworkExample,
              "Â ",
              s.createElement("br", null),
              e.elAdditionalControls,
              Boolean(e.fnRemoveAllArtwork) &&
                s.createElement(
                  u.zx,
                  {
                    onClick: (t) => {
                      (0, M.AM)(
                        s.createElement(Z, {
                          fnRemoveAllArtwork: e.fnRemoveAllArtwork,
                        }),
                        (0, B.RA)(t),
                      );
                    },
                  },
                  (0, F.Xx)("#Sale_RemoveAll"),
                ),
            ),
          !e.bIsMinimized &&
            s.createElement(V, {
              clanSteamID: e.clanSteamID,
              title: e.title,
              imageWidth: h,
              eventModel: i,
              imageHeight: v,
              artworkType: e.artworkType,
              realms: r,
              appid: n,
              fnGetImageHashAndExt: m,
              fnSetImageURL: g,
              fnLangHasData: o,
              partnerEventStore: p,
            }),
        );
      }
      function Z(e) {
        const { fnRemoveAllArtwork: t, closeModal: a } = e;
        return s.createElement(O.uH, {
          strTitle: (0, F.Xx)("#Sale_RemoveAll"),
          strDescription: (0, F.Xx)("#ImageUpload_DeleteAll_Confirm"),
          onOK: () => {
            t(), a();
          },
          onCancel: a,
        });
      }
      function j(e) {
        const t = e.lastIndexOf(".");
        return -1 === t ? e : e.substring(0, t);
      }
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required"),
          (e[(e.k_Requested = 3)] = "k_Requested");
      })(X || (X = {}));
      let V = class extends s.Component {
        state = {
          langOverride: g.U.Get().GetCurEditLanguage(),
          lastSelection: new Array(),
        };
        OnUpdateAndMoveClanImageLang(e, t, a) {
          const { fnGetImageHashAndExt: n, fnSetImageURL: l } = this.props;
          (0, r.z)(() => {
            const { artworkType: r } = this.props;
            j(n(r, t)) == e.image_hash && l(r, null, t),
              l(r, e, a),
              this.InsertOrUpdateClanImageAndLangMapping(e, a, !1);
          });
        }
        OnRemoveImage(e) {
          const { fnSetImageURL: t } = this.props;
          t(this.props.artworkType, null, e);
        }
        InsertOrUpdateClanImageAndLangMapping(e, t, a) {
          const { lastSelection: n } = this.state;
          let l;
          n.find((t) => t.clanImage.imageid == e.imageid)
            ? (l = n.map((a) =>
                a.clanImage.imageid == e.imageid
                  ? { clanImage: e, lang: t }
                  : a,
              ))
            : a && (l = n.concat({ clanImage: e, lang: t })),
            this.setState({ lastSelection: l });
        }
        OnLanguageChange(e) {
          e != this.state.langOverride && this.setState({ langOverride: e });
        }
        render() {
          const {
              artworkType: e,
              realms: t,
              fnLangHasData: a,
              fnGetImageHashAndExt: n,
              eventModel: l,
              appid: r,
              partnerEventStore: i,
            } = this.props,
            o = "localized_image_group" === e;
          return "hero" === e
            ? s.createElement(
                "div",
                { style: { padding: "16px" } },
                s.createElement(
                  u.zx,
                  {
                    style: { textTransform: "uppercase", width: "200px" },
                    onClick: () =>
                      window.open(
                        `${U.De.PARTNER_BASE_URL}admin/game/editbyappid/${r}?activetab=tab_graphicalassets`,
                      ),
                  },
                  (0, F.Xx)("#ImageUpload_EditHeroImage"),
                ),
              )
            : s.createElement(
                "div",
                null,
                s.createElement(W, {
                  list: this.state.lastSelection,
                  fnOnArtworkLanguageChange: this.OnUpdateAndMoveClanImageLang,
                  realms: t,
                  fnLangHasData: a,
                }),
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    "div",
                    {
                      className: (0, b.Z)(
                        A().SelectImageBlock,
                        A().MainPreviewBlock,
                      ),
                    },
                    s.createElement(ae, {
                      eventModel: l,
                      clanSteamID: this.props.clanSteamID,
                      fnOnLanguagePreviewChange: this.OnLanguageChange,
                      langOverride: this.state.langOverride,
                      fnOnArtworkLangChange: o
                        ? null
                        : this.OnUpdateAndMoveClanImageLang,
                      artworkType: this.props.artworkType,
                      fnOnRemoveImage: o ? null : this.OnRemoveImage,
                      realms: t,
                      fnLangHasData: a,
                      fnGetImageHashAndExt: n,
                      partnerEventStore: i,
                    }),
                  ),
                ),
              );
        }
      };
      (0, n.gn)([P.ak], V.prototype, "OnUpdateAndMoveClanImageLang", null),
        (0, n.gn)([P.ak], V.prototype, "OnRemoveImage", null),
        (0, n.gn)(
          [P.ak],
          V.prototype,
          "InsertOrUpdateClanImageAndLangMapping",
          null,
        ),
        (0, n.gn)([P.ak], V.prototype, "OnLanguageChange", null),
        (V = (0, n.gn)([i.Pi], V));
      let W = class extends s.Component {
        ShowLangChangeDialog(e, t) {
          const {
            fnOnArtworkLanguageChange: a,
            realms: n,
            fnLangHasData: l,
          } = this.props;
          (0, M.AM)(
            s.createElement(k.i, {
              clanImage: e,
              lang: t,
              fnOnArtworkLangChange: a,
              fnLangHasData: l,
              realms: n,
            }),
            window,
          );
        }
        GenerateImageMappings() {
          let e = new Array();
          const { list: t } = this.props;
          return (
            t.forEach((t) => {
              const { clanImage: a, lang: n } = t;
              let r = (0, F.Xx)("#Language_" + (0, l.j_)(n));
              e.push(
                s.createElement(
                  "div",
                  {
                    key: "img_lang_" + t.clanImage.imageid + "_" + n,
                    className: D().FlexRowContainer,
                  },
                  s.createElement(
                    "span",
                    null,
                    (0, F.Xx)("#ImageUpload_Success_Mapping", a.file_name, r),
                  ),
                  s.createElement(
                    "a",
                    { onClick: () => this.ShowLangChangeDialog(a, n) },
                    (0, F.Xx)("#ImageUpload_Success_Mapping_Change"),
                  ),
                ),
              );
            }),
            e
          );
        }
        render() {
          const { list: e } = this.props;
          if (!e || 0 == e.length) return s.createElement("div", null);
          let t = this.GenerateImageMappings();
          return s.createElement("div", { className: v.UploadSuccess }, t);
        }
      };
      function Y(e) {
        const { imgURL: t, eventModel: a } = e,
          n = (0, g.h)();
        return s.createElement(
          "div",
          { style: { display: "flex", width: "304px" } },
          s.createElement(_.T4, {
            event: a,
            imageURLOverride: t,
            langOverride: n,
          }),
        );
      }
      function Q(e) {
        const { lang: t, eventModel: a, partnerEventStore: n } = e,
          [l, r, i, c, m] = (0, o.SZ)(() => [
            a.GetNameWithFallback(t),
            a.GetDescriptionWithFallback(t),
            a.GetSubTitleWithLanguageFallback(t),
            a.type,
            a.AnnouncementGID,
          ]);
        let d = r
          ? s.createElement(I.d, {
              text: r || "",
              partnerEventStore: n,
              showErrorInfo: !1,
              event: a,
              languageOverride: g.U.Get().GetCurEditLanguage(),
            })
          : (0, F.Xx)("#selectimage_display_event_body");
        return s.createElement(
          "div",
          { className: A().MultipleExampleContainer },
          s.createElement(
            "div",
            { className: A().ExampleSectionTitle },
            (0, F.Xx)("#selectimage_preview_title_1"),
          ),
          s.createElement(
            "div",
            { className: (0, b.Z)(A().DetailPageExample, "DetailPageExample") },
            s.createElement(
              "div",
              { className: A().DetailExample },
              s.createElement(
                "div",
                { className: A().MainImageCtn },
                s.createElement("img", { src: e.imgURL }),
              ),
              s.createElement(
                "div",
                { className: A().ExampleBodyPosition },
                s.createElement(
                  "div",
                  { className: A().ExampleContentCtn },
                  s.createElement(
                    "div",
                    { className: A().TextTitle },
                    l || (0, F.Xx)("#selectimage_display_event_title"),
                  ),
                  s.createElement(
                    "div",
                    { className: A().TextSubTitle },
                    i || (0, F.Xx)("#selectimage_display_event_subtitle"),
                  ),
                  s.createElement("div", { className: A().TextBody }, d),
                ),
              ),
            ),
          ),
          12 != c &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement("div", { className: A().ExampleSpacer }),
              s.createElement(
                "div",
                { className: A().ExampleSectionTitle },
                (0, F.Xx)("#selectimage_preview_title_2"),
              ),
              s.createElement(
                "div",
                {
                  className: (0, b.Z)(
                    A().DetailPageExample,
                    "DetailPageExample",
                  ),
                },
                s.createElement(
                  "div",
                  { className: A().DetailExample2 },
                  s.createElement(E.Xy, {
                    key: m,
                    event: a,
                    emoticonStore: p.F,
                    partnerEventStore: n,
                    headerClassnames: "editor",
                    langOverride: t,
                    bDisableBroadcastPlayer: !0,
                  }),
                ),
              ),
            ),
        );
      }
      (0, n.gn)([P.ak], W.prototype, "ShowLangChangeDialog", null),
        (W = (0, n.gn)([i.Pi], W));
      const J = (e) => {
          const [t] = (0, d.vs)(e.event.appid, { include_assets: !0 });
          if (!t) return null;
          const a = t.GetName(),
            n = t.GetAssets().GetCommunityIconURL();
          return s.createElement(
            "div",
            { className: A().SpotlightExample },
            s.createElement(G, {
              event: e.event,
              strDisplayName: a,
              gameIconUrl: n,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            }),
          );
        },
        K = (e) => {
          const t = [
            s.createElement("img", { key: "img", src: e.imgURL }),
            s.createElement("div", {
              key: "video",
              className: A().BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            s.createElement(
              "div",
              { className: A().BroadcastPreviewContainer },
              t,
            )
          );
        },
        q = (e) =>
          s.createElement(
            "div",
            { className: A().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          ),
        $ = (e) =>
          s.createElement(
            "div",
            { className: A().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          ),
        ee = (e) =>
          s.createElement(
            "div",
            { className: A().SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL }),
          );
      function te(e, t) {
        let a = 0;
        for (let n = 0; n < 31; ++n) t(e, n)?.length > 0 && (a += 1);
        return a;
      }
      function ae(e) {
        const {
            langOverride: t,
            artworkType: a,
            fnOnLanguagePreviewChange: n,
            clanSteamID: l,
            eventModel: r,
            partnerEventStore: i,
            fnOnRemoveImage: c,
            fnOnArtworkLangChange: g,
            realms: p,
            fnLangHasData: d,
            fnGetImageHashAndExt: u,
          } = e,
          E = u(a, t),
          I = E
            ? m.aN.GenerateArtworkURLFromHashAndExtensions(l, E, m.FN.full, t)
            : "",
          [_] = (0, o.SZ)(() => [te(a, u)]);
        return 0 == _
          ? s.createElement(
              "div",
              { className: A().ImagePreviewContainer },
              "capsule" === a &&
                s.createElement(Y, {
                  imgURL:
                    U.De.IMG_URL + "events/defaults/default_img_cover.jpg",
                  eventModel: r,
                }),
              "background" === a &&
                s.createElement(Q, {
                  imgURL:
                    U.De.IMG_URL + "events/defaults/default_img_header.jpg",
                  lang: t,
                  eventModel: r,
                  partnerEventStore: i,
                }),
              "spotlight" === a &&
                s.createElement(J, {
                  lang: t,
                  imgURL:
                    U.De.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              "localized_store_app_spotlight" === a &&
                s.createElement(J, {
                  lang: t,
                  imgURL:
                    U.De.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              "localized_store_app_spotlight_mobile" === a &&
                s.createElement(J, {
                  lang: t,
                  imgURL:
                    U.De.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                  event: r,
                }),
              s.createElement(
                "div",
                null,
                (0, F.Xx)("#EventEditor_ArtworkMissing"),
              ),
            )
          : s.createElement(
              "div",
              { className: A().ImagePreviewContainer },
              "capsule" === a &&
                s.createElement(Y, { imgURL: I, eventModel: r }),
              "background" === a &&
                s.createElement(Q, {
                  imgURL: I,
                  lang: t,
                  eventModel: r,
                  partnerEventStore: i,
                }),
              "spotlight" === a &&
                s.createElement(J, { imgURL: I, event: r, lang: t }),
              "localized_store_app_spotlight" === a &&
                s.createElement(J, { imgURL: I, event: r, lang: t }),
              "localized_store_app_spotlight_mobile" === a &&
                s.createElement(J, { imgURL: I, event: r, lang: t }),
              ("broadcast_left" === a || "broadcast_right" === a) &&
                s.createElement(K, {
                  imgURL: I,
                  side: "broadcast_right" === a ? "right" : "left",
                }),
              "sale_header" === a && s.createElement(q, { imgURL: I }),
              "sale_overlay" === a && s.createElement($, { imgURL: I }),
              m.KU.includes(a) &&
                s.createElement("img", {
                  className: h.PreviewImg,
                  src: m.U8.GetLocalizedImageGroupForEditAsURL(l, t),
                }),
              "product_banner" === a && s.createElement(ee, { imgURL: I }),
              "product_mobile_banner" === a &&
                s.createElement(ee, { imgURL: I }),
              "sale_logo" === a && s.createElement(ee, { imgURL: I }),
              "bestofyear_banner" === a && s.createElement(ee, { imgURL: I }),
              "bestofyear_banner_mobile" === a &&
                s.createElement(ee, { imgURL: I }),
              s.createElement(S.w, {
                langOverride: t,
                clanSteamID: l,
                fnOnLanguagePreviewChange: n,
                fnOnRemoveImage: c,
                fnOnArtworkLangChange: g,
                realms: p,
                fnLangHasData: d,
                fnGetImageHash: (e) => u(a, e),
              }),
            );
      }
    },
    11172: (e, t, a) => {
      "use strict";
      a.d(t, { w: () => v });
      var n = a(85556),
        l = a(38071),
        r = a(77936),
        i = a(27605),
        o = a(47427),
        s = a(36595),
        c = a(68985),
        m = a(29974),
        g = a.n(m),
        p = a(90481),
        d = a(50898),
        u = a(90069),
        E = a(62613),
        I = a(50423),
        _ = a(31846),
        h = a(20417);
      let v = class extends o.Component {
        OnCloseDeleteDialog() {}
        OnChangeImageLanguage(e) {
          let t = (0, r.jM)(e.currentTarget.id);
          this.props.fnOnLanguagePreviewChange(t);
        }
        OnChangeLanguage(e) {
          const { fnGetImageHash: t, clanSteamID: a } = this.props;
          let n = +e.currentTarget.dataset.lang,
            l = t(n);
          if (l) {
            let e = c.U8.GetClanImageByImageHash(a, l);
            e &&
              (0, u.AM)(
                o.createElement(p.i, {
                  clanImage: e,
                  lang: n,
                  fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                  fnLangHasData: this.props.fnLangHasData,
                  realms: this.props.realms,
                }),
                window,
              );
          }
        }
        OnDeleteClick(e) {
          e.stopPropagation(), e.preventDefault();
          let t = +e.currentTarget.dataset.lang;
          (0, u.AM)(
            o.createElement(d.uH, {
              strTitle: (0, _.Xx)("#selectimage_remove_image"),
              strDescription: (0, _.Xx)(
                "#selectimage_remove_details",
                (0, _.Xx)("#Language_" + (0, r.j_)(t)),
              ),
              closeModal: this.OnCloseDeleteDialog,
              onOK: () => {
                this.props.fnOnRemoveImage(t);
              },
              onCancel: this.OnCloseDeleteDialog,
            }),
            (0, I.RA)(e),
          );
        }
        ConstructLanguages() {
          const {
            langOverride: e,
            fnGetImageHash: t,
            clanSteamID: a,
          } = this.props;
          let n = new Array(),
            i = a.GetAccountID(),
            m = Array();
          const p = _.LJ.GetLanguageListForRealms([
            l.IN.k_ESteamRealmGlobal,
            l.IN.k_ESteamRealmChina,
          ]);
          for (const e of p) {
            const a = t(e);
            if (a) {
              const t = (0, r.j_)(e),
                n = (0, _.Xx)("#Language_" + t);
              m.push({ lang: e, strLang: t, locLang: n, imgHash: a });
            }
          }
          m = m.sort((e, t) =>
            e.locLang > t.locLang ? 1 : e.locLang < t.locLang ? -1 : 0,
          );
          for (const t of m) {
            const l = c.U8.GetClanImageByImageHash(a, t.imgHash),
              r = l
                ? c.aN.GenerateArtworkURLFromHashAndExtensions(
                    this.props.clanSteamID,
                    c.aN.GetHashAndExt(l),
                    c.FN.full,
                    t.lang,
                  )
                : "",
              m =
                e == t.lang
                  ? g().LanguageSelectorSelected
                  : t.imgHash
                    ? g().LanguageSelector
                    : g().LanguageSelectorNoData;
            n.push(
              o.createElement(
                "div",
                {
                  key: "lang_select_" + i + " " + t.strLang,
                  id: t.strLang,
                  className: g().LanguageContainer,
                  onClick: this.OnChangeImageLanguage,
                },
                o.createElement("div", { className: m }, t.locLang),
                o.createElement(
                  "span",
                  { className: g().LanguageOptions },
                  Boolean(r) &&
                    o.createElement(
                      "a",
                      {
                        href: r,
                        target: "_blank",
                        "data-tooltip-text": (0, _.Xx)(
                          "#selectimage_viewimage_ttip",
                        ),
                      },
                      E.yRy(),
                    ),
                  this.props.fnOnArtworkLangChange &&
                    o.createElement("img", {
                      "data-lang": t.lang,
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=",
                      onClick: this.OnChangeLanguage,
                      "data-tooltip-text": (0, _.Xx)(
                        "#selectimage_reassign_image_ttip",
                      ),
                    }),
                  this.props.fnOnRemoveImage &&
                    o.createElement("img", {
                      "data-lang": t.lang,
                      src: s.Z,
                      onClick: this.OnDeleteClick,
                      "data-tooltip-text": (0, _.Xx)(
                        "#selectimage_delete_image_ttip",
                      ),
                    }),
                ),
              ),
            );
          }
          return n;
        }
        render() {
          let e = this.ConstructLanguages();
          return o.createElement(
            "div",
            { className: g().SelectImageLanguagesCtn },
            o.createElement(
              "div",
              { className: g().SelectImageTitle },
              (0, _.Xx)("#selectimage_uploaded_languages"),
            ),
            o.createElement("div", { className: g().LanguageListContainer }, e),
          );
        }
      };
      (0, n.gn)([h.ak], v.prototype, "OnCloseDeleteDialog", null),
        (0, n.gn)([h.ak], v.prototype, "OnChangeImageLanguage", null),
        (0, n.gn)([h.ak], v.prototype, "OnChangeLanguage", null),
        (0, n.gn)([h.ak], v.prototype, "OnDeleteClick", null),
        (v = (0, n.gn)([i.Pi], v));
    },
    90481: (e, t, a) => {
      "use strict";
      a.d(t, { i: () => E });
      var n = a(30750),
        l = a(47427),
        r = a(35427),
        i = a(68985),
        o = a(27910),
        s = a(71741),
        c = a.n(s),
        m = a(50898),
        g = a(13129),
        p = a(31846),
        d = a(29974),
        u = a.n(d);
      function E(e) {
        const {
            clanImage: t,
            closeModal: a,
            lang: s,
            fnOnArtworkLangChange: d,
            realms: E,
            fnLangHasData: I,
          } = e,
          [_, h] = (0, l.useState)(s),
          v = r.K.InitFromClanID(t.clanAccountID),
          C = (0, n.SZ)(() =>
            i.aN.GenerateArtworkURLFromHashAndExtensions(
              v,
              i.aN.GetHashAndExt(t),
            ),
          );
        return l.createElement(
          m.uH,
          {
            strTitle: (0, p.Xx)("#selectimage_change_artwork_lang_title"),
            strDescription: (0, p.Xx)("#selectimage_change_artworl_lang_desc"),
            onOK: () => d(t, s, _),
            onCancel: a,
            closeModal: a,
          },
          l.createElement(
            "div",
            { className: (0, g.Z)(c().FlexColumnContainer, u().ReassignCtn) },
            l.createElement(
              "div",
              { className: u().ImagePreviewContainer },
              l.createElement("img", { className: u().ArtworkPreview, src: C }),
            ),
            l.createElement(o.uW, {
              selectedLang: _,
              fnLangHasData: I,
              fnOnLanguageChanged: h,
              realms: E,
            }),
          ),
        );
      }
    },
    13319: (e, t, a) => {
      "use strict";
      a.d(t, { M: () => T });
      var n = a(85556),
        l = a(80751),
        r = a.n(l),
        i = a(27605),
        o = a(30750),
        s = a(47427),
        c = a(25667),
        m = a(37593),
        g = a(68985),
        p = a(65650),
        d = a(5153),
        u = a(91572),
        E = a.n(u),
        I = a(75747),
        _ = a(92303),
        h = a(71741),
        v = a.n(h),
        C = a(50898),
        A = a(90069),
        S = a(46882),
        k = a(16649),
        x = a(13129),
        f = a(31846),
        D = a(20417),
        L = a(35427),
        b = a(1485),
        U = a(4725),
        w = a(7591),
        R = a(10049);
      let y = class extends s.Component {
        state = { bPrefetchingLanguages: !0 };
        m_cancelSignal = r().CancelToken.source();
        componentDidMount() {
          if (this.props.closeModal) {
            const { primaryLocalizedImage: e } = this.props;
            g.U8.SetPrimaryImageForImageGroup(e, "localized_image_group"),
              this.LoadImageResolution(),
              this.LoadAvailableLocalizations();
          }
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        async LoadImageResolution() {
          try {
            const { primaryLocalizedImage: e } = this.props,
              t = L.K.InitFromClanID(e.clanAccountID),
              a = await g.U8.AsyncGetImageResolution(
                t,
                e.image_hash,
                e.file_type,
                this.m_cancelSignal,
                !1,
              );
            this.m_cancelSignal.token.reason || this.setState({ imageSize: a });
          } catch (e) {
            let t = (0, k.l)(e);
            console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
          }
        }
        async LoadAvailableLocalizations() {
          try {
            await g.U8.DetermineAvailableLocalizationForGroup(
              this.m_cancelSignal,
            ),
              this.m_cancelSignal.token.reason ||
                this.setState({ bPrefetchingLanguages: !1 });
          } catch (e) {
            let t = (0, k.l)(e);
            console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
          }
        }
        OnCommitGroup() {}
        render() {
          const {
              closeModal: e,
              primaryLocalizedImage: t,
              clanSteamID: a,
              rgRealmList: n,
              fnLangHasData: l,
              appid: r,
              eventModel: i,
              partnerEventStore: o,
            } = this.props,
            { bPrefetchingLanguages: c, imageSize: m } = this.state,
            p = !c && m,
            d = m ? ` - ${m.width}x${m.height}` : "",
            u = g.aN.GetExtensionStringForFileType(t.file_type).slice(1),
            E = m && { width: m.width, height: m.height },
            I = g.aN.GenerateArtworkURLFromHashAndExtensions(
              a,
              g.aN.GetHashAndExt(t),
            );
          return s.createElement(
            C.RG,
            {
              onOK: this.OnCommitGroup,
              bAllowFullSize: !0,
              onCancel: e,
              closeModal: e,
            },
            s.createElement(b.h4, null, (0, f.Xx)("#ImagePickerLoc_Title")),
            s.createElement(
              b.uT,
              null,
              s.createElement(
                b.Ac,
                null,
                s.createElement(
                  "div",
                  { className: v().FlexRowContainer },
                  s.createElement(
                    "span",
                    { className: v().FlexColumnContainer },
                    s.createElement(
                      "div",
                      null,
                      (0, f.Xx)("#ImagePickerLoc_Default"),
                      " ",
                      s.createElement(
                        "span",
                        {
                          "data-tooltip-text": (0, f.Xx)(
                            "#ImagePickerLoc_Default_Hint",
                          ),
                        },
                        " (?)",
                      ),
                    ),
                    s.createElement("img", { className: U.TitleImg, src: I }),
                    s.createElement("div", null, t.file_name + d + " - " + u),
                  ),
                ),
                !p &&
                  s.createElement(S.V, {
                    position: "center",
                    string: (0, f.Xx)("#Loading"),
                  }),
                p &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(w.p, {
                      clanSteamID: a,
                      rgSupportArtwork: [],
                      localizedPrimaryImage: t,
                      forceResolution: E,
                      bAllowPreviousClanImageSelection: !0,
                      fnSetImageURL: this.props.fnSetImageURL,
                      rgRealmList: this.props.rgRealmList,
                    }),
                    s.createElement(
                      "div",
                      { className: U.ArtworkBar },
                      s.createElement(R.Yo, {
                        clanSteamID: a,
                        eventModel: i,
                        artworkType: "localized_image_group",
                        title: (0, f.Xx)("#ImagePickerLoc_Title"),
                        realms: n,
                        fnLangHasData: l,
                        appid: r,
                        fnGetImageHashAndExt: this.props.fnGetImageHash,
                        fnSetImageURL: this.props.fnSetImageURL,
                        partnerEventStore: o,
                      }),
                    ),
                  ),
              ),
            ),
          );
        }
      };
      (0, n.gn)([D.ak], y.prototype, "OnCommitGroup", null),
        (y = (0, n.gn)([i.Pi], y));
      var N,
        G = a(76696),
        O = a.n(G);
      function M(e) {
        const t = (0, s.useRef)(null);
        return (
          (0, s.useEffect)(() => {
            t.current?.showModal();
            const e = document.body.style.overflow;
            return (
              (document.body.style.overflow = "hidden"),
              () => {
                document.body.style.overflow = e;
              }
            );
          }, []),
          s.createElement(
            "dialog",
            {
              ref: t,
              className: O().LightboxDialog,
              onClose: () => e.onCloseRequest(),
              onKeyDown: (t) => {
                "ArrowRight" === t.key && e.nextSrc
                  ? e.onMoveNextRequest()
                  : "ArrowLeft" === t.key && e.prevSrc && e.onMovePrevRequest();
              },
            },
            e.prevSrc &&
              s.createElement(
                "div",
                {
                  className: (0, x.Z)(
                    O().LightboxImageContainer,
                    O().LightboxPrevImage,
                  ),
                  key: e.prevSrc,
                },
                s.createElement("img", { src: e.prevSrc }),
              ),
            s.createElement(
              "div",
              {
                className: (0, x.Z)(
                  O().LightboxImageContainer,
                  O().LightboxMainImage,
                ),
                key: e.mainSrc,
                onClick: (t) => {
                  "IMG" !== t.target.nodeName && e.onCloseRequest();
                },
              },
              s.createElement("img", { src: e.mainSrc }),
            ),
            e.nextSrc &&
              s.createElement(
                "div",
                {
                  className: (0, x.Z)(
                    O().LightboxImageContainer,
                    O().LightboxNextImage,
                  ),
                  key: e.nextSrc,
                },
                s.createElement("img", { key: e.nextSrc, src: e.nextSrc }),
              ),
            s.createElement(
              "div",
              { className: O().LightboxToolbar },
              s.createElement(
                "span",
                { className: O().LightboxImageTitle },
                e.imageTitle,
              ),
              s.createElement(
                "div",
                { className: O().LightboxToolbarButtons },
                e.toolbarButtons,
                s.createElement("button", {
                  className: O().LightboxCloseButton,
                  onClick: e.onCloseRequest,
                }),
              ),
            ),
            e.prevSrc &&
              s.createElement("button", {
                className: O().LightboxLeftButton,
                onClick: e.onMovePrevRequest,
              }),
            e.nextSrc &&
              s.createElement("button", {
                className: O().LightboxRightButton,
                onClick: e.onMoveNextRequest,
              }),
          )
        );
      }
      let T = class extends s.Component {
        static {
          N = this;
        }
        m_cancelSignal = r().CancelToken.source();
        m_searchInput = null;
        static m_uploaderCounter = 1;
        m_clanImageUploader = null;
        state = {
          filenameSearch: "",
          uploadToken: 0,
          bLoading: !g.U8.BHasLoadedClanImages(this.props.clanSteamID),
        };
        componentDidMount() {
          this.state.bLoading && this.HandleLoadClanImages();
        }
        componentDidUpdate(e) {
          (this.props.clanSteamID.GetAccountID() ==
            e.clanSteamID.GetAccountID() &&
            g.U8.BHasLoadedClanImages(this.props.clanSteamID)) ||
            (this.state.bLoading || this.setState({ bLoading: !0 }),
            this.HandleLoadClanImages());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        HandleLoadClanImages() {
          g.U8.LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
            .then(() => {
              this.m_cancelSignal.token.reason ||
                this.setState({ bLoading: !1 });
            })
            .catch((e) => {
              let t = (0, k.l)(e);
              console.error(
                "ClanImagePicker Failed: " +
                  t.strErrorMsg +
                  " errCode: " +
                  t.strErrorMsg,
              ),
                this.m_cancelSignal.token.reason ||
                  this.setState({ bLoading: !1, strErrMsg: t.strErrorMsg });
            });
        }
        onUploaderDismiss() {
          this.setState({
            filenameSearch: this.state.filenameSearch,
            uploadToken: null,
          });
        }
        async OnDropFiles(e) {
          if (e && e.length > 0) {
            this.m_clanImageUploader = new m.S(this.props.clanSteamID);
            let t = !0;
            for (let a = 0; t && a < Array.from(e).length; a++) {
              let n = e.item(a);
              (t = await this.m_clanImageUploader.AddImage(n, 0, null)),
                t ||
                  (console.error(
                    "ClanImagePicker.OnDropFiles: failed on i=" +
                      a +
                      " file=" +
                      n.name,
                  ),
                  (0, A.AM)(
                    s.createElement(C.JX, {
                      strDescription: (0, f.Xx)("#ImagePicker_Error", n.name),
                    }),
                    window,
                  ));
            }
            return (
              t &&
                (this.setState({
                  filenameSearch: "",
                  uploadToken: ++N.m_uploaderCounter,
                }),
                this.m_clanImageUploader.UploadAllImages(
                  this.props.rgRealmList,
                  p.U.Get().GetCurEditLanguage(),
                )),
              t
            );
          }
          return !1;
        }
        GetLastUploadFiles() {
          return this.m_clanImageUploader
            ? this.m_clanImageUploader.GetFilesToUpload()
            : null;
        }
        BFileUploadCompleted(e) {
          return (
            !!this.m_clanImageUploader &&
            this.m_clanImageUploader.BIsFileCompleted(e)
          );
        }
        OnExpandImage(e) {
          if (e && this.props.bShowLightBox) {
            let t = g.U8.GetFilteredClanImages(
                this.props.clanSteamID,
                this.state.filenameSearch.trim().toLowerCase(),
              ),
              a = t.findIndex((t, a, n) => e.imageid == t.imageid);
            a >= 0 && this.setState({ photoIndex: a, filteredClanImages: t });
          }
        }
        OnExpandExitImage() {
          this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
        }
        OnHandleExpandedFullSize() {
          this.InternalHandleExpandedAction(c.f.k_eInsertFullImage);
        }
        OnHandleExpandedThumbnail() {
          this.InternalHandleExpandedAction(c.f.k_eInsertThumbnail);
        }
        OnHandleOpenLocalizedImageGroup() {
          null != this.state.photoIndex &&
            this.InternalOpenLocalizeImageGroup(
              this.state.filteredClanImages[this.state.photoIndex],
            );
        }
        InternalHandleExpandedAction(e) {
          if (null != this.state.photoIndex) {
            const t = this.state.filteredClanImages[this.state.photoIndex];
            this.OnExpandExitImage(),
              requestAnimationFrame(() => {
                this.props.imageInsertCallBack(t, e);
              });
          }
        }
        InternalOpenLocalizeImageGroup(e) {
          const { clanSteamID: t, partnerEventStore: a } = this.props;
          (0, A.AM)(
            s.createElement(y, {
              primaryLocalizedImage: e,
              appid: this.props.appid,
              eventModel: void 0,
              clanSteamID: t,
              fnSetImageURL: this.props.fnSetImageURL,
              rgRealmList: this.props.rgRealmList,
              fnLangHasData: this.props.fnLangHasData,
              fnGetImageHash: this.props.fnGetImageHash,
              partnerEventStore: a,
            }),
            window,
          );
        }
        render() {
          if (this.state.strErrMsg)
            return s.createElement(
              "div",
              null,
              s.createElement("div", null, (0, f.Xx)("#Error_Message")),
              s.createElement("div", null, this.state.strErrMsg),
              s.createElement(
                "div",
                {
                  className: (0, x.Z)(v().Button),
                  onClick: this.HandleLoadClanImages,
                },
                (0, f.Xx)("#Button_Retry"),
              ),
            );
          if (this.state.bLoading)
            return s.createElement(S.V, {
              position: "center",
              string: (0, f.Xx)("#Loading"),
            });
          let e = this.state.filteredClanImages,
            t = this.state.photoIndex;
          const { clanSteamID: a } = this.props;
          return s.createElement(
            "div",
            { className: (0, x.Z)(E().PickerContainer) },
            s.createElement(_.J, {
              fnSetImageSearch: (e) => this.setState({ filenameSearch: e }),
            }),
            s.createElement(
              "div",
              { className: E().ImagesContainer },
              s.createElement(d.D, {
                clanAccountID: a.GetAccountID(),
                fileNameSearch: this.state.filenameSearch,
                imageInsertCallBack: this.props.imageInsertCallBack,
                fnOnExpandImage: this.OnExpandImage,
                insertActions: this.props.insertActions,
                InternalOpenLocalizeImageGroup:
                  this.InternalOpenLocalizeImageGroup,
              }),
            ),
            this.state.uploadToken > 0 &&
              s.createElement(B, {
                key: "clanimageuploaderview" + this.state.uploadToken,
                uploader: this.m_clanImageUploader,
                onDismiss: this.onUploaderDismiss,
              }),
            !this.props.bHideDragAndDrop &&
              s.createElement(I.x, { onDropFiles: this.OnDropFiles }),
            null != t &&
              s.createElement(M, {
                mainSrc: e[t].url,
                mainSrcThumbnail: e[t].thumb_url,
                imageTitle: e[t].file_name,
                nextSrc: t < e.length - 1 ? e[t + 1].url : void 0,
                nextSrcThumbnail:
                  t < e.length - 1 ? e[t + 1].thumb_url : void 0,
                nextLabel: (0, f.Xx)("#ClanImage_Next"),
                prevLabel: (0, f.Xx)("#ClanImage_Prev"),
                closeLabel: (0, f.Xx)("#ClanImage_Close"),
                zoomInLabel: (0, f.Xx)("#ClanImage_ZoomIn"),
                zoomOutLabel: (0, f.Xx)("#ClanImage_ZoomOut"),
                imageLoadErrorMessage: (0, f.Xx)("#ClanImage_ImageLoadFailure"),
                prevSrc: t > 0 ? e[t - 1].url : void 0,
                prevSrcThumbnail: t > 0 ? e[t - 1].thumb_url : void 0,
                onMoveNextRequest: () => this.setState({ photoIndex: t + 1 }),
                onMovePrevRequest: () => this.setState({ photoIndex: t - 1 }),
                onCloseRequest: this.OnExpandExitImage,
                toolbarButtons: [
                  s.createElement(
                    "button",
                    {
                      key: "fullsize",
                      className: E().Full,
                      onClick: this.OnHandleExpandedFullSize,
                    },
                    (0, f.Xx)("#ImagePicker_FullSize"),
                  ),
                  s.createElement(
                    "button",
                    {
                      key: "thumbnail",
                      className: E().Full,
                      onClick: this.OnHandleExpandedThumbnail,
                    },
                    (0, f.Xx)("#ImagePicker_Thumbnail"),
                  ),
                ],
              }),
          );
        }
      };
      function B(e) {
        const { uploader: t, onDismiss: a } = e,
          [n, l] = (0, o.SZ)(() => [
            t.BAllDone(),
            !t.BAllDone() && !t.BHasError(),
          ]);
        return s.createElement(
          "div",
          { className: E().UploaderContainer },
          l &&
            s.createElement(
              "div",
              { className: E().UploaderRunning },
              s.createElement(
                "div",
                { className: E().UploaderDesc },
                (0, f.Xx)(
                  "#ImageUpload_Desc",
                  t.GetCompletedFiles(),
                  t.GetTotalFiles(),
                ),
              ),
              s.createElement(
                "button",
                {
                  className: "DialogButton",
                  onClick: () => {
                    t.CancelAllUploads(), a();
                  },
                },
                (0, f.Xx)("#Button_Cancel"),
              ),
            ),
          t.BHasError() &&
            s.createElement(
              "div",
              { className: E().UploadMessageAndButtonsContainer },
              s.createElement(
                "div",
                { className: E().UploadError },
                (0, f.Xx)(
                  "#ImageUpload_Error",
                  t.GetLastErrorFile().file.name,
                  t.GetLastErrorFile().status,
                  t.GetLastErrorFile().message,
                ),
              ),
              s.createElement(
                "button",
                { className: E().UploadButtonCancel, onClick: a },
                (0, f.Xx)("#Button_Cancel"),
              ),
              s.createElement(
                "button",
                {
                  className: E().UploadButtonRetry,
                  onClick: () => t.RetryAllFailedUploads(),
                },
                (0, f.Xx)("#Button_Retry"),
              ),
            ),
          Boolean(n) &&
            s.createElement(
              "div",
              { className: E().UploadMessageAndButtonsContainer },
              s.createElement(
                "div",
                { className: E().UploadSuccess },
                (0, f.Xx)("#ImageUpload_Success"),
              ),
            ),
        );
      }
      (0, n.gn)([D.ak], T.prototype, "HandleLoadClanImages", null),
        (0, n.gn)([D.ak], T.prototype, "onUploaderDismiss", null),
        (0, n.gn)([D.ak], T.prototype, "OnDropFiles", null),
        (0, n.gn)([D.ak], T.prototype, "OnExpandImage", null),
        (0, n.gn)([D.ak], T.prototype, "OnExpandExitImage", null),
        (0, n.gn)([D.ak], T.prototype, "OnHandleExpandedFullSize", null),
        (0, n.gn)([D.ak], T.prototype, "OnHandleExpandedThumbnail", null),
        (0, n.gn)([D.ak], T.prototype, "OnHandleOpenLocalizedImageGroup", null),
        (0, n.gn)([D.ak], T.prototype, "InternalHandleExpandedAction", null),
        (0, n.gn)([D.ak], T.prototype, "InternalOpenLocalizeImageGroup", null),
        (T = N = (0, n.gn)([i.Pi], T));
    },
    36595: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
    57028: (e, t, a) => {
      "use strict";
      a.d(t, { Z: () => n });
      const n =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
  },
]);
