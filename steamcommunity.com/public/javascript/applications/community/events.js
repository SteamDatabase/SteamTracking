/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(window.webpackJsonp = window.webpackJsonp || []).push([
  [12],
  {
    "+w6J": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return R;
      });
      var n = a("mrSG"),
        i = a("fcuX"),
        l = a("KP/B"),
        r = a("mHFc"),
        o = a("i3zJ"),
        s = a("CoyA"),
        c = a("Zan1"),
        d = a("oqmg"),
        m = a("TyAF"),
        u = a("q1tI"),
        p = (a("65aj"), a("BBEf")),
        _ = (a("3+zv"), a("C4Nl")),
        g = a("35zc"),
        b = a("Mgs7"),
        E = a("IjL/"),
        h = a("qP7j"),
        v = a("fpVW"),
        S = a("gyoR"),
        f = a("YLyR"),
        O = a("Jqb/"),
        C = a("ka0M"),
        y = a("0rc7"),
        T = a("0OaU"),
        j = a("5E+2"),
        I = a("DisI"),
        D = a("UvY0"),
        G = a("r64O"),
        w = a("exH9"),
        A = a("X3Ds"),
        M = a("TLQK"),
        k = a("opsS"),
        B = a("as1E"),
        N = a("JiI5");
      const L = -1;
      let R = class extends u.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              nImportCapsuleVisibiltyIndex: L,
              nShowVisibilityIndexOnly: L,
            });
        }
        RemoveCapsule(e) {
          const { capsuleContainer: t, editModel: a } = this.props;
          Object(G.a)(
            e >= 0 && e < t.capsules.length,
            "Remove capsule called outside of range: " +
              e +
              " len: " +
              t.capsules.length
          ),
            e >= 0 &&
              e < t.capsules.length &&
              (t.capsules.splice(e, 1), a.SetDirty(i.d.jsondata_sales));
        }
        AddCapsule(e, t) {
          const a = {
            id: e,
            type: t,
            visibility_index:
              this.state.nImportCapsuleVisibiltyIndex == L
                ? void 0
                : this.state.nImportCapsuleVisibiltyIndex,
          };
          this.props.capsuleContainer.capsules.push(a),
            Object(S.g)([a], p.e),
            this.props.editModel.SetDirty(i.d.jsondata_sales);
        }
        CountCapsPerVisibilityIndex() {
          const { capsuleContainer: e, editModel: t } = this.props;
          if (e.capsules) {
            const a = t.GetNumberOfDays();
            let n = new Array(a);
            n.fill(0);
            let i = !1;
            return (
              e.capsules.forEach((e) => {
                if (void 0 !== (null == e ? void 0 : e.visibility_index)) {
                  for (; n.length <= e.visibility_index; ) n.push(0);
                  (i = !0), (n[e.visibility_index] += 1);
                }
              }),
              i ? n : void 0
            );
          }
        }
        ImportSaleItems(e) {
          Object(C.d)(
            u.createElement(c.a, { fnAddCapsule: this.AddCapsule }),
            Object(A.o)(e)
          );
        }
        OnChangeVisibilityDate(e) {
          this.setState({ nImportCapsuleVisibiltyIndex: e });
        }
        OnVisibilityIndexFilterChange(e) {
          this.setState({ nShowVisibilityIndexOnly: e });
        }
        OnRemoveAllPrompt() {
          Object(C.d)(
            u.createElement(O.e, {
              strTitle: Object(M.f)("#Sale_RemoveAllConfirm_Title"),
              strDescription: Object(M.f)("#Sale_RemoveAllConfirm_Body"),
              onOK: this.OnRemoveAllConfirmed,
            }),
            window
          );
        }
        OnRemoveAllConfirmed() {
          let { capsuleContainer: e } = this.props;
          (e.capsules = []), this.props.editModel.SetDirty(i.d.jsondata_sales);
        }
        OnEditRaw(e) {
          Object(C.d)(
            u.createElement(F, {
              editModel: this.props.editModel,
              capsuleContainer: this.props.capsuleContainer,
            }),
            Object(A.o)(e)
          );
        }
        OnUseTagFilterChangeConfirmed(e) {
          var t, a;
          const { capsuleContainer: n, editModel: r } = this.props;
          if (e) {
            const e = Object(l.o)(r);
            (n.sale_tag_filter = { clauses: new Array() }),
              (n.capsules = Object(l.s)(e, n.sale_tag_filter, n.capsules));
          } else
            (null ===
              (a =
                null === (t = n.sale_tag_filter) || void 0 === t
                  ? void 0
                  : t.clauses) || void 0 === a
              ? void 0
              : a.length) || (n.capsules = []),
              (n.sale_tag_filter = null);
          r.SetDirty(i.d.jsondata_sales);
        }
        OnUseTagFilterChange(e) {
          var t;
          const { capsuleContainer: a, editModel: n } = this.props;
          if (e) {
            if (a.sale_tag_filter) return;
            a.capsules.length
              ? Object(C.d)(
                  u.createElement(O.e, {
                    strTitle: Object(M.f)("#Sale_TaggedItemFilter_EnableTitle"),
                    strDescription: Object(M.f)(
                      "#Sale_TaggedItemFilter_EnableDescription"
                    ),
                    onOK: () => this.OnUseTagFilterChangeConfirmed(!0),
                  }),
                  window
                )
              : this.OnUseTagFilterChangeConfirmed(!0);
          } else {
            if (!a.sale_tag_filter) return;
            (
              null === (t = a.sale_tag_filter.clauses) || void 0 === t
                ? void 0
                : t.length
            )
              ? Object(C.d)(
                  u.createElement(O.e, {
                    strTitle: Object(M.f)(
                      "#Sale_TaggedItemFilter_DisableTitle"
                    ),
                    strDescription: Object(M.f)(
                      "#Sale_TaggedItemFilter_DisableDescription"
                    ),
                    onOK: () => this.OnUseTagFilterChangeConfirmed(!1),
                  }),
                  window
                )
              : this.OnUseTagFilterChangeConfirmed(!1);
          }
        }
        renderFilterView() {
          const { editModel: e, capsuleContainer: t } = this.props,
            a =
              Object(M.f)(
                this.props.titleLocToken ||
                  "#Sale_Section_FilteredProducts_Title"
              ) +
              " - " +
              t.capsules.length,
            n = Object(M.f)(
              this.props.ttipLocToken ||
                "#Sale_Section_FilteredProducts_Tooltip"
            ),
            l = "ShowFilterItems_" + this.props.uniqueKey,
            o = Object(r.a)(l, !0);
          return u.createElement(
            E.a,
            null,
            u.createElement(
              "div",
              { className: B.FilterDisplayCtn },
              u.createElement(d.c, { editModel: e, capsuleContainer: t }),
              u.createElement(
                "div",
                { className: B.SaleSectionTitleHeader },
                u.createElement(
                  "div",
                  { className: v.EventEditorTextTitle },
                  a,
                  u.createElement(I.b, { tooltip: n })
                ),
                u.createElement(I.a, {
                  bIsMinimized: o,
                  fnToggleMinimize: () => Object(r.d)(l, !0),
                })
              ),
              !o &&
                u.createElement(
                  "div",
                  {
                    className: Object(w.a)(
                      v.FlexColumnContainer,
                      v.EventDefaultRowContainer
                    ),
                  },
                  u.createElement(y.a, {
                    items: t.capsules,
                    onReorder: () => e.SetDirty(i.d.jsondata_sales),
                    render: (e) =>
                      u.createElement(s.a, { capsule: e, capsuleContainer: t }),
                  })
                )
            )
          );
        }
        OnSelectDiscountEvent(e) {
          Object(C.d)(
            u.createElement(o.a, {
              onDiscountEventSelected: (e, t) => {
                const a =
                    this.state.nImportCapsuleVisibiltyIndex == L
                      ? void 0
                      : this.state.nImportCapsuleVisibiltyIndex,
                  n = this.props.capsuleContainer;
                e.forEach((e) => {
                  if (!n.capsules.find((t) => t.id === e && "sub" !== t.type)) {
                    const t = _.a.Get().GetApp(e),
                      i = Object(g.a)(
                        null == t ? void 0 : t.GetStoreItemType(),
                        null == t ? void 0 : t.GetAppType()
                      );
                    n.capsules.push({ id: e, type: i, visibility_index: a });
                  }
                }),
                  t.forEach((e) => {
                    n.capsules.find((t) => t.id === e && "sub" === t.type) ||
                      n.capsules.push({
                        id: e,
                        type: "sub",
                        visibility_index: a,
                      });
                  }),
                  this.props.editModel.SetDirty(i.d.jsondata_sales);
              },
            }),
            Object(A.o)(e)
          );
        }
        renderItemView() {
          const { editModel: e, capsuleContainer: t } = this.props,
            a = [
              { label: Object(M.f)("#Sale_VisibilityIndex_Default"), data: L },
            ],
            n = e.GetNumberOfDays(),
            l = "ShowCapsuleItems_" + this.props.uniqueKey,
            o = Object(r.a)(l, !1);
          if (!this.props.disableDaySelection && n > 1)
            for (let t = 0; t < n; t++) {
              const i = 86400;
              let l = e.GetEventStartTime() + i * t;
              const r = {
                label: Object(M.m)(
                  t + 1 == n
                    ? "#Sale_VisibilityIndex_DayTimeOnward"
                    : "#Sale_VisibilityIndex_DayTime",
                  t + 1,
                  u.createElement(f.a, { dateAndTime: l, bSingleLine: !0 }),
                  u.createElement(f.a, { dateAndTime: l + i, bSingleLine: !0 })
                ),
                data: t,
              };
              a.push(r);
            }
          let c = this.CountCapsPerVisibilityIndex(),
            m = new Array();
          if (c) {
            let e = "CountFilter_Sale" + this.props.uniqueKey,
              t = "CountFilter_Sale" + this.props.uniqueKey + "_day_all";
            m.push(
              u.createElement(
                "div",
                {
                  key: "CountFilter_sale" + this.props.uniqueKey + "_" + L,
                  className: Object(w.a)(v.FlexRowContainer, v.RadioOption),
                },
                u.createElement("input", {
                  type: "radio",
                  name: e,
                  id: t,
                  value: L,
                  checked: L == this.state.nShowVisibilityIndexOnly,
                  onChange: () => this.OnVisibilityIndexFilterChange(L),
                }),
                u.createElement(
                  "label",
                  { htmlFor: t },
                  u.createElement(
                    "span",
                    null,
                    Object(M.f)("#Sale_VisibilityIndex_ShowAll")
                  )
                )
              )
            ),
              c.forEach((t, a) => {
                let n = "CountFilter_Sale" + this.props.uniqueKey + "_day_" + a;
                m.push(
                  u.createElement(
                    "div",
                    {
                      key: "CountFilter_sale" + this.props.uniqueKey + "_" + a,
                      className: Object(w.a)(v.FlexRowContainer, v.RadioOption),
                    },
                    u.createElement("input", {
                      type: "radio",
                      name: e,
                      id: n,
                      value: a,
                      checked: a == this.state.nShowVisibilityIndexOnly,
                      onChange: () => this.OnVisibilityIndexFilterChange(a),
                    }),
                    u.createElement(
                      "label",
                      { htmlFor: n },
                      u.createElement(
                        "span",
                        null,
                        Object(M.f)("#Sale_VisibilityIndex_ShowDay", a + 1, t)
                      )
                    )
                  )
                );
              });
          }
          const p =
              Object(M.f)(
                this.props.titleLocToken ||
                  "#Sale_Section_ReferencedProducts_Title"
              ) +
              " - " +
              t.capsules.length,
            _ = Object(M.f)(
              this.props.ttipLocToken ||
                "#Sale_Section_ReferencedProducts_Tooltip"
            );
          return u.createElement(
            E.a,
            null,
            u.createElement(
              "div",
              { className: B.SaleSectionTitleHeader },
              u.createElement(
                "div",
                { className: v.EventEditorTextTitle },
                p,
                u.createElement(I.b, { tooltip: _ })
              ),
              u.createElement(I.a, {
                bIsMinimized: o,
                fnToggleMinimize: () => Object(r.d)(l, !1),
              })
            ),
            !o &&
              u.createElement(
                "div",
                {
                  className: Object(w.a)(
                    v.FlexColumnContainer,
                    v.EventDefaultRowContainer
                  ),
                },
                Boolean(c && c.length > 0) &&
                  u.createElement(
                    "div",
                    { className: N.SaleVisibilityDateFilter },
                    u.createElement(
                      "span",
                      null,
                      Object(M.f)("#Sale_VisibilityIndex_ShowFilter")
                    ),
                    m
                  ),
                u.createElement(d.b, { onAddItem: this.AddCapsule }),
                u.createElement(
                  "div",
                  { className: N.SaleImportBar },
                  u.createElement(
                    j.a,
                    {
                      className: N.SaleImportBarTooltip,
                      toolTipContent: Object(M.f)("#Sale_RemoveAll_Tooltip"),
                    },
                    u.createElement(
                      b.f,
                      {
                        className: N.SaleImportBarButton,
                        onClick: this.OnRemoveAllPrompt,
                      },
                      Object(M.f)("#Sale_RemoveAll")
                    )
                  ),
                  u.createElement(
                    j.a,
                    {
                      className: N.SaleImportBarTooltip,
                      toolTipContent: Object(M.f)("#Sale_ImportItems_Tooltip"),
                    },
                    u.createElement(
                      b.f,
                      {
                        className: N.SaleImportBarButton,
                        onClick: this.ImportSaleItems,
                      },
                      Object(M.f)("#Sale_ImportItems")
                    )
                  ),
                  u.createElement(
                    j.a,
                    {
                      className: N.SaleImportBarTooltip,
                      toolTipContent: Object(M.f)("#Sale_EditRaw_Tooltip"),
                    },
                    u.createElement(
                      b.f,
                      {
                        className: N.SaleImportBarButton,
                        onClick: this.OnEditRaw,
                      },
                      Object(M.f)("#Sale_EditRaw")
                    )
                  ),
                  u.createElement(
                    D.b,
                    { requireAdmin: !0, clanSteamID: e.GetClanSteamID() },
                    u.createElement(
                      j.a,
                      {
                        className: N.SaleImportBarTooltip,
                        toolTipContent: Object(M.f)("#Sale_DiscountEvent_ttip"),
                      },
                      u.createElement(
                        b.f,
                        {
                          className: N.SaleImportBarButton,
                          onClick: this.OnSelectDiscountEvent,
                        },
                        Object(M.f)("#Sale_DiscountEvent_Add")
                      )
                    )
                  )
                ),
                u.createElement(y.a, {
                  bDisabled: this.state.nShowVisibilityIndexOnly != L,
                  items:
                    this.state.nShowVisibilityIndexOnly === L
                      ? t.capsules
                      : t.capsules.filter(
                          (e) =>
                            null == e.visibility_index ||
                            e.visibility_index ==
                              this.state.nShowVisibilityIndexOnly
                        ),
                  onDelete: this.RemoveCapsule,
                  onReorder: () =>
                    this.props.editModel.SetDirty(i.d.jsondata_sales),
                  render: (e) =>
                    u.createElement(s.a, { capsule: e, capsuleContainer: t }),
                }),
                a.length > 1 &&
                  u.createElement(b.n, {
                    strDropDownClassName: v.DropDownScroll,
                    label: Object(M.f)("#Sale_VisibilityIndex_Label"),
                    rgOptions: a,
                    selectedOption: this.state.nImportCapsuleVisibiltyIndex,
                    onChange: (e) => this.OnChangeVisibilityDate(e.data),
                    bDisableMouseOverlay: !0,
                    contextMenuPositionOptions: {
                      bDisableMouseOverlay: !0,
                      bDisablePopTop: !0,
                    },
                    disabled: 1 == a.length,
                    strClassName: N.SaleDaySelection,
                    tooltip: Object(M.f)("#Sale_VisibilityIndex_Tooltip"),
                  })
              )
          );
        }
        render() {
          const { editModel: e, capsuleContainer: t } = this.props,
            a = Boolean(t.sale_tag_filter),
            n =
              a ||
              e.GetEventModel().GetTaggedItems().length > 0 ||
              e.GetEventModel().BUsesContentHubForItemSource();
          return u.createElement(
            E.a,
            null,
            n &&
              u.createElement(b.M, {
                onChange: this.OnUseTagFilterChange,
                label: Object(M.f)("#Sale_TaggedItemFilter"),
                description: t.sale_tag_filter
                  ? ""
                  : Object(M.f)("#Sale_TaggedItemFilterDescription"),
                checked: Boolean(t.sale_tag_filter),
              }),
            a && this.renderFilterView(),
            !a && this.renderItemView()
          );
        }
      };
      Object(n.b)([k.b], R.prototype, "RemoveCapsule", null),
        Object(n.b)([k.b], R.prototype, "AddCapsule", null),
        Object(n.b)([k.b], R.prototype, "ImportSaleItems", null),
        Object(n.b)([k.b], R.prototype, "OnChangeVisibilityDate", null),
        Object(n.b)([k.b], R.prototype, "OnVisibilityIndexFilterChange", null),
        Object(n.b)([k.b], R.prototype, "OnRemoveAllPrompt", null),
        Object(n.b)([k.b], R.prototype, "OnRemoveAllConfirmed", null),
        Object(n.b)([k.b], R.prototype, "OnEditRaw", null),
        Object(n.b)([k.b], R.prototype, "OnUseTagFilterChangeConfirmed", null),
        Object(n.b)([k.b], R.prototype, "OnUseTagFilterChange", null),
        Object(n.b)([k.b], R.prototype, "OnSelectDiscountEvent", null),
        (R = Object(n.b)([m.a], R));
      let F = class extends u.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bImporting: !1,
              editValue: this.PopulateInitialEditField(),
            });
        }
        PopulateInitialEditField() {
          var e;
          const { capsuleContainer: t } = this.props;
          let a = !1;
          t.capsules.forEach(
            (e) =>
              (a = a || void 0 !== (null == e ? void 0 : e.visibility_index))
          );
          let n = "";
          for (const i of t.capsules) {
            if (!i) continue;
            const t =
              (null ===
                (e = _.a.Get().GetStoreItem(i.id, Object(g.d)(i.type))) ||
              void 0 === e
                ? void 0
                : e.GetName()) || "";
            let l = `${i.id}\t${i.type}`;
            void 0 !== i.visibility_index
              ? (l += `\tDay ${i.visibility_index}`)
              : a && (l += "\t"),
              t && (l += `\t"${t}"`),
              (n += `${l}\n`);
          }
          return n;
        }
        ParseCapsuleInfoFromLine(e) {
          let t = e + " ";
          const a = /^\s*([0-9]+)\W+(.*)/.exec(t);
          if (!a) return;
          let n = { id: parseInt(a[1]), type: "game" };
          t = a[2];
          const i = /^(game|software|dlc|bundle|video|sub|event|tag|music|hardware)\W+(.*)/i.exec(
            t
          );
          i && ((n.type = i[1]), (t = i[2]));
          const l = /^day\s+(\d+)\W+/i.exec(t);
          return l && (n.visibility_index = parseInt(l[1])), n;
        }
        OnCompleteEdit() {
          this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
        }
        DoImport() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { editModel: e, capsuleContainer: t } = this.props;
            let a = new Array();
            const n = this.state.editValue.split("\n");
            for (const e of n) {
              const t = this.ParseCapsuleInfoFromLine(e);
              t && a.push(t);
            }
            yield Object(S.g)(a, p.e);
            let l = "";
            const r = e.GetNumberOfDays();
            for (const e of a)
              if (void 0 !== e.visibility_index && e.visibility_index >= r) {
                l = Object(M.f)(
                  "#Sale_EditRaw_Error_InvalidDay",
                  e.id,
                  e.visibility_index
                );
                break;
              }
            this.setState({ bImporting: !1, errMsg: l }),
              l ||
                (JSON.stringify(t.capsules) !== JSON.stringify(a) &&
                  ((t.capsules = a), e.SetDirty(i.d.jsondata_sales)),
                this.props.closeModal());
          });
        }
        OnTextChange(e) {
          this.setState({ editValue: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return u.createElement(
            O.f,
            {
              onCancel: e,
              closeModal: e,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              bHideCloseIcon: this.state.bImporting,
            },
            u.createElement(b.z, null, Object(M.f)("#Sale_EditRaw_Title")),
            u.createElement(
              b.d,
              null,
              u.createElement("div", null, Object(M.f)("#Sale_EditRaw_Desc_1")),
              u.createElement("div", null, Object(M.f)("#Sale_EditRaw_Desc_2")),
              u.createElement(
                "div",
                { className: B.EditRawExample },
                Object(M.f)("#Sale_EditRaw_Example_Title")
              ),
              u.createElement(
                "div",
                { className: B.EditRawExample },
                Object(M.f)("#Sale_EditRaw_Example_1")
              ),
              u.createElement(
                "div",
                { className: B.EditRawExample },
                Object(M.f)("#Sale_EditRaw_Example_2")
              ),
              u.createElement(
                "div",
                { className: B.EditRawExample },
                Object(M.f)("#Sale_EditRaw_Example_3")
              ),
              Boolean(this.state.errMsg) &&
                u.createElement(
                  "p",
                  { className: h.ErrorStyles },
                  this.state.errMsg
                ),
              this.state.bImporting &&
                u.createElement(T.a, { size: "medium", position: "center" }),
              !this.state.bImporting &&
                u.createElement("textarea", {
                  className: B.EditRawTextArea,
                  value: this.state.editValue,
                  cols: 40,
                  rows: 30,
                  onChange: this.OnTextChange,
                })
            ),
            !this.state.bImporting &&
              u.createElement(
                b.r,
                null,
                u.createElement(
                  b.G,
                  { onClick: this.OnCompleteEdit, disabled: !1 },
                  Object(M.f)("#Button_Confirm"),
                  " "
                ),
                u.createElement(
                  b.f,
                  { onClick: e, disabled: !1 },
                  Object(M.f)("#Button_Cancel")
                )
              )
          );
        }
      };
      Object(n.b)([k.b], F.prototype, "OnCompleteEdit", null),
        Object(n.b)([k.b], F.prototype, "DoImport", null),
        Object(n.b)([k.b], F.prototype, "OnTextChange", null),
        (F = Object(n.b)([m.a], F));
    },
    "1fPh": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return l;
      }),
        a.d(t, "b", function () {
          return r;
        }),
        a.d(t, "c", function () {
          return o;
        });
      a("65aj");
      var n = a("lkRc");
      const i = () => (n.b.IS_OGG ? "games" : "groups"),
        l = {
          EditorRoutes: (e) => `/${i()}/${e}/partnerevents`,
          Home: (e) => `/${i()}/${e}/partnerevents`,
          Create: (e) => `/${i()}/${e}/partnerevents/create`,
          Category: (e, t) => `/${i()}/${e}/partnerevents/category/${t}`,
          Edit: (e, t) => `/${i()}/${e}/partnerevents/edit/${t}`,
          EditRedirectToCategory: (e) => `/${i()}/${e}/partnerevents/edit`,
          Preview: (e, t) => `/${i()}/${e}/partnerevents/preview/${t}`,
          PreviewSale: (e, t) => `/${i()}/${e}/partnerevents/previewsale/${t}`,
          View: (e, t) => `/${i()}/${e}/partnerevents/view/${t}`,
          List: (e) => `/${i()}/${e}/partnerevents/list`,
          Publish: (e, t) => `/${i()}/${e}/partnerevents/publish/${t}`,
          Migrate: (e, t) =>
            `/${i()}/${e}/partnerevents/migrate_announcement/${t}`,
          MigrateCategory: (e, t) =>
            `/${i()}/${e}/partnerevents/migrate_category_announcement/${t}`,
          ViewOldAnnouncement: (e, t) =>
            `/${i()}/${e}/partnerevents/view_old_announcement/${t}`,
          PreviewOldAnnouncement: (e, t) =>
            `/${i()}/${e}/partnerevents/preview_old_announcement/${t}`,
          DiagData: () => `/${i()}/:anything*/diagdata`,
        },
        r = {
          MigrateEvents: () => "/(migrateevents|migrate)",
          MigrateSaleEvents: () => "/migrate/migratesale",
        },
        o = {
          ViewEventDetails: (e, t) => `/${i()}/${e}/announcements/detail/${t}`,
          Listing: (e) => `/${i()}/${e}/announcements/(listing)?`,
          WorkshopHub: (e) => `/app/${e}/workshop/`,
          AppHub: (e) => `/app/${e}`,
          GroupHub: (e) => `/groups/${e}`,
          DiagData: () => `/${i()}/:anything*/diagdata`,
        };
    },
    "226m": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return s;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = (a("AiWL"), a("OS6B")),
        o = a("lkRc");
      class s {
        constructor() {
          this.m_mapOptInData = new Map();
        }
        static Get() {
          return (
            this.s_Singleton || (this.s_Singleton = new s()), this.s_Singleton
          );
        }
        ForceLoadOptInPage(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let t = {
              sessionid: o.c.SESSIONID,
              origin: self.origin,
              cc: o.c.COUNTRY || "US",
              l: o.c.LANGUAGE,
              saleid: e,
            };
            const a = o.c.COMMUNITY_BASE_URL + "sale/ajaxoptinsummary";
            let n = null;
            try {
              n = (yield l.a.get(a, { params: t })).data;
            } catch (e) {
              console.error(
                "Failed getting opt in summary: " + Object(r.a)(e).strErrorMsg
              );
            }
            return this.AddOptInPageToCache(e, n), n;
          });
        }
        AddOptInPageToCache(e, t) {
          const a = new Map();
          if (t && t.success) for (const e of t.opted_in) a.set(e.appid, e);
          this.m_mapOptInData.set(e, a);
        }
        HintLoadOptInPageData(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.GetOptInPageData(e) || (yield this.ForceLoadOptInPage(e));
          });
        }
        GetOptInPageData(e) {
          return this.m_mapOptInData.get(e);
        }
      }
    },
    "3USw": function (e, t, a) {
      e.exports = {
        SectionTitleHeader: "collapseablesection_SectionTitleHeader_2g5oN",
        required_title: "collapseablesection_required_title_3yDPZ",
      };
    },
    "3yM6": function (e, t, a) {
      e.exports = { SearchResults: "partnersaledebug_SearchResults_26iJ3" };
    },
    "46hJ": function (e, t, a) {
      e.exports = {
        ApprovalRequiredCtn:
          "requirevalvepublishapproval_ApprovalRequiredCtn_2pKjC",
        Right: "requirevalvepublishapproval_Right_2lUXd",
        Title: "requirevalvepublishapproval_Title_Oc0UN",
      };
    },
    "48GZ": function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return A;
      }),
        a.d(t, "a", function () {
          return M;
        });
      var n = a("mrSG"),
        i = a("fcuX"),
        l = a("wUcC"),
        r = a("+w6J"),
        o = a("TyAF"),
        s = a("q1tI"),
        c = (a("Yamg"), a("65aj"), a("TtDX")),
        d = (a("Nsq5"), a("3+zv"), a("kLLr")),
        m = a("U+Q5"),
        u = a("Mgs7"),
        p = a("h5LU"),
        _ = a("fpVW"),
        g = a("6AJf"),
        b = a("NF5x"),
        E = a("Jqb/"),
        h = a("ka0M"),
        v = a("0rc7"),
        S = a("0OaU"),
        f = a("5E+2"),
        O = a("DisI"),
        C = a("OS6B"),
        y = a("exH9"),
        T = a("TLQK"),
        j = a("opsS"),
        I = a("lkRc"),
        D = a("NrWE"),
        G = a("as1E"),
        w = a("K3tN");
      const A = Object(o.a)((e) => {
        const { saleSection: t, editModel: a } = e,
          [n, i] = s.useState(null),
          l = Boolean(t.tabs && t.tabs.length > 0 && !n);
        return a
          .GetSaleSections()
          .reduce((e, t) => e + ("tabs" === t.section_type ? 1 : 0), 0) > 1
          ? s.createElement(
              "div",
              { className: G.TabsMultipleError },
              Object(T.f)("#Sale_Tabs_MultipleTabSections")
            )
          : s.createElement(
              "div",
              null,
              s.createElement(B, {
                saleSection: t,
                editModel: a,
                onTabSelected: i,
                selectedTab: n,
              }),
              l &&
                s.createElement(
                  "div",
                  { className: G.TabsSelectToEdit },
                  Object(T.f)("#Sale_Tabs_SelectTab")
                ),
              n &&
                s.createElement(N, {
                  tab: n,
                  editModel: a,
                  editLanguage: a.GetCurEditLanguage(),
                })
            );
      });
      function M(e, t) {
        let a = Object(g.f)(e, t);
        return a || (a = Object(T.f)("#Sale_Tabs_UnnamedTab", e.unique_id)), a;
      }
      const k = Object(o.a)((e) => {
        var t, a;
        const { tab: n, language: i } = e,
          l = M(e.tab, e.language),
          r =
            e.tab.capsules.length > 0
              ? Object(T.f)(
                  "#Sale_Tabs_TitleItemCount",
                  l,
                  e.tab.capsules.length
                )
              : Object(T.f)("#Sale_Tabs_TitleShowAllItems", l),
          o =
            null !== (t = e.overrideStyle) && void 0 !== t
              ? t
              : Object(b.a)(e.selected, e.section);
        let c = null;
        if (
          (null === (a = n.tab_bar_bg_image) || void 0 === a
            ? void 0
            : a.length) > 0
        ) {
          const e = new d.a(I.b.CLANSTEAMID);
          c = m.a.GenerateArtworkURLFromHashAndExtensions(
            e,
            n.tab_bar_bg_image
          );
        }
        return s.createElement(
          "div",
          {
            className: Object(y.a)(
              G.TabsSelectorEntry,
              e.selected && G.TabsSelectorEntrySelected
            ),
            style: o,
            onClick: () => e.onSelected(e.tab),
          },
          s.createElement("span", null, r),
          Boolean(c) &&
            s.createElement("img", { className: w.ImgPreview, src: c })
        );
      });
      let B = class extends s.Component {
        GenerateUniqueID() {
          const e = this.props.saleSection.tabs;
          return (e ? e.reduce((e, t) => Math.max(t.unique_id, e), 0) : 0) + 1;
        }
        OnAddTab() {
          this.props.saleSection.tabs || (this.props.saleSection.tabs = []);
          const e = {
            unique_id: this.GenerateUniqueID(),
            default_label: null,
            localized_label: null,
            capsules: [],
          };
          this.props.saleSection.tabs.push(e),
            this.props.editModel.SetDirty(i.d.jsondata_sales);
        }
        OnDeleteTabPrompt(e) {
          const t = this.props.saleSection.tabs[e];
          Object(h.d)(
            s.createElement(E.e, {
              strTitle: Object(T.f)("#Sale_Tabs_DeletePrompt_Title"),
              strDescription: Object(T.f)(
                "#Sale_Tabs_DeletePrompt_Body",
                M(t, this.props.editModel.GetCurEditLanguage())
              ),
              onOK: () => this.OnDeleteTabConfirmed(t),
            }),
            window
          );
        }
        OnSelectTab(e) {
          this.props.onTabSelected(e);
        }
        OnDeleteTabConfirmed(e) {
          (this.props.saleSection.tabs = this.props.saleSection.tabs.filter(
            (t) => t != e
          )),
            this.props.editModel.SetDirty(i.d.jsondata_sales),
            this.props.selectedTab === e && this.OnSelectTab(null);
        }
        RenderTab(e) {
          const t = e === this.props.selectedTab;
          return s.createElement(k, {
            section: this.props.saleSection,
            selected: t,
            tab: e,
            onSelected: this.OnSelectTab,
            language: this.props.editModel.GetCurEditLanguage(),
            overrideStyle: t
              ? { color: "#000000", background: "#d3d3d3" }
              : { color: "#FFFFFF", background: "" },
          });
        }
        RenderTabs() {
          return this.props.saleSection.tabs
            ? s.createElement(v.a, {
                items: this.props.saleSection.tabs,
                onDelete: this.OnDeleteTabPrompt,
                onReorder: () =>
                  this.props.editModel.SetDirty(i.d.jsondata_sales),
                render: this.RenderTab,
              })
            : null;
        }
        render() {
          return s.createElement(
            "div",
            null,
            s.createElement(R, {
              section: this.props.saleSection,
              editModel: this.props.editModel,
            }),
            s.createElement(
              "div",
              { className: w.CurrentTabsCtn },
              s.createElement(
                "div",
                { className: _.EventEditorTextTitle },
                Object(T.f)("#Sale_Tabs_Current"),
                s.createElement(O.b, {
                  tooltip: Object(T.f)("#Sale_Tabs_Current_ttip"),
                })
              ),
              s.createElement(
                "div",
                { className: w.AddButton },
                s.createElement(
                  f.a,
                  { toolTipContent: Object(T.f)("#Sale_Tabs_AddTab_ttip") },
                  s.createElement(
                    u.G,
                    { onClick: () => this.OnAddTab() },
                    Object(T.f)("#Sale_Tabs_AddTab")
                  )
                )
              ),
              this.RenderTabs()
            )
          );
        }
      };
      Object(n.b)([j.b], B.prototype, "OnAddTab", null),
        Object(n.b)([j.b], B.prototype, "OnDeleteTabPrompt", null),
        Object(n.b)([j.b], B.prototype, "OnSelectTab", null),
        Object(n.b)([j.b], B.prototype, "RenderTab", null),
        (B = Object(n.b)([o.a], B));
      let N = class extends s.Component {
        constructor() {
          super(...arguments), (this.state = { bShowItemListing: !1 });
        }
        componentDidUpdate(e, t) {
          this.props.tab !== e.tab && this.setState({ bShowItemListing: !1 });
        }
        OnTitleChange(e) {
          (this.props.tab.default_label = e),
            this.props.editModel.SetDirty(i.d.jsondata_sales);
        }
        OnSetCustomTitle(e) {
          const { tab: t, editLanguage: a, editModel: n } = this.props;
          n.SetSaleSectionTabName(a, t, e);
        }
        OnClearCustomTitle() {
          const { tab: e, editLanguage: t, editModel: a } = this.props;
          a.SetSaleSectionTabName(t, e, "");
        }
        OnShowTabItems() {
          this.setState({ bShowItemListing: !0 });
        }
        RenderHideItemFilter() {
          return s.createElement(
            "div",
            { className: G.TabHideItemFilterCtn },
            Object(T.f)("#Sale_Tabs_ShowItems"),
            s.createElement(
              u.f,
              { onClick: this.OnShowTabItems },
              Object(T.f)("#Sale_Tabs_ShowItems_Button")
            )
          );
        }
        render() {
          const { tab: e, editLanguage: t, editModel: a } = this.props,
            n =
              this.state.bShowItemListing ||
              (e.capsules && e.capsules.length > 0);
          return s.createElement(
            "div",
            { className: w.SelectedTabDetailsCtn },
            s.createElement(
              "div",
              { className: _.EventEditorTextTitle },
              Object(T.f)("#Sale_Tabs_Title"),
              s.createElement(O.b, {
                tooltip: Object(T.f)("#Sale_Tabs_Title_ttip"),
              })
            ),
            s.createElement(l.a, {
              key: "TabName" + e.unique_id,
              default_label: e.default_label,
              localized_label: e.localized_label,
              editLanguage: t,
              onClearCustomTitle: this.OnClearCustomTitle,
              onSetCustomTitle: this.OnSetCustomTitle,
              onSetDefaultLabel: this.OnTitleChange,
            }),
            !n && this.RenderHideItemFilter(),
            n &&
              s.createElement(r.a, {
                key: "TabItems" + e.unique_id,
                capsuleContainer: e,
                editModel: this.props.editModel,
                uniqueKey: "Tab" + e.unique_id,
                disableDaySelection: !1,
                titleLocToken: "#Sale_Tabs_ItemTitle",
                ttipLocToken: "#Sale_Tabs_ItemTitle_ttip",
              }),
            s.createElement(F, { tab: e, editModel: a })
          );
        }
      };
      function L(e, t, a, n) {
        Object(c.a)(
          s.createElement(p.a, {
            onChange: (e) => {
              (t[n] = e), a.SetDirty(i.d.jsondata_sales);
            },
            color: t[n],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      Object(n.b)([j.b], N.prototype, "OnTitleChange", null),
        Object(n.b)([j.b], N.prototype, "OnSetCustomTitle", null),
        Object(n.b)([j.b], N.prototype, "OnClearCustomTitle", null),
        Object(n.b)([j.b], N.prototype, "OnShowTabItems", null),
        (N = Object(n.b)([o.a], N));
      let R = class extends s.Component {
        render() {
          const { section: e, editModel: t } = this.props,
            a = Object(b.a)(!1, e),
            n = Object(b.a)(!0, e);
          return s.createElement(
            "div",
            { style: { display: "flex" } },
            s.createElement(
              "div",
              { className: Object(y.a)(_.HalfColumn, w.ColorButtonsCtn) },
              s.createElement(
                "div",
                {
                  className: Object(y.a)(
                    _.EventEditorTextTitle,
                    w.EventEditorTextTitle
                  ),
                },
                Object(T.f)("#Sale_Tabs_Colors_Inactive"),
                " ",
                s.createElement(O.b, {
                  tooltip: Object(T.f)("#Sale_Tabs_Colors_Inactive_ttip"),
                })
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) => L(a, e, t, "tab_inactive_label_color"),
                  className: _.EventEditorTextTitle,
                  style: a,
                },
                Object(T.f)("#Sale_Section_TabInactive_Label_Color")
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) =>
                    L(a, e, t, "tab_inactive_background_gradient_top"),
                  className: _.EventEditorTextTitle,
                  style: a,
                },
                Object(T.f)("#Sale_Section_TabInactive_Background_Top")
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) =>
                    L(a, e, t, "tab_inactive_background_gradient_bottom"),
                  className: _.EventEditorTextTitle,
                  style: a,
                },
                Object(T.f)("#Sale_Section_TabInactive_Background_Bottom")
              )
            ),
            s.createElement(
              "div",
              { className: Object(y.a)(_.HalfColumn, w.ColorButtonsCtn) },
              s.createElement(
                "div",
                {
                  className: Object(y.a)(
                    _.EventEditorTextTitle,
                    w.EventEditorTextTitle
                  ),
                },
                Object(T.f)("#Sale_Tabs_Colors_Active"),
                " ",
                s.createElement(O.b, {
                  tooltip: Object(T.f)("#Sale_Tabs_Colors_Active_ttip"),
                })
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) => L(a, e, t, "tab_active_label_color"),
                  className: _.EventEditorTextTitle,
                  style: n,
                },
                Object(T.f)("#Sale_Section_TabActive_Label_Color")
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) =>
                    L(a, e, t, "tab_active_background_gradient_top"),
                  className: _.EventEditorTextTitle,
                  style: n,
                },
                Object(T.f)("#Sale_Section_TabActive_Background_Top")
              ),
              s.createElement(
                u.f,
                {
                  onClick: (a) =>
                    L(a, e, t, "tab_active_background_gradient_bottom"),
                  className: _.EventEditorTextTitle,
                  style: n,
                },
                Object(T.f)("#Sale_Section_TabActive_Background_Bottom")
              )
            )
          );
        }
      };
      R = Object(n.b)([o.a], R);
      const F = Object(o.a)((e) => {
        const { tab: t, editModel: a } = e,
          [l] = s.useState(new m.b(a.GetClanSteamID())),
          [r, o] = s.useState(!1);
        return s.createElement(
          "div",
          null,
          s.createElement(
            "div",
            null,
            Object(T.f)("#Sale_Tabs_Background_title")
          ),
          s.createElement(
            "div",
            null,
            Object(T.f)("#Sale_Tabs_Background_desc")
          ),
          s.createElement(D.b, {
            bAllowPreviousClanImages: !0,
            onDropFiles: (e) =>
              Object(n.a)(void 0, void 0, void 0, function* () {
                if (e && e.length > 0) {
                  o(!0);
                  const n = ["tab_bar_background"];
                  try {
                    if (yield l.AddImage(e[0], 0, n)) {
                      const e = yield l.UploadAllFiles(n),
                        r = e[Object.keys(e)[0]],
                        o = r ? m.a.GetExtensionString(r) : null,
                        s = r ? r.image_hash + o : null;
                      (t.tab_bar_bg_image = s), a.SetDirty(i.d.jsondata_sales);
                    } else
                      console.error(
                        "TabSaleBackgroundImageEditor.OnDropFiles: failed file=" +
                          e[0].name
                      ),
                        Object(h.d)(
                          s.createElement(E.g, {
                            strDescription: Object(T.f)(
                              "#ImagePicker_Error",
                              e[0].name
                            ),
                          }),
                          window
                        );
                  } catch (e) {
                    const t = Object(C.a)(e);
                    console.error(
                      "TabSaleBackgroundImageEditor: failed add " +
                        t.strErrorMsg,
                      t
                    );
                  } finally {
                    o(!1);
                  }
                } else console.log("TabSaleBackgroundImageEditor: error fnOnDropFiles file missing", e);
              }),
            OnClanImageSelected: (e, l) =>
              Object(n.a)(void 0, void 0, void 0, function* () {
                const n = e ? m.a.GetExtensionString(e) : null,
                  l = e ? e.image_hash + n : null;
                (t.tab_bar_bg_image = l), a.SetDirty(i.d.jsondata_sales);
              }),
            clanSteamID: a.GetClanSteamID(),
            fnSetImageURL: a.SetImageURL,
            rgRealmList: a.GetIncludedRealmList(),
          }),
          r &&
            s.createElement(S.a, {
              size: "medium",
              position: "center",
              string: Object(T.f)("#Uploading"),
            }),
          Boolean(t.tab_bar_bg_image) &&
            s.createElement("img", {
              src: m.a.GenerateArtworkURLFromHashAndExtensions(
                a.GetClanSteamID(),
                t.tab_bar_bg_image
              ),
            })
        );
      });
    },
    "4lry": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return F;
      }),
        a.d(t, "b", function () {
          return z;
        });
      var n = a("mrSG"),
        i = a("fcuX"),
        l = a("KP/B"),
        r = a("TyAF"),
        o = a("q1tI"),
        s = a("mgoM"),
        c = (a("65aj"), a("BBEf")),
        d = a("TtDX"),
        m = a("3+zv"),
        u = (a("SvTV"), a("sRB7"), a("C4Nl")),
        p = a("35zc"),
        _ = a("putg"),
        g = a("Mgs7"),
        b = a("h5LU"),
        E = a("IjL/"),
        h = a("dpTt"),
        v = a("vBFs"),
        S = a("gyoR"),
        f = a("Jqb/"),
        O = a("ka0M"),
        C = a("0rc7"),
        y = a("0OaU"),
        T = a("DisI"),
        j = a("UvY0"),
        I = a("exH9"),
        D = a("TLQK"),
        G = a("lkRc"),
        w = a("Vitc"),
        A = a("as1E"),
        M = a("oqmg"),
        k = a("IMce");
      const B = Object(r.a)((e) => {
          const {
              language: t,
              facetValue: a,
              editModel: n,
              capsuleContainer: i,
              fnMarkEditModelDirty: l,
            } = e,
            r = (e) => {
              if ("name" === e.target.name) {
                const n = a.name,
                  i = D.a.Set(n || [], t, e.target.value);
                a.name = i;
              } else if ("subtitle" === e.target.name) {
                const n = a.subtitle,
                  i = D.a.Set(n || [], t, e.target.value);
                a.subtitle = i;
              }
              l();
            },
            c = (e) => {
              (a.filter = e), l();
            },
            d = [
              {
                label: Object(D.f)("#Sale_TagFilter_Filter"),
                data: m.l.k_ESaleTagFilter,
              },
              { label: Object(D.f)("#LanguageTitle"), data: m.l.k_ELanguage },
              {
                label: Object(D.f)("#Browse_Sale_Mature_Themes"),
                data: m.l.k_EContentDescriptor,
              },
              {
                label: Object(D.f)("#Sale_Preferences"),
                data: m.l.k_EUserPreference,
              },
              {
                label: Object(D.f)("#Sale_BrowserSortOption_Price"),
                data: m.l.k_EPrice,
              },
              {
                label: Object(D.f)("#AppTypeLabelTitle"),
                data: m.l.k_EAppType,
              },
            ],
            u = [
              { label: Object(D.f)("#Browse_Sale_Mature_Feature"), data: 5 },
              { label: Object(D.f)("#Browse_sale_Violence_Feature"), data: 2 },
              { label: Object(D.f)("#Browse_Sale_Sexual_Feature"), data: 1 },
              { label: Object(D.f)("#Browse_Sale_Adult_Feature"), data: 3 },
            ],
            p = [
              {
                label: Object(D.f)("#UserPreference_HideOwnedItems"),
                data: m.m.k_EHideOwnedItems,
              },
              {
                label: Object(D.f)("#UserPreference_HideWishlistedItems"),
                data: m.m.k_EHideWishlistedItems,
              },
              {
                label: Object(D.f)("#UserPreference_HideIgnoredItems"),
                data: m.m.k_EHideIgnoredItems,
              },
            ],
            _ = [
              { label: Object(D.f)("#AppTypeLabel_game"), data: "game" },
              {
                label: Object(D.f)("#AppTypeLabel_software"),
                data: "software",
              },
              { label: Object(D.f)("#AppTypeLabel_dlc"), data: "dlc" },
              { label: Object(D.f)("#AppTypeLabel_demo"), data: "demo" },
              { label: Object(D.f)("#AppTypeLabel_music"), data: "music" },
              { label: Object(D.f)("#AppTypeLabel_video"), data: "video" },
              {
                label: Object(D.f)("#AppTypeLabel_hardware"),
                data: "hardware",
              },
            ];
          return o.createElement(
            "div",
            {
              className: Object(I.a)(
                A.FilterDisplayCtn,
                w.FacetValueFilterDisplayCtn
              ),
            },
            o.createElement(
              "div",
              null,
              o.createElement(g.D, null, Object(D.f)("#EventEditor_TypeTitle")),
              o.createElement(g.n, {
                rgOptions: d,
                selectedOption: a.type || m.l.k_ESaleTagFilter,
                onChange: (e) => {
                  (a.type = e.data),
                    a.type === m.l.k_ELanguage &&
                      null == a.language &&
                      (a.language = Object(s.d)(G.c.LANGUAGE)),
                    a.type === m.l.k_EContentDescriptor &&
                      null == a.contentDescriptor &&
                      (a.contentDescriptor = 5),
                    a.type === m.l.k_EUserPreference &&
                      null == a.userPreference &&
                      (a.userPreference = m.m.k_EHideOwnedItems),
                    a.type === m.l.k_EAppType &&
                      null == a.appType &&
                      (a.appType = "game"),
                    l();
                },
              })
            ),
            o.createElement(
              "div",
              { className: w.FacetValueCtn },
              o.createElement(g.A, {
                name: "name",
                label: Object(D.f)("#FacetedBrowseEditor_Name"),
                tooltip: Object(D.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Name"
                ),
                value: D.a.Get(a.name, t),
                onChange: r,
              }),
              o.createElement(g.A, {
                name: "subtitle",
                label: Object(D.f)("#FacetedBrowseEditor_Subtitle"),
                tooltip: Object(D.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Subtitle"
                ),
                value: D.a.Get(a.subtitle, t),
                onChange: r,
              }),
              (a.type === m.l.k_ESaleTagFilter || void 0 === a.type) &&
                o.createElement(
                  "div",
                  null,
                  o.createElement(
                    g.D,
                    null,
                    Object(D.f)("#Sale_TagFilter_Filter")
                  ),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(
                      g.f,
                      {
                        onClick: () => {
                          Object(O.c)(
                            o.createElement(M.a, {
                              editModel: n,
                              filter: a.filter,
                              title: Object(D.f)("#Sale_TagFilter_EditFilter"),
                              onApplyFilter: c,
                              ignoreStartingReferences: i,
                            }),
                            window
                          );
                        },
                      },
                      Object(D.f)("#Sale_TagFilter_EditFilter")
                    )
                  )
                ),
              a.type === m.l.k_ELanguage &&
                o.createElement(
                  "div",
                  null,
                  o.createElement(g.D, null, Object(D.f)("#LanguageTitle")),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(v.a, {
                      selectedLang: a.language || Object(s.d)(G.c.LANGUAGE),
                      fnOnLanguageChanged: (e) => {
                        (a.language = e), l();
                      },
                    })
                  )
                ),
              a.type === m.l.k_EContentDescriptor &&
                o.createElement(
                  "div",
                  null,
                  o.createElement(g.D, null, Object(D.f)("#ContentDescriptor")),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(g.n, {
                      rgOptions: u,
                      selectedOption: a.contentDescriptor || 5,
                      onChange: (e) => {
                        (a.contentDescriptor = e.data), l();
                      },
                    })
                  )
                ),
              a.type === m.l.k_EUserPreference &&
                o.createElement(
                  "div",
                  null,
                  o.createElement(g.D, null, Object(D.f)("#Sale_Preferences")),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(g.n, {
                      rgOptions: p,
                      selectedOption: a.userPreference || m.m.k_EHideOwnedItems,
                      onChange: (e) => {
                        (a.userPreference = e.data), l();
                      },
                    })
                  )
                ),
              a.type === m.l.k_EAppType &&
                o.createElement(
                  "div",
                  null,
                  o.createElement(g.D, null, Object(D.f)("#AppTypeLabelTitle")),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(g.n, {
                      rgOptions: _,
                      selectedOption: a.appType || "game",
                      onChange: (e) => {
                        (a.appType = e.data), l();
                      },
                    })
                  )
                )
            ),
            a.type !== m.l.k_EPrice &&
              o.createElement(
                "div",
                null,
                o.createElement(g.g, {
                  label: Object(D.f)("#FacetedBrowseEditor_EnabledByDefault"),
                  checked: a.bEnabledByDefault,
                  onChange: (e) => {
                    (a.bEnabledByDefault = e), l();
                  },
                })
              )
          );
        }),
        N = Object(r.a)((e) => {
          const {
              language: t,
              facet: a,
              facetValueArray: n,
              editModel: i,
              capsuleContainer: l,
              fnMarkEditModelDirty: r,
              fnNotifyExpanded: s,
            } = e,
            [c, d] = o.useState(!1);
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(
              "div",
              { className: A.SaleSectionTitleHeader },
              o.createElement(
                "div",
                { className: A.EventEditorTextTitle },
                Object(D.f)(
                  "#FacetedBrowseEditor_NumFacetValues",
                  n.length.toString()
                )
              ),
              o.createElement(T.a, {
                bIsMinimized: !c,
                fnToggleMinimize: () => {
                  s(!c), d(!c);
                },
              })
            ),
            c &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(C.a, {
                  items: n,
                  onDelete: (e, t) => {
                    n.splice(e, 1), r();
                  },
                  onReorder: () => {
                    r();
                  },
                  render: (e) =>
                    o.createElement(B, {
                      language: t,
                      facetValue: e,
                      editModel: i,
                      capsuleContainer: l,
                      fnMarkEditModelDirty: r,
                    }),
                }),
                o.createElement(
                  g.f,
                  {
                    onClick: (e) => {
                      n.push({
                        unique_id: i.GenerateFacetValueUniqueID(a),
                        name: [],
                        subtitle: [],
                        filter: { clauses: [] },
                        rgStoreTagFilter: null,
                        matchingCapsules: null,
                      }),
                        r();
                    },
                  },
                  Object(D.f)("#FacetedBrowseEditor_AddFacetValue")
                )
              )
          );
        }),
        L = Object(r.a)((e) => {
          const {
            language: t,
            facet: a,
            editModel: n,
            capsuleContainer: i,
            fnMarkEditModelDirty: l,
            fnNotifyExpanded: r,
          } = e;
          return o.createElement(
            "div",
            {
              className: Object(I.a)(
                A.FilterDisplayCtn,
                w.FacetFilterDisplayCtn
              ),
            },
            o.createElement(g.A, {
              name: "name",
              label: Object(D.f)("#FacetedBrowseEditor_Name"),
              tooltip: Object(D.f)("#FacetedBrowseEditor_Tooltip_Facet_Name"),
              value: D.a.Get(a.name, t),
              onChange: (e) => {
                if ("name" === e.target.name) {
                  const n = a.name,
                    i = D.a.Set(n || [], t, e.target.value);
                  a.name = i;
                }
                l();
              },
            }),
            o.createElement(g.g, {
              label: Object(D.f)("#FacetedBrowseEditor_LogicalAND"),
              tooltip: Object(D.f)("#FacetedBrowseEditor_LogicalAND_Tooltip"),
              checked: a.logical_and,
              onChange: (e) => {
                (a.logical_and = e), l();
              },
            }),
            o.createElement(N, {
              language: t,
              facet: a,
              facetValueArray: a.facetValues,
              editModel: n,
              capsuleContainer: i,
              fnMarkEditModelDirty: l,
              fnNotifyExpanded: r,
            })
          );
        }),
        R = Object(r.a)((e) => {
          const {
              language: t,
              section: a,
              facetArray: n,
              editModel: i,
              capsuleContainer: l,
              fnMarkEditModelDirty: r,
            } = e,
            [s, c] = o.useState(!1),
            [d, m] = o.useState(!1),
            u = (e) => {
              m(e);
            };
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(
              "div",
              { className: A.SaleSectionTitleHeader },
              o.createElement(
                "div",
                { className: A.EventEditorTextTitle },
                Object(D.f)(
                  "#FacetedBrowseEditor_NumFacets",
                  n.length.toString()
                )
              ),
              o.createElement(T.a, {
                bIsMinimized: !s,
                fnToggleMinimize: () => {
                  c(!s);
                },
              })
            ),
            s &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(C.a, {
                  items: n,
                  onDelete: (e, t) => {
                    n.splice(e, 1), r();
                  },
                  onReorder: () => {
                    r();
                  },
                  render: (e) =>
                    o.createElement(L, {
                      language: t,
                      facet: e,
                      editModel: i,
                      capsuleContainer: l,
                      fnMarkEditModelDirty: r,
                      fnNotifyExpanded: u,
                    }),
                  bDisabled: d,
                }),
                o.createElement(
                  g.f,
                  {
                    onClick: (e) => {
                      n.push({
                        unique_id: i.GenerateFacetUniqueID(a),
                        name: [],
                        facetValues: [],
                      }),
                        r();
                    },
                  },
                  Object(D.f)("#FacetedBrowseEditor_AddFacet")
                )
              )
          );
        }),
        F = Object(r.a)((e) => {
          const {
              section: t,
              capsuleContainer: a,
              editModel: r,
              bAllowPruneFacets: h = !1,
            } = e,
            [v, S] = Object(o.useState)(!1),
            C = () => {
              r.SetDirty(i.d.jsondata_sales);
            },
            I = [
              {
                label: Object(D.f)("#FacetedBrowseEditor_SortFacetValues_Name"),
                tooltip: Object(D.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByName"
                ),
                data: m.k.k_ESortFacetsByName,
              },
              {
                label: Object(D.f)(
                  "#FacetedBrowseEditor_SortFacetValues_MatchCount"
                ),
                tooltip: Object(D.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByCount"
                ),
                data: m.k.k_ESortFacetsByMatchCount,
              },
              {
                label: Object(D.f)(
                  "#FacetedBrowseEditor_SortFacetValues_Manual"
                ),
                tooltip: Object(D.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_Manual"
                ),
                data: m.k.k_ESortFacetsManually,
              },
            ],
            G = () =>
              Object(n.a)(void 0, void 0, void 0, function* () {
                const e = r.GetEventModel().GetTaggedItems();
                if (0 !== e.length) {
                  yield x(a.facets, e, c.e);
                  for (const t of a.facets)
                    t.facetValues = t.facetValues.filter((t) =>
                      t.type === m.l.k_ELanguage
                        ? e.some((e) => {
                            var a;
                            return null ===
                              (a = u.a.Get().GetApp(e.capsule.id)) ||
                              void 0 === a
                              ? void 0
                              : a.BHasSomeLanguageSupport(t.language);
                          })
                        : t.type === m.l.k_EContentDescriptor
                        ? e.some((e) => {
                            const a = u.a.Get().GetApp(e.capsule.id);
                            return null == a
                              ? void 0
                              : a
                                  .GetContentDescriptorIDs()
                                  .includes(t.contentDescriptor);
                          })
                        : t.type === m.l.k_EAppType
                        ? e.some((e) => {
                            const a = u.a.Get().GetApp(e.capsule.id),
                              n = Object(p.a)(
                                null == a ? void 0 : a.GetStoreItemType(),
                                null == a ? void 0 : a.GetAppType()
                              );
                            return Boolean(a) && n === t.appType;
                          })
                        : t.type === m.l.k_EUserPreference ||
                          t.type === m.l.k_EPrice ||
                          e.some((e) => Object(l.h)(e.tags, t.filter))
                    );
                  r.SetDirty(i.d.jsondata_sales);
                }
              });
          return o.createElement(
            E.a,
            null,
            o.createElement(
              j.b,
              { clanSteamID: r.GetClanSteamID(), requireAdmin: !0 },
              o.createElement(g.M, {
                label: Object(D.f)("#FacetedBrowseEditor_FacetsCheckbox"),
                description: Object(D.f)(
                  "#FacetedBrowseEditor_FacetsCheckboxHelp"
                ),
                checked: a.enable_faceted_browsing,
                onChange: (e) => {
                  (a.enable_faceted_browsing = e),
                    e && !a.facets && (a.facets = []),
                    r.SetDirty(i.d.jsondata_sales);
                },
              }),
              a.enable_faceted_browsing &&
                o.createElement(
                  "div",
                  { className: A.FilterDisplayCtn },
                  o.createElement(
                    "div",
                    { className: k.FilterDisplayCtn },
                    o.createElement(
                      "div",
                      { className: k.FilterTitle },
                      Object(D.f)("#FacetedBrowseEditor_FacetsSection")
                    )
                  ),
                  o.createElement(
                    "div",
                    { className: k.FilterDisplayCtn },
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement("span", null),
                      o.createElement(
                        g.f,
                        {
                          onClick: (e) => {
                            Object(d.a)(
                              o.createElement(b.a, {
                                onChange: (e) => {
                                  (a.highlighted_facet_color = e), C();
                                },
                                color: a.highlighted_facet_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: a.highlighted_facet_color },
                        },
                        Object(D.f)(
                          "#FacetedBrowseEditor_HighlightedFacetColor"
                        )
                      )
                    ),
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement("span", null),
                      o.createElement(
                        g.f,
                        {
                          onClick: (e) => {
                            Object(d.a)(
                              o.createElement(b.a, {
                                onChange: (e) => {
                                  (a.heading_color = e), C();
                                },
                                color: a.heading_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: a.heading_color },
                        },
                        Object(D.f)("#FacetedBrowseEditor_HeadingColor")
                      )
                    ),
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement(
                        "span",
                        null,
                        Object(D.f)("#FacetedBrowseEditor_AutoGenerate"),
                        o.createElement(T.b, {
                          tooltip: Object(D.f)(
                            "#FacetedBrowseEditor_Tooltip_AutoGenerate"
                          ),
                        })
                      ),
                      o.createElement(
                        g.f,
                        {
                          onClick: () => {
                            var e;
                            const t = (e) =>
                                Object(n.a)(
                                  void 0,
                                  void 0,
                                  void 0,
                                  function* () {
                                    S(!0);
                                    try {
                                      (a.facets = yield (function (e) {
                                        return Object(n.a)(
                                          this,
                                          void 0,
                                          void 0,
                                          function* () {
                                            const t = yield _.a.AutoGenerateFacetsAsync();
                                            return (
                                              (function (e) {
                                                const t = _.a.GetAtomicTagIDsForTagID(),
                                                  a = _.a.GetTagNameForTagID();
                                                for (const n of e)
                                                  for (const e of n.facetValues) {
                                                    const n =
                                                      e.nAtomicStoreTagID;
                                                    let i = t.has(n)
                                                      ? t
                                                          .get(n)
                                                          .map((e) => a.get(e))
                                                      : [a.get(n)];
                                                    (i = i.map((e) => P(e))),
                                                      (e.type =
                                                        m.l.k_ESaleTagFilter),
                                                      (e.filter = {
                                                        clauses: [
                                                          {
                                                            type: "Must have",
                                                            or_tags: i,
                                                          },
                                                        ],
                                                      });
                                                  }
                                              })(t),
                                              e.bForceFeatureTagForFullController &&
                                                (function (e) {
                                                  e.forEach((e) => {
                                                    e.facetValues.forEach(
                                                      (e) => {
                                                        e.type ===
                                                          m.l
                                                            .k_ESaleTagFilter &&
                                                          e.filter.clauses.forEach(
                                                            (e) => {
                                                              e.or_tags.forEach(
                                                                (t, a) => {
                                                                  const n = Object(
                                                                      l.k
                                                                    )(t),
                                                                    i = Object(
                                                                      l.t
                                                                    )(
                                                                      t
                                                                    ).toLocaleLowerCase();
                                                                  n ===
                                                                    l.j.Store &&
                                                                    "controller" ===
                                                                      i &&
                                                                    (e.or_tags[
                                                                      a
                                                                    ] = Object(
                                                                      l.f
                                                                    )(
                                                                      "Full Controller",
                                                                      l.j
                                                                        .Feature
                                                                    ));
                                                                }
                                                              );
                                                            }
                                                          );
                                                      }
                                                    );
                                                  });
                                                })(t),
                                              (function (e) {
                                                const t = {
                                                    name: [
                                                      "#AppTypeLabelTitle",
                                                    ],
                                                    facetValues: [],
                                                  },
                                                  a = Object(l.p)();
                                                for (const e of a)
                                                  t.facetValues.push({
                                                    name: [
                                                      "#AppTypeLabel_" + e,
                                                    ],
                                                    type: m.l.k_ESaleTagFilter,
                                                    filter: {
                                                      clauses: [
                                                        {
                                                          type: "Must have",
                                                          or_tags: [
                                                            Object(l.f)(
                                                              e,
                                                              l.j.AppType
                                                            ),
                                                          ],
                                                        },
                                                      ],
                                                    },
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  });
                                                e.push(t);
                                              })(t),
                                              (function (e) {
                                                const t = {
                                                  name: ["#Platform"],
                                                  facetValues: [],
                                                };
                                                t.facetValues.push({
                                                  name: ["#Platform_Windows"],
                                                  type: m.l.k_ESaleTagFilter,
                                                  filter: {
                                                    clauses: [
                                                      {
                                                        type: "Must have",
                                                        or_tags: [
                                                          "[Feature] Windows",
                                                        ],
                                                      },
                                                    ],
                                                  },
                                                  matchingCapsules: null,
                                                  rgStoreTagFilter: null,
                                                }),
                                                  t.facetValues.push({
                                                    name: ["#Platform_Linux"],
                                                    type: m.l.k_ESaleTagFilter,
                                                    filter: {
                                                      clauses: [
                                                        {
                                                          type: "Must have",
                                                          or_tags: [
                                                            "[Feature] Linux",
                                                          ],
                                                        },
                                                      ],
                                                    },
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  t.facetValues.push({
                                                    name: ["#Platform_Mac"],
                                                    type: m.l.k_ESaleTagFilter,
                                                    filter: {
                                                      clauses: [
                                                        {
                                                          type: "Must have",
                                                          or_tags: [
                                                            "[Feature] Mac",
                                                          ],
                                                        },
                                                      ],
                                                    },
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  e.push(t);
                                              })(t),
                                              (function (e) {
                                                const t = {
                                                  name: ["#LanguageTitle"],
                                                  facetValues: [],
                                                };
                                                for (let e = 0; e < 30; ++e)
                                                  t.facetValues.push({
                                                    name: [
                                                      "#language_selection_" +
                                                        Object(s.a)(e),
                                                    ],
                                                    type: m.l.k_ELanguage,
                                                    language: e,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  });
                                                e.push(t);
                                              })(t),
                                              (function (e) {
                                                const t = {
                                                  name: ["#ContentDescriptor"],
                                                  facetValues: [],
                                                };
                                                t.facetValues.push({
                                                  name: [
                                                    "#ContentDescriptor_GeneralMatureContent",
                                                  ],
                                                  type:
                                                    m.l.k_EContentDescriptor,
                                                  contentDescriptor: 5,
                                                  filter: null,
                                                  matchingCapsules: null,
                                                  rgStoreTagFilter: null,
                                                }),
                                                  t.facetValues.push({
                                                    name: [
                                                      "#ContentDescriptor_FrequentViolenceOrGore",
                                                    ],
                                                    type:
                                                      m.l.k_EContentDescriptor,
                                                    contentDescriptor: 2,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  t.facetValues.push({
                                                    name: [
                                                      "#ContentDescriptor_NudityOrSexualContent",
                                                    ],
                                                    type:
                                                      m.l.k_EContentDescriptor,
                                                    contentDescriptor: 1,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  t.facetValues.push({
                                                    name: [
                                                      "#ContentDescriptor_AdultOnlySexualContent",
                                                    ],
                                                    type:
                                                      m.l.k_EContentDescriptor,
                                                    contentDescriptor: 3,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  e.push(t);
                                              })(t),
                                              (function (e) {
                                                const t = {
                                                  name: ["#Sale_Preferences"],
                                                  facetValues: [],
                                                };
                                                t.facetValues.push({
                                                  name: [
                                                    "#UserPreference_HideOwnedItems",
                                                  ],
                                                  type: m.l.k_EUserPreference,
                                                  userPreference:
                                                    m.m.k_EHideOwnedItems,
                                                  filter: null,
                                                  matchingCapsules: null,
                                                  rgStoreTagFilter: null,
                                                }),
                                                  t.facetValues.push({
                                                    name: [
                                                      "#UserPreference_HideWishlistedItems",
                                                    ],
                                                    type: m.l.k_EUserPreference,
                                                    userPreference:
                                                      m.m
                                                        .k_EHideWishlistedItems,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  t.facetValues.push({
                                                    name: [
                                                      "#UserPreference_HideIgnoredItems",
                                                    ],
                                                    type: m.l.k_EUserPreference,
                                                    userPreference:
                                                      m.m.k_EHideIgnoredItems,
                                                    bEnabledByDefault: !0,
                                                    filter: null,
                                                    matchingCapsules: null,
                                                    rgStoreTagFilter: null,
                                                  }),
                                                  e.push(t);
                                              })(t),
                                              t
                                            );
                                          }
                                        );
                                      })(e)),
                                        h && (yield G()),
                                        r.SetDirty(i.d.jsondata_sales);
                                    } finally {
                                      S(!1);
                                    }
                                  }
                                ),
                              c = () => {
                                Object(O.c)(
                                  o.createElement(U, { onOK: (e) => t(e) }),
                                  window
                                );
                              };
                            (null === (e = a.facets) || void 0 === e
                              ? void 0
                              : e.length) > 0
                              ? Object(O.c)(
                                  o.createElement(f.e, {
                                    strTitle: Object(D.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogTitle"
                                    ),
                                    strDescription: Object(D.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogText"
                                    ),
                                    onOK: c,
                                  }),
                                  window
                                )
                              : c();
                          },
                        },
                        Object(D.f)("#FacetedBrowseEditor_AutoGenerateButton")
                      )
                    ),
                    h &&
                      o.createElement(
                        "div",
                        { className: k.FilterActionsCtn },
                        o.createElement(
                          "span",
                          null,
                          Object(D.f)("#FacetedBrowseEditor_PruneUnused"),
                          o.createElement(T.b, {
                            tooltip: Object(D.f)(
                              "#FacetedBrowseEditor_Tooltip_PruneUnused"
                            ),
                          })
                        ),
                        o.createElement(
                          g.f,
                          { onClick: G },
                          Object(D.f)("#FacetedBrowseEditor_PruneUnusedButton")
                        )
                      ),
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement(
                        "span",
                        null,
                        Object(D.f)("#FacetedBrowseEditor_MinMatchesText"),
                        o.createElement(T.b, {
                          tooltip: Object(D.f)(
                            "#FacetedBrowseEditor_Tooltip_MinMatches"
                          ),
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: k.FilterSettingRightCol },
                        o.createElement(g.A, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: a.min_capsule_matches_for_facet_values,
                          onChange: (e) => {
                            (a.min_capsule_matches_for_facet_values = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement(
                        "span",
                        null,
                        Object(D.f)("#FacetedBrowseEditor_MaxFacetValuesText"),
                        o.createElement(T.b, {
                          tooltip: Object(D.f)(
                            "#FacetedBrowseEditor_Tooltip_MaxFacetValues"
                          ),
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: k.FilterSettingRightCol },
                        o.createElement(g.A, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: a.max_facet_values_for_facet,
                          onChange: (e) => {
                            (a.max_facet_values_for_facet = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    o.createElement(
                      "div",
                      { className: k.FilterActionsCtn },
                      o.createElement(
                        "span",
                        null,
                        Object(D.f)("#FacetedBrowseEditor_SortFacetValuesText"),
                        o.createElement(T.b, {
                          tooltip: Object(D.f)(
                            "#FacetedBrowseEditor_Tooltip_SortFacetValues"
                          ),
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: k.FilterSettingRightCol },
                        o.createElement(g.n, {
                          rgOptions: I,
                          selectedOption: a.facet_sort_order,
                          onChange: (e) => {
                            (a.facet_sort_order = e.data), C();
                          },
                        })
                      )
                    ),
                    o.createElement(
                      j.b,
                      { clanSteamID: r.GetClanSteamID(), requireAdmin: !0 },
                      V(t) &&
                        o.createElement(
                          "div",
                          { className: k.FilterActionsCtn },
                          o.createElement(
                            "span",
                            null,
                            Object(D.f)(
                              "#FacetedBrowseEditor_GenerateDebugInfo"
                            )
                          ),
                          o.createElement(
                            "div",
                            { className: k.FilterSettingRightCol },
                            o.createElement(g.g, {
                              checked: a.facets_generate_debug_info,
                              onChange: (e) => {
                                (a.facets_generate_debug_info = e), C();
                              },
                            })
                          )
                        )
                    )
                  ),
                  v
                    ? o.createElement(y.a, null)
                    : o.createElement(R, {
                        language: r.GetCurEditLanguage(),
                        section: t,
                        facetArray: a.facets,
                        editModel: r,
                        capsuleContainer: a,
                        fnMarkEditModelDirty: C,
                      })
                )
            )
          );
        });
      function x(e, t, a) {
        return Object(n.a)(this, void 0, void 0, function* () {
          if (
            e.some((e) =>
              e.facetValues.some(
                (e) =>
                  e.type === m.l.k_ELanguage ||
                  e.type === m.l.k_EContentDescriptor ||
                  e.type === m.l.k_EAppType
              )
            )
          ) {
            const e = t.map((e) => e.capsule);
            try {
              yield Object(S.g)(e, a);
            } catch (e) {
              console.error(e);
            }
          }
        });
      }
      function P(e) {
        return Object(l.f)(e, l.j.Store);
      }
      const U = Object(r.a)((e) => {
        const { closeModal: t, onOK: a } = e,
          [n, i] = Object(o.useState)(!1);
        return o.createElement(
          f.f,
          { onCancel: t, closeModal: t },
          o.createElement(
            g.z,
            null,
            Object(D.f)("#FacetedBrowseEditor_AutoGenerate")
          ),
          o.createElement(
            g.d,
            null,
            o.createElement(g.g, {
              label: Object(D.f)(
                "#FacetedBrowseEditor_AutoGenerateOptions_FeatureTagForController"
              ),
              checked: n,
              onChange: (e) => {
                i(e);
              },
            })
          ),
          o.createElement(
            g.r,
            null,
            o.createElement(
              g.G,
              {
                onClick: () => {
                  a({ bForceFeatureTagForFullController: n }), t();
                },
              },
              Object(D.f)("#Button_OK")
            ),
            o.createElement(g.f, { onClick: t }, Object(D.f)("#Button_Cancel"))
          )
        );
      });
      function V(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function H(e, t, a) {
        var i;
        return Object(n.a)(this, void 0, void 0, function* () {
          yield x(
            a,
            t,
            Object.assign(Object.assign({}, c.e), {
              include_supported_languages: !0,
            })
          );
          const n = t.map((e) => ({
              setTags: Object(l.m)(e.tags),
              capsule: e.capsule,
            })),
            r = t.map((e) => {
              const t = u.a.Get().GetApp(e.capsule.id);
              return {
                languages: Boolean(t)
                  ? new Set(t.GetAllLanguagesWithSomeSupport())
                  : null,
                capsule: e.capsule,
              };
            }),
            o = t.map((e) => {
              const t = u.a.Get().GetApp(e.capsule.id);
              return {
                contentDescriptors: Boolean(t)
                  ? new Set(t.GetContentDescriptorIDs())
                  : null,
                capsule: e.capsule,
              };
            }),
            s = t.map((e) => {
              const t = u.a.Get().GetApp(e.capsule.id),
                a = Object(p.a)(
                  null == t ? void 0 : t.GetStoreItemType(),
                  null == t ? void 0 : t.GetAppType()
                );
              return { appType: Boolean(t) ? a : null, capsule: e.capsule };
            });
          for (const t of a) {
            let a = !1;
            V(e) ? Object(h.b)(t) && (a = !0) : (a = !0);
            for (const e of t.facetValues) {
              let t = !0;
              if (
                ((e.type !== m.l.k_EPrice &&
                  e.type !== m.l.k_EUserPreference) ||
                  (t = !1),
                (e.matchingCapsules = void 0),
                a && t)
              )
                if (((e.matchingCapsules = []), e.type === m.l.k_ELanguage))
                  for (const t of r)
                    (null === (i = t.languages) || void 0 === i
                      ? void 0
                      : i.has(e.language)) &&
                      e.matchingCapsules.push(t.capsule);
                else if (e.type === m.l.k_EContentDescriptor)
                  for (const t of o)
                    (null === t.contentDescriptors ||
                      t.contentDescriptors.has(e.contentDescriptor)) &&
                      e.matchingCapsules.push(t.capsule);
                else if (e.type === m.l.k_EAppType)
                  for (const t of s)
                    t.appType === e.appType &&
                      e.matchingCapsules.push(t.capsule);
                else
                  for (const t of n)
                    Object(l.i)(t.setTags, e.filter) &&
                      e.matchingCapsules.push(t.capsule);
            }
          }
        });
      }
      function z(e) {
        return Object(n.a)(this, void 0, void 0, function* () {
          if (!e.BIsSourceEventSaleEnabled()) return;
          const t = e.GetEventModel().GetTaggedItems();
          if (
            !(null == t ? void 0 : t.length) &&
            e.GetEventModel().jsondata.item_source_type === m.n.k_ETaggedItems
          )
            return;
          yield _.a.EnsureLoaded();
          const a = _.a.GetTagNameForTagID(),
            n = yield _.a.GetLanguages(),
            i = yield _.a.GetLocalizedTagNames(),
            l = new Map();
          a.forEach((e, t) => {
            const a = e.toLocaleLowerCase();
            l.has(a) ? console.error("Duplicate tag name: " + e) : l.set(a, t);
          });
          const r = (function (e) {
            var t, a;
            const n =
              null ===
                (a =
                  null === (t = null == e ? void 0 : e.GetEventModel()) ||
                  void 0 === t
                    ? void 0
                    : t.jsondata) || void 0 === a
                ? void 0
                : a.auto_item_tags;
            if (!n) return null;
            const i = new Map();
            for (const e of n) i.set(e.tag_name.toLocaleLowerCase(), e.filter);
            return i;
          })(e);
          for (const o of e.GetSaleSections())
            o.sale_tag_filter && (o.store_filter = W(o.sale_tag_filter, l, r)),
              "tabs" === o.section_type &&
                o.tabs &&
                o.tabs.forEach((e) => {
                  e.sale_tag_filter &&
                    (e.store_filter = W(e.sale_tag_filter, l, r));
                }),
              o.enable_faceted_browsing &&
                (yield H(o, t, o.facets),
                Q(o, l, r),
                J(o, a, n, i),
                o.metadata_matching_capsules &&
                  (o.metadata_matching_capsules = void 0));
        });
      }
      function W(e, t, a) {
        const n = {
          type: m.o.k_EStoreFilterClauseTypeAnd,
          rgSubexpressions: new Array(),
        };
        for (const i of e.clauses) {
          const e = {
            type: m.o.k_EStoreFilterClauseTypeOr,
            bNegated: "Must not have" === i.type,
            rgSubexpressions: new Array(),
          };
          for (const n of i.or_tags) {
            const i = Object(l.k)(n),
              r = Object(l.t)(n).toLocaleLowerCase();
            if (i === l.j.Store) {
              if (!(null == t ? void 0 : t.has(r))) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + n
                );
                continue;
              }
              const a = t.get(r);
              e.rgSubexpressions.push({
                type: m.o.k_EStoreFilterClauseTypeStoreTag,
                value: a,
              });
            } else if (i == l.j.Feature)
              switch (r) {
                case "violence or gore":
                  e.rgSubexpressions.push({
                    type: m.o.k_EStoreFilterClauseTypeContentDescriptor,
                    value: 2,
                  });
                  break;
                case "nudity or sexual content":
                  e.rgSubexpressions.push({
                    type: m.o.k_EStoreFilterClauseTypeContentDescriptor,
                    value: 1,
                  });
                  break;
                case "adult only sexual content":
                  e.rgSubexpressions.push({
                    type: m.o.k_EStoreFilterClauseTypeContentDescriptor,
                    value: 3,
                  });
                  break;
                default:
                  e.rgSubexpressions.push({
                    type: m.o.k_EStoreFilterClauseTypeFeatureTag,
                    value: r,
                  });
              }
            else if (i === l.j.AppType)
              e.rgSubexpressions.push({
                type: m.o.k_EStoreFilterClauseTypeAppType,
                value: r,
              });
            else if (i === l.j.Auto) {
              if (!a.has(r)) {
                console.error("Could not find auto tag: " + n);
                continue;
              }
              const i = a.get(r);
              e.rgSubexpressions.push(W(i, t, a));
            } else console.warn("Sale tag not implemented for faceting: " + n);
          }
          if (0 === e.rgSubexpressions.length) return null;
          n.rgSubexpressions.push(e);
        }
        return 0 === n.rgSubexpressions.length ? null : Object(h.h)(n);
      }
      function q(e, t) {
        for (const a of e.clauses)
          for (const e of a.or_tags) {
            const a = Object(l.k)(e),
              n = Object(l.t)(e).toLocaleLowerCase();
            if (a === l.j.Store) {
              if (!t.has(n)) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + e
                );
                continue;
              }
              const a = t.get(n);
              if (_.a.BIsTagAtomic(a)) return a;
            }
          }
        return 0;
      }
      function Q(e, t, a) {
        for (const r of e.facets) {
          const e = new Map(),
            o = new Map();
          for (const c of r.facetValues)
            c.type === m.l.k_ELanguage
              ? e.set(
                  c,
                  ((l = c.language),
                  {
                    type: m.o.k_EStoreFilterClauseTypeLanguage,
                    value: Object(s.a)(l),
                  })
                )
              : c.type === m.l.k_EContentDescriptor
              ? e.set(
                  c,
                  ((i = c.contentDescriptor),
                  {
                    type: m.o.k_EStoreFilterClauseTypeContentDescriptor,
                    value: i,
                  })
                )
              : c.type === m.l.k_EUserPreference
              ? e.set(c, null)
              : c.type === m.l.k_EPrice
              ? e.set(c, { type: m.o.k_EStoreFilterClauseTypePrice })
              : c.type === m.l.k_EAppType
              ? e.set(
                  c,
                  ((n = c.appType),
                  { type: m.o.k_EStoreFilterClauseTypeAppType, value: n })
                )
              : (e.set(c, W(c.filter, t, a)), o.set(c, q(c.filter, t)));
          if (
            r.facetValues.every(
              (t) => t.type !== m.l.k_EUserPreference && null === e.get(t)
            )
          )
            console.error(
              "Couldn't look up store tag names for any facet value in facet " +
                r.name[0] +
                ", skipping."
            );
          else
            for (const t of r.facetValues) {
              t.rgStoreTagFilter = e.get(t);
              const a = o.get(t);
              a > 0 && (t.nAtomicStoreTagID = a);
            }
        }
        var n, i, l;
      }
      function J(e, t, a, n) {
        e.facets.forEach((e) => {
          e.facetValues.forEach((e) => {
            e.nAtomicStoreTagID &&
              a.forEach((a, i) => {
                const l = Object(s.d)(a);
                if (0 === D.a.Get(e.name, l).length) {
                  const r = t.get(e.nAtomicStoreTagID),
                    o = n.get(e.nAtomicStoreTagID),
                    s = D.a.Get(o, i);
                  0 !== s.length &&
                    (D.a.Set(e.name, l, s),
                    console.warn(
                      "Added missing localized name (" +
                        s +
                        ") (" +
                        a +
                        ") for facet value with atomic store tag ID " +
                        e.nAtomicStoreTagID +
                        " (" +
                        r +
                        ")"
                    ));
                }
              });
          });
        });
      }
    },
    "66At": function (e, t, a) {
      e.exports = {
        DisplayWarning: "saleeditorlocationcontrolwidget_DisplayWarning_162UW",
        SelectArea: "saleeditorlocationcontrolwidget_SelectArea_3hAkB",
        dropDown: "saleeditorlocationcontrolwidget_dropDown_a8hfO",
      };
    },
    "6Oks": function (e, t, a) {
      e.exports = {
        EventEditorArtworkCtn:
          "partnereventartwork_EventEditorArtworkCtn_3rX0b",
        ArtworkPreview: "partnereventartwork_ArtworkPreview_JnQir",
        EventEditorArtworkBarContainer:
          "partnereventartwork_EventEditorArtworkBarContainer_1C85T",
        EventEditorButton: "partnereventartwork_EventEditorButton_2ffmU",
        EventEditorInputPaneTopRow:
          "partnereventartwork_EventEditorInputPaneTopRow_91ZJa",
        EventCoverImageCtn: "partnereventartwork_EventCoverImageCtn_31GkG",
        DragTarget: "partnereventartwork_DragTarget_3rLfM",
        DragOnTopOfMe: "partnereventartwork_DragOnTopOfMe_2fjw2",
        EventEditorArtworkTextCtn:
          "partnereventartwork_EventEditorArtworkTextCtn_30C-z",
        EventEditorDragTargetArea:
          "partnereventartwork_EventEditorDragTargetArea_13RCA",
        EventEditorArtworkTitle:
          "partnereventartwork_EventEditorArtworkTitle_2LN2o",
        EventEditorArtworkSubTitle:
          "partnereventartwork_EventEditorArtworkSubTitle_2WU2t",
        EventEditorArtworkResolution:
          "partnereventartwork_EventEditorArtworkResolution_3BWYC",
        ReassignCtn: "partnereventartwork_ReassignCtn_1ELGs",
        ImagePreviewContainer:
          "partnereventartwork_ImagePreviewContainer_xiD01",
        NoneSet: "partnereventartwork_NoneSet_2iqoN",
        TitleSafePreview: "partnereventartwork_TitleSafePreview_1k4fh",
        TitleSafeCaption: "partnereventartwork_TitleSafeCaption_2p02K",
        LanguageSelector: "partnereventartwork_LanguageSelector_3r2rl",
        LanguageSelectorSelected:
          "partnereventartwork_LanguageSelectorSelected_1M7um",
        LanguageSelectorNoData:
          "partnereventartwork_LanguageSelectorNoData_2F3x5",
        LanguageContainer: "partnereventartwork_LanguageContainer_1Vs5U",
        LanguageOptions: "partnereventartwork_LanguageOptions_1ntKq",
        LanguageListContainer:
          "partnereventartwork_LanguageListContainer_Yhl9T",
        SelectImageContainerTopRow:
          "partnereventartwork_SelectImageContainerTopRow_2TTdk",
        SelectImageContainerBottomRow:
          "partnereventartwork_SelectImageContainerBottomRow_3W5Me",
        TextTitle: "partnereventartwork_TextTitle_WMeyY",
        TextSubTitle: "partnereventartwork_TextSubTitle_3zHVs",
        ExampleSectionTitle: "partnereventartwork_ExampleSectionTitle_1Rcen",
        DetailPageExample: "partnereventartwork_DetailPageExample_pD3MC",
        detailExample: "partnereventartwork_detailExample_syg2Q",
        detailExample2: "partnereventartwork_detailExample2_9E9yp",
        MainImageCtn: "partnereventartwork_MainImageCtn_1XTVD",
        ExampleBodyPosition: "partnereventartwork_ExampleBodyPosition_rEaNp",
        ExampleContentCtn: "partnereventartwork_ExampleContentCtn_-LvtM",
        TextBody: "partnereventartwork_TextBody_IiSBO",
        SpotlightExample: "partnereventartwork_SpotlightExample_rAJxh",
        SelectImageEqualColumns:
          "partnereventartwork_SelectImageEqualColumns_2zf7x",
        SelectImageBlock: "partnereventartwork_SelectImageBlock_3jEs0",
        MainPreviewBlock: "partnereventartwork_MainPreviewBlock_2HX0X",
        Tips: "partnereventartwork_Tips_1CHYZ",
        SpotlightOptions: "partnereventartwork_SpotlightOptions_2Kej2",
        ExamplesCtn: "partnereventartwork_ExamplesCtn_3Bp1I",
        SelectImageExampleImg:
          "partnereventartwork_SelectImageExampleImg_2kTis",
        SelectImageLanguagesCtn:
          "partnereventartwork_SelectImageLanguagesCtn_2vu5Q",
        SelectImageTitle: "partnereventartwork_SelectImageTitle_1m6cv",
        ArtworkSelectorContainer:
          "partnereventartwork_ArtworkSelectorContainer_1nl9m",
        Title: "partnereventartwork_Title_2Phq4",
        BroadcastPreviewContainer:
          "partnereventartwork_BroadcastPreviewContainer_3Y5k3",
        SaleHeaderPreviewContainer:
          "partnereventartwork_SaleHeaderPreviewContainer_14dIa",
        SaleHeaderExampleCtn: "partnereventartwork_SaleHeaderExampleCtn_16coG",
        SaleHeaderExampleCol: "partnereventartwork_SaleHeaderExampleCol_1czA2",
        BroadcastPreview: "partnereventartwork_BroadcastPreview_87eNb",
        ExampleSpacer: "partnereventartwork_ExampleSpacer_2r0lB",
        MultipleExampleContainer:
          "partnereventartwork_MultipleExampleContainer_1dda1",
        AssetExampleSpotlightCtn:
          "partnereventartwork_AssetExampleSpotlightCtn_taJSe",
      };
    },
    "6h0J": function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=";
    },
    "6yBx": function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return D;
      }),
        a.d(t, "a", function () {
          return G;
        }),
        a.d(t, "c", function () {
          return w;
        });
      var n = a("mrSG"),
        i = a("TyAF"),
        l = a("q1tI"),
        r = a("mgoM"),
        o = a("65aj"),
        s = a("Nsq5"),
        c = (a("kLLr"), a("MUT6"), a("U+Q5")),
        d = a("I/R6"),
        m = a("Mgs7"),
        u = a("fpVW"),
        p = a.n(u),
        _ = a("Jqb/"),
        g = a("ka0M"),
        b = a("xnZ7"),
        E = a.n(b),
        h = a("6Y59"),
        v = a("0OaU"),
        S = a("exH9"),
        f = a("NOFC"),
        O = a("TLQK"),
        C = a("OS6B"),
        y = a("opsS"),
        T = a("NrWE"),
        j = a("as1E"),
        I = a.n(j);
      a("Yamg");
      let D = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = { bDownloadFromClanImageStore: !1 }),
            (this.m_clanImageUploader = new c.b(this.props.clanSteamID));
        }
        GetValidLanguageForImage(e) {
          const t = this.props.rgRealmList;
          if (!t || 0 === t.length) return e;
          for (const a of t) if (O.b.IsELanguageValidInRealm(e, a)) return e;
          for (const e of t)
            if (O.b.IsELanguageValidInRealm(d.a.Get().GetCurEditLanguage(), e))
              return d.a.Get().GetCurEditLanguage();
          return t.includes(o.ESteamRealm.k_ESteamRealmGlobal) ? 0 : 29;
        }
        OnDropFiles(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const {
              rgSupportArtwork: t,
              localizedPrimaryImage: a,
            } = this.props;
            let n = Array.from(e),
              i = !0;
            for (let r = 0; r < n.length; r++) {
              const n = e.item(r),
                o =
                  c.d.DetectLanguageFromFilename(n.name) ||
                  d.a.Get().GetCurEditLanguage();
              (i = yield this.m_clanImageUploader.AddImageForLanguage(
                n,
                this.GetValidLanguageForImage(o),
                t,
                a
              )),
                i ||
                  (console.error(
                    "ArtworkUploader.OnDropFiles: failed on i=" +
                      r +
                      " file=" +
                      n.name
                  ),
                  Object(g.d)(
                    l.createElement(_.g, {
                      strDescription: Object(O.f)("#ImagePicker_Error", n.name),
                    }),
                    window
                  ));
            }
            return i;
          });
        }
        OnUploadImages() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const e = yield this.m_clanImageUploader.UploadAllFiles(
              this.props.rgSupportArtwork,
              this.props.forceResolution,
              this.props.localizedPrimaryImage &&
                this.props.localizedPrimaryImage.file_type
            );
            Object.keys(e).forEach((t) => {
              const a = e[t],
                n = this.m_clanImageUploader.m_filesToUpload.find(
                  (e) => `${e.uploadTime}/${e.file.name}` === t
                );
              if (n)
                if (1 !== a.success)
                  (n.status = "failed"), (n.message = a.message);
                else if (((n.status = "success"), a.origimagehash))
                  c.d.AddLocalizeImageUploaded(
                    a.origimagehash,
                    this.GetValidLanguageForImage(a.language)
                  );
                else {
                  const e = c.d.GetClanImageByImageHash(
                    this.props.clanSteamID,
                    a.image_hash
                  );
                  e &&
                    this.props.fnSetImageURL(
                      n.type,
                      e,
                      this.GetValidLanguageForImage(n.language)
                    );
                }
            });
          });
        }
        OnPreviousImageSelected(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.state.bDownloadFromClanImageStore ||
              this.setState({ bDownloadFromClanImageStore: !0 }, () =>
                Object(n.a)(this, void 0, void 0, function* () {
                  try {
                    const {
                      rgSupportArtwork: t,
                      localizedPrimaryImage: a,
                    } = this.props;
                    yield this.m_clanImageUploader.AddExistingClanImage(
                      e,
                      this.GetValidLanguageForImage(
                        d.a.Get().GetCurEditLanguage()
                      ),
                      t,
                      a
                    );
                  } catch (e) {
                    let t = Object(C.a)(e);
                    console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                      Object(g.d)(
                        l.createElement(_.g, {
                          strDescription: Object(O.f)(
                            "#EventError_Code",
                            t.strErrorMsg
                          ),
                        }),
                        window
                      );
                  }
                  this.setState({ bDownloadFromClanImageStore: !1 });
                })
              );
          });
        }
        render() {
          const {
              rgSupportArtwork: e,
              forceResolution: t,
              localizedPrimaryImage: a,
              clanSteamID: n,
            } = this.props,
            i = w(
              this.m_clanImageUploader,
              "arttabupload_",
              e,
              t,
              a && a.file_type,
              this.props.rgRealmList
            );
          return l.createElement(
            T.b,
            {
              onDropFiles: this.OnDropFiles,
              clanSteamID: n,
              bAllowPreviousClanImages: !Boolean(
                this.props.bPreventPreviousClanImages
              ),
              OnClanImageSelected: this.OnPreviousImageSelected,
              fnSetImageURL: this.props.fnSetImageURL,
              rgRealmList: this.props.rgRealmList,
            },
            l.createElement(
              l.Fragment,
              null,
              this.state.bDownloadFromClanImageStore &&
                l.createElement(v.a, {
                  position: "center",
                  size: "medium",
                  string: Object(O.f)("#Loading"),
                }),
              l.createElement("div", { className: I.a.UploadPreviewCtn }, i)
            ),
            l.createElement(G, {
              clanImageUploader: this.m_clanImageUploader,
              fnOnUploadImageRequested: this.OnUploadImages,
            })
          );
        }
      };
      Object(n.b)([y.b], D.prototype, "OnDropFiles", null),
        Object(n.b)([y.b], D.prototype, "OnUploadImages", null),
        Object(n.b)([y.b], D.prototype, "OnPreviousImageSelected", null),
        (D = Object(n.b)([i.a], D));
      const G = Object(i.a)((e) => {
        const { clanImageUploader: t, fnOnUploadImageRequested: a } = e;
        return l.createElement(
          "div",
          {
            style: { display: "flex" },
            className: I.a.UploadPreviewButtonsCtn,
          },
          Boolean(t.m_filesToUpload.length) &&
            l.createElement(
              m.f,
              { style: { margin: "8px" }, onClick: a },
              Object(O.f)("#ImageUpload_Upload")
            ),
          Boolean(t.m_filesToUpload.length) &&
            l.createElement(
              m.f,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              Object(O.f)("#ImageUpload_Clear")
            )
        );
      });
      function w(e, t, a, n, i, r) {
        let o = new Array();
        return (
          e.m_filesToUpload.map((s) => {
            o.push(
              l.createElement(A, {
                key: t + s.file + "_" + s.uploadTime,
                image: s,
                supported: a,
                forceResolution: n,
                forceFileType: i,
                fnOnRemove: () => e.DeleteUploadImage(s),
                languageRealms: r,
              })
            );
          }),
          o
        );
      }
      const A = Object(i.a)((e) => {
        const { image: t, fnOnRemove: a, supported: n, languageRealms: i } = e,
          c = n.map((e) => {
            let a = Object(O.f)("#EventEditor_ArtworkType_" + e);
            const n = s.a[e];
            let i;
            n &&
              !n.bDisableEnforceDimensions &&
              (a += ` - ${n.width}x${n.height}`),
              t.BIsOriginalMinimumDimensions(e) ||
                (i = I.a.ArtworkDimensionTooSmall);
            return { label: a, data: e, strOptionClass: i };
          }),
          d = {
            pending: Object(O.f)("#ImageUpload_Pending"),
            uploading: Object(O.f)("#ImageUpload_Uploading"),
            success: Object(O.f)("#ImageUpload_SuccessCard"),
            failed: Object(O.f)("#ImageUpload_Failed"),
          },
          u = new Array(),
          _ = O.b.GetLanguageListForRealms(
            i || [o.ESteamRealm.k_ESteamRealmGlobal]
          );
        for (const e of _) {
          const t = Object(O.f)("#Language_" + Object(r.a)(e));
          u.push({ label: t, data: e });
        }
        u.sort((e, t) => e.label.localeCompare(t.label));
        const b = [];
        u.forEach((e) => b.push({ label: e.label, data: e.data }));
        const C = t.IsValidImage(
            e.supported,
            e.forceResolution,
            e.forceFileType
          ),
          y = C.needsCrop
            ? Object(O.f)("#ImageUpload_NeedsCrop")
            : C.error
            ? Object(O.f)("#ImageUpload_Invalid")
            : d[t.status];
        return l.createElement(
          "div",
          { className: I.a.UploadPreview },
          l.createElement(
            "div",
            { className: I.a.UploadPreviewDelete, onClick: () => a(t) },
            l.createElement(h.Ab, null)
          ),
          l.createElement(
            "div",
            {
              className: I.a.PreviewImgCtn,
              style: { backgroundImage: `url(${t.dataUrl})` },
            },
            l.createElement(
              "span",
              { className: I.a.PreviewImgInfo },
              t.width,
              " x ",
              t.height
            )
          ),
          l.createElement(m.n, {
            strDropDownClassName: p.a.DropDownScroll,
            rgOptions: b,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(c.length > 1) &&
            l.createElement(m.n, {
              rgOptions: c.filter((e) => "hero" !== e.data),
              selectedOption: t.type || c[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          l.createElement(
            "div",
            { className: Object(S.a)(p.a.FlexColumnContainer) },
            y,
            Boolean("uploading" == y) &&
              l.createElement(
                "div",
                { className: E.a.FlexCenter },
                l.createElement(v.a, { size: "small" })
              )
          ),
          l.createElement(
            "div",
            { className: I.a.UploadPreviewError },
            t.message
          ),
          C.error &&
            l.createElement(
              "div",
              { className: I.a.UploadPreviewError },
              C.error
            ),
          C.needsCrop &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                m.G,
                {
                  onClick: () =>
                    ((t) => {
                      t.ResetImage();
                      const a = window,
                        n = l.createElement(f.a, {
                          ownerWin: a,
                          uploadFile: t,
                          forceResolution: e.forceResolution,
                          fileType: e.forceFileType || 3,
                        });
                      Object(g.c)(n, a, "CropModal", {
                        strTitle: Object(O.f)("#ImageUpload_CropModalTitle"),
                      });
                    })(t),
                },
                Object(O.f)("#ImageUpload_OpenEditor")
              )
            )
        );
      });
    },
    "75vw": function (e, t, a) {
      e.exports = {
        PickerContainer: "clanimagepicker_PickerContainer_1qhUO",
        PickerTitle: "clanimagepicker_PickerTitle_1E-Kb",
        SearchInput: "clanimagepicker_SearchInput_lwt4u",
        ImagesContainer: "clanimagepicker_ImagesContainer_2MNEt",
        ImageWrapperContainer: "clanimagepicker_ImageWrapperContainer_3nF8i",
        ImageWrapper: "clanimagepicker_ImageWrapper_vYrtX",
        ImageWrapperFilename: "clanimagepicker_ImageWrapperFilename_3rKYp",
        Hilight: "clanimagepicker_Hilight_5oO3l",
        ImageButton: "clanimagepicker_ImageButton_1NdF6",
        Thumb: "clanimagepicker_Thumb_5b4gX",
        Full: "clanimagepicker_Full_3zBhO",
        Delete: "clanimagepicker_Delete_UQ4fW",
        FloatingThrobber: "clanimagepicker_FloatingThrobber_1zWl-",
        Localized: "clanimagepicker_Localized__5lkv",
        ResultNotification: "clanimagepicker_ResultNotification_1mERN",
        errorcode: "clanimagepicker_errorcode_2f4ad",
        ImageUploadBar: "clanimagepicker_ImageUploadBar_1aUdS",
        SelectImageButton: "clanimagepicker_SelectImageButton__R_zU",
        UploaderContainer: "clanimagepicker_UploaderContainer_dR0Ne",
        UploaderTitle: "clanimagepicker_UploaderTitle_DL9t5",
        UploaderRunning: "clanimagepicker_UploaderRunning_1lRF9",
        UploaderDesc: "clanimagepicker_UploaderDesc_2fhbn",
        UploadError: "clanimagepicker_UploadError_3B5rV",
        UploadMessageAndButtonsContainer:
          "clanimagepicker_UploadMessageAndButtonsContainer_3OQ66",
        UploadSuccess: "clanimagepicker_UploadSuccess_2RXjw",
        UploadDismissButton: "clanimagepicker_UploadDismissButton_3j1zt",
        DragAndDropContainer: "clanimagepicker_DragAndDropContainer_2Q0Xd",
        DragAndDropContainerDragging:
          "clanimagepicker_DragAndDropContainerDragging_2Xhk9",
      };
    },
    "8b/1": function (e, t, a) {
      e.exports = {
        SearchResults: "eventsearch_SearchResults_1ZSuk",
        SmallText: "eventsearch_SmallText_3KfJI",
      };
    },
    "9jt8": function (e, t, a) {
      e.exports = {
        ValveOnlyGuidelineSummary:
          "saleguidelinedialog_ValveOnlyGuidelineSummary_G_5BB",
        SignedBy: "saleguidelinedialog_SignedBy_aFTva",
        GuidelinesNoticeCtn: "saleguidelinedialog_GuidelinesNoticeCtn_2vRv8",
        OpenGuidelinesBtnCtn: "saleguidelinedialog_OpenGuidelinesBtnCtn_1xJdi",
        GuidelinesDoneCtn: "saleguidelinedialog_GuidelinesDoneCtn_-bMPu",
        Text: "saleguidelinedialog_Text_1yrjm",
        Intro: "saleguidelinedialog_Intro_yYvoX",
        AgreementsCtn: "saleguidelinedialog_AgreementsCtn_1TWap",
        ContactSectionCtn: "saleguidelinedialog_ContactSectionCtn_3gDWx",
        SectionTitle: "saleguidelinedialog_SectionTitle_3HeMo",
      };
    },
    AvDr: function (e, t, a) {
      e.exports = {
        ThemedCtn: "partnereventoptions_ThemedCtn_3JuTN",
        CategoryOption: "partnereventoptions_CategoryOption_4ke28",
        CategoryTitle: "partnereventoptions_CategoryTitle_Dx6oJ",
        event_nomination_banner_ctn:
          "partnereventoptions_event_nomination_banner_ctn_1w12V",
        event_nomination_banner:
          "partnereventoptions_event_nomination_banner_2nEQS",
        event_nomination_banner_text:
          "partnereventoptions_event_nomination_banner_text_1gePU",
      };
    },
    BVhQ: function (e, t, a) {
      e.exports = {
        ErrorMessaage: "progressutils_ErrorMessaage_13sZc",
        UpdatingMessage: "progressutils_UpdatingMessage_3baPw",
      };
    },
    CY4d: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return S;
      }),
        a.d(t, "b", function () {
          return f;
        });
      var n = a("mrSG"),
        i = a("q1tI"),
        l = a("TyAF"),
        r = a("lkRc"),
        o = a("mgoM"),
        s = a("kLLr"),
        c = (a("1fPh"), a("YNty")),
        d = a("t0uJ"),
        m = a("buwe"),
        u = a("FRkE"),
        p = a("YWVM"),
        _ = a("SdTr"),
        g = a("UWWC"),
        b = (a("MUT6"), a("IjL/")),
        E = a("6AJf"),
        h = a("EGVG");
      let v = class extends i.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new s.a(r.b.CLANSTEAMID));
        }
        componentDidMount() {
          d.c.GetEditModel() &&
            "view" === this.props.mode &&
            d.c.GetEditModel().ClearDirty();
        }
        componentDidUpdate(e) {
          d.c.GetEditModel() &&
            "view" === this.props.mode &&
            d.c.GetEditModel().ClearDirty();
        }
        render() {
          const { mode: e } = this.props;
          if ("view" === e) {
            let e = d.c.GetEditModel().GetEventModel(),
              t = Object(o.d)(r.c.LANGUAGE);
            return e.BHasSaleEnabled()
              ? i.createElement(
                  b.a,
                  null,
                  i.createElement(E.b, {
                    eventModel: e,
                    bIsPreview: !0,
                    language: t,
                  })
                )
              : i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(c.a, {
                    event: e,
                    lang: t,
                    partnerEventStore: d.c,
                    emoticonStore: g.b,
                    adminPanel: i.createElement(p.a, {
                      eventModel: e,
                      partnerEventStore: d.c,
                    }),
                    otherEventRow: i.createElement(_.a, {
                      clanAccountID: e.clanSteamID.GetAccountID(),
                      trackingLocation: 6,
                      gidAnnouncement: e.AnnouncementGID,
                      partnerEventStore: d.c,
                      bViewAllShowInfiniteScroll: !e.BIsOGGEvent(),
                    }),
                  })
                );
          }
          return i.createElement(m.a, {
            editModel: d.c.GetEditModel(),
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            gid: this.props.match.params.gid,
            bDisplaySale: "previewsale" === e,
          });
        }
      };
      v = Object(n.b)([l.a], v);
      const S = Object(u.a)(v),
        f = (e) =>
          i.createElement(
            h.c,
            Object.assign({}, e, {
              key: e.match.params.oldAnnouncementGID,
              bClearDirty: !0,
              bPreview: !1,
              bPreventRedirect: !0,
            })
          );
    },
    Cdq1: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return j;
      }),
        a.d(t, "a", function () {
          return I;
        }),
        a.d(t, "c", function () {
          return D;
        });
      var n = a("mrSG"),
        i = a("2vnA"),
        l = a("q1tI"),
        r = a.n(l),
        o = (a("mgoM"), a("65aj"), a("3+zv"), a("hRO2")),
        s = a("OS8t");
      const c = o.Message;
      class d extends c {
        constructor(e = null) {
          super(),
            d.prototype.email_def_id || s.a(d.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: s.d.readFixed64String,
                    bw: s.h.writeFixed64String,
                  },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = s.e(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(d.M(), e, t);
        }
        static fromObject(e) {
          return s.c(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_CreatePartnerAppOptInEmail_Response";
        }
      }
      class m extends c {
        constructor(e = null) {
          super(), c.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new m();
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_UpdatePartnerAppOptInEmail_Response";
        }
      }
      class u extends c {
        constructor(e = null) {
          super(),
            u.prototype.accounts_examined || s.a(u.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  accounts_examined: {
                    n: 1,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accounts_emailed: {
                    n: 2,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accounts_not_emailed_opted_out: {
                    n: 3,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accounts_email_failed: {
                    n: 4,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  completed: { n: 5, br: s.d.readBool, bw: s.h.writeBool },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = s.e(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(u.M(), e, t);
        }
        static fromObject(e) {
          return s.c(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInEmailStats";
        }
      }
      class p extends c {
        constructor(e = null) {
          super(),
            p.prototype.results || s.a(p.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = { proto: p, fields: { results: { n: 1, c: u } } }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = s.e(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(p.M(), e, t);
        }
        static fromObject(e) {
          return s.c(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_SendPartnerAppOptInEmailAndWait_Response";
        }
      }
      class _ extends c {
        constructor(e = null) {
          super(),
            _.prototype.opt_in_name || s.a(_.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: s.d.readString,
                    bw: s.h.writeString,
                  },
                  targeting_flag: {
                    n: 2,
                    br: s.d.readFixed64String,
                    bw: s.h.writeFixed64String,
                  },
                  settings_flag: {
                    n: 3,
                    br: s.d.readFixed64String,
                    bw: s.h.writeFixed64String,
                  },
                  email_templates: {
                    n: 4,
                    br: s.d.readString,
                    bw: s.h.writeString,
                  },
                  start_rtime: {
                    n: 5,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  end_rtime: { n: 6, br: s.d.readUint32, bw: s.h.writeUint32 },
                  stats: { n: 7, c: u },
                  creator_accountid: {
                    n: 8,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  create_time: {
                    n: 9,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  last_update_time: {
                    n: 10,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  email_def_id: {
                    n: 11,
                    br: s.d.readFixed64String,
                    bw: s.h.writeFixed64String,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = s.e(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(_.M(), e, t);
        }
        static fromObject(e) {
          return s.c(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInEmailDef";
        }
      }
      class g extends c {
        constructor(e = null) {
          super(),
            g.prototype.defs || s.a(g.M()),
            c.initialize(this, e, 0, -1, [1], null);
        }
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: { defs: { n: 1, c: _, r: !0, q: !0 } },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = s.e(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(g.M(), e, t);
        }
        static fromObject(e) {
          return s.c(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerAppOptInEmailDefAndStats_Response";
        }
      }
      class b extends c {
        constructor(e = null) {
          super(),
            b.prototype.stats || s.a(b.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = { proto: b, fields: { stats: { n: 1, c: u } } }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = s.e(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(b.M(), e, t);
        }
        static fromObject(e) {
          return s.c(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetEstimatePartnerAppOptInEmail_Response";
        }
      }
      class E extends c {
        constructor(e = null) {
          super(), c.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new E();
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_TestFirePartnerAppOptInEmail_Response";
        }
      }
      class h extends c {
        constructor(e = null) {
          super(),
            h.prototype.appid || s.a(h.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  appid: { n: 1, br: s.d.readUint32, bw: s.h.writeUint32 },
                  opt_in: { n: 2, br: s.d.readBool, bw: s.h.writeBool },
                  opt_in_name: {
                    n: 3,
                    br: s.d.readString,
                    bw: s.h.writeString,
                  },
                  jsondata: { n: 4, br: s.d.readString, bw: s.h.writeString },
                  type: { n: 5, br: s.d.readEnum, bw: s.h.writeEnum },
                  accountid_add: {
                    n: 6,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  time_opted_in: {
                    n: 7,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  time_updated: {
                    n: 8,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accountid_lastmod: {
                    n: 9,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  invited: { n: 10, br: s.d.readBool, bw: s.h.writeBool },
                  accountid_remove: {
                    n: 11,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  time_opted_out: {
                    n: 12,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  pruned: { n: 13, br: s.d.readBool, bw: s.h.writeBool },
                  accountid_prune: {
                    n: 14,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  time_pruned: {
                    n: 15,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = s.e(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(h.M(), e, t);
        }
        static fromObject(e) {
          return s.c(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInData";
        }
      }
      class v extends c {
        constructor(e = null) {
          super(),
            v.prototype.data || s.a(v.M()),
            c.initialize(this, e, 0, -1, [1], null);
        }
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: { data: { n: 1, c: h, r: !0, q: !0 } },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = s.e(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(v.M(), e, t);
        }
        static fromObject(e) {
          return s.c(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetSinglePartnerAppOptIns_Response";
        }
      }
      class S extends c {
        constructor(e = null) {
          super(),
            S.prototype.data || s.a(S.M()),
            c.initialize(this, e, 0, -1, [1], null);
        }
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: { data: { n: 1, c: h, r: !0, q: !0 } },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = s.e(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(S.M(), e, t);
        }
        static fromObject(e) {
          return s.c(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerOptInInvites_Response";
        }
      }
      class f extends c {
        constructor(e = null) {
          super(),
            f.prototype.inviteid || s.a(f.M()),
            c.initialize(this, e, 0, -1, void 0, null);
        }
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  inviteid: {
                    n: 1,
                    br: s.d.readUint64String,
                    bw: s.h.writeUint64String,
                  },
                  accountid_sender: {
                    n: 2,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  email: { n: 3, br: s.d.readString, bw: s.h.writeString },
                  real_name: { n: 4, br: s.d.readString, bw: s.h.writeString },
                  note: { n: 5, br: s.d.readString, bw: s.h.writeString },
                  time_sent: { n: 6, br: s.d.readUint32, bw: s.h.writeUint32 },
                  current_state: { n: 7, br: s.d.readEnum, bw: s.h.writeEnum },
                  pub_rights: {
                    n: 8,
                    br: s.d.readUint64String,
                    bw: s.h.writeUint64String,
                  },
                  app_rights: {
                    n: 9,
                    br: s.d.readUint64String,
                    bw: s.h.writeUint64String,
                  },
                  time_receiver_responded: {
                    n: 10,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accountid: { n: 11, br: s.d.readUint32, bw: s.h.writeUint32 },
                  time_partner_responded: {
                    n: 12,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  accountid_partner: {
                    n: 13,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  partnerid: { n: 14, br: s.d.readUint32, bw: s.h.writeUint32 },
                  time_last_updated: {
                    n: 15,
                    br: s.d.readUint32,
                    bw: s.h.writeUint32,
                  },
                  sender_ip: { n: 16, br: s.d.readString, bw: s.h.writeString },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = s.e(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(f.M(), e, t);
        }
        static fromObject(e) {
          return s.c(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "MembershipInvite";
        }
      }
      class O extends c {
        constructor(e = null) {
          super(),
            O.prototype.invites || s.a(O.M()),
            c.initialize(this, e, 0, -1, [1], null);
        }
        static M() {
          return (
            O.sm_m ||
              (O.sm_m = {
                proto: O,
                fields: { invites: { n: 1, c: f, r: !0, q: !0 } },
              }),
            O.sm_m
          );
        }
        static MBF() {
          return O.sm_mbf || (O.sm_mbf = s.e(O.M())), O.sm_mbf;
        }
        toObject(e = !1) {
          return O.toObject(e, this);
        }
        static toObject(e, t) {
          return s.g(O.M(), e, t);
        }
        static fromObject(e) {
          return s.c(O.M(), e);
        }
        static deserializeBinary(e) {
          let t = new o.BinaryReader(e),
            a = new O();
          return O.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.b(O.MBF(), e, t);
        }
        serializeBinary() {
          var e = new o.BinaryWriter();
          return O.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.f(O.M(), e, t);
        }
        serializeBase64String() {
          var e = new o.BinaryWriter();
          return O.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMembershipInvite_GetInvites_Response";
        }
      }
      var C, y;
      !(function (e) {
        (e.GetSinglePartnerAppOptIn = function (e, t) {
          return e.SendMsg("Publishing.GetSinglePartnerAppOptIn#1", t, v, {
            bConstMethod: !0,
            ePrivilege: 1,
          });
        }),
          (e.GetPartnerOptInInvites = function (e, t) {
            return e.SendMsg("Publishing.GetPartnerOptInInvites#1", t, S, {
              bConstMethod: !0,
              ePrivilege: 1,
            });
          }),
          (e.CreatePartnerAppOptInEmails = function (e, t) {
            return e.SendMsg("Publishing.CreatePartnerAppOptInEmails#1", t, d, {
              ePrivilege: 1,
            });
          }),
          (e.UpdatePartnerAppOptInEmails = function (e, t) {
            return e.SendMsg("Publishing.UpdatePartnerAppOptInEmails#1", t, m, {
              ePrivilege: 1,
            });
          }),
          (e.SendPartnerOptInEmailAndWait = function (e, t) {
            return e.SendMsg(
              "Publishing.SendPartnerOptInEmailAndWait#1",
              t,
              p,
              { ePrivilege: 1 }
            );
          }),
          (e.GetPartnerAppOptInEmailDefAndStats = function (e, t) {
            return e.SendMsg(
              "Publishing.GetPartnerAppOptInEmailDefAndStats#1",
              t,
              g,
              { ePrivilege: 1 }
            );
          }),
          (e.GetEstimatePartnerAppOptInEmail = function (e, t) {
            return e.SendMsg(
              "Publishing.GetEstimatePartnerAppOptInEmail#1",
              t,
              b,
              { ePrivilege: 1 }
            );
          }),
          (e.TestFirePartnerAppOptInEmail = function (e, t) {
            return e.SendMsg(
              "Publishing.TestFirePartnerAppOptInEmail#1",
              t,
              E,
              { ePrivilege: 1 }
            );
          });
      })(C || (C = {})),
        (function (e) {
          e.GetInvites = function (e, t) {
            return e.SendMsg("PartnerMembershipInvite.GetInvites#1", t, O, {
              bConstMethod: !0,
              ePrivilege: 11,
            });
          };
        })(y || (y = {}));
      var T = a("lkRc");
      const j = "sale_nextfest_feb_2022";
      class I {
        constructor() {
          (this.m_optInData = new Map()),
            (this.m_optInDefDetails = new Map()),
            (window.g_optInStore = this);
          let e = Object(T.f)("appoptininfo", "application_config");
          this.ValidateStoreDefault(e)
            ? (("dev" != T.c.WEB_UNIVERSE && "beta" != T.c.WEB_UNIVERSE) ||
                console.log(
                  "DEV_DEBUG: COptInPartnerAppStore loading optin payload: " +
                    e.length,
                  e
                ),
              e.forEach((e) => {
                e.opt_in = Boolean(e.opt_in);
                let t = this.m_optInData.get(e.appid);
                t ? t.push(e) : this.m_optInData.set(e.appid, [e]);
              }))
            : console.error("Failed to load opt in information", e);
          let t = Object(T.f)("optindefspecialevents", "application_config");
          this.ValidateOptInDefinition(t) &&
            (("dev" != T.c.WEB_UNIVERSE && "beta" != T.c.WEB_UNIVERSE) ||
              console.log(
                "DEV_DEBUG: COptInPartnerAppStore loading optin definition payload: " +
                  t.length,
                t
              ),
            t.forEach((e) => this.m_optInDefDetails.set(e.optInName, e)));
        }
        BHasOptInSpecialEvents() {
          return this.m_optInDefDetails.size > 0;
        }
        GetAllSpecialEvents() {
          return Array.from(this.m_optInDefDetails.values());
        }
        GetAllSpecialEventTags() {
          return Array.from(this.m_optInDefDetails.values()).map((e) => e.tag);
        }
        GetOptInForApp(e, t) {
          let a = this.m_optInData.get(e),
            n = null;
          if (a)
            for (let e of a)
              if (e.opt_in_name === t) {
                n = e;
                break;
              }
          return n;
        }
        GetMatchingTagOptIn(e) {
          return Array.from(this.m_optInDefDetails.values()).filter(
            (t) => Boolean(t.tag) && e.includes(t.tag)
          );
        }
        static Get() {
          return (
            I.s_OptInStore ||
              ((I.s_OptInStore = new I()),
              ("dev" != T.c.WEB_UNIVERSE && "beta" != T.c.WEB_UNIVERSE) ||
                (window.g_OptInStore = I.s_OptInStore)),
            I.s_OptInStore
          );
        }
        ValidateStoreDefault(e) {
          const t = e;
          return t &&
            Array.isArray(t) &&
            t.length > 0 &&
            "object" == typeof t[0]
            ? "number" == typeof t[0].appid &&
                ("boolean" == typeof t[0].opt_in ||
                  "number" == typeof t[0].opt_in) &&
                "string" == typeof t[0].opt_in_name
            : t && Array.isArray(t) && 0 == t.length;
        }
        ValidateOptInDefinition(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].type &&
            "string" == typeof t[0].tag &&
            "string" == typeof t[0].optInName
          );
        }
      }
      function D(e, t) {
        const [a, n] = r.a.useState(!1);
        return Boolean(e) ? [a, I.Get().GetOptInForApp(e, t)] : [!1, null];
      }
      Object(n.b)([i.C], I.prototype, "m_optInData", void 0),
        Object(n.b)([i.C], I.prototype, "m_optInDefDetails", void 0);
    },
    Cksw: function (e, t, a) {
      e.exports = {
        GraphicalAssetsTabs: "tabbar_GraphicalAssetsTabs_3oSHT",
        GraphicalAssetsTab: "tabbar_GraphicalAssetsTab_3lJb_",
        Active: "tabbar_Active_8XjrT",
        GraphicalAssetStatus: "tabbar_GraphicalAssetStatus_25U4F",
        VOWarning: "tabbar_VOWarning_3LaJy",
        StatusSuccess: "tabbar_StatusSuccess_1iIRV",
        StatusDanger: "tabbar_StatusDanger_UxdQK",
        StatusCaution: "tabbar_StatusCaution_E9t9j",
      };
    },
    CoyA: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return _;
      });
      var n = a("HFvj"),
        i = a("aoTL"),
        l = a("q1tI"),
        r = (a("3+zv"), a("35zc")),
        o = a("b3LC"),
        s = a("ed1b"),
        c = a("xnZ7"),
        d = a.n(c),
        m = a("DisI"),
        u = a("TLQK"),
        p = a("JiI5");
      a("oqmg");
      function _(e) {
        const { capsule: t, capsuleContainer: a } = e,
          c = l.useCallback(() => {
            if (!t || !a) return !1;
            for (const e of a.capsules)
              if (
                e &&
                e !== t &&
                e.id == t.id &&
                e.type == t.type &&
                (!t.visibility_index ||
                  !e.visibility_index ||
                  e.visibility_index == t.visibility_index)
              )
                return !0;
            return !1;
          }, [t, a])(),
          [_] = Object(o.a)(
            null == t ? void 0 : t.id,
            Object(r.d)(null == t ? void 0 : t.type),
            { include_assets: !0 }
          ),
          g = Object(i.d)(() => t.visibility_index);
        if (!t)
          return l.createElement(
            "div",
            null,
            Object(u.f)("#EventEditor_InvalidCapsuleItem")
          );
        const b = Object(u.f)("#AppType_" + t.type),
          E = (null == _ ? void 0 : _.GetStorePageURL()) || Object(n.a)(t);
        return l.createElement(
          s.a,
          { className: d.a.FlexCenter, url: E },
          l.createElement(n.b, { capsule: t }),
          l.createElement("span", { className: p.SmallText }, "(", b, ")"),
          !_ &&
            l.createElement(
              "div",
              { className: p.SaleCapsuleConflict },
              Object(u.f)("#Sale_NotFoundCapsule"),
              l.createElement(m.b, {
                tooltip: Object(u.f)("#Sale_NotFoundCapsule_Tooltip", b, t.id),
              })
            ),
          c &&
            l.createElement(
              "div",
              { className: p.SaleCapsuleConflict },
              Object(u.f)("#Sale_DuplicateCapsule"),
              l.createElement(m.b, {
                tooltip: Object(u.f)("#Sale_DuplicateCapsule_Tooltip"),
              })
            ),
          Boolean(void 0 !== g) &&
            l.createElement(
              "span",
              { className: p.SaleVisibilityDate },
              Object(u.f)("#Sale_VisibilityIndex_Day", g + 1)
            )
        );
      }
    },
    CtwA: function (e, t, a) {
      e.exports = { itemimg: "saleitemdefwidgeteditor_itemimg_2by5O" };
    },
    DYbw: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return o;
      });
      var n = a("q1tI"),
        i = (a("3+zv"), a("Mgs7")),
        l = a("fpVW"),
        r = a("TLQK");
      function o(e) {
        const { setting: t, fnUpdateSetting: a } = e,
          o = n.useMemo(() => {
            const e = [];
            return (
              e.push({
                label: Object(r.f)("#EventEditor_Tile_NoRepeat"),
                data: "no-repeat",
              }),
              e.push({
                label: Object(r.f)("#EventEditor_Tile_RepeatX"),
                data: "repeat-x",
              }),
              e.push({
                label: Object(r.f)("#EventEditor_Tile_RepeatY"),
                data: "repeat-y",
              }),
              e.push({
                label: Object(r.f)("#EventEditor_Tile_Repeat"),
                data: "repeat",
              }),
              e
            );
          }, []);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(i.D, null, Object(r.f)("#EventEditor_Tile_Title")),
          n.createElement(i.n, {
            strDropDownClassName: l.DropDownScroll,
            rgOptions: o,
            selectedOption: t || "no-repeat",
            onChange: (e) => a(e.data),
            bDisableMouseOverlay: !0,
            contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
          })
        );
      }
    },
    DisI: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return u;
      }),
        a.d(t, "d", function () {
          return p;
        }),
        a.d(t, "a", function () {
          return _;
        }),
        a.d(t, "b", function () {
          return g;
        });
      var n = a("Mgs7"),
        i = a("TLQK"),
        l = a("6Y59"),
        r = a("q1tI"),
        o = a("exH9"),
        s = a("fpVW"),
        c = a("IjL/"),
        d = a("TyAF"),
        m = a("3USw");
      const u = Object(d.a)((e) =>
        r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            {
              className: Object(o.a)(
                e.className ? e.className : m.SectionTitleHeader,
                m.required_title
              ),
            },
            r.createElement(
              "div",
              {
                className: Object(o.a)(
                  s.EventEditorTextTitle,
                  "EventEditorTextTitle"
                ),
              },
              e.title,
              Boolean(e.tooltip) && r.createElement(g, { tooltip: e.tooltip })
            ),
            r.createElement(_, {
              bIsMinimized: e.getMinimized(),
              fnToggleMinimize: e.toggleMinimized,
            })
          ),
          !e.getMinimized() && r.createElement(c.a, null, e.children)
        )
      );
      function p(e) {
        const [t, a] = r.useState(Boolean(e.bStartMinimized));
        return r.createElement(
          u,
          Object.assign({}, e, {
            getMinimized: () => t,
            toggleMinimized: () => a(!t),
          }),
          e.children
        );
      }
      function _(e) {
        const { bIsMinimized: t, fnToggleMinimize: a } = e,
          o = t ? "#Section_Maximize_Tooltip" : "#Section_Minimize_Tooltip";
        return r.createElement(
          n.f,
          { "data-tooltip-text": Object(i.f)(o), onClick: a },
          e.bIsMinimized
            ? r.createElement(l.M, null)
            : r.createElement(l.P, null)
        );
      }
      function g(e) {
        return r.createElement(
          "span",
          {
            "data-tooltip-text": e.tooltip,
            className: Object(o.a)(s.HelperTooltip, "HelperTooltip"),
          },
          "",
          r.createElement(l.E, null)
        );
      }
    },
    "E/mv": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return I;
      }),
        a.d(t, "b", function () {
          return D;
        });
      var n = a("1fPh"),
        i = a("Ww0A"),
        l = (a("fcuX"), a("t0uJ")),
        r = a("FRkE"),
        o = a("LvgY"),
        s = a("xZdw"),
        c = a("as1E"),
        d = a.n(c),
        m = a("EA3E"),
        u = a("TyAF"),
        p = a("q1tI"),
        _ = a("EC67"),
        g = a("55Ip"),
        b = a("TQGK"),
        E = a("9w6b"),
        h = a("VZMZ"),
        v = a("fpVW"),
        S = a.n(v),
        f = a("0OaU"),
        O = a("UvY0"),
        C = a("exH9"),
        y = a("TLQK");
      const T = (e) => {
          const { clanInfo: t, onCategoryChosen: a } = e;
          if (!t) return null;
          const n = E.a.Get().GetPartnerEventPermissions(t.clanSteamID);
          return p.createElement(
            p.Fragment,
            null,
            p.createElement(
              s.a,
              Object.assign({}, i.a.news, { onCategoryChosen: a })
            ),
            p.createElement(
              s.a,
              Object.assign({}, i.a.public, { onCategoryChosen: a })
            ),
            Boolean((t.is_creator_home && !t.is_ogg) || n.valve_admin) &&
              p.createElement(
                s.a,
                Object.assign({}, i.a.salepage, {
                  onCategoryChosen: a,
                  bIsValveOnly: !(t.is_creator_home && !t.is_ogg),
                })
              )
          );
        },
        j = (e) => {
          const { onCategoryChosen: t } = e;
          return p.createElement(
            p.Fragment,
            null,
            p.createElement(s.a, {
              name: "#EventCategory_GameUpdate",
              description: "#EventCategory_GameUpdate_Desc",
              icon: "13",
              onCategoryChosen: t,
              subCategories: [
                i.b.small_update,
                i.b.regular_update,
                i.b.major_update,
              ],
            }),
            p.createElement(s.a, {
              name: "#EventCategory_GameRelease",
              description: "#EventCategory_GameRelease_Desc",
              icon: "16",
              onCategoryChosen: t,
              subCategories: [
                i.b.release,
                i.b.future_release,
                i.b.beta_release,
                i.b.dlc_release,
                i.b.season_release,
              ],
            }),
            p.createElement(s.a, {
              name: "#EventCategory_Sales",
              description: "#EventCategory_Sales_Desc",
              icon: "20",
              subCategoryDesc: "#EventCategory_Sales_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Sales_Sub_Title",
              subCategories: [i.b.sale, i.b.gameitem_sale, i.b.trial],
            }),
            p.createElement(s.a, {
              name: "#EventCategory_InGame",
              description: "#EventCategory_InGame_Desc",
              icon: "35",
              subCategoryDesc: "#EventCategory_Specials_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Specials_Sub_Title",
              subCategories: [i.b.bonusxp, i.b.loot, i.b.perks, i.b.general],
            }),
            p.createElement(s.a, {
              name: "#EventCategory_Challenge",
              description: "#EventCategory_Challenge_Desc",
              icon: "25",
              subCategoryDesc: "#EventCategory_Challenge_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Challenge_Sub_Title",
              subCategories: [i.b.challenge, i.b.contest],
            }),
            p.createElement(
              s.a,
              Object.assign({}, i.b.broadcast, { onCategoryChosen: t })
            ),
            p.createElement(
              s.a,
              Object.assign({}, i.b.news, { onCategoryChosen: t })
            ),
            p.createElement(
              s.a,
              Object.assign({}, i.b.chat, { onCategoryChosen: t })
            ),
            p.createElement(
              s.a,
              Object.assign({}, i.b.irl, { onCategoryChosen: t })
            ),
            p.createElement(
              s.a,
              Object.assign({}, i.b.crosspost, { onCategoryChosen: t })
            )
          );
        },
        I = Object(u.a)((e) => {
          const { editModel: t } = e,
            [a, i] = Object(b.b)(t.GetClanSteamID().GetAccountID()),
            [r, c] = p.useState(!1);
          p.useEffect(() => {
            t.BHasGid() || window.scrollTo(0, 0);
          }, [t]);
          const u = () => c(!0),
            E = "" + t.GetStrVanityOrAppID();
          if (r) {
            let e = t.GetGID(),
              a = t.GetEventModel().bOldAnnouncement;
            return p.createElement(_.b, {
              push: !0,
              to: a ? n.a.Migrate(E, t.GetAnnouncementGID()) : n.a.Edit(E, e),
            });
          }
          return p.createElement(
            "div",
            null,
            p.createElement(m.e, null),
            p.createElement(
              "div",
              {
                className: Object(C.a)(
                  "maincontent",
                  "pagecontent",
                  d.a.eventcategory_picker_page
                ),
              },
              p.createElement(
                "div",
                { className: S.a.EventDashboardHeader },
                p.createElement(h.c, {
                  identifier: e.match.params.appid_or_vanity_str,
                  partnerEventStore: l.c,
                }),
                p.createElement(
                  "div",
                  { className: S.a.EventDashboardTitles },
                  p.createElement(
                    "div",
                    { className: S.a.maintitle },
                    Object(y.f)("#EventDisplay_EventCreateTitle")
                  ),
                  p.createElement(
                    "div",
                    { className: S.a.EventDashboardActions },
                    p.createElement(
                      g.b,
                      {
                        className: Object(C.a)(S.a.Button),
                        to: n.a.Home(e.match.params.appid_or_vanity_str),
                      },
                      Object(y.f)("#EventDisplay_Events")
                    )
                  )
                ),
                p.createElement(
                  "div",
                  { className: S.a.subtitle },
                  Object(y.f)("#EventCategory_Communicate")
                )
              ),
              p.createElement(
                "div",
                { className: d.a.EventCategoryColumns },
                p.createElement(
                  "div",
                  { className: d.a.EventCategoryLeftCol },
                  p.createElement(
                    "div",
                    { className: d.a.EventCategory_Top_Title },
                    Object(y.f)("#EventCategory_SelectCategory")
                  ),
                  Boolean(i)
                    ? Boolean(i.is_curator || (i.is_creator_home && !i.is_ogg))
                      ? p.createElement(
                          p.Fragment,
                          null,
                          p.createElement(T, {
                            clanInfo: i,
                            onCategoryChosen: u,
                          }),
                          p.createElement(
                            O.b,
                            {
                              clanSteamID: t.GetClanSteamID(),
                              requireAdmin: !0,
                            },
                            p.createElement(o.a, { fnOnCategoryChosen: u }),
                            p.createElement(j, { onCategoryChosen: u })
                          )
                        )
                      : p.createElement(
                          p.Fragment,
                          null,
                          p.createElement(o.a, { fnOnCategoryChosen: u }),
                          p.createElement(j, { onCategoryChosen: u })
                        )
                    : p.createElement(f.a, {
                        position: "center",
                        string: Object(y.f)("#Loading"),
                      })
                ),
                p.createElement(s.b, null)
              )
            )
          );
        }),
        D = Object(r.a)((e) =>
          p.createElement(I, { match: e.match, editModel: l.c.GetEditModel() })
        );
    },
    EA3E: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return C;
      }),
        a.d(t, "c", function () {
          return y;
        }),
        a.d(t, "d", function () {
          return T;
        }),
        a.d(t, "e", function () {
          return j;
        }),
        a.d(t, "b", function () {
          return I;
        });
      var n = a("mrSG"),
        i = a("1fPh"),
        l = a("fcuX"),
        r = a("t0uJ"),
        o = a("TyAF"),
        s = a("q1tI"),
        c = a("EC67"),
        d = (a("mgoM"), a("3+zv")),
        m = a("gBDv"),
        u = a("9w6b"),
        p = a("vBFs"),
        _ = a("fpVW"),
        g = a.n(_),
        b = a("YLyR"),
        E = a("exH9"),
        h = a("TLQK"),
        v = (a("OS6B"), a("lkRc")),
        S = a("DisI"),
        f = a("K1T0"),
        O = a.n(f);
      function C(e) {
        const [t] = Object(m.c)();
        s.useEffect(
          () => (
            (window.onbeforeunload = () => {
              let e = r.c.GetEditModel();
              return e.BIsDirty() || t(e.GetGID())
                ? Object(h.f)("#EventEditor_UnsavedChanges")
                : null;
            }),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t]
        );
        return s.createElement(c.a, {
          message: (e) => {
            if (r.c.BHasEditModel()) {
              const a = r.c.GetEditModel();
              if (
                null != a &&
                null != a &&
                (a.BIsDirty() || t(a.GetGID())) &&
                (a.BHasGid() || a.GetChangeTypes() != l.d.type)
              ) {
                const t = a.GetStrVanityOrAppID();
                return (
                  e.pathname == i.a.Category(t, a.GetGID() || "") ||
                  e.pathname == i.a.Edit(t, a.GetGID() || "") ||
                  e.pathname == i.a.Preview(t, a.GetGID() || "") ||
                  e.pathname == i.a.PreviewSale(t, a.GetGID() || "") ||
                  Object(h.f)("#EventEditor_UnsavedChanges")
                );
              }
            }
            return !0;
          },
        });
      }
      const y = Object(o.a)((e) => {
        const t = r.c.GetEditModel(),
          a = t.GetCurEditLanguage();
        return s.createElement(p.a, {
          selectedLang: a,
          fnOnLanguageChanged: (a) => {
            t.SetCurEditLanguage(a) &&
              e.OnLanguageChange &&
              e.OnLanguageChange();
          },
          fnLangHasData: t.BHasLanguage,
          fnIsLangSupported: t.BDoesSupportLanguage,
          fnLastUpdateRTime: t.LastTimeLanguageUpdate,
          realms: t.GetIncludedRealmList(),
        });
      });
      let T = class extends s.Component {
        render() {
          let e = this.props.editModel,
            t = e.GetVisibilityState();
          const a = u.a.Get().GetPartnerEventPermissions(e.GetClanSteamID()),
            n =
              (e.BWillShowOnLibraryOverviewDueToSettings() ||
                e.BWillShowOnLibraryDetailDueToSettings()) &&
              Object(d.e)(e.GetEventModel());
          if (t == d.j.k_EEventStateVisible)
            return s.createElement(
              "div",
              { className: Object(E.a)(g.a.FlexColumnContainer, "visible") },
              s.createElement(
                "span",
                { className: g.a.FlexRowContainer },
                Object(h.f)("#EventEditor_Status"),
                ": ",
                s.createElement(
                  "span",
                  { className: "StatusVisibleText" },
                  "  ",
                  Object(h.f)("#EventEditor_Status_Public")
                ),
                a &&
                  s.createElement(S.b, {
                    tooltip: Object(h.f)("#EventEditor_Status_Public_ttip"),
                  }),
                n &&
                  s.createElement(
                    "span",
                    {
                      className: Object(E.a)(
                        O.a.PendingVisibilityText,
                        "PendingVisibilityText"
                      ),
                    },
                    "  ",
                    Object(h.f)("#EventEditor_Status_PendingModeration")
                  ),
                a &&
                  n &&
                  s.createElement(S.b, {
                    tooltip: Object(h.f)(
                      "#EventDashBoard_ModerationQueueWarning"
                    ),
                  })
              )
            );
          if (t == d.j.k_EEventStateStaged) {
            let t = e.GetEventVisibilityStartTime(),
              a = t == e.GetEventStartTime();
            return s.createElement(
              "div",
              { className: g.a.FlexColumnContainer },
              Object(h.f)("#EventEditor_Status") + ": ",
              Object(h.m)(
                a
                  ? "#EventEditor_Status_Staged_EventStart"
                  : "#EventEditor_Status_Staged",
                s.createElement(
                  "span",
                  { className: g.a.FlexRowContainer },
                  s.createElement(b.a, { bSingleLine: !0, dateAndTime: t }),
                  s.createElement(S.b, {
                    tooltip: Object(h.f)("#EventEditor_Status_Staged_ttip"),
                  })
                )
              )
            );
          }
          return s.createElement(
            "div",
            { className: g.a.FlexColumnContainer },
            s.createElement(
              "span",
              { className: g.a.FlexRowContainer },
              Object(h.f)("#EventEditor_Status") +
                ": " +
                Object(h.f)("#EventEditor_Status_Draft"),
              s.createElement(S.b, {
                tooltip: Object(h.f)("#EventEditor_Status_Draft_ttip"),
              })
            )
          );
        }
      };
      T = Object(n.b)([o.a], T);
      class j extends s.Component {
        render() {
          return s.createElement(
            "div",
            {
              className: Object(E.a)(
                g.a.FlexColumnContainer,
                g.a.BetaContainer,
                g.a.PartnerEventFont
              ),
            },
            s.createElement(
              "div",
              { className: g.a.EventBetaTextTitle },
              Object(h.f)("#PartnerEvent_Beta_Title")
            ),
            s.createElement("br", null),
            s.createElement(
              "div",
              null,
              Object(h.m)(
                "#PartnerEvent_Beta_Feedback",
                s.createElement(
                  "a",
                  {
                    target: v.c.IN_CLIENT ? void 0 : "_blank",
                    href:
                      "https://steamcommunity.com/groups/steamworks/discussions/24/",
                  },
                  Object(h.f)("#PartnerEvent_Beta_SteamWorks")
                )
              )
            )
          );
        }
      }
      class I extends s.Component {
        render() {
          return (
            console.warn(
              `EventNotAvailable message:"${this.props.strErrorMsg}" code:"${this.props.errorCode}"`
            ),
            s.createElement(
              "div",
              { className: O.a.ErrorPage },
              s.createElement(
                "div",
                { className: g.a.maintitle },
                Object(h.f)("#EventError_Title")
              ),
              this.props.errorCode &&
                s.createElement(
                  "div",
                  { className: O.a.ErrorCode },
                  " ",
                  Object(h.f)("#EventError_Code", this.props.errorCode),
                  " "
                ),
              this.props.strErrorMsg &&
                s.createElement(
                  "div",
                  { className: O.a.ErrorMsg },
                  this.props.strErrorMsg
                )
            )
          );
        }
      }
    },
    EGVG: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return V;
      }),
        a.d(t, "d", function () {
          return z;
        }),
        a.d(t, "c", function () {
          return W;
        }),
        a.d(t, "b", function () {
          return q;
        });
      var n = a("mrSG"),
        i = a("q1tI"),
        l = a.n(i),
        r = a("lkRc"),
        o = a("kLLr"),
        s = a("EC67"),
        c = a("1fPh"),
        d = a("EA3E"),
        m = (a("3+zv"), a("0OaU")),
        u = (a("65aj"), a("6oCP"), a("NCIP")),
        p = a("TyAF"),
        _ = a("YNty"),
        g = a("E/mv"),
        b = a("9w6b"),
        E = a("buwe"),
        h = a("mgoM"),
        v = a("t0uJ"),
        S = a("OS6B"),
        f = a("YWVM"),
        O = a("SdTr"),
        C = a("CdLH"),
        y = a("UWWC"),
        T = a("xnZ7"),
        j = a.n(T),
        I = a("TLQK"),
        D = a("opsS"),
        G = a("vDqi"),
        w = a.n(G),
        A = a("2vnA");
      a("AiWL");
      const M = "age_gate_";
      let k = new (class {
        constructor() {
          (this.m_promiseMap = new Map()),
            (this.m_mapAppIDAgeGateByPass = new Map());
        }
        GetAppIDBypassed(e) {
          if (!this.m_mapAppIDAgeGateByPass.has(e)) {
            let t = sessionStorage.getItem(M + e);
            this.m_mapAppIDAgeGateByPass.set(e, Boolean(t));
          }
          return this.m_mapAppIDAgeGateByPass.get(e);
        }
        SetAgeGateAppBypass(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            sessionStorage.setItem(M + e, "" + t);
            let n = r.c.COMMUNITY_BASE_URL + "actions/ajaxsetappagegatebypass/",
              i = new URLSearchParams();
            return (
              i.append("sessionid", r.c.SESSIONID),
              i.append("appid", "" + e),
              i.append("bypass", t ? "1" : "0"),
              (yield w.a.post(n, i, {
                withCredentials: !0,
                cancelToken: a.token,
              })).data.success
            );
          });
        }
        LoadAgeGatesBypassedForApp(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            return (
              this.m_promiseMap.has(e) ||
                this.m_promiseMap.set(
                  e,
                  this.InternalLoadAgeGatesBypassedForApp(e, t)
                ),
              this.m_promiseMap.get(e)
            );
          });
        }
        InternalLoadAgeGatesBypassedForApp(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let a = r.c.COMMUNITY_BASE_URL + "my/ajaxgetappagegatesbypassed/",
              n = { sessionid: r.c.SESSIONID, appids: [e] },
              i = yield w.a.get(a, {
                params: n,
                withCredentials: !0,
                cancelToken: t.token,
              });
            return (
              i.data.apps &&
                Object(A.G)(() => {
                  i.data.apps.forEach((t) => {
                    let a = Boolean(t.bypassed);
                    this.m_mapAppIDAgeGateByPass.set(t.appid, a),
                      sessionStorage.setItem(M + e, "" + a);
                  });
                }),
              Boolean(this.m_mapAppIDAgeGateByPass.get(e))
            );
          });
        }
        SessionByPassCheck(e) {
          this.m_mapAppIDAgeGateByPass.set(e, !0),
            sessionStorage.setItem(M + e, "" + !0);
        }
      })();
      var B = a("exH9");
      const N = "community_preference_storage";
      let L = new (class {
        constructor() {
          if (
            ((this.m_myCommunityPreferences = Object(A.C)({
              hide_adult_content_violence: !0,
              hide_adult_content_sex: !0,
              parenthesize_nicknames: !1,
              timestamp_updated: 0,
            })),
            localStorage.length > 0)
          ) {
            let e = JSON.parse(localStorage.getItem(N));
            e && (this.BIsStale(e) || this.CopyValue(e));
          }
        }
        BIsStale(e) {
          let t = Math.floor(Date.now() / 1e3);
          return e.timestamp_updated < t - 3600;
        }
        CopyValue(e) {
          Object(A.G)(() => {
            (this.m_myCommunityPreferences.hide_adult_content_sex =
              e.hide_adult_content_sex),
              (this.m_myCommunityPreferences.hide_adult_content_violence =
                e.hide_adult_content_violence),
              (this.m_myCommunityPreferences.parenthesize_nicknames =
                e.parenthesize_nicknames),
              (this.m_myCommunityPreferences.timestamp_updated =
                e.timestamp_updated);
          });
        }
        InternalLoadMyCommunityPreferences(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (r.h.logged_in && this.BIsStale(this.m_myCommunityPreferences)) {
              let t = r.c.COMMUNITY_BASE_URL + "my/ajaxgetcommunitypreference/",
                a = { sessionid: r.c.SESSIONID },
                n = yield w.a.get(t, {
                  params: a,
                  withCredentials: !0,
                  cancelToken: e ? e.token : void 0,
                });
              Object(A.G)(() => {
                this.CopyValue(n.data.preferences),
                  (this.m_myCommunityPreferences.timestamp_updated = Math.floor(
                    Date.now() / 1e3
                  )),
                  localStorage.setItem(
                    N,
                    JSON.stringify(this.m_myCommunityPreferences)
                  );
              });
            }
            return this.m_myCommunityPreferences;
          });
        }
        LoadMyCommunityPreferences(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            return (
              this.m_promise ||
                (this.m_promise = this.InternalLoadMyCommunityPreferences(e)),
              this.m_promise
            );
          });
        }
        GetCommunityPreference() {
          return (
            this.m_promise ||
              (this.m_promise = this.InternalLoadMyCommunityPreferences()),
            this.m_myCommunityPreferences
          );
        }
      })();
      var R = a("wYOC"),
        F = a("fpVW");
      class x extends l.a.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bDontWarnAgain: !1,
              bLoadingUserSettings: r.h.logged_in,
              bSettingBypass: !1,
            }),
            (this.m_cancelSignal = w.a.CancelToken.source());
        }
        static BIsAgeGateNeeded(e) {
          if (k.GetAppIDBypassed(e)) return !1;
          if (r.b.HAS_ADULT_CONTENT_SEX || r.b.HAS_ADULT_CONTENT_VIOLENCE) {
            let e = L.GetCommunityPreference();
            return (
              (r.b.HAS_ADULT_CONTENT_SEX && e.hide_adult_content_sex) ||
              (r.b.HAS_ADULT_CONTENT_VIOLENCE && e.hide_adult_content_violence)
            );
          }
          return r.b.HAS_ADULT_CONTENT;
        }
        componentDidMount() {
          const {
            bHasAdultContent: e,
            bHasAdultContentViolence: t,
            bHasAdultContentSex: a,
          } = this.props;
          (e || a || t) && this.LoadUserCommunityVisibilityPreferences();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("CommunityAgeGate component unmounted");
        }
        LoadUserCommunityVisibilityPreferences() {
          return Object(n.a)(this, void 0, void 0, function* () {
            try {
              const {
                onSetOverrideCancelSource: e,
                appid: t,
                fnOnDismissAgeGate: a,
              } = this.props;
              let n = L.LoadMyCommunityPreferences(e),
                i = k.LoadAgeGatesBypassedForApp(t, e);
              yield Promise.all([n, i]),
                this.m_cancelSignal.token.reason ||
                  x.BIsAgeGateNeeded(t) ||
                  a();
            } catch (e) {
              let t = Object(S.a)(e);
              console.error(
                "CommunityAgeGate.LoadUserCommunityVisibilityPreferences: " +
                  t.strErrorMsg,
                t
              );
            } finally {
              this.m_cancelSignal.token.reason ||
                this.setState({ bLoadingUserSettings: !1 });
            }
          });
        }
        OnWarnChange(e) {
          let t = e.target.checked;
          this.setState({ bDontWarnAgain: t, bSettingBypass: !0 }, () =>
            this.HandleOverrideSetting(t)
          );
        }
        HandleOverrideSetting(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { appid: t, onSetOverrideCancelSource: a } = this.props;
            try {
              let n = yield k.SetAgeGateAppBypass(t, e, a);
              1 !== n &&
                console.error("CommunityAgeGate.HandleOverrideSetting: " + n);
            } catch (e) {
              let t = Object(S.a)(e);
              console.error("CommunityAgeGate: " + t.strErrorMsg, t);
            } finally {
              this.m_cancelSignal.token.reason ||
                this.setState({ bSettingBypass: !1 });
            }
          });
        }
        OnDismiss() {
          const { appid: e } = this.props;
          k.SessionByPassCheck(e), this.props.fnOnDismissAgeGate();
        }
        render() {
          const {
            appid: e,
            bHasAdultContent: t,
            bHasAdultContentViolence: a,
            bHasAdultContentSex: n,
            strUrlHeaderImage: i,
          } = this.props;
          if (t || n || a)
            return l.a.createElement(
              "div",
              { className: R.adult_content_age_gate },
              i.length > 0
                ? l.a.createElement("img", {
                    className: R.header_image,
                    src: i,
                  })
                : l.a.createElement("h2", null, r.b.APP_NAME),
              l.a.createElement(
                "p",
                { className: R.descriptor },
                Object(I.f)("#AgeGate_Content"),
                l.a.createElement("br", null),
                a &&
                  n &&
                  Object(I.m)(
                    "#AgeGate_MayContain_4",
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Sex")
                    ),
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Nudity")
                    ),
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Violence")
                    ),
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Gore")
                    )
                  ),
                Boolean(!a && n) &&
                  Object(I.m)(
                    "#AgeGate_MayContain_2",
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Sex")
                    ),
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Nudity")
                    )
                  ),
                Boolean(a && !n) &&
                  Object(I.m)(
                    "#AgeGate_MayContain_2",
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Violence")
                    ),
                    l.a.createElement(
                      "span",
                      { className: R.strong },
                      Object(I.f)("#AgeGate_Gore")
                    )
                  ),
                Boolean(t && !n && !a) &&
                  l.a.createElement(
                    l.a.Fragment,
                    null,
                    Object(I.f)("#AgeGate_Generic1"),
                    l.a.createElement("br", null),
                    Object(I.f)("#AgeGate_Generic2")
                  )
              ),
              l.a.createElement("input", {
                className: R.checkbox,
                type: "checkbox",
                id: "ViewAllForApp",
                checked: this.state.bDontWarnAgain,
                onChange: this.OnWarnChange,
              }),
              l.a.createElement(
                "label",
                { htmlFor: "ViewAllForApp" },
                this.state.bSettingBypass &&
                  l.a.createElement(m.a, { size: "small" }),
                l.a.createElement(
                  "span",
                  null,
                  Object(I.f)("#AgeGate_DontWarnMe", r.b.APP_NAME)
                )
              ),
              l.a.createElement(
                "div",
                { className: Object(B.a)(F.FlexRowContainer, R.ButtonRow) },
                l.a.createElement(
                  "div",
                  { className: F.Button, onClick: this.OnDismiss },
                  Object(I.f)("#Button_ViewPage")
                ),
                l.a.createElement(
                  "a",
                  { className: F.Button, href: r.c.COMMUNITY_BASE_URL },
                  Object(I.f)("#Button_Cancel")
                )
              ),
              l.a.createElement(
                "div",
                { className: R.edit_preference },
                l.a.createElement("div", null, Object(I.f)("#AgeGate_Reason")),
                l.a.createElement(
                  "a",
                  {
                    className: R.edit_link,
                    href:
                      r.c.STORE_BASE_URL +
                      "account/preferences#CommunityContentPreferences",
                    target: r.c.IN_CLIENT ? void 0 : "_blank",
                  },
                  Object(I.f)("#AgeGate_Edit")
                )
              ),
              this.state.bLoadingUserSettings &&
                l.a.createElement(m.a, {
                  position: "center",
                  string: Object(I.f)("#AgeGate_LoadingPreferences"),
                })
            );
        }
      }
      Object(n.b)([D.b], x.prototype, "OnWarnChange", null),
        Object(n.b)([D.b], x.prototype, "OnDismiss", null);
      a("MUT6");
      var P = a("TQGK"),
        U = a("C4Nl");
      function V(e, t, a, i, l) {
        return Object(n.a)(this, void 0, void 0, function* () {
          if (
            v.c.BHasEditModel() &&
            v.c.GetEditModel().GetAnnouncementGID() == e
          )
            return;
          const [n, r, o, s] = yield Promise.all([
            0 != t
              ? U.a
                  .Get()
                  .QueueAppRequest(t, {
                    include_assets: !0,
                    include_platforms: !0,
                    include_screenshots: !0,
                    include_release: !0,
                    include_supported_languages: !0,
                  })
              : void 0,
            P.a.LoadClanInfoForClanSteamID(a),
            b.a.Get().LoadSingleAppEventPermissions(a),
            v.c.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
              a,
              e,
              Object(C.a)()
            ),
          ]);
          if (s && !s.bOldAnnouncement && !l) return s.GID;
          let c;
          (o.can_edit || o.support_user) &&
            (c = yield v.c.LoadClanEventLocalizationFromAnnouncementGID(a, e)),
            (function (e, t) {
              v.c.ResetModel(e.GID, e.clanSteamID);
              let a = v.c.GetEditModel();
              if ((a.Refresh(e), null != t)) {
                for (let e of t)
                  a.SetName(e.language, e.headline),
                    a.SetDescription(e.language, e.body);
                a.GetEventModel().loadedAllLanguages = !0;
              }
              a.SetMigrated(Date.now() / 1e3);
            })(s, c),
            i && v.c.GetEditModel().ClearDirty();
        });
      }
      class H extends i.Component {
        constructor() {
          super(...arguments),
            (this.m_clanSteamID = new o.a(r.b.CLANSTEAMID)),
            (this.m_cancelSignal = w.a.CancelToken.source());
        }
        HandleLoad() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const {
              match: e,
              bClearDirty: t,
              bPreventRedirect: a,
            } = this.props;
            try {
              const n = r.b.APPID,
                i = yield V(
                  e.params.oldAnnouncementGID,
                  n,
                  this.m_clanSteamID,
                  t,
                  a
                );
              this.setState({ redirectToGIDEvent: i, bLoading: !1 });
            } catch (e) {
              const t = Object(S.a)(e);
              console.error(
                "OldAnnouncementMigrationBaseClass: " + t.strErrorMsg,
                t
              ),
                this.setState(Object.assign({ bLoading: !1 }, t));
            }
          });
        }
        componentDidMount() {
          this.HandleLoad();
        }
        componentDidUpdate(e) {
          e.match.params.oldAnnouncementGID !=
            e.match.params.oldAnnouncementGID && this.HandleLoad();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "OldAnnouncementMigrationBaseClass unmounted"
          );
        }
        DismissAgeGate() {
          this.setState({ bShowAgeGate: !1 });
        }
        render() {
          return this.state.bShowAgeGate
            ? i.createElement(x, {
                bHasAdultContent: r.b.HAS_ADULT_CONTENT,
                bHasAdultContentSex: r.b.HAS_ADULT_CONTENT_SEX,
                bHasAdultContentViolence: r.b.HAS_ADULT_CONTENT_VIOLENCE,
                appid: r.b.APPID,
                fnOnDismissAgeGate: this.DismissAgeGate,
                strUrlHeaderImage: r.b.HEADER_IMAGE,
                onSetOverrideCancelSource: this.m_cancelSignal,
              })
            : this.state.bLoading
            ? i.createElement(
                "div",
                { className: j.a.FlexCenter, style: { height: "400px" } },
                i.createElement(m.a, {
                  position: "center",
                  size: "medium",
                  string: Object(I.f)("#Loading"),
                })
              )
            : null != this.state.strErrorMsg
            ? i.createElement(d.b, {
                strErrorMsg: this.state.strErrorMsg,
                errorCode: this.state.errorCode,
                appid_or_vanity_str: this.props.match.params
                  .appid_or_vanity_str,
              })
            : null != this.state.redirectToGIDEvent
            ? this.GetRedirectRender()
            : void 0;
        }
      }
      Object(n.b)([D.b], H.prototype, "DismissAgeGate", null);
      let z = class extends H {
        constructor() {
          super(...arguments),
            (this.state = { bLoading: !0, bShowAgeGate: !1 });
        }
        GetRedirectRender() {
          return i.createElement(s.b, {
            push: !0,
            to: c.a.Edit(
              this.props.match.params.appid_or_vanity_str,
              this.state.redirectToGIDEvent
            ),
          });
        }
        render() {
          let e = super.render();
          return null != e
            ? e
            : i.createElement(u.b, {
                appid: r.b.APPID,
                appid_or_vanity_str: this.props.match.params
                  .appid_or_vanity_str,
                gid: "",
                clanSteamID: this.m_clanSteamID,
              });
        }
      };
      z = Object(n.b)([p.a], z);
      let W = class extends H {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoading: !0,
              bShowAgeGate:
                !this.props.bPreview && x.BIsAgeGateNeeded(r.b.APPID),
            });
        }
        GetRedirectRender() {
          return i.createElement(s.b, {
            push: !0,
            to: c.a.View(
              this.props.match.params.appid_or_vanity_str,
              this.state.redirectToGIDEvent
            ),
          });
        }
        componentDidMount() {
          super.componentDidMount(),
            v.c.GetEditModel() &&
              0 == this.props.bPreview &&
              v.c.GetEditModel().ClearDirty();
        }
        componentDidUpdate() {
          v.c.GetEditModel() &&
            0 == this.props.bPreview &&
            v.c.GetEditModel().ClearDirty();
        }
        render() {
          let e = super.render();
          if (void 0 !== e) return e;
          if (this.props.bPreview)
            return i.createElement(E.a, {
              editModel: v.c.GetEditModel(),
              bDisplaySale: !1,
              appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
              gid: "",
            });
          let t = v.c.GetEditModel().GetEventModel();
          return i.createElement(_.a, {
            event: t,
            lang: Object(h.d)(r.c.LANGUAGE),
            partnerEventStore: v.c,
            emoticonStore: y.b,
            adminPanel: i.createElement(f.a, {
              eventModel: t,
              partnerEventStore: v.c,
            }),
            otherEventRow: i.createElement(O.a, {
              clanAccountID: t.clanSteamID.GetAccountID(),
              gidAnnouncement: t.GetAnnouncementGID(),
              trackingLocation: 6,
              partnerEventStore: v.c,
              bViewAllShowInfiniteScroll: !t.BIsOGGEvent(),
            }),
          });
        }
      };
      W = Object(n.b)([p.a], W);
      let q = class extends H {
        constructor() {
          super(...arguments),
            (this.state = { bLoading: !0, bShowAgeGate: !1 });
        }
        GetRedirectRender() {
          return i.createElement(s.b, {
            push: !0,
            to: c.a.Category(
              this.props.match.params.appid_or_vanity_str,
              this.state.redirectToGIDEvent
            ),
          });
        }
        render() {
          let e = super.render();
          return null != e
            ? e
            : i.createElement(g.a, {
                match: this.props.match,
                editModel: v.c.GetEditModel(),
              });
        }
      };
      q = Object(n.b)([p.a], q);
    },
    FAUN: function (e, t, a) {
      e.exports = {
        PublishContainer:
          "partnereventpublishingcontrols_PublishContainer_2tCY6",
      };
    },
    FRkE: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return h;
      });
      var n = a("mrSG"),
        i = a("q1tI"),
        l = a("OS6B"),
        r = a("lkRc"),
        o = a("t0uJ"),
        s = (a("1fPh"), a("0OaU")),
        c = a("kLLr"),
        d = a("EA3E"),
        m = a("U+Q5"),
        u = a("xnZ7"),
        p = a.n(u),
        _ = a("9w6b"),
        g = a("TQGK"),
        b = a("TLQK"),
        E = a("C4Nl");
      const h = (e) =>
        class extends i.Component {
          constructor() {
            super(...arguments), (this.state = { bLoading: !0, bIsError: !1 });
          }
          Load() {
            return Object(n.a)(this, void 0, void 0, function* () {
              const e = r.b.APPID,
                t = new c.a(r.b.CLANSTEAMID);
              try {
                yield Promise.all([
                  E.a
                    .Get()
                    .QueueAppRequest(e, {
                      include_assets: !0,
                      include_screenshots: !0,
                      include_release: !0,
                      include_supported_languages: !0,
                    }),
                  g.a.LoadClanInfoForClanSteamID(t),
                  o.c.LoadEditorModel(t, this.props.match.params.gid),
                  _.a.Get().LoadSingleAppEventPermissions(t),
                  r.b.CAN_UPLOAD_IMAGES && m.d.LoadClanImages(t, !1, null),
                ]);
                const a = _.a.Get().GetPartnerEventPermissions(t);
                a.can_edit || a.owns_app
                  ? this.setState({ bLoading: !1, bIsError: !1 })
                  : this.setState({
                      bLoading: !1,
                      bIsError: !1,
                      strErrorMsg: Object(b.f)("#EventError_PermissionDenied"),
                    });
              } catch (e) {
                this.setState(Object.assign({ bLoading: !1 }, Object(l.a)(e)));
              }
            });
          }
          componentDidMount() {
            this.Load();
          }
          componentDidUpdate(e) {
            e.match.params.gid != this.props.match.params.gid && this.Load();
          }
          render() {
            const {
              bLoading: t,
              bIsError: a,
              strErrorMsg: n,
              errorCode: l,
            } = this.state;
            return t
              ? i.createElement(
                  "div",
                  { className: p.a.FlexCenter },
                  i.createElement(s.a, null)
                )
              : a
              ? i.createElement(d.b, {
                  strErrorMsg: n,
                  errorCode: l,
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                })
              : i.createElement(e, Object.assign({}, this.props));
          }
        };
    },
    GOhU: function (e, t, a) {
      e.exports = {
        ToolContainer: "partnereventdescriptiontab_ToolContainer_1YUip",
        LanguageControlsCtn:
          "partnereventdescriptiontab_LanguageControlsCtn_14o5K",
        DescEditorPadding: "partnereventdescriptiontab_DescEditorPadding_3mLVV",
        ImagePickerCtn: "partnereventdescriptiontab_ImagePickerCtn_Mc28x",
      };
    },
    HFvj: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return d;
      }),
        a.d(t, "a", function () {
          return m;
        }),
        a.d(t, "b", function () {
          return u;
        });
      var n = a("JiI5"),
        i = a("IMce"),
        l = a("q1tI"),
        r = a("BBEf"),
        o = (a("3+zv"), a("sRB7"), a("35zc")),
        s = a("b3LC"),
        c = a("lkRc");
      const d = Object.assign(Object.assign({}, r.e), {
        include_assets: !0,
        include_tag_count: 20,
        include_release: !0,
      });
      function m(e) {
        const t = null == e ? void 0 : e.type;
        return "bundle" === t
          ? c.c.STORE_BASE_URL + "bundle/" + e.id
          : "sub" === t
          ? c.c.STORE_BASE_URL + "sub/" + e.id
          : c.c.STORE_BASE_URL + "app/" + (null == e ? void 0 : e.id);
      }
      function u(e) {
        const { capsule: t } = e,
          [a] = Object(s.c)(t.id, Object(o.d)(t.type), d);
        return l.createElement(
          l.Fragment,
          null,
          Boolean(a) &&
            l.createElement("img", {
              loading: "lazy",
              className: n.SaleCapsuleImg,
              src: a.GetAssets().GetHeaderURL(),
            }),
          l.createElement(
            "div",
            { className: i.EditTagsTitleText },
            (null == a ? void 0 : a.GetName()) || "",
            " (",
            t.id,
            ")"
          )
        );
      }
    },
    IASz: function (e, t, a) {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "managefriends_Heading_3kTQI",
        Body: "managefriends_Body_2s393",
        HeaderBlock: "managefriends_HeaderBlock_X9bYN",
        Background: "managefriends_Background_1xwi0",
        DimBackground: "managefriends_DimBackground_2N55H",
        Input: "managefriends_Input_1BUty",
        CopyContainer: "managefriends_CopyContainer_1HjkZ",
        Text: "managefriends_Text_1ehqR",
        Link: "managefriends_Link_18Sc0",
        Button: "managefriends_Button_2772E",
        GenerateLinkButton: "managefriends_GenerateLinkButton_T52tU",
        ProfileCard: "managefriends_ProfileCard_28a_C",
        UserContainer: "managefriends_UserContainer_29w-2",
        Image: "managefriends_Image_1n4lD",
        ProfileContent: "managefriends_ProfileContent_1qz9x",
        ProfileLink: "managefriends_ProfileLink_1tEt0",
        Failure: "managefriends_Failure_UoMCo",
        Success: "managefriends_Success_zNkyw",
      };
    },
    IMce: function (e, t, a) {
      e.exports = {
        FilterDisplayCtn: "partnereventsaletagitems_FilterDisplayCtn_3y3Xg",
        FilterTitle: "partnereventsaletagitems_FilterTitle_24W_L",
        FilterDisplayNoFilter:
          "partnereventsaletagitems_FilterDisplayNoFilter_1rdbp",
        FilterActionsCtn: "partnereventsaletagitems_FilterActionsCtn_2C1SZ",
        FilterSettingRightCol:
          "partnereventsaletagitems_FilterSettingRightCol_3Nq-P",
        FilterDisplayList: "partnereventsaletagitems_FilterDisplayList_2z8dM",
        ClauseRowCtn: "partnereventsaletagitems_ClauseRowCtn_14Xr-",
        MustHaveClause: "partnereventsaletagitems_MustHaveClause_1DnHX",
        MustNotHaveClause: "partnereventsaletagitems_MustNotHaveClause_2jCYC",
        TagItemCtn: "partnereventsaletagitems_TagItemCtn_m0Krj",
        TagItemImageCtn: "partnereventsaletagitems_TagItemImageCtn_gmw1A",
        NameAndTagCtn: "partnereventsaletagitems_NameAndTagCtn_3iqFC",
        NameCtn: "partnereventsaletagitems_NameCtn_2tE2h",
        TagSummaryCtn: "partnereventsaletagitems_TagSummaryCtn_2qiIu",
        TagSummary: "partnereventsaletagitems_TagSummary_Srtyk",
        TagShowToggle: "partnereventsaletagitems_TagShowToggle_2znRW",
        TagListCtn: "partnereventsaletagitems_TagListCtn_1QkXs",
        ItemTag: "partnereventsaletagitems_ItemTag_zTys5",
        TagHighlight: "partnereventsaletagitems_TagHighlight_3t7O7",
        TagMustHave: "partnereventsaletagitems_TagMustHave_1TwOa",
        TagMustNotHave: "partnereventsaletagitems_TagMustNotHave_209Gu",
        TagMissingMustHave: "partnereventsaletagitems_TagMissingMustHave_1fV9c",
        TagItemEditorCtn: "partnereventsaletagitems_TagItemEditorCtn_BCZuV",
        ItemListTitle: "partnereventsaletagitems_ItemListTitle_1Qb2C",
        ItemListControls: "partnereventsaletagitems_ItemListControls_3d5Ah",
        ButtonRow: "partnereventsaletagitems_ButtonRow_jzDFC",
        EditTagsTitle: "partnereventsaletagitems_EditTagsTitle_lZkG5",
        EditTagsTitleText: "partnereventsaletagitems_EditTagsTitleText_2ydMd",
        EditTagsBody: "partnereventsaletagitems_EditTagsBody_1GXBp",
        ColumnList: "partnereventsaletagitems_ColumnList_2K3OM",
        TagColumn: "partnereventsaletagitems_TagColumn_qG9e1",
        SmallColumn: "partnereventsaletagitems_SmallColumn_3sDs-",
        TagColumnList: "partnereventsaletagitems_TagColumnList_1CmFb",
        FillColumn: "partnereventsaletagitems_FillColumn_Goo9R",
        TagColumnTitle: "partnereventsaletagitems_TagColumnTitle_16Usf",
        PopulateByFilter: "partnereventsaletagitems_PopulateByFilter_ECCkN",
        EditTag: "partnereventsaletagitems_EditTag_10HeQ",
        AppliedTag: "partnereventsaletagitems_AppliedTag_2hdwo",
        OtherTag: "partnereventsaletagitems_OtherTag_3XSu2",
        DefaultTag: "partnereventsaletagitems_DefaultTag_1DR0t",
        SectionRemoved: "partnereventsaletagitems_SectionRemoved_3r5Sr",
        SectionAdded: "partnereventsaletagitems_SectionAdded_3RbJU",
        SectionUnchanged: "partnereventsaletagitems_SectionUnchanged_262k4",
        OKButton: "partnereventsaletagitems_OKButton_2vnfP",
        AddTagCtn: "partnereventsaletagitems_AddTagCtn_1hCAC",
        EditFitlerCtn: "partnereventsaletagitems_EditFitlerCtn_3OUM2",
        HideTagBreakdown: "partnereventsaletagitems_HideTagBreakdown_3yvRa",
        TagBreakdownCtn: "partnereventsaletagitems_TagBreakdownCtn_3YQ9j",
        TopSection: "partnereventsaletagitems_TopSection_1jYl9",
        TopTabs: "partnereventsaletagitems_TopTabs_FWpoZ",
        TagSelector: "partnereventsaletagitems_TagSelector_2_RKa",
        SectionTab: "partnereventsaletagitems_SectionTab_1-1pA",
        TabActive: "partnereventsaletagitems_TabActive_3GdyE",
        ShowTagBreakdown: "partnereventsaletagitems_ShowTagBreakdown_2lsxI",
        SectionTitle: "partnereventsaletagitems_SectionTitle_31ngR",
        MatchingItemsCtn: "partnereventsaletagitems_MatchingItemsCtn_20hem",
        ItemList: "partnereventsaletagitems_ItemList_pbaI3",
        TagBreakdownList: "partnereventsaletagitems_TagBreakdownList_306uE",
        SelectTag: "partnereventsaletagitems_SelectTag_Mbvwl",
        TagBreakdownEntry: "partnereventsaletagitems_TagBreakdownEntry_3FcaB",
        Selected: "partnereventsaletagitems_Selected_1dbZr",
        PercentageBarFill: "partnereventsaletagitems_PercentageBarFill_2RtUr",
        TextStats: "partnereventsaletagitems_TextStats_1uh33",
        TagName: "partnereventsaletagitems_TagName_2_TkE",
        TagUses: "partnereventsaletagitems_TagUses_13lRd",
        PercentageBar: "partnereventsaletagitems_PercentageBar_3j-lq",
        FilterControlsCtn: "partnereventsaletagitems_FilterControlsCtn_21IKJ",
        FilterControlBox: "partnereventsaletagitems_FilterControlBox_30c0H",
        OrLabel: "partnereventsaletagitems_OrLabel_nLRaJ",
        AndLabel: "partnereventsaletagitems_AndLabel_1HdmS",
        TagDropDown: "partnereventsaletagitems_TagDropDown_16GWP",
        ClauseTypeDropDown: "partnereventsaletagitems_ClauseTypeDropDown_3C61-",
        FirstClause: "partnereventsaletagitems_FirstClause_2U-HG",
        ClauseTagList: "partnereventsaletagitems_ClauseTagList_2Yv3H",
        OptInInputTitle: "partnereventsaletagitems_OptInInputTitle_1gDie",
        EditRawTextArea: "partnereventsaletagitems_EditRawTextArea_1HSN_",
        EditAutoTagsBody: "partnereventsaletagitems_EditAutoTagsBody_e8374",
        AutoTagList: "partnereventsaletagitems_AutoTagList_1EmxH",
        AutoTag: "partnereventsaletagitems_AutoTag_2gCmA",
        AutoTagRow: "partnereventsaletagitems_AutoTagRow_2o3nc",
        ForceUpdateFeaturedAppTagsDialogBody:
          "partnereventsaletagitems_ForceUpdateFeaturedAppTagsDialogBody_2Dix4",
        AddSummary: "partnereventsaletagitems_AddSummary_2-m9_",
        RemoveSummary: "partnereventsaletagitems_RemoveSummary_18_G7",
        AppTable: "partnereventsaletagitems_AppTable_3Wtit",
        AppTableRow: "partnereventsaletagitems_AppTableRow_X8HXp",
        AppID: "partnereventsaletagitems_AppID_n753z",
        AppName: "partnereventsaletagitems_AppName_1AjeX",
      };
    },
    "IY+y": function (e, t, a) {
      "use strict";
      a.r(t),
        a.d(t, "default", function () {
          return U;
        });
      var n = a("1fPh"),
        i = (a("jZUi"), a("CY4d")),
        l = a("q1tI"),
        r = a.n(l),
        o = (a("M1X1"), a("Y9L4"), a("EC67")),
        s = a("WBba"),
        c = a("qD+2"),
        d = (a("MUT6"), a("9w6b")),
        m = a("6oCP"),
        u = a("hKFG"),
        p = a("mB/g"),
        _ = a("xnZ7"),
        g = a.n(_),
        b = (a("idvb"), a("0OaU")),
        E = a("X2UP"),
        h = a("TLQK"),
        v = a("lkRc"),
        S = a("mrSG"),
        f = a("TyAF"),
        O = (a("65aj"), a("opsS")),
        C = a("r3N9"),
        y = a("TQGK"),
        T = (a("3+zv"), a("kLLr"), a("2vnA"));
      let j = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bShowModal: !1,
              bLoadedLandingState: this.props.bPreventDismiss,
            });
        }
        componentDidMount() {
          this.props.bPreventDismiss
            ? this.LoadAppAndFirstEvent()
            : (window.fnPartnerEvent_ShowInfiniteScroll = (e, t) => {
                this.setState({ bShowModal: !0, appid: e, announcementGID: t });
              });
        }
        LoadAppAndFirstEvent() {
          var e;
          return Object(S.a)(this, void 0, void 0, function* () {
            const t = Object(v.f)(
              "eventinfinitescrolllanding",
              "application_config"
            );
            let a;
            t && "string" == typeof t && (a = t);
            const n = window.location.href.startsWith(
                v.c.COMMUNITY_BASE_URL + "groups"
              ),
              i = n
                ? yield y.a.LoadOGGClanInfoForGroupVanity(
                    this.props.match.params.appid_or_vanity_str
                  )
                : yield y.a.LoadOGGClanInfoForIdentifier(
                    this.props.match.params.appid_or_vanity_str
                  );
            if ((console.log("output: ", Object(T.I)(i), n), i))
              if (i.partner_events_enabled) {
                const t = yield m.b.LoadAdjacentPartnerEventsByAnnouncement(
                  a,
                  i.clanSteamID,
                  i.appid,
                  3,
                  3
                );
                this.setState({
                  bLoadedLandingState: !1,
                  bShowModal: !0,
                  appid: i.appid,
                  clanSteamID: i.clanSteamID,
                  announcementGID:
                    null === (e = null == t ? void 0 : t[0]) || void 0 === e
                      ? void 0
                      : e.AnnouncementGID,
                });
              } else this.setState({ bLoadedLandingState: !1 });
            else
              console.error(
                "EventInfiniteScrollLanding: failed to load clan info for " +
                  this.props.match.params.appid_or_vanity_str
              ),
                this.setState({ bLoadedLandingState: !1 });
          });
        }
        HideModal() {
          this.props.bPreventDismiss || this.setState({ bShowModal: !1 });
        }
        render() {
          const { bPreventDismiss: e } = this.props;
          return this.state.bShowModal
            ? l.createElement(C.a, {
                appid: this.state.appid,
                announcementGID: this.state.announcementGID,
                clanSteamID: this.state.clanSteamID,
                closeModal: this.HideModal,
                partnerEventStore: m.b,
                trackingLocation: this.props.trackingLocation,
                showAppHeader: !0,
                bPrimaryPageFeature: e,
              })
            : this.state.bLoadedLandingState
            ? l.createElement(b.a, { string: Object(h.f)("#Loading") })
            : l.createElement("div", null);
        }
      };
      Object(S.b)([O.b], j.prototype, "HideModal", null),
        (j = Object(S.b)([f.a], j));
      var I = a("av+R");
      a("yLGM");
      var D = a("qDk6"),
        G = a("j+5p"),
        w = (a("kKgT"), a("hwrv"), a("apHd")),
        A = a("SdTr"),
        M = a("6Y59"),
        k = a("r+ba");
      class B extends r.a.Component {
        constructor(e) {
          super(e),
            (this.state = {
              events: null,
              bShowModal: !1,
              modalInitialEvent: null,
              bPreLoaded: !1,
              announcementGIDList: [],
              last_update_event: null,
            });
          const t = Object(w.a)("EventWebRowEmbed");
          this.ValidateStoreDefault(t) &&
            ((this.state.bPreLoaded = t.bPreLoaded),
            (this.state.announcementGIDList = t.announcementGIDList),
            (this.state.last_update_event = t.last_update_event),
            (this.state.events = []),
            this.state.announcementGIDList.forEach((e) => {
              const t = m.b.GetClanEventFromAnnouncementGID(e);
              t && this.state.events.push(t);
            }));
        }
        componentDidMount() {
          return Object(S.a)(this, void 0, void 0, function* () {
            const {
              appid: e,
              event_customization: t,
              partnerEventStore: a,
              trackingLocation: n,
            } = this.props;
            if (!this.state.bPreLoaded) {
              const i = yield a.LoadAdjacentPartnerEvents(
                null,
                null,
                e,
                0,
                2,
                t
              );
              if ((this.setState({ events: i }), n && i && i.length > 0)) {
                const e = d.a.Get().GetTracker();
                this.state.events
                  .filter((e) => e.BIsPartnerEvent())
                  .forEach((t) =>
                    e.MarkEventShown(t.GID, t.clanSteamID.GetAccountID(), n)
                  ),
                  e.Flush();
              }
            }
            window.fnPartnerEvent_ShowInfiniteScroll = (e, t) => {
              this.setState({
                bShowModal: !0,
                announcementGID: t,
                modalInitialEvent: void 0,
              });
            };
          });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !(!t || "object" != typeof t) &&
            void 0 !== t.bPreLoaded &&
            "boolean" == typeof t.bPreLoaded &&
            Array.isArray(t.announcementGIDList)
          );
        }
        ShowModal(e) {
          const { trackingLocation: t } = this.props;
          this.setState({
            bShowModal: !0,
            modalInitialEvent: e,
            announcementGID: void 0,
          });
          const a = d.a.Get().GetTracker();
          e &&
            e.BIsPartnerEvent() &&
            a.MarkEventRead(e.GID, e.clanSteamID.GetAccountID(), t) &&
            a.Flush();
        }
        ShowLatestUpdateModal() {
          const {
              event_gid: e,
              announcement_gid: t,
              clan_account_id: a,
            } = this.state.last_update_event,
            { trackingLocation: n } = this.props;
          this.setState({
            bShowModal: !0,
            modalInitialEvent: void 0,
            announcementGID: t,
          });
          const i = d.a.Get().GetTracker();
          e && i.MarkEventRead(e, a, n) && i.Flush();
        }
        CloseModal() {
          this.setState({ bShowModal: !1, modalInitialEvent: null });
        }
        BHasLastUpdateEvent() {
          var e;
          return Boolean(
            null === (e = this.state.last_update_event) || void 0 === e
              ? void 0
              : e.rtime
          );
        }
        BShouldShowLastUpdateEvent() {
          const { last_update_event: e, events: t } = this.state;
          return (
            !(
              !this.BHasLastUpdateEvent() ||
              !(null == e ? void 0 : e.announcement_gid)
            ) && !(null == t ? void 0 : t.length)
          );
        }
        render() {
          var e;
          const t = this.state.events;
          if (!t)
            return r.a.createElement(
              "div",
              { className: g.a.FlexCenter },
              r.a.createElement(b.a, { size: "medium", position: "center" })
            );
          const a = window.screen.width <= 500 ? 1 : 2,
            n = Boolean(null == t ? void 0 : t.length),
            i = this.BHasLastUpdateEvent(),
            l = this.BShouldShowLastUpdateEvent()
              ? this.state.last_update_event.announcement_gid
              : void 0,
            { strClassName: o } = this.props;
          return r.a.createElement(
            I.e,
            { className: o },
            this.state.bShowModal &&
              r.a.createElement(
                N,
                Object.assign({}, this.props, {
                  announcementGID:
                    this.state.announcementGID ||
                    (null === (e = this.state.modalInitialEvent) || void 0 === e
                      ? void 0
                      : e.AnnouncementGID),
                  eventModel: this.state.modalInitialEvent,
                  closeModal: this.CloseModal,
                })
              ),
            n &&
              r.a.createElement(
                "div",
                null,
                r.a.createElement(
                  "h2",
                  null,
                  Object(h.f)("#EventBrowse_RecentEvents")
                ),
                !v.c.IN_GAMEPADUI &&
                  r.a.createElement(
                    "div",
                    { className: k.SectionButtonCtn },
                    this.props.bViewAllShowInfiniteScroll
                      ? r.a.createElement(
                          I.e,
                          {
                            className: k.SectionButton,
                            onClick: () => this.ShowModal(t[0]),
                          },
                          Object(h.f)("#EventBrowse_MoreEventsBtn")
                        )
                      : r.a.createElement(
                          p.c,
                          {
                            eventModel: t[0],
                            route: p.a.k_eViewWebSiteHub,
                            className: k.SectionButton,
                          },
                          Object(h.f)("#EventBrowse_MoreEventsBtn")
                        )
                  ),
                r.a.createElement(
                  "div",
                  { className: k.EventsSummariesCtn },
                  t.slice(0, a).map((e) => {
                    const a =
                      1 === t.length && window.screen.width > 500 ? A.c : A.b;
                    return r.a.createElement(a, {
                      key: e.GID,
                      event: e,
                      onClick: (t) => {
                        this.ShowModal(e),
                          t.stopPropagation(),
                          t.preventDefault();
                      },
                    });
                  })
                )
              ),
            Boolean(i && l) &&
              r.a.createElement(R, {
                nUpdateTime: this.state.last_update_event.rtime,
                announcementGID: l,
                onClick: this.ShowLatestUpdateModal,
              }),
            Boolean(i && !l && !v.c.IN_GAMEPADUI) &&
              r.a.createElement(L, {
                nUpdateTime: this.state.last_update_event.rtime,
                onClick: this.ShowLatestUpdateModal,
              })
          );
        }
      }
      function N(e) {
        const {
          appid: t,
          partnerEventStore: a,
          trackingLocation: n,
          announcementGID: i,
          eventModel: l,
          closeModal: o,
        } = e;
        return r.a.createElement(C.a, {
          className: v.c.IN_GAMEPADUI ? void 0 : k.StoreHeaderAdjust,
          eventClassName: v.c.IN_GAMEPADUI ? k.GamePadUIWidthAdjust : void 0,
          appid: t,
          trackingLocation: n,
          announcementGID: i,
          partnerEventStore: a,
          eventModel: l,
          closeModal: o,
        });
      }
      function L(e) {
        return r.a.createElement(
          "div",
          { className: k.LatestUpdateButtonCtn },
          r.a.createElement(
            "div",
            { className: k.LatestUpdateIcon },
            r.a.createElement(M.sb, null)
          ),
          r.a.createElement(
            I.e,
            { className: k.LatestUpdateButton, onClick: e.onClick },
            Object(h.f)(
              "#EventBrowse_LatestUpdateTime_Button",
              Object(h.o)(e.nUpdateTime)
            )
          )
        );
      }
      function R(e) {
        const { nUpdateTime: t, announcementGID: a, onClick: n } = e,
          i = a ? m.b.GetClanEventFromAnnouncementGID(a) : null,
          l = (e) => {
            null == n || n(), e.stopPropagation(), e.preventDefault();
          };
        return r.a.createElement(
          "div",
          null,
          r.a.createElement(
            "h2",
            null,
            Object(h.f)("#EventBrowse_LastUpdateDate", Object(h.o)(t))
          ),
          r.a.createElement(
            "div",
            { className: k.SectionButtonCtn },
            r.a.createElement(
              "div",
              { className: k.SectionButton, onClick: l },
              Object(h.f)("#EventBrowse_ViewLatestUpdate")
            )
          ),
          Boolean(i) &&
            r.a.createElement(
              D.a,
              {
                className: k.EventsSummariesCtn,
                "flow-children": "column",
                navEntryPreferPosition: G.d.PREFERRED_CHILD,
              },
              r.a.createElement(A.c, { event: i, onClick: l })
            )
        );
      }
      Object(S.b)([O.b], B.prototype, "ShowModal", null),
        Object(S.b)([O.b], B.prototype, "ShowLatestUpdateModal", null),
        Object(S.b)([O.b], B.prototype, "CloseModal", null);
      var F = a("t0uJ"),
        x = a("5izx");
      class P extends r.a.Component {
        render() {
          const { appid: e } = this.props;
          let t = x.a.GetTimeNowWithOverrideAsDate(),
            a = new Date(t.setUTCHours(0, 0, 0, 0) - 15552e6),
            n = Math.floor(a.getTime() / 1e3);
          return r.a.createElement(
            "div",
            {
              className:
                "detailBox altFooter greenlight_home_box section announcements_row",
            },
            r.a.createElement(B, {
              appid: e,
              partnerEventStore: F.c,
              event_customization: {
                require_tags: ["workshop"],
                rtime_oldestevent: n,
              },
              strClassName: k.Container,
              trackingLocation: 6,
              bViewAllShowInfiniteScroll: !0,
            })
          );
        }
      }
      function U(e) {
        const [t, a] = r.a.useState(!0),
          l = Object(E.a)();
        return (
          r.a.useEffect(() => {
            c.a.Init(new s.a(v.c.WEBAPI_BASE_URL)),
              m.b.Init(),
              Object(u.a)(null),
              Promise.all([d.a.InitGlobal()]).then(() => {
                l.token.reason || a(!1);
              });
          }, []),
          t
            ? r.a.createElement(b.a, {
                position: "center",
                size: "medium",
                string: Object(h.f)("#Loading"),
              })
            : r.a.createElement(
                p.d.Provider,
                { value: { bCanUseLink: !0 } },
                r.a.createElement(
                  o.e,
                  null,
                  r.a.createElement(o.c, {
                    exact: !0,
                    path: n.c.ViewEventDetails(
                      ":appid_or_vanity_str",
                      ":oldAnnouncementGID(\\d+)"
                    ),
                    render: (e) => r.a.createElement(i.b, Object.assign({}, e)),
                  }),
                  r.a.createElement(o.c, {
                    exact: !0,
                    path: n.c.Listing(":appid_or_vanity_str"),
                    render: (e) =>
                      r.a.createElement(
                        j,
                        Object.assign(
                          {
                            key:
                              "InfScroll_NoDismissApp_" + e.match.params.appid,
                          },
                          e,
                          { bPreventDismiss: !0, trackingLocation: 6 }
                        )
                      ),
                  }),
                  r.a.createElement(o.c, {
                    exact: !0,
                    path: n.c.WorkshopHub(":appid(\\d+)"),
                    render: (e) =>
                      r.a.createElement(
                        P,
                        Object.assign({}, e, {
                          appid: +e.match.params.appid,
                          key: "Workshop" + e.match.params.appid,
                        })
                      ),
                  }),
                  r.a.createElement(o.c, {
                    path: n.c.AppHub(":appid"),
                    render: (e) =>
                      r.a.createElement(
                        j,
                        Object.assign({}, e, {
                          key: "InfScroll_App_" + e.match.params.appid,
                          trackingLocation: 6,
                        })
                      ),
                  }),
                  r.a.createElement(o.c, {
                    path: n.c.GroupHub(":group_vanity"),
                    render: (e) =>
                      r.a.createElement(
                        j,
                        Object.assign({}, e, {
                          key: "InfScroll_App_" + e.match.params.group_vanity,
                          trackingLocation: 6,
                        })
                      ),
                  }),
                  r.a.createElement(o.c, { component: V })
                )
              )
        );
      }
      function V(e) {
        return "dev" !== v.c.WEB_UNIVERSE
          ? r.a.createElement(o.b, { push: !0, to: "/" })
          : r.a.createElement("div", null, "Unknown route");
      }
    },
    "J/GH": function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return g;
      }),
        a.d(t, "d", function () {
          return E;
        }),
        a.d(t, "a", function () {
          return h;
        }),
        a.d(t, "b", function () {
          return v;
        });
      var n = a("Q47U"),
        i = a("fcuX"),
        l = a("q1tI"),
        r = a("mgoM"),
        o = a("65aj"),
        s = (a("Nsq5"), a("5izx")),
        c = a("qP7j"),
        d = a.n(c),
        m = a("YLyR"),
        u = a("TLQK"),
        p = a("N0Ye"),
        _ = a("lkRc");
      function g(e, t) {
        let a = new Array(),
          n = e.BPublished(),
          c = e.BHidden(),
          _ = s.a.GetTimeNowWithOverride(),
          g = e.ComputeStartTime(_),
          E = e.ComputeVisibilityStartTime(_, g),
          h =
            e.GetEndTimeEditChoice() == i.c.k_EDuration
              ? e.ComputeDurationBasedRoundedEndTime()
              : e.GetEventEndTime(),
          v = Object(p.c)(e.GetEventType(), e.GetEventModel().vecTags);
        (!n && e.GetStartTimeEditChoice() != i.e.k_ESpecified) ||
          (g && 0 != g) ||
          a.push(
            l.createElement(
              "li",
              { key: "EventEdit_Error_StartTimeNotSet" },
              l.createElement(
                "div",
                { className: d.a.ErrorStyles },
                Object(u.f)("#EventEdit_Error_StartTimeNotSet")
              )
            )
          ),
          n &&
            c &&
            E > g &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_VisibilityAfterStart" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEdit_Error_VisibilityAfterStart")
                )
              )
            ),
          !0 !== e.IsValidStartTimeForEdit() &&
            (e.GetEventStartTime() < e.GetEarliestStartTimeForEdit()
              ? a.push(
                  l.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeTooEarly_" + g },
                    l.createElement(
                      "div",
                      { className: d.a.ErrorStyles },
                      Object(u.m)(
                        "#EventEdit_Error_StartTimeTooEarly",
                        l.createElement(m.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        }),
                        l.createElement(m.a, {
                          dateAndTime: e.GetEarliestStartTimeForEdit(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                )
              : a.push(
                  l.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeInPast_" + g },
                    l.createElement(
                      "div",
                      { className: d.a.ErrorStyles },
                      Object(u.m)(
                        "#EventEdit_Error_StartTimeInPast",
                        l.createElement(m.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                ));
        let S = Object(p.a)(e.GetCategoryAsType());
        if (
          (!n ||
            !S ||
            (e.GetEventEndTime() && 0 != e.GetEventEndTime()) ||
            e.GetEndTimeEditChoice() != i.c.k_ESpecified ||
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_EndTimeNeededNotSet" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEdit_Error_EndTimeNeededNotSet")
                )
              )
            ),
          S && (t || n) && h < g)
        )
          a.push(
            l.createElement(
              "li",
              { key: "EventEdit_Error_EndTimeBeforeStart" },
              l.createElement(
                "div",
                { className: d.a.ErrorStyles },
                Object(u.f)("#EventEdit_Error_EndTimeBeforeStart")
              )
            )
          );
        else if (h && !0 !== e.IsValidEndTimeForEdit()) {
          const t = e.IsValidEndTimeForEdit();
          a.push(
            l.createElement(
              "li",
              { key: "EventEdit_Error_EndTimeBad" },
              l.createElement(
                "div",
                { className: d.a.ErrorStyles },
                Object(u.f)(t)
              )
            )
          );
        }
        let f = 0;
        for (let t = 0; t < 30; ++t) {
          const n = e.BIsLanguageValidForRealms(t),
            i = Object(u.f)("#Language_" + Object(r.a)(t));
          if (n && e.BHasLanguage(t) && !e.BHasLanguageRequired(t)) {
            let n = e.BHasLanguageTitle(t)
              ? "EventEdit_Error_TitleExistsMissingDesc"
              : "EventEdit_Error_DescExistsMissingTitle";
            a.push(
              l.createElement(
                "li",
                { key: n + t },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#" + n, i)
                )
              )
            );
          }
          e.BHasLanguageDescription(t) &&
            Array.from(e.GetDescription(t)).length > 32e3 &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_DescriptionTooLong" + t },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEdit_Error_DescriptionTooLong", i)
                )
              )
            );
          u.b.IsELanguageValidInRealm(t, o.ESteamRealm.k_ESteamRealmGlobal) &&
            e.BHasLanguageRequired(t) &&
            ++f;
        }
        if (
          (e.BInRealmGlobal() &&
            0 == f &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_MissingTitleAndDesc" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEdit_Error_MissingTitleAndDesc")
                )
              )
            ),
          e.BInRealmChina())
        )
          for (const t of u.b.GetLanguageListForRealms([
            o.ESteamRealm.k_ESteamRealmChina,
          ])) {
            const n = u.b.GetELanguageFallback(t);
            if (!e.BHasLanguageRequiredOrFallback(t, n)) {
              const e = Object(u.f)("#Language_" + Object(r.a)(t));
              a.push(
                l.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingChinaTitleAndDesc" + t },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)("#EventEdit_Error_MissingChinaTitleAndDesc", e)
                  )
                )
              );
            }
          }
        if (v) {
          const t =
              e.BInRealmGlobal() &&
              !e.GetEventModel().BHasTag("contenthub") &&
              !b(e, "capsule", 0),
            n =
              e.BInRealmChina() &&
              !(function (e, t) {
                for (const a of u.b.GetLanguageListForRealms([
                  o.ESteamRealm.k_ESteamRealmChina,
                ])) {
                  if (!b(e, t, a, u.b.GetELanguageFallback(a))) return !1;
                }
                return !0;
              })(e, "capsule");
          t &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_MissingCapsule" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)(
                    "#EventEdit_Error_MissingCapsule",
                    Object(u.f)("#PartnerEvent_" + e.GetEventType())
                  )
                )
              )
            ),
            n &&
              a.push(
                l.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingCapsuleChina" },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)(
                      "#EventEdit_Error_MissingCapsuleChina",
                      Object(u.f)("#PartnerEvent_" + e.GetEventType())
                    )
                  )
                )
              );
        }
        e
          .GetSaleSections()
          .reduce((e, t) => e + ("tabs" === t.section_type ? 1 : 0), 0) > 1 &&
          a.push(
            l.createElement(
              "li",
              { key: "EventEdit_Error_TooManyTabsSections" },
              l.createElement(
                "div",
                { className: d.a.ErrorStyles },
                Object(u.f)("#EventEdit_Error_TooManyTabsSections")
              )
            )
          ),
          e.BIsEventForOGGWithoutVisibleStorePage() &&
            !e.BOptedInForOGGWithoutVisibleStorePage() &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEdit_Error_PublishingForHiddenGame" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEdit_Error_PublishingForHiddenGame")
                )
              )
            ),
          e.BHasSaleEnabled() &&
            !e.GetEventModel().BHasSaleVanity() &&
            a.push(
              l.createElement(
                "li",
                { key: "EventEditor_SaleNotReady_ttip" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEditor_SaleNotReady_ttip")
                )
              )
            );
        const O = [
          [
            Object(u.f)("#EventEditor_Description_tab"),
            e.GetDescriptionCompletion(),
          ],
          [Object(u.f)("#EventEditor_Options_Title"), e.GetOptionsCompletion()],
          [Object(u.f)("#Sale_TabTitle"), e.GetSaleTabCompletion()],
        ];
        for (const [e, t] of O) {
          const n = t ? t.total - t.complete : 0;
          n &&
            a.push(
              l.createElement(
                "li",
                { key: e },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)(
                    "#EventEdit_Error_TabRequirementsIncomplete",
                    e,
                    n,
                    t.total
                  )
                )
              )
            );
        }
        return a;
      }
      function b(e, t, a, n = -1) {
        let i = e.GetImageURL(t, a);
        return (
          (i && 0 != i.length) || -1 == n || (i = e.GetImageURL(t, n)),
          i && i.length > 1
        );
      }
      function E(e) {
        let t = new Array(),
          a = e.BPublished(),
          n = e.BHidden();
        e.BInRealmGlobal() &&
          !e.BHasLanguageRequired(0) &&
          t.push(
            l.createElement(
              "li",
              { key: "EventEdit_Warning_EnglishMissing" },
              l.createElement(
                "div",
                { className: d.a.WarningStyles },
                Object(u.f)("#EventEdit_Warning_EnglishMissing")
              )
            )
          ),
          1 == e.GetEventType() &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEdit_Warning_Other" },
                l.createElement(
                  "div",
                  { className: d.a.WarningStyles },
                  Object(u.f)("#EventEdit_Warning_Other")
                )
              )
            );
        let i = 0,
          r = 0,
          c = 0,
          m = 0;
        for (let t = 0; t < 30; ++t) {
          const a = u.b.IsELanguageValidInRealm(
              t,
              o.ESteamRealm.k_ESteamRealmGlobal
            ),
            n = u.b.IsELanguageValidInRealm(
              t,
              o.ESteamRealm.k_ESteamRealmChina
            );
          if (!((a && e.BInRealmGlobal()) || (n && e.BInRealmChina())))
            continue;
          const l = n ? u.b.GetELanguageFallback(t) : t;
          b(e, "capsule", t, l) && i++,
            b(e, "spotlight", t, l) && m++,
            e.BHasLanguageRequiredOrFallback(t, l) &&
              (r++, (e.GetSubTitle(t) || e.GetSubTitle(l)) && c++);
        }
        _.b.CAN_UPLOAD_IMAGES &&
          0 == i &&
          t.push(
            l.createElement(
              "li",
              { key: "EventEdit_Warning_ArtworkMissing" },
              l.createElement(
                "div",
                { className: d.a.WarningStyles },
                Object(u.f)(
                  e.GetAppID()
                    ? "#EventEdit_Warning_ArtworkMissing"
                    : "#EventEdit_Warning_ArtworkMissing_clan"
                )
              )
            )
          ),
          c > 0 &&
            r > c &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEdit_Warnign_SubTitle" },
                l.createElement(
                  "div",
                  { className: d.a.WarningStyles },
                  Object(u.f)("#EventEdit_Warnign_SubTitle", c, r)
                )
              )
            ),
          i > 0 &&
            r > i &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEdit_Warnign_Artwork" },
                l.createElement(
                  "div",
                  { className: d.a.WarningStyles },
                  Object(u.f)("#EventEdit_Warnign_Artwork", i, r)
                )
              )
            );
        let p = e.GetEventVisibilityStartTime();
        return (
          a &&
            n &&
            e.BGetOriginalEventVisibilityStartTime() != p &&
            p <= s.a.GetTimeNowWithOverride() &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEdit_Warning_VisibilityTimeChange" },
                l.createElement(
                  "div",
                  { className: d.a.WarningStyles },
                  Object(u.f)("#EventEdit_Warning_VisibilityTimeChange")
                )
              )
            ),
          m > 0 &&
            !e.GetEventModel().BShowLibrarySpotlight() &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEdit_Warning_SpotlightImageWithFlag" },
                l.createElement(
                  "div",
                  { className: d.a.WarningStyles },
                  Object(u.f)("#EventEdit_Warning_SpotlightImageWithFlag")
                )
              )
            ),
          t
        );
      }
      function h(e) {
        let t = new Array(),
          a = new n.b(e),
          i = _.b.IS_VALVE_GROUP,
          o = a.GetSectionObj(i ? 0 : 1);
        for (let e = 0; e < 30; ++e) {
          let a = 0;
          o.GetHeadline(e) && o.GetHeadline(e).trim().length > 0 && (a += 1),
            o.GetBody(e) && o.GetBody(e).trim().length > 0 && (a += 1),
            i ||
              (1 != a && (2 == a || 0 !== e)) ||
              t.push(
                l.createElement(
                  "li",
                  { key: "EventEmail_Error_LanguageIncomplete" + e },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)(
                      "#EventEmail_Error_LanguageIncomplete",
                      Object(u.f)("#Language_" + Object(r.a)(e)),
                      a,
                      2
                    )
                  )
                )
              );
        }
        if (i) {
          a
            .GetSectionObjects()
            .filter(
              (e) => e.BHasHeadlineInLanguage(0) || e.BHasBodyInLanguage(0)
            ).length > 0 ||
            t.push(
              l.createElement(
                "li",
                { key: "EventEmail_Error_NoText" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEmail_Error_NoText")
                )
              )
            ),
            a.BHasAnyInternalTargetingAppRight() ||
              a.BHasAnyInternalTargetingPublisherRight() ||
              t.push(
                l.createElement(
                  "li",
                  { key: "EventEmail_Error_InternalTarget" },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)("#EventEmail_Error_InternalTarget")
                  )
                )
              );
        } else
          a.GetSectionObj(0).GetImageHashAndExtRaw(0) ||
            t.push(
              l.createElement(
                "li",
                { key: "EventEmail_Error_EnglishArtworkMissing" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEmail_Error_EnglishArtworkMissing")
                )
              )
            ),
            a.BHasSomeTargetEnabled() ||
              t.push(
                l.createElement(
                  "li",
                  { key: "EventEmail_Error_TargetSelection" },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)("#EventEmail_Error_TargetSelection")
                  )
                )
              ),
            void 0 === o.GetRawVideoURL() ||
              null === o.GetRawVideoURL() ||
              "" === o.GetRawVideoURL().trim() ||
              o.BHasValidVideoURL() ||
              t.push(
                l.createElement(
                  "li",
                  { key: "EventEmail_Error_InvalidVideo" },
                  l.createElement(
                    "div",
                    { className: d.a.ErrorStyles },
                    Object(u.f)("#EventEmail_Error_InvalidVideo")
                  )
                )
              );
        return (
          e.BHidden() &&
            t.push(
              l.createElement(
                "li",
                { key: "EventEmail_Error_EventNotLive" },
                l.createElement(
                  "div",
                  { className: d.a.ErrorStyles },
                  Object(u.f)("#EventEmail_Error_EventNotLive")
                )
              )
            ),
          t
        );
      }
      function v(e) {
        let t = new Array(),
          a = new n.b(e),
          i = _.b.IS_VALVE_GROUP,
          o = new Array();
        for (let e = 0; e < 30; ++e) {
          let t = 0,
            n = a.GetSectionObj(i ? 0 : 1);
          n.GetHeadline(e) && n.GetHeadline(e).trim().length > 0 && (t += 1),
            n.GetBody(e) && n.GetBody(e).trim().length > 0 && (t += 1),
            2 == t &&
              0 != e &&
              void 0 === a.GetSectionObj(0).GetImageHashAndExtRaw(e) &&
              o.push(e);
        }
        return (
          o.length > 0 &&
            (1 == o.length
              ? t.push(
                  l.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_1" + o[0] },
                    l.createElement(
                      "div",
                      { className: d.a.WarningStyles },
                      Object(u.f)(
                        "#EventEmail_Warning_ImageLanguage_1",
                        Object(u.f)("#Language_" + Object(r.a)(o[0]))
                      )
                    )
                  )
                )
              : 2 == o.length
              ? t.push(
                  l.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_2" + o[0] },
                    l.createElement(
                      "div",
                      { className: d.a.WarningStyles },
                      Object(u.f)(
                        "#EventEmail_Warning_ImageLanguage_2",
                        Object(u.f)("#Language_" + Object(r.a)(o[0])),
                        Object(u.f)("#Language_" + Object(r.a)(o[1]))
                      )
                    )
                  )
                )
              : t.push(
                  l.createElement(
                    "li",
                    { key: "EventEmail_Warning_ImageLanguage_n" + o[0] },
                    l.createElement(
                      "div",
                      { className: d.a.WarningStyles },
                      Object(u.f)(
                        "#EventEmail_Warning_ImageLanguage_n",
                        Object(u.f)("#Language_" + Object(r.a)(o[0])),
                        Object(u.f)("#Language_" + Object(r.a)(o[1])),
                        o.length - 2
                      )
                    )
                  )
                )),
          t
        );
      }
    },
    JiI5: function (e, t, a) {
      e.exports = {
        SaleContainer: "partnereventsale_SaleContainer_3BwSi",
        CustomSectionsTitle: "partnereventsale_CustomSectionsTitle_2L2x_",
        SaleSection: "partnereventsale_SaleSection_SOMqO",
        EditorCtn: "partnereventsale_EditorCtn_1SyQQ",
        DefaultTitlePicker: "partnereventsale_DefaultTitlePicker_1Rgup",
        SectionTypePicker: "partnereventsale_SectionTypePicker_3Tjtf",
        SectionTypePrompt: "partnereventsale_SectionTypePrompt_2yqih",
        CrossTabWarning: "partnereventsale_CrossTabWarning_2iLl5",
        CrossTabLink: "partnereventsale_CrossTabLink_VkuQf",
        UploadLinkRow: "partnereventsale_UploadLinkRow_zoWy8",
        UploadLinkImageButton: "partnereventsale_UploadLinkImageButton_3lofP",
        SmallText: "partnereventsale_SmallText_1SKHf",
        FlexContainer: "partnereventsale_FlexContainer_23PZF",
        SearchResults: "partnereventsale_SearchResults_IBZUs",
        AddTitleButton: "partnereventsale_AddTitleButton_1i6s-",
        RemoveTitleButton: "partnereventsale_RemoveTitleButton_3rCfB",
        customTitleOptionsCtn: "partnereventsale_customTitleOptionsCtn_18Ftt",
        CustomTitleCtn: "partnereventsale_CustomTitleCtn_3xf_h",
        LanguageInput: "partnereventsale_LanguageInput_9Ojz4",
        CustomImageTitle: "partnereventsale_CustomImageTitle_1Y-jG",
        PromptText: "partnereventsale_PromptText_2YG1P",
        UploadImageButton: "partnereventsale_UploadImageButton_3Jjrh",
        SettingCtn: "partnereventsale_SettingCtn_32UTR",
        Title: "partnereventsale_Title_11Euz",
        Columns: "partnereventsale_Columns_1uTkj",
        LeftCol: "partnereventsale_LeftCol_3CdEC",
        RightCol: "partnereventsale_RightCol_ly_n8",
        AddSectionBtnCtn: "partnereventsale_AddSectionBtnCtn_3afet",
        SmartSelType: "partnereventsale_SmartSelType_17JE0",
        SmartSelCount: "partnereventsale_SmartSelCount_VRUTW",
        SmartSelLabel: "partnereventsale_SmartSelLabel_2JVw-",
        SaleImportBar: "partnereventsale_SaleImportBar_2bBTj",
        SaleImportBarTooltip: "partnereventsale_SaleImportBarTooltip_12tD-",
        SaleImportBarButton: "partnereventsale_SaleImportBarButton_2JDr9",
        SaleCapsuleConflict: "partnereventsale_SaleCapsuleConflict_1pnji",
        SaleCapsuleImg: "partnereventsale_SaleCapsuleImg_3UFfV",
        SaleVisibilityDate: "partnereventsale_SaleVisibilityDate_2CATv",
        SaleVisibilityDateFilter:
          "partnereventsale_SaleVisibilityDateFilter_7xofs",
        SaleDaySelection: "partnereventsale_SaleDaySelection_nh0SY",
        TextSectionGroup: "partnereventsale_TextSectionGroup_3kcsq",
        TextSectionBBCode: "partnereventsale_TextSectionBBCode_2SWKu",
        TextSectionImages: "partnereventsale_TextSectionImages_3_gw-",
        SaleImportURL: "partnereventsale_SaleImportURL_1AmwV",
        BackgroundSettings: "partnereventsale_BackgroundSettings_3_B1e",
        HalfColumn: "partnereventsale_HalfColumn_3F_CF",
        ContentHubOverrideCtn: "partnereventsale_ContentHubOverrideCtn_3IkY7",
        ContentHubOverrideInnerCtn:
          "partnereventsale_ContentHubOverrideInnerCtn_3aA7g",
        SetupCtn: "partnereventsale_SetupCtn_yrYBA",
        TextFlag: "partnereventsale_TextFlag_2J4Yg",
        SectionOverrideCtn: "partnereventsale_SectionOverrideCtn_1jCl_",
        SalePageLogoCtn: "partnereventsale_SalePageLogoCtn_3YZLN",
      };
    },
    K1T0: function (e, t, a) {
      e.exports = {
        ErrorPage: "partnereventshared_ErrorPage_1HZBl",
        ErrorMsg: "partnereventshared_ErrorMsg__guJ8",
        ErrorCode: "partnereventshared_ErrorCode_2ZZXk",
        PendingVisibilityText: "partnereventshared_PendingVisibilityText_1G3Ia",
      };
    },
    K3tN: function (e, t, a) {
      e.exports = {
        CurrentTabsCtn: "saletabeditor_CurrentTabsCtn_24eKi",
        AddButton: "saletabeditor_AddButton_2fqBD",
        ImgPreview: "saletabeditor_ImgPreview_3jXQP",
        ColorButtonsCtn: "saletabeditor_ColorButtonsCtn_pxbho",
        EventEditorTextTitle: "saletabeditor_EventEditorTextTitle_2QrzB",
        SelectedTabDetailsCtn: "saletabeditor_SelectedTabDetailsCtn_3FCo-",
      };
    },
    "KP/B": function (e, t, a) {
      "use strict";
      a.d(t, "j", function () {
        return n;
      }),
        a.d(t, "x", function () {
          return b;
        }),
        a.d(t, "b", function () {
          return E;
        }),
        a.d(t, "c", function () {
          return v;
        }),
        a.d(t, "e", function () {
          return S;
        }),
        a.d(t, "a", function () {
          return f;
        }),
        a.d(t, "n", function () {
          return O;
        }),
        a.d(t, "m", function () {
          return C;
        }),
        a.d(t, "i", function () {
          return y;
        }),
        a.d(t, "h", function () {
          return T;
        }),
        a.d(t, "l", function () {
          return j;
        }),
        a.d(t, "f", function () {
          return I;
        }),
        a.d(t, "t", function () {
          return D;
        }),
        a.d(t, "k", function () {
          return G;
        }),
        a.d(t, "d", function () {
          return w;
        }),
        a.d(t, "u", function () {
          return M;
        }),
        a.d(t, "r", function () {
          return k;
        }),
        a.d(t, "s", function () {
          return B;
        }),
        a.d(t, "v", function () {
          return N;
        }),
        a.d(t, "w", function () {
          return L;
        }),
        a.d(t, "q", function () {
          return R;
        }),
        a.d(t, "o", function () {
          return F;
        }),
        a.d(t, "p", function () {
          return x;
        }),
        a.d(t, "g", function () {
          return H;
        });
      var n,
        i = a("mrSG"),
        l = a("226m"),
        r = a("HFvj"),
        o = a("2vnA"),
        s = a("65aj"),
        c = (a("3+zv"), a("li7h"), a("SvTV"), a("sRB7"), a("gOcu")),
        d = (a("ee7K"), a("C4Nl")),
        m = a("35zc"),
        u = a("iO5U"),
        p = a("gyoR"),
        _ = a("fcuX");
      !(function (e) {
        (e.Store = "Store"),
          (e.Feature = "Feature"),
          (e.OptIn = "Opt"),
          (e.Auto = "Auto"),
          (e.Custom = "Custom"),
          (e.AppType = "AppType");
      })(n || (n = {}));
      const g = {
        bUpdateStore: !0,
        bUpdateFeatures: !0,
        bUpdateAppTypes: !0,
        bUpdateOptIn: !0,
        bSyncTop20StoreTags: !1,
      };
      function b(e, t, a) {
        return Object(i.a)(this, void 0, void 0, function* () {
          a = Object.assign(Object.assign({}, g), a);
          const {
            bUpdateStore: i,
            bUpdateFeatures: _,
            bUpdateAppTypes: b,
            bUpdateOptIn: E,
            bSyncTop20StoreTags: h,
          } = a;
          yield Object(p.g)(
            t.map((e) => e.capsule),
            Object.assign(Object.assign({}, r.c), U)
          );
          const v = e.GetEventModel().jsondata.sale_opt_in_page_name,
            S = new Array();
          E && v && S.push(l.a.Get().HintLoadOptInPageData(v));
          const f = t
            .filter((e) => Object(s.BIsSaleItemType)(e.capsule.type))
            .map((e) => e.capsule.id);
          S.push(Object(p.h)(f)),
            _ && S.push(c.a.Get().LoadAppIDsBatch(f)),
            yield Promise.all(S);
          let O = !1;
          const C = E && v ? l.a.Get().GetOptInPageData(v) : null,
            y = new Map();
          if (i)
            for (const e of t) {
              const t = d.a
                  .Get()
                  .GetStoreItem(e.capsule.id, Object(m.d)(e.capsule.type)),
                a = (null == t ? void 0 : t.GetIncludedAppIDsOrSelf()) || [];
              y.set(e, a);
            }
          return (
            Object(o.G)(() => {
              var a;
              for (const l of t) {
                let t = !1;
                if (C) {
                  const e = C.get(l.capsule.id);
                  M(l, e ? e.tags.map((e) => e.name) : [], n.OptIn) && (t = !0);
                }
                if (i) {
                  const e = new Set();
                  for (const t of y.get(l)) {
                    const n = d.a.Get().GetApp(t);
                    n &&
                    (null === (a = n.GetTags()) || void 0 === a
                      ? void 0
                      : a.length)
                      ? null == n ||
                        n
                          .GetTags()
                          .slice(0, h ? 20 : 10)
                          .forEach((t) =>
                            e.add(u.a.Get().GetTagID(t.tagid).name)
                          )
                      : console.error("COULD NOT FIND TAGS FOR ", t);
                  }
                  M(l, Array.from(e), n.Store) && (t = !0);
                }
                if (_) {
                  M(l, V(l.capsule), n.Feature) && (t = !0);
                }
                if (b) {
                  M(l, P(l.capsule), n.AppType) && (t = !0);
                }
                t &&
                  (L(e.GetEventModel().jsondata.auto_item_tags, l), (O = !0));
              }
            }),
            O
          );
        });
      }
      function E(e, t, a) {
        return Object(i.a)(this, void 0, void 0, function* () {
          e.GetEventModel().jsondata.tagged_items ||
            (e.GetEventModel().jsondata.tagged_items = new Array());
          const n = e.GetEventModel().GetTaggedItems();
          if (n.find((e) => e.capsule.id === a && e.capsule.type === t)) return;
          const i = { capsule: { id: a, type: t }, tags: new Array() };
          yield b(e, [i]), n.push(i), N(e), e.SetDirty(_.d.jsondata_sales);
        });
      }
      function h(e, t) {
        e.manually_added_tags &&
          (e.manually_added_tags = e.manually_added_tags.filter(
            (e) => e.toLocaleLowerCase() != t
          )),
          e.manually_removed_tags &&
            (e.manually_removed_tags = e.manually_removed_tags.filter(
              (e) => e.toLocaleLowerCase() != t
            ));
      }
      function v(e, t) {
        let a = !1;
        const n = new Map();
        for (const t of e.tags) n.set(t.toLocaleLowerCase(), t);
        for (const i of t) {
          const t = i.toLocaleLowerCase();
          n.has(t)
            ? n.delete(t)
            : (h(e, t),
              e.manually_added_tags || (e.manually_added_tags = []),
              e.manually_added_tags.push(i),
              (a = !0));
        }
        return (
          n.forEach((t, n) => {
            h(e, n),
              e.manually_removed_tags || (e.manually_removed_tags = []),
              e.manually_removed_tags.push(t),
              (a = !0);
          }),
          a && (e.tags = t),
          a
        );
      }
      function S(e) {
        return JSON.parse(JSON.stringify(e));
      }
      function f(e, t, a) {
        for (const n of t) {
          const t = n.toLocaleLowerCase();
          let i = a.get(t);
          i ? i.items.push(e) : a.set(t, { properCaseString: n, items: [e] });
        }
      }
      function O(e) {
        const t = new Map();
        for (const a of e) a.tags && f(a, a.tags, t);
        return t;
      }
      function C(e) {
        const t = new Set();
        return e.forEach((e) => t.add(e.toLocaleLowerCase())), t;
      }
      function y(e, t) {
        if (t && t.clauses)
          for (const a of t.clauses) {
            if (!a.or_tags) continue;
            let t = !1,
              n = 0;
            for (const i of a.or_tags)
              if (i && (n++, (t = e.has(i.toLocaleLowerCase())), t)) break;
            if (0 === n) continue;
            if (!("Must have" === a.type ? t : !t)) return !1;
          }
        return !0;
      }
      function T(e, t) {
        if (t && t.clauses) {
          return y(C(e), t);
        }
        return !0;
      }
      function j(e, t) {
        return e.filter((e) => T(e.tags, t));
      }
      function I(e, t) {
        return "[" + t + "] " + e;
      }
      function D(e) {
        return e.replace(/^\[(.+)\]/, "").trim();
      }
      function G(e) {
        const t = /^\[(.+)\]/.exec(e);
        return t ? t[1] : void 0;
      }
      function w(e, t) {
        return G(e) === t;
      }
      function A(e, t) {
        return !!t && t.some((t) => t.toLocaleLowerCase() === e);
      }
      function M(e, t, a, n = null) {
        let i = !1;
        const l = new Map();
        t.forEach((e) => {
          const t = G(e);
          if (t && t !== a) return;
          const n = t ? e : I(e, a);
          l.set(n.toLocaleLowerCase(), n);
        });
        const r = I("", a).toLocaleLowerCase();
        let o = null;
        return (
          n &&
            ((o = new Set()),
            n.forEach((e) => {
              const t = G(e);
              if (t && t !== a) return;
              const n = t ? e : I(e, a);
              o.add(n.toLocaleLowerCase());
            })),
          (e.tags = e.tags.filter((t) => {
            const a = t.toLocaleLowerCase();
            return (
              !(!o || o.has(a)) ||
              !a.startsWith(r) ||
              (l.has(a)
                ? (l.delete(a), !0)
                : !!A(a, e.manually_added_tags) || ((i = !0), !1))
            );
          })),
          l.forEach((t, a) => {
            A(a, e.tags) ||
              A(a, e.manually_removed_tags) ||
              ((i = !0), e.tags.push(t));
          }),
          i
        );
      }
      function k(e) {
        var t;
        if (
          !e ||
          !(null === (t = e.clauses) || void 0 === t ? void 0 : t.length)
        )
          return !0;
        for (const t of e.clauses) if (t.or_tags.length > 0) return !1;
        return !0;
      }
      function B(e, t, a) {
        const n = new Map();
        for (const e of a) n.set(e.type + e.id, !1);
        const i = j(e, t),
          l = new Array();
        for (const e of i) {
          const t = e.capsule.type + e.capsule.id,
            a = n.get(t);
          void 0 === a ? l.push(e.capsule) : !1 === a && n.set(t, !0);
        }
        const r = a.filter((e) => n.get(e.type + e.id));
        return r.push(...l), r;
      }
      function N(e) {
        Object(o.G)(() => {
          const t = F(e);
          if (e.GetEventModel().jsondata.sorting_tiers)
            for (const a of e.GetEventModel().jsondata.sorting_tiers)
              a.sale_tag_filter &&
                (a.capsules = B(t, a.sale_tag_filter, a.capsules));
          for (const a of e.GetEventModel().GetSaleSections())
            if (
              ("sale_item_browser" === a.section_type
                ? (a.capsules = void 0)
                : a.sale_tag_filter &&
                  (a.capsules = B(t, a.sale_tag_filter, a.capsules)),
              a.tabs)
            )
              for (const e of a.tabs)
                e.sale_tag_filter &&
                  (e.capsules = B(t, e.sale_tag_filter, e.capsules));
        });
      }
      function L(e, t) {
        const a = new Array();
        if (e) for (const n of e) T(t.tags, n.filter) && a.push(n.tag_name);
        return M(t, a, n.Auto);
      }
      function R(e) {
        return e.GetEventModel().jsondata.tagged_item_filter || { clauses: [] };
      }
      function F(e) {
        const t = R(e);
        return j(e.GetEventModel().GetTaggedItems(), t);
      }
      function x() {
        return [
          "game",
          "software",
          "dlc",
          "demo",
          "music",
          "video",
          "hardware",
        ];
      }
      function P(e) {
        const t = [],
          a = new Set([
            "game",
            "software",
            "dlc",
            "demo",
            "music",
            "video",
            "hardware",
          ]),
          n = d.a.Get().GetApp(e.id);
        if (n) {
          const e = Object(m.a)(n.GetStoreItemType(), n.GetAppType());
          a.has(e) && t.push(e);
        }
        return t;
      }
      const U = { include_release: !0, include_platforms: !0 };
      function V(e) {
        var t, a, n;
        const i = new Array(),
          l = c.a.Get().GetDemoEventInfo(e.id),
          r = d.a.Get().GetApp(e.id);
        if ((l && l.demo_appid && i.push("Has Demo"), r)) {
          r.BIsComingSoon() && i.push("Coming Soon"),
            r.BIsEarlyAccess() && i.push("Early Access");
          const e = r.GetPlatforms();
          e.linux && i.push("Linux"),
            e.mac && i.push("Mac"),
            (null === (t = e.vr_support) || void 0 === t ? void 0 : t.vrhmd) &&
              i.push("VR"),
            (null === (a = e.vr_support) || void 0 === a
              ? void 0
              : a.vrhmd_only) && i.push("VR Only"),
            (2 != e.steam_deck_compat_category &&
              3 != e.steam_deck_compat_category) ||
              i.push("Steam Deck Playable"),
            3 == e.steam_deck_compat_category && i.push("Steam Deck Verified"),
            (null === (n = r.GetBestPurchaseOption()) || void 0 === n
              ? void 0
              : n.discount_pct) && i.push("Discounted"),
            r.BIsFree() && i.push("Free");
          const l = r.GetAppType();
          11 === l && i.push("Soundtrack"),
            4 == l && i.push("DLC"),
            12 == l && i.push("PlayTest"),
            r.HasContentDescriptorID(3) && i.push("Adult Only Sexual Content"),
            r.HasContentDescriptorID(1) && i.push("Nudity or Sexual Content"),
            r.HasContentDescriptorID(2) && i.push("Violence or Gore"),
            r.BHasStoreCategory(28) && i.push("Full Controller"),
            r.BHasStoreCategory(9) && i.push("Coop"),
            (r.BHasStoreCategory(41) ||
              r.BHasStoreCategory(42) ||
              r.BHasStoreCategory(43) ||
              r.BHasStoreCategory(44)) &&
              i.push("Remote Play"),
            r.BHasStoreCategory(44) && i.push("Remote Play Together");
        } else console.log("Could not load storeinfo for", e.type, e.id);
        return i;
      }
      function H(e) {
        const t = R(e);
        if (k(t)) return !1;
        const a = e.GetEventModel().jsondata.tagged_items.length;
        return (
          Object(o.G)(() => {
            e.GetEventModel().jsondata.tagged_items = j(
              e.GetEventModel().jsondata.tagged_items,
              t
            );
          }),
          e.GetEventModel().jsondata.tagged_items.length !== a
        );
      }
    },
    KmXr: function (e, t, a) {
      e.exports = {
        Label: "importexportdialog_Label_1LhIt",
        ImportLocSampleButtonCtn:
          "importexportdialog_ImportLocSampleButtonCtn_D-1dl",
        SampleTitle: "importexportdialog_SampleTitle_9189i",
        ImportButton: "importexportdialog_ImportButton_Wyfyx",
      };
    },
    LvgY: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return I;
      }),
        a.d(t, "b", function () {
          return w;
        });
      var n = a("mrSG"),
        i = a("Ww0A"),
        l = a("tP3u"),
        r = a("t0uJ"),
        o = a("xZdw"),
        s = a("as1E"),
        c = a.n(s),
        d = a("2vnA"),
        m = a("TyAF"),
        u = a("wd/R"),
        p = a.n(u),
        _ = a("q1tI"),
        g = (a("mgoM"), a("65aj")),
        b = (a("3+zv"), a("jkzW"), a("TQGK")),
        E = a("5izx"),
        h = a("Cdq1"),
        v = a("qP7j"),
        S = a("fpVW"),
        f = a.n(S),
        O = a("0OaU"),
        C = a("exH9"),
        y = a("TLQK"),
        T = a("lkRc"),
        j = a("PqGv");
      const I = (e) =>
          _.createElement(
            _.Fragment,
            null,
            _.createElement(M, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            _.createElement(D, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            _.createElement(G, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            _.createElement(A, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            _.createElement(B, { fnOnCategoryChosen: e.fnOnCategoryChosen })
          ),
        D = (e) => {
          const t = p()("2021-09-10T10:00:00-07:00").unix(),
            a =
              (p()("2021-10-28T10:00:00-07:00").unix(),
              p()("2021-11-01T10:00:00-07:00").unix()),
            n = p()("2021-11-21T10:00:00-08:00").unix(),
            l = r.c.GetEditModel(),
            s = E.a.GetTimeNowWithOverride();
          if (!l || s < t || s > a) return null;
          const c = {
            name: "dummy",
            description: "dummy",
            tags: ["halloween"],
            earliestAllowedStartTime: t,
            latestAllowedEndTime: n,
            actionEndTime: n,
            onCategoryChosen: e.fnOnCategoryChosen,
          };
          return _.createElement(
            "div",
            { className: Object(C.a)(j.Halloween) },
            _.createElement(
              "div",
              { className: Object(C.a)(j.EventTitle) },
              Object(y.f)("#EventEditor_Category_Halloween")
            ),
            _.createElement(
              "div",
              { className: Object(C.a)(j.EventDesc) },
              Object(y.m)(
                "#EventEditor_Category_Halloween_Desc",
                _.createElement(
                  "a",
                  {
                    href:
                      "https://partner.steamgames.com/doc/marketing/event_tools/halloween",
                    target: "_blank",
                  },
                  Object(y.f)("#EventEditor_Category_Halloween_Docs")
                )
              )
            ),
            _.createElement(
              o.a,
              Object.assign({}, c, {
                name: "#EventEditor_Category_DLC_Halloween",
                description: "#EventEditor_Category_DLC_Halloween_Desc",
                icon: "promo_02",
                type: 15,
              })
            ),
            _.createElement(
              o.a,
              Object.assign({}, c, {
                name: "#EventCategory_InGame",
                description: "#EventCategory_InGame_Desc",
                subCategoryDesc: "#EventEditor_Category_InGame_Halloween_Desc",
                icon: "halloween_35",
                subCategories: [
                  Object.assign(Object.assign({}, c), i.b.bonusxp),
                  Object.assign(Object.assign({}, c), i.b.loot),
                  Object.assign(Object.assign({}, c), i.b.perks),
                  Object.assign(
                    Object.assign(Object.assign({}, c), i.b.general),
                    {
                      description: "#PartnerEvent_halloween_35_Desc",
                      icon: "halloween_35",
                    }
                  ),
                ],
              })
            )
          );
        },
        G = (e) => {
          const t = r.c.GetEditModel(),
            a = p()("2021-11-11T10:00:00-08:00").unix(),
            n = p()("2021-11-24T10:00:00-08:00").unix(),
            i = p()("2021-12-01T10:00:00-08:00").unix();
          switch (t.GetAppID()) {
            case 230410:
            case 271590:
            case 730:
              return null;
          }
          const l = E.a.GetTimeNowWithOverride();
          return !t || !t.BIsAppReleased() || l < a || l > i
            ? null
            : _.createElement(
                "div",
                { className: j.EventCategory_SteamAwardsNomination },
                _.createElement(o.a, {
                  name: "#EventCategory_SteamAwardsNomination",
                  description: "#EventCategory_SteamAwardsNomination_Desc",
                  icon: "trophy",
                  onCategoryChosen: e.fnOnCategoryChosen,
                  type: 28,
                  tags: [
                    "steam_award_nomination_request",
                    "mod_hide_library_overview",
                  ],
                  earliestAllowedStartTime: n,
                  latestAllowedEndTime: i,
                  actionEndTime: i,
                })
              );
        };
      let w = class extends _.Component {
        render() {
          const e = r.c.GetEditModel(),
            t = e.GetAppReleaseDate(),
            a = p()("2020-12-01T10:00:00-08:00").unix(),
            n = t && t > a,
            i = (n ? [61, 62, 63, 67, 68, 64, 66, 69, 65, 70] : [63]).map(
              (t) => {
                const a = `EventEditor_SteamAwardCategory_${t}`;
                return _.createElement(
                  "div",
                  {
                    key: a,
                    className: Object(C.a)(
                      j.RadioBtnCtn,
                      f.a.FlexRowContainer,
                      f.a.RadioOption
                    ),
                  },
                  _.createElement("input", {
                    type: "radio",
                    name: "SteamAwardCategoryRadioButtons",
                    id: a,
                    value: t,
                    checked: e.GetSteamAwardCategory() == t,
                    onChange: () => e.SetSteamAwardCategory(t),
                  }),
                  _.createElement(
                    "label",
                    { htmlFor: a, className: j.CategoryOption },
                    _.createElement(
                      "span",
                      { className: j.CategoryTitle },
                      Object(y.f)(`#promo_steamawards2021_cat${t}`)
                    ),
                    _.createElement(
                      "span",
                      null,
                      " - ",
                      Object(y.f)(`#promo_steamawards2021_cat${t}_desc`),
                      " "
                    )
                  )
                );
              }
            );
          return _.createElement(
            "div",
            { className: j.SteamAwardCategoryPicker },
            _.createElement(
              "div",
              { className: f.a.EventEditorTextTitle },
              Object(y.f)("#EventEditor_Options_SteamAwardNominations_Title"),
              _.createElement(
                "span",
                { className: c.a.RequiredFieldLabel },
                Object(y.f)("#EventEditor_Required")
              )
            ),
            _.createElement(
              "div",
              {
                className: Object(C.a)(
                  j.SteamAwardCategoryOptions,
                  f.a.FlexColumnContainer,
                  f.a.EventDefaultRowContainer
                ),
              },
              _.createElement(
                "div",
                { className: j.event_nomination_banner_ctn },
                _.createElement("img", {
                  className: j.event_nomination_trophy,
                  src:
                    T.c.MEDIA_CDN_URL + "store/promo/autumn2021/trophy.png?v=2",
                }),
                _.createElement(
                  "div",
                  { className: j.CategoryTextCtn },
                  _.createElement(
                    "div",
                    { className: j.SteamAwardTitle },
                    Object(y.f)("#SteamAwards_EventMainTitle")
                  ),
                  _.createElement(
                    "div",
                    { className: j.event_nomination_banner_text },
                    n
                      ? Object(y.f)(
                          "#EventEditor_Options_SteamAwardNominations_Description"
                        )
                      : Object(y.f)(
                          "#EventEditor_Options_SteamAwardNominations_OldGame_Description",
                          "2021",
                          Object(y.k)(a)
                        )
                  )
                )
              ),
              _.createElement("div", { className: j.AwardSelectionCtn }, i)
            )
          );
        }
      };
      w = Object(n.b)([m.a], w);
      const A = Object(m.a)((e) => {
          const t = r.c.GetEditModel(),
            a = t.GetAppID(),
            n = p()("2021-12-22T10:00:00-08:00").unix(),
            i = p()("2022-01-03T09:00:00-08:00").unix(),
            l = E.a.GetTimeNowWithOverride();
          if (!t || !t.BIsAppReleased() || l > i) return null;
          if (!r.c.GetSteamAwardVoteDefinitionForApp(a)) return null;
          let s = [];
          return (
            r.c.GetSteamAwardVoteDefinitionForApp(a).forEach((e) => {
              s.push(e.voteid);
            }),
            _.createElement(
              "div",
              { className: j.EventCategory_SteamAwardsNomination },
              _.createElement(o.a, {
                name: "#EventCategory_SteamAwardsVoteRequest",
                description: "#EventCategory_SteamAwardsVoteRequest_Desc",
                icon: "trophy",
                onCategoryChosen: e.fnOnCategoryChosen,
                steam_award_category_voteids: s,
                type: 28,
                tags: ["steam_award_vote_request", "mod_hide_library_overview"],
                earliestAllowedStartTime: n,
                latestAllowedEndTime: i,
                actionEndTime: i,
              })
            )
          );
        }),
        M = (e) => {
          const { fnOnCategoryChosen: t } = e,
            a = r.c.GetEditModel(),
            [n, l] = Object(b.b)(a.GetClanSteamID().GetAccountID());
          return ((null == l ? void 0 : l.is_ogg) ||
            (!(null == l ? void 0 : l.is_ogg) && T.h.is_support)) &&
            E.a.GetTimeNowWithOverride() < i.e &&
            T.c.EREALM != g.ESteamRealm.k_ESteamRealmChina
            ? _.createElement(k, { fnOnCategoryChosen: t })
            : null;
        },
        k = (e) => {
          const t = r.c.GetEditModel(),
            a = t.GetAppID(),
            [n, s] = Object(h.c)(a, h.b),
            d = Object(l.b)(
              t.GetClanSteamID().GetAccountID(),
              "steam_game_festival_broadcast"
            ),
            m = Object(r.d)(t.GetClanAccountID());
          if ((null == s ? void 0 : s.opt_in) || 0 == a) {
            if (null == d || null == m)
              return _.createElement(O.a, {
                string: Object(y.f)("Loading"),
                size: "medium",
                position: "center",
              });
            const t = m.filter((e) =>
                e.BHasTag("steam_game_festival_broadcast")
              ).length,
              a = 2,
              n = r.c.GetEditModel(),
              l = n.BHasTag("steam_game_festival_broadcast"),
              s = d.find((e) => e.clan_event_gid == n.GetGID()),
              u = !s && d.length + t >= a && !l,
              p = !s && n.GetGID() && n.BPublished() && !l;
            return p && !T.h.is_support
              ? _.createElement(
                  "div",
                  { className: c.a.EventCategory_SpecialCategory },
                  _.createElement(
                    "div",
                    { className: c.a.TitleCtn },
                    _.createElement(
                      "div",
                      { className: c.a.Title },
                      Object(y.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    _.createElement(
                      "div",
                      { className: c.a.Summary },
                      Object(y.f)("#EventCategory_SteamGameFestival_Published")
                    )
                  )
                )
              : u && !T.h.is_support
              ? _.createElement(
                  "div",
                  { className: c.a.EventCategory_SpecialCategory },
                  _.createElement(
                    "div",
                    { className: c.a.TitleCtn },
                    _.createElement(
                      "div",
                      { className: c.a.Title },
                      Object(y.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    _.createElement(
                      "div",
                      { className: c.a.Summary },
                      Object(y.l)("#EventCategory_SteamGameFestival_Max", a)
                    )
                  )
                )
              : _.createElement(
                  "div",
                  { className: c.a.EventCategory_SpecialCategory },
                  _.createElement(
                    "div",
                    { className: c.a.TitleCtn },
                    _.createElement(
                      "div",
                      { className: c.a.Title },
                      Object(y.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    _.createElement(
                      "div",
                      { className: c.a.Summary },
                      Object(y.f)("#EventCategory_SteamGameFestival_Summary")
                    ),
                    Boolean(u && T.h.is_support) &&
                      _.createElement(
                        "div",
                        {
                          className: Object(C.a)(
                            v.WarningStylesWithIcon,
                            c.a.WarningCtn
                          ),
                        },
                        Object(y.l)("#EventCategory_SteamGameFestival_Max", a),
                        _.createElement(
                          "div",
                          null,
                          Object(y.f)(
                            "#EventCategory_SteamGameFestival_MaxByPass"
                          )
                        )
                      ),
                    Boolean(p && T.h.is_support) &&
                      _.createElement(
                        "div",
                        {
                          className: Object(C.a)(
                            v.WarningStylesWithIcon,
                            c.a.WarningCtn
                          ),
                        },
                        Object(y.f)(
                          "#EventCategory_SteamGameFestival_Published",
                          a
                        ),
                        _.createElement(
                          "div",
                          null,
                          Object(y.f)(
                            "#EventCategory_SteamGameFestival_PublishedByPass"
                          )
                        )
                      ),
                    _.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/marketing/steamnextfest/2021oct",
                        target: "_blank",
                        className: Object(C.a)(f.a.Button, j.Link),
                      },
                      Object(y.f)("#EventCategory_SteamGameFestival_Link")
                    )
                  ),
                  _.createElement(
                    o.a,
                    Object.assign({}, i.c.broadcast, {
                      onCategoryChosen: e.fnOnCategoryChosen,
                    })
                  )
                );
          }
          return null;
        },
        B = (e) => {
          const t = r.c.GetEditModel(),
            [a, n] = Object(b.b)(t.GetClanSteamID().GetAccountID());
          return (null == n ? void 0 : n.is_ogg) &&
            h.a.Get().BHasOptInSpecialEvents()
            ? _.createElement(
                _.Fragment,
                null,
                h.a
                  .Get()
                  .GetAllSpecialEvents()
                  .map((t) =>
                    _.createElement(N, {
                      key: t.optInName,
                      fnOnCategoryChosen: e.fnOnCategoryChosen,
                      specialEventInfo: t,
                    })
                  )
              )
            : null;
        },
        N = (e) => {
          const { fnOnCategoryChosen: t, specialEventInfo: a } = e,
            n = a.localized_event_name || a.localized_optin_name;
          return (
            "dev" == T.c.WEB_UNIVERSE &&
              console.log("debug opt-in categpry type", Object(d.I)(a)),
            _.createElement(
              "div",
              { className: c.a.EventCategory_SpecialCategory },
              _.createElement(
                "div",
                { className: c.a.TitleCtn },
                _.createElement(
                  "div",
                  { className: c.a.Title },
                  Object(y.f)("#EventCategory_SpecialEvents", n)
                ),
                _.createElement(
                  "div",
                  { className: c.a.Summary },
                  Object(y.f)("#EventCategory_SpecialEvent_Summary")
                ),
                Boolean(a.event_type_max) &&
                  _.createElement(
                    "div",
                    { className: c.a.Summary },
                    Object(y.l)(
                      "#EventCategory_SpecialEvent_Max",
                      a.event_type_max
                    )
                  ),
                Boolean(a.doc_url) &&
                  _.createElement(
                    _.Fragment,
                    null,
                    _.createElement("br", null),
                    _.createElement(
                      "a",
                      {
                        href: a.doc_url,
                        target: "_blank",
                        className: Object(C.a)(f.a.Button, j.Link),
                      },
                      Object(y.f)("#EventCategory_SpecialEvent_Link", n)
                    )
                  )
              ),
              _.createElement(L, { fnOnCategoryChosen: t, specialEventInfo: a })
            )
          );
        };
      function L(e) {
        const { fnOnCategoryChosen: t, specialEventInfo: a } = e;
        let n = i.b.news;
        i.d.forEach((e) => {
          var t;
          (null === (t = i.b[e]) || void 0 === t ? void 0 : t.type) == a.type &&
            (n = i.b[e]);
        });
        const s =
            (a.localized_event_name || a.localized_optin_name) +
            ": " +
            Object(y.f)(n.name),
          d = a.tag,
          m = r.c.GetEditModel(),
          u = Object(l.b)(m.GetClanSteamID().GetAccountID(), d),
          p = Object(r.d)(m.GetClanAccountID());
        if (null == u || null == p)
          return _.createElement(O.a, {
            string: Object(y.f)("Loading"),
            size: "medium",
            position: "center",
          });
        m.GetAppID();
        const g = m.BHasTag(d),
          b = u.find((e) => e.clan_event_gid == m.GetGID()),
          E = Boolean(a.event_type_max) ? a.event_type_max : Number.MAX_VALUE,
          h = p.filter((e) => e.BHasTag(a.optInName)).length,
          S = !b && u.length + h >= E && !g,
          f = !b && m.GetGID() && m.BPublished() && !g;
        return f && !T.h.is_support
          ? _.createElement(
              "div",
              { className: c.a.Summary },
              Object(y.f)("#EventCategory_SteamGameFestival_Published")
            )
          : S && !T.h.is_support
          ? _.createElement(
              "div",
              { className: c.a.Summary },
              Object(y.l)("#EventCategory_SteamGameFestival_Max", E)
            )
          : _.createElement(
              _.Fragment,
              null,
              Boolean(S && T.h.is_support) &&
                _.createElement(
                  "div",
                  {
                    className: Object(C.a)(
                      v.WarningStylesWithIcon,
                      c.a.WarningCtn
                    ),
                  },
                  Object(y.l)("#EventCategory_SteamGameFestival_Max", E),
                  _.createElement(
                    "div",
                    null,
                    Object(y.f)("#EventCategory_SteamGameFestival_MaxByPass")
                  )
                ),
              Boolean(f && T.h.is_support) &&
                _.createElement(
                  "div",
                  {
                    className: Object(C.a)(
                      v.WarningStylesWithIcon,
                      c.a.WarningCtn
                    ),
                  },
                  Object(y.f)("#EventCategory_SteamGameFestival_Published", E),
                  _.createElement(
                    "div",
                    null,
                    Object(y.f)(
                      "#EventCategory_SteamGameFestival_PublishedByPass"
                    )
                  )
                ),
              _.createElement(
                o.a,
                Object.assign({}, n, {
                  tags: [d],
                  onCategoryChosen: t,
                  name: s,
                  description: a.localized_description || "",
                  earliestAllowedStartTime: a.event_rt_start,
                  latestAllowedEndTime: a.event_rt_end,
                })
              )
            );
      }
    },
    M1X1: function (e, t, a) {},
    McqU: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return v;
      }),
        a.d(t, "a", function () {
          return S;
        });
      var n = a("mrSG"),
        i = a("q1tI"),
        l = a.n(i),
        r = a("opsS"),
        o = a("vDqi"),
        s = a.n(o),
        c = a("Mgs7"),
        d = a("TLQK"),
        m = a("IASz"),
        u = a.n(m),
        p = a("lkRc"),
        _ = a("kLLr"),
        g = a("X3Ds"),
        b = a("Qcoi"),
        E = (a("mgoM"), a("6Y59")),
        h = (a("5h11"), a("av+R"));
      class v extends l.a.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              invite_token: "",
              input_search: "",
              friend_code_copied: !1,
              invite_copied: !1,
            });
        }
        componentDidMount() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const e = yield s.a.get(
              p.c.COMMUNITY_BASE_URL + "invites/ajaxgetall",
              { params: { sessionid: p.c.SESSIONID } }
            );
            if (e && e.data && e.data.tokens) {
              const t = e.data.tokens.filter((e) => e.valid);
              t.length
                ? this.setState({ invite_token: t[0].invite_token })
                : this.OnCreateInviteLink();
            } else this.OnCreateInviteLink();
          });
        }
        OnCreateInviteLink() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const e = new FormData();
            e.append("sessionid", p.c.SESSIONID),
              e.append("steamid_user", p.h.steamid),
              e.append("duration", (2592e3).toString());
            const t = yield s.a.post(
              p.c.COMMUNITY_BASE_URL + "invites/ajaxcreate",
              e
            );
            t &&
              t.data &&
              t.data.invite &&
              this.setState({ invite_token: t.data.invite.invite_token });
          });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            Object(g.i)(t);
        }
        OnAddFriend(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", p.c.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0");
            try {
              const e = yield s.a.post(
                p.c.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                t
              );
              return e && e.data && 1 == e.data.success;
            } catch (e) {
              return !1;
            }
          });
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            p.c.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self"
          );
        }
        render() {
          const e = p.h.short_url + "/" + this.state.invite_token;
          return l.a.createElement(
            "div",
            null,
            l.a.createElement(
              "div",
              { className: u.a.HeaderBlock },
              Object(d.f)("#ManageFriends_AddAFriend")
            ),
            l.a.createElement(
              "div",
              { className: u.a.Background },
              l.a.createElement(
                "h1",
                { className: u.a.Heading },
                Object(d.f)("#ManageFriends_YourFriendCode")
              ),
              l.a.createElement(
                "div",
                { className: u.a.CopyContainer },
                l.a.createElement("h1", { className: u.a.Text }, p.h.accountid),
                l.a.createElement(
                  c.G,
                  {
                    autoFocus: !0,
                    className: u.a.Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(p.h.accountid)),
                  },
                  this.state.friend_code_copied
                    ? Object(d.f)("#ManageFriends_Copied")
                    : Object(d.f)("#ManageFriends_Copy")
                )
              ),
              l.a.createElement(
                "p",
                { className: u.a.Body },
                Object(d.f)("#ManageFriends_EnterFriendCode")
              ),
              l.a.createElement(S, {
                onButtonClick: this.OnAddFriend,
                buttonText: Object(d.f)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              })
            ),
            l.a.createElement(
              "div",
              { className: u.a.DimBackground },
              l.a.createElement(
                "h1",
                { className: u.a.Heading },
                Object(d.f)("#ManageFriends_OrSendQuickInvite")
              ),
              l.a.createElement(
                "p",
                { className: u.a.Body },
                Object(d.f)("#ManageFriends_QuickInviteDescription")
              ),
              l.a.createElement(
                "p",
                { className: u.a.Body },
                Object(d.f)("#ManageFriends_QuickInviteNote")
              ),
              l.a.createElement(
                "div",
                { className: u.a.CopyContainer },
                Boolean(this.state.invite_token) &&
                  l.a.createElement("div", { className: u.a.Link }, e),
                l.a.createElement(
                  c.G,
                  {
                    className: u.a.Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? Object(d.f)("#ManageFriends_Copied")
                    : Object(d.f)("#ManageFriends_Copy")
                )
              ),
              l.a.createElement(
                c.f,
                {
                  className: u.a.GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                Object(d.f)("#ManageFriends_CreateInviteLink")
              )
            ),
            l.a.createElement(
              "div",
              { className: u.a.Background },
              l.a.createElement(
                "h1",
                { className: u.a.Heading },
                Object(d.f)("#ManageFriends_OrSearch")
              ),
              l.a.createElement("br", null),
              l.a.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                l.a.createElement(
                  "div",
                  { style: { width: "100%" } },
                  l.a.createElement(c.A, {
                    className: u.a.Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: Object(d.f)("#ManageFriends_EnterProfileName"),
                  })
                ),
                l.a.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  l.a.createElement(E.L, null)
                )
              )
            )
          );
        }
      }
      Object(n.b)([r.b], v.prototype, "OnCreateInviteLink", null),
        Object(n.b)([r.b], v.prototype, "OnCopy", null),
        Object(n.b)([r.b], v.prototype, "OnAddFriend", null),
        Object(n.b)([r.b], v.prototype, "OnSearchChange", null),
        Object(n.b)([r.b], v.prototype, "OnSearchKeyDown", null),
        Object(n.b)([r.b], v.prototype, "OnSearchSubmit", null);
      class S extends l.a.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              input_friend_code: "",
              disable_send_invite: !1,
              searchResult: null,
              invite_status: "pending",
            }),
            (this.m_currentRequest = 0);
        }
        OnFriendCodeChange(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = e.target.value.split(",")[0];
            this.setState({ input_friend_code: t, invite_status: "pending" }),
              window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () => this.LoadProfile(t),
                500
              ));
          });
        }
        LoadProfile(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (e) {
              const t = _.a.InitFromAccountID(Number(e));
              yield b.a.LoadProfiles([t.ConvertTo64BitString()]);
              const a = b.a.GetProfile(t.ConvertTo64BitString());
              a
                ? this.setState({
                    searchResult: a,
                    disable_send_invite:
                      p.h.is_limited ||
                      (this.props.bDisableForFriends && a.is_friend) ||
                      (this.props.bDisableForSelf && a.steamid === p.h.steamid),
                  })
                : this.setState({ searchResult: null });
            } else this.setState({ searchResult: null });
          });
        }
        OnActionClick(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", p.c.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0"),
              this.setState({ disable_send_invite: !0 });
            (yield this.props.onButtonClick(e))
              ? (this.setState({
                  input_friend_code: "",
                  invite_status: "success",
                }),
                setTimeout(() => this.setState({ searchResult: null }), 3e3))
              : this.setState({
                  invite_status: "failure",
                  disable_send_invite: !1,
                });
          });
        }
        render() {
          return l.a.createElement(
            "div",
            null,
            l.a.createElement(c.A, {
              className: u.a.Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: Object(d.f)(
                "#ManageFriends_EnterFriendCodePlaceholder"
              ),
            }),
            l.a.createElement(
              f,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              l.a.createElement(
                c.G,
                {
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                  style: {
                    width: "fit-content",
                    height: "fit-content",
                    padding: "0px 20px 0px 20px",
                    margin: "0 0 0 auto",
                  },
                },
                this.props.buttonText
              )
            )
          );
        }
      }
      Object(n.b)([r.b], S.prototype, "OnFriendCodeChange", null),
        Object(n.b)([r.b], S.prototype, "LoadProfile", null),
        Object(n.b)([r.b], S.prototype, "OnActionClick", null);
      const f = (e) => {
        const {
          searchResult: t,
          invite_status: a,
          bShowStatus: n,
          children: i,
        } = e;
        return Boolean(t)
          ? l.a.createElement(
              "div",
              { className: u.a.ProfileCard },
              l.a.createElement(
                "div",
                { className: u.a.UserContainer },
                l.a.createElement(
                  "div",
                  { className: u.a.Image },
                  l.a.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  })
                ),
                l.a.createElement(
                  "div",
                  { className: u.a.ProfileContent },
                  l.a.createElement(
                    "h1",
                    { className: u.a.Heading },
                    t.persona_name
                  ),
                  l.a.createElement(
                    "div",
                    { className: u.a.ProfileLink },
                    l.a.createElement(
                      h.c,
                      {
                        target: p.c.IN_GAMEPADUI ? void 0 : "_blank",
                        href: p.c.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      Object(d.f)("#ManageFriends_ProfileLink")
                    ),
                    l.a.createElement("br", null),
                    l.a.createElement(
                      "span",
                      { className: u.a.Body },
                      t.real_name,
                      l.a.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${
                        t.state ? "," : ""
                      } ${t.country}`
                    )
                  )
                ),
                i
              ),
              l.a.createElement(
                "div",
                { className: u.a.ProfileLink },
                t.is_friend &&
                  l.a.createElement(
                    "div",
                    null,
                    Object(d.f)("#ManageFriends_IsFriend")
                  ),
                0 != t.friends_in_common &&
                  l.a.createElement(
                    "div",
                    null,
                    l.a.createElement(
                      h.c,
                      {
                        target: p.c.IN_GAMEPADUI ? void 0 : "_blank",
                        href:
                          p.c.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? Object(d.f)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common
                          )
                        : Object(d.f)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common
                          )
                    )
                  ),
                n &&
                  "failure" === a &&
                  l.a.createElement(
                    "div",
                    { className: u.a.Failure },
                    Object(d.f)("#ManageFriends_InviteFailure")
                  ),
                n &&
                  "success" === a &&
                  l.a.createElement(
                    "div",
                    { className: u.a.Success },
                    Object(d.f)("#ManageFriends_InviteSuccess", t.persona_name)
                  )
              )
            )
          : null;
      };
    },
    Mnbl: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return x;
      }),
        a.d(t, "b", function () {
          return P;
        }),
        a.d(t, "d", function () {
          return U;
        }),
        a.d(t, "c", function () {
          return V;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("Q47U"),
        o = a("t0uJ"),
        s = a("2vnA"),
        c = a("TyAF"),
        d = a("q1tI"),
        m = (a("mgoM"), a("dZOt")),
        u = (a("3+zv"), a("9w6b")),
        p = a("Mgs7"),
        _ = a("fpVW"),
        g = a("yKSN"),
        b = a("Jqb/"),
        E = a("ka0M"),
        h = a("5E+2"),
        v = a("exH9"),
        S = a("X3Ds"),
        f = a("TLQK"),
        O = a("P2lf"),
        C = a("OS6B"),
        y = a("opsS"),
        T = a("lkRc"),
        j = a("fcuX");
      const I = "email_headline_",
        D = "email_body_",
        G = "sale_section_label_id_",
        w = "sale_section_text_id_",
        A = "email_subject",
        M = "sale_tab_name_",
        k = "sale_facet_name_",
        B = "sale_facetvalue_name_",
        N = "sale_facetvalue_subtitle_",
        L = "sale_reservation_bbcode_",
        R = "sale_section_desc_",
        F = "broadcast_custom_title";
      function x(e, t, a, n) {
        var i;
        let l = new O.b();
        if (t)
          for (let t = 0; t < 30; ++t) {
            let a = e.GetEventModel();
            (e.BHasLanguageTitle(t) || 0 == t) &&
              l.SetLocalization("title", t, e.GetName(t)),
              (a.BHasSubTitle(t) || 0 == t) &&
                l.SetLocalization("subtitle", t, e.GetSubTitle(t)),
              (e.BHasLanguageDescription(t) || 0 == t) &&
                l.SetLocalization("body", t, e.GetDescription(t)),
              (a.BHasSummary(t) || 0 == t) &&
                l.SetLocalization("summary", t, e.GetSummary(t));
          }
        if (a && e.BHasEmailEnabled()) {
          const t = e.GetEmailSettings();
          if (T.b.IS_VALVE_GROUP) {
            let t = new m.b(e.GetEmailSettings());
            for (let e = 0; e < 30; ++e)
              t.BHasLocalizedSubject(e) &&
                l.SetLocalization(A, e, t.GetLocalizedSubject(e));
          }
          t.sections.forEach((e, t) => {
            let a = new m.a(e);
            for (let e = 0; e < 30; ++e)
              a.BHasHeadlineInLanguage(e) &&
                l.SetLocalization(I + t, e, a.GetHeadline(e)),
                a.BHasBodyInLanguage(e) &&
                  l.SetLocalization(D + t, e, a.GetBody(e));
          });
        }
        const r = e.GetEventModel().jsondata;
        if (
          (null == r ? void 0 : r.bBroadcastEnabled) &&
          (null === (i = null == r ? void 0 : r.localized_broadcast_title) ||
          void 0 === i
            ? void 0
            : i.length) > 0
        )
          for (let e = 0; e < 30; ++e)
            if (Boolean(f.a.Get(r.localized_broadcast_title, e))) {
              const t = r.localized_broadcast_title[e];
              l.SetLocalization(F, e, t);
            }
        return (
          n &&
            e.BHasSaleEnabled() &&
            e.GetSaleSections().forEach((t, a) => {
              var n, i;
              for (let r = 0; r < 30; ++r) {
                if (
                  (e.BHasSaleSectionLabelLocalization(r, a) &&
                    l.SetLocalization(G + t.unique_id, r, t.localized_label[r]),
                  e.BHasSaleSectionTextLocalization(r, a) &&
                    l.SetLocalization(
                      w + t.unique_id,
                      r,
                      t.text_section_contents[r]
                    ),
                  e.BHasSaleSectionDescriptionBBCode(r, a) &&
                    l.SetLocalization(
                      R + t.unique_id,
                      r,
                      t.localized_description[r]
                    ),
                  "tabs" === t.section_type && t.tabs)
                )
                  for (let a of t.tabs)
                    e.BHasSaleSectionTabName(r, a) &&
                      l.SetLocalization(
                        M + t.unique_id + "_" + a.unique_id,
                        r,
                        a.localized_label[r]
                      );
                t.enable_faceted_browsing &&
                  (t.facets.forEach((a) => {
                    e.BHasSaleSectionFacetName(r, a) &&
                      l.SetLocalization(
                        k + t.unique_id + "_" + a.unique_id,
                        r,
                        a.name[r]
                      );
                  }),
                  t.facets.forEach((a) => {
                    a.facetValues.forEach((n) => {
                      e.BHasSaleSectionFacetValueName(r, n) &&
                        l.SetLocalization(
                          B +
                            t.unique_id +
                            "_" +
                            a.unique_id +
                            "_" +
                            n.unique_id,
                          r,
                          n.name[r]
                        ),
                        e.BHasSaleSectionFacetValueSubtitle(r, n) &&
                          l.SetLocalization(
                            N +
                              t.unique_id +
                              "_" +
                              a.unique_id +
                              "_" +
                              n.unique_id,
                            r,
                            n.subtitle[r]
                          );
                    });
                  })),
                  "vo_internal" == t.section_type &&
                    "reservation_widget" ==
                      (null === (n = t.internal_section_data) || void 0 === n
                        ? void 0
                        : n.internal_type) &&
                    (null ===
                      (i = t.internal_section_data.reservation_options) ||
                    void 0 === i
                      ? void 0
                      : i.length) > 0 &&
                    t.internal_section_data.reservation_options.forEach((e) => {
                      e.localized_reservation_desc &&
                        Boolean(f.a.Get(e.localized_reservation_desc, r)) &&
                        l.SetLocalization(
                          L + t.unique_id + "_" + e.unique_id,
                          r,
                          e.localized_reservation_desc[r]
                        );
                    });
              }
            }),
          l
        );
      }
      function P(e, t, a) {
        let n = new Array();
        const i = t.GetSortedTokenList();
        return (
          Object(s.G)(() => {
            a.forEach((a) => {
              let l = !1;
              i.forEach((n) => {
                const i = t.GetLocalization(n, a) || "";
                if (
                  ("title" === n &&
                    (i || e.BHasLanguageTitle(a)) &&
                    e.SetName(a, i) &&
                    (l = !0),
                  "body" === n &&
                    (i || e.BHasLanguageDescription(a)) &&
                    e.SetDescription(a, i) &&
                    (l = !0),
                  "subtitle" === n &&
                    (i || e.BHasLanguageSubTitle(a)) &&
                    e.SetSubTitle(a, i) &&
                    (l = !0),
                  "summary" === n &&
                    (i || e.BHasLanguageSummary(a)) &&
                    e.SetSummary(a, i) &&
                    (l = !0),
                  n === F)
                ) {
                  const t = e.GetEventModel().jsondata;
                  if (
                    i ||
                    (t.localized_broadcast_title &&
                      Boolean(f.a.Get(t.localized_broadcast_title, a)))
                  ) {
                    f.a.Get(t.localized_broadcast_title, a) !== i &&
                      ((t.localized_broadcast_title = f.a.Set(
                        t.localized_broadcast_title || [],
                        a,
                        i
                      )),
                      e.SetDirty(j.d.jsondata_sales),
                      (l = !0));
                  }
                }
                if (e.BHasEmailEnabled()) {
                  let t = e.GetEmailSettings();
                  if (T.b.IS_VALVE_GROUP && n === A) {
                    let t = new r.b(e);
                    (i || t.BHasLocalizedSubject(a)) &&
                      t.SetLocalizedSubject(a, i) &&
                      (l = !0);
                  }
                  t.sections.forEach((t, o) => {
                    let s = new r.a(t, e);
                    s.BHasHeadline() &&
                      n === I + o &&
                      (i || s.BHasHeadlineInLanguage(a)) &&
                      s.SetHeadline(i, a) &&
                      (l = !0),
                      s.BHasBody() &&
                        n === D + o &&
                        (i || s.BHasBodyInLanguage(a)) &&
                        s.SetBody(i, a) &&
                        (l = !0);
                  });
                }
                if (e.BHasSaleEnabled()) {
                  e.GetSaleSections().forEach((t, r) => {
                    var o, s, c;
                    if (
                      ((n !== "sale_section_label_" + r &&
                        n !== G + t.unique_id) ||
                        ((i || e.BHasSaleSectionLabelLocalization(a, r)) &&
                          e.SetSaleSectionLabelLocalization(a, r, i) &&
                          (l = !0)),
                      n === R + t.unique_id &&
                        (i || e.BHasSaleSectionDescriptionBBCode(a, r)) &&
                        e.SetSaleSectionDescriptionBBCode(a, r, i) &&
                        (l = !0),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (const r of t.tabs)
                        n === M + t.unique_id + "_" + r.unique_id &&
                          (i || e.BHasSaleSectionTabName(a, r)) &&
                          e.SetSaleSectionTabName(a, r, i) &&
                          (l = !0);
                    ("text_section" === t.section_type ||
                      ("vo_internal" === t.section_type &&
                        "reservation_widget" ===
                          (null === (o = t.internal_section_data) ||
                          void 0 === o
                            ? void 0
                            : o.internal_type))) &&
                      n === w + t.unique_id &&
                      (i || e.BHasSaleSectionTextLocalization(a, r)) &&
                      e.SetSaleSectionTextLocalization(a, r, i) &&
                      (l = !0),
                      t.enable_faceted_browsing &&
                        t.facets.forEach((r) => {
                          n === k + t.unique_id + "_" + r.unique_id &&
                            (i || e.BHasSaleSectionFacetName(a, r)) &&
                            e.SetSaleSectionFacetName(a, r, i) &&
                            (l = !0),
                            r.facetValues.forEach((o) => {
                              n ===
                                B +
                                  t.unique_id +
                                  "_" +
                                  r.unique_id +
                                  "_" +
                                  o.unique_id &&
                                (i || e.BHasSaleSectionFacetValueName(a, o)) &&
                                e.SetSaleSectionFacetValueName(a, o, i) &&
                                (l = !0),
                                n ===
                                  N +
                                    t.unique_id +
                                    "_" +
                                    r.unique_id +
                                    "_" +
                                    o.unique_id &&
                                  (i ||
                                    e.BHasSaleSectionFacetValueSubtitle(
                                      a,
                                      o
                                    )) &&
                                  e.SetSaleSectionFacetValueSubtitle(a, o, i) &&
                                  (l = !0);
                            });
                        }),
                      "vo_internal" == t.section_type &&
                        "reservation_widget" ==
                          (null === (s = t.internal_section_data) ||
                          void 0 === s
                            ? void 0
                            : s.internal_type) &&
                        (null ===
                          (c = t.internal_section_data.reservation_options) ||
                        void 0 === c
                          ? void 0
                          : c.length) > 0 &&
                        t.internal_section_data.reservation_options.forEach(
                          (r) => {
                            if (
                              n === L + t.unique_id + "_" + r.unique_id &&
                              (i ||
                                (r.localized_reservation_desc &&
                                  Boolean(
                                    f.a.Get(r.localized_reservation_desc, a)
                                  )))
                            ) {
                              f.a.Get(r.localized_reservation_desc, a) !== i &&
                                ((r.localized_reservation_desc = f.a.Set(
                                  r.localized_reservation_desc || [],
                                  a,
                                  i
                                )),
                                e.SetDirty(j.d.jsondata_sales),
                                (l = !0));
                            }
                          }
                        );
                  });
                }
              }),
                l && n.push(a);
            });
          }),
          n
        );
      }
      let U = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              importing: !1,
              translating: !1,
              langUpdated: new Array(),
            }),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "Unmounting LocalizationToolPartnerEvents"
          );
        }
        OnRequestTranslations(e) {
          e.preventDefault();
          const { editModel: t } = this.props;
          !t.BHasGid() || t.BIsDirty()
            ? (console.log(
                "LocalizationToolPartnerEvents: OnRequestTranslations error"
              ),
              Object(E.d)(
                d.createElement(
                  b.g,
                  null,
                  d.createElement(
                    "p",
                    null,
                    "We cannot initiate translation if the event has unsaved changes. Please save first."
                  )
                ),
                Object(S.o)(e)
              ))
            : Object(E.d)(
                d.createElement(b.e, {
                  strTitle: "(VO) Localization Request",
                  strDescription:
                    "Create or update an English translate for this event and email. Best to be issued once editing is completed.",
                  onOK: () =>
                    this.setState({ translating: !0 }, this.RequestTranslation),
                }),
                Object(S.o)(e)
              );
        }
        RequestTranslation() {
          const { editModel: e } = this.props;
          o.c
            .RequestLocalizationOfEvent(
              e.GetClanSteamID(),
              e.GetGID(),
              this.m_cancelSignal
            )
            .then(() => {
              Object(E.d)(
                d.createElement(b.e, {
                  strTitle: "(VO) Localization Request",
                  strDescription:
                    "Success! Translation request pushed to CrowdIn",
                  bAlertDialog: !0,
                  closeModal: () => this.setState({ translating: !1 }),
                }),
                window
              );
            })
            .catch((e) => {
              console.log(
                "LocalizationToolPartnerEvents: RequestTranslation error"
              ),
                Object(E.d)(
                  d.createElement(
                    b.g,
                    { closeModal: () => this.setState({ translating: !1 }) },
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "p",
                        null,
                        "Encountered the following error attempting to send the event information to CrowdIn:"
                      ),
                      d.createElement("p", null, Object(C.a)(e).strErrorMsg)
                    )
                  ),
                  window
                );
            });
        }
        render() {
          return d.createElement(
            "div",
            { className: Object(v.a)(_.FlexRowContainer) },
            d.createElement(V, { editModel: this.props.editModel })
          );
        }
      };
      Object(n.b)([y.b], U.prototype, "OnRequestTranslations", null),
        Object(n.b)([y.b], U.prototype, "RequestTranslation", null),
        (U = Object(n.b)([c.a], U));
      const V = (e) =>
        d.createElement(
          d.Fragment,
          null,
          d.createElement(
            h.a,
            {
              className: Object(v.a)(_.EditPreviewButton),
              toolTipContent: Object(f.f)("#EventEditor_Loc_Export_Desc0"),
            },
            d.createElement(
              "a",
              {
                onClick: (t) => {
                  t.preventDefault(),
                    Object(E.d)(
                      d.createElement(H, { editModel: e.editModel }),
                      Object(S.o)(t)
                    );
                },
              },
              Object(f.f)("#EventEditor_Loc_Export_Short")
            )
          ),
          d.createElement(g.b, {
            strToolTip: Object(f.f)("#EventEditor_Loc_Import_ttip"),
            strLabel: Object(f.f)("#EventEditor_Loc_Import_Short"),
            fnOnImportLocData: (t, a) => P(e.editModel, t, a),
          })
        );
      let H = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bShowCSV: !0,
              bExportEventBody: !0,
              bExportEmail: this.props.editModel.BHasEmailEnabled(),
              bExportSale: this.props.editModel.BHasSaleEnabled(),
            });
        }
        GetLocalizationFilePrefix() {
          const { editModel: e } = this.props;
          let t = e.GetName(0);
          return (t && "" != t.trim()) || (t = "event"), t;
        }
        GetLocalizationModel() {
          return x(
            this.props.editModel,
            this.state.bExportEventBody,
            this.state.bExportEmail,
            this.state.bExportSale
          );
        }
        OnExportTypeChange(e) {
          this.setState({ bShowCSV: "csv" == e });
        }
        render() {
          const { closeModal: e, editModel: t } = this.props,
            a = u.a.Get().GetPartnerEventPermissions(t.GetClanSteamID());
          return d.createElement(
            b.f,
            { onCancel: e, closeModal: e },
            d.createElement(p.z, null, Object(f.f)("#EventEditor_Loc_Export")),
            d.createElement(
              p.d,
              null,
              d.createElement(
                p.e,
                null,
                d.createElement(
                  "div",
                  { className: Object(v.a)(_.FlexColumnContainer) },
                  d.createElement(
                    "p",
                    null,
                    Object(f.f)("#EventEditor_Loc_Export_Desc0")
                  ),
                  d.createElement(
                    "div",
                    {
                      className: Object(v.a)(_.FlexRowContainer, _.RadioOption),
                    },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportCSVOption",
                      value: "csv",
                      checked: this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("csv"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportCSVOption" },
                      d.createElement(
                        "span",
                        null,
                        Object(f.f)("#EventEditor_Loc_Export_CSV")
                      )
                    )
                  ),
                  d.createElement(
                    "div",
                    {
                      className: Object(v.a)(_.FlexRowContainer, _.RadioOption),
                    },
                    d.createElement("input", {
                      type: "radio",
                      name: "ExportOption",
                      id: "EventEditor_ExportXMLOption",
                      value: "xml",
                      checked: !this.state.bShowCSV,
                      onChange: () => this.OnExportTypeChange("xml"),
                    }),
                    d.createElement(
                      "label",
                      { htmlFor: "EventEditor_ExportXMLOption" },
                      d.createElement(
                        "span",
                        null,
                        Object(f.f)("#EventEditor_Loc_Export_XML")
                      )
                    )
                  ),
                  Boolean(
                    a.support_user &&
                      (t.BHasSaleEnabled() || t.BHasEmailEnabled)
                  ) &&
                    d.createElement(
                      "div",
                      { className: _.ValveOnlyBackground },
                      d.createElement(
                        "p",
                        null,
                        "(VO) Identify which sections to export"
                      ),
                      d.createElement(p.g, {
                        label: "Export Event Body",
                        onChange: (e) => this.setState({ bExportEventBody: e }),
                        checked: this.state.bExportEventBody,
                      }),
                      d.createElement(p.g, {
                        disabled: !t.BHasEmailEnabled(),
                        label: "Export Email",
                        onChange: (e) => this.setState({ bExportEmail: e }),
                        checked: this.state.bExportEmail,
                      }),
                      d.createElement(p.g, {
                        disabled: !t.BHasSaleEnabled(),
                        label: "Export Sales",
                        onChange: (e) => this.setState({ bExportSale: e }),
                        checked: this.state.bExportSale,
                      })
                    ),
                  this.state.bShowCSV
                    ? d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#EventEditor_Loc_Export_Desc")
                        ),
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#EventEditor_Loc_Export_Desc2")
                        ),
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#EventEditor_Loc_Export_Desc3")
                        )
                      )
                    : d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#EventEditor_Loc_Export_XMLDesc")
                        ),
                        d.createElement(
                          "p",
                          null,
                          Object(f.f)("#EventEditor_Loc_Export_XMLDesc2")
                        )
                      )
                )
              ),
              d.createElement(
                p.r,
                null,
                d.createElement(g.a, {
                  fnGetLocData: this.GetLocalizationModel,
                  bShowCSV: this.state.bShowCSV,
                  bShowXML: !this.state.bShowCSV,
                  strFileNamePrefix: this.GetLocalizationFilePrefix(),
                  lang: this.props.editModel.GetCurEditLanguage(),
                  closeModal: this.props.closeModal,
                }),
                d.createElement(
                  p.f,
                  { onClick: e },
                  Object(f.f)("#Button_Cancel")
                )
              )
            )
          );
        }
      };
      Object(n.b)([y.b], H.prototype, "GetLocalizationModel", null),
        Object(n.b)([y.b], H.prototype, "OnExportTypeChange", null),
        (H = Object(n.b)([c.a], H));
    },
    N038: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return S;
      }),
        a.d(t, "a", function () {
          return O;
        });
      var n,
        i = a("q1tI"),
        l = (a("65aj"), a("3+zv"), a("kLLr")),
        r = a("mrSG"),
        o = a("vDqi"),
        s = a.n(o),
        c = a("2vnA"),
        d = (a("mgoM"), a("AiWL"), a("OS6B")),
        m = a("lkRc");
      a("wuU9");
      !(function (e) {
        (e[(e.k_ModReviewed = 0)] = "k_ModReviewed"),
          (e[(e.k_ModUnreviewed = 1)] = "k_ModUnreviewed"),
          (e[(e.k_ChangeEventType = 2)] = "k_ChangeEventType"),
          (e[(e.k_UpdateSeasonTags = 3)] = "k_UpdateSeasonTags"),
          (e[(e.k_ModReReviewed = 4)] = "k_ModReReviewed"),
          (e[(e.k_ModRemovedFromSteamChina = 5)] =
            "k_ModRemovedFromSteamChina"),
          (e[(e.k_ModFlagAdultOnlyContent = 6)] = "k_ModFlagAdultOnlyContent"),
          (e[(e.k_ModRemoveAdultOnlyContent = 7)] =
            "k_ModRemoveAdultOnlyContent");
      })(n || (n = {}));
      const u = "ModAct";
      class p {
        ToModString() {
          let e =
            "ModAct_" +
            this.m_moderator +
            "_" +
            Math.floor(this.m_rtWhen) +
            "_" +
            this.m_action;
          switch (this.m_action) {
            case n.k_ChangeEventType:
              e += "_" + this.m_newEventType;
              break;
            case n.k_UpdateSeasonTags:
              e += "_" + this.m_newTagAdded;
          }
          return e;
        }
        FromString(e) {
          let t = e.split("_");
          if (!t || t[0] !== u) return !1;
          switch (
            ((this.m_moderator = Number(t[1])),
            (this.m_rtWhen = Number(t[2])),
            (this.m_action = Number(t[3])),
            this.m_action)
          ) {
            case n.k_ChangeEventType:
              this.m_newEventType = Number(t[4]);
              break;
            case n.k_UpdateSeasonTags:
              this.m_newTagAdded = t.slice(4).join("_");
          }
          return !0;
        }
        SetActionChangeEvent(e) {
          return (
            (this.m_moderator = m.h.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = n.k_ChangeEventType),
            (this.m_newEventType = e),
            this
          );
        }
        SetReviewAction(e) {
          return (
            (this.m_moderator = m.h.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e ? n.k_ModReviewed : n.k_ModUnreviewed),
            this
          );
        }
        SetAdultOnlyContentAction(e) {
          return (
            (this.m_moderator = m.h.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e
              ? n.k_ModFlagAdultOnlyContent
              : n.k_ModRemoveAdultOnlyContent),
            this
          );
        }
        SetReReviewAction(e) {
          return (
            (this.m_moderator = m.h.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = e ? n.k_ModReReviewed : n.k_ModUnreviewed),
            this
          );
        }
        static IsAuditAction(e) {
          return e.startsWith(u);
        }
        SetUpdateSeasonalTags(e) {
          return (
            (this.m_moderator = m.h.accountid),
            (this.m_rtWhen = Date.now() / 1e3),
            (this.m_action = n.k_UpdateSeasonTags),
            (this.m_newTagAdded = e),
            this
          );
        }
      }
      class _ {
        constructor() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return _.s_Singleton || (_.s_Singleton = new _()), _.s_Singleton;
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        LoadPartnerEventForModerationIncremental(e, t = 30) {
          var a;
          return Object(r.a)(this, void 0, void 0, function* () {
            const n =
              m.c.STORE_BASE_URL +
              "events_admin/ajaxgetmoderationspecificpartnerevents";
            let i = 0;
            if (
              null === (a = this.m_listEvents) || void 0 === a
                ? void 0
                : a.length
            ) {
              this.m_listEvents.forEach(
                (e) =>
                  (i = Math.max(
                    i,
                    Math.floor(Date.parse(e.last_modified_date) / 1e3)
                  ))
              );
              this.m_listEvents.filter(
                (e) => Math.floor(Date.parse(e.last_modified_date) / 1e3) == i
              ).length >= t && i++;
            }
            const l = { start_time: i, count: t };
            try {
              const t = yield s.a.get(n, {
                params: l,
                withCredentials: !0,
                cancelToken: e ? e.token : void 0,
              });
              if (e && e.token.reason) return [];
              if (t && t.data) {
                let e = new Array();
                return (
                  Object(c.G)(() => {
                    t.data.docs.forEach((t) => {
                      this.m_mapEventGIDToSolrData.has(t.unique_id) ||
                        (e.push(t),
                        this.m_mapEventGIDToSolrData.set(t.unique_id, t),
                        this.m_listEvents.push(t));
                    });
                  }),
                  e
                );
              }
            } catch (e) {
              const t = Object(d.a)(e);
              console.error(
                "LoadPartnerEventForModerationIncremental failed:" +
                  t.strErrorMsg,
                t
              );
            }
            return [];
          });
        }
        UpdateTagsOnPartnerEvent(e, t, a, n, i, l) {
          return Object(r.a)(this, void 0, void 0, function* () {
            const r = m.c.STORE_BASE_URL + "events_admin/ajaxupdatetags";
            let o = n.join(",");
            l && (n.length > 0 && (o += ","), (o += l.ToModString()));
            const c = new FormData();
            c.append("sessionid", m.c.SESSIONID),
              c.append("clan_accountid", "" + t.GetAccountID()),
              c.append("gid_announcement", a),
              c.append("add_tags", o),
              c.append("remove_tags", i.join(","));
            return (yield s.a.post(r, c, {
              withCredentials: !0,
              cancelToken: e.token,
            })).data.tags;
          });
        }
        UpdatePartnerEventType(e, t, a, n) {
          return Object(r.a)(this, void 0, void 0, function* () {
            const i = m.c.STORE_BASE_URL + "events_admin/ajaxupdateeventtype",
              l = new FormData();
            l.append("sessionid", m.c.SESSIONID),
              l.append("clan_accountid", "" + t.GetAccountID()),
              l.append("gid_event", a),
              l.append("new_event_type", "" + n),
              yield s.a.post(i, l, {
                withCredentials: !0,
                cancelToken: e.token,
              });
          });
        }
      }
      Object(r.b)([c.C], _.prototype, "m_mapEventGIDToSolrData", void 0),
        Object(r.b)([c.C], _.prototype, "m_listEvents", void 0),
        Object(r.b)([c.k], _.prototype, "ClearAllSolrEvents", null);
      var g = a("Qcoi"),
        b = a("TLQK"),
        E = a("Z1oF"),
        h = a("N0Ye"),
        v = a("zrk3");
      function S(e) {
        const { accountID: t, locToken: a } = e,
          n = i.useMemo(() => l.a.InitFromAccountID(t), [t]),
          [r, o] = Object(g.b)(n);
        let s =
          "https://steamsupport.valvesoftware.com/account/overview/" +
          n.ConvertTo64BitString();
        return i.createElement(
          "div",
          null,
          Object(b.m)(
            a,
            i.createElement(
              "a",
              { href: s, target: m.c.IN_CLIENT ? void 0 : "_blank" },
              Boolean(!r && o)
                ? i.createElement(i.Fragment, null, o.persona_name)
                : i.createElement(
                    i.Fragment,
                    null,
                    i.createElement("span", null, t)
                  )
            )
          )
        );
      }
      function f(e) {
        const { modAction: t } = e,
          a =
            Object(b.k)(t.m_rtWhen) +
            " @ " +
            Object(E.g)(t.m_rtWhen, { bForce24HourClock: !1 }),
          l = i.createElement(S, {
            locToken: "#EventModTile_Moderator",
            accountID: t.m_moderator,
          });
        switch (t.m_action) {
          case n.k_ModReviewed:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_Reviewed",
                i.createElement("span", null, a),
                l
              )
            );
          case n.k_ModUnreviewed:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_UnReviewed",
                i.createElement("span", null, a),
                l
              )
            );
          case n.k_ChangeEventType:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_NewEventType",
                i.createElement("span", null, a),
                l,
                Object(h.e)(t.m_newEventType)
              )
            );
          case n.k_UpdateSeasonTags:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_SeasonTagUpdate",
                i.createElement("span", null, a),
                l,
                t.m_newTagAdded
              )
            );
          case n.k_ModReReviewed:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_ReReviewed",
                i.createElement("span", null, a),
                l
              )
            );
          case n.k_ModRemovedFromSteamChina:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_RemoveFromSC",
                i.createElement("span", null, a),
                l
              )
            );
          case n.k_ModFlagAdultOnlyContent:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_FlagAdultContent",
                i.createElement("span", null, a),
                l
              )
            );
          case n.k_ModRemoveAdultOnlyContent:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              Object(b.m)(
                "#EventModTile_Action_RemoveAdultContent",
                i.createElement("span", null, a),
                l
              )
            );
          default:
            return i.createElement(
              "div",
              { className: v.ModeratorAuditActionCtn },
              t.ToModString
            );
        }
      }
      function O(e) {
        const [t, a] = i.useState(!0),
          { eventModel: n } = e;
        let l = n
          .GetAllTags()
          .filter((e) => p.IsAuditAction(e))
          .reverse();
        const r = l.length,
          o = l.length > 3 && t;
        return 0 == l.length
          ? null
          : (o && (l = l.splice(0, 3)),
            i.createElement(
              "div",
              null,
              i.createElement(
                "h4",
                null,
                Object(b.f)("#EventModTile_Action_Title")
              ),
              ((t) => {
                const { eventModel: a } = e;
                return t.map((e) => {
                  const t = new p();
                  return (
                    t.FromString(e),
                    i.createElement(f, { key: a.GID + e, modAction: t })
                  );
                });
              })(l),
              o &&
                i.createElement(
                  "a",
                  { onClick: () => a(!1), className: v.ExpandModActions },
                  Object(b.f)("#EventModTile_Action_More", r - 3)
                ),
              Boolean(!o && r > 3) &&
                i.createElement(
                  "a",
                  { onClick: () => a(!0), className: v.ExpandModActions },
                  Object(b.f)("#EventModTile_Action_Hide")
                )
            ));
      }
    },
    NCIP: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return $n;
      }),
        a.d(t, "a", function () {
          return ti;
        }),
        a.d(t, "c", function () {
          return ai;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("1fPh"),
        o = a("fcuX"),
        s = a("t0uJ"),
        c = a("TyAF"),
        d = a("q1tI"),
        m = a.n(d),
        u = a("mgoM"),
        p = a("eDP5"),
        _ = a("Mgs7"),
        g = a("N038"),
        b = a("YLyR"),
        E = a("0OaU"),
        h = (a("AiWL"), a("TLQK")),
        v = a("OS6B"),
        S = a("lkRc"),
        f = a("4r3H"),
        O = a("gBDv"),
        C = a("kLLr"),
        y = a("65aj"),
        T = a("DisI");
      function j(e, t, a, n) {
        const i = JSON.parse(JSON.stringify(e)),
          l = t.split(".");
        for (const e in i)
          if (e === l[0])
            if (Array.isArray(i[e])) {
              const t = i[e];
              if (1 === l.length) {
                const l = t,
                  r = t.length;
                l.splice(n ? 1 : 0),
                  l.push(a.replace("%1$s", "" + r)),
                  (i[e] = l);
              } else {
                const r = t.map((e) => j(e, l.slice(1).join("."), a, n));
                i[e] = r;
              }
            } else
              1 === l.length
                ? (i[e] = a.replace("%1$s", "" + i[e].length))
                : (i[e] = j(i[e], l.slice(1).join("."), a, n));
        return i;
      }
      const I = Object(c.a)((e) => {
        var t;
        const { editModel: a } = e,
          [n, i] = (a.GetClanSteamID(), d.useState(!0)),
          [l, r] = Object(d.useState)(!0),
          [s, c] = Object(d.useState)(!0),
          [m, u] = Object(d.useState)(
            (null === (t = a.GetEventModel().jsondata.tagged_items) ||
            void 0 === t
              ? void 0
              : t.length) > 100
          );
        if (!S.h.logged_in || !S.h.is_support) return null;
        const E = new Array(),
          h = a.GetAllTags();
        h &&
          h.forEach((e) => {
            E.push(d.createElement("div", { key: e }, e));
          });
        let v = a.GetEventModel().jsondata;
        if (n) {
          const e = (t) => {
              for (let a in t)
                if (Array.isArray(t[a])) {
                  let n = -1;
                  t[a].forEach((i, l) => {
                    null != i &&
                      ((n = l), "object" == typeof i && (t[a][l] = e(i)));
                  }),
                    -1 == n
                      ? (t[a] = "[all empty array]")
                      : n < t[a].length - 1 &&
                        (t[a].splice(n + 1),
                        t[a].push("... rest are empty ..."));
                } else "object" == typeof t[a] && (t[a] = e(t[a]));
              return t;
            },
            t = JSON.parse(JSON.stringify(a.GetEventModel().jsondata));
          v = e(t);
        }
        l &&
          (v = j(
            v,
            "sale_sections.facets.facetValues.name",
            "... and localized versions ...",
            !0
          )),
          s &&
            (v = j(
              v,
              "tagged_items.tags",
              "... %1$s sale tags hidden ...",
              !1
            )),
          m &&
            ((v = j(
              v,
              "sale_sections.capsules",
              "... %1$s section sale items hidden ...",
              !1
            )),
            (v = j(
              v,
              "sale_sections.tabs.capsules",
              "... %1$s tab sale items hidden ...",
              !1
            )),
            (v = j(
              v,
              "tagged_items",
              "... %1$s tagged sale items AND tags hidden ...",
              !1
            )),
            (v = j(
              v,
              "sorting_tiers",
              "... %1$s sorting tier sale items hidden ...",
              !1
            )),
            (v = j(
              v,
              "sale_sections.facets.facetValues.matchingCapsules",
              "... %1$s facet sale items hidden ...",
              !1
            )));
        const O = a.GetCreatorUserSteamID(),
          C = a.GetLastUpdater(),
          [y, T] = Object(f.a)(a.GetEventModel());
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            null,
            d.createElement(_.g, {
              label: "collapse empty arrays",
              checked: n,
              onChange: i,
            }),
            d.createElement(_.g, {
              label: "collapse facet value names",
              checked: l,
              onChange: r,
            }),
            d.createElement(_.g, {
              label: "collapse sale tags",
              checked: s,
              onChange: c,
            }),
            d.createElement(_.g, {
              label: "collapse sale items",
              checked: m,
              onChange: u,
            }),
            d.createElement("h1", null, "Data:"),
            d.createElement(
              "div",
              null,
              "Clan SteamID: ",
              a.GetClanSteamID().ConvertTo64BitString()
            ),
            d.createElement(
              "div",
              null,
              "Clan AccountID: ",
              a.GetClanSteamID().GetAccountID()
            ),
            d.createElement(
              "div",
              null,
              O.BIsValid()
                ? d.createElement(g.b, {
                    accountID: O.GetAccountID(),
                    locToken: "#EventModTile_EventCreator",
                  })
                : "Original Poster: not set"
            ),
            d.createElement(
              "div",
              null,
              C.BIsValid()
                ? d.createElement(g.b, {
                    accountID: C.GetAccountID(),
                    locToken: "#EventModTile_EventLastUpdator",
                  })
                : "Last Updater: not set"
            ),
            d.createElement("div", null, "AppID: ", a.GetAppID()),
            d.createElement("div", null, "Event GID: ", a.GetEventModel().GID),
            d.createElement(
              "div",
              null,
              "Announcement GID: ",
              a.GetEventModel().AnnouncementGID
            ),
            d.createElement(
              "div",
              null,
              "Forum Topic URL: ",
              a.GetEventModel().GetForumTopicURL()
            ),
            d.createElement(
              "div",
              null,
              "Featured App TagID: ",
              a.GetEventModel().featured_app_tagid
            ),
            d.createElement(
              "div",
              null,
              "Visibility Setting: ",
              Object(o.a)(a.GetVisibilitySetting())
            ),
            d.createElement(
              "div",
              null,
              "Computed Visibility Setting: ",
              Object(o.a)(
                o.f.ComputeVisibilitySetting(
                  a.GetEventStartTime(),
                  a.GetEventVisibilityStartTime()
                )
              )
            ),
            d.createElement(
              "div",
              null,
              "Event Start Time: ",
              a.GetEventModel().startTime,
              " -",
              Boolean(0 != a.GetEventModel().startTime) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().startTime,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Event End Time: ",
              a.GetEventModel().endTime,
              " -",
              Boolean(0 != a.GetEventModel().endTime) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().endTime,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Visibility Start Time: ",
              a.GetEventModel().visibilityStartTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityStartTime) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().visibilityStartTime,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Visibility End Time: ",
              a.GetEventModel().visibilityEndTime,
              " -",
              Boolean(0 != a.GetEventModel().visibilityEndTime) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().visibilityEndTime,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Post Time: ",
              a.GetEventModel().postTime,
              " -",
              Boolean(0 != a.GetEventModel().postTime) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().postTime,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Last Modified Time (by user): ",
              a.GetEventModel().rtime32_last_modified,
              " -",
              Boolean(0 != a.GetEventModel().rtime32_last_modified) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().rtime32_last_modified,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Moderator (first) Review Time: ",
              a.GetEventModel().rtime32_moderator_reviewed,
              " -",
              Boolean(0 != a.GetEventModel().rtime32_moderator_reviewed) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().rtime32_moderator_reviewed,
                  bSingleLine: !0,
                })
            ),
            d.createElement(
              "div",
              null,
              "Last Solr Update Indexing Request Time: ",
              a.GetEventModel().rtime32_last_solr_search_col_updated,
              " -",
              Boolean(
                0 != a.GetEventModel().rtime32_last_solr_search_col_updated
              ) &&
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel()
                    .rtime32_last_solr_search_col_updated,
                  bSingleLine: !0,
                })
            ),
            Boolean(
              0 != a.GetEventModel().jsondata.rt_migrated_time &&
                null != a.GetEventModel().jsondata.rt_migrated_time
            ) &&
              d.createElement(
                "div",
                null,
                "Migrated Time: ",
                a.GetEventModel().jsondata.rt_migrated_time,
                " -",
                d.createElement(b.a, {
                  dateAndTime: a.GetEventModel().jsondata.rt_migrated_time,
                  bSingleLine: !0,
                })
              ),
            d.createElement(
              "div",
              null,
              "Build and Branch Association:",
              y,
              " -",
              T || "default"
            ),
            d.createElement("h1", null, "Tags:"),
            E,
            d.createElement("br", null),
            d.createElement(g.a, { eventModel: a.GetEventModel() }),
            d.createElement("br", null),
            d.createElement(D, {
              clanSteamID: a.GetClanSteamID(),
              gidClanEvent: a.GetGID(),
            }),
            d.createElement("br", null),
            d.createElement("h1", null, "Json Body"),
            d.createElement(p.b, { data: v })
          )
        );
      });
      function D(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { oPrivateData: n, bLoading: i } = Object(O.b)(t.GetAccountID(), a);
        return i
          ? d.createElement(E.a, {
              size: "small",
              string: "Loading Private Data",
            })
          : n.nAccountLastUpdate > 0 || n.jsonData
          ? d.createElement(
              "div",
              null,
              d.createElement("h1", null, "Private Data:"),
              d.createElement(
                "div",
                null,
                n.nAccountLastUpdate
                  ? d.createElement(g.b, {
                      accountID: n.nAccountLastUpdate,
                      locToken: "#EventModTile_EventLastUpdator",
                    })
                  : "Private Date Not Saved"
              ),
              d.createElement(
                "div",
                null,
                "Last Save Time: ",
                n.rtLastUpdateTime,
                " -",
                Boolean(n.rtLastUpdateTime > 0) &&
                  d.createElement(b.a, {
                    dateAndTime: n.rtLastUpdateTime,
                    bSingleLine: !0,
                  })
              ),
              d.createElement(p.b, { data: n.jsonData })
            )
          : d.createElement("div", null, "No Private Data Associated");
      }
      const G = (e) => {
        const { editModel: t } = e,
          a = t.GetEventModel().clanSteamID.GetAccountID(),
          i = t.GetEventModel().GID,
          [r, o] = d.useState(null),
          [s, c] = d.useState(null),
          [m, u] = d.useState(!0);
        return (
          d.useEffect(() => {
            if (m) {
              (() =>
                Object(n.a)(void 0, void 0, void 0, function* () {
                  var e;
                  const t = S.c.STORE_BASE_URL + "events_admin/ajaxgetsolrdata",
                    n = {
                      sessionid: S.c.SESSIONID,
                      clan_account_id: a,
                      event_gid: i,
                    };
                  try {
                    const a = yield l.a.get(t, {
                      params: n,
                      withCredentials: !0,
                    });
                    1 ==
                      (null === (e = null == a ? void 0 : a.data) ||
                      void 0 === e
                        ? void 0
                        : e.success) &&
                      (o(a.data.solr_data), c(a.data.store_solr_matches));
                  } catch (e) {
                    const t = Object(v.a)(e);
                    console.error("SolrDebugPanel: error " + t.strErrorMsg, t);
                  } finally {
                    u(!1);
                  }
                }))();
            }
          }, [m, a, i]),
          m
            ? d.createElement(E.a, { string: Object(h.f)("#Loading") })
            : r
            ? d.createElement(
                "div",
                null,
                d.createElement(
                  T.d,
                  {
                    title: "Event Solr Data",
                    tooltip:
                      "Shows the expanded data stored in the event solr core for this event",
                    bStartMinimized: !0,
                  },
                  d.createElement(p.b, { data: r })
                ),
                d.createElement(
                  T.d,
                  {
                    title: "Store Search Data",
                    tooltip:
                      "Here are the apps tagged with the sale id which are searchable and part of the sale",
                    bStartMinimized: !0,
                  },
                  d.createElement(p.b, { data: s })
                )
              )
            : d.createElement("div", null, "No solr data ", a, ": ", i)
        );
      };
      var w = a("Gp1o"),
        A = a("EC67"),
        M = a("55Ip"),
        k = (a("xJL/"), a("TQGK")),
        B = a("uIWk"),
        N = a("9w6b"),
        L = a("IjL/"),
        R = a("TOXn"),
        F = a("fpVW"),
        x = a.n(F),
        P = a("fbnN"),
        U = a("exH9"),
        V = a("N0Ye"),
        H = a("6h0J"),
        z = a.n(H),
        W = a("6yBx"),
        q = a("FRkE"),
        Q = a("Nsq5"),
        J = a("Jqb/"),
        Y = a("ka0M"),
        Z = a("+d9t"),
        K = a("6Oks"),
        X = a.n(K);
      const $ = (e) => {
          let t = null;
          "capsule" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#selectimage_tip_capsule_1")
                ),
                d.createElement(
                  "div",
                  null,
                  d.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg",
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png",
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png",
                  }),
                  d.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg",
                  })
                )
              ))
            : "background" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#selectimage_tip_background_1")
                ),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/5193306/62436147b454715822a198a2767e5c7a8560617e.jpg",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png",
                })
              ))
            : "spotlight" === e.artworkType &&
              (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: X.a.AssetExampleSpotlightCtn },
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#selectimage_tip_spotlight_3")
                  ),
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#selectimage_tip_spotlight_4")
                  ),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_1.jpg",
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_2.jpg",
                  }),
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#selectimage_tip_spotlight_5")
                  ),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                  }),
                  d.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                  })
                )
              ));
          return t
            ? d.createElement(
                "div",
                { className: x.a.FlexRowContainer },
                d.createElement(
                  _.J,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        Object(Y.d)(
                          d.createElement(
                            J.e,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: Object(h.f)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`
                              ),
                              strDescription: Object(h.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t),
                  },
                  Object(h.f)("#EventEditor_ViewExamples")
                ),
                d.createElement(
                  _.J,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      Object(Z.e)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets"
                      ),
                  },
                  Object(h.f)("#EventEditor_Learn_More")
                )
              )
            : null;
        },
        ee = (e) => {
          let t = null;
          "sale_header" === e.artworkType
            ? (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#selectimage_tip_sale_header_1")
                ),
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#selectimage_tip_sale_header_2")
                ),
                d.createElement(
                  "div",
                  { className: X.a.SaleHeaderExampleCtn },
                  d.createElement(
                    "div",
                    { className: X.a.SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                      })
                    ),
                    d.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                      })
                    )
                  ),
                  d.createElement(
                    "div",
                    { className: X.a.SaleHeaderExampleCol },
                    d.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                        target: "_blank",
                      },
                      d.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                      })
                    )
                  )
                )
              ))
            : "product_banner" === e.artworkType &&
              (t = d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#selectimage_tip_sale_product_banner")
                ),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/309cb650beb92e00ae352710387832aea78433ef.jpg",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg",
                }),
                d.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif",
                })
              ));
          return t
            ? d.createElement(
                "div",
                { className: x.a.FlexRowContainer },
                d.createElement(
                  _.J,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: () =>
                      ((t) => {
                        Object(Y.d)(
                          d.createElement(
                            J.e,
                            {
                              onOK: () => {},
                              onCancel: () => {},
                              bAlertDialog: !0,
                              strTitle: Object(h.f)(
                                `#EventEditor_ExampleTitle_${e.artworkType}`
                              ),
                              strDescription: Object(h.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t),
                  },
                  Object(h.f)("#EventEditor_ViewExamples")
                ),
                d.createElement(
                  _.J,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: (e) =>
                      Object(Z.e)(
                        e,
                        "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta"
                      ),
                  },
                  Object(h.f)("#EventEditor_Learn_More")
                ),
                d.createElement("br", null)
              )
            : null;
        };
      var te = a("R5ed"),
        ae = a("2vnA"),
        ne = a("t3gG"),
        ie = a("Kw0F");
      class le {
        constructor(e) {
          this.m_editModel = e;
        }
        GetJSONData() {
          return this.m_editModel.GetEventModel().jsondata;
        }
        SetBroadcastEnabled(e) {
          this.GetJSONData().bBroadcastEnabled !== e &&
            ((this.GetJSONData().bBroadcastEnabled = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetBroadcastForceBanner(e) {
          this.GetJSONData().broadcast_force_banner !== e &&
            ((this.GetJSONData().broadcast_force_banner = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetChangeSetting(e) {
          this.GetJSONData().broadcastChatSetting !== e &&
            ((this.GetJSONData().broadcastChatSetting = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetTitleToken(e) {
          this.GetJSONData().default_broadcast_title !== e &&
            ((this.GetJSONData().default_broadcast_title = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetCustomTitleLocalize(e, t) {
          this.GetJSONData().localized_broadcast_title[e] !== t &&
            ((this.GetJSONData().localized_broadcast_title[e] = t),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        AddAccountToWhiteList(e) {
          const t = this.GetJSONData().broadcast_whitelist;
          t.includes(e) ||
            (t.push(e), this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        DeleteWhiteListAccount(e) {
          let t = this.GetJSONData().broadcast_whitelist.indexOf(e);
          t < 0 ||
            (this.GetJSONData().broadcast_whitelist.splice(t, 1),
            this.GetJSONData().broadcast_language &&
              this.GetJSONData().broadcast_language.length > t &&
              this.GetJSONData().broadcast_language.splice(t, 1),
            this.GetJSONData().broadcast_priority &&
              this.GetJSONData().broadcast_priority.length > t &&
              this.GetJSONData().broadcast_priority.splice(t, 1));
        }
        SetWhiteListAccountLanguage(e, t) {
          let a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          if (a < this.GetJSONData().broadcast_whitelist.length) {
            if (!this.GetJSONData().broadcast_language) {
              if (-1 == t) return;
              this.GetJSONData().broadcast_language = new Array();
            }
            const e = this.GetJSONData().broadcast_language;
            if (e.length < a && -1 == t) return;
            for (; e.length <= a; ) e.push(-1);
            if (e[a] != t) {
              for (e[a] = t; e.length > 0 && -1 == e[e.length - 1]; ) e.pop();
              0 == e.length && (this.GetJSONData().broadcast_language = void 0),
                this.m_editModel.SetDirty(o.d.jsondata_broadcast);
            }
          }
        }
        SetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          if (a < 0) return;
          const n = Object(ie.e)(
            this.GetJSONData().broadcast_priority || [],
            a + 1,
            ""
          );
          for (n[a] = t; n.length > 0 && !n[n.length - 1]; ) n.pop();
          (this.GetJSONData().broadcast_priority = n),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast);
        }
        GetWhiteListAccountPriority(e, t) {
          const a = this.GetJSONData().broadcast_whitelist.indexOf(e);
          return a < 0 ||
            !this.GetJSONData().broadcast_priority ||
            a >= this.GetJSONData().broadcast_priority.length
            ? t
            : this.GetJSONData().broadcast_priority[a] || t;
        }
        RemoveWhiteListAtIndex(e) {
          this.GetJSONData().broadcast_whitelist.length > e &&
            (this.GetJSONData().broadcast_whitelist.splice(e, 1),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        ClearWhiteList() {
          this.GetJSONData().broadcast_whitelist.length > 0 &&
            ((this.GetJSONData().broadcast_whitelist = []),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        GetBroadcastContentType() {
          return this.GetJSONData().broadcast_content_type;
        }
        SetBroadcastContentType(e) {
          this.GetJSONData().broadcast_content_type != e &&
            ((this.GetJSONData().broadcast_content_type = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        GetPrerollVideo() {
          return this.GetJSONData().broadcast_preroll_vod_appid;
        }
        SetPrerollVODAppID(e) {
          this.GetJSONData().broadcast_preroll_vod_appid !== e &&
            ((this.GetJSONData().broadcast_preroll_vod_appid = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetDropsEnabled(e) {
          this.GetJSONData().broadcast_item_drops_enabled != e &&
            (e
              ? ((this.GetJSONData().broadcast_item_drops_enabled = !0),
                (this.GetJSONData().broadcast_item_drops_manual = !1),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = 30))
              : ((this.GetJSONData().broadcast_item_drops_enabled = void 0),
                (this.GetJSONData().broadcast_item_drops_manual = void 0),
                (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = void 0),
                (this.GetJSONData().broadcast_item_drops_details_clan_accountid = void 0),
                (this.GetJSONData().broadcast_item_drops_details_event_gid = void 0)),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetItemDropManual(e) {
          this.GetJSONData().broadcast_item_drops_manual != e &&
            ((this.GetJSONData().broadcast_item_drops_manual = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetItemDropMinutes(e) {
          this.GetJSONData().broadcast_item_drops_min_watch_time_minutes != e &&
            ((this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetItemDropDetailEvents(e, t) {
          (this.GetJSONData().broadcast_item_drops_details_clan_accountid ==
            e &&
            this.GetJSONData().broadcast_item_drops_details_event_gid == t) ||
            ((this.GetJSONData().broadcast_item_drops_details_event_gid = t),
            (this.GetJSONData().broadcast_item_drops_details_clan_accountid = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
        SetWidePlayerLayout(e) {
          this.GetJSONData().broadcast_display_wide_player != e &&
            ((this.GetJSONData().broadcast_display_wide_player = e),
            this.m_editModel.SetDirty(o.d.jsondata_broadcast));
        }
      }
      Object(n.b)([ae.k], le.prototype, "SetBroadcastEnabled", null),
        Object(n.b)([ae.k], le.prototype, "SetBroadcastForceBanner", null),
        Object(n.b)([ae.k], le.prototype, "SetChangeSetting", null),
        Object(n.b)([ae.k], le.prototype, "SetTitleToken", null),
        Object(n.b)([ae.k], le.prototype, "SetCustomTitleLocalize", null),
        Object(n.b)([ae.k], le.prototype, "AddAccountToWhiteList", null),
        Object(n.b)([ae.k], le.prototype, "DeleteWhiteListAccount", null),
        Object(n.b)([ae.k], le.prototype, "SetWhiteListAccountLanguage", null),
        Object(n.b)([ae.k], le.prototype, "SetWhiteListAccountPriority", null),
        Object(n.b)([ae.k], le.prototype, "RemoveWhiteListAtIndex", null),
        Object(n.b)([ae.k], le.prototype, "ClearWhiteList", null),
        Object(n.b)([ae.k], le.prototype, "SetBroadcastContentType", null),
        Object(n.b)([ae.k], le.prototype, "SetPrerollVODAppID", null),
        Object(n.b)([ae.k], le.prototype, "SetDropsEnabled", null),
        Object(n.b)([ae.k], le.prototype, "SetItemDropManual", null),
        Object(n.b)([ae.k], le.prototype, "SetItemDropMinutes", null),
        Object(n.b)([ae.k], le.prototype, "SetItemDropDetailEvents", null),
        Object(n.b)([ae.k], le.prototype, "SetWidePlayerLayout", null);
      var re = a("aoTL"),
        oe = a("dsQf"),
        se = a.n(oe),
        ce = a("TtDX"),
        de = a("3+zv"),
        me = a("GsOj"),
        ue = a("Qcoi"),
        pe = a("y+6m"),
        _e = a("h5LU"),
        ge = a("vBFs"),
        be = a("McqU"),
        Ee = a("xnZ7"),
        he = a.n(Ee),
        ve = a("5E+2"),
        Se = a("UvY0"),
        fe = a("opsS"),
        Oe = a("wrcz"),
        Ce = a.n(Oe),
        ye = a("as1E"),
        Te = a.n(ye);
      let je = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              strCustomTitle: "",
              customTitleLanguage: 0,
              whitelistSteamID: "",
            });
        }
        GetBroadcastEditModel() {
          return new le(this.props.editModel);
        }
        OnBroadcastOptionChange(e) {
          this.GetBroadcastEditModel().SetBroadcastEnabled(e);
        }
        OnBroadcastForceBanner(e) {
          this.GetBroadcastEditModel().SetBroadcastForceBanner(e);
        }
        OnChatChange(e) {
          this.GetBroadcastEditModel().SetChangeSetting(e);
        }
        OnTitleChange(e) {
          this.GetBroadcastEditModel().SetTitleToken(e.data);
        }
        OnCustomTitleChange(e) {
          this.setState({ strCustomTitle: e.target.value });
        }
        OnCustomTitleLanguageChange(e) {
          this.setState({ customTitleLanguage: e.data });
        }
        AddTitle() {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(
            this.state.customTitleLanguage,
            this.state.strCustomTitle
          ),
            this.setState({ strCustomTitle: "" });
        }
        RemoveTitle(e) {
          this.GetBroadcastEditModel().SetCustomTitleLocalize(e, null);
        }
        OnSaleColorChange(e, t) {
          (this.props.editModel.GetEventModel().jsondata[t] = e),
            this.props.editModel.SetDirty(o.d.jsondata_sales);
        }
        OnOpenGradientInnerColor(e) {
          Object(ce.a)(
            d.createElement(_e.a, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_inner_color"),
              color: this.props.editModel.GetEventModel().jsondata
                .broadcast_gradient_inner_color,
            }),
            e,
            { bDisablePopTop: !0 }
          );
        }
        OnOpenGradientOuterColor(e) {
          Object(ce.a)(
            d.createElement(_e.a, {
              onChange: (e) =>
                this.OnSaleColorChange(e, "broadcast_gradient_outer_color"),
              color: this.props.editModel.GetEventModel().jsondata
                .broadcast_gradient_outer_color,
            }),
            e,
            { bDisablePopTop: !0 }
          );
        }
        render() {
          const { editModel: e } = this.props,
            t = e.GetEventModel().jsondata,
            a = [
              "#Broadcast_default_title_dev",
              "#Broadcast_default_title_community",
              "#Broadcast_default_title_comp",
              "#Broadcast_default_title_speed",
              "#Broadcast_default_title_simple",
              "#Broadcast_default_title_dev_chat",
              "#Broadcast_default_title_ama",
            ].map((e) => ({ label: Object(h.f)(e), data: e })),
            n = [],
            i = h.b.GetLanguageListForRealms([
              y.ESteamRealm.k_ESteamRealmGlobal,
            ]);
          for (const e of i) {
            const t = {
              label: Object(h.f)("#language_selection_" + Object(u.a)(e)),
              data: e,
            };
            n.push(t);
          }
          const l = ne.a.map((t) =>
            d.createElement(
              "div",
              {
                key: "broadcastchatOptions_" + t,
                className: Object(U.a)(x.a.FlexRowContainer, x.a.RadioOption),
              },
              d.createElement("input", {
                type: "radio",
                name: "BroadcastChat",
                id: "EventEditor_BroadcastSChat_" + t,
                value: t,
                checked: e.GetEventModel().GetBroadcastChatVisibility() === t,
                onChange: () => this.OnChatChange(t),
              }),
              d.createElement(
                "label",
                { htmlFor: "EventEditor_BroadcastSChat_" + t },
                d.createElement(
                  "span",
                  null,
                  Object(h.f)("#Broadcast_chat_" + t)
                )
              )
            )
          );
          return d.createElement(
            "div",
            { className: Te.a.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#Broadcast_title")
              ),
              d.createElement(
                "a",
                {
                  target: S.c.IN_CLIENT ? void 0 : "_blank",
                  href: S.c.PARTNER_BASE_URL + "doc/store/broadcast",
                  className: Object(U.a)(x.a.doclink),
                },
                d.createElement(
                  "span",
                  null,
                  Object(h.f)("#Broadcast_documentation")
                )
              )
            ),
            d.createElement(
              "div",
              { className: x.a.InputBorder },
              d.createElement(_.M, {
                onChange: this.OnBroadcastOptionChange,
                label: Object(h.f)("#Broadcast_option"),
                checked: e.GetEventModel().BHasBroadcastEnabled(),
              })
            ),
            e.GetEventModel().BHasBroadcastEnabled() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#Broadcast_title_title")
                ),
                d.createElement(
                  "div",
                  {
                    className: Object(U.a)(
                      x.a.FlexColumnContainer,
                      x.a.EventDefaultRowContainer
                    ),
                  },
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#Broadcast_title_desc")
                  ),
                  d.createElement(_.n, {
                    rgOptions: a,
                    selectedOption: a[0].data,
                    onChange: this.OnTitleChange,
                  }),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)("#Broadcast_option_customtitle")
                  ),
                  d.createElement(
                    "div",
                    { className: Ce.a.customTitleOptionsCtn },
                    d.createElement(
                      "div",
                      {
                        className: Object(U.a)(
                          x.a.FlexRowContainer,
                          Ce.a.CustomTitleCtn
                        ),
                      },
                      d.createElement(
                        "div",
                        { style: { width: "400px" } },
                        d.createElement(_.A, {
                          placeholder: Object(h.f)("#Broadcast_use_custom"),
                          onChange: this.OnCustomTitleChange,
                          value: this.state.strCustomTitle,
                        })
                      ),
                      d.createElement(
                        "div",
                        { className: Ce.a.LanguageContainer },
                        d.createElement(_.n, {
                          bDisableMouseOverlay: !0,
                          strDropDownClassName: x.a.DropDownScroll,
                          rgOptions: n,
                          selectedOption: this.state.customTitleLanguage,
                          onChange: this.OnCustomTitleLanguageChange,
                        })
                      ),
                      d.createElement(
                        "div",
                        { className: Ce.a.AddTitleButton },
                        d.createElement(
                          _.G,
                          { onClick: () => this.AddTitle() },
                          Object(h.f)("#Broadcast_add_title")
                        )
                      )
                    ),
                    d.createElement(
                      "p",
                      null,
                      Object(h.f)("#Sale_option_customtitle_entered")
                    ),
                    d.createElement(
                      "div",
                      { className: Object(U.a)(x.a.FlexColumnContainer) },
                      t.localized_broadcast_title.map((e, t) =>
                        e
                          ? d.createElement(
                              "div",
                              {
                                className: Object(U.a)(
                                  Ce.a.TitleRowCtn,
                                  x.a.FlexRowContainer
                                ),
                                key: t,
                              },
                              e,
                              " (",
                              Object(h.f)(
                                "#language_selection_" + Object(u.a)(t)
                              ),
                              ")",
                              d.createElement(
                                "div",
                                { style: { marginLeft: "auto" } },
                                d.createElement("img", {
                                  className: he.a.RemoveIcon,
                                  src: se.a,
                                  onClick: () => this.RemoveTitle(t),
                                })
                              )
                            )
                          : null
                      )
                    )
                  )
                ),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#Broadcast_background")
                ),
                d.createElement(
                  _.f,
                  {
                    onClick: this.OnOpenGradientOuterColor,
                    className: x.a.EventEditorTextTitle,
                    style: {
                      backgroundColor: this.props.editModel.GetEventModel()
                        .jsondata.broadcast_gradient_outer_color,
                    },
                  },
                  Object(h.f)("#Broadcast_GradientOuterColor")
                ),
                d.createElement(
                  _.f,
                  {
                    onClick: this.OnOpenGradientInnerColor,
                    className: x.a.EventEditorTextTitle,
                    style: {
                      backgroundColor: this.props.editModel.GetEventModel()
                        .jsondata.broadcast_gradient_inner_color,
                    },
                  },
                  Object(h.f)("#Broadcast_GradientInnerColor")
                ),
                d.createElement(Ie, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(we, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#Broadcast_chat_title")
                ),
                d.createElement(
                  "div",
                  {
                    className: Object(U.a)(
                      x.a.FlexColumnContainer,
                      x.a.EventDefaultRowContainer
                    ),
                  },
                  l
                ),
                d.createElement(De, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(Ge, {
                  editModel: e,
                  broadcastEditModel: this.GetBroadcastEditModel(),
                }),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#Broadcast_artwork")
                ),
                d.createElement(W.b, {
                  clanSteamID: e.GetClanSteamID(),
                  rgSupportArtwork: ["broadcast_left", "broadcast_right"],
                  fnSetImageURL: e.SetImageURL,
                  rgRealmList: e.GetIncludedRealmList(),
                }),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#Broadcast_artwork_options")
                ),
                d.createElement(
                  "div",
                  { className: x.a.InputBorder },
                  d.createElement(_.M, {
                    onChange: this.OnBroadcastForceBanner,
                    label: Object(h.f)("#Broadcast_artwork_banner"),
                    tooltip: Object(h.f)("#Broadcast_artwork_banner_hint"),
                    checked: e.GetEventModel().BHasBroadcastForceBanner(),
                  })
                ),
                d.createElement(te.b, {
                  clanSteamID: e.GetClanSteamID(),
                  title: Object(h.f)("#EventEditor_ArtworkType_broadcast_left"),
                  artworkType: "broadcast_left",
                }),
                d.createElement(te.b, {
                  clanSteamID: e.GetClanSteamID(),
                  title: Object(h.f)(
                    "#EventEditor_ArtworkType_broadcast_right"
                  ),
                  artworkType: "broadcast_right",
                })
              )
          );
        }
      };
      function Ie(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          [i, l] = d.useState(
            t.GetEventModel().jsondata.broadcast_whitelist || []
          ),
          r = Object(me.b)();
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            Object(h.f)("#Broadcast_whitelist")
          ),
          d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.FlexColumnContainer,
                x.a.EventDefaultRowContainer
              ),
            },
            d.createElement(
              "div",
              null,
              Object(h.f)("#Broadcast_whitelist_desc")
            ),
            d.createElement(
              "div",
              null,
              Object(h.f)("#Broadcast_option_drag_ttip")
            ),
            d.createElement(
              "div",
              { className: Te.a.BroadcastAccountList },
              i.map((e) =>
                d.createElement(Ae, {
                  key: "broadcastaccountrow_" + e,
                  accountid: e,
                })
              )
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.FlexRowWrapFlexStartContainer) },
              d.createElement(
                "a",
                {
                  onClick: () => {
                    a.AddAccountToWhiteList(S.h.accountid),
                      l([...t.GetEventModel().jsondata.broadcast_whitelist]);
                  },
                  className: x.a.EditPreviewButton,
                },
                Object(h.f)("#Broadcast_whitelist_addme")
              ),
              d.createElement(
                "a",
                {
                  onClick: (e) =>
                    Object(ce.a)(
                      d.createElement(
                        "div",
                        { className: x.a.DropDownScroll },
                        (r || []).map((e) =>
                          d.createElement(
                            pe.d,
                            {
                              key: e.steamid,
                              onSelected: () => {
                                const n = new C.a(e.steamid);
                                a.AddAccountToWhiteList(n.GetAccountID()),
                                  l([
                                    ...t.GetEventModel().jsondata
                                      .broadcast_whitelist,
                                  ]);
                              },
                            },
                            d.createElement(
                              "div",
                              {
                                style: {
                                  display: "flex",
                                  alignItems: "center",
                                },
                              },
                              d.createElement("img", {
                                className: Ce.a.WhitelistAvatar,
                                src: e.avatar_url,
                              }),
                              e.persona_name
                            )
                          )
                        )
                      ),
                      e
                    ),
                  className: x.a.EditPreviewButton,
                },
                Object(h.f)("#Broadcast_whitelist_addfriend")
              ),
              d.createElement(
                "a",
                {
                  onClick: () => {
                    a.ClearWhiteList(), l([]);
                  },
                  className: x.a.EditPreviewButton,
                },
                Object(h.f)("#Broadcast_whitelist_clear")
              )
            ),
            d.createElement(be.a, {
              onButtonClick: (e) =>
                Object(n.a)(this, void 0, void 0, function* () {
                  const n = new C.a(e);
                  return (
                    a.AddAccountToWhiteList(n.GetAccountID()),
                    l([...t.GetEventModel().jsondata.broadcast_whitelist]),
                    !0
                  );
                }),
              buttonText: Object(h.f)("#Broadcast_whitelist_adduser"),
            }),
            d.createElement(
              "div",
              null,
              Object(h.m)(
                "#Broadcast_whitelist_friendcode",
                d.createElement(
                  "a",
                  {
                    target: "_blank",
                    href: S.c.COMMUNITY_BASE_URL + "my/friends/add",
                  },
                  S.c.COMMUNITY_BASE_URL + "my/friends/add"
                )
              )
            )
          )
        );
      }
      function De(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          [n, i, l, r, o] = Object(re.d)(() => [
            t.GetEventModel().jsondata.broadcast_item_drops_enabled,
            t.GetEventModel().jsondata.broadcast_item_drops_manual,
            t.GetEventModel().jsondata
              .broadcast_item_drops_min_watch_time_minutes,
            t.GetEventModel().jsondata
              .broadcast_item_drops_details_clan_accountid,
            t.GetEventModel().jsondata.broadcast_item_drops_details_event_gid,
          ]);
        return d.createElement(
          Se.b,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: Object(U.a)(x.a.ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            "(VO) " + Object(h.f)("#Broadcast_DropsTitle")
          ),
          d.createElement(_.g, {
            onChange: (e) => a.SetDropsEnabled(e),
            label: Object(h.f)("#Broadcast_Drops_Enable"),
            checked: Boolean(n),
          }),
          Boolean(n) &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(_.g, {
                onChange: (e) => a.SetItemDropManual(e),
                label: Object(h.f)("#Broadcast_Drops_IsManualDrops"),
                checked: Boolean(i),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_min_mintes" },
                Object(h.f)("#Broadcast_Drops_Minute")
              ),
              d.createElement("input", {
                id: "broadcast_min_mintes",
                type: "number",
                min: "5",
                value: l,
                onChange: (e) =>
                  a.SetItemDropMinutes(Number.parseInt(e.target.value)),
              }),
              d.createElement(
                "div",
                { className: x.a.EventEditorTextSubTitle },
                Object(h.f)("#Broadcast_Drops_Details")
              ),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_account" },
                Object(h.f)("#Broadcast_Drops_Details_Account")
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_account",
                type: "number",
                min: "0",
                value: r,
                onChange: (e) =>
                  a.SetItemDropDetailEvents(Number.parseInt(e.target.value), o),
              }),
              d.createElement(
                "label",
                { htmlFor: "broadcast_detail_clan_event_gid" },
                Object(h.f)("#Broadcast_Drops_Details_GID")
              ),
              d.createElement("input", {
                id: "broadcast_detail_clan_event_gid",
                type: "text",
                value: o,
                onChange: (e) => a.SetItemDropDetailEvents(r, e.target.value),
              })
            )
        );
      }
      function Ge(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = Object(re.d)(
            () => t.GetEventModel().jsondata.broadcast_display_wide_player
          );
        return d.createElement(
          Se.b,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: Object(U.a)(x.a.ValveOnlyBackground),
          },
          d.createElement(
            ve.a,
            { toolTipContent: Object(h.f)("#Broadcast_WidePlayer_ttip") },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitle },
              "(VO) " + Object(h.f)("#Broadcast_WidePlayer")
            )
          ),
          d.createElement(_.g, {
            onChange: (e) => a.SetWidePlayerLayout(e),
            label: Object(h.f)("#Broadcast_WidePlayer_Use"),
            checked: Boolean(n),
          }),
          d.createElement(
            ve.a,
            { toolTipContent: Object(h.f)("#Broadcast_ContentType_Desc") },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitle },
              "(VO) " + Object(h.f)("#Broadcast_ContentType")
            )
          ),
          d.createElement(ke, null)
        );
      }
      function we(e) {
        const { editModel: t, broadcastEditModel: a } = e,
          n = Object(re.d)(() => (null == a ? void 0 : a.GetPrerollVideo()));
        return d.createElement(
          Se.b,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: Object(U.a)(x.a.ValveOnlyBackground),
          },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            Object(h.f)("#Broadcast_preroll_title")
          ),
          d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.FlexColumnContainer,
                x.a.EventDefaultRowContainer
              ),
            },
            d.createElement(
              "div",
              null,
              Object(h.f)("#Broadcast_preroll_desc")
            ),
            d.createElement(_.A, {
              type: "text",
              placeholder: Object(h.f)("#Broadcast_preroll_prompt"),
              mustBeNumeric: !0,
              rangeMin: 1,
              value: n || "",
              onChange: (e) => a.SetPrerollVODAppID(e.target.value.trim()),
            }),
            Boolean(n) &&
              d.createElement(
                "a",
                { href: S.c.PARTNER_BASE_URL + "apps/landing/" + n },
                Object(h.f)("#Broadcast_preroll_app_link")
              )
          )
        );
      }
      function Ae(e) {
        const { accountid: t } = e,
          [a, n] = Object(ue.c)(t),
          i = () => {
            let e = s.c.GetEditModel();
            return new le(e);
          };
        if (a)
          return d.createElement(E.a, {
            size: "small",
            string: Object(h.f)("#Loading"),
          });
        if (!n)
          return d.createElement(
            "div",
            null,
            Object(h.f)("#Broadcast_FailedToLoadUser")
          );
        let l = s.c.GetEditModel().GetEventModel(),
          r = l.jsondata.broadcast_whitelist.indexOf(t),
          o = l.jsondata.broadcast_language,
          c = -1;
        return (
          r >= 0 && o && r < o.length && void 0 !== o[r] && (c = o[r]),
          d.createElement(
            "div",
            { className: Object(U.a)(he.a.FlexCenter, Ce.a.AccountRow) },
            d.createElement(
              "a",
              {
                className: Object(U.a)(
                  he.a.FlexCenter,
                  Te.a.BroadcastAccountInfo
                ),
                href: S.c.COMMUNITY_BASE_URL + "profiles/" + n.steamid,
                target: "_blank",
              },
              n
                ? d.createElement("img", {
                    style: { marginRight: "8px" },
                    src: n.avatar_url,
                  })
                : null,
              n ? n.persona_name : null
            ),
            d.createElement(
              ve.a,
              { toolTipContent: Object(h.f)("#Broadcast_Language_hint") },
              d.createElement(
                "span",
                null,
                Object(h.f)("#EventEditor_Langauge"),
                ": "
              ),
              d.createElement(ge.a, {
                bAllowUnsetOption: !0,
                selectedLang: c,
                fnOnLanguageChanged: (e) =>
                  i().SetWhiteListAccountLanguage(t, e),
              })
            ),
            d.createElement(Me, { accountid: t }),
            d.createElement("img", {
              className: Object(U.a)(he.a.FlexCenter, he.a.RemoveIcon),
              src: se.a,
              onClick: () => i().DeleteWhiteListAccount(t),
            })
          )
        );
      }
      function Me(e) {
        const t = s.c.GetEditModel(),
          a = new le(t),
          n = [
            {
              label: Object(h.f)("#Broadcast_Priority_Primary"),
              data: "primary",
            },
            {
              label: Object(h.f)("#Broadcast_Priority_Featured"),
              data: "featured",
            },
            {
              label: Object(h.f)("#Broadcast_Priority_DefaultFeatured"),
              data: "default_featured",
            },
            {
              label: Object(h.f)("#Broadcast_Priority_General"),
              data: "general",
            },
          ],
          i = a.GetWhiteListAccountPriority(e.accountid, "general");
        return d.createElement(
          ve.a,
          {
            toolTipContent: Object(h.f)("#Broadcast_Priority_hint"),
            className: Te.a.PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            Object(h.f)("#Broadcast_Priority_label"),
            ": "
          ),
          d.createElement(_.n, {
            rgOptions: n,
            selectedOption: i,
            onChange: (t) => {
              a.SetWhiteListAccountPriority(e.accountid, t.data);
            },
          })
        );
      }
      function ke(e) {
        const t = s.c.GetEditModel(),
          a = new le(t),
          n = [
            {
              label: Object(h.f)("#Broadcast_ContentType_Unknown"),
              data: void 0,
            },
            { label: Object(h.f)("#Broadcast_ContentType_Live"), data: "live" },
            {
              label: Object(h.f)("#Broadcast_ContentType_Premiere"),
              data: "premiere",
            },
            {
              label: Object(h.f)("#Broadcast_ContentType_Encore"),
              data: "encore",
            },
          ],
          i = a.GetBroadcastContentType();
        return d.createElement(
          ve.a,
          {
            toolTipContent: Object(h.f)("#Broadcast_ContentType_Desc"),
            className: Te.a.PrioritySelector,
          },
          d.createElement(
            "span",
            null,
            Object(h.f)("#Broadcast_ContentType"),
            ": "
          ),
          d.createElement(_.n, {
            rgOptions: n,
            selectedOption: i,
            onChange: (e) => a.SetBroadcastContentType(e.data),
          })
        );
      }
      Object(n.b)([fe.b], je.prototype, "OnBroadcastOptionChange", null),
        Object(n.b)([fe.b], je.prototype, "OnBroadcastForceBanner", null),
        Object(n.b)([fe.b], je.prototype, "OnChatChange", null),
        Object(n.b)([fe.b], je.prototype, "OnTitleChange", null),
        Object(n.b)([fe.b], je.prototype, "OnCustomTitleChange", null),
        Object(n.b)([fe.b], je.prototype, "OnCustomTitleLanguageChange", null),
        Object(n.b)([fe.b], je.prototype, "AddTitle", null),
        Object(n.b)([fe.b], je.prototype, "RemoveTitle", null),
        Object(n.b)([fe.b], je.prototype, "OnSaleColorChange", null),
        Object(n.b)([fe.b], je.prototype, "OnOpenGradientInnerColor", null),
        Object(n.b)([fe.b], je.prototype, "OnOpenGradientOuterColor", null),
        (je = Object(n.b)([c.a], je));
      var Be = a("mB/g"),
        Ne = a("wst7"),
        Le = a("TuNA"),
        Re = a("EA3E");
      const Fe = Object(c.a)((e) => {
          const t = s.c.GetEditModel(),
            a = t.GetCategoryAsType(),
            n = t.BPublished(),
            i = t.BVisible();
          return d.createElement(
            "div",
            {
              className: Object(U.a)(
                Ne.EventEditorTopBarContainer,
                n && i ? Ne.EventPublished : Ne.EventUnPublished
              ),
            },
            d.createElement(
              Be.c,
              {
                eventModel: t.GetEventModel(),
                route: Be.a.k_eCommunityAdminPage,
                className: x.a.EventBarBack,
              },
              Object(h.f)("#EventDisplay_EventsDashBtn")
            ),
            d.createElement(
              "div",
              { className: x.a.EventBarTitleCtn },
              d.createElement(Re.d, { editModel: t })
            ),
            d.createElement(
              "div",
              { className: x.a.EventOptions },
              d.createElement(Re.c, null),
              d.createElement(
                Be.c,
                {
                  eventModel: t.GetEventModel(),
                  route: Be.a.k_eCommunityPreview,
                  className: x.a.EditPreviewButton,
                },
                28 == a
                  ? Object(h.f)("#EventEditor_Preview_News")
                  : Object(h.f)("#EventEditor_Preview")
              ),
              t.BHasSaleEnabled() &&
                d.createElement(
                  Be.c,
                  {
                    eventModel: t.GetEventModel(),
                    route: Be.a.k_eCommunityPreviewSale,
                    className: x.a.EditPreviewButton,
                  },
                  Object(h.f)("#EventEditor_PreviewSale")
                )
            )
          );
        }),
        xe = Object(c.a)((e) => {
          const t = s.c.GetEditModel(),
            a = t.GetEventModel(),
            n = t.GetVisibilityState() == de.j.k_EEventStateVisible;
          return d.createElement(
            "div",
            { className: x.a.FlexRowWrapFlexStartContainer },
            d.createElement(Le.a, { editModel: s.c.GetEditModel() }),
            d.createElement(
              Be.c,
              {
                eventModel: a,
                route: Be.a.k_eCommunityPreview,
                className: x.a.EditPreviewButton,
              },
              Object(h.f)("#EventEditor_Preview")
            ),
            a.BHasSaleEnabled() &&
              d.createElement(
                Be.c,
                {
                  eventModel: a,
                  route: Be.a.k_eCommunityPreviewSale,
                  className: x.a.EditPreviewButton,
                },
                Object(h.f)("#EventEditor_PreviewSale")
              ),
            n &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "span",
                  { className: Ne.DisplayAdminPanel_Spacer },
                  " "
                ),
                d.createElement(
                  Be.c,
                  {
                    className: x.a.EditPreviewButton,
                    eventModel: a,
                    route: Be.a.k_eStoreView,
                  },
                  Object(h.f)("#EventEditor_ViewLive")
                ),
                d.createElement(
                  "span",
                  { className: Ne.DisplayAdminPanel_Spacer },
                  " "
                )
              )
          );
        });
      var Pe = a("NrWE"),
        Ue = a("ZeAL"),
        Ve = a("Yamg"),
        He = a("U+Q5"),
        ze = a("UWWC"),
        We = a("b3LC"),
        qe = a("4P4B"),
        Qe = a("0rc7"),
        Je = a("0pDH"),
        Ye = a("bS9Q"),
        Ze = a("Mnbl"),
        Ke = a("S/ye"),
        Xe = a("GOhU");
      function $e(e) {
        const t = d.useRef(),
          { editModel: a, bCanManuallyTagAssociatedApps: n } = e,
          i = d.useCallback(
            (e, a) => {
              (null == t ? void 0 : t.current) && Object(Ve.b)(t.current, e, a);
            },
            [t]
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: Xe.LanguageCtn },
            d.createElement(
              "div",
              { className: x.a.FlexColumnContainer },
              d.createElement(
                "div",
                { className: Xe.LanguageControlsCtn },
                Object(h.f)("#EventEditor_LangaugeDesc"),
                d.createElement(
                  "div",
                  {
                    className: Object(U.a)(
                      x.a.FlexRowContainer,
                      Xe.ToolContainer
                    ),
                  },
                  d.createElement(Re.c, null),
                  d.createElement(Ze.d, { editModel: a })
                )
              )
            )
          ),
          d.createElement(et, { editModel: a }),
          d.createElement(tt, { editModel: a }),
          d.createElement(at, { editModel: a }),
          Boolean(n) && d.createElement(nt, { editModel: a }),
          d.createElement(Ke.a, { editModel: a }),
          d.createElement(
            "div",
            { className: x.a.Columns },
            d.createElement(lt, { editModel: a, descBBCodeEditor: t }),
            d.createElement(rt, { editModel: a, fnInsertImage: i })
          )
        );
      }
      function et(e) {
        const { editModel: t } = e,
          [a, n] = Object(re.d)(() => [
            t.GetName(t.GetCurEditLanguage()) || "",
            t.GetEventType(),
          ]),
          i = Boolean(a.length >= de.C);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            28 == n
              ? Object(h.f)("#EventEditor_AnnouncementTitle")
              : Object(h.f)("#EventEditor_EventTitle"),
            Boolean(i) &&
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitleLengthInfo },
                Object(h.f)(
                  "#EventEditor_EventTitle_Max_Characters_Reached",
                  de.C
                )
              ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": Object(h.f)(
                  "#EventEditor_Title_General_ttip",
                  de.C
                ),
                className: x.a.tooltip_Ctn,
              },
              "?"
            ),
            d.createElement(
              "span",
              {
                className: Object(U.a)(
                  ye.CharactorRemaining,
                  i ? ye.CharactorExhausted : ""
                ),
              },
              Object(h.f)("#EventEditor_Input_Characters_Left", de.C - a.length)
            )
          ),
          d.createElement(
            "div",
            { className: x.a.InputBorder },
            d.createElement("input", {
              type: "text",
              className: Object(U.a)({
                [ye.EventEditorTitleInput]: !0,
                [ye.EventEditorInputMaxLength]: i,
              }),
              value: a,
              placeholder: Object(h.f)("#EventEditor_Name_Placeholder"),
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetName(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || ""
                );
              },
              maxLength: de.C,
            })
          )
        );
      }
      function tt(e) {
        const { editModel: t } = e,
          a = Object(re.d)(() => t.GetSubTitle(t.GetCurEditLanguage()) || ""),
          n = Boolean(a.length >= de.A);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: x.a.EventEditorTextTitle },
              Object(h.f)("#EventEditor_Event_SubTitle")
            ),
            d.createElement(
              "span",
              { className: x.a.EventEditorTextTitleLengthInfo },
              Object(h.f)(
                n
                  ? "#EventEditor_Event_SubTitle_Details_Reached"
                  : "#EventEditor_Event_SubTitle_Details",
                de.A
              )
            ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": Object(h.f)(
                  "#EventEditor_SubTitle_General_ttip",
                  de.A
                ),
                className: x.a.tooltip_Ctn,
              },
              "?"
            ),
            d.createElement(
              "span",
              {
                className: Object(U.a)(
                  ye.CharactorRemaining,
                  n ? ye.CharactorExhausted : ""
                ),
              },
              Object(h.f)("#EventEditor_Input_Characters_Left", de.A - a.length)
            )
          ),
          d.createElement(
            "div",
            { className: x.a.InputBorder },
            d.createElement("input", {
              type: "text",
              className: Object(U.a)(
                ye.EventEditorTitleInput,
                ye.Subtitle,
                n ? ye.EventEditorInputMaxLength : ""
              ),
              value: a,
              placeholder: Object(h.f)(
                "#EventEditor_Name_SubTitle_Placeholder"
              ),
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSubTitle(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || ""
                );
              },
              maxLength: de.A,
            })
          )
        );
      }
      function at(e) {
        const { editModel: t } = e,
          [a, n] = Object(re.d)(() => [
            t.GetSummary(t.GetCurEditLanguage()) || "",
            t.GetDescription(t.GetCurEditLanguage()) || "",
          ]);
        let i = "";
        0 == a.trim().length &&
          (i =
            0 == n.length
              ? Object(h.f)("#EventEditor_Summary_Placeholder", de.B)
              : Object(h.f)("#EventEditor_Summary_Autogenerated") +
                de.q.GenerateSummaryFromText(n));
        let l = Boolean(a.length >= de.B);
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: ye.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitleCtn },
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEditor_Summary_Title")
              ),
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitleLengthInfo },
                Object(h.f)(
                  l
                    ? "#EventEditor_Summary_Title_Length_Reached"
                    : "#EventEditor_Summary_Title_Length",
                  de.B
                )
              ),
              d.createElement(
                "span",
                {
                  "data-tooltip-text": Object(h.f)(
                    "#EventEditor_Summary_Ttip",
                    de.B
                  ),
                  className: x.a.tooltip_Ctn,
                },
                "?"
              ),
              d.createElement(
                "span",
                {
                  className: Object(U.a)(
                    ye.CharactorRemaining,
                    l ? ye.CharactorExhausted : ""
                  ),
                },
                Object(h.f)(
                  "#EventEditor_Input_Characters_Left",
                  de.B - a.length
                )
              )
            ),
            d.createElement("textarea", {
              className: Object(U.a)(
                ye.EventEditorTitleInput,
                ye.Summary,
                l ? ye.EventEditorInputMaxLength : ""
              ),
              value: a,
              placeholder: i,
              onFocus: (e) => {
                var t;
                return null === (t = null == e ? void 0 : e.target) ||
                  void 0 === t
                  ? void 0
                  : t.select();
              },
              onChange: (e) => {
                var a;
                return t.SetSummary(
                  t.GetCurEditLanguage(),
                  (null === (a = null == e ? void 0 : e.currentTarget) ||
                  void 0 === a
                    ? void 0
                    : a.value) || ""
                );
              },
              maxLength: de.B,
              cols: 40,
              rows: 2,
            })
          ),
          d.createElement("div", { className: x.a.ClearThings })
        );
      }
      function nt(e) {
        const { editModel: t } = e;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: x.a.EventEditorTextTitle },
              Object(h.f)("#EventEditor_ReferencedAppIDs_Header")
            ),
            d.createElement(
              "span",
              {
                "data-tooltip-text": Object(h.f)(
                  "#EventEditor_ReferencedAppIDs_Tooltip"
                ),
                className: x.a.tooltip_Ctn,
              },
              "?"
            )
          ),
          d.createElement(
            "div",
            { className: ye.SaleImportURL },
            d.createElement(Je.a, {
              strLabel: Object(h.f)(
                "#EventEditor_ReferencedAppIDs_SearchLabel"
              ),
              fnFilterSuggestion: (e) =>
                !t.GetReferencedAppIDArray().includes(Number(e.id)),
              fnOnSelected: (e) => {
                t.GetReferencedAppIDArray().includes(Number(e.id)) ||
                  (t.GetReferencedAppIDArray().push(Number(e.id)),
                  t.SetDirty(o.d.jsondata_other));
              },
              rgCorporaToSearch: ["games", "dlc"],
            })
          ),
          t.GetReferencedAppIDArray().length > 0 &&
            d.createElement(Qe.a, {
              items: t.GetReferencedAppIDArray(),
              onDelete: (e) => {
                t.GetReferencedAppIDArray().splice(e),
                  t.SetDirty(o.d.jsondata_other);
              },
              onReorder: () => t.SetDirty(o.d.jsondata_other),
              render: (e) =>
                d.createElement(it, { key: `suggestion-${e}`, appid: e }),
            })
        );
      }
      function it(e) {
        const { appid: t } = e,
          [a] = Object(We.b)(t, {});
        return d.createElement(
          "div",
          { className: ye.ResultRow },
          d.createElement(
            "div",
            { className: ye.GameName },
            " ",
            Object(Ye.b)((null == a ? void 0 : a.GetName()) || "") + ` (${t})`,
            " "
          )
        );
      }
      function lt(e) {
        const { editModel: t, descBBCodeEditor: a } = e,
          n = Object(re.d)(() => t.GetEventType());
        return d.createElement(
          "div",
          { className: Object(U.a)(x.a.LeftCol, Xe.DescEditorPadding) },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            28 == n
              ? Object(h.f)("#EventEditor_DescriptionNews")
              : Object(h.f)("#EventEditor_Description")
          ),
          d.createElement(qe.a, {
            fnGetCurText: () => t.GetDescription(t.GetCurEditLanguage()),
            fnOnTextChange: (e) => {
              var a;
              return t.SetDescription(
                t.GetCurEditLanguage(),
                (null === (a = null == e ? void 0 : e.currentTarget) ||
                void 0 === a
                  ? void 0
                  : a.value) || ""
              );
            },
            fnSetText: (e) => t.SetDescription(t.GetCurEditLanguage(), e),
            strPlaceholder: Object(h.f)("#EventEditor_Description_PlaceHolder"),
            ref: a,
            emoticonStore: ze.b,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            limitBBCode: S.b.CAN_UPLOAD_IMAGES ? void 0 : Ue.f,
            classNameForTextArea: ye.EventEditorDescription,
            clanSteamID: t.GetClanSteamID(),
          })
        );
      }
      function rt(e) {
        const { editModel: t, fnInsertImage: a } = e;
        return S.b.CAN_UPLOAD_IMAGES
          ? d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.RightCol,
                  Xe.DescEditorPadding,
                  Xe.ImagePickerCtn
                ),
              },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#ImagePicker_PreviousImages2"),
                d.createElement(
                  "span",
                  {
                    "data-tooltip-text": Object(h.f)(
                      "#ImagePicker_Images_ttip"
                    ),
                    className: x.a.tooltip_Ctn,
                  },
                  "?"
                )
              ),
              d.createElement(Pe.a, {
                bShowLightBox: !0,
                clanSteamID: t.GetClanSteamID(),
                imageInsertCallBack: a,
                fnSetImageURL: t.SetImageURL,
                rgRealmList: t.GetIncludedRealmList(),
              })
            )
          : null;
      }
      var ot,
        st,
        ct = a("Q47U"),
        dt = a("Cs6D"),
        mt = a("YuoN"),
        ut = a.n(mt),
        pt = a("TScJ"),
        _t = a.n(pt),
        gt = a("ZCGQ"),
        bt = a.n(gt),
        Et = a("NEpn"),
        ht = a.n(Et),
        vt = a("dZOt");
      !(function (e) {
        (e.EditInfo = "apprighteditinfo"),
          (e.Publish = "apprightpublish"),
          (e.ViewErrorData = "apprightviewerrordata"),
          (e.Download = "apprightdownload"),
          (e.UploadCDKeys = "apprightuploadcdkeys"),
          (e.GenerateCDKeys = "apprightgeneratecdkeys"),
          (e.ViewFinancials = "apprightviewfinancials"),
          (e.ManageCEG = "apprightmanageceg"),
          (e.ManagingSigning = "apprightmanagesigning"),
          (e.ManageCDKeys = "apprightmanagecdkeys"),
          (e.EditMarketing = "apprighteditmarketing"),
          (e.EconomySupport = "apprighteconomysupport"),
          (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
          (e.ManagePricing = "appmanagepricing"),
          (e.BroadcastLive = "apprightbroadcastlive"),
          (e.AppRightEditStoreDisplayContent =
            "apprighteditstoredisplaycontent"),
          (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
      })(ot || (ot = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(st || (st = {}));
      class St {
        static ConstructAppRightsMap() {
          const e = new Map();
          return St.AppRights.forEach((t) => e.set(t.token, t)), e;
        }
        static ConstructPubRightsMap() {
          const e = new Map();
          return St.PubRights.forEach((t) => e.set(t.token, t)), e;
        }
        static GetAppRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= St.MapAppRights.get(e).flag;
            }),
            t
          );
        }
        static GetPublisherRightFlags(e) {
          let t = 0;
          return (
            e.forEach((e) => {
              t |= St.MapPubRights.get(e).flag;
            }),
            t
          );
        }
      }
      (St.AppRights = [
        { flag: 1, token: ot.EditInfo },
        { flag: 2, token: ot.Publish },
        { flag: 4, token: ot.ViewErrorData },
        { flag: 8, token: ot.Download },
        { flag: 16, token: ot.UploadCDKeys },
        { flag: 32, token: ot.GenerateCDKeys },
        { flag: 64, token: ot.ViewFinancials },
        { flag: 128, token: ot.ManageCEG },
        { flag: 256, token: ot.ManagingSigning },
        { flag: 512, token: ot.ManageCDKeys },
        { flag: 1024, token: ot.EditMarketing },
        { flag: 2048, token: ot.EconomySupport },
        { flag: 4096, token: ot.EconomySupportSupervisor },
        { flag: 8192, token: ot.ManagePricing },
        { flag: 16384, token: ot.BroadcastLive },
        { flag: 32768, token: ot.AppRightViewMarketingTraffic },
        { flag: 65536, token: ot.AppRightEditStoreDisplayContent },
      ]),
        (St.MapAppRights = St.ConstructAppRightsMap()),
        (St.PubRights = [
          { flag: 1, token: st.ManagerUsers },
          { flag: 2, token: st.ActualAuthority },
          { flag: 4, token: st.ViewFinancials },
          { flag: 8, token: st.ApproveWalletFunding },
          { flag: 16, token: st.ManageLicensedSites },
        ]),
        (St.MapPubRights = St.ConstructPubRightsMap());
      var ft = a("75vw"),
        Ot = a.n(ft),
        Ct = a("U6Vi");
      class yt {
        constructor() {
          this.m_mapAppIDToDLCs = new Map();
        }
        LoadDLCForAppID(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (!this.m_mapAppIDToDLCs.has(e) && 0 != e)
              try {
                let a = {
                    origin: self.origin,
                    cc: S.c.COUNTRY || "US",
                    l: S.c.LANGUAGE,
                  },
                  n = S.c.STORE_BASE_URL + "dlc/" + e + "/ajaxgetdlclist",
                  i = yield l.a.get(n, { params: a, cancelToken: t.token }),
                  r = Array();
                i.data.dlcs &&
                  i.data.dlcs.forEach((e) => {
                    r.push({ appid: e.appid, name: e.name });
                  }),
                  this.m_mapAppIDToDLCs.set(e, r);
              } catch (t) {
                const a = Object(v.a)(t);
                console.error(
                  "LoadDLCForAppID for appid: " + e + " hit: " + a.strErrorMsg,
                  a
                );
              }
            return this.m_mapAppIDToDLCs.has(e)
              ? this.m_mapAppIDToDLCs.get(e)
              : [];
          });
        }
        static Get() {
          return (
            yt.s_Singleton ||
              ((yt.s_Singleton = new yt()),
              "dev" == S.c.WEB_UNIVERSE &&
                (window.g_StoreTagCache = yt.s_Singleton)),
            yt.s_Singleton
          );
        }
      }
      Object(n.b)([ae.C], yt.prototype, "m_mapAppIDToDLCs", void 0);
      let Tt = class extends d.Component {
        OnHeadlineChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetHeadline(e.currentTarget.value || null, a);
        }
        OnBodyChange(e) {
          const { section: t, lang: a } = this.props;
          t.SetBody(e.currentTarget.value || null, a);
        }
        OnVideoChange(e) {
          const { section: t } = this.props;
          t.SetVideoLink(e.currentTarget.value || null);
        }
        OnRemoveSubSection(e) {
          const { section: t, fnRemoveSection: a } = this.props;
          Object(Y.d)(
            d.createElement(J.e, {
              strTitle: Object(h.f)("#EventEmail_Template_EditTitle"),
              strDescription: Object(h.f)(
                "#EventEmail_Template_RemoveSubSection",
                Object(h.f)("#EventEmail_Template_Sub_" + e)
              ),
              onOK: () => {
                t.RemoveSubSection(e), !t.BHasSomeSubSection() && a && a();
              },
            }),
            window
          );
        }
        GenerateTemplateRemove(e) {
          let t = Object(h.f)("#EventEmail_Template_Sub_" + e);
          return d.createElement(
            "div",
            { className: Ct.ImgCrossCtn },
            d.createElement("img", {
              "data-tooltip-text": Object(h.f)(
                "#EventEmail_Template_Remove",
                t
              ),
              className: Ct.ImgCross,
              src: se.a,
              onClick: () => this.OnRemoveSubSection(e),
            })
          );
        }
        render() {
          const {
            section: e,
            additionalClassName: t,
            lang: a,
            bEditor: n,
            clanSteamID: i,
            appid: l,
            bTemplateEditable: r,
          } = this.props;
          return d.createElement(
            "div",
            {
              className: Object(U.a)(
                t,
                Ct.DevEmailEmailBackground,
                Ct.EmailSection
              ),
            },
            e.BHasHeadline() &&
              d.createElement(
                d.Fragment,
                null,
                r && this.GenerateTemplateRemove("headline"),
                d.createElement("input", {
                  type: "text",
                  className: Ct.HeadlineInput,
                  placeholder: Object(h.f)("#EventEmail_EnterHeadline"),
                  value: e.GetHeadline(a),
                  onChange: this.OnHeadlineChange,
                })
              ),
            e.BHasBody() &&
              d.createElement(
                d.Fragment,
                null,
                r && this.GenerateTemplateRemove("body"),
                d.createElement("textarea", {
                  className: Ct.BodyInput,
                  placeholder: Object(h.f)("#EventEmail_EnterBodyCopy"),
                  value: e.GetBody(a),
                  rows: 8,
                  onChange: this.OnBodyChange,
                })
              ),
            e.BHasCallToAction() &&
              d.createElement(
                d.Fragment,
                null,
                r && this.GenerateTemplateRemove("action"),
                d.createElement(jt, { appid: l, section: e })
              ),
            e.BHasImage() &&
              d.createElement(
                d.Fragment,
                null,
                r && this.GenerateTemplateRemove("img"),
                d.createElement(Dt, {
                  section: e,
                  lang: a,
                  clanSteamID: i,
                  bEditor: n,
                  artworkType: r ? "email_centered" : "email_full",
                })
              ),
            e.BHasVideo() &&
              d.createElement(
                d.Fragment,
                null,
                r && this.GenerateTemplateRemove("youtube"),
                d.createElement(
                  "div",
                  { className: Ct.VideoCtn },
                  d.createElement("img", { src: e.GetYouTubeImageURL() }),
                  Boolean(n) &&
                    d.createElement(
                      "div",
                      { className: Ct.VideoInputCtn },
                      d.createElement(
                        "div",
                        null,
                        Object(h.f)("#EventEditor_InsertYouTube_Placholder")
                      ),
                      d.createElement("input", {
                        type: "text",
                        value: e.GetVideoURL(),
                        onChange: this.OnVideoChange,
                      }),
                      d.createElement(
                        "div",
                        null,
                        Object(h.f)(
                          "#EventEditor_InsertYouTube_UpdateThumbnail"
                        ),
                        d.createElement(
                          "a",
                          {
                            href:
                              "https://support.google.com/youtube/answer/72431",
                            target: "_blank",
                          },
                          Object(h.f)("#EventEditor_InsertYouTube_LearnHow")
                        )
                      )
                    )
                )
              )
          );
        }
      };
      Object(n.b)([fe.b], Tt.prototype, "OnHeadlineChange", null),
        Object(n.b)([fe.b], Tt.prototype, "OnBodyChange", null),
        Object(n.b)([fe.b], Tt.prototype, "OnVideoChange", null),
        Object(n.b)([fe.b], Tt.prototype, "OnRemoveSubSection", null),
        (Tt = Object(n.b)([c.a], Tt));
      let jt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = l.a.CancelToken.source()),
            (this.state = { dlcs: void 0 });
        }
        LoadDLCForApp() {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.setState({
              dlcs: yield yt
                .Get()
                .LoadDLCForAppID(this.props.appid, this.m_cancelSignal),
            });
          });
        }
        componentDidMount() {
          this.LoadDLCForApp();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EmailCallToAction cancelled");
        }
        BuildTextOptions() {
          let e = new Array();
          return (
            vt.e.forEach((t) => {
              e.push(
                d.createElement(
                  "option",
                  { key: t, value: t },
                  Object(h.f)("#" + t)
                )
              );
            }),
            e
          );
        }
        BuildDestinationOptions() {
          let e = new Array();
          for (let t in vt.c)
            if (!isNaN(Number(t))) {
              let a = vt.f[t];
              e.push(
                d.createElement(
                  "option",
                  { key: a, value: t },
                  Object(h.f)("#" + a)
                )
              );
            }
          return (
            void 0 === this.state.dlcs
              ? e.push(
                  d.createElement(
                    "option",
                    { key: "CallToActionThrobber" },
                    d.createElement(
                      E.a,
                      {
                        string: Object(h.f)("#EventEmail_LoadingDLC"),
                        size: "small",
                      },
                      " "
                    )
                  )
                )
              : this.state.dlcs.forEach((t) => {
                  e.push(
                    d.createElement(
                      "option",
                      { key: "dlc" + t.appid, value: t.appid },
                      Object(h.f)(
                        "#EventEmail_Destination_DLCPage",
                        t.name,
                        t.appid
                      )
                    )
                  );
                }),
            e
          );
        }
        OnButtonLocChange(e) {
          const { section: t } = this.props;
          vt.e.forEach((a) => {
            a === e.target.value && t.SetButtonTextLock(a);
          });
        }
        OnDestinationChange(e) {
          const { section: t } = this.props;
          let a = Number(e.target.value);
          Object(ae.G)(() => {
            a < vt.d
              ? (t.SetButtonDestination(a), t.SetButtonAppOverride(void 0))
              : (t.SetButtonDestination(vt.c.k_EStorePage),
                t.SetButtonAppOverride(a));
          });
        }
        OnChangeStorePageURL() {
          const { section: e } = this.props;
          Object(Y.d)(
            d.createElement(It, {
              strExistingURL: S.c.STORE_BASE_URL + e.GetDestinationStorePath(),
              fnUpdateURLOnSuccess: e.SetButtonDestinationStoreURL,
            }),
            window
          );
        }
        render() {
          const { section: e } = this.props;
          let t = this.BuildTextOptions(),
            a = this.BuildDestinationOptions(),
            n = e.BHasButtonAppIDOverride()
              ? e.GetButtonAppidOverride()
              : e.GetDestination();
          return d.createElement(
            "div",
            { className: Ct.ButtonSettingContainer },
            d.createElement(
              "div",
              { className: Ct.ButtonSettingRow },
              d.createElement(
                "span",
                null,
                Object(h.f)("#EventEmail_Section_ButtonText")
              ),
              d.createElement(
                "select",
                {
                  value: e.GetButtonTextLoc(),
                  onChange: this.OnButtonLocChange,
                },
                t
              )
            ),
            d.createElement(
              "div",
              null,
              d.createElement(
                "span",
                null,
                Object(h.f)("#EventEmail_Section_Destination")
              ),
              d.createElement(
                "select",
                { value: n, onChange: this.OnDestinationChange },
                a
              )
            ),
            e.BIsStoreSalesPage() &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "span",
                  null,
                  Object(h.f)("#EventEmail_Section_EnterSalesPage"),
                  " ",
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventEmail_Section_EnterSalesPage_ttip"
                      ),
                    },
                    "(?)"
                  )
                ),
                d.createElement(
                  "span",
                  null,
                  S.c.STORE_BASE_URL + e.GetDestinationStorePath()
                ),
                d.createElement(
                  _.G,
                  { onClick: this.OnChangeStorePageURL },
                  Object(h.f)("#EventEmail_Section_UpdateURL")
                )
              )
          );
        }
      };
      Object(n.b)([fe.b], jt.prototype, "OnButtonLocChange", null),
        Object(n.b)([fe.b], jt.prototype, "OnDestinationChange", null),
        Object(n.b)([fe.b], jt.prototype, "OnChangeStorePageURL", null),
        (jt = Object(n.b)([c.a], jt));
      let It = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bIsValid: ct.a.IsValidStoreURL(this.props.strExistingURL),
              strURL: this.props.strExistingURL
                ? this.props.strExistingURL
                : "",
            });
        }
        OnURLUpdate(e) {
          let t = e.currentTarget.value;
          this.setState({ bIsValid: ct.a.IsValidStoreURL(t), strURL: t });
        }
        render() {
          const { fnUpdateURLOnSuccess: e, closeModal: t } = this.props;
          return d.createElement(
            J.e,
            {
              strDescription: Object(h.f)(
                "#EventEmail_Section_EnterSalesPage_ttip"
              ),
              strTitle: Object(h.f)("#EventEmail_Section_UpdateURL"),
              onOK: () => {
                e(this.state.strURL), t();
              },
              onCancel: t,
              bOKDisabled: !this.state.bIsValid,
            },
            d.createElement(
              "div",
              null,
              d.createElement("input", {
                type: "test",
                className: Ct.ButtonDestInputSaleURL,
                value: this.state.strURL,
                onChange: this.OnURLUpdate,
              })
            )
          );
        }
      };
      Object(n.b)([fe.b], It.prototype, "OnURLUpdate", null),
        (It = Object(n.b)([c.a], It));
      let Dt = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = { langOverride: this.props.lang });
        }
        OnArtworkLangChange(e, t, a) {
          const { section: n } = this.props;
          let i = He.a.GetExtensionString(e);
          i && n.SetImage(e.image_hash + i, a),
            this.setState({ langOverride: a }, () => n.SetImage(null, t));
        }
        render() {
          const {
            clanSteamID: e,
            section: t,
            lang: a,
            bEditor: n,
            artworkType: i,
          } = this.props;
          let l = t.GetImageURLWithFallback(this.state.langOverride, e),
            r = t.BHasSomeImage(),
            o = Q.a[i];
          return d.createElement(
            "div",
            { className: Ct.ImagePreview },
            d.createElement(
              "div",
              { className: Ct.FullImageCtn },
              d.createElement("img", {
                width: l ? o.width : void 0,
                height: l ? o.height : void 0,
                src: l,
              }),
              Boolean(n) &&
                d.createElement(Gt, {
                  section: t,
                  clanSteamID: e,
                  lang: a,
                  artworkType: i,
                })
            ),
            r &&
              d.createElement(te.c, {
                clanSteamID: e,
                langOverride: this.state.langOverride,
                fnGetImageHash: (e) => t.GetImageHash(e),
                fnOnLanguagePreviewChange: (e) =>
                  this.setState({ langOverride: e }),
                fnOnRemoveImage: (e) => t.SetImage(null, e),
                fnOnArtworkLangChange: this.OnArtworkLangChange,
              })
          );
        }
      };
      Object(n.b)([fe.b], Dt.prototype, "OnArtworkLangChange", null),
        (Dt = Object(n.b)([c.a], Dt));
      let Gt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bDownloadFromClanImageStore: !1 }),
            (this.m_clanImageUploader = new He.b(this.props.clanSteamID));
        }
        componentDidUpdate(e) {
          e.clanSteamID.GetAccountID() !=
            this.props.clanSteamID.GetAccountID() &&
            (this.m_clanImageUploader = new He.b(this.props.clanSteamID));
        }
        DoUpload() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { section: e } = this.props;
            try {
              const t = [this.props.artworkType],
                a = yield this.m_clanImageUploader.UploadAllFiles(t);
              Object.keys(a).forEach((t) => {
                const n = a[t],
                  i = this.m_clanImageUploader.m_filesToUpload.find(
                    (e) => `${e.uploadTime}/${e.file.name}` === t
                  );
                if (i)
                  if (1 !== n.success)
                    (i.status = "failed"), (i.message = n.message);
                  else {
                    i.status = "success";
                    let t = He.a.GetExtensionString(n);
                    e.SetImage(n.image_hash + t, i.language);
                  }
              });
            } catch (e) {
              console.error("DoUpload failed:" + Object(v.a)(e).strErrorMsg);
            }
          });
        }
        OnDropFiles(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (e && e.length > 0) {
              const { lang: t } = this.props,
                a = [this.props.artworkType];
              let n = !0;
              for (let i = 0; n && i < Array.from(e).length; i++) {
                let l = e.item(i);
                (n = yield this.m_clanImageUploader.AddImage(l, t, a)),
                  n ||
                    (console.error(
                      "ClanImagePicker.OnDropFiles: failed on i=" +
                        i +
                        " file=" +
                        l.name
                    ),
                    Object(Y.d)(
                      d.createElement(J.g, {
                        strDescription: Object(h.f)(
                          "#ImagePicker_Error",
                          l.name
                        ),
                      }),
                      window
                    ));
              }
              return n;
            }
            return !1;
          });
        }
        RenderInstructions() {
          const { artworkType: e } = this.props;
          let t = Q.a[e];
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "span",
              { className: Ct.EmailInputText },
              Object(h.f)("#EventEmail_SelectBrandingImage")
            ),
            d.createElement(
              "span",
              null,
              Object(h.f)("#EventEmail_ImageDimension", t.width, t.height)
            )
          );
        }
        OnPreviousImageSelected(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.state.bDownloadFromClanImageStore ||
              this.setState({ bDownloadFromClanImageStore: !0 }, () =>
                Object(n.a)(this, void 0, void 0, function* () {
                  const { lang: t } = this.props,
                    a = [this.props.artworkType];
                  try {
                    yield this.m_clanImageUploader.AddExistingClanImage(
                      e,
                      t,
                      a
                    );
                  } catch (e) {
                    let t = Object(v.a)(e);
                    console.error("AddExistingClanImage: " + t.strErrorMsg, t),
                      Object(Y.d)(
                        d.createElement(J.g, {
                          strDescription: Object(h.f)(
                            "#EventError_Code",
                            t.strErrorMsg
                          ),
                        }),
                        window
                      );
                  }
                  this.setState({ bDownloadFromClanImageStore: !1 });
                })
              );
          });
        }
        render() {
          if (this.state.bDownloadFromClanImageStore)
            return d.createElement(
              "div",
              { className: Ct.EditImageInputCtn },
              d.createElement(E.a, {
                position: "center",
                size: "medium",
                string: Object(h.f)("#Loading"),
              })
            );
          const { clanSteamID: e } = this.props,
            t = [this.props.artworkType];
          let a = Object(W.c)(this.m_clanImageUploader, "emailartupload_", t);
          return d.createElement(
            "div",
            { className: Ct.EditImageInputCtn },
            d.createElement(
              Pe.b,
              {
                onDropFiles: this.OnDropFiles,
                bAllowPreviousClanImages: !0,
                OnClanImageSelected: this.OnPreviousImageSelected,
                clanSteamID: e,
                renderDesciption: this.RenderInstructions,
                fnSetImageURL: s.c.GetEditModel().SetImageURL,
                rgRealmList: s.c.GetEditModel().GetIncludedRealmList(),
              },
              d.createElement("div", { className: ye.UploadPreviewCtn }, a),
              d.createElement(W.a, {
                clanImageUploader: this.m_clanImageUploader,
                fnOnUploadImageRequested: this.DoUpload,
              })
            )
          );
        }
      };
      Object(n.b)([fe.b], Gt.prototype, "DoUpload", null),
        Object(n.b)([fe.b], Gt.prototype, "OnDropFiles", null),
        Object(n.b)([fe.b], Gt.prototype, "RenderInstructions", null),
        Object(n.b)([fe.b], Gt.prototype, "OnPreviousImageSelected", null),
        (Gt = Object(n.b)([c.a], Gt));
      var wt = a("qP7j");
      const At = {
        localized_headline: new Array(30),
        localized_body: new Array(30),
        localized_image: new Array(30),
        button_destination: vt.c.k_EEventPage,
        button_loc_token: "EventEmail_Button_ClickForMoreDetails",
        video_link: "",
      };
      let Mt = class extends d.Component {
        GetEmailEditModel() {
          return new ct.b(this.props.editModel);
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetCurEditLanguage(),
            a = this.GetEmailEditModel(),
            n = [];
          a.GetSectionObjects().forEach((i, l) => {
            n.push(
              d.createElement(Tt, {
                lang: t,
                key: "email_editor_section_" + l,
                clanSteamID: e.GetClanSteamID(),
                bEditor: e.BIsEmailEditable(),
                appid: e.GetAppID(),
                section: i,
                additionalClassName: Ct.HeaderSection,
                bTemplateEditable: !0,
                fnRemoveSection: () => a.RemoveSection(l),
              })
            );
          });
          let i = a.GetLocalizedSubject(t);
          return d.createElement(
            "div",
            { className: Ct.EmailEditorContent },
            d.createElement(
              "div",
              { className: Ct.RightAlign },
              d.createElement(
                "span",
                { className: Ct.EmailOptionTitle },
                Object(h.f)("#LanguageTitle"),
                ": "
              ),
              d.createElement(ge.a, {
                selectedLang: t,
                fnLangHasData: a.BHasSomeLanguage,
                fnOnLanguageChanged: (t) => e.SetCurEditLanguage(t),
              })
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexRowContainer,
                  Ct.EmailSubjectCtn
                ),
              },
              d.createElement(
                "span",
                { className: Ct.EmailOptionTitle },
                Object(h.f)("#EventEmail_Subject")
              ),
              d.createElement("input", {
                type: "text",
                value: i,
                size: 90,
                maxLength: 250,
                onChange: (t) =>
                  this.GetEmailEditModel().SetLocalizedSubject(
                    e.GetCurEditLanguage(),
                    t.currentTarget.value
                  ),
              })
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(Ct.EmailTemplate, Ct.DevEmailTemplate) },
              d.createElement(
                "div",
                {
                  className: Object(U.a)(Ct.CenterAlign, Ct.DevEmail_TopHeader),
                },
                d.createElement(
                  "a",
                  { href: S.c.PARTNER_BASE_URL },
                  d.createElement("img", {
                    src: ut.a,
                    className: Ct.DevEmail_TopLogo,
                  })
                )
              ),
              d.createElement(
                "div",
                { className: Object(U.a)(Ct.DevEmail_Content) },
                d.createElement(
                  "div",
                  { className: Ct.DevEmail_HearComes },
                  Object(h.f)("#EventEmail_Developer_Top3")
                ),
                d.createElement("div", { className: Ct.DevEmail_Subject }, i)
              ),
              n,
              d.createElement(
                "div",
                { className: Object(U.a)(Ct.EmailSection, Ct.SupportCtn) },
                d.createElement("b", null, "Have Questions?"),
                d.createElement("br", null),
                d.createElement("a", { href: "#" }, "Contact us"),
                " and we'll get right back to you."
              ),
              d.createElement(
                "div",
                { className: Object(U.a)(Ct.DevEmail_Content) },
                d.createElement("img", {
                  src: _t.a,
                  className: Ct.DevEmail_SignOff_Img,
                }),
                d.createElement(
                  "div",
                  { className: Ct.DevEmail_Signoff },
                  d.createElement(
                    "div",
                    null,
                    "- ",
                    Object(h.f)("#EventEmail_Developer_SignOff2")
                  )
                )
              )
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(Ct.DevEmail_Footer_Ctn) },
              d.createElement(
                "span",
                { className: Ct.DevEmail_Footer_Reason },
                Object(h.f)("#EventEmail_Developer_Footer_Reason")
              ),
              d.createElement(
                "div",
                { className: Ct.DevEmail_Footer_SubSection },
                d.createElement("img", { src: bt.a, width: 103, height: 43 }),
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "div",
                    { className: Ct.DevEmail_Footer_Bold },
                    d.createElement(
                      "strong",
                      null,
                      Object(h.f)("#EventEmail_Developer_Footer_Valve"),
                      d.createElement("br", null),
                      Object(h.f)("#EventEmail_Developer_Footer_Valve2")
                    )
                  ),
                  d.createElement(
                    "div",
                    { className: Ct.DevEmail_Footer_Regular },
                    Object(h.f)("#EventEmail_Developer_Footer_Valve3")
                  ),
                  d.createElement(
                    "div",
                    null,
                    d.createElement(
                      "a",
                      {
                        className: x.a.FlexRowContainer,
                        href:
                          (S.c.IN_CLIENT ? "steam://openurl/" : "") +
                          "https://twitter.com/steam_games",
                        target: S.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      d.createElement("img", {
                        src: ht.a,
                        width: 33,
                        height: 28,
                      }),
                      d.createElement(
                        "div",
                        { className: Ct.DevEmail_Follow },
                        Object(h.f)("#EventEmail_Developer_Footer_Follow")
                      )
                    )
                  )
                )
              )
            ),
            d.createElement(
              "button",
              {
                className: Object(U.a)(x.a.Button, Ct.CenterAlign),
                onClick: () => {
                  a.AddSection(At);
                },
              },
              Object(h.f)("#EventEmail_Template_AddSection")
            )
          );
        }
      };
      Mt = Object(n.b)([c.a], Mt);
      let kt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              capabilities: void 0,
              selectedCapability: void 0,
              nDuplicatesRemoved: 0,
            }),
            (this.m_cancelSignal = l.a.CancelToken.source()),
            (this.m_appFileInput = d.createRef()),
            (this.m_pubFileInput = d.createRef());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("DevEventRecipientOptions cancelled");
        }
        componentDidMount() {
          return Object(n.a)(this, void 0, void 0, function* () {
            let e = yield s.c.GetPartnerCapabilities(this.m_cancelSignal),
              t = this.GetEmailEditModel(),
              a = { label: e[0].capability, value: e[0] };
            e.forEach((e) => {
              e.id === t.GetInternalTargetingPartnerCapability() &&
                (a = { label: e.capability, value: e });
            }),
              this.setState({ capabilities: e, selectedCapability: a });
          });
        }
        GetEmailEditModel() {
          return new ct.b(this.props.editModel);
        }
        OnFileChoice(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let a = t.target.files;
            if (a && a.length > 0 && a[0]) {
              let t = this;
              this.setState({ readingFile: !0, file: a[0] }, () => {
                const a = new FileReader();
                (a.onload = function () {
                  const n = a.result
                      .toString()
                      .split("\n")
                      .map((e) => Number.parseInt(e)),
                    i = new Set(n);
                  "app" == e
                    ? t.GetEmailEditModel().SetInternalAppIDs(Array.from(i))
                    : t
                        .GetEmailEditModel()
                        .SetInternalPublisherIDs(Array.from(i)),
                    t.setState({
                      readingFile: !1,
                      nDuplicatesRemoved: n.length - i.size,
                      file: null,
                    });
                }),
                  (a.onerror = function () {
                    console.error(
                      "DevEventRecipientOptions - Failed to read file",
                      a
                    ),
                      t.setState({ readingFile: !1, file: null });
                  }),
                  a.readAsText(this.state.file);
              });
            }
            this.m_appFileInput.current &&
              this.m_appFileInput.current.value &&
              (this.m_appFileInput.current.value = null),
              this.m_pubFileInput.current &&
                this.m_pubFileInput.current.value &&
                (this.m_pubFileInput.current.value = null);
          });
        }
        ShowTargets(e) {
          let t = this.GetEmailEditModel(),
            a =
              "app" == e
                ? t.GetInternalTargetAppIDs()
                : t.GetInternalTargetPublisherIDs();
          Object(Y.d)(
            d.createElement(
              J.e,
              {
                strTitle: Object(h.f)(
                  "app" == e
                    ? "#EventEmail_Developer_ShowApps"
                    : "#EventEmail_Developer_ShowPublisher",
                  a.length
                ),
                onOK: () => {},
                onCancel: () => {},
                bAlertDialog: !0,
              },
              a.map((t) => d.createElement("div", { key: e + "_" + t }, t))
            ),
            window
          );
        }
        ClearTargets(e) {
          const t = this.GetEmailEditModel();
          "app" == e
            ? t.SetInternalAppIDs([])
            : "publisher" == e && t.SetInternalPublisherIDs([]);
        }
        render() {
          if (!this.state.capabilities)
            return d.createElement(E.a, { string: Object(h.f)("#Loading") });
          let e = this.GetEmailEditModel();
          const t = this.state.capabilities.map((e) => ({
              value: e,
              label: e.capability,
            })),
            a = St.PubRights.map((t) =>
              d.createElement(_.g, {
                key: "PubRights" + t.flag,
                onChange: (a) =>
                  e.UpdateInternalTargetPublisherRights(t.flag, a),
                label: Object(h.f)("#PubRight_" + t.token),
                tooltip: Object(h.f)("#PubRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingPublisherRight(t.flag),
              })
            ),
            n = St.AppRights.filter(
              (e) =>
                ![ot.Download, ot.UploadCDKeys, ot.ManageCEG].includes(e.token)
            ).map((t) =>
              d.createElement(_.g, {
                key: "AppRights" + t.flag,
                onChange: (a) => e.UpdateInternalTargetAppRights(t.flag, a),
                label: Object(h.f)("#AppRight_" + t.token),
                tooltip: Object(h.f)("#AppRight_" + t.token + "_Tooltip"),
                checked: e.BHasInternalTargetingAppRight(t.flag),
              })
            );
          return d.createElement(
            "div",
            { className: Ct.RecipientCtn },
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEmail_Recipients")
              )
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexColumnContainer,
                  x.a.EventDefaultRowContainer
                ),
              },
              d.createElement(
                "div",
                null,
                Object(h.f)("#EventEmail_Recipients_desc")
              ),
              d.createElement(
                "table",
                { className: Ct.DevEmail_RecipientTable },
                d.createElement(
                  "tbody",
                  null,
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      Object(h.f)("#EventEmail_Developer_IsUrgent")
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(_.g, {
                        onChange: (t) => e.SetInternalTargetPriority(t),
                        label: Object(h.f)(
                          "#EventEmail_Developer_IsUrgent_Desc"
                        ),
                        checked: e.BHasInternalTargetingPriority(),
                      })
                    )
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      Object(h.f)("#EventEmail_Developer_PartnerCapability")
                    ),
                    d.createElement(
                      "td",
                      null,
                      d.createElement(dt.a, {
                        isSearchable: !0,
                        isMulti: !1,
                        value: this.state.selectedCapability,
                        options: t,
                        onChange: (e) =>
                          this.setState({ selectedCapability: e }, () =>
                            this.GetEmailEditModel().SetInternalTargetPartnerCapability(
                              e.value.id
                            )
                          ),
                      })
                    )
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      { colSpan: 2 },
                      Object(h.f)("#EventEmail_Developer_RightDesc")
                    )
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      Object(h.f)("#EventEmail_Developer_PublisherRights")
                    ),
                    d.createElement("td", null, a)
                  ),
                  d.createElement(
                    "tr",
                    null,
                    d.createElement(
                      "th",
                      null,
                      Object(h.f)("#EventEmail_Developer_AppRights")
                    ),
                    d.createElement("td", null, n)
                  )
                )
              ),
              this.state.readingFile && d.createElement(E.a, { size: "small" }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "b",
                  null,
                  Object(h.f)("#EventEmail_Developer_FilterOptional")
                )
              ),
              Boolean(this.state.nDuplicatesRemoved > 0) &&
                d.createElement(
                  "div",
                  { className: wt.WarningStylesBackground },
                  d.createElement(
                    "b",
                    null,
                    Object(h.f)(
                      "#EventEmail_Developer_DuplicateRemoved",
                      this.state.nDuplicatesRemoved.toLocaleString()
                    )
                  )
                ),
              d.createElement(
                "div",
                { className: Ct.TargetCtn },
                d.createElement(
                  "div",
                  { className: Ct.TargetTypeTitle },
                  d.createElement("b", null, "App Targeting")
                ),
                d.createElement(
                  "div",
                  { className: Ct.TargetTypeCtn },
                  Boolean(e.GetInternalTargetAppCount()) &&
                    d.createElement(
                      "div",
                      { className: Ct.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetAppCount(),
                        " apps targeted."
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          Object(h.f)(
                            "#EventEmail_Developer_ShowApps",
                            e.GetInternalTargetAppCount()
                          )
                        )
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("app"),
                        },
                        d.createElement(
                          "span",
                          null,
                          Object(h.f)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount()
                          )
                        )
                      )
                    ),
                  d.createElement(
                    "div",
                    { className: Ct.SelectListCtn },
                    Object(h.f)("#EventEmail_Developer_AddApps"),
                    d.createElement(
                      "label",
                      {
                        className: Ot.a.SelectImageButton,
                        htmlFor: "internal_loadappid",
                      },
                      Object(h.f)("#EventEmail_Developer_SelectFile")
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadappid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("app", e),
                      onChange: (e) => this.OnFileChoice("app", e),
                      multiple: !1,
                    })
                  )
                )
              ),
              d.createElement(
                "div",
                { className: Ct.TargetCtn },
                d.createElement(
                  "div",
                  { className: Ct.TargetTypeTitle },
                  d.createElement("b", null, "Publisher Targeting")
                ),
                d.createElement(
                  "div",
                  { className: Ct.TargetTypeCtn },
                  e.GetInternalTargetPublisherCount() &&
                    d.createElement(
                      "div",
                      { className: Ct.TargetedListCtn },
                      d.createElement(
                        "div",
                        null,
                        e.GetInternalTargetPublisherCount(),
                        " publishers targeted."
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ShowTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          Object(h.f)(
                            "#EventEmail_Developer_ShowPublisher",
                            e.GetInternalTargetPublisherCount()
                          )
                        )
                      ),
                      d.createElement(
                        "button",
                        {
                          className: "btn_blue_steamui btn_medium",
                          onClick: () => this.ClearTargets("publisher"),
                        },
                        d.createElement(
                          "span",
                          null,
                          Object(h.f)(
                            "#EventEmail_Developer_ClearApps",
                            e.GetInternalTargetAppCount()
                          )
                        )
                      )
                    ),
                  d.createElement(
                    "div",
                    { className: Ct.SelectListCtn },
                    Object(h.f)("#EventEmail_Developer_AddPublisher"),
                    d.createElement(
                      "label",
                      {
                        className: Ot.a.SelectImageButton,
                        htmlFor: "internal_loadpubid",
                      },
                      Object(h.f)("#EventEmail_Developer_SelectFile")
                    ),
                    d.createElement("input", {
                      ref: this.m_appFileInput,
                      id: "internal_loadpubid",
                      style: { display: "none" },
                      type: "file",
                      onSubmit: (e) => this.OnFileChoice("publisher", e),
                      onChange: (e) => this.OnFileChoice("publisher", e),
                      multiple: !1,
                    })
                  )
                )
              )
            )
          );
        }
      };
      Object(n.b)([fe.b], kt.prototype, "OnFileChoice", null),
        Object(n.b)([fe.b], kt.prototype, "ShowTargets", null),
        Object(n.b)([fe.b], kt.prototype, "ClearTargets", null),
        (kt = Object(n.b)([c.a], kt));
      var Bt = a("wrTd"),
        Nt = a.n(Bt),
        Lt = (a("pKbv"), a("C4Nl")),
        Rt = a("E8sF"),
        Ft = a("X3Ds"),
        xt = a("62WR"),
        Pt = a("J/GH"),
        Ut = a("BVhQ");
      const Vt = Object(c.a)((e) => {
          const { editModel: t } = e;
          d.useEffect(() => {
            Rt.a.HintLoad();
          }, []);
          if (!N.a.Get().BShowEmailEditorTab(t.GetEventModel())) return null;
          t.GetClanSteamID().GetAccountID();
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: Ct.EmailTabCtn },
              d.createElement(
                "div",
                { className: Object(U.a)(x.a.EventEditorTextTitleCtn) },
                d.createElement(
                  "span",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#EventEmail_FeatureTitle")
                ),
                d.createElement(
                  "a",
                  { href: "#", className: Object(U.a)(x.a.doclink) },
                  d.createElement(
                    "span",
                    null,
                    Object(h.f)("#selectimage_see_documentation")
                  )
                )
              ),
              d.createElement(
                "div",
                { className: Object(U.a)(x.a.FlexColumnContainer) },
                d.createElement(_.M, {
                  label: Object(h.f)("#EventEmail_EnableEmailOption"),
                  onChange: (t) => {
                    const { editModel: a } = e,
                      n = a.GetClanSteamID().GetAccountID();
                    (a.CreateOrGetEmailSettings(n).bEnable = t),
                      a.SetDirty(o.d.jsondata_email);
                  },
                  checked: t.BIsEmailEnabled(),
                })
              )
            ),
            Boolean(t.BIsEmailEnabled()) &&
              d.createElement(
                "div",
                { className: ye.EventEditorInputPaneContainer },
                d.createElement(
                  L.a,
                  null,
                  d.createElement(Zt, { editModel: t })
                ),
                d.createElement(
                  L.a,
                  null,
                  d.createElement(zt, { editModel: t })
                ),
                d.createElement(
                  L.a,
                  null,
                  S.b.IS_VALVE_GROUP
                    ? d.createElement(Mt, { editModel: t })
                    : d.createElement(Wt, { editModel: t })
                ),
                d.createElement(Ht, { editModel: t }),
                d.createElement(
                  L.a,
                  null,
                  S.b.IS_VALVE_GROUP
                    ? d.createElement(kt, { editModel: t })
                    : d.createElement(
                        d.Fragment,
                        null,
                        d.createElement(Qt, { editModel: t }),
                        d.createElement(qt, { editModel: t })
                      )
                )
              )
          );
        }),
        Ht = (e) =>
          Object(xt.a)(e.editModel.GetAppID())
            ? d.createElement(
                "div",
                { className: wt.WarningStylesBackground },
                Object(h.f)("#EventEmail_SteamChina_Warning")
              )
            : null;
      let zt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSettingUp: !1 }),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("EventEmailControlBar cancelled");
        }
        FireTestEmail() {
          const { editModel: e } = this.props;
          s.c
            .FireTestEmail(
              e.GetClanSteamID(),
              e.GetGID(),
              e.GetCurEditLanguage(),
              this.m_cancelSignal
            )
            .then((e) => {
              Object(Y.d)(
                d.createElement(
                  J.e,
                  {
                    strTitle: Object(h.f)("#EventDisplay_Share_Success"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  Object(h.f)("#EventEmail_TestEmailQueue")
                ),
                window
              );
            })
            .catch((e) => {
              Object(Y.d)(
                d.createElement(J.g, null, Object(v.a)(e).strErrorMsg),
                window
              );
            });
        }
        OnTestEmail(e) {
          const { editModel: t } = this.props;
          e.preventDefault(),
            Rt.a.BHasValidatedEmail() && !t.BIsDirtyType(o.d.jsondata_email)
              ? Object(Y.c)(
                  d.createElement(
                    J.e,
                    {
                      strTitle: Object(h.f)("#EventEmail_Test_Email"),
                      onOK: this.FireTestEmail,
                      onCancel: () => {},
                    },
                    Object(h.m)(
                      "#EventEmail_Send_TestEmail_Desc",
                      d.createElement(
                        "a",
                        {
                          target: S.c.IN_CLIENT ? void 0 : "blank",
                          href: S.c.STORE_BASE_URL + "account/",
                        },
                        S.c.STORE_BASE_URL + "account/"
                      )
                    )
                  ),
                  Object(Ft.o)(e)
                )
              : t.BIsDirtyType(o.d.jsondata_email)
              ? Object(Y.d)(
                  d.createElement(
                    J.g,
                    null,
                    Object(h.f)("#EventEmail_Test_Dirty")
                  ),
                  window
                )
              : Object(Y.d)(
                  d.createElement(
                    J.g,
                    null,
                    Object(h.m)(
                      "#EventEmail_Test_Email_Fail",
                      d.createElement(
                        "a",
                        {
                          target: S.c.IN_CLIENT ? void 0 : "blank",
                          href: S.c.STORE_BASE_URL + "account/",
                        },
                        S.c.STORE_BASE_URL + "account/"
                      )
                    )
                  ),
                  window
                );
        }
        OnPrepareEmail(e) {
          Object(Y.d)(
            d.createElement(Yt, { editModel: this.props.editModel }),
            Object(Ft.o)(e)
          );
        }
        OnSetupAndFireEmailConfirm(e) {
          Object(Y.c)(
            d.createElement(
              J.e,
              {
                strTitle: "(VO) Setup and Send Email",
                onOK: () =>
                  this.setState({ bSettingUp: !0 }, this.OnSetupAndFireEmail),
                onCancel: () => {},
              },
              d.createElement(
                "div",
                null,
                "(VO) Be thoughtful. Talk to Alden or Adil if not sure. By pressing this, we will setup a database entry to fire this email in its current form and target. Double check the audience make sense and the localization looks good. This will also begin firing immediately."
              )
            ),
            Object(Ft.o)(e)
          );
        }
        OnSetupAndFireEmail() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { editModel: e } = this.props;
            try {
              let t = S.b.IS_VALVE_GROUP
                ? yield s.c.SetupInternalPartnerCommunication(
                    this.m_cancelSignal,
                    e.GetClanSteamID(),
                    e.GetGID(),
                    e.GetEmailSettings().internal_targeting
                  )
                : yield s.c.SetupPartnerEmailCampaign(
                    e.GetClanSteamID(),
                    e.GetGID(),
                    this.m_cancelSignal
                  );
              Object(Y.d)(
                d.createElement(
                  J.e,
                  {
                    strTitle: Object(h.f)("#EventDisplay_Share_Success"),
                    onOK: () => {},
                    onCancel: () => {},
                    bAlertDialog: !0,
                  },
                  d.createElement(
                    "div",
                    null,
                    "Succesfully created the email on the server and saved it to the event. We are done!"
                  ),
                  Boolean(t.warning) &&
                    "However we hit the following warning: " + t.warning_msg
                ),
                window
              );
            } catch (e) {
              let t = Object(v.a)(e);
              console.error("OnSetupAndFireEmail failed: " + t.strErrorMsg),
                Object(Y.d)(
                  d.createElement(
                    J.e,
                    {
                      strTitle: Object(h.f)("#Error_Message"),
                      onOK: () => {},
                      onCancel: () => {},
                      bAlertDialog: !0,
                    },
                    d.createElement(
                      "div",
                      null,
                      "We hit the follwoing error: Error Code (",
                      t.errorCode,
                      ")",
                      d.createElement("br", null),
                      "Error Message: ",
                      t.strErrorMsg
                    )
                  ),
                  window
                );
            } finally {
              this.setState({ bSettingUp: !1 });
            }
          });
        }
        render() {
          const { editModel: e } = this.props,
            t = Boolean(e.GetEmailSettings().locked),
            a = N.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: Ct.ControlBarCtn },
            d.createElement(
              "a",
              { onClick: this.OnTestEmail, className: x.a.EditPreviewButton },
              this.state.bSettingUp && d.createElement(E.a, { size: "small" }),
              Object(h.f)("#EventEmail_Control_TestEmail")
            ),
            t &&
              a.valve_admin &&
              d.createElement(
                "a",
                {
                  onClick: this.OnSetupAndFireEmailConfirm,
                  className: x.a.EditPreviewButton,
                },
                "(VO) Setup and Fire Email"
              ),
            t &&
              !a.valve_admin &&
              d.createElement(
                "div",
                null,
                Object(h.f)("#EventEmail_Ready_ValveRequiredToSend")
              ),
            !t &&
              d.createElement(
                "a",
                {
                  onClick: this.OnPrepareEmail,
                  className: x.a.EditPreviewButton,
                },
                Object(h.f)("#EventEmail_Control_Prepare")
              )
          );
        }
      };
      Object(n.b)([fe.b], zt.prototype, "FireTestEmail", null),
        Object(n.b)([fe.b], zt.prototype, "OnTestEmail", null),
        Object(n.b)([fe.b], zt.prototype, "OnPrepareEmail", null),
        Object(n.b)([fe.b], zt.prototype, "OnSetupAndFireEmailConfirm", null),
        Object(n.b)([fe.b], zt.prototype, "OnSetupAndFireEmail", null),
        (zt = Object(n.b)([c.a], zt));
      const Wt = Object(c.a)((e) => {
        const { editModel: t } = e;
        let a = new ct.b(t),
          n = ((e) => {
            var t;
            let a = Array(),
              n =
                null === (t = Lt.a.Get().GetApp(e)) || void 0 === t
                  ? void 0
                  : t.GetName();
            return (
              vt.g.forEach((e) =>
                a.push(
                  d.createElement(
                    "option",
                    { key: e, value: e },
                    Object(h.f)("#" + e, n)
                  )
                )
              ),
              a
            );
          })(t.GetAppID()),
          i = t.GetCurEditLanguage();
        const l = t.GetAppID(),
          [r] = Object(We.b)(l, { include_basic_info: !0 });
        if (!r)
          return d.createElement(E.a, {
            string: Object(h.f)("#Loading"),
            position: "center",
            size: "small",
          });
        let o = a.GetSectionObj(0),
          s = a.GetSectionObj(1),
          c = "#EventEmail_Reason_Played",
          m = !1,
          u = "#EventEmail_Footer_Reason_Played",
          p = null == r ? void 0 : r.GetStorePageURL(),
          _ = null == r ? void 0 : r.GetName();
        if (a.BIsTargetingGamePlayers());
        else if (a.BIsTargetingGameFollowers())
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
        else if (a.BIsTargetingGameWishlisters())
          (c = "#EventEmail_Reason_Wishlist"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Wishlisted");
        else if (a.BIsTargetingSomeCreator()) {
          (c = "#EventEmail_Reason_Follow"),
            (m = !0),
            (u = "#EventEmail_Footer_Reason_Followed");
          let e = a.GetSomeCreatorTarget(),
            t = r.GetAllCreatorClanIDs().find((t) => t == e);
          if (t) {
            const e = C.a.InitFromClanID(t);
            let a = B.a.GetCreatorHome(e);
            if (a) {
              let e = "developer";
              r.GetAllDeveloperCreatorClans().includes(t) ||
                (e = r.GetAllPublisherCreatorClans().includes(t)
                  ? "publisher"
                  : "franchise"),
                (p = a.GetCreatorHomeURL(e)),
                (_ = a.GetName());
            }
          }
        }
        return d.createElement(
          "div",
          { className: Ct.EmailEditorContent },
          d.createElement(
            "div",
            {
              className: Object(U.a)(x.a.FlexRowContainer, Ct.EmailSubjectCtn),
            },
            d.createElement(
              "span",
              { className: Ct.EmailOptionTitle },
              Object(h.f)("#EventEmail_Subject")
            ),
            d.createElement(
              "select",
              {
                className: Ct.EmailSubjectSelect,
                value: a.GetSubjectTextLoc(),
                onChange: (e) => {
                  vt.g.forEach((a) => {
                    if (a === e.target.value) {
                      new ct.b(t).SetSubjectTextLoc(a);
                    }
                  });
                },
              },
              n
            )
          ),
          d.createElement(
            "div",
            { className: Ct.RightAlign },
            d.createElement(
              "span",
              { className: Ct.EmailOptionTitle },
              Object(h.f)("#LanguageTitle"),
              ": "
            ),
            d.createElement(ge.a, {
              selectedLang: i,
              fnLangHasData: a.BHasSomeLanguage,
              fnOnLanguageChanged: (t) => {
                e.editModel.SetCurEditLanguage(t);
              },
            })
          ),
          d.createElement(
            "div",
            { className: Ct.EmailTemplate },
            d.createElement(
              "div",
              { className: Object(U.a)(Ct.EmailIconHeader, Ct.CenterAlign) },
              d.createElement("img", { src: Nt.a })
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  Ct.EmailBackground,
                  Ct.EmailReasonHeader,
                  Ct.EmailTextCtn
                ),
              },
              d.createElement(
                "div",
                { className: Ct.Hello },
                Object(h.f)(
                  "#EventEmail_Hello",
                  Object(h.f)("#EventEmail_UserName")
                )
              ),
              d.createElement(
                "div",
                { className: Ct.Reason },
                Object(h.f)(c, _)
              ),
              !m && d.createElement("a", { className: Ct.GameLink, href: p }, _)
            ),
            d.createElement(Tt, {
              lang: i,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: o,
              additionalClassName: Ct.HeaderSection,
            }),
            d.createElement(Tt, {
              lang: i,
              clanSteamID: t.GetClanSteamID(),
              bEditor: t.BIsEmailEditable(),
              appid: t.GetAppID(),
              section: s,
              additionalClassName: Ct.HeaderSection,
            }),
            d.createElement("hr", null),
            d.createElement(
              "div",
              { className: Ct.Footer },
              d.createElement("div", null, Object(h.f)(u)),
              d.createElement(
                "span",
                null,
                Object(h.f)("#EventEmail_Footer_Game", _)
              ),
              d.createElement(
                "div",
                null,
                Object(h.f)("#EventEmail_Footer_OptOut_Desc_Game")
              ),
              d.createElement(
                "span",
                null,
                d.createElement(
                  "a",
                  { href: "#" },
                  Object(h.f)("#EventEmail_Footer_OptOut_Target", _)
                ),
                " " + Object(h.f)("#EventEmail_Footer_OptOut_Or") + " ",
                d.createElement(
                  "a",
                  { href: "#" },
                  Object(h.f)("#EventEmail_Footer_Optout_All")
                )
              )
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(Ct.FooterLegal, x.a.FlexRowContainer) },
              d.createElement("img", { src: bt.a }),
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  null,
                  Object(h.f)("#EventEmail_Footer_LegalWithAddress_Line1")
                ),
                d.createElement(
                  "div",
                  null,
                  Object(h.f)("#EventEmail_Footer_LegalWithAddress_Line2")
                )
              )
            )
          )
        );
      });
      let qt = class extends d.Component {
        constructor() {
          super(...arguments), (this.state = {});
        }
        GetEmailEditModel() {
          return new ct.b(this.props.editModel);
        }
        componentDidMount() {
          return Object(n.a)(this, void 0, void 0, function* () {
            let e = yield k.a.LoadClanInfoForClanSteamID(
              this.props.editModel.GetClanSteamID()
            );
            this.setState({ clanInfo: e });
          });
        }
        OnControlGroupSpinnerChange(e) {
          let t = Number.parseInt(e.target.value);
          this.GetEmailEditModel().SetControlGroupPercent(t);
        }
        render() {
          const { editModel: e } = this.props;
          if (
            !N.a.Get().GetPartnerEventPermissions(e.GetClanSteamID())
              .support_user
          )
            return null;
          if (!Boolean(this.state.clanInfo))
            return d.createElement(E.a, {
              string: Object(h.f)("#Loading"),
              size: "medium",
            });
          const t = this.GetEmailEditModel();
          return d.createElement(
            "div",
            {
              className: Object(U.a)(x.a.ValveOnlyBackground, Ct.RecipientCtn),
            },
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEmail_Filter")
              )
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexColumnContainer,
                  x.a.EventDefaultRowContainer
                ),
              },
              d.createElement(
                "div",
                null,
                Object(h.f)("#EventEmail_Filter_Desc")
              ),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(_.M, {
                  onChange: (e) => this.GetEmailEditModel().SetFilterIRTopN(e),
                  label: Object(h.f)("#EventEmail_Filter_IR"),
                  checked: t.BIsIRTopNFiltering(),
                }),
              Boolean(this.state.clanInfo.is_ogg) &&
                d.createElement(_.M, {
                  onChange: (e) =>
                    this.GetEmailEditModel().SetFilterWishlist(e),
                  label: Object(h.f)("#EventEmail_Filter_Wishlist"),
                  checked: t.BIsWishListFiltering(),
                }),
              d.createElement(_.A, {
                type: "number",
                min: "0",
                max: "99",
                label: Object(h.f)("#EventEmail_Filter_ControlGroup"),
                value: t.GetControlGroupPercent(),
                onChange: this.OnControlGroupSpinnerChange,
              })
            )
          );
        }
      };
      Object(n.b)([fe.b], qt.prototype, "OnControlGroupSpinnerChange", null),
        (qt = Object(n.b)([c.a], qt));
      let Qt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bLoadingCreator: !0 }),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        LoadCreatorHome() {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.state.bLoadingCreator ||
              this.setState({ bLoadingCreator: !0 });
            const { editModel: e } = this.props;
            Lt.a
              .Get()
              .QueueAppRequest(e.GetAppID(), { include_basic_info: !0 });
            let t = new Array();
            (yield B.a.LoadCreatorHomeListForAppIncludeHiddden(
              e.GetAppID(),
              this.m_cancelSignal
            )).forEach((e) => {
              let a = C.a.InitFromClanID(e.clan_account_id);
              t.push(B.a.LoadCreatorHome(a, this.m_cancelSignal));
            }),
              Promise.all(t).then((e) => {
                this.m_cancelSignal.token.reason ||
                  this.setState({ bLoadingCreator: !1 });
              });
          });
        }
        componentDidMount() {
          this.LoadCreatorHome();
        }
        componentDidUpdate(e) {
          e.editModel.GetAppID() != this.props.editModel.GetAppID() &&
            this.LoadCreatorHome();
        }
        GetEmailEditModel() {
          return new ct.b(this.props.editModel);
        }
        BuildCreatorHomeToggle(e) {
          let t = new Array(),
            a = new Array();
          if (this.state.bLoadingCreator)
            t.push(
              d.createElement(E.a, { key: "EmailRecipientControls_creator" })
            );
          else {
            const { editModel: n } = this.props;
            let i = new ct.b(n);
            B.a
              .GetCreatorHomeListForAppIncludeHidden(n.GetAppID())
              .forEach((n) => {
                let l = B.a.GetCreatorHomeByID(n);
                if (
                  l &&
                  !a.some((e) => e.clan_account_id === l.GetClanAccountID())
                ) {
                  let r = d.createElement(
                      "a",
                      {
                        target: S.c.IN_CLIENT ? void 0 : "_blank",
                        href: l.GetCreatorHomeURL(n.type),
                      },
                      l.BIsHidden()
                        ? Object(h.f)("#EventEmail_CreatorHidden") + " "
                        : "",
                      l.GetName()
                    ),
                    o = d.createElement(Jt, {
                      audience: l.GetNumFollowers(),
                      label: Object(h.m)(
                        "#EventEmail_Recipients_follower_creator",
                        r
                      ),
                    });
                  t.push(
                    d.createElement(_.M, {
                      key: "RecipientToggle_" + n.clan_account_id,
                      onChange: (e) =>
                        this.GetEmailEditModel().SetTargetingCreator(
                          e,
                          n.clan_account_id
                        ),
                      label: o,
                      checked: i.BIsTargetingCreator(l.GetClanAccountID()),
                    })
                  ),
                    e.support_user &&
                      ((o = d.createElement(Jt, {
                        valveOnly: !0,
                        label: Object(h.m)(
                          "#EventEmail_Recipients_player_creator",
                          r
                        ),
                      })),
                      t.push(
                        d.createElement(
                          "span",
                          {
                            key: "RecipientToggle_player_" + n.clan_account_id,
                            className: Object(U.a)(x.a.ValveOnlyBackground),
                          },
                          d.createElement(_.M, {
                            onChange: (e) =>
                              this.GetEmailEditModel().SetTargetingCreatorPlayer(
                                e,
                                n.clan_account_id
                              ),
                            label: o,
                            checked: i.BIsTargetingCreatorPlayer(
                              l.GetClanAccountID()
                            ),
                          })
                        )
                      ),
                      a.push(n));
                }
              }),
              0 == t.length &&
                t.push(
                  d.createElement(
                    "div",
                    { key: "creatorhome_plug" },
                    Object(h.m)(
                      "#EventEmail_Recipients_NoCreatorHome",
                      d.createElement(
                        "a",
                        {
                          href:
                            "https://partner.steamgames.com/doc/store/creator_homepage",
                        },
                        "https://partner.steamgames.com/doc/store/creator_homepage"
                      )
                    )
                  )
                );
          }
          return t;
        }
        render() {
          const { editModel: e } = this.props;
          let t = new ct.b(e);
          const a = N.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          return d.createElement(
            "div",
            { className: Ct.RecipientCtn },
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.EventEditorTextTitle) },
              d.createElement(
                "span",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEmail_Recipients")
              )
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexColumnContainer,
                  x.a.EventDefaultRowContainer
                ),
              },
              d.createElement(
                "div",
                null,
                Object(h.f)("#EventEmail_Recipients_desc")
              ),
              d.createElement(_.M, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingExistingPlayer(e),
                label: Object(h.f)("#EventEmail_Recipients_players"),
                checked: t.BIsTargetingGamePlayers(),
              }),
              d.createElement(_.M, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameWishlist(e),
                label: Object(h.f)("#EventEmail_Recipients_wishlist"),
                checked: t.BIsTargetingGameWishlisters(),
              }),
              d.createElement(_.M, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetTargetingGameFollower(e),
                label: d.createElement(Jt, {
                  label: Object(h.f)("#EventEmail_Recipients_follower"),
                  audience: k.a.GetClanMemberCount(e.GetAppID()),
                }),
                checked: t.BIsTargetingGameFollowers(),
              }),
              d.createElement(_.M, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetExcludeGameOwners(e),
                label: d.createElement(Jt, {
                  label: Object(h.f)("#EventEmail_Recipients_exclude_owners"),
                }),
                checked: t.BIsExcludingGameOwners(),
              }),
              d.createElement(_.M, {
                onChange: (e) =>
                  this.GetEmailEditModel().SetOwnersWithNoPlaytime(e),
                label: d.createElement(Jt, {
                  label: Object(h.f)("#EventEmail_Recipients_no_playtime"),
                }),
                checked: t.BIsTargetingGameOwnersWithoutPlaytime(),
              }),
              this.BuildCreatorHomeToggle(a)
            )
          );
        }
      };
      Qt = Object(n.b)([c.a], Qt);
      class Jt extends d.Component {
        render() {
          const { valveOnly: e, label: t } = this.props;
          return d.createElement(
            "div",
            { className: Ct.TargetAndAudience },
            d.createElement(
              "span",
              null,
              e && d.createElement("span", null, "(VO) "),
              t
            ),
            d.createElement(
              "span",
              null,
              Boolean(void 0 !== this.props.audience) &&
                this.props.audience.toLocaleString()
            )
          );
        }
      }
      let Yt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              state: this.props.editModel.BIsDirty() ? "unsaved" : "loading",
            });
        }
        componentDidMount() {
          const { editModel: e } = this.props;
          if ("loading" == this.state.state) {
            let t = Object(Pt.a)(e),
              a = Object(Pt.b)(e);
            this.setState({
              error: t,
              warning: a,
              state:
                t.length > 0
                  ? "error"
                  : a.length > 0
                  ? "readywithwarning"
                  : "ready",
            });
          }
        }
        OnLockEmail() {
          const { editModel: e } = this.props;
          new ct.b(e).LockEmail(),
            this.setState({ state: "saving" }, () => {
              s.c.SaveModel(e.GetClanSteamID()).then((e) => {
                this.setState({ state: "done" });
              });
            });
        }
        render() {
          switch (this.state.state) {
            case "loading":
              return d.createElement(
                J.e,
                {
                  strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(E.a, null)
              );
            case "ready":
              return d.createElement(J.e, {
                strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                strDescription: Object(h.f)("#EventEmail_Preparation_Desc"),
                onOK: this.OnLockEmail,
                onCancel: this.props.closeModal,
              });
            case "readywithwarning":
              return d.createElement(
                J.e,
                {
                  strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                  strDescription: Object(h.f)("#EventEmail_Preparation_Desc"),
                  onOK: this.OnLockEmail,
                  onCancel: this.props.closeModal,
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#EventEmail_Preparation_DescWarning")
                  ),
                  d.createElement("ol", null, this.state.warning)
                )
              );
            case "unsaved":
              return d.createElement(J.g, {
                strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                strDescription: Object(h.f)("#EventEmail_Preparation_Unsaved"),
                closeModal: this.props.closeModal,
              });
            case "saving":
              return d.createElement(
                J.e,
                {
                  strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                  strDescription: Object(h.f)(
                    "#EventEmail_Preparation_InProcess"
                  ),
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                },
                d.createElement(E.a, null)
              );
            case "done":
              return d.createElement(J.e, {
                strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                strDescription: Object(h.f)("#EventEmail_Preparation_Done"),
                onOK: this.props.closeModal,
                onCancel: this.props.closeModal,
              });
            case "error":
            default:
              return d.createElement(
                J.g,
                {
                  strTitle: Object(h.f)("#EventEmail_Preparation_Title"),
                  strDescription: Object(h.f)("#EventEmail_Preparation_Error"),
                  closeModal: this.props.closeModal,
                },
                d.createElement(
                  "div",
                  null,
                  d.createElement("ol", null, this.state.error),
                  Boolean(this.state.warning.length > 0) &&
                    d.createElement(
                      "div",
                      null,
                      d.createElement(
                        "p",
                        null,
                        Object(h.f)("#EventEmail_Preparation_DescWarning")
                      ),
                      d.createElement("ol", null, this.state.warning)
                    )
                )
              );
          }
        }
      };
      Object(n.b)([fe.b], Yt.prototype, "OnLockEmail", null),
        (Yt = Object(n.b)([c.a], Yt));
      let Zt = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { rtimeLastRefresh: 0, bRefreshing: !1 });
        }
        RefreshIfNeeded() {
          let e = Math.floor(Date.now() / 1e3);
          const { editModel: t } = this.props;
          !this.state.err_msg &&
            t.GetEventModel().jsondata.email_setting.force_feature_id &&
            this.state.rtimeLastRefresh + 300 < e &&
            !this.state.bRefreshing &&
            this.setState({ bRefreshing: !0 }, this.RefreshStats);
        }
        RefreshStats() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { editModel: e } = this.props;
            let t =
                S.c.COMMUNITY_BASE_URL + "eventemail/ajaxgetpartneremailstats",
              a = {
                clanid: e.GetClanSteamID().GetAccountID(),
                gidevent: e.GetGID(),
                sessionid: S.c.SESSIONID,
              };
            try {
              let e = yield l.a.get(t, { params: a, withCredentials: !0 });
              this.setState({ stats: e.data.result, bRefreshing: !1 });
            } catch (e) {
              this.setState({
                bRefreshing: !1,
                err_msg: Object(v.a)(e).strErrorMsg,
              });
            }
          });
        }
        componentDidMount() {
          this.RefreshIfNeeded(),
            (this.autoRefreshInterval = window.setInterval(
              this.RefreshIfNeeded,
              3e5
            ));
        }
        componentDidUpdate(e) {
          this.props.editModel.GetGID() != e.editModel.GetGID() &&
            this.setState({ rtimeLastRefresh: 0 }, this.RefreshIfNeeded);
        }
        componentWillUnmount() {
          this.autoRefreshInterval &&
            (window.clearInterval(this.autoRefreshInterval),
            (this.autoRefreshInterval = void 0));
        }
        render() {
          const { editModel: e } = this.props;
          if (!e.GetEventModel().jsondata.email_setting.force_feature_id)
            return d.createElement("div", null);
          if (this.state.err_msg)
            return d.createElement(
              "div",
              { className: ye.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEmail_Stats_Title")
              ),
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    x.a.FlexColumnContainer,
                    x.a.EventDefaultRowContainer
                  ),
                },
                d.createElement(
                  "span",
                  { className: Ut.ErrorMessaage },
                  this.state.err_msg
                )
              )
            );
          if (!this.state.stats)
            return d.createElement(
              "div",
              { className: ye.EventEditorInputPaneContents },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEmail_Stats_Title")
              ),
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    x.a.FlexColumnContainer,
                    x.a.EventDefaultRowContainer
                  ),
                },
                d.createElement(E.a, null)
              )
            );
          const t = this.state.stats;
          return d.createElement(
            "div",
            { className: ye.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitle },
              Object(h.f)("#EventEmail_Stats_Title"),
              this.state.bRefreshing && d.createElement(E.a, { size: "small" })
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexColumnContainer,
                  x.a.EventDefaultRowContainer
                ),
              },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextSubTitle },
                Object(h.f)(
                  "#EventEmail_Stats_State",
                  Object(h.f)("#EventEmail_Stats_State_" + t.state)
                )
              ),
              "sending" == t.state &&
                d.createElement(
                  "div",
                  null,
                  Object(h.f)(
                    "#EventEmail_Stats_Started",
                    Object(h.k)(t.rtime_start_firing)
                  )
                ),
              ("complete" == t.state || "aborted" == t.state) &&
                d.createElement(
                  "div",
                  null,
                  Object(h.f)(
                    "#EventEmail_Stats_Completed",
                    Object(h.k)(t.rtime_start_firing),
                    Object(h.k)(t.rtime_stop_firing)
                  )
                ),
              "queued" != t.state &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)(
                      "#EventEmail_Stats_Examined",
                      t.accounts_examined
                        ? t.accounts_examined.toLocaleString()
                        : 0
                    )
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)(
                      "#EventEmail_Stats_Duplicates",
                      t.accounts_duplicates
                        ? t.accounts_duplicates.toLocaleString()
                        : 0
                    )
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)(
                      "#EventEmail_Stats_Emailed",
                      t.accounts_emailed
                        ? t.accounts_emailed.toLocaleString()
                        : 0
                    )
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)(
                      "#EventEmail_Stats_Skipped",
                      t.accounts_not_emailed
                        ? t.accounts_not_emailed.toLocaleString()
                        : 0
                    )
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)(
                      "#EventEmail_Stats_Failed",
                      t.accounts_email_failed
                        ? t.accounts_email_failed.toLocaleString()
                        : 0
                    )
                  )
                ),
              d.createElement(
                "div",
                null,
                Object(h.f)(
                  "#EventEmail_Stats_Last_Refresh_Time",
                  Object(h.p)(this.state.rtimeLastRefresh)
                )
              )
            )
          );
        }
      };
      Object(n.b)([fe.b], Zt.prototype, "RefreshIfNeeded", null),
        Object(n.b)([fe.b], Zt.prototype, "RefreshStats", null),
        (Zt = Object(n.b)([c.a], Zt));
      var Kt = a("LvgY"),
        Xt = (a("SvTV"), a("5izx")),
        $t = a("f1ZV"),
        ea = a("zoOh"),
        ta = a.n(ea);
      const aa = Object(c.a)((e) => {
          const { editModel: t, bHideEndRange: a } = e;
          let n =
            !a &&
            t.GetEventModel().BIsVisibleEvent() &&
            t.GetEventModel().GetEndTimeAndDateUnixSeconds() + 604800 <
              Math.floor(Date.now() / 1e3);
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(ra, { editModel: t }),
            !a &&
              d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextTitle },
                  Object(h.f)("#EventEditor_EndEvent_Title")
                ),
                Boolean(n)
                  ? d.createElement(la, { editModel: t })
                  : d.createElement(na, { editModel: t })
              )
          );
        }),
        na = Object(c.a)((e) => {
          const { editModel: t } = e,
            a = new Array(),
            n = new Array();
          n.push({
            label: d.createElement(
              "div",
              { key: "durtypehour" },
              Object(h.f)("#EventEditor_Hour")
            ),
            data: o.b.k_EHour,
          }),
            n.push({
              label: d.createElement(
                "div",
                { key: "durtypeday" },
                Object(h.f)("#EventEditor_Day")
              ),
              data: o.b.k_EDay,
            }),
            n.push({
              label: d.createElement(
                "div",
                { key: "durtypeweek" },
                Object(h.f)("#EventEditor_Week")
              ),
              data: o.b.k_EWeek,
            }),
            a.push({
              label: d.createElement(
                "div",
                { key: "durtypehours" },
                Object(h.f)("#EventEditor_Hours")
              ),
              data: o.b.k_EHour,
            }),
            a.push({
              label: d.createElement(
                "div",
                { key: "durtypedays" },
                Object(h.f)("#EventEditor_Days")
              ),
              data: o.b.k_EDay,
            }),
            a.push({
              label: d.createElement(
                "div",
                { key: "durtypeweeks" },
                Object(h.f)("#EventEditor_Weeks")
              ),
              data: o.b.k_EWeek,
            });
          const i = t.GetEndTimeEditChoice() == o.c.k_EDuration,
            l = t.GetEndTimeEditChoice() == o.c.k_ESpecified,
            r = t.GetEndEditDurationValue() > 1;
          let s = t.ComputeDurationBasedRoundedEndTime();
          return d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.FlexColumnContainer,
                ta.a.TimeRowContainer
              ),
            },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextSubTitle },
              Object(h.f)("#EventEditor_EndEvent_Subtitle2")
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.FlexRowContainer, x.a.RadioOption) },
              d.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_EndDropDown",
                value: o.c.k_EDuration,
                checked: i,
                onChange: () => t.SetEndTimeEditChoice(o.c.k_EDuration),
              }),
              d.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_EndDropDown" },
                Object(h.f)("#EventEditor_EndEvent_EndDropDown")
              )
            ),
            i &&
              d.createElement(
                "div",
                { className: ta.a.TimeRowDropDown },
                d.createElement(
                  "div",
                  {
                    className: Object(U.a)(
                      "EndDateAmount_Ctn",
                      ta.a.EndDateAmountCtn
                    ),
                  },
                  d.createElement(
                    "div",
                    { className: x.a.InputBorder },
                    d.createElement("input", {
                      type: "number",
                      min: "1",
                      max: "31",
                      step: "1",
                      value: t.GetEndEditDurationValue(),
                      onChange: (e) =>
                        t.SetEndEditDurationValue(
                          Number.parseInt(e.target.value)
                        ),
                    })
                  ),
                  d.createElement(_.n, {
                    key: r
                      ? "pluraldurationdropdown"
                      : "singulardurationdropnow",
                    rgOptions: r ? a : n,
                    selectedOption: t.GetEndEditDurationType(),
                    onChange: (e) => t.SetEndEditDurationType(e.data),
                  })
                ),
                s &&
                  d.createElement(
                    "div",
                    { className: ta.a.EndRound },
                    Object(h.m)(
                      "#EventEditor_EndEvent_EndDropDown_Round",
                      d.createElement(b.a, {
                        bSingleLine: !0,
                        dateAndTime: s,
                        bOnlyTime: !0,
                      })
                    )
                  )
              ),
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.FlexRowContainer, x.a.RadioOption) },
              d.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_Specified",
                value: o.c.k_ESpecified,
                checked: l,
                onChange: () => t.SetEndTimeEditChoice(o.c.k_ESpecified),
              }),
              d.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_Specified" },
                d.createElement(
                  "span",
                  null,
                  Object(h.f)("#EventEditor_EndEvent_Specified")
                )
              )
            ),
            l &&
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    "EndDateSpecific_Ctn",
                    ta.a.TimeRowDropDown,
                    ta.a.EndDateSpecificCtn
                  ),
                },
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.f)("#EventEditor_EndDate"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventEditor_EndDate_ttip"
                      ),
                    },
                    " (?)"
                  )
                ),
                d.createElement($t.a, {
                  strDescription: "",
                  nEarliestTime: t.GetEarliestEndTimeForEdit(),
                  nLatestTime: t.GetLatestEndTimeForEdit(),
                  fnGetTimeToUpdate: t.GetEventEndTime,
                  fnSetTimeToUpdate: t.SetEventEndTime,
                  fnIsValidDateTime: t.IsValidEndTimeForEdit,
                  fnSetToNow: (e) => {
                    Object(ae.G)(() => {
                      t.SetEventStartTime(e), t.SetEventEndTime(e + 3600);
                    });
                  },
                })
              )
          );
        }),
        ia = (e) => {
          const { eventVisibilityStartTime: t, eventStartTime: a } = e,
            n = Xt.a.GetTimeNowWithOverride();
          let i = null;
          if (a === t || t < 1) {
            const e =
              n >= a
                ? "#EventEditor_EventStartedAndPublished"
                : "#EventEditor_EventStartedAndPublishedFuture";
            i = Object(h.m)(
              e,
              d.createElement(b.a, { dateAndTime: a, bSingleLine: !0 })
            );
          } else {
            let e = "#EventEditor_EventPublishedThenStarted";
            t > n
              ? (e = "#EventEditor_EventPublishedThenStartedBothFuture")
              : a > n &&
                (e = "#EventEditor_EventPublishedThenStartedStartFuture"),
              (i = Object(h.m)(
                e,
                d.createElement(b.a, { dateAndTime: t, bSingleLine: !0 }),
                d.createElement(b.a, { dateAndTime: a, bSingleLine: !0 })
              ));
          }
          return d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.EventDefaultRowContainer,
                x.a.EventStartPublic
              ),
            },
            i,
            d.createElement(
              "span",
              {
                "data-tooltip-text": Object(h.f)(
                  "#EventEditor_EventStartedAndPublished_ttip"
                ),
              },
              " (?)"
            )
          );
        },
        la = (e) => {
          const { editModel: t } = e;
          return d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.EventDefaultRowContainer,
                x.a.EventStartPublic
              ),
            },
            d.createElement(
              "div",
              null,
              Object(h.m)(
                "#EventEditor_EventOver",
                d.createElement(b.a, {
                  dateAndTime: t.GetEventModel().GetEndTimeAndDateUnixSeconds(),
                  bSingleLine: !0,
                })
              )
            )
          );
        };
      let ra = class extends d.Component {
        OnStartDateNowChosen() {
          let e = this.props.editModel;
          e.GetStartTimeEditChoice() != o.e.k_ENow &&
            (e.SetStartTimeEditChoice(o.e.k_ENow), e.SetEventStartTime(0));
        }
        OnStartDateSpecifiedChosen() {
          this.props.editModel.SetStartTimeEditChoice(o.e.k_ESpecified);
        }
        render() {
          let e = this.props.editModel,
            t = e.GetCategoryAsType(),
            a = e.GetEventStartTime(),
            n = e.GetEventVisibilityStartTime();
          const i = e.GetEarliestStartTimeForEdit(),
            l = e.GetLatestEndTimeForEdit(),
            r = !i || i < Xt.a.GetTimeNowWithOverride();
          let s = e.BPublished(),
            c = e.BVisible(),
            m = e.GetStartTimeEditChoice() == o.e.k_ENow,
            u = e.GetStartTimeEditChoice() == o.e.k_ESpecified;
          return d.createElement(
            d.Fragment,
            null,
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitle },
              28 == t
                ? Object(h.f)("#EventEditor_StartNewsTitle")
                : Object(h.f)("#EventEditor_StartEvemtTitle"),
              d.createElement(
                "span",
                { "data-tooltip-text": Object(h.f)("#EventEditor_Time_ttip") },
                " (?)"
              ),
              d.createElement(
                "a",
                {
                  href:
                    "https://partner.steamgames.com/doc/marketing/event_tools",
                  target: S.c.IN_CLIENT ? void 0 : "_blank",
                },
                d.createElement(
                  "span",
                  { className: x.a.FloatRight },
                  "(",
                  Object(h.f)("#EventDisplay_CallToAction_LearnMore"),
                  ")"
                )
              )
            ),
            c &&
              d.createElement(ia, {
                eventVisibilityStartTime: n,
                eventStartTime: a,
              }),
            !c &&
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    x.a.FlexColumnContainer,
                    ta.a.TimeRowContainer
                  ),
                },
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.f)("#EventEditor_Timezone_ttip")
                ),
                !s &&
                  d.createElement(
                    d.Fragment,
                    null,
                    d.createElement(
                      "div",
                      {
                        className: Object(U.a)(
                          x.a.FlexRowContainer,
                          x.a.RadioOption
                        ),
                      },
                      d.createElement("input", {
                        type: "radio",
                        name: "StartDateRadio",
                        id: "EventEditor_StartEvent_Now",
                        value: o.e.k_ENow,
                        disabled: !r,
                        checked: m,
                        onChange: this.OnStartDateNowChosen,
                      }),
                      d.createElement(
                        "label",
                        { htmlFor: "EventEditor_StartEvent_Now" },
                        d.createElement(
                          "span",
                          null,
                          28 == t
                            ? Object(h.f)("#EventEditor_StartNews_Now")
                            : Object(h.f)("#EventEditor_StartEvent_Now")
                        )
                      )
                    ),
                    d.createElement(
                      "div",
                      {
                        className: Object(U.a)(
                          x.a.FlexRowContainer,
                          x.a.RadioOption
                        ),
                      },
                      d.createElement("input", {
                        type: "radio",
                        name: "StartDateRadio",
                        id: "EventEditor_StartEvent_Specified",
                        value: o.e.k_ESpecified,
                        checked: u,
                        onChange: this.OnStartDateSpecifiedChosen,
                      }),
                      d.createElement(
                        "label",
                        { htmlFor: "EventEditor_StartEvent_Specified" },
                        d.createElement(
                          "span",
                          null,
                          28 == t
                            ? Object(h.f)("#EventEditor_StartNews_Specified")
                            : Object(h.f)("#EventEditor_StartEvent_Specified")
                        )
                      )
                    )
                  ),
                u &&
                  d.createElement(oa, {
                    editModel: e,
                    nEarliestTime: i,
                    nLatestTime: l,
                    bShowIndent: !s,
                  })
              )
          );
        }
      };
      function oa(e) {
        const {
            editModel: t,
            nEarliestTime: a,
            nLatestTime: n,
            bShowIndent: i,
          } = e,
          [l] = Object(re.d)(() => [t.GetCategoryAsType()]),
          r = Object(Xt.b)(),
          o = Object(V.b)(l),
          s = a && a > r ? a : r;
        return d.createElement(
          "div",
          { className: i ? ta.a.TimeRowDropDown : "" },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextSubTitle },
            Object(h.f)(
              o
                ? "#EventEditor_StartEvent_Scheduled"
                : "#EventEditor_StartEvent_Post_Scheduled"
            )
          ),
          d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.FlexColumnContainer,
                ta.a.TimeRowContainer
              ),
            },
            d.createElement($t.a, {
              strDescription: Object(h.f)("#EventEditor_Starts"),
              nEarliestTime: s,
              nLatestTime: n,
              fnGetTimeToUpdate: t.GetEventStartTime,
              fnSetTimeToUpdate: (e) => {
                t.SetEventStartTime(e), o || t.SetVisibilityStartTime(e);
              },
              fnIsValidDateTime: t.IsValidStartTimeForEdit,
            })
          ),
          o && d.createElement(sa, { editModel: t })
        );
      }
      Object(n.b)([ae.k.bound], ra.prototype, "OnStartDateNowChosen", null),
        Object(n.b)([fe.b], ra.prototype, "OnStartDateSpecifiedChosen", null),
        (ra = Object(n.b)([c.a], ra));
      let sa = class extends d.Component {
        OnVisibilityChange(e) {
          s.c
            .GetEditModel()
            .SetVisibilityPublishingSetup(+e.target.dataset.visibility);
        }
        CreateVisibilityControls(e, t) {
          let a = new Array();
          return (
            Object.keys(o.g)
              .filter((e) => !isNaN(Number(e)))
              .forEach((n) => {
                (e && +n == o.g.immediate) ||
                  a.push(
                    d.createElement(
                      "span",
                      {
                        className: Object(U.a)(
                          ta.a.EventVisibilityItem,
                          x.a.RadioOption
                        ),
                        key: "visibility_radio_" + n,
                      },
                      d.createElement("input", {
                        type: "radio",
                        id: "visibility_radio_" + n,
                        "data-visibility": n,
                        name: "visibility",
                        checked: t == +n,
                        onChange: this.OnVisibilityChange,
                      }),
                      d.createElement(
                        "label",
                        { htmlFor: "visibility_radio_" + n },
                        Object(h.f)("#EventEditor_Visibility_" + n)
                      ),
                      d.createElement(
                        "span",
                        {
                          className: x.a.FloatRight,
                          "data-tooltip-text": Object(h.f)(
                            "#EventEditor_Visibility_ttip_" + n
                          ),
                        },
                        "(?)"
                      )
                    )
                  );
              }),
            a
          );
        }
        render() {
          let e = this.props.editModel,
            t = e.GetVisibilityPublishingSetup(),
            a = e.BPublished(),
            n = this.CreateVisibilityControls(a, t);
          return d.createElement(
            "div",
            { className: x.a.EventEditorVisibilityCtn },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextSubTitle },
              Object(h.f)("#EventEditor_Visibility_Subtitle")
            ),
            d.createElement(
              "div",
              { className: ta.a.VisibilityItems },
              d.createElement(
                "div",
                { className: ta.a.VisibilityItemList },
                n,
                t == o.g.specified_time
                  ? d.createElement(
                      "div",
                      { className: ta.a.EventPublishTimeCtn },
                      d.createElement($t.a, {
                        strDescription: Object(h.f)(
                          "#EventEditor_Publish_CustomTimeTitle"
                        ),
                        nEarliestTime: e.GetEarliestVisibilityStartTimeForEdit(),
                        fnGetTimeToUpdate: e.GetEventVisibilityStartTime,
                        fnSetTimeToUpdate: e.SetVisibilityStartTime,
                        fnIsValidDateTime: e.BIsValidVisibilityStartTime,
                        bHideSetToNow: !0,
                      })
                    )
                  : d.createElement("input", {
                      type: "text",
                      disabled: !0,
                      placeholder: Object(h.f)(
                        "#EventEditor_Publish_ForCustomPublishTime"
                      ),
                    })
              )
            )
          );
        }
      };
      Object(n.b)([fe.b], sa.prototype, "OnVisibilityChange", null),
        (sa = Object(n.b)([c.a], sa));
      var ca = a("AvDr"),
        da = a.n(ca);
      const ma = Object(c.a)((e) => {
          const { editModel: t } = e;
          let a = Object(V.a)(t.GetEventType());
          const n = N.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
            i = t.BHasTag("curator");
          return d.createElement(
            "div",
            { className: x.a.Columns },
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.LeftCol) },
              d.createElement(ga, { editModel: t }),
              d.createElement(aa, { bHideEndRange: !a, editModel: t }),
              Boolean(t.BHasTag("steam_award_nomination_request")) &&
                d.createElement(Kt.b, null),
              d.createElement(_a, { editModel: t }),
              (!i || n.valve_admin) && d.createElement(ua, { editModel: t }),
              d.createElement("div", { className: x.a.ClearThings })
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(Te.a.OptionsNotes, x.a.RightCol) },
              Object(h.f)("#EventEditor_Time_ttip")
            )
          );
        }),
        ua = Object(c.a)((e) => {
          const { editModel: t } = e;
          let a = d.useRef();
          let n = t.BHasImage("spotlight", 0),
            i = t.BIsAllowedOnLibraryOverview(),
            l = t.BIsAllowedOnLibraryDetail(),
            r = t.BIsAllowedOnStore(),
            o = t.GetCategoryAsString();
          return d.createElement(
            "div",
            { className: Te.a.EventEditorInputPaneContents },
            d.createElement(
              "div",
              { className: x.a.LeftCol },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEditor_Options_Title")
              ),
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    x.a.FlexColumnContainer,
                    x.a.EventDefaultRowContainer
                  ),
                },
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.m)(
                    "#EventEditor_Options_Show_Warning",
                    d.createElement(
                      "a",
                      {
                        href:
                          "https://support.steampowered.com/kb_article.php?ref=4045-USHJ-3810",
                        target: S.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(h.f)("#EventEditor_Options_Show_WarningLink")
                    )
                  )
                ),
                d.createElement(_.M, {
                  onChange: (e) => {
                    t.GetAppID() == de.D &&
                    t.BHasTag("hide_library_overview") &&
                    e
                      ? Object(Y.d)(
                          d.createElement(J.e, {
                            strTitle: Object(h.f)(
                              "#EventEditor_GenericAreYouSure"
                            ),
                            strDescription:
                              "Showing on the library home page will pin this event into the first spot in the 'Whats New' section for ALL Steam Library. Are you sure this is an Steam update that applies to all Steam Library users? Be thoughtful.",
                            onOK: () => t.ClearTags(["hide_library_overview"]),
                            onCancel: () => {
                              var e;
                              return null ===
                                (e = null == a ? void 0 : a.current) ||
                                void 0 === e
                                ? void 0
                                : e.setState({ checked: !a.current.checked });
                            },
                          }),
                          window
                        )
                      : t.SetTag("hide_library_overview", !e);
                  },
                  label: Object(h.f)(
                    "#EventEditor_Options_Show_Library_Overview"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_overview"),
                  description: i
                    ? Object(h.f)(
                        "#EventEditor_Options_Show_Library_Overview_Desc"
                      )
                    : Object(h.f)("#EventEditor_Options_WontDisplayHere", o),
                  disabled: !i,
                  ref: a,
                }),
                d.createElement(_.M, {
                  onChange: (e) => t.SetTag("hide_library_detail", !e),
                  label: Object(h.f)(
                    "#EventEditor_Options_Show_Library_Detail"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_detail"),
                  description: l
                    ? void 0
                    : Object(h.f)("#EventEditor_Options_WontDisplayHere", o),
                  disabled: !l,
                }),
                d.createElement(_.M, {
                  onChange: (e) => t.SetTag("hide_store", !e),
                  label: Object(h.f)("#EventEditor_Options_Show_Store"),
                  checked: !t.GetEventModel().BHasTag("hide_store"),
                  description: r
                    ? void 0
                    : Object(h.f)("#EventEditor_Options_WontDisplayHere", o),
                  disabled: !r,
                }),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.f)("#EventEditor_Options_Desc")
                ),
                d.createElement(_.M, {
                  onChange: (e) => t.SetTag("workshop", e),
                  label: Object(h.f)("#EventEditor_Options_Workshop_Label"),
                  checked: t.GetEventModel().BHasTag("workshop"),
                }),
                d.createElement(_.M, {
                  onChange: (e) => {
                    e && !t.BHasImage("spotlight", 0)
                      ? Object(Y.d)(
                          d.createElement(J.g, {
                            strTitle: Object(h.f)("#Error_FailureNotice"),
                            strDescription: Object(h.f)(
                              "#EventEditor_Options_Spotlight_Error",
                              Object(h.f)("#EventEditor_Artwork")
                            ),
                          }),
                          window
                        )
                      : t.SetLibrarySpotlight(e);
                  },
                  label: Object(h.f)("#EventEditor_Options_Spotlight_Label"),
                  checked: t.GetEventModel().BShowLibrarySpotlight(),
                  disabled: !n || !l,
                  description: l
                    ? Object(h.f)(
                        "#EventEditor_Options_Spotlight_Desc",
                        Object(h.f)("#EventEditor_Artwork")
                      )
                    : Object(h.f)("#EventEditor_Options_WontDisplayHere", o),
                }),
                d.createElement(Sa, { editModel: t }),
                d.createElement(va, { editModel: t }),
                d.createElement(pa, { editModel: t })
              )
            )
          );
        }),
        pa = Object(c.a)((e) => {
          const { editModel: t } = e,
            a = N.a.Get().GetPartnerEventPermissions(t.GetClanSteamID());
          let n = d.useRef();
          if (!a.valve_admin) return null;
          return d.createElement(
            "div",
            { className: Object(U.a)(x.a.ValveOnlyBackground) },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextSubTitle },
              Object(h.f)("#EventEditor_Options_Moderation")
            ),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("mod_hide_library_overview", e),
              label: Object(h.f)("#EventEditor_Options_Hide_Library_Overview"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_overview"),
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("mod_hide_library_detail", e),
              label: Object(h.f)("#EventEditor_Options_Hide_Library_Detail"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_detail"),
            }),
            d.createElement(_.M, {
              onChange: (e) => {
                t.BHasSaleEnabled() && e && !t.BHasTag("mod_hide_store")
                  ? Object(Y.d)(
                      d.createElement(J.e, {
                        strTitle: Object(h.f)(
                          "#EventEditor_Options_Hide_Store"
                        ),
                        strDescription:
                          "There is an active sale on this event. Setting this flag will HIDE the sale page completely. Are you sure?",
                        onOK: () => t.AddTag("mod_hide_store"),
                        onCancel: () => n.current.SetChecked(!1, !1),
                      }),
                      window
                    )
                  : t.SetTag("mod_hide_store", e);
              },
              ref: n,
              label: Object(h.f)("#EventEditor_Options_Hide_Store"),
              checked: t.GetEventModel().BHasTag("mod_hide_store"),
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetSteamStoreSpotlight(e),
              label: "(VO) Show Spotlight on Steam Store Product Page",
              checked: t.BHasSteamStoreSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork on the product page for upto a week from the event start.  After saving the event with this flag enable, it takes 5 to 10 minutes to make its way through solr.",
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetLibraryHomeSpotlight(e),
              label: "(VO) Force Spotlight on Library Home",
              checked: t.BHasLibaryHomeSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork in the 'Whats New' section at the top of the library home for all owners.",
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("blog", e),
              label: "(VO) Mark as Blog for Valve Game Teams",
              checked: t.GetEventModel().BHasTag("blog"),
              description:
                "Add the 'blog' tag to this post. Allowing game team website to filter news posts intended for their blog.",
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("adult_only_content", e),
              label: "(VO) Event Contains Adult Only Content",
              checked: t.GetEventModel().BHasTag("adult_only_content"),
              description:
                "Set this to on if the post contains adult only content so that it can be filtered accordingly.",
            }),
            t.GetAppID() == de.D &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(_.M, {
                  onChange: (e) => t.SetTag("steam_blog", e),
                  label: "(VO) Steam Official Blog",
                  checked: t.GetEventModel().BHasTag("steam_blog"),
                  description:
                    "When checked this event will surface on https://store.steampowered.com/news/app/593110. Make sure to set this before you publish, or it will have no effect.",
                }),
                d.createElement(_.M, {
                  onChange: (e) => t.SetTag("skip_megaphone", e),
                  label: "(VO) Skip Lighting Up Steam Client Megaphone",
                  checked: t.GetEventModel().BHasTag("skip_megaphone"),
                  description:
                    "By default small event (patch notes) do not light up the megaphone in the Steam client. Enabling this flag does the same for all other event type.",
                })
              ),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("forced_featured", e),
              label: "(VO) Force Feature this event in the NewsHub",
              checked: t.GetEventModel().BHasTag("forced_featured"),
              description:
                "Add the 'forced_featured' tag to this post. This will prioritize the event appearing in algorithmic featured newshub section.",
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("contenthub", e),
              checked: t.GetEventModel().BHasTag("contenthub"),
              label: "(VO) Tag as Content Hub",
              description:
                "Add the 'contenthub' tag to this event. Removes certain publishing restrictions for this event.",
            }),
            d.createElement(_.M, {
              onChange: (e) => t.SetTag("vo_prevent_delete", e),
              label: "(VO) Prevent this event from being deleted.",
              checked: t.GetEventModel().BHasTag("vo_prevent_delete"),
              description:
                "Add the 'vo_prevent_delete' tag to this post. To prevent a partner or Valve from deleting this event because something is featuring it or depends on it.",
            })
          );
        });
      let _a = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSending: !1 }),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        TestFireEvent() {
          const { editModel: e } = this.props;
          this.setState({ bSending: !0 }, () => {
            s.c.FireTestEventNotifiation(
              e.GetClanSteamID(),
              e.GetGID(),
              this.m_cancelSignal
            ),
              this.setState({ bSending: !1 });
          });
        }
        render() {
          const { editModel: e } = this.props;
          let t = e.GetEventType(),
            a = Object(V.b)(t);
          const n =
            e.GetEventModel().BIsVisibleEvent() &&
            e.GetEventModel().GetStartTimeAndDateUnixSeconds() <
              Math.floor(Date.now() / 1e3);
          if (!a || n) return null;
          let i = e.GetVisibilityPublishingSetup(),
            l =
              e.GetStartTimeEditChoice() == o.e.k_ENow || i == o.g.event_start;
          return d.createElement(
            "div",
            { className: Object(U.a)(Te.a.EventEditorInputPaneContents) },
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.LeftCol, da.a.ThemedCtn) },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextTitle },
                Object(h.f)("#EventEditor_Reminder_title")
              ),
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    x.a.FlexColumnContainer,
                    x.a.EventDefaultRowContainer
                  ),
                },
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.f)("#EventEditor_Reminder_desc")
                ),
                d.createElement(
                  "div",
                  { className: x.a.EventEditorTextSubTitle },
                  Object(h.m)(
                    "#EventEditor_Reminder_desc2",
                    d.createElement(
                      "a",
                      {
                        href: S.c.STORE_BASE_URL + "mobile?show=steamapp",
                        target: S.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(h.f)("#EventEditor_Reminder_mobileapp")
                    )
                  )
                ),
                this.state.bSending &&
                  d.createElement(E.a, { size: "small", position: "center" }),
                d.createElement(
                  "button",
                  {
                    className: x.a.Button,
                    onClick: this.TestFireEvent,
                    disabled: l,
                  },
                  Object(h.f)("#EventEditor_Reminder_testfire")
                ),
                l &&
                  d.createElement(
                    "span",
                    null,
                    Object(h.f)("#EventEditor_Reminder_disable")
                  )
              )
            )
          );
        }
      };
      Object(n.b)([fe.b], _a.prototype, "TestFireEvent", null),
        (_a = Object(n.b)([c.a], _a));
      const ga = Object(c.a)((e) => {
        const { editModel: t } = e;
        if (!t.BIsEventForOGGWithoutVisibleStorePage()) return null;
        return d.createElement(
          "div",
          { className: Te.a.EventEditorInputPaneContents },
          d.createElement(
            "div",
            { className: x.a.LeftCol },
            d.createElement(
              "div",
              { className: x.a.EventEditorTextTitle },
              Object(h.f)("#EventEditor_Options_VisibilityOptIn_Title"),
              d.createElement(
                "span",
                { className: Te.a.RequiredFieldLabel },
                Object(h.f)("#EventEditor_Required")
              )
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexColumnContainer,
                  x.a.EventDefaultRowContainer
                ),
              },
              d.createElement(
                "div",
                { className: x.a.EventEditorTextSubTitle },
                Object(h.f)(
                  "#EventEditor_Options_VisibilityOptIn_Description",
                  t.GetAppName()
                )
              ),
              d.createElement(_.M, {
                onChange: (e) => t.SetOptedInForOGGWithoutVisibleStorePage(e),
                label: Object(h.f)(
                  "#EventEditor_Options_VisibilityOptIn_Label"
                ),
                checked: t.BOptedInForOGGWithoutVisibleStorePage(),
              })
            )
          )
        );
      });
      function ba(e) {
        const t =
            e.BInRealmChina() &&
            h.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              y.ESteamRealm.k_ESteamRealmChina
            ),
          a =
            e.BInRealmGlobal() &&
            h.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              y.ESteamRealm.k_ESteamRealmGlobal
            );
        t || a || e.SetCurEditLanguage(e.BInRealmChina() ? 29 : 0);
      }
      const Ea = Object(c.a)((e) => {
          const { editModel: t } = e;
          return d.createElement(_.M, {
            onChange: (e) => {
              e
                ? (t.AddTag("enable_steam_china"),
                  t.AddTag("disable_steam_global"))
                : t.ClearTags(["enable_steam_china", "disable_steam_global"]),
                ba(t);
            },
            label: Object(h.f)("#EventEditor_Options_ShowInSteamChina"),
            description: Object(h.f)(
              "#EventEditor_Options_ShowInSteamChina_Desc"
            ),
            checked: t.BInRealmChina(),
          });
        }),
        ha = Object(c.a)((e) => {
          const { editModel: t } = e;
          if (t.BInRealmGlobal() && !t.BInRealmChina()) return null;
          return d.createElement(_.M, {
            onChange: (e) => {
              e
                ? t.AddTag("disable_steam_global")
                : t.ClearTags(["disable_steam_global"]),
                ba(t);
            },
            label: Object(h.f)("#EventEditor_Options_ShowInSteamGlobal"),
            description: Object(h.f)(
              "#EventEditor_Options_ShowInSteamGlobal_Desc"
            ),
            checked: !t.BInRealmGlobal(),
          });
        }),
        va = Object(c.a)((e) => {
          const { editModel: t } = e,
            a = Object(de.I)(t.GetEventModel());
          return d.createElement(
            "div",
            null,
            a && d.createElement(Ea, { editModel: t }),
            d.createElement(ha, { editModel: t })
          );
        }),
        Sa = Object(c.a)((e) => {
          const { editModel: t } = e;
          return ((e) => {
            const [t] = Object(We.b)(e, Lt.a.k_DataRequest_CommonOnly);
            return Boolean(t && t.HasContentDescriptorID(3));
          })(t.GetAppID())
            ? d.createElement(_.M, {
                onChange: (e) => t.SetTag("adult_only_content", e),
                label: Object(h.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content"
                ),
                checked: t.GetEventModel().BHasTag("adult_only_content"),
                description: Object(h.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content_Desc"
                ),
              })
            : null;
        });
      var fa = a("ylkE"),
        Oa = a("VZMZ"),
        Ca = a("qiKp"),
        ya = a("46hJ");
      function Ta(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { bLoading: n } = Object(O.d)(t.GetAccountID(), a);
        return n
          ? m.a.createElement(E.a, { string: Object(h.f)("#Loading") })
          : m.a.createElement(ja, Object.assign({}, e));
      }
      function ja(e) {
        const { clanSteamID: t, gidClanEvent: a, fnOkCallbackList: n } = e,
          {
            bPublishRequiresValveApproval: i,
            fnSetStorePublishingRequiresValveApproval: l,
          } = Object(O.d)(t.GetAccountID(), a),
          [r, o] = Object(d.useState)(i);
        return (
          Object(fe.e)(n, () => l(r)),
          m.a.createElement(_.g, {
            checked: r,
            onChange: (e) => {
              o(e), n || l(e);
            },
            label:
              "Require Approval by Valve Admin in order to publish this sales events",
            tooltip:
              "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
          })
        );
      }
      function Ia(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          {
            bLoading: n,
            bPublishRequiresValveApproval: i,
            nAccountApproved: l,
          } = Object(O.d)(t.GetAccountID(), a);
        if (!n && i && !l) {
          const e = (e) => {
            Object(Y.d)(
              m.a.createElement(Da, { clanSteamID: t, gidClanEvent: a }),
              Object(Ft.o)(e)
            );
          };
          return m.a.createElement(
            "div",
            { className: ya.ApprovalRequiredCtn },
            m.a.createElement(
              "div",
              { className: ya.Left },
              m.a.createElement(
                "div",
                { className: ya.Title },
                Object(h.f)("#EventEditor_SaleValveApproval_Title")
              ),
              m.a.createElement(
                "div",
                null,
                Object(h.f)("#EventEditor_SaleValveApproval_Desc")
              )
            ),
            m.a.createElement(
              "div",
              { className: ya.Right },
              m.a.createElement(
                "a",
                {
                  href: S.c.PARTNER_BASE_URL + "doc/store/promo",
                  className: Object(U.a)(F.EditPreviewButton),
                  target: "_blank",
                },
                Object(h.f)("#ViewDocumentation")
              ),
              m.a.createElement(
                Se.b,
                { clanSteamID: t },
                m.a.createElement(
                  _.f,
                  { onClick: e },
                  "Approve",
                  m.a.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventEditor_SaleValveApproval_Admin_Tooltip"
                      ),
                    },
                    " (?)"
                  )
                )
              )
            )
          );
        }
        return null;
      }
      function Da(e) {
        const { clanSteamID: t, gidClanEvent: a, closeModal: n } = e,
          [i, l] = m.a.useState(!1),
          { fnSetAccountApproved: r } = Object(O.d)(t.GetAccountID(), a),
          [o, s, c] = Object(O.c)(),
          [u, p] = Object(d.useState)(null);
        return m.a.createElement(
          J.e,
          {
            strTitle: "Remove Publishing Block",
            strDescription:
              "Would you like to remove the publishing block? This will take effect immediately. The event can be publish by the partner afterwards",
            onOK: () => {
              l(!0),
                r(S.h.accountid),
                c(a)
                  .then((e) => {
                    l(!1),
                      1 == e
                        ? n()
                        : (s(), p("Failed to update Private Data: " + e));
                  })
                  .catch((e) => {
                    l(!1), s(), p(Object(v.a)(e).strErrorMsg);
                  });
            },
            bDisableBackgroundDismiss: !0,
            closeModal: n,
            onCancel: n,
            bOKDisabled: Boolean(u),
          },
          i && m.a.createElement(E.a, { string: Object(h.f)("#Saving") }),
          u && m.a.createElement("div", null, u)
        );
      }
      var Ga = a("jG1S"),
        wa = a("FAUN"),
        Aa = a.n(wa);
      function Ma(e) {
        const { editModel: t } = e,
          a = Object(re.d)(() => ({
            bHidden: t.BHidden(),
            bPublished: t.BPublished(),
          }));
        return !a.bHidden && a.bPublished
          ? null
          : d.createElement(ka, Object.assign({}, e));
      }
      const ka = Object(c.a)((e) => {
        const { editModel: t, bTakePublishAction: a } = e,
          n = d.useRef(),
          [i, l] = d.useState(!1),
          r = t.GetClanSteamID(),
          s = t.GetGID(),
          {
            bLoading: c,
            bPublishRequiresValveApproval: m,
            nAccountApproved: u,
          } = Object(O.d)(r.GetAccountID(), s);
        d.useEffect(() => {
          a && (null == n ? void 0 : n.current) && n.current.click();
        }, [a, n]);
        if (i) return Object(Be.j)(t.GetEventModel(), Be.a.k_eView);
        const p = t.BHidden(),
          _ = t.BPublished();
        if (!p && _) return null;
        if (c)
          return d.createElement(E.a, {
            string: Object(h.f)("#Loading"),
            size: "small",
          });
        const g = t.BAllowedToPublishStagedEvents(),
          b = m && !u;
        return d.createElement(
          "div",
          { className: x.a.FlexColumnContainer },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            Object(h.f)("#Button_Publish")
          ),
          d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.RightColumnContainer,
                Aa.a.PublishContainer
              ),
            },
            b &&
              d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  null,
                  Object(h.f)("#EventEditor_Publish_PublicBlock_Title")
                ),
                d.createElement(
                  "div",
                  null,
                  Object(h.f)("#EventEditor_Publish_PublicBlock_Desc")
                )
              ),
            Boolean(!_ && !b) &&
              d.createElement(
                "button",
                {
                  onClick: (e) => {
                    Object(Y.d)(
                      d.createElement(Ga.a, {
                        editModel: t,
                        OnPublishSuccess: () => l(!0),
                      }),
                      Object(Ft.o)(e)
                    );
                  },
                  "data-tooltip-text": Object(h.f)("#EventEditor_Publish_ttip"),
                  className: Object(U.a)(
                    x.a.EventPublishButton,
                    "DialogButton Primary"
                  ),
                  ref: n,
                },
                Object(h.f)("#Button_Publish"),
                " (?)"
              ),
            Boolean(_ && p && !b) &&
              d.createElement(
                Z.b,
                {
                  condition: !g,
                  wrap: (e) =>
                    d.createElement(
                      ve.a,
                      {
                        toolTipContent: Object(h.f)(
                          "#EventEditor_Publish_Disable_ttip"
                        ),
                      },
                      e
                    ),
                },
                d.createElement(
                  "button",
                  {
                    onClick: (e) => {
                      t.SetVisibilityPublishingSetup(o.g.immediate),
                        Object(Y.d)(
                          d.createElement(Ga.a, {
                            editModel: t,
                            OnPublishSuccess: () => l(!0),
                            closeModal: () => {
                              t.ResetSetVisibilityStartTime();
                            },
                          }),
                          Object(Ft.o)(e)
                        );
                    },
                    className: Object(U.a)(
                      x.a.EventPublishButton,
                      "DialogButton Primary"
                    ),
                    "data-tooltip-text": Object(h.f)(
                      "#EventEditor_Publish_VisibleNow_ttip"
                    ),
                    ref: n,
                    disabled: !g,
                  },
                  Object(h.f)("#EventEditor_Publish_VisibleNow"),
                  " (?)"
                )
              )
          )
        );
      });
      var Ba = a("OzNB");
      a("3u1e");
      class Na {
        constructor() {
          (this.m_mapVisibilityUpdateRounds = new Map()),
            (this.m_mapVisibilityUpdateLoadPromises = new Map()),
            (this.m_mapVisibilityUpdateChangeCallback = new Map()),
            (this.m_mapVisibilityLaunchRounds = new Map()),
            (this.m_mapVisibilityLaunchLoadPromises = new Map()),
            (this.m_mapVisibilityLaunchChangeCallback = new Map());
        }
        GetVisibilityRounds(e, t) {
          return 0 == e
            ? this.m_mapVisibilityUpdateRounds.get(t)
            : this.m_mapVisibilityLaunchRounds.get(t);
        }
        GetVisibilityRoundsChangeCallback(e, t) {
          const a =
            0 == e
              ? this.m_mapVisibilityUpdateChangeCallback
              : this.m_mapVisibilityLaunchChangeCallback;
          return a.has(t) || a.set(t, new Ca.a()), a.get(t);
        }
        LoadVisibilityRounds(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const a =
              0 == e
                ? this.m_mapVisibilityUpdateLoadPromises
                : this.m_mapVisibilityLaunchLoadPromises;
            return (
              a.has(t) || a.set(t, this.InternalLoadVisibilityRounds(e, t)),
              a.get(t)
            );
          });
        }
        InternalLoadVisibilityRounds(e, t) {
          var a;
          return Object(n.a)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const i = `${S.c.COMMUNITY_BASE_URL}ogg/${t}/ajaxgetappvisibilityrounds`,
                r = { type: e },
                o = yield l.a.get(i, { params: r, withCredentials: !0 });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (a = null == o ? void 0 : o.data) || void 0 === a
                    ? void 0
                    : a.success)
              ) {
                const a = Boolean(0 == e)
                    ? this.m_mapVisibilityUpdateRounds
                    : this.m_mapVisibilityLaunchRounds,
                  n = o.data.data || [];
                return (
                  a.set(t, n),
                  this.GetVisibilityRoundsChangeCallback(e, t).Dispatch(n),
                  n
                );
              }
              n = Object(v.a)(o);
            } catch (e) {
              n = Object(v.a)(e);
            }
            return (
              console.error(
                "CVisibilityRoundsStore.InternalLoadVisibilityRounds failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n
              ),
              null
            );
          });
        }
        static Get() {
          return (
            Na.s_Singleton ||
              ((Na.s_Singleton = new Na()),
              Na.s_Singleton.Init(),
              "dev" == S.c.WEB_UNIVERSE &&
                (window.g_VisibilityRoundsStore = Na.s_Singleton)),
            Na.s_Singleton
          );
        }
        Init() {}
      }
      function La(e) {
        const { editModel: t } = e;
        return d.createElement(
          "div",
          { className: Object(U.a)(Ba.PublishContainer) },
          d.createElement(
            "div",
            { className: Object(U.a)(F.ReachBackground) },
            d.createElement(
              "div",
              { className: ye.EventEditorInputPaneContents },
              d.createElement(Ia, {
                clanSteamID: t.GetClanSteamID(),
                gidClanEvent: t.GetGID(),
              }),
              d.createElement(xa, { editModel: t }),
              d.createElement(Ma, { editModel: t, bTakePublishAction: !1 }),
              d.createElement(Ra, {
                eventType: t.GetEventType(),
                clanSteamID: t.GetClanSteamID(),
              }),
              d.createElement("div", { className: F.ClearThings })
            )
          )
        );
      }
      let Ra = class extends d.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoadingClanInfo: !k.a.BHasClanInfoLoaded(this.props.clanSteamID),
            });
        }
        componentDidMount() {
          return Object(n.a)(this, void 0, void 0, function* () {
            this.state.bLoadingClanInfo &&
              (yield k.a.LoadClanInfoForClanSteamID(this.props.clanSteamID),
              this.setState({ bLoadingClanInfo: !1 }));
          });
        }
        render() {
          if (this.state.bLoadingClanInfo)
            return d.createElement(
              "div",
              { className: "ReachCtn" },
              d.createElement(E.a, null)
            );
          let e = s.c.GetEditModel(),
            t = e.GetCategoryAsType();
          const a = N.a
              .Get()
              .GetPartnerEventPermissions(this.props.clanSteamID),
            n = k.a.GetClanInfoByClanAccountID(
              e.GetClanSteamID().GetAccountID()
            );
          if (!a.can_edit) return d.createElement(d.Fragment, null);
          let i = e.BHasSaleEnabled() || n.is_ogg;
          const l =
            (e.BWillShowOnLibraryOverviewDueToSettings() ||
              e.BWillShowOnLibraryDetailDueToSettings()) &&
            Object(de.e)(e.GetEventModel());
          return d.createElement(
            "div",
            { className: "ReachCtn" },
            d.createElement(
              "div",
              { className: F.EventEditorTextTitle },
              Object(h.f)("#EventReach_Title")
            ),
            d.createElement(
              "div",
              { className: Ba.ReachItems },
              d.createElement(
                "div",
                { className: F.EventEditorTextSubTitle },
                Object(h.f)("#EventReach_SubTitle")
              ),
              d.createElement(
                "div",
                { className: Ba.ReachColumnTitles },
                d.createElement(
                  "div",
                  { className: Ba.ReachColumnName },
                  Object(h.f)("#EventReach_Location")
                )
              ),
              d.createElement(
                "div",
                { className: Ba.ReachItemList },
                e.BWillShowOnStoreDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: Ba.ReachSubject },
                    Object(h.f)("#EventReach_GamePage"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": Object(h.f)(
                          "#EventReach_GamePage_ttip"
                        ),
                      },
                      d.createElement("span", { className: Ba.ReachNumber }),
                      " ",
                      d.createElement("span", { className: F.TTip }, "?")
                    )
                  ),
                d.createElement(
                  "div",
                  { className: Ba.ReachSubject },
                  Object(h.f)("#EventReach_GameNewsPg"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventReach_GameNewsPg_ttip"
                      ),
                    },
                    d.createElement("span", { className: Ba.ReachNumber }),
                    " ",
                    d.createElement("span", { className: F.TTip }, "?")
                  )
                ),
                d.createElement(
                  "div",
                  { className: Object(U.a)(Ba.ReachSubject) },
                  Object(h.f)("#EventReach_PersonalizedCalendar"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventReach_PersonalizedCalendar_ttip"
                      ),
                    },
                    d.createElement("span", { className: Ba.ReachNumber }),
                    " ",
                    d.createElement("span", { className: F.TTip }, "?")
                  )
                ),
                d.createElement(
                  "div",
                  { className: Ba.ReachSubject },
                  Object(h.f)("#EventReach_Community"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventReach_Community_ttip"
                      ),
                    },
                    d.createElement("span", { className: Ba.ReachNumber }),
                    " ",
                    d.createElement("span", { className: F.TTip }, "?")
                  )
                ),
                d.createElement(
                  "div",
                  { className: Ba.ReachSubject },
                  Object(h.f)("#EventReach_FriendActivity"),
                  d.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(h.f)(
                        "#EventReach_FriendActivity_ttip"
                      ),
                    },
                    d.createElement("span", { className: Ba.ReachNumber }),
                    " ",
                    d.createElement("span", { className: F.TTip }, "?")
                  )
                ),
                e.BWillShowOnLibraryOverviewDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: Object(U.a)(Ba.ReachSubject) },
                    Object(h.f)("#EventReach_LibraryHome"),
                    l &&
                      d.createElement(
                        "span",
                        { className: Ba.ReachPendingVisibilityText },
                        "  ",
                        Object(h.f)(
                          "#EventReach_LibraryVisibilityPendingModeration"
                        )
                      ),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": Object(h.f)(
                          "#EventReach_LibraryHome_ttip"
                        ),
                      },
                      d.createElement("span", { className: Ba.ReachNumber }),
                      " ",
                      d.createElement("span", { className: F.TTip }, "?")
                    )
                  ),
                e.BWillShowOnLibraryDetailDueToSettings() &&
                  d.createElement(
                    "div",
                    { className: Object(U.a)(Ba.ReachSubject) },
                    Object(h.f)("#EventReach_LibraryDetail"),
                    l &&
                      d.createElement(
                        "span",
                        { className: Ba.ReachPendingVisibilityText },
                        "  ",
                        Object(h.f)(
                          "#EventReach_LibraryVisibilityPendingModeration"
                        )
                      ),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": Object(h.f)(
                          "#EventReach_LibraryDetail_ttip"
                        ),
                      },
                      d.createElement("span", { className: Ba.ReachNumber }),
                      " ",
                      d.createElement("span", { className: F.TTip }, "?")
                    )
                  ),
                Boolean(
                  e.BIsAllowedInNotifications() && e.BIsVisibleBeforeStart()
                ) &&
                  d.createElement(
                    "div",
                    { className: Object(U.a)(Ba.ReachSubject, Ba.Future) },
                    Object(h.f)("#EventReach_Future"),
                    " ",
                    Object(h.f)("#EventReach_Reminder"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": Object(h.f)(
                          "#EventReach_Reminder_ttip"
                        ),
                      },
                      d.createElement("span", { className: Ba.ReachNumber }),
                      " ",
                      d.createElement("span", { className: F.TTip }, "?")
                    )
                  ),
                Boolean(e.BIsAllowedInNotifications()) &&
                  d.createElement(
                    "div",
                    { className: Object(U.a)(Ba.ReachSubject, Ba.Future) },
                    Object(h.f)("#EventReach_Future"),
                    " ",
                    Object(h.f)("#EventReach_EmailRollUp"),
                    d.createElement(
                      "span",
                      {
                        "data-tooltip-text": Object(h.f)(
                          "#EventReach_EmailRollUp_ttip"
                        ),
                      },
                      d.createElement("span", { className: Ba.ReachNumber }),
                      " ",
                      d.createElement("span", { className: F.TTip }, "?")
                    )
                  )
              ),
              i &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(
                    "div",
                    { className: Ba.ReachColumnTitles },
                    d.createElement(
                      "div",
                      { className: Ba.ReachColumnName },
                      Object(h.f)("#EventReach_OptionalLocation")
                    )
                  ),
                  n.is_ogg &&
                    d.createElement(
                      "div",
                      { className: Ba.ReachItemList },
                      d.createElement(
                        "div",
                        { className: Ba.ReachSubject },
                        d.createElement(
                          "span",
                          { className: Ba.ReachSubjectOptional },
                          d.createElement(Oa.b, {
                            bOn: e.GetEventModel().BHasTag("workshop"),
                          }),
                          d.createElement(
                            "span",
                            { className: Ba.ReactSubjectOptionalText },
                            Object(h.f)("#EventReach_Workshop")
                          )
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(h.f)(
                              "#EventReach_Workshop_ttip"
                            ),
                          },
                          d.createElement("span", {
                            className: Ba.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: F.TTip }, "?")
                        )
                      ),
                      14 == t && d.createElement(Fa, null),
                      d.createElement(
                        "div",
                        { className: Object(U.a)(Ba.ReachSubject) },
                        d.createElement(
                          "span",
                          { className: Ba.ReachSubjectOptional },
                          d.createElement(Oa.b, {
                            bOn: e.GetEventModel().BShowLibrarySpotlight(),
                          }),
                          d.createElement(
                            "span",
                            { className: Ba.ReactSubjectOptionalText },
                            Object(h.f)("#EventReach_LibraySpotLight")
                          )
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(h.f)(
                              "#EventReach_LibraySpotLight_ttip"
                            ),
                          },
                          d.createElement("span", {
                            className: Ba.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: F.TTip }, "?")
                        )
                      )
                    ),
                  e.BHasSaleEnabled() &&
                    d.createElement(
                      "div",
                      { className: Ba.ReachItemList },
                      d.createElement(
                        "div",
                        { className: Ba.ReachSubject },
                        d.createElement(
                          "span",
                          { className: Ba.ReachSubjectOptional },
                          d.createElement(Oa.b, {
                            bOn: e.BHasSaleProductBanners(),
                          }),
                          d.createElement(
                            "span",
                            { className: Ba.ReactSubjectOptionalText },
                            Object(h.f)("#EventReach_SaleBanner")
                          )
                        ),
                        d.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(h.f)(
                              "#EventReach_SaleBanner_ttip"
                            ),
                          },
                          d.createElement("span", {
                            className: Ba.ReachNumber,
                          }),
                          " ",
                          d.createElement("span", { className: F.TTip }, "?")
                        )
                      ),
                      Boolean(
                        e.BHasSaleProductBanners() &&
                          e.GetEventStartTime() &&
                          e.GetEventEndTime()
                      ) &&
                        d.createElement(
                          d.Fragment,
                          null,
                          d.createElement("br", null),
                          d.createElement(
                            "div",
                            null,
                            Object(h.m)(
                              "#EventReact_SaleBannerDuration",
                              d.createElement(b.a, {
                                dateAndTime: e.GetEventStartTime(),
                                bSingleLine: !0,
                              }),
                              d.createElement(b.a, {
                                dateAndTime: Math.min(
                                  e.GetEventEndTime(),
                                  e.GetEventStartTime() + 604800
                                ),
                                bSingleLine: !0,
                              })
                            )
                          )
                        )
                    )
                )
            )
          );
        }
      };
      function Fa(e) {
        const t = s.c.GetEditModel(),
          a = (function (e, t) {
            const [a, n] = Object(d.useState)(
              Na.Get().GetVisibilityRounds(e, t)
            );
            return (
              Object(d.useEffect)(() => {
                (a &&
                  0 != a.length &&
                  a[0].appid == t &&
                  a[0].feature_type == e) ||
                  Na.Get()
                    .LoadVisibilityRounds(e, t)
                    .then((e) => n(e));
              }, [t, a, e]),
              Object(fe.e)(Na.Get().GetVisibilityRoundsChangeCallback(e, t), n),
              a
            );
          })(0, t.GetAppID());
        return d.createElement(
          "div",
          { className: Ba.ReachSubject },
          d.createElement(
            "span",
            { className: Ba.ReachSubjectOptional },
            Boolean(null == a || null == a)
              ? d.createElement(E.a, {
                  size: "small",
                  string: Object(h.f)("#Loading"),
                })
              : d.createElement(Oa.b, {
                  bOn: a.some(
                    (e) => e.announcementid == t.GetAnnouncementGID()
                  ),
                }),
            d.createElement(
              "span",
              { className: Ba.ReactSubjectOptionalText },
              Object(h.f)("#EventReach_RecentlyUpdatedPg")
            )
          ),
          d.createElement(
            "span",
            {
              "data-tooltip-text": Object(h.f)(
                "#EventReach_RecentlyUpdatedPg_ttip"
              ),
            },
            d.createElement("span", { className: Ba.ReachNumber }),
            " ",
            d.createElement("span", { className: F.TTip }, "?")
          )
        );
      }
      function xa(e) {
        const { editModel: t } = e,
          [a, n, i, l, r, s, c, m] = Object(re.d)(() => [
            t.GetEventModel().GID,
            t.GetEventModel().AnnouncementGID,
            t.ComputeEditingModelTimeOverrides(),
            t.BHidden(),
            t.BPublished(),
            t.GetEventVisibilityStartTime(),
            t.GetVisibilitySetting(),
            t.GetEventModel().GetVisibilityStartTimeAndDateUnixSeconds(),
          ]);
        let u;
        if (!r)
          if (t.GetStartTimeEditChoice() == o.e.k_ESpecified)
            switch (c) {
              case o.g.event_start:
                u = d.createElement(
                  "div",
                  { className: Ba.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#EventEditor_Status_WillBeVisible_EventStart")
                  )
                );
                break;
              case o.g.specified_time:
                u = d.createElement(
                  "div",
                  { className: Ba.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    Object(h.m)(
                      "#EventEditor_Status_WillBeVisible_At",
                      d.createElement(b.a, { dateAndTime: m, bSingleLine: !0 })
                    )
                  )
                );
                break;
              case o.g.immediate:
              default:
                u = d.createElement(
                  "div",
                  { className: Ba.VisibilityNote },
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#EventPublishing_Summary_Immediate")
                  ),
                  d.createElement(
                    "p",
                    null,
                    Object(h.f)("#EventPublishing_Summary_ModerationNote")
                  )
                );
            }
          else
            u = d.createElement(
              "div",
              { className: Ba.VisibilityNote },
              d.createElement(
                "p",
                null,
                Object(h.f)("#EventPublishing_Summary_Immediate")
              ),
              d.createElement(
                "p",
                null,
                Object(h.f)("#EventPublishing_Summary_ModerationNote")
              )
            );
        return d.createElement(
          "div",
          { className: Ba.SummaryContainer },
          d.createElement(
            "div",
            { className: F.EventEditorTextTitle },
            Object(h.f)("#EventPublishing_Summary")
          ),
          d.createElement(
            "div",
            { className: Ba.SummaryItems },
            d.createElement(
              "div",
              { className: Ba.StatusRow },
              d.createElement(
                "div",
                { className: Ba.StatusText },
                d.createElement(Re.d, { editModel: t })
              ),
              r &&
                !l &&
                d.createElement(
                  "div",
                  null,
                  d.createElement(
                    Be.c,
                    {
                      className: Object(U.a)(F.Button, F.Primary),
                      eventModel: t.GetEventModel(),
                      route: Be.a.k_eStoreView,
                    },
                    Object(h.f)("#EventEditor_ViewLive")
                  )
                )
            ),
            d.createElement(
              "div",
              { className: F.FlexRowContainer },
              d.createElement(
                "span",
                null,
                d.createElement(
                  "b",
                  null,
                  Object(h.f)("#EventDisplay_TimeUpcoming"),
                  ":"
                ),
                ""
              ),
              d.createElement(b.a, {
                dateAndTime: i.nOverrideStartTime,
                bSingleLine: !0,
              })
            ),
            d.createElement(
              "div",
              { className: F.FlexRowContainer },
              d.createElement(
                "p",
                null,
                d.createElement(
                  "b",
                  null,
                  Object(h.f)("#EventPublishing_Summary_VisibilityStart"),
                  ":"
                ),
                ""
              ),
              Boolean(r && l) &&
                d.createElement(
                  "span",
                  null,
                  Object(h.m)(
                    "#EventEditor_Visibility_AutoVisible",
                    d.createElement(b.a, { dateAndTime: s, bSingleLine: !0 })
                  ),
                  "",
                  Object(h.f)("#EventEditor_Visibility_NoAction")
                ),
              u
            ),
            Boolean(a || n) &&
              d.createElement(
                "div",
                { className: Ba.LinkRow },
                d.createElement(fa.c, {
                  eventModel: t.GetEventModel(),
                  labelOverride: "#EventEditor_Status_FutureURL",
                })
              )
          )
        );
      }
      Ra = Object(n.b)([c.a], Ra);
      var Pa = a("mHFc"),
        Ua = a("YyVH"),
        Va = a("DYbw");
      function Ha(e) {
        const { editModel: t } = e,
          [a, n, i] = Object(re.d)(() => [
            t.GetEventModel().jsondata.sale_header_offset,
            t.GetEventModel().jsondata.sale_background_color,
            t.GetEventModel().jsondata.sale_background_repeat,
          ]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            "div",
            { className: x.a.PixelOffsetCtn },
            d.createElement(
              "div",
              { className: "DialogLabel" },
              Object(h.f)("#Sale_HeaderOffset")
            ),
            d.createElement(
              "div",
              null,
              Object(h.f)("#Sale_HeaderOffset_Desc")
            ),
            d.createElement(
              "div",
              {
                className: Object(U.a)(
                  x.a.FlexRowContainer,
                  x.a.PixelOffsetRow
                ),
              },
              d.createElement(_.A, {
                value: a,
                onChange: (e) => {
                  var a;
                  (t.GetEventModel().jsondata.sale_header_offset =
                    Number(
                      null === (a = null == e ? void 0 : e.target) ||
                        void 0 === a
                        ? void 0
                        : a.value
                    ) || 0),
                    t.SetDirty(o.d.jsondata_sales);
                },
              }),
              d.createElement(
                "div",
                { className: x.a.PixelOffsetNote },
                d.createElement(
                  "div",
                  { className: x.a.PixelOffsetCallout },
                  Object(h.f)("#Sale_HeaderOffset_Max", "386")
                ),
                d.createElement(
                  "div",
                  null,
                  Object(h.f)("#Sale_HeaderOffset_MaxDeck")
                )
              )
            )
          ),
          d.createElement(
            _.f,
            {
              className: x.a.EventEditorTextTitle,
              onClick: (e) => {
                Object(ce.a)(
                  d.createElement(_e.a, {
                    color: n,
                    onChange: (e) => {
                      (t.GetEventModel().jsondata.sale_background_color = e),
                        t.SetDirty(o.d.jsondata_sales);
                    },
                  }),
                  e,
                  { bDisablePopTop: !0 }
                );
              },
              style: { backgroundColor: n },
            },
            Object(h.f)("#Sale_BackgroundColor")
          ),
          d.createElement(Va.a, {
            setting: i,
            fnUpdateSetting: (e) => {
              t.GetEventModel().jsondata.sale_background_repeat != e &&
                ((t.GetEventModel().jsondata.sale_background_repeat = e),
                t.SetDirty(o.d.jsondata_sales));
            },
          }),
          d.createElement(Wa, { editModel: t }),
          d.createElement(za, { editModel: t })
        );
      }
      function za(e) {
        const { editModel: t } = e,
          a = d.createRef(),
          [n, i, l, r] = Object(re.d)(() => [
            Ua.a(t.GetNumberOfDays(), 5, 14),
            t.GetNumSalesBackgroundHeader(),
            t.GetEventStartTime(),
            t.GetNumberOfDays(),
          ]),
          o = d.useCallback(() => {
            const e = [
              { label: Object(h.f)("#Sale_HeaderArtwork_Single"), data: 1 },
            ];
            if (n > 1)
              for (let t = 2; t <= n; t++)
                e.push({
                  label: Object(h.f)("#Sale_HeaderArtwork_Multi_Amount", t),
                  data: t,
                });
            return e;
          }, [n]),
          s = d.useCallback(
            (e) => {
              const n = e.data;
              i !== n &&
                Object(Y.d)(
                  d.createElement(J.e, {
                    strTitle: Object(h.f)("#Button_Confirm"),
                    strDescription: Object(h.f)("#Sale_HeaderArtwork_Warning"),
                    onOK: () => t.SetNumSalesBackgroundHeader(n),
                    onCancel: () => {
                      var e;
                      return null === (e = null == a ? void 0 : a.current) ||
                        void 0 === e
                        ? void 0
                        : e.SetSelectedOption(i);
                    },
                  }),
                  window
                );
            },
            [t, i, a]
          ),
          c = d.useCallback(() => {
            const e = [];
            for (let t = 0; t < i; t++) {
              const a = 86400;
              let n = l + a * t;
              const r = {
                label: Object(h.m)(
                  t + 1 == i
                    ? "#Sale_HeaderArtwork_DayTimeOnward"
                    : "#Sale_HeaderArtwork_DayTime",
                  t + 1,
                  d.createElement(b.a, { dateAndTime: n, bSingleLine: !0 }),
                  d.createElement(b.a, { dateAndTime: n + a, bSingleLine: !0 })
                ),
                data: t,
              };
              e.push(r);
            }
            return e;
          }, [i, l]);
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(_.n, {
            dropDownControlRef: a,
            strDropDownClassName: x.a.DropDownScroll,
            label: Object(h.f)("#Sale_HeaderArtwork_Multi"),
            tooltip: Object(h.f)("#Sale_HeaderArtwork_Multi_hint"),
            rgOptions: o(),
            selectedOption: i,
            onChange: s,
            bDisableMouseOverlay: !0,
            disabled: r <= 1,
            contextMenuPositionOptions: {
              bDisableMouseOverlay: !0,
              bDisablePopTop: !0,
            },
            strClassName: X.a.SaleDaySelection,
          }),
          Boolean(i > 1) &&
            d.createElement(_.n, {
              strDropDownClassName: x.a.DropDownScroll,
              label: Object(h.f)("#Sale_HeaderArtwork_EditDay"),
              tooltip: Object(h.f)("#Sale_HeaderArtwork_EditDay_hint"),
              rgOptions: c(),
              selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
              onChange: (e) => {
                t.GetEventModel().m_overrideCurrentDay = e.data;
              },
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: X.a.SaleDaySelection,
            })
        );
      }
      function Wa(e) {
        const { editModel: t } = e,
          [a, n] = Object(re.d)(() => [
            t.GetEventModel().jsondata.sale_background_video_webm,
            t.GetEventModel().jsondata.sale_background_video_mp4,
          ]);
        return d.createElement(
          Se.b,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: Object(U.a)(
              x.a.ValveOnlyBackground,
              x.a.SaleEditorSpacing
            ),
          },
          d.createElement(
            "div",
            { className: x.a.EventEditorTextTitle },
            Object(h.f)("#Sale_BackgroundVideo_Title")
          ),
          Object(h.f)("#Sale_BackgroundVideo_Instructions"),
          d.createElement(_.A, {
            label: Object(h.f)("#Sale_BackgroundVideo_WebM"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_webm =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(o.d.jsondata_sales);
            },
            value: a,
          }),
          d.createElement(_.A, {
            label: Object(h.f)("#Sale_BackgroundVideo_MP4"),
            onChange: (e) => {
              var a;
              (t.GetEventModel().jsondata.sale_background_video_mp4 =
                (null === (a = null == e ? void 0 : e.target) || void 0 === a
                  ? void 0
                  : a.value) || ""),
                t.SetDirty(o.d.jsondata_sales);
            },
            value: n,
          })
        );
      }
      var qa = a("JiI5"),
        Qa = a("d+Me");
      function Ja(e) {
        const { strToggleName: t, strTitle: a, children: n, strToolTip: i } = e,
          l = Object(re.d)(() => Object(Pa.a)(t));
        return d.createElement(
          "div",
          { id: t, className: qa.SettingCtn },
          d.createElement(
            "div",
            { className: qa.Title, onDoubleClick: () => Object(Pa.d)(t) },
            a,
            i && d.createElement(T.b, { tooltip: i }),
            d.createElement(T.a, {
              bIsMinimized: l,
              fnToggleMinimize: () => Object(Pa.d)(t),
            })
          ),
          !l && n
        );
      }
      class Ya {
        constructor() {
          this.m_mapVisibleSections = new Map();
        }
        WrapWithNavWaypoint(e, t) {
          return d.createElement(
            L.a,
            { key: "eb_sale_sect_" + e },
            d.createElement(
              Qa.a,
              {
                key: "waypoint_sale_sect_" + e,
                onEnter: () => Za.m_mapVisibleSections.set(e, e),
                onLeave: () => Za.m_mapVisibleSections.delete(e),
                topOffset: "100px",
                bottomOffset: "100px",
              },
              d.createElement("div", null, t)
            )
          );
        }
      }
      Object(n.b)([ae.C], Ya.prototype, "m_mapVisibleSections", void 0);
      const Za = new Ya(),
        Ka = Object(c.a)((e) => {
          var t, a, n;
          const { editModel: i } = e,
            l = Boolean(
              i.BHasSomeImage("product_banner") &&
                i.GetEventModel().BHasTag("hide_store")
            ),
            r = Boolean(
              i.BHasSomeImage("product_mobile_banner") &&
                i.GetEventModel().BHasTag("hide_store")
            ),
            s = (e, t = !1) => Object(Pa.a)(e, t),
            c = (e, t = !1) => Object(Pa.d)(e, t),
            m = s("all_artwork_ctn"),
            u =
              (null ===
                (t = i.GetEventModel().jsondata
                  .localized_sale_product_banner) || void 0 === t
                ? void 0
                : t.length) || 0,
            p =
              (null ===
                (a = i.GetEventModel().jsondata
                  .localized_sale_product_mobile_banner) || void 0 === a
                ? void 0
                : a.length) || 0,
            g =
              (null === (n = i.GetEventModel().jsondata.localized_sale_logo) ||
              void 0 === n
                ? void 0
                : n.length) || 0,
            b = ["sale_header", "product_banner", "product_mobile_banner"];
          return (
            Object(Se.a)(i.GetClanSteamID(), !0) && b.push("sale_logo"),
            d.createElement(
              "div",
              { className: qa.SettingCtn },
              Za.WrapWithNavWaypoint(
                "SalePageEdit_AllArtworkCtn",
                d.createElement(
                  "div",
                  {
                    className: Object(U.a)(qa.Title),
                    id: "SalePageEdit_AllArtworkCtn",
                    onDoubleClick: () => c("all_artwork_ctn"),
                  },
                  d.createElement(
                    "span",
                    null,
                    Object(h.f)("#Sale_Artwork_Sections")
                  ),
                  d.createElement(T.a, {
                    bIsMinimized: m,
                    fnToggleMinimize: () => c("all_artwork_ctn"),
                  })
                )
              ),
              !m &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(W.b, {
                    clanSteamID: i.GetClanSteamID(),
                    rgSupportArtwork: b,
                    fnSetImageURL: i.SetImageURL,
                    rgRealmList: i.GetIncludedRealmList(),
                  }),
                  Za.WrapWithNavWaypoint(
                    "SalePageEdit_SaleBgImg",
                    d.createElement(te.b, {
                      id: "SalePageEdit_SaleBgImg",
                      clanSteamID: i.GetClanSteamID(),
                      title: Object(h.f)(
                        "#EventEditor_ArtworkType_sale_header"
                      ),
                      artworkType: "sale_header",
                      elEventArtworkExample: d.createElement(ee, {
                        artworkType: "sale_header",
                      }),
                      bIsMinimized: s("sale_header"),
                      fnToggleMinimize: () => c("sale_header"),
                      elAdditionalControls: d.createElement(Ha, {
                        editModel: i,
                      }),
                    })
                  ),
                  Za.WrapWithNavWaypoint(
                    "SalePageEdit_SaleBanner",
                    d.createElement(te.b, {
                      id: "SalePageEdit_SaleBanner",
                      clanSteamID: i.GetClanSteamID(),
                      title: Object(h.f)(
                        "#EventEditor_ArtworkType_sale_product_banner"
                      ),
                      artworkType: "product_banner",
                      bIsMinimized: s("product_banner"),
                      fnToggleMinimize: () => c("product_banner"),
                      strWarning: l
                        ? Object(h.f)("#Sale_BannerVisibility_Warning")
                        : void 0,
                      elEventArtworkExample: d.createElement(ee, {
                        artworkType: "product_banner",
                      }),
                      fnRemoveAllArtwork:
                        0 == u
                          ? void 0
                          : () => {
                              Object(ae.G)(() => {
                                (i.GetEventModel().jsondata.localized_sale_product_banner = []),
                                  i.SetDirty(o.d.jsondata_sales);
                              });
                            },
                    })
                  ),
                  Za.WrapWithNavWaypoint(
                    "SalePageEdit_SaleMobileBanner",
                    d.createElement(te.b, {
                      id: "SalePageEdit_SaleMobileBanner",
                      clanSteamID: i.GetClanSteamID(),
                      title: Object(h.f)(
                        "#EventEditor_ArtworkType_sale_product_mobile_banner"
                      ),
                      artworkType: "product_mobile_banner",
                      bIsMinimized: s("product_mobile_banner"),
                      fnToggleMinimize: () => c("product_mobile_banner"),
                      strWarning: r
                        ? Object(h.f)("#Sale_BannerVisibility_Warning")
                        : void 0,
                      fnRemoveAllArtwork:
                        0 == p
                          ? void 0
                          : () => {
                              Object(ae.G)(() => {
                                (i.GetEventModel().jsondata.localized_sale_product_mobile_banner = []),
                                  i.SetDirty(o.d.jsondata_sales);
                              });
                            },
                    })
                  ),
                  Za.WrapWithNavWaypoint(
                    "SalePageEdit_SaleLogo",
                    d.createElement(
                      Se.b,
                      {
                        clanSteamID: i.GetClanSteamID(),
                        requireAdmin: !0,
                        className: qa.SalePageLogoCtn,
                      },
                      d.createElement(te.b, {
                        id: "SalePageEdit_SaleLogo",
                        clanSteamID: i.GetClanSteamID(),
                        title: Object(h.f)(
                          "#EventEditor_ArtworkType_sale_logo"
                        ),
                        artworkType: "sale_logo",
                        elEventArtworkExample: d.createElement(ee, {
                          artworkType: "sale_logo",
                        }),
                        bIsMinimized: s("sale_logo"),
                        fnToggleMinimize: () => c("sale_logo"),
                        fnRemoveAllArtwork:
                          0 == g
                            ? void 0
                            : () => {
                                Object(ae.G)(() => {
                                  (i.GetEventModel().jsondata.localized_sale_logo = []),
                                    i.SetDirty(o.d.jsondata_sales);
                                });
                              },
                      }),
                      d.createElement(_.A, {
                        label: Object(h.f)(
                          "#EventEditor_ArtworkType_sale_logo_url"
                        ),
                        value: i.GetEventModel().jsondata.sale_logo_url,
                        tooltip: Object(h.f)(
                          "#EventEditor_ArtworkType_sale_logo_url_tooltip"
                        ),
                        onChange: (e) => {
                          Object(ae.G)(() => {
                            (i.GetEventModel().jsondata.sale_logo_url =
                              e.target.value),
                              i.SetDirty(o.d.jsondata_sales);
                          });
                        },
                      })
                    )
                  )
                )
            )
          );
        });
      var Xa = a("9jt8");
      function $a(e) {
        const t = s.c.GetEditModel(),
          [a, n] = Object(O.a)(t.GetClanAccountID(), t.GetGID());
        if (!Object(re.d)(() => t.BHasSaleEnabled()))
          return d.createElement(d.Fragment, null);
        const i = Object(Se.a)(t.GetClanSteamID(), !0),
          l = Boolean(n);
        return i || l
          ? d.createElement(d.Fragment, null, e.children)
          : a
          ? d.createElement(E.a, null)
          : d.createElement(
              "div",
              { className: Xa.GuidelinesNoticeCtn },
              d.createElement(
                "div",
                { className: Xa.Intro },
                " ",
                Object(h.f)("#EventSaleGuidelines_desc")
              ),
              d.createElement(
                "div",
                { className: Xa.OpenGuidelinesBtnCtn },
                d.createElement(
                  _.f,
                  {
                    onClick: (e) =>
                      Object(Y.d)(
                        d.createElement(ln, { bCheckListReadOnly: !1 }),
                        Object(Ft.o)(e)
                      ),
                  },
                  Object(h.f)("#EventSaleGuidelines_Review")
                )
              )
            );
      }
      function en(e) {
        const t = s.c.GetEditModel(),
          [a, n] = Object(O.a)(t.GetClanAccountID(), t.GetGID());
        if (a) return null;
        if (Object(Se.a)(t.GetClanSteamID(), !0))
          return d.createElement(nn, null);
        return Boolean(n) ? d.createElement(tn, null) : null;
      }
      function tn() {
        const e = s.c.GetEditModel(),
          [t, a, n] = Object(O.a)(e.GetClanAccountID(), e.GetGID());
        return d.createElement(
          "div",
          { className: Xa.GuidelinesDoneCtn },
          d.createElement(
            "div",
            { className: Xa.Text },
            Object(h.m)(
              "#EventSaleGuidelines_AlreadyReviewed",
              d.createElement(b.a, { dateAndTime: n, bSingleLine: !0 })
            )
          ),
          d.createElement(
            _.f,
            {
              onClick: (e) =>
                Object(Y.d)(
                  d.createElement(ln, { bCheckListReadOnly: !0 }),
                  Object(Ft.o)(e)
                ),
            },
            Object(h.f)("#EventSaleGuidelines_Review")
          )
        );
      }
      function an(e) {
        const t = s.c.GetEditModel(),
          { bLoading: a, bPublishRequiresValveApproval: n } = Object(O.d)(
            t.GetClanAccountID(),
            t.GetGID()
          ),
          [i, l] = d.useState(void 0);
        return (
          d.useEffect(() => {
            a ||
              (void 0 === i
                ? l(Boolean(n))
                : i != Boolean(n) && t.SetDirty(o.d.jsondata_sales));
          }, [t, a, i, n]),
          !t.BHidden() || t.BPublished() || i
            ? null
            : d.createElement(Ta, {
                gidClanEvent: t.GetGID(),
                clanSteamID: t.GetClanSteamID(),
              })
        );
      }
      function nn() {
        const e = s.c.GetEditModel(),
          [t, a, n, i, l] = Object(O.a)(e.GetClanAccountID(), e.GetGID());
        return a
          ? d.createElement(
              "div",
              { className: Xa.ValveOnlyGuidelineSummary },
              d.createElement(
                "div",
                { className: Xa.SignedBy },
                "Guidelines were accepted by",
                d.createElement(g.b, {
                  accountID: a,
                  locToken: "#EventModTile_Signer",
                }),
                "on",
                d.createElement(b.a, { dateAndTime: n, bSingleLine: !0 })
              ),
              d.createElement(
                "div",
                null,
                "Primary Contact is '",
                i,
                "' with email ",
                l
              ),
              d.createElement(an, null)
            )
          : d.createElement(
              "div",
              { className: Xa.ValveOnlyGuidelineSummary },
              "The event organizer has not yet accepted the agreements for this sale page. The next time that any non-Valve account attempts to edit this sale, they should be required to accept the agreements.",
              d.createElement(an, null)
            );
      }
      function ln(e) {
        const { bCheckListReadOnly: t, closeModal: a } = e,
          n = s.c.GetEditModel(),
          [i, l, r, o, c, m, u] = Object(O.a)(n.GetClanAccountID(), n.GetGID()),
          [p, g, b] = Object(O.c)(),
          f = Boolean(l),
          [C, y] = d.useState(f),
          [T, j] = d.useState(f),
          [I, D] = d.useState(f),
          [G, w] = d.useState(f),
          [A, M] = d.useState(o || ""),
          [k, B] = d.useState(c || ""),
          [N, L] = d.useState(!1),
          [R, F] = d.useState(null),
          x = C && T && I && G && A.length > 0 && k.length > 0;
        return d.createElement(
          J.e,
          {
            strTitle: Object(h.f)("#EventSaleGuideLines_title"),
            strDescription: Object(h.f)("#EventSaleGuidelines_desc"),
            bOKDisabled: !x || N,
            onOK: () => {
              t || m(S.h.accountid),
                u(A, k),
                !t && n.GetGID()
                  ? (L(!0),
                    b(n.GetGID())
                      .then(a)
                      .catch((e) => {
                        F(Object(v.a)(e).strErrorMsg);
                      }))
                  : a && a();
            },
            onCancel: a,
            closeModal: a,
          },
          Boolean(N || R)
            ? d.createElement(
                d.Fragment,
                null,
                N &&
                  d.createElement(E.a, {
                    string: Object(h.f)("#Saving"),
                    size: "medium",
                    position: "center",
                  }),
                Boolean(R) && d.createElement("div", null, R)
              )
            : d.createElement(
                "div",
                { className: Xa.AgreementsCtn },
                d.createElement(
                  "div",
                  null,
                  d.createElement(_.g, {
                    label: Object(h.f)("#EventSaleGuidelines_rule_1"),
                    checked: C,
                    onChange: y,
                    disabled: t,
                  }),
                  d.createElement(_.g, {
                    label: Object(h.f)("#EventSaleGuidelines_rule_2"),
                    checked: T,
                    onChange: j,
                    disabled: t,
                  }),
                  d.createElement(_.g, {
                    label: Object(h.f)("#EventSaleGuidelines_rule_3"),
                    checked: I,
                    onChange: D,
                    disabled: t,
                  }),
                  d.createElement(_.g, {
                    label: Object(h.f)("#EventSaleGuidelines_rule_4"),
                    checked: G,
                    onChange: w,
                    disabled: t,
                  })
                ),
                d.createElement(
                  "div",
                  null,
                  Object(h.m)(
                    "#EventSaleGuidelines_Link",
                    d.createElement(
                      "a",
                      {
                        href: S.c.PARTNER_BASE_URL + "doc/store/promo",
                        target: "_blank",
                      },
                      Object(h.f)("#EventSaleGuidelines_LinkText")
                    )
                  )
                ),
                d.createElement(
                  "div",
                  { className: Xa.ContactSectionCtn },
                  d.createElement(
                    "div",
                    { className: Xa.SectionTitle },
                    Object(h.f)("#EventSaleGuidelines_PrimaryContact")
                  ),
                  d.createElement(
                    "div",
                    null,
                    Object(h.f)("#EventSaleGuidelines_PrimaryContact_desc")
                  ),
                  d.createElement(_.A, {
                    placeholder: Object(h.f)(
                      "#EventSaleGuidelines_PrimaryContact_name"
                    ),
                    value: A,
                    onChange: (e) => M(e.currentTarget.value),
                  }),
                  d.createElement(_.A, {
                    placeholder: Object(h.f)(
                      "#EventSaleGuidelines_PrimaryContact_email"
                    ),
                    value: k,
                    onChange: (e) => B(e.currentTarget.value),
                  })
                )
              )
        );
      }
      var rn = a("rppr"),
        on = a.n(rn);
      const sn = Object(c.a)((e) => {
        const { editModel: t } = e;
        return Object(Se.a)(t.GetClanSteamID()) && t.BHasSaleEnabled()
          ? d.createElement(
              "div",
              { className: on.a.AssociatedBuildBody },
              d.createElement(
                _.f,
                {
                  onClick: (t) =>
                    Object(Y.d)(
                      d.createElement(cn, { editModel: e.editModel }),
                      Object(Ft.o)(t)
                    ),
                },
                Object(h.f)("#EventEditor_Versions_View")
              )
            )
          : null;
      });
      const cn = (e) => {
          const { editModel: t, closeModal: a } = e,
            n = (function (e, t) {
              const [a, n] = d.useState(null),
                i = e.ConvertTo64BitString();
              return (
                d.useEffect(() => {
                  if ((n(null), !t)) return;
                  const e = l.a.CancelToken.source(),
                    a = { event_gid: t },
                    r = S.c.COMMUNITY_BASE_URL + `gid/${i}/ajaxgeteventhistory`;
                  return (
                    l.a
                      .get(r, {
                        params: a,
                        withCredentials: !0,
                        cancelToken: e.token,
                      })
                      .then((t) => {
                        var a;
                        if (!e.token.reason) {
                          const e =
                            1 ==
                            (null === (a = null == t ? void 0 : t.data) ||
                            void 0 === a
                              ? void 0
                              : a.success);
                          n(e ? t.data.versions : []);
                        }
                      })
                      .catch((t) => {
                        if (!e.token.reason) {
                          const e = Object(v.a)(t);
                          console.error("useEventHistory: " + e.strErrorMsg, e);
                        }
                      }),
                    () => e.cancel("useEventHistory: unmounting")
                  );
                }, [i, t]),
                a
              );
            })(t.GetEventModel().clanSteamID, t.GetEventModel().GID),
            i = (e) => {
              Object(Y.d)(
                d.createElement(J.e, {
                  strTitle: Object(h.f)("#EventEditor_VersionsPrompt_Title"),
                  strDescription: Object(h.f)(
                    "#EventEditor_VersionsPrompt_Body"
                  ),
                  onOK: () =>
                    (function (e, t) {
                      Object(Y.d)(
                        d.createElement(dn, { editModel: e, versionID: t }),
                        window
                      );
                    })(t, e.version_id),
                }),
                window
              );
            },
            r = Boolean(n),
            o =
              null == n
                ? void 0
                : n.map((e) => {
                    const t = new Date(1e3 * e.time_stamp),
                      a = t.toLocaleDateString() + " " + t.toLocaleTimeString();
                    return d.createElement(
                      "div",
                      { className: on.a.VersionCtn, key: e.version_id },
                      d.createElement(
                        "div",
                        { className: on.a.VersionInfoCtn },
                        d.createElement(
                          "div",
                          { className: on.a.VersionAccount },
                          d.createElement(g.b, {
                            locToken: "#EventEditor_VersionsUser",
                            accountID: e.account_id,
                          })
                        ),
                        d.createElement(
                          "div",
                          { className: on.a.VersionDate },
                          a
                        )
                      ),
                      d.createElement(
                        _.f,
                        { className: on.a.RollbackButton, onClick: () => i(e) },
                        Object(h.f)("#EventEditor_RollbackToVersion")
                      )
                    );
                  });
          return d.createElement(
            L.a,
            null,
            d.createElement(
              Y.a,
              { onEscKeypress: a },
              d.createElement(
                _.h,
                null,
                d.createElement(
                  _.z,
                  null,
                  Object(h.f)("#EventEditor_VersionsDialog_Title")
                ),
                d.createElement(
                  _.d,
                  null,
                  d.createElement(
                    _.e,
                    null,
                    Object(h.f)("#EventEditor_VersionsDialog_Body")
                  ),
                  r &&
                    d.createElement(
                      "div",
                      { className: on.a.VersionListCtn },
                      o,
                      0 == o.length &&
                        d.createElement(
                          "div",
                          { className: on.a.VersionListEmpty },
                          Object(h.f)("#EventEditor_Versions_NoVersions")
                        )
                    ),
                  !r && d.createElement(E.a, null)
                ),
                d.createElement(
                  _.r,
                  null,
                  d.createElement(
                    _.G,
                    { onClick: a },
                    Object(h.f)("#Button_Close")
                  )
                )
              )
            )
          );
        },
        dn = (e) => {
          const { editModel: t, versionID: a, closeModal: n } = e,
            [i, r] = d.useState("rollback");
          d.useEffect(() => {
            const e = new URLSearchParams();
            e.append("version_id", a), e.append("event_gid", t.GetGID());
            const n =
              S.c.COMMUNITY_BASE_URL +
              `gid/${t
                .GetClanSteamID()
                .ConvertTo64BitString()}/ajaxrollbackevent`;
            l.a
              .post(n, e, { withCredentials: !0 })
              .then((e) => {
                var t;
                1 ==
                (null === (t = null == e ? void 0 : e.data) || void 0 === t
                  ? void 0
                  : t.success)
                  ? window.location.reload()
                  : r("error");
              })
              .catch((e) => {
                r("error");
              });
          }, [t, a]);
          let o = null;
          return (
            (o =
              "rollback" === i
                ? d.createElement(
                    _.h,
                    null,
                    d.createElement(
                      _.z,
                      null,
                      Object(h.f)("#EventEditor_VersionsDialog_RollingBack")
                    ),
                    d.createElement(_.d, null, d.createElement(E.a, null))
                  )
                : d.createElement(
                    _.h,
                    null,
                    d.createElement(
                      _.z,
                      null,
                      Object(h.f)(
                        "#EventEditor_VersionsDialog_RollingBackFailed"
                      )
                    ),
                    d.createElement(
                      _.r,
                      null,
                      d.createElement(
                        _.G,
                        { onClick: n },
                        Object(h.f)("#Button_Close")
                      )
                    )
                  )),
            d.createElement(L.a, null, d.createElement(Y.a, null, o))
          );
        };
      function mn(e) {
        const t = s.c.GetEditModel(),
          [a, n] = Object(re.d)(() => [
            t.GetEventModel().jsondata.sale_opt_in_page_name,
            t.GetEventModel().jsondata.sale_show_creator,
          ]);
        return d.createElement(
          Ja,
          {
            strToggleName: e.strToggleID,
            strTitle: Object(h.f)("#Sale_PageConfigOptions"),
          },
          d.createElement(
            "div",
            { className: qa.Columns },
            d.createElement(
              "div",
              { className: qa.LeftCol },
              d.createElement(gn, null),
              d.createElement(_n, null)
            ),
            d.createElement(
              "div",
              { className: qa.RightCol },
              d.createElement(bn, null),
              d.createElement(pn, null),
              d.createElement(
                Se.b,
                {
                  clanSteamID: t.GetClanSteamID(),
                  className: F.EditPreviewButton,
                },
                d.createElement(_.A, {
                  type: "text",
                  label: Object(h.f)("#Sale_OptInPageName"),
                  tooltip: Object(h.f)("#Sale_OptInPageName_ttip"),
                  value: a,
                  onChange: (e) => {
                    Object(ae.G)(() => {
                      (t.GetEventModel().jsondata.sale_opt_in_page_name =
                        e.target.value),
                        t.SetDirty(o.d.jsondata_sales);
                    });
                  },
                })
              ),
              d.createElement(
                ve.a,
                {
                  toolTipContent: "#Sale_ShowCreatorHome_ttip",
                  direction: "top",
                },
                d.createElement(
                  "div",
                  { className: F.InputBorder },
                  d.createElement(_.M, {
                    onChange: (e) => {
                      Object(ae.G)(() => {
                        (t.GetEventModel().jsondata.sale_show_creator = e),
                          t.SetDirty(o.d.jsondata_sales);
                      });
                    },
                    label: Object(h.f)("#Sale_ShowCreatorHome"),
                    checked: n,
                  })
                )
              ),
              d.createElement(
                Se.b,
                { clanSteamID: t.GetClanSteamID() },
                d.createElement(un, null),
                d.createElement(sn, { editModel: t })
              )
            )
          )
        );
      }
      function un(e) {
        var t, a;
        const n = s.c.GetEditModel(),
          [i, l, r, c] = Object(re.d)(() => {
            var e, t, a;
            return [
              null ===
                (e = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === e
                ? void 0
                : e.bLockedToAppOwners,
              null ===
                (t = n.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === t
                ? void 0
                : t.strRedirectURL,
              n.GetEventModel().jsondata.sale_use_subscription_layout,
              null ===
                (a = n.GetEventModel().jsondata.app_right_requirement_info) ||
              void 0 === a
                ? void 0
                : a.bLockedToPartnerAppRights,
            ];
          }),
          [m, u] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (t = n.GetEventModel().GetRequiredAppIDs()) ||
                void 0 === t
                ? void 0
                : t.join(",")
              : ""
          ),
          [p, g] = d.useState(
            n.GetEventModel().BIsLockedToGameOwners()
              ? null === (a = n.GetEventModel().GetRequiredPackageIDs()) ||
                void 0 === a
                ? void 0
                : a.join(",")
              : ""
          );
        return d.createElement(
          d.Fragment,
          null,
          d.createElement(
            ve.a,
            {
              toolTipContent: "#Sale_OwnershipRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: F.InputBorder },
              d.createElement(_.M, {
                onChange: (e) => {
                  Object(ae.G)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.ownership_requirement_info
                      ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                      : (t.ownership_requirement_info = {
                          bLockedToAppOwners: e,
                          rgRequiredAppIDs: [],
                          rgRequiredPackageIDs: [],
                          strRedirectURL: "",
                        }),
                      n.SetDirty(o.d.jsondata_sales);
                  });
                },
                label: Object(h.f)("#Sale_OwnershipRestrictions"),
                checked: i,
              })
            )
          ),
          i &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(_.A, {
                type: "text",
                label: Object(h.f)("#Sale_RequiredApps"),
                tooltip: Object(h.f)("#Sale_RequiredApps_ttip"),
                onChange: (e) => {
                  m != e.target.value &&
                    (u(e.target.value),
                    Object(ae.G)(() => {
                      const t = n.GetEventModel().GetRequiredAppIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(o.d.jsondata_sales);
                    }));
                },
                value: m,
              }),
              d.createElement(_.A, {
                type: "text",
                label: Object(h.f)("#Sale_RequiredPackages"),
                tooltip: Object(h.f)("#Sale_RequiredPackages_ttip"),
                onChange: (e) => {
                  p != e.target.value &&
                    (g(e.target.value),
                    Object(ae.G)(() => {
                      const t = n.GetEventModel().GetRequiredPackageIDs(),
                        a = e.target.value
                          .split(",")
                          .map(Number)
                          .filter((e) => e > 0);
                      t.splice(0, t.length, ...a),
                        n.SetDirty(o.d.jsondata_sales);
                    }));
                },
                value: p,
              }),
              d.createElement(_.A, {
                type: "text",
                label: Object(h.f)("#Sale_OwnershipLockRedirect"),
                tooltip: Object(h.f)("#Sale_OwnershipLockRedirect_ttip"),
                onChange: (e) => {
                  l != e.target.value &&
                    Object(ae.G)(() => {
                      (n.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                        e.target.value),
                        n.SetDirty(o.d.jsondata_sales);
                    });
                },
                value: l,
              }),
              d.createElement(
                Se.b,
                { clanSteamID: n.GetClanSteamID() },
                d.createElement(_.g, {
                  onChange: (e) => {
                    Object(ae.G)(() => {
                      (n.GetEventModel().jsondata.sale_use_subscription_layout = e),
                        n.SetDirty(o.d.jsondata_sales);
                    });
                  },
                  label: "(VO) " + Object(h.f)("#Sale_UseSubscriptionLayout"),
                  tooltip: Object(h.f)("#Sale_UseSubscriptionLayout_ttip"),
                  checked: !!r,
                })
              )
            ),
          d.createElement(
            ve.a,
            {
              toolTipContent: "#Sale_PartnerAppEditRestrictions_ttip",
              direction: "top",
            },
            d.createElement(
              "div",
              { className: F.InputBorder },
              d.createElement(_.M, {
                onChange: (e) => {
                  Object(ae.G)(() => {
                    const t = n.GetEventModel().jsondata;
                    t.app_right_requirement_info
                      ? (t.app_right_requirement_info.bLockedToPartnerAppRights = e)
                      : (t.app_right_requirement_info = {
                          bLockedToPartnerAppRights: e,
                          nAppRightFlag: St.GetAppRightFlags([ot.EditInfo]),
                        }),
                      n.SetDirty(o.d.jsondata_sales);
                  });
                },
                label: Object(h.f)("#Sale_PartnerAppEditRestrictions"),
                checked: !!c,
              })
            )
          )
        );
      }
      function pn(e) {
        const t = s.c.GetEditModel();
        return d.createElement(
          Se.b,
          {
            requireAdmin: !0,
            clanSteamID: t.GetClanSteamID(),
            className: F.EditPreviewButton,
          },
          d.createElement(
            "div",
            { className: F.EventEditorTextTitle },
            Object(h.f)("#Sale_CreateUpdateDiscountEventTitle"),
            d.createElement(T.b, {
              tooltip: Object(h.f)("#Sale_CreateUpdateDiscountEventTitle_ttip"),
            })
          ),
          d.createElement(
            _.G,
            {
              onClick: () =>
                Object(n.a)(this, void 0, void 0, function* () {
                  const e = new Set(),
                    a = new Array();
                  t.GetEventModel().jsondata.sale_sections.forEach((e) => {
                    e.capsules.forEach((e) =>
                      Object(n.a)(this, void 0, void 0, function* () {
                        "bundle" === e.type
                          ? a.push(
                              Lt.a.Get().QueueBundleRequest(Number(e.id), {})
                            )
                          : "sub" === e.type &&
                            a.push(
                              Lt.a.Get().QueuePackageRequest(Number(e.id), {})
                            );
                      })
                    );
                  }),
                    yield Promise.all(a),
                    t.GetEventModel().jsondata.sale_sections.forEach((t) => {
                      t.capsules.forEach((t) =>
                        Object(n.a)(this, void 0, void 0, function* () {
                          if ("bundle" === t.type || "sub" === t.type) {
                            const a =
                              "bundle" === t.type
                                ? Lt.a.Get().GetBundle(Number(t.id))
                                : Lt.a.Get().GetPackage(Number(t.id));
                            a && a.GetIncludedAppIDs().forEach((t) => e.add(t));
                          } else e.add(Number(t.id));
                        })
                      );
                    });
                  let i = Array.from(e);
                  i.sort();
                  const r = new FormData();
                  r.append("sessionid", S.c.SESSIONID),
                    r.append("name", "[AUTO] " + t.GetName()),
                    r.append("event", "1"),
                    r.append("type", "discount"),
                    r.append("header", t.GetName()),
                    r.append("appids", i.join(",")),
                    r.append("start_date", t.GetEventStartTime().toString()),
                    r.append("end_date", t.GetEventEndTime().toString()),
                    r.append("description", "#discount_desc_preset_special"),
                    t.GetEventModel().jsondata.sale_discount_event_id &&
                      r.append(
                        "discount_id",
                        t
                          .GetEventModel()
                          .jsondata.sale_discount_event_id.toString()
                      );
                  const o =
                    (yield l.a.post(
                      S.c.COMMUNITY_BASE_URL +
                        "actions/ajaxcreateupdatediscountevent",
                      r,
                      { withCredentials: !0 }
                    )).data.discountid ||
                    t.GetEventModel().jsondata.sale_discount_event_id;
                  t.GetEventModel().jsondata.sale_discount_event_id ||
                    (t.GetEventModel().jsondata.sale_discount_event_id = o),
                    Object(Y.d)(
                      d.createElement(Ga.b, {
                        editModel: t,
                        bSkipChecks: !0,
                        OnSuccess: () => {
                          window.open(
                            S.c.PARTNER_BASE_URL +
                              "admin/editdiscountevent/" +
                              o
                          );
                        },
                      }),
                      window
                    );
                }),
            },
            t.GetEventModel().jsondata.sale_discount_event_id
              ? Object(h.f)(
                  "#Sale_UpdateDiscountEvent",
                  t.GetEventModel().jsondata.sale_discount_event_id
                )
              : Object(h.f)("#Sale_CreateDiscountEvent")
          )
        );
      }
      function _n(e) {
        const t = s.c.GetEditModel(),
          [a, n, i, l] = Object(re.d)(() => {
            const e = t.GetEventModel().jsondata;
            return [
              e.sale_section_disable_capitalize,
              e.sale_section_font_size,
              e.sale_font,
              e.sale_font_weight,
            ];
          }),
          r = [
            { label: "Default", data: { fontFamily: "" } },
            {
              label: "Default, Bold",
              data: {
                fontFamily: "'Motiva Sans', 'Play', sans-serif",
                fontWeight: "bold",
              },
            },
            {
              label: "Jolly Lodger (Halloween)",
              data: {
                fontFamily:
                  "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
              },
            },
            {
              label: "Sigmar One",
              data: { fontFamily: "'Sigmar One', sans-serif" },
            },
          ].map((e) =>
            Object.assign(Object.assign({}, e), {
              label: d.createElement(
                "div",
                { style: Object.assign({}, e.data) },
                e.label
              ),
            })
          ),
          c = r.find((e) => e.data.fontFamily == i && e.data.fontWeight == l),
          m = c && c.data;
        return d.createElement(
          Se.b,
          { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
          d.createElement(_.n, {
            label: Object(h.f)("#Sale_SaleFont"),
            tooltip: Object(h.f)("#Sale_SaleFont_ttip"),
            strDropDownClassName: F.DropDownScroll,
            rgOptions: r,
            selectedOption: m,
            onChange: (e) => {
              Object(ae.G)(() => {
                (t.GetEventModel().jsondata.sale_font = e.data.fontFamily),
                  (t.GetEventModel().jsondata.sale_font_weight =
                    e.data.fontWeight),
                  t.SetDirty(o.d.jsondata_sales);
              });
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
          d.createElement(_.A, {
            type: "text",
            label: Object(h.f)("#Sale_SectionTitleFontSize"),
            tooltip: Object(h.f)("#Sale_SectionTitleFontSize_ttip"),
            onChange: (e) => {
              Object(ae.G)(() => {
                (t.GetEventModel().jsondata.sale_section_font_size = Number(
                  e.target.value
                )),
                  t.SetDirty(o.d.jsondata_sales);
              });
            },
            value: n,
          }),
          d.createElement(_.g, {
            label: Object(h.f)("#Sale_DontCapitalizeSectionTitles"),
            tooltip: Object(h.f)("#Sale_DontCapitalizeSectionTitles_ttip"),
            onChange: (e) => {
              Object(ae.G)(() => {
                (t.GetEventModel().jsondata.sale_section_disable_capitalize = e),
                  t.SetDirty(o.d.jsondata_sales);
              });
            },
            checked: a,
          })
        );
      }
      function gn(e) {
        const t = s.c.GetEditModel(),
          [a, n] = Object(re.d)(() => [
            t.GetEventModel().jsondata.sale_vanity_id,
            t.GetEventModel().jsondata
              .sale_vanity_id_valve_approved_for_sale_subpath,
          ]),
          i = Object(B.b)(t.GetClanAccountID());
        let l = null;
        return (
          a && !n
            ? (l = i
                ? i.GetCreatorHomeURL("publisher") + "sale/" + a
                : `${
                    S.c.STORE_BASE_URL
                  }curator/${t.GetClanAccountID()}/sale/${a}`)
            : a && n && (l = S.c.STORE_BASE_URL + "sale/" + a),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(_.A, {
              type: "text",
              label: Object(h.f)("#Sale_VanityID"),
              tooltip: Object(h.f)("#Sale_VanityID_ttip"),
              onChange: (e) => t.SetSaleVanityID(e.target.value),
              value: a,
            }),
            Boolean(l)
              ? d.createElement(
                  "div",
                  null,
                  d.createElement(
                    "span",
                    { className: "DialogLabel" },
                    Object(h.f)("#Sale_VanityID_Link")
                  ),
                  d.createElement("br", null),
                  d.createElement(
                    "a",
                    {
                      href: l,
                      className: "LongURL",
                      target: S.c.IN_CLIENT ? "" : "_blank",
                    },
                    l
                  )
                )
              : d.createElement(
                  "div",
                  { className: wt.ErrorStylesWithIcon },
                  Object(h.f)("#EventEditor_SaleNotReady_ttip")
                ),
            d.createElement(
              Se.b,
              { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
              d.createElement(_.g, {
                label: Object(h.f)("#Sale_ValveTopSalePath"),
                tooltip: Object(h.f)("#Sale_ValveTopSalePath_ttip"),
                onChange: (e) => {
                  Object(ae.G)(() => {
                    (t.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath = e),
                      t.SetDirty(o.d.jsondata_sales);
                  });
                },
                checked: n,
              })
            )
          )
        );
      }
      function bn(e) {
        const t = s.c.GetEditModel(),
          [a, i] = d.useState("");
        return d.createElement(
          Se.b,
          { clanSteamID: t.GetClanSteamID(), className: F.EditPreviewButton },
          d.createElement(_.A, {
            type: "text",
            label: Object(h.f)("#Sale_ImportSale"),
            tooltip: Object(h.f)("#Sale_ImportSale_ttip"),
            value: a,
            onChange: (e) => i(e.target.value),
          }),
          d.createElement(
            _.G,
            {
              onClick: () =>
                Object(n.a)(this, void 0, void 0, function* () {
                  if (a) {
                    const e = (yield l.a.get(a + "?json=1")).data;
                    t.GetEventModel().jsondata.sale_sections = [];
                    for (let a in e.sections)
                      if ("0" !== a && Number(a)) {
                        const n = e.sections[a],
                          i = Object.assign({}, de.h);
                        "string" == typeof n.label &&
                          (i.localized_label = Object(ie.e)(
                            [n.label],
                            30,
                            null
                          )),
                          (i.background_color = n.section_bg_color),
                          (i.background_gradient_top = n.section_bg_color),
                          (i.background_gradient_bottom = n.section_bg_color),
                          (i.label_color = n.label_color),
                          (i.capsules_per_row = n.capsules),
                          (i.use_random_order = n.random_order);
                        const l = e.capsules["n_section_" + a];
                        l &&
                          (i.capsules = l.capsules.map((e) => {
                            let t = "game";
                            e.packageid
                              ? (t = "sub")
                              : e.bundleid && (t = "bundle");
                            const a = {
                              type: t,
                              id: Number(e.bundleid || e.packageid || e.appid),
                            };
                            return (
                              "bundle" === a.type
                                ? Lt.a
                                    .Get()
                                    .QueueBundleRequest(Number(a.id), {})
                                : "sub" === a.type
                                ? Lt.a
                                    .Get()
                                    .QueuePackageRequest(Number(a.id), {})
                                : Lt.a.Get().QueueAppRequest(Number(a.id), {}),
                              a
                            );
                          })),
                          t.GetEventModel().jsondata.sale_sections.push(i);
                      }
                    t.SetDirty(o.d.jsondata_sales);
                  }
                  i("");
                }),
            },
            Object(h.f)("#Sale_ImportButton")
          )
        );
      }
      const En = Object(c.a)((e) => {
        var t, a;
        const { editModel: n, fnOnOKCallback: i } = e,
          l = n.GetEventModel(),
          [r, s] = d.useState(
            null !== (t = l.jsondata.sale_vanity_id) && void 0 !== t ? t : ""
          ),
          [c] = d.useState(new Ca.a()),
          m = Math.floor(Date.now() / 1e3),
          u = new Date();
        u.setHours(10), u.setMinutes(0), u.setSeconds(0);
        const p = new Date();
        p.setDate(u.getDate() + 1),
          p.setHours(10),
          p.setMinutes(0),
          p.setSeconds(0);
        const [g, b] = d.useState(
            l.startTime > m ? l.startTime : Math.floor(p.getTime() / 1e3)
          ),
          E = new Date();
        E.setDate(p.getDate() + 1),
          E.setHours(10),
          E.setMinutes(0),
          E.setSeconds(0);
        const [v, S] = d.useState(
            null !== (a = l.endTime) && void 0 !== a
              ? a
              : Math.floor(E.getTime() / 1e3)
          ),
          f = () => {
            Object(ae.G)(() => {
              (n.GetEventModel().jsondata.bSaleEnabled = !1),
                n.SetDirty(o.d.jsondata_sales);
            }),
              e.closeModal && e.closeModal();
          },
          O = r.replace(/[^\w-]/g, "").length > 0 && g && v;
        return d.createElement(
          L.a,
          null,
          d.createElement(
            J.i,
            { onEscKeypress: f },
            d.createElement(
              _.h,
              null,
              d.createElement(_.z, null, Object(h.f)("#Sale_EnableTitle")),
              d.createElement(
                _.d,
                null,
                d.createElement(
                  _.e,
                  null,
                  d.createElement(
                    "div",
                    { className: qa.SetupCtn },
                    d.createElement(
                      "span",
                      null,
                      Object(h.f)("#Sale_EanbleDesc")
                    ),
                    d.createElement(
                      "ol",
                      null,
                      d.createElement(
                        "li",
                        null,
                        Object(h.f)("#Sale_EnableDesc_1")
                      ),
                      d.createElement(
                        "li",
                        null,
                        Object(h.f)("#Sale_EnableDesc_2")
                      )
                    ),
                    d.createElement("br", null),
                    d.createElement(_.A, {
                      type: "text",
                      label: Object(h.f)("#Sale_VanityID"),
                      tooltip: Object(h.f)("#Sale_VanityID_ttip"),
                      onChange: (e) => s(e.target.value),
                      value: r,
                    }),
                    d.createElement($t.a, {
                      strDescription: Object(h.f)("#Sale_New_Start"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => g,
                      fnSetTimeToUpdate: b,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                    d.createElement($t.a, {
                      strDescription: Object(h.f)("#Sale_New_End"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => v,
                      fnSetTimeToUpdate: S,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                    d.createElement(
                      Se.b,
                      { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
                      d.createElement(Ta, {
                        clanSteamID: n.GetClanSteamID(),
                        gidClanEvent: n.GetGID(),
                        fnOkCallbackList: c,
                      })
                    )
                  )
                )
              ),
              d.createElement(
                _.r,
                null,
                d.createElement(_.E, {
                  onCancel: f,
                  bOKDisabled: !O,
                  onOK: () => {
                    Object(ae.G)(() => {
                      n.SetSaleVanityID(r),
                        n.SetEventStartTime(g),
                        n.SetEventEndTime(v),
                        c.Dispatch(),
                        i();
                    }),
                      e.closeModal && e.closeModal();
                  },
                })
              )
            )
          )
        );
      });
      function hn(e) {
        const t = s.c.GetEditModel(),
          [a, n] = d.useState(t.BHasSaleEnabled()),
          i = d.useRef(),
          l = (e) => {
            var a;
            n(e),
              null === (a = null == i ? void 0 : i.current) ||
                void 0 === a ||
                a.setState({ checked: e }),
              Object(ae.G)(() => {
                (t.GetEventModel().jsondata.bSaleEnabled = e),
                  t.SetDirty(o.d.jsondata_sales);
              });
          },
          r = Object(Se.a)(t.GetClanSteamID(), !0);
        return d.createElement(
          "div",
          { className: F.InputBorder },
          d.createElement(_.M, {
            ref: i,
            onChange: (e) => {
              var a;
              e
                ? (null === (a = null == i ? void 0 : i.current) ||
                    void 0 === a ||
                    a.setState({ checked: !1 }),
                  n(!1),
                  Object(Y.d)(
                    d.createElement(En, {
                      editModel: t,
                      fnOnOKCallback: () => l(!0),
                    }),
                    window
                  ))
                : l(e);
            },
            label: Object(h.f)("#Sale_option"),
            checked: a,
          }),
          Boolean(!t.BIsSourceEventSaleEnabled() && !r) &&
            d.createElement(
              "div",
              { className: wt.WarningStyles },
              Object(h.f)("#Sale_Enable_Warning")
            )
        );
      }
      var vn = a("+w6J"),
        Sn = a("6AJf"),
        fn = a("tzvv");
      const On = Object(c.a)((e) => {
          var t, a;
          const { editModel: n } = e;
          if (
            !(
              Object(Se.a)(n.GetClanSteamID(), !1) ||
              (null === (t = n.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === t
                ? void 0
                : t.length) > 0
            )
          )
            return null;
          const i =
              (null === (a = n.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0,
            l = (e, t = !1) => Object(Pa.d)(e, t),
            r = Object(Pa.a)("SalePageEdit_SortingTiers", !0);
          return d.createElement(
            "div",
            {
              id: "SalePageEdit_SortingTiers",
              className: Object(U.a)({
                [x.a.ValveOnlyBackground]: !0,
                [qa.SettingCtn]: !0,
              }),
            },
            d.createElement(
              "div",
              {
                className: qa.Title,
                onDoubleClick: () => l("SalePageEdit_SortingTiers", !0),
              },
              Object(h.f)("#Sale_SortingTiersSection", i),
              d.createElement(T.b, {
                tooltip: Object(h.f)("#Sale_SortingTiers_SectionTooltip"),
              }),
              d.createElement(T.a, {
                bIsMinimized: r,
                fnToggleMinimize: () => l("SalePageEdit_SortingTiers", !0),
              })
            ),
            !r && d.createElement(yn, { editModel: n })
          );
        }),
        Cn = (e) =>
          d.createElement(
            "div",
            { className: fn.SortTierControls },
            d.createElement(vn.a, {
              capsuleContainer: e.sortTier,
              editModel: e.editModel,
              uniqueKey: "sort_tier_" + e.tierIndex,
              disableDaySelection: !0,
            })
          ),
        yn = Object(c.a)((e) => {
          var t;
          const { editModel: a } = e,
            [n, i] = d.useState(!1),
            l =
              null !== (t = a.GetEventModel().jsondata.sorting_tiers) &&
              void 0 !== t
                ? t
                : [],
            r = a.GetEventModel().GetTaggedItems();
          return n || l.length
            ? d.createElement(
                "div",
                null,
                d.createElement(
                  "div",
                  { className: fn.SortTierExplanation },
                  Object(h.f)("#Sale_SortTier_Description")
                ),
                (a.GetSaleSections() || []).map((e) =>
                  "items" == e.section_type && e.use_random_order
                    ? d.createElement(Sn.i, {
                        key: "sorttier_" + e.unique_id,
                        section: e,
                        language: a.GetCurEditLanguage(),
                        event: a.GetEventModel(),
                      })
                    : null
                ),
                0 == l.length &&
                  d.createElement(
                    ve.a,
                    {
                      toolTipContent:
                        0 == r.length
                          ? "#Sale_SortTier_PopulateButton_disabled_ttip"
                          : "#Sale_SortTier_PopulateButton_ttip",
                    },
                    d.createElement(
                      _.f,
                      {
                        disabled: 0 == r.length,
                        onClick: () => {
                          a.GetEventModel().jsondata.sorting_tiers = [];
                          const e = r.map((e) => e.capsule);
                          if (e.length < 4)
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e },
                            ];
                          else {
                            const t = Math.floor(e.length / 4),
                              n = Math.floor((2 * e.length) / 4),
                              i = Math.floor((3 * e.length) / 4);
                            a.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e.slice(0, t) },
                              { capsules: e.slice(t, n) },
                              { capsules: e.slice(n, i) },
                              { capsules: e.slice(i) },
                            ];
                          }
                          a.SetDirty(o.d.jsondata_sales);
                        },
                        className: fn.AutoTierButton,
                      },
                      Object(h.f)("#Sale_SortTier_PopulateButton")
                    )
                  ),
                d.createElement(Qe.a, {
                  items: l,
                  onDelete: (e) => {
                    a.GetEventModel().jsondata.sorting_tiers.splice(e, 1),
                      a.SetDirty(o.d.jsondata_sales);
                  },
                  onReorder: () => a.SetDirty(o.d.jsondata_sales),
                  render: (e) =>
                    d.createElement(Cn, {
                      editModel: a,
                      tierIndex: l.findIndex((t) => t === e),
                      sortTier: e,
                    }),
                }),
                d.createElement(
                  _.f,
                  {
                    onClick: () => {
                      a.GetEventModel().jsondata.sorting_tiers ||
                        (a.GetEventModel().jsondata.sorting_tiers = []),
                        a
                          .GetEventModel()
                          .jsondata.sorting_tiers.push({ capsules: [] }),
                        a.SetDirty(o.d.jsondata_sales);
                    },
                  },
                  Object(h.f)("#Sale_SortTier_Add")
                )
              )
            : d.createElement(
                "div",
                null,
                Object(h.f)("#Sale_SortTier_EnableInfo"),
                d.createElement(
                  _.f,
                  { onClick: () => i(!0) },
                  Object(h.f)("#Sale_SortTier_Enable")
                )
              );
        });
      var Tn = a("oqmg"),
        jn = a("wLVu");
      const In = (e) => {
        const t = new Array();
        return (
          e.rows.forEach((a) => {
            t.push(
              d.createElement(
                "div",
                {
                  key: "tc_" + a.strSectionId,
                  id: "tc_" + a.strSectionId,
                  className: Object(U.a)(
                    jn.TOCEntry,
                    a.bSectionIsVisible && jn.SectionOnScreen,
                    a.strClassName,
                    a.bIndent && jn.TOCIndent
                  ),
                  onClick: () => {
                    e.onSelected && e.onSelected(a);
                    let t = document.getElementById(a.strSectionId);
                    t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                  },
                },
                d.createElement(
                  "div",
                  { style: a.style || null, className: jn.TOCEntryText },
                  a.strLabel
                )
              )
            );
          }),
          d.createElement(
            "div",
            { className: jn.TableOfContentsContainer },
            d.createElement(
              "div",
              { className: jn.ManageLocCtn },
              d.createElement(
                "div",
                { className: jn.Header },
                Object(h.f)("#EventEditor_Loc_Title")
              ),
              d.createElement(
                "div",
                { className: jn.ManageLocContents },
                Object(h.f)("#EventEditor_Loc_Overview"),
                d.createElement(
                  "div",
                  { className: jn.LocButtonsCtn },
                  e.elTopContent
                )
              )
            ),
            d.createElement(
              "div",
              { className: jn.TableOfContents },
              d.createElement("div", { className: jn.Header }, e.strHeader),
              t,
              e.elBottomContent
            )
          )
        );
      };
      var Dn = a("xG0+"),
        Gn = a("k3PP"),
        wn = a("KP/B"),
        An = a("35zc"),
        Mn = a("qmbg"),
        kn = a("3yM6"),
        Bn = a("48GZ");
      function Nn(e) {
        const t = () => e.closeModal && e.closeModal(),
          [a, n] = Object(d.useState)(!1),
          [i, r] = Object(d.useState)(null),
          [c, u] = Object(d.useState)(null),
          [p, g] = Object(d.useState)(null),
          [b, v] = Object(d.useState)(null),
          [S, f] = Object(d.useState)(!1);
        Object(d.useEffect)(() => {
          const e = l.a.CancelToken.source();
          return (
            Ln().then(() => {
              e.token.reason || n(!0);
            }),
            () => e.cancel("SaleEventExplorerDialog: unmounting")
          );
        }, []);
        return m.a.createElement(
          L.a,
          null,
          m.a.createElement(
            J.i,
            { onEscKeypress: t },
            m.a.createElement(
              _.h,
              null,
              m.a.createElement(_.z, null, Object(h.f)("#Sale_Debug_Title")),
              m.a.createElement(
                _.d,
                null,
                m.a.createElement(
                  _.e,
                  null,
                  Boolean(a)
                    ? m.a.createElement(
                        "div",
                        null,
                        m.a.createElement(
                          "div",
                          null,
                          Object(h.f)("#Sale_Debug_Desc")
                        ),
                        m.a.createElement(Fn, {
                          fnSetSaleItem: (e, t, a, n, i) => {
                            r(e), u(t), g(a), v(n), f(i);
                          },
                        }),
                        Boolean(i)
                          ? m.a.createElement(Pn, {
                              saleCapsule: i,
                              list: c,
                              tabList: p,
                              sortList: b,
                              bInLinkedItems: S,
                            })
                          : m.a.createElement(
                              "div",
                              null,
                              Object(h.f)("#Sale_Debug_NoMatchingItem")
                            )
                      )
                    : m.a.createElement(E.a, {
                        string: Object(h.f)("#Sale_Debug_Loading"),
                        size: "medium",
                      })
                )
              ),
              m.a.createElement(
                _.r,
                null,
                m.a.createElement(_.E, {
                  onCancel: t,
                  bOKDisabled: !i,
                  strOKText: Object(h.f)("#Button_Delete"),
                  onOK: () => {
                    Object(Y.d)(
                      m.a.createElement(J.e, {
                        strTitle: Object(h.f)("#EventEditor_GenericAreYouSure"),
                        strDescription: Object(h.f)("#Sale_Debug_Delete"),
                        onOK: () => {
                          !(function (e) {
                            if (!e) return;
                            const t = s.c.GetEditModel();
                            Object(ae.G)(() => {
                              let a = 0;
                              const n = (t) => {
                                let n = t.capsules.findIndex(
                                  (t) => t.id == e.id && t.type == e.type
                                );
                                for (; n >= 0; )
                                  t.capsules.splice(n, 1),
                                    (a += 1),
                                    (n = t.capsules.findIndex(
                                      (t) => t.id == e.id && t.type == e.type
                                    ));
                              };
                              t.GetEventModel().jsondata.sale_sections.forEach(
                                n
                              );
                              let i = t.GetTabSaleSection();
                              i && i.tabs.forEach(n),
                                a && t.SetDirty(o.d.jsondata_sales);
                            });
                          })(i),
                            t();
                        },
                      }),
                      window
                    );
                  },
                })
              )
            )
          )
        );
      }
      function Ln() {
        return Object(n.a)(this, void 0, void 0, function* () {
          const e = s.c.GetEditModel();
          yield Lt.a
            .Get()
            .HintLoadStoreItems(
              null,
              Array.from(e.GetAllSalePageFeaturedItems("apps")),
              Array.from(e.GetAllSalePageFeaturedItems("packages")),
              Array.from(e.GetAllSalePageFeaturedItems("bundles")),
              { include_assets: !0 }
            );
        });
      }
      function Rn(e, t = "") {
        var a;
        return (
          (null === (a = Lt.a.Get().GetStoreItem(e.id, Object(An.d)(e.type))) ||
          void 0 === a
            ? void 0
            : a.GetName()) || t
        );
      }
      function Fn(e) {
        const { fnSetSaleItem: t } = e,
          a = Object(d.useRef)(null),
          i = Object(d.useRef)(null),
          l = Object(d.useRef)(0),
          r = Object(d.useRef)();
        Object(d.useEffect)(() => () => window.clearTimeout(l.current), []);
        const o = Object(d.useCallback)(
          (e) =>
            Object(n.a)(this, void 0, void 0, function* () {
              let o = e.target.value;
              o &&
                0 != o.trim().length &&
                ((o = o.toLocaleLowerCase()),
                window.clearTimeout(l.current),
                a.current && a.current("SearchForCurator: new request"),
                (l.current = window.setTimeout(
                  () =>
                    Object(n.a)(this, void 0, void 0, function* () {
                      const e = s.c.GetEditModel();
                      let a = Number.parseInt(o.trim()),
                        n = new Array();
                      if (e.GetEventModel().BHasSaleEnabled()) {
                        const l = (e) =>
                            e.id == a || Rn(e).toLowerCase().indexOf(o) >= 0,
                          s = (e) => {
                            n.findIndex(
                              (t) => t.id == e.id && t.type == e.type
                            ) < 0 && n.push(e);
                          };
                        e.GetEventModel().jsondata.sale_sections.forEach(
                          (e) => {
                            e.capsules.filter(l).forEach(s);
                          }
                        );
                        const c = e.GetTabSaleSection();
                        c &&
                          c.tabs.forEach((e) =>
                            e.capsules.filter(l).forEach(s)
                          );
                        const d = (a) => {
                          var n, i;
                          const l = (e) => a.id == e.id && a.type == e.type;
                          let r = new Array();
                          e.GetEventModel().jsondata.sale_sections.forEach(
                            (e) => {
                              e.capsules.filter(l).length > 0 && r.push(e);
                            }
                          );
                          let o = new Array();
                          c &&
                            c.tabs.forEach((e) => {
                              e.capsules.filter(l).length > 0 && o.push(e);
                            });
                          let s = new Array();
                          null ===
                            (n = e.GetEventModel().jsondata.sorting_tiers) ||
                            void 0 === n ||
                            n.forEach((e, t) => {
                              if (
                                (null == e
                                  ? void 0
                                  : e.capsules.filter(l).length) > 0
                              )
                                s.push(t);
                              else if (null == e ? void 0 : e.sale_tag_filter) {
                                const n = new Array();
                                n.push(a);
                                Object(wn.s)(new Array(), e.sale_tag_filter, n)
                                  .length > 0 && s.push(t);
                              }
                            });
                          const d =
                            (null ===
                              (i = e.GetEventModel().jsondata.tagged_items) ||
                            void 0 === i
                              ? void 0
                              : i.findIndex(
                                  (e) => e && l(null == e ? void 0 : e.capsule)
                                )) >= 0;
                          t(a, r, o, s, d);
                        };
                        i.current = Object(ce.a)(
                          m.a.createElement(xn, {
                            list: n,
                            fnChooseCapsule: d,
                          }),
                          r.current.element,
                          {
                            bOverlapHorizontal: !0,
                            bMatchWidth: !0,
                            bFitToWindow: !0,
                            bDisablePopTop: !0,
                          }
                        );
                      }
                    }),
                  300
                )));
            }),
          [t]
        );
        return m.a.createElement(_.A, {
          type: "text",
          placeholder: Object(h.f)("#Sale_Debug_Placeholder"),
          tooltip: Object(h.f)("#Sale_Debug_InputToolTip"),
          onChange: o,
          onBlur: () => {
            setTimeout(() => i.current && i.current.Hide(), 200);
          },
          ref: r,
        });
      }
      function xn(e) {
        const { list: t, fnChooseCapsule: a } = e;
        return m.a.createElement(
          pe.c,
          { className: kn.SearchResults },
          t.map((e) =>
            m.a.createElement(
              pe.d,
              {
                key: "sale_" + e.id + "_tpe_" + e.type,
                onSelected: () => a(e),
              },
              m.a.createElement(
                "div",
                null,
                Object(h.f)(
                  "#Sale_Debug_ContextItem",
                  Rn(e, Object(h.f)("#Sale_Debug_Unknown")),
                  e.type
                )
              )
            )
          )
        );
      }
      function Pn(e) {
        var t;
        const {
            saleCapsule: a,
            list: n,
            tabList: i,
            sortList: l,
            bInLinkedItems: r,
          } = e,
          o = s.c.GetEditModel(),
          c = o.GetCurEditLanguage(),
          d =
            Object(Se.a)(o.GetClanSteamID(), !1) ||
            (null === (t = o.GetEventModel().jsondata.sorting_tiers) ||
            void 0 === t
              ? void 0
              : t.length) > 0;
        return m.a.createElement(
          "div",
          null,
          m.a.createElement(
            "div",
            null,
            Object(h.f)(
              "#Sale_Debug_MatchItem",
              Rn(a, Object(h.f)("#Sale_Debug_Unknown")),
              a.type
            )
          ),
          m.a.createElement("div", null, Object(h.f)("#Sale_Debug_AppearsIn")),
          m.a.createElement(
            "ol",
            null,
            Boolean(n && n.length > 0)
              ? n.map((e) =>
                  m.a.createElement(
                    "li",
                    { key: e.unique_id },
                    Object(Gn.b)(
                      e,
                      c,
                      o,
                      o.GetSaleSectionIndexByID(e.unique_id),
                      !0
                    )
                  )
                )
              : Object(h.f)("#Sale_Debug_NoMatchingItem")
          ),
          m.a.createElement(
            "div",
            null,
            Object(h.f)("#Sale_Debug_Tab_AppearsIn")
          ),
          m.a.createElement(
            "ol",
            null,
            Boolean(i && i.length > 0)
              ? i.map((e) =>
                  m.a.createElement(
                    "li",
                    { key: e.unique_id },
                    Object(Bn.a)(e, c)
                  )
                )
              : Object(h.f)("#Sale_Debug_NoMatchingItem")
          ),
          d &&
            m.a.createElement(
              m.a.Fragment,
              null,
              m.a.createElement(
                "div",
                null,
                Object(h.f)("#Sale_Debug_SortTier_AppearsIn")
              ),
              m.a.createElement(
                "ol",
                null,
                Boolean((null == l ? void 0 : l.length) > 0)
                  ? l.map((e) =>
                      m.a.createElement(
                        "li",
                        { key: "st" + e },
                        Object(h.f)("#Sale_Debug_Tier", e + 1)
                      )
                    )
                  : Object(h.f)("#Sale_Debug_NoMatchingItem")
              )
            ),
          m.a.createElement(
            "div",
            null,
            Object(h.f)(
              r ? "#Sale_Debug_LinkedSection" : "#Sale_Debug_Not_LinkedSection"
            )
          )
        );
      }
      function Un(e) {
        return `${e.type}:${e.id}`;
      }
      function Vn(e) {
        const t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      function Hn(e) {
        const [t, a] = Object(d.useState)(!1),
          [n, i] = Object(d.useState)(null),
          r = () => e.closeModal && e.closeModal();
        Object(d.useEffect)(() => {
          const e = l.a.CancelToken.source();
          return (
            Ln().then(() => {
              e.token.reason || a(!0);
            }),
            i(
              (function () {
                var e, t;
                const a = [],
                  n = new Map(),
                  i = s.c.GetEditModel(),
                  l = i.GetTabSaleSection();
                return (
                  null === (e = null == l ? void 0 : l.tabs) ||
                    void 0 === e ||
                    e.forEach((e) => {
                      var t;
                      const i = {
                        type: "tab",
                        unique_id: e.unique_id,
                        strLabel: Object(h.f)(
                          (null === (t = e.localized_label) || void 0 === t
                            ? void 0
                            : t[0]) || e.default_label
                        ),
                      };
                      a.push(i),
                        e.capsules.forEach((t) => {
                          const a = Un(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  null === (t = i.GetEventModel().jsondata.sale_sections) ||
                    void 0 === t ||
                    t.forEach((e) => {
                      if ("items" != e.section_type) return;
                      const t = {
                        type: "section",
                        unique_id: e.unique_id,
                        strLabel: Object(h.f)(
                          Object(Sn.c)(e) ||
                            e.localized_label[0] ||
                            e.default_label
                        ),
                      };
                      a.push(t),
                        e.capsules.forEach((t) => {
                          const a = Un(t);
                          n.has(a) || n.set(a, new Set()),
                            n.get(a).add(e.unique_id);
                        });
                    }),
                  { mapItemLocations: n, rgSections: a }
                );
              })()
            ),
            () => e.cancel("SaleEventItemLocationCSVDownloadDialog: unmounting")
          );
        }, []);
        let o = null;
        if (n) {
          const e = n.rgSections.filter((e) => "tab" == e.type).length,
            t = n.rgSections.length - e,
            a = n.mapItemLocations.size;
          o = Object(h.f)("#Sale_GameExport_ContentSummary", e, t, a);
        }
        return m.a.createElement(
          L.a,
          null,
          m.a.createElement(
            J.i,
            { onEscKeypress: r },
            m.a.createElement(
              _.h,
              null,
              m.a.createElement(
                _.z,
                null,
                Object(h.f)("#Sale_GameExport_Title")
              ),
              m.a.createElement(
                _.d,
                null,
                m.a.createElement(
                  _.e,
                  null,
                  m.a.createElement(
                    "div",
                    null,
                    Object(h.f)("#Sale_GameExport_Desc")
                  )
                ),
                m.a.createElement(
                  _.e,
                  null,
                  t
                    ? o
                    : m.a.createElement(E.a, {
                        position: "center",
                        string: Object(h.f)("#Sale_Debug_Loading"),
                        size: "medium",
                      })
                )
              ),
              m.a.createElement(
                _.r,
                null,
                m.a.createElement(_.E, {
                  onCancel: r,
                  bOKDisabled: !t,
                  strOKText: Object(h.f)("#Button_Save"),
                  onOK: () => {
                    var e;
                    const { mapItemLocations: t, rgSections: a } = n,
                      i = [];
                    for (const a of Array.from(t.keys())) {
                      const t = Vn(a);
                      let n;
                      try {
                        n =
                          null ===
                            (e = Lt.a
                              .Get()
                              .GetStoreItem(t.id, Object(An.d)(t.type))) ||
                          void 0 === e
                            ? void 0
                            : e.GetName();
                      } catch (e) {}
                      i.push([`${t.type}: ${n || t.id}`, a]);
                    }
                    i.sort();
                    const l = [],
                      o = ["Item", "AppID", "Count"];
                    for (const e of a) o.push(`${e.strLabel} (${e.type})`);
                    l.push(o);
                    for (const [e, n] of i) {
                      const i = t.get(n),
                        r = [e, Vn(n).id.toString(), i.size.toString()];
                      for (const e of a) r.push(i.has(e.unique_id) ? "1" : " ");
                      l.push(r);
                    }
                    const s = "item_locations.csv";
                    Mn.a.WriteCSVToFile(l, s),
                      Object(Y.b)(
                        m.a.createElement(J.e, {
                          strTitle: Object(h.f)("#Sale_GameExport_Title"),
                          bAlertDialog: !0,
                          strDescription: Object(h.f)(
                            "#Sale_GameExport_FileExported",
                            s
                          ),
                        }),
                        window
                      ),
                      r();
                  },
                })
              )
            )
          )
        );
      }
      const zn = Object(c.a)((e) => {
          var t, a;
          const n = (e, t, a, n = !1, i) => {
              e.push({
                strLabel: t,
                strSectionId: a,
                style: i,
                bIndent: n,
                bSectionIsVisible: Za.m_mapVisibleSections.has(a),
              });
            },
            { editModel: i } = e;
          let l = i.GetEventModel(),
            r = new Array();
          if (
            (n(
              r,
              Object(h.f)("#Sale_PageConfigOptions"),
              "SalePageEdit_Config"
            ),
            (Object(Se.a)(i.GetClanSteamID(), !1) ||
              l.GetTaggedItems().length > 0) &&
              n(
                r,
                Object(h.f)(
                  "#Sale_TaggedItemsSection",
                  l.GetTaggedItems().length
                ),
                "SalePageEdit_TaggedItems"
              ),
            Object(Se.a)(i.GetClanSteamID(), !1) ||
              (null === (t = l.jsondata.sorting_tiers) || void 0 === t
                ? void 0
                : t.length) > 0)
          ) {
            const e =
              (null === (a = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0;
            n(
              r,
              Object(h.f)("#Sale_SortingTiersSection", e),
              "SalePageEdit_SortingTiers"
            );
          }
          n(
            r,
            Object(h.f)("#Sale_Artwork_Sections"),
            "SalePageEdit_AllArtworkCtn"
          );
          let o = !1;
          return (
            l.GetSaleSections().forEach((e, t) => {
              const a = Object(Gn.b)(e, i.GetCurEditLanguage(), i, t, !0),
                s = Object.assign(Object.assign({}, Object(Gn.a)(e, l)), {
                  color: e.label_color,
                }),
                c = "SaleSection_" + e.unique_id;
              n(r, a, c, o, s), "tabs" === e.section_type && (o = !0);
            }),
            d.createElement(
              L.a,
              null,
              d.createElement(In, {
                elTopContent: d.createElement(Ze.c, { editModel: e.editModel }),
                strHeader: Object(h.f)("#Sale_TOC"),
                rows: r,
                onSelected: (t) => {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: d.createElement(Wn, {
                  editModel: e.editModel,
                }),
              })
            )
          );
        }),
        Wn = (e) => {
          const { editModel: t } = e,
            a = Object(ae.k)(() => {
              const e = Object.assign(Object.assign({}, de.h), {
                  unique_id: t.GenerateSaleSectionUniqueID(),
                }),
                a = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              a &&
                ((e.label_color = a.label_color),
                (e.background_gradient_bottom = a.background_gradient_bottom),
                (e.background_gradient_top = a.background_gradient_top)),
                t.GetEventModel().jsondata.sale_sections.push(e),
                t.SetDirty(o.d.jsondata_sales);
              const n = document.getElementById(
                "sale_editor_button_after_all_sections"
              );
              n && n.scrollIntoView();
            });
          return d.createElement(
            _.G,
            { onClick: a, className: F.AddSectionButton },
            Object(h.f)("#Sale_AddNewSection")
          );
        };
      function qn(e) {
        const t = s.c.GetEditModel();
        return d.createElement(
          "div",
          { className: ye.BottomBarControls },
          d.createElement(
            "div",
            { className: ye.ReoderSections },
            d.createElement(
              ve.a,
              { toolTipContent: Object(h.f)("#Sale_Debug_Tooltip") },
              d.createElement(
                _.f,
                {
                  onClick: (e) =>
                    Object(Y.d)(d.createElement(Nn, null), Object(Ft.o)(e)),
                },
                Object(h.f)("#Sale_Debug_Title")
              )
            )
          ),
          d.createElement(
            "div",
            { className: ye.ReoderSections },
            d.createElement(
              ve.a,
              { toolTipContent: Object(h.f)("#Sale_GameExport_Desc") },
              d.createElement(
                _.f,
                {
                  onClick: (e) =>
                    Object(Y.d)(d.createElement(Hn, null), Object(Ft.o)(e)),
                },
                Object(h.f)("#Sale_GameExport_Title")
              )
            )
          ),
          d.createElement(
            "div",
            { className: ye.ReoderSections },
            d.createElement(
              ve.a,
              { toolTipContent: Object(h.f)("#Sale_ReorderSections_ttip") },
              d.createElement(
                _.f,
                {
                  onClick: (e) => {
                    Object(Y.d)(
                      d.createElement(Qn, { editModel: t }),
                      Object(Ft.o)(e)
                    );
                  },
                },
                Object(h.f)("#Sale_ReorderSections")
              )
            )
          ),
          d.createElement(
            "div",
            { className: ye.MinimizeAll },
            d.createElement(
              ve.a,
              {
                toolTipContent: Object(h.f)(
                  "#Sale_Section_MinimizeAll_Tooltip"
                ),
              },
              d.createElement(
                _.f,
                { onClick: Pa.c },
                Object(h.f)("#Sale_Section_MinimizeAll")
              )
            )
          )
        );
      }
      function Qn(e) {
        const { editModel: t, closeModal: a } = e,
          [n, i] = d.useState([...t.GetSaleSections()]),
          l = () => {
            (t.GetEventModel().jsondata.sale_sections = n),
              t.SetDirty(o.d.jsondata_sales),
              a();
          };
        return d.createElement(
          J.f,
          {
            onOK: l,
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bAllowFullSize: !0,
            className: wt.NotTooWideModal,
          },
          d.createElement(_.z, null, Object(h.f)("#Sale_ReorderSections")),
          d.createElement(
            _.d,
            null,
            d.createElement(
              "div",
              { className: ye.ReorderSectionCtn },
              d.createElement(
                "div",
                { className: ye.SectionList },
                d.createElement(Qe.a, {
                  items: n,
                  onMove: (e, t) => {
                    let a = [...n];
                    Object(ie.d)(a, e, t), i(a);
                  },
                  render: (e) => {
                    const a = t.GetSaleSections().findIndex((t) => e === t),
                      n = Object.assign(
                        Object.assign({}, Object(Gn.a)(e, t.GetEventModel())),
                        { color: e.label_color }
                      );
                    return d.createElement(
                      "div",
                      { className: ye.SectionTitle, style: n },
                      Object(Gn.b)(e, t.GetCurEditLanguage(), t, a, !0)
                    );
                  },
                })
              ),
              d.createElement(
                "div",
                { className: ye.OKButton },
                d.createElement(
                  _.G,
                  { onClick: l },
                  Object(h.f)("#Sale_TagFilter_OK")
                )
              )
            )
          )
        );
      }
      function Jn(e) {
        const { editModel: t } = e;
        Object(d.useEffect)(() => {
          Pa.b.Get().EnsureLoaded(t),
            !Pa.b.Get().BHasExplicitSettings(t) &&
              t.GetSaleSectionCount() > 10 &&
              Object(Pa.c)();
        }, [t]);
        const a = t.GetEventModel().jsondata,
          [n, i, l] = Object(re.d)(() => [
            a.sale_custom_css,
            a.sale_vanity_id_valve_approved_for_sale_subpath,
            t.GetEventModel().GetSaleSections().length,
          ]);
        return d.createElement(
          "div",
          { className: Object(U.a)(qa.SaleContainer, "SaleContainer") },
          d.createElement(hn, null),
          d.createElement(Ia, {
            clanSteamID: t.GetClanSteamID(),
            gidClanEvent: t.GetGID(),
          }),
          d.createElement(en, null),
          d.createElement(
            "div",
            { className: F.EventEditorTextTitleCtn },
            d.createElement(
              "span",
              { className: F.EventEditorTextTitle },
              Object(h.f)("#Sale_title")
            ),
            d.createElement(
              Z.c,
              {
                href: S.c.PARTNER_BASE_URL + "doc/resources/Sales_Feature_Beta",
                className: Object(U.a)(F.doclink),
              },
              d.createElement(
                "span",
                null,
                Object(h.f)("#Broadcast_documentation")
              )
            )
          ),
          d.createElement(
            $a,
            null,
            d.createElement(
              "div",
              null,
              d.createElement(qn, null),
              d.createElement(zn, {
                editModel: t,
                onSelected: (e) => {
                  Object(Pa.a)(e.strSectionId) && Object(Pa.d)(e.strSectionId);
                },
              }),
              Za.WrapWithNavWaypoint(
                "SalePageEdit_Config",
                d.createElement(mn, { strToggleID: "SalePageEdit_Config" })
              ),
              Za.WrapWithNavWaypoint(
                "SalePageEdit_TaggedItems",
                d.createElement(
                  Ja,
                  {
                    strToggleName: "SalePageEdit_TaggedItems",
                    strToolTip: Object(h.f)("#Sale_TagFilter_SectionTooltip"),
                    strTitle: Object(h.f)(
                      "#Sale_TaggedItemsSection",
                      t.GetEventModel().GetTaggedItems().length
                    ),
                  },
                  d.createElement(Tn.d, { editModel: t })
                )
              ),
              d.createElement(On, { editModel: t }),
              d.createElement(Ka, { editModel: t }),
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    F.EventEditorTextTitle,
                    qa.CustomSectionsTitle
                  ),
                },
                Object(h.f)("#Sale_Sections_Title")
              ),
              0 == l
                ? d.createElement(Yn, null)
                : t
                    .GetEventModel()
                    .GetSaleSections()
                    .map((e, a) => {
                      var n;
                      const i = "SaleSection_" + e.unique_id;
                      return Za.WrapWithNavWaypoint(
                        i,
                        d.createElement(Gn.d, {
                          key:
                            "salesection_" +
                            (null !== (n = e.unique_id) && void 0 !== n
                              ? n
                              : a),
                          index: a,
                          saleSection: e,
                          editModel: t,
                          editLanguage: t.GetCurEditLanguage(),
                        })
                      );
                    }),
              d.createElement(
                "div",
                {
                  id: "sale_editor_button_after_all_sections",
                  className: qa.AddSectionBtnCtn,
                },
                d.createElement(
                  "div",
                  { className: F.SaleSectionHeader },
                  Object(h.f)("#Sale_AddNewSection_Title")
                ),
                d.createElement(
                  "p",
                  null,
                  Object(h.f)("#Sale_AddNewSection_Desc")
                ),
                d.createElement(Wn, { editModel: t })
              ),
              d.createElement(Zn, null),
              d.createElement(
                Se.b,
                { clanSteamID: t.GetClanSteamID() },
                Boolean(i)
                  ? d.createElement(
                      "div",
                      { className: qa.SettingCtn },
                      d.createElement(
                        "p",
                        null,
                        "(VO) Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props."
                      ),
                      d.createElement("textarea", {
                        value: n || "",
                        cols: 120,
                        rows: 10,
                        onChange: (e) => {
                          t.GetEventModel().jsondata.sale_custom_css !=
                            e.currentTarget.value &&
                            ((t.GetEventModel().jsondata.sale_custom_css =
                              e.currentTarget.value),
                            t.SetDirty(o.d.jsondata_sales));
                        },
                      })
                    )
                  : d.createElement(
                      "div",
                      { className: qa.SettingCtn },
                      d.createElement(
                        "p",
                        null,
                        "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section"
                      )
                    )
              )
            )
          )
        );
      }
      function Yn(e) {
        return d.createElement(
          "div",
          {
            id: "NoSaleSections",
            className: Object(U.a)(qa.SaleSection, qa.InEditor),
          },
          d.createElement(
            "div",
            { className: F.SaleSectionHeader },
            Object(h.f)("#Sale_SectionListPlaceholder_Header")
          ),
          d.createElement(
            "div",
            null,
            Object(h.f)("#Sale_SectionListPlaceholder_Content")
          )
        );
      }
      function Zn(e) {
        const t = s.c.GetEditModel(),
          a = t.GetEventModel().jsondata,
          [n, i, l, r] = Object(re.d)(() => [
            a.sale_browsemore_url,
            a.sale_browsemore_color,
            a.sale_browsemore_bgcolor,
            a.sale_browse_more_button,
          ]),
          c = (e, a) => {
            (t.GetEventModel().jsondata[a] = e), t.SetDirty(o.d.jsondata_sales);
          };
        return d.createElement(
          Se.b,
          { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
          d.createElement(
            "div",
            { className: qa.SettingCtn },
            d.createElement(
              "div",
              { className: qa.Title },
              Object(h.f)("#Sale_BrowseMore")
            ),
            d.createElement(_.M, {
              onChange: (e) => {
                (t.GetEventModel().jsondata.sale_browse_more_button = e),
                  t.SetDirty(o.d.jsondata_sales);
              },
              label: Object(h.f)("#Sale_BrowseMore_Desc"),
              checked: r,
            }),
            r &&
              d.createElement(
                "div",
                null,
                d.createElement(_.A, {
                  type: "text",
                  label: Object(h.f)("#Sale_BrowseMore_URL"),
                  name: "sale_browsemore_url",
                  placeholder: Object(h.f)("#Sale_BrowseMore_URL"),
                  value: n,
                  onChange: (e) => {
                    (t.GetEventModel().jsondata[e.target.name] =
                      e.target.value),
                      t.SetDirty(o.d.jsondata_sales);
                  },
                }),
                d.createElement(
                  _.f,
                  {
                    onClick: (e) => {
                      Object(ce.a)(
                        d.createElement(_e.a, {
                          onChange: (e) => c(e, "sale_browsemore_color"),
                          color: i,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: F.EventEditorTextTitle,
                    style: { color: i, backgroundColor: l },
                  },
                  Object(h.f)("#Sale_Section_Label_Color")
                ),
                d.createElement(
                  _.f,
                  {
                    onClick: (e) => {
                      const {
                        sale_browsemore_color: a,
                        sale_browsemore_bgcolor: n,
                      } = t.GetEventModel().jsondata;
                      Object(ce.a)(
                        d.createElement(_e.a, {
                          onChange: (e) => c(e, "sale_browsemore_bgcolor"),
                          color: n,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: F.EventEditorTextTitle,
                    style: { color: i, backgroundColor: l },
                  },
                  Object(h.f)("#Sale_Section_Background_Color")
                ),
                d.createElement(Dn.a, {
                  text: Object(h.f)("#Sale_SeeAllSpecials"),
                  url: "",
                  color: i,
                  bgcolor: l,
                })
              )
          )
        );
      }
      let Kn = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_cancelSignal = l.a.CancelToken.source());
        }
        componentDidMount() {
          S.b.IS_CURATOR &&
            B.a.LoadCreatorHome(this.props.clanSteamID, this.m_cancelSignal);
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "Partner Events editor input pane unmounted"
          );
        }
        BCanOnlyUploadBecauseSupportUser() {
          const e = B.a.GetCreatorHome(this.props.clanSteamID);
          if (S.h.is_support && S.b.CAN_UPLOAD_IMAGES && S.b.IS_CURATOR && e) {
            return !(
              e.BHasClanAccountFlagSet(2) ||
              e.BHasClanAccountFlagSet(1) ||
              e.BHasClanAccountFlagSet(4) ||
              e.GetNumFollowers() >= 15e3
            );
          }
          return !1;
        }
        BIsSalePageFeatureVisible() {
          if (s.c.GetEditModel().GetEventModel().BHasSaleEnabled()) return !0;
          const e = B.a.GetCreatorHome(this.props.clanSteamID);
          return !(!e || !e.BHasClanAccountFlagSet(32));
        }
        render() {
          var e;
          let t = s.c.GetEditModel(),
            a = t.GetEventModel();
          const n = !N.a.Get().BShowEmailEditorTab(t.GetEventModel());
          let i = !N.a.Get().BShowSaleEditorTab(t.GetEventModel());
          S.b.IS_CREATOR_HOME && (i = !1);
          const l = N.a.Get().GetPartnerEventPermissions(a.clanSteamID),
            r = t.GetDescriptionCompletion(),
            o = t.GetOptionsCompletion(),
            c = 12 === t.GetEventType() ? void 0 : t.GetArtworkCompletion(),
            m = t.GetSaleTabCompletion(),
            u = a.clanSteamID;
          k.a.LoadClanInfoForClanSteamID(u);
          const p = Boolean(
              null === (e = k.a.GetClanInfoByClanAccountID(u.GetAccountID())) ||
                void 0 === e
                ? void 0
                : e.has_rss_feed
            ),
            _ = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`
              ),
            g = [
              {
                name: Object(h.f)("#EventEditor_Description_tab"),
                key: "description",
                status: r.text,
                statusType: r.complete >= r.total ? "success" : "danger",
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement($e, {
                    editModel: t,
                    bInitiatePublishDialog: this.props.bInitiatePublishDialog,
                    bCanManuallyTagAssociatedApps: p,
                  })
                ),
                onClick: _,
              },
              {
                name: Object(h.f)("#EventEditor_Options_Title"),
                key: "options",
                status: o ? o.text : "",
                statusType: o && o.complete >= o.total ? "success" : "danger",
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(ma, { editModel: t }),
                  d.createElement("div", { className: x.a.ClearThings })
                ),
                onClick: _,
              },
              {
                name: Object(h.f)("#EventEditor_Artwork"),
                key: "artwork",
                status: c ? c.text : "",
                statusType: c && c.complete >= c.total ? "success" : "danger",
                hidden: !S.b.CAN_UPLOAD_IMAGES,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  Object(h.f)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(ni, { editModel: t }),
                onClick: _,
              },
              {
                name: Object(h.f)("#Broadcast_tab"),
                key: "broadcast",
                status: "",
                statusType: "success",
                hidden: !S.b.CAN_UPLOAD_IMAGES,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  Object(h.f)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(je, { editModel: t })
                ),
                onClick: _,
              },
              {
                name:
                  (a.BHasEmailEnabled() ? "" : "(VO) ") +
                  Object(h.f)("#EventEmail_TabTitle"),
                key: "email",
                status: "",
                statusType: "success",
                hidden: n,
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(Vt, { editModel: t })
                ),
                onClick: _,
              },
              {
                name:
                  (this.BIsSalePageFeatureVisible() ? "" : "(VO) ") +
                  Object(h.f)("#Sale_TabTitle"),
                key: "sale",
                status: m ? m.text : "",
                statusType: m && m.complete >= m.total ? "success" : "danger",
                statusToolTip: null == m ? void 0 : m.ttip,
                hidden: i,
                vo_warning:
                  this.BCanOnlyUploadBecauseSupportUser() &&
                  Object(h.f)("#EventEditor_CuratorImageWarning"),
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(Jn, { editModel: t })
                ),
                onClick: _,
              },
              {
                name: Object(h.f)("#Button_Publish"),
                key: "publishing",
                status: "",
                statusType: "success",
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(La, { editModel: t })
                ),
                onClick: _,
              },
              {
                name: "(VO) Debug",
                key: "debug",
                status: "",
                statusType: "success",
                hidden: !l.valve_admin,
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(I, { editModel: t })
                ),
                onClick: _,
              },
              {
                name: "(VO) Solr",
                key: "solr",
                status: "",
                statusType: "success",
                hidden: !l.valve_admin || !a.GID,
                contents: d.createElement(
                  L.a,
                  null,
                  d.createElement(G, { editModel: t })
                ),
                onClick: _,
              },
            ];
          return d.createElement(
            "div",
            { className: Te.a.EventEditorInputPaneContainer },
            d.createElement(
              "div",
              { className: Te.a.EventEditorInputPaneContents },
              d.createElement(P.a, { tabs: g }),
              d.createElement("div", { className: x.a.ClearThings })
            ),
            d.createElement(
              "div",
              { className: Object(U.a)(x.a.SaveBackground) },
              d.createElement(xe, null)
            )
          );
        }
      };
      Kn = Object(n.b)([c.a], Kn);
      let Xn = class extends d.Component {
        render() {
          this.props.bAutoPreviewRefresh && Object(w.b)(5e3);
          let e = s.c.GetEditModel(),
            t = e.GetCurEditLanguage(),
            a = e.GetEventModel().GetDescriptionWithFallback(t);
          return d.createElement(
            "div",
            { className: Te.a.InlinePreviewContainer },
            d.createElement(
              "div",
              { className: x.a.FlexRowWrapSpaceBetweenContainer },
              d.createElement(
                "h2",
                { className: Te.a.InlinePreviewHeader },
                Object(h.f)("#EventEditor_Preview_Title")
              )
            ),
            d.createElement(
              L.a,
              null,
              d.createElement(
                "div",
                {
                  className: Object(U.a)(
                    "EventDetailsBody",
                    Te.a.EventDetailsBody
                  ),
                },
                d.createElement(R.a, {
                  text: a || "",
                  languageOverride: e.GetCurEditLanguage(),
                })
              )
            )
          );
        }
      };
      Xn = Object(n.b)([c.a], Xn);
      const $n = Object(c.a)((e) => {
        var t;
        Object(d.useEffect)(() => {
          k.a.LoadOGGClanInfoForIdentifier(e.appid_or_vanity_str);
        }, [e.appid_or_vanity_str]);
        const {
            clanSteamID: a,
            gid: n,
            appid: i,
            bInitiatePublishDialog: l,
            appid_or_vanity_str: o,
          } = e,
          c = !(S.b.IS_CREATOR_HOME || S.b.IS_CURATOR)
            ? null === (t = Lt.a.Get().GetApp(i)) || void 0 === t
              ? void 0
              : t.GetName()
            : S.b.VANITY_ID,
          m = s.c.GetEditModel(),
          u = m.GetEventModel().bOldAnnouncement;
        return d.createElement(
          "div",
          { className: Object(U.a)(Te.a.wrapper) },
          d.createElement(Fe, {
            clanSteamID: a,
            appid: i,
            gid: n,
            appid_or_vanity_str: o,
          }),
          d.createElement(
            "div",
            {
              className: Object(U.a)(
                x.a.FlexColumnContainer,
                Te.a.EventEditBelowTopBarContainer
              ),
            },
            d.createElement(
              "div",
              { className: Te.a.EventEditBelowTopBarGameName },
              c
            ),
            d.createElement(
              M.b,
              {
                className: Te.a.EventEditBelowTopBarCategoryChoice,
                to: u
                  ? r.a.MigrateCategory(
                      m.GetStrVanityOrAppID(),
                      m.GetAnnouncementGID()
                    )
                  : r.a.Category(
                      m.GetStrVanityOrAppID(),
                      m.BHasGid() ? m.GetGID() : ""
                    ),
              },
              d.createElement(
                "span",
                null,
                Object(h.f)("#EventEditor_TypeTitle"),
                " "
              ),
              m.GetCategoryAsString(),
              d.createElement("img", { src: z.a })
            ),
            d.createElement("div", null)
          ),
          d.createElement(
            "div",
            { className: Te.a.maincontent },
            d.createElement(Kn, {
              appid_or_vanity_str: o,
              appid: i,
              gid: n,
              bInitiatePublishDialog: l,
              clanSteamID: a,
            })
          ),
          d.createElement("div", null)
        );
      });
      let ei = class extends d.Component {
        constructor() {
          super(...arguments), (this.m_clanSteamID = new C.a(S.b.CLANSTEAMID));
        }
        render() {
          return d.createElement($n, {
            appid_or_vanity_str: this.props.match.params.appid_or_vanity_str,
            appid: S.b.APPID,
            gid: this.props.match.params.gid,
            clanSteamID: this.m_clanSteamID,
            bInitiatePublishDialog: this.props.bInitiatePublishDialog,
          });
        }
      };
      ei = Object(n.b)([c.a], ei);
      const ti = Object(q.a)(ei);
      class ai extends d.Component {
        constructor(e) {
          super(e),
            (this.m_bRedirect = !1),
            (this.m_bRedirect =
              void 0 === s.c.GetEditModel() ||
              1 == s.c.GetEditModel().GetCategoryAsType());
        }
        render() {
          return this.m_bRedirect
            ? d.createElement(A.b, {
                to: r.a.Category(
                  this.props.match.params.appid_or_vanity_str,
                  ""
                ),
              })
            : d.createElement(ti, Object.assign({}, this.props));
        }
      }
      function ni(e) {
        const { editModel: t } = e,
          a = ["background", "capsule"];
        return (
          Boolean(S.b.IS_OGG) && 34 != t.GetEventType() && a.push("spotlight"),
          d.createElement(
            L.a,
            null,
            d.createElement(
              "div",
              { className: Te.a.ArtworkTipsCtn },
              d.createElement(
                "div",
                { className: Te.a.ArtworkTips },
                d.createElement(
                  "p",
                  null,
                  d.createElement(
                    "strong",
                    null,
                    Object(h.f)("#selectimage_tip3_title")
                  ),
                  ": ",
                  Object(h.m)(
                    "#selectimage_tip3",
                    d.createElement(
                      "span",
                      null,
                      d.createElement("br", null),
                      d.createElement(
                        "a",
                        {
                          target: S.c.IN_CLIENT ? void 0 : "_blank",
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                        },
                        Object(h.f)("#selectimage_see_documentation")
                      )
                    )
                  )
                ),
                d.createElement(
                  "p",
                  null,
                  d.createElement(
                    "a",
                    {
                      href:
                        S.c.IMG_URL + "events/event_header_template.zip?t=14",
                      download: !0,
                    },
                    Object(h.f)("#selectimage_downloadtemplate")
                  )
                )
              ),
              d.createElement(
                "a",
                {
                  href:
                    "https://partner.steamgames.com/doc/marketing/event_tools/event_examples",
                  className: Te.a.ArtworkDocs,
                  target: S.c.IN_CLIENT ? void 0 : "_blank",
                },
                d.createElement(
                  "div",
                  { className: Te.a.ArtworkExampleCtn },
                  d.createElement("img", {
                    className: Te.a.ArtworkExampleThumbnail,
                    src: S.c.IMG_URL + "events/thumb_library_home.jpg",
                  })
                ),
                d.createElement(
                  "div",
                  { className: Te.a.ArtworkExampleTitle },
                  Object(h.f)("#selectimage_viewExamples")
                )
              )
            ),
            d.createElement(W.b, {
              clanSteamID: t.GetClanSteamID(),
              rgSupportArtwork: a,
              fnSetImageURL: t.SetImageURL,
              rgRealmList: t.GetIncludedRealmList(),
            }),
            d.createElement(te.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(h.f)("#EventEditor_ArtworkType_capsule"),
              artworkType: "capsule",
              headerHint: Object(V.c)(
                t.GetEventType(),
                t.GetEventModel().vecTags
              )
                ? te.a.k_Required
                : void 0,
              elEventArtworkExample: d.createElement($, {
                artworkType: "capsule",
              }),
            }),
            d.createElement(te.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(h.f)("#EventEditor_ArtworkType_background"),
              artworkType: "background",
              headerHint: te.a.k_Suggested,
              elEventArtworkExample: d.createElement($, {
                artworkType: "background",
              }),
            }),
            Boolean(34 == t.GetEventType())
              ? d.createElement(
                  "div",
                  { className: X.a.ArtworkSelectorContainer },
                  d.createElement(
                    "div",
                    { className: X.a.Title },
                    Object(h.f)("#EventEditor_ArtworkType_spotlight")
                  ),
                  d.createElement(
                    "div",
                    { className: Object(U.a)(X.a.SelectImageBlock, X.a.Tips) },
                    Object(h.f)(
                      "#EventEditor_ArtworkType_SpotlightNotSupport",
                      t.GetCategoryAsString()
                    )
                  ),
                  d.createElement("br", null)
                )
              : Boolean(S.b.IS_OGG) &&
                  d.createElement(te.b, {
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(h.f)("#EventEditor_ArtworkType_spotlight"),
                    artworkType: "spotlight",
                    headerHint: Object(V.d)(t.GetEventType())
                      ? te.a.k_Suggested
                      : void 0,
                    elEventArtworkExample: d.createElement($, {
                      artworkType: "spotlight",
                    }),
                  }),
            Boolean(S.b.IS_OGG) &&
              d.createElement(te.b, {
                clanSteamID: t.GetClanSteamID(),
                title: Object(h.f)("#EventEditor_ArtworkType_hero"),
                artworkType: "hero",
              })
          )
        );
      }
    },
    NEpn: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC";
    },
    NrWE: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return k;
      }),
        a.d(t, "b", function () {
          return N;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("TyAF"),
        o = a("q1tI"),
        s = a("1VNF"),
        c = (a("mgoM"), a("kLLr")),
        d = a("U+Q5"),
        m = a("9w6b"),
        u = a("fpVW"),
        p = a.n(u),
        _ = a("Jqb/"),
        g = a("ka0M"),
        b = a("0OaU"),
        E = (a("AiWL"), a("exH9")),
        h = a("X3Ds"),
        v = a("TLQK"),
        S = a("OS6B"),
        f = a("opsS"),
        O = a("75vw"),
        C = a.n(O),
        y = (a("65aj"), a("Mgs7")),
        T = a("6yBx"),
        j = a("bVxH"),
        I = a("R5ed");
      let D = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = { bPrefetchingLanguages: !0 }),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        componentDidMount() {
          if (this.props.closeModal) {
            const { primaryLocalizedImage: e } = this.props;
            d.d.SetPrimaryImageForImageGroup(e, "localized_image_group"),
              this.LoadImageResolution(),
              this.LoadAvailableLocalizations();
          }
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        LoadImageResolution() {
          return Object(n.a)(this, void 0, void 0, function* () {
            try {
              const { primaryLocalizedImage: e } = this.props,
                t = c.a.InitFromClanID(e.clanAccountID),
                a = yield d.d.AsyncGetImageResolution(
                  t,
                  e.image_hash,
                  e.file_type,
                  this.m_cancelSignal,
                  !1
                );
              this.m_cancelSignal.token.reason ||
                this.setState({ imageSize: a });
            } catch (e) {
              let t = Object(S.a)(e);
              console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
            }
          });
        }
        LoadAvailableLocalizations() {
          return Object(n.a)(this, void 0, void 0, function* () {
            try {
              yield d.d.DetermineAvailableLocalizationForGroup(
                this.m_cancelSignal
              ),
                this.m_cancelSignal.token.reason ||
                  this.setState({ bPrefetchingLanguages: !1 });
            } catch (e) {
              let t = Object(S.a)(e);
              console.error("LocalizedImageDialog : " + t.strErrorMsg, t);
            }
          });
        }
        OnCommitGroup() {}
        render() {
          const {
              closeModal: e,
              primaryLocalizedImage: t,
              clanSteamID: a,
            } = this.props,
            { bPrefetchingLanguages: n, imageSize: i } = this.state,
            l = !n && i,
            r = i ? ` - ${i.width}x${i.height}` : "",
            s = d.a.GetExtensionStringForFileType(t.file_type).slice(1),
            c = i && { width: i.width, height: i.height },
            m = d.a.GenerateArtworkURLFromHashAndExtensions(
              a,
              d.a.GetHashAndExt(t)
            );
          return o.createElement(
            _.f,
            {
              onOK: this.OnCommitGroup,
              bAllowFullSize: !0,
              onCancel: e,
              closeModal: e,
            },
            o.createElement(y.z, null, Object(v.f)("#ImagePickerLoc_Title")),
            o.createElement(
              y.d,
              null,
              o.createElement(
                y.e,
                null,
                o.createElement(
                  "div",
                  { className: p.a.FlexRowContainer },
                  o.createElement(
                    "span",
                    { className: p.a.FlexColumnContainer },
                    o.createElement(
                      "div",
                      null,
                      Object(v.f)("#ImagePickerLoc_Default"),
                      " ",
                      o.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(v.f)(
                            "#ImagePickerLoc_Default_Hint"
                          ),
                        },
                        " (?)"
                      )
                    ),
                    o.createElement("img", { className: j.titleimg, src: m }),
                    o.createElement("div", null, t.file_name + r + " - " + s)
                  )
                ),
                !l &&
                  o.createElement(b.a, {
                    position: "center",
                    string: Object(v.f)("#Loading"),
                  }),
                l &&
                  o.createElement(
                    o.Fragment,
                    null,
                    o.createElement(T.b, {
                      clanSteamID: a,
                      rgSupportArtwork: [],
                      localizedPrimaryImage: t,
                      forceResolution: c,
                      fnSetImageURL: this.props.fnSetImageURL,
                      rgRealmList: this.props.rgRealmList,
                    }),
                    o.createElement(
                      "div",
                      { className: j.artworkbar },
                      o.createElement(I.b, {
                        clanSteamID: a,
                        artworkType: "localized_image_group",
                        title: Object(v.f)("#ImagePickerLoc_Title"),
                      })
                    )
                  )
              )
            )
          );
        }
      };
      Object(n.b)([f.b], D.prototype, "OnCommitGroup", null),
        (D = Object(n.b)([r.a], D));
      var G,
        w,
        A = a("blFj"),
        M = a("Yamg");
      let k = (G = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.m_cancelSignal = l.a.CancelToken.source()),
            (this.m_searchInput = null),
            (this.m_clanImageUploader = null),
            (this.state = {
              filenameSearch: "",
              uploadToken: 0,
              bLoading: !d.d.BHasLoadedClanImages(this.props.clanSteamID),
            });
        }
        componentDidMount() {
          this.state.bLoading && this.HandleLoadClanImages();
        }
        componentDidUpdate(e) {
          (this.props.clanSteamID.GetAccountID() ==
            e.clanSteamID.GetAccountID() &&
            d.d.BHasLoadedClanImages(this.props.clanSteamID)) ||
            (this.state.bLoading || this.setState({ bLoading: !0 }),
            this.HandleLoadClanImages());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
        }
        HandleLoadClanImages() {
          d.d
            .LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
            .then(() => {
              this.m_cancelSignal.token.reason ||
                this.setState({ bLoading: !1 });
            })
            .catch((e) => {
              let t = Object(S.a)(e);
              console.error(
                "ClanImagePicker Failed: " +
                  t.strErrorMsg +
                  " errCode: " +
                  t.strErrorMsg
              ),
                this.m_cancelSignal.token.reason ||
                  this.setState({ bLoading: !1, strErrMsg: t.strErrorMsg });
            });
        }
        onSearchTextChangeHandler(e) {
          let t = e.currentTarget.value;
          this.state.filenameSearch != t &&
            this.setState({ filenameSearch: t });
        }
        CreateImageWrappers() {
          let e = [],
            t = this.state.filenameSearch.trim().toLowerCase(),
            a = d.d.GetFilteredClanImages(this.props.clanSteamID, t);
          if (a.length > 0)
            for (let n of a)
              e.push(
                o.createElement(L, {
                  key: n.imageid,
                  clanImage: n,
                  searchStringHilight: t,
                  imageInsertCallBack: this.props.imageInsertCallBack,
                  fnOnOpenLocalizedImageGroup: this
                    .InternalOpenLocalizeImageGroup,
                  insertActions: this.props.insertActions,
                  OnImageClick: this.OnExpandImage,
                })
              );
          if (0 == e.length) {
            let a = d.d.GetLoadState(this.props.clanSteamID);
            a && a.loaded
              ? e.push(
                  o.createElement(
                    "div",
                    {
                      key: "ImagePicker_Result",
                      className: C.a.ResultNotification,
                    },
                    t.length > 0
                      ? Object(v.f)("#ImagePicker_EmptySearch")
                      : Object(v.f)("#ImagePicker_Empty")
                  )
                )
              : a && a.errMsg
              ? e.push(
                  o.createElement(
                    "div",
                    { key: "ImagePicker_Result", className: C.a.errorcode },
                    Object(v.f)("#ImagePicker_Error", a.errMsg)
                  )
                )
              : e.push(
                  o.createElement(
                    "div",
                    {
                      key: "ImagePicker_Result",
                      className: C.a.ResultNotification,
                    },
                    Object(v.f)("#Loading")
                  )
                );
          }
          return e;
        }
        onSearchTextKeyPress(e) {
          "Escape" == e.key &&
            (this.setState({ filenameSearch: "" }),
            this.m_searchInput && (this.m_searchInput.value = ""));
        }
        onUploaderDismiss() {
          this.setState({
            filenameSearch: this.state.filenameSearch,
            uploadToken: null,
          });
        }
        OnDropFiles(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (e && e.length > 0) {
              this.m_clanImageUploader = new d.b(this.props.clanSteamID);
              let t = !0;
              for (let a = 0; t && a < Array.from(e).length; a++) {
                let n = e.item(a);
                (t = yield this.m_clanImageUploader.AddImage(n, 0, null)),
                  t ||
                    (console.error(
                      "ClanImagePicker.OnDropFiles: failed on i=" +
                        a +
                        " file=" +
                        n.name
                    ),
                    Object(g.d)(
                      o.createElement(_.g, {
                        strDescription: Object(v.f)(
                          "#ImagePicker_Error",
                          n.name
                        ),
                      }),
                      window
                    ));
              }
              return (
                t &&
                  (this.setState({
                    filenameSearch: "",
                    uploadToken: ++G.m_uploaderCounter,
                  }),
                  this.m_clanImageUploader.UploadAllFiles()),
                t
              );
            }
            return !1;
          });
        }
        GetLastUploadFiles() {
          return this.m_clanImageUploader
            ? this.m_clanImageUploader.GetFilesToUpload()
            : null;
        }
        BFileUploadCompleted(e) {
          return (
            !!this.m_clanImageUploader &&
            this.m_clanImageUploader.BIsFileCompleted(e)
          );
        }
        OnExpandImage(e) {
          if (e && this.props.bShowLightBox) {
            let t = d.d.GetFilteredClanImages(
                this.props.clanSteamID,
                this.state.filenameSearch.trim().toLowerCase()
              ),
              a = t.findIndex((t, a, n) => e.imageid == t.imageid);
            a >= 0 && this.setState({ photoIndex: a, filteredClanImages: t });
          }
        }
        OnExpandExitImage() {
          this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
        }
        OnHandleExpandedFullSize() {
          this.InternalHandleExpandedAction(M.a.k_eInsertFullImage);
        }
        OnHandleExpandedThumbnail() {
          this.InternalHandleExpandedAction(M.a.k_eInsertThumbnail);
        }
        OnHandleOpenLocalizedImageGroup() {
          null != this.state.photoIndex &&
            this.InternalOpenLocalizeImageGroup(
              this.state.filteredClanImages[this.state.photoIndex]
            );
        }
        InternalHandleExpandedAction(e) {
          null != this.state.photoIndex &&
            (this.props.imageInsertCallBack(
              this.state.filteredClanImages[this.state.photoIndex],
              e
            ),
            this.OnExpandExitImage());
        }
        InternalOpenLocalizeImageGroup(e) {
          const { clanSteamID: t } = this.props;
          Object(g.d)(
            o.createElement(D, {
              primaryLocalizedImage: e,
              clanSteamID: t,
              fnSetImageURL: this.props.fnSetImageURL,
              rgRealmList: this.props.rgRealmList,
            }),
            window
          );
        }
        render() {
          if (this.state.strErrMsg)
            return o.createElement(
              "div",
              null,
              o.createElement("div", null, Object(v.f)("#Error_Message")),
              o.createElement("div", null, this.state.strErrMsg),
              o.createElement(
                "div",
                {
                  className: Object(E.a)(p.a.Button),
                  onClick: this.HandleLoadClanImages,
                },
                Object(v.f)("#Button_Retry")
              )
            );
          if (this.state.bLoading)
            return o.createElement(b.a, {
              position: "center",
              string: Object(v.f)("#Loading"),
            });
          let e = this.CreateImageWrappers(),
            t = this.state.filteredClanImages,
            a = this.state.photoIndex;
          const { clanSteamID: n } = this.props;
          return o.createElement(
            "div",
            { className: Object(E.a)(C.a.PickerContainer) },
            o.createElement(
              "div",
              { className: C.a.PickerTitle },
              o.createElement("input", {
                ref: (e) => (this.m_searchInput = e),
                className: C.a.SearchInput,
                type: "text",
                placeholder: Object(v.f)("#ImagePicker_Search"),
                onChange: this.onSearchTextChangeHandler,
                onKeyDown: this.onSearchTextKeyPress,
              })
            ),
            o.createElement("div", { className: C.a.ImagesContainer }, e),
            this.state.uploadToken > 0 &&
              o.createElement(R, {
                key: "clanimageuploaderview" + this.state.uploadToken,
                uploader: this.m_clanImageUploader,
                onDismiss: this.onUploaderDismiss,
              }),
            !this.props.bHideDragAndDrop &&
              o.createElement(N, {
                onDropFiles: this.OnDropFiles,
                fnSetImageURL: this.props.fnSetImageURL,
                clanSteamID: n,
                rgRealmList: this.props.rgRealmList,
              }),
            null != a &&
              o.createElement(s.a, {
                mainSrc: t[a].url,
                mainSrcThumbnail: t[a].thumb_url,
                imageTitle: t[a].file_name,
                nextSrc: a < t.length - 1 ? t[a + 1].url : void 0,
                nextSrcThumbnail:
                  a < t.length - 1 ? t[a + 1].thumb_url : void 0,
                nextLabel: Object(v.f)("#ClanImage_Next"),
                prevLabel: Object(v.f)("#ClanImage_Prev"),
                closeLabel: Object(v.f)("#ClanImage_Close"),
                zoomInLabel: Object(v.f)("#ClanImage_ZoomIn"),
                zoomOutLabel: Object(v.f)("#ClanImage_ZoomOut"),
                imageLoadErrorMessage: Object(v.f)(
                  "#ClanImage_ImageLoadFailure"
                ),
                prevSrc: a > 0 ? t[a - 1].url : void 0,
                prevSrcThumbnail: a > 0 ? t[a - 1].thumb_url : void 0,
                onMoveNextRequest: () => this.setState({ photoIndex: a + 1 }),
                onMovePrevRequest: () => this.setState({ photoIndex: a - 1 }),
                onCloseRequest: this.OnExpandExitImage,
                toolbarButtons: [
                  o.createElement(
                    "button",
                    {
                      key: "fullsize",
                      className: C.a.Full,
                      onClick: this.OnHandleExpandedFullSize,
                    },
                    Object(v.f)("#ImagePicker_FullSize")
                  ),
                  o.createElement(
                    "button",
                    {
                      key: "thumbnail",
                      className: C.a.Full,
                      onClick: this.OnHandleExpandedThumbnail,
                    },
                    Object(v.f)("#ImagePicker_Thumbnail")
                  ),
                ],
              })
          );
        }
      });
      (k.m_uploaderCounter = 1),
        Object(n.b)([f.b], k.prototype, "HandleLoadClanImages", null),
        Object(n.b)([f.b], k.prototype, "onSearchTextChangeHandler", null),
        Object(n.b)([f.b], k.prototype, "onSearchTextKeyPress", null),
        Object(n.b)([f.b], k.prototype, "onUploaderDismiss", null),
        Object(n.b)([f.b], k.prototype, "OnDropFiles", null),
        Object(n.b)([f.b], k.prototype, "OnExpandImage", null),
        Object(n.b)([f.b], k.prototype, "OnExpandExitImage", null),
        Object(n.b)([f.b], k.prototype, "OnHandleExpandedFullSize", null),
        Object(n.b)([f.b], k.prototype, "OnHandleExpandedThumbnail", null),
        Object(n.b)(
          [f.b],
          k.prototype,
          "OnHandleOpenLocalizedImageGroup",
          null
        ),
        Object(n.b)([f.b], k.prototype, "InternalHandleExpandedAction", null),
        Object(n.b)([f.b], k.prototype, "InternalOpenLocalizeImageGroup", null),
        (k = G = Object(n.b)([r.a], k));
      class B extends o.Component {
        OnClanImageSelected(e, t) {
          const { OnClanImageSelected: a, closeModal: n } = this.props;
          a(e, t), n();
        }
        render() {
          const { clanSteamID: e, closeModal: t } = this.props;
          return o.createElement(
            _.e,
            {
              strTitle: Object(v.f)("#ImagePicker_Images"),
              strDescription: Object(v.f)("#ImagePicker_DoubleClickToSelect"),
              bAlertDialog: !0,
              onOK: t,
              onCancel: t,
            },
            o.createElement(k, {
              clanSteamID: e,
              insertActions: [],
              imageInsertCallBack: this.OnClanImageSelected,
              bHideDragAndDrop: !0,
              bShowLightBox: !1,
              fnSetImageURL: this.props.fnSetImageURL,
              rgRealmList: this.props.rgRealmList,
            })
          );
        }
      }
      Object(n.b)([f.b], B.prototype, "OnClanImageSelected", null);
      let N = (w = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.m_myInstanceID = w.m_instanceID += 1),
            (this.m_fileInput = o.createRef()),
            (this.state = { dragging: !1 }),
            (this.m_dragEventCounter = 0);
        }
        OverrideEventDefaults(e) {
          e.preventDefault(), e.stopPropagation();
        }
        DragEnterListener(e) {
          this.OverrideEventDefaults(e),
            (this.m_dragEventCounter += 1),
            ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
              (e.dataTransfer.types && "Files" === e.dataTransfer.types[0])) &&
              (this.state.dragging || this.setState({ dragging: !0 }));
        }
        DragLeaveListener(e) {
          this.OverrideEventDefaults(e),
            (this.m_dragEventCounter -= 1),
            0 === this.m_dragEventCounter &&
              this.state.dragging &&
              this.setState({ dragging: !1 });
        }
        DropListener(e) {
          this.OverrideEventDefaults(e),
            (this.m_dragEventCounter = 0),
            this.setState({ dragging: !1 });
          let t = e.dataTransfer.files;
          t && t.length > 0 && t[0] && this.props.onDropFiles(t);
        }
        onFileChoice(e) {
          let t = e.target.files;
          t && t.length > 0 && t[0] && this.props.onDropFiles(t),
            this.m_fileInput.current &&
              this.m_fileInput.current.value &&
              (this.m_fileInput.current.value = null);
        }
        OnNoOp() {}
        OnClanImageDialog(e) {
          const { clanSteamID: t, OnClanImageSelected: a } = this.props;
          Object(g.d)(
            o.createElement(B, {
              fnSetImageURL: this.props.fnSetImageURL,
              clanSteamID: t,
              OnClanImageSelected: a,
              rgRealmList: this.props.rgRealmList,
            }),
            Object(h.o)(e)
          );
        }
        render() {
          const { renderDesciption: e } = this.props;
          return o.createElement(
            "div",
            {
              className: this.state.dragging
                ? C.a.DragAndDropContainerDragging
                : C.a.DragAndDropContainer,
              onDrag: this.OverrideEventDefaults,
              onDragStart: this.OverrideEventDefaults,
              onDragEnd: this.OverrideEventDefaults,
              onDragOver: this.OverrideEventDefaults,
              onDragEnter: this.DragEnterListener,
              onDragLeave: this.DragLeaveListener,
              onDrop: this.DropListener,
            },
            Boolean(e) && e(),
            o.createElement(
              "div",
              null,
              Object(v.f)("#ImagePicker_DragAndDrop")
            ),
            o.createElement(
              "div",
              { className: C.a.ImageUploadBar },
              o.createElement(
                "label",
                { htmlFor: "imagepickerfilechoice" + this.m_myInstanceID },
                o.createElement(
                  "span",
                  null,
                  Object(v.f)("#ImagePicker_OrBrowse"),
                  " "
                ),
                o.createElement(
                  "span",
                  { className: C.a.SelectImageButton },
                  Object(v.f)("#selectimage_select_file")
                )
              ),
              o.createElement("input", {
                ref: this.m_fileInput,
                style: { display: "none" },
                id: "imagepickerfilechoice" + this.m_myInstanceID,
                type: "file",
                onSubmit: this.onFileChoice,
                onChange: this.onFileChoice,
                multiple: !0,
                accept: "image/png, image/jpg, image/gif",
              })
            ),
            this.props.bAllowPreviousClanImages &&
              o.createElement(
                "div",
                { className: C.a.ImageUploadBar },
                o.createElement(
                  "label",
                  { htmlFor: "clanimagedialog" + this.m_myInstanceID },
                  o.createElement(
                    "span",
                    null,
                    Object(v.f)("#ImagePicker_PreviousImages"),
                    " "
                  ),
                  o.createElement(
                    "span",
                    { className: C.a.SelectImageButton },
                    Object(v.f)("#ImagePicker_PreviousImages2")
                  )
                ),
                o.createElement("input", {
                  style: { display: "none" },
                  id: "clanimagedialog" + this.m_myInstanceID,
                  type: "button",
                  onClick: this.OnClanImageDialog,
                })
              ),
            this.props.children
          );
        }
      });
      (N.m_instanceID = 0),
        Object(n.b)([f.b], N.prototype, "OverrideEventDefaults", null),
        Object(n.b)([f.b], N.prototype, "DragEnterListener", null),
        Object(n.b)([f.b], N.prototype, "DragLeaveListener", null),
        Object(n.b)([f.b], N.prototype, "DropListener", null),
        Object(n.b)([f.b], N.prototype, "onFileChoice", null),
        Object(n.b)([f.b], N.prototype, "OnNoOp", null),
        Object(n.b)([f.b], N.prototype, "OnClanImageDialog", null),
        (N = w = Object(n.b)([r.a], N));
      class L extends o.Component {
        constructor() {
          super(...arguments),
            (this.m_linkPopupRef = o.createRef()),
            (this.state = { bDeleting: !1 });
        }
        onHandleFullSize() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            M.a.k_eInsertFullImage
          );
        }
        onHandleThumbnail() {
          this.props.imageInsertCallBack(
            this.props.clanImage,
            M.a.k_eInsertThumbnail
          );
        }
        onHandleLocalizedImageGroup() {
          this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
        }
        ShowInsertAction(e) {
          return (
            !this.props.insertActions ||
            this.props.insertActions.indexOf(e) >= 0
          );
        }
        OnDragStartSource(e) {
          e.dataTransfer.setData("text", this.props.clanImage.url),
            d.d.GetClanImageDragListener().forEach((e) => {
              e(c.a.InitFromClanID(this.props.clanImage.clanAccountID), !0);
            });
        }
        OnDragEndSource(e) {
          d.d.GetClanImageDragListener().forEach((e) => {
            e(c.a.InitFromClanID(this.props.clanImage.clanAccountID), !1);
          });
        }
        OnDeleteClick(e) {
          Object(g.c)(
            o.createElement(
              _.e,
              {
                strTitle: Object(v.f)("#ImagePicker_DeleteImageTitle"),
                strDescription: "",
                onOK: this.onDelete,
                onCancel: this.OnCloseDialog,
                closeModal: this.OnCloseDialog,
              },
              o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  null,
                  Object(v.f)(
                    "#ImagePicker_DeleteAreYouSure",
                    this.props.clanImage.file_name
                  )
                ),
                o.createElement("br", null),
                o.createElement("br", null),
                o.createElement(
                  "div",
                  null,
                  Object(v.f)("#ImagePicker_DeleteWarning")
                )
              )
            ),
            Object(h.o)(e)
          );
        }
        ShowDeleteError(e) {
          console.log("ClanImageWrapper on delete error: " + e),
            Object(g.d)(
              o.createElement(
                _.g,
                {
                  strTitle: Object(v.f)("#Error_FailureNotice"),
                  strDescription: Object(v.f)(
                    "#EventDisplay_DeleteEvent_Error"
                  ),
                },
                o.createElement("p", null, e)
              ),
              window
            );
        }
        onDelete() {
          this.setState({ bDeleting: !0 });
          let e = c.a.InitFromClanID(this.props.clanImage.clanAccountID);
          d.d
            .DeleteClanImage(e, this.props.clanImage)
            .then((e) => {
              1 != e.success &&
                this.ShowDeleteError(Object(S.a)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            })
            .catch((e) => {
              this.ShowDeleteError(Object(S.a)(e).strErrorMsg),
                this.setState({ bDeleting: !1 });
            }),
            this.m_linkPopupRef &&
              this.m_linkPopupRef.current &&
              this.m_linkPopupRef.current.click(),
            this.OnCloseDialog();
        }
        OnCloseDialog() {}
        OnImageClick() {
          this.props.OnImageClick &&
            this.props.OnImageClick(this.props.clanImage);
        }
        render() {
          const { clanImage: e } = this.props;
          let t = this.props.clanImage.file_name
              ? this.props.clanImage.file_name
              : "",
            a = Object(A.b)(
              this.props.searchStringHilight,
              t,
              String(this.props.clanImage.imageid),
              C.a.Hilight
            ),
            n = c.a.InitFromClanID(e.clanAccountID);
          const i = m.a.Get().GetPartnerEventPermissions(n);
          let l = this.state.bDeleting,
            r = !l && this.ShowInsertAction(M.a.k_eInsertFullImage),
            s = !l && this.ShowInsertAction(M.a.k_eInsertThumbnail),
            d = Boolean(
              !l &&
                i.valve_admin &&
                this.ShowInsertAction(M.a.k_eShowImageGroup)
            );
          return o.createElement(
            "div",
            { className: C.a.ImageWrapperContainer },
            o.createElement(
              "div",
              { className: C.a.ImageButton },
              o.createElement("div", {
                className: C.a.ImageWrapper,
                style: {
                  backgroundImage: `url( '${this.props.clanImage.thumb_url}' )`,
                },
                draggable: !0,
                onDragStart: this.OnDragStartSource,
                onDragEnd: this.OnDragEndSource,
                onDoubleClick: this.onHandleFullSize,
                onClick: this.OnImageClick,
              }),
              r &&
                o.createElement(
                  "span",
                  { className: C.a.Full, onClick: this.onHandleFullSize },
                  Object(v.f)("#ImagePicker_FullSize")
                ),
              l &&
                o.createElement(b.a, {
                  size: "medium",
                  className: C.a.FloatingThrobber,
                }),
              s &&
                o.createElement(
                  "span",
                  { className: C.a.Thumb, onClick: this.onHandleThumbnail },
                  Object(v.f)("#ImagePicker_Thumbnail")
                ),
              d &&
                o.createElement(
                  "span",
                  {
                    className: Object(E.a)(
                      C.a.Localized,
                      p.a.ValveOnlyBackground
                    ),
                    onClick: this.onHandleLocalizedImageGroup,
                  },
                  "(VO) " + Object(v.f)("#ImagePicker_Localized")
                ),
              !l &&
                o.createElement(
                  "span",
                  { className: C.a.Delete, onClick: this.OnDeleteClick },
                  o.createElement("img", null)
                ),
              o.createElement(
                "div",
                { className: C.a.ImageWrapperFilename, title: t },
                a
              )
            )
          );
        }
      }
      Object(n.b)([f.b], L.prototype, "onHandleFullSize", null),
        Object(n.b)([f.b], L.prototype, "onHandleThumbnail", null),
        Object(n.b)([f.b], L.prototype, "onHandleLocalizedImageGroup", null),
        Object(n.b)([f.b], L.prototype, "OnDragStartSource", null),
        Object(n.b)([f.b], L.prototype, "OnDragEndSource", null),
        Object(n.b)([f.b], L.prototype, "OnDeleteClick", null),
        Object(n.b)([f.b], L.prototype, "onDelete", null),
        Object(n.b)([f.b], L.prototype, "OnCloseDialog", null),
        Object(n.b)([f.b], L.prototype, "OnImageClick", null);
      let R = class extends o.Component {
        onRetry() {
          this.props.uploader.RetryAllFailedUploads();
        }
        onCancelUploads() {
          this.props.uploader.CancelAllUploads(), this.props.onDismiss();
        }
        render() {
          let e = this.props.uploader,
            t = e.BAllDone(),
            a = !t && !e.BHasError();
          return o.createElement(
            "div",
            { className: C.a.UploaderContainer },
            a &&
              o.createElement(
                "div",
                { className: C.a.UploaderRunning },
                o.createElement(
                  "div",
                  { className: C.a.UploaderDesc },
                  Object(v.f)(
                    "#ImageUpload_Desc",
                    e.GetCompletedFiles(),
                    e.GetTotalFiles()
                  )
                ),
                o.createElement(
                  "button",
                  { className: "DialogButton", onClick: this.onCancelUploads },
                  Object(v.f)("#Button_Cancel")
                )
              ),
            e.BHasError() &&
              o.createElement(
                "div",
                { className: C.a.UploadMessageAndButtonsContainer },
                o.createElement(
                  "div",
                  { className: C.a.UploadError },
                  Object(v.f)(
                    "#ImageUpload_Error",
                    e.GetLastErrorFile().file.name,
                    e.GetLastErrorFile().status,
                    e.GetLastErrorFile().message
                  )
                ),
                o.createElement(
                  "button",
                  {
                    className: C.a.UploadButtonCancel,
                    onClick: this.props.onDismiss,
                  },
                  Object(v.f)("#Button_Cancel")
                ),
                o.createElement(
                  "button",
                  { className: C.a.UploadButtonRetry, onClick: this.onRetry },
                  Object(v.f)("#Button_Retry")
                )
              ),
            t &&
              o.createElement(
                "div",
                { className: C.a.UploadMessageAndButtonsContainer },
                o.createElement(
                  "div",
                  { className: C.a.UploadSuccess },
                  Object(v.f)("#ImageUpload_Success")
                )
              )
          );
        }
      };
      Object(n.b)([f.b], R.prototype, "onRetry", null),
        Object(n.b)([f.b], R.prototype, "onCancelUploads", null),
        (R = Object(n.b)([r.a], R));
    },
    OzNB: function (e, t, a) {
      e.exports = {
        SummaryItems: "partnereventpublishingtab_SummaryItems_12a_L",
        ReachItems: "partnereventpublishingtab_ReachItems_H_jRC",
        StatusRow: "partnereventpublishingtab_StatusRow_SZwFX",
        StatusText: "partnereventpublishingtab_StatusText_1NUKt",
        LinkRow: "partnereventpublishingtab_LinkRow_1WnQ1",
        VisibilityNote: "partnereventpublishingtab_VisibilityNote_2UnJc",
        ReachSubject: "partnereventpublishingtab_ReachSubject_3EQb8",
        Future: "partnereventpublishingtab_Future_5EyH7",
        ReachColumnTitles: "partnereventpublishingtab_ReachColumnTitles_6VhIV",
        ReachColumnName: "partnereventpublishingtab_ReachColumnName_3ORkB",
        ReachSubjectOptional:
          "partnereventpublishingtab_ReachSubjectOptional_aXhwG",
        ReactSubjectOptionalText:
          "partnereventpublishingtab_ReactSubjectOptionalText_2CIfG",
        ReachPendingVisibilityText:
          "partnereventpublishingtab_ReachPendingVisibilityText_n1wAj",
      };
    },
    P2lf: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return c;
      }),
        a.d(t, "a", function () {
          return d;
        });
      var n = a("mrSG"),
        i = (a("NpuA"), a("mgoM")),
        l = a("65aj"),
        r = a("Kw0F"),
        o = a("qmbg"),
        s = a("TLQK");
      class c {
        constructor() {
          this.m_mapTokens = new Map();
        }
        GetLocalization(e, t) {
          const a = this.m_mapTokens.get(e);
          if (a && a[t]) return a[t];
        }
        SetLocalization(e, t, a) {
          let n = this.m_mapTokens.get(e);
          n || ((n = Object(r.e)([], 30, null)), this.m_mapTokens.set(e, n)),
            (n[t] = a);
        }
        GetSortedTokenList() {
          let e = [];
          return (
            this.m_mapTokens.forEach((t, a) => e.push(a)),
            e.sort((e, t) => e.localeCompare(t)),
            e
          );
        }
        GetLanguagesWithTokens() {
          let e = new Map();
          this.m_mapTokens.forEach((t) => {
            for (let a = 0; a < t.length; ++a)
              !e.has(a) &&
                null !== t[a] &&
                void 0 !== t[a] &&
                t[a].trim().length > 0 &&
                e.set(a, !0);
          });
          let t = new Array();
          return (
            e.forEach((e, a) => {
              e && t.push(a);
            }),
            t
          );
        }
        ClearLanguagesTokens(e) {
          e.forEach((e) => {
            this.m_mapTokens.forEach((t, a) => {
              e < t.length && null !== t[e] && (t[e] = null);
            });
          });
        }
        DebugPrintData() {
          const e = new Array();
          return (
            this.m_mapTokens.forEach((t, a) => e.push(`${a}=${t.join(",")}`)),
            e.join("\n")
          );
        }
      }
      class d {
        DetectAndFormatCSV(e) {
          var t, a, n, l, r, o;
          let s = null;
          return (
            (null ===
              (a =
                null === (t = null == e ? void 0 : e.meta) || void 0 === t
                  ? void 0
                  : t.fields) || void 0 === a
              ? void 0
              : a.length) >= 3 &&
            "field" === e.meta.fields[0] &&
            "language" === e.meta.fields[1] &&
            "value" === e.meta.fields[2]
              ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
              : (null ===
                  (l =
                    null === (n = null == e ? void 0 : e.meta) || void 0 === n
                      ? void 0
                      : n.fields) || void 0 === l
                  ? void 0
                  : l.length) >= 2 &&
                "field" === e.meta.fields[0] &&
                -1 != Object(i.d)(e.meta.fields[1], -1)
              ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
              : (null ===
                  (o =
                    null === (r = null == e ? void 0 : e.meta) || void 0 === r
                      ? void 0
                      : r.fields) || void 0 === o
                  ? void 0
                  : o.length) >= 2 &&
                "language" === e.meta.fields[0] &&
                (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
            s
          );
        }
        ReadLocalizationData_XML_SingleLanguage(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let a = new c(),
              n = new DOMParser(),
              i = yield o.a.ReadFile(e),
              l = n.parseFromString(i.toString(), "application/xml");
            for (let e = 0; e < l.documentElement.children.length; ++e) {
              const n = l.documentElement.children.item(e),
                i = n.getAttribute("id").toLocaleLowerCase(),
                r = n.textContent;
              a.SetLocalization(i, t, r);
            }
            return a;
          });
        }
        ReadLocalizationData_CSV_TokenLanguageList(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const a = e.field,
                n = Object(i.d)(e.language);
              t.SetLocalization(a, n, e.value);
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageColumns(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const a = e.field;
              for (let n = 0; n < 30; ++n) {
                const l = Object(i.c)(Object(i.a)(n));
                t.SetLocalization(a, n, e[l]);
              }
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageRows(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const a = Object(i.d)(e.language, 30);
              if (30 !== a)
                for (const [n, i] of Object.entries(e))
                  "language" !== n &&
                    "string" == typeof i &&
                    t.SetLocalization(n, a, i);
            }),
            t
          );
        }
        GetExportLanguages() {
          return s.b.GetLanguageListForRealms([
            l.ESteamRealm.k_ESteamRealmGlobal,
          ]);
        }
        WriteLocalizationData_CSV_TokenAndLanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            for (const n of this.GetExportLanguages()) {
              let l = { field: t };
              (l.language = Object(i.c)(Object(i.a)(n))),
                (l.value = e.GetLocalization(t, n)),
                a.push(l);
            }
          }),
            o.a.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            let n = { field: t };
            for (const a of this.GetExportLanguages())
              n[Object(i.c)(Object(i.a)(a))] = e.GetLocalization(t, a);
            a.push(n);
          }),
            o.a.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageRows(e, t) {
          let a = new Array();
          for (const e of this.GetExportLanguages())
            a.push({ language: Object(i.c)(Object(i.a)(e)) });
          e.GetSortedTokenList().forEach((t) => {
            for (const n of this.GetExportLanguages())
              a[n][t] = e.GetLocalization(t, n);
          }),
            o.a.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_XML_SingleLanguage(e, t, a) {
          let n = document.implementation.createDocument(null, "content", null);
          e.GetSortedTokenList().forEach((a) => {
            let i = n.createElement("string");
            i.setAttribute("id", a),
              i.appendChild(n.createTextNode(e.GetLocalization(a, t) || "")),
              n.documentElement.append(i);
          }),
            o.a.WriteXMLToFile(n, a);
        }
      }
    },
    PqGv: function (e, t, a) {
      e.exports = {
        EventCategory_SteamAwardsNomination:
          "partnereventspecialcategories_EventCategory_SteamAwardsNomination_3QxOk",
        SteamAwardCategoryPicker:
          "partnereventspecialcategories_SteamAwardCategoryPicker_2LfKB",
        SteamAwardCategoryOptions:
          "partnereventspecialcategories_SteamAwardCategoryOptions_1wsxj",
        event_nomination_banner_ctn:
          "partnereventspecialcategories_event_nomination_banner_ctn_-WzN3",
        CategoryTextCtn: "partnereventspecialcategories_CategoryTextCtn_3vRv1",
        SteamAwardTitle: "partnereventspecialcategories_SteamAwardTitle_3Sq0j",
        event_nomination_trophy:
          "partnereventspecialcategories_event_nomination_trophy_3kVDt",
        RadioBtnCtn: "partnereventspecialcategories_RadioBtnCtn_1Y6BP",
        CategoryTitle: "partnereventspecialcategories_CategoryTitle_25wr6",
        Halloween: "partnereventspecialcategories_Halloween_1etNG",
        EventTitle: "partnereventspecialcategories_EventTitle_6NPnW",
        EventDesc: "partnereventspecialcategories_EventDesc_2aLMq",
      };
    },
    Q47U: function (e, t, a) {
      "use strict";
      a.d(t, "c", function () {
        return d;
      }),
        a.d(t, "b", function () {
          return m;
        }),
        a.d(t, "a", function () {
          return u;
        });
      var n = a("mrSG"),
        i = a("2vnA"),
        l = (a("mgoM"), a("65aj"), a("dZOt")),
        r = a("Kw0F"),
        o = a("r64O"),
        s = a("lkRc"),
        c = a("fcuX");
      const d = {
        capability: 1,
        appids: [],
        partnerids: [],
        pub_rights: 0,
        app_rights: 0,
        priority: !1,
      };
      class m extends l.b {
        constructor(e) {
          super(e.GetEmailSettings()),
            (this.m_editModel = e),
            (this.m_sections = new Array()),
            this.m_setting.sections.forEach((t) =>
              this.m_sections.push(new u(t, e))
            ),
            s.b.IS_VALVE_GROUP &&
              (this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids ||
                  (this.m_setting.internal_targeting.partnerids = [])
                : (this.m_setting.internal_targeting = Object.assign({}, d)));
        }
        BSameEditModel(e) {
          return e === this.m_editModel;
        }
        GetNumSections() {
          return this.m_sections.length;
        }
        GetSectionObj(e) {
          return this.m_sections[e];
        }
        GetSectionObjects() {
          return this.m_sections;
        }
        LockEmail() {
          this.m_setting.locked ||
            ((this.m_setting.locked = !0),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetSubjectTextLoc(e) {
          this.m_setting.subject_loc_token != e &&
            ((this.m_setting.subject_loc_token = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        EnsureTargetingExists() {
          if (!this.m_setting.targeting) {
            let e = {};
            this.m_setting.targeting = Object(i.C)(e);
          }
        }
        EnsureFilteringExists() {
          if (!this.m_setting.filtering) {
            let e = {};
            this.m_setting.filtering = Object(i.C)(e);
          }
        }
        SetFilterIRTopN(e) {
          this.EnsureFilteringExists(),
            this.m_setting.filtering.ir_topn !== e &&
              ((this.m_setting.filtering.ir_topn = e),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetFilterWishlist(e) {
          this.EnsureFilteringExists(),
            this.m_setting.filtering.wishlist !== e &&
              ((this.m_setting.filtering.wishlist = e),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetControlGroupPercent(e) {
          Object(o.a)(
            e >= 0 && e <= 99,
            "SetControlGroupPercent outside of bounds: " + e
          ),
            (!e || e <= 0) && (e = 0),
            e > 99 && (e = 99),
            this.EnsureFilteringExists(),
            this.m_setting.filtering.control_group_percent !== e &&
              ((this.m_setting.filtering.control_group_percent = e),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetTargetingExistingPlayer(e) {
          this.EnsureTargetingExists(),
            this.m_setting.targeting.game_players !== e &&
              ((this.m_setting.targeting.game_players = e),
              e && (this.m_setting.targeting.game_owner_with_no_playtime = !1),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetTargetingGameWishlist(e) {
          this.EnsureTargetingExists(),
            this.m_setting.targeting.game_wishlister !== e &&
              ((this.m_setting.targeting.game_wishlister = e),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetExcludeGameOwners(e) {
          this.EnsureTargetingExists(),
            this.m_setting.targeting.game_exclude_owners !== e &&
              ((this.m_setting.targeting.game_exclude_owners = e),
              e && (this.m_setting.targeting.game_owner_with_no_playtime = !1),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetOwnersWithNoPlaytime(e) {
          this.EnsureTargetingExists(),
            this.m_setting.targeting.game_owner_with_no_playtime !== e &&
              ((this.m_setting.targeting.game_owner_with_no_playtime = e),
              e &&
                ((this.m_setting.targeting.game_exclude_owners = !1),
                (this.m_setting.targeting.game_players = !1),
                (this.m_setting.targeting.creator_home_player = void 0)),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetTargetingGameFollower(e) {
          this.EnsureTargetingExists(),
            this.m_setting.targeting.game_followers !== e &&
              ((this.m_setting.targeting.game_followers = e),
              this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetTargetingCreator(e, t) {
          this.EnsureTargetingExists(),
            (this.m_setting.targeting.creator_home = e ? [t] : void 0),
            this.m_setting.targeting.creator_home_player &&
              this.m_setting.targeting.creator_home_player[0] != t &&
              (this.m_setting.targeting.creator_home_player = void 0),
            this.m_editModel.SetDirty(c.d.jsondata_email);
        }
        SetTargetingCreatorPlayer(e, t) {
          this.EnsureTargetingExists(),
            (this.m_setting.targeting.creator_home_player = e ? [t] : void 0),
            this.m_setting.targeting.creator_home &&
              this.m_setting.targeting.creator_home[0] != t &&
              (this.m_setting.targeting.creator_home = void 0),
            e && (this.m_setting.targeting.game_owner_with_no_playtime = !1),
            this.m_editModel.SetDirty(c.d.jsondata_email);
        }
        SetForceFeatureID(e) {
          this.m_setting.force_feature_id != e &&
            ((this.m_setting.force_feature_id = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetLocalizedSubject(e, t) {
          return (
            (!this.m_setting.localized_subject ||
              this.m_setting.localized_subject.length < 30) &&
              (this.m_setting.localized_subject = Object(r.e)(
                this.m_setting.localized_subject || [],
                30,
                null
              )),
            this.m_setting.localized_subject[e] != t &&
              ((this.m_setting.localized_subject[e] = t),
              this.m_editModel.SetDirty(c.d.jsondata_email),
              !0)
          );
        }
        RemoveSection(e) {
          this.m_sections &&
            e < this.m_sections.length &&
            (this.m_setting.sections.splice(e, 1),
            this.m_sections.splice(e, 1),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        AddSection(e) {
          this.m_setting.sections.push(Object.assign({}, e)),
            this.m_sections.push(
              new u(
                this.m_setting.sections[this.m_setting.sections.length - 1],
                this.m_editModel
              )
            ),
            this.m_editModel.SetDirty(c.d.jsondata_email);
        }
        SetInternalTargetPriority(e) {
          this.m_setting.internal_targeting.priority !== e &&
            ((this.m_setting.internal_targeting.priority = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetInternalTargetPartnerCapability(e) {
          this.m_setting.internal_targeting.capability !== e &&
            ((this.m_setting.internal_targeting.capability = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        UpdateInternalTargetPublisherRights(e, t) {
          ((this.m_setting.internal_targeting.pub_rights & e) === e) !== t &&
            (t
              ? (this.m_setting.internal_targeting.pub_rights |= e)
              : (this.m_setting.internal_targeting.pub_rights &= ~e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        UpdateInternalTargetAppRights(e, t) {
          ((this.m_setting.internal_targeting.app_rights & e) === e) !== t &&
            (t
              ? (this.m_setting.internal_targeting.app_rights |= e)
              : (this.m_setting.internal_targeting.app_rights &= ~e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetInternalAppIDs(e) {
          (this.m_setting.internal_targeting.appids = e),
            this.m_editModel.SetDirty(c.d.jsondata_email);
        }
        SetInternalPublisherIDs(e) {
          (this.m_setting.internal_targeting.partnerids = e),
            this.m_editModel.SetDirty(c.d.jsondata_email);
        }
      }
      Object(n.b)([i.C], m.prototype, "m_sections", void 0),
        Object(n.b)([i.k], m.prototype, "SetFilterIRTopN", null),
        Object(n.b)([i.k], m.prototype, "SetFilterWishlist", null),
        Object(n.b)([i.k], m.prototype, "SetControlGroupPercent", null),
        Object(n.b)([i.k], m.prototype, "SetTargetingExistingPlayer", null),
        Object(n.b)([i.k], m.prototype, "SetTargetingGameWishlist", null),
        Object(n.b)([i.k], m.prototype, "SetExcludeGameOwners", null),
        Object(n.b)([i.k], m.prototype, "SetOwnersWithNoPlaytime", null),
        Object(n.b)([i.k], m.prototype, "SetTargetingGameFollower", null),
        Object(n.b)([i.k], m.prototype, "SetTargetingCreator", null),
        Object(n.b)([i.k], m.prototype, "SetTargetingCreatorPlayer", null),
        Object(n.b)([i.k], m.prototype, "SetForceFeatureID", null),
        Object(n.b)([i.k], m.prototype, "SetLocalizedSubject", null),
        Object(n.b)([i.k], m.prototype, "RemoveSection", null),
        Object(n.b)([i.k], m.prototype, "AddSection", null),
        Object(n.b)([i.k], m.prototype, "SetInternalTargetPriority", null),
        Object(n.b)(
          [i.k],
          m.prototype,
          "SetInternalTargetPartnerCapability",
          null
        ),
        Object(n.b)(
          [i.k],
          m.prototype,
          "UpdateInternalTargetPublisherRights",
          null
        ),
        Object(n.b)([i.k], m.prototype, "UpdateInternalTargetAppRights", null),
        Object(n.b)([i.k], m.prototype, "SetInternalAppIDs", null),
        Object(n.b)([i.k], m.prototype, "SetInternalPublisherIDs", null);
      class u extends l.a {
        constructor(e, t) {
          super(e), (this.m_editModel = t);
        }
        SetHeadline(e, t) {
          return (
            (this.m_section.localized_headline.length < t ||
              this.m_section.localized_headline[t] !== e) &&
            ((this.m_section.localized_headline[t] = e),
            this.m_editModel.SetDirty(c.d.jsondata_email),
            !0)
          );
        }
        SetBody(e, t) {
          return (
            (this.m_section.localized_body.length < t ||
              this.m_section.localized_body[t] !== e) &&
            ((this.m_section.localized_body[t] = e),
            this.m_editModel.SetDirty(c.d.jsondata_email),
            !0)
          );
        }
        SetVideoLink(e) {
          this.m_section.video_link !== e &&
            ((this.m_section.video_link = e),
            (this.m_section.video_image = void 0),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetVideoHashAndExt(e) {
          this.m_section.video_image !== e &&
            ((this.m_section.video_image = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetImage(e, t) {
          (this.m_section.localized_image.length < t ||
            this.m_section.localized_image[t] !== e) &&
            ((this.m_section.localized_image[t] = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetButtonTextLock(e) {
          this.m_section.button_loc_token !== e &&
            ((this.m_section.button_loc_token = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        SetButtonDestination(e) {
          this.m_section.button_destination !== e &&
            ((this.m_section.button_destination = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        static IsValidStoreURL(e) {
          return e && e.startsWith("https://store.steampowered.com/");
        }
        SetButtonDestinationStoreURL(e) {
          if (u.IsValidStoreURL(e)) {
            let t = e.substr("https://store.steampowered.com/".length);
            t != this.m_section.button_store_path &&
              ((this.m_section.button_store_path = t),
              this.m_editModel.SetDirty(c.d.jsondata_email));
          }
        }
        SetButtonAppOverride(e) {
          this.m_section.button_appid_override !== e &&
            ((this.m_section.button_appid_override = e),
            this.m_editModel.SetDirty(c.d.jsondata_email));
        }
        RemoveSubSection(e) {
          switch (e) {
            case "headline":
              this.BHasHeadline() &&
                ((this.m_section.localized_headline = void 0),
                this.m_editModel.SetDirty(c.d.jsondata_email));
              break;
            case "body":
              this.BHasBody() &&
                ((this.m_section.localized_body = void 0),
                this.m_editModel.SetDirty(c.d.jsondata_email));
              break;
            case "img":
              this.BHasImage() &&
                ((this.m_section.localized_image = void 0),
                this.m_editModel.SetDirty(c.d.jsondata_email));
              break;
            case "action":
              this.BHasCallToAction() &&
                ((this.m_section.button_loc_token = void 0),
                (this.m_section.button_appid_override = void 0),
                (this.m_section.button_destination = void 0),
                this.m_editModel.SetDirty(c.d.jsondata_email));
              break;
            case "youtube":
              this.BHasVideo() &&
                ((this.m_section.video_link = void 0),
                (this.m_section.video_image = void 0),
                this.m_editModel.SetDirty(c.d.jsondata_email));
              break;
            default:
              console.error(
                "CEmailSectionEditModel: Unexpected Email Template SubType to Remove: " +
                  e
              );
          }
        }
        BHasSomeSubSection() {
          return (
            this.BHasHeadline() ||
            this.BHasBody() ||
            this.BHasImage() ||
            this.BHasCallToAction() ||
            this.BHasVideo()
          );
        }
      }
      Object(n.b)([i.k], u.prototype, "SetHeadline", null),
        Object(n.b)([i.k], u.prototype, "SetBody", null),
        Object(n.b)([i.k], u.prototype, "SetVideoLink", null),
        Object(n.b)([i.k], u.prototype, "SetVideoHashAndExt", null),
        Object(n.b)([i.k], u.prototype, "SetImage", null),
        Object(n.b)([i.k], u.prototype, "SetButtonTextLock", null),
        Object(n.b)([i.k], u.prototype, "SetButtonDestination", null),
        Object(n.b)(
          [i.k.bound],
          u.prototype,
          "SetButtonDestinationStoreURL",
          null
        ),
        Object(n.b)([i.k], u.prototype, "SetButtonAppOverride", null),
        Object(n.b)([i.k], u.prototype, "RemoveSubSection", null);
    },
    R5ed: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return W;
      }),
        a.d(t, "b", function () {
          return q;
        }),
        a.d(t, "c", function () {
          return le;
        });
      var n = a("mrSG"),
        i = a("t0uJ"),
        l = a("2vnA"),
        r = a("TyAF"),
        o = a("q1tI"),
        s = a("dsQf"),
        c = a.n(s),
        d = a("mgoM"),
        m = a("65aj"),
        u = (a("3+zv"), a("Nsq5")),
        p = a("kLLr"),
        _ = a("U+Q5"),
        g = a("I/R6"),
        b = a("UWWC"),
        E = a("Mgs7"),
        h = a("qP7j"),
        v = a("yJqL"),
        S = a("TOXn"),
        f = a("SdTr"),
        O = a("vBFs"),
        C = a("fpVW"),
        y = a.n(C),
        T = a("Txw1"),
        j = a.n(T),
        I = a("exH9"),
        D = a("TLQK"),
        G = a("opsS"),
        w = a("UxvL"),
        A = a("lkRc"),
        M = a("qDk6");
      let k = class extends o.Component {
        OnActivate(e) {
          e.preventDefault();
          const { fnHandleOpenEvent: t, event: a } = this.props;
          t && t(a);
        }
        render() {
          const {
            event: e,
            spotlightURLOverride: t,
            headerNavElement: a,
            fnImageFailureCallback: n,
            fnFilterImageURLsForKnownFailures: i,
            langOverride: l,
          } = this.props;
          let r = l || Object(d.d)(A.c.LANGUAGE),
            s =
              void 0 !== t
                ? [t]
                : e.GetImageForSizeAsArrayWithFallback(
                    "spotlight",
                    r,
                    _.c.spotlight_main
                  );
          i && (s = i(s));
          let c = e.GetSummaryWithFallback(r),
            m = e.GetNameWithFallback(0),
            u = e.GetCategoryAsString();
          c = c.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
          let p = o.createElement(
            "span",
            { className: j.a.EventType },
            u,
            "-"
          );
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(
              "div",
              { className: j.a.MajorEvent_Ctn },
              o.createElement(
                "div",
                { className: j.a.MajorEventHeader },
                o.createElement("div", { className: j.a.EventType }, p),
                o.createElement(
                  "div",
                  { className: j.a.PartnerEventLargeImage_Title },
                  m
                ),
                a
              ),
              o.createElement(
                M.a,
                {
                  className: Object(I.a)(
                    j.a.AppDetailsSpotlightContainer,
                    j.a.MajorEventContainer
                  ),
                  onActivate: this.OnActivate,
                  focusable: !0,
                },
                o.createElement(
                  "div",
                  { className: j.a.MajorEventBackground },
                  o.createElement(w.a, {
                    className: j.a.MajorEventImageBackgroundBlur,
                    rgSources: s,
                    onIncrementalError: (e, t, a) => n && n(t),
                  })
                ),
                o.createElement(
                  "div",
                  { className: j.a.MajorEventImageContainer },
                  o.createElement(w.a, {
                    className: j.a.MajorEventImage,
                    rgSources: s,
                    onIncrementalError: (e, t, a) => n && n(t),
                  }),
                  o.createElement("div", {
                    className: j.a.MajorEventImageTemplate,
                  }),
                  o.createElement(
                    "div",
                    { className: j.a.MajoreEventImageContentContainer },
                    e.BShowLibrarySpotlightText() &&
                      o.createElement(
                        "div",
                        { className: j.a.MajorEventContent },
                        o.createElement(w.a, {
                          className: j.a.MajorEventSpotlightBackground,
                          rgSources: s,
                          onIncrementalError: (e, t, a) => n && n(t),
                        }),
                        o.createElement(
                          "div",
                          { className: j.a.MajorEventTextCtn },
                          o.createElement(
                            "div",
                            { className: j.a.MajorEventTitle },
                            e.GetNameWithFallback(r)
                          ),
                          o.createElement(
                            "div",
                            { className: j.a.MajorEventSummary },
                            c
                          )
                        )
                      )
                  )
                ),
                o.createElement("div", { className: j.a.BottomShadow })
              )
            )
          );
        }
      };
      Object(n.b)([G.b], k.prototype, "OnActivate", null),
        (k = Object(n.b)([r.a], k));
      var B = a("Jqb/"),
        N = a("ka0M"),
        L = a("6Y59"),
        R = a("X3Ds"),
        F = a("6h0J"),
        x = a.n(F),
        P = a("75vw"),
        U = a("bVxH"),
        V = a("6Oks"),
        H = a.n(V),
        z = a("b3LC");
      var W;
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required");
      })(W || (W = {}));
      const q = Object(r.a)((e) => {
          let t = i.c.GetEditModel();
          const { artworkType: a, headerHint: n } = e,
            [l] = Object(z.b)(t.GetAppID(), { include_assets: !0 });
          let r = null;
          n === W.k_Required
            ? (r = o.createElement(
                "span",
                { style: { color: "#C6512B" } },
                Object(D.f)("#EventEditor_Required")
              ))
            : n === W.k_Suggested &&
              (r = o.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                Object(D.f)("#EventEditor_Suggested")
              ));
          let s = null;
          "capsule" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_design_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_capsule_1")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_capsule_2")
                )
              ))
            : "background" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_design_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_background_1")
                )
              ))
            : "spotlight" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_spotlight_1")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_design_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_spotlight_2")
                )
              ))
            : "broadcast_left" === a || "broadcast_right" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  Object(D.f)("#selectimage_tip_broadcast_1")
                )
              ))
            : "sale_header" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: y.a.EventElementRequired },
                  Object(D.f)("#selectimage_tip_required_title")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "b",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_sale_header_1")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "b",
                    null,
                    Object(D.f)("#selectimage_tip_design_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_sale_header_2")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "b",
                    null,
                    Object(D.f)("#selectimage_tip_template_title")
                  ),
                  ": ",
                  o.createElement(
                    "a",
                    {
                      href:
                        "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/SalePageTemplates.zip",
                    },
                    Object(D.f)("#selectimage_tip_sale_header_3")
                  )
                ),
                o.createElement("br", null)
              ))
            : "hero" === a
            ? l &&
              (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  Object(D.f)("#selectimage_tip_hero_1")
                ),
                !Boolean(l.GetAssets().GetLibraryHeroURL()) &&
                  o.createElement(
                    "p",
                    { className: h.ErrorStylesBackground },
                    Object(D.f)("#EventEdtior_ArtworkType_hero_warning")
                  )
              ))
            : "localized_image_group" === a ||
              "link_capsule" === a ||
              "sale_section_title" === a ||
              "schedule_track_art" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement("p", null, Object(D.f)("#ImagePickerLoc_Desc")),
                o.createElement(
                  "p",
                  null,
                  Object(D.m)(
                    "#ImagePickerLoc_Files",
                    o.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/store/localization#supported_languages",
                        target: A.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(D.f)("#ImagePickerLoc_URL")
                    )
                  )
                )
              ))
            : "product_banner" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: y.a.EventElementOptional },
                  Object(D.f)("#selectimage_tip_optional_title")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "b",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_sale_product_banner")
                )
              ))
            : "product_mobile_banner" === a ||
              "product_banner_override" === a ||
              "product_mobile_banner_override" === a
            ? (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: y.a.EventElementOptional },
                  Object(D.f)("#selectimage_tip_optional_title")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "b",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ": ",
                  Object(D.f)("#selectimage_tip_sale_product_banner"),
                  "product_mobile_banner" === a &&
                    o.createElement(
                      "span",
                      null,
                      "  ",
                      Object(D.f)("#selectimage_tip_sale_product_banner_mobile")
                    )
                )
              ))
            : "tab_bar_background" === a &&
              (s = o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_design_title")
                  ),
                  ":",
                  Object(D.f)("#Sale_Tabs_Background_Design")
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "strong",
                    null,
                    Object(D.f)("#selectimage_tip_usage_title")
                  ),
                  ":",
                  Object(D.f)("#Sale_Tabs_Background_Usage")
                )
              ));
          const c = u.a[e.artworkType].width,
            d = u.a[e.artworkType].height;
          return o.createElement(
            "div",
            { id: e.id, className: H.a.ArtworkSelectorContainer },
            o.createElement(
              "div",
              { className: H.a.Title, onDoubleClick: e.fnToggleMinimize },
              e.title,
              o.createElement("span", null, ""),
              r,
              e.fnToggleMinimize &&
                o.createElement(
                  E.f,
                  {
                    "data-tooltip-text": Object(D.f)(
                      e.bIsMinimized
                        ? "#Sale_Section_Maximize_Tooltip"
                        : "#Sale_Section_Minimize_Tooltip"
                    ),
                    onClick: e.fnToggleMinimize,
                  },
                  e.bIsMinimized
                    ? o.createElement(L.M, null)
                    : o.createElement(L.P, null)
                )
            ),
            !e.bIsMinimized &&
              o.createElement(
                "div",
                { className: Object(I.a)(H.a.SelectImageBlock, H.a.Tips) },
                s,
                Boolean(c && d) &&
                  o.createElement(
                    "p",
                    null,
                    o.createElement(
                      "b",
                      null,
                      Object(D.f)("#selectimage_tip_dimensions_title")
                    ),
                    ":",
                    Object(D.m)("#selectimage_tip1", c, d)
                  ),
                Boolean(e.strWarning) &&
                  o.createElement(
                    "div",
                    null,
                    o.createElement(
                      "p",
                      { className: h.WarningStylesWithIcon },
                      e.strWarning
                    )
                  ),
                e.elEventArtworkExample,
                "",
                o.createElement("br", null),
                e.elAdditionalControls,
                Boolean(e.fnRemoveAllArtwork) &&
                  o.createElement(
                    E.f,
                    {
                      onClick: (t) => {
                        Object(N.d)(
                          o.createElement(Q, {
                            fnRemoveAllArtwork: e.fnRemoveAllArtwork,
                          }),
                          Object(R.o)(t)
                        );
                      },
                    },
                    Object(D.f)("#Sale_RemoveAll")
                  )
              ),
            !e.bIsMinimized &&
              o.createElement(J, {
                clanSteamID: e.clanSteamID,
                title: e.title,
                imageWidth: c,
                imageHeight: d,
                artworkType: e.artworkType,
              })
          );
        }),
        Q = (e) => {
          const { fnRemoveAllArtwork: t, closeModal: a } = e;
          return o.createElement(B.e, {
            strTitle: Object(D.f)("#Sale_RemoveAll"),
            strDescription: Object(D.f)("#ImageUpload_DeleteAll_Confirm"),
            onOK: () => {
              t(), a();
            },
            onCancel: a,
          });
        };
      let J = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              langOverride: g.a.Get().GetCurEditLanguage(),
              lastSelection: new Array(),
            });
        }
        OnUpdateAndMoveClanImageLang(e, t, a) {
          let n = i.c.GetEditModel();
          Object(l.G)(() => {
            const { artworkType: i } = this.props;
            n.GetImageHash(i, t) == e.image_hash && n.SetImageURL(i, null, t),
              n.SetImageURL(i, e, a),
              this.InsertOrUpdateClanImageAndLangMapping(e, a, !1);
          });
        }
        OnRemoveImage(e) {
          i.c.GetEditModel().SetImageURL(this.props.artworkType, null, e);
        }
        InsertOrUpdateClanImageAndLangMapping(e, t, a) {
          const { lastSelection: n } = this.state;
          let i;
          n.find((t) => t.clanImage.imageid == e.imageid)
            ? (i = n.map((a) =>
                a.clanImage.imageid == e.imageid ? { clanImage: e, lang: t } : a
              ))
            : a && (i = n.concat({ clanImage: e, lang: t })),
            this.setState({ lastSelection: i });
        }
        OnLanguageChange(e) {
          e != this.state.langOverride && this.setState({ langOverride: e });
        }
        OnSpotlightChange(e) {
          let t = i.c.GetEditModel();
          e && !t.BHasImage("spotlight", 0)
            ? (console.error("EventArtworkSelector: OnSpotlightChange"),
              Object(N.d)(
                o.createElement(B.g, {
                  strTitle: Object(D.f)("#Error_FailureNotice"),
                  strDescription: Object(D.f)(
                    "#EventEditor_Options_Spotlight_Error",
                    Object(D.f)("#EventEditor_Artwork")
                  ),
                }),
                window
              ))
            : t.SetLibrarySpotlight(e);
        }
        OnSpotlightTextChange(e) {
          i.c.GetEditModel().SetLibrarySpotlightText(e);
        }
        render() {
          let e = i.c.GetEditModel(),
            t = e.BHasImage("spotlight", 0);
          const { artworkType: a } = this.props,
            n = "localized_image_group" === a;
          return "hero" === a
            ? o.createElement(
                "div",
                { style: { padding: "16px" } },
                o.createElement(
                  E.f,
                  {
                    style: { textTransform: "uppercase", width: "200px" },
                    onClick: () =>
                      window.open(
                        `${
                          A.c.PARTNER_BASE_URL
                        }admin/game/edit/${e.GetAppID()}?activetab=tab_graphicalassets`
                      ),
                  },
                  Object(D.f)("#ImageUpload_EditHeroImage")
                )
              )
            : o.createElement(
                "div",
                null,
                o.createElement(Y, {
                  list: this.state.lastSelection,
                  fnOnArtworkLanguageChange: this.OnUpdateAndMoveClanImageLang,
                }),
                o.createElement(
                  "div",
                  null,
                  Boolean("spotlight" === a) &&
                    o.createElement(
                      o.Fragment,
                      null,
                      o.createElement(
                        "div",
                        { className: H.a.SpotlightOptions },
                        o.createElement(E.M, {
                          onChange: this.OnSpotlightChange,
                          label: Object(D.f)(
                            "#EventEditor_Options_Spotlight_Label"
                          ),
                          checked: e.GetEventModel().BShowLibrarySpotlight(),
                          disabled: !t,
                          description: Object(D.f)(
                            "#EventEditor_Options_Spotlight_Desc",
                            Object(D.f)("#EventEditor_Artwork")
                          ),
                        })
                      ),
                      o.createElement(
                        "div",
                        { className: H.a.SpotlightOptions },
                        o.createElement(E.M, {
                          onChange: this.OnSpotlightTextChange,
                          label: Object(D.f)(
                            "#EventEditor_Options_SpotlightText_Label"
                          ),
                          checked: e
                            .GetEventModel()
                            .BShowLibrarySpotlightText(),
                          disabled: !t,
                          description: Object(D.f)(
                            "#EventEditor_Options_SpotlightText_Desc",
                            Object(D.f)("#EventEditor_Artwork")
                          ),
                        })
                      )
                    ),
                  o.createElement(
                    "div",
                    {
                      className: Object(I.a)(
                        H.a.SelectImageBlock,
                        H.a.MainPreviewBlock
                      ),
                    },
                    o.createElement(ie, {
                      clanSteamID: this.props.clanSteamID,
                      fnOnLanguagePreviewChange: this.OnLanguageChange,
                      langOverride: this.state.langOverride,
                      fnOnArtworkLangChange: n
                        ? null
                        : this.OnUpdateAndMoveClanImageLang,
                      artworkType: this.props.artworkType,
                      fnOnRemoveImage: n ? null : this.OnRemoveImage,
                    })
                  )
                )
              );
        }
      };
      Object(n.b)([G.b], J.prototype, "OnUpdateAndMoveClanImageLang", null),
        Object(n.b)([G.b], J.prototype, "OnRemoveImage", null),
        Object(n.b)(
          [G.b],
          J.prototype,
          "InsertOrUpdateClanImageAndLangMapping",
          null
        ),
        Object(n.b)([G.b], J.prototype, "OnLanguageChange", null),
        Object(n.b)([G.b], J.prototype, "OnSpotlightChange", null),
        Object(n.b)([G.b], J.prototype, "OnSpotlightTextChange", null),
        (J = Object(n.b)([r.a], J));
      let Y = class extends o.Component {
        ShowLangChangeDialog(e, t) {
          const { fnOnArtworkLanguageChange: a } = this.props;
          Object(N.d)(
            o.createElement(Z, {
              clanImage: e,
              lang: t,
              fnOnArtworkLangChange: a,
            }),
            window
          );
        }
        GenerateImageMappings() {
          let e = new Array();
          const { list: t } = this.props;
          return (
            t.forEach((t) => {
              const { clanImage: a, lang: n } = t;
              let i = Object(D.f)("#Language_" + Object(d.a)(n));
              e.push(
                o.createElement(
                  "div",
                  {
                    key: "img_lang_" + t.clanImage.imageid + "_" + n,
                    className: y.a.FlexRowContainer,
                  },
                  o.createElement(
                    "span",
                    null,
                    Object(D.f)("#ImageUpload_Success_Mapping", a.file_name, i)
                  ),
                  o.createElement(
                    "a",
                    { onClick: () => this.ShowLangChangeDialog(a, n) },
                    Object(D.f)("#ImageUpload_Success_Mapping_Change")
                  )
                )
              );
            }),
            e
          );
        }
        render() {
          const { list: e } = this.props;
          if (!e || 0 == e.length) return o.createElement("div", null);
          let t = this.GenerateImageMappings();
          return o.createElement("div", { className: P.UploadSuccess }, t);
        }
      };
      Object(n.b)([G.b], Y.prototype, "ShowLangChangeDialog", null),
        (Y = Object(n.b)([r.a], Y));
      class Z extends o.Component {
        constructor() {
          super(...arguments), (this.state = { selectedLang: this.props.lang });
        }
        OnOK() {
          this.props.fnOnArtworkLangChange(
            this.props.clanImage,
            this.props.lang,
            this.state.selectedLang
          );
        }
        OnLanguageChange(e) {
          this.state.selectedLang != e && this.setState({ selectedLang: e });
        }
        render() {
          const { clanImage: e, closeModal: t, lang: a } = this.props,
            n = p.a.InitFromClanID(e.clanAccountID),
            l = _.a.GenerateArtworkURLFromHashAndExtensions(
              n,
              _.a.GetHashAndExt(e)
            ),
            r = i.c.GetEditModel();
          return o.createElement(
            B.e,
            {
              strTitle: Object(D.f)("#selectimage_change_artwork_lang_title"),
              strDescription: Object(D.f)(
                "#selectimage_change_artworl_lang_desc"
              ),
              onOK: this.OnOK,
              onCancel: t,
              closeModal: t,
            },
            o.createElement(
              "div",
              {
                className: Object(I.a)(
                  y.a.FlexColumnContainer,
                  H.a.ReassignCtn
                ),
              },
              o.createElement(
                "div",
                { className: H.a.ImagePreviewContainer },
                o.createElement("img", {
                  className: H.a.ArtworkPreview,
                  src: l,
                })
              ),
              o.createElement(O.a, {
                selectedLang: this.state.selectedLang,
                fnLangHasData: r.BHasTitleImage,
                fnOnLanguageChanged: this.OnLanguageChange,
                realms: r.GetIncludedRealmList(),
              })
            )
          );
        }
      }
      Object(n.b)([G.b], Z.prototype, "OnOK", null),
        Object(n.b)([G.b], Z.prototype, "OnLanguageChange", null);
      const K = Object(r.a)((e) => {
          const { imgURL: t } = e;
          let a = i.c.GetEditModel(),
            n = g.a.Get().GetCurEditLanguage();
          return o.createElement(
            "div",
            { style: { display: "flex", width: "304px" } },
            o.createElement(f.b, {
              event: a.GetEventModel(),
              imageURLOverride: t,
              langOverride: n,
            })
          );
        }),
        X = (e) => {
          const { lang: t } = e;
          let a = i.c.GetEditModel().GetEventModel(),
            n = a.GetNameWithFallback(t),
            l = a.GetDescriptionWithFallback(t),
            r = a.GetSubTitleWithLanguageFallback(t),
            s = l
              ? o.createElement(S.a, {
                  text: l || "",
                  partnerEventStore: i.c,
                  showErrorInfo: !1,
                  event: a,
                  languageOverride: g.a.Get().GetCurEditLanguage(),
                })
              : Object(D.f)("#selectimage_display_event_body");
          return o.createElement(
            "div",
            { className: H.a.MultipleExampleContainer },
            o.createElement(
              "div",
              { className: H.a.ExampleSectionTitle },
              Object(D.f)("#selectimage_preview_title_1")
            ),
            o.createElement(
              "div",
              {
                className: Object(I.a)(
                  H.a.DetailPageExample,
                  "DetailPageExample"
                ),
              },
              o.createElement(
                "div",
                { className: H.a.detailExample },
                o.createElement(
                  "div",
                  { className: H.a.MainImageCtn },
                  o.createElement("img", { src: e.imgURL })
                ),
                o.createElement(
                  "div",
                  { className: H.a.ExampleBodyPosition },
                  o.createElement(
                    "div",
                    { className: H.a.ExampleContentCtn },
                    o.createElement(
                      "div",
                      { className: H.a.TextTitle },
                      n || Object(D.f)("#selectimage_display_event_title")
                    ),
                    o.createElement(
                      "div",
                      { className: H.a.TextSubTitle },
                      r || Object(D.f)("#selectimage_display_event_subtitle")
                    ),
                    o.createElement("div", { className: H.a.TextBody }, s)
                  )
                )
              )
            ),
            12 != a.type &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("div", { className: H.a.ExampleSpacer }),
                o.createElement(
                  "div",
                  { className: H.a.ExampleSectionTitle },
                  Object(D.f)("#selectimage_preview_title_2")
                ),
                o.createElement(
                  "div",
                  {
                    className: Object(I.a)(
                      H.a.DetailPageExample,
                      "DetailPageExample"
                    ),
                  },
                  o.createElement(
                    "div",
                    { className: H.a.detailExample2 },
                    o.createElement(v.c, {
                      key: a.AnnouncementGID,
                      event: a,
                      emoticonStore: b.b,
                      partnerEventStore: i.c,
                      headerClassnames: "editor",
                      langOverride: t,
                      bDisableBroadcastPlayer: !0,
                    })
                  )
                )
              )
          );
        },
        $ = (e) => {
          const [t] = Object(z.b)(e.event.appid, { include_assets: !0 });
          if (!t) return null;
          const a = t.GetName(),
            n = t.GetAssets().GetCommunityIconURL();
          return o.createElement(
            "div",
            { className: H.a.SpotlightExample },
            o.createElement(k, {
              event: e.event,
              strDisplayName: a,
              gameIconUrl: n,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            })
          );
        },
        ee = (e) => {
          const t = [
            o.createElement("img", { key: "img", src: e.imgURL }),
            o.createElement("div", {
              key: "video",
              className: H.a.BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            o.createElement(
              "div",
              { className: H.a.BroadcastPreviewContainer },
              t
            )
          );
        },
        te = (e) =>
          o.createElement(
            "div",
            { className: H.a.SaleHeaderPreviewContainer },
            o.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          ),
        ae = (e) =>
          o.createElement(
            "div",
            { className: H.a.SaleHeaderPreviewContainer },
            o.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          ),
        ne = (e) =>
          o.createElement(
            "div",
            { className: H.a.SaleHeaderPreviewContainer },
            o.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
      let ie = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = { langOverride: g.a.Get().GetCurEditLanguage() });
        }
        render() {
          const {
            langOverride: e,
            artworkType: t,
            fnOnLanguagePreviewChange: a,
            clanSteamID: n,
          } = this.props;
          let l = i.c.GetEditModel(),
            r = l.GetImageURL(this.props.artworkType, this.props.langOverride);
          return l.BHasSomeImage(t)
            ? o.createElement(
                "div",
                { className: H.a.ImagePreviewContainer },
                "capsule" === t && o.createElement(K, { imgURL: r }),
                "background" === t &&
                  o.createElement(X, {
                    imgURL: r,
                    lang: g.a.Get().GetCurEditLanguage(),
                  }),
                "spotlight" === t &&
                  o.createElement($, {
                    imgURL: r,
                    event: l.GetEventModel(),
                    lang: l.GetCurEditLanguage(),
                  }),
                ("broadcast_left" === t || "broadcast_right" === t) &&
                  o.createElement(ee, {
                    imgURL: r,
                    side: "broadcast_right" === t ? "right" : "left",
                  }),
                "sale_header" === t && o.createElement(te, { imgURL: r }),
                "sale_overlay" === t && o.createElement(ae, { imgURL: r }),
                Boolean(
                  "localized_image_group" === t ||
                    "link_capsule" === t ||
                    "product_mobile_banner_override" === t ||
                    "product_banner_override" === t ||
                    "sale_section_title" === t ||
                    "schedule_track_art" === t
                ) &&
                  o.createElement("img", {
                    className: U.previewimg,
                    src: _.d.GetLocalizedImageGroupForEditAsURL(n, e),
                  }),
                "product_banner" === t && o.createElement(ne, { imgURL: r }),
                "product_mobile_banner" === t &&
                  o.createElement(ne, { imgURL: r }),
                "sale_logo" === t && o.createElement(ne, { imgURL: r }),
                o.createElement(le, {
                  langOverride: e,
                  clanSteamID: n,
                  fnOnLanguagePreviewChange: a,
                  fnOnRemoveImage: this.props.fnOnRemoveImage,
                  fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                  fnGetImageHash: (e) => l.GetImageHash(t, e),
                })
              )
            : o.createElement(
                "div",
                { className: H.a.ImagePreviewContainer },
                "capsule" === t &&
                  o.createElement(K, {
                    imgURL:
                      A.c.IMG_URL + "events/defaults/default_img_cover.jpg",
                  }),
                "background" === t &&
                  o.createElement(X, {
                    imgURL:
                      A.c.IMG_URL + "events/defaults/default_img_header.jpg",
                    lang: l.GetCurEditLanguage(),
                  }),
                "spotlight" === t &&
                  o.createElement($, {
                    lang: g.a.Get().GetCurEditLanguage(),
                    imgURL:
                      A.c.IMG_URL + "events/defaults/default_img_spotlight.jpg",
                    event: l.GetEventModel(),
                  }),
                o.createElement(
                  "div",
                  null,
                  Object(D.f)("#EventEditor_ArtworkMissing")
                )
              );
        }
      };
      ie = Object(n.b)([r.a], ie);
      let le = class extends o.Component {
        OnCloseDeleteDialog() {}
        OnChangeImageLanguage(e) {
          let t = Object(d.d)(e.currentTarget.id);
          this.props.fnOnLanguagePreviewChange(t);
        }
        OnChangeLanguage(e) {
          const { fnGetImageHash: t, clanSteamID: a } = this.props;
          let n = +e.currentTarget.dataset.lang,
            i = t(n);
          if (i) {
            let e = _.d.GetClanImageByImageHash(a, i);
            e &&
              Object(N.d)(
                o.createElement(Z, {
                  clanImage: e,
                  lang: n,
                  fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                }),
                window
              );
          }
        }
        OnDeleteClick(e) {
          e.stopPropagation(), e.preventDefault();
          let t = +e.currentTarget.dataset.lang;
          Object(N.d)(
            o.createElement(B.e, {
              strTitle: Object(D.f)("#selectimage_remove_image"),
              strDescription: Object(D.f)(
                "#selectimage_remove_details",
                Object(D.f)("#Language_" + Object(d.a)(t))
              ),
              closeModal: this.OnCloseDeleteDialog,
              onOK: () => {
                this.props.fnOnRemoveImage(t);
              },
              onCancel: this.OnCloseDeleteDialog,
            }),
            Object(R.o)(e)
          );
        }
        ConstructLanguages() {
          const {
            langOverride: e,
            fnGetImageHash: t,
            clanSteamID: a,
          } = this.props;
          let n = new Array(),
            i = a.GetAccountID(),
            l = Array();
          const r = D.b.GetLanguageListForRealms([
            m.ESteamRealm.k_ESteamRealmGlobal,
            m.ESteamRealm.k_ESteamRealmChina,
          ]);
          for (const e of r) {
            const a = t(e);
            if (a) {
              const t = Object(d.a)(e),
                n = Object(D.f)("#Language_" + t);
              l.push({ lang: e, strLang: t, locLang: n, imgHash: a });
            }
          }
          l = l.sort((e, t) =>
            e.locLang > t.locLang ? 1 : e.locLang < t.locLang ? -1 : 0
          );
          for (const t of l) {
            const l = _.d.GetClanImageByImageHash(a, t.imgHash),
              r = l
                ? _.a.GenerateArtworkURLFromHashAndExtensions(
                    this.props.clanSteamID,
                    _.a.GetHashAndExt(l),
                    _.c.full,
                    t.lang
                  )
                : "",
              s =
                e == t.lang
                  ? H.a.LanguageSelectorSelected
                  : t.imgHash
                  ? H.a.LanguageSelector
                  : H.a.LanguageSelectorNoData;
            n.push(
              o.createElement(
                "div",
                {
                  key: "lang_select_" + i + " " + t.strLang,
                  id: t.strLang,
                  className: H.a.LanguageContainer,
                  onClick: this.OnChangeImageLanguage,
                },
                o.createElement("div", { className: s }, t.locLang),
                o.createElement(
                  "span",
                  { className: H.a.LanguageOptions },
                  Boolean(r) &&
                    o.createElement(
                      "a",
                      {
                        href: r,
                        target: "_blank",
                        "data-tooltip-text": Object(D.f)(
                          "#selectimage_viewimage_ttip"
                        ),
                      },
                      L.V()
                    ),
                  this.props.fnOnArtworkLangChange &&
                    o.createElement("img", {
                      "data-lang": t.lang,
                      src: x.a,
                      onClick: this.OnChangeLanguage,
                      "data-tooltip-text": Object(D.f)(
                        "#selectimage_reassign_image_ttip"
                      ),
                    }),
                  this.props.fnOnRemoveImage &&
                    o.createElement("img", {
                      "data-lang": t.lang,
                      src: c.a,
                      onClick: this.OnDeleteClick,
                      "data-tooltip-text": Object(D.f)(
                        "#selectimage_delete_image_ttip"
                      ),
                    })
                )
              )
            );
          }
          return n;
        }
        render() {
          let e = this.ConstructLanguages();
          return o.createElement(
            "div",
            { className: H.a.SelectImageLanguagesCtn },
            o.createElement(
              "div",
              { className: H.a.SelectImageTitle },
              Object(D.f)("#selectimage_uploaded_languages")
            ),
            o.createElement("div", { className: H.a.LanguageListContainer }, e)
          );
        }
      };
      Object(n.b)([G.b], le.prototype, "OnCloseDeleteDialog", null),
        Object(n.b)([G.b], le.prototype, "OnChangeImageLanguage", null),
        Object(n.b)([G.b], le.prototype, "OnChangeLanguage", null),
        Object(n.b)([G.b], le.prototype, "OnDeleteClick", null),
        (le = Object(n.b)([r.a], le));
    },
    "S/ye": function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return O;
      }),
        a.d(t, "a", function () {
          return C;
        });
      var n = a("vDqi"),
        i = a.n(n),
        l = a("fcuX"),
        r = a("4r3H");
      var o = a("TyAF"),
        s = a("q1tI"),
        c = (a("mgoM"), a("65aj"), a("3+zv"), a("Mgs7")),
        d = a("IjL/"),
        m = a("fpVW"),
        u = a.n(m),
        p = a("ka0M"),
        _ = a("0OaU"),
        g = (a("AiWL"), a("exH9")),
        b = a("X3Ds"),
        E = a("TLQK"),
        h = a("OS6B"),
        v = a("lkRc"),
        S = a("pdAa"),
        f = a.n(S);
      function O(e) {
        const { eventModel: t, bAllowUpdate: a } = e,
          [n, i] = Object(r.a)(t);
        if (
          !(function (e) {
            switch (e) {
              case 12:
              case 13:
              case 14:
                return !0;
            }
            return !1;
          })(t.type) &&
          !n
        )
          return null;
        let l = s.createElement(
          "span",
          { className: Object(g.a)(f.a.BuildDisplay, f.a.BuildUnlinked) },
          Object(E.f)("#EventEditor_AssociateBuildBlank")
        );
        if (n) {
          const e = s.createElement(
            "a",
            {
              className: Object(g.a)(f.a.BuildIDLink),
              href: `${v.c.PARTNER_BASE_URL}apps/builddetails/${t.appid}/${n}`,
              onClick: (e) => e.stopPropagation(),
            },
            n
          );
          l = i
            ? s.createElement(
                "span",
                {
                  className: Object(g.a)(
                    f.a.BuildDisplay,
                    f.a.BuildLinkedBranch
                  ),
                },
                Object(E.m)("#EventEditor_AssociatedBuild", e, i)
              )
            : s.createElement(
                "span",
                {
                  className: Object(g.a)(
                    f.a.BuildDisplay,
                    f.a.BuildLinkedDefault
                  ),
                },
                Object(E.m)("#EventEditor_AssociatedBuild_Default", e)
              );
        } else if (!a) return null;
        return s.createElement(
          "div",
          { className: f.a.AssociatedBuildBody },
          l,
          e.children
        );
      }
      const C = Object(o.a)((e) => {
        const { editModel: t } = e,
          a = t.GetEventModel();
        return s.createElement(
          O,
          { eventModel: a, bAllowUpdate: !0 },
          s.createElement(
            "span",
            {
              "data-tooltip-text": Object(E.f)(
                "#EventEditor_AssociateBuild_ttip"
              ),
              className: u.a.tooltip_Ctn,
            },
            "?"
          ),
          s.createElement(
            c.f,
            {
              onClick: (t) =>
                Object(p.d)(
                  s.createElement(T, { editModel: e.editModel }),
                  Object(b.o)(t)
                ),
            },
            Object(E.f)("#EventEditor_AssociateBuild")
          )
        );
      });
      function y(e) {
        const t = new Date(1e3 * e.date).toLocaleDateString();
        return e.branch
          ? Object(E.f)(
              "#EventEditor_AssociateBuildBranch",
              e.branch,
              e.build_id,
              t
            )
          : Object(E.f)(
              "#EventEditor_AssociateBuildDefaultBranch",
              e.build_id,
              t
            );
      }
      const T = (e) => {
        const { editModel: t, closeModal: a } = e,
          n = (function (e) {
            const [t, a] = s.useState(null);
            return (
              s.useEffect(() => {
                if ((a(null), !e)) return;
                const t = i.a.CancelToken.source(),
                  n = v.c.COMMUNITY_BASE_URL + `ogg/${e}/ajaxgetappbranches`;
                return (
                  i.a
                    .get(n, { withCredentials: !0, cancelToken: t.token })
                    .then((e) => {
                      var n;
                      if (!t.token.reason) {
                        const t =
                          1 ==
                          (null === (n = null == e ? void 0 : e.data) ||
                          void 0 === n
                            ? void 0
                            : n.success);
                        a(t ? e.data.branches : []);
                      }
                    })
                    .catch((e) => {
                      if (!t.token.reason) {
                        const t = Object(h.a)(e);
                        console.error("useBranchInfo: " + t.strErrorMsg, t);
                      }
                    }),
                  () => t.cancel("useBranchInfo: unmounting")
                );
              }, [e]),
              t
            );
          })(t.GetEventModel().appid),
          [o, m] = s.useState(void 0),
          [u, g, b] = (function (e) {
            const [t, a] = Object(r.a)(e.GetEventModel());
            return [
              t,
              a,
              (n, i) => {
                (t == n && a == i) ||
                  ((e.GetEventModel().m_nBuildID = n),
                  (e.GetEventModel().m_strBuildBranch = i),
                  e.SetDirty(l.d.description));
              },
            ];
          })(t);
        if ((null == n ? void 0 : n.length) && void 0 === o) {
          const e = n.find((e) => "" == e.branch);
          e && m(e);
        }
        const S = Boolean(n),
          f = new Array();
        return (
          f.push({
            label: Object(E.f)("#EventEditor_AssociateBuildClear"),
            data: null,
          }),
          null == n ||
            n.forEach((e) => {
              f.push({ label: y(e), data: e });
            }),
          s.createElement(
            d.a,
            null,
            s.createElement(
              p.a,
              { onEscKeypress: a },
              s.createElement(
                c.h,
                null,
                s.createElement(
                  c.z,
                  null,
                  Object(E.f)("#EventEditor_AssociateBuildDialog")
                ),
                s.createElement(
                  c.d,
                  null,
                  s.createElement(
                    c.e,
                    null,
                    Object(E.f)("#EventEditor_AssociateBuildDialogDesc")
                  ),
                  S &&
                    s.createElement(c.n, {
                      rgOptions: f,
                      selectedOption: o,
                      onChange: (e) => m(e.data),
                    }),
                  !S && s.createElement(_.a, null)
                ),
                s.createElement(
                  c.r,
                  null,
                  s.createElement(c.E, {
                    onCancel: a,
                    bOKDisabled: !S,
                    onOK: () => {
                      b(
                        null == o ? void 0 : o.build_id,
                        null == o ? void 0 : o.branch
                      ),
                        a();
                    },
                  })
                )
              )
            )
          )
        );
      };
    },
    TScJ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEM4RUZCNTdFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEM4RUZCNThFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QzhFRkI1NUUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QzhFRkI1NkUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Plzu/oAAAAnSSURBVHja7J2Ndds4DIDhTqANwg3iTmB1gniD6CawbwK7E7g3gXMTuJ3A6QROJpA3UDbwWT0qVhRSIiWCv8B7fO5r04iWPuGHAMEZpCPZdbDrmF/HHf9z1voE/meRnFufb63PV/75wj+Dk8vlovXzs4jhyK9jwQGZt6DAkhcO0jMHKQiIUgUm41A8XMeyR1PYlmc+fvPP4IEJHZLiOo7XUdXf3fNRXseeaz6vgNEZIUp9ww+BQDIEDyNg8LTJNnBIZKPWkI8EjBmp38BdpKCItM6jba0TCzCMq+xLgqPk2pQRMGqm50eioMg0DgEjkW0ipscrcEIEJuc3heDoHyhRVUjAkPnRH7UGXqcIDGmV6aE4SwUY0ioe+TY+A8P4m0EP2+zYxQjMnEwQ6jiNNVE+AlPQA7VmoljowGzpQVqPopahAkPOrbuxDg2YJ3pozsc2FGAIloCgcQ0MwRIYNC6BIZ8lQJ/GFTAUDfk/lr4As6aHEUzIPZ8KzNRtJjlf7ieRS7Px7UWSsW+2yGQW5lLP4xvcNuZZXe5ntNwvfZP3PDF4p5k+Kfj/xSwkO7kySQTL55KDheGUClaydmcbGIqI8EARaXKMgvhHW8BQMvGW7FuAPSkMa/Xa7DFsYMhvuan0DOxLxq9tTDtiA7MHcmid7VJEWspYYwFTkAn6vI7hUOaGoikt00SmCLE4KSBojqYX7uqoaJXwwtvX9mLXCL8jh49dr9oLelObD815pDbVp/p2BeLZVFhHORh9SFaa6yhTujgUhrRoZsIkpezobkaAsp1oJsZuHzERPW2mAjNP3G/RNQ0luPObMgPXr4a0zJCkvI9I52GtFR/Gid/TZlRgNozPsbUM9sVD3viuKtuBB74ZCMeZwiruVmM+R0wt0ycH0i6jNUs1wv8ZWv5/9EHLUGQ0XrswMLwLsfV7D7IFNltaRheYlCMj1YRiKYHFVI7pCQZqWZC1zKMqMClrl3KC31IiJCRFmkZlk1pmYAX4qApMQeZIO01SAU7qIJNcSwVME1Yi7wLzRXChVFMAtfxUVPdMkDo5I8ynThf8LYBIxQH+beD6D5QG6B8qb+5p4gLfGDkK0gg2nmU1ZJJ2CcNSjXwIewvArEbCbSKTnfeZpCWkKy+Ky/+iaAZbfinOpSsmzOQHs/SlMwGWMDAqN/de8HevluZ2VpgLBjCFDJgFpC0q9ShM8EDeHAHNDH2nwUhtNpvlImCWBExQ87NZhL4QAZMnDszZ8/llDq/9ScOkDkvtuP5LgMud/atZytrApOy/1Df++wQ/wtabPzfgc03RbnPSMP/LVuNtfe2z78iwZCOWAUzCfN8GZp4oLLqm6LnPviPKw8hwnhmG9p1C2mukLt1l+grwzVI3AXlUfMBG71ez0puqdilGOo4/BWp/gzjPtQDspxE+z1RhjeO7SlC7THnAsloTDNPEBNpFNdmJUWL7p0FSaglHE9nljUET1wemqKpPtbYXo4vVg8gmU4G3mpwQocl6fr+qucW4dyvZFydTpOYjVGC+ywOTaBabReC9rc4qMkWTHGdTh3oObbNVzfXlgFzCuof4W3lg1dzK/JnuTV5Krp/xf9sNvLg6ux8xXYxj922J1Txh1ykXipq64i9nqfHzC0Maz3jL1vZSd0z7kmyUUPb5HrZOjmUWLEU5NIEicHPlonPU1Hs2tt3HHjzyAxcQ5l5rlw0MCw1/ooJp/X5tnfdQzUao3Q2I9+b4mFj8y5O5LOCWcZa1LBsrOQRy3oPOG0RNDHHEVFNEnWHE2duDX+s5KRSE5Q7ueWXyC2SeOMm7BGBZQzyLn05Dc4wOCj5JBm7P1UTfFmw7NI/Zb1l6oL2tOtcPyE7yJlJQco+Ci+PMwQ2YGpqfeRh6ho+V898jgqRp6bEEvwr0f7qegGpoXv9MnQ+6g3hlDrfu4b5WEOx8ull7sH/amQvNsW+NI4SVevGu2RRraZ3Y1lJyCL+M5AFIrGiVWM7InM8CfQC1CbuHj1tVayf4teUQ+2JqD7GE+5fLZRYiLCpZ86ZEwOWDWkNc5a8nm4eiY/g6KvmrEtT62pqeW4w7MQ4hA9N1koecyZMlbZNDvEX1qxiAactQ/gqz5CEmx1ZaARAbMF1zZQsa0wdreTnGnlsdGjgl4CbQ1rGDAp1zB2IXGTRrA783pS3GKxEwhQehKBY0XUd0Sk+XJaSzW/R9wU4ETA4f9/LkEUEjMh1jToz9kRgo742EZCaplCyAxVDFVk3wZZJwbCVj3wfMpie62AdurkTf7W6kdkrqhLo+YHJQq015DBAYUc+3R3Js1c2RLEpSvUm11tkFpnW6ZmlHjq26OZIBsxnziwNxkksY3qhfECi3onqVI/z+Af2DGgq4VY+FHprHXAaqI89XQM7dvxQBU8PyNGHN46nlJPvW0jUTfFcSsQgZ+CL54V8GLlhrnRMfPjjJTADMWQGqFOV81S7ah3WYjhBch+Yi32Rh4XuHOISHnA/lknLECblwkEUgqDjGyYfSQ07vu9MD4sMYTIjt6nPRhrAnidlikLY8TfnPWFqm7PEzMBzdUtEcFaRd5NpFtbwBy6bnEkBNh+aiovGD5GdPQL7LZGAY0uRkyb+doQXBTAK7rGdvTtqlHxadAqqdRS0jMiG6WfO+1hgry5o0Gu2iA0yGlFs59mg1Wb/9prN21plfDd92wKxsNELupHNGU4Fp3lqMya41oTHdP8b0dYJsq48BDJba7jsHIDNgDkvo39i/T1y7rFRhGQMMQzJNQ9s/2AhYK65V+vyebeKwHHVgGbtrAMs0qewZYtDfdKep0VFpFZI6LKWOKZq6zWTnEJqu3I1IGP4Ayhf9SQjbAiZDXOSqAG8DPaPFuY8BgC1gMP0ZjA30Q6edpTQ+nHlkExhbq6OHiau9BEqPydcFxkRHoTXY6a54bmXQX+Fz29VG6835WEBcm/GmSn2vvkKnaMzVfumN47eGNMjIAztsm6RuHQU9mMAOGnMJDEET4FndroEhaAI72N0HYAiaQGDxCRjM1WAaBg9H9QkY19FTqqUKWi33fQOmWaehh+npwag+AgOQdkMeWyeljUqj+AoMJf48PcPIZ2DIrzHvryynPowQgGmSlmSiHJigUIFpMskUeutrFaOnooUEDGkbR1oldGDavg2Bo7/rIVlgmkhqT5DgmJ8YgSFw1LbHEDAEjl1QYgWmDU4RqY9TO7POjveNFZi2LCLQOo02Wbi+mSkA017HqbXOISBIduDZAe4udg34Ig98qbzZNeBa6ir9+gztZz5++3jTdLVGTMB0fZ57vijYAITtTJ45GC98vEIAjaMJmH4Tdg+3TpmstXLa/RTB0Hy+tbTHG8j3SAUhusD8J8AACcnjDcoQidMAAAAASUVORK5CYII=";
    },
    TuNA: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return b;
      });
      var n = a("1fPh"),
        i = (a("fcuX"), a("t0uJ")),
        l = a("TyAF"),
        r = a("q1tI"),
        o = a("EC67"),
        s = a("gBDv"),
        c = a("ka0M"),
        d = a("X3Ds"),
        m = a("TLQK"),
        u = a("hvYe"),
        p = a.n(u),
        _ = a("jG1S"),
        g = a("aXcg");
      const b = Object(l.a)((e) => {
        const { editModel: t } = e,
          [a] = Object(s.c)();
        let l = t.GetEventModel().bOldAnnouncement;
        const [u, b] = r.useState(!1);
        if (u) {
          let e = t.GetStrVanityOrAppID();
          return r.createElement(o.b, {
            push: !0,
            to: l
              ? n.a.Migrate(e, t.GetAnnouncementGID())
              : n.a.Edit(e, t.BHasGid() ? t.GetGID() : ""),
          });
        }
        let E = t.BHidden(),
          h = t.BPublished() && !t.BHidden(),
          v = t.BIsDirty() || a(t.GetGID());
        return r.createElement(
          "button",
          {
            onClick: (e) => {
              let t = i.c.GetEditModel(),
                a = t.BHasGid();
              Object(c.d)(
                r.createElement(_.b, {
                  editModel: t,
                  OnSuccess: () => {
                    a || b(!0);
                  },
                }),
                Object(d.o)(e)
              );
            },
            className: "btn_green_steamui btn_medium",
          },
          r.createElement(
            "span",
            null,
            !v && r.createElement("img", { className: g.SavedImage, src: p.a }),
            Object(m.f)(v ? "#Button_Save" : "#Button_Saved"),
            v &&
              r.createElement(
                "span",
                {
                  "data-tooltip-text": E
                    ? Object(m.f)("#EventEditor_Create_ttip")
                    : h
                    ? Object(m.f)("#EventEditor_SaveLive_ttip")
                    : "",
                },
                E || h ? " (?)" : ""
              )
          )
        );
      });
    },
    Txw1: function (e, t, a) {
      e.exports = {
        "duration-app-launch": "800ms",
        ReadMoreLink: "spotlight_ReadMoreLink_2mvgc",
        MajorEventContainer: "spotlight_MajorEventContainer_dVJB2",
        MajorEventImageContainer: "spotlight_MajorEventImageContainer_1PkTB",
        MajorEventImage: "spotlight_MajorEventImage_25fL1",
        BottomShadow: "spotlight_BottomShadow_1ueE9",
        MajoreEventImageContentContainer:
          "spotlight_MajoreEventImageContentContainer_3mREW",
        MajorEventImageTemplate: "spotlight_MajorEventImageTemplate_lQR9_",
        MajorEventBackground: "spotlight_MajorEventBackground_388Iu",
        MajorEventImageBackgroundBlur:
          "spotlight_MajorEventImageBackgroundBlur_3sVs6",
        MajorEventHeader: "spotlight_MajorEventHeader_1HL2n",
        PartnerEventLargeImage_Title:
          "spotlight_PartnerEventLargeImage_Title_bYwbk",
        EventType: "spotlight_EventType_3zVyX",
        GameIconAndName: "spotlight_GameIconAndName_IltgR",
        GameIcon: "spotlight_GameIcon_3Dkj3",
        MajorEventSpotlightBackground:
          "spotlight_MajorEventSpotlightBackground_1aheP",
        MajorEventContent: "spotlight_MajorEventContent_2nr7N",
        MajorEventTextCtn: "spotlight_MajorEventTextCtn_Ojdg2",
        MajorEventTitle: "spotlight_MajorEventTitle_nEBZT",
        MajorEventSummary: "spotlight_MajorEventSummary_HPngO",
        MajorEvent_Ctn: "spotlight_MajorEvent_Ctn_2_kU7",
        AppDetailsSpotlightContainer:
          "spotlight_AppDetailsSpotlightContainer_1zDJ1",
      };
    },
    U6Vi: function (e, t, a) {
      e.exports = {
        CenterAlign: "partnereventemails_CenterAlign_cMmai",
        ControlBarCtn: "partnereventemails_ControlBarCtn_1RQ0B",
        ButtonSettingContainer:
          "partnereventemails_ButtonSettingContainer_3jwD2",
        ButtonSettingRow: "partnereventemails_ButtonSettingRow_1mF5p",
        DevHeader: "partnereventemails_DevHeader_35PpK",
        EmailTabCtn: "partnereventemails_EmailTabCtn_fDsyX",
        EmailInputText: "partnereventemails_EmailInputText_1UcSg",
        EmailBackground: "partnereventemails_EmailBackground_bEP0P",
        DevEmailEmailBackground:
          "partnereventemails_DevEmailEmailBackground_20Vcu",
        EmailEditorContent: "partnereventemails_EmailEditorContent_1nDhB",
        EmailIconHeader: "partnereventemails_EmailIconHeader_3LZBl",
        FooterLegal: "partnereventemails_FooterLegal_bJOii",
        EditImageInputCtn: "partnereventemails_EditImageInputCtn_1LyXp",
        EmailInput: "partnereventemails_EmailInput_2D8AC",
        EmailOptionTitle: "partnereventemails_EmailOptionTitle_1zLvJ",
        EmailSection: "partnereventemails_EmailSection_1zUIk",
        EmailSubjectCtn: "partnereventemails_EmailSubjectCtn_BHpFD",
        EmailSubjectSelect: "partnereventemails_EmailSubjectSelect_18xOZ",
        EmailTemplate: "partnereventemails_EmailTemplate_18iTr",
        EmailTextCtn: "partnereventemails_EmailTextCtn_1rQlP",
        HeadlineInput: "partnereventemails_HeadlineInput_2lHX9",
        Footer: "partnereventemails_Footer_23AXh",
        ImgCrossCtn: "partnereventemails_ImgCrossCtn_59gyF",
        FullImageCtn: "partnereventemails_FullImageCtn_uv6NV",
        BodyInput: "partnereventemails_BodyInput_3VRhY",
        Hello: "partnereventemails_Hello_Gd3d5",
        Reason: "partnereventemails_Reason_10TSv",
        RecipientCtn: "partnereventemails_RecipientCtn_330Dr",
        GameLink: "partnereventemails_GameLink_39DSS",
        RightAlign: "partnereventemails_RightAlign_zffsf",
        TargetAndAudience: "partnereventemails_TargetAndAudience_3h8QM",
        VideoCtn: "partnereventemails_VideoCtn_2mtrE",
        VideoInputCtn: "partnereventemails_VideoInputCtn_1ESNV",
        ButtonDestInputSaleURL:
          "partnereventemails_ButtonDestInputSaleURL_3Lr4k",
        DevEmailTemplate: "partnereventemails_DevEmailTemplate_sC9ZV",
        DevEmail_Content: "partnereventemails_DevEmail_Content_25Gtl",
        DevEmail_HearComes: "partnereventemails_DevEmail_HearComes_3nvmQ",
        DevEmail_TopLogo: "partnereventemails_DevEmail_TopLogo_1dbBh",
        DevEmail_TopHeader: "partnereventemails_DevEmail_TopHeader_2lmZl",
        DevEmail_Subject: "partnereventemails_DevEmail_Subject_37Wbo",
        DevEmail_SignOff_Img: "partnereventemails_DevEmail_SignOff_Img_KW2YG",
        DevEmail_Signoff: "partnereventemails_DevEmail_Signoff_3iJuG",
        DevEmail_Footer_Ctn: "partnereventemails_DevEmail_Footer_Ctn_RINyW",
        DevEmail_Footer_Reason:
          "partnereventemails_DevEmail_Footer_Reason_1h_Bm",
        DevEmail_Footer_SubSection:
          "partnereventemails_DevEmail_Footer_SubSection_2gEsj",
        DevEmail_Footer_Bold: "partnereventemails_DevEmail_Footer_Bold_CSfHW",
        DevEmail_Footer_Regular:
          "partnereventemails_DevEmail_Footer_Regular_1dDJa",
        DevEmail_Follow: "partnereventemails_DevEmail_Follow_1gwxy",
        DevEmail_RecipientTable:
          "partnereventemails_DevEmail_RecipientTable_2EDti",
        TargetCtn: "partnereventemails_TargetCtn_1Ts_n",
        TargetTypeTitle: "partnereventemails_TargetTypeTitle_2Erit",
        TargetTypeCtn: "partnereventemails_TargetTypeCtn_3TxAc",
        TargetedListCtn: "partnereventemails_TargetedListCtn_3NubR",
        SelectListCtn: "partnereventemails_SelectListCtn_980o4",
        SupportCtn: "partnereventemails_SupportCtn_27guD",
      };
    },
    UvY0: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return o;
      }),
        a.d(t, "b", function () {
          return s;
        });
      var n = a("q1tI"),
        i = (a("kLLr"), a("9w6b")),
        l = a("fpVW"),
        r = a("exH9");
      function o(e, t) {
        if (!e || !e.BIsClanAccount) return !1;
        const a = i.a.Get().GetPartnerEventPermissions(e);
        return !!a && (t ? a.valve_admin : a.valve_admin || a.support_user);
      }
      const s = (e) => {
        const { clanSteamID: t } = e;
        return o(t, e.requireAdmin)
          ? n.createElement(
              "div",
              {
                className: Object(r.a)(
                  e.className,
                  e.requireAdmin
                    ? l.ValveOnlyAdminBackground
                    : l.ValveOnlyBackground
                ),
              },
              e.children
            )
          : null;
      };
    },
    Vitc: function (e, t, a) {
      e.exports = {
        FacetValueName: "facetedbrowseeditor_FacetValueName_3wruf",
        FacetValueCtn: "facetedbrowseeditor_FacetValueCtn_btRSv",
        FacetValueFilterDisplayCtn:
          "facetedbrowseeditor_FacetValueFilterDisplayCtn_2Xo5C",
        FacetName: "facetedbrowseeditor_FacetName_39gQo",
        FacetFilterDisplayCtn:
          "facetedbrowseeditor_FacetFilterDisplayCtn_3_YHd",
      };
    },
    Ww0A: function (e, t, a) {
      "use strict";
      a.d(t, "d", function () {
        return l;
      }),
        a.d(t, "b", function () {
          return r;
        }),
        a.d(t, "a", function () {
          return o;
        }),
        a.d(t, "e", function () {
          return c;
        }),
        a.d(t, "c", function () {
          return d;
        });
      var n = a("wd/R"),
        i = a.n(n);
      a("mgoM"), a("3+zv"), a("jkzW");
      const l = [
          "small_update",
          "regular_update",
          "major_update",
          "release",
          "future_release",
          "beta_release",
          "dlc_release",
          "season_release",
          "sale",
          "gameitem_sale",
          "trial",
          "bonusxp",
          "loot",
          "perks",
          "general",
          "challenge",
          "contest",
          "broadcast",
          "news",
          "chat",
          "irl",
          "crosspost",
        ],
        r = {
          small_update: {
            name: "#PartnerEvent_12",
            description: "#PartnerEvent_12_Desc",
            type: 12,
            tags: ["patchnotes"],
          },
          regular_update: {
            name: "#PartnerEvent_13",
            description: "#PartnerEvent_13_Desc",
            type: 13,
          },
          major_update: {
            name: "#PartnerEvent_14",
            description: "#PartnerEvent_14_Desc",
            type: 14,
          },
          release: {
            name: "#PartnerEvent_10_editor",
            description: "#PartnerEvent_10_Desc",
            type: 10,
          },
          future_release: {
            name: "#PartnerEvent_16_editor",
            description: "#PartnerEvent_16_Desc",
            type: 16,
          },
          beta_release: {
            name: "#PartnerEvent_29_editor",
            description: "#PartnerEvent_29_Desc",
            type: 29,
          },
          dlc_release: {
            name: "#PartnerEvent_15",
            description: "#PartnerEvent_15_Desc",
            type: 15,
          },
          season_release: {
            name: "#PartnerEvent_32",
            description: "#PartnerEvent_32_Desc",
            type: 32,
          },
          sale: {
            name: "#PartnerEvent_20_editor",
            description: "#PartnerEvent_20_Desc",
            type: 20,
          },
          gameitem_sale: {
            name: "#PartnerEvent_21_editor",
            description: "#PartnerEvent_21_Desc",
            type: 21,
          },
          trial: {
            name: "#PartnerEvent_31",
            description: "#PartnerEvent_31_Desc",
            type: 31,
          },
          bonusxp: {
            name: "#PartnerEvent_22",
            description: "#PartnerEvent_22_Desc",
            type: 22,
          },
          loot: {
            name: "#PartnerEvent_23",
            description: "#PartnerEvent_23_Desc",
            type: 23,
          },
          perks: {
            name: "#PartnerEvent_24",
            description: "#PartnerEvent_24_Desc",
            type: 24,
          },
          general: {
            name: "#PartnerEvent_35",
            description: "#PartnerEvent_35_Desc",
            type: 35,
          },
          challenge: {
            name: "#PartnerEvent_25",
            description: "#PartnerEvent_25_Desc",
            type: 25,
          },
          contest: {
            name: "#PartnerEvent_26",
            description: "#PartnerEvent_26_Desc",
            type: 26,
          },
          broadcast: {
            name: "#PartnerEvent_11",
            description: "#PartnerEvent_11_Desc",
            icon: "11",
            type: 11,
          },
          news: {
            name: "#PartnerEvent_28_editor",
            description: "#PartnerEvent_28_Desc",
            icon: "28",
            type: 28,
          },
          chat: {
            name: "#PartnerEvent_9_editor",
            description: "#PartnerEvent_9_Desc",
            icon: "9",
            type: 9,
          },
          irl: {
            name: "#PartnerEvent_27_editor",
            description: "#PartnerEvent_27_Desc",
            icon: "27",
            type: 27,
          },
          crosspost: {
            name: "#PartnerEvent_34",
            description: "#PartnerEvent_34_Desc",
            icon: "34",
            type: 34,
          },
        },
        o = {
          news: {
            name: "#EventCategory_Curator_Group_Members",
            description: "#EventCategory_Curator_Group_Members_Desc",
            icon: "27",
            type: 28,
            tags: ["curator", "curator_group_members"],
          },
          public: {
            name: "#EventCategory_Curator_Public",
            description: "#EventCategory_Curator_Public_Desc",
            icon: "28",
            type: 28,
            tags: ["curator", "curator_public", "audience_followers"],
          },
          salepage: {
            name: "#EventCategory_Creator_SalePage",
            description: "#EventCategory_Creator_SalePage_Desc",
            icon: "20",
            type: 20,
            tags: ["curator", "curator_public", "audience_followers"],
          },
        },
        s = i()("2022-02-21T10:00:00-08:00").unix(),
        c = i()("2022-02-28T10:00:00-08:00").unix(),
        d = {
          artist_statement: {
            name: "#EventCategory_SteamGameFestival_ArtistStatement",
            description:
              "#EventCategory_SteamGameFestival_ArtistStatement_Desc",
            icon: "info",
            type: 28,
            tags: ["steam_game_festival_artist_statement", "hide_store"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: s,
            actionEndTime: c,
          },
          broadcast: {
            name: "#EventCategory_SteamGameFestival_Broadcast",
            description: "#EventCategory_SteamGameFestival_Broadcast_Desc",
            icon: "11",
            type: 11,
            tags: ["steam_game_festival_broadcast"],
            earliestAllowedStartTime: s + 10800,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
          office_hours: {
            name: "#EventCategory_SteamGameFestival_OfficeHours",
            description: "#EventCategory_SteamGameFestival_OfficeHours_Desc",
            icon: "9",
            type: 9,
            tags: ["steam_game_festival_office_hour"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
        };
    },
    Y9L4: function (e, t, a) {},
    Yamg: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return n;
      }),
        a.d(t, "b", function () {
          return r;
        });
      var n,
        i = a("U+Q5"),
        l = (a("4P4B"), a("ZeAL"));
      function r(e, t, a) {
        let r = "";
        const o = l.e + "/" + t.clanAccountID + "/" + i.a.GetHashAndExt(t);
        if (a == n.k_eInsertFullImage) r = "[img]" + o + "[/img]";
        else {
          r =
            "[url=" +
            o +
            "][img]" +
            (l.e + "/" + t.clanAccountID + "/" + i.a.GetThumbHashAndExt(t)) +
            "[/img][/url]";
        }
        e.InsertText(r);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup");
      })(n || (n = {}));
    },
    YuoN: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZUAAABVCAYAAACBxHk7AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7pSURBVHgB7Z37dZxIFsav9uz/qwzMRDDaCIwjsDNQTwTWRNC9EdgTQcsRSI6gmQhsRwCOQJoI7nJNlbpAFNTjgtTS9zuHQzdQD+r11ZszAgAAcLIw8749beh50PyLAAAAACUgKgAAANSAqAAAAFADogIAAEANiAoAAAA1ICoAAADUgKgAAABQ498EAAARMPNFe/pIOvx5dnZ2T+DFAFEBAMRyTnqL7XbtAVF5QaD7CwAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGPtIFAIjlO+l9pOsfAi8KiAoAIArz+d8vBMAI6P4CAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBqYUgwAAAvAzEV7KmkdKnoeNAQAAECfVlRKXodLekag+wsAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoMfuRLmY+b08X7VG0xxvn1k/qPsjy/ezs7J4SaO0We89Jn/vWT9/nHlrC/dbdihQwH/gpBpeb1v6GlJh4/+Q4NfbaNDNkNl4GZpP84bxXUDpYwg+OPSV1+eaXf6jLN9+V47GkOBrqwiY5jif8kJt23DSpGfaWH9Tlo+h0ATIxH5g5BH4k5pDyoZjWTM3LcHgq90mJ1qpvI9ZvSZGJ989ypzW/99g7Gy/tM+fO8x8pAee97iiB1tzG8UNBkXBY3pH72R9XEv9xOjV3cVVQBgM/vKVEBuGelAY5vNyqfeHfXr8Q9+VdjJ8kTX6IDSd+pR/pegR3CeTAadQxL8gQFZ+/fAVFUiE54U7tc4e7mp6m34XYeLmhSLgrEFxKikTcNWbrSHNjeefOXLPH3TBMOKNQ535414HHGJ9YJ86TRMXYYcMmKJ2M2PF58E41d3G5N4f8/jbyzOWIXVtzlnDZmniKejeGqDxEbM35fAp0r+ZlOHVR+TThRElKzLx/ak1xP2FnaLzY948WUe7XdoXo1g4niBo/zjt79hRC3Anf3nlWzF1QApxYoBtzm4GfpcCNFhbOFJVB2Mm5oEhaM9eOHw5T/vC8+27wjBWVLXfpccMQlThYT1AEqXEUAW7WvAynLir1hBNBgq3gTnRrhee7YkLjxRWGNxQBH1sZUW563iEos3I/70i4fQg0t+Fj7VzMFxQJ67QSto4d0emL80Xlxgm7giJpzewc94MrQ8bf+zFzbCpvzrmI9RtDVCZrmDFIwgiqdTFEZcxPcwkxuWuK4t8/qrXC82koNF6Sx1X4WEjfpIQXd33nltB0fBNrxjF7wRndPqw3nuG2jotIs8l+4L4gpLQqJa3UxvyeEsgJtxl7X6Wo/Jr9xV0i2niekdkXn9vj+uzs7Ke9yF3mkUNeqHSefRcxs+KKpmdf7ejxDCjh1hw04eccrtujoqdhLoFIeL1vjy+0PFdtPP8VMgNnJg1FIe619jXUxX1wIc1drdKmp/+1xwfzX+yoAq15b85N4AzC0rgj7GJnFcnzrR2Sv3btIYVQqTWDMBIJrw114XVp/i9K+66S/23FRcLuL4pHwr4wv5P83Lr7NwFd+HE/tKXmsG4sMf+NE/uFJ+w9ePylMguK/TX1J1N+Dms9JQ1kJroVVHvkfo0z2998rDnXEWY+GjPfzP+D+R/cpcPHgdyg8RQ+ts6iBvUHdkht27ZWomrbrNRSMXbdxMZTqh9YYWDe2PMp146l4NfcUqFj7WzILmQ+ffvMNXW1e5ABd33xRcCjkljPNdcZTCC1yckaJHcVD+2E/cOcpfB547aSJ7Athso5lxTY2uH++pRbCqMcuBmNaZmJexvHvqdAWlmhaTAZk15EBCS8m/b4g9Kx8dXQ80PyZ0PLs0Y5EIwVFV8XVENgTd5HPCuFeEp3QSxSqF+2Bd9Ud1tJ+gVRNbB/sruPj4vdBCsItlsjVIRL5/ePmWetm4X5m7uYzpovVqwwPBXSGivM73eaC0GfE6Yr9Dd6Zcxt03JGYBVMAbUZudXQeE3kA63H1cx9le5IF1PQNOZvSEvDfcYKgmRqG3Yh3TL2mdAV14XzO1dU3JbYf+hpWUzQuJu6W5q/VwqC0pjzOYFngRUVXyKKqTmDPHwiUdF416LUvlXHsCaQGUrl2I32+oaW6y6pzDlEQG1arWwt35xtYV8G2GGfCRUItyD7h/Jw3SzoaSjNuaEFYJ2B+SEP8ctKsyJBHlZUGs/9Kx4sCgKL4RuTuG6Pr557a4r+NvK6Brb7qggoMEpzrgbXbVfYpDAljqe4qO52sDZmnKM0f1PeP8R+m1ZkTy+t2WW2VXpOy6ZFEIgVla8Tz2y5myUksyxkds2aNeSnQmbjFDEHZTDI0C7SDfO3mWI61pqc65bSpBy2VhZupQiV83tyhTQdBaEa3HaF6Q35Ges+e03YGXINHcNMhcHAvJDbVfiAyRtWBFEJfk5w2kJAmX6558AVxAl+OnjcXXpKcSzJ00mNPzYee/fOM1vPMyUlMvH+B9/1QPN1iPlIP36aeMYuWLzz3LdTVy8n7EiZwuxOGX1DGXDedivR5hzzUoFyF2+mLECc9AOPp6eSlOD+AkjmyD0IgS7uQP2fFI/U7jbtcWMics2a80vCl5Gvnd++2uMSXWCfabxl9NBaYX8rpSHd6eWVdXvimfeDZ4fcBthhWypqtegMCkojtGUtY2QbI9Qiou7iTdUZhdwfmP8vHbva1bqqzNjZOzrGf9Ee10ZgDtzvZSkIrAf7a8MxiMCoDJjxK2ip8ONddb12evybs6Nw7XH7LfvTwmHG7OWc2Ug/uq2485n3uJyx427CHUtwTZ2Xa6nE7PRdcD53nPiZgRE/vHWuXw3DdRBm6q0J7uL6wPPvK89cMkRmefjx7p0pqGx6yK9DVPYcGIas3AXG06LirvIesuOJcGBdUSmm3nNw/8Jjx/nUM9wv6KK2hXHMnZqo2IJ1y5mVQB4RFe6vmB9u1nhw/LDIjC3j/nvzfmNb3rvhsCOwPNyJyw37C5Y5SsqEX4eo1B475wo/l6QtKibctgXDluO4nDGX688xobWtkDrQjo8j9+z2LlEzuPgEx1T4mKdq1utR6PmB+7s2H0aed8Nt1Rlb3PUMiNjseWLre5CO93PC7tYrJsMUdNzgzz37kMxb0WlyTXF+v6cEuBPeYuTW6OI7menCx40WXSSTLrEKW/rXZZwspPBpZlbd51BRN3Y31oqYG0+xyLiKvIuMHwzHDT4E2vESkKm8JXVp6CMts3Hk3tjf0MgWLCYdy7idxId0kX1Za1W9yVdyfOXjNOcNdbNc5RPLnwk8HTzdVZY9b59f+IaSHNH15ZjZeszkfIxqyNsA97xhxvotlYeWBA9q13xsSb+fscPWju9G7t2lhCGf6OwvVu5+GvjBtbuYMON2ryalCy048TMJYJy5bVomMa0Z32Zw57kZ7RXgm4r9lf3rYX5G2pWL1OrnWkBLtlIEu47KXaD4qyuDjq2oubUltuUn6bL02PFatkC3rRN57+QBeg+lOU9uwWJa1bZVULLiFOME7MxXCQ/sIpJJlqgIZvFR47ldEBiFuym5vlqR1Nxqz7H3mCmXEPFB5vexowUxhZMVtt+dW7Zm/n2u+8S8RzUw5/6+j/0WCvXFtqA8CloJk2cr8/dqgdr5LrCSIRWWxvxW+6JpLCbtxGznAybIFhWDdl/+a2CJGtGGlmGqtbJ0K8Vya85uiyx2LMQ+VzrXysG9GDRFxS3YG1qepVort6FbsBiht60EGUC/oqfDikpBIAstUSk813M32XuRmG6sJbqrNrQAM62VHa2DzfQXzrXSnG8pjN5W+AM7Kopk0IK6oDx+d+wN+XZMFgu2VqIGult/3Dr+2GJM4/TpiUoboddmoK2gQKa6cRK6E14LJS1DsWDf9FhrZa1WivAwrsLdtNDS3gj9HOxgD7ULpfGUMbFLoTTnitZjybGVVH+sOsXYoSCgwoOoiKDQ8XvzIiyXc+LC3Z5fvr7QioCPJWeXLTLQ6GyFUTrHO1qJQatAxkFCpxIPqcxZzFshuM+oAFXmnDzYzP0NRa9pJVYYW4nxxzUd/VHQ+vg2JAWR/Fqn4giKpaDjGhXJbA0dPxZ1bo4PNL1+4ZpOl8+cuBiqzSCTX3pj/47EZK43FIZkgrFunw2l7eM2yzNoecr7bqgLp3PnWgwVdWm3pGPttKJ03LU820S77JTahtafgWbXrdjWyhLrVkL9YcsUmYwSVGEx+Ukqtn+krtMyYzk2PX0lkIfp8tJGZd45n86K+gcC3Nx6jEatyufpbVTKQDtqj/ngdRIee7cee7PSBffXq1iiup24v6aiNuesrh/u73G1jzTr5j/1HYID7Tg44RrdWtHwg7Fn69hTBjzvrtyXc0GRcNeVepcSd8ADd9uGp27FMkbNSs1XfpmiUnuMRk+pZP/iyaDCm09PVIqBfUkLbPlxes96X2Pn1rGv5vmuY3mXA2fEv2NP1ntw5rYprCcq7hb2QZWsQbhLvAbPIOOuMnAXGmcgAu4rfg4HzYjhFyYq7N+7izmtluWzL6jGyScmKsZuVxBuKAHui7HaFxtH3ltWatst1+0h/w+D55LTM+sV6K6fikizKn4wdm1iw4X74iDUJo4fPirIgy3/R54vCOjD6TsUZ22dPeGfg8e9UxWVvcfYN0qAp7vAZuODT1NU9o59SRMeuF9wqW4Rwl0hVnMYB4Ww1hIVt4IS24WnJirGvoOxK7g7zvhhz3GI/Z8Y05hV6W0oaTeR5K6fWhJHSceNJN2AlwGxhrpBydvQKZ0J+AaGtebxy9YeDa1LNXIt6cNIMjDZxpWYHcvIIRnF9/5JA54OEj/VyHWNgX5Ja4XzOwUZ3LeCpPpRKjOT6TdTuG7ouPGqxMdS+aYy5+R4M5s87qg/gWFVPzi4kwVKCpiMYWYH/tG+g514ILP7CuqXXffmqKhLi18W2IQVAAAAAFr8H9N6E3UIo/uhAAAAAElFTkSuQmCC";
    },
    ZCGQ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=";
    },
    Zan1: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return b;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        l = a("q1tI"),
        r = (a("65aj"), a("BBEf")),
        o = a("Mgs7"),
        s = a("qP7j"),
        c = a("fpVW"),
        d = a("gyoR"),
        m = a("Jqb/"),
        u = a("0OaU"),
        p = a("exH9"),
        _ = a("TLQK"),
        g = a("opsS");
      let b = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = { bImporting: !1, type: "game", importList: "" });
        }
        OnImportAction() {
          this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
        }
        DoImport() {
          return Object(n.a)(this, void 0, void 0, function* () {
            let e = this.state.importList.split("\n"),
              t = e.filter(
                (e) => e.trim().length > 0 && isNaN(parseInt(e.trim()))
              );
            if (t.length > 0)
              return (
                console.error("Failed to Parse", t),
                this.setState({
                  bImporting: !1,
                  errMsg: Object(_.f)(
                    "#Sale_ImportItems_ConvertNumberFailed",
                    t[0]
                  ),
                })
              );
            let a = e
              .filter((e) => e.trim().length > 0)
              .map((e) => parseInt(e.trim()));
            const n = a.map((e) => ({ id: e, type: this.state.type }));
            yield Object(d.g)(n, r.e),
              a.forEach((e) => this.props.fnAddCapsule(e, this.state.type)),
              this.setState({ bImporting: !1 }),
              this.props.closeModal();
          });
        }
        OnTypeChange(e) {
          this.setState({ type: e });
        }
        OnImportChange(e) {
          this.setState({ importList: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          let t = new Array();
          return (
            ["game", "sub", "bundle"].forEach((e) => {
              t.push(
                l.createElement(
                  "div",
                  {
                    key: "ImportSaleItemsDialog_" + e,
                    className: Object(p.a)(c.FlexRowContainer, c.RadioOption),
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "ImportSaleItemsDialog",
                    id: "ImportSaleItemsDialog_input_" + e,
                    value: e,
                    checked: e == this.state.type,
                    onChange: () => this.OnTypeChange(e),
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: "ImportSaleItemsDialog_input_" + e },
                    l.createElement(
                      "span",
                      null,
                      Object(_.f)("#Sale_ImportItems_Type_" + e)
                    )
                  )
                )
              );
            }),
            l.createElement(
              m.f,
              {
                onCancel: e,
                closeModal: e,
                bDisableBackgroundDismiss: !0,
                bAllowFullSize: !0,
                bHideCloseIcon: this.state.bImporting,
              },
              l.createElement(o.z, null, Object(_.f)("#Sale_ImportItems")),
              l.createElement(
                o.d,
                null,
                l.createElement(
                  "div",
                  null,
                  Object(_.f)("#Sale_ImportItems_Desc")
                ),
                Boolean(this.state.errMsg) &&
                  l.createElement(
                    "p",
                    { className: s.ErrorStyles },
                    this.state.errMsg
                  ),
                t,
                this.state.bImporting &&
                  l.createElement(u.a, { size: "medium", position: "center" }),
                !this.state.bImporting &&
                  l.createElement("textarea", {
                    value: this.state.importList,
                    cols: 40,
                    rows: 10,
                    onChange: this.OnImportChange,
                  })
              ),
              !this.state.bImporting &&
                l.createElement(
                  o.r,
                  null,
                  l.createElement(
                    o.G,
                    { onClick: this.OnImportAction, disabled: !1 },
                    Object(_.f)("#Button_Confirm"),
                    " "
                  ),
                  l.createElement(
                    o.f,
                    { onClick: this.props.closeModal, disabled: !1 },
                    Object(_.f)("#Button_Cancel")
                  )
                )
            )
          );
        }
      };
      Object(n.b)([g.b], b.prototype, "OnImportAction", null),
        Object(n.b)([g.b], b.prototype, "DoImport", null),
        Object(n.b)([g.b], b.prototype, "OnTypeChange", null),
        Object(n.b)([g.b], b.prototype, "OnImportChange", null),
        (b = Object(n.b)([i.a], b));
    },
    aXcg: function (e, t, a) {
      e.exports = { SavedImage: "partnereventsavebutton_SavedImage_1y3QV" };
    },
    as1E: function (e, t, a) {
      e.exports = {
        CategoryImage: "partnereventeditor_CategoryImage_2bE2w",
        EventCategory_Top_Desc:
          "partnereventeditor_EventCategory_Top_Desc_1kI-Q",
        eventcategory_picker_page:
          "partnereventeditor_eventcategory_picker_page_1axHR",
        EventEditorDescription:
          "partnereventeditor_EventEditorDescription_3C8iP",
        EventSubCategory_Section_Title:
          "partnereventeditor_EventSubCategory_Section_Title_1g3oT",
        EventCategory_Top_Title:
          "partnereventeditor_EventCategory_Top_Title_3XiNN",
        EventSubCategory_Section_Desc:
          "partnereventeditor_EventSubCategory_Section_Desc_1nVkr",
        EventCategory_Expander:
          "partnereventeditor_EventCategory_Expander_3Egt2",
        CategoryTitles_Ctn: "partnereventeditor_CategoryTitles_Ctn_21Aec",
        EventCategory_Title: "partnereventeditor_EventCategory_Title_16pAy",
        EventSubCategory_Ctn: "partnereventeditor_EventSubCategory_Ctn_1xp2X",
        CategoryTypeImage: "partnereventeditor_CategoryTypeImage_1bk8c",
        EventSubCategory_Title:
          "partnereventeditor_EventSubCategory_Title_2OocG",
        EventCategory_Desc: "partnereventeditor_EventCategory_Desc_S7Pze",
        EventSubCategory_Desc: "partnereventeditor_EventSubCategory_Desc_kjyqb",
        EventCategory_HeaderCtn:
          "partnereventeditor_EventCategory_HeaderCtn_48mLX",
        EventCategory: "partnereventeditor_EventCategory_1rJ2O",
        EventCategory_SteamAwardsVoteRequest:
          "partnereventeditor_EventCategory_SteamAwardsVoteRequest_RxhoL",
        EventCategory_SpecialCategory:
          "partnereventeditor_EventCategory_SpecialCategory_2Hm22",
        WarningCtn: "partnereventeditor_WarningCtn_25K96",
        TitleCtn: "partnereventeditor_TitleCtn_oGmJd",
        Title: "partnereventeditor_Title_1iEFY",
        Summary: "partnereventeditor_Summary_2eQap",
        Link: "partnereventeditor_Link_3s-fD",
        EventSubCategoriesCtn: "partnereventeditor_EventSubCategoriesCtn_1Ic2i",
        EventCategoryExpanded: "partnereventeditor_EventCategoryExpanded_2gb8_",
        EventEditorCatagorySection:
          "partnereventeditor_EventEditorCatagorySection_1HRyu",
        EventCategoryNotExpandable:
          "partnereventeditor_EventCategoryNotExpandable_3gOyF",
        EventEditorInputPaneContainer:
          "partnereventeditor_EventEditorInputPaneContainer_2hDSK",
        EventEditorInputPaneContents:
          "partnereventeditor_EventEditorInputPaneContents_24lkz",
        RequiredFieldLabel: "partnereventeditor_RequiredFieldLabel_11TnL",
        OptionsNotes: "partnereventeditor_OptionsNotes_3iBea",
        EventCategoryColumns: "partnereventeditor_EventCategoryColumns_36Vhg",
        EventCategoryLeftCol: "partnereventeditor_EventCategoryLeftCol__-nHy",
        EventCategoryRightCol: "partnereventeditor_EventCategoryRightCol_25O-o",
        EventCategoryVisibilityCtn:
          "partnereventeditor_EventCategoryVisibilityCtn_HRszO",
        ExceptionNote: "partnereventeditor_ExceptionNote_19VPv",
        ExceptionDocsLink: "partnereventeditor_ExceptionDocsLink_1iykQ",
        EventVisibility_Title: "partnereventeditor_EventVisibility_Title_jWhiI",
        wrapper: "partnereventeditor_wrapper_2OTbb",
        EventEditorTitleInput: "partnereventeditor_EventEditorTitleInput_ZAOXn",
        Subtitle: "partnereventeditor_Subtitle_32XZf",
        EventEditorInputMaxLength:
          "partnereventeditor_EventEditorInputMaxLength_2B38_",
        CharactorRemaining: "partnereventeditor_CharactorRemaining_153Co",
        CharactorExhausted: "partnereventeditor_CharactorExhausted_2zjgO",
        EventSubCategory: "partnereventeditor_EventSubCategory_2Q82B",
        EventEditBelowTopBarContainer:
          "partnereventeditor_EventEditBelowTopBarContainer_2sTiY",
        EventEditBelowTopBarGameName:
          "partnereventeditor_EventEditBelowTopBarGameName_2mDt_",
        EventEditBelowTopBarCategoryChoice:
          "partnereventeditor_EventEditBelowTopBarCategoryChoice_1GRf_",
        DashLink: "partnereventeditor_DashLink_2UhUF",
        EventEditorInputPaneTopRow:
          "partnereventeditor_EventEditorInputPaneTopRow_1jWGj",
        EventEditPopopLinkContainer:
          "partnereventeditor_EventEditPopopLinkContainer_28dFn",
        InlinePreviewContainer:
          "partnereventeditor_InlinePreviewContainer_1KczU",
        InlinePreviewHeader: "partnereventeditor_InlinePreviewHeader_36LPo",
        TopBarDeleteButton: "partnereventeditor_TopBarDeleteButton_3JgPZ",
        UploadPreviewCtn: "partnereventeditor_UploadPreviewCtn_1f_3B",
        PreviewImgCtn: "partnereventeditor_PreviewImgCtn_5cvwO",
        PreviewImgInfo: "partnereventeditor_PreviewImgInfo_wiK-n",
        UploadPreviewButtonsCtn:
          "partnereventeditor_UploadPreviewButtonsCtn_1E996",
        UploadPreview: "partnereventeditor_UploadPreview_1Go1Y",
        UploadPreviewDelete: "partnereventeditor_UploadPreviewDelete_PQiPX",
        UploadPreviewButton: "partnereventeditor_UploadPreviewButton_3ucHv",
        ArtworkDimensionTooSmall:
          "partnereventeditor_ArtworkDimensionTooSmall_1BKDz",
        UploadPreviewError: "partnereventeditor_UploadPreviewError_FqFpo",
        UploadPreviewWarning: "partnereventeditor_UploadPreviewWarning_3WxvC",
        ArtworkTipsCtn: "partnereventeditor_ArtworkTipsCtn_36oQU",
        ArtworkDocs: "partnereventeditor_ArtworkDocs_R7tUA",
        ArtworkExampleTitle: "partnereventeditor_ArtworkExampleTitle_3IYml",
        ArtworkExampleCtn: "partnereventeditor_ArtworkExampleCtn_1-LYQ",
        EditRawExample: "partnereventeditor_EditRawExample_2Z-Uc",
        EditRawTextArea: "partnereventeditor_EditRawTextArea_2Hjmo",
        TitleSelectionContainer:
          "partnereventeditor_TitleSelectionContainer_wXKYm",
        SaleSectionTitleHeader:
          "partnereventeditor_SaleSectionTitleHeader_1PZp0",
        TabsSelectorEntry: "partnereventeditor_TabsSelectorEntry_rTO_V",
        TabsSelectorEntrySelected:
          "partnereventeditor_TabsSelectorEntrySelected_1ryee",
        TabsMultipleError: "partnereventeditor_TabsMultipleError_2-JUW",
        TabsSelectToEdit: "partnereventeditor_TabsSelectToEdit_2HsE1",
        ShowOnTabCheckBoxCtn: "partnereventeditor_ShowOnTabCheckBoxCtn_2xl2v",
        ShowOnTabCheckBox: "partnereventeditor_ShowOnTabCheckBox_3p5Yu",
        ShowOnTabsLabel: "partnereventeditor_ShowOnTabsLabel_IMegH",
        ShowOnTabsButton: "partnereventeditor_ShowOnTabsButton_3bfm0",
        BottomBarControls: "partnereventeditor_BottomBarControls_3sisA",
        ReoderSections: "partnereventeditor_ReoderSections_234Ad",
        MinimizeAll: "partnereventeditor_MinimizeAll_kQpet",
        ItemBrowseInactiveTab: "partnereventeditor_ItemBrowseInactiveTab_1-3nD",
        ItemBrowseInactiveTabAdd:
          "partnereventeditor_ItemBrowseInactiveTabAdd_3K8G5",
        TabHideItemFilterCtn: "partnereventeditor_TabHideItemFilterCtn_2vW4l",
        ReorderSectionCtn: "partnereventeditor_ReorderSectionCtn_2ye5W",
        SectionList: "partnereventeditor_SectionList_2g1Br",
        SectionTitle: "partnereventeditor_SectionTitle_3euRU",
        FilterDisplayCtn: "partnereventeditor_FilterDisplayCtn_yqDsi",
        PrioritySelector: "partnereventeditor_PrioritySelector_3OCga",
        BroadcastAccountInfo: "partnereventeditor_BroadcastAccountInfo_2udBY",
        BroadcastAccountList: "partnereventeditor_BroadcastAccountList_1LLBz",
        ShowInTabsList: "partnereventeditor_ShowInTabsList_1slxi",
      };
    },
    bVxH: function (e, t, a) {
      e.exports = {
        titleimg: "clanlocalizedimage_titleimg_rjdSm",
        previewimg: "clanlocalizedimage_previewimg_45E3Z",
        artworkbar: "clanlocalizedimage_artworkbar_q0Eu4",
      };
    },
    ba6i: function (e, t, a) {
      e.exports = {
        EventTimeSection: "partnereventshareddates_EventTimeSection_3HyTV",
        EventTimeTitle: "partnereventshareddates_EventTimeTitle_2lG5h",
        EventVisibilityItem:
          "partnereventshareddates_EventVisibilityItem_1she-",
        EventEditorInputPaneContainer:
          "partnereventshareddates_EventEditorInputPaneContainer_1fCy4",
        TimeWidth: "partnereventshareddates_TimeWidth_3JGsB",
        EventPublishTimeCtn:
          "partnereventshareddates_EventPublishTimeCtn_2QIVv",
        DateWidth: "partnereventshareddates_DateWidth_2P2kw",
        PacificTimeHint: "partnereventshareddates_PacificTimeHint_18FxD",
        TimeZone: "partnereventshareddates_TimeZone_-x3Rw",
        InputBorder: "partnereventshareddates_InputBorder_1_H1s",
        TimeBlock: "partnereventshareddates_TimeBlock_2xLBs",
        TimeRowContainer: "partnereventshareddates_TimeRowContainer_BWmgg",
        TimeRowDropDown: "partnereventshareddates_TimeRowDropDown_3ECiy",
        EndDateAmountCtn: "partnereventshareddates_EndDateAmountCtn_1BIlZ",
        EndRound: "partnereventshareddates_EndRound_jwuNo",
        VisibilityItemList: "partnereventshareddates_VisibilityItemList_3B0QM",
        VisibilityItems: "partnereventshareddates_VisibilityItems_1WleI",
        EventEditorVisibilityCtn:
          "partnereventshareddates_EventEditorVisibilityCtn_4gWwy",
        DateErrorCtn: "partnereventshareddates_DateErrorCtn_1Ao_g",
      };
    },
    buwe: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return j;
      });
      var n = a("mrSG"),
        i = a("1fPh"),
        l = (a("fcuX"), a("t0uJ")),
        r = a("TyAF"),
        o = a("q1tI"),
        s = a("55Ip"),
        c = a("mgoM"),
        d = a("UWWC"),
        m = a("YWVM"),
        u = a("SdTr"),
        p = a("YNty"),
        _ = a("fpVW"),
        g = a.n(_),
        b = a("ZlHF"),
        E = a.n(b),
        h = a("6AJf"),
        v = a("TLQK"),
        S = a("rerp"),
        f = a.n(S),
        O = a("TuNA"),
        C = a("EA3E"),
        y = a("mB/g");
      class T extends o.Component {
        render() {
          const e = l.c.GetEditModel(),
            t = e.GetCategoryAsType(),
            a = e.GetCurEditLanguage(),
            n = e.GetFallbackLanguageIfNeeded(),
            r = e.GetEventModel().bOldAnnouncement,
            {
              appid_or_vanity_str: d,
              bShowPreviewEvent: m,
              bShowPreviewSale: u,
            } = this.props;
          return o.createElement(
            "div",
            { className: f.a.PreviewBarContainer },
            o.createElement(
              s.b,
              {
                to: r
                  ? i.a.Migrate(d, e.GetAnnouncementGID())
                  : i.a.Edit(d, this.props.gid ? this.props.gid : "") +
                    (window.sessionStorage.getItem("editorCurrentTab") || ""),
                className: g.a.EventBarBack,
              },
              28 == t
                ? Object(v.f)("#EventEditor_TitleActionNews")
                : Object(v.f)("#EventEditor_TitleAction")
            ),
            o.createElement(
              "div",
              { className: g.a.EventBarTitleCtn },
              o.createElement(
                "div",
                { className: g.a.EventBarTitle },
                Object(v.f)("#EventEditor_TitleState_Previewing")
              ),
              o.createElement(C.d, { editModel: e })
            ),
            o.createElement(
              "div",
              { className: g.a.EventOptions },
              null != n &&
                o.createElement(
                  "span",
                  { className: f.a.FallBackWarning },
                  Object(v.f)(
                    "#EventPreview_UsingFallBack",
                    Object(v.f)("#Language_" + Object(c.a)(n))
                  ),
                  o.createElement(
                    "span",
                    {
                      className: "ttip",
                      "data-tooltip-text": Object(v.f)(
                        "#EventPreview_UsingFallBack_ttip",
                        Object(v.f)("#Language_" + Object(c.a)(n)),
                        Object(v.f)("#Language_" + Object(c.a)(a))
                      ),
                    },
                    "(?)"
                  )
                ),
              o.createElement(C.c, null),
              m &&
                o.createElement(
                  y.c,
                  {
                    className: g.a.EditPreviewButton,
                    route: y.a.k_eCommunityPreview,
                    eventModel: e.GetEventModel(),
                  },
                  Object(v.f)("#EventEditor_Preview")
                ),
              u &&
                o.createElement(
                  y.c,
                  {
                    className: g.a.EditPreviewButton,
                    route: y.a.k_eCommunityPreviewSale,
                    eventModel: e.GetEventModel(),
                  },
                  Object(v.f)("#EventEditor_PreviewSale")
                ),
              o.createElement(
                s.b,
                {
                  className: g.a.EditPreviewButton,
                  to: r
                    ? i.a.Migrate(d, e.GetAnnouncementGID())
                    : i.a.Edit(d, this.props.gid ? this.props.gid : "") +
                      (window.sessionStorage.getItem("editorCurrentTab") || ""),
                },
                28 == t
                  ? Object(v.f)("#EventEditor_TitleActionNews")
                  : Object(v.f)("#EventEditor_TitleAction")
              )
            )
          );
        }
      }
      let j = class extends o.Component {
        render() {
          let e = this.props.editModel,
            t = e.ComputeEditingModelTimeOverrides();
          const { appid_or_vanity_str: a } = this.props;
          let n = e.GetEventModel();
          return n.BHasSaleEnabled() && this.props.bDisplaySale
            ? o.createElement(
                "div",
                { className: E.a.PreviewSalesPageContainer },
                o.createElement(T, {
                  appid_or_vanity_str: a,
                  gid: this.props.gid,
                  bShowPreviewEvent: !0,
                }),
                o.createElement(
                  "div",
                  { style: { position: "relative" } },
                  o.createElement(
                    "div",
                    { className: f.a.StoreNavigationPlaceholder },
                    Object(v.f)("#Sale_ReservedStoreNavigation")
                  ),
                  o.createElement(h.b, {
                    eventModel: n,
                    bIsPreview: !0,
                    language: e.GetCurEditLanguage(),
                  })
                )
              )
            : o.createElement(p.a, {
                event: n,
                titleBar: o.createElement(T, {
                  appid_or_vanity_str: a,
                  gid: this.props.gid,
                  bShowPreviewSale: n.BHasSaleEnabled(),
                }),
                lang: e.GetCurEditLanguage(),
                nOverrideStartTime: t.nOverrideStartTime,
                nOverrideEndTime: t.nOverrideEndTime,
                partnerEventStore: l.c,
                emoticonStore: d.b,
                adminPanel: o.createElement(m.a, {
                  eventModel: n,
                  bPreviewMode: !0,
                  partnerEventStore: l.c,
                  addtionalAdminButtons: [
                    o.createElement(O.a, {
                      key: e.GetUniqueKey(),
                      editModel: e,
                    }),
                  ],
                }),
                previewMode: !0,
                otherEventRow: o.createElement(u.a, {
                  clanAccountID: n.clanSteamID.GetAccountID(),
                  gidAnnouncement: n.AnnouncementGID,
                  partnerEventStore: l.c,
                  bViewAllShowInfiniteScroll: !n.BIsOGGEvent(),
                }),
              });
        }
      };
      j = Object(n.b)([r.a], j);
    },
    "d+Me": function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return l;
      });
      var n = a("q1tI"),
        i = a("uuth");
      const l = (e) => {
        const { onPositionChange: t, onLeave: a } = e,
          l = n.useCallback(
            (e) => (
              void 0 === e.previousPosition &&
                e.currentPosition === i.a.above &&
                a &&
                a(e),
              t && t(e)
            ),
            [t, a]
          );
        return n.createElement(
          i.a,
          Object.assign({}, e, { onPositionChange: l })
        );
      };
    },
    f1ZV: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return S;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        l = (a("wd/R"), a("q1tI")),
        r = a("y2g3"),
        o = a.n(r),
        s = a("dsQf"),
        c = a.n(s),
        d = a("5izx"),
        m = a("fpVW"),
        u = a.n(m),
        p = a("exH9"),
        _ = a("TLQK"),
        g = a("opsS"),
        b = a("5E+2"),
        E = a("ba6i"),
        h = a.n(E);
      const v = a("f0Wu");
      let S = class extends l.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: a,
            fnIsValidDateTime: n,
            disabled: i,
          } = this.props;
          if (i) return;
          if ("string" == typeof e) {
            let t = v(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let l = this.props.fnGetTimeToUpdate(),
            r = 0;
          if (l) {
            const t = v.unix(l);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (r = e.unix());
          } else {
            r =
              v.unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          a(r);
          let o = n && !0 === n();
          (null == this.state.timeAsString &&
            o == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: o });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = v(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const a = this.props.fnGetTimeToUpdate(),
            n = v.unix(a || d.a.GetTimeNowWithOverride());
          e.hour(n.hour()),
            e.minute(n.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let i =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            i == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: i });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const { nEarliestTime: t, nLatestTime: a } = this.props,
            n = v.unix(t).hour(0).seconds(0).minute(0);
          let i = e.unix() >= n.unix();
          if (i && a && a >= t) {
            const t = v.unix(a).hour(23).minute(59).seconds(59);
            i = e.unix() <= t.unix();
          }
          return i;
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(d.a.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(d.a.GetTimeNowWithOverride());
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: a,
            fnIsValidDateTime: n,
            strAlsoShowTimeZone: i,
            disabled: r,
          } = this.props;
          let s,
            m,
            g = a(),
            E = g > 0 ? new Date(1e3 * g) : null,
            S = "h:mm A",
            f = n && n(),
            O =
              this.state.timeAsString ||
              this.state.dateAsString ||
              "string" == typeof f,
            C = "#DateTimePicker_Fallback_Invalid_DateTime";
          if (
            (this.state.timeAsString
              ? (C = "#DateTimePicker_Time_CannotParse")
              : this.state.dateAsString
              ? (C = "#DateTimePicker_Date_CannotParse")
              : "string" == typeof f && (C = f),
            e && t && e == t && t > d.a.GetTimeNowWithOverride())
          ) {
            let e = v.unix(t);
            (s = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (S = "HH:mm");
          }
          !g && t && (m = v.unix(t));
          const y = v.tz.guess(),
            T = v.unix(g).tz(y),
            j = !!i && y != i && v.unix(g).tz(i);
          return l.createElement(
            "div",
            {
              className: Object(p.a)(
                h.a.EventTimeSection,
                this.props.className
              ),
            },
            l.createElement(
              "div",
              { className: Object(p.a)(h.a.EventTimeTitle, "DialogLabel") },
              l.createElement(
                b.a,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  l.createElement("span", null, this.props.strDescription)
              ),
              O &&
                l.createElement(
                  "span",
                  { className: h.a.DateErrorCtn },
                  l.createElement("img", { src: c.a }),
                  Object(_.f)(C)
                )
            ),
            l.createElement(
              "div",
              { className: u.a.FlexRowContainer },
              l.createElement(
                "div",
                { className: Object(p.a)(u.a.InputBorder, h.a.TimeBlock) },
                l.createElement(o.a, {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : E,
                  isValidDate: this.IsValidDate,
                  initialValue: m,
                  inputProps: {
                    placeholder: Object(_.f)("#DateTimePicker_Enter_Date"),
                    className: Object(p.a)(
                      h.a.DateWidth,
                      "DialogInput",
                      "DialogTextInputBase"
                    ),
                    disabled: r,
                  },
                }),
                !!j &&
                  l.createElement(
                    "div",
                    { className: h.a.PacificTimeHint },
                    j.format("L")
                  )
              ),
              l.createElement(
                "div",
                { className: Object(p.a)(u.a.InputBorder, h.a.TimeBlock) },
                l.createElement(o.a, {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: S,
                  timeConstraints: s,
                  value: this.state.timeAsString ? this.state.timeAsString : E,
                  inputProps: {
                    placeholder: Object(_.f)("#DateTimePicker_Enter_Time"),
                    className: Object(p.a)(
                      h.a.TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase"
                    ),
                    disabled: r,
                  },
                }),
                !!j &&
                  l.createElement(
                    "div",
                    { className: h.a.PacificTimeHint },
                    j.format("LT")
                  )
              ),
              this.props.bShowTimeZone &&
                l.createElement(
                  "div",
                  null,
                  l.createElement(
                    "div",
                    { className: h.a.TimeZone },
                    T.zoneAbbr()
                  ),
                  !!j &&
                    l.createElement(
                      "div",
                      { className: h.a.TimeZone },
                      j.zoneAbbr()
                    )
                )
            ),
            Boolean(s) &&
              l.createElement(
                "div",
                null,
                Object(_.f)("#DateTimePicker_DateTime_Fixed")
              )
          );
        }
      };
      Object(n.b)([g.b], S.prototype, "OnTimeChange", null),
        Object(n.b)([g.b], S.prototype, "OnDateChange", null),
        Object(n.b)([g.b], S.prototype, "IsValidDate", null),
        Object(n.b)([g.b], S.prototype, "SetToNow", null),
        (S = Object(n.b)([i.a], S));
    },
    fbnN: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return p;
      });
      var n = a("q1tI"),
        i = a("EC67"),
        l = a("exH9"),
        r = a("TLQK"),
        o = a("GiuM"),
        s = a("Cksw"),
        c = a.n(s),
        d = a("5E+2"),
        m = a("+d9t");
      class u extends n.Component {
        constructor() {
          super(...arguments), (this.state = { activeTab: "" });
        }
        componentDidMount() {
          this.props.startingTab
            ? this.setState({ activeTab: this.props.startingTab })
            : !this.props.bDisableRouting &&
              this.props.location &&
              this.setState({
                activeTab: Object(o.a)(this.props.location, "tab"),
              });
        }
        componentDidUpdate(e) {
          !this.props.bDisableRouting &&
            this.props.location &&
            this.props.location.key !== e.location.key &&
            this.setState({
              activeTab: Object(o.a)(this.props.location, "tab"),
            });
        }
        OnTabClick(e) {
          this.setState({ activeTab: e.key }),
            !this.props.bDisableRouting &&
              this.props.history &&
              Object(o.b)(this.props.history, "tab", e.key),
            e.onClick && e.onClick(e);
        }
        render() {
          const e =
            this.props.tabs.find((e) => e.key === this.state.activeTab) ||
            this.props.tabs[0];
          return n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "div",
              { className: c.a.GraphicalAssetsTabs },
              this.props.tabs.map((t) => {
                if (!t.hidden) {
                  let a = "";
                  return (
                    "success" === t.statusType
                      ? (a = c.a.StatusSuccess)
                      : "danger" === t.statusType
                      ? (a = c.a.StatusDanger)
                      : "caution" === t.statusType && (a = c.a.StatusCaution),
                    n.createElement(
                      m.b,
                      {
                        key: t.key,
                        condition: Boolean(t.statusToolTip),
                        wrap: (e) =>
                          n.createElement(
                            d.a,
                            { toolTipContent: t.statusToolTip },
                            e
                          ),
                      },
                      n.createElement(
                        "div",
                        {
                          key: t.key,
                          className: `${c.a.GraphicalAssetsTab} ${
                            t.key === e.key ? c.a.Active : ""
                          }`,
                          onClick: () => this.OnTabClick(t),
                        },
                        Boolean(t.vo_warning) &&
                          n.createElement(
                            d.a,
                            { toolTipContent: t.vo_warning },
                            n.createElement(
                              "div",
                              { className: c.a.VOWarning },
                              Object(r.f)("#EventEditor_VOWarning")
                            )
                          ),
                        Boolean(t.status) &&
                          n.createElement(
                            "div",
                            {
                              className: Object(l.a)(
                                c.a.GraphicalAssetStatus,
                                a
                              ),
                            },
                            t.status
                          ),
                        t.name
                      )
                    )
                  );
                }
                return null;
              })
            ),
            n.createElement("div", null, e && e.contents)
          );
        }
      }
      const p = Object(i.j)(u);
    },
    fcuX: function (e, t, a) {
      "use strict";
      a.d(t, "e", function () {
        return n;
      }),
        a.d(t, "c", function () {
          return i;
        }),
        a.d(t, "d", function () {
          return l;
        }),
        a.d(t, "b", function () {
          return r;
        }),
        a.d(t, "g", function () {
          return I;
        }),
        a.d(t, "a", function () {
          return D;
        }),
        a.d(t, "f", function () {
          return G;
        });
      var n,
        i,
        l,
        r,
        o = a("mrSG"),
        s = a("t0uJ"),
        c = a("2vnA"),
        d = a("mgoM"),
        m = a("65aj"),
        u = (a("Nsq5"), a("eoVY"), a("dZOt")),
        p = a("3+zv"),
        _ = a("kLLr"),
        g = (a("jkzW"), a("U+Q5")),
        b = a("TQGK"),
        E = a("I/R6"),
        h = a("5izx"),
        v = (a("6oCP"), a("C4Nl")),
        S = a("r64O"),
        f = a("TLQK"),
        O = a("N0Ye"),
        C = a("opsS"),
        y = a("lkRc"),
        T = a("Q47U"),
        j = a("KP/B");
      !(function (e) {
        (e.k_ENow = "now"), (e.k_ESpecified = "specified");
      })(n || (n = {})),
        (function (e) {
          (e.k_EDuration = "duration"), (e.k_ESpecified = "specified");
        })(i || (i = {})),
        (function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.type = 1)] = "type"),
            (e[(e.name = 2)] = "name"),
            (e[(e.description = 4)] = "description"),
            (e[(e.time = 8)] = "time"),
            (e[(e.visibility = 16)] = "visibility"),
            (e[(e.jsondata_other = 32)] = "jsondata_other"),
            (e[(e.jsondata_image = 64)] = "jsondata_image"),
            (e[(e.jsondata_email = 128)] = "jsondata_email"),
            (e[(e.jsondata_broadcast = 256)] = "jsondata_broadcast"),
            (e[(e.jsondata_sales = 512)] = "jsondata_sales"),
            (e[(e.jsondata_schedule = 1024)] = "jsondata_schedule");
        })(l || (l = {})),
        (function (e) {
          (e.k_EHour = "hour"), (e.k_EDay = "day"), (e.k_EWeek = "week");
        })(r || (r = {}));
      var I;
      function D(e) {
        switch (e) {
          case I.immediate:
            return "immediate";
          case I.event_start:
            return "event_start";
          case I.specified_time:
            return "specific time";
        }
        return "unknown";
      }
      !(function (e) {
        (e[(e.immediate = 0)] = "immediate"),
          (e[(e.event_start = 1)] = "event_start"),
          (e[(e.specified_time = 2)] = "specified_time");
      })(I || (I = {}));
      class G {
        constructor(e) {
          (this.m_bChanged = !1),
            (this.m_changes = l.None),
            (this.visibilitySetting = I.immediate),
            (this.m_startTimeEditChoice = n.k_ENow),
            (this.m_endTimeEditChoice = i.k_EDuration),
            (this.m_originalEvent = e),
            (this.m_curModel = e.clone(!0)),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            e.BIsOGGEvent() && b.a.LoadOGGClanInfoForAppID(e.appid),
            this.ClearDirty();
        }
        GetCreatorUserSteamID() {
          return new _.a(this.m_originalEvent.creator_steamid);
        }
        GetLastUpdater() {
          return new _.a(this.m_originalEvent.last_update_steamid);
        }
        GetLastUpdateTime() {
          return this.m_originalEvent.rtime32_last_modified;
        }
        GetGID() {
          return this.m_curModel.GID ? this.m_curModel.GID : "";
        }
        BHasGid() {
          return this.m_curModel.GID && this.m_curModel.GID.length > 1;
        }
        GetAnnouncementGID() {
          return this.m_curModel.AnnouncementGID
            ? this.m_curModel.AnnouncementGID
            : "";
        }
        GetClanSteamID() {
          return this.m_curModel.clanSteamID;
        }
        GetClanAccountID() {
          return this.m_curModel.clanSteamID.GetAccountID();
        }
        GetAppID() {
          return this.m_curModel.appid;
        }
        GetEventState() {
          return this.m_curModel.visibility_state;
        }
        GetEventType() {
          return this.m_curModel.type;
        }
        GetEventTypeAsString() {
          return this.m_curModel.GetEventTypeAsString();
        }
        GetStartTimeEditChoice() {
          return this.m_startTimeEditChoice;
        }
        GetEndTimeEditChoice() {
          return this.m_endTimeEditChoice;
        }
        GetEndEditDurationType() {
          return this.m_editDurationType;
        }
        GetEndEditDurationValue() {
          return this.m_editDurationValue;
        }
        GetUniqueKey() {
          return this.BHasGid() ? this.GetGID() : "GIDLessNewEvent";
        }
        BIsSourceEventSaleEnabled() {
          return this.m_originalEvent.jsondata.bSaleEnabled;
        }
        BInRealmGlobal() {
          return this.m_curModel.BInRealmGlobal();
        }
        BInRealmChina() {
          return this.m_curModel.BInRealmChina();
        }
        BIsLanguageValidForRealms(e) {
          return this.m_curModel.BIsLanguageValidForRealms(e);
        }
        EnsureCurrentLanguageValid() {
          this.BIsLanguageValidForRealms(E.a.Get().GetCurEditLanguage()) ||
            E.a.Get().SetCurEditLanguage(this.BInRealmChina() ? 29 : 0);
        }
        GetIncludedRealmList() {
          const e = new Array();
          return (
            this.BInRealmGlobal() && e.push(m.ESteamRealm.k_ESteamRealmGlobal),
            this.BInRealmChina() && e.push(m.ESteamRealm.k_ESteamRealmChina),
            Object(S.a)(
              e.length > 0,
              `Event ${this.GetGID()} is currently configured so that no realms are valid for display. Either enable Steam China or Global to address this issue`
            ),
            e
          );
        }
        GetCompletionState(e, t) {
          const a = e.filter((e) => Boolean(e)),
            n = a.length >= e.length;
          return {
            text: Object(f.f)(
              n
                ? "#EventEditor_CompleteStatus"
                : "#EventEditor_IncompleteStatus",
              a.length,
              e.length
            ),
            complete: a.length,
            total: e.length,
            ttip: n ? void 0 : t,
          };
        }
        GetDescriptionCompletion() {
          const e = E.a.Get().GetCurEditLanguage(),
            t = [this.GetName(e), this.GetDescription(e)];
          return this.GetCompletionState(t);
        }
        GetArtworkCompletion() {
          if (this.BHasTag("curator")) return null;
          const e = E.a.Get().GetCurEditLanguage(),
            t = [this.GetImageURL("capsule", e)];
          return this.GetCompletionState(t);
        }
        GetOptionsCompletion() {
          const e = [];
          return (
            this.BHasTag("steam_award_nomination_request") &&
              e.push(this.GetSteamAwardCategory()),
            this.BIsEventForOGGWithoutVisibleStorePage() &&
              e.push(this.BOptedInForOGGWithoutVisibleStorePage()),
            e.length ? this.GetCompletionState(e) : null
          );
        }
        GetSaleTabCompletion() {
          const e = [];
          return (
            this.BHasSaleEnabled() &&
              e.push(this.GetEventModel().GetSaleVanity()),
            e.length
              ? this.GetCompletionState(
                  e,
                  Object(f.f)("#EventEditor_SaleNotReady_ttip")
                )
              : null
          );
        }
        BAllowedToPublishStagedEvents() {
          return (
            !this.BHasTag("steam_award_nomination_request") &&
            !this.BHasTag("steam_award_vote_request")
          );
        }
        GetEventStartTime() {
          return this.m_curModel.startTime;
        }
        GetEventEndTime() {
          return this.m_curModel.endTime;
        }
        GetEventVisibilityStartTime() {
          return Object(O.b)(this.GetCategoryAsType())
            ? this.m_curModel.visibilityStartTime
            : this.m_curModel.startTime;
        }
        BGetOriginalEventVisibilityStartTime() {
          return this.m_originalEvent.visibilityStartTime;
        }
        GetEventVisibilityEndTime() {
          return this.m_curModel.visibilityEndTime;
        }
        GetOriginalEventStartTime() {
          return this.m_originalEvent.startTime;
        }
        GetOriginalEventEndTime() {
          return this.m_originalEvent.endTime;
        }
        IsValidStartTimeForEdit() {
          const e = this.GetEventStartTime();
          return (
            !e ||
            e <= 1 ||
            !(!this.BPublished() || e != this.GetOriginalEventStartTime()) ||
            (this.GetEarliestStartTimeForEdit() &&
            e < this.GetEarliestStartTimeForEdit()
              ? "#EventEditor_StartTime_BeforeEarliestAllowed"
              : this.GetLatestEndTimeForEdit() &&
                e + 3600 > this.GetLatestEndTimeForEdit()
              ? "#EventEditor_StartTime_AfterLatestAllowed"
              : !(e + 3600 < h.a.GetTimeNowWithOverride()) ||
                "#EventEditor_StartTime_BeforeNow")
          );
        }
        IsValidEndTimeForEdit() {
          const e = this.GetEventEndTime();
          return (
            !e ||
            e <= 1 ||
            !(!this.BPublished() || e != this.GetOriginalEventEndTime()) ||
            (this.BIsBeginTimeBeforeEnd()
              ? !(
                  this.GetLatestEndTimeForEdit() &&
                  e > this.GetLatestEndTimeForEdit()
                ) || "#EventEditor_EndTime_AfterLatestAllowed"
              : "#EventEditor_EndTime_ToEarly")
          );
        }
        GetName(e = 0) {
          return this.m_curModel.name.get(e);
        }
        GetDescription(e = 0) {
          return this.m_curModel.description.get(e);
        }
        BHasBroadcaster() {
          return null != this.m_curModel.broadcaster;
        }
        GetBroadcaster() {
          return this.m_curModel.broadcaster;
        }
        BHasLanguageTitle(e) {
          let t = this.m_curModel.name.get(e);
          return t && t.length > 1;
        }
        BHasLanguageDescription(e) {
          let t = this.m_curModel.description.get(e);
          return t && t.length > 1;
        }
        BHasLanguageSubTitle(e) {
          let t = this.m_curModel.GetSubTitle(e);
          return t && t.length > 1;
        }
        BHasLanguageSummary(e) {
          let t = this.m_curModel.GetSummary(e);
          return t && t.length > 1;
        }
        BHasLanguage(e) {
          return this.BHasLanguageTitle(e) || this.BHasLanguageDescription(e);
        }
        BHasLanguageRequired(e) {
          return this.BHasLanguageTitle(e) && this.BHasLanguageDescription(e);
        }
        BHasSubTitle(e) {
          return this.m_curModel.BHasSubTitle(e);
        }
        GetSubTitle(e) {
          return this.m_curModel.GetSubTitle(e);
        }
        GetSummary(e) {
          return this.m_curModel.GetSummary(e);
        }
        GetAppName() {
          var e;
          return null === (e = v.a.Get().GetApp(this.m_curModel.appid)) ||
            void 0 === e
            ? void 0
            : e.GetName();
        }
        GetCategoryAsString() {
          return this.m_curModel.GetCategoryAsString();
        }
        GetCategoryAsType() {
          return this.m_curModel.type;
        }
        GetCurEditLanguage() {
          return E.a.Get().GetCurEditLanguage();
        }
        BHidden() {
          return (
            this.m_curModel.visibility_state == p.j.k_EEventStateUnpublished ||
            this.m_curModel.visibility_state == p.j.k_EEventStateStaged
          );
        }
        BPublished() {
          return (
            this.m_curModel.visibility_state == p.j.k_EEventStateStaged ||
            this.m_curModel.visibility_state == p.j.k_EEventStateVisible
          );
        }
        BVisible() {
          return this.m_curModel.visibility_state == p.j.k_EEventStateVisible;
        }
        GetVisibilityState() {
          return this.m_curModel.visibility_state;
        }
        GetEventModel() {
          return this.m_curModel;
        }
        BHasEmailEnabled() {
          return (
            this.m_curModel.jsondata.email_setting &&
            this.m_curModel.jsondata.email_setting.bEnable
          );
        }
        BHasSaleEnabled() {
          return this.m_curModel.jsondata.bSaleEnabled;
        }
        BHasScheduleEnabled() {
          return this.m_curModel.jsondata.bScheduleEnabled;
        }
        GetScheduleEntries() {
          return this.m_curModel.jsondata.bScheduleEnabled &&
            this.m_curModel.jsondata.scheduleEntries
            ? this.m_curModel.jsondata.scheduleEntries
            : [];
        }
        GetScheduleEntriesCount() {
          return this.m_curModel.jsondata.bScheduleEnabled &&
            this.m_curModel.jsondata.scheduleEntries
            ? this.m_curModel.jsondata.scheduleEntries.length
            : 0;
        }
        GetSaleSections() {
          return this.m_curModel.jsondata.sale_sections;
        }
        BHasLanguageRequiredOrFallback(e, t) {
          return (
            (this.BHasLanguageTitle(e) || this.BHasLanguageTitle(t)) &&
            (this.BHasLanguageDescription(e) || this.BHasLanguageDescription(t))
          );
        }
        GetDynamicRevealSections() {
          let e = new Array();
          return (
            this.GetSaleSections().forEach((t) => {
              t.dynamic_reveal && e.push(t);
            }),
            e
          );
        }
        GetTabSaleSection() {
          if (this.m_curModel.jsondata.sale_sections)
            return this.m_curModel.jsondata.sale_sections.find(
              (e) => "tabs" === e.section_type
            );
        }
        GetSaleSectionIndexByID(e) {
          return this.m_curModel.jsondata.sale_sections
            ? this.m_curModel.jsondata.sale_sections.findIndex(
                (t) => t.unique_id === e
              )
            : -1;
        }
        GetSaleSectionByID(e) {
          if (this.m_curModel.jsondata.sale_sections)
            return this.m_curModel.jsondata.sale_sections.find(
              (t) => t.unique_id === e
            );
        }
        BHasSaleSectionLabelLocalization(e, t) {
          let a = this.GetSaleSections()[t];
          return Boolean(f.a.Get(a.localized_label, e));
        }
        SetSaleSectionLabelLocalization(e, t, a) {
          let n = this.GetSaleSections()[t];
          return (
            f.a.Get(n.localized_label, e) != a &&
            ((n.localized_label = f.a.Set(n.localized_label || [], e, a)),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        static SetSaleSectionType(e, t) {
          e.section_type !== t &&
            ((e.internal_section_data =
              "vo_internal" === t ? Object.assign({}, p.i) : null),
            (e.section_type = t),
            "items" == t &&
              void 0 === e.capsules_per_row_array &&
              ((e.capsules_per_row_array = [2, 3, 4, 3]),
              (e.carousel_rows = 2),
              (e.show_as_carousel = !0)));
        }
        BHasSaleSectionTextLocalization(e, t) {
          var a;
          const n = this.GetSaleSections()[t];
          return Boolean(
            ("text_section" === n.section_type ||
              ("vo_internal" == n.section_type &&
                "reservation_widget" ==
                  (null === (a = n.internal_section_data) || void 0 === a
                    ? void 0
                    : a.internal_type))) &&
              n.text_section_contents &&
              n.text_section_contents.length > e &&
              n.text_section_contents[e]
          );
        }
        SetSaleSectionTextLocalization(e, t, a) {
          var n;
          let i = this.GetSaleSections()[t];
          return (
            ("text_section" === i.section_type ||
              ("vo_internal" == i.section_type &&
                "reservation_widget" ==
                  (null === (n = i.internal_section_data) || void 0 === n
                    ? void 0
                    : n.internal_type))) &&
            f.a.Get(i.text_section_contents, e) != a &&
            ((i.text_section_contents = f.a.Set(
              i.text_section_contents || [],
              e,
              a
            )),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        BHasSaleSectionDescriptionBBCode(e, t) {
          const a = this.GetSaleSections()[t];
          return Boolean(
            a.localized_description &&
              a.localized_description.length > e &&
              a.localized_description[e]
          );
        }
        SetSaleSectionDescriptionBBCode(e, t, a) {
          let n = this.GetSaleSections()[t];
          return (
            f.a.Get(n.localized_description, e) != a &&
            ((n.localized_description = f.a.Set(
              n.localized_description || [],
              e,
              a
            )),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        BHasSaleSectionTabName(e, t) {
          return Boolean(t && f.a.Get(t.localized_label, e));
        }
        SetSaleSectionTabName(e, t, a) {
          return (
            f.a.Get(t.localized_label, e) != a &&
            ((t.localized_label = f.a.Set(t.localized_label || [], e, a)),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        BHasSaleSectionFacetName(e, t) {
          return Boolean(t && f.a.Get(t.name, e));
        }
        BHasSaleSectionFacetValueName(e, t) {
          return Boolean(t && f.a.Get(t.name, e));
        }
        BHasSaleSectionFacetValueSubtitle(e, t) {
          return Boolean(t && f.a.Get(t.subtitle, e));
        }
        SetSaleSectionFacetName(e, t, a) {
          return (
            f.a.Get(t.name, e) !== a &&
            ((t.name = f.a.Set(t.name || [], e, a)),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        SetSaleSectionFacetValueName(e, t, a) {
          return (
            f.a.Get(t.name, e) !== a &&
            ((t.name = f.a.Set(t.name || [], e, a)),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        SetSaleSectionFacetValueSubtitle(e, t, a) {
          return (
            f.a.Get(t.subtitle, e) !== a &&
            ((t.subtitle = f.a.Set(t.subtitle || [], e, a)),
            this.SetDirty(l.jsondata_sales),
            !0)
          );
        }
        GetVisibilityPublishingSetup() {
          return this.visibilitySetting;
        }
        BIsEmailVideoImageMissing() {
          return (
            this.BHasEmailEnabled() &&
            !this.m_curModel.jsondata.email_setting.sections[1].video_image &&
            Boolean(
              this.m_curModel.jsondata.email_setting.sections[1].video_link
            )
          );
        }
        GetFirstLanguageWithTitle() {
          let e = 0;
          for (; e < 30; ++e) if (this.BHasLanguageTitle(e)) return e;
          return e;
        }
        BHasSpotlightArtwork() {
          return Boolean(
            this.m_curModel.jsondata.localized_spotlight_image &&
              this.m_curModel.jsondata.localized_spotlight_image[0]
          );
        }
        BHasSteamStoreSpotlight() {
          return Boolean(this.m_curModel.jsondata.store_spotlight);
        }
        BHasLibaryHomeSpotlight() {
          return Boolean(this.m_curModel.jsondata.library_home_spotlight);
        }
        SetSteamStoreSpotlight(e) {
          this.m_curModel.jsondata.store_spotlight != e &&
            ((this.m_curModel.jsondata.store_spotlight = e),
            this.SetDirty(l.visibility));
        }
        SetLibraryHomeSpotlight(e) {
          this.m_curModel.jsondata.library_home_spotlight != e &&
            ((this.m_curModel.jsondata.library_home_spotlight = e),
            this.SetDirty(l.visibility));
        }
        SetStartTimeEditChoice(e) {
          this.m_startTimeEditChoice != e &&
            ((this.m_startTimeEditChoice = e), this.SetDirty(l.visibility));
        }
        SetEndTimeEditChoice(e) {
          this.m_endTimeEditChoice != e &&
            ((this.m_endTimeEditChoice = e), this.SetDirty(l.visibility));
        }
        SetEndEditDurationType(e) {
          this.m_editDurationType != e &&
            ((this.m_editDurationType = e), this.SetDirty(l.visibility));
        }
        SetEndEditDurationValue(e) {
          this.m_editDurationValue != e &&
            ((this.m_editDurationValue = e), this.SetDirty(l.visibility));
        }
        UpdateVisibilityState(e, t) {
          this.m_curModel.visibility_state = e
            ? t
              ? p.j.k_EEventStateStaged
              : p.j.k_EEventStateVisible
            : p.j.k_EEventStateUnpublished;
        }
        SetVisibilityPublishingSetup(e) {
          e != this.visibilitySetting &&
            ((this.visibilitySetting = e), this.SetDirty(l.visibility));
        }
        SetGIDs(e, t, a) {
          (this.m_curModel.clanSteamID = e),
            Object(S.a)(
              this.m_curModel.clanSteamID &&
                this.m_curModel.clanSteamID.BIsValid(),
              "Invalid Clan SteamID: " + e.ConvertTo64BitString()
            ),
            (this.m_curModel.GID = t),
            (this.m_curModel.AnnouncementGID = a);
        }
        SetVisibilityState(e) {
          this.m_curModel.visibility_state != e &&
            ((this.m_curModel.visibility_state = e),
            this.SetDirty(l.visibility));
        }
        SetName(e, t) {
          return (
            this.m_curModel.name.get(e) !== t &&
            (this.m_curModel.name.set(e, t), this.SetDirty(l.name), !0)
          );
        }
        SetDescription(e, t) {
          return (
            this.m_curModel.description.get(e) != t &&
            (this.m_curModel.description.set(e, t),
            this.SetDirty(l.description),
            !0)
          );
        }
        SetSubTitle(e, t) {
          return (
            this.m_curModel.jsondata.localized_subtitle[e] != t &&
            ((this.m_curModel.jsondata.localized_subtitle[e] = t),
            this.SetDirty(l.jsondata_other),
            !0)
          );
        }
        SetSummary(e, t) {
          return (
            this.m_curModel.jsondata.localized_summary[e] != t &&
            ((this.m_curModel.jsondata.localized_summary[e] = t),
            this.SetDirty(l.jsondata_other),
            !0)
          );
        }
        SetCurEditLanguage(e) {
          return E.a.Get().SetCurEditLanguage(e);
        }
        PrepareAsClone(e) {
          (this.m_curModel = e),
            (this.m_curModel.GID = void 0),
            (this.m_curModel.AnnouncementGID = void 0),
            (this.m_curModel.visibility_state = p.j.k_EEventStateUnpublished),
            (this.m_curModel.nCommentCount = 0),
            (this.m_curModel.nVotesDown = 0),
            (this.m_curModel.nVotesUp = 0),
            (this.m_curModel.forumTopicGID = void 0),
            (this.m_curModel.creator_steamid = void 0),
            (this.m_curModel.last_update_steamid = void 0),
            (this.m_curModel.rtime32_last_modified = 0),
            (this.m_curModel.rtime32_last_solr_search_col_updated = 0),
            (this.m_curModel.rtime32_moderator_reviewed = 0),
            (this.m_curModel.postTime = 0),
            (this.m_curModel.startTime = void 0),
            (this.m_curModel.endTime = void 0),
            (this.m_curModel.visibilityStartTime = void 0),
            (this.m_curModel.visibilityEndTime = void 0),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            this.m_curModel.timestamp_loc_updated.clear();
          for (let e = this.m_curModel.vecTags.length - 1; e >= 0; --e) {
            let t = this.m_curModel.vecTags[e];
            (t.startsWith("mod_") || t.startsWith("ModAct_")) &&
              this.m_curModel.vecTags.splice(e, 1);
          }
          (this.m_originalEvent = new p.q()),
            (this.m_originalEvent.loadedAllLanguages = !0),
            Object(p.w)(this.m_curModel.jsondata),
            this.SetDirty(
              l.description |
                l.name |
                l.time |
                l.type |
                l.jsondata_image |
                l.jsondata_other |
                l.jsondata_email
            );
        }
        setEventType(e) {
          this.m_curModel.type != e &&
            ((this.m_curModel.type = e), this.SetDirty(l.type));
        }
        SetAnnouncementGID(e) {
          this.m_curModel.AnnouncementGID = e;
        }
        SetEarliestAllowedStartTime(e) {
          this.earliestAllowedStartTime = e;
        }
        SetLatestAllowedEndTime(e) {
          this.latestAllowedEndTime = e;
        }
        SetEventStartTime(e) {
          const t = Math.abs(e - (e % 60));
          this.m_curModel.startTime != t &&
            ((this.m_curModel.startTime = t),
            t && this.SetStartTimeEditChoice(n.k_ESpecified),
            this.m_curModel.endTime < this.m_curModel.startTime &&
              (this.m_curModel.endTime = this.m_curModel.startTime + 3600),
            this.SetDirty(l.time));
        }
        SetEventEndTime(e) {
          let t = e - (e % 60);
          this.m_curModel.endTime != t &&
            ((this.m_curModel.endTime = t),
            t && this.SetEndTimeEditChoice(i.k_ESpecified),
            this.SetDirty(l.time));
        }
        SetSaleVanityID(e) {
          var t;
          const a =
            null !== (t = e.replace(/[^\w-]/g, "")) && void 0 !== t ? t : "";
          this.m_curModel.jsondata.sale_vanity_id != a &&
            ((this.m_curModel.jsondata.sale_vanity_id = a),
            this.SetDirty(l.jsondata_sales));
        }
        SetVisibilityStartTime(e) {
          this.m_curModel.visibilityStartTime != e &&
            ((this.m_curModel.visibilityStartTime = e),
            this.SetDirty(l.visibility));
        }
        ResetSetVisibilityStartTime() {
          this.SetVisibilityStartTime(this.m_originalEvent.visibilityStartTime),
            this.DeriveVisibilitySetting();
        }
        SetVisibilityEndTime(e) {
          this.m_curModel.visibilityEndTime != e &&
            ((this.m_curModel.visibilityEndTime = e),
            this.SetDirty(l.visibility));
        }
        SetActionEndTime(e) {
          (this.m_curModel.jsondata.action_end_time = e),
            this.SetDirty(l.jsondata_other);
        }
        BIsDirty() {
          return this.m_bChanged;
        }
        ClearDirty() {
          (this.m_bChanged = !1), (this.m_changes = l.None);
        }
        SetDirty(e) {
          this.m_bChanged || e == l.None || (this.m_bChanged = !0),
            (this.m_changes & e) != e && (this.m_changes |= e),
            (this.m_curModel.rtime32_last_local_modification =
              Date.now() / 1e3);
        }
        GetChangeTypes() {
          return this.m_changes;
        }
        BIsDirtyType(e) {
          return Boolean(this.m_changes & e);
        }
        DeriveTimeEditChoices() {
          let e = this.ComputeDurationSetting(),
            t = null != e;
          null == e && (e = this.ComputeDefaultDuration()),
            this.SetEndEditDurationType(e.durationType),
            this.SetEndEditDurationValue(e.value),
            !this.BPublished() &&
              this.GetEventStartTime() < h.a.GetTimeNowWithOverride() &&
              this.SetEventStartTime(0);
          let a =
              !this.GetEventStartTime() || this.GetEventStartTime() <= 1
                ? n.k_ENow
                : n.k_ESpecified,
            l =
              !this.GetEventEndTime() || this.GetEventEndTime() <= 1 || t
                ? i.k_EDuration
                : i.k_ESpecified;
          this.SetStartTimeEditChoice(a), this.SetEndTimeEditChoice(l);
        }
        DeriveVisibilitySetting() {
          this.BHidden() &&
            (this.visibilitySetting = G.ComputeVisibilitySetting(
              this.m_curModel.startTime,
              this.m_curModel.visibilityStartTime
            ));
        }
        static ComputeVisibilitySetting(e, t) {
          let a = I.specified_time;
          return (
            !t || t <= 1 ? (a = I.immediate) : t == e && (a = I.event_start), a
          );
        }
        static CalculateEndTimeFromStartAndDuration(e, t, a) {
          return t == r.k_EWeek
            ? e + 604800 * a
            : t == r.k_EDay
            ? e + 86400 * a
            : e + 3600 * a;
        }
        RemoveNullCapsules() {
          for (const e of this.GetSaleSections())
            e.capsules &&
              e.capsules.some((e) => !Boolean(e)) &&
              (e.capsules = e.capsules.filter((e) => Boolean(e)));
        }
        OnPreSave() {
          this.RemoveNullCapsules(),
            this.PreSaveEventTimeAssignment(),
            this.FixupTabVisibilitySettings(),
            Object(j.v)(this);
        }
        FixupTabVisibilitySettings() {
          let e = null;
          for (const t of this.GetSaleSections())
            t.show_on_tabs &&
              ((t.show_on_tabs = t.show_on_tabs.filter(
                (t) => e && e.tabs.some((e) => t === e.unique_id)
              )),
              0 === t.show_on_tabs.length && (t.show_on_tabs = void 0)),
              "tabs" === t.section_type &&
                t.tabs &&
                t.tabs.length > 0 &&
                (e = t);
        }
        PreSaveEventTimeAssignment() {
          let e = h.a.GetTimeNowWithOverride();
          if (
            ((e -= e % 60),
            this.SetEventStartTime(this.ComputeStartTime(e)),
            Object(O.b)(this.m_curModel.type))
          ) {
            let e = this.GetEventStartTime();
            this.m_endTimeEditChoice == i.k_EDuration &&
              (this.m_curModel.endTime =
                1 + this.InternalComputeDurationRoundedEndTime(e));
          }
          if (
            (null == this.GetEventEndTime() && this.SetEventEndTime(0),
            this.BHidden())
          ) {
            let t = this.ComputeVisibilityStartTime(
              e,
              this.m_curModel.startTime
            );
            this.SetVisibilityStartTime(t);
          }
        }
        ComputeStartTime(e) {
          return this.m_startTimeEditChoice == n.k_ENow ||
            null == this.GetEventStartTime() ||
            0 == this.GetEventStartTime()
            ? e
            : this.GetEventStartTime();
        }
        ComputeVisibilityStartTime(e, t) {
          switch (this.visibilitySetting) {
            default:
              return console.error("Unexpected: " + this.visibilitySetting), 0;
            case I.immediate:
              return 0;
            case I.event_start:
              return t <= 1 ? e : t;
            case I.specified_time:
              return this.m_curModel.visibilityStartTime < e
                ? e
                : this.m_curModel.visibilityStartTime;
          }
        }
        GetVisibilitySetting() {
          return this.visibilitySetting;
        }
        Refresh(e) {
          this.m_curModel.GID == e.GID &&
            ((this.m_originalEvent = e),
            (this.m_curModel = e.clone(!0)),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            this.ClearDirty(),
            this.MigrateForEdit());
        }
        BIsBeginTimeBeforeEnd() {
          let e = h.a.GetTimeNowWithOverride(),
            t = this.ComputeStartTime(e);
          return (
            !this.m_curModel.endTime ||
            0 == this.m_curModel.endTime ||
            this.m_curModel.endTime >= t
          );
        }
        BIsValidVisibilityStartTime() {
          let e = h.a.GetTimeNowWithOverride();
          return (
            !!(
              this.visibilitySetting != I.specified_time ||
              !this.m_curModel.visibilityStartTime ||
              0 == this.m_curModel.visibilityStartTime ||
              this.m_curModel.startTime < e ||
              (e < this.m_curModel.visibilityStartTime &&
                this.m_curModel.visibilityStartTime <=
                  this.m_curModel.startTime)
            ) || "#EventEditor_Publish_InvalidPublishDate"
          );
        }
        GetEarliestStartTimeForEdit() {
          return this.earliestAllowedStartTime;
        }
        GetLatestEndTimeForEdit() {
          return this.latestAllowedEndTime;
        }
        GetEarliestEndTimeForEdit() {
          return this.m_curModel.startTime && 0 != this.m_curModel.startTime
            ? this.m_curModel.startTime
            : h.a.GetTimeNowWithOverride();
        }
        GetEarliestVisibilityStartTimeForEdit() {
          return Math.min(
            this.GetEarliestEndTimeForEdit(),
            h.a.GetTimeNowWithOverride()
          );
        }
        ConstructJSONData() {
          return this.m_curModel.jsondata
            ? JSON.stringify(this.m_curModel.jsondata)
            : "";
        }
        SetImageURL(e, t, a = 0) {
          let n = t ? g.a.GetExtensionString(t) : null,
            i = t ? t.image_hash + n : null,
            r = this.m_curModel.jsondata;
          if ("background" === e && r.localized_title_image[a] !== i)
            (r.localized_title_image[a] = i), this.SetDirty(l.jsondata_image);
          else if ("capsule" === e && r.localized_capsule_image[a] !== i)
            (r.localized_capsule_image[a] = i), this.SetDirty(l.jsondata_image);
          else if ("spotlight" === e && r.localized_spotlight_image[a] !== i)
            (r.localized_spotlight_image[a] = i),
              this.GetImageURL("spotlight", 0) || (r.library_spotlight = !1),
              this.SetDirty(l.jsondata_image);
          else if (
            "broadcast_left" === e &&
            r.localized_broadcast_left_image[a] !== i
          )
            (r.localized_broadcast_left_image[a] = i),
              this.SetDirty(l.jsondata_image);
          else if (
            "broadcast_right" === e &&
            r.localized_broadcast_right_image[a] !== i
          )
            (r.localized_broadcast_right_image[a] = i),
              this.SetDirty(l.jsondata_image);
          else if ("sale_header" === e) {
            let e;
            (e =
              r.sale_num_headers > 1
                ? r.localized_per_day_sales_header[
                    this.m_curModel.GetDayIndexFromEventStart()
                  ]
                : r.localized_sale_header),
              e[a] !== i && ((e[a] = i), this.SetDirty(l.jsondata_image));
          } else
            "sale_logo" === e && f.a.Get(r.localized_sale_logo, a) !== i
              ? ((r.localized_sale_logo = f.a.Set(
                  r.localized_sale_logo || [],
                  a,
                  i
                )),
                this.SetDirty(l.jsondata_image))
              : "sale_overlay" === e && r.localized_sale_overlay[a] !== i
              ? ((r.localized_sale_overlay[a] = i),
                this.SetDirty(l.jsondata_image))
              : "product_banner" === e &&
                f.a.Get(r.localized_sale_product_banner, a) !== i
              ? ((r.localized_sale_product_banner = f.a.Set(
                  r.localized_sale_product_banner || [],
                  a,
                  i
                )),
                this.SetDirty(l.jsondata_image))
              : "product_mobile_banner" === e &&
                f.a.Get(r.localized_sale_product_mobile_banner, a) !== i
              ? ((r.localized_sale_product_mobile_banner = f.a.Set(
                  r.localized_sale_product_mobile_banner || [],
                  a,
                  i
                )),
                this.SetDirty(l.jsondata_image))
              : "link_capsule" === e ||
                "product_banner_override" === e ||
                "product_mobile_banner_override" === e ||
                "sale_section_title" === e ||
                "schedule_track_art" === e
              ? (i &&
                  0 == g.d.GetAllLocalizedGroupImages().length &&
                  g.d.SetPrimaryImageForImageGroup(t, e),
                g.d.SetLocalizedImageGroupAtLang(a, this.GetClanSteamID(), i))
              : "localized_image_group" === e &&
                console.error(
                  "Attempting to save localized image via editor model, not supported, it belong to the store itself"
                );
        }
        GetImageURL(e, t = 0, a = g.c.full) {
          return this.m_curModel.GetImageURL(e, t, a);
        }
        GetImageURLWithFallback(e, t, a = g.c.full) {
          return this.m_curModel.GetImageURLWithFallback(e, t, a);
        }
        GetImageHash(e, t) {
          return this.m_curModel.GetImageHash(e, t);
        }
        BHasImage(e, t) {
          return this.m_curModel.BHasImage(e, t);
        }
        BHasTitleImage(e) {
          return void 0 !== this.m_curModel.GetImageURL("background", e);
        }
        BIsImageSafeForAllAges(e, t) {
          return this.m_curModel.BIsImageSafeForAllAges(e, t);
        }
        GetTitleImageLanguages() {
          let e = new Array();
          if (
            this.m_curModel.jsondata &&
            this.m_curModel.jsondata.localized_title_image
          )
            for (let t in this.m_curModel.jsondata.localized_title_image)
              e.push(Number.parseInt(t));
          return e;
        }
        BHasSomeImage(e) {
          return this.m_curModel.BHasSomeImage(e);
        }
        GetWhenEventWillBeVisibleToPublic() {
          return this.GetEventVisibilityStartTime() &&
            0 != this.GetEventVisibilityStartTime()
            ? this.GetEventVisibilityStartTime()
            : this.GetEventStartTime();
        }
        ComputeDurationSetting() {
          if (
            !this.m_curModel.endTime ||
            !this.m_curModel.startTime ||
            this.m_curModel.endTime <= 1 ||
            0 == (1 & this.m_curModel.endTime)
          )
            return null;
          const e = 86400,
            t = 604800;
          let a = this.m_curModel.endTime - this.m_curModel.startTime - 1;
          return a % t == 0
            ? { durationType: r.k_EWeek, value: Math.floor(Math.max(1, a / t)) }
            : a % e == 0
            ? { durationType: r.k_EDay, value: Math.floor(Math.max(1, a / e)) }
            : {
                durationType: r.k_EHour,
                value: Math.floor(Math.max(1, a / 3600)),
              };
        }
        ComputeDefaultDuration() {
          return { durationType: r.k_EHour, value: 1 };
        }
        ComputeDurationBasedRoundedEndTime() {
          if (this.m_endTimeEditChoice != i.k_EDuration) return;
          let e = this.m_curModel.startTime;
          return this.m_startTimeEditChoice != n.k_ESpecified ||
            (e && !(e <= 1))
            ? (this.m_startTimeEditChoice == n.k_ENow &&
                (e = h.a.GetTimeNowWithOverride()),
              this.InternalComputeDurationRoundedEndTime(e))
            : void 0;
        }
        InternalComputeDurationRoundedEndTime(e) {
          const t =
            G.CalculateEndTimeFromStartAndDuration(
              e,
              this.m_editDurationType,
              this.m_editDurationValue
            ) / 60;
          return 60 * (t + (30 - (t % 30)));
        }
        GetFallbackLanguageIfNeeded() {
          const e = this.GetCurEditLanguage(),
            t = f.b.GetELanguageFallback(e);
          if (e != t) {
            let a = this.GetDescription(e);
            if (!a || 0 == a.length) return t;
          }
        }
        LastTimeLanguageUpdate(e) {
          return this.m_curModel.timestamp_loc_updated.has(e)
            ? this.m_curModel.timestamp_loc_updated.get(e)
            : 0;
        }
        ComputeEditingModelTimeOverrides() {
          let e = this.GetEventModel().GetStartTimeAndDateUnixSeconds(),
            t = this.GetEventModel().GetEndTimeAndDateUnixSeconds(),
            a = h.a.GetTimeNowWithOverride();
          e = this.ComputeStartTime(a);
          let n = this.ComputeDurationBasedRoundedEndTime();
          return (
            null != n && (t = n), { nOverrideEndTime: t, nOverrideStartTime: e }
          );
        }
        GetStrVanityOrAppID() {
          return y.b.VANITY_ID;
        }
        SetLibrarySpotlight(e) {
          this.m_curModel.jsondata.library_spotlight !== e &&
            ((this.m_curModel.jsondata.library_spotlight = e),
            this.SetDirty(l.jsondata_other));
        }
        SetLibrarySpotlightText(e) {
          this.m_curModel.jsondata.library_spotlight_text !== e &&
            ((this.m_curModel.jsondata.library_spotlight_text = e),
            this.SetDirty(l.jsondata_other));
        }
        GetEmailSettings() {
          return this.m_curModel.jsondata.email_setting;
        }
        BIsEmailEnabled() {
          return (
            this.m_curModel.jsondata.email_setting &&
            this.m_curModel.jsondata.email_setting.bEnable
          );
        }
        BIsEmailEditable() {
          return (
            this.BIsEmailEnabled() &&
            !this.m_curModel.jsondata.email_setting.locked
          );
        }
        CreateOrGetEmailSettings(e) {
          return (
            this.m_curModel.jsondata.email_setting ||
              (y.b.IS_VALVE_GROUP
                ? (this.m_curModel.jsondata.email_setting = {
                    bEnable: !1,
                    sections: [
                      {
                        localized_headline: new Array(30),
                        localized_body: new Array(30),
                        localized_image: new Array(30),
                        button_destination: u.c.k_EEventPage,
                        button_loc_token:
                          "EventEmail_Button_ClickForMoreDetails",
                        video_link: "",
                      },
                    ],
                    internal_targeting: Object.assign({}, T.c),
                  })
                : (this.m_curModel.jsondata.email_setting = {
                    bEnable: !1,
                    subject_loc_token: "EventEmail_Subject_NewUpdate",
                    sections: [
                      {
                        localized_headline: new Array(30),
                        localized_image: new Array(30),
                      },
                      {
                        localized_headline: new Array(30),
                        localized_body: new Array(30),
                        button_destination: u.c.k_EEventPage,
                        button_loc_token:
                          "EventEmail_Button_ClickForMoreDetails",
                        video_link: "",
                      },
                    ],
                  }),
              this.SetDirty(l.jsondata_email)),
            this.m_curModel.jsondata.email_setting
          );
        }
        ToggleTag(e) {
          const t = this.m_curModel.vecTags.indexOf(e);
          -1 == t
            ? this.m_curModel.vecTags.push(e)
            : this.m_curModel.vecTags.splice(t, 1),
            this.SetDirty(l.visibility);
        }
        SetTag(e, t) {
          t ? this.AddTag(e) : this.ClearTags([e]);
        }
        AddTag(e) {
          -1 == this.m_curModel.vecTags.indexOf(e) &&
            (this.m_curModel.vecTags.push(e), this.SetDirty(l.visibility));
        }
        BHasTag(e) {
          return this.m_curModel.BHasTag(e);
        }
        GetAllTags() {
          return this.m_curModel.vecTags;
        }
        ClearTags(e) {
          e.forEach((e) => {
            const t = this.m_curModel.vecTags.indexOf(e);
            -1 != t &&
              (this.m_curModel.vecTags.splice(t, 1),
              this.SetDirty(l.visibility));
          });
        }
        SetSteamAwardCategory(e) {
          (this.m_curModel.jsondata.steam_award_category_suggestion = e),
            this.SetDirty(l.jsondata_other);
        }
        GetSteamAwardCategory() {
          return this.m_curModel.GetSteamAwardCategory();
        }
        SetSteamAwardNomineeVoteIDs(e) {
          (this.m_curModel.jsondata.steam_award_category_voteids = e),
            this.SetDirty(l.jsondata_other);
        }
        GetSteamAwareNomineeVoteIDs() {
          return this.m_curModel.GetSteamAwardNomineeCategories();
        }
        BIsAppReleased() {
          var e;
          return null === (e = v.a.Get().GetApp(this.m_curModel.appid)) ||
            void 0 === e
            ? void 0
            : e.BIsReleased();
        }
        GetAppReleaseDate() {
          var e;
          return null === (e = v.a.Get().GetApp(this.m_curModel.appid)) ||
            void 0 === e
            ? void 0
            : e.GetReleaseDateRTime();
        }
        BDoesSupportLanguage(e) {
          if (this.m_curModel && this.m_curModel.appid) {
            const t = v.a.Get().GetApp(this.m_curModel.appid);
            if (t) {
              29 === e && (e = 6);
              Object(d.a)(e);
              return t.BHasSomeLanguageSupport(e);
            }
          }
          return !1;
        }
        BIsVisibleBeforeStart() {
          let e = this.m_curModel.startTime;
          return (
            this.m_startTimeEditChoice == n.k_ESpecified &&
            ((this.visibilitySetting == I.immediate &&
              e > h.a.GetTimeNowWithOverride()) ||
              (this.visibilitySetting == I.specified_time &&
                this.m_curModel.visibilityStartTime < e))
          );
        }
        BIsAllowedOnLibraryOverview() {
          return Object(p.b)(this.GetEventModel());
        }
        BIsAllowedOnLibraryDetail() {
          return Object(p.a)(this.GetEventModel());
        }
        BIsAllowedOnStore() {
          return Object(p.c)(this.GetEventModel());
        }
        BIsAllowedInNotifications() {
          return Object(p.d)(this.GetEventModel());
        }
        BWillShowOnLibraryOverviewDueToSettings() {
          return (
            this.BIsAllowedOnLibraryOverview() &&
            !this.BHasTag("hide_library_overview") &&
            !this.BHasTag("mod_hide_library_overview")
          );
        }
        BWillShowOnLibraryDetailDueToSettings() {
          return (
            this.BIsAllowedOnLibraryDetail() &&
            !this.BHasTag("hide_library_detail") &&
            !this.BHasTag("mod_hide_library_detail")
          );
        }
        BWillShowOnStoreDueToSettings() {
          return (
            this.BIsAllowedOnStore() &&
            !this.BHasTag("hide_store") &&
            !this.BHasTag("mod_hide_store")
          );
        }
        BWillShowInNotificationsDueToSettings() {
          return this.BIsAllowedInNotifications();
        }
        GetNumberOfDays() {
          let e = this.m_curModel.startTime,
            t = this.m_curModel.endTime;
          return e > 0 && t > 0 && t > e ? Math.floor((t - e) / 86400) : 0;
        }
        GetNumSalesBackgroundHeader() {
          return void 0 !== this.m_curModel.jsondata.sale_num_headers
            ? this.m_curModel.jsondata.sale_num_headers
            : 1;
        }
        SetNumSalesBackgroundHeader(e) {
          void 0 !== e && e <= 1 && (e = void 0),
            this.m_curModel.jsondata.sale_num_headers !== e &&
              (void 0 === this.m_curModel.jsondata.sale_num_headers &&
                (this.m_curModel.jsondata.localized_sale_header.forEach(
                  (e, t) =>
                    (this.m_curModel.jsondata.localized_sale_header[t] = null)
                ),
                this.m_curModel.jsondata.localized_sale_logo.forEach(
                  (e, t) =>
                    (this.m_curModel.jsondata.localized_sale_logo[t] = null)
                )),
              (this.m_curModel.jsondata.sale_num_headers = e),
              void 0 !== e &&
                ((this.m_curModel.jsondata.localized_per_day_sales_header = void 0),
                s.c.HelperInitializeNumSalesHeaderArray(this.m_curModel)),
              this.SetDirty(l.jsondata_sales));
        }
        MarkUpdateSuccessful(e, t) {
          (this.m_originalEvent.last_update_steamid = t),
            (this.m_originalEvent.rtime32_last_modified = e);
        }
        GetSaleSectionCount() {
          return this.m_curModel.jsondata.bSaleEnabled &&
            this.m_curModel.jsondata.sale_sections
            ? this.m_curModel.jsondata.sale_sections.length
            : 0;
        }
        GetAllSalePageFeaturedItems(e) {
          let t = new Set();
          if (!this.m_curModel.jsondata.bSaleEnabled) return t;
          const a = "bundles" == e,
            n = "packages" == e,
            i = (e) => {
              (a && "bundle" == e.type) || (n && "sub" == e.type)
                ? t.add(e.id)
                : n ||
                  a ||
                  "bundle" == e.type ||
                  "sub" == e.type ||
                  t.add(e.id);
            };
          this.m_curModel.jsondata.sale_sections.forEach((e) =>
            e.capsules.forEach(i)
          );
          let l = this.GetTabSaleSection();
          return l && l.tabs.forEach((e) => e.capsules.forEach(i)), t;
        }
        GenerateSaleSectionUniqueID() {
          let e = Math.floor(1e4 + 9e4 * Math.random());
          for (; this.GetSaleSectionByID(e); )
            e = Math.floor(1e4 + 9e4 * Math.random());
          return e;
        }
        GetFacetByID(e, t) {
          var a;
          return null === (a = null == e ? void 0 : e.facets) || void 0 === a
            ? void 0
            : a.find((e) => e.unique_id === t);
        }
        GetFacetValueByID(e, t) {
          var a;
          return null === (a = null == e ? void 0 : e.facetValues) ||
            void 0 === a
            ? void 0
            : a.find((e) => e.unique_id === t);
        }
        GenerateFacetUniqueID(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetFacetByID(e, t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return t;
        }
        GenerateFacetValueUniqueID(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetFacetValueByID(e, t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return t;
        }
        GetReferencedAppIDArray() {
          return this.m_curModel.jsondata.referenced_appids;
        }
        BIsEventForOGGWithoutVisibleStorePage() {
          if (!this.m_curModel.BIsOGGEvent()) return !1;
          const e = b.a.GetOGGClanInfo(this.m_curModel.appid);
          return !e || !e.has_visible_store_page;
        }
        BOptedInForOGGWithoutVisibleStorePage() {
          return this.m_curModel.jsondata.bInvisibleGameOptIn;
        }
        SetOptedInForOGGWithoutVisibleStorePage(e) {
          (this.m_curModel.jsondata.bInvisibleGameOptIn = e),
            this.SetDirty(l.jsondata_other);
        }
        SetMigrated(e) {
          this.m_curModel.jsondata.rt_migrated_time = e;
        }
        MigrateForEdit() {
          this.m_curModel.jsondata.bSaleEnabled &&
            this.m_curModel.jsondata.sale_sections &&
            this.m_curModel.jsondata.sale_sections.forEach((e, t) => {
              if (!e.unique_id) {
                let e = t + 1;
                for (; this.GetSaleSectionByID(e); ) e++;
                this.m_curModel.jsondata.sale_sections[t].unique_id = e;
              }
              e.enable_faceted_browsing &&
                e.facets.forEach((a, n) => {
                  if (!a.unique_id) {
                    let a = n + 1;
                    for (; this.GetFacetByID(e, a); ) a++;
                    this.m_curModel.jsondata.sale_sections[t].facets[
                      n
                    ].unique_id = a;
                  }
                  a.facetValues.forEach((e, i) => {
                    if (!e.unique_id) {
                      let e = n + 1;
                      for (; this.GetFacetValueByID(a, e); ) e++;
                      this.m_curModel.jsondata.sale_sections[t].facets[
                        n
                      ].facetValues[i].unique_id = e;
                    }
                  });
                });
            });
        }
        BHasSaleProductBanners() {
          return this.GetEventModel().BHasSaleProductBanners();
        }
      }
      Object(o.b)([c.C], G.prototype, "m_curModel", void 0),
        Object(o.b)([c.C], G.prototype, "m_bChanged", void 0),
        Object(o.b)([c.C], G.prototype, "m_changes", void 0),
        Object(o.b)([c.C], G.prototype, "visibilitySetting", void 0),
        Object(o.b)([c.C], G.prototype, "m_startTimeEditChoice", void 0),
        Object(o.b)([c.C], G.prototype, "m_endTimeEditChoice", void 0),
        Object(o.b)([c.C], G.prototype, "m_editDurationType", void 0),
        Object(o.b)([c.C], G.prototype, "m_editDurationValue", void 0),
        Object(o.b)([C.b], G.prototype, "GetEventStartTime", null),
        Object(o.b)([C.b], G.prototype, "GetEventEndTime", null),
        Object(o.b)([C.b], G.prototype, "GetEventVisibilityStartTime", null),
        Object(o.b)([C.b], G.prototype, "GetEventVisibilityEndTime", null),
        Object(o.b)([C.b], G.prototype, "GetOriginalEventStartTime", null),
        Object(o.b)([C.b], G.prototype, "GetOriginalEventEndTime", null),
        Object(o.b)([C.b], G.prototype, "IsValidStartTimeForEdit", null),
        Object(o.b)([C.b], G.prototype, "IsValidEndTimeForEdit", null),
        Object(o.b)([C.b], G.prototype, "BHasLanguage", null),
        Object(o.b)([c.k], G.prototype, "SetSteamStoreSpotlight", null),
        Object(o.b)([c.k], G.prototype, "SetLibraryHomeSpotlight", null),
        Object(o.b)([c.k], G.prototype, "UpdateVisibilityState", null),
        Object(o.b)([c.k], G.prototype, "SetVisibilityPublishingSetup", null),
        Object(o.b)([c.k], G.prototype, "SetGIDs", null),
        Object(o.b)([c.k], G.prototype, "SetVisibilityState", null),
        Object(o.b)([c.k], G.prototype, "SetName", null),
        Object(o.b)([c.k], G.prototype, "SetDescription", null),
        Object(o.b)([c.k], G.prototype, "SetSubTitle", null),
        Object(o.b)([c.k], G.prototype, "SetSummary", null),
        Object(o.b)([c.k], G.prototype, "PrepareAsClone", null),
        Object(o.b)([c.k], G.prototype, "setEventType", null),
        Object(o.b)(
          [c.k.bound],
          G.prototype,
          "SetEarliestAllowedStartTime",
          null
        ),
        Object(o.b)([c.k.bound], G.prototype, "SetLatestAllowedEndTime", null),
        Object(o.b)([c.k.bound], G.prototype, "SetEventStartTime", null),
        Object(o.b)([c.k.bound], G.prototype, "SetEventEndTime", null),
        Object(o.b)([c.k.bound], G.prototype, "SetSaleVanityID", null),
        Object(o.b)([c.k.bound], G.prototype, "SetVisibilityStartTime", null),
        Object(o.b)([c.k], G.prototype, "ResetSetVisibilityStartTime", null),
        Object(o.b)([c.k.bound], G.prototype, "SetVisibilityEndTime", null),
        Object(o.b)([c.k.bound], G.prototype, "SetActionEndTime", null),
        Object(o.b)([c.k], G.prototype, "ClearDirty", null),
        Object(o.b)([c.k], G.prototype, "SetDirty", null),
        Object(o.b)([c.k], G.prototype, "DeriveTimeEditChoices", null),
        Object(o.b)([c.k], G.prototype, "DeriveVisibilitySetting", null),
        Object(o.b)([c.k], G.prototype, "OnPreSave", null),
        Object(o.b)([c.k], G.prototype, "Refresh", null),
        Object(o.b)([C.b], G.prototype, "BIsBeginTimeBeforeEnd", null),
        Object(o.b)([C.b], G.prototype, "BIsValidVisibilityStartTime", null),
        Object(o.b)([C.b], G.prototype, "GetEarliestStartTimeForEdit", null),
        Object(o.b)([C.b], G.prototype, "GetLatestEndTimeForEdit", null),
        Object(o.b)([C.b], G.prototype, "GetEarliestEndTimeForEdit", null),
        Object(o.b)(
          [C.b],
          G.prototype,
          "GetEarliestVisibilityStartTimeForEdit",
          null
        ),
        Object(o.b)([c.k.bound], G.prototype, "SetImageURL", null),
        Object(o.b)([C.b], G.prototype, "BHasTitleImage", null),
        Object(o.b)([C.b], G.prototype, "LastTimeLanguageUpdate", null),
        Object(o.b)([c.k], G.prototype, "SetLibrarySpotlight", null),
        Object(o.b)([c.k], G.prototype, "SetLibrarySpotlightText", null),
        Object(o.b)([c.k], G.prototype, "ToggleTag", null),
        Object(o.b)([c.k], G.prototype, "SetTag", null),
        Object(o.b)([c.k], G.prototype, "AddTag", null),
        Object(o.b)([c.k], G.prototype, "ClearTags", null),
        Object(o.b)([c.k], G.prototype, "SetSteamAwardCategory", null),
        Object(o.b)([c.k], G.prototype, "SetSteamAwardNomineeVoteIDs", null),
        Object(o.b)([C.b], G.prototype, "BDoesSupportLanguage", null),
        Object(o.b)([c.k], G.prototype, "SetNumSalesBackgroundHeader", null),
        Object(o.b)([c.k], G, "SetSaleSectionType", null);
    },
    gBDv: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return b;
      }),
        a.d(t, "c", function () {
          return E;
        }),
        a.d(t, "d", function () {
          return h;
        }),
        a.d(t, "a", function () {
          return v;
        });
      var n = a("mrSG"),
        i = a("opsS"),
        l = a("vDqi"),
        r = a.n(l),
        o = a("q1tI"),
        s = (a("mgoM"), a("65aj"), a("kLLr")),
        c = (a("AiWL"), a("XxJJ")),
        d = a("qiKp"),
        m = a("OS6B"),
        u = a("lkRc"),
        p = a("r64O");
      const _ = "new_event_gid";
      class g {
        constructor() {
          (this.m_mapOriginalJSON = new Map()),
            (this.m_mapPrivateData = new Map()),
            (this.m_mapPrivateDataCallback = new Map()),
            (this.m_inflightRequests = new Map()),
            (this.m_gidDirty = null),
            (this.m_clanAccountIDDirty = null);
        }
        GetPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.get(a) || { jsonData: {} };
        }
        GetPrivateDataCopy(e, t) {
          const a = this.HandleNewEventGID(t);
          return JSON.parse(JSON.stringify(this.GetPrivateData(e, a)));
        }
        GetPrivateDataChangeCallback(e, t) {
          const a = this.HandleNewEventGID(t);
          return (
            this.m_mapPrivateDataCallback.has(a) ||
              this.m_mapPrivateDataCallback.set(a, new d.a()),
            this.m_mapPrivateDataCallback.get(a)
          );
        }
        UpdatePrivateData(e, t, a) {
          const n = this.HandleNewEventGID(t),
            i = this.GetPrivateData(e, n);
          if (!this.BIsEqual(i.jsonData, a)) {
            if (null != this.m_gidDirty && n != this.m_gidDirty) {
              const e = this.m_mapPrivateData.get(this.m_gidDirty),
                t = this.m_mapOriginalJSON.get(this.m_gidDirty),
                a = Object.assign(Object.assign({}, e), { jsonData: t });
              this.m_mapPrivateData.set(this.m_gidDirty, a),
                this.DispatchUpdate(this.m_clanAccountIDDirty, this.m_gidDirty);
            }
            (i.jsonData = a),
              (this.m_gidDirty = n),
              (this.m_clanAccountIDDirty = e),
              this.DispatchUpdate(e, n);
          }
        }
        BIsEqual(e, t) {
          return JSON.stringify(e) === JSON.stringify(t);
        }
        BLoaded(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.has(a);
        }
        BIsDirty() {
          return Boolean(this.m_gidDirty);
        }
        BIsEventDirty(e) {
          const t = this.HandleNewEventGID(e);
          return this.m_gidDirty == t;
        }
        DiscardChanges() {
          if (this.m_gidDirty) {
            const e = this.m_clanAccountIDDirty,
              t = this.m_gidDirty;
            (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
            const a = this.m_mapPrivateData.get(t),
              n = this.m_mapOriginalJSON.get(t);
            this.m_mapPrivateData.set(
              t,
              Object.assign(Object.assign({}, a), { jsonData: n })
            ),
              this.DispatchUpdate(e, t);
          }
        }
        DispatchUpdate(e, t) {
          const a = this.HandleNewEventGID(t),
            n = this.GetPrivateDataCopy(e, a);
          this.GetPrivateDataChangeCallback(e, a).Dispatch(n);
        }
        HandleNewEventGID(e) {
          return null == e || null == e || "" == e ? _ : e;
        }
        LoadPrivateData(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const a = this.HandleNewEventGID(t);
            return (
              this.m_inflightRequests.has(a) ||
                this.m_inflightRequests.set(
                  a,
                  this.InternalLoadPrivateData(e, a)
                ),
              yield this.m_inflightRequests.get(a)
            );
          });
        }
        InternalLoadPrivateData(e, t) {
          var a, i;
          return Object(n.a)(this, void 0, void 0, function* () {
            const n = this.HandleNewEventGID(t);
            if (this.m_mapPrivateData.has(n))
              return this.m_mapPrivateData.get(n);
            if (n == _) {
              const e = { jsonData: {} };
              return (
                this.m_mapPrivateData.set(n, e),
                this.m_mapOriginalJSON.set(n, {}),
                e
              );
            }
            try {
              const t =
                  u.c.COMMUNITY_BASE_URL +
                  "partnereventdata/ajaxgetprivatedata",
                l = { clanAccountID: e.GetAccountID(), gidClanEvent: n },
                o = yield r.a.get(t, { params: l, withCredentials: !0 });
              if (
                1 ===
                  (null === (a = null == o ? void 0 : o.data) || void 0 === a
                    ? void 0
                    : a.success) &&
                o.data.data
              ) {
                const e = {
                  rtLastUpdateTime: o.data.data.time_written,
                  nAccountLastUpdate: o.data.data.account_writer,
                  jsonData: o.data.data.json_data,
                };
                return (
                  this.m_mapPrivateData.set(n, e),
                  this.m_mapOriginalJSON.set(n, e.jsonData),
                  e
                );
              }
              if (
                42 ===
                (null === (i = null == o ? void 0 : o.data) || void 0 === i
                  ? void 0
                  : i.success)
              ) {
                const e = { jsonData: {} };
                return (
                  this.m_mapPrivateData.set(n, e),
                  this.m_mapOriginalJSON.set(n, {}),
                  e
                );
              }
              {
                const e = Object(m.a)(o);
                console.error(
                  "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                    e.strErrorMsg,
                  e
                );
              }
            } catch (e) {
              const t = Object(m.a)(e);
              console.error(
                "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                  t.strErrorMsg,
                t
              );
            }
            return null;
          });
        }
        SaveDirtyChanges(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (
              (Object(p.a)(
                null != e && null != e && "" != e,
                "CPartnerEventPrivateDataStore: GID not supplied."
              ),
              this.BIsDirty())
            ) {
              const t = s.a.InitFromClanID(this.m_clanAccountIDDirty),
                a = this.m_mapPrivateData.get(this.m_gidDirty).jsonData;
              if (this.m_gidDirty == e || this.m_gidDirty == _)
                return (
                  this.m_gidDirty == _ &&
                    (this.m_mapOriginalJSON.set(e, {}),
                    this.m_mapPrivateData.set(e, this.m_mapPrivateData.get(_)),
                    this.m_mapPrivateData.delete(_)),
                  this.SavePrivateData(t, e, a)
                );
              console.warn(
                "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                  e +
                  " " +
                  this.m_gidDirty
              );
            } else console.warn("CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " + e + " " + this.m_gidDirty);
            return 1;
          });
        }
        SavePrivateData(e, t, a) {
          var i;
          return Object(n.a)(this, void 0, void 0, function* () {
            if (
              (Object(p.a)(
                null != t && null != t && "" != t,
                "CPartnerEventPrivateDataStore: GID not supplied."
              ),
              !this.m_mapPrivateData.has(t))
            )
              return 42;
            if (this.BIsEqual(a, this.m_mapOriginalJSON.get(t))) return 1;
            try {
              const n = new FormData();
              n.append("sessionid", u.c.SESSIONID),
                n.append("clanAccountID", "" + e.GetAccountID()),
                n.append("gidClanEvent", "" + t),
                n.append("jsonData", JSON.stringify(a));
              const l =
                  u.c.COMMUNITY_BASE_URL +
                  "partnereventdata/ajaxsetprivatedata",
                o = yield r.a.post(l, n, { withCredentials: !0 });
              if (
                1 ===
                (null === (i = null == o ? void 0 : o.data) || void 0 === i
                  ? void 0
                  : i.success)
              ) {
                const n = {
                  nAccountLastUpdate: u.h.accountid,
                  rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                  jsonData: a,
                };
                return (
                  this.m_mapPrivateData.set(t, n),
                  this.m_mapOriginalJSON.set(t, a),
                  (this.m_clanAccountIDDirty = null),
                  (this.m_gidDirty = null),
                  this.DispatchUpdate(e.GetAccountID(), t),
                  o.data.success
                );
              }
              {
                const e = Object(m.a)(o);
                console.error(
                  "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                    e.strErrorMsg,
                  e
                );
              }
            } catch (e) {
              const t = Object(m.a)(e);
              console.error(
                "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                  t.strErrorMsg,
                t
              );
            }
            return 2;
          });
        }
        static Get() {
          return (
            g.s_Singleton ||
              ((g.s_Singleton = new g()),
              g.s_Singleton.Init(),
              "dev" == u.c.WEB_UNIVERSE &&
                (window.g_PartnerEventPrivateDataStore = g.s_Singleton)),
            g.s_Singleton
          );
        }
        Init() {
          let e = Object(u.f)("privatedata", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => {
              const t = {
                rtLastUpdateTime: e.data.time_written,
                nAccountLastUpdate: e.data.account_writer,
                jsonData: e.data.json_data,
              };
              this.m_mapOriginalJSON.set(e.gid, t.jsonData),
                this.m_mapPrivateData.set(e.gid, t);
            });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "number" == typeof t[0].clanAccountID &&
            "object" == typeof t[0].data
          );
        }
      }
      function b(e, t) {
        const a = g.Get(),
          [n, l] = Object(o.useState)(a.GetPrivateDataCopy(e, t));
        Object(i.e)(a.GetPrivateDataChangeCallback(e, t), l);
        const [r, c] = Object(o.useState)(!a.BLoaded(e, t));
        Object(o.useEffect)(() => {
          if (!a.BLoaded(e, t)) {
            const n = s.a.InitFromClanID(e);
            a.LoadPrivateData(n, t).then((e) => {
              l(e), c(!1);
            });
          }
        }, [e, t, a]);
        return {
          oPrivateData: n,
          fnSetPrivateJon: (n) => {
            a.UpdatePrivateData(e, t, n);
          },
          bLoading: r,
        };
      }
      function E() {
        const e = g.Get();
        return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
      }
      function h(e, t) {
        const { oPrivateData: a, fnSetPrivateJon: n, bLoading: i } = b(e, t),
          l = g.Get();
        return {
          bLoading: i,
          bPublishRequiresValveApproval:
            null == a ? void 0 : a.jsonData.bPublishRequiresValveApproval,
          nAccountApproved: null == a ? void 0 : a.jsonData.nAccountApproved,
          rtApprovalTime: null == a ? void 0 : a.jsonData.rtApprovalTime,
          fnSetStorePublishingRequiresValveApproval: (a) =>
            n(
              Object.assign(
                Object.assign({}, l.GetPrivateData(e, t).jsonData),
                { bPublishRequiresValveApproval: a }
              )
            ),
          fnSetAccountApproved: (a) =>
            n(
              Object.assign(
                Object.assign({}, l.GetPrivateData(e, t).jsonData),
                {
                  nAccountApproved: a,
                  rtApprovalTime: Math.floor(Date.now() / 1e3),
                }
              )
            ),
        };
      }
      function v(e, t) {
        const { oPrivateData: a, fnSetPrivateJon: n, bLoading: i } = b(e, t),
          l = g.Get();
        return [
          i,
          null == a ? void 0 : a.jsonData.nAcceptingGuidelineAccount,
          null == a ? void 0 : a.jsonData.rtAcceptanceTime,
          null == a ? void 0 : a.jsonData.strPrimaryContactName,
          null == a ? void 0 : a.jsonData.strPrimaryContactEmail,
          (a) => {
            n(
              Object.assign(
                Object.assign({}, l.GetPrivateData(e, t).jsonData),
                {
                  nAcceptingGuidelineAccount: a,
                  rtAcceptanceTime: Math.floor(Date.now() / 1e3),
                }
              )
            );
          },
          (a, i) => {
            n(
              Object.assign(
                Object.assign({}, l.GetPrivateData(e, t).jsonData),
                { strPrimaryContactName: a, strPrimaryContactEmail: i }
              )
            );
          },
        ];
      }
      Object(n.b)([c.a], g.prototype, "BIsEventDirty", null),
        Object(n.b)([c.a], g.prototype, "DiscardChanges", null),
        Object(n.b)([c.a], g.prototype, "SaveDirtyChanges", null);
    },
    h5LU: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return o;
      });
      var n = a("mrSG"),
        i = a("q1tI"),
        l = a("15kH"),
        r = a("opsS");
      class o extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              color: this.props.color || "rgba(1.0,1.0,1.0,1.0)",
            });
        }
        static GetColorString(e) {
          return `rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`;
        }
        OnColorChange(e) {
          const t = o.GetColorString(e);
          this.setState({ color: t }), this.props.onChange(t);
        }
        render() {
          return i.createElement(l.a, {
            onChange: this.OnColorChange,
            color: this.state.color,
          });
        }
      }
      Object(n.b)([r.b], o.prototype, "OnColorChange", null);
    },
    hKFG: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return r;
      });
      a("mrSG");
      var n = a("iO5U"),
        i = (a("q1tI"), a("WBba")),
        l = (a("C4Nl"), a("X2UP"), a("r64O"), a("lkRc"));
      function r(e) {
        n.a.BIsInitialized() || n.a.Initialize(new i.a(l.c.WEBAPI_BASE_URL, e));
      }
    },
    hvYe: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
    i3zJ: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return O;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = (a("65aj"), a("lkRc")),
        o = a("2vnA"),
        s = (a("AiWL"), a("OS6B"));
      class c {
        constructor() {
          (this.m_events = null),
            (this.m_eventMap = new Map()),
            (this.m_eventDetailsMap = new Map()),
            (window.g_discountEventStore = this);
        }
        static Get() {
          return (
            c.s_DiscountEvent || (c.s_DiscountEvent = new c()),
            c.s_DiscountEvent
          );
        }
        GetDiscountEvents() {
          return this.m_events;
        }
        GetSingleDiscountEvent(e) {
          return this.m_eventMap.get(e);
        }
        GetDiscountEventDetails(e) {
          return this.m_eventDetailsMap.get(e);
        }
        BHasDiscountEventDetails(e) {
          return this.m_eventDetailsMap.has(e);
        }
        LoadDiscountEvents(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (this.m_events) return this.m_events;
            let t = r.c.COMMUNITY_BASE_URL + "sale/ajaxdiscountevents",
              a = { sessionid: r.c.SESSIONID };
            try {
              let n = yield l.a.get(t, { params: a, cancelToken: e.token });
              n &&
                200 == n.status &&
                1 == n.data.success &&
                n.data.discount_events &&
                ((this.m_events = n.data.discount_events),
                this.m_events.map((e) => {
                  this.m_eventMap.set(e.id, e);
                }));
            } catch (e) {
              let t = Object(s.a)(e);
              console.error("LoadDiscountEvents failed: " + t.strErrorMsg, t);
            }
            return this.m_events;
          });
        }
        LoadDiscountEventDetails(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (!this.m_eventDetailsMap.has(e)) {
              let a = r.c.COMMUNITY_BASE_URL + "sale/ajaxdiscounteventdetails",
                n = { sessionid: r.c.SESSIONID, id: e };
              try {
                let i = yield l.a.get(a, { params: n, cancelToken: t.token });
                i &&
                  200 == i.status &&
                  1 == i.data.success &&
                  i.data.packages &&
                  this.m_eventDetailsMap.set(e, {
                    apps: i.data.apps,
                    packages: i.data.packages,
                  });
              } catch (e) {
                let t = Object(s.a)(e);
                console.error(
                  "LoadDiscountEventDetails failed: " + t.strErrorMsg,
                  t
                );
              }
            }
            return this.m_eventDetailsMap.get(e);
          });
        }
      }
      var d = a("TyAF"),
        m = a("q1tI"),
        u = a.n(m),
        p = a("vwsU"),
        _ = (a("sRB7"), a("b3LC")),
        g = a("Mgs7"),
        b = a("IjL/"),
        E = a("YLyR"),
        h = a("Jqb/"),
        v = a("0OaU"),
        S = a("DisI"),
        f = a("TLQK");
      const O = Object(d.a)((e) => {
          const t = () => e.closeModal && e.closeModal(),
            { onDiscountEventSelected: a } = e,
            [n, i] = Object(m.useState)(null);
          let l = T.Get().BHasSomethingSelected();
          return u.a.createElement(
            b.a,
            null,
            u.a.createElement(
              h.i,
              { onEscKeypress: t },
              u.a.createElement(
                g.h,
                null,
                u.a.createElement(
                  g.z,
                  null,
                  Object(f.f)("#Sale_DiscountEvent_Add")
                ),
                u.a.createElement(
                  g.d,
                  null,
                  u.a.createElement(
                    g.e,
                    null,
                    u.a.createElement(
                      "div",
                      { style: { minHeight: 500 } },
                      u.a.createElement(C, { fnSetDiscountID: i }),
                      u.a.createElement(y, { discountID: n })
                    )
                  )
                ),
                u.a.createElement(
                  g.r,
                  null,
                  u.a.createElement(g.E, {
                    onCancel: t,
                    bOKDisabled: !l,
                    strOKText: Object(f.f)("#Sale_New_CreateEvent"),
                    onOK: () => {
                      T.Get().UpdateSaleSection(a), t();
                    },
                  })
                )
              )
            )
          );
        }),
        C = (e) => {
          const { fnSetDiscountID: t } = e,
            [a, i] = Object(m.useState)(!0),
            r = Object(m.useRef)(null);
          if (
            (Object(m.useEffect)(() => {
              const e = l.a.CancelToken.source();
              r.current = e.cancel;
              return (
                Object(n.a)(void 0, void 0, void 0, function* () {
                  try {
                    (yield c.Get().LoadDiscountEvents(e)) &&
                      !e.token.reason &&
                      (T.Get().Reset(), i(!1));
                  } catch (e) {
                    let t = Object(s.a)(e);
                    console.error(
                      "DiscountEventChooser failed to load: " + t.strErrorMsg,
                      t
                    );
                  }
                }),
                () => r.current && r.current("DiscountEventChooser unmounting")
              );
            }, []),
            a)
          )
            return u.a.createElement(v.a, {
              key: "loading",
              size: "medium",
              string: Object(f.f)("#Sale_DiscountEvent_Loading"),
            });
          const o = c
              .Get()
              .GetDiscountEvents()
              .map((e) => ({ label: e.name, value: e.id })),
            d = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            };
          return u.a.createElement(
            "div",
            null,
            u.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_DiscountEvent_Choose"),
              u.a.createElement(S.b, {
                tooltip: Object(f.f)("#Sale_DiscountEvent_Choose_ttip"),
              })
            ),
            u.a.createElement(p.a, {
              styles: d,
              isSearchable: !0,
              isMulti: !1,
              isClearable: !0,
              options: o,
              defaultMenuIsOpen: !1,
              isValidNewOption: () => !1,
              onChange: (e) => {
                (null == e ? void 0 : e.value) && t(e.value);
              },
            })
          );
        },
        y = (e) => {
          const { discountID: t } = e,
            [a, i] = Object(m.useState)(!0),
            [r, o] = Object(m.useState)(null),
            d = Object(m.useRef)(null);
          if (
            (Object(m.useEffect)(() => {
              i(!0),
                d.current &&
                  d.current("SelectAppsAndPackagesFromDiscountEvent reloading");
              const e = l.a.CancelToken.source();
              d.current = e.cancel;
              return (
                t &&
                  Object(n.a)(void 0, void 0, void 0, function* () {
                    try {
                      c.Get().BHasDiscountEventDetails(t) ||
                        (yield c.Get().LoadDiscountEventDetails(t, e));
                      let a = c.Get().GetDiscountEventDetails(t);
                      if (a && !e.token.reason) {
                        let e = new Array();
                        a.apps,
                          a.packages.map((t) =>
                            e.push(
                              "string" == typeof t.subid
                                ? Number.parseInt(t.subid)
                                : t.subid
                            )
                          ),
                          i(!1);
                      }
                    } catch (e) {
                      let t = Object(s.a)(e);
                      console.error(
                        "SelectAppsAndPackagesFromDiscountEvent failed: " +
                          t.strErrorMsg,
                        t
                      );
                    }
                  }),
                () =>
                  d.current &&
                  d.current("SelectAppsAndPackagesFromDiscountEvent unmounting")
              );
            }, [t]),
            !t)
          )
            return u.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_DiscountEvent_NoneChosen")
            );
          if (a || !c.Get().BHasDiscountEventDetails(t))
            return u.a.createElement(v.a, {
              key: "loading",
              size: "medium",
              string: Object(f.f)("#Sale_DiscountEvent_LoadingDetails"),
            });
          let p = c.Get().GetSingleDiscountEvent(t),
            _ = c.Get().GetDiscountEventDetails(t);
          return u.a.createElement(
            "div",
            null,
            u.a.createElement(
              "p",
              null,
              Object(f.f)("#Sale_DiscountEvent_Select", p.name, p.id)
            ),
            u.a.createElement(E.b, {
              startDateAndTime: p.start_date,
              endDateAndTime: p.end_date,
            }),
            u.a.createElement(
              "p",
              null,
              Object(f.f)(
                "#Sale_DiscountEvent_Contains",
                _.apps.length.toLocaleString(),
                _.packages.length.toLocaleString()
              )
            ),
            u.a.createElement(
              "p",
              null,
              Object(f.f)(
                "#Sale_New_Selected",
                T.Get().GetTotalSelectedCount(),
                T.Get().AppCount().toLocaleString(),
                T.Get().PackageCount().toLocaleString()
              )
            ),
            u.a.createElement(
              "div",
              null,
              u.a.createElement(g.A, {
                type: "text",
                label: Object(f.f)("#EventCalendar_UniversalSearch"),
                value: r || "",
                onChange: (e) => o(e.target.value),
              }),
              u.a.createElement("h2", null, "Apps:"),
              u.a.createElement(
                g.f,
                { onClick: () => T.Get().SelectAllApps(_.apps) },
                "Select All Apps"
              ),
              u.a.createElement(
                g.f,
                { onClick: () => T.Get().ClearAllSelectedApps() },
                "Clear all Selected Apps"
              ),
              Boolean(_.apps)
                ? _.apps.map((e) =>
                    u.a.createElement(j, {
                      appid: e,
                      key: "appid_" + e,
                      strFilter: r,
                    })
                  )
                : u.a.createElement(
                    "p",
                    null,
                    Object(f.f)("#Sale_DiscountEvent_NoApps")
                  ),
              u.a.createElement("h2", null, "Packages:"),
              Boolean(_.packages)
                ? _.packages.map((e) =>
                    u.a.createElement(I, {
                      subid: e.subid,
                      key: "subid_" + e.subid,
                      strFilter: r,
                    })
                  )
                : u.a.createElement(
                    "p",
                    null,
                    Object(f.f)("#Sale_DiscountEvent_NoSubs")
                  )
            )
          );
        };
      class T {
        constructor() {
          (this.m_selectedApps = new Set()),
            (this.m_selectedSubs = new Set()),
            (this.m_nTotalSelected = 0);
        }
        BIsAppSelected(e) {
          return this.m_selectedApps.has(e);
        }
        BIsPackageSelected(e) {
          return this.m_selectedSubs.has(e);
        }
        AddApp(e) {
          this.m_selectedApps.add(e), this.UpdateSelected();
        }
        AddPackage(e) {
          this.m_selectedSubs.add(e), this.UpdateSelected();
        }
        RemoveApp(e) {
          this.m_selectedApps.delete(e), this.UpdateSelected();
        }
        RemovePackage(e) {
          this.m_selectedSubs.delete(e), this.UpdateSelected();
        }
        UpdateApp(e, t) {
          t ? this.AddApp(e) : this.RemoveApp(e);
        }
        UpdatePackage(e, t) {
          t ? this.AddPackage(e) : this.RemovePackage(e);
        }
        AppCount() {
          return this.m_selectedApps.size;
        }
        PackageCount() {
          return this.m_selectedSubs.size;
        }
        BHasSomethingSelected() {
          return this.m_nTotalSelected > 0;
        }
        GetTotalSelectedCount() {
          return this.m_nTotalSelected;
        }
        SelectAllApps(e) {
          e.forEach((e) => this.m_selectedApps.add(e)), this.UpdateSelected();
        }
        Reset() {
          this.m_selectedApps.clear(),
            this.m_selectedSubs.clear(),
            this.UpdateSelected();
        }
        ClearAllSelectedApps() {
          this.m_selectedApps.clear(), this.UpdateSelected();
        }
        UpdateSelected() {
          let e = this.AppCount() + this.PackageCount();
          e != this.m_nTotalSelected && (this.m_nTotalSelected = e);
        }
        UpdateSaleSection(e) {
          e(this.m_selectedApps, this.m_selectedSubs);
        }
        static Get() {
          return (
            T.s_globalSingletonStore ||
              ((T.s_globalSingletonStore = new T()),
              T.s_globalSingletonStore.Init()),
            T.s_globalSingletonStore
          );
        }
        Init() {}
      }
      Object(n.b)([o.C], T.prototype, "m_nTotalSelected", void 0),
        Object(n.b)([o.k], T.prototype, "SelectAllApps", null),
        Object(n.b)([o.k], T.prototype, "ClearAllSelectedApps", null);
      const j = (e) => {
          const { appid: t, strFilter: a } = e,
            [n] = Object(_.b)(
              "string" == typeof t ? Number.parseInt(t) : t,
              {}
            );
          if (
            a &&
            a.trim().length > 0 &&
            (!n || -1 == n.GetName().toLowerCase().indexOf(a))
          )
            return null;
          let i = n
            ? n.GetName() + "(" + t + ")" + (4 == n.GetAppType() ? " DLC" : "")
            : Object(f.f)("#Sale_DiscountEvent_AppMissing", t);
          return u.a.createElement(g.g, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: (e) => T.Get().UpdateApp(t, e),
          });
        },
        I = (e) => {
          const { subid: t, strFilter: a } = e,
            [n] = Object(_.d)(t, {});
          if (
            a &&
            a.trim().length > 0 &&
            (!n || -1 == n.GetName().toLowerCase().indexOf(a))
          )
            return null;
          let i = n
            ? n.GetName() +
              "(" +
              t +
              ") : " +
              Object(f.f)(
                "#Sale_DiscountEvent_SubContains",
                n.GetIncludedAppIDs().length
              )
            : Object(f.f)("#Sale_DiscountEvent_SubMissing", t);
          return u.a.createElement(g.g, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: (e) => T.Get().UpdatePackage(t, e),
          });
        };
    },
    jG1S: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return O;
      }),
        a.d(t, "b", function () {
          return C;
        });
      var n = a("mrSG"),
        i = a("fcuX"),
        l = a("t0uJ"),
        r = a("J/GH"),
        o = a("TyAF"),
        s = a("q1tI"),
        c = (a("mgoM"), a("gBDv")),
        d = a("5izx"),
        m = a("9w6b"),
        u = a("Mgs7"),
        p = (a("fpVW"), a("YLyR")),
        _ = a("Jqb/"),
        g = a("xnZ7"),
        b = a.n(g),
        E = a("0OaU"),
        h = (a("exH9"), a("TLQK")),
        v = a("OS6B"),
        S = a("N0Ye"),
        f = a("opsS");
      let O = class extends s.Component {
        constructor() {
          super(...arguments),
            (this.state = { dialogState: "default", strErrorMsg: "" });
        }
        OnByPassWarnings() {
          this.setState({ dialogState: "bypasswarning" });
        }
        OnPublish() {
          let e = this.props.editModel,
            t = e.GetClanSteamID();
          this.setState({ dialogState: "waiting" }),
            e.OnPreSave(),
            e.BIsDirty() && e.GetChangeTypes() != i.d.visibility
              ? l.c
                  .SaveModel(t)
                  .then(() =>
                    l.c.PublishModel(t).then(() => {
                      this.setState({ dialogState: "showsuccess" });
                    })
                  )
                  .catch((e) => {
                    this.setState(
                      Object.assign(
                        { dialogState: "displayerror" },
                        Object(v.a)(e)
                      )
                    );
                  })
              : l.c
                  .PublishModel(t)
                  .then(() => {
                    this.setState({ dialogState: "showsuccess" });
                  })
                  .catch((e) => {
                    this.setState(
                      Object.assign(
                        { dialogState: "displayerror" },
                        Object(v.a)(e)
                      )
                    );
                  });
        }
        render() {
          let e = this.props.editModel,
            t = d.a.GetTimeNowWithOverride(),
            a = e.ComputeStartTime(t),
            n = e.ComputeVisibilityStartTime(t, a),
            l = Object(r.c)(e, !0),
            o = Object(r.d)(e),
            c = this.state.dialogState;
          m.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
          switch (
            (null != l && l.length > 0
              ? (c = "prevalidateerror")
              : "default" == c &&
                null != o &&
                o.length > 0 &&
                (c = "showwarning"),
            c)
          ) {
            case "prevalidateerror":
              return s.createElement(
                _.g,
                {
                  strTitle: Object(h.f)("#EventEditor_Publish_Failed"),
                  strDescription: Object(h.f)(
                    "#EventEdit_Error_PublishingDesc"
                  ),
                  closeModal: this.props.closeModal,
                },
                s.createElement("ol", null, l),
                null != o &&
                  o.length > 0 &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "div",
                      null,
                      Object(h.f)("#EventEdit_Warning_PublishingDesc")
                    ),
                    s.createElement("ol", null, o)
                  )
              );
            case "showwarning":
              return s.createElement(
                _.e,
                {
                  strTitle: Object(h.f)("#EventEditor_Publish_Warning"),
                  strDescription: Object(h.f)(
                    "#EventEdit_Warning_PublishingDesc"
                  ),
                  onOK: this.OnByPassWarnings,
                  onCancel: this.props.closeModal,
                  strOKButtonText: Object(h.f)("#EventEditor_ByPassWarnings"),
                },
                s.createElement("ol", null, o)
              );
            case "bypasswarning":
            case "default":
              let a = e.ComputeStartTime(t),
                r = Object(S.a)(e.GetEventType()),
                c = e.GetVisibilityPublishingSetup() == i.g.immediate || a <= t;
              if (r) {
                let n = e.ComputeVisibilityStartTime(t, a);
                c = c || n <= t;
              }
              return s.createElement(
                _.e,
                {
                  strTitle: Object(h.f)("#Button_Publish"),
                  strDescription: "",
                  onOK: this.OnPublish,
                  onCancel: this.props.closeModal,
                  strOKButtonText: Object(h.f)("#Button_Publish"),
                },
                s.createElement(
                  s.Fragment,
                  null,
                  Object(h.f)("#EventEditor_Publish_Notice"),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  c
                    ? Object(h.f)("#EventEditor_Publish_Immediate")
                    : Object(h.m)(
                        "#EventEditor_Publish_Staged",
                        s.createElement(p.a, {
                          dateAndTime: n,
                          bSingleLine: !0,
                        })
                      ),
                  Object(h.f)("#EventEditor_Publish_ContinueEdits"),
                  s.createElement("br", null),
                  s.createElement("br", null),
                  Object(h.f)("#EventEditor_Publish_Notice_Note")
                )
              );
            default:
            case "displayerror":
              return s.createElement(
                _.g,
                {
                  strTitle: Object(h.f)("#EventEditor_Publish_Failed"),
                  strDescription: Object(h.f)("#EventEdit_Publishing_Failure"),
                  closeModal: this.props.closeModal,
                },
                s.createElement("br", null),
                s.createElement("br", null),
                this.state.strErrorMsg
              );
            case "waiting":
              return s.createElement(
                _.e,
                {
                  strTitle: Object(h.f)("#Button_Publish"),
                  strDescription: Object(h.f)(
                    "#EventEditor_Publishing_PleaseWait"
                  ),
                  bAlertDialog: !0,
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                  strOKButtonText: Object(h.f)("#Button_Cancel"),
                  bOKDisabled: !0,
                },
                s.createElement(
                  "div",
                  { className: b.a.FlexCenter },
                  s.createElement(E.a, null)
                )
              );
            case "showsuccess":
              return s.createElement(_.e, {
                strTitle: Object(h.f)("#Button_Publish"),
                strDescription: Object(h.f)("#EventEdit_Publishing_Success"),
                bAlertDialog: !0,
                onOK: this.props.OnPublishSuccess,
                onCancel: this.props.OnPublishSuccess,
                closeModal: this.props.closeModal,
                strOKButtonText: Object(h.f)("#Button_Close"),
              });
          }
        }
      };
      function C(e) {
        const { closeModal: t, editModel: a, bSkipChecks: n, OnSuccess: i } = e,
          o = a.BPublished() && !n,
          [d] = s.useState(o ? Object(r.c)(a, !1) : null),
          [m] = s.useState(o ? Object(r.d)(a) : null),
          p = a.GetGID(),
          [g, S, f] = Object(c.c)(),
          [O, C] = s.useState(
            (null == d ? void 0 : d.length) > 0
              ? "prevalidateerror"
              : (null == m ? void 0 : m.length) > 0
              ? "showwarning"
              : "default"
          ),
          [y, T] = s.useState(null);
        switch (
          (s.useEffect(() => {
            if (
              "default" === O ||
              "bypasswarning" === O ||
              "bypassoverwritewarning" == O
            ) {
              const e = a.GetClanSteamID();
              a.OnPreSave();
              const t = (e) => {
                  const t = Object(v.a)(e);
                  let a = "error";
                  !t.strErrorMsg &&
                    Object(h.f)(`#EventEditor_Error_${t.errorCode}`) &&
                    (t.strErrorMsg = Object(h.f)(
                      `#EventEditor_Error_${t.errorCode}`
                    )),
                    27 == t.errorCode && (a = "overwrite"),
                    T(t),
                    C(a);
                },
                n = "bypassoverwritewarning" === O;
              l.c
                .SaveModel(e, n)
                .then((e) => {
                  g(p)
                    ? f(p || e.gid)
                        .then((a) => {
                          1 == a ? C("success") : t(e);
                        })
                        .catch(t)
                    : C("success");
                })
                .catch(t);
            }
          }, [O, a, f, g, p]),
          O)
        ) {
          case "prevalidateerror":
            return s.createElement(
              _.g,
              {
                strTitle: Object(h.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(h.f)("#EventEdit_Saving_ErrorDesc"),
                closeModal: t,
              },
              s.createElement("ol", null, d),
              null != m &&
                m.length > 0 &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    null,
                    Object(h.f)("#EventEdit_Saving_WarningDesc")
                  ),
                  s.createElement("ol", null, m)
                )
            );
          case "showwarning":
            return s.createElement(
              _.e,
              {
                strTitle: Object(h.f)("#EventEdit_Saving_Warning_Title"),
                strDescription: Object(h.f)("#EventEdit_Saving_WarningDesc"),
                onOK: () => C("bypasswarning"),
                onCancel: t,
                strOKButtonText: Object(h.f)(
                  "#EventEdit_Saving_ByPassWarnings"
                ),
              },
              s.createElement("ol", null, m)
            );
          case "default":
          default:
            return s.createElement(
              _.f,
              {
                bDisableBackgroundDismiss: !0,
                bOKDisabled: !0,
                bHideCloseIcon: !0,
              },
              s.createElement(
                u.z,
                null,
                Object(h.f)("#EventEdit_Saving_Title")
              ),
              s.createElement(
                u.d,
                null,
                s.createElement(
                  "div",
                  null,
                  Object(h.f)("#EventEdit_Saving_Description")
                ),
                s.createElement(
                  "div",
                  { className: b.a.FlexCenter },
                  s.createElement(E.a, null)
                )
              )
            );
          case "success":
            let e = Object(h.f)("#EventEdit_Saving_Successful");
            return (
              a.BPublished() &&
                a.BVisible() &&
                (e +=
                  " " + Object(h.f)("#EventEdit_Saving_Successful_Visible")),
              s.createElement(_.e, {
                strTitle: Object(h.f)("#EventEdit_Saving_Success_Title"),
                strDescription: e,
                onOK: i,
                onCancel: t,
                closeModal: t,
                bAlertDialog: !0,
              })
            );
          case "error":
            return s.createElement(
              _.g,
              {
                strTitle: Object(h.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(h.f)("#EventEdit_Saving_Failure_Desc"),
                closeModal: t,
              },
              s.createElement("br", null),
              s.createElement("br", null),
              y.strErrorMsg
            );
          case "overwrite":
            return s.createElement(
              _.e,
              {
                strTitle: Object(h.f)(
                  "#EventEditor_SaveOrPublish_ClobberTitle"
                ),
                strDescription: Object(h.f)("#EventEdit_Saving_Failure_Desc"),
                onCancel: t,
                onOK: () => C("bypassoverwritewarning"),
                strOKButtonText: Object(h.f)("#Button_Overwrite"),
                bDestructiveWarning: !0,
              },
              s.createElement("br", null),
              s.createElement("br", null),
              y.strErrorMsg
            );
        }
      }
      Object(n.b)([f.b], O.prototype, "OnByPassWarnings", null),
        Object(n.b)([f.b], O.prototype, "OnPublish", null),
        (O = Object(n.b)([o.a], O));
    },
    jZUi: function (e, t, a) {},
    k3PP: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return bt;
      }),
        a.d(t, "b", function () {
          return ft;
        }),
        a.d(t, "d", function () {
          return Ot;
        }),
        a.d(t, "c", function () {
          return Gt;
        }),
        a.d(t, "e", function () {
          return kt;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("fcuX"),
        o = a("mHFc"),
        s = a("NrWE"),
        c = a("Ww0A"),
        d = a("TyAF"),
        m = a("q1tI"),
        u = a("65aj"),
        p = (a("Nsq5"), a("U+Q5")),
        _ = a("Mgs7"),
        g = a("qP7j"),
        b = a("Jqb/"),
        E = a("TLQK"),
        h = a("opsS"),
        v = a("6yBx"),
        S = a("R5ed");
      let f = class extends m.Component {
        componentDidMount() {
          const { editModel: e, loc_images: t, artworkType: a } = this.props;
          p.d.ClearImageGroup(),
            t &&
              t.forEach((t, n) => {
                const i = t && p.a.GetHashFromHashAndExt(t),
                  l = i && p.d.GetClanImageByImageHash(e.GetClanSteamID(), i);
                l && e.SetImageURL(a, l, n);
              });
        }
        OnSaveToEditModel() {
          const { editModel: e, fnSetImage: t } = this.props;
          p.d.GetAllLocalizedGroupImages().forEach((e, a) => {
            if (e) {
              let n = e.lastIndexOf("/");
              t(a, e.substring(n + 1));
            }
          }),
            e.SetDirty(r.d.jsondata_sales),
            this.props.closeModal(),
            p.d.ClearImageGroup();
        }
        render() {
          const { closeModal: e, editModel: t, artworkType: a } = this.props,
            n = t.GetClanSteamID();
          return m.createElement(
            b.f,
            {
              onCancel: e,
              closeModal: e,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              className: g.NotTooWideModal,
            },
            m.createElement(_.z, null, Object(E.f)("#ImagePickerLoc_Title")),
            m.createElement(
              _.d,
              null,
              m.createElement(
                _.e,
                null,
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(v.b, {
                    clanSteamID: n,
                    rgSupportArtwork: [a],
                    bPreventPreviousClanImages: !0,
                    fnSetImageURL: t.SetImageURL,
                    rgRealmList: t.GetIncludedRealmList(),
                  }),
                  m.createElement(S.b, {
                    clanSteamID: n,
                    artworkType: a,
                    title: Object(E.f)("#ImagePickerLoc_Title"),
                  })
                )
              ),
              m.createElement(
                _.r,
                null,
                m.createElement(
                  _.G,
                  { onClick: this.OnSaveToEditModel, disabled: !1 },
                  Object(E.f)("#Button_Confirm"),
                  " "
                ),
                m.createElement(
                  _.f,
                  { onClick: this.props.closeModal, disabled: !1 },
                  Object(E.f)("#Button_Cancel")
                )
              )
            )
          );
        }
      };
      Object(n.b)([h.b], f.prototype, "OnSaveToEditModel", null),
        (f = Object(n.b)([d.a], f));
      var O = a("as1E"),
        C = a("2vnA"),
        y = (a("mgoM"), a("TtDX")),
        T = a("3+zv"),
        j = a("kLLr"),
        I = a("6oCP"),
        D = a("h5LU"),
        G = a("fpVW"),
        w = a("f1ZV"),
        A = a("ka0M"),
        M = a("0rc7"),
        k = a("0OaU"),
        B = a("5E+2"),
        N = a("UvY0"),
        L = (a("AiWL"), a("Kw0F")),
        R = a("exH9"),
        F = a("X3Ds"),
        x = a("N0Ye"),
        P = a("lkRc"),
        U = a("nvcf");
      const V = Object(d.a)((e) => {
        const {
            editModel: t,
            section: a,
            varName: n,
            valveOnly: i,
            textToken: l,
            ttipToken: o,
            disabled: s,
            onChange: c,
          } = e,
          d = (e) => {
            (a[n] = e), t.SetDirty(r.d.jsondata_sales), c && c(a, e);
          };
        return i
          ? m.createElement(
              N.b,
              { clanSteamID: t.GetClanSteamID() },
              m.createElement(_.g, {
                onChange: d,
                label: "(VO) " + Object(E.f)(l),
                tooltip: Object(E.f)(o),
                checked: a[n],
                disabled: s,
              })
            )
          : m.createElement(_.g, {
              onChange: d,
              label: Object(E.f)(l),
              tooltip: Object(E.f)(o),
              checked: a[n],
              disabled: s,
            });
      });
      var H = a("aoTL"),
        z = a("mB/g"),
        W = (a("ojgN"), a("TQGK")),
        q = a("uIWk"),
        Q = a("wuU9"),
        J = a("y+6m"),
        Y = a("bS9Q"),
        Z = a("8b/1");
      function K(e) {
        const {
            fnSetEvent: t,
            strLabel: a,
            strPlaceholder: i,
            strToolTip: r,
          } = e,
          [o, s] = m.useState(null),
          c = m.useRef(),
          d = m.useRef(null),
          p = m.useCallback(
            (e) => {
              var a;
              const n = Object(y.a)(
                m.createElement(
                  J.c,
                  { className: Z.SearchResults },
                  e.map((e) =>
                    m.createElement(
                      J.d,
                      {
                        key: e.gidClanEvent,
                        onSelected: () => {
                          (c.current.element.value = ""), t(e);
                        },
                      },
                      m.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        Object(Y.b)(e.name),
                        "",
                        m.createElement("span", null, "(", e.gidClanEvent, ")"),
                        "",
                        m.createElement(
                          "span",
                          { className: Z.SmallText },
                          "(",
                          Object(x.e)(e.type),
                          ")"
                        )
                      )
                    )
                  )
                ),
                null === (a = null == c ? void 0 : c.current) || void 0 === a
                  ? void 0
                  : a.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                }
              );
              n.SetOnHideCallback(() => s(null)), s(n);
            },
            [t]
          ),
          g = m.useCallback(
            (e) =>
              Object(n.a)(this, void 0, void 0, function* () {
                const t = String(e.target.value);
                if (!t || 0 == t.trim().length) return;
                const a = Object(u.PchLanguageToELanguage)(P.c.LANGUAGE);
                if (
                  t.toLocaleLowerCase().startsWith(P.c.STORE_BASE_URL) ||
                  t.toLocaleLowerCase().startsWith(P.c.COMMUNITY_BASE_URL) ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://store.steampowered.com/") ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://store.steamchina.com/") ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://steamcommunity.com/")
                ) {
                  const e = [],
                    n = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                    i = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                    l = /groups\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t
                    ),
                    r = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t
                    ),
                    o = /games\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t
                    ),
                    s = /groups\/(\w+)\/partnerevents\/edit\/(\d+)+/.exec(t),
                    c = /games\/(\d+)\/partnerevents\/edit\/(\d+)+/.exec(t),
                    d = /games\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t
                    );
                  let m = null,
                    u = null,
                    _ = null,
                    g = null,
                    b = null,
                    E = null;
                  if ((null == n ? void 0 : n.length) >= 3)
                    (m = Number.parseInt(n[1])), (g = n[2]);
                  else if ((null == i ? void 0 : i.length) >= 3)
                    (_ = Number.parseInt(i[1])), (g = i[2]);
                  else if ((null == l ? void 0 : l.length) >= 3)
                    (u = l[1]), (b = l[2]);
                  else if ((null == r ? void 0 : r.length) >= 3)
                    (m = Number.parseInt(r[1])), (b = r[2]);
                  else if ((null == o ? void 0 : o.length) >= 3) {
                    let e = o[1];
                    b = o[2];
                    let t = yield W.a.LoadOGGClanInfoForIdentifier(e);
                    t && (m = t.appid);
                  } else if ((null == s ? void 0 : s.length) >= 3)
                    (u = s[1]), (g = s[2]);
                  else if ((null == c ? void 0 : c.length) >= 3)
                    (m = Number.parseInt(c[1])), (g = c[2]);
                  else if ((null == d ? void 0 : d.length) >= 3) {
                    const e = d[1];
                    b = d[2];
                    const t = yield W.a.LoadOGGClanInfoForIdentifier(e);
                    t && (m = t.appid);
                  }
                  if (m)
                    g
                      ? (E = yield I.b.LoadPartnerEventFromClanEventGID(
                          m,
                          g,
                          0
                        ))
                      : b &&
                        (E = yield I.b.LoadPartnerEventFromAnnoucementGID(
                          m,
                          b,
                          0
                        ));
                  else {
                    let e = null;
                    if ((_ && (e = j.a.InitFromClanID(_)), u)) {
                      e = (yield W.a.LoadOGGClanInfoForGroupVanity(u))
                        .clanSteamID;
                    }
                    b && e
                      ? (E = yield I.b.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                          e,
                          b,
                          0
                        ))
                      : g &&
                        e &&
                        (E = yield I.b.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                          e,
                          g,
                          0
                        ));
                  }
                  if (E)
                    return (
                      e.push({
                        name: E.GetNameWithFallback(a),
                        type: E.GetEventType(),
                        clanSteamID: E.clanSteamID,
                        gidClanAnnouncement: E.GetAnnouncementGID(),
                        gidClanEvent: E.GID,
                      }),
                      void p(e)
                    );
                }
                d.current &&
                  (window.clearTimeout(d.current), (d.current = null)),
                  (d.current = window.setTimeout(
                    () =>
                      Object(n.a)(this, void 0, void 0, function* () {
                        const e = q.a.GetCreatorHome(new j.a(P.b.CLANSTEAMID)),
                          a = (yield Q.a
                            .Get()
                            .GetLatestPartnerEvents(
                              l.a.CancelToken.source(),
                              0,
                              20,
                              e.GetAppIDList(),
                              void 0,
                              void 0,
                              void 0,
                              void 0,
                              !0,
                              [e.GetClanAccountID()],
                              t,
                              !0
                            )).map((e) => ({
                            name: e.event_name,
                            type: Number.parseInt(e.event_type),
                            clanSteamID: new j.a(e.clan_steamid),
                            gidClanAnnouncement: e.announcement_gid,
                            gidClanEvent: e.unique_id,
                          }));
                        p(a);
                      }),
                    300
                  ));
              }),
            [p]
          );
        return m.createElement(_.A, {
          onBlur: () => {
            setTimeout(() => (null == o ? void 0 : o.Hide()), 200);
          },
          ref: c,
          type: "text",
          label: null != a ? a : Object(E.f)("#Sale_EnterEventsURL_Common"),
          placeholder: i,
          onChange: g,
          tooltip:
            null != r ? r : Object(E.f)("#Sale_EnterEventsURL_Tooltip_Common"),
        });
      }
      var X = a("xnZ7"),
        $ = a.n(X),
        ee = a("DisI"),
        te = a("X2UP");
      function ae(e) {
        const { saleSection: t, editModel: a, fnIsValidEvent: i } = e,
          l = Object(te.a)("EventsSaleSectionEditor");
        m.useEffect(() => {
          const e = (t.events || [])
            .filter((e) => Boolean(e))
            .map((e) => e.announcement_gid);
          return (
            I.b.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
              void 0,
              e,
              l
            ),
            () => l.cancel("unloading EventsSaleSectionEditor")
          );
        }, [l, t.events]);
        const o = m.useCallback(
            (e) =>
              Object(n.a)(this, void 0, void 0, function* () {
                I.b.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                  e.clanSteamID,
                  e.gidClanAnnouncement,
                  null
                ),
                  t.events.push({
                    announcement_gid: e.gidClanAnnouncement,
                    clan_steamid: e.clanSteamID.ConvertTo64BitString(),
                    event_gid: e.gidClanEvent,
                  }),
                  a.SetDirty(r.d.jsondata_sales);
              }),
            [a, t.events]
          ),
          s = m.useCallback(
            (e) => {
              (t.events || []).some(
                (t) =>
                  (null == t ? void 0 : t.announcement_gid) ==
                  e.gidClanAnnouncement
              )
                ? Object(A.d)(
                    m.createElement(b.e, {
                      strTitle: Object(E.f)("#Sale_DuplicateCapsule"),
                      strDescription: Object(E.f)("#Sale_DuplicateEVent_Desc"),
                      onOK: () => o(e),
                    }),
                    window
                  )
                : o(e);
            },
            [o, t.events]
          );
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(ne, Object.assign({}, e)),
          m.createElement(K, { fnSetEvent: s })
        );
      }
      function ne(e) {
        const { editModel: t, saleSection: a, fnIsValidEvent: n } = e,
          i = Object(H.d)(() => {
            var e;
            return null === (e = a.events) || void 0 === e
              ? void 0
              : e.filter((e) => Boolean(e));
          });
        return m.createElement(M.a, {
          items: i,
          onDelete: (e) => {
            Object(C.G)(() => {
              (a.events = i),
                a.events.splice(e, 1),
                t.SetDirty(r.d.jsondata_sales);
            });
          },
          onMove: (e, n) => {
            Object(C.G)(() => {
              (a.events = i),
                Object(L.d)(a.events, e, n),
                t.SetDirty(r.d.jsondata_sales);
            });
          },
          render: (e) => {
            const t = I.b.GetClanEventFromAnnouncementGID(e.announcement_gid);
            return m.createElement(
              z.c,
              { className: $.a.FlexCenter, eventModel: t, route: z.a.k_eView },
              t
                ? m.createElement("img", {
                    style: { height: "40px", marginRight: "8px" },
                    src: t.GetImageURLWithFallback("capsule", 0),
                  })
                : null,
              t ? t.GetNameWithFallback(0) : null,
              " (",
              t ? t.AnnouncementGID : null,
              ")",
              n &&
                !n(t) &&
                m.createElement(
                  "div",
                  { className: g.ErrorStylesWithIcon },
                  Object(E.f)("#Sale_EventInvalid")
                )
            );
          },
        });
      }
      const ie = Object(d.a)((e) => {
        var t;
        const { saleSection: a, editModel: n } = e;
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            null,
            Object(E.f)(
              a.smart_section_event_tags
                ? "#Sele_Event_SmartSection_RecentEvent_allgame"
                : "#Sele_Event_SmartSection_RecentEvents"
            )
          ),
          m.createElement(_.A, {
            type: "number",
            min: "4",
            max: "90",
            label: Object(E.f)("#Sale_EventMaxEventsToShow"),
            tooltip: Object(E.f)("#Sale_EventMaxEventsToShow_ttip"),
            value: a.smart_section_max_apps,
            placeholder: Object(E.f)("#Sale_EventMaxEventDefault", 15),
            onChange: (e) => {
              let t = Number.parseInt(e.currentTarget.value);
              t &&
                Number.isInteger(t) &&
                a.smart_section_max_apps != t &&
                ((a.smart_section_max_apps = t),
                n.SetDirty(r.d.jsondata_sales));
            },
          }),
          m.createElement(
            "div",
            { className: G.EventEditorTextTitle },
            Object(E.f)("#Sale_EventDateRange"),
            m.createElement(ee.b, {
              tooltip: Object(E.f)("#Sale_EventDateRange_ttip"),
            })
          ),
          m.createElement(
            pe,
            Object.assign({}, e, { bSetDefaultIfMissing: !1 })
          ),
          m.createElement(V, {
            editModel: n,
            section: a,
            textToken: "#Sale_EventShowRecentFirst",
            ttipToken: "#Sale_EventShowRecentFirst_ttip",
            varName: "event_schedule_show_recent_first",
          }),
          m.createElement(
            N.b,
            { clanSteamID: n.GetClanSteamID() },
            m.createElement(_.A, {
              type: "text",
              label: Object(E.f)("#Sale_EventTagsToSearch"),
              onChange: (e) => {
                Object(C.G)(() => {
                  const t = e.target.value.replace(/\s+/g, "");
                  a.smart_section_event_tags &&
                  a.smart_section_event_tags[0] == t
                    ? 0 == t.length &&
                      a.smart_section_event_tags &&
                      ((a.smart_section_type = "recent_events"),
                      (a.smart_section_event_tags = void 0),
                      n.SetDirty(r.d.jsondata_sales))
                    : ((a.smart_section_type = "recent_tagged_events"),
                      (a.smart_section_event_tags = [t]),
                      n.SetDirty(r.d.jsondata_sales));
                });
              },
              value:
                (null === (t = a.smart_section_event_tags) || void 0 === t
                  ? void 0
                  : t.length) > 0
                  ? a.smart_section_event_tags[0]
                  : "",
              tooltip: Object(E.f)("#Sale_EventTagsToSearch_ttip"),
              placeholder: Object(E.f)("#Sale_EventTagsToSearch_Placeholder"),
            })
          )
        );
      });
      let le = class extends m.Component {
        constructor(e) {
          super(e), (this.state = {});
          const { saleSection: t } = this.props;
          if (
            (t.event_schedule_categories || (t.event_schedule_categories = []),
            !t.event_schedule_rtime_start)
          ) {
            let e = new Date();
            e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (t.event_schedule_rtime_start = Math.floor(e.getTime() / 1e3));
          }
          t.event_schedule_rtime_end ||
            (t.event_schedule_rtime_end = t.event_schedule_rtime_start + 3600);
        }
        OnCategoryCheck(e, t) {
          const { saleSection: a } = this.props;
          let n = this.GetCategoryIndex(t);
          e && -1 == n
            ? (a.event_schedule_categories ||
                (a.event_schedule_categories = []),
              a.event_schedule_categories.push({
                type: t.type,
                tags: t.tags || [],
              }),
              this.props.editModel.SetDirty(r.d.jsondata_sales))
            : e ||
              -1 == n ||
              (a.event_schedule_categories.splice(n, 1),
              this.props.editModel.SetDirty(r.d.jsondata_sales));
        }
        GetCategoryIndex(e) {
          const { saleSection: t } = this.props;
          return t.event_schedule_categories
            ? t.event_schedule_categories.findIndex(
                (t) =>
                  t.type == e.type && Object(L.a)(t.tags || [], e.tags || [])
              )
            : -1;
        }
        BContainsCategory(e) {
          return -1 != this.GetCategoryIndex(e);
        }
        render() {
          const { editModel: e, saleSection: t } = this.props;
          let a = new Array();
          for (const e in c.b) {
            const t = c.b[e];
            Object(x.a)(t.type) &&
              a.push(
                m.createElement(re, {
                  key: `gs-${e}`,
                  category: t,
                  fnCategoryToggle: this.OnCategoryCheck,
                  fnContainCategory: this.BContainsCategory,
                })
              );
          }
          let n = new Array();
          if (P.h.is_support)
            for (const e in c.c) {
              const t = c.c[e];
              n.push(
                m.createElement(re, {
                  key: `gs-${e}`,
                  category: t,
                  fnCategoryToggle: this.OnCategoryCheck,
                  fnContainCategory: this.BContainsCategory,
                })
              );
            }
          const i = e.GetEventModel().jsondata.sale_opt_in_page_name;
          return m.createElement(
            "div",
            null,
            m.createElement(
              "p",
              null,
              Object(E.f)("#EventEditor_SaleEventSchedule")
            ),
            m.createElement(
              "p",
              null,
              Object(E.m)(
                "#EventEditor_SaleEventSchedule_NewsHub",
                m.createElement(
                  "a",
                  {
                    href: P.c.STORE_BASE_URL + "newshub/sale/" + e.GetGID(),
                    target: P.c.IN_CLIENT ? void 0 : "_blank",
                  },
                  Object(E.f)("#EventEditor_SaleEventSchedule_NewsHubToken")
                )
              )
            ),
            m.createElement(V, {
              varName: "show_as_demos",
              editModel: e,
              section: t,
              textToken: "#EventEditor_SaleEventSchedule_FeatureDemos",
              ttipToken: "#EventEditor_SaleEventSchedule_FeatureDemos_ttip",
            }),
            m.createElement(
              "p",
              null,
              Object(E.f)("#EventEditor_SaleEventSchedule_Range")
            ),
            m.createElement(pe, {
              saleSection: t,
              editModel: e,
              bSetDefaultIfMissing: !0,
              elSetStartTime: m.createElement(
                _.f,
                {
                  disabled: 0 == e.GetEventStartTime(),
                  onClick: () => {
                    (t.event_schedule_rtime_start = e.GetEventStartTime()),
                      e.SetDirty(r.d.jsondata_sales);
                  },
                },
                Object(E.f)("#EventEditor_SaleEventSchedule_SetToStart")
              ),
              elSetEndTime: m.createElement(
                _.f,
                {
                  disabled: 0 == e.GetEventEndTime(),
                  onClick: () => {
                    (t.event_schedule_rtime_end = e.GetEventEndTime()),
                      e.SetDirty(r.d.jsondata_sales);
                  },
                },
                Object(E.f)("#EventEditor_SaleEventSchedule_SetToEnd")
              ),
            }),
            m.createElement(oe, {
              editModel: e,
              saleSection: t,
              selectedTrack: this.state.selectedTrack,
              fnSelectTrack: (e) => {
                this.setState({
                  selectedTrack: this.state.selectedTrack === e ? void 0 : e,
                });
              },
            }),
            Boolean(this.state.selectedTrack) &&
              m.createElement(de, {
                editModel: e,
                track: this.state.selectedTrack,
                saleSection: t,
              }),
            m.createElement(
              "p",
              null,
              Object(E.f)("#EventEditor_SaleEventSchedule_Desc")
            ),
            Boolean(P.h.is_support) &&
              m.createElement(
                "div",
                {
                  className: Object(R.a)(
                    G.ValveOnlyBackground,
                    U.EventCategoryCtn
                  ),
                },
                n
              ),
            Boolean(P.h.is_support && i) &&
              m.createElement(
                "div",
                {
                  className: Object(R.a)(
                    G.ValveOnlyBackground,
                    U.EventCategoryCtn
                  ),
                },
                m.createElement(
                  "div",
                  null,
                  "Use OptIn ",
                  e.GetEventModel().jsondata.sale_opt_in_page_name,
                  " Event Typpe (please ensure the custom event type Live Stream exists and is published)"
                ),
                m.createElement(re, {
                  key: `gs-${i}`,
                  category: {
                    name: "OptIn Custom Name Not Imported yet",
                    description: "TODO",
                    icon: "11",
                    type: 11,
                    tags: [i],
                  },
                  fnCategoryToggle: this.OnCategoryCheck,
                  fnContainCategory: this.BContainsCategory,
                })
              ),
            m.createElement("div", { className: U.EventCategoryCtn }, a)
          );
        }
      };
      Object(n.b)([h.b], le.prototype, "OnCategoryCheck", null),
        Object(n.b)([h.b], le.prototype, "GetCategoryIndex", null),
        Object(n.b)([h.b], le.prototype, "BContainsCategory", null),
        (le = Object(n.b)([d.a], le));
      const re = (e) => {
          const { category: t, fnCategoryToggle: a, fnContainCategory: n } = e;
          return m.createElement(
            B.a,
            {
              direction: "top",
              className: Object(R.a)(U.EventCategoryWidth),
              toolTipContent: Object(E.f)(t.description),
            },
            m.createElement(_.g, {
              label: Object(E.f)(t.name),
              checked: n(t),
              onChange: (e) => a(e, t),
            })
          );
        },
        oe = Object(d.a)((e) => {
          const { editModel: t, saleSection: a, fnSelectTrack: n } = e;
          return m.createElement(
            "div",
            null,
            m.createElement(
              "div",
              { className: G.EventEditorTextTitle },
              Object(E.f)("#EventSchedule_Track_Current"),
              m.createElement(ee.b, {
                tooltip: Object(E.f)("#EventSchedule_Track_Current_ttip"),
              })
            ),
            Boolean(a.event_schedule_tracks)
              ? m.createElement(M.a, {
                  items: a.event_schedule_tracks,
                  onDelete: (e) => {
                    Object(A.d)(
                      m.createElement(b.e, {
                        strTitle: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Title"
                        ),
                        strDescription: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Body"
                        ),
                        onOK: () => {
                          a.event_schedule_tracks.splice(e, 1),
                            t.SetDirty(r.d.jsondata_sales),
                            n(null);
                        },
                      }),
                      window
                    );
                  },
                  onReorder: () => t.SetDirty(r.d.jsondata_sales),
                  render: (t) =>
                    m.createElement(se, {
                      track: t,
                      selected: t === e.selectedTrack,
                      fnOnSelect: e.fnSelectTrack,
                      index: e.saleSection.event_schedule_tracks.indexOf(t),
                    }),
                })
              : m.createElement(
                  "div",
                  null,
                  Object(E.f)("#EventSchedule_NoTracks")
                ),
            m.createElement(
              B.a,
              { toolTipContent: Object(E.f)("#EventSchedule_AddTrack_ttip") },
              m.createElement(
                _.G,
                {
                  onClick: () => {
                    a.event_schedule_tracks || (a.event_schedule_tracks = []);
                    const e = a.event_schedule_tracks.reduce(
                      (e, t) => Math.max(e, t.unique_id),
                      0
                    );
                    a.event_schedule_tracks.push({
                      unique_id: e + 1,
                      localized_track_image: [],
                      events: [],
                    }),
                      t.SetDirty(r.d.jsondata_sales);
                  },
                },
                Object(E.f)("#EventSchedule_AddTrack")
              )
            )
          );
        }),
        se = (e) =>
          m.createElement(
            "div",
            {
              className: Object(R.a)(
                O.TabsSelectorEntry,
                e.selected && O.TabsSelectorEntrySelected
              ),
              onClick: () => e.fnOnSelect(e.track),
            },
            Object(E.f)(
              "#EventSchedule_Unlabled_Track",
              e.index ? e.index + 1 : 1
            )
          );
      function ce(e, t, a, n) {
        Object(y.a)(
          m.createElement(D.a, {
            onChange: (e) => {
              (t[n] = e), a.SetDirty(r.d.jsondata_sales);
            },
            color: t[n],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      const de = Object(d.a)((e) => {
        const { saleSection: t, track: a, editModel: n } = e,
          i = a.localized_track_image.reduce((e, t) => (t ? e + 1 : e), 0),
          l = `linear-gradient(to right, ${
            (null == a ? void 0 : a.background_gradient_left) || "transparent"
          } 0%, ${
            (null == a ? void 0 : a.background_gradient_right) || "transparent"
          } 100%)`,
          r = `linear-gradient(to right, ${
            (null == a ? void 0 : a.selected_background_gradient_left) ||
            "transparent"
          } 0%, ${
            (null == a ? void 0 : a.selected_background_gradient_right) ||
            "transparent"
          } 100%)`,
          o = `linear-gradient(to right, ${
            (null == a ? void 0 : a.encore_background_gradient_left) ||
            "transparent"
          } 0%, ${
            (null == a ? void 0 : a.encore_background_gradient_right) ||
            "transparent"
          } 100%)`,
          s = `linear-gradient(to right, ${
            (null == a ? void 0 : a.selected_encore_background_gradient_left) ||
            "transparent"
          } 0%, ${
            (null == a
              ? void 0
              : a.selected_encore_background_gradient_right) || "transparent"
          } 100%)`;
        return m.createElement(
          "div",
          null,
          m.createElement(
            _.f,
            {
              onClick: (e) => {
                Object(A.d)(
                  m.createElement(f, {
                    loc_images: a.localized_track_image,
                    fnSetImage: (e, t) => {
                      a.localized_track_image = E.a.Set(
                        a.localized_track_image || [],
                        e,
                        t
                      );
                    },
                    editModel: n,
                    artworkType: "schedule_track_art",
                  }),
                  Object(F.o)(e)
                );
              },
            },
            Boolean(i > 0)
              ? Object(E.l)("#selectimage_managing_n_existing_title", i)
              : Object(E.f)("#selectimage_uploading_title")
          ),
          m.createElement(
            "div",
            null,
            Object(E.f)("#Sale_Section_EventTrackColors")
          ),
          m.createElement(
            "div",
            { className: G.FlexRowContainer },
            m.createElement(
              "div",
              null,
              m.createElement(
                _.f,
                {
                  onClick: (e) => ce(e, a, n, "label_color"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color },
                },
                Object(E.f)("#Sale_Section_Premiere_Label_Color")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) => ce(e, a, n, "background_gradient_left"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Left")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) => ce(e, a, n, "background_gradient_right"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Right")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "selected_background_gradient_left"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Left")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "selected_background_gradient_right"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Right")
              )
            ),
            m.createElement(
              "div",
              null,
              m.createElement(
                _.f,
                {
                  onClick: (e) => ce(e, a, n, "encore_label_color"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.encore_label_color },
                },
                Object(E.f)("#Sale_Section_Encore_Label_Color")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "encore_background_gradient_left"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Left")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "encore_background_gradient_right"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Right")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "selected_encore_background_gradient_left"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Left")
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    ce(e, a, n, "selected_encore_background_gradient_right"),
                  className: G.EventEditorTextTitle,
                  style: { color: a.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Right")
              )
            )
          ),
          Boolean(
            n.GetEventModel().jsondata.sale_opt_in_page_name &&
              t.event_schedule_categories.some((e) =>
                e.tags.includes(
                  n.GetEventModel().jsondata.sale_opt_in_page_name
                )
              )
          ) &&
            m.createElement(
              N.b,
              { clanSteamID: n.GetClanSteamID(), requireAdmin: !0 },
              m.createElement(
                "div",
                null,
                "When using an Opt-in Event and Custom Event Tag, you'll need to make sure any manually added events have the same Custom Event Tag applied. Click this button to apply that tag to all events currently shown below."
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) =>
                    Object(A.d)(
                      m.createElement(me, { editModel: n, rgEvents: a.events }),
                      Object(F.o)(e)
                    ),
                },
                "Add Event Tag..."
              )
            ),
          m.createElement(
            "div",
            null,
            Object(E.f)("#EventSchedule_EventValidDesc")
          ),
          m.createElement(ae, {
            editModel: n,
            saleSection: a,
            fnIsValidEvent: (e) =>
              e &&
              e.startTime >= t.event_schedule_rtime_start &&
              e.endTime <= t.event_schedule_rtime_end &&
              (function (e, t, a) {
                return (
                  t.some(
                    (t) => t.type == e.type && e.BMatchesAllTags(t.tags)
                  ) ||
                  (null == a
                    ? void 0
                    : a.some((t) =>
                        t.events.some(
                          (t) => t.announcement_gid == e.AnnouncementGID
                        )
                      ))
                );
              })(e, t.event_schedule_categories, t.event_schedule_tracks),
          })
        );
      });
      function me(e) {
        const { editModel: t, rgEvents: a, closeModal: i } = e,
          r = t.GetEventModel().jsondata.sale_opt_in_page_name,
          o = a.filter(
            (e) =>
              !I.b
                .GetClanEventFromAnnouncementGID(e.announcement_gid)
                .BHasTag(r)
          ),
          [s, c] = m.useState(!1),
          [d, u] = m.useState(null),
          [p, _] = m.useState(!1),
          [g, h] = m.useState(0);
        return m.createElement(
          b.e,
          {
            strTitle: "Track and Custom OptIn Event Sync",
            strDescription: `The following number of featured events ${o.length} as missing the custom tag '${r}' from the opt-in.  Click ok to add the missing tag. This will take a short while before solr is updated and the events appear in the results.`,
            bOKDisabled: 0 == o.length || s || Boolean(d) || p,
            onOK: () =>
              Object(n.a)(this, void 0, void 0, function* () {
                c(!0);
                const e = o.map((e) =>
                    Object(n.a)(this, void 0, void 0, function* () {
                      var t;
                      const a =
                          P.c.STORE_BASE_URL + "events_admin/ajaxupdatetags",
                        n = new j.a(e.clan_steamid),
                        i = new FormData();
                      i.append("sessionid", P.c.SESSIONID),
                        i.append("clan_accountid", "" + n.GetAccountID()),
                        i.append("gid_announcement", e.announcement_gid),
                        i.append("add_tags", r),
                        i.append("authwgtoken", P.h.authwgtoken);
                      const o = yield l.a.post(a, i, { withCredentials: !0 }),
                        s = Boolean(
                          200 == (null == o ? void 0 : o.status) &&
                            1 ==
                              (null === (t = null == o ? void 0 : o.data) ||
                              void 0 === t
                                ? void 0
                                : t.success)
                        );
                      return (
                        s ||
                          (u(`Failed to update tags custom for ${r}`),
                          console.log(
                            `Failed to update tags custom for ${r}`,
                            e
                          )),
                        s
                      );
                    })
                  ),
                  t = yield Promise.all(e);
                h(t.filter(Boolean).length), _(!0), c(!1);
              }),
            strCancelButtonText: Boolean(p) ? Object(E.f)("#Done") : void 0,
            closeModal: i,
          },
          Boolean(s) &&
            m.createElement(k.a, {
              string: Object(E.f)("#Updating"),
              size: "medium",
              position: "center",
            }),
          Boolean(p) &&
            m.createElement(
              "div",
              null,
              "Operation Completed, ",
              g,
              ", reload page to confirm."
            ),
          Boolean(d) &&
            m.createElement(
              "div",
              { className: G.Error },
              "Error Encountered: ",
              d,
              " and more info in console logs."
            )
        );
      }
      const ue = (e) => {
          const t = new Date(1e3 * e);
          return t.setSeconds(0), Math.floor(t.getTime() / 1e3);
        },
        pe = Object(d.a)((e) => {
          const { saleSection: t, editModel: a, bSetDefaultIfMissing: n } = e;
          return (
            m.useEffect(() => {
              n &&
                Object(C.G)(() => {
                  if (!t.event_schedule_rtime_start) {
                    let e = new Date();
                    e.setHours(10),
                      e.setMinutes(0),
                      e.setSeconds(0),
                      (t.event_schedule_rtime_start = Math.floor(
                        e.getTime() / 1e3
                      )),
                      a.SetDirty(r.d.jsondata_sales);
                  }
                  t.event_schedule_rtime_end ||
                    ((t.event_schedule_rtime_end =
                      t.event_schedule_rtime_start + 3600),
                    a.SetDirty(r.d.jsondata_sales));
                });
            }, [t, a, n]),
            m.createElement(
              m.Fragment,
              null,
              m.createElement(V, {
                valveOnly: !0,
                editModel: a,
                section: t,
                varName: "event_schedule_use_relative_time",
                textToken: "Use relative time range",
                ttipToken:
                  'If checked, the time range used will be relative to the current time. So you can specify "3 weeks ago to 2 weeks from now" as a time range.',
              }),
              Boolean(t.event_schedule_use_relative_time)
                ? m.createElement(
                    m.Fragment,
                    null,
                    m.createElement(_.A, {
                      mustBeNumeric: !0,
                      rangeMin: 1,
                      label: "Start date (in number of weeks ago)",
                      value: t.event_schedule_start_weeks,
                      onChange: (e) => {
                        (t.event_schedule_start_weeks = Number(e.target.value)),
                          a.SetDirty(r.d.jsondata_sales);
                      },
                    }),
                    m.createElement(_.A, {
                      mustBeNumeric: !0,
                      rangeMin: 1,
                      label: "End date (in number of weeks from now)",
                      value: t.event_schedule_end_weeks,
                      onChange: (e) => {
                        (t.event_schedule_end_weeks = Number(e.target.value)),
                          a.SetDirty(r.d.jsondata_sales);
                      },
                    })
                  )
                : m.createElement(
                    m.Fragment,
                    null,
                    m.createElement(w.a, {
                      strDescription: Object(E.f)("#EventEditor_Starts"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.event_schedule_rtime_start,
                      fnSetTimeToUpdate: (e) => {
                        (e = ue(e)),
                          t.event_schedule_rtime_start != e &&
                            ((t.event_schedule_rtime_start = e),
                            t.event_schedule_rtime_end < e &&
                              (t.event_schedule_rtime_end = e + 3600),
                            a.SetDirty(r.d.jsondata_sales));
                      },
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                      className: e.elSetStartTime && U.SingleLine,
                    }),
                    Boolean(e.elSetStartTime) &&
                      m.createElement(
                        "div",
                        { className: U.SingleLine },
                        e.elSetStartTime
                      ),
                    m.createElement(w.a, {
                      strDescription: Object(E.f)("#EventEditor_Ends"),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.event_schedule_rtime_end,
                      fnSetTimeToUpdate: (e) => {
                        (e = ue(e)),
                          t.event_schedule_rtime_end != e &&
                            ((t.event_schedule_rtime_end = e),
                            t.event_schedule_rtime_end <
                              t.event_schedule_rtime_start &&
                              (t.event_schedule_rtime_end =
                                t.event_schedule_rtime_start + 3600),
                            a.SetDirty(r.d.jsondata_sales));
                      },
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                      className: e.elSetEndTime && U.SingleLine,
                    }),
                    Boolean(e.elSetEndTime) &&
                      m.createElement(
                        "div",
                        { className: U.SingleLine },
                        e.elSetEndTime
                      )
                  )
            )
          );
        });
      var _e = a("CoyA"),
        ge = a("wUcC"),
        be = a("Zan1"),
        Ee = a("+w6J"),
        he = a("Yamg"),
        ve = a("JiI5"),
        Se = a("DYbw");
      const fe = Object(d.a)((e) => {
        const { editModel: t, saleSection: a } = e,
          [i] = m.useState(new p.b(t.GetClanSteamID())),
          l = (e, a, n) => {
            (e[n] = a), t.SetDirty(r.d.jsondata_sales);
          },
          c = (e) => {
            Object(A.d)(
              m.createElement(f, {
                loc_images: e
                  ? a.localized_sale_product_mobile_banner_override
                  : a.localized_sale_product_banner_override,
                fnSetImage: (t, n) => {
                  e
                    ? (a.localized_sale_product_mobile_banner_override = E.a.Set(
                        a.localized_sale_product_mobile_banner_override,
                        t,
                        n
                      ))
                    : (a.localized_sale_product_banner_override = E.a.Set(
                        a.localized_sale_product_banner_override,
                        t,
                        n
                      ));
                },
                editModel: t,
                artworkType: e
                  ? "product_mobile_banner_override"
                  : "product_banner_override",
              }),
              window
            );
          },
          d = (e) => {
            let t = "SaleSection_" + a.unique_id;
            return e && (t += "_" + e), t;
          },
          u = `linear-gradient(0deg, ${
            a.background_gradient_bottom || "transparent"
          } 0%, ${a.background_gradient_top || "transparent"} 100%)`,
          g = "tabs" !== a.section_type;
        return m.createElement(
          ee.c,
          {
            title: Object(E.f)("#Sale_Section_Background_Title"),
            tooltip: Object(E.f)("#Sale_Section_Background_Title_ttip"),
            getMinimized: () => {
              return (e = "background"), (t = !0), Object(o.a)(d(e), t);
              var e, t;
            },
            toggleMinimized: () => {
              return (e = "background"), (t = !0), void Object(o.d)(d(e), t);
              var e, t;
            },
          },
          m.createElement(
            "div",
            { style: { display: "flex" }, className: ve.BackgroundSettings },
            m.createElement(
              "div",
              { className: Object(R.a)(G.HalfColumn, ve.HalfColumn) },
              m.createElement(
                "div",
                { className: G.EventEditorTextTitle },
                Object(E.f)("#Sale_Section_BackgroundColors_Title"),
                " "
              ),
              m.createElement(
                _.f,
                {
                  onClick: (e) => {
                    Object(y.a)(
                      m.createElement(D.a, {
                        onChange: (e) => {
                          l(a, e, "label_color");
                        },
                        color: a.label_color,
                      }),
                      e,
                      { bDisablePopTop: !0 }
                    );
                  },
                  className: G.EventEditorTextTitle,
                  style: { color: a.label_color },
                },
                Object(E.f)("#Sale_Section_Label_Color")
              ),
              !a.disable_background &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(
                    _.f,
                    {
                      onClick: (e) => {
                        Object(y.a)(
                          m.createElement(D.a, {
                            onChange: (e) => l(a, e, "background_gradient_top"),
                            color: a.background_gradient_top,
                          }),
                          e,
                          { bDisablePopTop: !0 }
                        );
                      },
                      className: G.EventEditorTextTitle,
                      style: { color: a.label_color, background: u },
                    },
                    Object(E.f)("#Sale_Section_Background_Top")
                  ),
                  m.createElement(
                    _.f,
                    {
                      onClick: (e) => {
                        Object(y.a)(
                          m.createElement(D.a, {
                            onChange: (e) =>
                              l(a, e, "background_gradient_bottom"),
                            color: a.background_gradient_bottom,
                          }),
                          e,
                          { bDisablePopTop: !0 }
                        );
                      },
                      className: G.EventEditorTextTitle,
                      style: { color: a.label_color, background: u },
                    },
                    Object(E.f)("#Sale_Section_Background_Bottom")
                  )
                ),
              m.createElement(V, {
                varName: "disable_background",
                editModel: t,
                section: a,
                textToken: "#Sale_Section_DisableBackground",
                ttipToken: "#Sale_Section_DisableBackground_ttip",
              })
            ),
            Boolean(g && !a.disable_background) &&
              m.createElement(
                "div",
                { className: Object(R.a)(G.HalfColumn, ve.HalfColumn) },
                m.createElement(
                  "div",
                  { className: G.EventEditorTextTitle },
                  Object(E.f)("#Sale_Section_BackgroundImage_Title"),
                  " ",
                  m.createElement(ee.b, {
                    tooltip: Object(E.f)("#Sale_Section_BackgroundImage_ttip"),
                  })
                ),
                m.createElement(s.b, {
                  bAllowPreviousClanImages: !0,
                  onDropFiles: (e) =>
                    Object(n.a)(void 0, void 0, void 0, function* () {
                      if (e && e.length > 0) {
                        const n = ["sale_section_background"];
                        if (yield i.AddImage(e[0], 0, n)) {
                          const e = yield i.UploadAllFiles(n),
                            l = e[Object.keys(e)[0]];
                          let o = l ? p.a.GetExtensionString(l) : null,
                            s = l ? l.image_hash + o : null;
                          (a.background_image = s),
                            t.SetDirty(r.d.jsondata_sales);
                        } else
                          console.error(
                            "SaleSection.OnDropFiles: failed file=" + e[0].name
                          ),
                            Object(A.d)(
                              m.createElement(b.g, {
                                strDescription: Object(E.f)(
                                  "#ImagePicker_Error",
                                  e[0].name
                                ),
                              }),
                              window
                            );
                      }
                    }),
                  OnClanImageSelected: (e, i) =>
                    Object(n.a)(void 0, void 0, void 0, function* () {
                      const n = e ? p.a.GetExtensionString(e) : null,
                        i = e ? e.image_hash + n : null;
                      (a.background_image = i), t.SetDirty(r.d.jsondata_sales);
                    }),
                  clanSteamID: t.GetClanSteamID(),
                  fnSetImageURL: t.SetImageURL,
                  rgRealmList: t.GetIncludedRealmList(),
                }),
                m.createElement(
                  N.b,
                  { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                  m.createElement(
                    _.f,
                    {
                      onClick: (e) => {
                        e.preventDefault(), e.stopPropagation(), c(!1);
                      },
                      "data-tooltip-text": Object(E.f)(
                        "#Sale_Seciton_BannerImage_Override_ttip"
                      ),
                      className: G.EventEditorTextTitle,
                    },
                    Object(E.f)("#Sale_Seciton_BannerImage_Override")
                  ),
                  m.createElement(
                    _.f,
                    {
                      onClick: (e) => {
                        e.preventDefault(), e.stopPropagation(), c(!0);
                      },
                      "data-tooltip-text": Object(E.f)(
                        "#Sale_Seciton_BannerImage_Override_ttip"
                      ),
                      className: G.EventEditorTextTitle,
                    },
                    Object(E.f)("#Sale_Seciton_MobileBannerImage_Override")
                  ),
                  Boolean(
                    void 0 !== a.localized_sale_product_banner_override ||
                      void 0 !== a.localized_sale_product_mobile_banner_override
                  ) &&
                    m.createElement(
                      _.f,
                      {
                        onClick: () => {
                          (a.localized_sale_product_banner_override = void 0),
                            (a.localized_sale_product_mobile_banner_override = void 0),
                            t.SetDirty(r.d.jsondata_sales);
                        },
                        className: G.EventEditorTextTitle,
                      },
                      Object(E.f)("#Sale_Section_BannerImage_Clear")
                    )
                ),
                m.createElement(
                  _.f,
                  {
                    onClick: () => {
                      (a.background_image = null),
                        t.SetDirty(r.d.jsondata_sales);
                    },
                    className: G.EventEditorTextTitle,
                  },
                  Object(E.f)("#Sale_Section_Background_Clear")
                ),
                m.createElement(Se.a, {
                  setting: a.background_repeat,
                  fnUpdateSetting: (e) => {
                    a.background_repeat != e &&
                      ((a.background_repeat = e),
                      t.SetDirty(r.d.jsondata_sales));
                  },
                })
              )
          )
        );
      });
      var Oe = a("48GZ"),
        Ce = a("4lry"),
        ye = a("Cs6D"),
        Te = a("ZeAL"),
        je = a("BBEf"),
        Ie = (a("li7h"), a("0xSo"), a("UWWC")),
        De = a("C4Nl"),
        Ge = a("4P4B"),
        we = a("IjL/"),
        Ae = a("6AJf"),
        Me = a("zoRj"),
        ke = a("gyoR"),
        Be = a("ed1b"),
        Ne = a("MnIK"),
        Le = a("6Y59"),
        Re = a("YyVH"),
        Fe = a("IzPI");
      class xe {
        constructor() {
          "dev" === P.c.WEB_UNIVERSE && (window.g_ContentHubNamesStore = this);
        }
        BHasContentHubNames() {
          return Boolean(this.m_hubNames);
        }
        GetContentHubNames() {
          return this.m_hubNames;
        }
        LoadContentHubNames() {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (!this.m_hubNames)
              return (
                this.m_promise ||
                  (this.m_promise = this.InternalLoadContentHubNames()),
                this.m_promise
              );
          });
        }
        InternalLoadContentHubNames() {
          return Object(n.a)(this, void 0, void 0, function* () {
            let e;
            try {
              const t = `${P.c.STORE_BASE_URL}contenthub/ajaxgetcontenthubs`,
                a = { origin: self.origin },
                n = yield l.a.get(t, { params: a });
              if (1 !== n.data.success) return null;
              e = n.data;
            } catch (e) {
              return null;
            }
            const t = new Map();
            for (const a of Object.keys(e.categories))
              t.set(a, e.categories[a]);
            const a = new Map();
            for (const t of Object.keys(e.tags)) a.set(Number(t), e.tags[t]);
            this.m_hubNames = { hubtypes: e.hubtypes, categories: t, tags: a };
          });
        }
        static Get() {
          return xe.s_singleton || (xe.s_singleton = new xe()), xe.s_singleton;
        }
      }
      const Pe = Object(d.a)((e) =>
          m.createElement(
            we.a,
            null,
            m.createElement(
              N.b,
              { clanSteamID: e.editModel.GetClanSteamID() },
              m.createElement(_.I, {
                showValue: !0,
                min: 1,
                max: 3,
                label: Object(E.f)("#Sale_Section_CarouselRows"),
                tooltip: Object(E.f)("#Sale_Section_CarouselRows_Tooltip"),
                value: e.section.carousel_rows || 2,
                onChange: (t) => {
                  (e.section.carousel_rows = t),
                    e.editModel.SetDirty(r.d.jsondata_sales);
                },
              })
            )
          )
        ),
        Ue = (e) =>
          m.createElement(
            we.a,
            null,
            m.createElement(
              V,
              Object.assign(
                {
                  textToken: "#Sale_Section_CarouselAutoAdvance",
                  ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                  varName: "carousel_auto_advance",
                  valveOnly: !0,
                },
                e
              )
            )
          );
      class Ve {
        constructor() {
          (this.m_mapSections = new Map()), (this.m_mapPromises = new Map());
        }
        BHasSections(e, t, a) {
          return this.m_mapSections.has(this.GetKey(e, t, a));
        }
        GetSections(e, t, a) {
          return this.m_mapSections.get(this.GetKey(e, t, a));
        }
        LoadSections(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const n = this.GetKey(e, t, a);
            return (
              this.m_mapPromises.get(n) ||
                this.m_mapPromises.set(n, this.InternalLoadSections(e, t, a)),
              this.m_mapPromises.get(n)
            );
          });
        }
        InternalLoadSections(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            try {
              const n = `${P.c.STORE_BASE_URL}contenthub/ajaxgetcontenthubsections`,
                i = {
                  strHubType: e,
                  strCategory: t,
                  nTagID: a,
                  origin: self.origin,
                },
                r = yield l.a.get(n, { params: i });
              return 1 !== r.data.success
                ? null
                : (this.m_mapSections.set(
                    this.GetKey(e, t, a),
                    r.data.section_ids
                  ),
                  r.data.section_ids);
            } catch (e) {
              return null;
            }
          });
        }
        GetKey(e, t, a) {
          return `${e}_${t}_${a}`;
        }
        static Get() {
          return (
            Ve.s_singleton ||
              ((Ve.s_singleton = new Ve()),
              "dev" === P.c.WEB_UNIVERSE &&
                (window.g_ContentHubSectionsStore = Ve.s_singleton)),
            Ve.s_singleton
          );
        }
      }
      var He = a("xs+m");
      const ze = Object(d.a)((e) => {
          const { editModel: t, section: a } = e,
            n = t.GetEventModel().jsondata.source_content_hub,
            { bLoading: i, rgSections: l } = (function (e, t, a) {
              const n = Ve.Get(),
                [i, l] = Object(m.useState)(!n.BHasSections(e, t, a)),
                [r, o] = Object(m.useState)(n.GetSections(e, t, a));
              return (
                Object(m.useEffect)(() => {
                  n.LoadSections(e, t, a).then(() => {
                    o(n.GetSections(e, t, a)), l(!1);
                  });
                }, [n, e, t, a]),
                { bLoading: i, rgSections: r }
              );
            })(n.type, n.category, n.tagid);
          if (i)
            return m.createElement(k.a, { size: "medium", position: "center" });
          const o = l.map((e) => ({ label: e, value: e }));
          return m.createElement(
            we.a,
            null,
            m.createElement(
              V,
              Object.assign(
                {
                  textToken: "Show a specific carousel",
                  ttipToken:
                    "If checked, lets you specify which carousel to show.",
                  varName: "contenthub_section_show_specific_carousel",
                  valveOnly: !0,
                },
                e
              )
            ),
            m.createElement(
              "div",
              { className: He.ContentHubSectionCtn },
              a.contenthub_section_show_specific_carousel &&
                m.createElement(
                  "div",
                  { className: He.ContentHubSectionInnerCtn },
                  m.createElement(_.D, null, "ID"),
                  m.createElement(ye.a, {
                    options: o,
                    value: o.find((e) => e.value === a.contenthub_section_id),
                    onChange: (e) => {
                      (a.contenthub_section_id = e.value),
                        t.SetDirty(r.d.jsondata_sales);
                    },
                    isSearchable: !0,
                  })
                ),
              m.createElement(
                "div",
                { className: He.ContentHubSectionInnerCtn },
                m.createElement(_.D, null, "Capsules Per Page"),
                m.createElement(_.A, {
                  type: "number",
                  min: 1,
                  max: 6,
                  value: a.contenthub_section_capsules_per_page,
                  onChange: (e) => {
                    (a.contenthub_section_capsules_per_page = Number(
                      e.target.value
                    )),
                      t.SetDirty(r.d.jsondata_sales);
                  },
                })
              )
            )
          );
        }),
        We = Object(d.a)((e) => {
          const { section: t } = e;
          return m.createElement(kt, Object.assign({ saleSection: t }, e));
        });
      var qe = a("nxSy");
      let Qe = class extends m.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              maxRowsString: Object(T.r)(this.props.saleSection).toString(),
              capItemCountString: Object(T.t)(
                this.props.saleSection
              ).toString(),
            });
        }
        OnRandomChange(e, t) {
          t || (e.cap_item_count = 0),
            this.setState({
              maxRowsString: Object(T.t)(this.props.saleSection).toString(),
            });
        }
        OnCapSectionChange(e, t) {
          this.setState({
            maxRowsString: Object(T.r)(this.props.saleSection).toString(),
          });
        }
        OnCapItemCountChange(e, t) {
          const a = Number(t);
          a >= 0 &&
            ((e.cap_item_count = a),
            this.props.editModel.SetDirty(r.d.jsondata_sales)),
            this.setState({ capItemCountString: t });
        }
        OnCarouselRowsChange(e, t) {
          (e.carousel_rows = t),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnCapSectionRowCountChange(e, t) {
          const a = Number(t);
          a > 0 &&
            ((e.cap_section_row_count = a),
            this.props.editModel.SetDirty(r.d.jsondata_sales)),
            this.setState({ maxRowsString: t });
        }
        ConvertStringToRowConfig(e) {
          return JSON.parse(e);
        }
        ConvertRowConfigToString(e, t) {
          return JSON.stringify({ rows: e, styles: t || [] });
        }
        OnCapsulesPerRowArrayChange(e, t) {
          const { rows: a, styles: n } = this.ConvertStringToRowConfig(t);
          (e.capsules_per_row_array = a),
            (e.capsule_style_per_row_array = n && n.length ? n : null),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        GetCapsulesPerRowDropDown() {
          const { saleSection: e, editModel: t } = this.props,
            a = [
              {
                label: Object(E.f)("#Sale_CapsulesPerRow_1"),
                data: this.ConvertRowConfigToString([1]),
              },
              {
                label: Object(E.f)("#Sale_CapsulesPerRow_2"),
                data: this.ConvertRowConfigToString([2]),
              },
              {
                label: Object(E.f)("#Sale_CapsulesPerRow_3"),
                data: this.ConvertRowConfigToString([3]),
              },
              {
                label: Object(E.f)("#Sale_CapsulesPerRow_4"),
                data: this.ConvertRowConfigToString([4]),
              },
              {
                label: Object(E.f)("#Sale_CapsulesPerRow_Pattern_2343"),
                data: this.ConvertRowConfigToString([2, 3, 4, 3]),
              },
            ];
          "links" === e.section_type
            ? a.push({
                label: Object(E.f)("#Sale_CapsulesPerRow_5"),
                data: this.ConvertRowConfigToString([5]),
              })
            : "items" === e.section_type &&
              Object(N.a)(t.GetClanSteamID(), !1) &&
              a.push(
                {
                  label:
                    "(VO) " + Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t23"),
                  data: this.ConvertRowConfigToString(
                    [3, 2, 3],
                    ["tall", "grid", "grid"]
                  ),
                },
                {
                  label:
                    "(VO) " + Object(E.f)("#Sale_CapsulesPerRow_Pattern_5t"),
                  data: this.ConvertRowConfigToString([5], ["tall"]),
                },
                {
                  label:
                    "(VO) " + Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t"),
                  data: this.ConvertRowConfigToString([3], ["tall"]),
                }
              );
          const n = Object(qe.c)(e),
            i = this.ConvertRowConfigToString(n, e.capsule_style_per_row_array);
          return m.createElement(_.n, {
            rgOptions: a,
            label: Object(E.f)("#Sale_Section_CapsulesPerRow"),
            tooltip: Object(E.f)("#Sale_Section_CapsulesPerRow_Tooltip"),
            strDropDownClassName: G.DropDownScroll,
            selectedOption: i,
            onChange: (t) => this.OnCapsulesPerRowArrayChange(e, t.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        }
        render() {
          var e, t, a;
          const { saleSection: n, bSmartSection: i, editModel: l } = this.props,
            r =
              i &&
              "items" === n.section_type &&
              ("tag" === n.smart_section_type ||
                "category" === n.smart_section_type),
            o = "items" === n.section_type,
            s = "items" === n.section_type || "events" === n.section_type,
            c = "items" === n.section_type,
            d = "library" === n.single_item_style,
            u =
              "items" === n.section_type &&
              (!n.capsules_per_row_array ||
                (1 ==
                  (null === (e = n.capsules_per_row_array) || void 0 === e
                    ? void 0
                    : e.length) &&
                  1 == n.capsules_per_row_array[0])),
            p =
              "items" == n.section_type &&
              (null ===
                (a =
                  null === (t = l.GetEventModel().jsondata) || void 0 === t
                    ? void 0
                    : t.sorting_tiers) || void 0 === a
                ? void 0
                : a.length) > 0;
          return m.createElement(
            m.Fragment,
            null,
            m.createElement(
              "div",
              { className: G.EventEditorTextTitle },
              Object(E.f)("#Sale_Section_GridSettings_Title")
            ),
            m.createElement(
              "div",
              {
                style: { display: "flex" },
                className: G.EventDefaultRowContainer,
              },
              m.createElement(
                "div",
                { className: G.HalfColumn },
                n.show_as_carousel &&
                  m.createElement(_.I, {
                    label: Object(E.f)("#Sale_Section_CarouselRows"),
                    showValue: !0,
                    min: 1,
                    max: 3,
                    value: Object(T.s)(n),
                    onChange: (e) => this.OnCarouselRowsChange(n, e),
                    tooltip: Object(E.f)("#Sale_Section_CarouselRows_Tooltip"),
                  }),
                this.GetCapsulesPerRowDropDown()
              ),
              m.createElement(
                "div",
                { className: G.HalfColumn },
                m.createElement(V, {
                  varName: "use_random_order",
                  onChange: this.OnRandomChange,
                  editModel: l,
                  section: n,
                  textToken: p
                    ? "#Sale_Section_UseRandomOrder_SortingTiers"
                    : "#Sale_Section_UseRandomOrder",
                  ttipToken: i
                    ? "#Sale_Section_UseRandomOrder_smart_hint"
                    : p
                    ? "#Sale_Section_UseRandomOrder_hint"
                    : "Sale_Section_UseRandomOrder_SortingTiers_hint",
                }),
                r &&
                  m.createElement(V, {
                    varName: "random_from_entire_set",
                    editModel: l,
                    section: n,
                    textToken: "#Sale_Section_RandomFromSmartSet",
                    ttipToken: "#Sale_Section_RandomFromSmartSet_hint",
                  }),
                n.use_random_order &&
                  m.createElement(
                    N.b,
                    { clanSteamID: l.GetClanSteamID() },
                    m.createElement(_.A, {
                      mustBeNumeric: !0,
                      rangeMin: 0,
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_Section_CapSectionItemCount"),
                      tooltip: Object(E.f)(
                        "#Sale_Section_CapSectionItemCount_hint"
                      ),
                      onChange: (e) =>
                        this.OnCapItemCountChange(n, e.target.value),
                      value: this.state.capItemCountString,
                    })
                  ),
                m.createElement(V, {
                  varName: "show_as_carousel",
                  editModel: l,
                  section: n,
                  textToken: "#Sale_Section_ShowAsCarousel",
                  ttipToken: "#Sale_Section_ShowAsCarousel_Tooltip",
                }),
                !n.show_as_carousel &&
                  m.createElement(
                    m.Fragment,
                    null,
                    m.createElement(V, {
                      varName: "cap_section_content",
                      onChange: this.OnCapSectionChange,
                      editModel: l,
                      section: n,
                      textToken: "#Sale_Section_CapSectionContent",
                      ttipToken: "#Sale_Section_CapSectionContent_Tooltip",
                    }),
                    n.cap_section_content &&
                      m.createElement(_.A, {
                        mustBeNumeric: !0,
                        rangeMin: 1,
                        label: Object(E.f)(
                          "#Sale_Section_CapSectionContentCount"
                        ),
                        tooltip: Object(E.f)(
                          "#Sale_Section_CapSectionContentCount_hint"
                        ),
                        onChange: (e) =>
                          this.OnCapSectionRowCountChange(n, e.target.value),
                        value: this.state.maxRowsString,
                      })
                  ),
                n.show_as_carousel &&
                  m.createElement(V, {
                    varName: "carousel_auto_advance",
                    valveOnly: !0,
                    editModel: l,
                    section: n,
                    textToken: "#Sale_Section_CarouselAutoAdvance",
                    ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                  }),
                o && m.createElement(Je, { editModel: l, section: n }),
                o && m.createElement(Ye, { editModel: l, section: n }),
                m.createElement(Ke, {
                  editModel: l,
                  section: n,
                  bDisabled: !u,
                }),
                d &&
                  m.createElement(V, {
                    varName: "show_purchase_options",
                    editModel: l,
                    section: n,
                    textToken: "#Sale_Section_ShowPurchaseOptions",
                    ttipToken: "#Sale_Section_ShowPurchaseOptions_ttip",
                  }),
                s &&
                  m.createElement(V, {
                    valveOnly: !0,
                    varName: "hide_prices",
                    editModel: l,
                    section: n,
                    textToken: "#Sale_Section_HidePrices",
                    ttipToken: "#Sale_Section_HidePrices_ttip",
                  }),
                m.createElement(V, {
                  editModel: l,
                  section: n,
                  textToken: "#Sale_Section_HideIfTooFewItems",
                  ttipToken: "#Sale_Section_HideIfTooFewItems_ttip",
                  varName: "hide_section_if_too_few_items",
                  valveOnly: !0,
                }),
                c &&
                  m.createElement(V, {
                    valveOnly: !0,
                    varName: "show_deck_compability_details",
                    editModel: l,
                    section: n,
                    textToken: "#Sale_Section_ShowDeckCompatibility",
                    ttipToken: "#Sale_Section_ShowDeckCompatibility_ttip",
                  }),
                m.createElement(Ze, { editModel: l, saleSection: n })
              )
            )
          );
        }
      };
      function Je(e) {
        return m.createElement(V, {
          varName: "show_as_demos",
          editModel: e.editModel,
          section: e.section,
          textToken: "#Sale_Section_UseDemoLayout",
          ttipToken: "#Sale_Section_UseDemoLayout_tooltip",
        });
      }
      function Ye(e) {
        const { section: t } = e;
        return m.createElement(V, {
          varName: "show_parent_app",
          editModel: e.editModel,
          section: e.section,
          textToken: "#Sale_Section_UseHasParentLayout",
          ttipToken: "#Sale_Section_UseHasParentLayout_tooltip",
        });
      }
      Object(n.b)([h.b], Qe.prototype, "OnRandomChange", null),
        Object(n.b)([h.b], Qe.prototype, "OnCapSectionChange", null),
        Object(n.b)([h.b], Qe.prototype, "OnCapItemCountChange", null),
        Object(n.b)([h.b], Qe.prototype, "OnCarouselRowsChange", null),
        Object(n.b)([h.b], Qe.prototype, "OnCapSectionRowCountChange", null),
        Object(n.b)([h.b], Qe.prototype, "OnCapsulesPerRowArrayChange", null),
        (Qe = Object(n.b)([d.a], Qe));
      const Ze = Object(d.a)((e) => {
          var t;
          const { saleSection: a, editModel: n } = e;
          if ("items" !== a.section_type && "events" !== a.section_type)
            return null;
          let i = !0;
          null === (t = n.GetDynamicRevealSections()) ||
            void 0 === t ||
            t.forEach((e) => {
              e.section_type == a.section_type &&
                e.unique_id != a.unique_id &&
                (i = !1);
            });
          let l = "#Sale_Section_RevealSetting_limit";
          return (
            i &&
              (l =
                "events" === a.section_type
                  ? "#Sale_Section_RevealSetting_event_ttip"
                  : "#Sale_Section_RevealSetting_ttip"),
            "items" === a.section_type &&
              Boolean(a.smart_section_type) &&
              ((i = !1), (l = "#Sale_Section_RevealSetting_limit_smart")),
            n.GetEventModel().jsondata.sale_opt_in_page_name ||
              ((i = !1), (l = "#Sale_Section_RevealSetting_limit_optin_ttip")),
            "events" === a.section_type &&
              Boolean(a.smart_section_type) &&
              "recent_tagged_events" !== a.smart_section_type &&
              ((i = !1), (l = "#Sale_Section_RevealSetting_limit_smart")),
            m.createElement(V, {
              valveOnly: !0,
              varName: "dynamic_reveal",
              editModel: n,
              section: a,
              textToken: "#Sale_Section_RevealSetting",
              ttipToken: l,
              disabled: !i,
            })
          );
        }),
        Ke = Object(d.a)((e) => {
          const { editModel: t, section: a, bDisabled: n } = e;
          if ("items" !== a.section_type) return null;
          const i = [
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_bordered"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_bordered_ttip"
              ),
              data: "bordered",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_library"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_library_ttip"
              ),
              data: "library",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_animated"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_animated_ttip"
              ),
              data: "animated",
            },
          ];
          return m.createElement(_.n, {
            disabled: n,
            rgOptions: i,
            label: Object(E.f)(
              n
                ? "#Sale_Section_SingleItemDisplay_disabled"
                : "#Sale_Section_SingleItemDisplay"
            ),
            tooltip: Object(E.f)(
              n
                ? "#Sale_Section_SingleItemDisplay_disabled_ttip"
                : "#Sale_Section_SingleItemDisplay_ttip"
            ),
            strDropDownClassName: G.DropDownScroll,
            selectedOption: a.single_item_style || T.y,
            onChange: (e) => {
              a.single_item_style !== e.data &&
                ((a.single_item_style = e.data),
                t.SetDirty(r.d.jsondata_sales));
            },
          });
        });
      a("pKbv");
      var Xe = a("UCyf"),
        $e = a("5izx"),
        et = a("BRUS"),
        tt = a("66At");
      let at = class extends m.Component {
        OnShowOnlySaleWhiteListedBroadcasts(e) {
          this.props.editModel.GetEventModel().jsondata
            .sale_only_whitelisted_broadcasts !== e &&
            ((this.props.editModel.GetEventModel().jsondata.sale_only_whitelisted_broadcasts = e),
            this.props.editModel.SetDirty(r.d.jsondata_sales));
        }
        BIsFirstBroadcastSaleSection() {
          for (let e = 0; e < this.props.index; e++) {
            if (
              "broadcast" ==
              this.props.editModel.GetEventModel().GetSaleSections()[e]
                .section_type
            )
              return !1;
          }
          return !0;
        }
        render() {
          const { editModel: e, saleSection: t } = this.props,
            a = m.createElement(
              z.c,
              {
                eventModel: e.GetEventModel(),
                route: z.a.k_eCommunityEditBroadcast,
                className: ve.CrossTabLink,
              },
              Object(E.f)("#Sale_Broadcast_TabLink")
            );
          return e.GetEventModel().BHasBroadcastEnabled()
            ? this.BIsFirstBroadcastSaleSection()
              ? m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(
                    "div",
                    { className: G.InputBorder },
                    m.createElement(_.M, {
                      onChange: this.OnShowOnlySaleWhiteListedBroadcasts,
                      label: Object(E.f)(
                        "#Sale_BroadcastOnlyWhiteListedInSale"
                      ),
                      tooltip: Object(E.f)(
                        "#Sale_BroadcastOnlyWhiteListedInSale_ttip"
                      ),
                      checked: e.GetEventModel().jsondata
                        .sale_only_whitelisted_broadcasts,
                    })
                  ),
                  a
                )
              : m.createElement(
                  "div",
                  { className: ve.CrossTabWarning },
                  Object(E.f)("#Sale_ShowingBroadcastElsewhere")
                )
            : m.createElement(
                m.Fragment,
                null,
                a,
                m.createElement(
                  "div",
                  { className: ve.CrossTabWarning },
                  Object(E.f)("#Sale_Broadcast_Disabled"),
                  m.createElement(ee.b, {
                    tooltip: Object(E.f)("#Sale_Broadcast_Disabled_hint"),
                  })
                )
              );
        }
      };
      Object(n.b)(
        [h.b],
        at.prototype,
        "OnShowOnlySaleWhiteListedBroadcasts",
        null
      ),
        (at = Object(n.b)([d.a], at));
      let nt = class extends m.Component {
        constructor() {
          super(...arguments),
            (this.m_currentRequest = 0),
            (this.m_cancelSignal = l.a.CancelToken.source());
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("CuratorSaleSection component unmounted"),
            window.clearTimeout(this.m_currentRequest);
        }
        SetCurator(e) {
          this.props.saleSection.curator_clan_id != e.GetClanAccountID() &&
            ((this.props.saleSection.curator_clan_id = e.GetClanAccountID()),
            this.props.editModel.SetDirty(r.d.jsondata_sales));
        }
        UpdateCuratorSuggestions(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = e.target.value;
            t &&
              0 != t.trim().length &&
              (window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () =>
                  Object(n.a)(this, void 0, void 0, function* () {
                    let e = yield q.a.SearchCreatorHomeStore(
                      t,
                      !1,
                      this.m_cancelSignal
                    );
                    this.m_searchResultsMenu = Object(y.a)(
                      m.createElement(
                        J.c,
                        { className: ve.SearchResults },
                        e.map((e) =>
                          m.createElement(
                            J.d,
                            {
                              key: "curatorresult" + e.GetClanAccountID(),
                              onSelected: () => this.SetCurator(e),
                            },
                            m.createElement(
                              "div",
                              {
                                style: {
                                  display: "flex",
                                  alignItems: "center",
                                },
                              },
                              m.createElement(
                                "div",
                                { className: $.a.GameImageContainer },
                                m.createElement("img", {
                                  src: e.GetAvatarURLFullSize(),
                                  className: $.a.AvatarImage,
                                })
                              ),
                              Object(Y.b)(e.GetName())
                            )
                          )
                        )
                      ),
                      this.m_refInput.element,
                      {
                        bOverlapHorizontal: !0,
                        bMatchWidth: !0,
                        bFitToWindow: !0,
                        bDisablePopTop: !0,
                      }
                    );
                  }),
                300
              )));
          });
        }
        render() {
          const { saleSection: e } = this.props;
          return m.createElement(
            "div",
            null,
            m.createElement(
              "div",
              { className: ve.SaleImportURL },
              m.createElement(_.A, {
                type: "text",
                label: Object(E.f)("#Sale_SearchCurator"),
                onChange: this.UpdateCuratorSuggestions,
                onBlur: () => {
                  setTimeout(
                    () =>
                      this.m_searchResultsMenu &&
                      this.m_searchResultsMenu.Hide(),
                    200
                  );
                },
                ref: (e) => (this.m_refInput = e),
                tooltip: Object(E.f)("#Sale_SearchCurator_ttip"),
              })
            ),
            Boolean(e.curator_clan_id) &&
              m.createElement(et.a, {
                creatorID: {
                  name: null,
                  clan_account_id: e.curator_clan_id,
                  type: "developer",
                },
                bShowTagline: !0,
                bHideCreatorType: !0,
              })
          );
        }
      };
      Object(n.b)([h.b], nt.prototype, "SetCurator", null),
        Object(n.b)([h.b], nt.prototype, "UpdateCuratorSuggestions", null),
        (nt = Object(n.b)([d.a], nt));
      const it = Object(d.a)((e) => {
          const { editModel: t, index: a } = e,
            n = t.GetEventModel();
          for (let e = 0; e < a; e++)
            if ("event_description" == n.GetSaleSections()[e].section_type)
              return m.createElement(
                "div",
                { className: ve.CrossTabWarning },
                Object(E.f)("#Sale_UsingEventBodyElsewhere")
              );
          return m.createElement(
            z.c,
            {
              eventModel: n,
              route: z.a.k_eCommunityEdit,
              className: ve.CrossTabLink,
            },
            Object(E.f)("#Sale_EventDescriptionTabLink")
          );
        }),
        lt = Object(d.a)((e) => {
          var t;
          const { editModel: a, index: n } = e,
            i = a.GetEventModel(),
            o = i.GetSaleSections()[n],
            [s, c] = m.useState(!0);
          if (
            (m.useEffect(() => {
              let e = null;
              if (s)
                if (((e = l.a.CancelToken.source()), o.featured_curator_list)) {
                  const t = new Array();
                  o.featured_curator_list.forEach((a) => {
                    const n = j.a.InitFromClanID(a.clanAccountID);
                    t.push(Xe.a.Get().LoadListDetails(n, a.listID, e));
                  }),
                    Promise.all(t).then(() => c(!1));
                } else (o.featured_curator_list = []), c(!1);
              return () =>
                null == e
                  ? void 0
                  : e.cancel("CuratorRecommendationWidgetEditor: unmounting");
            }, [s, o]),
            s)
          )
            return m.createElement(k.a, {
              size: "medium",
              string: Object(E.f)("#Loading"),
            });
          let d = !1;
          for (let e = 0; e < n; e++)
            if (
              "curator_recommendation" == i.GetSaleSections()[e].section_type
            ) {
              d = !0;
              break;
            }
          return m.createElement(
            "div",
            null,
            m.createElement(
              "div",
              null,
              Object(E.f)("#Sale_CuratorRecommendation_desc")
            ),
            m.createElement("br", null),
            m.createElement(w.a, {
              strDescription: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime"
              ),
              strDescToolTip: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime_ttip"
              ),
              nEarliestTime: a.GetEventStartTime(),
              nLatestTime: a.GetEventEndTime(),
              fnGetTimeToUpdate: () =>
                o.featured_curator_list_rtime_start || a.GetEventStartTime(),
              fnSetTimeToUpdate: (e) => {
                (e = ue(e)),
                  o.featured_curator_list_rtime_start != e &&
                    ((o.featured_curator_list_rtime_start = e),
                    a.SetDirty(r.d.jsondata_sales));
              },
              fnIsValidDateTime: () => !0,
              bShowTimeZone: !0,
            }),
            m.createElement(
              "div",
              { className: G.EventEditorTextTitle },
              Object(E.f)("#Sale_CuratorRecommendation_FeaturedList"),
              m.createElement(ee.b, {
                tooltip: Object(E.f)(
                  "#Sale_CuratorRecommendation_FeaturedList_ttip"
                ),
              })
            ),
            m.createElement(M.a, {
              items: o.featured_curator_list,
              onDelete: (e) => {
                o.featured_curator_list.splice(e, 1),
                  a.SetDirty(r.d.jsondata_sales);
              },
              onReorder: () => a.SetDirty(r.d.jsondata_sales),
              render: (e) => m.createElement(rt, { tuple: e }),
            }),
            m.createElement(
              _.f,
              {
                onClick: (t) => {
                  Object(A.d)(
                    m.createElement(
                      ot,
                      Object.assign({}, e, { saleSection: o })
                    ),
                    Object(F.o)(t)
                  );
                },
              },
              Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
            ),
            Boolean(
              (null === (t = o.featured_curator_list) || void 0 === t
                ? void 0
                : t.length) >= 2
            ) &&
              m.createElement(V, {
                varName: "use_random_order",
                editModel: a,
                section: o,
                textToken: "#Sale_Section_FeaturedCurator_UseRandomOrder",
                ttipToken: "#Sale_Section_FeaturedCurator_UseRandomOrder_hint",
              }),
            d &&
              m.createElement(
                "div",
                { className: ve.CrossTabWarning },
                Object(E.f)("#Sale_UsingCuratorRecommendationElsewhere")
              )
          );
        });
      const rt = Object(d.a)((e) => {
          if (
            (function (e) {
              const t = e;
              return (
                "object" == typeof t &&
                "number" == typeof t.clanAccountID &&
                "string" == typeof t.listID
              );
            })(e.tuple)
          ) {
            const t = Xe.a.Get().GetListDetails(e.tuple.listID);
            return t
              ? m.createElement("div", null, t.title)
              : m.createElement(k.a, {
                  size: "small",
                  string: Object(E.f)("#Loading"),
                });
          }
          return m.createElement("div", null, Object(E.f)("#Error"));
        }),
        ot = Object(d.a)((e) => {
          const { saleSection: t, editModel: a } = e,
            n = a.GetClanSteamID(),
            i = a.GetGID(),
            [o, s] = m.useState(!0),
            [c, d] = m.useState(null),
            u = () => e.closeModal && e.closeModal(),
            p =
              a.GetEventModel().BIsVisibleEvent() &&
              a.GetEventStartTime() < $e.a.GetTimeNowWithOverride();
          m.useEffect(() => {
            let e = null;
            return (
              p
                ? ((e = l.a.CancelToken.source()),
                  Xe.a
                    .Get()
                    .LoadAllSaleCurationLists(n, i, e)
                    .then((e) => {
                      if ((null == e ? void 0 : e.length) > 0) {
                        const t = new Array();
                        e.forEach((e) => {
                          const a = Xe.a
                              .Get()
                              .GetClanAccountFromListID(e.listid),
                            n = j.a.InitFromClanID(a);
                          t.push(W.a.LoadClanInfoForClanSteamID(n));
                        }),
                          Promise.all(t).then(() => s(!1));
                      }
                    }))
                : s(!1),
              () =>
                null == e
                  ? void 0
                  : e.cancel("FeatureCuratorListDialog: unmounting")
            );
          }, [p, n, i]);
          const g = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          };
          let h = new Array();
          Xe.a
            .Get()
            .GetAllSaleCurationLists(a.GetGID())
            .forEach((e) => {
              if (
                -1 ==
                t.featured_curator_list.findIndex((t) => t.listID == e.listid)
              ) {
                const t = Xe.a.Get().GetClanAccountFromListID(e.listid);
                h.push({ clanAccountID: t, list: e });
              }
            });
          const v = h.map((e) => {
            const t = W.a.GetClanInfoByClanAccountID(e.clanAccountID);
            let a = t ? t.group_name : "GroupID " + e.clanAccountID;
            return (
              (a += ": " + e.list.title), { label: a, value: e.list.listid }
            );
          });
          return m.createElement(
            we.a,
            null,
            m.createElement(
              b.i,
              { onEscKeypress: u },
              m.createElement(
                _.h,
                null,
                m.createElement(
                  _.z,
                  null,
                  Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
                ),
                m.createElement(
                  _.d,
                  null,
                  m.createElement(
                    _.e,
                    null,
                    m.createElement(
                      "div",
                      null,
                      Object(E.f)("#Sale_CuratorRecommendation_ChooseDesc")
                    ),
                    p
                      ? m.createElement(
                          "div",
                          { className: tt.SelectArea },
                          o
                            ? m.createElement(k.a, {
                                size: "medium",
                                string: Object(E.f)("#Loading"),
                              })
                            : m.createElement(ye.a, {
                                styles: g,
                                className: tt.dropDown,
                                isSearchable: !0,
                                isMulti: !1,
                                options: v,
                                defaultMenuIsOpen: !1,
                                value: c,
                                onChange: (e) => d(e),
                              })
                        )
                      : m.createElement(
                          "div",
                          { className: tt.DisplayWarning },
                          Object(E.f)(
                            "#Sale_CuratorRecommendation_ChooseInvalid"
                          )
                        )
                  )
                ),
                m.createElement(
                  _.r,
                  null,
                  m.createElement(_.E, {
                    onCancel: u,
                    bOKDisabled: null == c,
                    onOK: () => {
                      const e = c.value;
                      t.featured_curator_list.push({
                        clanAccountID: Xe.a.Get().GetClanAccountFromListID(e),
                        listID: e,
                      }),
                        a.SetDirty(r.d.jsondata_sales),
                        u();
                    },
                  })
                )
              )
            )
          );
        });
      var st = a("ZC8J"),
        ct = a("CtwA");
      function dt(e) {
        return m.createElement(
          "div",
          null,
          m.createElement(pt, Object.assign({}, e)),
          m.createElement("div", null, Object(E.f)("#Sale_ItemDef_Selected")),
          m.createElement(mt, Object.assign({}, e))
        );
      }
      function mt(e) {
        const t = Object(H.d)(() => e.saleSection.itemdefs);
        return m.createElement(M.a, {
          items: t || [],
          onDelete: (t) => {
            e.saleSection.itemdefs.splice(t, 1),
              e.editModel.SetDirty(r.d.jsondata_sales);
          },
          onReorder: () => e.editModel.SetDirty(r.d.jsondata_sales),
          render: (t) =>
            m.createElement(ut, {
              key: "row" + t.nAppID + "_" + t.nItemDefID,
              itemDefSetting: t,
              editModel: e.editModel,
            }),
        });
      }
      function ut(e) {
        var t;
        const { itemDefSetting: a, editModel: n } = e,
          i = Object(st.a)(a.nAppID, a.nItemDefID);
        let l = 0;
        null === (t = a.localized_itemdef_capsule) ||
          void 0 === t ||
          t.forEach((e) => {
            l += e ? 1 : 0;
          });
        return i
          ? m.createElement(
              "div",
              { className: G.FlexRowContainer },
              m.createElement(
                "div",
                { style: { backgroundColor: i.strBackgroundColor } },
                m.createElement("img", {
                  className: ct.itemimg,
                  src: null == i ? void 0 : i.strImgURL,
                })
              ),
              m.createElement(
                "div",
                null,
                null == i ? void 0 : i.strName,
                " - (",
                a.nAppID,
                "/",
                a.nItemDefID,
                ")"
              ),
              m.createElement(_.A, {
                type: "number",
                max: "100",
                min: "0",
                label: Object(E.f)("#Sale_ItemDef_Quantity"),
                tooltip: Object(E.f)("#Sale_ItemDef_Quantity_ttip"),
                value: a.max_quantity || 0,
                onChange: (e) => {
                  var t;
                  const i = Number.parseInt(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "0"
                  );
                  i != a.max_quantity &&
                    ((a.max_quantity = i), n.SetDirty(r.d.jsondata_sales));
                },
              }),
              m.createElement(
                B.a,
                { toolTipContent: Object(E.f)("#Sale_ItemDef_AltImage") },
                m.createElement(
                  _.G,
                  {
                    onClick: (t) =>
                      ((t, a) => {
                        t.preventDefault(),
                          t.stopPropagation(),
                          Object(A.d)(
                            m.createElement(f, {
                              loc_images: a.localized_itemdef_capsule,
                              fnSetImage: (e, t) => {
                                (a.localized_itemdef_capsule = Object(L.e)(
                                  a.localized_itemdef_capsule || [],
                                  30,
                                  null
                                )),
                                  (a.localized_itemdef_capsule[e] = t);
                              },
                              editModel: e.editModel,
                              artworkType: "link_capsule",
                            }),
                            Object(F.o)(t)
                          );
                      })(t, a),
                  },
                  l > 0
                    ? Object(E.l)("#selectimage_managing_n_existing_title", l)
                    : Object(E.f)("#selectimage_uploading_title")
                )
              ),
              m.createElement(
                "a",
                {
                  href:
                    P.c.STORE_BASE_URL +
                    `itemstore/${a.nAppID}/detail/${a.nItemDefID}`,
                },
                Object(E.f)("#EventDisplay_View")
              )
            )
          : m.createElement(k.a, {
              size: "small",
              position: "center",
              string: Object(E.f)("#Loading"),
            });
      }
      function pt(e) {
        const [t, a] = m.useState(730),
          [n, i] = m.useState(0);
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            { className: G.FlexRowContainer },
            m.createElement(_.A, {
              type: "number",
              min: "0",
              label: "AppID",
              value: t,
              onChange: (e) => {
                var t;
                return a(
                  Number.parseInt(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "0"
                  )
                );
              },
            }),
            m.createElement(
              "a",
              { href: P.c.STORE_BASE_URL + `itemstore/${t}` },
              Object(E.f)("#Sale_ItemDef_ItemStore")
            )
          ),
          m.createElement(_.A, {
            type: "number",
            min: "0",
            label: "Item Def ID",
            value: n,
            onChange: (e) => {
              var t;
              return i(
                Number.parseInt(
                  (null === (t = null == e ? void 0 : e.currentTarget) ||
                  void 0 === t
                    ? void 0
                    : t.value) || "0"
                )
              );
            },
          }),
          m.createElement(
            _.G,
            {
              disabled: 0 == t || 0 == n,
              onClick: () => {
                e.saleSection.itemdefs || (e.saleSection.itemdefs = []),
                  e.saleSection.itemdefs.push({ nAppID: t, nItemDefID: n }),
                  e.editModel.SetDirty(r.d.jsondata_sales);
              },
            },
            Object(E.f)("#Sale_ItemDef_Add")
          )
        );
      }
      var _t = a("GOhU"),
        gt = a("oqmg");
      function bt(e, t) {
        return e.disable_background
          ? { background: "transparent" }
          : Object(Ae.e)(e, t);
      }
      function Et(e, t) {
        for (const a of e.GetSaleSections()) {
          if (a === t) break;
          if ("tabs" === a.section_type) return a;
        }
        return null;
      }
      function ht(e, t) {
        const a = Et(e, t);
        if (!a) return;
        let n = new Set([...(t.show_on_tabs || [])]);
        const i = a.tabs.map((a) => {
          var i;
          const l =
              (null === (i = t.capsules) || void 0 === i ? void 0 : i.length) >
              0
                ? (function (e, t) {
                    const a = new Set();
                    e.forEach((e) => a.add(Number(e.id)));
                    let n = 0;
                    for (const e of t) a.has(Number(e.id)) && n++;
                    return n;
                  })(t.capsules, a.capsules)
                : void 0,
            r = void 0 === l ? "" : " (" + l + ")";
          return m.createElement(_.g, {
            key: a.unique_id,
            className: O.ShowOnTabCheckBox,
            onChange: (e) => {
              e ? n.add(a.unique_id) : n.delete(a.unique_id);
            },
            label: Object(Ae.f)(a, e.GetCurEditLanguage()) + r,
            checked: n.has(a.unique_id),
          });
        });
        Object(A.d)(
          m.createElement(
            b.e,
            {
              strTitle: Object(E.f)("#Sale_Section_ShowOnTabs_DialogTitle"),
              strDescription: Object(E.f)(
                "#Sale_Section_ShowOnTabs_DialogDesc"
              ),
              onOK: () => {
                (t.show_on_tabs = Array.from(n.keys())),
                  e.SetDirty(r.d.jsondata_sales);
              },
            },
            m.createElement("div", { className: O.ShowOnTabCheckBoxCtn }, i)
          ),
          window
        );
      }
      let vt = class extends m.Component {
        GetShowOnTabsList(e) {
          const { saleSection: t, editLanguage: a } = this.props;
          if (!e || !t.show_on_tabs || 0 === t.show_on_tabs.length)
            return Object(E.f)("#Sale_Section_ShowOnTabs_All");
          let n = [];
          for (const i of t.show_on_tabs) {
            const t = e.tabs ? e.tabs.find((e) => e.unique_id === i) : null;
            t && n.push(Object(Ae.f)(t, a));
          }
          return 0 === n.length
            ? Object(E.f)("#Sale_Section_ShowOnTabs_All")
            : n.join(", ");
        }
        OnEditTabSections() {
          const { saleSection: e, editModel: t } = this.props;
          ht(t, e);
        }
        render() {
          const e = Et(this.props.editModel, this.props.saleSection);
          return e && e.tabs && 0 !== e.tabs.length
            ? m.createElement(
                "div",
                { className: ve.EditorCtn },
                m.createElement(
                  ee.c,
                  {
                    title: Object(E.f)("#Sale_Section_TabSettings_Title"),
                    tooltip: Object(E.f)(
                      "#Sale_Section_TabSettings_Title_ttip"
                    ),
                    getMinimized: this.props.getMinimized,
                    toggleMinimized: this.props.toggleMinimized,
                  },
                  m.createElement(V, {
                    varName: "diable_tab_id_filtering",
                    editModel: this.props.editModel,
                    section: this.props.saleSection,
                    textToken: "#Sale_Section_TabSettings_DisableIDFiltering",
                    ttipToken:
                      "#Sale_Section_TabSettings_DisableIDFiltering_ttip",
                  }),
                  m.createElement(
                    "div",
                    { className: G.EventDefaultRowContainer },
                    m.createElement(
                      "div",
                      {
                        className: Object(R.a)(
                          G.EventEditorTextTitle,
                          O.ShowOnTabsLabel
                        ),
                      },
                      Object(E.f)("#Sale_Section_ShowOnTabs"),
                      this.GetShowOnTabsList(e)
                    ),
                    m.createElement(
                      "div",
                      { className: O.ShowOnTabsButton },
                      m.createElement(
                        _.G,
                        { onClick: this.OnEditTabSections },
                        Object(E.f)("#Sale_Section_ShowOnTabs_Edit")
                      )
                    )
                  )
                )
              )
            : null;
        }
      };
      Object(n.b)([h.b], vt.prototype, "OnEditTabSections", null),
        (vt = Object(n.b)([d.a], vt));
      const St = Object(d.a)((e) => {
        const { saleSection: t, editModel: a } = e;
        if (!t.label_link) return null;
        return m.createElement(
          N.b,
          { clanSteamID: a.GetClanSteamID() },
          m.createElement(_.M, {
            onChange: (e) => {
              (t.label_link_style = e ? "browseall" : void 0),
                a.SetDirty(r.d.jsondata_sales);
            },
            label: "(VO) " + Object(E.f)("#Sale_Section_TitleLink_BrowseAll"),
            tooltip: Object(E.f)("#Sale_Section_TitleLink_BrowseAll_ttip"),
            checked: "browseall" === t.label_link_style,
          })
        );
      });
      function ft(e, t, a, n, i) {
        const l = Object(Ae.d)(e, t, a.GetClanSteamID().GetAccountID(), i);
        if (l) return l;
        let r = Object(E.f)("#Sale_Section_Header", n + 1);
        const o = "#Sale_Section_Type_" + e.section_type,
          s = Object(E.f)(o);
        return s !== o && (r = `${r} (${s})`), r;
      }
      let Ot = class extends m.Component {
        constructor() {
          super(...arguments), (this.state = { bIsExiting: !1 });
        }
        componentDidMount() {
          var e;
          const t = new Set(),
            a = new Set(),
            n = new Set();
          null === (e = this.props.saleSection.capsules) ||
            void 0 === e ||
            e.forEach((e) => {
              e &&
                ("bundle" === e.type
                  ? a.add(Number(e.id))
                  : "sub" === e.type
                  ? n.add(Number(e.id))
                  : t.add(Number(e.id)));
            }),
            De.a.Get().QueueMultipleAppRequests(Array.from(t), je.e),
            De.a.Get().QueueMultiplePackageRequests(Array.from(n), je.e),
            De.a.Get().QueueMultipleBundleRequests(Array.from(a), je.e),
            I.b.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
              null,
              this.props.saleSection.events
                .filter((e) => Boolean(null == e ? void 0 : e.announcement_gid))
                .map((e) => e.announcement_gid)
            );
        }
        RemoveSection(e) {
          Object(A.d)(
            m.createElement(b.e, {
              strTitle: Object(E.f)("#Button_Remove"),
              strDescription: Object(E.f)("#Sale_RemoveSectionConfirmation"),
              onOK: () => this.DoRemoveSection(e),
            }),
            window
          );
        }
        DoRemoveSection(e) {
          this.setState({ bIsExiting: !0 }),
            window.setTimeout(() => {
              this.props.editModel
                .GetEventModel()
                .jsondata.sale_sections.splice(e, 1),
                this.props.editModel.SetDirty(r.d.jsondata_sales);
            }, 500);
        }
        OnTitleChange(e) {
          (this.props.saleSection.default_label = e),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnTitleLinkChange(e) {
          (this.props.saleSection.label_link = e.target.value),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnSetCustomTitle(e) {
          const { saleSection: t, editLanguage: a, editModel: n } = this.props;
          (t.localized_label = E.a.Set(t.localized_label || [], a, e)),
            n.SetDirty(r.d.jsondata_sales);
        }
        OnClearCustomTitle() {
          const { saleSection: e, editLanguage: t, editModel: a } = this.props;
          (e.localized_label = E.a.Set(e.localized_label || [], t, null)),
            a.SetDirty(r.d.jsondata_sales);
        }
        OnShowTitleImageUpload(e, t) {
          e.preventDefault(),
            e.stopPropagation(),
            Object(A.d)(
              m.createElement(f, {
                loc_images: t.localized_label_image,
                fnSetImage: (e, a) => {
                  t.localized_label_image = E.a.Set(
                    t.localized_label_image || [],
                    e,
                    a
                  );
                },
                editModel: this.props.editModel,
                artworkType: "sale_section_title",
              }),
              window
            );
        }
        OnSaleSectionTypeChange(e) {
          r.f.SetSaleSectionType(this.props.saleSection, e.data),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        MoveSection(e) {
          const t = e ? 1 : -1;
          Object(L.d)(
            this.props.editModel.GetEventModel().jsondata.sale_sections,
            this.props.index,
            Object(Re.a)(
              this.props.index + t,
              0,
              this.props.editModel.GetEventModel().jsondata.sale_sections
                .length - 1
            )
          ),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        GetMinimizedTag(e) {
          let t = "SaleSection_" + this.props.saleSection.unique_id;
          return e && (t += "_" + e), t;
        }
        GetMinimized(e, t) {
          return Object(o.a)(this.GetMinimizedTag(e), t);
        }
        ToggleMinimized(e, t) {
          Object(o.d)(this.GetMinimizedTag(e), t);
        }
        OnChangeContentHubOverrideKey(e) {
          (this.props.saleSection.contenthub_override_section = e.target.value.trim()),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        render() {
          const { editModel: e, saleSection: t, editLanguage: a } = this.props,
            n = [
              {
                label: Object(E.f)("#Sale_NoChoiceMade"),
                data: "unselected_empty",
              },
              {
                label: Object(E.f)("#Sale_Items"),
                data: "items",
                tooltip: Object(E.f)("#Sale_Items_ttip"),
              },
              {
                label: Object(E.f)("#Sale_TextSection"),
                data: "text_section",
                tooltip: Object(E.f)("#Sale_TextSection_ttip"),
              },
              {
                label: Object(E.f)("#Sale_Events"),
                data: "events",
                tooltip: Object(E.f)("#Sale_Events_ttip"),
              },
              {
                label: Object(E.f)("#Sale_CuratorSection"),
                data: "curator",
                tooltip: Object(E.f)("#Sale_CuratorSection_ttip"),
              },
              {
                label: Object(E.f)("#Sale_BroadcastPlayerSection"),
                data: "broadcast",
                tooltip: Object(E.f)("#Sale_BroadcastPlayerSection_ttip"),
              },
              {
                label: Object(E.f)("#Sale_SectionType_EventSchedule"),
                data: "event_schedule",
                tooltip: Object(E.f)("#Sale_SectionType_EventSchedule_ttip"),
              },
              {
                label: Object(E.f)("#Sale_Tabs"),
                data: "tabs",
                tooltip: Object(E.f)("#Sale_Tabs_ttip"),
              },
              {
                label: Object(E.f)("#Sale_TabButtons"),
                data: "tab_buttons",
                tooltip: Object(E.f)("#Sale_TabButtons_ttip"),
              },
              {
                label: Object(E.f)("#Sale_Links"),
                data: "links",
                tooltip: Object(E.f)("#Sale_Links_ttip"),
              },
            ];
          Object(N.a)(e.GetClanSteamID()) &&
            (n.push({
              label: "(VO) " + Object(E.f)("#Sale_CuratorRecommendation"),
              data: "curator_recommendation",
              tooltip: Object(E.f)("#Sale_CuratorRecommendation_ttip"),
            }),
            n.push({
              label: "(VO) " + Object(E.f)("#Sale_AdventCalendarDoorSection"),
              data: "doors",
            }),
            n.push({
              label: "(VO) " + Object(E.f)("#Sale_VOInternalSection"),
              data: "vo_internal",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_VOInternalSection_SaleItemBrowser"),
              data: "sale_item_browser",
            }),
            n.push({
              label: "(VO) " + Object(E.f)("#Sale_SectionType_ContentHubTitle"),
              data: "contenthubtitle",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_SectionType_ContentHubMainCarousel"),
              data: "contenthubmaincarousel",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_SectionType_ContentHubSectionList"),
              data: "contenthubsections",
            }),
            n.push({
              label: "(VO) Content Hub Specials",
              data: "contenthubspecials",
            }),
            n.push({
              label: "(VO) Content Hub Partner Takeover",
              data: "contenthubpartnertakeover",
            }),
            n.push({
              label: "(VO) Content Hub Broadcasts",
              data: "contenthubbroadcasts",
            }),
            n.push({
              label: "(VO) " + Object(E.f)("#Sale_SectionType_ItemDef"),
              data: "itemdef",
              tooltip: Object(E.f)("#Sale_SectionType_ItemDef_ttip"),
            }));
          const {
              sale_font: i,
              sale_section_font_size: l,
              sale_section_disable_capitalize: r,
            } = e.GetEventModel().jsondata,
            o = Object(Ae.c)(t),
            s = this.props.saleSection.section_type || n[0].data,
            c = Boolean(E.a.GetWithFallback(t.localized_label, a)),
            d =
              c ||
              ge.a.IsValidTitleOption(this.props.saleSection.default_label);
          let u = 0;
          t.localized_label_image &&
            t.localized_label_image.forEach((e) => {
              u += e ? 1 : 0;
            });
          const p = this.GetMinimized("", !1),
            g =
              "event_schedule" !== t.section_type &&
              "broadcast" !== t.section_type;
          return m.createElement(
            "div",
            {
              id: "SaleSection_" + t.unique_id,
              className: Object(R.a)(ve.SaleSection, ve.InEditor),
              style: Object.assign(
                Object.assign({}, bt(t, e.GetEventModel())),
                {
                  opacity: this.state.bIsExiting ? 0 : 1,
                  transition: "opacity 500ms",
                }
              ),
            },
            m.createElement(
              "div",
              {
                className: G.SaleSectionHeader,
                onDoubleClick: () => this.ToggleMinimized("", !1),
                style: {
                  fontFamily: i,
                  fontSize: l,
                  textTransform: r ? "initial" : null,
                  color: this.props.saleSection.label_color,
                },
              },
              ft(t, this.props.editLanguage, e, this.props.index, !1),
              m.createElement(
                "div",
                { className: Object(R.a)(G.CloseSectionTools) },
                m.createElement(
                  "div",
                  { className: G.FlexRowContainer },
                  m.createElement(
                    _.f,
                    {
                      "data-tooltip-text": Object(E.f)(
                        "#Sale_Section_ReorderUp_Title"
                      ),
                      disabled: 0 == this.props.index,
                      onClick: () => this.MoveSection(!1),
                    },
                    m.createElement(Le.c, { angle: 0 })
                  ),
                  m.createElement(
                    _.f,
                    {
                      "data-tooltip-text": Object(E.f)(
                        "#Sale_Section_ReorderDown_Title"
                      ),
                      disabled: this.props.index + 1 == e.GetSaleSectionCount(),
                      onClick: () => this.MoveSection(!0),
                    },
                    m.createElement(Le.c, { angle: 180 })
                  ),
                  m.createElement(ee.a, {
                    bIsMinimized: p,
                    fnToggleMinimize: () => this.ToggleMinimized("", !1),
                  }),
                  m.createElement(
                    _.f,
                    {
                      "data-tooltip-text": Object(E.f)("#Button_Remove"),
                      onClick: () => this.RemoveSection(this.props.index),
                    },
                    m.createElement(Le.Ab, null)
                  )
                )
              )
            ),
            p
              ? m.createElement(Ct, {
                  editModel: e,
                  section: t,
                  tabSection: e.GetTabSaleSection(),
                })
              : m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(
                    Ne.a,
                    { placeholderHeight: "300px", className: ve.EditorCtn },
                    m.createElement(
                      "div",
                      { className: ve.SectionTypePicker },
                      m.createElement(
                        "div",
                        { className: ve.SectionTypePrompt },
                        " ",
                        Object(E.f)("#Sale_SectionContents"),
                        " "
                      ),
                      m.createElement(_.n, {
                        rgOptions: n,
                        strDropDownClassName: G.DropDownScroll,
                        selectedOption: s,
                        onChange: this.OnSaleSectionTypeChange,
                        contextMenuPositionOptions: { bDisablePopTop: !0 },
                      }),
                      m.createElement(ee.b, {
                        tooltip: Object(E.f)("#Sale_SectionTypeTTip_" + s),
                      })
                    )
                  ),
                  Boolean("unselected_empty" !== s) &&
                    m.createElement(
                      m.Fragment,
                      null,
                      m.createElement(
                        Ne.a,
                        { placeholderHeight: "300px" },
                        null === o &&
                          m.createElement(
                            "div",
                            { className: ve.EditorCtn },
                            m.createElement(
                              "div",
                              { className: O.SaleSectionTitleHeader },
                              m.createElement(
                                "div",
                                {
                                  className: Object(R.a)(
                                    G.EventEditorTextTitle,
                                    "EventEditorTextTitle"
                                  ),
                                },
                                Object(E.f)("#Sale_Section_SectionTitle_Title"),
                                " ",
                                m.createElement(ee.b, {
                                  tooltip: Object(E.f)(
                                    "#Sale_Section_SectionTitle_Title_ttip"
                                  ),
                                })
                              ),
                              m.createElement(ee.a, {
                                bIsMinimized: this.GetMinimized("title", !1),
                                fnToggleMinimize: () =>
                                  this.ToggleMinimized("title", !1),
                              })
                            ),
                            !this.GetMinimized("title", !1) &&
                              m.createElement(
                                "div",
                                {
                                  className: Object(R.a)(
                                    G.FlexColumnContainer,
                                    G.EventDefaultRowContainer
                                  ),
                                },
                                m.createElement(ge.a, {
                                  default_label: t.default_label,
                                  localized_label: t.localized_label,
                                  editLanguage: this.props.editLanguage,
                                  onClearCustomTitle: this.OnClearCustomTitle,
                                  onSetCustomTitle: this.OnSetCustomTitle,
                                  onSetDefaultLabel: this.OnTitleChange,
                                }),
                                c &&
                                  m.createElement(
                                    N.b,
                                    {
                                      clanSteamID: e.GetClanSteamID(),
                                      className: ve.CustomImageTitle,
                                    },
                                    m.createElement(
                                      "span",
                                      { className: ve.PromptText },
                                      Object(E.f)("#Sale_option_title_image")
                                    ),
                                    m.createElement(
                                      "div",
                                      { className: ve.UploadImageButton },
                                      m.createElement(
                                        _.G,
                                        {
                                          onClick: (e) =>
                                            this.OnShowTitleImageUpload(e, t),
                                        },
                                        u > 0
                                          ? Object(E.l)(
                                              "#selectimage_managing_n_existing_title",
                                              u
                                            )
                                          : Object(E.f)(
                                              "#selectimage_uploading_title"
                                            )
                                      )
                                    )
                                  ),
                                d &&
                                  m.createElement(
                                    N.b,
                                    { clanSteamID: e.GetClanSteamID() },
                                    m.createElement(_.A, {
                                      label: Object(E.f)("#Sale_LinkURL"),
                                      tooltip: Object(E.f)(
                                        "#Sale_LinkURL_title_hint"
                                      ),
                                      placeholder: Object(E.f)("#Sale_LinkURL"),
                                      onChange: this.OnTitleLinkChange,
                                      value: this.props.saleSection.label_link,
                                    }),
                                    m.createElement(St, {
                                      saleSection: t,
                                      editModel: e,
                                    })
                                  )
                              )
                          ),
                        g &&
                          m.createElement(
                            "div",
                            { className: ve.EditorCtn },
                            m.createElement(fe, Object.assign({}, this.props))
                          ),
                        m.createElement(vt, {
                          saleSection: t,
                          editModel: e,
                          editLanguage: a,
                          getMinimized: () =>
                            this.GetMinimized("tabsettings", !0),
                          toggleMinimized: () =>
                            this.ToggleMinimized("tabsettings", !0),
                        }),
                        m.createElement(
                          N.b,
                          {
                            clanSteamID: e.GetClanSteamID(),
                            requireAdmin: !0,
                            className: ve.SectionOverrideCtn,
                          },
                          m.createElement(_.A, {
                            value: t.contenthub_override_section,
                            onChange: this.OnChangeContentHubOverrideKey,
                            label:
                              "Section override ID (for content hubs only)",
                            tooltip:
                              'Set this to any string value. When rendering a content hub, if this sale event is a time-bound override, then this section will be shown in place of the section with the same override ID in the "normal" content hub sale page.',
                          })
                        )
                      ),
                      "unselected_empty" !=
                        (b = this.props.saleSection.section_type) &&
                        "tab_buttons" != b &&
                        m.createElement(
                          Ne.a,
                          {
                            placeholderHeight: "300px",
                            className: ve.EditorCtn,
                            id: "salesection_item_" + this.props.index,
                          },
                          m.createElement(Mt, Object.assign({}, this.props))
                        )
                    )
                )
          );
          var b;
        }
      };
      Object(n.b)([h.b], Ot.prototype, "RemoveSection", null),
        Object(n.b)([h.b], Ot.prototype, "DoRemoveSection", null),
        Object(n.b)([h.b], Ot.prototype, "OnTitleChange", null),
        Object(n.b)([h.b], Ot.prototype, "OnTitleLinkChange", null),
        Object(n.b)([h.b], Ot.prototype, "OnSetCustomTitle", null),
        Object(n.b)([h.b], Ot.prototype, "OnClearCustomTitle", null),
        Object(n.b)([h.b], Ot.prototype, "OnShowTitleImageUpload", null),
        Object(n.b)([h.b], Ot.prototype, "OnSaleSectionTypeChange", null),
        Object(n.b)([h.b], Ot.prototype, "MoveSection", null),
        Object(n.b)([h.b], Ot.prototype, "GetMinimized", null),
        Object(n.b)([h.b], Ot.prototype, "ToggleMinimized", null),
        Object(n.b)([h.b], Ot.prototype, "OnChangeContentHubOverrideKey", null),
        (Ot = Object(n.b)([d.a], Ot));
      const Ct = (e) => {
        const { editModel: t, section: a, tabSection: n } = e,
          i = n
            ? m.createElement(
                "span",
                { className: O.ShowInTabsList, onClick: () => ht(t, a) },
                Object(E.f)(
                  "#Sale_SectionDesc_Tabs",
                  (function (e, t) {
                    let a = "";
                    return (
                      e && e.length > 0 && t && t.tabs && t.tabs.length > 0
                        ? e.forEach((e) => {
                            a.length > 0 && (a += ", ");
                            let n = t.tabs.find((t) => t.unique_id == e);
                            a += n
                              ? Object(Ae.f)(
                                  n,
                                  Object(u.PchLanguageToELanguage)(P.c.LANGUAGE)
                                )
                              : Object(E.f)("#EventCalendar_MuteApp_Unknown");
                          })
                        : (a = Object(E.f)("#Sale_Section_ShowOnTabs_All")),
                      a
                    );
                  })(a.show_on_tabs, n)
                )
              )
            : null;
        return ("items" === a.section_type && !a.smart_section_type) ||
          "events" === a.section_type
          ? m.createElement(
              "div",
              null,
              Boolean("items" === a.section_type)
                ? Object(E.f)(
                    "#Sale_SectionDesc_Items",
                    a.capsules ? a.capsules.length : 0
                  )
                : Object(E.f)(
                    "#Sale_SectionDesc_Events",
                    a.events ? a.events.length : 0
                  ),
              Boolean(a.show_as_carousel) &&
                Object(E.f)("#Sale_SectionDesc_Carousel"),
              i && " - ",
              i
            )
          : "event_schedule" === a.section_type
          ? m.createElement(
              "div",
              null,
              Object(E.l)(
                "#EventEditor_SaleEventSchedule_MinView",
                a.event_schedule_categories
                  ? a.event_schedule_categories.length
                  : Object(E.f)("#Dialog_Off")
              ),
              i && " - ",
              i
            )
          : i;
      };
      function yt(e) {
        const { saleSection: t, editModel: a, index: n } = e,
          [i, l] = Object(H.d)(() => [t.smart_section, t.unique_id]);
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(_.M, {
            onChange: (e) => {
              (t.smart_section = e),
                (t.smart_section_type = e ? "wishlist" : void 0),
                a.SetDirty(r.d.jsondata_sales);
            },
            label: Object(E.f)("#Sale_SmartSection"),
            description: Object(E.f)("#Sale_SmartSectionDescription"),
            checked: i,
          }),
          Boolean(i) && m.createElement(kt, { saleSection: t, editModel: a }),
          Boolean(!i) &&
            m.createElement(
              m.Fragment,
              null,
              m.createElement(Ee.a, {
                uniqueKey: "Section" + l,
                capsuleContainer: t,
                editModel: a,
              }),
              m.createElement(Ce.a, {
                section: t,
                capsuleContainer: t,
                editModel: a,
                bAllowPruneFacets: !0,
              })
            )
        );
      }
      const Tt = Object(d.a)((e) => {
        const { saleSection: t, editModel: a } = e;
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(_.M, {
            onChange: (e) => {
              Object(C.G)(() => {
                t.smart_section = e;
                const n =
                  t.smart_section_event_tags &&
                  t.smart_section_event_tags.length > 0;
                (t.smart_section_type = e
                  ? n
                    ? "recent_tagged_events"
                    : "recent_events"
                  : void 0),
                  a.SetDirty(r.d.jsondata_sales);
              });
            },
            label: Object(E.f)("#Sale_SmartSection"),
            description: Object(E.f)("#Sale_SmartSectionDescription"),
            checked: t.smart_section,
          }),
          t.smart_section
            ? m.createElement(ie, Object.assign({}, e))
            : m.createElement(ae, Object.assign({}, e))
        );
      });
      let jt = class extends m.Component {
        constructor() {
          super(...arguments), (this.state = { linkToAddURL: "" });
        }
        AddLink() {
          (this.m_refInput.element.value = ""),
            this.props.saleSection.links.push({ url: this.state.linkToAddURL }),
            this.setState({ linkToAddURL: "" }),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        RemoveLink(e) {
          this.props.saleSection.links.splice(e, 1),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnLinkChange(e) {
          const t = e.target.value;
          this.setState({ linkToAddURL: t });
        }
        OnShowLinkCapsuleUpload(e, t) {
          e.preventDefault(),
            e.stopPropagation(),
            Object(A.d)(
              m.createElement(f, {
                loc_images: t.localized_link_capsule,
                fnSetImage: (e, a) => {
                  (t.localized_link_capsule = Object(L.e)(
                    t.localized_link_capsule || [],
                    30,
                    null
                  )),
                    (t.localized_link_capsule[e] = a);
                },
                editModel: this.props.editModel,
                artworkType: "link_capsule",
              }),
              window
            );
        }
        render() {
          return m.createElement(
            m.Fragment,
            null,
            m.createElement(M.a, {
              items: this.props.saleSection.links,
              onDelete: this.RemoveLink,
              onReorder: () =>
                this.props.editModel.SetDirty(r.d.jsondata_sales),
              render: (e) => {
                let t = 0;
                e.localized_link_capsule &&
                  e.localized_link_capsule.forEach((e) => {
                    t += e ? 1 : 0;
                  });
                const a = Object(Fe.c)(e.url, P.c.STORE_BASE_URL);
                return m.createElement(
                  Be.a,
                  {
                    className: Object(R.a)($.a.FlexCenter, ve.UploadLinkRow),
                    url: e.url,
                  },
                  a,
                  m.createElement(
                    "div",
                    { className: ve.UploadLinkImageButton },
                    m.createElement(
                      _.G,
                      { onClick: (t) => this.OnShowLinkCapsuleUpload(t, e) },
                      t > 0
                        ? Object(E.l)(
                            "#selectimage_managing_n_existing_title",
                            t
                          )
                        : Object(E.f)("#selectimage_uploading_title")
                    )
                  )
                );
              },
            }),
            m.createElement(_.A, {
              ref: (e) => (this.m_refInput = e),
              type: "text",
              label: Object(E.f)("#Sale_LinkURL"),
              onChange: this.OnLinkChange,
            }),
            m.createElement(
              _.G,
              { onClick: this.AddLink },
              Object(E.f)("#Sale_AddLink")
            )
          );
        }
      };
      function It(e) {
        const { editModel: t, saleSection: a } = e,
          n = m.useRef(),
          [i, l, o] = Object(H.d)(() => [
            (a.text_section_contents &&
              a.text_section_contents[t.GetCurEditLanguage()]) ||
              "",
            a.hide_section_if_broadcast_is_hidden,
            a.hide_section_if_logged_out,
          ]);
        return m.createElement(
          "div",
          { className: ve.TextSectionGroup },
          m.createElement(
            "div",
            { className: ve.TextSectionBBCode },
            m.createElement(Ge.a, {
              fnGetCurText: () => i,
              fnOnTextChange: (e) => {
                var n;
                return t.SetSaleSectionTextLocalization(
                  t.GetCurEditLanguage(),
                  t.GetSaleSectionIndexByID(a.unique_id),
                  (null === (n = null == e ? void 0 : e.currentTarget) ||
                  void 0 === n
                    ? void 0
                    : n.value) || ""
                );
              },
              fnSetText: (e) =>
                t.SetSaleSectionTextLocalization(
                  t.GetCurEditLanguage(),
                  t.GetSaleSectionIndexByID(a.unique_id),
                  e
                ),
              ref: n,
              strPlaceholder: Object(E.f)(
                "#EventEditor_SaleTextSection_PlaceHolder"
              ),
              emoticonStore: Ie.b,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: O.EventEditorDescription,
              limitBBCode: P.b.CAN_UPLOAD_IMAGES ? void 0 : Te.f,
              clanSteamID: t.GetClanSteamID(),
            }),
            m.createElement(
              "div",
              { className: ve.TextFlag },
              m.createElement(
                "div",
                null,
                m.createElement(
                  B.a,
                  {
                    toolTipContent: Object(E.f)(
                      "#EventEditor_RelatedToBroadcast_ttip"
                    ),
                  },
                  m.createElement(
                    "div",
                    { className: G.EventEditorTextTitle },
                    Object(E.f)("#EventEditor_RelatedToBroadcast")
                  )
                ),
                m.createElement(_.g, {
                  onChange: (e) => {
                    a.hide_section_if_broadcast_is_hidden !== e &&
                      ((a.hide_section_if_broadcast_is_hidden = e),
                      t.SetDirty(r.d.jsondata_sales));
                  },
                  label: Object(E.f)("#EventEditor_RelatedToBroadcast_action"),
                  checked: Boolean(l),
                })
              ),
              m.createElement(
                "div",
                null,
                m.createElement(
                  B.a,
                  {
                    toolTipContent: Object(E.f)(
                      "#EventEditor_RelatedToVisibility_ttip"
                    ),
                  },
                  m.createElement(
                    "div",
                    { className: G.EventEditorTextTitle },
                    Object(E.f)("#EventEditor_RelatedToVisibility")
                  )
                ),
                m.createElement(_.g, {
                  onChange: (e) => {
                    a.hide_section_if_logged_out !== e &&
                      ((a.hide_section_if_logged_out = e),
                      t.SetDirty(r.d.jsondata_sales));
                  },
                  label: Object(E.f)("#EventEditor_RelatedToVisibility_action"),
                  checked: Boolean(o),
                })
              )
            )
          ),
          P.b.CAN_UPLOAD_IMAGES &&
            m.createElement(
              "div",
              {
                className: Object(R.a)(
                  G.RightCol,
                  _t.DescEditorPadding,
                  ve.TextSectionImages
                ),
              },
              m.createElement(s.a, {
                bShowLightBox: !0,
                clanSteamID: t.GetClanSteamID(),
                imageInsertCallBack: (e, t) => {
                  n.current && Object(he.b)(n.current, e, t);
                },
                fnSetImageURL: t.SetImageURL,
                rgRealmList: t.GetIncludedRealmList(),
              })
            )
        );
      }
      Object(n.b)([h.b], jt.prototype, "AddLink", null),
        Object(n.b)([h.b], jt.prototype, "RemoveLink", null),
        Object(n.b)([h.b], jt.prototype, "OnLinkChange", null),
        Object(n.b)([h.b], jt.prototype, "OnShowLinkCapsuleUpload", null),
        (jt = Object(n.b)([d.a], jt));
      let Dt = class extends m.Component {
        EnsureBrowseData() {
          const { saleSection: e, editModel: t } = this.props;
          e.item_browse_section_data ||
            ((e.item_browse_section_data = {}), t.SetDirty(r.d.jsondata_sales));
        }
        OnSubscriptionIDChange(e) {
          this.EnsureBrowseData(),
            (this.props.saleSection.item_browse_section_data.master_subscription =
              Number.parseInt(e.target.value) || 0),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnRemoveTab(e) {
          this.EnsureBrowseData();
          const { editModel: t } = this.props,
            { item_browse_section_data: a } = this.props.saleSection;
          e >= 0 &&
            e < a.tabs.length &&
            (a.tabs.splice(e, 1), t.SetDirty(r.d.jsondata_sales));
        }
        OnAddTab(e) {
          this.EnsureBrowseData(),
            this.props.saleSection.item_browse_section_data.tabs ||
              (this.props.saleSection.item_browse_section_data.tabs = []),
            this.props.saleSection.item_browse_section_data.tabs.push(e),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnShowAsDemos(e) {
          this.EnsureBrowseData(),
            (this.props.saleSection.item_browse_section_data.show_as_demos = e),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnEnableSearch(e) {
          this.EnsureBrowseData(),
            (this.props.saleSection.item_browse_section_data.enable_search = e),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        RenderTabName(e) {
          const t = T.F.find((t) => t.flavor === e);
          let a = e;
          return (
            t &&
              ((a = Object(E.f)(t.label)),
              e.startsWith("contenthub_") &&
                (a +=
                  " (" +
                  Object(E.f)("#Sale_BrowserSortOption_ContentHub_Suffix") +
                  ")")),
            m.createElement(
              m.Fragment,
              null,
              a,
              Boolean(null == t ? void 0 : t.tooltip) &&
                m.createElement(ee.b, { tooltip: Object(E.f)(t.tooltip) })
            )
          );
        }
        render() {
          const e = this.props.saleSection.item_browse_section_data || {},
            { master_subscription: t, show_deck_compability_details: a } = e,
            n = e.tabs || [],
            i = T.G.filter((e) => void 0 === n.find((t) => t === e)).map((e) =>
              m.createElement(
                "div",
                { key: e, className: O.ItemBrowseInactiveTab },
                m.createElement(
                  "div",
                  {
                    className: O.ItemBrowseInactiveTabAdd,
                    onClick: () => this.OnAddTab(e),
                  },
                  m.createElement(Le.v, null)
                ),
                this.RenderTabName(e)
              )
            );
          return m.createElement(
            "div",
            null,
            m.createElement(_.g, {
              label: Object(E.f)("#Sale_Section_EnableSearch"),
              tooltip: Object(E.f)("#Sale_Section_EnableSearch_ttip"),
              onChange: this.OnEnableSearch,
              checked: e.enable_search,
            }),
            m.createElement(_.g, {
              label: Object(E.f)("#Sale_Section_UseDemoLayout"),
              tooltip: Object(E.f)("#Sale_Section_UseDemoLayout_ttip"),
              onChange: this.OnShowAsDemos,
              checked: e.show_as_demos,
            }),
            m.createElement(_.g, {
              label: Object(E.f)("#Sale_Section_ShowDeckCompatibility"),
              tooltip: Object(E.f)("#Sale_Section_ShowDeckCompatibility_ttip"),
              onChange: (e) => {
                this.EnsureBrowseData(),
                  (this.props.saleSection.item_browse_section_data.show_deck_compability_details = e),
                  this.props.editModel.SetDirty(r.d.jsondata_sales);
              },
              checked: a,
            }),
            m.createElement(_.A, {
              type: "text",
              label: Object(E.f)("#Sale_BrowseSection_SubscriptionID"),
              tooltip: Object(E.f)("#Sale_BrowseSection_SubscriptionID_ttip"),
              onChange: this.OnSubscriptionIDChange,
              value: t,
            }),
            m.createElement(
              "div",
              { className: G.EventEditorTextTitle },
              Object(E.f)("#Sale_BrowseSection_TabList"),
              m.createElement(ee.b, {
                tooltip: Object(E.f)("#Sale_BrowseSection_TabList_ttip"),
              })
            ),
            m.createElement(M.a, {
              items: n,
              onDelete: this.OnRemoveTab,
              onReorder: () =>
                this.props.editModel.SetDirty(r.d.jsondata_sales),
              render: (e) =>
                m.createElement(
                  "div",
                  { className: O.ItemBrowseActiveTab },
                  this.RenderTabName(e)
                ),
            }),
            m.createElement(
              "div",
              { className: G.EventEditorTextTitle },
              Object(E.f)("#Sale_BrowseSection_AdditionalTabList"),
              m.createElement(ee.b, {
                tooltip: Object(E.f)(
                  "#Sale_BrowseSection_AdditionalTabList_ttip"
                ),
              })
            ),
            m.createElement("div", null, i),
            m.createElement(Ce.a, {
              section: this.props.saleSection,
              capsuleContainer: this.props.saleSection,
              editModel: this.props.editModel,
              bAllowPruneFacets: !0,
            })
          );
        }
      };
      Object(n.b)([h.b], Dt.prototype, "OnSubscriptionIDChange", null),
        Object(n.b)([h.b], Dt.prototype, "OnRemoveTab", null),
        Object(n.b)([h.b], Dt.prototype, "OnAddTab", null),
        Object(n.b)([h.b], Dt.prototype, "OnShowAsDemos", null),
        Object(n.b)([h.b], Dt.prototype, "OnEnableSearch", null),
        (Dt = Object(n.b)([d.a], Dt));
      const Gt = Object(d.a)((e) => {
        var t, a;
        const { editModel: n } = e,
          [i, l] = Object(m.useState)(!1),
          o = [
            {
              label: Object(E.f)("#SaleItemSource_TaggedItems"),
              data: T.n.k_ETaggedItems,
            },
            {
              label: Object(E.f)("#SaleItemSource_ContentHub"),
              data: T.n.k_EContentHub,
            },
          ],
          { bLoading: s, contentHubNames: c } = (function () {
            const e = xe.Get(),
              t = Object(te.a)("useContentHubNames"),
              [a, n] = Object(m.useState)(!e.BHasContentHubNames()),
              [i, l] = Object(m.useState)(e.GetContentHubNames());
            return (
              Object(m.useEffect)(() => {
                e.LoadContentHubNames().then(() => {
                  t.token.reason || (l(e.GetContentHubNames()), n(!1));
                });
              }, [t.token.reason, e]),
              { bLoading: a, contentHubNames: i }
            );
          })();
        let d, u, p;
        c &&
          ((d =
            null == c
              ? void 0
              : c.hubtypes.map((e) => ({ label: e, value: e }))),
          (u = Array.from(
            null === (t = null == c ? void 0 : c.categories) || void 0 === t
              ? void 0
              : t.keys()
          ).map((e) => ({
            label:
              (null == e ? void 0 : e.length) > 0
                ? `${c.categories.get(e)} (${e})`
                : `${c.categories.get(e)}`,
            value: e,
          }))),
          (p = Array.from(
            null === (a = null == c ? void 0 : c.tags) || void 0 === a
              ? void 0
              : a.keys()
          ).map((e) => ({ label: `${c.tags.get(e)} (${e})`, value: `${e}` }))));
        const g = n.GetEventModel().jsondata;
        return m.createElement(
          ee.c,
          {
            title: Object(E.f)("#Sale_BrowseSection_ContentHubTitle"),
            tooltip: Object(E.f)("#Sale_BrowseSection_ContentHubTooltip"),
            getMinimized: () => i,
            toggleMinimized: () => l(!i),
          },
          Boolean(c)
            ? m.createElement(
                m.Fragment,
                null,
                m.createElement(
                  _.D,
                  null,
                  Object(E.f)("#SaleItemSource_Title")
                ),
                m.createElement(_.n, {
                  rgOptions: o,
                  selectedOption: g.item_source_type || T.n.k_ETaggedItems,
                  onChange: (e) => {
                    if (
                      ((n.GetEventModel().jsondata.item_source_type = e.data),
                      e.data === T.n.k_EContentHub)
                    ) {
                      const e = {
                        type: n.GetEventModel().GetContentHubType(),
                        category: n.GetEventModel().GetContentHubCategory(),
                        tagid: n.GetEventModel().GetContentHubTag(),
                      };
                      (n.GetEventModel().jsondata.source_content_hub = e),
                        n.GetEventModel().jsondata
                          .bAutoUpdateVanityURLForContentHub && wt(e, n);
                    }
                    n.SetDirty(r.d.jsondata_sales);
                  },
                }),
                g.item_source_type === T.n.k_EContentHub &&
                  m.createElement(
                    m.Fragment,
                    null,
                    m.createElement(
                      _.D,
                      null,
                      Object(E.f)("#Sale_BrowseSection_ContentHubType")
                    ),
                    m.createElement(ye.a, {
                      options: d,
                      value: d.find(
                        (e) => e.value === n.GetEventModel().GetContentHubType()
                      ),
                      onChange: (e) => {
                        const t = {
                          type: e.value,
                          category: n.GetEventModel().GetContentHubCategory(),
                          tagid: n.GetEventModel().GetContentHubTag(),
                        };
                        (n.GetEventModel().jsondata.source_content_hub = t),
                          n.GetEventModel().jsondata
                            .bAutoUpdateVanityURLForContentHub && wt(t, n),
                          n.SetDirty(r.d.jsondata_sales);
                      },
                      isSearchable: !0,
                    }),
                    "category" === n.GetEventModel().GetContentHubType() &&
                      m.createElement(
                        m.Fragment,
                        null,
                        m.createElement(
                          _.D,
                          null,
                          Object(E.f)("#Sale_BrowseSection_ContentHubCategory")
                        ),
                        m.createElement(ye.a, {
                          options: u,
                          value: u.find((e) => {
                            var t;
                            return (
                              e.value ===
                              (null === (t = n.GetEventModel()) || void 0 === t
                                ? void 0
                                : t.GetContentHubCategory())
                            );
                          }),
                          onChange: (e) => {
                            const t = {
                              type: n.GetEventModel().GetContentHubType(),
                              category: e.value,
                              tagid: n.GetEventModel().GetContentHubTag(),
                            };
                            (n.GetEventModel().jsondata.source_content_hub = t),
                              n.GetEventModel().jsondata
                                .bAutoUpdateVanityURLForContentHub && wt(t, n),
                              n.SetDirty(r.d.jsondata_sales);
                          },
                          isSearchable: !0,
                        })
                      ),
                    "tags" === n.GetEventModel().GetContentHubType() &&
                      m.createElement(
                        m.Fragment,
                        null,
                        m.createElement(
                          _.D,
                          null,
                          Object(E.f)("#Sale_BrowseSection_ContentHubTag")
                        ),
                        m.createElement(ye.a, {
                          options: p,
                          value: p.find((e) => {
                            var t;
                            return (
                              e.value ===
                              (null ===
                                (t = n.GetEventModel().GetContentHubTag()) ||
                              void 0 === t
                                ? void 0
                                : t.toString())
                            );
                          }),
                          onChange: (e) => {
                            const t = {
                              type: n.GetEventModel().GetContentHubType(),
                              category: n
                                .GetEventModel()
                                .GetContentHubCategory(),
                              tagid: Number(e.value),
                            };
                            (n.GetEventModel().jsondata.source_content_hub = t),
                              n.GetEventModel().jsondata
                                .bAutoUpdateVanityURLForContentHub && wt(t, n),
                              n.SetDirty(r.d.jsondata_sales);
                          },
                          isSearchable: !0,
                        })
                      ),
                    m.createElement(_.g, {
                      label: Object(E.f)(
                        "#Sale_BrowseSection_ContentHubDiscountedOnly"
                      ),
                      checked: g.content_hub_discounted_only,
                      onChange: (e) => {
                        (n.GetEventModel().jsondata.content_hub_discounted_only = e),
                          n.SetDirty(r.d.jsondata_sales);
                      },
                    }),
                    m.createElement(_.g, {
                      label:
                        "Auto update vanity URL based on configured content hub",
                      checked: g.bAutoUpdateVanityURLForContentHub,
                      onChange: (e) => {
                        if (
                          ((n.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub = e),
                          e)
                        ) {
                          wt(
                            {
                              type: n.GetEventModel().GetContentHubType(),
                              category: n
                                .GetEventModel()
                                .GetContentHubCategory(),
                              tagid: n.GetEventModel().GetContentHubTag(),
                            },
                            n
                          );
                        }
                        n.SetDirty(r.d.jsondata_sales);
                      },
                    }),
                    m.createElement(_.g, {
                      label: "Show restricted-width title and main carousel",
                      checked: g.content_hub_restricted_width,
                      onChange: (e) => {
                        (n.GetEventModel().jsondata.content_hub_restricted_width = e),
                          n.SetDirty(r.d.jsondata_sales);
                      },
                    }),
                    m.createElement(_.g, {
                      label:
                        "Ignore item browser tab overrides during sale takeovers",
                      checked: g.ignore_item_browser_overrides,
                      onChange: (e) => {
                        (n.GetEventModel().jsondata.ignore_item_browser_overrides = e),
                          n.SetDirty(r.d.jsondata_sales);
                      },
                    })
                  )
              )
            : m.createElement(k.a, { size: "medium", position: "center" })
        );
      });
      function wt(e, t) {
        if (e.type)
          if ("category" !== e.type || e.category)
            if ("tags" !== e.type || e.tagid) {
              let a = "contenthubsalepage_" + e.type;
              "category" === e.type
                ? (a += "_" + e.category)
                : "tags" === e.type && (a += "_" + e.tagid),
                (t.GetEventModel().jsondata.sale_vanity_id = a);
            } else
              console.warn(
                "SetVanityURLForContentHub: Undefined tag id for tag hub, skipping vanity URL update."
              );
          else
            console.warn(
              "SetVanityURLForContentHub: Undefined category for category hub, skipping vanity URL update."
            );
        else
          console.warn(
            "SetVanityURLForContentHub: Undefined hub type, skipping vanity URL update."
          );
      }
      const At = Object(d.a)((e) => {
          const { editModel: t, saleSection: a, index: n } = e,
            { internal_section_data: i } = a,
            l = [
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_SubscriptionPricing"
                ),
                data: "subscription_pricing",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabContents"),
                data: "tab_contents",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabReferences"),
                data: "tab_references",
              },
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_ReservationSection"
                ),
                data: "reservation_widget",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_CYOAStory"),
                data: "cyoa_story",
              },
              {
                label: "Testing the Great on Deck grid display",
                data: "greatondeck_librarygrid",
              },
            ],
            o = null == i ? void 0 : i.internal_type,
            s = [];
          if ("cyoa_story" === o)
            for (let e = 1; e <= 14; e++)
              s.push({
                label: Object(E.f)("#SummerSale2021Genre_" + e),
                data: e,
              });
          return m.createElement(
            m.Fragment,
            null,
            m.createElement(_.n, {
              rgOptions: l,
              strDropDownClassName: G.DropDownScroll,
              selectedOption: o || "subscription_pricing",
              onChange: (e) => {
                (i.internal_type = e.data), t.SetDirty(r.d.jsondata_sales);
              },
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
            Boolean("cyoa_story" !== o && "reservation_widget" !== o) &&
              m.createElement(Ee.a, {
                capsuleContainer: a,
                editModel: t,
                uniqueKey: "Section" + a.unique_id,
                disableDaySelection: !0,
              }),
            Boolean("subscription_pricing" === o) &&
              m.createElement(_.A, {
                type: "text",
                label: Object(E.f)("#Sale_SubscriptionLogo"),
                tooltip: Object(E.f)("#Sale_SubscriptionLogo_ttip"),
                onChange: (e) => {
                  (i.subscription_logo_image = e.target.value),
                    t.SetDirty(r.d.jsondata_sales);
                },
                value: (null == i ? void 0 : i.subscription_logo_image) || "",
              }),
            Boolean("cyoa_story" === o) &&
              m.createElement(_.n, {
                label: Object(E.f)("#SummerSale2021_ChooseGenreLabel"),
                rgOptions: s,
                strDropDownClassName: G.DropDownScroll,
                selectedOption: i.cyoa_story_genre,
                onChange: (e) => {
                  (i.cyoa_story_genre = e.data), t.SetDirty(r.d.jsondata_sales);
                },
              }),
            Boolean("reservation_widget" === o) &&
              m.createElement(Me.a, {
                event: t.GetEventModel(),
                saleSection: a,
                fnOnDirty: () => t.SetDirty(r.d.jsondata_sales),
              })
          );
        }),
        Mt = Object(d.a)((e) => {
          switch (e.saleSection.section_type) {
            case "items":
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(yt, Object.assign({}, e)),
                m.createElement(
                  Qe,
                  Object.assign({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "events":
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(Tt, Object.assign({}, e)),
                m.createElement(
                  Qe,
                  Object.assign({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "links":
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(jt, Object.assign({}, e)),
                m.createElement(
                  Qe,
                  Object.assign({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "broadcast":
              return m.createElement(at, Object.assign({}, e));
            case "event_description":
              return m.createElement(it, Object.assign({}, e));
            case "text_section":
              return m.createElement(It, Object.assign({}, e));
            case "curator":
              return m.createElement(nt, Object.assign({}, e));
            case "vo_internal":
              return m.createElement(At, Object.assign({}, e));
            case "tabs":
              return m.createElement(Oe.b, Object.assign({}, e));
            case "tab_buttons":
              return null;
            case "doors":
              return m.createElement("div", null, "No settings for now.");
            case "sale_item_browser":
              return m.createElement(Dt, Object.assign({}, e));
            case "event_schedule":
              return m.createElement(le, Object.assign({}, e));
            case "curator_recommendation":
              return m.createElement(lt, Object.assign({}, e));
            case "contenthubmaincarousel":
              return m.createElement(
                Ue,
                Object.assign({ section: e.saleSection }, e)
              );
            case "contenthubsections":
              return m.createElement(
                ze,
                Object.assign({ section: e.saleSection }, e)
              );
            case "contenthubspecials":
              return m.createElement(
                We,
                Object.assign({ section: e.saleSection }, e)
              );
            case "contenthubbroadcasts":
              return m.createElement(
                Pe,
                Object.assign({ section: e.saleSection }, e)
              );
            case "itemdef":
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(dt, Object.assign({}, e)),
                m.createElement(
                  Qe,
                  Object.assign({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "unselected_empty":
            default:
              return null;
          }
        });
      let kt = class extends m.Component {
        constructor() {
          super(...arguments),
            (this.m_bMounted = !1),
            (this.state = { storeCategories: [], storeTags: [] });
        }
        componentDidMount() {
          (this.m_bMounted = !0),
            l.a
              .get(`${P.c.STORE_BASE_URL}actions/ajaxgetstoretags`)
              .then((e) => {
                this.m_bMounted &&
                  this.setState({ storeTags: e.data && e.data.tags });
              }),
            l.a
              .get(`${P.c.STORE_BASE_URL}actions/ajaxgetstorecategories`)
              .then((e) => {
                this.m_bMounted && this.setState({ storeCategories: e.data });
              });
        }
        componentWillUnmount() {
          this.m_bMounted = !1;
        }
        OnSmartSectionTypeChange(e) {
          (this.props.saleSection.smart_section_type = e.data),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        OnSmartSectionMaxAppChange(e) {
          (this.props.saleSection.smart_section_max_apps = Number.parseInt(
            e.target.value
          )),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        SetSmartSectionCategory(e) {
          (this.props.saleSection.smart_section_category = Number(e.data)),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        SetSmartSectionTag(e) {
          (this.m_refInput.element.value = ""),
            (this.props.saleSection.smart_section_tag = Number(e.id)),
            this.props.editModel.SetDirty(r.d.jsondata_sales);
        }
        UpdateTagSuggestions(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = e.target.value;
            window.setTimeout(() => {
              const e = this.state.storeTags
                .filter(
                  (e) => -1 !== e.name.toLowerCase().indexOf(t.toLowerCase())
                )
                .map((e) => ({ id: e.tagid, name: e.name, type: "tag" }));
              this.m_searchResultsMenu = Object(y.a)(
                m.createElement(
                  J.c,
                  { className: ve.SearchResults },
                  e.map((e) =>
                    m.createElement(
                      J.d,
                      {
                        key: e.id,
                        onSelected: () => this.SetSmartSectionTag(e),
                      },
                      m.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        Object(Y.b)(e.name),
                        "",
                        m.createElement("span", null, "(", e.id, ")"),
                        "",
                        m.createElement(
                          "span",
                          { className: ve.SmallText },
                          "(",
                          e.type,
                          ")"
                        )
                      )
                    )
                  )
                ),
                this.m_refInput.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                }
              );
            }, 300);
          });
        }
        SetMasterAppID(e, t) {
          this.m_refInput &&
            this.m_refInput.element &&
            this.m_refInput.element.value &&
            (this.m_refInput.element.value = ""),
            Object(C.G)(() => {
              (this.props.saleSection.capsules = [{ id: e, type: t }]),
                Object(ke.g)(this.props.saleSection.capsules, je.e),
                this.props.editModel.SetDirty(r.d.jsondata_sales);
            });
        }
        OnChooseMasterSubscriptionID(e) {
          Object(A.d)(
            m.createElement(be.a, { fnAddCapsule: this.SetMasterAppID }),
            Object(F.o)(e)
          );
        }
        render() {
          var e;
          const { editModel: t } = this.props,
            a = this.state.storeCategories.map((e) => ({
              label: e.name,
              data: e.categoryid,
            }));
          let n = [
            {
              label: Object(E.f)("#Sale_Wishlist") + " (?)",
              tooltip: Object(E.f)("#Sale_Wishlist_ttip"),
              data: "wishlist",
            },
            {
              label: Object(E.f)("#Sale_InteractiveRecommender") + " (?)",
              tooltip: Object(E.f)("#Sale_InteractiveRecommender_ttip"),
              data: "interactive_recommender",
            },
            {
              label: Object(E.f)("#Sale_SmartSection_Discount") + " (?)",
              tooltip: Object(E.f)("#Sale_SmartSection_Discount_ttip"),
              data: "discounted",
            },
          ];
          Object(N.a)(t.GetClanSteamID()) &&
            (n.push({
              label: "(VO) " + Object(E.f)("#Sale_Tag"),
              tooltip: Object(E.f)("#Sale_Tag_ttip"),
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "tag",
            }),
            n.push({
              label: "(VO) " + Object(E.f)("#Sale_Category"),
              tooltip: Object(E.f)("#Sale_Category_ttip"),
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "category",
            }),
            n.push({
              label: "(VO) Tag Recommender (?)",
              tooltip:
                "Orders games featured on this sales page by their original store tags mashed against the recommended tags for the logged in users.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "tag_recommender",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_TopWishlisted") +
                " (?)",
              tooltip:
                "Orders games featured on this sales page by all time wishlist data.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "topwishlisted",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_TrendingWishlisted") +
                " (?)",
              tooltip:
                "Orders games featured on this sales page by using trending wishlist data from last 2 weeks as a sliding window.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "trendingwishlisted",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_PopularPurchased") +
                " (?)",
              tooltip:
                "Show games featured on this sale page, ordered by their recent trending sales data",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "popularpurchased",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)(
                  "#Sale_BrowserSortOption_PopularPurchasedDiscounted"
                ) +
                " (?)",
              tooltip:
                "Shows games featured on this sale page that also have a DISCOUNT NOW, and orders them by their recent trending sales data",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "popularpurchaseddiscounted",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_NewAndTrending") +
                " (?)",
              tooltip:
                "Shows games in a similar fashion to the front pages New and Trending tab. Mix of recency of release, review score and play count",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "newandtrending",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_PopularComingSoon") +
                " (?)",
              tooltip:
                "Orders not released games featured on this sales page by their all time wishlists data.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "popularcomingsoon",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_MostPlayedDemo") +
                " (?)",
              tooltip:
                "Orders games featured on this sales page by total demo player count (all-time).",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "mostplayeddemo",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_DailyActiveUserDemo") +
                " (?)",
              tooltip:
                "Orders games featured on this sales page by yesterdays peak player count.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "dailyactiveuserdemo",
            }),
            n.push({
              label:
                "(VO) " +
                Object(E.f)("#Sale_BrowserSortOption_PlayedNowDemo") +
                " (?)",
              tooltip:
                "This is limited to Demo AppIDs. Using only featured games from this sale page. Will sort games using live server player count data with a 5 minute.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "playednowdemo",
            }),
            n.push({
              label: "(VO) Show ANY discounted item from user's wishlist (?)",
              tooltip:
                "This will pull the ANY discount game that is also on the logged in users wishlist across the entire Steam catalog. Not limited to the games featured on this sale page.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "wishlist_onsale",
            }),
            n.push({
              label: "(VO) Show ANY discounted DLC from user's library (?)",
              tooltip:
                "This will pull the ANY DLC for a game in the users library that is on Sale. Not limited to the DLCs featured on this sale page.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "dlc_onsale",
            }),
            n.push({
              label:
                "(VO) Show ANY discounted Soundtracks from user's library (?)",
              tooltip:
                "This will pull any soundtrack (specific DLC) for a game the user owns that is on sale across the entire Steam catalog",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "dlc_music_onsale",
            }),
            n.push({
              label: "(VO) Show ANY discounted Top Seller (?)",
              tooltip:
                "This will pull the TOP discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "top_n",
            }),
            n.push({
              label: "(VO) Show ANY discounted (?)",
              tooltip:
                "This will pull ALL discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "all_discounted",
            }),
            n.push({
              label: "(VO) Show ANY discounted interactive recommendations (?)",
              tooltip:
                "This will use the interactive recommender results for logged in users to pull the TOP recommended that are also on discount across the ENTIRE Steam catalog. It is not limited to the games specifically featured in this sales page.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "interactive_recommender_onsale",
            }),
            n.push({
              label:
                "(VO) Show Various TAGs as clickable links to hub pages (?)",
              tooltip:
                "Displays a carousel of tag related images that will direct for a set of curated tags backed by Steam Tag Content hubs",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "sale_tabhub",
            }),
            n.push({
              label:
                "(VO) Show Interactive Recommended Games from Subscription (?)",
              tooltip:
                "Specific to a Master Subscription (ie, EA Play) on Steam.  Will only displayed IR recommended games for a logged in users that part of the master subscription",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "ir_subscription",
            }),
            n.push({
              label: "(VO) Show Deck Compatibility Games in _blank_y (?)",
              tooltip:
                "Shows deck verified games from the users library or wishlist, further specified in page setting.",
              strOptionClass: Object(R.a)(G.ValveOnlyBackground),
              data: "deck_compatibility",
            }));
          const { saleSection: i } = this.props,
            { smart_section_type: l } = this.props.saleSection;
          return m.createElement(
            we.a,
            null,
            m.createElement(
              "div",
              { className: Object(R.a)(G.FlexRowContainer) },
              m.createElement(_.n, {
                strClassName: ve.SmartSelType,
                label: Object(E.f)("#Sale_SmartSectionType"),
                rgOptions: n,
                selectedOption:
                  this.props.saleSection.smart_section_type || "wishlist",
                onChange: this.OnSmartSectionTypeChange,
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              }),
              m.createElement(
                "div",
                null,
                m.createElement(
                  "label",
                  { className: Object(R.a)("DialogLabel", ve.SmartSelLabel) },
                  Object(E.f)("#Sale_SmartSection_MaxApps")
                ),
                m.createElement(
                  "div",
                  null,
                  m.createElement("input", {
                    className: Object(R.a)(ve.SmartSelCount),
                    type: "number",
                    min: "0",
                    value: this.props.saleSection.smart_section_max_apps || 0,
                    onChange: this.OnSmartSectionMaxAppChange,
                  })
                )
              )
            ),
            Boolean("tag" === l) &&
              m.createElement(
                m.Fragment,
                null,
                m.createElement(_.A, {
                  onBlur: () => {
                    setTimeout(
                      () =>
                        this.m_searchResultsMenu &&
                        this.m_searchResultsMenu.Hide(),
                      200
                    );
                  },
                  ref: (e) => (this.m_refInput = e),
                  type: "text",
                  label: Object(E.f)("#Sale_SelectTag"),
                  value: this.props.saleSection.smart_section_tag || "",
                  onChange: this.UpdateTagSuggestions,
                }),
                m.createElement(
                  "div",
                  null,
                  null ===
                    (e = this.state.storeTags.find(
                      (e) =>
                        Number(e.tagid) ===
                        this.props.saleSection.smart_section_tag
                    )) || void 0 === e
                    ? void 0
                    : e.name
                )
              ),
            Boolean("category" === l) &&
              m.createElement(_.n, {
                key: a.length,
                label: Object(E.f)("#Sale_SelectCategory"),
                strDropDownClassName: G.DropDownScroll,
                rgOptions: a,
                selectedOption:
                  this.props.saleSection.smart_section_category || 1,
                onChange: this.SetSmartSectionCategory,
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              }),
            Boolean("ir_subscription" === l) &&
              m.createElement(
                "div",
                null,
                Boolean(i.capsules && i.capsules.length > 0) &&
                  m.createElement(_e.a, { capsule: i.capsules[0] }),
                m.createElement(
                  "div",
                  { className: ve.SaleImportBarButtonGroup },
                  m.createElement(
                    B.a,
                    {
                      toolTipContent: "Enter the master subscription appid ID.",
                    },
                    m.createElement(
                      _.f,
                      {
                        className: ve.SaleImportBarButton,
                        onClick: this.OnChooseMasterSubscriptionID,
                      },
                      "Set Master Subscription ID"
                    )
                  )
                )
              ),
            Boolean("deck_compatibility" === l) &&
              m.createElement(
                m.Fragment,
                null,
                m.createElement(_.n, {
                  label: "Deck App Source",
                  strDropDownClassName: G.DropDownScroll,
                  rgOptions: [
                    { label: "library", data: "library" },
                    { label: "wishlist", data: "wishlist" },
                  ],
                  selectedOption:
                    this.props.saleSection.smart_section_data_source ||
                    "library",
                  onChange: (e) => {
                    (this.props.saleSection.smart_section_data_source = e.data),
                      this.props.editModel.SetDirty(r.d.jsondata_sales);
                  },
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
                m.createElement(_.n, {
                  label: "Deck Compatibility",
                  strDropDownClassName: G.DropDownScroll,
                  rgOptions: [
                    { label: "verified", data: 3 },
                    { label: "playable", data: 2 },
                    { label: "unsupported", data: 1 },
                    { label: "unknown", data: 0 },
                  ],
                  selectedOption:
                    this.props.saleSection.smart_section_deck_compatibility ||
                    3,
                  onChange: (e) => {
                    (this.props.saleSection.smart_section_deck_compatibility =
                      e.data),
                      this.props.editModel.SetDirty(r.d.jsondata_sales);
                  },
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                })
              ),
            m.createElement(V, {
              valveOnly: !0,
              editModel: this.props.editModel,
              section: this.props.saleSection,
              varName: "prioritize_discounts",
              textToken: "Prioritize discounts",
              ttipToken: "If checked, discounted items will be shown first.",
            }),
            m.createElement(gt.c, {
              capsuleContainer: this.props.saleSection,
              editModel: this.props.editModel,
            }),
            m.createElement(Ce.a, {
              section: this.props.saleSection,
              capsuleContainer: this.props.saleSection,
              editModel: this.props.editModel,
            })
          );
        }
      };
      Object(n.b)([h.b], kt.prototype, "OnSmartSectionTypeChange", null),
        Object(n.b)([h.b], kt.prototype, "OnSmartSectionMaxAppChange", null),
        Object(n.b)([h.b], kt.prototype, "SetSmartSectionCategory", null),
        Object(n.b)([h.b], kt.prototype, "SetSmartSectionTag", null),
        Object(n.b)([h.b], kt.prototype, "UpdateTagSuggestions", null),
        Object(n.b)([h.b], kt.prototype, "SetMasterAppID", null),
        Object(n.b)([h.b], kt.prototype, "OnChooseMasterSubscriptionID", null),
        (kt = Object(n.b)([d.a], kt));
    },
    mHFc: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return r;
      }),
        a.d(t, "c", function () {
          return o;
        }),
        a.d(t, "a", function () {
          return s;
        }),
        a.d(t, "d", function () {
          return c;
        });
      var n = a("mrSG"),
        i = (a("fcuX"), a("2vnA")),
        l = a("t0uJ");
      class r {
        constructor() {
          (this.m_mapMinimizedState = new Map()),
            (this.m_setLoaded = new Set());
        }
        EnsureLoaded(e) {
          const t = e.GetGID();
          if (this.m_setLoaded.has(t)) return;
          const a = Object(l.a)(`esmin-${t}`) || {};
          this.m_mapMinimizedState.set(t, a), this.m_setLoaded.add(t);
        }
        IsMinimized(e, t, a) {
          const n = this.m_mapMinimizedState.get(e.GetGID()),
            i = n ? n[t] : void 0;
          return void 0 === i ? a : Boolean(i);
        }
        ToggleMinimized(e, t, a) {
          const n = this.m_mapMinimizedState.get(e.GetGID()) || {},
            i = n[t],
            r = void 0 === i ? a : Boolean(i);
          (n[t] = !r), Object(l.b)(`esmin-${e.GetGID()}`, n);
        }
        SetMinimizedList(e, t, a) {
          const n = this.m_mapMinimizedState.get(e.GetGID()) || {};
          for (const e of t) n[e] = a;
          Object(l.b)(`esmin-${e.GetGID()}`, n);
        }
        BHasExplicitSettings(e) {
          return !!Object(l.a)(`esmin-${e.GetGID()}`);
        }
        static Get() {
          return r.s_Singleton || (r.s_Singleton = new r()), r.s_Singleton;
        }
      }
      function o() {
        const e = l.c.GetEditModel(),
          t = e.GetSaleSections().map((e) => `SaleSection_${e.unique_id}`);
        t.push(
          "SalePageEdit_Config",
          "sale_header",
          "sale_artwork_section",
          "product_banner",
          "product_mobile_banner",
          "SalePageEdit_TaggedItems"
        ),
          r.Get().SetMinimizedList(e, t, !0);
      }
      function s(e, t = !1) {
        const a = l.c.GetEditModel();
        return r.Get().IsMinimized(a, e, t);
      }
      function c(e, t = !1) {
        const a = l.c.GetEditModel();
        return r.Get().ToggleMinimized(a, e, t);
      }
      Object(n.b)([i.k], r.prototype, "EnsureLoaded", null),
        Object(n.b)([i.k], r.prototype, "ToggleMinimized", null),
        Object(n.b)([i.k], r.prototype, "SetMinimizedList", null),
        Object(n.b)([i.C], r.prototype, "m_mapMinimizedState", void 0);
    },
    nvcf: function (e, t, a) {
      e.exports = {
        EventCategoryCtn: "partnereventsalewidgeteditor_EventCategoryCtn_46KWq",
        EventCategoryWidth:
          "partnereventsalewidgeteditor_EventCategoryWidth_3SyzC",
        SingleLine: "partnereventsalewidgeteditor_SingleLine_JPNIC",
      };
    },
    oqmg: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return le;
      }),
        a.d(t, "c", function () {
          return re;
        }),
        a.d(t, "d", function () {
          return oe;
        }),
        a.d(t, "a", function () {
          return he;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("fcuX"),
        o = a("KP/B"),
        s = a("mHFc"),
        c = a("226m"),
        d = a("i3zJ"),
        m = a("2vnA"),
        u = a("TyAF"),
        p = a("aoTL"),
        _ = a("q1tI"),
        g = a("Cs6D"),
        b = a("vwsU"),
        E = a("dsQf"),
        h = a.n(E),
        v = (a("mgoM"), a("65aj"), a("TtDX")),
        S = a("3+zv"),
        f = (a("ee7K"), a("C4Nl")),
        O = a("35zc"),
        C = a("b3LC"),
        y = a("putg"),
        T = a("y+6m"),
        j = a("Mgs7"),
        I = a("qP7j"),
        D = a("fpVW"),
        G = a("gyoR"),
        w = a("MnIK"),
        A = a("Jqb/"),
        M = a("ka0M"),
        k = a("xnZ7"),
        B = a.n(k),
        N = a("0OaU"),
        L = a("+d9t"),
        R = a("DisI"),
        F = a("UvY0"),
        x = a("qiKp"),
        P = a("exH9"),
        U = a("X3Ds"),
        V = a("TLQK"),
        H = a("opsS"),
        z = a("bS9Q"),
        W = a("IzPI"),
        q = a("lkRc"),
        Q = a("HFvj"),
        J = a("as1E"),
        Y = a("k3PP"),
        Z = a("JiI5"),
        K = a("IMce");
      function X(e) {
        return (e = (e = (e = e.replace('"', " ")).replace("<", " ")).replace(
          ">",
          " "
        )).trim();
      }
      function $(e) {
        const t = f.a.Get().GetStoreItem(e.id, Object(O.d)(e.type));
        let a = (null == t ? void 0 : t.GetStorePageURL()) || Object(Q.a)(e);
        return { storeItem: t, linkURL: a, bInvalidID: !t };
      }
      const ee = (e) =>
          _.createElement("img", {
            className: B.a.RemoveIcon,
            src: h.a,
            onClick: e.onClick,
          }),
        te = (e) => {
          var t;
          const { clause: a } = e;
          if (!(null === (t = a.or_tags) || void 0 === t ? void 0 : t.length))
            return null;
          const n =
              ("Must have" === a.type
                ? Object(V.f)("#Sale_TagFilter_MustHave")
                : Object(V.f)("#Sale_TagFilter_MustNotHave")) +
              " '" +
              a.or_tags.join("' " + Object(V.f)("#Sale_TagFilter_Or") + " '") +
              "'",
            i = "Must have" === a.type ? K.MustHaveClause : K.MustNotHaveClause;
          return _.createElement(
            "div",
            { className: Object(P.a)(i, K.ClauseRowCtn) },
            n
          );
        },
        ae = (e) => {
          const { filter: t } = e;
          return Object(o.r)(t)
            ? _.createElement(
                "div",
                { className: K.FilterDisplayNoFilter },
                Object(V.f)("#Sale_TagFilter_NoFilter"),
                _.createElement(R.b, {
                  tooltip: Object(V.f)("#Sale_TagFilter_NoFilter_ttip"),
                })
              )
            : _.createElement(
                "div",
                { className: K.FilterDisplayList },
                t.clauses.map((e, t) =>
                  _.createElement(te, { clause: e, key: "clause" + t })
                )
              );
        };
      class ne {
        constructor(e) {
          this.m_storageKey = "RecentTags_" + e;
          const t = window.localStorage.getItem(this.m_storageKey);
          this.m_Tags = t ? JSON.parse(t) : [];
        }
        GetRecentTags() {
          return this.m_Tags;
        }
        AddRecentTag(e) {
          const t = this.m_Tags.filter(
            (t) => t.toLocaleLowerCase() !== e.toLocaleLowerCase()
          );
          this.m_Tags = [e, ...t].slice(0, 20);
          const a = JSON.stringify(this.m_Tags);
          window.localStorage.setItem(this.m_storageKey, a);
        }
        static Get(e) {
          let t = ne.m_mapStores.get(e.GetEventModel().GID);
          return (
            t ||
              ((t = new ne(e.GetEventModel().GID)),
              ne.m_mapStores.set(e.GetEventModel().GID, t)),
            t
          );
        }
      }
      (ne.m_mapStores = new Map()),
        Object(n.b)([m.C], ne.prototype, "m_Tags", void 0);
      const ie = Object(u.a)((e) => {
        const { id: t, type: a, name: n } = e;
        return _.createElement(
          "div",
          { style: { display: "flex", alignItems: "center" } },
          _.createElement(
            "div",
            { className: B.a.GameImageContainer },
            _.createElement("img", {
              src: Object(W.d)(Number(t)),
              className: B.a.AvatarImage,
            })
          ),
          Object(z.b)(n),
          "",
          _.createElement("span", null, "(", t, ")"),
          "",
          _.createElement("span", { className: Z.SmallText }, "(", a, ")")
        );
      });
      class le extends _.Component {
        constructor() {
          super(...arguments),
            (this.m_currentRequest = 0),
            (this.m_refInput = _.createRef());
        }
        OnAddItem(e, t) {
          (this.m_refInput.current.element.value = ""),
            this.props.onAddItem(e, t);
        }
        UpdateAppSuggestions(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = e.target.value;
            t &&
              0 != t.trim().length &&
              (window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () =>
                  Object(n.a)(this, void 0, void 0, function* () {
                    let e = new Array();
                    if (0 === t.indexOf("https://")) {
                      const a = t.split("/"),
                        n = a.indexOf("app"),
                        i = n > -1 && a.length > n + 1 && a[n + 1];
                      i && e.push({ id: i, name: a[-1], type: "game" });
                      const l = a.indexOf("bundle"),
                        r = l > -1 && a.length > l + 1 && a[l + 1];
                      r && e.push({ id: r, name: a[-1], type: "bundle" });
                      const o = a.indexOf("sub"),
                        s = o > -1 && a.length > o + 1 && a[o + 1];
                      s && e.push({ id: s, name: a[-1], type: "sub" });
                    } else {
                      let a = `${q.c.STORE_BASE_URL}events_promotion_admin/ajaxitemsuggest`,
                        n = {
                          term: t.replace(" ", "+"),
                          cc: q.c.COUNTRY,
                          l: q.c.LANGUAGE,
                        };
                      const i = yield l.a.get(a, {
                        params: n,
                        withCredentials: !0,
                      });
                      i.data && (e = i.data);
                    }
                    e &&
                      (this.m_searchResultsMenu = Object(v.a)(
                        _.createElement(
                          T.c,
                          { className: Z.SearchResults },
                          e.map((e) =>
                            _.createElement(
                              T.d,
                              {
                                key: e.id,
                                onSelected: () =>
                                  this.OnAddItem(Number(e.id), e.type),
                              },
                              _.createElement(ie, {
                                name: e.name,
                                id: Number(e.id),
                                type: e.type,
                              })
                            )
                          )
                        ),
                        this.m_refInput.current.element,
                        {
                          bOverlapHorizontal: !0,
                          bMatchWidth: !0,
                          bFitToWindow: !0,
                          bDisablePopTop: !0,
                        }
                      ));
                  }),
                300
              )));
          });
        }
        render() {
          return _.createElement(
            "div",
            { className: Z.SaleImportURL },
            _.createElement(j.A, {
              type: "text",
              label: Object(V.f)("#Sale_SelectApps"),
              onChange: this.UpdateAppSuggestions,
              placeholder: Object(V.f)("#Sale_SelectApps_Placeholder"),
              onBlur: () => {
                setTimeout(
                  () =>
                    this.m_searchResultsMenu && this.m_searchResultsMenu.Hide(),
                  200
                );
              },
              ref: this.m_refInput,
              tooltip: Object(V.f)("#Sale_SelectApps_Tooltip"),
            })
          );
        }
      }
      Object(n.b)([H.b], le.prototype, "OnAddItem", null),
        Object(n.b)([H.b], le.prototype, "UpdateAppSuggestions", null);
      let re = class extends _.Component {
        OnApplyFilter(e) {
          const { editModel: t, capsuleContainer: a } = this.props,
            n = Object(o.o)(t);
          (a.sale_tag_filter = e), (a.capsules = Object(o.s)(n, e, a.capsules));
        }
        OnEditFilter() {
          const { capsuleContainer: e } = this.props;
          Object(M.d)(
            _.createElement(he, {
              editModel: this.props.editModel,
              filter: e.sale_tag_filter || { clauses: [] },
              title: Object(V.f)("#Sale_TagFilter_EditFilter"),
              onApplyFilter: this.OnApplyFilter,
              ignoreStartingReferences: e,
            }),
            window
          );
        }
        render() {
          const { capsuleContainer: e } = this.props;
          return _.createElement(
            "div",
            { className: K.FilterDisplayCtn },
            _.createElement(
              "div",
              { className: K.FilterTitle },
              Object(V.f)("#Sale_TagFilter_CurrentFilter"),
              _.createElement(R.b, {
                tooltip: Object(V.f)("#Sale_TagFilter_EditFilter_ttip"),
              })
            ),
            _.createElement(
              "div",
              { className: K.FilterActionsCtn },
              _.createElement(ae, { filter: e.sale_tag_filter }),
              _.createElement(
                j.f,
                { onClick: this.OnEditFilter },
                Object(V.f)("#Sale_TagFilter_EditFilter")
              )
            )
          );
        }
      };
      function oe(e) {
        const { editModel: t } = e,
          [a, n] = _.useState(!1),
          i = Object(p.d)(() => t.GetEventModel().GetTaggedItems()),
          s = Object(p.d)(
            () => t.GetEventModel().jsondata.prune_list_optin_name
          ),
          [c, d] = Object(_.useState)(!0);
        return (
          Object(_.useEffect)(() => {
            var e;
            const t = l.a.CancelToken.source();
            if ((null == i ? void 0 : i.length) > 0) {
              const e = new Array(),
                a = new Array(),
                n = new Array();
              i.forEach((t) => {
                "bundle" == t.capsule.type
                  ? n.push(t.capsule.id)
                  : "sub" == t.capsule.type
                  ? a.push(t.capsule.id)
                  : e.push(t.capsule.id);
              }),
                f.a
                  .Get()
                  .HintLoadStoreItems(null, e, a, n, Q.c)
                  .then(() => {
                    var e;
                    (null === (e = null == t ? void 0 : t.token) || void 0 === e
                      ? void 0
                      : e.reason) || d(!1);
                  });
            } else
              (null === (e = null == t ? void 0 : t.token) || void 0 === e
                ? void 0
                : e.reason) || d(!1);
            return () => t.cancel("TagItemEditor: unmounting");
          }, []),
          _.createElement(
            _.Fragment,
            null,
            _.createElement(
              "div",
              { className: K.TagItemEditorCtn },
              _.createElement(
                F.b,
                { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                _.createElement(Y.c, { editModel: t })
              )
            ),
            !ve(t, S.n.k_EContentHub) &&
              _.createElement(
                _.Fragment,
                null,
                Boolean(!(null == i ? void 0 : i.length) && !a)
                  ? _.createElement(
                      "div",
                      { className: K.TagItemEditorCtn },
                      _.createElement(
                        "div",
                        { className: K.ItemEditDescription },
                        Object(V.f)("#Sale_EditTags_EnableItemEditingDesc")
                      ),
                      _.createElement(
                        j.G,
                        { onClick: () => n(!0) },
                        Object(V.f)("#Sale_EditTags_EnableItemEditing")
                      )
                    )
                  : _.createElement(
                      _.Fragment,
                      null,
                      _.createElement(le, {
                        onAddItem: (e, a) => Object(o.b)(t, a, e),
                      }),
                      c
                        ? _.createElement(N.a, {
                            size: "medium",
                            string: Object(V.f)("#Loading"),
                            position: "center",
                          })
                        : _.createElement(se, { editModel: t })
                    )
              ),
            !ve(t, S.n.k_ETaggedItems) &&
              _.createElement(
                F.b,
                { clanSteamID: t.GetClanSteamID() },
                _.createElement(
                  "div",
                  { className: K.ButtonRow },
                  _.createElement(
                    j.f,
                    {
                      onClick: (e) =>
                        Object(M.d)(
                          _.createElement(Ce, { editModel: t }),
                          Object(U.o)(e)
                        ),
                    },
                    Object(V.f)("#Sale_EditAutoTags"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditAutoTags_ttip"),
                    })
                  )
                )
              ),
            ve(t, S.n.k_EContentHub) &&
              _.createElement(
                F.b,
                { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                _.createElement(
                  "div",
                  { className: K.ButtonRow },
                  _.createElement(j.A, {
                    label: "Opt-In For Prune List",
                    value: s,
                    onChange: (e) => {
                      (t.GetEventModel().jsondata.prune_list_optin_name =
                        e.target.value),
                        t.SetDirty(r.d.jsondata_sales);
                    },
                  })
                )
              )
          )
        );
      }
      function se(e) {
        const { editModel: t } = e,
          [a, n] = _.useState(""),
          [i, l] = _.useState(!1),
          c = Object(p.d)(() => Object(o.q)(t));
        let d = 0,
          m = 0;
        const [u, g, b] = Object(p.d)(() => {
          var e;
          return [
            t.GetClanSteamID(),
            t.GetEventModel().jsondata.tagged_items || [],
            null === (e = t.GetEventModel().jsondata.tagged_items) ||
            void 0 === e
              ? void 0
              : e.length,
          ];
        });
        Object(_.useEffect)(() => {
          const e = t.GetEventModel().jsondata.tagged_items || [];
          Object(G.g)(
            e.map((e) => e.capsule),
            Q.c
          );
        }, [t]);
        const E = g.map((e, n) => {
            const l = Object(o.h)(e.tags, c);
            return (
              l ? d++ : m++,
              l || i
                ? _.createElement(de, {
                    key: e.capsule.type + e.capsule.id,
                    item: e,
                    strSearchFilter: a,
                    editModel: t,
                    onRemove: () => {
                      n >= 0 &&
                        n < g.length &&
                        (t.GetEventModel().GetTaggedItems().splice(n, 1),
                        t.SetDirty(r.d.jsondata_sales));
                    },
                  })
                : null
            );
          }),
          h = Object(p.d)(() => Object(s.a)("TaggedItemList", !1));
        return _.createElement(
          "div",
          { className: Object(P.a)(K.ItemListCtn, K.TagItemEditorCtn) },
          _.createElement(
            "div",
            { className: K.ItemListTitle },
            _.createElement(
              "div",
              { className: J.SaleSectionTitleHeader },
              _.createElement(
                "div",
                { className: D.EventEditorTextTitle },
                Boolean(m > 0)
                  ? Object(V.f)("#Sale_TaggedItemsCountFiltered", d, m)
                  : Object(V.f)("#Sale_TaggedItemsCount", d),
                _.createElement(R.b, {
                  tooltip: Object(V.f)("#Sale_TaggedItemsCount_ttip"),
                })
              ),
              _.createElement(R.a, {
                bIsMinimized: h,
                fnToggleMinimize: () => Object(s.d)("TaggedItemList", !1),
              })
            ),
            _.createElement(
              "div",
              { className: K.ItemListControls },
              _.createElement(
                "div",
                { className: K.ButtonRow },
                _.createElement(
                  j.f,
                  {
                    onClick: () => {
                      const e = { clauses: new Array() };
                      Object(M.d)(
                        _.createElement(he, {
                          editModel: t,
                          filter: e,
                          title: Object(V.f)("#Sale_TagFilter_Explore"),
                        }),
                        window
                      );
                    },
                  },
                  Object(V.f)("#Sale_Explore"),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_ExploreTaggedItems_ttip"),
                  })
                ),
                _.createElement(
                  j.f,
                  {
                    onClick: (e) =>
                      Object(M.d)(
                        _.createElement(Se, {
                          editModel: t,
                          bRemoveMissingEntries: !0,
                        }),
                        Object(U.o)(e)
                      ),
                  },
                  Object(V.f)("#Sale_EditRaw"),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_EditRawTaggedItems_ttip"),
                  })
                ),
                _.createElement(
                  j.f,
                  {
                    onClick: (e) =>
                      Object(M.d)(
                        _.createElement(fe, { editModel: t }),
                        Object(U.o)(e)
                      ),
                  },
                  Object(V.f)("#Sale_SyncTaggedItems"),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_SyncTaggedItems_ttip"),
                  })
                )
              ),
              _.createElement(
                F.b,
                { clanSteamID: u },
                _.createElement(
                  "div",
                  { className: K.ButtonRow },
                  _.createElement(
                    j.f,
                    {
                      onClick: (e) =>
                        Object(M.d)(
                          _.createElement(he, {
                            editModel: t,
                            filter: Object(o.q)(t),
                            title: Object(V.f)("#Sale_TagFilter_EditFilter"),
                            onApplyFilter: (e) => {
                              (t.GetEventModel().jsondata.tagged_item_filter = e),
                                Object(o.v)(t),
                                t.SetDirty(r.d.jsondata_sales);
                            },
                            ignoreEventFilter: !0,
                          }),
                          Object(U.o)(e)
                        ),
                    },
                    Object(V.f)("#Sale_EditTaggedItemFilter"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditTaggedItemFilter_ttip"),
                    })
                  ),
                  _.createElement(ce, { editModel: t }),
                  _.createElement(
                    j.f,
                    {
                      onClick: (e) =>
                        Object(M.d)(
                          _.createElement(Se, {
                            editModel: t,
                            collection: o.j.Custom,
                            bRemoveMissingEntries: !1,
                          }),
                          Object(U.o)(e)
                        ),
                    },
                    Object(V.f)("#Sale_EditRawCustom"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)(
                        "#Sale_EditRawCustomTaggedItems_ttip"
                      ),
                    })
                  ),
                  _.createElement(
                    j.f,
                    {
                      onClick: (e) =>
                        Object(M.d)(
                          _.createElement(be, { editModel: t }),
                          Object(U.o)(e)
                        ),
                    },
                    Object(V.f)("#Sale_BatchEditTaggedItems"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_BatchEditTaggedItems_ttip"),
                    })
                  ),
                  _.createElement(
                    j.f,
                    {
                      onClick: (e) =>
                        Object(M.d)(
                          _.createElement(Ce, { editModel: t }),
                          Object(U.o)(e)
                        ),
                    },
                    Object(V.f)("#Sale_EditAutoTags"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditAutoTags_ttip"),
                    })
                  ),
                  Boolean(m > 0) &&
                    _.createElement(
                      j.f,
                      {
                        onClick: () => {
                          Object(o.g)(t) && t.SetDirty(r.d.jsondata_sales);
                        },
                      },
                      Object(V.f)("#Sale_DeleteFilteredItems"),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_DeleteFilteredItems_ttip"),
                      })
                    )
                )
              )
            )
          ),
          !h &&
            _.createElement(
              "div",
              { className: K.ItemList },
              Boolean(m > 0) &&
                _.createElement(j.g, {
                  label: Object(V.f)("#Sale_ShowFilteredTaggedItems"),
                  tooltip: Object(V.f)("#Sale_ShowFilteredTaggedItems_ttip"),
                  checked: i,
                  onChange: (e) => l(e),
                }),
              _.createElement(j.A, {
                type: "text",
                label: Object(V.f)("#Sale_TaggedItemsFilter"),
                placeholder: Object(V.f)("#Sale_TaggedItemsFilter"),
                onChange: (e) => n(e.target.value.toLowerCase()),
                tooltip: Object(V.f)("#Sale_TaggedItemsFilter_ttip"),
              }),
              E
            ),
          _.createElement(
            F.b,
            { clanSteamID: u, requireAdmin: !0 },
            _.createElement(
              j.f,
              {
                onClick: (e) =>
                  Object(M.d)(
                    _.createElement(Te, { editModel: t }),
                    Object(U.o)(e)
                  ),
              },
              "Force Update Featured App Tags"
            )
          )
        );
      }
      function ce(e) {
        const { editModel: t } = e,
          a = Object(p.d)(() => t.GetEventModel().GetTaggedItems());
        return _.createElement(
          j.f,
          {
            onClick: (e) => {
              Object(M.d)(
                _.createElement(d.a, {
                  onDiscountEventSelected: (e, i) =>
                    Object(n.a)(this, void 0, void 0, function* () {
                      const n = new Array();
                      e.forEach((e) => {
                        if (
                          !a.find(
                            (t) =>
                              t.capsule.id === e && "sub" !== t.capsule.type
                          )
                        ) {
                          const t = f.a.Get().GetApp(e),
                            a = Object(O.a)(
                              null == t ? void 0 : t.GetStoreItemType(),
                              null == t ? void 0 : t.GetAppType()
                            );
                          n.push({ capsule: { id: e, type: a }, tags: [] });
                        }
                      }),
                        i.forEach((e) => {
                          a.find(
                            (t) =>
                              t.capsule.id === e && "sub" === t.capsule.type
                          ) ||
                            n.push({
                              capsule: { id: e, type: "sub" },
                              tags: [],
                            });
                        }),
                        0 != n.length &&
                          (yield Object(o.x)(t, n),
                          t
                            .GetEventModel()
                            .GetTaggedItems()
                            .push(...n),
                          t.SetDirty(r.d.jsondata_sales));
                    }),
                }),
                window
              );
            },
          },
          Object(V.f)("#Sale_DiscountEvent_Add"),
          _.createElement(R.b, {
            tooltip: Object(V.f)("#Sale_DiscountEvent_ttip"),
          })
        );
      }
      Object(n.b)([H.b], re.prototype, "OnApplyFilter", null),
        Object(n.b)([H.b], re.prototype, "OnEditFilter", null),
        (re = Object(n.b)([u.a], re));
      const de = Object(u.a)((e) =>
          _.createElement(
            w.a,
            { className: K.TagItemCtn },
            _.createElement(me, Object.assign({}, e))
          )
        ),
        me = Object(u.a)((e) => {
          var t;
          const {
              item: a,
              onRemove: n,
              strSearchFilter: i,
              tagHighlight: l,
              filter: r,
              editModel: o,
              onTagsModified: s,
            } = e,
            [c, d] = _.useState(!1),
            m = () => {
              Object(M.d)(
                _.createElement(ge, {
                  editModel: o,
                  item: a,
                  onTagsModified: s,
                }),
                window
              );
            },
            { capsule: u } = a,
            [p, g] = Object(C.c)(u.id, Object(O.d)(u.type), Q.c),
            b = Object(V.f)("#AppType_" + u.type),
            E = u.id,
            h = (null == p ? void 0 : p.GetName()) || null;
          if (
            i &&
            (h || "").toLowerCase().search(i) < 0 &&
            String(E || "").search(i) < 0
          )
            return null;
          if (1 == g)
            return _.createElement(N.a, {
              size: "small",
              string: Object(V.f)("#Loading") + " " + u.id + " " + u.type,
            });
          const v = l ? l.toLocaleLowerCase() : void 0;
          return _.createElement(
            _.Fragment,
            null,
            _.createElement(
              L.c,
              {
                className: K.TagItemImageCtn,
                bDisableContextMenu: !0,
                href:
                  (null == p ? void 0 : p.GetStorePageURL()) || Object(Q.a)(u),
              },
              Boolean(p) &&
                _.createElement("img", {
                  loading: "lazy",
                  className: Z.SaleCapsuleImg,
                  src: p.GetAssets().GetHeaderURL(),
                })
            ),
            _.createElement(
              "div",
              { className: K.NameAndTagCtn },
              _.createElement(
                "div",
                { className: K.NameCtn },
                h,
                "(",
                E,
                ")",
                _.createElement(
                  "span",
                  { className: Z.SmallText },
                  "(",
                  b,
                  ")"
                ),
                !p &&
                  _.createElement(
                    "div",
                    { className: Z.SaleCapsuleConflict },
                    Object(V.f)("#Sale_NotFoundCapsule"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)(
                        "#Sale_NotFoundCapsule_Tooltip",
                        b,
                        u.id
                      ),
                    })
                  )
              ),
              _.createElement(
                "div",
                { className: K.TagSummaryCtn },
                _.createElement(
                  "span",
                  { className: K.TagSummary, onClick: m },
                  Object(V.f)(
                    "#Sale_EditTags_TagCount",
                    (null === (t = a.tags) || void 0 === t
                      ? void 0
                      : t.length) || 0
                  )
                ),
                _.createElement(
                  "span",
                  { className: K.TagShowToggle, onClick: () => d(!c) },
                  Object(V.f)(c ? "#Sale_EditTags_Hide" : "#Sale_EditTags_Show")
                )
              ),
              c &&
                _.createElement(
                  "div",
                  { onClick: m },
                  _.createElement(pe, {
                    item: a,
                    lowerTagHighlight: v,
                    filter: r,
                  })
                )
            ),
            n && _.createElement(ee, { onClick: n })
          );
        });
      function ue(e, t, a) {
        var n;
        const i = e.toLocaleLowerCase();
        if (t && i === t) return K.TagHighlight;
        if (null == a ? void 0 : a.clauses)
          for (const e of a.clauses)
            if (
              null === (n = e.or_tags) || void 0 === n
                ? void 0
                : n.find((e) => i === e.toLocaleLowerCase())
            )
              return "Must have" === e.type ? K.TagMustHave : K.TagMustNotHave;
        return null;
      }
      const pe = Object(u.a)((e) => {
          const { item: t } = e,
            a = Array.from(t.tags),
            n = (function (e, t) {
              var a;
              if (!(null == t ? void 0 : t.clauses)) return null;
              let n = null;
              for (const i of t.clauses)
                if (
                  "Must have" === i.type &&
                  (null === (a = i.or_tags) || void 0 === a ? void 0 : a.length)
                ) {
                  let t = !1,
                    a = 0;
                  for (const n of i.or_tags)
                    if (n && (a++, e.find((e) => e === n))) {
                      t = !0;
                      break;
                    }
                  a > 0 &&
                    !t &&
                    ((n = n || []),
                    n.push(
                      Object(V.f)("#Sale_TagFilter_Missing") +
                        i.or_tags.join(
                          " " + Object(V.f)("#Sale_TagFilter_Or") + " "
                        )
                    ));
                }
              return n;
            })(t.tags, e.filter);
          return 0 !== a.length || n
            ? (a.sort((e, t) => e.localeCompare(t)),
              _.createElement(
                "div",
                { className: K.TagListCtn },
                a.map((t) =>
                  _.createElement(_e, {
                    key: t,
                    tag: t,
                    className: ue(t, e.lowerTagHighlight, e.filter),
                  })
                ),
                n &&
                  n.map((e) =>
                    _.createElement(_e, {
                      key: e,
                      tag: e,
                      className: K.TagMissingMustHave,
                    })
                  )
              ))
            : _.createElement(
                "div",
                { className: K.TagListCtn },
                Object(V.f)("#Sale_TagFilter_AddTags")
              );
        }),
        _e = (e) => {
          const t = Object(o.k)(e.tag);
          return _.createElement(
            "div",
            {
              className: Object(P.a)(
                K.ItemTag,
                e.className,
                t && "TagCollection_" + t
              ),
            },
            e.tag
          );
        };
      let ge = class extends _.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              currentTags: [...this.props.item.tags],
              defaultTags: null,
              otherTags: null,
              startingSections: this.GetIncludedSections(this.props.item.tags),
              includedSections: this.GetIncludedSections(this.props.item.tags),
            });
        }
        componentDidMount() {
          this.LoadAppDefaultTags();
        }
        GetIncludedSections(e) {
          const { editModel: t, item: a } = this.props,
            n = [],
            i = a.capsule;
          return (
            t
              .GetEventModel()
              .GetSaleSections()
              .forEach((a, l) => {
                let r = !1;
                a.sale_tag_filter
                  ? (r = Object(o.h)(e, a.sale_tag_filter))
                  : a.capsules &&
                    (r = Boolean(
                      a.capsules.find((e) => e.type === i.type && e.id === i.id)
                    )),
                  r && n.push(Object(Y.b)(a, t.GetCurEditLanguage(), t, l, !0));
              }),
            n.sort((e, t) => e.localeCompare(t)),
            n
          );
        }
        LoadAppDefaultTags() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const e = { capsule: this.props.item.capsule, tags: [] };
            yield Object(o.x)(this.props.editModel, [e]);
            const t = new Set();
            e.tags.forEach((e) => t.add(e));
            const a = new Map();
            for (const e of this.props.editModel
              .GetEventModel()
              .GetTaggedItems())
              e.tags && e.tags.forEach((e) => a.set(e.toLocaleLowerCase(), e));
            t.forEach((e) => a.set(e.toLocaleLowerCase(), e)),
              this.setState({ defaultTags: t, otherTags: a });
          });
        }
        UpdateTagList(e) {
          this.setState({
            currentTags: e,
            includedSections: this.GetIncludedSections(e),
          });
        }
        RemoveTag(e) {
          const t = e.toLocaleLowerCase(),
            a = this.state.currentTags.filter(
              (e) => e.toLocaleLowerCase() != t
            );
          this.UpdateTagList(a);
        }
        AddTag(e) {
          const { currentTags: t } = this.state,
            a = (e = X(e)).toLocaleLowerCase();
          if (
            (ne.Get(this.props.editModel).AddRecentTag(e),
            t.find((e) => e.toLocaleLowerCase() === a))
          )
            return;
          const n = this.state.otherTags.get(a);
          n && (e = n), this.UpdateTagList([...t, e]);
        }
        OnOK() {
          Object(o.c)(this.props.item, this.state.currentTags) &&
            (Object(o.w)(
              this.props.editModel.GetEventModel().jsondata.auto_item_tags,
              this.props.item
            ),
            Object(o.v)(this.props.editModel),
            this.props.onTagsModified && this.props.onTagsModified(),
            this.props.editModel.SetDirty(r.d.jsondata_sales)),
            this.props.closeModal();
        }
        RenderSectionList() {
          const { startingSections: e, includedSections: t } = this.state;
          return t.map((t, a) => {
            const n = !e.find((e) => t === e);
            return _.createElement(
              "div",
              { key: a, className: n ? K.SectionAdded : K.SectionUnchanged },
              t
            );
          });
        }
        render() {
          const { item: e, closeModal: t } = this.props,
            { currentTags: a, defaultTags: n, otherTags: i } = this.state;
          if (!n) return _.createElement(N.a, null);
          const l = new Set();
          a.forEach((e) => l.add(e.toLocaleLowerCase()));
          const r = [...a];
          r.sort((e, t) => e.localeCompare(t));
          const o = r.map((e) => {
              const t = n.has(e),
                a = Object(P.a)(K.EditTag, K.AppliedTag, t && K.DefaultTag);
              return _.createElement(
                "div",
                { key: e, className: a, onClick: () => this.RemoveTag(e) },
                e
              );
            }),
            s = new Array();
          i.forEach((e, t) => {
            l.has(t) || s.push(e);
          }),
            s.sort((e, t) => e.localeCompare(t));
          const c = [];
          s.forEach((e) => {
            if (n.has(e)) {
              const t = Object(P.a)(K.EditTag, K.OtherTag, K.DefaultTag);
              c.push(
                _.createElement(
                  "div",
                  { key: e, className: t, onClick: () => this.AddTag(e) },
                  e
                )
              );
            }
          });
          const d = [];
          ne.Get(this.props.editModel)
            .GetRecentTags()
            .forEach((e) => {
              if (!l.has(e.toLocaleLowerCase())) {
                const t = n.has(e),
                  a = Object(P.a)(K.EditTag, K.OtherTag, t && K.DefaultTag);
                d.push(
                  _.createElement(
                    "div",
                    { key: e, className: a, onClick: () => this.AddTag(e) },
                    e
                  )
                );
              }
            });
          const m = this.RenderSectionList(),
            u = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            p = s.map((e) => ({ label: e, value: e }));
          return _.createElement(
            A.f,
            {
              onCancel: t,
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              className: I.NotTooWideModal,
            },
            _.createElement(
              j.z,
              { className: K.EditTagsTitle },
              _.createElement(Q.b, { capsule: e.capsule })
            ),
            _.createElement(
              j.d,
              null,
              _.createElement(
                "div",
                { className: K.EditTagsBody },
                _.createElement(
                  "div",
                  { className: K.ColumnList },
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.TagColumnTitle },
                      Object(V.f)("#Sale_EditTags_Applied", a.length),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_EditTags_Applied_ttip"),
                      })
                    ),
                    _.createElement("div", { className: K.TagColumnList }, o)
                  ),
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    c.length > 0 &&
                      _.createElement(
                        "div",
                        { className: K.SmallColumn },
                        _.createElement(
                          "div",
                          { className: K.TagColumnTitle },
                          Object(V.f)("#Sale_EditTags_Store", c.length),
                          _.createElement(R.b, {
                            tooltip: Object(V.f)("#Sale_EditTags_Store_ttip"),
                          })
                        ),
                        _.createElement(
                          "div",
                          { className: K.TagColumnList },
                          c
                        )
                      ),
                    _.createElement(
                      "div",
                      { className: K.FillColumn },
                      _.createElement(
                        "div",
                        { className: K.TagColumnTitle },
                        Object(V.f)("#Sale_EditTags_RecentTags"),
                        _.createElement(R.b, {
                          tooltip: Object(V.f)(
                            "#Sale_EditTags_RecentTags_ttip"
                          ),
                        })
                      ),
                      _.createElement("div", { className: K.TagColumnList }, d)
                    )
                  ),
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.TagColumnTitle },
                      Object(V.f)("#Sale_EditTags_Sections", m.length),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_EditTags_Sections_ttip"),
                      })
                    ),
                    _.createElement("div", { className: K.TagColumnList }, m)
                  )
                ),
                _.createElement(
                  "div",
                  { className: K.AddTagCtn },
                  _.createElement(
                    "div",
                    { className: K.TagColumnTitle },
                    Object(V.f)("#Sale_EditTags_NewTagName"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditTags_NewTagName_ttip"),
                    })
                  ),
                  _.createElement(b.a, {
                    styles: u,
                    isSearchable: !0,
                    isMulti: !1,
                    isClearable: !0,
                    onChange: (e) => {
                      (null == e ? void 0 : e.value) && this.AddTag(e.value);
                    },
                    options: p,
                    defaultMenuIsOpen: !1,
                    menuPlacement: "top",
                  })
                ),
                _.createElement(
                  "div",
                  { className: K.OKButton },
                  _.createElement(
                    j.G,
                    { onClick: this.OnOK },
                    Object(V.f)("#Sale_TagFilter_OK")
                  )
                )
              )
            )
          );
        }
      };
      Object(n.b)([H.b], ge.prototype, "RemoveTag", null),
        Object(n.b)([H.b], ge.prototype, "AddTag", null),
        Object(n.b)([H.b], ge.prototype, "OnOK", null),
        (ge = Object(n.b)([u.a], ge));
      let be = class extends _.Component {
        constructor() {
          super(...arguments),
            (this.m_timerForChange = new x.b()),
            (this.state = {
              editItems: this.props.editModel.GetEventModel().GetTaggedItems(),
              modifiedTags: new Map(),
              currentTags: new Map(),
              otherTags: Object(o.n)(
                this.props.editModel.GetEventModel().GetTaggedItems()
              ),
              editText: "",
              filter: { clauses: new Array() },
            });
        }
        componentDidMount() {
          this.UpdateCurrentTagToItemMap();
        }
        CloneModifiedTags() {
          const e = new Map();
          return this.state.modifiedTags.forEach((t, a) => e.set(a, t)), e;
        }
        OnApplyFilter(e) {
          const t = Object(o.l)(
              this.props.editModel.GetEventModel().GetTaggedItems(),
              e
            ),
            a = t.map((e) => e.capsule.id);
          a.sort((e, t) => e - t);
          const n = a.join("\n");
          this.setState({ filter: e, editText: n, editItems: t });
        }
        OnPopulateFromFilter() {
          new Array();
          Object(M.d)(
            _.createElement(he, {
              editModel: this.props.editModel,
              filter: this.state.filter,
              onApplyFilter: this.OnApplyFilter,
              title: Object(V.f)("#Sale_TagFilter_EditFilter"),
            }),
            window
          );
        }
        RemoveTag(e) {
          const t = e.toLocaleLowerCase(),
            a = this.CloneModifiedTags();
          for (const e of this.state.editItems) {
            const n = (a.get(e) || e.tags || []).filter(
              (e) => e.toLocaleLowerCase() != t
            );
            a.set(e, n);
          }
          this.setState({ modifiedTags: a }, () =>
            this.UpdateCurrentTagToItemMap()
          );
        }
        AddTag(e) {
          const t = (e = X(e)).toLocaleLowerCase(),
            a = this.state.otherTags.get(t);
          a && (e = a.properCaseString);
          const n = this.CloneModifiedTags();
          ne.Get(this.props.editModel).AddRecentTag(e);
          for (const a of this.state.editItems) {
            const i = n.get(a) || a.tags || [];
            i.find((e) => e.toLocaleLowerCase() === t) || n.set(a, [...i, e]);
          }
          this.setState({ modifiedTags: n }, () =>
            this.UpdateCurrentTagToItemMap()
          );
        }
        OnOK() {
          let e = !1;
          this.state.modifiedTags.forEach((t, a) => {
            Object(o.c)(a, t) &&
              ((e = !0),
              Object(o.w)(
                this.props.editModel.GetEventModel().jsondata.auto_item_tags,
                a
              ));
          }),
            e &&
              (Object(o.v)(this.props.editModel),
              this.props.editModel.SetDirty(r.d.jsondata_sales)),
            this.props.closeModal();
        }
        UpdateCurrentTagToItemMap() {
          const e = new Map();
          for (const t of this.state.editItems) {
            const a = this.state.modifiedTags.get(t) || t.tags || [];
            Object(o.a)(t, a, e);
          }
          this.setState({ currentTags: e });
        }
        OnUpdateItemListFromText() {
          const e = this.state.editText,
            t = /.*?(\d\d\d+)/gm,
            a = new Set();
          for (;;) {
            const n = t.exec(e);
            if (null === n) break;
            a.add(Number(n[1]));
          }
          let n = this.props.editModel.GetEventModel().GetTaggedItems();
          a.size > 0 && (n = n.filter((e) => a.has(e.capsule.id))),
            this.setState({ editItems: n }, () =>
              this.UpdateCurrentTagToItemMap()
            );
        }
        OnTextChanged(e) {
          this.setState({ editText: e }),
            this.m_timerForChange.Cancel(),
            this.m_timerForChange.Schedule(300, this.OnUpdateItemListFromText);
        }
        render() {
          const { closeModal: e } = this.props,
            { editItems: t, currentTags: a, otherTags: n } = this.state,
            i = new Array();
          a.forEach((e, t) => {
            i.push({ tag: e.properCaseString, count: e.items.length });
          }),
            i.sort((e, t) => e.tag.localeCompare(t.tag));
          const l = i.map((e) => {
              const t = Object(P.a)(K.EditTag, K.AppliedTag);
              return _.createElement(
                "div",
                {
                  key: e.tag,
                  className: t,
                  onClick: () => this.RemoveTag(e.tag),
                },
                e.tag + " (" + e.count + ")"
              );
            }),
            r = new Array();
          n.forEach((e, t) => {
            r.push(e.properCaseString);
          }),
            r.sort((e, t) => e.localeCompare(t));
          const o = [];
          ne.Get(this.props.editModel)
            .GetRecentTags()
            .forEach((e) => {
              const t = Object(P.a)(K.EditTag, K.OtherTag);
              o.push(
                _.createElement(
                  "div",
                  { key: e, className: t, onClick: () => this.AddTag(e) },
                  e
                )
              );
            });
          const s = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            c = r.map((e) => ({ label: e, value: e })),
            d = i.map((e) => ({
              label: e.tag + " (" + e.count + ")",
              value: e.tag,
            }));
          return _.createElement(
            A.f,
            {
              onCancel: e,
              closeModal: e,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              className: I.NotTooWideModal,
            },
            _.createElement(
              j.d,
              null,
              _.createElement(
                "div",
                { className: K.EditTagsBody },
                _.createElement(
                  "div",
                  { className: K.ColumnList },
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.TagColumnTitle },
                      Object(V.f)("#Sale_EditTags_BatchItemText", t.length),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)(
                          "#Sale_EditTags_BatchItemText_ttip"
                        ),
                      })
                    ),
                    _.createElement("textarea", {
                      value: this.state.editText,
                      cols: 60,
                      onChange: (e) =>
                        this.OnTextChanged(e.currentTarget.value),
                    }),
                    _.createElement(
                      "div",
                      {
                        className: K.PopulateByFilter,
                        onClick: this.OnPopulateFromFilter,
                      },
                      Object(V.f)("#Sale_EditTags_BatchFilter"),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_EditTags_BatchFilter_ttip"),
                      })
                    )
                  ),
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.TagColumnTitle },
                      Object(V.f)("#Sale_EditTags_BatchItems", t.length),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_EditTags_BatchItems_ttip"),
                      })
                    ),
                    _.createElement(
                      "div",
                      { className: K.TagColumnList },
                      t.map((e) =>
                        _.createElement(
                          "div",
                          { key: e.capsule.id },
                          _.createElement(Q.b, { capsule: e.capsule })
                        )
                      )
                    )
                  ),
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.TagColumnTitle },
                      Object(V.f)("#Sale_EditTags_Applied", a.size),
                      _.createElement(R.b, {
                        tooltip: Object(V.f)("#Sale_EditTags_Applied_ttip"),
                      })
                    ),
                    _.createElement("div", { className: K.TagColumnList }, l)
                  ),
                  _.createElement(
                    "div",
                    { className: K.TagColumn },
                    _.createElement(
                      "div",
                      { className: K.FillColumn },
                      _.createElement(
                        "div",
                        { className: K.TagColumnTitle },
                        Object(V.f)("#Sale_EditTags_RecentTags"),
                        _.createElement(R.b, {
                          tooltip: Object(V.f)(
                            "#Sale_EditTags_RecentTags_ttip"
                          ),
                        })
                      ),
                      _.createElement("div", { className: K.TagColumnList }, o)
                    )
                  )
                ),
                _.createElement(
                  "div",
                  { className: K.AddTagCtn },
                  _.createElement(
                    "div",
                    { className: K.TagColumnTitle },
                    Object(V.f)("#Sale_EditTags_NewTagName"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditTags_NewTagName_ttip"),
                    })
                  ),
                  _.createElement(b.a, {
                    styles: s,
                    isSearchable: !0,
                    isMulti: !1,
                    isClearable: !0,
                    onChange: (e) => {
                      (null == e ? void 0 : e.value) && this.AddTag(e.value);
                    },
                    options: c,
                    defaultMenuIsOpen: !1,
                    menuPlacement: "top",
                  }),
                  _.createElement(
                    "div",
                    { className: K.TagColumnTitle },
                    Object(V.f)("#Sale_EditTags_RemoveTagName"),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_EditTags_RemoveTagName_ttip"),
                    })
                  ),
                  _.createElement(g.a, {
                    styles: s,
                    isSearchable: !0,
                    isMulti: !1,
                    isClearable: !0,
                    onChange: (e) => {
                      (null == e ? void 0 : e.value) && this.RemoveTag(e.value);
                    },
                    options: d,
                    defaultMenuIsOpen: !1,
                    menuPlacement: "top",
                  })
                ),
                _.createElement(
                  "div",
                  { className: K.OKButton },
                  _.createElement(
                    j.G,
                    { onClick: this.OnOK },
                    Object(V.f)("#Sale_TagFilter_OK")
                  )
                )
              )
            )
          );
        }
      };
      function Ee(e) {
        const {
            onClauseChanged: t,
            value: a,
            taggedItems: n,
            filter: i,
            clauseIndex: l,
            tagIndex: r,
            rgOptions: s,
          } = e,
          [c, d] = _.useState(new Array()),
          m = { label: Object(V.f)("#Sale_TagFilter_SelectTag"), value: "" },
          u = a ? { label: a, value: a } : m,
          p = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          };
        return _.createElement(g.a, {
          styles: p,
          isSearchable: !0,
          isMulti: !1,
          onChange: (e) => t(e.value),
          value: u,
          options: c,
          defaultMenuIsOpen: c.length > 0,
          onMenuOpen: () => {
            if (s) d(s);
            else {
              const e = Object(o.n)(n),
                t = [m],
                a = i.clauses[l].or_tags[r];
              i.clauses[l].or_tags[r] = "";
              let s = !0;
              i.clauses.forEach((e) => {
                e.or_tags.some(Boolean) && (s = !1);
              });
              const c = s ? n : Object(o.l)(n, i),
                u = new Set(c.map((e) => e.capsule.id));
              e.forEach((e) => {
                i.clauses[l].or_tags[r] = e.properCaseString;
                let a = 0,
                  n = 0;
                s
                  ? (n =
                      "Must have" === i.clauses[0].type
                        ? c.length - e.items.length
                        : e.items.length)
                  : e.items.forEach((e) => {
                      const t = Object(o.h)(e.tags, i);
                      t != u.has(e.capsule.id) && (t ? a++ : n++);
                    });
                const d = c.length + a - n;
                t.push({
                  label: `${e.properCaseString} (${d})`,
                  value: e.properCaseString,
                });
              }),
                (i.clauses[l].or_tags[r] = a),
                t.sort((e, t) => e.value.localeCompare(t.value)),
                d(t);
            }
          },
          onMenuClose: () => {
            d([]);
          },
          menuPlacement: "bottom",
        });
      }
      Object(n.b)([H.b], be.prototype, "OnApplyFilter", null),
        Object(n.b)([H.b], be.prototype, "OnPopulateFromFilter", null),
        Object(n.b)([H.b], be.prototype, "RemoveTag", null),
        Object(n.b)([H.b], be.prototype, "AddTag", null),
        Object(n.b)([H.b], be.prototype, "OnOK", null),
        Object(n.b)([H.b], be.prototype, "OnUpdateItemListFromText", null),
        Object(n.b)([H.b], be.prototype, "OnTextChanged", null),
        (be = Object(n.b)([u.a], be));
      class he extends _.Component {
        constructor() {
          super(...arguments), (this.state = this.GenerateInitialState());
        }
        componentDidMount() {
          ve(this.props.editModel, S.n.k_ETaggedItems) ||
            this.LoadDropdownOptions().then((e) => {
              this.setState({
                tagDropdownOptions: e,
                bDropdownOptionsLoaded: !0,
              });
            });
        }
        LoadDropdownOptions() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const e = yield (function (e) {
                return Object(n.a)(this, void 0, void 0, function* () {
                  yield y.a.EnsureLoaded();
                  const t = [];
                  y.a.GetTagNameForTagID().forEach((e, a) => {
                    t.push({ tagid: a, name: e });
                  });
                  const a = t.map((e) => Object(o.f)(e.name, "Store")),
                    n = [
                      "Linux",
                      "Mac",
                      "VR",
                      "VR Only",
                      "Full Controller",
                      "Remote Play",
                      "Remote Play Together",
                      "Free",
                      "Discounted",
                      "Coop",
                      "Steam Deck Playable",
                      "Steam Deck Verified",
                      "Adult Only Sexual Content",
                      "Nudity or Sexual Content",
                      "Violence or Gore",
                    ].map((e) => Object(o.f)(e, "Feature")),
                    i = Object(o.p)().map((e) => Object(o.f)(e, o.j.AppType)),
                    l = a.concat(n, i);
                  return (
                    null == e ||
                      e.forEach((e) => {
                        l.unshift(Object(o.f)(e.tag_name, "Auto"));
                      }),
                    l
                  );
                });
              })(this.props.editModel.GetEventModel().jsondata.auto_item_tags),
              t = [
                { label: Object(V.f)("#Sale_TagFilter_SelectTag"), value: "" },
              ];
            return e.forEach((e) => t.push({ label: e, value: e })), t;
          });
        }
        GenerateInitialState() {
          const e = this.SetupInitialFilter(),
            t = this.GenerateStartingUnreferencedItems();
          return Object.assign(
            {
              tagDropdownOptions: this.GenerateTagDropDownOptions(),
              bDropdownOptionsLoaded: ve(
                this.props.editModel,
                S.n.k_ETaggedItems
              ),
              currentFilter: e,
              tagHighlight: "",
              showTagBreakdown: !1,
              showMode: "active",
              strSearch: "",
              startingUnreferencedItems: t,
            },
            this.CalcualateItemsAndTags(e, t)
          );
        }
        GetFilteredItems() {
          return this.props.ignoreEventFilter
            ? this.props.editModel.GetEventModel().GetTaggedItems()
            : Object(o.o)(this.props.editModel);
        }
        GenerateStartingUnreferencedItems() {
          const { editModel: e } = this.props,
            t = new Map(),
            a = this.GetFilteredItems();
          for (const e of a) t.set(e.capsule.type + e.capsule.id, e);
          for (const a of e.GetEventModel().GetSaleSections())
            if (
              (!this.props.ignoreStartingReferences ||
                a.capsules !== this.props.ignoreStartingReferences.capsules) &&
              null != a.capsules
            )
              for (const e of a.capsules) t.delete(e.type + e.id);
          return Array.from(t.values());
        }
        CalcualateItemsAndTags(e, t) {
          const { editModel: a } = this.props,
            n = this.GetFilteredItems(),
            i = Object(o.l)(n, e),
            l = new Set(i),
            r = n.filter((e) => !l.has(e)),
            s = t.filter((e) => !l.has(e));
          return {
            activeItems: i,
            activeTagBreakdown: Object(o.n)(i),
            filteredItems: r,
            filteredTagBreakdown: Object(o.n)(r),
            unusedItems: s,
            unusedTagBreakdown: Object(o.n)(s),
          };
        }
        GenerateTagDropDownOptions() {
          const e = Object(o.n)(this.GetFilteredItems()),
            t = [
              { label: Object(V.f)("#Sale_TagFilter_SelectTag"), value: "" },
            ];
          return (
            e.forEach((e) =>
              t.push({
                label: `${e.properCaseString} (${e.items.length})`,
                value: e.properCaseString,
              })
            ),
            t.sort((e, t) => e.value.localeCompare(t.value)),
            t
          );
        }
        SanitizeFilter(e) {
          var t;
          for (const a of e.clauses)
            a.or_tags =
              null === (t = a.or_tags) || void 0 === t
                ? void 0
                : t.filter((e) => Boolean(e));
          e.clauses = e.clauses.filter((e) => {
            var t;
            return Boolean(
              null === (t = e.or_tags) || void 0 === t ? void 0 : t.length
            );
          });
        }
        SetupInitialFilter() {
          const e = Object(o.e)(this.props.filter);
          this.SanitizeFilter(e),
            e.clauses || (e.clauses = new Array()),
            0 === e.clauses.length &&
              e.clauses.push({ type: "Must have", or_tags: new Array("") });
          for (const t of e.clauses)
            (t.or_tags && 0 !== t.or_tags.length) ||
              (t.or_tags = new Array(""));
          return e;
        }
        RenderFilterClause(e, t) {
          const a = [
              {
                label: Object(V.f)("#Sale_TagFilter_MustHave"),
                data: "Must have",
              },
              {
                label: Object(V.f)("#Sale_TagFilter_MustNotHave"),
                data: "Must not have",
              },
            ],
            n = this.GetFilteredItems();
          let i;
          ve(this.props.editModel, S.n.k_ETaggedItems) ||
            (i = this.state.tagDropdownOptions);
          const l = e.or_tags.map((e, a) =>
              _.createElement(
                "div",
                { className: K.ClauseTagList, key: "Clause" + t + "_" + a },
                a > 0 &&
                  _.createElement(
                    "div",
                    { className: K.OrLabel },
                    Object(V.f)("#Sale_TagFilter_Or")
                  ),
                _.createElement(
                  "div",
                  { className: K.TagDropDown },
                  _.createElement(Ee, {
                    taggedItems: n,
                    value: e,
                    onClauseChanged: (e) => this.OnChangeClauseTag(t, a, e),
                    clauseIndex: t,
                    tagIndex: a,
                    filter: this.state.currentFilter,
                    rgOptions: i,
                  })
                ),
                a > 0 &&
                  _.createElement(ee, {
                    onClick: () => this.OnRemoveClauseTagSlot(t, a),
                  })
              )
            ),
            r = "Must have" === e.type ? K.MustHaveClause : K.MustNotHaveClause;
          return _.createElement(
            "div",
            {
              key: "Clause" + t,
              className: Object(P.a)(
                K.ClauseRowCtn,
                r,
                0 === t && K.FirstClause
              ),
            },
            t > 0 &&
              _.createElement(
                _.Fragment,
                null,
                _.createElement(ee, { onClick: () => this.OnRemoveClause(t) }),
                _.createElement(
                  "div",
                  { className: K.AndLabel },
                  Object(V.f)("#Sale_TagFilter_And")
                )
              ),
            _.createElement(
              "div",
              { className: K.ClauseTypeDropDown },
              _.createElement(j.n, {
                rgOptions: a,
                selectedOption: e.type,
                onChange: (e) => this.OnChangeClauseType(t, e.data),
              })
            ),
            l,
            e.or_tags.length < 3 &&
              _.createElement(
                j.f,
                { onClick: () => this.OnAddClauseTagSlot(t) },
                "+",
                Object(V.f)("#Sale_TagFilter_Or"),
                _.createElement(R.b, {
                  tooltip: Object(V.f)("#Sale_TagFilter_Or_ttip"),
                })
              )
          );
        }
        RenderFilterControls() {
          const { currentFilter: e } = this.state,
            t = e.clauses.map((e, t) => this.RenderFilterClause(e, t));
          return _.createElement(
            "div",
            { className: K.FilterControlsCtn },
            _.createElement(
              "div",
              { className: K.SectionTitle },
              Object(V.f)("#Sale_TagFilter_Filter"),
              _.createElement(R.b, {
                tooltip: Object(V.f)("#Sale_TagFilter_Filter_ttip"),
              })
            ),
            _.createElement(
              "div",
              { className: K.FilterControlBox },
              t,
              e.clauses.length < 5 &&
                _.createElement(
                  j.f,
                  { onClick: this.OnAddClause },
                  "+",
                  Object(V.f)("#Sale_TagFilter_And"),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_TagFilter_And_ttip"),
                  })
                )
            )
          );
        }
        RenderTagBreakdown(e, t) {
          const { tagHighlight: a } = this.state,
            n = [];
          t.forEach((e) =>
            n.push({ tag: e.properCaseString, count: e.items.length })
          ),
            n.sort((e, t) =>
              e.count != t.count
                ? t.count - e.count
                : e.tag.localeCompare(t.tag)
            );
          const i = n.map((t) =>
            _.createElement(
              "div",
              {
                key: t.tag,
                className: Object(P.a)(
                  K.TagBreakdownEntry,
                  a === t.tag && K.Selected
                ),
                onClick: () => this.OnHighlightTag(t.tag),
              },
              _.createElement(
                "div",
                { className: K.TextStats },
                _.createElement("div", { className: K.TagName }, t.tag),
                _.createElement("div", { className: K.TagUses }, t.count)
              ),
              _.createElement(
                "div",
                { className: K.PercentageBar },
                _.createElement("div", {
                  className: K.PercentageBarFill,
                  style: { width: (100 * t.count) / e + "%" },
                })
              )
            )
          );
          return _.createElement(
            _.Fragment,
            null,
            _.createElement(
              "div",
              { className: K.TagBreakdownCtn },
              _.createElement("div", { className: K.TagBreakdownList }, i)
            )
          );
        }
        ModifyFilter(e) {
          const t = Object(o.e)(this.state.currentFilter);
          e(t),
            this.setState(
              Object.assign(
                { currentFilter: t },
                this.CalcualateItemsAndTags(
                  t,
                  this.state.startingUnreferencedItems
                )
              )
            );
        }
        OnChangeClauseType(e, t) {
          this.ModifyFilter((a) => (a.clauses[e].type = t));
        }
        OnChangeClauseTag(e, t, a) {
          this.ModifyFilter((n) => (n.clauses[e].or_tags[t] = a));
        }
        OnAddClause() {
          this.ModifyFilter((e) =>
            e.clauses.push({ type: "Must have", or_tags: new Array("") })
          );
        }
        OnRemoveClause(e) {
          this.ModifyFilter((t) => t.clauses.splice(e, 1));
        }
        OnAddClauseTagSlot(e) {
          this.ModifyFilter((t) => t.clauses[e].or_tags.push(""));
        }
        OnRemoveClauseTagSlot(e, t) {
          this.ModifyFilter((a) => a.clauses[e].or_tags.splice(t, 1));
        }
        OnHighlightTag(e) {
          this.setState({
            tagHighlight: this.state.tagHighlight === e ? "" : e,
          });
        }
        OnToggleTagBreakdown() {
          this.setState({ showTagBreakdown: !this.state.showTagBreakdown });
        }
        OnSetViewMode(e) {
          this.setState({ showMode: e });
        }
        OnTagsModified() {
          const e = this.GenerateStartingUnreferencedItems();
          this.setState(
            Object.assign(
              { startingUnreferencedItems: e },
              this.CalcualateItemsAndTags(this.state.currentFilter, e)
            )
          );
        }
        UpdateSearchText(e) {
          this.setState({ strSearch: e.target.value.toLowerCase() });
        }
        OnOK() {
          if (this.props.onApplyFilter) {
            const e = Object(o.e)(this.state.currentFilter);
            this.SanitizeFilter(e), this.props.onApplyFilter(e);
          }
          this.props.editModel.SetDirty(r.d.jsondata_sales),
            this.props.closeModal();
        }
        render() {
          const { editModel: e, closeModal: t, title: a } = this.props,
            {
              showMode: n,
              currentFilter: i,
              strSearch: l,
              showTagBreakdown: r,
              bDropdownOptionsLoaded: o,
            } = this.state,
            {
              activeItems: s,
              activeTagBreakdown: c,
              filteredItems: d,
              filteredTagBreakdown: m,
              unusedItems: u,
              unusedTagBreakdown: p,
            } = this.state;
          if (!o)
            return _.createElement(N.a, { size: "medium", position: "center" });
          const g = r ? this.state.tagHighlight : "",
            b = "active" === n ? c : "filtered" === n ? m : p,
            E = ("active" === n ? s : "filtered" === n ? d : u).map((e) => {
              const { storeItem: t } = $(e.capsule);
              return {
                item: e,
                name: null == t ? void 0 : t.GetName(),
                highlight: g && e.tags.find((e) => e === g),
              };
            });
          E.sort((e, t) =>
            e.highlight != t.highlight
              ? e.highlight
                ? -1
                : 1
              : (e.name || "").localeCompare(t.name)
          );
          const h = [
              {
                label: _.createElement(
                  _.Fragment,
                  null,
                  Object(V.f)("#Sale_TagFilter_MatchingItems", s.length),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_TagFilter_MatchingItems_ttip"),
                  })
                ),
                data: "active",
              },
              {
                label: _.createElement(
                  _.Fragment,
                  null,
                  Object(V.f)("#Sale_TagFilter_FilteredItems", d.length),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_TagFilter_FilteredItems_ttip"),
                  })
                ),
                data: "filtered",
              },
              {
                label: _.createElement(
                  _.Fragment,
                  null,
                  Object(V.f)("#Sale_TagFilter_UnusedItems", u.length),
                  _.createElement(R.b, {
                    tooltip: Object(V.f)("#Sale_TagFilter_UnusedItems_ttip"),
                  })
                ),
                data: "unused",
              },
            ],
            v = E.map(({ item: t }) =>
              _.createElement(de, {
                key: t.capsule.type + t.capsule.id,
                editModel: e,
                item: t,
                tagHighlight: g,
                onTagsModified: this.OnTagsModified,
                strSearchFilter: l,
                filter: "filtered" === n && i,
              })
            ),
            S = r ? K.ShowTagBreakdown : K.HideTagBreakdown;
          return _.createElement(
            A.f,
            {
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              className: I.NotTooWideModal,
            },
            _.createElement(j.z, null, a),
            _.createElement(
              j.d,
              null,
              _.createElement(
                "div",
                { className: Object(P.a)(K.EditFitlerCtn, S) },
                this.RenderFilterControls(),
                _.createElement(
                  "div",
                  { className: K.TopTabs },
                  _.createElement(
                    "div",
                    { className: K.TagSelector },
                    _.createElement(j.n, {
                      rgOptions: h,
                      selectedOption: n,
                      onChange: (e) => this.OnSetViewMode(e.data),
                    })
                  ),
                  _.createElement(
                    j.f,
                    {
                      className: Object(P.a)(
                        K.ShowTagBreakdown,
                        K.SectionTab,
                        r && K.TabActive
                      ),
                      onClick: this.OnToggleTagBreakdown,
                    },
                    Object(V.f)(
                      this.state.showTagBreakdown
                        ? "#Sale_TagFilter_HideTagBreakdown"
                        : "#Sale_TagFilter_ShowTagBreakdown"
                    ),
                    _.createElement(R.b, {
                      tooltip: Object(V.f)("#Sale_TagFilter_TagBreakdown_ttip"),
                    })
                  )
                ),
                _.createElement(
                  "div",
                  { className: K.TopSection },
                  _.createElement(
                    "div",
                    { className: K.MatchingItemsCtn },
                    _.createElement("div", { className: K.ItemList }, v)
                  ),
                  this.RenderTagBreakdown(v.length, b)
                ),
                _.createElement(j.A, {
                  type: "text",
                  label: Object(V.f)("#Sale_TaggedItemsFilter"),
                  onChange: this.UpdateSearchText,
                  focusOnMount: !0,
                  tooltip: Object(V.f)("#Sale_TaggedItemsFilter_ttip"),
                }),
                _.createElement(
                  "div",
                  { className: K.OKButton },
                  _.createElement(
                    j.G,
                    { onClick: this.OnOK },
                    Object(V.f)("#Sale_TagFilter_OK")
                  )
                )
              )
            )
          );
        }
      }
      function ve(e, t) {
        const a = e.GetEventModel().jsondata.item_source_type;
        return (t === S.n.k_ETaggedItems && null == a) || a === t;
      }
      Object(n.b)([H.b], he.prototype, "OnChangeClauseType", null),
        Object(n.b)([H.b], he.prototype, "OnChangeClauseTag", null),
        Object(n.b)([H.b], he.prototype, "OnAddClause", null),
        Object(n.b)([H.b], he.prototype, "OnRemoveClause", null),
        Object(n.b)([H.b], he.prototype, "OnAddClauseTagSlot", null),
        Object(n.b)([H.b], he.prototype, "OnRemoveClauseTagSlot", null),
        Object(n.b)([H.b], he.prototype, "OnHighlightTag", null),
        Object(n.b)([H.b], he.prototype, "OnToggleTagBreakdown", null),
        Object(n.b)([H.b], he.prototype, "OnSetViewMode", null),
        Object(n.b)([H.b], he.prototype, "OnTagsModified", null),
        Object(n.b)([H.b], he.prototype, "UpdateSearchText", null),
        Object(n.b)([H.b], he.prototype, "OnOK", null);
      let Se = class extends _.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bImporting: !1,
              editValue: this.PopulateInitialEditField(),
            });
        }
        PopulateInitialEditField() {
          const { editModel: e } = this.props,
            { collection: t } = this.props;
          let a = "";
          for (const n of e.GetEventModel().GetTaggedItems()) {
            const { capsule: e, tags: i } = n,
              { storeItem: l } = $(e);
            let r = `${e.id}\t${e.type}`;
            r += `\t"${(t ? i.filter((e) => Object(o.d)(e, t)) : i).join(
              ";"
            )}"`;
            const s = (null == l ? void 0 : l.GetName()) || "";
            s && (r += `\t// "${s}"`), (a += `${r}\n`);
          }
          return a;
        }
        ParseTagItemInfoFromLine(e) {
          const t = /^(.*)\/\/.*/i.exec(e);
          let a = ((null == t ? void 0 : t.length) > 1 ? t[1] : e) + " ";
          a = a.replace(",", "\t");
          const n = /^\s*([0-9]+)[\'\,\"\s]+(.*)/.exec(a);
          if (!n) return;
          let i = { id: parseInt(n[1]), type: "game" };
          a = n[2];
          const l = /^(game|software|dlc|bundle|video|sub|event|tag|music)[\'\,\"\s]+(.*)/i.exec(
            a
          );
          if (l) (i.type = l[1]), (a = l[2]);
          else
            for (const e of this.props.editModel
              .GetEventModel()
              .GetTaggedItems())
              if (e.capsule.id === i.id) {
                i.type = e.capsule.type;
                break;
              }
          const r = /^\"?([^\t\"\n]*)\"?/i.exec(a),
            o = new Set();
          let s = new Array();
          if (r) {
            const e = r[1].split(";");
            for (const t of e) {
              const e = X(t);
              if (e) {
                const t = e.toLocaleLowerCase();
                o.has(t) || (o.add(t), s.push(e));
              }
            }
          }
          return { capsule: i, tags: s };
        }
        OnCompleteEdit() {
          this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
        }
        DoImport() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { editModel: e } = this.props;
            let t = new Map();
            {
              const e = this.state.editValue.split("\n");
              for (const a of e) {
                const e = this.ParseTagItemInfoFromLine(a);
                e && t.set(e.capsule.id, e);
              }
            }
            const a = this.props.bRemoveMissingEntries,
              { collection: n } = this.props,
              i = e.GetEventModel().jsondata,
              l = new Array(),
              s = (e) => {
                e.tags.some((e) => Object(o.d)(e, o.j.Store)) || l.push(e);
              };
            let c = !0;
            n &&
              t.forEach((e) => {
                e.tags.some((e) => Boolean(Object(o.k)(e))) && (c = !1);
              }),
              Object(m.G)(() => {
                i.tagged_items || (i.tagged_items = []),
                  a &&
                    (i.tagged_items = i.tagged_items.filter((e) => {
                      var a;
                      const n =
                        null === (a = t.get(e.capsule.id)) || void 0 === a
                          ? void 0
                          : a.capsule.type;
                      return e.capsule.type === n;
                    }));
                for (const e of i.tagged_items) {
                  const a = t.get(e.capsule.id);
                  if (a && a.capsule.type == e.capsule.type) {
                    if (n) {
                      const t = c
                        ? a.tags.map((e) => Object(o.f)(e, n))
                        : a.tags;
                      Object(o.u)(e, t, n);
                    } else (e.tags = a.tags), s(e);
                    Object(o.w)(i.auto_item_tags, e), t.delete(e.capsule.id);
                  }
                }
                t.forEach((e) => {
                  Object(o.w)(i.auto_item_tags, e),
                    i.tagged_items.push(e),
                    s(i.tagged_items[i.tagged_items.length - 1]);
                });
              }),
              l.length > 0 && (yield Object(o.x)(e, l)),
              this.setState({ bImporting: !1, errMsg: "" }),
              e.SetDirty(r.d.jsondata_sales),
              Object(o.v)(e),
              this.props.closeModal();
          });
        }
        OnTextChange(e) {
          this.setState({ editValue: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return _.createElement(
            A.f,
            {
              onCancel: e,
              closeModal: e,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              bHideCloseIcon: this.state.bImporting,
            },
            _.createElement(j.z, null, Object(V.f)("#Sale_EditRaw_Title")),
            _.createElement(
              j.d,
              null,
              _.createElement("div", null, Object(V.f)("#Sale_EditRaw_Desc_1")),
              _.createElement("div", null, Object(V.f)("#Sale_EditRaw_Desc_2")),
              _.createElement(
                "div",
                { className: J.EditRawExample },
                Object(V.f)("#Sale_EditRaw_Example_Title")
              ),
              _.createElement(
                "div",
                { className: J.EditRawExample },
                Object(V.f)("#Sale_EditTagItems_Example_1")
              ),
              _.createElement(
                "div",
                { className: J.EditRawExample },
                Object(V.f)("#Sale_EditTagItems_Example_2")
              ),
              _.createElement(
                "div",
                { className: J.EditRawExample },
                Object(V.f)("#Sale_EditTagItems_Example_3")
              ),
              Boolean(this.state.errMsg) &&
                _.createElement(
                  "p",
                  { className: I.ErrorStyles },
                  this.state.errMsg
                ),
              this.state.bImporting &&
                _.createElement(N.a, { size: "medium", position: "center" }),
              !this.state.bImporting &&
                _.createElement("textarea", {
                  className: Object(P.a)(J.EditRawTextArea, K.EditRawTextArea),
                  value: this.state.editValue,
                  cols: 80,
                  rows: 30,
                  onChange: this.OnTextChange,
                })
            ),
            !this.state.bImporting &&
              _.createElement(
                j.r,
                null,
                _.createElement(
                  j.G,
                  { onClick: this.OnCompleteEdit, disabled: !1 },
                  Object(V.f)("#Button_Confirm"),
                  " "
                ),
                _.createElement(
                  j.f,
                  { onClick: e, disabled: !1 },
                  Object(V.f)("#Button_Cancel")
                )
              )
          );
        }
      };
      Object(n.b)([H.b], Se.prototype, "OnCompleteEdit", null),
        Object(n.b)([H.b], Se.prototype, "DoImport", null),
        Object(n.b)([H.b], Se.prototype, "OnTextChange", null),
        (Se = Object(n.b)([u.a], Se));
      let fe = class extends _.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bImporting: !1,
              sync_opt_in_items: !1,
              sync_opt_in_tags: !1,
              sync_store_tags: !1,
              sync_feature_tags: !1,
              sync_apptype_tags: !1,
              bSyncTop20StoreTags: !1,
            });
        }
        ConvertToCapsule(e) {
          return { id: e, type: "game" };
        }
        AddTag(e, t) {
          const a = t.toLocaleLowerCase();
          e.find((e) => e.toLocaleLowerCase() === a) || e.push(t);
        }
        ImportOptInPage(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const { editModel: a } = this.props,
              n = a.GetEventModel().jsondata.sale_opt_in_page_name;
            if (!n)
              return (
                this.setState({
                  bImporting: !1,
                  errMsg: "Invalid opt in page specified " + n,
                }),
                !1
              );
            this.setState({
              statusMsg: Object(V.f)("#Sale_ImportOptIn_Progress_LoadOptIn"),
            });
            const i = yield c.a.Get().ForceLoadOptInPage(n);
            if (1 !== (null == i ? void 0 : i.success))
              return (
                this.setState({
                  bImporting: !1,
                  errMsg:
                    (null == i ? void 0 : i.msg) ||
                    "Unable to load the application list for the sale id " + n,
                }),
                !1
              );
            let l = !1,
              r = i.opted_in,
              s = a.GetEventModel().jsondata.tagged_items
                ? [...a.GetEventModel().jsondata.tagged_items]
                : [];
            const d = c.a.Get().GetOptInPageData(n);
            if (
              (t &&
                (l = yield Object(o.x)(a, s, {
                  bUpdateStore: !1,
                  bUpdateFeatures: !1,
                  bUpdateAppTypes: !1,
                })),
              e)
            ) {
              Object(m.G)(() => {
                s = s.filter((e) => {
                  const t = Boolean(d.has(e.capsule.id));
                  return (l = l || !t), t;
                });
              });
              const e = new Array();
              for (const t of r)
                if (!s.find((e) => e.capsule.id === t.appid)) {
                  const a = {
                    capsule: this.ConvertToCapsule(t.appid),
                    tags: [],
                  };
                  e.push(a), (l = !0);
                }
              yield Object(o.x)(a, e), s.push(...e);
            }
            return l && (a.GetEventModel().jsondata.tagged_items = s), l;
          });
        }
        DoImport() {
          return Object(n.a)(this, void 0, void 0, function* () {
            const {
              sync_feature_tags: e,
              sync_opt_in_items: t,
              sync_opt_in_tags: a,
              sync_store_tags: n,
              sync_apptype_tags: i,
            } = this.state;
            let l = !1;
            (t || a) && (l = (yield this.ImportOptInPage(t, a)) || l);
            const s = this.props.editModel.GetEventModel().GetTaggedItems();
            this.setState({
              statusMsg: Object(V.f)(
                "#Sale_SyncTaggedItems_Progress_LoadingStore",
                s.length
              ),
            }),
              (n || e || i) &&
                (l =
                  (yield Object(o.x)(this.props.editModel, s, {
                    bUpdateStore: n,
                    bUpdateFeatures: e,
                    bUpdateAppTypes: i,
                    bUpdateOptIn: !1,
                    bSyncTop20StoreTags: this.state.bSyncTop20StoreTags,
                  })) || l),
              l &&
                (Object(o.v)(this.props.editModel),
                this.props.editModel.SetDirty(r.d.jsondata_sales)),
              this.setState({ bImporting: !1, errMsg: "" }),
              this.props.closeModal();
          });
        }
        OnPerformSync() {
          this.setState(
            {
              bImporting: !0,
              errMsg: void 0,
              statusMsg: Object(V.f)("#Sale_ImportOptIn_Progress_LoadOptIn"),
            },
            this.DoImport
          );
        }
        CanPerformSync() {
          const {
            sync_feature_tags: e,
            sync_opt_in_items: t,
            sync_opt_in_tags: a,
            sync_store_tags: n,
            sync_apptype_tags: i,
          } = this.state;
          return e || t || a || n || i;
        }
        render() {
          const { closeModal: e, editModel: t } = this.props,
            a = Boolean(t.GetEventModel().jsondata.sale_opt_in_page_name);
          return _.createElement(
            A.f,
            {
              onCancel: e,
              closeModal: e,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              bHideCloseIcon: this.state.bImporting,
            },
            _.createElement(
              j.z,
              null,
              Object(V.f)("#Sale_SyncTaggedItems_Title")
            ),
            _.createElement(
              j.d,
              null,
              Boolean(this.state.errMsg) &&
                _.createElement(
                  "p",
                  { className: I.ErrorStyles },
                  this.state.errMsg
                ),
              this.state.bImporting &&
                _.createElement(
                  _.Fragment,
                  null,
                  this.state.statusMsg &&
                    _.createElement("p", null, this.state.statusMsg),
                  _.createElement(N.a, { size: "medium", position: "center" })
                ),
              !this.state.bImporting &&
                _.createElement(
                  _.Fragment,
                  null,
                  a &&
                    _.createElement(j.g, {
                      label: Object(V.f)("#Sale_SyncTag_OptInItems"),
                      tooltip: Object(V.f)("#Sale_SyncTag_OptInItems_ttip"),
                      checked: this.state.sync_opt_in_items,
                      onChange: (e) => this.setState({ sync_opt_in_items: e }),
                    }),
                  a &&
                    _.createElement(j.g, {
                      label: Object(V.f)("#Sale_SyncTag_OptInTags"),
                      tooltip: Object(V.f)("#Sale_SyncTag_OptInTags_ttip"),
                      checked: this.state.sync_opt_in_tags,
                      onChange: (e) => this.setState({ sync_opt_in_tags: e }),
                    }),
                  _.createElement(j.g, {
                    label: Object(V.f)("#Sale_SyncTag_StoreTags"),
                    tooltip: Object(V.f)("#Sale_SyncTag_StoreTags_ttip"),
                    checked: this.state.sync_store_tags,
                    onChange: (e) => this.setState({ sync_store_tags: e }),
                  }),
                  this.state.sync_store_tags &&
                    _.createElement(j.g, {
                      label: Object(V.f)("#FacetedBrowseEditor_SyncTopNTags"),
                      tooltip: Object(V.f)(
                        "#FacetedBrowseEditor_SyncTopNTags_Tooltip"
                      ),
                      checked: this.state.bSyncTop20StoreTags,
                      onChange: (e) =>
                        this.setState({ bSyncTop20StoreTags: e }),
                    }),
                  _.createElement(j.g, {
                    label: Object(V.f)("#Sale_SyncTag_Features"),
                    tooltip: Object(V.f)("#Sale_SyncTag_Features_ttip"),
                    checked: this.state.sync_feature_tags,
                    onChange: (e) => this.setState({ sync_feature_tags: e }),
                  }),
                  _.createElement(j.g, {
                    label: Object(V.f)("#Sale_SyncTag_AppTypes"),
                    tooltip: Object(V.f)("#Sale_SyncTag_AppTypes_ttip"),
                    checked: this.state.sync_apptype_tags,
                    onChange: (e) => this.setState({ sync_apptype_tags: e }),
                  })
                )
            ),
            !this.state.bImporting &&
              _.createElement(
                j.r,
                null,
                _.createElement(
                  j.G,
                  {
                    onClick: this.OnPerformSync,
                    disabled: !this.CanPerformSync(),
                  },
                  Object(V.f)("#Button_Confirm")
                ),
                _.createElement(
                  j.f,
                  { onClick: e, disabled: !1 },
                  Object(V.f)("#Button_Cancel")
                )
              )
          );
        }
      };
      function Oe(e) {
        const t = new Set();
        for (const a of e) {
          const e = a.tag_name.trim().toLocaleLowerCase();
          if (!e) return !1;
          if (t.has(e)) return !1;
          if (Object(o.r)(a.filter)) return !1;
          t.add(e);
        }
        return !0;
      }
      Object(n.b)([H.b], fe.prototype, "ImportOptInPage", null),
        Object(n.b)([H.b], fe.prototype, "OnPerformSync", null),
        (fe = Object(n.b)([u.a], fe));
      const Ce = (e) => {
          const { closeModal: t, editModel: a } = e,
            n = a.GetEventModel().jsondata,
            [i, l] = _.useState(!0),
            [s, c] = _.useState(!1),
            [d, u] = _.useState([...(n.auto_item_tags || [])]),
            p = () => {
              l(Oe(d)), c(!0);
            },
            g = d.map((e, t) =>
              _.createElement(ye, {
                key: "AutoTag" + t,
                editModel: a,
                fnOnEdited: p,
                fnOnDeleted: () => {
                  return (e = t), u(d.filter((t, a) => a != e)), void l(Oe(d));
                  var e;
                },
                autoTag: e,
              })
            );
          return _.createElement(
            A.f,
            {
              onCancel: t,
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
            },
            _.createElement(j.z, null, Object(V.f)("#Sale_EditAutoTags_Title")),
            _.createElement(
              j.d,
              null,
              _.createElement(
                "div",
                { className: K.EditAutoTagsBody },
                _.createElement(
                  "div",
                  { className: K.AutoTagList },
                  g,
                  _.createElement(
                    j.f,
                    {
                      onClick: () => {
                        u([...d, { tag_name: "", filter: { clauses: [] } }]),
                          l(!1);
                      },
                    },
                    Object(V.f)("#Sale_EditTags_NewTagButton")
                  )
                )
              )
            ),
            _.createElement(
              j.r,
              null,
              _.createElement(
                j.f,
                {
                  onClick: () => {
                    i &&
                      s &&
                      Object(m.G)(() => {
                        n.auto_item_tags = d;
                        for (const e of a.GetEventModel().GetTaggedItems())
                          Object(o.w)(n.auto_item_tags, e);
                        a.SetDirty(r.d.jsondata_sales);
                      }),
                      e.closeModal();
                  },
                  disabled: !i,
                },
                Object(V.f)("#Button_OK")
              )
            )
          );
        },
        ye = (e) => {
          const [t, a] = _.useState(e.autoTag.tag_name),
            [n, i] = _.useState(e.autoTag.filter),
            l = (t) => {
              (e.autoTag.filter = t), e.fnOnEdited(), i(t);
            };
          return _.createElement(
            "div",
            { className: K.AutoTag },
            _.createElement(
              "div",
              { className: K.AutoTagRow },
              _.createElement(j.A, {
                type: "text",
                onChange: (t) => {
                  a(t.target.value),
                    (e.autoTag.tag_name = t.target.value.trim()),
                    e.fnOnEdited();
                },
                placeholder: Object(V.f)("#Sale_EditAutoTags_Placeholder"),
                tooltip: Object(V.f)("#Sale_EditAutoTags_Tooltip"),
                value: t,
              }),
              _.createElement(ee, { onClick: () => e.fnOnDeleted() })
            ),
            _.createElement(
              "div",
              { className: K.AutoTagRow },
              _.createElement(ae, { filter: n }),
              _.createElement(
                j.f,
                {
                  onClick: () => {
                    Object(M.d)(
                      _.createElement(he, {
                        editModel: e.editModel,
                        filter: n,
                        title: Object(V.f)("#Sale_TagFilter_EditFilter"),
                        onApplyFilter: l,
                      }),
                      window
                    );
                  },
                },
                Object(V.f)("#Sale_TagFilter_EditFilter")
              )
            )
          );
        },
        Te = (e) => {
          const { editModel: t, closeModal: a } = e,
            [i, r] = Object(_.useState)(!0),
            [o, s] = Object(_.useState)();
          return (
            Object(_.useEffect)(() => {
              (function (e) {
                return Object(n.a)(this, void 0, void 0, function* () {
                  const t =
                      q.c.STORE_BASE_URL +
                      "saleaction/ajaxforceupdatefeaturedapptags",
                    a = {
                      clanAccountID: e.clanSteamID.GetAccountID(),
                      clanAnnouncementGID: e.GetAnnouncementGID(),
                    };
                  try {
                    const e = yield l.a.get(t, {
                      params: a,
                      withCredentials: !0,
                    });
                    return 200 !== e.status || 1 !== e.data.success
                      ? (console.error(
                          "ForceUpdateFeaturedAppTags: AJAX query failed: status = " +
                            e.status +
                            " success = " +
                            e.data.success
                        ),
                        null)
                      : {
                          rgAppIDsAdded: e.data.appids_added,
                          rgAppIDsRemoved: e.data.appids_removed,
                        };
                  } catch (e) {
                    return (
                      console.error(
                        "ForceUpdateFeaturedAppTags: Exception in AJAX request: ",
                        e
                      ),
                      null
                    );
                  }
                });
              })(t.GetEventModel()).then((e) => {
                Boolean(e)
                  ? f.a
                      .Get()
                      .QueueMultipleAppRequests(
                        e.rgAppIDsAdded.concat(e.rgAppIDsRemoved),
                        Q.c
                      )
                      .then(() => {
                        s(e), r(!1);
                      })
                  : r(!1);
              });
            }, [t]),
            _.createElement(
              A.f,
              {
                onOK: a,
                onCancel: a,
                closeModal: a,
                bDisableBackgroundDismiss: !0,
              },
              _.createElement(j.z, null, "Update Solr Tagging"),
              _.createElement(
                j.d,
                null,
                i
                  ? _.createElement(N.a, {
                      position: "center",
                      string: "Please wait",
                    })
                  : _.createElement(
                      _.Fragment,
                      null,
                      Boolean(o)
                        ? _.createElement(
                            "div",
                            {
                              className: K.ForceUpdateFeaturedAppTagsDialogBody,
                            },
                            _.createElement(
                              "div",
                              { className: K.AddSummary },
                              o.rgAppIDsAdded.length + " app(s) added:"
                            ),
                            _.createElement(
                              "div",
                              { className: K.AppTable },
                              o.rgAppIDsAdded.map((e) =>
                                _.createElement(je, {
                                  key: "add" + e,
                                  appid: e,
                                })
                              )
                            ),
                            _.createElement(
                              "div",
                              { className: K.RemoveSummary },
                              o.rgAppIDsRemoved.length + " app(s) removed:"
                            ),
                            _.createElement(
                              "div",
                              { className: K.AppTable },
                              o.rgAppIDsRemoved.map((e) =>
                                _.createElement(je, {
                                  key: "remove" + e,
                                  appid: e,
                                })
                              )
                            )
                          )
                        : _.createElement(
                            "div",
                            null,
                            "An error occurred when synchronizing the linked app list with Solr, check the console for details."
                          )
                    )
              ),
              _.createElement(
                j.r,
                null,
                !i && _.createElement(j.G, { onClick: a }, "OK")
              )
            )
          );
        };
      function je(e) {
        const { appid: t } = e,
          [a] = Object(C.b)(t, {});
        return _.createElement(
          "div",
          { className: K.AppTableRow },
          _.createElement("div", { className: K.AppID }, t),
          _.createElement(
            "div",
            { className: K.AppName },
            null == a ? void 0 : a.GetName()
          )
        );
      }
    },
    pdAa: function (e, t, a) {
      e.exports = {
        AssociatedBuildBody:
          "partnereventassociatedbuild_AssociatedBuildBody_1rnVU",
        BuildDisplay: "partnereventassociatedbuild_BuildDisplay_1HwK4",
        BuildUnlinked: "partnereventassociatedbuild_BuildUnlinked_1cg3t",
        BuildLinkedBranch:
          "partnereventassociatedbuild_BuildLinkedBranch_2ssXJ",
        BuildLinkedDefault:
          "partnereventassociatedbuild_BuildLinkedDefault_fHJYY",
        BuildIDLink: "partnereventassociatedbuild_BuildIDLink_2-Syn",
      };
    },
    putg: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return d;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("mgoM"),
        o = a("3+zv"),
        s = a("OS6B"),
        c = a("lkRc");
      const d = new (class {
        constructor(e = null) {
          (this.m_rgCategoriesForTagID = null),
            (this.m_rgTagNameForTagID = null),
            (this.m_rgAtomicTagIDsForTagID = null),
            (this.m_rgLocalizedCategoryNames = null),
            (this.m_rgLocalizedTagNames = null),
            (this.m_rgLanguages = null),
            e && this.ParseResponse(e);
        }
        GetCategoriesForTagID() {
          return this.m_rgCategoriesForTagID;
        }
        GetTagNameForTagID() {
          return this.m_rgTagNameForTagID;
        }
        GetAtomicTagIDsForTagID() {
          return this.m_rgAtomicTagIDsForTagID;
        }
        GetLocalizedCategoryNames() {
          return this.m_rgLocalizedCategoryNames;
        }
        GetLocalizedTagNames() {
          return this.m_rgLocalizedTagNames;
        }
        GetLanguages() {
          return this.m_rgLanguages;
        }
        AutoGenerateFacets() {
          const e = this.ComputeLocalizedCategoryNames(),
            t = this.ComputeLocalizedTagNames(),
            a = this.ComputeCategoryToTagMap(),
            n = this.FindNonAtomicTags(),
            i = this.ComputeFacetCategoryToTagMap(a, n),
            l = this.ComputeAtomicTagToTagsMap();
          return this.ComputeFacets(i, l, e, t);
        }
        AutoGenerateFacetsAsync() {
          return Object(n.a)(this, void 0, void 0, function* () {
            return yield this.EnsureLoaded(), this.AutoGenerateFacets();
          });
        }
        BIsTagAtomic(e) {
          return (
            this.m_rgAtomicTagIDsForTagID.has(e) &&
            this.m_rgAtomicTagIDsForTagID.get(e).includes(e)
          );
        }
        ParseResponse(e) {
          (this.m_rgCategoriesForTagID = new Map()),
            (this.m_rgTagNameForTagID = new Map()),
            (this.m_rgAtomicTagIDsForTagID = new Map()),
            (this.m_rgLocalizedCategoryNames = new Map()),
            (this.m_rgLocalizedTagNames = new Map()),
            (this.m_rgLanguages = new Array());
          for (const t of Object.keys(e.rgCategoriesByTag))
            this.m_rgCategoriesForTagID.set(
              Number(t),
              Array.from(e.rgCategoriesByTag[t])
            );
          for (const t of Object.keys(e.rgTagNames))
            this.m_rgTagNameForTagID.set(Number(t), e.rgTagNames[t]);
          for (const t of Object.keys(e.rgTagBreakdown))
            this.m_rgAtomicTagIDsForTagID.set(
              Number(t),
              Array.from(e.rgTagBreakdown[t]).map((e) => Number(e))
            );
          for (const t of Object.keys(e.rgLocalizedCategoryNames))
            this.m_rgLocalizedCategoryNames.set(
              t,
              Array.from(e.rgLocalizedCategoryNames[t])
            );
          for (const t of Object.keys(e.rgLocalizedTagNames))
            this.m_rgLocalizedTagNames.set(
              Number(t),
              Array.from(e.rgLocalizedTagNames[t])
            );
          this.m_rgLanguages = Array.from(e.rgLanguages);
        }
        EnsureLoaded() {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (this.m_rgCategoriesForTagID) return;
            const e = yield this.Load();
            this.ParseResponse(e);
          });
        }
        Load() {
          return Object(n.a)(this, void 0, void 0, function* () {
            let e = null;
            try {
              if (
                ((e = (yield l.a.get(
                  `${c.c.COMMUNITY_BASE_URL}sale/ajaxgetcategoriesbytag`
                )).data),
                1 !== (null == e ? void 0 : e.success))
              )
                return (
                  console.error(
                    "Unable to load tag category data: " +
                      (null == e ? void 0 : e.success)
                  ),
                  null
                );
            } catch (e) {
              return (
                console.error(
                  "Unable to load tag category data: " +
                    Object(s.a)(e).strErrorMsg
                ),
                null
              );
            }
            return e;
          });
        }
        Verify(e) {
          const t = new Set(),
            a = new Set(),
            n = Object.keys(e.rgTagBreakdown),
            i = Object.keys(e.rgTagNames),
            l = Object.keys(e.rgCategoriesByTag);
          for (const r of n) {
            const n = e.rgTagBreakdown[r].flat();
            for (const r of n)
              i.includes(r.toString()) || t.add(r),
                (l.includes(r.toString()) &&
                  e.rgCategoriesByTag[r] &&
                  0 !== e.rgCategoriesByTag[r].length) ||
                  a.add(r);
          }
          console.log(t.size + " un-named tags."),
            t.size > 0 && console.log(t),
            console.log(a.size + " un-categorized tags."),
            a.size > 0 && console.log(a);
        }
        ComputeCategoryToTagMap() {
          const e = new Map();
          return (
            this.m_rgCategoriesForTagID.forEach((t, a) => {
              if (t)
                for (const n of t)
                  e.has(n) || e.set(n, new Array()), e.get(n).push(a);
            }),
            e
          );
        }
        FindNonAtomicTags() {
          const e = new Set();
          return (
            this.m_rgAtomicTagIDsForTagID.forEach((t, a) => {
              1 !== t.length && e.add(a);
            }),
            e
          );
        }
        ComputeFacetCategoryToTagMap(e, t) {
          const a = [
              "supergenre",
              "genre",
              "subgenre",
              "visuals",
              "theme_mood",
              "feature",
              "players",
            ],
            n = new Set(),
            i = new Map(),
            l = (a, l) => {
              const r = e.get(l);
              for (const e of r)
                n.has(e) || t.has(e) || (n.add(e), i.get(a).push(e));
            };
          for (const e of a)
            i.set(e, new Array()),
              "theme_mood" === e ? (l(e, "theme"), l(e, "mood")) : l(e, e);
          return i;
        }
        ComputeLocalizedCategoryNames() {
          const e = new Map();
          e.set("supergenre", "#App_Taxonomy_Survey_QSuperGenreTitle"),
            e.set("genre", "#App_Taxonomy_Survey_QGenreTitle"),
            e.set("subgenre", "#App_Taxonomy_Survey_QSubGenreTitle"),
            e.set("visuals", "#App_Taxonomy_Survey_QVisualsTitle"),
            e.set("theme_mood", "#App_Taxonomy_Survey_QThemeMoodTitle"),
            e.set("feature", "#App_Taxonomy_Survey_QFeaturesTitle"),
            e.set("players", "#App_Taxonomy_Survey_QPlayersTitle");
          const t = new Map();
          return (
            this.m_rgLocalizedCategoryNames.forEach((a, n) => {
              const i = new Array(30);
              (i[0] = e.get(n)), t.set(n, i);
            }),
            t
          );
        }
        ComputeLocalizedTagNames() {
          const e = new Map();
          return (
            this.m_rgLocalizedTagNames.forEach((t, a) => {
              const n = t,
                i = new Array(30);
              i.fill(""),
                this.m_rgLanguages.forEach((e, t) => {
                  const a = Object(r.d)(e, -1);
                  -1 === a
                    ? console.warn("Unrecognized language: " + e)
                    : 0 <= a && a < 30 && (i[a] = n[t]);
                }),
                e.set(a, i);
            }),
            e
          );
        }
        ComputeAtomicTagToTagsMap() {
          const e = new Map();
          return (
            this.m_rgAtomicTagIDsForTagID.forEach((t, a) => {
              for (const n of t) {
                const t = Number(n);
                e.has(t) || e.set(t, new Array()), e.get(t).push(a);
              }
            }),
            e
          );
        }
        ComputeFacets(e, t, a, n) {
          const i = new Array();
          return (
            e.forEach((e, l) => {
              const r = { name: a.get(l), facetValues: new Array() },
                s = Array();
              for (const a of e) {
                if (!n.get(a)) {
                  s.push(a);
                  continue;
                }
                const e = {
                  name: n.get(a),
                  subtitle: new Array(),
                  rgStoreTagFilter: {
                    type: o.o.k_EStoreFilterClauseTypeAnd,
                    rgSubexpressions: [
                      {
                        type: o.o.k_EStoreFilterClauseTypeOr,
                        rgSubexpressions: t.has(a)
                          ? t
                              .get(a)
                              .map((e) => ({
                                type: o.o.k_EStoreFilterClauseTypeStoreTag,
                                value: e,
                              }))
                          : [
                              {
                                type: o.o.k_EStoreFilterClauseTypeStoreTag,
                                value: a,
                              },
                            ],
                      },
                    ],
                  },
                  nAtomicStoreTagID: a,
                  filter: null,
                  matchingCapsules: [],
                };
                r.facetValues.push(e);
              }
              s.length > 0 &&
                console.warn(
                  "No name information found for tag count " +
                    s.length +
                    ", skipping.",
                  s
                ),
                i.push(r);
            }),
            i
          );
        }
      })();
    },
    qmbg: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return l;
      });
      var n = a("NpuA"),
        i = a.n(n);
      class l {
        static ParseCSVFile(e) {
          return new Promise((t, a) => {
            const n = {
              header: !0,
              skipEmptyLines: "greedy",
              complete: t,
              error: (e) => a({ errors: [e] }),
            };
            i.a.parse(e, n);
          });
        }
        static ReadFile(e) {
          return new Promise((t, a) => {
            const n = new FileReader();
            (n.onload = (e) => t(n.result)), n.readAsText(e);
          });
        }
        static WriteFile(e, t) {
          let a = document.createElement("a");
          if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
          else {
            const t = window.URL.createObjectURL(e);
            a.href = t;
          }
          a.setAttribute("download", t), a.click();
          try {
            document.removeChild(a);
          } catch (e) {}
        }
        static WriteCSVToFile(e, t) {
          const a = i.a.unparse(e, { header: !0 });
          l.WriteFile(new Blob([a], { type: "text/csv:charset=utf-8;" }), t);
        }
        static WriteXMLToFile(e, t) {
          const a = () =>
            this.m_DummyValueForQuestionHack ? "never returned" : "?";
          let n =
            "<" + a() + 'xml version="1.0" encoding="UTF-8" ' + a() + ">\n";
          (n += new XMLSerializer().serializeToString(e)),
            l.WriteFile(
              new Blob([n], { type: "application/xml:charset=utf-8;" }),
              t
            );
        }
      }
      l.m_DummyValueForQuestionHack = 0;
    },
    "r+ba": function (e, t, a) {
      e.exports = {
        "duration-app-launch": "800ms",
        Container: "partnereventwebrowembed_Container_2Jd3M",
        StoreHeaderAdjust: "partnereventwebrowembed_StoreHeaderAdjust_3YyCp",
        SectionButtonCtn: "partnereventwebrowembed_SectionButtonCtn_1HP0y",
        SectionButton: "partnereventwebrowembed_SectionButton_3n8sw",
        EventsSummariesCtn: "partnereventwebrowembed_EventsSummariesCtn_1snIw",
        LatestUpdateButtonCtn:
          "partnereventwebrowembed_LatestUpdateButtonCtn_2vEwZ",
        LatestUpdateIcon: "partnereventwebrowembed_LatestUpdateIcon_mq3RO",
        LatestUpdateButton: "partnereventwebrowembed_LatestUpdateButton_1TRFt",
      };
    },
    rerp: function (e, t, a) {
      e.exports = {
        PreviewBarContainer: "partnereventpreview_PreviewBarContainer_2OUix",
        FallBackWarning: "partnereventpreview_FallBackWarning_2x0Ma",
        StoreNavigationPlaceholder:
          "partnereventpreview_StoreNavigationPlaceholder_tHKKN",
      };
    },
    rppr: function (e, t, a) {
      e.exports = {
        VersionListCtn: "partnereventrevisionhistory_VersionListCtn_32hnY",
        VersionCtn: "partnereventrevisionhistory_VersionCtn_3vUSX",
        VersionInfoCtn: "partnereventrevisionhistory_VersionInfoCtn_1sI79",
      };
    },
    t0uJ: function (e, t, a) {
      "use strict";
      a.d(t, "b", function () {
        return D;
      }),
        a.d(t, "a", function () {
          return G;
        }),
        a.d(t, "c", function () {
          return w;
        }),
        a.d(t, "d", function () {
          return A;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("Q47U"),
        o = a("fcuX"),
        s = a("t0uJ"),
        c = a("4lry"),
        d = a("2vnA"),
        m = a("q1tI"),
        u = a.n(m),
        p = a("mgoM"),
        _ = (a("65aj"), a("dZOt"), a("3+zv")),
        g = a("kLLr"),
        b = (a("RD/U"), a("jkzW"), a("U+Q5")),
        E = a("TQGK"),
        h = a("BVKn"),
        v = a("9w6b"),
        S = (a("6oCP"), a("C4Nl")),
        f = (a("AiWL"), a("r64O")),
        O = a("OS6B"),
        C = a("TLQK"),
        y = a("Z1oF"),
        T = a("lkRc");
      class j extends h.a {
        constructor() {
          super(...arguments),
            (this.m_bLoadedOrInflightSteamAwardVoteDefinitions = !1),
            (this.m_mapSteamAwardVoteDefinitionsForApp = new Map()),
            (this.m_promiseLoadClanEventsForPartnerDashboard = null);
        }
        GetCurHoverCategory() {
          return {
            type: this.m_curHoverCategoryType,
            tags: this.m_curHoverCategoryTags,
          };
        }
        SetCurHoverCategory(e, t) {
          this.m_curHoverCategoryType !== e &&
            (this.m_curHoverCategoryType = e),
            this.m_curHoverCategoryTags !== t &&
              (this.m_curHoverCategoryTags = t);
        }
        BHasEditModel() {
          return null != this.m_editModel;
        }
        ClearModel() {
          this.m_editModel = null;
        }
        BIsCreateModel() {
          return !this.m_editModel || "" == this.m_editModel.GetGID();
        }
        BIsDirty() {
          return this.m_editModel && this.m_editModel.BIsDirty();
        }
        BEventModelHasTag(e) {
          return this.GetEditModel().BHasTag(e);
        }
        ResetModel(e, t) {
          let a = new _.q();
          (a.GID = e),
            (a.clanSteamID = t || g.a.InitFromClanID(T.b.CLANACCOUNTID)),
            Object(f.a)(
              a.clanSteamID && a.clanSteamID.BIsValid(),
              "Invalid Clan SteamID: " + a.clanSteamID.ConvertTo64BitString()
            ),
            (a.appid = T.b.APPID),
            (a.bOldAnnouncement = e && e.startsWith(_.H)),
            (a.bLoaded = !0),
            null == e && (a.loadedAllLanguages = !0),
            a.appid == _.D &&
              (a.vecTags.push("hide_library_overview"),
              a.vecTags.push("steam_blog"),
              a.vecTags.push("mod_reviewed")),
            (this.m_editModel = new o.f(a)),
            T.b.APPID &&
              S.a
                .Get()
                .QueueAppRequest(T.b.APPID, {
                  include_assets: !0,
                  include_screenshots: !0,
                  include_basic_info: !0,
                  include_supported_languages: !0,
                  include_release: !0,
                });
        }
        LoadClanEventsForPartnerDashboard(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            return (
              this.m_promiseLoadClanEventsForPartnerDashboard ||
                (this.m_promiseLoadClanEventsForPartnerDashboard = this.InternalLoadClanEventsForPartnerDashboard(
                  e,
                  t
                )),
              this.m_promiseLoadClanEventsForPartnerDashboard
            );
          });
        }
        InternalLoadClanEventsForPartnerDashboard(e, t) {
          var a, i, r;
          return Object(n.a)(this, void 0, void 0, function* () {
            const n =
                T.c.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/ajaxlisteventsfordashboard/",
              o = { start: 0, count: 20, l: T.c.LANGUAGE };
            let s = yield l.a.get(n, {
              params: o,
              cancelToken: t ? t.token : void 0,
            });
            const c = new Array();
            return (
              1 ==
                (null === (a = null == s ? void 0 : s.data) || void 0 === a
                  ? void 0
                  : a.success) &&
                ((null === (i = s.data.hidden_announcement_gids) || void 0 === i
                  ? void 0
                  : i.length) > 0 &&
                  s.data.hidden_announcement_gids.forEach((t) =>
                    c.push(this.LoadHiddenPartnerEventByAnnouncementGID(e, t))
                  ),
                (null === (r = s.data.announcement_gids) || void 0 === r
                  ? void 0
                  : r.length) > 0 &&
                  s.data.announcement_gids.forEach((t) =>
                    c.push(this.LoadHiddenPartnerEventByAnnouncementGID(e, t))
                  )),
              yield Promise.all(c),
              this.GetAllClanEvents(e)
            );
          });
        }
        LoadEditorModel(e, t) {
          var a;
          return Object(n.a)(this, void 0, void 0, function* () {
            if (
              t &&
              (null === (a = this.m_editModel) || void 0 === a
                ? void 0
                : a.GetGID()) == t &&
              this.m_editModel.GetEventModel().loadedAllLanguages
            );
            else if (t) {
              this.ResetModel(t, e), yield this.LoadHiddenPartnerEvent(e, t);
              let a = s.c.GetClanEventModel(t);
              a &&
                (this.m_editModel.Refresh(a),
                yield s.c.LoadClanEventLocalization(e, t, !1));
            } else this.m_editModel || this.ResetModel();
            return this.m_editModel;
          });
        }
        GetEditModel() {
          return this.m_editModel;
        }
        CreateClone() {
          let e = this.GetEditModel().GetEventModel().clone();
          return this.m_editModel.PrepareAsClone(e), this.m_editModel;
        }
        PublishModel(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const t = yield this.InternalSaveAction(e, !0, !1);
            if (1 != t.success) throw t;
            return t;
          });
        }
        PreSaveActions(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (
              (30 == this.m_editModel.GetFirstLanguageWithTitle() &&
                this.m_editModel.SetName(
                  this.m_editModel.GetCurEditLanguage(),
                  Object(C.f)("#EventEditor_Placeholder_Title")
                ),
              this.m_editModel.BHasEmailEnabled())
            ) {
              let t = this.m_editModel.GetEmailSettings().sections;
              for (let a = 0; a < t.length; ++a) {
                let n = t[a],
                  i = new r.a(n, this.m_editModel);
                if (i.BHasValidVideoURL()) {
                  let t = i.GetYouTubeVideoID();
                  if (t && !i.BHasVideoImage()) {
                    let a =
                        T.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        this.m_editModel
                          .GetClanSteamID()
                          .ConvertTo64BitString() +
                        "/fetchyoutubeimage?videoid=" +
                        t,
                      n =
                        T.c.COMMUNITY_BASE_URL +
                        "public/images/events/media_play_icon.png";
                    try {
                      let l = yield b.d.AsyncOverlay(e, a, n, t, 740, 555);
                      i.SetVideoHashAndExt(l);
                    } catch (e) {
                      console.error(
                        "We failed to create a video image, not a blocker: " +
                          Object(O.a)(e).strErrorMsg
                      );
                    }
                  }
                }
              }
            }
            this.m_editModel.BHasSaleEnabled() &&
              this.m_editModel.GetSaleSectionCount() > 0 &&
              this.m_editModel.GetSaleSections().forEach((e) => {
                "items" == e.section_type &&
                  Boolean(e.smart_section_type) &&
                  (e.capsules = []);
              }),
              yield Object(c.b)(this.m_editModel);
          });
        }
        SaveModel(e, t) {
          return Object(n.a)(this, void 0, void 0, function* () {
            yield this.PreSaveActions(e);
            const a = yield this.InternalSaveAction(e, !1, t);
            if (1 != a.success) throw a;
            return a;
          });
        }
        InternalSaveAction(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n =
              !!this.m_editModel.GetGID() &&
              !this.m_editModel.GetGID().startsWith(_.H);
            if (t && !n)
              return {
                success: 11,
                msg: Object(C.f)(
                  "#EventEditor_Publish_CannotPublishWithoutSaveFirst"
                ),
              };
            if (!this.m_editModel.GetEventModel().loadedAllLanguages)
              return {
                success: 11,
                msg: Object(C.f)(
                  "#EventEditor_SaveOrPublish_MissingLocalizationInternalError"
                ),
              };
            if (!a && (n || t)) {
              let t = yield this.GetLastUpdateTimeForEvent(
                e,
                this.m_editModel.GetEventModel().GID,
                void 0,
                null
              );
              if (
                t &&
                t.last_update_rtime > 0 &&
                t.last_update_rtime != this.m_editModel.GetLastUpdateTime()
              )
                return (
                  console.log(
                    "Clobber Warning Appears: Original Seconds: " +
                      t.last_update_rtime +
                      " update time: " +
                      this.m_editModel.GetLastUpdateTime() +
                      " previous user: " +
                      t.persona_name
                  ),
                  {
                    success: 27,
                    msg: Object(C.f)(
                      "#EventEditor_SaveOrPublish_ClobberWarning",
                      Object(y.g)(t.last_update_rtime, {
                        bForce24HourClock: !1,
                      }),
                      t.persona_name,
                      Object(y.g)(this.m_editModel.GetLastUpdateTime(), {
                        bForce24HourClock: !1,
                      })
                    ),
                  }
                );
            }
            let i = this.m_editModel.GetGID(),
              r = new URLSearchParams();
            if (
              (r.append("sessionid", T.c.SESSIONID),
              r.append("authwgtoken", T.h.authwgtoken),
              this.m_editModel.GetEventModel().BHasTag("mod_reviewed") &&
                this.m_editModel.AddTag("mod_require_rereview"),
              this.m_editModel.BHasTag("auto_migrated") &&
                !this.m_editModel.GetEventModel().bOldAnnouncement &&
                this.m_editModel.ClearTags(["auto_migrated"]),
              n || t
                ? (r.append(t ? "bPublish" : "bUpdate", "1"),
                  r.append("gid", this.m_editModel.GetGID()),
                  r.append(
                    "announcement_gid",
                    this.m_editModel.GetAnnouncementGID()
                  ))
                : (this.m_editModel.GetEventModel().bOldAnnouncement &&
                    r.append(
                      "announcement_gid",
                      this.m_editModel.GetAnnouncementGID()
                    ),
                  r.append("bCreate", "1")),
              r.append(
                "rtime32_visibility_start",
                "" + this.m_editModel.GetEventVisibilityStartTime()
              ),
              r.append(
                "rtime32_visibility_end",
                "" + this.m_editModel.GetEventVisibilityEndTime()
              ),
              r.append(
                "start_time_is_now",
                this.m_editModel.GetStartTimeEditChoice() == o.e.k_ENow ||
                  this.m_editModel.GetVisibilitySetting() == o.g.immediate
                  ? "1"
                  : "0"
              ),
              !t)
            ) {
              {
                const e = "Untitled",
                  t = (this.m_editModel.GetName(0) || "").trim();
                if (!t || t === e) {
                  let t = "";
                  for (let e = 0; e < 30; ++e) {
                    const a = (this.m_editModel.GetName(e) || "").trim();
                    if (this.m_editModel.BIsLanguageValidForRealms(e) && a) {
                      t = a;
                      break;
                    }
                  }
                  this.m_editModel.SetName(0, t || e);
                }
              }
              r.append("hidden", "" + this.m_editModel.BHidden()),
                r.append("published", "" + this.m_editModel.BPublished()),
                r.append("appid", "" + this.m_editModel.GetAppID()),
                r.append("event_name", this.m_editModel.GetName(0)),
                r.append("event_type", "" + this.m_editModel.GetEventType()),
                r.append(
                  "body",
                  this.m_editModel.GetDescription(0)
                    ? this.m_editModel.GetDescription(0)
                    : ""
                ),
                r.append(
                  "rtime32_start_time",
                  "" + this.m_editModel.GetEventStartTime()
                ),
                r.append(
                  "rtime32_end_time",
                  "" + this.m_editModel.GetEventEndTime()
                ),
                r.append("jsondata", "" + this.m_editModel.ConstructJSONData()),
                r.append(
                  "tags",
                  JSON.stringify(this.m_editModel.GetEventModel().vecTags)
                ),
                r.append(
                  "build_id",
                  "" + this.m_editModel.GetEventModel().m_nBuildID
                ),
                r.append(
                  "build_branch",
                  this.m_editModel.GetEventModel().m_strBuildBranch
                ),
                this.m_editModel.BHasBroadcaster() &&
                  r.append(
                    "broadcaster_accountid",
                    "" + this.m_editModel.GetBroadcaster().GetAccountID()
                  );
              for (let e = 0; e < 30; ++e)
                this.m_editModel.BHasLanguage(e) &&
                  (r.append(
                    Object(p.c)(Object(p.a)(e)) + "_headline",
                    this.m_editModel.GetName(e)
                      ? this.m_editModel.GetName(e)
                      : ""
                  ),
                  r.append(
                    Object(p.c)(Object(p.a)(e)) + "_body",
                    this.m_editModel.GetDescription(e)
                      ? this.m_editModel.GetDescription(e)
                      : ""
                  ));
            }
            let s = this.m_editModel.GetAppID(),
              c =
                T.c.COMMUNITY_BASE_URL +
                "gid/" +
                e.ConvertTo64BitString() +
                "/ajaxcreateupdatedeletepartnerevents/";
            try {
              let a = yield l.a.post(c, r);
              Object(d.G)(() => {
                if (
                  (Object(f.a)(
                    200 == a.status && 1 == a.data.success,
                    "We should only get 200 if we succeed in this method."
                  ),
                  this.m_editModel.GetGID() == i)
                ) {
                  this.m_editModel.ClearDirty(),
                    t
                      ? (this.m_editModel.UpdateVisibilityState(
                          a.data.published,
                          a.data.hidden
                        ),
                        a.data.forum_topic_id &&
                          (this.m_editModel.GetEventModel().forumTopicGID =
                            a.data.forum_topic_id))
                      : (n ||
                          (this.m_editModel.SetGIDs(
                            e,
                            a.data.gid,
                            a.data.announcement_gid
                          ),
                          this.InsertUniqueEventGID(
                            e.GetAccountID(),
                            s,
                            a.data.gid
                          )),
                        a.data.localization_updates &&
                          a.data.localization_updates.forEach((e) => {
                            this.m_editModel
                              .GetEventModel()
                              .timestamp_loc_updated.set(
                                e.lang,
                                e.timestamp_updated
                              );
                          }));
                  let i = this.m_editModel.GetEventModel();
                  this.m_mapExistingEvents.set(i.GID, i),
                    this.m_editModel.Refresh(i);
                }
              });
              let o = yield this.GetLastUpdateTimeForEvent(
                e,
                this.m_editModel.GetGID(),
                void 0,
                void 0
              );
              return (
                o
                  ? this.m_editModel.MarkUpdateSuccessful(
                      o.last_update_rtime,
                      o.last_updater_steamid
                    )
                  : this.m_editModel.MarkUpdateSuccessful(
                      Math.floor(Date.now() / 1e3),
                      g.a
                        .InitFromAccountID(T.h.accountid)
                        .ConvertTo64BitString()
                    ),
                a.data
              );
            } catch (e) {
              let t = Object(O.a)(e);
              return (
                console.error("InternalSaveAction failed: " + t.strErrorMsg, t),
                { success: 2, msg: t.strErrorMsg }
              );
            }
          });
        }
        LoadClanEventLocalization(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n = this.m_mapExistingEvents.get(t);
            if (n && (!n.loadedAllLanguages || a)) {
              let t = n.AnnouncementGID;
              if (!t || "0" == t) return this.m_editModel;
              yield this.LoadClanEventLocalizationFromAnnouncementGID(
                e,
                t
              ).then((e) => {
                e &&
                  Object(d.G)(() => {
                    n.loadedAllLanguages = !0;
                    for (let t of e)
                      n.name.set(t.language, t.headline),
                        n.description.set(t.language, t.body),
                        n.timestamp_loc_updated.set(
                          t.language,
                          t.timestamp_updated
                        );
                    this.m_editModel.Refresh(n);
                  });
              });
            }
            return this.m_editModel;
          });
        }
        FireTestEmail(e, t, a, i) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n =
              T.c.COMMUNITY_BASE_URL +
              "eventemail/ajaxtestfirepartnereventemail";
            Object(f.a)(
              e && e.BIsValid(),
              "FireTestEventNotifiation clan steamd is invalid " +
                (e ? e.ConvertTo64BitString() : "undefined")
            );
            let r = new URLSearchParams();
            return (
              r.append("sessionid", T.c.SESSIONID),
              r.append("clan_event_gid", t),
              r.append("clan_account_id", "" + e.GetAccountID()),
              r.append("language", Object(p.a)(a)),
              (yield l.a.post(n, r, { cancelToken: i.token })).data
            );
          });
        }
        FireTestEventNotifiation(e, t, a, i = 0) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n =
              T.c.COMMUNITY_BASE_URL +
              "eventemail/ajaxtestfireeventnotification";
            Object(f.a)(
              e && e.BIsValid(),
              "FireTestEventNotifiation clan steamd is invalid " +
                (e ? e.ConvertTo64BitString() : "undefined")
            );
            let r = new URLSearchParams();
            return (
              r.append("sessionid", T.c.SESSIONID),
              r.append("clan_event_gid", t),
              r.append("clan_account_id", "" + e.GetAccountID()),
              r.append("notification_type", "" + i),
              (yield l.a.post(n, r, { cancelToken: a.token })).data
            );
          });
        }
        SetupPartnerEmailCampaign(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n = T.c.COMMUNITY_BASE_URL + "eventemail/ajaxsetuppartneremail",
              i = new URLSearchParams();
            i.append("sessionid", T.c.SESSIONID),
              i.append("clanid", "" + e.GetAccountID()),
              i.append("gidevent", t);
            let r = yield l.a.post(n, i, {
              withCredentials: !0,
              cancelToken: a.token,
            });
            return yield this.HandleEmailSetupResponse(e, t, r);
          });
        }
        HandleEmailSetupResponse(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            if (a.data.force_feature_id && 1 == a.data.success) {
              let n = a.data.force_feature_id;
              console.log(
                "SetupPartnerEmailCampaign successful with feature id: " + n
              );
              let i = yield this.LoadEditorModel(e, t);
              return new r.b(i).SetForceFeatureID(n), yield this.SaveModel(e);
            }
            return a.data;
          });
        }
        InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(
          e,
          t,
          a,
          i,
          l,
          r = !1
        ) {
          const o = Object.create(null, {
            InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID: {
              get: () =>
                super
                  .InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID,
            },
          });
          return Object(n.a)(this, void 0, void 0, function* () {
            if (!e) {
              const a = yield E.a.LoadOGGClanInfoForAppID(t);
              e = a.clanSteamID;
            }
            const n = yield v.a.Get().LoadSingleAppEventPermissions(e);
            return o.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID.call(
              this,
              e,
              t,
              a,
              i,
              l,
              n.can_edit
            );
          });
        }
        RequestLocalizationOfEvent(e, t, a) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n = T.c.STORE_BASE_URL + "events/ajaxrequestlocalization",
              i = new URLSearchParams();
            return (
              i.append("authwgtoken", T.h.authwgtoken),
              i.append("clanid", "" + e.GetAccountID()),
              i.append("gidevent", t),
              i.append("primaryLang", "0"),
              (yield l.a.post(n, i, { cancelToken: a.token })).data
            );
          });
        }
        GetLastUpdateTimeForEvent(e, t, a, i) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n =
                T.c.COMMUNITY_BASE_URL +
                "gid/" +
                e.ConvertTo64BitString() +
                "/ajaxgetlastupdatetimeforpartnerevent",
              r = { eventgid: t, announcementgid: a };
            try {
              return (yield l.a.get(n, {
                params: r,
                withCredentials: !0,
                cancelToken: i ? i.token : void 0,
              })).data;
            } catch (e) {
              let t = Object(O.a)(e);
              console.error(
                "GetLastUpdateTimeForEvent: Failed to get last update time: " +
                  t.strErrorMsg,
                t
              );
            }
            return null;
          });
        }
        SetupInternalPartnerCommunication(e, t, a, i) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let n =
                T.c.STORE_BASE_URL +
                "events_admin/ajaxupdatepartneremailtarget",
              r = new URLSearchParams();
            r.append("authwgtoken", T.h.authwgtoken),
              r.append("sessionid", T.c.SESSIONID),
              r.append("clan_accountid", "" + t.GetAccountID()),
              r.append("gid_event", a),
              r.append("partner_capability", "" + i.capability),
              r.append("app_right_flags", "" + i.app_rights),
              r.append("publisher_right_flags", "" + i.pub_rights),
              r.append("mark_urgent", "" + i.priority),
              r.append("appids", i.appids.join(",")),
              r.append("publisherids", i.partnerids.join(","));
            let o = yield l.a.post(n, r, {
              withCredentials: !0,
              cancelToken: e.token,
            });
            return yield this.HandleEmailSetupResponse(t, a, o);
          });
        }
        GetPartnerCapabilities(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            let t = T.c.STORE_BASE_URL + "events_admin/ajaxgetcapabilities",
              a = new URLSearchParams();
            return (
              a.append("authwgtoken", T.h.authwgtoken),
              a.append("sessionid", T.c.SESSIONID),
              (yield l.a.post(t, a, {
                withCredentials: !0,
                cancelToken: e.token,
              })).data.capabilities
            );
          });
        }
        GetSteamAwardVoteDefinitionForApp(e) {
          if (!this.m_bLoadedOrInflightSteamAwardVoteDefinitions) {
            this.m_bLoadedOrInflightSteamAwardVoteDefinitions = !0;
            let t = T.c.STORE_BASE_URL + "steamawards/ajaxgetpartnervotedefs",
              a = new URLSearchParams();
            a.append("authwgtoken", T.h.authwgtoken),
              a.append("sessionid", T.c.SESSIONID),
              a.append("appid", e.toString()),
              l.a.post(t, a, { withCredentials: !0 }).then(
                (e) => {
                  var t, a, n;
                  1 ==
                    (null === (t = null == e ? void 0 : e.data) || void 0 === t
                      ? void 0
                      : t.success) &&
                    (null ===
                      (n =
                        null === (a = null == e ? void 0 : e.data) ||
                        void 0 === a
                          ? void 0
                          : a.votes) || void 0 === n
                      ? void 0
                      : n.length) > 0 &&
                    e.data.votes.forEach((e) => {
                      this.m_mapSteamAwardVoteDefinitionsForApp.has(e.appid)
                        ? this.m_mapSteamAwardVoteDefinitionsForApp
                            .get(e.appid)
                            .push(e)
                        : this.m_mapSteamAwardVoteDefinitionsForApp.set(
                            e.appid,
                            [e]
                          );
                    });
                },
                (e) => {
                  let t = Object(O.a)(e);
                  console.error(
                    "LoadSteamAwardVoteDefinitionsForPartner: Request failed: " +
                      t.strErrorMsg,
                    t
                  );
                }
              );
          }
          return this.m_mapSteamAwardVoteDefinitionsForApp.get(e);
        }
      }
      function I(e) {
        return `U${T.h.accountid || "anon"}-${e}`;
      }
      function D(e, t) {
        window.sessionStorage.setItem(I(e), JSON.stringify(t));
      }
      function G(e) {
        let t = null;
        const a = window.sessionStorage.getItem(I(e));
        if (a)
          try {
            t = JSON.parse(a);
          } catch (e) {}
        return t;
      }
      Object(n.b)([d.C], j.prototype, "m_curHoverCategoryType", void 0),
        Object(n.b)([d.C], j.prototype, "m_curHoverCategoryTags", void 0),
        Object(n.b)(
          [d.C],
          j.prototype,
          "m_mapSteamAwardVoteDefinitionsForApp",
          void 0
        ),
        Object(n.b)([d.k], j.prototype, "ResetModel", null),
        Object(n.b)([d.k], j.prototype, "LoadClanEventLocalization", null);
      const w = new j();
      function A(e, t) {
        const [a, n] = u.a.useState(null);
        return (
          u.a.useEffect(() => {
            const a = g.a.InitFromClanID(e);
            w.LoadClanEventsForPartnerDashboard(a, t).then((e) =>
              n(e.filter((e) => !e.BIsStagedEvent() && !e.BIsVisibleEvent()))
            );
          }, [e, t]),
          a
        );
      }
      window.g_PartnerEventEditStore = w;
    },
    tP3u: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return u;
      }),
        a.d(t, "b", function () {
          return p;
        });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("q1tI"),
        o = a.n(r),
        s = (a("mgoM"), a("65aj"), a("3+zv"), a("kLLr")),
        c = (a("AiWL"), a("OS6B")),
        d = a("lkRc");
      class m {
        constructor() {
          (this.m_rgRecords = new Array()),
            (this.m_mapEventToRecord = new Map()),
            (this.m_mapTagsToRecords = new Map()),
            (this.m_bLoadComplete = !1);
        }
        GetAllRecords() {
          return this.m_rgRecords;
        }
        GetPublishClanEventGIDRecord(e) {
          return this.m_mapEventToRecord.get(e);
        }
        GetRecordsForTag(e) {
          return this.m_mapTagsToRecords.get(e) || [];
        }
        BHasLoadCompleted() {
          return this.m_bLoadComplete;
        }
        LoadAuditRecords(e) {
          return Object(n.a)(this, void 0, void 0, function* () {
            return (
              this.m_loadingPromise ||
                (this.m_loadingPromise = this.InternalLoadAuditRecords(e)),
              yield this.m_loadingPromise
            );
          });
        }
        InternalLoadAuditRecords(e) {
          var t, a;
          return Object(n.a)(this, void 0, void 0, function* () {
            try {
              const n =
                  d.c.COMMUNITY_BASE_URL +
                  "gid/" +
                  e.ConvertTo64BitString() +
                  "/ajaxgeteventpublishaudit",
                i = { count: 1e3 },
                r = yield l.a.get(n, { params: i, withCredentials: !0 });
              if (
                ((this.m_bLoadComplete = !0),
                200 == (null == r ? void 0 : r.status) &&
                  1 ==
                    (null === (t = null == r ? void 0 : r.data) || void 0 === t
                      ? void 0
                      : t.success) &&
                  (null === (a = null == r ? void 0 : r.data) || void 0 === a
                    ? void 0
                    : a.data))
              )
                return (
                  r.data.data.forEach((e) => {
                    var t;
                    this.m_rgRecords.push(e),
                      this.m_mapEventToRecord.set(e.clan_event_gid, e),
                      null === (t = e.tags) ||
                        void 0 === t ||
                        t.forEach((t) => {
                          this.m_mapTagsToRecords.has(t) ||
                            this.m_mapTagsToRecords.set(t, []),
                            this.m_mapTagsToRecords.get(t).push(e);
                        });
                  }),
                  this.m_rgRecords
                );
            } catch (e) {
              const t = Object(c.a)(e);
              console.error(
                "CPartnerEventPublishAuditStores.LoadAuditRecords: failed with " +
                  t.strErrorMsg,
                t
              );
            }
            return [];
          });
        }
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              ("dev" != d.c.WEB_UNIVERSE && "beta" != d.c.WEB_UNIVERSE) ||
                (window.g_PartnerEventPublishAuditStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
      }
      function u(e) {
        const [t, a] = o.a.useState(!m.Get().BHasLoadCompleted());
        return (
          o.a.useEffect(() => {
            if (!m.Get().BHasLoadCompleted()) {
              const t = s.a.InitFromClanID(e);
              m.Get()
                .LoadAuditRecords(t)
                .finally(() => a(!1));
            }
          }, [e]),
          t ? void 0 : m.Get().GetAllRecords()
        );
      }
      function p(e, t) {
        const [a, n] = o.a.useState(!m.Get().BHasLoadCompleted());
        return (
          o.a.useEffect(() => {
            if (!m.Get().BHasLoadCompleted()) {
              const t = s.a.InitFromClanID(e);
              m.Get()
                .LoadAuditRecords(t)
                .finally(() => n(!1));
            }
          }, [e]),
          a ? void 0 : m.Get().GetRecordsForTag(t)
        );
      }
    },
    tzvv: function (e, t, a) {
      e.exports = {
        SortTierControls: "partnereventsalesorttiers_SortTierControls_1_f_6",
        SortTierExplanation:
          "partnereventsalesorttiers_SortTierExplanation_1U8SA",
        AutoTierButton: "partnereventsalesorttiers_AutoTierButton_3uDH_",
      };
    },
    vBFs: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return _;
      });
      var n = a("mrSG"),
        i = a("TyAF"),
        l = a("q1tI"),
        r = a("mgoM"),
        o = a("65aj"),
        s = a("fpVW"),
        c = a.n(s),
        d = a("exH9"),
        m = a("TLQK"),
        u = a("Z1oF"),
        p = a("opsS");
      let _ = class extends l.Component {
        GenerateLanguageOptions() {
          let e = [];
          const {
            fnFilterLanguage: t,
            fnLangHasData: a,
            fnLastUpdateRTime: n,
            fnIsLangSupported: i,
          } = this.props;
          this.props.bAllowUnsetOption &&
            e.push(
              l.createElement(
                "option",
                { key: "langpicker_unset", value: -1 },
                Object(m.f)("#EventEditor_NoneLanguage")
              )
            );
          let s = new Array();
          const p = this.props.realms || [o.ESteamRealm.k_ESteamRealmGlobal];
          for (const e of m.b.GetLanguageListForRealms(p)) {
            if (t && !t(e)) continue;
            const a = Object(r.a)(e),
              n = Object(m.f)("#Language_" + a),
              l = Boolean(i) && i(e);
            s.push({ eLang: e, sLocName: n, bSupported: l });
          }
          s.sort((e, t) =>
            e.bSupported != t.bSupported
              ? e.bSupported
                ? -1
                : 1
              : e.sLocName.localeCompare(t.sLocName)
          );
          let _ = !1;
          for (const t of s) {
            t.bSupported != _ &&
              (e.push(
                l.createElement(
                  "option",
                  {
                    key: t.bSupported ? "SupportedGroup" : "UnsupportedGroup",
                    className: c.a.SupportedGroupLabel,
                    disabled: !0,
                  },
                  Object(m.f)(
                    t.bSupported
                      ? "#LanguageGroup_Supported"
                      : "#LanguageGroup_Unsupported"
                  )
                )
              ),
              (_ = t.bSupported));
            const i = a && a(t.eLang),
              r = n && n(t.eLang);
            let o = t.sLocName;
            r &&
              0 !== r &&
              ((o += " "),
              (o += Object(m.f)(
                "#Language_Last_Update",
                Object(m.n)(r) +
                  " @ " +
                  Object(u.g)(r, { bForce24HourClock: !1 })
              ))),
              e.push(
                l.createElement(
                  "option",
                  {
                    key: "langpicker" + t.eLang + (i ? "_hasdata" : ""),
                    value: t.eLang,
                    className: Object(d.a)(
                      { [c.a.LanguageWithContent]: i },
                      t.bSupported
                        ? c.a.SupportedLanguage
                        : c.a.UnsupportedLanguage
                    ),
                  },
                  o
                )
              );
          }
          return e;
        }
        OnLanguageChange(e) {
          const { fnOnLanguageChanged: t, selectedLang: a } = this.props;
          let n = Number.parseInt(e.currentTarget.value);
          n != a && t && t(n);
        }
        render() {
          const { selectedLang: e } = this.props;
          let t = this.GenerateLanguageOptions();
          return l.createElement(
            "select",
            { value: e, onChange: this.OnLanguageChange },
            t
          );
        }
      };
      Object(n.b)([p.b], _.prototype, "OnLanguageChange", null),
        (_ = Object(n.b)([i.a], _));
    },
    w7rs: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0M1MEE4RDkxREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0M1MEE4REExREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQzUwQThENzFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQzUwQThEODFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkFcBtEAAADkSURBVHjaYvz//z8DCDCBiHfv3v0HCCBGmAgIiIAIgAACizAyMgpABf8wICsBAYAAYsQQAGIeIGaB8j+Aybdv3/6HGYoBAAIIwwx0ADYL6AwRoDGvkSWEhYVFgdQbdGeJoNtF0AqAACKogImBAGCEOpQHi9wXoOl/wAqAPviNLgv0BStIAciKPyAOuiQ45NHDBBqksHBmIOQBsAIWQqoAAoxgOBACTAwUAlhkcwA9+J1YTcBQ4gRSP8DpFZpoYYYJoKcaLCnoAyyI0Q1AdhWKQegaUaIBTyCCDOJAjjds0TTwsQAAEO5yLEGNvDIAAAAASUVORK5CYII=";
    },
    wLVu: function (e, t, a) {
      e.exports = {
        TableOfContentsContainer:
          "tableofcontents_TableOfContentsContainer_2VyHw",
        TableOfContents: "tableofcontents_TableOfContents_3-gNE",
        TOCEntry: "tableofcontents_TOCEntry_2fked",
        TOCEntryText: "tableofcontents_TOCEntryText_2E83D",
        SectionOnScreen: "tableofcontents_SectionOnScreen_1ZlX0",
        TOCIndent: "tableofcontents_TOCIndent_mtCjw",
        Header: "tableofcontents_Header_1JRRC",
        ManageLocCtn: "tableofcontents_ManageLocCtn_1PmKQ",
        LocButtonsCtn: "tableofcontents_LocButtonsCtn_19-WG",
        ManageLocContents: "tableofcontents_ManageLocContents_N1BFb",
      };
    },
    wUcC: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return E;
      });
      var n,
        i = a("mrSG"),
        l = a("EA3E"),
        r = a("TyAF"),
        o = a("q1tI"),
        s = a("Cs6D"),
        c = (a("65aj"), a("Mgs7")),
        d = a("fpVW"),
        m = a("5E+2"),
        u = a("exH9"),
        p = a("TLQK"),
        _ = a("opsS"),
        g = a("as1E"),
        b = a("JiI5");
      let E = (n = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = { strCustomTitle: "", bSelectedCustomTitle: !1 });
        }
        componentDidMount() {
          this.setState({
            strCustomTitle: p.a.Get(
              this.props.localized_label,
              this.props.editLanguage
            ),
          });
        }
        componentDidUpdate(e, t) {
          const a = p.a.Get(
            this.props.localized_label,
            this.props.editLanguage
          );
          a != t.strCustomTitle &&
            e.editLanguage != this.props.editLanguage &&
            this.setState({ strCustomTitle: a });
        }
        GetTitleOptions(e) {
          const t = {
              value: "#Sale_default_label",
              label: Object(p.f)("#Sale_default_label"),
            },
            a = {
              value: "#Sale_default_label_custom",
              label: Object(p.f)("#Sale_default_label_custom"),
            };
          if (e) return [a];
          let n = [],
            i = 0;
          for (let e = 1; i < 5; e++) {
            const t = "#Sale_default_label_" + e,
              a = Object(p.f)(t);
            t === a ? i++ : ((i = 0), n.push({ value: t, label: a }));
          }
          return n.sort((e, t) => e.label.localeCompare(t.label)), [t, a, ...n];
        }
        static IsValidTitleOption(e) {
          return (
            e &&
            "#Sale_default_label" !== e &&
            "#Sale_default_label_custom" !== e
          );
        }
        OnTitleChange(e) {
          const t = n.IsValidTitleOption(e.value) ? e.value : "";
          this.props.default_label !== t && this.props.onSetDefaultLabel(t),
            this.setState({
              bSelectedCustomTitle: "#Sale_default_label_custom" === e.value,
            });
        }
        OnCustomTitleChange(e) {
          this.setState({ strCustomTitle: e.target.value });
        }
        OnClearCustomTitle() {
          this.setState({ strCustomTitle: "" }),
            this.props.onClearCustomTitle();
        }
        render() {
          const e = p.a.Get(
              this.props.localized_label,
              this.props.editLanguage
            ),
            t = Boolean(
              p.a.GetWithFallback(
                this.props.localized_label,
                this.props.editLanguage
              )
            ),
            a = this.GetTitleOptions(t);
          let n = this.props.default_label
            ? {
                label: Object(p.f)(this.props.default_label),
                value: this.props.default_label,
              }
            : a[0];
          const i = this.state.bSelectedCustomTitle || t;
          i && (n = a.find((e) => "#Sale_default_label_custom" === e.value));
          const r = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          };
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(
              "div",
              { className: b.DefaultTitlePicker },
              o.createElement(
                "div",
                { className: g.TitleSelectionContainer },
                o.createElement(s.a, {
                  styles: r,
                  isSearchable: !0,
                  isMulti: !1,
                  onChange: this.OnTitleChange,
                  value: n,
                  options: a,
                  defaultMenuIsOpen: !1,
                })
              )
            ),
            i &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("div", null, o.createElement(l.c, null)),
                o.createElement(
                  "div",
                  { className: b.customTitleOptionsCtn },
                  o.createElement(
                    "div",
                    {
                      className: Object(u.a)(
                        d.FlexRowContainer,
                        b.CustomTitleCtn
                      ),
                    },
                    o.createElement(
                      "div",
                      { className: b.LanguageInput },
                      o.createElement(c.A, {
                        placeholder: Object(p.f)("#Broadcast_use_custom"),
                        onChange: this.OnCustomTitleChange,
                        value: this.state.strCustomTitle,
                      })
                    ),
                    o.createElement(
                      "div",
                      { className: b.AddTitleButton },
                      o.createElement(
                        m.a,
                        {
                          toolTipContent: Object(p.f)(
                            "#Broadcast_save_title_ttip"
                          ),
                        },
                        o.createElement(
                          c.G,
                          {
                            onClick: () =>
                              this.props.onSetCustomTitle(
                                this.state.strCustomTitle
                              ),
                            disabled: e == this.state.strCustomTitle,
                          },
                          Object(p.f)("#Broadcast_save_title")
                        )
                      )
                    ),
                    o.createElement(
                      "div",
                      { className: b.RemoveTitleButton },
                      o.createElement(
                        m.a,
                        {
                          toolTipContent: Object(p.f)(
                            "#Broadcast_remove_title_ttip"
                          ),
                        },
                        o.createElement(
                          c.G,
                          { onClick: this.OnClearCustomTitle, disabled: !e },
                          Object(p.f)("#Broadcast_remove_title")
                        )
                      )
                    )
                  )
                )
              )
          );
        }
      });
      Object(i.b)([_.b], E.prototype, "OnTitleChange", null),
        Object(i.b)([_.b], E.prototype, "OnCustomTitleChange", null),
        Object(i.b)([_.b], E.prototype, "OnClearCustomTitle", null),
        (E = n = Object(i.b)([r.a], E));
    },
    wYOC: function (e, t, a) {
      e.exports = {
        adult_content_age_gate: "communityagegate_adult_content_age_gate_2PyPU",
        ButtonRow: "communityagegate_ButtonRow_2I-G6",
        checkbox: "communityagegate_checkbox_3zQBG",
        edit_link: "communityagegate_edit_link_1fSrN",
        edit_preference: "communityagegate_edit_preference_3eHEB",
        header_image: "communityagegate_header_image_3H7w6",
        descriptor: "communityagegate_descriptor_3s2aY",
        strong: "communityagegate_strong_3lsXG",
      };
    },
    wrTd: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABo1JREFUeNrsWg1MVlUY/iDTElOcI9ZgZBorV8ywVFYGc05mZQbmMgoNk37NQq3IJZWoLf+l9eMqSQ1lpm4aWgStpauZYbl+wK3EssjKflYmtAyi59Hnbme3e7/v3o9PVtt9t2fnfPe+55x7z3Pe97znvV9cZ2dnKJD/pvTwqji5oLAPiuuAscBwYBDQR7dbgWZgP1APbN9UXXU8mN6uSVwkywEpyShKgTsMMiJJG1AJLAZJLcE0x5gckBKH4i5gCXBOlP3TesqACpAU+M9YkANieqN4GbgpRuPsYLcgqC2Y8i6QI2I4maNjPNYHwJhgL4qSHLmyzcCNUfTVAewGPtHvoUA2EG/o1DKoAEF/B1PvP1q7P0pidjFgwKR/YbPCdBQviSTKOOAR4Mlg6n1YDiYyBQUn92yffbwJXC/L4R6Va1ynFZ4B7FQITvkTyLATGci/xXQ5ZVEQw/NNkeo1wBxgr8D6awDZv026lF7AY8HUe7QcWE1/1I8AZ/lsvxYWMA3t6Q4n0jrw+y9ZIl1mHbAN157G73WoTzX2p1Rc/97D4XegiL4SSAR+VHCxBu0/ls5CFJdG6KoG+muk/wKKc130jkLvTofn4KKqAs4EGqCzyOV556IYCRyEzoMuOv0UDcfrPWpwrQD1nnw//H7dtJyJURBjRWBW+6UWMRTU23kNyNOlvUY7urrJHoi5GAUJuA8YpqwEX3wm8D7uD5DqKOCGCMgwus4No5fr8jh03ZOkU4axE130RkpnDnQud9HhgT5feoOhd772/1vNM6UVEIyNgpgTis5Ccoe/O+jwWm/V2233OGZFhDEYPPRV25kiipZUCHyGBfCz9J6hhapOEm5XfQHwi+r7Hfpnqmmjw8HZSYqMei9N5LMRnr/UflYEEbS8B2x6fI8kvcdgOznDoyDncUxOo+rvArcYZFlSaFy7yHbvCg9jDFTZjLFWq74HqMZLxhtWusV4+TyDnErc+ypM/024v9aDBZ+nSNN6V1rqdA/kTELbCzHGQeMayUo1lXj2g95WVGlp6+3kJPsk5j25LEsWA/swwAqU1iTSb19D4uWv7dmGZFxPwIO1hhnncyCHxEJ3h1ZWPdp0xOis1Fd7miktcsmmTJErJtGz5c4z0XYYdD8Kt6cDDykNZonjPoR+DqM47BSt8QEfBg55zJdN5QQZHR9FkSUX9JZAn5yle/Ptq0WSGGGsJ0Knst0UZsTfYOCCSVkQxuf7kWnAlzakhnFpm/A+DTpyhAwLdZK3Ae7BRbI8WuAYFJcBJPQ3T6E0BvwJoCWka7UzBHZbmSXQPeTA/BGgGEgTihl54IHmy/f6FvapTMMs4FNdZpQ1D/jQCAhOm2CMESiGWI+kstpy27jvFkh9A2xQBFaia7NVPuU7QyBXwRRLLQZNk2sqFlF8oANWOBrmZZK0h2XqfJMeRv1XDwTR7a0i0Pcl2uTzFbkxNF/ZhblntrzEg3VZZ7ocPEOOYfH9lFHZ4NJ2qebgbrTjgr9WVsf95UU/h1D7pHwNcIWmaSJITgYGmcG9woWY8SgalRFYGIGYHyLsN+wvQecl65kabZFO0mm2GlpFgX4maCGsVJrLkulh5rBJh3O6++26vMTrftnDw8o9oSo3/DbtTVwJV+HeMb0EQ+nlwD0+3n2fBx1OwgytuiaFsAXG/YYuzj83dbvlHMN7VaqeJ+s4OanAH4beUN0fjT4GObl6w4VNAAbooL/eV+JT4SeTk8+Hy3lpJXCD2yg/Wo56psx6iM+JqfegczOQ4kJ6nbEao5VsIylrCSOmSlsgwDNVqc2qUnWIjFNgMM9lzvZAd7fGWWEsds+Ws0tuaxY6YqT1nNId7S7tuC/lQzdLbXv6nJQOY3MNJ+N0VuK3pQsUznKFblHqyMk9fGeQ5vZxry5c+sbwBq3qa6vDpLdAp0LP1d+4ZWVCzBCbi2uEntuSnXKVzV6y0qtt8fi3iu/fsX9ihu5y5ZgOiEi/UoU+pwSpTe97ziKRYaVbUpQ+4QphFvkVnQPGKwLhSlgXxZj8ZFAeTH1kMVMgjMsftd3PVfi3TMm6zSLlauWWRkUxZnnwLce/5YSUiMzWOcKSVUoq8nzTIh+7TKT5lVqvB7BAgj94/D/cmuHe2rSvvBrDcU6SHRDTRXIMgnjGuDfk/J3GqxxXXmxC8J+1GLg1hxQGPyfM1UHL6z8/g7/jdgc5Zp4rdOpTrflHdivHZv6RnYfYbYEL60ZyAul++UeAAQDyv2dSS4HffQAAAABJRU5ErkJggg==";
    },
    wrcz: function (e, t, a) {
      e.exports = {
        AddTitleButton: "partnereventbroadcast_AddTitleButton_XKHg8",
        CustomTitleCtn: "partnereventbroadcast_CustomTitleCtn_1qoSQ",
        LanguageContainer: "partnereventbroadcast_LanguageContainer_3WmqO",
        customTitleOptionsCtn:
          "partnereventbroadcast_customTitleOptionsCtn_zhH_V",
        TitleRowCtn: "partnereventbroadcast_TitleRowCtn_96im4",
        AccountRow: "partnereventbroadcast_AccountRow_2uIyv",
      };
    },
    wst7: function (e, t, a) {
      e.exports = {
        DisplayAdminPanel_Spacer:
          "partnereventcontrolbars_DisplayAdminPanel_Spacer_3TzVF",
        EventEditorTopBarContainer:
          "partnereventcontrolbars_EventEditorTopBarContainer_1Afx7",
        EventPublished: "partnereventcontrolbars_EventPublished_3zTXC",
        EventUnPublished: "partnereventcontrolbars_EventUnPublished_pjxnm",
      };
    },
    wuU9: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return s;
      });
      var n = a("mrSG"),
        i = a("vDqi"),
        l = a.n(i),
        r = a("2vnA"),
        o = (a("wd/R"), a("mgoM"), a("65aj"), a("3+zv"), a("AiWL"), a("lkRc"));
      class s {
        constructor() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return s.s_Singleton || (s.s_Singleton = new s()), s.s_Singleton;
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        LoadPartnerEventForQueryIncremental(
          e,
          t = 0,
          a = 10,
          i,
          l,
          o,
          s,
          c,
          d
        ) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const n = yield this.GetLatestPartnerEvents(
              e,
              t,
              a,
              i,
              l,
              o,
              s,
              c,
              d
            );
            let m = new Array();
            return (
              Object(r.G)(() => {
                n.forEach((e) => {
                  this.m_mapEventGIDToSolrData.has(e.unique_id) ||
                    (m.push(e),
                    this.m_mapEventGIDToSolrData.set(e.unique_id, e),
                    this.m_listEvents.push(e));
                });
              }),
              m
            );
          });
        }
        GetLatestPartnerEvents(e, t = 0, a = 10, i, r, s, c, d, m, u, p, _) {
          return Object(n.a)(this, void 0, void 0, function* () {
            const n =
                o.c.STORE_BASE_URL + "events_admin/ajaxgetlatestpartnerevents",
              g = {
                page: t,
                count: a,
                date: c,
                appids: void 0 === i ? void 0 : i.join(","),
                required_tags: void 0 === r ? void 0 : r.join(","),
                exclude_tags: void 0 === s ? void 0 : s.join(","),
                eventtypefilter: void 0 === d ? void 0 : d.join(","),
                orderByVisibility: m || void 0,
                creator_home_clan_id: void 0 === u ? void 0 : u.join(","),
                showUnpublished: void 0 === _ ? void 0 : _,
                term: void 0 === p ? void 0 : p,
              },
              b = yield l.a.get(n, {
                params: g,
                withCredentials: !0,
                cancelToken: e ? e.token : void 0,
              });
            return b.data ? b.data.docs : [];
          });
        }
      }
      Object(n.b)([r.C], s.prototype, "m_mapEventGIDToSolrData", void 0),
        Object(n.b)([r.C], s.prototype, "m_listEvents", void 0),
        Object(n.b)([r.k], s.prototype, "ClearAllSolrEvents", null);
    },
    xZdw: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return A;
      }),
        a.d(t, "b", function () {
          return k;
        });
      var n = a("mrSG"),
        i = (a("Ww0A"), a("fcuX")),
        l = a("t0uJ"),
        r = a("2vnA"),
        o = a("TyAF"),
        s = a("aoTL"),
        c = a("q1tI"),
        d = (a("mgoM"), a("3+zv")),
        m = a("5izx"),
        u = a("Cdq1"),
        p = a("fpVW"),
        _ = a.n(p),
        g = a("YLyR"),
        b = a("r64O"),
        E = a("exH9"),
        h = a("TLQK"),
        v = a("N0Ye"),
        S = a("opsS"),
        f = a("lkRc"),
        O = a("hvYe"),
        C = a.n(O),
        y = a("w7rs"),
        T = a.n(y),
        j = a("as1E"),
        I = a.n(j);
      function D(e, t, a) {
        if (e.GetCategoryAsType() == t) {
          const t = u.a.Get().BHasOptInSpecialEvents()
              ? [...d.p, ...u.a.Get().GetAllSpecialEventTags()]
              : d.p,
            n = new Set(a || []);
          return t.every((t) => e.BHasTag(t) == n.has(t));
        }
        return !1;
      }
      function G(e) {
        const t = l.c.GetEditModel();
        t.setEventType(e.type),
          t.ClearTags(d.p),
          u.a.Get().BHasOptInSpecialEvents() &&
            t.ClearTags(
              u.a
                .Get()
                .GetAllSpecialEvents()
                .map((e) => e.tag)
            ),
          e.tags && e.tags.forEach((e) => t.ToggleTag(e));
        const a = m.a.GetTimeNowWithOverride();
        e.earliestAllowedStartTime
          ? (t.SetEarliestAllowedStartTime(e.earliestAllowedStartTime),
            e.earliestAllowedStartTime > a &&
              (t.SetStartTimeEditChoice(i.e.k_ESpecified),
              t.SetEventStartTime(e.earliestAllowedStartTime),
              t.SetVisibilityStartTime(e.earliestAllowedStartTime),
              t.SetVisibilityPublishingSetup(i.g.event_start)))
          : t.SetEarliestAllowedStartTime(void 0),
          t.SetSteamAwardNomineeVoteIDs(e.steam_award_category_voteids),
          t.SetLatestAllowedEndTime(e.latestAllowedEndTime),
          t.SetActionEndTime(e.actionEndTime);
      }
      let w = class extends c.Component {
        constructor() {
          super(...arguments), (this.m_refSelectedCategory = c.createRef());
        }
        componentDidMount() {
          if (
            this.m_refSelectedCategory &&
            this.m_refSelectedCategory.current
          ) {
            l.c.GetEditModel().BHasGid() &&
              window.scrollTo(0, this.m_refSelectedCategory.current.offsetTop);
          }
        }
        onCategoryChoice() {
          G(this.props), this.props.onCategoryChosen();
        }
        OnMouseEnter(e) {
          e.preventDefault(),
            e.stopPropagation(),
            l.c.SetCurHoverCategory(this.props.type, this.props.tags);
        }
        render() {
          const e = D(l.c.GetEditModel(), this.props.type, this.props.tags),
            t =
              f.c.IMG_URL +
              "events/types/type_" +
              (this.props.icon ? this.props.icon : this.props.type) +
              ".png?v=4";
          return c.createElement(
            "div",
            {
              className: I.a.EventSubCategory,
              onClick: this.onCategoryChoice,
              onMouseEnter: this.OnMouseEnter,
              ref: e ? this.m_refSelectedCategory : void 0,
            },
            c.createElement("img", {
              className: I.a.CategoryTypeImage,
              src: t,
            }),
            c.createElement(
              "div",
              { className: I.a.EventSubCategory_Ctn },
              c.createElement(
                "div",
                { className: I.a.EventSubCategory_Title },
                e &&
                  c.createElement("img", {
                    className: I.a.CategoryImage,
                    src: C.a,
                  }),
                Object(h.f)(this.props.name)
              ),
              c.createElement(
                "div",
                { className: I.a.EventSubCategory_Desc },
                Object(h.f)(this.props.description)
              )
            )
          );
        }
      };
      Object(n.b)([S.b], w.prototype, "onCategoryChoice", null),
        Object(n.b)([S.b], w.prototype, "OnMouseEnter", null),
        (w = Object(n.b)([o.a], w));
      let A = class extends c.Component {
        constructor() {
          super(...arguments),
            (this.m_refSelectedCategory = c.createRef()),
            (this.state = { expanded: !1 });
        }
        OnLoad() {
          if (this.props.subCategories) {
            let e = l.c.GetEditModel().GetCategoryAsType();
            this.props.subCategories.forEach((t) => {
              t.type == e && this.setState({ expanded: !0 });
            });
          }
          if (
            this.m_refSelectedCategory &&
            this.m_refSelectedCategory.current
          ) {
            l.c.GetEditModel().BHasGid() &&
              window.scrollTo(0, this.m_refSelectedCategory.current.offsetTop);
          }
        }
        componentDidMount() {
          this.OnLoad();
        }
        componentDidUpdate(e) {
          (e.subCategoryDesc === this.props.subCategoryDesc &&
            e.subCategoryTitle === this.props.subCategoryTitle) ||
            this.OnLoad();
        }
        CreateSubCategories() {
          const e = [],
            t = this.props.onCategoryChosen;
          return (
            this.props.subCategories.forEach(function (a) {
              e.push(
                c.createElement(
                  w,
                  Object.assign({ key: a.name }, a, { onCategoryChosen: t })
                )
              );
            }),
            e
          );
        }
        OnMouseEnter(e) {
          e.preventDefault(),
            e.stopPropagation(),
            l.c.SetCurHoverCategory(this.props.type, this.props.tags);
        }
        ToggleExpand() {
          this.props.subCategories
            ? this.setState({ expanded: !this.state.expanded })
            : this.props.type && (G(this.props), this.props.onCategoryChosen());
        }
        render() {
          const e = D(l.c.GetEditModel(), this.props.type, this.props.tags),
            { bIsValveOnly: t } = this.props,
            a =
              void 0 === this.props.subCategories ||
              0 == this.props.subCategories.length,
            n =
              f.c.IMG_URL +
              "events/types/type_" +
              (this.props.icon ? this.props.icon : this.props.type) +
              ".png?v=4";
          return c.createElement(
            "div",
            {
              className: Object(E.a)({
                [I.a.EventCategory]: !0,
                EventCategory: !0,
                [I.a.EventCategoryExpanded]: this.state.expanded,
                [I.a.EventCategoryNotExpandable]: a,
                [_.a.ValveOnlyBackground]: t,
              }),
              onClick: this.ToggleExpand,
              ref: e ? this.m_refSelectedCategory : void 0,
              onMouseEnter: this.OnMouseEnter,
            },
            this.props.subCategories
              ? (this.state.expanded,
                c.createElement("img", {
                  className: I.a.EventCategory_Expander,
                  src: T.a,
                }))
              : null,
            c.createElement(
              "div",
              { className: I.a.EventCategory_HeaderCtn },
              c.createElement("img", {
                className: I.a.CategoryTypeImage,
                src: n,
              }),
              c.createElement(
                "div",
                { className: I.a.CategoryTitles_Ctn },
                c.createElement(
                  "div",
                  { className: I.a.EventCategory_Title },
                  e &&
                    c.createElement("img", {
                      className: I.a.CategoryImage,
                      src: C.a,
                    }),
                  Object(h.f)(this.props.name)
                ),
                c.createElement(
                  "div",
                  { className: I.a.EventCategory_Desc },
                  Object(h.f)(this.props.description)
                )
              )
            ),
            c.createElement(
              "div",
              { className: I.a.EventSubCategoriesCtn },
              this.state.expanded &&
                this.props.subCategoryDesc &&
                c.createElement(
                  "div",
                  { className: I.a.EventSubCategory_Section_Desc },
                  Object(h.f)(this.props.subCategoryDesc)
                ),
              this.state.expanded &&
                this.props.subCategoryTitle &&
                c.createElement(
                  "div",
                  { className: I.a.EventSubCategory_Section_Title },
                  Object(h.f)(this.props.subCategoryTitle)
                ),
              this.state.expanded &&
                this.props.subCategories &&
                this.CreateSubCategories()
            )
          );
        }
      };
      Object(n.b)([S.b], A.prototype, "OnMouseEnter", null),
        Object(n.b)([S.b], A.prototype, "ToggleExpand", null),
        (A = Object(n.b)([o.a], A));
      const M = [12, 20, 21, 31, 34, 16, 15];
      function k(e) {
        var t;
        const a = new Array(),
          n = Object(s.d)(() => l.c.GetCurHoverCategory());
        if (n && n.type) {
          let e = Object(h.f)("#PartnerEvent_" + n.type);
          if (M.some((e) => e == n.type))
            a.push(
              c.createElement(
                "span",
                { key: "EventCategory_Visibility_GeneralWithException" },
                Object(h.f)("#EventCategory_Visibility_GeneralWithException", e)
              )
            ),
              12 == n.type
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_SmallEventException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)(
                        "#EventCategory_Visibility_SmallEventException"
                      )
                    )
                  )
                : 34 == n.type
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_CrosspostException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)(
                        "#EventCategory_Visibility_CrosspostException"
                      )
                    )
                  )
                : 16 == n.type
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key:
                          "EventCategory_Visibility_UpcomingReleaseException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)(
                        "#EventCategory_Visibility_UpcomingReleaseException"
                      )
                    )
                  )
                : 20 == n.type || 31 == n.type
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_DiscountException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)("#EventCategory_Visibility_DiscountException")
                    )
                  )
                : 21 == n.type
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_InGameDiscountException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)(
                        "#EventCategory_Visibility_InGameDiscountException"
                      )
                    )
                  )
                : a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_LibraryHomeException",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.f)(
                        "#EventCategory_Visibility_LibraryHomeException"
                      )
                    )
                  );
          else if (n.tags && -1 != n.tags.indexOf("steam_award_vote_request")) {
            const e = Object(h.f)("#PartnerEvent_SteamAwardVoteRequest");
            a.push(
              c.createElement(
                "span",
                { key: "EventCategory_Visibility_GeneralWithException" },
                Object(h.f)("#EventCategory_Visibility_GeneralWithException", e)
              )
            ),
              a.push(
                c.createElement(
                  "div",
                  {
                    key:
                      "EventCategory_Visibility_SteamAwardsVoteRequest_Exception",
                    className: I.a.ExceptionNote,
                  },
                  Object(h.f)(
                    "#EventCategory_Visibility_SteamAwardsVoteRequest_Exception"
                  )
                )
              );
          } else
            n.tags && -1 != n.tags.indexOf("curator_group_members")
              ? a.push(
                  c.createElement(
                    "div",
                    {
                      key:
                        "EventCategory_Visibility_Curator_Group_Members_Exception",
                      className: I.a.ExceptionNote,
                    },
                    Object(h.f)(
                      "#EventCategory_Visibility_Curator_Group_Members"
                    )
                  )
                )
              : n.tags && -1 != n.tags.indexOf("curator_public")
              ? a.push(
                  c.createElement(
                    "div",
                    {
                      key: "EventCategory_Visibility_Curator_Public_Exception",
                      className: I.a.ExceptionNote,
                    },
                    Object(h.f)("#EventCategory_Visibility_Curator_Public")
                  )
                )
              : a.push(
                  c.createElement(
                    "span",
                    { key: "EventCategory_Visibility_General" },
                    Object(h.f)("#EventCategory_Visibility_General", e)
                  )
                );
          a.push(
            c.createElement(
              "div",
              { key: "Exception_Docs_Link", className: I.a.ExceptionDocsLink },
              c.createElement(
                "a",
                {
                  href:
                    "https://partner.steamgames.com/doc/marketing/event_tools/visibility",
                  target: "_blank",
                },
                Object(h.f)("#EventCategory_Visibility_Docs")
              )
            )
          );
          let t = Object(v.a)(n.type),
            i = !Object(v.c)(n.type, n.tags),
            l = Object(v.d)(n.type);
          (i || t || l) &&
            (a.push(
              c.createElement(
                "p",
                { key: "EventCategory_Visibility_AdditonalNotes" },
                Object(h.f)("#EventCategory_Visibility_AdditonalNotes")
              )
            ),
            t
              ? a.push(
                  c.createElement(
                    "div",
                    {
                      key: "EventCategory_Visibility_EventEnd",
                      className: I.a.ExceptionNote,
                    },
                    Object(h.f)("#EventCategory_Visibility_EventEnd")
                  )
                )
              : i &&
                a.push(
                  c.createElement(
                    "div",
                    {
                      key: "EventCategory_Visibility_NoCapsule",
                      className: I.a.ExceptionNote,
                    },
                    Object(h.f)("#EventCategory_Visibility_NoCapsule")
                  )
                ),
            l &&
              a.push(
                c.createElement(
                  "div",
                  {
                    key: "EventCategory_Visibility_SpotlightRecommended",
                    className: I.a.ExceptionNote,
                  },
                  Object(h.f)("#EventCategory_Visibility_SpotlightRecommended")
                )
              ));
        } else
          a.push(
            c.createElement(
              "span",
              { key: "EventCategory_Visibility_PlaceHolder" },
              Object(h.f)("#EventCategory_Visibility_PlaceHolder")
            )
          );
        if (
          (null === (t = null == n ? void 0 : n.tags) || void 0 === t
            ? void 0
            : t.length) > 0
        ) {
          const e = u.a.Get().GetMatchingTagOptIn(n.tags);
          console.log(Object(r.I)(e), Object(r.I)(e[0])),
            Object(b.a)(
              e.length <= 1,
              "more than one matching tag for the special evnet type " +
                Object(r.I)(n.tags)
            ),
            1 == e.length &&
              (e[0].event_rt_end && e[0].event_rt_start
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_Special_EventRange",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.m)(
                        "#EventCategory_Visibility_Special_EventRange",
                        c.createElement(g.a, {
                          dateAndTime: e[0].event_rt_start,
                          bSingleLine: !0,
                        }),
                        c.createElement(g.a, {
                          dateAndTime: e[0].event_rt_end,
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                : e[0].event_rt_start
                ? a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_Special_EventStart",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.m)(
                        "#EventCategory_Visibility_Special_EventStart",
                        c.createElement(g.a, {
                          dateAndTime: e[0].event_rt_start,
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                : e[0].event_rt_end &&
                  a.push(
                    c.createElement(
                      "div",
                      {
                        key: "EventCategory_Visibility_Special_EventEnd",
                        className: I.a.ExceptionNote,
                      },
                      Object(h.m)(
                        "#EventCategory_Visibility_Special_EventEnd",
                        c.createElement(g.a, {
                          dateAndTime: e[0].event_rt_end,
                          bSingleLine: !0,
                        })
                      )
                    )
                  ));
        }
        return c.createElement(
          "div",
          { className: I.a.EventCategoryRightCol },
          c.createElement(
            "div",
            { className: I.a.EventCategoryVisibilityCtn },
            c.createElement(
              "div",
              { className: I.a.EventVisibility_Title },
              Object(h.f)("#EventReach_Title")
            ),
            a
          )
        );
      }
    },
    "xs+m": function (e, t, a) {
      e.exports = {
        ContentHubSectionCtn:
          "contenthubsectionseditor_ContentHubSectionCtn_G2T4g",
        ContentHubSectionInnerCtn:
          "contenthubsectionseditor_ContentHubSectionInnerCtn_Xl-LL",
      };
    },
    yKSN: function (e, t, a) {
      "use strict";
      a.d(t, "a", function () {
        return O;
      }),
        a.d(t, "b", function () {
          return C;
        });
      var n = a("mrSG"),
        i = a("NpuA"),
        l = a.n(i),
        r = a("q1tI"),
        o = a.n(r),
        s = a("mgoM"),
        c = a("65aj"),
        d = a("U+Q5"),
        m = a("Mgs7"),
        u = a("fpVW"),
        p = a("Jqb/"),
        _ = a("ka0M"),
        g = a("0OaU"),
        b = a("exH9"),
        E = a("TLQK"),
        h = a("P2lf"),
        v = a("OS6B"),
        S = a("5E+2"),
        f = a("KmXr");
      const O = (e) => {
          const t = (t, a) => {
            t.preventDefault();
            const {
                fnGetLocData: n,
                closeModal: i,
                strFileNamePrefix: l,
                lang: r,
              } = e,
              o = n(),
              c = new h.a();
            let d = l ? l + "_localization" : "localization";
            switch (a) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(o, d + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(o, d + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  o,
                  d + ".csv"
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  o,
                  r,
                  d + "_" + Object(s.c)(Object(s.a)(r)) + ".xml"
                );
            }
            i && i();
          };
          return o.a.createElement(
            o.a.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              o.a.createElement(
                o.a.Fragment,
                null,
                o.a.createElement(
                  m.G,
                  { onClick: (e) => t(e, "csv_row") },
                  Object(E.f)("#Localization_Export_Btn_RowLanguages")
                ),
                o.a.createElement(
                  m.G,
                  { onClick: (e) => t(e, "csv_column") },
                  Object(E.f)("#Localization_Export_Btn_ColumnLanguages")
                ),
                o.a.createElement(
                  m.G,
                  { onClick: (e) => t(e, "csv_token") },
                  Object(E.f)("#Localization_Export_Btn_TokenLanguages")
                )
              ),
            Boolean(e.bShowXML) &&
              o.a.createElement(
                m.G,
                { onClick: (e) => t(e, "xml") },
                Object(E.f)("#Localization_Export_Btn_XML")
              )
          );
        },
        C = (e) => {
          const [t, a] = Object(r.useState)(!1),
            i = (e, t) => {
              a(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e
                ),
                Object(_.d)(
                  o.a.createElement(
                    p.g,
                    null,
                    o.a.createElement(
                      "div",
                      null,
                      o.a.createElement(
                        "p",
                        null,
                        Object(E.f)("#Localization_Error_Input")
                      ),
                      o.a.createElement("p", null, e.message)
                    )
                  ),
                  window
                );
            },
            m = (e) => {
              a(!1);
              let t = "";
              e.forEach((e) => {
                t.length > 0 && (t += ", "),
                  (t += Object(E.f)("#Language_" + Object(s.a)(e)));
              }),
                Object(_.d)(
                  o.a.createElement(
                    p.e,
                    {
                      strTitle: Object(E.f)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    o.a.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? Object(E.f)(
                            "#Localization_Success_ImportComplete_NoChange"
                          )
                        : Object(E.f)("#Localization_Success_ImportComplete", t)
                    )
                  ),
                  window
                );
            },
            O = (t) =>
              Object(n.a)(void 0, void 0, void 0, function* () {
                let n = t.target.files;
                if (n && n.length > 0) {
                  a(!0);
                  let t = new Array(),
                    r = new h.a();
                  for (let a = 0; a < n.length; ++a)
                    if (n[a]) {
                      if (n[a].name.toLocaleLowerCase().endsWith(".csv"))
                        return void l.a.parse(n[0], {
                          header: !0,
                          complete: (t) => {
                            let a = new h.a().DetectAndFormatCSV(t);
                            if (!a)
                              return void i({
                                code: "",
                                message: "",
                                row: 0,
                                type: "filenameerror",
                              });
                            const n = E.b.GetLanguageListForRealms([
                                c.ESteamRealm.k_ESteamRealmGlobal,
                              ]),
                              l = e.fnOnImportLocData(a, n);
                            m(l);
                          },
                          error: i,
                        });
                      if (n[a].name.toLocaleLowerCase().endsWith(".xml")) {
                        let l = d.d.DetectLanguageFromFilename(n[a].name);
                        if (null == l || -1 == l)
                          return void i({
                            code: "",
                            message: Object(E.f)(
                              "#Localization_Error_FileLangauage",
                              n[a].name
                            ),
                            row: 0,
                            type: "filenameerror",
                          });
                        try {
                          const i = yield r.ReadLocalizationData_XML_SingleLanguage(
                            n[a],
                            l
                          );
                          e.fnOnImportLocData(i, [l]).map((e) => {
                            -1 == t.indexOf(e) && t.push(e);
                          });
                        } catch (e) {
                          let t = Object(v.a)(e);
                          return void i({
                            code: "",
                            message: Object(E.f)(
                              "#Localization_Error_XMLParseError",
                              t.strErrorMsg
                            ),
                            row: 0,
                            type: "parseerror",
                          });
                        }
                      } else
                        i({
                          code: "",
                          message: Object(E.f)(
                            "#Localization_Error_FileExtention",
                            n[a].name
                          ),
                          row: 0,
                          type: "filenameerror",
                        });
                    }
                  m(t);
                }
              });
          return o.a.createElement(
            S.a,
            {
              className: Object(b.a)(
                e.className ? e.className : u.EditPreviewButton
              ),
              toolTipContent: e.strToolTip,
            },
            o.a.createElement(
              "label",
              { className: f.ImportButton, htmlFor: "importlocalization" },
              t && o.a.createElement(g.a, { size: "small" }),
              o.a.createElement(
                "div",
                { className: f.Label },
                Object(E.f)(
                  e.strLabel ? e.strLabel : "#Localization_Import_Btn"
                )
              ),
              o.a.createElement("input", {
                id: "importlocalization",
                className: f.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: O,
                onChange: O,
                multiple: !0,
              })
            )
          );
        };
    },
    zoOh: function (e, t, a) {
      e.exports = {
        EventTimeSection: "partnereventdates_EventTimeSection_O7lDS",
        EventTimeTitle: "partnereventdates_EventTimeTitle_1-4F8",
        EventVisibilityItem: "partnereventdates_EventVisibilityItem_Z5DNw",
        EventEditorInputPaneContainer:
          "partnereventdates_EventEditorInputPaneContainer_3Fhef",
        TimeWidth: "partnereventdates_TimeWidth_3_7ku",
        EventPublishTimeCtn: "partnereventdates_EventPublishTimeCtn_3mtSl",
        InputBorder: "partnereventdates_InputBorder_2-wu6",
        TimeBlock: "partnereventdates_TimeBlock_9q9ZA",
        TimeRowContainer: "partnereventdates_TimeRowContainer_2cnMo",
        TimeRowDropDown: "partnereventdates_TimeRowDropDown_VlpIL",
        EndDateAmountCtn: "partnereventdates_EndDateAmountCtn_1Xbr7",
        EndRound: "partnereventdates_EndRound_1ppi6",
        VisibilityItemList: "partnereventdates_VisibilityItemList_1Cnd3",
        VisibilityItems: "partnereventdates_VisibilityItems_1m6k3",
        EventEditorVisibilityCtn:
          "partnereventdates_EventEditorVisibilityCtn_3hqZR",
      };
    },
    zrk3: function (e, t, a) {
      e.exports = {
        ModeratorAuditActionCtn:
          "eventmoderationaudit_ModeratorAuditActionCtn_f6z__",
        ExpandModActions: "eventmoderationaudit_ExpandModActions_3nNMe",
      };
    },
  },
]);
