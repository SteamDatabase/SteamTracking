/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(window.webpackJsonp = window.webpackJsonp || []).push([
  [10],
  {
    "+chf": function (e, t, n) {
      e.exports = { SearchResults: "search_curator_SearchResults_1roMu" };
    },
    "+w6J": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return P;
      });
      var a = n("mrSG"),
        i = n("fcuX"),
        r = n("KP/B"),
        o = n("mHFc"),
        l = n("i3zJ"),
        s = n("CoyA"),
        c = n("Zan1"),
        d = n("oqmg"),
        u = n("TyAF"),
        p = n("q1tI"),
        m = n("qD+2"),
        _ = n("5eAM"),
        g = n("R+8l"),
        E = n("oVVc"),
        b = n("Mgs7"),
        v = n("IjL/"),
        h = n("qP7j"),
        f = n("fpVW"),
        S = n("gyoR"),
        O = n("YLyR"),
        y = n("Jqb/"),
        C = n("ka0M"),
        j = n("0rc7"),
        T = n("0OaU"),
        I = n("5E+2"),
        D = n("UvY0"),
        w = n("r64O"),
        G = n("exH9"),
        A = n("X3Ds"),
        M = n("TLQK"),
        k = n("opsS"),
        L = n("as1E"),
        N = n("k3PP"),
        B = n("JiI5"),
        R = n("165M"),
        F = -1,
        P = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                nImportCapsuleVisibiltyIndex: F,
                nShowVisibilityIndexOnly: F,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RemoveCapsule = function (e) {
              var t = this.props,
                n = t.capsuleContainer,
                a = t.editModel;
              Object(w.a)(
                e >= 0 && e < n.capsules.length,
                "Remove capsule called outside of range: " +
                  e +
                  " len: " +
                  n.capsules.length
              ),
                e >= 0 &&
                  e < n.capsules.length &&
                  (n.capsules.splice(e, 1), a.SetDirty(i.c.jsondata_sales));
            }),
            (t.prototype.AddCapsule = function (e, t) {
              var n = {
                id: e,
                type: t,
                visibility_index:
                  this.state.nImportCapsuleVisibiltyIndex == F
                    ? void 0
                    : this.state.nImportCapsuleVisibiltyIndex,
              };
              this.props.capsuleContainer.capsules.push(n),
                Object(S.i)([n]),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.CountCapsPerVisibilityIndex = function () {
              var e = this.props,
                t = e.capsuleContainer,
                n = e.editModel;
              if (t.capsules) {
                var a = n.GetNumberOfDays(),
                  i = new Array(a);
                i.fill(0);
                var r = !1;
                return (
                  t.capsules.forEach(function (e) {
                    if (void 0 !== (null == e ? void 0 : e.visibility_index)) {
                      for (; i.length <= e.visibility_index; ) i.push(0);
                      (r = !0), (i[e.visibility_index] += 1);
                    }
                  }),
                  r ? i : void 0
                );
              }
            }),
            (t.prototype.ImportSaleItems = function (e) {
              Object(C.d)(
                p.createElement(c.a, { fnAddCapsule: this.AddCapsule }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnChangeVisibilityDate = function (e) {
              this.setState({ nImportCapsuleVisibiltyIndex: e });
            }),
            (t.prototype.OnVisibilityIndexFilterChange = function (e) {
              this.setState({ nShowVisibilityIndexOnly: e });
            }),
            (t.prototype.OnRemoveAllPrompt = function () {
              Object(C.d)(
                p.createElement(y.d, {
                  strTitle: Object(M.f)("#Sale_RemoveAllConfirm_Title"),
                  strDescription: Object(M.f)("#Sale_RemoveAllConfirm_Body"),
                  onOK: this.OnRemoveAllConfirmed,
                }),
                window
              );
            }),
            (t.prototype.OnRemoveAllConfirmed = function () {
              (this.props.capsuleContainer.capsules = []),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(C.d)(
                p.createElement(x, {
                  editModel: this.props.editModel,
                  capsuleContainer: this.props.capsuleContainer,
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.OnUseTagFilterChangeConfirmed = function (e) {
              var t,
                n,
                a = this.props,
                o = a.capsuleContainer,
                l = a.editModel;
              if (e) {
                var s = Object(r.o)(l);
                (o.sale_tag_filter = { clauses: new Array() }),
                  (o.capsules = Object(r.r)(s, o.sale_tag_filter, o.capsules));
              } else
                (null ===
                  (n =
                    null === (t = o.sale_tag_filter) || void 0 === t
                      ? void 0
                      : t.clauses) || void 0 === n
                  ? void 0
                  : n.length) || (o.capsules = []),
                  (o.sale_tag_filter = null);
              l.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnUseTagFilterChange = function (e) {
              var t,
                n = this,
                a = this.props,
                i = a.capsuleContainer;
              a.editModel;
              if (e) {
                if (i.sale_tag_filter) return;
                i.capsules.length
                  ? Object(C.d)(
                      p.createElement(y.d, {
                        strTitle: Object(M.f)(
                          "#Sale_TaggedItemFilter_EnableTitle"
                        ),
                        strDescription: Object(M.f)(
                          "#Sale_TaggedItemFilter_EnableDescription"
                        ),
                        onOK: function () {
                          return n.OnUseTagFilterChangeConfirmed(!0);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!0);
              } else {
                if (!i.sale_tag_filter) return;
                (
                  null === (t = i.sale_tag_filter.clauses) || void 0 === t
                    ? void 0
                    : t.length
                )
                  ? Object(C.d)(
                      p.createElement(y.d, {
                        strTitle: Object(M.f)(
                          "#Sale_TaggedItemFilter_DisableTitle"
                        ),
                        strDescription: Object(M.f)(
                          "#Sale_TaggedItemFilter_DisableDescription"
                        ),
                        onOK: function () {
                          return n.OnUseTagFilterChangeConfirmed(!1);
                        },
                      }),
                      window
                    )
                  : this.OnUseTagFilterChangeConfirmed(!1);
              }
            }),
            (t.prototype.renderFilterView = function () {
              var e = this.props,
                t = e.editModel,
                n = e.capsuleContainer,
                a =
                  Object(M.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_FilteredProducts_Title"
                  ) +
                  " - " +
                  n.capsules.length,
                r = Object(M.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_FilteredProducts_Tooltip"
                ),
                l = "ShowFilterItems_" + this.props.uniqueKey,
                c = Object(o.a)(l, !0);
              return p.createElement(
                v.a,
                null,
                p.createElement(
                  "div",
                  { className: L.FilterDisplayCtn },
                  p.createElement(d.d, { editModel: t, capsuleContainer: n }),
                  p.createElement(
                    "div",
                    { className: L.SaleSectionTitleHeader },
                    p.createElement(
                      "div",
                      { className: f.EventEditorTextTitle },
                      a,
                      p.createElement(N.d, { tooltip: r })
                    ),
                    p.createElement(R.a, {
                      bIsMinimized: c,
                      fnToggleMinimize: function () {
                        return Object(o.d)(l, !0);
                      },
                    })
                  ),
                  !c &&
                    p.createElement(
                      "div",
                      {
                        className: Object(G.a)(
                          f.FlexColumnContainer,
                          f.EventDefaultRowContainer
                        ),
                      },
                      p.createElement(j.a, {
                        items: n.capsules,
                        onReorder: function () {
                          return t.SetDirty(i.c.jsondata_sales);
                        },
                        render: function (e) {
                          return p.createElement(s.a, {
                            capsule: e,
                            capsuleContainer: n,
                          });
                        },
                      })
                    )
                )
              );
            }),
            (t.prototype.OnSelectDiscountEvent = function (e) {
              var t = this;
              Object(C.d)(
                p.createElement(l.a, {
                  onDiscountEventSelected: function (e, n) {
                    var a =
                        t.state.nImportCapsuleVisibiltyIndex == F
                          ? void 0
                          : t.state.nImportCapsuleVisibiltyIndex,
                      r = t.props.capsuleContainer;
                    e.forEach(function (e) {
                      if (
                        !r.capsules.find(function (t) {
                          return t.id === e && "sub" !== t.type;
                        })
                      ) {
                        var t = _.a.GetAppLinkInfo(e);
                        r.capsules.push({
                          id: e,
                          type: t ? t.type : "game",
                          visibility_index: a,
                        });
                      }
                    }),
                      n.forEach(function (e) {
                        r.capsules.find(function (t) {
                          return t.id === e && "sub" === t.type;
                        }) ||
                          r.capsules.push({
                            id: e,
                            type: "sub",
                            visibility_index: a,
                          });
                      }),
                      t.props.editModel.SetDirty(i.c.jsondata_sales);
                  },
                }),
                Object(A.m)(e)
              );
            }),
            (t.prototype.renderItemView = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.capsuleContainer,
                r = [
                  {
                    label: Object(M.f)("#Sale_VisibilityIndex_Default"),
                    data: F,
                  },
                ],
                l = n.GetNumberOfDays(),
                c = "ShowCapsuleItems_" + this.props.uniqueKey,
                u = Object(o.a)(c, !1);
              if (!this.props.disableDaySelection && l > 1)
                for (var m = 0; m < l; m++) {
                  var _ = n.GetEventStartTime() + 86400 * m,
                    g = {
                      label: Object(M.n)(
                        m + 1 == l
                          ? "#Sale_VisibilityIndex_DayTimeOnward"
                          : "#Sale_VisibilityIndex_DayTime",
                        m + 1,
                        p.createElement(O.a, {
                          dateAndTime: _,
                          bSingleLine: !0,
                        }),
                        p.createElement(O.a, {
                          dateAndTime: _ + 86400,
                          bSingleLine: !0,
                        })
                      ),
                      data: m,
                    };
                  r.push(g);
                }
              var E = this.CountCapsPerVisibilityIndex(),
                h = new Array();
              if (E) {
                var S = "CountFilter_Sale" + this.props.uniqueKey,
                  y = "CountFilter_Sale" + this.props.uniqueKey + "_day_all";
                h.push(
                  p.createElement(
                    "div",
                    {
                      key: "CountFilter_sale" + this.props.uniqueKey + "_" + F,
                      className: Object(G.a)(f.FlexRowContainer, f.RadioOption),
                    },
                    p.createElement("input", {
                      type: "radio",
                      name: S,
                      id: y,
                      value: F,
                      checked: F == this.state.nShowVisibilityIndexOnly,
                      onChange: function () {
                        return e.OnVisibilityIndexFilterChange(F);
                      },
                    }),
                    p.createElement(
                      "label",
                      { htmlFor: y },
                      p.createElement(
                        "span",
                        null,
                        Object(M.f)("#Sale_VisibilityIndex_ShowAll")
                      )
                    )
                  )
                ),
                  E.forEach(function (t, n) {
                    var a =
                      "CountFilter_Sale" + e.props.uniqueKey + "_day_" + n;
                    h.push(
                      p.createElement(
                        "div",
                        {
                          key: "CountFilter_sale" + e.props.uniqueKey + "_" + n,
                          className: Object(G.a)(
                            f.FlexRowContainer,
                            f.RadioOption
                          ),
                        },
                        p.createElement("input", {
                          type: "radio",
                          name: S,
                          id: a,
                          value: n,
                          checked: n == e.state.nShowVisibilityIndexOnly,
                          onChange: function () {
                            return e.OnVisibilityIndexFilterChange(n);
                          },
                        }),
                        p.createElement(
                          "label",
                          { htmlFor: a },
                          p.createElement(
                            "span",
                            null,
                            Object(M.f)(
                              "#Sale_VisibilityIndex_ShowDay",
                              n + 1,
                              t
                            )
                          )
                        )
                      )
                    );
                  });
              }
              var C =
                  Object(M.f)(
                    this.props.titleLocToken ||
                      "#Sale_Section_ReferencedProducts_Title"
                  ) +
                  " - " +
                  a.capsules.length,
                T = Object(M.f)(
                  this.props.ttipLocToken ||
                    "#Sale_Section_ReferencedProducts_Tooltip"
                );
              return p.createElement(
                v.a,
                null,
                p.createElement(
                  "div",
                  { className: L.SaleSectionTitleHeader },
                  p.createElement(
                    "div",
                    { className: f.EventEditorTextTitle },
                    C,
                    p.createElement(N.d, { tooltip: T })
                  ),
                  p.createElement(R.a, {
                    bIsMinimized: u,
                    fnToggleMinimize: function () {
                      return Object(o.d)(c, !1);
                    },
                  })
                ),
                !u &&
                  p.createElement(
                    "div",
                    {
                      className: Object(G.a)(
                        f.FlexColumnContainer,
                        f.EventDefaultRowContainer
                      ),
                    },
                    Boolean(E && E.length > 0) &&
                      p.createElement(
                        "div",
                        { className: B.SaleVisibilityDateFilter },
                        p.createElement(
                          "span",
                          null,
                          Object(M.f)("#Sale_VisibilityIndex_ShowFilter")
                        ),
                        h
                      ),
                    p.createElement(d.c, { onAddItem: this.AddCapsule }),
                    p.createElement(
                      "div",
                      { className: B.SaleImportBar },
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)(
                            "#Sale_RemoveAll_Tooltip"
                          ),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.OnRemoveAllPrompt,
                          },
                          Object(M.f)("#Sale_RemoveAll")
                        )
                      ),
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)(
                            "#Sale_ImportItems_Tooltip"
                          ),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.ImportSaleItems,
                          },
                          Object(M.f)("#Sale_ImportItems")
                        )
                      ),
                      p.createElement(
                        I.a,
                        {
                          className: B.SaleImportBarTooltip,
                          toolTipContent: Object(M.f)("#Sale_EditRaw_Tooltip"),
                        },
                        p.createElement(
                          b.d,
                          {
                            className: B.SaleImportBarButton,
                            onClick: this.OnEditRaw,
                          },
                          Object(M.f)("#Sale_EditRaw")
                        )
                      ),
                      p.createElement(
                        D.b,
                        { requireAdmin: !0, clanSteamID: n.GetClanSteamID() },
                        p.createElement(
                          I.a,
                          {
                            className: B.SaleImportBarTooltip,
                            toolTipContent: Object(M.f)(
                              "#Sale_DiscountEvent_ttip"
                            ),
                          },
                          p.createElement(
                            b.d,
                            {
                              className: B.SaleImportBarButton,
                              onClick: this.OnSelectDiscountEvent,
                            },
                            Object(M.f)("#Sale_DiscountEvent_Add")
                          )
                        )
                      )
                    ),
                    p.createElement(j.a, {
                      bDisabled: this.state.nShowVisibilityIndexOnly != F,
                      items:
                        this.state.nShowVisibilityIndexOnly === F
                          ? a.capsules
                          : a.capsules.filter(function (t) {
                              return (
                                null == t.visibility_index ||
                                t.visibility_index ==
                                  e.state.nShowVisibilityIndexOnly
                              );
                            }),
                      onDelete: this.RemoveCapsule,
                      onReorder: function () {
                        return e.props.editModel.SetDirty(i.c.jsondata_sales);
                      },
                      render: function (e) {
                        return p.createElement(s.a, {
                          capsule: e,
                          capsuleContainer: a,
                        });
                      },
                    }),
                    r.length > 1 &&
                      p.createElement(b.h, {
                        strDropDownClassName: f.DropDownScroll,
                        label: Object(M.f)("#Sale_VisibilityIndex_Label"),
                        rgOptions: r,
                        selectedOption: this.state.nImportCapsuleVisibiltyIndex,
                        onChange: function (t) {
                          return e.OnChangeVisibilityDate(t.data);
                        },
                        bDisableMouseOverlay: !0,
                        contextMenuPositionOptions: {
                          bDisableMouseOverlay: !0,
                          bDisablePopTop: !0,
                        },
                        disabled: 1 == r.length,
                        strClassName: B.SaleDaySelection,
                        tooltip: Object(M.f)("#Sale_VisibilityIndex_Tooltip"),
                      })
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                n = e.capsuleContainer,
                a = Boolean(n.sale_tag_filter),
                i =
                  a ||
                  t.GetEventModel().GetTaggedItems().length > 0 ||
                  t.GetEventModel().BUsesContentHubForItemSource();
              return p.createElement(
                v.a,
                null,
                i &&
                  p.createElement(b.p, {
                    onChange: this.OnUseTagFilterChange,
                    label: Object(M.f)("#Sale_TaggedItemFilter"),
                    description: n.sale_tag_filter
                      ? ""
                      : Object(M.f)("#Sale_TaggedItemFilterDescription"),
                    checked: Boolean(n.sale_tag_filter),
                  }),
                a && this.renderFilterView(),
                !a && this.renderItemView()
              );
            }),
            Object(a.c)([k.a], t.prototype, "RemoveCapsule", null),
            Object(a.c)([k.a], t.prototype, "AddCapsule", null),
            Object(a.c)([k.a], t.prototype, "ImportSaleItems", null),
            Object(a.c)([k.a], t.prototype, "OnChangeVisibilityDate", null),
            Object(a.c)(
              [k.a],
              t.prototype,
              "OnVisibilityIndexFilterChange",
              null
            ),
            Object(a.c)([k.a], t.prototype, "OnRemoveAllPrompt", null),
            Object(a.c)([k.a], t.prototype, "OnRemoveAllConfirmed", null),
            Object(a.c)([k.a], t.prototype, "OnEditRaw", null),
            Object(a.c)(
              [k.a],
              t.prototype,
              "OnUseTagFilterChangeConfirmed",
              null
            ),
            Object(a.c)([k.a], t.prototype, "OnUseTagFilterChange", null),
            Object(a.c)([k.a], t.prototype, "OnSelectDiscountEvent", null),
            (t = Object(a.c)([u.a], t))
          );
        })(p.Component),
        x = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              var e = this.props.capsuleContainer,
                t = !1;
              e.capsules.forEach(function (e) {
                return (t =
                  t || void 0 !== (null == e ? void 0 : e.visibility_index));
              });
              for (var n = "", a = 0, i = e.capsules; a < i.length; a++) {
                var r = i[a];
                if (r) {
                  var o = "";
                  if ("bundle" === r.type)
                    o = (l = g.a.GetBundleInfo(r.id)) && l.name;
                  else if ("sub" === r.type) {
                    o = (l = E.b.GetPackageInfo(r.id)) && l.name;
                  } else {
                    var l;
                    o = (l = m.a.GetAppInfo(r.id)) && l.name;
                  }
                  var s = r.id + "\t" + r.type;
                  void 0 !== r.visibility_index
                    ? (s += "\tDay " + r.visibility_index)
                    : t && (s += "\t"),
                    o && (s += '\t"' + o + '"'),
                    (n += s + "\n");
                }
              }
              return n;
            }),
            (t.prototype.ParseCapsuleInfoFromLine = function (e) {
              var t = e + " ",
                n = /^\s*([0-9]+)\W+(.*)/.exec(t);
              if (n) {
                var a = { id: parseInt(n[1]), type: "game" };
                t = n[2];
                var i = /^(game|software|dlc|bundle|video|sub|event|tag|music|hardware)\W+(.*)/i.exec(
                  t
                );
                i && ((a.type = i[1]), (t = i[2]));
                var r = /^day\s+(\d+)\W+/i.exec(t);
                return r && (a.visibility_index = parseInt(r[1])), a;
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, r, o, l, s, c, d, u, p, m, _, g;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      for (
                        e = this.props,
                          t = e.editModel,
                          n = e.capsuleContainer,
                          r = new Array(),
                          o = this.state.editValue.split("\n"),
                          l = 0,
                          s = o;
                        l < s.length;
                        l++
                      )
                        (c = s[l]),
                          (d = this.ParseCapsuleInfoFromLine(c)) && r.push(d);
                      return [4, Object(S.i)(r)];
                    case 1:
                      for (
                        a.sent(), u = "", p = t.GetNumberOfDays(), m = 0, _ = r;
                        m < _.length;
                        m++
                      )
                        if (
                          void 0 !== (g = _[m]).visibility_index &&
                          g.visibility_index >= p
                        ) {
                          u = Object(M.f)(
                            "#Sale_EditRaw_Error_InvalidDay",
                            g.id,
                            g.visibility_index
                          );
                          break;
                        }
                      return (
                        this.setState({ bImporting: !1, errMsg: u }),
                        u ||
                          (JSON.stringify(n.capsules) !== JSON.stringify(r) &&
                            ((n.capsules = r), t.SetDirty(i.c.jsondata_sales)),
                          this.props.closeModal()),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return p.createElement(
                y.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                p.createElement(b.k, null, Object(M.f)("#Sale_EditRaw_Title")),
                p.createElement(
                  b.b,
                  null,
                  p.createElement(
                    "div",
                    null,
                    Object(M.f)("#Sale_EditRaw_Desc_1")
                  ),
                  p.createElement(
                    "div",
                    null,
                    Object(M.f)("#Sale_EditRaw_Desc_2")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_Title")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_1")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_2")
                  ),
                  p.createElement(
                    "div",
                    { className: L.EditRawExample },
                    Object(M.f)("#Sale_EditRaw_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    p.createElement(
                      "p",
                      { className: h.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    p.createElement(T.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    p.createElement("textarea", {
                      className: L.EditRawTextArea,
                      value: this.state.editValue,
                      cols: 40,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  p.createElement(
                    b.j,
                    null,
                    p.createElement(
                      b.q,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(M.f)("#Button_Confirm"),
                      " "
                    ),
                    p.createElement(
                      b.d,
                      { onClick: e, disabled: !1 },
                      Object(M.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([k.a], t.prototype, "OnCompleteEdit", null),
            Object(a.c)([k.a], t.prototype, "DoImport", null),
            Object(a.c)([k.a], t.prototype, "OnTextChange", null),
            (t = Object(a.c)([u.a], t))
          );
        })(p.Component);
    },
    "0XOM": function (e, t, n) {
      e.exports = {
        TileContainer: "partnereventtile_TileContainer_1eeyC",
        ShowEventMetaDataSizes: "partnereventtile_ShowEventMetaDataSizes_EU0bQ",
        EventStateUpcoming: "partnereventtile_EventStateUpcoming_qfpNt",
        EventStateActive: "partnereventtile_EventStateActive_3F1Bj",
        EventStateRecent: "partnereventtile_EventStateRecent_2ge3p",
        TileStats: "partnereventtile_TileStats_GZhwe",
        Spacer: "partnereventtile_Spacer_Lux3q",
        TileImageCtn: "partnereventtile_TileImageCtn_1vi2y",
        TileImage: "partnereventtile_TileImage_5NjHV",
        TileTextContainer: "partnereventtile_TileTextContainer_31yes",
        TileTextAppName: "partnereventtile_TileTextAppName_3x6bH",
        TileTextEventType: "partnereventtile_TileTextEventType_2DMSl",
        TileHasSale: "partnereventtile_TileHasSale_1trq1",
        TileTextStartsIn: "partnereventtile_TileTextStartsIn_3jRSO",
        TileTextSubTitle: "partnereventtile_TileTextSubTitle_3Sc1E",
        TileDescriptionContainer:
          "partnereventtile_TileDescriptionContainer_2yxWD",
        TileButtonContainer: "partnereventtile_TileButtonContainer_1JNbD",
        TileAgeNotAppropriate: "partnereventtile_TileAgeNotAppropriate_1EyzX",
        ManageButton: "partnereventtile_ManageButton_60Iyt",
        Edit: "partnereventtile_Edit_2h3Yf",
        Delete: "partnereventtile_Delete_8zmLU",
        Clone: "partnereventtile_Clone_1QJ8I",
        View: "partnereventtile_View_1IvY3",
        Publish: "partnereventtile_Publish_1szIu",
        CloneLangCtn: "partnereventtile_CloneLangCtn_2EoxS",
        CloneCheckBox: "partnereventtile_CloneCheckBox_28WRJ",
        MetaDataCtn: "partnereventtile_MetaDataCtn_3EXNJ",
      };
    },
    "165M": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return g;
      }),
        n.d(t, "b", function () {
          return E;
        }),
        n.d(t, "c", function () {
          return b;
        });
      var a = n("mrSG"),
        i = n("mHFc"),
        r = n("aoTL"),
        o = n("Mgs7"),
        l = n("TLQK"),
        s = n("6Y59"),
        c = n("q1tI"),
        d = n("JiI5"),
        u = n("2vnA"),
        p = n("IjL/"),
        m = n("d+Me"),
        _ = n("k3PP");
      function g(e) {
        var t = e.bIsMinimized,
          n = e.fnToggleMinimize,
          a = t
            ? "#Sale_Section_Maximize_Tooltip"
            : "#Sale_Section_Minimize_Tooltip";
        return c.createElement(
          o.d,
          { "data-tooltip-text": Object(l.f)(a), onClick: n },
          e.bIsMinimized
            ? c.createElement(s.H, null)
            : c.createElement(s.K, null)
        );
      }
      function E(e) {
        var t = e.strToggleName,
          n = e.strTitle,
          a = e.children,
          o = e.strToolTip,
          l = Object(r.d)(function () {
            return Object(i.a)(t);
          });
        return c.createElement(
          "div",
          { id: t, className: d.SettingCtn },
          c.createElement(
            "div",
            {
              className: d.Title,
              onDoubleClick: function () {
                return Object(i.d)(t);
              },
            },
            n,
            o && c.createElement(_.d, { tooltip: o }),
            c.createElement(g, {
              bIsMinimized: l,
              fnToggleMinimize: function () {
                return Object(i.d)(t);
              },
            })
          ),
          !l && a
        );
      }
      var b = new ((function () {
        function e() {
          this.m_mapVisibleSections = new Map();
        }
        return (
          (e.prototype.WrapWithNavWaypoint = function (e, t) {
            return c.createElement(
              p.a,
              { key: "eb_sale_sect_" + e },
              c.createElement(
                m.a,
                {
                  key: "waypoint_sale_sect_" + e,
                  onEnter: function () {
                    return b.m_mapVisibleSections.set(e, e);
                  },
                  onLeave: function () {
                    return b.m_mapVisibleSections.delete(e);
                  },
                  topOffset: "100px",
                  bottomOffset: "100px",
                },
                c.createElement("div", null, t)
              )
            );
          }),
          Object(a.c)([u.C], e.prototype, "m_mapVisibleSections", void 0),
          e
        );
      })())();
    },
    "1fPh": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return r;
      });
      var a = n("lkRc"),
        i = function () {
          return a.b.IS_OGG ? "games" : "groups";
        },
        r = {
          Home: function (e) {
            return "/" + i() + "/" + e + "/partnerevents";
          },
          Create: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/create";
          },
          Category: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/category/" + t;
          },
          Edit: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/edit/" + t;
          },
          EditRedirectToCategory: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/edit";
          },
          Preview: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/preview/" + t;
          },
          PreviewSale: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/previewsale/" + t;
          },
          View: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/view/" + t;
          },
          List: function (e) {
            return "/" + i() + "/" + e + "/partnerevents/list";
          },
          Publish: function (e, t) {
            return "/" + i() + "/" + e + "/partnerevents/publish/" + t;
          },
          ViewEventDetails: function (e, t) {
            return "/" + i() + "/" + e + "/announcements/detail/" + t;
          },
          Listing: function (e) {
            return "/" + i() + "/" + e + "/announcements/(listing)?";
          },
          Migrate: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/migrate_announcement/" + t
            );
          },
          MigrateCategory: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/migrate_category_announcement/" +
              t
            );
          },
          ViewOldAnnouncement: function (e, t) {
            return (
              "/" + i() + "/" + e + "/partnerevents/view_old_announcement/" + t
            );
          },
          PreviewOldAnnouncement: function (e, t) {
            return (
              "/" +
              i() +
              "/" +
              e +
              "/partnerevents/preview_old_announcement/" +
              t
            );
          },
          MigrateEvents: function () {
            return "/(migrateevents|migrate)";
          },
          MigrateSaleEvents: function () {
            return "/migrate/migratesale";
          },
          WorkshopHub: function (e) {
            return "/app/" + e + "/workshop/";
          },
          AppHub: function (e) {
            return "/app/" + e;
          },
          GroupHub: function (e) {
            return "/groups/" + e;
          },
          DiagData: function () {
            return "/" + i() + "/:anything*/diagdata";
          },
        };
    },
    "226m": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return s;
      });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("OS6B"),
        l = n("lkRc"),
        s = (function () {
          function e() {
            this.m_mapOptInData = new Map();
          }
          return (
            (e.Get = function () {
              return (
                this.s_Singleton || (this.s_Singleton = new e()),
                this.s_Singleton
              );
            }),
            (e.prototype.ForceLoadOptInPage = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = {
                        sessionid: l.c.SESSIONID,
                        origin: self.origin,
                        cc: l.c.COUNTRY || "US",
                        l: l.c.LANGUAGE,
                        saleid: e,
                      }),
                        (n = l.c.COMMUNITY_BASE_URL + "sale/ajaxoptinsummary"),
                        (i = null),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]), [4, r.a.get(n, { params: t })]
                      );
                    case 2:
                      return (s = a.sent()), (i = s.data), [3, 4];
                    case 3:
                      return (
                        (c = a.sent()),
                        console.error(
                          "Failed getting opt in summary: " +
                            Object(o.a)(c).strErrorMsg
                        ),
                        [3, 4]
                      );
                    case 4:
                      return this.AddOptInPageToCache(e, i), [2, i];
                  }
                });
              });
            }),
            (e.prototype.AddOptInPageToCache = function (e, t) {
              var n = new Map();
              if (t && t.success)
                for (var a = 0, i = t.opted_in; a < i.length; a++) {
                  var r = i[a];
                  n.set(r.appid, r);
                }
              this.m_mapOptInData.set(e, n);
            }),
            (e.prototype.HintLoadOptInPageData = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.GetOptInPageData(e)
                        ? [2]
                        : [4, this.ForceLoadOptInPage(e)];
                    case 1:
                      return t.sent(), [2];
                  }
                });
              });
            }),
            (e.prototype.GetOptInPageData = function (e) {
              return this.m_mapOptInData.get(e);
            }),
            e
          );
        })();
    },
    "3yM6": function (e, t, n) {
      e.exports = { SearchResults: "partnersaledebug_SearchResults_26iJ3" };
    },
    "46hJ": function (e, t, n) {
      e.exports = {
        ApprovalRequiredCtn:
          "requirevalvepublishapproval_ApprovalRequiredCtn_2pKjC",
        Right: "requirevalvepublishapproval_Right_2lUXd",
        Title: "requirevalvepublishapproval_Title_Oc0UN",
      };
    },
    "48GZ": function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return A;
      }),
        n.d(t, "a", function () {
          return M;
        });
      var a = n("mrSG"),
        i = n("fcuX"),
        r = n("wUcC"),
        o = n("+w6J"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("TtDX"),
        d = n("kLLr"),
        u = n("U+Q5"),
        p = n("Mgs7"),
        m = n("h5LU"),
        _ = n("fpVW"),
        g = n("6AJf"),
        E = n("NF5x"),
        b = n("Jqb/"),
        v = n("ka0M"),
        h = n("0rc7"),
        f = n("0OaU"),
        S = n("5E+2"),
        O = n("exH9"),
        y = n("TLQK"),
        C = n("OS6B"),
        j = n("opsS"),
        T = n("lkRc"),
        I = n("NrWE"),
        D = n("as1E"),
        w = n("k3PP"),
        G = n("K3tN"),
        A = Object(l.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            a = s.useState(null),
            i = a[0],
            r = a[1],
            o = Boolean(t.tabs && t.tabs.length > 0 && !i);
          return n.GetSaleSections().reduce(function (e, t) {
            return e + ("tabs" === t.section_type ? 1 : 0);
          }, 0) > 1
            ? s.createElement(
                "div",
                { className: D.TabsMultipleError },
                Object(y.f)("#Sale_Tabs_MultipleTabSections")
              )
            : s.createElement(
                "div",
                null,
                s.createElement(L, {
                  saleSection: t,
                  editModel: n,
                  onTabSelected: r,
                  selectedTab: i,
                }),
                o &&
                  s.createElement(
                    "div",
                    { className: D.TabsSelectToEdit },
                    Object(y.f)("#Sale_Tabs_SelectTab")
                  ),
                i &&
                  s.createElement(N, {
                    tab: i,
                    editModel: n,
                    editLanguage: n.GetCurEditLanguage(),
                  })
              );
        });
      function M(e, t) {
        var n = Object(g.g)(e, t);
        return n || (n = Object(y.f)("#Sale_Tabs_UnnamedTab", e.unique_id)), n;
      }
      var k = Object(l.a)(function (e) {
          var t,
            n,
            a = e.tab,
            i = (e.language, M(e.tab, e.language)),
            r =
              e.tab.capsules.length > 0
                ? Object(y.f)(
                    "#Sale_Tabs_TitleItemCount",
                    i,
                    e.tab.capsules.length
                  )
                : Object(y.f)("#Sale_Tabs_TitleShowAllItems", i),
            o =
              null !== (t = e.overrideStyle) && void 0 !== t
                ? t
                : Object(E.a)(e.selected, e.section),
            l = null;
          if (
            (null === (n = a.tab_bar_bg_image) || void 0 === n
              ? void 0
              : n.length) > 0
          ) {
            var c = new d.a(T.b.CLANSTEAMID);
            l = u.a.GenerateArtworkURLFromHashAndExtensions(
              c,
              a.tab_bar_bg_image
            );
          }
          return s.createElement(
            "div",
            {
              className: Object(O.a)(
                D.TabsSelectorEntry,
                e.selected && D.TabsSelectorEntrySelected
              ),
              style: o,
              onClick: function () {
                return e.onSelected(e.tab);
              },
            },
            s.createElement("span", null, r),
            Boolean(l) &&
              s.createElement("img", { className: G.ImgPreview, src: l })
          );
        }),
        L = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GenerateUniqueID = function () {
              var e = this.props.saleSection.tabs;
              return (
                (e
                  ? e.reduce(function (e, t) {
                      return Math.max(t.unique_id, e);
                    }, 0)
                  : 0) + 1
              );
            }),
            (t.prototype.OnAddTab = function () {
              this.props.saleSection.tabs || (this.props.saleSection.tabs = []);
              var e = {
                unique_id: this.GenerateUniqueID(),
                default_label: null,
                localized_label: null,
                capsules: [],
              };
              this.props.saleSection.tabs.push(e),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnDeleteTabPrompt = function (e) {
              var t = this,
                n = this.props.saleSection.tabs[e];
              Object(v.d)(
                s.createElement(b.d, {
                  strTitle: Object(y.f)("#Sale_Tabs_DeletePrompt_Title"),
                  strDescription: Object(y.f)(
                    "#Sale_Tabs_DeletePrompt_Body",
                    M(n, this.props.editModel.GetCurEditLanguage())
                  ),
                  onOK: function () {
                    return t.OnDeleteTabConfirmed(n);
                  },
                }),
                window
              );
            }),
            (t.prototype.OnSelectTab = function (e) {
              this.props.onTabSelected(e);
            }),
            (t.prototype.OnDeleteTabConfirmed = function (e) {
              (this.props.saleSection.tabs = this.props.saleSection.tabs.filter(
                function (t) {
                  return t != e;
                }
              )),
                this.props.editModel.SetDirty(i.c.jsondata_sales),
                this.props.selectedTab === e && this.OnSelectTab(null);
            }),
            (t.prototype.RenderTab = function (e) {
              var t = e === this.props.selectedTab;
              return s.createElement(k, {
                section: this.props.saleSection,
                selected: t,
                tab: e,
                onSelected: this.OnSelectTab,
                language: this.props.editModel.GetCurEditLanguage(),
                overrideStyle: t
                  ? { color: "#000000", background: "#d3d3d3" }
                  : { color: "#FFFFFF", background: "" },
              });
            }),
            (t.prototype.RenderTabs = function () {
              var e = this;
              return this.props.saleSection.tabs
                ? s.createElement(h.a, {
                    items: this.props.saleSection.tabs,
                    onDelete: this.OnDeleteTabPrompt,
                    onReorder: function () {
                      return e.props.editModel.SetDirty(i.c.jsondata_sales);
                    },
                    render: this.RenderTab,
                  })
                : null;
            }),
            (t.prototype.render = function () {
              var e = this;
              return s.createElement(
                "div",
                null,
                s.createElement(
                  "div",
                  { className: _.EventEditorTextTitle },
                  Object(y.f)("#Sale_Tabs_Colors"),
                  s.createElement(w.d, {
                    tooltip: Object(y.f)("#Sale_Tabs_Colors_ttip"),
                  })
                ),
                s.createElement(R, {
                  section: this.props.saleSection,
                  editModel: this.props.editModel,
                }),
                s.createElement(
                  "div",
                  { className: G.CurrentTabsCtn },
                  s.createElement(
                    "div",
                    { className: _.EventEditorTextTitle },
                    Object(y.f)("#Sale_Tabs_Current"),
                    s.createElement(w.d, {
                      tooltip: Object(y.f)("#Sale_Tabs_Current_ttip"),
                    })
                  ),
                  s.createElement(
                    "div",
                    { className: G.AddButton },
                    s.createElement(
                      S.a,
                      { toolTipContent: Object(y.f)("#Sale_Tabs_AddTab_ttip") },
                      s.createElement(
                        p.q,
                        {
                          onClick: function () {
                            return e.OnAddTab();
                          },
                        },
                        Object(y.f)("#Sale_Tabs_AddTab")
                      )
                    )
                  ),
                  this.RenderTabs()
                )
              );
            }),
            Object(a.c)([j.a], t.prototype, "OnAddTab", null),
            Object(a.c)([j.a], t.prototype, "OnDeleteTabPrompt", null),
            Object(a.c)([j.a], t.prototype, "OnSelectTab", null),
            Object(a.c)([j.a], t.prototype, "RenderTab", null),
            (t = Object(a.c)([l.a], t))
          );
        })(s.Component),
        N = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bShowItemListing: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidUpdate = function (e, t) {
              this.props.tab !== e.tab &&
                this.setState({ bShowItemListing: !1 });
            }),
            (t.prototype.OnTitleChange = function (e) {
              (this.props.tab.default_label = e),
                this.props.editModel.SetDirty(i.c.jsondata_sales);
            }),
            (t.prototype.OnSetCustomTitle = function (e) {
              var t = this.props,
                n = t.tab,
                a = t.editLanguage;
              t.editModel.SetSaleSectionTabName(a, n, e);
            }),
            (t.prototype.OnClearCustomTitle = function () {
              var e = this.props,
                t = e.tab,
                n = e.editLanguage;
              e.editModel.SetSaleSectionTabName(n, t, "");
            }),
            (t.prototype.OnShowTabItems = function () {
              this.setState({ bShowItemListing: !0 });
            }),
            (t.prototype.RenderHideItemFilter = function () {
              return s.createElement(
                "div",
                { className: D.TabHideItemFilterCtn },
                Object(y.f)("#Sale_Tabs_ShowItems"),
                s.createElement(
                  p.d,
                  { onClick: this.OnShowTabItems },
                  Object(y.f)("#Sale_Tabs_ShowItems_Button")
                )
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.tab,
                n = e.editLanguage,
                a = e.editModel,
                i =
                  this.state.bShowItemListing ||
                  (t.capsules && t.capsules.length > 0);
              return s.createElement(
                "div",
                null,
                s.createElement(
                  "div",
                  { className: _.EventEditorTextTitle },
                  Object(y.f)("#Sale_Tabs_Title"),
                  s.createElement(w.d, {
                    tooltip: Object(y.f)("#Sale_Tabs_Title_ttip"),
                  })
                ),
                s.createElement(r.a, {
                  key: "TabName" + t.unique_id,
                  default_label: t.default_label,
                  localized_label: t.localized_label,
                  editLanguage: n,
                  onClearCustomTitle: this.OnClearCustomTitle,
                  onSetCustomTitle: this.OnSetCustomTitle,
                  onSetDefaultLabel: this.OnTitleChange,
                }),
                !i && this.RenderHideItemFilter(),
                i &&
                  s.createElement(o.a, {
                    key: "TabItems" + t.unique_id,
                    capsuleContainer: t,
                    editModel: this.props.editModel,
                    uniqueKey: "Tab" + t.unique_id,
                    disableDaySelection: !1,
                    titleLocToken: "#Sale_Tabs_ItemTitle",
                    ttipLocToken: "#Sale_Tabs_ItemTitle_ttip",
                  }),
                s.createElement(F, { tab: t, editModel: a })
              );
            }),
            Object(a.c)([j.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([j.a], t.prototype, "OnSetCustomTitle", null),
            Object(a.c)([j.a], t.prototype, "OnClearCustomTitle", null),
            Object(a.c)([j.a], t.prototype, "OnShowTabItems", null),
            (t = Object(a.c)([l.a], t))
          );
        })(s.Component);
      function B(e, t, n, a) {
        Object(c.a)(
          s.createElement(m.a, {
            onChange: function (e) {
              (t[a] = e), n.SetDirty(i.c.jsondata_sales);
            },
            color: t[a],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var R = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.section,
                n = e.editModel,
                a = Object(E.a)(!1, t),
                i = Object(E.a)(!0, t);
              return s.createElement(
                "div",
                { style: { display: "flex" } },
                s.createElement(
                  "div",
                  { className: _.HalfColumn },
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, n, "tab_inactive_label_color");
                      },
                      className: _.EventEditorTextTitle,
                      style: a,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Label_Color")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          n,
                          "tab_inactive_background_gradient_top"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: a,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Background_Top")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          n,
                          "tab_inactive_background_gradient_bottom"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: a,
                    },
                    Object(y.f)("#Sale_Section_TabInactive_Background_Bottom")
                  )
                ),
                s.createElement(
                  "div",
                  { className: _.HalfColumn },
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, n, "tab_active_label_color");
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Label_Color")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(e, t, n, "tab_active_background_gradient_top");
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Background_Top")
                  ),
                  s.createElement(
                    p.d,
                    {
                      onClick: function (e) {
                        return B(
                          e,
                          t,
                          n,
                          "tab_active_background_gradient_bottom"
                        );
                      },
                      className: _.EventEditorTextTitle,
                      style: i,
                    },
                    Object(y.f)("#Sale_Section_TabActive_Background_Bottom")
                  )
                )
              );
            }),
            (t = Object(a.c)([l.a], t))
          );
        })(s.Component),
        F = Object(l.a)(function (e) {
          var t = e.tab,
            n = e.editModel,
            r = s.useState(new u.b(n.GetClanSteamID()))[0],
            o = s.useState(!1),
            l = o[0],
            c = o[1];
          return s.createElement(
            "div",
            null,
            s.createElement(
              "div",
              null,
              Object(y.f)("#Sale_Tabs_Background_title")
            ),
            s.createElement(
              "div",
              null,
              Object(y.f)("#Sale_Tabs_Background_desc")
            ),
            s.createElement(I.b, {
              bAllowPreviousClanImages: !0,
              onDropFiles: function (e) {
                return Object(a.b)(void 0, void 0, void 0, function () {
                  var o, l, d, p, m, _, g;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        if (!(e && e.length > 0)) return [3, 9];
                        c(!0), (o = ["tab_bar_background"]), (a.label = 1);
                      case 1:
                        return (
                          a.trys.push([1, 6, 7, 8]), [4, r.AddImage(e[0], 0, o)]
                        );
                      case 2:
                        return a.sent()
                          ? [3, 3]
                          : (console.error(
                              "TabSaleBackgroundImageEditor.OnDropFiles: failed file=" +
                                e[0].name
                            ),
                            Object(v.d)(
                              s.createElement(b.f, {
                                strDescription: Object(y.f)(
                                  "#ImagePicker_Error",
                                  e[0].name
                                ),
                              }),
                              window
                            ),
                            [3, 5]);
                      case 3:
                        return [4, r.UploadAllFiles(o)];
                      case 4:
                        (l = a.sent()),
                          (d = l[Object.keys(l)[0]]),
                          (p = d ? u.a.GetExtensionString(d) : null),
                          (m = d ? d.image_hash + p : null),
                          (t.tab_bar_bg_image = m),
                          n.SetDirty(i.c.jsondata_sales),
                          (a.label = 5);
                      case 5:
                        return [3, 8];
                      case 6:
                        return (
                          (_ = a.sent()),
                          (g = Object(C.a)(_)),
                          console.error(
                            "TabSaleBackgroundImageEditor: failed add " +
                              g.strErrorMsg,
                            g
                          ),
                          [3, 8]
                        );
                      case 7:
                        return c(!1), [7];
                      case 8:
                        return [3, 10];
                      case 9:
                        console.log(
                          "TabSaleBackgroundImageEditor: error fnOnDropFiles file missing",
                          e
                        ),
                          (a.label = 10);
                      case 10:
                        return [2];
                    }
                  });
                });
              },
              OnClanImageSelected: function (e, r) {
                return Object(a.b)(void 0, void 0, void 0, function () {
                  var r, o;
                  return Object(a.e)(this, function (a) {
                    return (
                      (r = e ? u.a.GetExtensionString(e) : null),
                      (o = e ? e.image_hash + r : null),
                      (t.tab_bar_bg_image = o),
                      n.SetDirty(i.c.jsondata_sales),
                      [2]
                    );
                  });
                });
              },
              clanSteamID: n.GetClanSteamID(),
              fnSetImageURL: n.SetImageURL,
              rgRealmList: n.GetIncludedRealmList(),
            }),
            l &&
              s.createElement(f.a, {
                size: "medium",
                position: "center",
                string: Object(y.f)("#Uploading"),
              }),
            Boolean(t.tab_bar_bg_image) &&
              s.createElement("img", {
                src: u.a.GenerateArtworkURLFromHashAndExtensions(
                  n.GetClanSteamID(),
                  t.tab_bar_bg_image
                ),
              })
          );
        });
    },
    "4lry": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return R;
      }),
        n.d(t, "b", function () {
          return z;
        });
      var a = n("mrSG"),
        i = n("fcuX"),
        r = n("KP/B"),
        o = n("putg"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("mgoM"),
        d = n("TtDX"),
        u = n("3+zv"),
        p = n("Mgs7"),
        m = n("IjL/"),
        _ = n("Jqb/"),
        g = n("ka0M"),
        E = n("0rc7"),
        b = n("0OaU"),
        v = n("exH9"),
        h = n("TLQK"),
        f = n("h5LU"),
        S = n("Vitc"),
        O = n("as1E"),
        y = n("k3PP"),
        C = n("oqmg"),
        j = n("IMce"),
        T = n("UvY0"),
        I = n("vBFs"),
        D = n("lkRc"),
        w = n("gyoR"),
        G = n("5eAM"),
        A = n("dpTt"),
        M = n("165M"),
        k = Object(l.a)(function (e) {
          var t = e.language,
            n = e.facetValue,
            a = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = function (e) {
              if ("name" === e.target.name) {
                var a = n.name,
                  i = h.a.Set(a || [], t, e.target.value);
                n.name = i;
              } else if ("subtitle" === e.target.name) {
                var o = n.subtitle,
                  l = h.a.Set(o || [], t, e.target.value);
                n.subtitle = l;
              }
              r();
            },
            l = function (e) {
              (n.filter = e), r();
            },
            d = [
              {
                label: Object(h.f)("#Sale_TagFilter_Filter"),
                data: u.l.k_ESaleTagFilter,
              },
              { label: Object(h.f)("#LanguageTitle"), data: u.l.k_ELanguage },
              {
                label: Object(h.f)("#Browse_Sale_Mature_Themes"),
                data: u.l.k_EContentDescriptor,
              },
              {
                label: Object(h.f)("#Sale_Preferences"),
                data: u.l.k_EUserPreference,
              },
              {
                label: Object(h.f)("#Sale_BrowserSortOption_Price"),
                data: u.l.k_EPrice,
              },
              {
                label: Object(h.f)("#AppTypeLabelTitle"),
                data: u.l.k_EAppType,
              },
            ],
            m = [
              { label: Object(h.f)("#Browse_Sale_Mature_Feature"), data: 5 },
              { label: Object(h.f)("#Browse_sale_Violence_Feature"), data: 2 },
              { label: Object(h.f)("#Browse_Sale_Sexual_Feature"), data: 1 },
              { label: Object(h.f)("#Browse_Sale_Adult_Feature"), data: 3 },
            ],
            _ = [
              {
                label: Object(h.f)("#UserPreference_HideOwnedItems"),
                data: u.m.k_EHideOwnedItems,
              },
              {
                label: Object(h.f)("#UserPreference_HideWishlistedItems"),
                data: u.m.k_EHideWishlistedItems,
              },
              {
                label: Object(h.f)("#UserPreference_HideIgnoredItems"),
                data: u.m.k_EHideIgnoredItems,
              },
            ],
            E = [
              { label: Object(h.f)("#AppTypeLabel_game"), data: "game" },
              {
                label: Object(h.f)("#AppTypeLabel_software"),
                data: "software",
              },
              { label: Object(h.f)("#AppTypeLabel_dlc"), data: "dlc" },
              { label: Object(h.f)("#AppTypeLabel_demo"), data: "demo" },
              { label: Object(h.f)("#AppTypeLabel_music"), data: "music" },
              { label: Object(h.f)("#AppTypeLabel_video"), data: "video" },
              {
                label: Object(h.f)("#AppTypeLabel_hardware"),
                data: "hardware",
              },
            ];
          return s.createElement(
            "div",
            {
              className: Object(v.a)(
                O.FilterDisplayCtn,
                S.FacetValueFilterDisplayCtn
              ),
            },
            s.createElement(
              "div",
              null,
              s.createElement(p.m, null, Object(h.f)("#EventEditor_TypeTitle")),
              s.createElement(p.h, {
                rgOptions: d,
                selectedOption: n.type || u.l.k_ESaleTagFilter,
                onChange: function (e) {
                  (n.type = e.data),
                    n.type === u.l.k_ELanguage &&
                      null == n.language &&
                      (n.language = Object(c.d)(D.c.LANGUAGE)),
                    n.type === u.l.k_EContentDescriptor &&
                      null == n.contentDescriptor &&
                      (n.contentDescriptor = 5),
                    n.type === u.l.k_EUserPreference &&
                      null == n.userPreference &&
                      (n.userPreference = u.m.k_EHideOwnedItems),
                    n.type === u.l.k_EAppType &&
                      null == n.appType &&
                      (n.appType = "game"),
                    r();
                },
              })
            ),
            s.createElement(
              "div",
              { className: S.FacetValueCtn },
              s.createElement(p.l, {
                name: "name",
                label: Object(h.f)("#FacetedBrowseEditor_Name"),
                tooltip: Object(h.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Name"
                ),
                value: h.a.Get(n.name, t),
                onChange: o,
              }),
              s.createElement(p.l, {
                name: "subtitle",
                label: Object(h.f)("#FacetedBrowseEditor_Subtitle"),
                tooltip: Object(h.f)(
                  "#FacetedBrowseEditor_Tooltip_FacetValue_Subtitle"
                ),
                value: h.a.Get(n.subtitle, t),
                onChange: o,
              }),
              (n.type === u.l.k_ESaleTagFilter || void 0 === n.type) &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(
                    p.m,
                    null,
                    Object(h.f)("#Sale_TagFilter_Filter")
                  ),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      p.d,
                      {
                        onClick: function () {
                          Object(g.c)(
                            s.createElement(C.a, {
                              editModel: a,
                              filter: n.filter,
                              title: Object(h.f)("#Sale_TagFilter_EditFilter"),
                              onApplyFilter: l,
                              ignoreStartingReferences: i,
                            }),
                            window
                          );
                        },
                      },
                      Object(h.f)("#Sale_TagFilter_EditFilter")
                    )
                  )
                ),
              n.type === u.l.k_ELanguage &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(h.f)("#LanguageTitle")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(I.a, {
                      selectedLang: n.language || Object(c.d)(D.c.LANGUAGE),
                      fnOnLanguageChanged: function (e) {
                        (n.language = e), r();
                      },
                    })
                  )
                ),
              n.type === u.l.k_EContentDescriptor &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(h.f)("#ContentDescriptor")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: m,
                      selectedOption: n.contentDescriptor || 5,
                      onChange: function (e) {
                        (n.contentDescriptor = e.data), r();
                      },
                    })
                  )
                ),
              n.type === u.l.k_EUserPreference &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(h.f)("#Sale_Preferences")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: _,
                      selectedOption: n.userPreference || u.m.k_EHideOwnedItems,
                      onChange: function (e) {
                        (n.userPreference = e.data), r();
                      },
                    })
                  )
                ),
              n.type === u.l.k_EAppType &&
                s.createElement(
                  "div",
                  null,
                  s.createElement(p.m, null, Object(h.f)("#AppTypeLabelTitle")),
                  s.createElement(
                    "div",
                    null,
                    s.createElement(p.h, {
                      rgOptions: E,
                      selectedOption: n.appType || "game",
                      onChange: function (e) {
                        (n.appType = e.data), r();
                      },
                    })
                  )
                )
            ),
            n.type !== u.l.k_EPrice &&
              s.createElement(
                "div",
                null,
                s.createElement(p.e, {
                  label: Object(h.f)("#FacetedBrowseEditor_EnabledByDefault"),
                  checked: n.bEnabledByDefault,
                  onChange: function (e) {
                    (n.bEnabledByDefault = e), r();
                  },
                })
              )
          );
        }),
        L = Object(l.a)(function (e) {
          var t = e.language,
            n = e.facet,
            a = e.facetValueArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = e.fnNotifyExpanded,
            c = s.useState(!1),
            d = c[0],
            u = c[1];
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: O.SaleSectionTitleHeader },
              s.createElement(
                "div",
                { className: O.EventEditorTextTitle },
                Object(h.f)(
                  "#FacetedBrowseEditor_NumFacetValues",
                  a.length.toString()
                )
              ),
              s.createElement(M.a, {
                bIsMinimized: !d,
                fnToggleMinimize: function () {
                  l(!d), u(!d);
                },
              })
            ),
            d &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(E.a, {
                  items: a,
                  onDelete: function (e, t) {
                    a.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return s.createElement(k, {
                      language: t,
                      facetValue: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                    });
                  },
                }),
                s.createElement(
                  p.d,
                  {
                    onClick: function (e) {
                      a.push({
                        unique_id: i.GenerateFacetValueUniqueID(n),
                        name: [],
                        subtitle: [],
                        filter: { clauses: [] },
                        rgStoreTagFilter: null,
                        matchingCapsules: null,
                      }),
                        o();
                    },
                  },
                  Object(h.f)("#FacetedBrowseEditor_AddFacetValue")
                )
              )
          );
        }),
        N = Object(l.a)(function (e) {
          var t = e.language,
            n = e.facet,
            a = e.editModel,
            i = e.capsuleContainer,
            r = e.fnMarkEditModelDirty,
            o = e.fnNotifyExpanded;
          return s.createElement(
            "div",
            {
              className: Object(v.a)(
                O.FilterDisplayCtn,
                S.FacetFilterDisplayCtn
              ),
            },
            s.createElement(p.l, {
              name: "name",
              label: Object(h.f)("#FacetedBrowseEditor_Name"),
              tooltip: Object(h.f)("#FacetedBrowseEditor_Tooltip_Facet_Name"),
              value: h.a.Get(n.name, t),
              onChange: function (e) {
                if ("name" === e.target.name) {
                  var a = n.name,
                    i = h.a.Set(a || [], t, e.target.value);
                  n.name = i;
                }
                r();
              },
            }),
            s.createElement(L, {
              language: t,
              facet: n,
              facetValueArray: n.facetValues,
              editModel: a,
              capsuleContainer: i,
              fnMarkEditModelDirty: r,
              fnNotifyExpanded: o,
            })
          );
        }),
        B = Object(l.a)(function (e) {
          var t = e.language,
            n = e.section,
            a = e.facetArray,
            i = e.editModel,
            r = e.capsuleContainer,
            o = e.fnMarkEditModelDirty,
            l = s.useState(!1),
            c = l[0],
            d = l[1],
            u = s.useState(!1),
            m = u[0],
            _ = u[1],
            g = function (e) {
              _(e);
            };
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: O.SaleSectionTitleHeader },
              s.createElement(
                "div",
                { className: O.EventEditorTextTitle },
                Object(h.f)(
                  "#FacetedBrowseEditor_NumFacets",
                  a.length.toString()
                )
              ),
              s.createElement(M.a, {
                bIsMinimized: !c,
                fnToggleMinimize: function () {
                  d(!c);
                },
              })
            ),
            c &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(E.a, {
                  items: a,
                  onDelete: function (e, t) {
                    a.splice(e, 1), o();
                  },
                  onReorder: function () {
                    o();
                  },
                  render: function (e) {
                    return s.createElement(N, {
                      language: t,
                      facet: e,
                      editModel: i,
                      capsuleContainer: r,
                      fnMarkEditModelDirty: o,
                      fnNotifyExpanded: g,
                    });
                  },
                  bDisabled: m,
                }),
                s.createElement(
                  p.d,
                  {
                    onClick: function (e) {
                      a.push({
                        unique_id: i.GenerateFacetUniqueID(n),
                        name: [],
                        facetValues: [],
                      }),
                        o();
                    },
                  },
                  Object(h.f)("#FacetedBrowseEditor_AddFacet")
                )
              )
          );
        }),
        R = Object(l.a)(function (e) {
          var t = e.section,
            n = e.capsuleContainer,
            o = e.editModel,
            l = e.bAllowPruneFacets,
            c = void 0 !== l && l,
            E = Object(s.useState)(!1),
            v = E[0],
            S = E[1],
            C = function () {
              o.SetDirty(i.c.jsondata_sales);
            },
            I = [
              {
                label: Object(h.f)("#FacetedBrowseEditor_SortFacetValues_Name"),
                tooltip: Object(h.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByName"
                ),
                data: u.k.k_ESortFacetsByName,
              },
              {
                label: Object(h.f)(
                  "#FacetedBrowseEditor_SortFacetValues_MatchCount"
                ),
                tooltip: Object(h.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_ByCount"
                ),
                data: u.k.k_ESortFacetsByMatchCount,
              },
              {
                label: Object(h.f)(
                  "#FacetedBrowseEditor_SortFacetValues_Manual"
                ),
                tooltip: Object(h.f)(
                  "#FacetedBrowseEditor_Tooltip_SortFacetValues_Manual"
                ),
                data: u.k.k_ESortFacetsManually,
              },
            ],
            D = function () {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var e, t, l, s;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return 0 ===
                        (e = o.GetEventModel().GetTaggedItems()).length
                        ? [2]
                        : [4, F(n.facets, e)];
                    case 1:
                      for (a.sent(), t = 0, l = n.facets; t < l.length; t++)
                        (s = l[t]).facetValues = s.facetValues.filter(function (
                          t
                        ) {
                          return t.type === u.l.k_ELanguage
                            ? e.some(function (e) {
                                return G.a
                                  .GetAppLinkInfo(e.capsule.id)
                                  .localized_langs.includes(t.language);
                              })
                            : t.type === u.l.k_EContentDescriptor
                            ? e.some(function (e) {
                                var n = G.a.GetAppLinkInfo(e.capsule.id);
                                return (
                                  Boolean(n) &&
                                  n.content_descriptors.includes(
                                    t.contentDescriptor
                                  )
                                );
                              })
                            : t.type === u.l.k_EAppType
                            ? e.some(function (e) {
                                var n = G.a.GetAppLinkInfo(e.capsule.id);
                                return Boolean(n) && n.type === t.appType;
                              })
                            : t.type === u.l.k_EUserPreference ||
                              t.type === u.l.k_EPrice ||
                              e.some(function (e) {
                                return Object(r.h)(e.tags, t.filter);
                              });
                        });
                      return o.SetDirty(i.c.jsondata_sales), [2];
                  }
                });
              });
            };
          return s.createElement(
            m.a,
            null,
            s.createElement(
              T.b,
              { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
              s.createElement(p.p, {
                label: Object(h.f)("#FacetedBrowseEditor_FacetsCheckbox"),
                description: Object(h.f)(
                  "#FacetedBrowseEditor_FacetsCheckboxHelp"
                ),
                checked: n.enable_faceted_browsing,
                onChange: function (e) {
                  (n.enable_faceted_browsing = e),
                    e && !n.facets && (n.facets = []),
                    o.SetDirty(i.c.jsondata_sales);
                },
              }),
              n.enable_faceted_browsing &&
                s.createElement(
                  "div",
                  { className: O.FilterDisplayCtn },
                  s.createElement(
                    "div",
                    { className: j.FilterDisplayCtn },
                    s.createElement(
                      "div",
                      { className: j.FilterTitle },
                      Object(h.f)("#FacetedBrowseEditor_FacetsSection")
                    )
                  ),
                  s.createElement(
                    "div",
                    { className: j.FilterDisplayCtn },
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement("span", null),
                      s.createElement(
                        p.d,
                        {
                          onClick: function (e) {
                            Object(d.a)(
                              s.createElement(f.a, {
                                onChange: function (e) {
                                  (n.highlighted_facet_color = e), C();
                                },
                                color: n.highlighted_facet_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: n.highlighted_facet_color },
                        },
                        Object(h.f)(
                          "#FacetedBrowseEditor_HighlightedFacetColor"
                        )
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement("span", null),
                      s.createElement(
                        p.d,
                        {
                          onClick: function (e) {
                            Object(d.a)(
                              s.createElement(f.a, {
                                onChange: function (e) {
                                  (n.heading_color = e), C();
                                },
                                color: n.heading_color,
                              }),
                              e,
                              { bDisablePopTop: !0 }
                            );
                          },
                          style: { color: n.heading_color },
                        },
                        Object(h.f)("#FacetedBrowseEditor_HeadingColor")
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(h.f)("#FacetedBrowseEditor_AutoGenerate"),
                        s.createElement(y.d, {
                          tooltip: Object(h.f)(
                            "#FacetedBrowseEditor_Tooltip_AutoGenerate"
                          ),
                        })
                      ),
                      s.createElement(
                        p.d,
                        {
                          onClick: function () {
                            var e,
                              t = function () {
                                Object(g.c)(
                                  s.createElement(U, {
                                    onOK: function (e) {
                                      return (function (e) {
                                        return Object(a.b)(
                                          void 0,
                                          void 0,
                                          void 0,
                                          function () {
                                            var t;
                                            return Object(a.e)(
                                              this,
                                              function (a) {
                                                switch (a.label) {
                                                  case 0:
                                                    S(!0), (a.label = 1);
                                                  case 1:
                                                    return (
                                                      a.trys.push([1, , 5, 6]),
                                                      (t = n),
                                                      [4, P(e)]
                                                    );
                                                  case 2:
                                                    return (
                                                      (t.facets = a.sent()),
                                                      c ? [4, D()] : [3, 4]
                                                    );
                                                  case 3:
                                                    a.sent(), (a.label = 4);
                                                  case 4:
                                                    return (
                                                      o.SetDirty(
                                                        i.c.jsondata_sales
                                                      ),
                                                      [3, 6]
                                                    );
                                                  case 5:
                                                    return S(!1), [7];
                                                  case 6:
                                                    return [2];
                                                }
                                              }
                                            );
                                          }
                                        );
                                      })(e);
                                    },
                                  }),
                                  window
                                );
                              };
                            (null === (e = n.facets) || void 0 === e
                              ? void 0
                              : e.length) > 0
                              ? Object(g.c)(
                                  s.createElement(_.d, {
                                    strTitle: Object(h.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogTitle"
                                    ),
                                    strDescription: Object(h.f)(
                                      "#FacetedBrowseEditor_AutoGenerateDialogText"
                                    ),
                                    onOK: t,
                                  }),
                                  window
                                )
                              : t();
                          },
                        },
                        Object(h.f)("#FacetedBrowseEditor_AutoGenerateButton")
                      )
                    ),
                    c &&
                      s.createElement(
                        "div",
                        { className: j.FilterActionsCtn },
                        s.createElement(
                          "span",
                          null,
                          Object(h.f)("#FacetedBrowseEditor_PruneUnused"),
                          s.createElement(y.d, {
                            tooltip: Object(h.f)(
                              "#FacetedBrowseEditor_Tooltip_PruneUnused"
                            ),
                          })
                        ),
                        s.createElement(
                          p.d,
                          { onClick: D },
                          Object(h.f)("#FacetedBrowseEditor_PruneUnusedButton")
                        )
                      ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(h.f)("#FacetedBrowseEditor_MinMatchesText"),
                        s.createElement(y.d, {
                          tooltip: Object(h.f)(
                            "#FacetedBrowseEditor_Tooltip_MinMatches"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.l, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: n.min_capsule_matches_for_facet_values,
                          onChange: function (e) {
                            (n.min_capsule_matches_for_facet_values = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(h.f)("#FacetedBrowseEditor_MaxFacetValuesText"),
                        s.createElement(y.d, {
                          tooltip: Object(h.f)(
                            "#FacetedBrowseEditor_Tooltip_MaxFacetValues"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.l, {
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: n.max_facet_values_for_facet,
                          onChange: function (e) {
                            (n.max_facet_values_for_facet = Number(
                              e.target.value
                            )),
                              C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      "div",
                      { className: j.FilterActionsCtn },
                      s.createElement(
                        "span",
                        null,
                        Object(h.f)("#FacetedBrowseEditor_SortFacetValuesText"),
                        s.createElement(y.d, {
                          tooltip: Object(h.f)(
                            "#FacetedBrowseEditor_Tooltip_SortFacetValues"
                          ),
                        })
                      ),
                      s.createElement(
                        "div",
                        { className: j.FilterSettingRightCol },
                        s.createElement(p.h, {
                          rgOptions: I,
                          selectedOption: n.facet_sort_order,
                          onChange: function (e) {
                            (n.facet_sort_order = e.data), C();
                          },
                        })
                      )
                    ),
                    s.createElement(
                      T.b,
                      { clanSteamID: o.GetClanSteamID(), requireAdmin: !0 },
                      H(t) &&
                        s.createElement(
                          "div",
                          { className: j.FilterActionsCtn },
                          s.createElement(
                            "span",
                            null,
                            Object(h.f)(
                              "#FacetedBrowseEditor_GenerateDebugInfo"
                            )
                          ),
                          s.createElement(
                            "div",
                            { className: j.FilterSettingRightCol },
                            s.createElement(p.e, {
                              checked: n.facets_generate_debug_info,
                              onChange: function (e) {
                                (n.facets_generate_debug_info = e), C();
                              },
                            })
                          )
                        )
                    )
                  ),
                  v
                    ? s.createElement(b.a, null)
                    : s.createElement(B, {
                        language: o.GetCurEditLanguage(),
                        section: t,
                        facetArray: n.facets,
                        editModel: o,
                        capsuleContainer: n,
                        fnMarkEditModelDirty: C,
                      })
                )
            )
          );
        });
      function F(e, t) {
        return Object(a.b)(this, void 0, void 0, function () {
          var n, i;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                if (
                  !e.some(function (e) {
                    return e.facetValues.some(function (e) {
                      return (
                        e.type === u.l.k_ELanguage ||
                        e.type === u.l.k_EContentDescriptor ||
                        e.type === u.l.k_EAppType
                      );
                    });
                  })
                )
                  return [3, 4];
                (n = t.map(function (e) {
                  return e.capsule;
                })),
                  (a.label = 1);
              case 1:
                return a.trys.push([1, 3, , 4]), [4, Object(w.i)(n)];
              case 2:
                return a.sent(), [3, 4];
              case 3:
                return (i = a.sent()), console.error(i), [3, 4];
              case 4:
                return [2];
            }
          });
        });
      }
      function P(e) {
        return Object(a.b)(this, void 0, void 0, function () {
          var t;
          return Object(a.e)(this, function (n) {
            switch (n.label) {
              case 0:
                return [4, o.a.AutoGenerateFacetsAsync()];
              case 1:
                return (
                  (function (e) {
                    for (
                      var t = o.a.GetAtomicTagIDsForTagID(),
                        n = o.a.GetTagNameForTagID(),
                        a = 0,
                        i = e;
                      a < i.length;
                      a++
                    )
                      for (var r = 0, l = i[a].facetValues; r < l.length; r++) {
                        var s = l[r],
                          c = s.nAtomicStoreTagID,
                          d = t.has(c)
                            ? t.get(c).map(function (e) {
                                return n.get(e);
                              })
                            : [n.get(c)];
                        (d = d.map(function (e) {
                          return x(e);
                        })),
                          (s.type = u.l.k_ESaleTagFilter),
                          (s.filter = {
                            clauses: [{ type: "Must have", or_tags: d }],
                          });
                      }
                  })((t = n.sent())),
                  e.bForceFeatureTagForFullController &&
                    (function (e) {
                      e.forEach(function (e) {
                        e.facetValues.forEach(function (e) {
                          e.type === u.l.k_ESaleTagFilter &&
                            e.filter.clauses.forEach(function (e) {
                              e.or_tags.forEach(function (t, n) {
                                var a = Object(r.k)(t),
                                  i = Object(r.s)(t).toLocaleLowerCase();
                                a === r.j.Store &&
                                  "controller" === i &&
                                  (e.or_tags[n] = Object(r.f)(
                                    "Full Controller",
                                    r.j.Feature
                                  ));
                              });
                            });
                        });
                      });
                    })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#AppTypeLabelTitle"], facetValues: [] },
                        n = 0,
                        a = [
                          "game",
                          "software",
                          "dlc",
                          "demo",
                          "music",
                          "video",
                          "hardware",
                        ];
                      n < a.length;
                      n++
                    ) {
                      var i = a[n];
                      t.facetValues.push({
                        name: ["#AppTypeLabel_" + i],
                        type: u.l.k_EAppType,
                        appType: i,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    }
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Platform"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#Platform_Windows"],
                      type: u.l.k_ESaleTagFilter,
                      filter: {
                        clauses: [
                          { type: "Must have", or_tags: ["[Feature] Windows"] },
                        ],
                      },
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#Platform_Linux"],
                        type: u.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Linux"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#Platform_Mac"],
                        type: u.l.k_ESaleTagFilter,
                        filter: {
                          clauses: [
                            { type: "Must have", or_tags: ["[Feature] Mac"] },
                          ],
                        },
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    for (
                      var t = { name: ["#LanguageTitle"], facetValues: [] },
                        n = 0;
                      n < 30;
                      ++n
                    )
                      t.facetValues.push({
                        name: ["#language_selection_" + Object(c.a)(n)],
                        type: u.l.k_ELanguage,
                        language: n,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      });
                    e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#ContentDescriptor"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#ContentDescriptor_GeneralMatureContent"],
                      type: u.l.k_EContentDescriptor,
                      contentDescriptor: 5,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_FrequentViolenceOrGore"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 2,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_NudityOrSexualContent"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 1,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#ContentDescriptor_AdultOnlySexualContent"],
                        type: u.l.k_EContentDescriptor,
                        contentDescriptor: 3,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  (function (e) {
                    var t = { name: ["#Sale_Preferences"], facetValues: [] };
                    t.facetValues.push({
                      name: ["#UserPreference_HideOwnedItems"],
                      type: u.l.k_EUserPreference,
                      userPreference: u.m.k_EHideOwnedItems,
                      filter: null,
                      matchingCapsules: null,
                      rgStoreTagFilter: null,
                    }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideWishlistedItems"],
                        type: u.l.k_EUserPreference,
                        userPreference: u.m.k_EHideWishlistedItems,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      t.facetValues.push({
                        name: ["#UserPreference_HideIgnoredItems"],
                        type: u.l.k_EUserPreference,
                        userPreference: u.m.k_EHideIgnoredItems,
                        bEnabledByDefault: !0,
                        filter: null,
                        matchingCapsules: null,
                        rgStoreTagFilter: null,
                      }),
                      e.push(t);
                  })(t),
                  [2, t]
                );
            }
          });
        });
      }
      function x(e) {
        return Object(r.f)(e, r.j.Store);
      }
      var U = Object(l.a)(function (e) {
        var t = e.closeModal,
          n = e.onOK,
          a = Object(s.useState)(!1),
          i = a[0],
          r = a[1];
        return s.createElement(
          _.e,
          { onCancel: t, closeModal: t },
          s.createElement(
            p.k,
            null,
            Object(h.f)("#FacetedBrowseEditor_AutoGenerate")
          ),
          s.createElement(
            p.b,
            null,
            s.createElement(p.e, {
              label: Object(h.f)(
                "#FacetedBrowseEditor_AutoGenerateOptions_FeatureTagForController"
              ),
              checked: i,
              onChange: function (e) {
                r(e);
              },
            })
          ),
          s.createElement(
            p.j,
            null,
            s.createElement(
              p.q,
              {
                onClick: function () {
                  n({ bForceFeatureTagForFullController: i }), t();
                },
              },
              Object(h.f)("#Button_OK")
            ),
            s.createElement(p.d, { onClick: t }, Object(h.f)("#Button_Cancel"))
          )
        );
      });
      function H(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function V(e, t, n) {
        var i;
        return Object(a.b)(this, void 0, void 0, function () {
          var o, l, s, c, d, p, m, _, g, E, b, v, h, f, S, O, y, C, j, T;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return [4, F(n, t)];
              case 1:
                for (
                  a.sent(),
                    o = t.map(function (e) {
                      return {
                        setTags: Object(r.m)(e.tags),
                        capsule: e.capsule,
                      };
                    }),
                    l = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        languages: Boolean(t)
                          ? new Set(t.localized_langs)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    s = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        contentDescriptors: Boolean(t)
                          ? new Set(t.content_descriptors)
                          : null,
                        capsule: e.capsule,
                      };
                    }),
                    c = t.map(function (e) {
                      var t = G.a.GetAppLinkInfo(e.capsule.id);
                      return {
                        appType: Boolean(t) ? t.type : null,
                        capsule: e.capsule,
                      };
                    }),
                    d = 0,
                    p = n;
                  d < p.length;
                  d++
                )
                  for (m = p[d], _ = 0, g = m.facetValues; _ < g.length; _++)
                    if (
                      (((E = g[_]).matchingCapsules = []),
                      H(e) && !1 === e.facets_generate_debug_info)
                    )
                      E.matchingCapsules = void 0;
                    else if (E.type === u.l.k_ELanguage)
                      for (b = 0, v = l; b < v.length; b++)
                        (y = v[b]),
                          (null === (i = y.languages) || void 0 === i
                            ? void 0
                            : i.has(E.language)) &&
                            E.matchingCapsules.push(y.capsule);
                    else if (E.type === u.l.k_EContentDescriptor)
                      for (h = 0, f = s; h < f.length; h++)
                        (null === (y = f[h]).contentDescriptors ||
                          y.contentDescriptors.has(E.contentDescriptor)) &&
                          E.matchingCapsules.push(y.capsule);
                    else if (
                      E.type === u.l.k_EUserPreference ||
                      E.type === u.l.k_EPrice
                    )
                      E.matchingCapsules = [];
                    else if (E.type === u.l.k_EAppType)
                      for (S = 0, O = c; S < O.length; S++)
                        (y = O[S]).appType === E.appType &&
                          E.matchingCapsules.push(y.capsule);
                    else
                      for (C = 0, j = o; C < j.length; C++)
                        (T = j[C]),
                          Object(r.i)(T.setTags, E.filter) &&
                            E.matchingCapsules.push(T.capsule);
                return [2];
            }
          });
        });
      }
      function z(e) {
        return Object(a.b)(this, void 0, void 0, function () {
          var t, n, i, r, l, s, d, p, m;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return e.BIsSourceEventSaleEnabled() &&
                  ((null == (t = e.GetEventModel().GetTaggedItems())
                    ? void 0
                    : t.length) ||
                    e.GetEventModel().jsondata.item_source_type !==
                      u.n.k_ETaggedItems)
                  ? [4, o.a.EnsureLoaded()]
                  : [2];
              case 1:
                return (
                  a.sent(),
                  (n = o.a.GetTagNameForTagID()),
                  [4, o.a.GetLanguages()]
                );
              case 2:
                return (i = a.sent()), [4, o.a.GetLocalizedTagNames()];
              case 3:
                (r = a.sent()),
                  (l = new Map()),
                  n.forEach(function (e, t) {
                    var n = e.toLocaleLowerCase();
                    l.has(n)
                      ? console.error("Duplicate tag name: " + e)
                      : l.set(n, t);
                  }),
                  (s = (function (e) {
                    var t,
                      n,
                      a =
                        null ===
                          (n =
                            null ===
                              (t = null == e ? void 0 : e.GetEventModel()) ||
                            void 0 === t
                              ? void 0
                              : t.jsondata) || void 0 === n
                          ? void 0
                          : n.auto_item_tags;
                    if (!a) return null;
                    for (var i = new Map(), r = 0, o = a; r < o.length; r++) {
                      var l = o[r];
                      i.set(l.tag_name.toLocaleLowerCase(), l.filter);
                    }
                    return i;
                  })(e)),
                  (d = 0),
                  (p = e.GetSaleSections()),
                  (a.label = 4);
              case 4:
                return d < p.length
                  ? ((m = p[d]).sale_tag_filter &&
                      (m.store_filter = W(m.sale_tag_filter, l, s)),
                    "tabs" === m.section_type &&
                      m.tabs &&
                      m.tabs.forEach(function (e) {
                        e.sale_tag_filter &&
                          (e.store_filter = W(e.sale_tag_filter, l, s));
                      }),
                    m.enable_faceted_browsing ? [4, V(m, t, m.facets)] : [3, 6])
                  : [3, 7];
              case 5:
                a.sent(),
                  (function (e, t, n) {
                    for (
                      var a = function (e) {
                          for (
                            var a = new Map(),
                              i = new Map(),
                              r = 0,
                              o = e.facetValues;
                            r < o.length;
                            r++
                          ) {
                            (c = o[r]).type === u.l.k_ELanguage
                              ? a.set(c, Y(c.language))
                              : c.type === u.l.k_EContentDescriptor
                              ? a.set(c, J(c.contentDescriptor))
                              : c.type === u.l.k_EUserPreference
                              ? a.set(c, null)
                              : c.type === u.l.k_EPrice
                              ? a.set(c, {
                                  type: u.o.k_EStoreFilterClauseTypePrice,
                                })
                              : c.type === u.l.k_EAppType
                              ? a.set(c, Q(c.appType))
                              : (a.set(c, W(c.filter, t, n)),
                                i.set(c, q(c.filter, t)));
                          }
                          if (
                            e.facetValues.every(function (e) {
                              return (
                                e.type !== u.l.k_EUserPreference &&
                                null === a.get(e)
                              );
                            })
                          )
                            return (
                              console.error(
                                "Couldn't look up store tag names for any facet value in facet " +
                                  e.name[0] +
                                  ", skipping."
                              ),
                              "continue"
                            );
                          for (
                            var l = 0, s = e.facetValues;
                            l < s.length;
                            l++
                          ) {
                            var c;
                            (c = s[l]).rgStoreTagFilter = a.get(c);
                            var d = i.get(c);
                            d > 0 && (c.nAtomicStoreTagID = d);
                          }
                        },
                        i = 0,
                        r = e.facets;
                      i < r.length;
                      i++
                    ) {
                      a(r[i]);
                    }
                  })(m, l, s),
                  (function (e, t, n, a) {
                    e.facets.forEach(function (e) {
                      e.facetValues.forEach(function (e) {
                        e.nAtomicStoreTagID &&
                          n.forEach(function (n, i) {
                            var r = Object(c.d)(n);
                            if (0 === h.a.Get(e.name, r).length) {
                              var o = t.get(e.nAtomicStoreTagID),
                                l = a.get(e.nAtomicStoreTagID),
                                s = h.a.Get(l, i);
                              0 !== s.length &&
                                (h.a.Set(e.name, r, s),
                                console.warn(
                                  "Added missing localized name (" +
                                    s +
                                    ") (" +
                                    n +
                                    ") for facet value with atomic store tag ID " +
                                    e.nAtomicStoreTagID +
                                    " (" +
                                    o +
                                    ")"
                                ));
                            }
                          });
                      });
                    });
                  })(m, n, i, r),
                  m.metadata_matching_capsules &&
                    (m.metadata_matching_capsules = void 0),
                  (a.label = 6);
              case 6:
                return d++, [3, 4];
              case 7:
                return [2];
            }
          });
        });
      }
      function W(e, t, n) {
        for (
          var a = {
              type: u.o.k_EStoreFilterClauseTypeAnd,
              rgSubexpressions: new Array(),
            },
            i = 0,
            o = e.clauses;
          i < o.length;
          i++
        ) {
          for (
            var l = o[i],
              s = {
                type: u.o.k_EStoreFilterClauseTypeOr,
                bNegated: "Must not have" === l.type,
                rgSubexpressions: new Array(),
              },
              c = 0,
              d = l.or_tags;
            c < d.length;
            c++
          ) {
            var p = d[c],
              m = Object(r.k)(p),
              _ = Object(r.s)(p).toLocaleLowerCase();
            if (m === r.j.Store) {
              if (!(null == t ? void 0 : t.has(_))) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + p
                );
                continue;
              }
              var g = t.get(_);
              s.rgSubexpressions.push({
                type: u.o.k_EStoreFilterClauseTypeStoreTag,
                value: g,
              });
            } else if (m == r.j.Feature)
              s.rgSubexpressions.push({
                type: u.o.k_EStoreFilterClauseTypeFeatureTag,
                value: _,
              });
            else if (m === r.j.Auto) {
              if (!n.has(_)) {
                console.error("Could not find auto tag: " + p);
                continue;
              }
              var E = n.get(_);
              s.rgSubexpressions.push(W(E, t, n));
            } else console.warn("Sale tag not implemented for faceting: " + p);
          }
          if (0 === s.rgSubexpressions.length) return null;
          a.rgSubexpressions.push(s);
        }
        return 0 === a.rgSubexpressions.length ? null : Object(A.e)(a);
      }
      function q(e, t) {
        for (var n = 0, a = e.clauses; n < a.length; n++)
          for (var i = 0, l = a[n].or_tags; i < l.length; i++) {
            var s = l[i],
              c = Object(r.k)(s),
              d = Object(r.s)(s).toLocaleLowerCase();
            if (c === r.j.Store) {
              if (!t.has(d)) {
                console.error(
                  "No matching categorized store tag found for sale tag: " + s
                );
                continue;
              }
              var u = t.get(d);
              if (o.a.BIsTagAtomic(u)) return u;
            }
          }
        return 0;
      }
      function Y(e) {
        return {
          type: u.o.k_EStoreFilterClauseTypeLanguage,
          value: Object(c.a)(e),
        };
      }
      function J(e) {
        return {
          type: u.o.k_EStoreFilterClauseTypeContentDescriptor,
          value: e,
        };
      }
      function Q(e) {
        return { type: u.o.k_EStoreFilterClauseTypeAppType, value: e };
      }
    },
    "66At": function (e, t, n) {
      e.exports = {
        DisplayWarning: "saleeditorlocationcontrolwidget_DisplayWarning_162UW",
        SelectArea: "saleeditorlocationcontrolwidget_SelectArea_3hAkB",
        dropDown: "saleeditorlocationcontrolwidget_dropDown_a8hfO",
      };
    },
    "6Oks": function (e, t, n) {
      e.exports = {
        EventEditorArtworkCtn:
          "partnereventartwork_EventEditorArtworkCtn_3rX0b",
        ArtworkPreview: "partnereventartwork_ArtworkPreview_JnQir",
        EventEditorArtworkBarContainer:
          "partnereventartwork_EventEditorArtworkBarContainer_1C85T",
        EventEditorButton: "partnereventartwork_EventEditorButton_2ffmU",
        EventEditorInputPaneTopRow:
          "partnereventartwork_EventEditorInputPaneTopRow_91ZJa",
        EventCoverImageCtn: "partnereventartwork_EventCoverImageCtn_31GkG",
        DragTarget: "partnereventartwork_DragTarget_3rLfM",
        DragOnTopOfMe: "partnereventartwork_DragOnTopOfMe_2fjw2",
        EventEditorArtworkTextCtn:
          "partnereventartwork_EventEditorArtworkTextCtn_30C-z",
        EventEditorDragTargetArea:
          "partnereventartwork_EventEditorDragTargetArea_13RCA",
        EventEditorArtworkTitle:
          "partnereventartwork_EventEditorArtworkTitle_2LN2o",
        EventEditorArtworkSubTitle:
          "partnereventartwork_EventEditorArtworkSubTitle_2WU2t",
        EventEditorArtworkResolution:
          "partnereventartwork_EventEditorArtworkResolution_3BWYC",
        ReassignCtn: "partnereventartwork_ReassignCtn_1ELGs",
        ImagePreviewContainer:
          "partnereventartwork_ImagePreviewContainer_xiD01",
        NoneSet: "partnereventartwork_NoneSet_2iqoN",
        TitleSafePreview: "partnereventartwork_TitleSafePreview_1k4fh",
        TitleSafeCaption: "partnereventartwork_TitleSafeCaption_2p02K",
        LanguageSelector: "partnereventartwork_LanguageSelector_3r2rl",
        LanguageSelectorSelected:
          "partnereventartwork_LanguageSelectorSelected_1M7um",
        LanguageSelectorNoData:
          "partnereventartwork_LanguageSelectorNoData_2F3x5",
        LanguageContainer: "partnereventartwork_LanguageContainer_1Vs5U",
        LanguageOptions: "partnereventartwork_LanguageOptions_1ntKq",
        LanguageListContainer:
          "partnereventartwork_LanguageListContainer_Yhl9T",
        SelectImageContainerTopRow:
          "partnereventartwork_SelectImageContainerTopRow_2TTdk",
        SelectImageContainerBottomRow:
          "partnereventartwork_SelectImageContainerBottomRow_3W5Me",
        TextTitle: "partnereventartwork_TextTitle_WMeyY",
        TextSubTitle: "partnereventartwork_TextSubTitle_3zHVs",
        ExampleSectionTitle: "partnereventartwork_ExampleSectionTitle_1Rcen",
        DetailPageExample: "partnereventartwork_DetailPageExample_pD3MC",
        detailExample: "partnereventartwork_detailExample_syg2Q",
        detailExample2: "partnereventartwork_detailExample2_9E9yp",
        MainImageCtn: "partnereventartwork_MainImageCtn_1XTVD",
        ExampleBodyPosition: "partnereventartwork_ExampleBodyPosition_rEaNp",
        ExampleContentCtn: "partnereventartwork_ExampleContentCtn_-LvtM",
        TextBody: "partnereventartwork_TextBody_IiSBO",
        SpotlightExample: "partnereventartwork_SpotlightExample_rAJxh",
        SelectImageEqualColumns:
          "partnereventartwork_SelectImageEqualColumns_2zf7x",
        SelectImageBlock: "partnereventartwork_SelectImageBlock_3jEs0",
        MainPreviewBlock: "partnereventartwork_MainPreviewBlock_2HX0X",
        Tips: "partnereventartwork_Tips_1CHYZ",
        SpotlightOptions: "partnereventartwork_SpotlightOptions_2Kej2",
        ExamplesCtn: "partnereventartwork_ExamplesCtn_3Bp1I",
        SelectImageExampleImg:
          "partnereventartwork_SelectImageExampleImg_2kTis",
        SelectImageLanguagesCtn:
          "partnereventartwork_SelectImageLanguagesCtn_2vu5Q",
        SelectImageTitle: "partnereventartwork_SelectImageTitle_1m6cv",
        ArtworkSelectorContainer:
          "partnereventartwork_ArtworkSelectorContainer_1nl9m",
        Title: "partnereventartwork_Title_2Phq4",
        BroadcastPreviewContainer:
          "partnereventartwork_BroadcastPreviewContainer_3Y5k3",
        SaleHeaderPreviewContainer:
          "partnereventartwork_SaleHeaderPreviewContainer_14dIa",
        SaleHeaderExampleCtn: "partnereventartwork_SaleHeaderExampleCtn_16coG",
        SaleHeaderExampleCol: "partnereventartwork_SaleHeaderExampleCol_1czA2",
        BroadcastPreview: "partnereventartwork_BroadcastPreview_87eNb",
        ExampleSpacer: "partnereventartwork_ExampleSpacer_2r0lB",
        MultipleExampleContainer:
          "partnereventartwork_MultipleExampleContainer_1dda1",
        AssetExampleSpotlightCtn:
          "partnereventartwork_AssetExampleSpotlightCtn_taJSe",
      };
    },
    "6h0J": function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzcyREYxMUExREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzcyREYxMUIxREVBMTFFOUJFQTREQjZGQTJEQ0UzOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzJERjExODFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NzJERjExOTFERUExMUU5QkVBNERCNkZBMkRDRTM5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmk/vzIAAAFiSURBVHjaYnz79i0DCDAB8X8gVgUIIEaoSBmIIQRkvAMIIBADJMUIxBVArI0sAAYAAQTTAwNlTEgcXZDpLFDOHCC+A8Sd6FoEAAIIJBAOZKxAEoTZmAPEKSxQSZitFVCz10D5O1iQdE4AYgsouwOKBUBWvAEyRKF+RQa+QLwFIIDQHYUM/gAxC8hfb6C6QTgLKvkaiGtAikBuUAHiD0g6QZJzob5gYUEz9jXUPU+AWAYWETDwG+o9mGQGLLAFoFbcBGJFIGaDagDHCrIV6ti8ArLCFoc3wf4HCDB84YANVEC9HwPEU4B4EiycQKEqgAUjx+F3INYHYkOoZh6YC0CeEUQLS2Qbi4HYCYgvQ8P8AhC3QOMaJRjRNf4C4m3QcP8ODd4QqM0dyIGEDgKgCtmgUf8dypeBamSERoEALi8sAuUnID4AxIegbHQA18OCRTKOlGgBeSECmuH+E4nfQPWAXQwAHbJ3VkYR2TIAAAAASUVORK5CYII=";
    },
    "6yBx": function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return D;
      }),
        n.d(t, "a", function () {
          return w;
        }),
        n.d(t, "c", function () {
          return G;
        });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("Nsq5"),
        c = n("U+Q5"),
        d = n("I/R6"),
        u = n("Mgs7"),
        p = n("fpVW"),
        m = n.n(p),
        _ = n("Jqb/"),
        g = n("ka0M"),
        E = n("xnZ7"),
        b = n.n(E),
        v = n("6Y59"),
        h = n("0OaU"),
        f = n("exH9"),
        S = n("NOFC"),
        O = n("TLQK"),
        y = n("OS6B"),
        C = n("opsS"),
        j = n("NrWE"),
        T = n("as1E"),
        I = n.n(T),
        D = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bDownloadFromClanImageStore: !1 }),
              (t.m_clanImageUploader = new c.b(t.props.clanSteamID)),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetValidLanguageForImage = function (e) {
              var t = this.props.rgRealmList;
              if (!t || 0 === t.length) return e;
              for (var n = 0, a = t; n < a.length; n++) {
                var i = a[n];
                if (O.b.IsELanguageValidInRealm(e, i)) return e;
              }
              for (var r = 0, o = t; r < o.length; r++) {
                i = o[r];
                if (
                  O.b.IsELanguageValidInRealm(d.a.Get().GetCurEditLanguage(), i)
                )
                  return d.a.Get().GetCurEditLanguage();
              }
              return t.includes(l.f.k_ESteamRealmGlobal) ? 0 : 29;
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, o, l, s, u, p;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = this.props),
                        (n = t.rgSupportArtwork),
                        (i = t.localizedPrimaryImage),
                        (o = Array.from(e)),
                        (l = !0),
                        (s = 0),
                        (a.label = 1);
                    case 1:
                      return s < o.length
                        ? ((u = e.item(s)),
                          (p =
                            c.d.DetectLanguageFromFilename(u.name) ||
                            d.a.Get().GetCurEditLanguage()),
                          [
                            4,
                            this.m_clanImageUploader.AddImageForLanguage(
                              u,
                              this.GetValidLanguageForImage(p),
                              n,
                              i
                            ),
                          ])
                        : [3, 4];
                    case 2:
                      (l = a.sent()) ||
                        (console.error(
                          "ArtworkUploader.OnDropFiles: failed on i=" +
                            s +
                            " file=" +
                            u.name
                        ),
                        Object(g.d)(
                          r.createElement(_.f, {
                            strDescription: Object(O.f)(
                              "#ImagePicker_Error",
                              u.name
                            ),
                          }),
                          window
                        )),
                        (a.label = 3);
                    case 3:
                      return s++, [3, 1];
                    case 4:
                      return [2, l];
                  }
                });
              });
            }),
            (t.prototype.OnUploadImages = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t = this;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        this.m_clanImageUploader.UploadAllFiles(
                          this.props.rgSupportArtwork,
                          this.props.forceResolution,
                          this.props.localizedPrimaryImage &&
                            this.props.localizedPrimaryImage.file_type
                        ),
                      ];
                    case 1:
                      return (
                        (e = n.sent()),
                        Object.keys(e).forEach(function (n) {
                          var a = e[n],
                            i = t.m_clanImageUploader.m_filesToUpload.find(
                              function (e) {
                                return e.uploadTime + "/" + e.file.name === n;
                              }
                            );
                          if (i)
                            if (1 !== a.success)
                              (i.status = "failed"), (i.message = a.message);
                            else if (((i.status = "success"), a.origimagehash))
                              c.d.AddLocalizeImageUploaded(
                                a.origimagehash,
                                t.GetValidLanguageForImage(a.language)
                              );
                            else {
                              var r = c.d.GetClanImageByImageHash(
                                t.props.clanSteamID,
                                a.image_hash
                              );
                              r &&
                                t.props.fnSetImageURL(
                                  i.type,
                                  r,
                                  t.GetValidLanguageForImage(i.language)
                                );
                            }
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPreviousImageSelected = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t = this;
                return Object(a.e)(this, function (n) {
                  return (
                    this.state.bDownloadFromClanImageStore ||
                      this.setState(
                        { bDownloadFromClanImageStore: !0 },
                        function () {
                          return Object(a.b)(t, void 0, void 0, function () {
                            var t, n, i, o, l;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  return (
                                    a.trys.push([0, 2, , 3]),
                                    (t = this.props),
                                    (n = t.rgSupportArtwork),
                                    (i = t.localizedPrimaryImage),
                                    [
                                      4,
                                      this.m_clanImageUploader.AddExistingClanImage(
                                        e,
                                        this.GetValidLanguageForImage(
                                          d.a.Get().GetCurEditLanguage()
                                        ),
                                        n,
                                        i
                                      ),
                                    ]
                                  );
                                case 1:
                                  return a.sent(), [3, 3];
                                case 2:
                                  return (
                                    (o = a.sent()),
                                    (l = Object(y.a)(o)),
                                    console.error(
                                      "AddExistingClanImage: " + l.strErrorMsg,
                                      l
                                    ),
                                    Object(g.d)(
                                      r.createElement(_.f, {
                                        strDescription: Object(O.f)(
                                          "#EventError_Code",
                                          l.strErrorMsg
                                        ),
                                      }),
                                      window
                                    ),
                                    [3, 3]
                                  );
                                case 3:
                                  return (
                                    this.setState({
                                      bDownloadFromClanImageStore: !1,
                                    }),
                                    [2]
                                  );
                              }
                            });
                          });
                        }
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.rgSupportArtwork,
                n = e.forceResolution,
                a = e.localizedPrimaryImage,
                i = e.clanSteamID,
                o = G(
                  this.m_clanImageUploader,
                  "arttabupload_",
                  t,
                  n,
                  a && a.file_type,
                  this.props.rgRealmList
                );
              return r.createElement(
                j.b,
                {
                  onDropFiles: this.OnDropFiles,
                  clanSteamID: i,
                  bAllowPreviousClanImages: !Boolean(
                    this.props.bPreventPreviousClanImages
                  ),
                  OnClanImageSelected: this.OnPreviousImageSelected,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                },
                r.createElement(
                  r.Fragment,
                  null,
                  this.state.bDownloadFromClanImageStore &&
                    r.createElement(h.a, {
                      position: "center",
                      size: "medium",
                      string: Object(O.f)("#Loading"),
                    }),
                  r.createElement("div", { className: I.a.UploadPreviewCtn }, o)
                ),
                r.createElement(w, {
                  clanImageUploader: this.m_clanImageUploader,
                  fnOnUploadImageRequested: this.OnUploadImages,
                })
              );
            }),
            Object(a.c)([C.a], t.prototype, "OnDropFiles", null),
            Object(a.c)([C.a], t.prototype, "OnUploadImages", null),
            Object(a.c)([C.a], t.prototype, "OnPreviousImageSelected", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component),
        w = Object(i.a)(function (e) {
          var t = e.clanImageUploader,
            n = e.fnOnUploadImageRequested;
          return r.createElement(
            "div",
            {
              style: { display: "flex" },
              className: I.a.UploadPreviewButtonsCtn,
            },
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                u.d,
                { style: { margin: "8px" }, onClick: n },
                Object(O.f)("#ImageUpload_Upload")
              ),
            Boolean(t.m_filesToUpload.length) &&
              r.createElement(
                u.d,
                { style: { margin: "8px" }, onClick: t.ClearImages },
                Object(O.f)("#ImageUpload_Clear")
              )
          );
        });
      function G(e, t, n, a, i, o) {
        var l = new Array();
        return (
          e.m_filesToUpload.map(function (s) {
            l.push(
              r.createElement(A, {
                key: t + s.file + "_" + s.uploadTime,
                image: s,
                supported: n,
                forceResolution: a,
                forceFileType: i,
                fnOnRemove: function () {
                  return e.DeleteUploadImage(s);
                },
                languageRealms: o,
              })
            );
          }),
          l
        );
      }
      var A = Object(i.a)(function (e) {
        for (
          var t = e.image,
            n = e.fnOnRemove,
            a = e.supported,
            i = e.languageRealms,
            c = a.map(function (e) {
              var n = Object(O.f)("#EventEditor_ArtworkType_" + e),
                a = s.a[e];
              a &&
                !a.bDisableEnforceDimensions &&
                (n += " - " + a.width + "x" + a.height);
              var i = void 0;
              return (
                t.BIsOriginalMinimumDimensions(e) ||
                  (i = I.a.ArtworkDimensionTooSmall),
                { label: n, data: e, strOptionClass: i }
              );
            }),
            d = {
              pending: Object(O.f)("#ImageUpload_Pending"),
              uploading: Object(O.f)("#ImageUpload_Uploading"),
              success: Object(O.f)("#ImageUpload_SuccessCard"),
              failed: Object(O.f)("#ImageUpload_Failed"),
            },
            p = new Array(),
            _ = 0,
            E = O.b.GetLanguageListForRealms(i || [l.f.k_ESteamRealmGlobal]);
          _ < E.length;
          _++
        ) {
          var y = E[_],
            C = Object(O.f)("#Language_" + Object(o.a)(y));
          p.push({ label: C, data: y });
        }
        p.sort(function (e, t) {
          return e.label.localeCompare(t.label);
        });
        var j = [];
        p.forEach(function (e) {
          return j.push({ label: e.label, data: e.data });
        });
        var T = t.IsValidImage(e.supported, e.forceResolution, e.forceFileType),
          D = T.needsCrop
            ? Object(O.f)("#ImageUpload_NeedsCrop")
            : T.error
            ? Object(O.f)("#ImageUpload_Invalid")
            : d[t.status];
        return r.createElement(
          "div",
          { className: I.a.UploadPreview },
          r.createElement(
            "div",
            {
              className: I.a.UploadPreviewDelete,
              onClick: function () {
                return n(t);
              },
            },
            r.createElement(v.pb, null)
          ),
          r.createElement(
            "div",
            {
              className: I.a.PreviewImgCtn,
              style: { backgroundImage: "url(" + t.dataUrl + ")" },
            },
            r.createElement(
              "span",
              { className: I.a.PreviewImgInfo },
              t.width,
              " x ",
              t.height
            )
          ),
          r.createElement(u.h, {
            strDropDownClassName: m.a.DropDownScroll,
            rgOptions: j,
            selectedOption: t.language,
            onChange: function (e) {
              return (t.language = e.data);
            },
          }),
          Boolean(c.length > 1) &&
            r.createElement(u.h, {
              rgOptions: c.filter(function (e) {
                return "hero" !== e.data;
              }),
              selectedOption: t.type || c[0].data,
              onChange: function (e) {
                return (t.type = e.data);
              },
            }),
          r.createElement(
            "div",
            { className: Object(f.a)(m.a.FlexColumnContainer) },
            D,
            Boolean("uploading" == D) &&
              r.createElement(
                "div",
                { className: b.a.FlexCenter },
                r.createElement(h.a, { size: "small" })
              )
          ),
          r.createElement(
            "div",
            { className: I.a.UploadPreviewError },
            t.message
          ),
          T.error &&
            r.createElement(
              "div",
              { className: I.a.UploadPreviewError },
              T.error
            ),
          T.needsCrop &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                u.q,
                {
                  onClick: function () {
                    return (function (t) {
                      t.ResetImage();
                      var n = window,
                        a = r.createElement(S.a, {
                          ownerWin: n,
                          uploadFile: t,
                          forceResolution: e.forceResolution,
                          fileType: e.forceFileType || 3,
                        });
                      Object(g.c)(a, n, "CropModal", {
                        strTitle: Object(O.f)("#ImageUpload_CropModalTitle"),
                      });
                    })(t);
                  },
                },
                Object(O.f)("#ImageUpload_OpenEditor")
              )
            )
        );
      });
    },
    "75vw": function (e, t, n) {
      e.exports = {
        PickerContainer: "clanimagepicker_PickerContainer_1qhUO",
        PickerTitle: "clanimagepicker_PickerTitle_1E-Kb",
        SearchInput: "clanimagepicker_SearchInput_lwt4u",
        ImagesContainer: "clanimagepicker_ImagesContainer_2MNEt",
        ImageWrapperContainer: "clanimagepicker_ImageWrapperContainer_3nF8i",
        ImageWrapper: "clanimagepicker_ImageWrapper_vYrtX",
        ImageWrapperFilename: "clanimagepicker_ImageWrapperFilename_3rKYp",
        Hilight: "clanimagepicker_Hilight_5oO3l",
        ImageButton: "clanimagepicker_ImageButton_1NdF6",
        Thumb: "clanimagepicker_Thumb_5b4gX",
        Full: "clanimagepicker_Full_3zBhO",
        Delete: "clanimagepicker_Delete_UQ4fW",
        FloatingThrobber: "clanimagepicker_FloatingThrobber_1zWl-",
        Localized: "clanimagepicker_Localized__5lkv",
        ResultNotification: "clanimagepicker_ResultNotification_1mERN",
        errorcode: "clanimagepicker_errorcode_2f4ad",
        ImageUploadBar: "clanimagepicker_ImageUploadBar_1aUdS",
        SelectImageButton: "clanimagepicker_SelectImageButton__R_zU",
        UploaderContainer: "clanimagepicker_UploaderContainer_dR0Ne",
        UploaderTitle: "clanimagepicker_UploaderTitle_DL9t5",
        UploaderRunning: "clanimagepicker_UploaderRunning_1lRF9",
        UploaderDesc: "clanimagepicker_UploaderDesc_2fhbn",
        UploadError: "clanimagepicker_UploadError_3B5rV",
        UploadMessageAndButtonsContainer:
          "clanimagepicker_UploadMessageAndButtonsContainer_3OQ66",
        UploadSuccess: "clanimagepicker_UploadSuccess_2RXjw",
        UploadDismissButton: "clanimagepicker_UploadDismissButton_3j1zt",
        DragAndDropContainer: "clanimagepicker_DragAndDropContainer_2Q0Xd",
        DragAndDropContainerDragging:
          "clanimagepicker_DragAndDropContainerDragging_2Xhk9",
      };
    },
    "9jt8": function (e, t, n) {
      e.exports = {
        ValveOnlyGuidelineSummary:
          "saleguidelinedialog_ValveOnlyGuidelineSummary_G_5BB",
        SignedBy: "saleguidelinedialog_SignedBy_aFTva",
        GuidelinesNoticeCtn: "saleguidelinedialog_GuidelinesNoticeCtn_2vRv8",
        OpenGuidelinesBtnCtn: "saleguidelinedialog_OpenGuidelinesBtnCtn_1xJdi",
        GuidelinesDoneCtn: "saleguidelinedialog_GuidelinesDoneCtn_-bMPu",
        Text: "saleguidelinedialog_Text_1yrjm",
        Intro: "saleguidelinedialog_Intro_yYvoX",
        AgreementsCtn: "saleguidelinedialog_AgreementsCtn_1TWap",
        ContactSectionCtn: "saleguidelinedialog_ContactSectionCtn_3gDWx",
        SectionTitle: "saleguidelinedialog_SectionTitle_3HeMo",
      };
    },
    AvDr: function (e, t, n) {
      e.exports = {
        ThemedCtn: "partnereventoptions_ThemedCtn_3JuTN",
        CategoryOption: "partnereventoptions_CategoryOption_4ke28",
        CategoryTitle: "partnereventoptions_CategoryTitle_Dx6oJ",
        event_nomination_banner_ctn:
          "partnereventoptions_event_nomination_banner_ctn_1w12V",
        event_nomination_banner:
          "partnereventoptions_event_nomination_banner_2nEQS",
        event_nomination_banner_text:
          "partnereventoptions_event_nomination_banner_text_1gePU",
      };
    },
    BVhQ: function (e, t, n) {
      e.exports = {
        ErrorMessaage: "progressutils_ErrorMessaage_13sZc",
        UpdatingMessage: "progressutils_UpdatingMessage_3baPw",
      };
    },
    Cksw: function (e, t, n) {
      e.exports = {
        GraphicalAssetsTabs: "tabbar_GraphicalAssetsTabs_3oSHT",
        GraphicalAssetsTab: "tabbar_GraphicalAssetsTab_3lJb_",
        Active: "tabbar_Active_8XjrT",
        GraphicalAssetStatus: "tabbar_GraphicalAssetStatus_25U4F",
        VOWarning: "tabbar_VOWarning_3LaJy",
        StatusSuccess: "tabbar_StatusSuccess_1iIRV",
        StatusDanger: "tabbar_StatusDanger_UxdQK",
        StatusCaution: "tabbar_StatusCaution_E9t9j",
      };
    },
    CoyA: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return m;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("6AJf"),
        l = n("xnZ7"),
        s = n.n(l),
        c = n("TLQK"),
        d = n("k3PP"),
        u = n("JiI5"),
        p = n("oqmg"),
        m = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.DoesCapsuleConflict = function () {
              var e = this.props,
                t = e.capsule,
                n = e.capsuleContainer;
              if (!t || !n) return !1;
              for (var a = 0, i = n.capsules; a < i.length; a++) {
                var r = i[a];
                if (
                  r &&
                  r !== t &&
                  r.id == t.id &&
                  r.type == t.type &&
                  (!t.visibility_index ||
                    !r.visibility_index ||
                    r.visibility_index == t.visibility_index)
                )
                  return !0;
              }
              return !1;
            }),
            (t.prototype.render = function () {
              var e = this.props.capsule;
              if (!e)
                return r.createElement(
                  "div",
                  null,
                  Object(c.f)("#EventEditor_InvalidCapsuleItem")
                );
              var t = this.DoesCapsuleConflict(),
                n = Object(p.b)(e),
                a = n.appData,
                i = n.linkURL,
                l = n.bInvalidID,
                m = Object(c.f)("#AppType_" + e.type);
              return r.createElement(
                o.k,
                { className: s.a.FlexCenter, url: i },
                a
                  ? r.createElement("img", {
                      loading: "lazy",
                      className: u.SaleCapsuleImg,
                      src: a.header_image_url,
                    })
                  : null,
                a ? a.name : null,
                " (",
                a ? a.appid || a.bundleid || a.packageid : e.id,
                ") ",
                r.createElement(
                  "span",
                  { className: u.SmallText },
                  "(",
                  m,
                  ")"
                ),
                l &&
                  r.createElement(
                    "div",
                    { className: u.SaleCapsuleConflict },
                    Object(c.f)("#Sale_NotFoundCapsule"),
                    r.createElement(d.d, {
                      tooltip: Object(c.f)(
                        "#Sale_NotFoundCapsule_Tooltip",
                        m,
                        e.id
                      ),
                    })
                  ),
                t &&
                  r.createElement(
                    "div",
                    { className: u.SaleCapsuleConflict },
                    Object(c.f)("#Sale_DuplicateCapsule"),
                    r.createElement(d.d, {
                      tooltip: Object(c.f)("#Sale_DuplicateCapsule_Tooltip"),
                    })
                  ),
                Boolean(void 0 !== e.visibility_index) &&
                  r.createElement(
                    "span",
                    { className: u.SaleVisibilityDate },
                    Object(c.f)(
                      "#Sale_VisibilityIndex_Day",
                      e.visibility_index + 1
                    )
                  )
              );
            }),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    CtwA: function (e, t, n) {
      e.exports = { itemimg: "saleitemdefwidgeteditor_itemimg_2by5O" };
    },
    EA3E: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return C;
      }),
        n.d(t, "c", function () {
          return j;
        }),
        n.d(t, "d", function () {
          return T;
        }),
        n.d(t, "e", function () {
          return I;
        }),
        n.d(t, "b", function () {
          return D;
        });
      var a = n("mrSG"),
        i = n("1fPh"),
        r = n("fcuX"),
        o = n("t0uJ"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("EC67"),
        d = n("3+zv"),
        u = n("gBDv"),
        p = n("9w6b"),
        m = n("6oCP"),
        _ = n("vBFs"),
        g = n("fpVW"),
        E = n.n(g),
        b = n("YLyR"),
        v = n("exH9"),
        h = n("TLQK"),
        f = n("lkRc"),
        S = n("k3PP"),
        O = n("K1T0"),
        y = n.n(O);
      function C(e) {
        var t = Object(u.c)()[0];
        s.useEffect(
          function () {
            return (
              (window.onbeforeunload = function () {
                var e = o.c.GetEditModel();
                return e.BIsDirty() || t(e.GetGID())
                  ? Object(h.f)("#EventEditor_UnsavedChanges")
                  : null;
              }),
              function () {
                window.onbeforeunload = function () {};
              }
            );
          },
          [t]
        );
        return s.createElement(c.a, {
          message: function (e) {
            if (o.c.BHasEditModel()) {
              var n = o.c.GetEditModel();
              if (
                null != n &&
                null != n &&
                (n.BIsDirty() || t(n.GetGID())) &&
                (n.BHasGid() || n.GetChangeTypes() != r.c.type)
              ) {
                var a = n.GetStrVanityOrAppID();
                return (
                  e.pathname == i.a.Category(a, n.GetGID() || "") ||
                  e.pathname == i.a.Edit(a, n.GetGID() || "") ||
                  e.pathname == i.a.Preview(a, n.GetGID() || "") ||
                  e.pathname == i.a.PreviewSale(a, n.GetGID() || "") ||
                  Object(h.f)("#EventEditor_UnsavedChanges")
                );
              }
            }
            return !0;
          },
        });
      }
      var j = Object(l.a)(function (e) {
          var t = o.c.GetEditModel(),
            n = t.GetCurEditLanguage();
          return s.createElement(_.a, {
            selectedLang: n,
            fnOnLanguageChanged: function (n) {
              t.SetCurEditLanguage(n) &&
                e.OnLanguageChange &&
                e.OnLanguageChange();
            },
            fnLangHasData: t.BHasLanguage,
            fnIsLangSupported: t.BDoesSupportLanguage,
            fnLastUpdateRTime: t.LastTimeLanguageUpdate,
            realms: t.GetIncludedRealmList(),
          });
        }),
        T = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetVisibilityState(),
                n = p.a.Get().GetPartnerEventPermissions(e.GetClanSteamID()),
                a =
                  (e.BWillShowOnLibraryOverviewDueToSettings() ||
                    e.BWillShowOnLibraryDetailDueToSettings()) &&
                  Object(d.e)(e.GetEventModel());
              if (t == m.b.k_EEventStateVisible)
                return s.createElement(
                  "div",
                  {
                    className: Object(v.a)(E.a.FlexColumnContainer, "visible"),
                  },
                  s.createElement(
                    "span",
                    { className: E.a.FlexRowContainer },
                    Object(h.f)("#EventEditor_Status"),
                    ": ",
                    s.createElement(
                      "span",
                      { className: "StatusVisibleText" },
                      "  ",
                      Object(h.f)("#EventEditor_Status_Public")
                    ),
                    n &&
                      s.createElement(S.d, {
                        tooltip: Object(h.f)("#EventEditor_Status_Public_ttip"),
                      }),
                    a &&
                      s.createElement(
                        "span",
                        {
                          className: Object(v.a)(
                            y.a.PendingVisibilityText,
                            "PendingVisibilityText"
                          ),
                        },
                        "  ",
                        Object(h.f)("#EventEditor_Status_PendingModeration")
                      ),
                    n &&
                      a &&
                      s.createElement(S.d, {
                        tooltip: Object(h.f)(
                          "#EventDashBoard_ModerationQueueWarning"
                        ),
                      })
                  )
                );
              if (t == m.b.k_EEventStateStaged) {
                var i = e.GetEventVisibilityStartTime(),
                  r = i == e.GetEventStartTime();
                return s.createElement(
                  "div",
                  { className: E.a.FlexColumnContainer },
                  Object(h.f)("#EventEditor_Status") + ": ",
                  Object(h.n)(
                    r
                      ? "#EventEditor_Status_Staged_EventStart"
                      : "#EventEditor_Status_Staged",
                    s.createElement(
                      "span",
                      { className: E.a.FlexRowContainer },
                      s.createElement(b.a, { bSingleLine: !0, dateAndTime: i }),
                      s.createElement(S.d, {
                        tooltip: Object(h.f)("#EventEditor_Status_Staged_ttip"),
                      })
                    )
                  )
                );
              }
              return s.createElement(
                "div",
                { className: E.a.FlexColumnContainer },
                s.createElement(
                  "span",
                  { className: E.a.FlexRowContainer },
                  Object(h.f)("#EventEditor_Status") +
                    ": " +
                    Object(h.f)("#EventEditor_Status_Draft"),
                  s.createElement(S.d, {
                    tooltip: Object(h.f)("#EventEditor_Status_Draft_ttip"),
                  })
                )
              );
            }),
            (t = Object(a.c)([l.a], t))
          );
        })(s.Component),
        I = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              return s.createElement(
                "div",
                {
                  className: Object(v.a)(
                    E.a.FlexColumnContainer,
                    E.a.BetaContainer,
                    E.a.PartnerEventFont
                  ),
                },
                s.createElement(
                  "div",
                  { className: E.a.EventBetaTextTitle },
                  Object(h.f)("#PartnerEvent_Beta_Title")
                ),
                s.createElement("br", null),
                s.createElement(
                  "div",
                  null,
                  Object(h.n)(
                    "#PartnerEvent_Beta_Feedback",
                    s.createElement(
                      "a",
                      {
                        target: f.c.IN_CLIENT ? void 0 : "_blank",
                        href:
                          "https://steamcommunity.com/groups/steamworks/discussions/24/",
                      },
                      Object(h.f)("#PartnerEvent_Beta_SteamWorks")
                    )
                  )
                )
              );
            }),
            t
          );
        })(s.Component),
        D = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              return (
                console.warn(
                  'EventNotAvailable message:"' +
                    this.props.strErrorMsg +
                    '" code:"' +
                    this.props.errorCode +
                    '"'
                ),
                s.createElement(
                  "div",
                  { className: y.a.ErrorPage },
                  s.createElement(
                    "div",
                    { className: E.a.maintitle },
                    Object(h.f)("#EventError_Title")
                  ),
                  this.props.errorCode &&
                    s.createElement(
                      "div",
                      { className: y.a.ErrorCode },
                      " ",
                      Object(h.f)("#EventError_Code", this.props.errorCode),
                      " "
                    ),
                  this.props.strErrorMsg &&
                    s.createElement(
                      "div",
                      { className: y.a.ErrorMsg },
                      this.props.strErrorMsg
                    )
                )
              );
            }),
            t
          );
        })(s.Component);
    },
    EOKZ: function (e, t, n) {
      e.exports = {
        DisplaySectionHeaderContainer:
          "partnereventdashboard_DisplaySectionHeaderContainer_1xnIX",
        DisplaySectionHeader:
          "partnereventdashboard_DisplaySectionHeader_34f0c",
        DisplaySectionSubHeader:
          "partnereventdashboard_DisplaySectionSubHeader_23nhJ",
        DisplaySectionEmpty: "partnereventdashboard_DisplaySectionEmpty_2BmSN",
        EventDashboardDataCtn:
          "partnereventdashboard_EventDashboardDataCtn_1uPNG",
        LoadMoreEventsCtn: "partnereventdashboard_LoadMoreEventsCtn_2asU2",
        EventDashboardCtn: "partnereventdashboard_EventDashboardCtn_2WqPr",
        EventDashAdminToolsCtn:
          "partnereventdashboard_EventDashAdminToolsCtn_1OMO4",
        MainLists: "partnereventdashboard_MainLists_2Yhqn",
        ManageButton: "partnereventdashboard_ManageButton_230VZ",
        Edit: "partnereventdashboard_Edit_pvLmX",
        Delete: "partnereventdashboard_Delete_9SG7g",
        Clone: "partnereventdashboard_Clone_21_l8",
        View: "partnereventdashboard_View_3xhNU",
        Publish: "partnereventdashboard_Publish_2ewSq",
        Section: "partnereventdashboard_Section_16BNV",
        Unpublished: "partnereventdashboard_Unpublished_2MUzv",
      };
    },
    FAUN: function (e, t, n) {
      e.exports = {
        PublishContainer:
          "partnereventpublishingcontrols_PublishContainer_2tCY6",
      };
    },
    GOhU: function (e, t, n) {
      e.exports = {
        ToolContainer: "partnereventdescriptiontab_ToolContainer_1YUip",
        LanguageControlsCtn:
          "partnereventdescriptiontab_LanguageControlsCtn_14o5K",
        DescEditorPadding: "partnereventdescriptiontab_DescEditorPadding_3mLVV",
        ImagePickerCtn: "partnereventdescriptiontab_ImagePickerCtn_Mc28x",
      };
    },
    IASz: function (e, t, n) {
      e.exports = {
        Heading: "managefriends_Heading_3kTQI",
        Body: "managefriends_Body_2s393",
        HeaderBlock: "managefriends_HeaderBlock_X9bYN",
        Background: "managefriends_Background_1xwi0",
        DimBackground: "managefriends_DimBackground_2N55H",
        Input: "managefriends_Input_1BUty",
        CopyContainer: "managefriends_CopyContainer_1HjkZ",
        Text: "managefriends_Text_1ehqR",
        Link: "managefriends_Link_18Sc0",
        Button: "managefriends_Button_2772E",
        ProfileCard: "managefriends_ProfileCard_28a_C",
        UserContainer: "managefriends_UserContainer_29w-2",
        Image: "managefriends_Image_1n4lD",
        ProfileContent: "managefriends_ProfileContent_1qz9x",
        ProfileLink: "managefriends_ProfileLink_1tEt0",
        Failure: "managefriends_Failure_UoMCo",
        Success: "managefriends_Success_zNkyw",
      };
    },
    IMce: function (e, t, n) {
      e.exports = {
        FilterDisplayCtn: "partnereventsaletagitems_FilterDisplayCtn_3y3Xg",
        FilterTitle: "partnereventsaletagitems_FilterTitle_24W_L",
        FilterDisplayNoFilter:
          "partnereventsaletagitems_FilterDisplayNoFilter_1rdbp",
        FilterActionsCtn: "partnereventsaletagitems_FilterActionsCtn_2C1SZ",
        FilterSettingRightCol:
          "partnereventsaletagitems_FilterSettingRightCol_3Nq-P",
        FilterDisplayList: "partnereventsaletagitems_FilterDisplayList_2z8dM",
        ClauseRowCtn: "partnereventsaletagitems_ClauseRowCtn_14Xr-",
        MustHaveClause: "partnereventsaletagitems_MustHaveClause_1DnHX",
        MustNotHaveClause: "partnereventsaletagitems_MustNotHaveClause_2jCYC",
        TagItemCtn: "partnereventsaletagitems_TagItemCtn_m0Krj",
        TagItemImageCtn: "partnereventsaletagitems_TagItemImageCtn_gmw1A",
        NameAndTagCtn: "partnereventsaletagitems_NameAndTagCtn_3iqFC",
        NameCtn: "partnereventsaletagitems_NameCtn_2tE2h",
        TagSummaryCtn: "partnereventsaletagitems_TagSummaryCtn_2qiIu",
        TagSummary: "partnereventsaletagitems_TagSummary_Srtyk",
        TagShowToggle: "partnereventsaletagitems_TagShowToggle_2znRW",
        TagListCtn: "partnereventsaletagitems_TagListCtn_1QkXs",
        ItemTag: "partnereventsaletagitems_ItemTag_zTys5",
        TagHighlight: "partnereventsaletagitems_TagHighlight_3t7O7",
        TagMustHave: "partnereventsaletagitems_TagMustHave_1TwOa",
        TagMustNotHave: "partnereventsaletagitems_TagMustNotHave_209Gu",
        TagMissingMustHave: "partnereventsaletagitems_TagMissingMustHave_1fV9c",
        TagItemEditorCtn: "partnereventsaletagitems_TagItemEditorCtn_BCZuV",
        ItemListTitle: "partnereventsaletagitems_ItemListTitle_1Qb2C",
        ItemListControls: "partnereventsaletagitems_ItemListControls_3d5Ah",
        ButtonRow: "partnereventsaletagitems_ButtonRow_jzDFC",
        EditTagsTitle: "partnereventsaletagitems_EditTagsTitle_lZkG5",
        EditTagsTitleText: "partnereventsaletagitems_EditTagsTitleText_2ydMd",
        EditTagsBody: "partnereventsaletagitems_EditTagsBody_1GXBp",
        ColumnList: "partnereventsaletagitems_ColumnList_2K3OM",
        TagColumn: "partnereventsaletagitems_TagColumn_qG9e1",
        SmallColumn: "partnereventsaletagitems_SmallColumn_3sDs-",
        TagColumnList: "partnereventsaletagitems_TagColumnList_1CmFb",
        FillColumn: "partnereventsaletagitems_FillColumn_Goo9R",
        TagColumnTitle: "partnereventsaletagitems_TagColumnTitle_16Usf",
        PopulateByFilter: "partnereventsaletagitems_PopulateByFilter_ECCkN",
        EditTag: "partnereventsaletagitems_EditTag_10HeQ",
        AppliedTag: "partnereventsaletagitems_AppliedTag_2hdwo",
        OtherTag: "partnereventsaletagitems_OtherTag_3XSu2",
        DefaultTag: "partnereventsaletagitems_DefaultTag_1DR0t",
        SectionRemoved: "partnereventsaletagitems_SectionRemoved_3r5Sr",
        SectionAdded: "partnereventsaletagitems_SectionAdded_3RbJU",
        SectionUnchanged: "partnereventsaletagitems_SectionUnchanged_262k4",
        OKButton: "partnereventsaletagitems_OKButton_2vnfP",
        AddTagCtn: "partnereventsaletagitems_AddTagCtn_1hCAC",
        EditFitlerCtn: "partnereventsaletagitems_EditFitlerCtn_3OUM2",
        HideTagBreakdown: "partnereventsaletagitems_HideTagBreakdown_3yvRa",
        TagBreakdownCtn: "partnereventsaletagitems_TagBreakdownCtn_3YQ9j",
        TopSection: "partnereventsaletagitems_TopSection_1jYl9",
        TopTabs: "partnereventsaletagitems_TopTabs_FWpoZ",
        TagSelector: "partnereventsaletagitems_TagSelector_2_RKa",
        SectionTab: "partnereventsaletagitems_SectionTab_1-1pA",
        TabActive: "partnereventsaletagitems_TabActive_3GdyE",
        ShowTagBreakdown: "partnereventsaletagitems_ShowTagBreakdown_2lsxI",
        SectionTitle: "partnereventsaletagitems_SectionTitle_31ngR",
        MatchingItemsCtn: "partnereventsaletagitems_MatchingItemsCtn_20hem",
        ItemList: "partnereventsaletagitems_ItemList_pbaI3",
        TagBreakdownList: "partnereventsaletagitems_TagBreakdownList_306uE",
        SelectTag: "partnereventsaletagitems_SelectTag_Mbvwl",
        TagBreakdownEntry: "partnereventsaletagitems_TagBreakdownEntry_3FcaB",
        Selected: "partnereventsaletagitems_Selected_1dbZr",
        PercentageBarFill: "partnereventsaletagitems_PercentageBarFill_2RtUr",
        TextStats: "partnereventsaletagitems_TextStats_1uh33",
        TagName: "partnereventsaletagitems_TagName_2_TkE",
        TagUses: "partnereventsaletagitems_TagUses_13lRd",
        PercentageBar: "partnereventsaletagitems_PercentageBar_3j-lq",
        FilterControlsCtn: "partnereventsaletagitems_FilterControlsCtn_21IKJ",
        FilterControlBox: "partnereventsaletagitems_FilterControlBox_30c0H",
        OrLabel: "partnereventsaletagitems_OrLabel_nLRaJ",
        AndLabel: "partnereventsaletagitems_AndLabel_1HdmS",
        TagDropDown: "partnereventsaletagitems_TagDropDown_16GWP",
        ClauseTypeDropDown: "partnereventsaletagitems_ClauseTypeDropDown_3C61-",
        FirstClause: "partnereventsaletagitems_FirstClause_2U-HG",
        ClauseTagList: "partnereventsaletagitems_ClauseTagList_2Yv3H",
        OptInInputTitle: "partnereventsaletagitems_OptInInputTitle_1gDie",
        EditRawTextArea: "partnereventsaletagitems_EditRawTextArea_1HSN_",
        EditAutoTagsBody: "partnereventsaletagitems_EditAutoTagsBody_e8374",
        AutoTagList: "partnereventsaletagitems_AutoTagList_1EmxH",
        AutoTag: "partnereventsaletagitems_AutoTag_2gCmA",
        AutoTagRow: "partnereventsaletagitems_AutoTagRow_2o3nc",
      };
    },
    "IY+y": function (e, t, n) {
      "use strict";
      n.r(t);
      var a = n("mrSG"),
        i = (n("jZUi"), n("M1X1"), n("Y9L4"), n("xnZ7")),
        r = n.n(i),
        o = (n("idvb"), n("1fPh")),
        l = n("t0uJ"),
        s = n("Ww0A"),
        c = n("q1tI"),
        d = n.n(c),
        u = n("ir+G"),
        p = n("OS6B"),
        m = n("lkRc"),
        _ = n("0OaU"),
        g = n("kLLr"),
        E = n("EA3E"),
        b = n("U+Q5"),
        v = n("9w6b"),
        h = n("TQGK"),
        f = n("TLQK"),
        S = function (e) {
          return (function (t) {
            function n() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.state = { bLoading: !0, bIsError: !1 }), e;
            }
            return (
              Object(a.d)(n, t),
              (n.prototype.Load = function () {
                return Object(a.b)(this, void 0, void 0, function () {
                  var e, t, n, i;
                  return Object(a.e)(this, function (r) {
                    switch (r.label) {
                      case 0:
                        (e = m.b.APPID),
                          (t = new g.a(m.b.CLANSTEAMID)),
                          (r.label = 1);
                      case 1:
                        return (
                          r.trys.push([1, 3, , 4]),
                          [
                            4,
                            Promise.all([
                              u.a.EnsureStoreCapsuleInfoLoaded(e),
                              h.a.LoadClanInfoForClanSteamID(t),
                              l.c.LoadEditorModel(
                                t,
                                this.props.match.params.gid
                              ),
                              v.a.Get().LoadSingleAppEventPermissions(t),
                              m.b.CAN_UPLOAD_IMAGES &&
                                b.d.LoadClanImages(t, !1, null),
                            ]),
                          ]
                        );
                      case 2:
                        return (
                          r.sent(),
                          (n = v.a.Get().GetPartnerEventPermissions(t))
                            .can_edit || n.owns_app
                            ? this.setState({ bLoading: !1, bIsError: !1 })
                            : this.setState({
                                bLoading: !1,
                                bIsError: !1,
                                strErrorMsg: Object(f.f)(
                                  "#EventError_PermissionDenied"
                                ),
                              }),
                          [3, 4]
                        );
                      case 3:
                        return (
                          (i = r.sent()),
                          this.setState(
                            Object(a.a)({ bLoading: !1 }, Object(p.a)(i))
                          ),
                          [3, 4]
                        );
                      case 4:
                        return [2];
                    }
                  });
                });
              }),
              (n.prototype.componentDidMount = function () {
                this.Load();
              }),
              (n.prototype.componentDidUpdate = function (e) {
                e.match.params.gid != this.props.match.params.gid &&
                  this.Load();
              }),
              (n.prototype.render = function () {
                var t = this.state,
                  n = t.bLoading,
                  i = t.bIsError,
                  o = t.strErrorMsg,
                  l = t.errorCode;
                return n
                  ? c.createElement(
                      "div",
                      { className: r.a.FlexCenter },
                      c.createElement(_.a, null)
                    )
                  : i
                  ? c.createElement(E.b, {
                      strErrorMsg: o,
                      errorCode: l,
                      appid_or_vanity_str: this.props.match.params
                        .appid_or_vanity_str,
                    })
                  : c.createElement(e, Object(a.a)({}, this.props));
              }),
              n
            );
          })(c.Component);
        },
        O = n("vDqi"),
        y = n.n(O),
        C = (function () {
          function e() {
            (this.m_rgRecords = new Array()),
              (this.m_mapEventToRecord = new Map()),
              (this.m_mapTagsToRecords = new Map()),
              (this.m_bLoadComplete = !1);
          }
          return (
            (e.prototype.GetAllRecords = function () {
              return this.m_rgRecords;
            }),
            (e.prototype.GetPublishClanEventGIDRecord = function (e) {
              return this.m_mapEventToRecord.get(e);
            }),
            (e.prototype.GetRecordsForTag = function (e) {
              return this.m_mapTagsToRecords.get(e) || [];
            }),
            (e.prototype.BHasLoadCompleted = function () {
              return this.m_bLoadComplete;
            }),
            (e.prototype.LoadAuditRecords = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return (
                        this.m_loadingPromise ||
                          (this.m_loadingPromise = this.InternalLoadAuditRecords(
                            e
                          )),
                        [4, this.m_loadingPromise]
                      );
                    case 1:
                      return [2, t.sent()];
                  }
                });
              });
            }),
            (e.prototype.InternalLoadAuditRecords = function (e) {
              var t, n;
              return Object(a.b)(this, void 0, void 0, function () {
                var i,
                  r,
                  o,
                  l,
                  s,
                  c = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (i =
                          m.c.COMMUNITY_BASE_URL +
                          "gid/" +
                          e.ConvertTo64BitString() +
                          "/ajaxgeteventpublishaudit"),
                        (r = { count: 1e3 }),
                        [4, y.a.get(i, { params: r, withCredentials: !0 })]
                      );
                    case 1:
                      return (
                        (o = a.sent()),
                        (this.m_bLoadComplete = !0),
                        200 == (null == o ? void 0 : o.status) &&
                        1 ==
                          (null === (t = null == o ? void 0 : o.data) ||
                          void 0 === t
                            ? void 0
                            : t.success) &&
                        (null === (n = null == o ? void 0 : o.data) ||
                        void 0 === n
                          ? void 0
                          : n.data)
                          ? (o.data.data.forEach(function (e) {
                              var t;
                              c.m_rgRecords.push(e),
                                c.m_mapEventToRecord.set(e.clan_event_gid, e),
                                null === (t = e.tags) ||
                                  void 0 === t ||
                                  t.forEach(function (t) {
                                    c.m_mapTagsToRecords.has(t) ||
                                      c.m_mapTagsToRecords.set(t, []),
                                      c.m_mapTagsToRecords.get(t).push(e);
                                  });
                            }),
                            [2, this.m_rgRecords])
                          : [3, 3]
                      );
                    case 2:
                      return (
                        (l = a.sent()),
                        (s = Object(p.a)(l)),
                        console.error(
                          "CPartnerEventPublishAuditStores.LoadAuditRecords: failed with " +
                            s.strErrorMsg,
                          s
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2, []];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.g_DynamicRevealStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            e
          );
        })();
      function j(e, t) {
        var n = d.a.useState(!C.Get().BHasLoadCompleted()),
          a = n[0],
          i = n[1];
        return (
          d.a.useEffect(
            function () {
              if (!C.Get().BHasLoadCompleted()) {
                var t = g.a.InitFromClanID(e);
                C.Get()
                  .LoadAuditRecords(t)
                  .finally(function () {
                    return i(!1);
                  });
              }
            },
            [e]
          ),
          a ? void 0 : C.Get().GetRecordsForTag(t)
        );
      }
      var T = n("fcuX"),
        I = n("TyAF"),
        D = n("3+zv"),
        w = n("5izx"),
        G = n("2vnA"),
        A = (function () {
          function e() {
            var e = this;
            (this.m_optInData = new Map()),
              (this.m_optInDefDetails = new Map()),
              (window.g_optInStore = this);
            var t = Object(m.g)("appoptininfo", "application_config");
            this.ValidateStoreDefault(t)
              ? (("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                  console.log(
                    "DEV_DEBUG: COptInPartnerAppStore loading optin payload: " +
                      t.length,
                    t
                  ),
                t.forEach(function (t) {
                  t.opt_in = Boolean(t.opt_in);
                  var n = e.m_optInData.get(t.appid);
                  n ? n.push(t) : e.m_optInData.set(t.appid, [t]);
                }))
              : console.error("Failed to load opt in information", t);
            var n = Object(m.g)("optindefspecialevents", "application_config");
            this.ValidateOptInDefinition(n) &&
              (("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                console.log(
                  "DEV_DEBUG: COptInPartnerAppStore loading optin definition payload: " +
                    n.length,
                  n
                ),
              n.forEach(function (t) {
                return e.m_optInDefDetails.set(t.optInName, t);
              }));
          }
          return (
            (e.prototype.BHasOptInSpecialEvents = function () {
              return this.m_optInDefDetails.size > 0;
            }),
            (e.prototype.GetAllSpecialEvents = function () {
              return Array.from(this.m_optInDefDetails.values());
            }),
            (e.prototype.GetAllSpecialEventTags = function () {
              return Array.from(this.m_optInDefDetails.values()).map(function (
                e
              ) {
                return e.tag;
              });
            }),
            (e.prototype.GetOptInForApp = function (e, t) {
              var n = this.m_optInData.get(e),
                a = null;
              if (n)
                for (var i = 0, r = n; i < r.length; i++) {
                  var o = r[i];
                  if (o.opt_in_name === t) {
                    a = o;
                    break;
                  }
                }
              return a;
            }),
            (e.Get = function () {
              return (
                e.s_OptInStore ||
                  ((e.s_OptInStore = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.f_OptInStore = e.s_OptInStore)),
                e.s_OptInStore
              );
            }),
            (e.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return t &&
                Array.isArray(t) &&
                t.length > 0 &&
                "object" == typeof t[0]
                ? "number" == typeof t[0].appid &&
                    ("boolean" == typeof t[0].opt_in ||
                      "number" == typeof t[0].opt_in) &&
                    "string" == typeof t[0].opt_in_name
                : t && Array.isArray(t) && 0 == t.length;
            }),
            (e.prototype.ValidateOptInDefinition = function (e) {
              var t = e;
              return (
                !!(
                  t &&
                  Array.isArray(t) &&
                  t.length > 0 &&
                  "object" == typeof t[0]
                ) &&
                "number" == typeof t[0].type &&
                "string" == typeof t[0].tag &&
                "string" == typeof t[0].optInName
              );
            }),
            Object(a.c)([G.C], e.prototype, "m_optInData", void 0),
            Object(a.c)([G.C], e.prototype, "m_optInDefDetails", void 0),
            e
          );
        })(),
        M = A;
      var k = n("fpVW"),
        L = n.n(k),
        N = n("exH9"),
        B = n("N0Ye"),
        R = n("opsS"),
        F = n("hvYe"),
        P = n.n(F),
        x = n("w7rs"),
        U = n.n(x),
        H = n("as1E"),
        V = n.n(H);
      function z(e, t, n) {
        if (e.GetCategoryAsType() == t) {
          var i = M.Get().BHasOptInSpecialEvents()
              ? Object(a.g)(D.p, M.Get().GetAllSpecialEventTags())
              : D.p,
            r = new Set(n || []);
          return i.every(function (t) {
            return e.BHasTag(t) == r.has(t);
          });
        }
        return !1;
      }
      function W(e) {
        var t = l.c.GetEditModel();
        t.setEventType(e.type),
          t.ClearTags(D.p),
          M.Get().BHasOptInSpecialEvents() &&
            t.ClearTags(
              M.Get()
                .GetAllSpecialEvents()
                .map(function (e) {
                  return e.tag;
                })
            ),
          e.tags &&
            e.tags.forEach(function (e) {
              return t.ToggleTag(e);
            });
        var n = w.a.GetTimeNowWithOverride();
        e.earliestAllowedStartTime
          ? (t.SetEarliestAllowedStartTime(e.earliestAllowedStartTime),
            e.earliestAllowedStartTime > n &&
              (t.SetStartTimeEditChoice(T.d.k_ESpecified),
              t.SetEventStartTime(e.earliestAllowedStartTime)))
          : t.SetEarliestAllowedStartTime(void 0),
          t.SetSteamAwardNomineeVoteIDs(e.steam_award_category_voteids),
          t.SetLatestAllowedEndTime(e.latestAllowedEndTime),
          t.SetActionEndTime(e.actionEndTime);
      }
      var q = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_refSelectedCategory = c.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.m_refSelectedCategory &&
                this.m_refSelectedCategory.current &&
                l.c.GetEditModel().BHasGid() &&
                window.scrollTo(
                  0,
                  this.m_refSelectedCategory.current.offsetTop
                );
            }),
            (t.prototype.onCategoryChoice = function () {
              W(this.props), this.props.onCategoryChosen();
            }),
            (t.prototype.OnMouseEnter = function (e) {
              e.preventDefault(),
                e.stopPropagation(),
                l.c.SetCurHoverCategory(this.props.type, this.props.tags);
            }),
            (t.prototype.render = function () {
              var e = z(l.c.GetEditModel(), this.props.type, this.props.tags),
                t =
                  m.c.IMG_URL +
                  "events/types/type_" +
                  (this.props.icon ? this.props.icon : this.props.type) +
                  ".png?v=4";
              return c.createElement(
                "div",
                {
                  className: V.a.EventSubCategory,
                  onClick: this.onCategoryChoice,
                  onMouseEnter: this.OnMouseEnter,
                  ref: e ? this.m_refSelectedCategory : void 0,
                },
                c.createElement("img", {
                  className: V.a.CategoryTypeImage,
                  src: t,
                }),
                c.createElement(
                  "div",
                  { className: V.a.EventSubCategory_Ctn },
                  c.createElement(
                    "div",
                    { className: V.a.EventSubCategory_Title },
                    e &&
                      c.createElement("img", {
                        className: V.a.CategoryImage,
                        src: P.a,
                      }),
                    Object(f.f)(this.props.name)
                  ),
                  c.createElement(
                    "div",
                    { className: V.a.EventSubCategory_Desc },
                    Object(f.f)(this.props.description)
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "onCategoryChoice", null),
            Object(a.c)([R.a], t.prototype, "OnMouseEnter", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Y = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_refSelectedCategory = c.createRef()),
              (t.state = { expanded: !1 }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnLoad = function () {
              var e = this;
              if (this.props.subCategories) {
                var t = l.c.GetEditModel().GetCategoryAsType();
                this.props.subCategories.forEach(function (n) {
                  n.type == t && e.setState({ expanded: !0 });
                });
              }
              this.m_refSelectedCategory &&
                this.m_refSelectedCategory.current &&
                l.c.GetEditModel().BHasGid() &&
                window.scrollTo(
                  0,
                  this.m_refSelectedCategory.current.offsetTop
                );
            }),
            (t.prototype.componentDidMount = function () {
              this.OnLoad();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              (e.subCategoryDesc === this.props.subCategoryDesc &&
                e.subCategoryTitle === this.props.subCategoryTitle) ||
                this.OnLoad();
            }),
            (t.prototype.CreateSubCategories = function () {
              var e = [],
                t = this.props.onCategoryChosen;
              return (
                this.props.subCategories.forEach(function (n) {
                  e.push(
                    c.createElement(
                      q,
                      Object(a.a)({ key: n.name }, n, { onCategoryChosen: t })
                    )
                  );
                }),
                e
              );
            }),
            (t.prototype.OnMouseEnter = function (e) {
              e.preventDefault(),
                e.stopPropagation(),
                l.c.SetCurHoverCategory(this.props.type, this.props.tags);
            }),
            (t.prototype.ToggleExpand = function () {
              this.props.subCategories
                ? this.setState({ expanded: !this.state.expanded })
                : this.props.type &&
                  (W(this.props), this.props.onCategoryChosen());
            }),
            (t.prototype.render = function () {
              var e,
                t = z(l.c.GetEditModel(), this.props.type, this.props.tags),
                n = this.props.bIsValveOnly,
                a =
                  void 0 === this.props.subCategories ||
                  0 == this.props.subCategories.length,
                i =
                  m.c.IMG_URL +
                  "events/types/type_" +
                  (this.props.icon ? this.props.icon : this.props.type) +
                  ".png?v=4";
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    ((e = {}),
                    (e[V.a.EventCategory] = !0),
                    (e.EventCategory = !0),
                    (e[V.a.EventCategoryExpanded] = this.state.expanded),
                    (e[V.a.EventCategoryNotExpandable] = a),
                    (e[L.a.ValveOnlyBackground] = n),
                    e)
                  ),
                  onClick: this.ToggleExpand,
                  ref: t ? this.m_refSelectedCategory : void 0,
                  onMouseEnter: this.OnMouseEnter,
                },
                this.props.subCategories
                  ? (this.state.expanded,
                    c.createElement("img", {
                      className: V.a.EventCategory_Expander,
                      src: U.a,
                    }))
                  : null,
                c.createElement(
                  "div",
                  { className: V.a.EventCategory_HeaderCtn },
                  c.createElement("img", {
                    className: V.a.CategoryTypeImage,
                    src: i,
                  }),
                  c.createElement(
                    "div",
                    { className: V.a.CategoryTitles_Ctn },
                    c.createElement(
                      "div",
                      { className: V.a.EventCategory_Title },
                      t &&
                        c.createElement("img", {
                          className: V.a.CategoryImage,
                          src: P.a,
                        }),
                      Object(f.f)(this.props.name)
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.EventCategory_Desc },
                      Object(f.f)(this.props.description)
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: V.a.EventSubCategoriesCtn },
                  this.state.expanded &&
                    this.props.subCategoryDesc &&
                    c.createElement(
                      "div",
                      { className: V.a.EventSubCategory_Section_Desc },
                      Object(f.f)(this.props.subCategoryDesc)
                    ),
                  this.state.expanded &&
                    this.props.subCategoryTitle &&
                    c.createElement(
                      "div",
                      { className: V.a.EventSubCategory_Section_Title },
                      Object(f.f)(this.props.subCategoryTitle)
                    ),
                  this.state.expanded &&
                    this.props.subCategories &&
                    this.CreateSubCategories()
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnMouseEnter", null),
            Object(a.c)([R.a], t.prototype, "ToggleExpand", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        J = [12, 20, 21, 31, 34, 16, 15],
        Q = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.BuildSummary = function () {
              var e = new Array(),
                t = l.c.GetCurHoverCategory();
              if (t && t.type) {
                var n = Object(f.f)("#PartnerEvent_" + t.type);
                if (
                  J.some(function (e) {
                    return e == t.type;
                  })
                )
                  e.push(
                    c.createElement(
                      "span",
                      { key: "EventCategory_Visibility_GeneralWithException" },
                      Object(f.f)(
                        "#EventCategory_Visibility_GeneralWithException",
                        n
                      )
                    )
                  ),
                    12 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_SmallEventException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_SmallEventException"
                            )
                          )
                        )
                      : 34 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_CrosspostException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_CrosspostException"
                            )
                          )
                        )
                      : 16 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_UpcomingReleaseException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_UpcomingReleaseException"
                            )
                          )
                        )
                      : 20 == t.type || 31 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key: "EventCategory_Visibility_DiscountException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_DiscountException"
                            )
                          )
                        )
                      : 21 == t.type
                      ? e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_InGameDiscountException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_InGameDiscountException"
                            )
                          )
                        )
                      : e.push(
                          c.createElement(
                            "div",
                            {
                              key:
                                "EventCategory_Visibility_LibraryHomeException",
                              className: V.a.ExceptionNote,
                            },
                            Object(f.f)(
                              "#EventCategory_Visibility_LibraryHomeException"
                            )
                          )
                        );
                else if (
                  t.tags &&
                  -1 != t.tags.indexOf("steam_award_vote_request")
                ) {
                  var a = Object(f.f)("#PartnerEvent_SteamAwardVoteRequest");
                  e.push(
                    c.createElement(
                      "span",
                      { key: "EventCategory_Visibility_GeneralWithException" },
                      Object(f.f)(
                        "#EventCategory_Visibility_GeneralWithException",
                        a
                      )
                    )
                  ),
                    e.push(
                      c.createElement(
                        "div",
                        {
                          key:
                            "EventCategory_Visibility_SteamAwardsVoteRequest_Exception",
                          className: V.a.ExceptionNote,
                        },
                        Object(f.f)(
                          "#EventCategory_Visibility_SteamAwardsVoteRequest_Exception"
                        )
                      )
                    );
                } else
                  t.tags && -1 != t.tags.indexOf("curator_group_members")
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key:
                              "EventCategory_Visibility_Curator_Group_Members_Exception",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)(
                            "#EventCategory_Visibility_Curator_Group_Members"
                          )
                        )
                      )
                    : t.tags && -1 != t.tags.indexOf("curator_public")
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key:
                              "EventCategory_Visibility_Curator_Public_Exception",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)(
                            "#EventCategory_Visibility_Curator_Public"
                          )
                        )
                      )
                    : e.push(
                        c.createElement(
                          "span",
                          { key: "EventCategory_Visibility_General" },
                          Object(f.f)("#EventCategory_Visibility_General", n)
                        )
                      );
                e.push(
                  c.createElement(
                    "div",
                    {
                      key: "Exception_Docs_Link",
                      className: V.a.ExceptionDocsLink,
                    },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/marketing/event_tools/visibility",
                        target: "_blank",
                      },
                      Object(f.f)("#EventCategory_Visibility_Docs")
                    )
                  )
                );
                var i = Object(B.a)(t.type),
                  r = !Object(B.c)(t.type, t.tags),
                  o = Object(B.d)(t.type);
                (r || i || o) &&
                  (e.push(
                    c.createElement(
                      "p",
                      { key: "EventCategory_Visibility_AdditonalNotes" },
                      Object(f.f)("#EventCategory_Visibility_AdditonalNotes")
                    )
                  ),
                  i
                    ? e.push(
                        c.createElement(
                          "div",
                          {
                            key: "EventCategory_Visibility_EventEnd",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)("#EventCategory_Visibility_EventEnd")
                        )
                      )
                    : r &&
                      e.push(
                        c.createElement(
                          "div",
                          {
                            key: "EventCategory_Visibility_NoCapsule",
                            className: V.a.ExceptionNote,
                          },
                          Object(f.f)("#EventCategory_Visibility_NoCapsule")
                        )
                      ),
                  o &&
                    e.push(
                      c.createElement(
                        "div",
                        {
                          key: "EventCategory_Visibility_SpotlightRecommended",
                          className: V.a.ExceptionNote,
                        },
                        Object(f.f)(
                          "#EventCategory_Visibility_SpotlightRecommended"
                        )
                      )
                    ));
              } else
                e.push(
                  c.createElement(
                    "span",
                    { key: "EventCategory_Visibility_PlaceHolder" },
                    Object(f.f)("#EventCategory_Visibility_PlaceHolder")
                  )
                );
              return e;
            }),
            (t.prototype.render = function () {
              var e = this.BuildSummary();
              return c.createElement(
                "div",
                { className: V.a.EventCategoryRightCol },
                c.createElement(
                  "div",
                  { className: V.a.EventCategoryVisibilityCtn },
                  c.createElement(
                    "div",
                    { className: V.a.EventVisibility_Title },
                    Object(f.f)("#EventReach_Title")
                  ),
                  e
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Z = n("wd/R"),
        K = n.n(Z),
        X = n("kyHq"),
        $ = n("qP7j"),
        ee = n.n($),
        te = n("PqGv"),
        ne = function (e) {
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(le, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ae, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ie, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(oe, { fnOnCategoryChosen: e.fnOnCategoryChosen }),
            c.createElement(ce, { fnOnCategoryChosen: e.fnOnCategoryChosen })
          );
        },
        ae = function (e) {
          var t = K()("2021-09-10T10:00:00-07:00").unix(),
            n =
              (K()("2021-10-28T10:00:00-07:00").unix(),
              K()("2021-11-01T10:00:00-07:00").unix()),
            i = K()("2021-11-21T10:00:00-08:00").unix(),
            r = l.c.GetEditModel(),
            o = w.a.GetTimeNowWithOverride();
          if (!r || !r.BIsAppReleased() || o < t || o > n) return null;
          var d = {
            name: "dummy",
            description: "dummy",
            tags: ["halloween"],
            earliestAllowedStartTime: t,
            latestAllowedEndTime: i,
            actionEndTime: i,
            onCategoryChosen: e.fnOnCategoryChosen,
          };
          return c.createElement(
            "div",
            { className: Object(N.a)(te.Halloween) },
            c.createElement(
              "div",
              { className: Object(N.a)(te.EventTitle) },
              Object(f.f)("#EventEditor_Category_Halloween")
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(te.EventDesc) },
              Object(f.n)(
                "#EventEditor_Category_Halloween_Desc",
                c.createElement(
                  "a",
                  {
                    href:
                      "https://partner.steamgames.com/doc/marketing/event_tools/halloween",
                    target: "_blank",
                  },
                  Object(f.f)("#EventEditor_Category_Halloween_Docs")
                )
              )
            ),
            c.createElement(
              Y,
              Object(a.a)({}, d, {
                name: "#EventEditor_Category_DLC_Halloween",
                description: "#EventEditor_Category_DLC_Halloween_Desc",
                icon: "promo_02",
                type: 15,
              })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, d, {
                name: "#EventCategory_InGame",
                description: "#EventCategory_InGame_Desc",
                subCategoryDesc: "#EventEditor_Category_InGame_Halloween_Desc",
                icon: "halloween_35",
                subCategories: [
                  Object(a.a)(Object(a.a)({}, d), s.b.bonusxp),
                  Object(a.a)(Object(a.a)({}, d), s.b.loot),
                  Object(a.a)(Object(a.a)({}, d), s.b.perks),
                  Object(a.a)(Object(a.a)(Object(a.a)({}, d), s.b.general), {
                    description: "#PartnerEvent_halloween_35_Desc",
                    icon: "halloween_35",
                  }),
                ],
              })
            )
          );
        },
        ie = function (e) {
          var t = l.c.GetEditModel(),
            n = K()("2020-11-18T10:00:00-08:00").unix(),
            a = K()("2020-11-25T10:00:00-08:00").unix(),
            i = K()("2020-12-01T10:00:00-08:00").unix();
          switch (t.GetAppID()) {
            case 230410:
            case 271590:
              return null;
          }
          var r = w.a.GetTimeNowWithOverride();
          return !t || !t.BIsAppReleased() || r < n || r > i
            ? null
            : c.createElement(
                "div",
                { className: te.EventCategory_SteamAwardsNomination },
                c.createElement(Y, {
                  name: "#EventCategory_SteamAwardsNomination",
                  description: "#EventCategory_SteamAwardsNomination_Desc",
                  icon: "promo_01",
                  onCategoryChosen: e.fnOnCategoryChosen,
                  type: 28,
                  tags: [
                    "steam_award_nomination_request",
                    "mod_hide_library_overview",
                  ],
                  earliestAllowedStartTime: a,
                  latestAllowedEndTime: i,
                  actionEndTime: i,
                })
              );
        },
        re = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = l.c.GetEditModel(),
                t = e.GetAppReleaseDate(),
                n = K()("2019-12-03T10:00:00-08:00").unix(),
                a = t && t > n,
                i = (a
                  ? [0, 50, 51, 52, 56, 57, 53, 55, 58, 54, 59]
                  : [0, 52]
                ).map(function (t) {
                  var n = "EventEditor_SteamAwardCategory_" + t;
                  return c.createElement(
                    "div",
                    {
                      key: n,
                      className: Object(N.a)(
                        L.a.FlexRowContainer,
                        L.a.RadioOption
                      ),
                    },
                    c.createElement("input", {
                      type: "radio",
                      name: "SteamAwardCategoryRadioButtons",
                      id: n,
                      value: t,
                      checked: e.GetSteamAwardCategory() == t,
                      onChange: function () {
                        return e.SetSteamAwardCategory(t);
                      },
                    }),
                    c.createElement(
                      "label",
                      { htmlFor: n, className: te.CategoryOption },
                      c.createElement(
                        "span",
                        { className: te.CategoryTitle },
                        Object(f.f)("#promo_steamawards2020_cat" + t)
                      ),
                      c.createElement(
                        "span",
                        null,
                        " - ",
                        Object(f.f)("#promo_steamawards2020_cat" + t + "_desc"),
                        " "
                      )
                    )
                  );
                });
              return c.createElement(
                "div",
                { className: te.SteamAwardCategoryPicker },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)(
                    "#EventEditor_Options_SteamAwardNominations_Title"
                  ),
                  c.createElement(
                    "span",
                    { className: V.a.RequiredFieldLabel },
                    Object(f.f)("#EventEditor_Required")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      te.SteamAwardCategoryOptions,
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: te.event_nomination_banner_ctn },
                    c.createElement("img", {
                      className: te.event_nomination_banner,
                      src:
                        m.c.MEDIA_CDN_URL +
                        "store/promo/autumn2020/event_nomination_banner_2020.png?v=2",
                    }),
                    c.createElement(
                      "div",
                      { className: te.event_nomination_banner_text },
                      a
                        ? Object(f.f)(
                            "#EventEditor_Options_SteamAwardNominations_Description"
                          )
                        : Object(f.f)(
                            "#EventEditor_Options_SteamAwardNominations_OldGame_Description",
                            "2020",
                            Object(f.k)(n)
                          )
                    )
                  ),
                  c.createElement("div", {
                    className: L.a.EventEditorTextSubTitle,
                  }),
                  i
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        oe = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            n = t.GetAppID(),
            a = K()("2020-12-22T10:00:00-08:00").unix(),
            i = K()("2021-01-03T09:00:00-08:00").unix(),
            r = w.a.GetTimeNowWithOverride();
          if (!t || !t.BIsAppReleased() || r > i) return null;
          if (!l.c.GetSteamAwardVoteDefinitionForApp(n)) return null;
          var o = [];
          return (
            l.c.GetSteamAwardVoteDefinitionForApp(n).forEach(function (e) {
              o.push(e.voteid);
            }),
            c.createElement(
              "div",
              { className: te.EventCategory_SteamAwardsNomination },
              c.createElement(Y, {
                name: "#EventCategory_SteamAwardsVoteRequest",
                description: "#EventCategory_SteamAwardsVoteRequest_Desc",
                icon: "promo_01",
                onCategoryChosen: e.fnOnCategoryChosen,
                steam_award_category_voteids: o,
                type: 28,
                tags: ["steam_award_vote_request", "mod_hide_library_overview"],
                earliestAllowedStartTime: a,
                latestAllowedEndTime: i,
                actionEndTime: i,
              })
            )
          );
        }),
        le = function (e) {
          var t = e.fnOnCategoryChosen,
            n = l.c.GetEditModel(),
            a = Object(h.b)(n.GetClanSteamID().GetAccountID()),
            i = (a[0], a[1]);
          return w.a.GetTimeNowWithOverride() < s.e &&
            ((null == i ? void 0 : i.is_ogg) ||
              (!(null == i ? void 0 : i.is_ogg) && m.i.is_support)) &&
            m.c.EREALM != X.f.k_ESteamRealmChina
            ? c.createElement(se, { fnOnCategoryChosen: t })
            : null;
        },
        se = function (e) {
          var t = l.c.GetEditModel(),
            n = t.GetAppID(),
            i = (function (e, t) {
              var n = d.a.useState(!1),
                a = n[0];
              return (
                n[1], 0 == e ? [!1, null] : [a, A.Get().GetOptInForApp(e, t)]
              );
            })(n, "sale_nextfest_oct_2021"),
            r = (i[0], i[1]),
            o = j(
              t.GetClanSteamID().GetAccountID(),
              "steam_game_festival_broadcast"
            ),
            u = Object(l.d)(t.GetClanAccountID());
          if ((null == r ? void 0 : r.opt_in) || 0 == n) {
            if (null == o || null == u)
              return c.createElement(_.a, {
                string: Object(f.f)("Loading"),
                size: "medium",
                position: "center",
              });
            var p = u.filter(function (e) {
                return e.BHasTag("steam_game_festival_broadcast");
              }).length,
              g = l.c.GetEditModel(),
              E = g.BHasTag("steam_game_festival_broadcast"),
              b = o.find(function (e) {
                return e.clan_event_gid == g.GetGID();
              }),
              v = !b && o.length + p >= 2 && !E,
              h = !b && g.GetGID() && g.BPublished() && !E;
            return h && !m.i.is_support
              ? c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.f)("#EventCategory_SteamGameFestival_Published")
                    )
                  )
                )
              : v && !m.i.is_support
              ? c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.l)("#EventCategory_SteamGameFestival_Max", 2)
                    )
                  )
                )
              : c.createElement(
                  "div",
                  { className: V.a.EventCategory_SpecialCategory },
                  c.createElement(
                    "div",
                    { className: V.a.TitleCtn },
                    c.createElement(
                      "div",
                      { className: V.a.Title },
                      Object(f.f)("#EventCategory_SteamGameFestival_Title")
                    ),
                    c.createElement(
                      "div",
                      { className: V.a.Summary },
                      Object(f.f)("#EventCategory_SteamGameFestival_Summary")
                    ),
                    Boolean(v && m.i.is_support) &&
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            $.WarningStylesWithIcon,
                            V.a.WarningCtn
                          ),
                        },
                        Object(f.l)("#EventCategory_SteamGameFestival_Max", 2),
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)(
                            "#EventCategory_SteamGameFestival_MaxByPass"
                          )
                        )
                      ),
                    Boolean(h && m.i.is_support) &&
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            $.WarningStylesWithIcon,
                            V.a.WarningCtn
                          ),
                        },
                        Object(f.f)(
                          "#EventCategory_SteamGameFestival_Published",
                          2
                        ),
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)(
                            "#EventCategory_SteamGameFestival_PublishedByPass"
                          )
                        )
                      ),
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://partner.steamgames.com/doc/marketing/steamnextfest/2021oct",
                        target: "_blank",
                        className: Object(N.a)(L.a.Button, te.Link),
                      },
                      Object(f.f)("#EventCategory_SteamGameFestival_Link")
                    )
                  ),
                  c.createElement(
                    Y,
                    Object(a.a)({}, s.c.broadcast, {
                      onCategoryChosen: e.fnOnCategoryChosen,
                    })
                  )
                );
          }
          return null;
        },
        ce = function (e) {
          return M.Get().BHasOptInSpecialEvents()
            ? c.createElement(
                c.Fragment,
                null,
                M.Get()
                  .GetAllSpecialEvents()
                  .map(function (t) {
                    return c.createElement(de, {
                      key: t.optInName,
                      fnOnCategoryChosen: e.fnOnCategoryChosen,
                      specialEventInfo: t,
                    });
                  })
              )
            : null;
        },
        de = function (e) {
          var t = e.fnOnCategoryChosen,
            n = e.specialEventInfo,
            a = n.localized_event_name || n.localized_optin_name;
          return (
            "dev" == m.c.WEB_UNIVERSE &&
              console.log("debug opt-in categpry type", Object(G.I)(n)),
            c.createElement(
              "div",
              { className: V.a.EventCategory_SpecialCategory },
              c.createElement(
                "div",
                { className: V.a.TitleCtn },
                c.createElement(
                  "div",
                  { className: V.a.Title },
                  Object(f.f)("#EventCategory_SpecialEvents", a)
                ),
                c.createElement(
                  "div",
                  { className: V.a.Summary },
                  Object(f.f)("#EventCategory_SpecialEvent_Summary")
                ),
                Boolean(n.event_type_max) &&
                  c.createElement(
                    "div",
                    { className: V.a.Summary },
                    Object(f.l)(
                      "#EventCategory_SpecialEvent_Max",
                      n.event_type_max
                    )
                  ),
                Boolean(n.doc_url) &&
                  c.createElement(
                    c.Fragment,
                    null,
                    c.createElement("br", null),
                    c.createElement(
                      "a",
                      {
                        href: n.doc_url,
                        target: "_blank",
                        className: Object(N.a)(L.a.Button, te.Link),
                      },
                      Object(f.f)("#EventCategory_SpecialEvent_Link", a)
                    )
                  )
              ),
              c.createElement(ue, {
                fnOnCategoryChosen: t,
                specialEventInfo: n,
              })
            )
          );
        };
      function ue(e) {
        var t = e.fnOnCategoryChosen,
          n = e.specialEventInfo,
          i = s.b.news;
        s.d.forEach(function (e) {
          var t;
          (null === (t = s.b[e]) || void 0 === t ? void 0 : t.type) == n.type &&
            (i = s.b[e]);
        });
        var r =
            (n.localized_event_name || n.localized_optin_name) +
            ": " +
            Object(f.f)(i.name),
          o = n.tag,
          d = l.c.GetEditModel(),
          u = j(d.GetClanSteamID().GetAccountID(), o),
          p = Object(l.d)(d.GetClanAccountID());
        if (null == u || null == p)
          return c.createElement(_.a, {
            string: Object(f.f)("Loading"),
            size: "medium",
            position: "center",
          });
        d.GetAppID();
        var g = d.BHasTag(o),
          E = u.find(function (e) {
            return e.clan_event_gid == d.GetGID();
          }),
          b = Boolean(n.event_type_max) ? n.event_type_max : Number.MAX_VALUE,
          v = p.filter(function (e) {
            return e.BHasTag(n.optInName);
          }).length,
          h = !E && u.length + v >= b && !g,
          S = !E && d.GetGID() && d.BPublished() && !g;
        return S && !m.i.is_support
          ? c.createElement(
              "div",
              { className: V.a.Summary },
              Object(f.f)("#EventCategory_SteamGameFestival_Published")
            )
          : h && !m.i.is_support
          ? c.createElement(
              "div",
              { className: V.a.Summary },
              Object(f.l)("#EventCategory_SteamGameFestival_Max", b)
            )
          : c.createElement(
              c.Fragment,
              null,
              Boolean(h && m.i.is_support) &&
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      $.WarningStylesWithIcon,
                      V.a.WarningCtn
                    ),
                  },
                  Object(f.l)("#EventCategory_SteamGameFestival_Max", b),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventCategory_SteamGameFestival_MaxByPass")
                  )
                ),
              Boolean(S && m.i.is_support) &&
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      $.WarningStylesWithIcon,
                      V.a.WarningCtn
                    ),
                  },
                  Object(f.f)("#EventCategory_SteamGameFestival_Published", b),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)(
                      "#EventCategory_SteamGameFestival_PublishedByPass"
                    )
                  )
                ),
              c.createElement(
                Y,
                Object(a.a)({}, i, {
                  tags: [o],
                  onCategoryChosen: t,
                  name: r,
                  description: n.localized_description || "",
                })
              )
            );
      }
      var pe = n("EC67"),
        me = n("55Ip"),
        _e = n("uIWk"),
        ge = n("IzPI"),
        Ee = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.bOn;
              return c.createElement(
                "div",
                { className: e ? k.OnIndicator : k.OffIndicator },
                Object(f.f)(e ? "#Dialog_On" : "#Dialog_Off")
              );
            }),
            t
          );
        })(c.PureComponent),
        be = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  return (
                    u.a.EnsureStoreCapsuleInfoLoaded(m.b.APPID),
                    m.b.IS_CREATOR_HOME
                      ? _e.a.LoadCreatorHome(new g.a(m.b.CLANSTEAMID), null)
                      : m.b.IS_CURATOR &&
                        m.b.VANITY_ID &&
                        h.a.LoadOGGClanInfoForIdentifier(m.b.VANITY_ID),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              var e = null,
                t = null,
                n = null;
              if (m.b.IS_CREATOR_HOME) {
                var a = _e.a.GetCreatorHome(new g.a(m.b.CLANSTEAMID));
                a &&
                  a.BIsLoaded() &&
                  ((e = Object(ge.g)(a.GetCreatorHomeURL("developer"))),
                  (t = a.GetAvatarURLFullSize()),
                  (n = a.GetName()));
              } else if (m.b.IS_CURATOR) {
                var i = h.a.GetOGGClanInfo(m.b.VANITY_ID);
                i &&
                  ((e = m.c.COMMUNITY_BASE_URL + "groups/" + m.b.VANITY_ID),
                  (t = i.avatar_full_url),
                  (n = i.group_name));
              } else {
                var r = u.a.GetStoreCapsuleInfo(m.b.APPID),
                  o = r && r.GetAppStoreData();
                o &&
                  ((e = Object(ge.g)(o.capsule_link)),
                  (t = o.tiny_capsule),
                  (n = o.title));
              }
              return t && n
                ? c.createElement(
                    "div",
                    { className: k.EventDashboardAppCtn },
                    c.createElement(
                      "div",
                      { className: k.AppTitle },
                      c.createElement(
                        "a",
                        { href: e, target: m.c.IN_CLIENT ? void 0 : "_blank" },
                        c.createElement("img", { src: t }),
                        n
                      )
                    )
                  )
                : null;
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ve = n("UvY0"),
        he = function (e) {
          var t = e.clanInfo,
            n = e.onCategoryChosen;
          if (!t) return null;
          var i = v.a.Get().GetPartnerEventPermissions(t.clanSteamID);
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              Y,
              Object(a.a)({}, s.a.news, { onCategoryChosen: n })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, s.a.public, { onCategoryChosen: n })
            ),
            Boolean(t.is_creator_home || i.valve_admin) &&
              c.createElement(
                Y,
                Object(a.a)({}, s.a.salepage, {
                  onCategoryChosen: n,
                  bIsValveOnly: !t.is_creator_home,
                })
              )
          );
        },
        fe = function (e) {
          var t = e.onCategoryChosen;
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(Y, {
              name: "#EventCategory_GameUpdate",
              description: "#EventCategory_GameUpdate_Desc",
              icon: "13",
              onCategoryChosen: t,
              subCategories: [
                s.b.small_update,
                s.b.regular_update,
                s.b.major_update,
              ],
            }),
            c.createElement(Y, {
              name: "#EventCategory_GameRelease",
              description: "#EventCategory_GameRelease_Desc",
              icon: "16",
              onCategoryChosen: t,
              subCategories: [
                s.b.release,
                s.b.future_release,
                s.b.beta_release,
                s.b.dlc_release,
                s.b.season_release,
              ],
            }),
            c.createElement(Y, {
              name: "#EventCategory_Sales",
              description: "#EventCategory_Sales_Desc",
              icon: "20",
              subCategoryDesc: "#EventCategory_Sales_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Sales_Sub_Title",
              subCategories: [s.b.sale, s.b.gameitem_sale, s.b.trial],
            }),
            c.createElement(Y, {
              name: "#EventCategory_InGame",
              description: "#EventCategory_InGame_Desc",
              icon: "35",
              subCategoryDesc: "#EventCategory_Specials_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Specials_Sub_Title",
              subCategories: [s.b.bonusxp, s.b.loot, s.b.perks, s.b.general],
            }),
            c.createElement(Y, {
              name: "#EventCategory_Challenge",
              description: "#EventCategory_Challenge_Desc",
              icon: "25",
              subCategoryDesc: "#EventCategory_Challenge_Sub_Desc",
              onCategoryChosen: t,
              subCategoryTitle: "#EventCategory_Challenge_Sub_Title",
              subCategories: [s.b.challenge, s.b.contest],
            }),
            c.createElement(
              Y,
              Object(a.a)({}, s.b.broadcast, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, s.b.news, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, s.b.chat, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, s.b.irl, { onCategoryChosen: t })
            ),
            c.createElement(
              Y,
              Object(a.a)({}, s.b.crosspost, { onCategoryChosen: t })
            )
          );
        },
        Se = Object(I.a)(function (e) {
          var t = e.editModel,
            n = Object(h.b)(t.GetClanSteamID().GetAccountID()),
            a = (n[0], n[1]),
            i = c.useState(!1),
            r = i[0],
            s = i[1];
          c.useEffect(
            function () {
              t.BHasGid() || window.scrollTo(0, 0);
            },
            [t]
          );
          var d = function () {
              return s(!0);
            },
            u = "" + t.GetStrVanityOrAppID();
          if (r) {
            var p = t.GetGID(),
              m = t.GetEventModel().bOldAnnouncement;
            return c.createElement(pe.b, {
              push: !0,
              to: m ? o.a.Migrate(u, t.GetAnnouncementGID()) : o.a.Edit(u, p),
            });
          }
          return c.createElement(
            "div",
            null,
            c.createElement(E.e, null),
            c.createElement(
              "div",
              {
                className: Object(N.a)(
                  "maincontent",
                  "pagecontent",
                  V.a.eventcategory_picker_page
                ),
              },
              c.createElement(
                "div",
                { className: L.a.EventDashboardHeader },
                c.createElement(be, {
                  identifier: e.match.params.appid_or_vanity_str,
                  partnerEventStore: l.c,
                }),
                c.createElement(
                  "div",
                  { className: L.a.EventDashboardTitles },
                  c.createElement(
                    "div",
                    { className: L.a.maintitle },
                    Object(f.f)("#EventDisplay_EventCreateTitle")
                  ),
                  c.createElement(
                    "div",
                    { className: L.a.EventDashboardActions },
                    c.createElement(
                      me.b,
                      {
                        className: Object(N.a)(L.a.Button),
                        to: o.a.Home(e.match.params.appid_or_vanity_str),
                      },
                      Object(f.f)("#EventDisplay_Events")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.subtitle },
                  Object(f.f)("#EventCategory_Communicate")
                )
              ),
              c.createElement(
                "div",
                { className: V.a.EventCategoryColumns },
                c.createElement(
                  "div",
                  { className: V.a.EventCategoryLeftCol },
                  c.createElement(
                    "div",
                    { className: V.a.EventCategory_Top_Title },
                    Object(f.f)("#EventCategory_SelectCategory")
                  ),
                  Boolean(a)
                    ? Boolean(a.is_curator || a.is_creator_home)
                      ? c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(he, {
                            clanInfo: a,
                            onCategoryChosen: d,
                          }),
                          c.createElement(
                            ve.b,
                            {
                              clanSteamID: t.GetClanSteamID(),
                              requireAdmin: !0,
                            },
                            c.createElement(ne, { fnOnCategoryChosen: d }),
                            c.createElement(fe, { onCategoryChosen: d })
                          )
                        )
                      : c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(ne, { fnOnCategoryChosen: d }),
                          c.createElement(fe, { onCategoryChosen: d })
                        )
                    : c.createElement(_.a, {
                        position: "center",
                        string: Object(f.f)("#Loading"),
                      })
                ),
                c.createElement(Q, null)
              )
            )
          );
        }),
        Oe = S(function (e) {
          return c.createElement(Se, {
            match: e.match,
            editModel: l.c.GetEditModel(),
          });
        }),
        ye = n("WFIl"),
        Ce = n("6oCP"),
        je = n("KzMr"),
        Te = n("Jqb/"),
        Ie = n("ka0M"),
        De = n("r64O"),
        we = n("EOKZ"),
        Ge = n.n(we),
        Ae = n("mgoM"),
        Me = n("Mgs7"),
        ke = n("IjL/"),
        Le = n("Z7M3"),
        Ne = n("mB/g"),
        Be = n("02Wr"),
        Re = n("YLyR"),
        Fe = n("X3Ds"),
        Pe = n("Q47U"),
        xe = n("dZOt"),
        Ue = n("yKSN"),
        He = n("5E+2"),
        Ve = n("P2lf"),
        ze = "email_headline_",
        We = "email_body_",
        qe = "sale_section_label_id_",
        Ye = "sale_section_text_id_",
        Je = "email_subject",
        Qe = "sale_tab_name_",
        Ze = "sale_facet_name_",
        Ke = "sale_facetvalue_name_",
        Xe = "sale_facetvalue_subtitle_",
        $e = "sale_reservation_bbcode_",
        et = "sale_section_desc_",
        tt = "broadcast_custom_title";
      function nt(e, t, n, a) {
        var i,
          r = new Ve.b();
        if (t)
          for (var o = 0; o < 30; ++o) {
            var l = e.GetEventModel();
            (e.BHasLanguageTitle(o) || 0 == o) &&
              r.SetLocalization("title", o, e.GetName(o)),
              (l.BHasSubTitle(o) || 0 == o) &&
                r.SetLocalization("subtitle", o, e.GetSubTitle(o)),
              (e.BHasLanguageDescription(o) || 0 == o) &&
                r.SetLocalization("body", o, e.GetDescription(o)),
              (l.BHasSummary(o) || 0 == o) &&
                r.SetLocalization("summary", o, e.GetSummary(o));
          }
        if (n && e.BHasEmailEnabled()) {
          var s = e.GetEmailSettings();
          if (m.b.IS_VALVE_GROUP) {
            var c = new xe.b(e.GetEmailSettings());
            for (o = 0; o < 30; ++o)
              c.BHasLocalizedSubject(o) &&
                r.SetLocalization(Je, o, c.GetLocalizedSubject(o));
          }
          s.sections.forEach(function (e, t) {
            for (var n = new xe.a(e), a = 0; a < 30; ++a)
              n.BHasHeadlineInLanguage(a) &&
                r.SetLocalization(ze + t, a, n.GetHeadline(a)),
                n.BHasBodyInLanguage(a) &&
                  r.SetLocalization(We + t, a, n.GetBody(a));
          });
        }
        var d = e.GetEventModel().jsondata;
        if (
          (null == d ? void 0 : d.bBroadcastEnabled) &&
          (null === (i = null == d ? void 0 : d.localized_broadcast_title) ||
          void 0 === i
            ? void 0
            : i.length) > 0
        )
          for (o = 0; o < 30; ++o)
            if (Boolean(f.a.Get(d.localized_broadcast_title, o))) {
              var u = d.localized_broadcast_title[o];
              r.SetLocalization(tt, o, u);
            }
        return (
          a &&
            e.BHasSaleEnabled() &&
            e.GetSaleSections().forEach(function (t, n) {
              for (
                var a,
                  i = function (i) {
                    if (
                      (e.BHasSaleSectionLabelLocalization(i, n) &&
                        r.SetLocalization(
                          qe + t.unique_id,
                          i,
                          t.localized_label[i]
                        ),
                      e.BHasSaleSectionTextLocalization(i, n) &&
                        r.SetLocalization(
                          Ye + t.unique_id,
                          i,
                          t.text_section_contents[i]
                        ),
                      e.BHasSaleSectionDescriptionBBCode(i, n) &&
                        r.SetLocalization(
                          et + t.unique_id,
                          i,
                          t.localized_description[i]
                        ),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var o = 0, l = t.tabs; o < l.length; o++) {
                        var s = l[o];
                        e.BHasSaleSectionTabName(i, s) &&
                          r.SetLocalization(
                            Qe + t.unique_id + "_" + s.unique_id,
                            i,
                            s.localized_label[i]
                          );
                      }
                    t.enable_faceted_browsing &&
                      (t.facets.forEach(function (n) {
                        e.BHasSaleSectionFacetName(i, n) &&
                          r.SetLocalization(
                            Ze + t.unique_id + "_" + n.unique_id,
                            i,
                            n.name[i]
                          );
                      }),
                      t.facets.forEach(function (n) {
                        n.facetValues.forEach(function (a) {
                          e.BHasSaleSectionFacetValueName(i, a) &&
                            r.SetLocalization(
                              Ke +
                                t.unique_id +
                                "_" +
                                n.unique_id +
                                "_" +
                                a.unique_id,
                              i,
                              a.name[i]
                            ),
                            e.BHasSaleSectionFacetValueSubtitle(i, a) &&
                              r.SetLocalization(
                                Xe +
                                  t.unique_id +
                                  "_" +
                                  n.unique_id +
                                  "_" +
                                  a.unique_id,
                                i,
                                a.subtitle[i]
                              );
                        });
                      })),
                      "vo_internal" == t.section_type &&
                        "reservation_widget" ==
                          (null === (l = t.internal_section_data) ||
                          void 0 === l
                            ? void 0
                            : l.internal_type) &&
                        (null ===
                          (a = t.internal_section_data.reservation_options) ||
                        void 0 === a
                          ? void 0
                          : a.length) > 0 &&
                        t.internal_section_data.reservation_options.forEach(
                          function (e) {
                            e.localized_reservation_desc &&
                              Boolean(
                                f.a.Get(e.localized_reservation_desc, i)
                              ) &&
                              r.SetLocalization(
                                $e + t.unique_id + "_" + e.unique_id,
                                i,
                                e.localized_reservation_desc[i]
                              );
                          }
                        );
                  },
                  o = 0;
                o < 30;
                ++o
              )
                i(o);
            }),
          r
        );
      }
      function at(e, t, n) {
        var a = new Array(),
          i = t.GetSortedTokenList();
        return (
          Object(G.G)(function () {
            n.forEach(function (n) {
              var r = !1;
              i.forEach(function (a) {
                var i = t.GetLocalization(a, n) || "";
                if (
                  ("title" === a &&
                    (i || e.BHasLanguageTitle(n)) &&
                    e.SetName(n, i) &&
                    (r = !0),
                  "body" === a &&
                    (i || e.BHasLanguageDescription(n)) &&
                    e.SetDescription(n, i) &&
                    (r = !0),
                  "subtitle" === a &&
                    (i || e.BHasLanguageSubTitle(n)) &&
                    e.SetSubTitle(n, i) &&
                    (r = !0),
                  "summary" === a &&
                    (i || e.BHasLanguageSummary(n)) &&
                    e.SetSummary(n, i) &&
                    (r = !0),
                  a === tt)
                ) {
                  var o = e.GetEventModel().jsondata;
                  if (
                    i ||
                    (o.localized_broadcast_title &&
                      Boolean(f.a.Get(o.localized_broadcast_title, n)))
                  )
                    f.a.Get(o.localized_broadcast_title, n) !== i &&
                      ((o.localized_broadcast_title = f.a.Set(
                        o.localized_broadcast_title || [],
                        n,
                        i
                      )),
                      e.SetDirty(T.c.jsondata_sales),
                      (r = !0));
                }
                if (e.BHasEmailEnabled()) {
                  var l = e.GetEmailSettings();
                  if (m.b.IS_VALVE_GROUP && a === Je) {
                    var s = new Pe.b(e);
                    (i || s.BHasLocalizedSubject(n)) &&
                      s.SetLocalizedSubject(n, i) &&
                      (r = !0);
                  }
                  l.sections.forEach(function (t, o) {
                    var l = new Pe.a(t, e);
                    l.BHasHeadline() &&
                      a === ze + o &&
                      (i || l.BHasHeadlineInLanguage(n)) &&
                      l.SetHeadline(i, n) &&
                      (r = !0),
                      l.BHasBody() &&
                        a === We + o &&
                        (i || l.BHasBodyInLanguage(n)) &&
                        l.SetBody(i, n) &&
                        (r = !0);
                  });
                }
                e.BHasSaleEnabled() &&
                  e.GetSaleSections().forEach(function (t, o) {
                    var l, s;
                    if (
                      ((a !== "sale_section_label_" + o &&
                        a !== qe + t.unique_id) ||
                        ((i || e.BHasSaleSectionLabelLocalization(n, o)) &&
                          e.SetSaleSectionLabelLocalization(n, o, i) &&
                          (r = !0)),
                      a === et + t.unique_id &&
                        (i || e.BHasSaleSectionDescriptionBBCode(n, o)) &&
                        e.SetSaleSectionDescriptionBBCode(n, o, i) &&
                        (r = !0),
                      "tabs" === t.section_type && t.tabs)
                    )
                      for (var c = 0, d = t.tabs; c < d.length; c++) {
                        var u = d[c];
                        a === Qe + t.unique_id + "_" + u.unique_id &&
                          (i || e.BHasSaleSectionTabName(n, u)) &&
                          e.SetSaleSectionTabName(n, u, i) &&
                          (r = !0);
                      }
                    "text_section" === t.section_type &&
                      a === Ye + t.unique_id &&
                      (i || e.BHasSaleSectionTextLocalization(n, o)) &&
                      e.SetSaleSectionTextLocalization(n, o, i) &&
                      (r = !0),
                      t.enable_faceted_browsing &&
                        t.facets.forEach(function (o) {
                          a === Ze + t.unique_id + "_" + o.unique_id &&
                            (i || e.BHasSaleSectionFacetName(n, o)) &&
                            e.SetSaleSectionFacetName(n, o, i) &&
                            (r = !0),
                            o.facetValues.forEach(function (l) {
                              a ===
                                Ke +
                                  t.unique_id +
                                  "_" +
                                  o.unique_id +
                                  "_" +
                                  l.unique_id &&
                                (i || e.BHasSaleSectionFacetValueName(n, l)) &&
                                e.SetSaleSectionFacetValueName(n, l, i) &&
                                (r = !0),
                                a ===
                                  Xe +
                                    t.unique_id +
                                    "_" +
                                    o.unique_id +
                                    "_" +
                                    l.unique_id &&
                                  (i ||
                                    e.BHasSaleSectionFacetValueSubtitle(
                                      n,
                                      l
                                    )) &&
                                  e.SetSaleSectionFacetValueSubtitle(n, l, i) &&
                                  (r = !0);
                            });
                        }),
                      "vo_internal" == t.section_type &&
                        "reservation_widget" ==
                          (null === (l = t.internal_section_data) ||
                          void 0 === l
                            ? void 0
                            : l.internal_type) &&
                        (null ===
                          (s = t.internal_section_data.reservation_options) ||
                        void 0 === s
                          ? void 0
                          : s.length) > 0 &&
                        t.internal_section_data.reservation_options.forEach(
                          function (o) {
                            a === $e + t.unique_id + "_" + o.unique_id &&
                              (i ||
                                (o.localized_reservation_desc &&
                                  Boolean(
                                    f.a.Get(o.localized_reservation_desc, n)
                                  ))) &&
                              f.a.Get(o.localized_reservation_desc, n) !== i &&
                              ((o.localized_reservation_desc = f.a.Set(
                                o.localized_reservation_desc || [],
                                n,
                                i
                              )),
                              e.SetDirty(T.c.jsondata_sales),
                              (r = !0));
                          }
                        );
                  });
              }),
                r && a.push(n);
            });
          }),
          a
        );
      }
      var it = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                importing: !1,
                translating: !1,
                langUpdated: new Array(),
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "Unmounting LocalizationToolPartnerEvents"
              );
            }),
            (t.prototype.OnRequestTranslations = function (e) {
              var t = this;
              e.preventDefault();
              var n = this.props.editModel;
              !n.BHasGid() || n.BIsDirty()
                ? (console.log(
                    "LocalizationToolPartnerEvents: OnRequestTranslations error"
                  ),
                  Object(Ie.d)(
                    c.createElement(
                      Te.f,
                      null,
                      c.createElement(
                        "p",
                        null,
                        "We cannot initiate translation if the event has unsaved changes. Please save first."
                      )
                    ),
                    Object(Fe.m)(e)
                  ))
                : Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Create or update an English translate for this event and email. Best to be issued once editing is completed.",
                      onOK: function () {
                        return t.setState(
                          { translating: !0 },
                          t.RequestTranslation
                        );
                      },
                    }),
                    Object(Fe.m)(e)
                  );
            }),
            (t.prototype.RequestTranslation = function () {
              var e = this,
                t = this.props.editModel;
              l.c
                .RequestLocalizationOfEvent(
                  t.GetClanSteamID(),
                  t.GetGID(),
                  this.m_cancelSignal
                )
                .then(function () {
                  Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: "(VO) Localization Request",
                      strDescription:
                        "Success! Translation request pushed to CrowdIn",
                      bAlertDialog: !0,
                      closeModal: function () {
                        return e.setState({ translating: !1 });
                      },
                    }),
                    window
                  );
                })
                .catch(function (t) {
                  console.log(
                    "LocalizationToolPartnerEvents: RequestTranslation error"
                  ),
                    Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        {
                          closeModal: function () {
                            return e.setState({ translating: !1 });
                          },
                        },
                        c.createElement(
                          "div",
                          null,
                          c.createElement(
                            "p",
                            null,
                            "Encountered the following error attempting to send the event information to CrowdIn:"
                          ),
                          c.createElement("p", null, Object(p.a)(t).strErrorMsg)
                        )
                      ),
                      window
                    );
                });
            }),
            (t.prototype.render = function () {
              return c.createElement(
                "div",
                { className: Object(N.a)(k.FlexRowContainer) },
                c.createElement(rt, { editModel: this.props.editModel })
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnRequestTranslations", null),
            Object(a.c)([R.a], t.prototype, "RequestTranslation", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        rt = function (e) {
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              He.a,
              {
                className: Object(N.a)(k.EditPreviewButton),
                toolTipContent: Object(f.f)("#EventEditor_Loc_Export_Desc0"),
              },
              c.createElement(
                "a",
                {
                  onClick: function (t) {
                    t.preventDefault(),
                      Object(Ie.d)(
                        c.createElement(ot, { editModel: e.editModel }),
                        Object(Fe.m)(t)
                      );
                  },
                },
                Object(f.f)("#EventEditor_Loc_Export_Short")
              )
            ),
            c.createElement(Ue.b, {
              strToolTip: Object(f.f)("#EventEditor_Loc_Import_ttip"),
              strLabel: Object(f.f)("#EventEditor_Loc_Import_Short"),
              fnOnImportLocData: function (t, n) {
                return at(e.editModel, t, n);
              },
            })
          );
        },
        ot = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowCSV: !0,
                bExportEventBody: !0,
                bExportEmail: t.props.editModel.BHasEmailEnabled(),
                bExportSale: t.props.editModel.BHasSaleEnabled(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetLocalizationFilePrefix = function () {
              var e = this.props.editModel.GetName(0);
              return (e && "" != e.trim()) || (e = "event"), e;
            }),
            (t.prototype.GetLocalizationModel = function () {
              return nt(
                this.props.editModel,
                this.state.bExportEventBody,
                this.state.bExportEmail,
                this.state.bExportSale
              );
            }),
            (t.prototype.OnExportTypeChange = function (e) {
              this.setState({ bShowCSV: "csv" == e });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.closeModal,
                a = t.editModel,
                i = v.a.Get().GetPartnerEventPermissions(a.GetClanSteamID());
              return c.createElement(
                Te.e,
                { onCancel: n, closeModal: n },
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_Loc_Export")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    c.createElement(
                      "div",
                      { className: Object(N.a)(k.FlexColumnContainer) },
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#EventEditor_Loc_Export_Desc0")
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            k.FlexRowContainer,
                            k.RadioOption
                          ),
                        },
                        c.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportCSVOption",
                          value: "csv",
                          checked: this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("csv");
                          },
                        }),
                        c.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportCSVOption" },
                          c.createElement(
                            "span",
                            null,
                            Object(f.f)("#EventEditor_Loc_Export_CSV")
                          )
                        )
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            k.FlexRowContainer,
                            k.RadioOption
                          ),
                        },
                        c.createElement("input", {
                          type: "radio",
                          name: "ExportOption",
                          id: "EventEditor_ExportXMLOption",
                          value: "xml",
                          checked: !this.state.bShowCSV,
                          onChange: function () {
                            return e.OnExportTypeChange("xml");
                          },
                        }),
                        c.createElement(
                          "label",
                          { htmlFor: "EventEditor_ExportXMLOption" },
                          c.createElement(
                            "span",
                            null,
                            Object(f.f)("#EventEditor_Loc_Export_XML")
                          )
                        )
                      ),
                      Boolean(
                        i.support_user &&
                          (a.BHasSaleEnabled() || a.BHasEmailEnabled)
                      ) &&
                        c.createElement(
                          "div",
                          { className: k.ValveOnlyBackground },
                          c.createElement(
                            "p",
                            null,
                            "(VO) Identify which sections to export"
                          ),
                          c.createElement(Me.e, {
                            label: "Export Event Body",
                            onChange: function (t) {
                              return e.setState({ bExportEventBody: t });
                            },
                            checked: this.state.bExportEventBody,
                          }),
                          c.createElement(Me.e, {
                            disabled: !a.BHasEmailEnabled(),
                            label: "Export Email",
                            onChange: function (t) {
                              return e.setState({ bExportEmail: t });
                            },
                            checked: this.state.bExportEmail,
                          }),
                          c.createElement(Me.e, {
                            disabled: !a.BHasSaleEnabled(),
                            label: "Export Sales",
                            onChange: function (t) {
                              return e.setState({ bExportSale: t });
                            },
                            checked: this.state.bExportSale,
                          })
                        ),
                      this.state.bShowCSV
                        ? c.createElement(
                            c.Fragment,
                            null,
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc2")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_Desc3")
                            )
                          )
                        : c.createElement(
                            c.Fragment,
                            null,
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_XMLDesc")
                            ),
                            c.createElement(
                              "p",
                              null,
                              Object(f.f)("#EventEditor_Loc_Export_XMLDesc2")
                            )
                          )
                    )
                  ),
                  c.createElement(
                    Me.j,
                    null,
                    c.createElement(Ue.a, {
                      fnGetLocData: this.GetLocalizationModel,
                      bShowCSV: this.state.bShowCSV,
                      bShowXML: !this.state.bShowCSV,
                      strFileNamePrefix: this.GetLocalizationFilePrefix(),
                      lang: this.props.editModel.GetCurEditLanguage(),
                      closeModal: this.props.closeModal,
                    }),
                    c.createElement(
                      Me.d,
                      { onClick: n },
                      Object(f.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "GetLocalizationModel", null),
            Object(a.c)([R.a], t.prototype, "OnExportTypeChange", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        lt = n("aoTL");
      function st(e) {
        return Object(lt.d)(function () {
          return [e.m_nBuildID, e.m_strBuildBranch];
        });
      }
      var ct = n("pdAa"),
        dt = n.n(ct);
      function ut(e) {
        var t = e.eventModel,
          n = e.bAllowUpdate,
          a = st(t),
          i = a[0],
          r = a[1];
        if (
          !(function (e) {
            switch (e) {
              case 12:
              case 13:
              case 14:
                return !0;
            }
            return !1;
          })(t.type) &&
          !i
        )
          return null;
        var o = c.createElement(
          "span",
          { className: Object(N.a)(dt.a.BuildDisplay, dt.a.BuildUnlinked) },
          Object(f.f)("#EventEditor_AssociateBuildBlank")
        );
        if (i) {
          var l = c.createElement(
            "a",
            {
              className: Object(N.a)(dt.a.BuildIDLink),
              href:
                m.c.PARTNER_BASE_URL + "apps/builddetails/" + t.appid + "/" + i,
              onClick: function (e) {
                return e.stopPropagation();
              },
            },
            i
          );
          o = r
            ? c.createElement(
                "span",
                {
                  className: Object(N.a)(
                    dt.a.BuildDisplay,
                    dt.a.BuildLinkedBranch
                  ),
                },
                Object(f.n)("#EventEditor_AssociatedBuild", l, r)
              )
            : c.createElement(
                "span",
                {
                  className: Object(N.a)(
                    dt.a.BuildDisplay,
                    dt.a.BuildLinkedDefault
                  ),
                },
                Object(f.n)("#EventEditor_AssociatedBuild_Default", l)
              );
        } else if (!n) return null;
        return c.createElement(
          "div",
          { className: dt.a.AssociatedBuildBody },
          o,
          e.children
        );
      }
      var pt = Object(I.a)(function (e) {
        var t = e.editModel.GetEventModel();
        return c.createElement(
          ut,
          { eventModel: t, bAllowUpdate: !0 },
          c.createElement(
            "span",
            {
              "data-tooltip-text": Object(f.f)(
                "#EventEditor_AssociateBuild_ttip"
              ),
              className: L.a.tooltip_Ctn,
            },
            "?"
          ),
          c.createElement(
            Me.d,
            {
              onClick: function (t) {
                return Object(Ie.d)(
                  c.createElement(mt, { editModel: e.editModel }),
                  Object(Fe.m)(t)
                );
              },
            },
            Object(f.f)("#EventEditor_AssociateBuild")
          )
        );
      });
      var mt = function (e) {
        var t = e.editModel,
          n = e.closeModal,
          a = (function (e) {
            var t = c.useState(null),
              n = t[0],
              a = t[1];
            return (
              c.useEffect(
                function () {
                  if ((a(null), e)) {
                    var t = y.a.CancelToken.source(),
                      n =
                        m.c.COMMUNITY_BASE_URL +
                        "ogg/" +
                        e +
                        "/ajaxgetappbranches";
                    return (
                      y.a
                        .get(n, { withCredentials: !0, cancelToken: t.token })
                        .then(function (e) {
                          var n;
                          if (!t.token.reason) {
                            var i =
                              1 ==
                              (null === (n = null == e ? void 0 : e.data) ||
                              void 0 === n
                                ? void 0
                                : n.success);
                            a(i ? e.data.branches : []);
                          }
                        })
                        .catch(function (e) {
                          if (!t.token.reason) {
                            var n = Object(p.a)(e);
                            console.error("useBranchInfo: " + n.strErrorMsg, n);
                          }
                        }),
                      function () {
                        return t.cancel("useBranchInfo: unmounting");
                      }
                    );
                  }
                },
                [e]
              ),
              n
            );
          })(t.GetEventModel().appid),
          i = c.useState(void 0),
          r = i[0],
          o = i[1],
          l = (function (e) {
            var t = st(e.GetEventModel()),
              n = t[0],
              a = t[1];
            return [
              n,
              a,
              function (t, i) {
                (n == t && a == i) ||
                  ((e.GetEventModel().m_nBuildID = t),
                  (e.GetEventModel().m_strBuildBranch = i),
                  e.SetDirty(T.c.description));
              },
            ];
          })(t),
          s = (l[0], l[1], l[2]);
        if ((null == a ? void 0 : a.length) && void 0 === r) {
          var d = a.find(function (e) {
            return "" == e.branch;
          });
          d && o(d);
        }
        var u = Boolean(a),
          g = new Array();
        return (
          g.push({
            label: Object(f.f)("#EventEditor_AssociateBuildClear"),
            data: null,
          }),
          null == a ||
            a.forEach(function (e) {
              var t, n;
              g.push({
                label:
                  ((t = e),
                  (n = new Date(1e3 * t.date).toLocaleDateString()),
                  t.branch
                    ? Object(f.f)(
                        "#EventEditor_AssociateBuildBranch",
                        t.branch,
                        t.build_id,
                        n
                      )
                    : Object(f.f)(
                        "#EventEditor_AssociateBuildDefaultBranch",
                        t.build_id,
                        n
                      )),
                data: e,
              });
            }),
          c.createElement(
            ke.a,
            null,
            c.createElement(
              Ie.a,
              { onEscKeypress: n },
              c.createElement(
                Me.f,
                null,
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_AssociateBuildDialog")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    Object(f.f)("#EventEditor_AssociateBuildDialogDesc")
                  ),
                  u &&
                    c.createElement(Me.h, {
                      rgOptions: g,
                      selectedOption: r,
                      onChange: function (e) {
                        return o(e.data);
                      },
                    }),
                  !u && c.createElement(_.a, null)
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(Me.n, {
                    onCancel: n,
                    bOKDisabled: !u,
                    onOK: function () {
                      s(
                        null == r ? void 0 : r.build_id,
                        null == r ? void 0 : r.branch
                      ),
                        n();
                    },
                  })
                )
              )
            )
          )
        );
      };
      function _t(e, t) {
        var n = new Array(),
          a = e.BPublished(),
          i = e.BHidden(),
          r = w.a.GetTimeNowWithOverride(),
          o = e.ComputeStartTime(r),
          l = e.ComputeVisibilityStartTime(r, o),
          s =
            e.GetEndTimeEditChoice() == T.b.k_EDuration
              ? e.ComputeDurationBasedRoundedEndTime()
              : e.GetEventEndTime(),
          d = Object(B.c)(e.GetEventType(), e.GetEventModel().vecTags);
        (!a && e.GetStartTimeEditChoice() != T.d.k_ESpecified) ||
          (o && 0 != o) ||
          n.push(
            c.createElement(
              "li",
              { key: "EventEdit_Error_StartTimeNotSet" },
              c.createElement(
                "div",
                { className: ee.a.ErrorStyles },
                Object(f.f)("#EventEdit_Error_StartTimeNotSet")
              )
            )
          ),
          a &&
            i &&
            l > o &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_VisibilityAfterStart" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_VisibilityAfterStart")
                )
              )
            ),
          e.BIsValidStartTimeForEdit() ||
            (e.GetEventStartTime() < e.GetEarliestStartTimeForEdit()
              ? n.push(
                  c.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeTooEarly_" + o },
                    c.createElement(
                      "div",
                      { className: ee.a.ErrorStyles },
                      Object(f.n)(
                        "#EventEdit_Error_StartTimeTooEarly",
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        }),
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEarliestStartTimeForEdit(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                )
              : n.push(
                  c.createElement(
                    "li",
                    { key: "EventEdit_Error_StartTimeInPast_" + o },
                    c.createElement(
                      "div",
                      { className: ee.a.ErrorStyles },
                      Object(f.n)(
                        "#EventEdit_Error_StartTimeInPast",
                        c.createElement(Re.a, {
                          dateAndTime: e.GetEventStartTime(),
                          bSingleLine: !0,
                        })
                      )
                    )
                  )
                ));
        var u = Object(B.a)(e.GetCategoryAsType());
        !a ||
          !u ||
          (e.GetEventEndTime() && 0 != e.GetEventEndTime()) ||
          e.GetEndTimeEditChoice() != T.b.k_ESpecified ||
          n.push(
            c.createElement(
              "li",
              { key: "EventEdit_Error_EndTimeNeededNotSet" },
              c.createElement(
                "div",
                { className: ee.a.ErrorStyles },
                Object(f.f)("#EventEdit_Error_EndTimeNeededNotSet")
              )
            )
          ),
          u &&
            (t || a) &&
            s < o &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_EndTimeBeforeStart" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_EndTimeBeforeStart")
                )
              )
            );
        for (var p = 0, m = 0; m < 30; ++m) {
          var _ = e.BIsLanguageValidForRealms(m),
            g = Object(f.f)("#Language_" + Object(Ae.a)(m));
          if (_ && e.BHasLanguage(m) && !e.BHasLanguageRequired(m)) {
            var E = e.BHasLanguageTitle(m)
              ? "EventEdit_Error_TitleExistsMissingDesc"
              : "EventEdit_Error_DescExistsMissingTitle";
            n.push(
              c.createElement(
                "li",
                { key: E + m },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#" + E, g)
                )
              )
            );
          }
          e.BHasLanguageDescription(m) &&
            Array.from(e.GetDescription(m)).length > 32e3 &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_DescriptionTooLong" + m },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_DescriptionTooLong", g)
                )
              )
            ),
            f.b.IsELanguageValidInRealm(m, X.f.k_ESteamRealmGlobal) &&
              e.BHasLanguageRequired(m) &&
              ++p;
        }
        if (
          (e.BInRealmGlobal() &&
            0 == p &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_MissingTitleAndDesc" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_MissingTitleAndDesc")
                )
              )
            ),
          e.BInRealmChina())
        )
          for (
            var b = 0,
              v = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmChina]);
            b < v.length;
            b++
          ) {
            var h = v[b],
              S = f.b.GetELanguageFallback(h);
            if (!e.BHasLanguageRequiredOrFallback(h, S)) {
              g = Object(f.f)("#Language_" + Object(Ae.a)(h));
              n.push(
                c.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingChinaTitleAndDesc" + h },
                  c.createElement(
                    "div",
                    { className: ee.a.ErrorStyles },
                    Object(f.f)("#EventEdit_Error_MissingChinaTitleAndDesc", g)
                  )
                )
              );
            }
          }
        if (d) {
          var O =
              e.BInRealmGlobal() &&
              !e.GetEventModel().BHasTag("contenthub") &&
              !gt(e, "capsule", 0),
            y =
              e.BInRealmChina() &&
              !(function (e, t) {
                for (
                  var n = 0,
                    a = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmChina]);
                  n < a.length;
                  n++
                ) {
                  var i = a[n];
                  if (!gt(e, t, i, f.b.GetELanguageFallback(i))) return !1;
                }
                return !0;
              })(e, "capsule");
          O &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_MissingCapsule" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)(
                    "#EventEdit_Error_MissingCapsule",
                    Object(f.f)("#PartnerEvent_" + e.GetEventType())
                  )
                )
              )
            ),
            y &&
              n.push(
                c.createElement(
                  "li",
                  { key: "EventEdit_Error_MissingCapsuleChina" },
                  c.createElement(
                    "div",
                    { className: ee.a.ErrorStyles },
                    Object(f.f)(
                      "#EventEdit_Error_MissingCapsuleChina",
                      Object(f.f)("#PartnerEvent_" + e.GetEventType())
                    )
                  )
                )
              );
        }
        return (
          e.GetSaleSections().reduce(function (e, t) {
            return e + ("tabs" === t.section_type ? 1 : 0);
          }, 0) > 1 &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_TooManyTabsSections" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_TooManyTabsSections")
                )
              )
            ),
          e.BIsEventForOGGWithoutVisibleStorePage() &&
            !e.BOptedInForOGGWithoutVisibleStorePage() &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEdit_Error_PublishingForHiddenGame" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEdit_Error_PublishingForHiddenGame")
                )
              )
            ),
          e.BHasSaleEnabled() &&
            !e.GetEventModel().BHasSaleVanity() &&
            n.push(
              c.createElement(
                "li",
                { key: "EventEditor_SaleNotReady_ttip" },
                c.createElement(
                  "div",
                  { className: ee.a.ErrorStyles },
                  Object(f.f)("#EventEditor_SaleNotReady_ttip")
                )
              )
            ),
          n
        );
      }
      function gt(e, t, n, a) {
        void 0 === a && (a = -1);
        var i = e.GetImageURL(t, n);
        return (
          (i && 0 != i.length) || -1 == a || (i = e.GetImageURL(t, a)),
          i && i.length > 1
        );
      }
      function Et(e) {
        var t = new Array(),
          n = e.BPublished(),
          a = e.BHidden();
        e.BInRealmGlobal() &&
          !e.BHasLanguageRequired(0) &&
          t.push(
            c.createElement(
              "li",
              { key: "EventEdit_Warning_EnglishMissing" },
              c.createElement(
                "div",
                { className: ee.a.WarningStyles },
                Object(f.f)("#EventEdit_Warning_EnglishMissing")
              )
            )
          ),
          1 == e.GetEventType() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_Other" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_Other")
                )
              )
            );
        for (var i = 0, r = 0, o = 0, l = 0, s = 0; s < 30; ++s) {
          var d = f.b.IsELanguageValidInRealm(s, X.f.k_ESteamRealmGlobal),
            u = f.b.IsELanguageValidInRealm(s, X.f.k_ESteamRealmChina);
          if ((d && e.BInRealmGlobal()) || (u && e.BInRealmChina())) {
            var p = u ? f.b.GetELanguageFallback(s) : s;
            gt(e, "capsule", s, p) && i++,
              gt(e, "spotlight", s, p) && l++,
              e.BHasLanguageRequiredOrFallback(s, p) &&
                (r++, (e.GetSubTitle(s) || e.GetSubTitle(p)) && o++);
          }
        }
        m.b.CAN_UPLOAD_IMAGES &&
          0 == i &&
          t.push(
            c.createElement(
              "li",
              { key: "EventEdit_Warning_ArtworkMissing" },
              c.createElement(
                "div",
                { className: ee.a.WarningStyles },
                Object(f.f)(
                  e.GetAppID()
                    ? "#EventEdit_Warning_ArtworkMissing"
                    : "#EventEdit_Warning_ArtworkMissing_clan"
                )
              )
            )
          ),
          o > 0 &&
            r > o &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warnign_SubTitle" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warnign_SubTitle", o, r)
                )
              )
            ),
          i > 0 &&
            r > i &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warnign_Artwork" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warnign_Artwork", i, r)
                )
              )
            );
        var _ = e.GetEventVisibilityStartTime();
        return (
          n &&
            a &&
            e.BGetOriginalEventVisibilityStartTime() != _ &&
            _ <= w.a.GetTimeNowWithOverride() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_VisibilityTimeChange" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_VisibilityTimeChange")
                )
              )
            ),
          l > 0 &&
            !e.GetEventModel().BShowLibrarySpotlight() &&
            t.push(
              c.createElement(
                "li",
                { key: "EventEdit_Warning_SpotlightImageWithFlag" },
                c.createElement(
                  "div",
                  { className: ee.a.WarningStyles },
                  Object(f.f)("#EventEdit_Warning_SpotlightImageWithFlag")
                )
              )
            ),
          t
        );
      }
      var bt = n("gBDv"),
        vt = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                dialogState: "default",
                strErrorMsg: "",
                bFakeError: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnByPassWarnings = function () {
              this.setState({ dialogState: "bypasswarning" });
            }),
            (t.prototype.OnPublish = function () {
              var e = this,
                t = this.props.editModel,
                n = t.GetClanSteamID();
              this.setState({ dialogState: "waiting" }),
                t.OnPreSave(),
                t.BIsDirty() && t.GetChangeTypes() != T.c.visibility
                  ? l.c
                      .SaveModel(n)
                      .then(function () {
                        return l.c
                          .PublishModel(n, e.state.bFakeError)
                          .then(function () {
                            e.setState({ dialogState: "showsuccess" });
                          });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(a.a)(
                            { dialogState: "displayerror" },
                            Object(p.a)(t)
                          )
                        );
                      })
                  : l.c
                      .PublishModel(n, this.state.bFakeError)
                      .then(function () {
                        e.setState({ dialogState: "showsuccess" });
                      })
                      .catch(function (t) {
                        e.setState(
                          Object(a.a)(
                            { dialogState: "displayerror" },
                            Object(p.a)(t)
                          )
                        );
                      });
            }),
            (t.prototype.OnFakeErrorChange = function (e) {
              var t = e.target.checked;
              t != this.state.bFakeError && this.setState({ bFakeError: t });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = w.a.GetTimeNowWithOverride(),
                n = e.ComputeStartTime(t),
                a = e.ComputeVisibilityStartTime(t, n),
                i = _t(e, !0),
                o = Et(e),
                l = this.state.dialogState,
                s = v.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
              switch (
                (null != i && i.length > 0
                  ? (l = "prevalidateerror")
                  : "default" == l &&
                    null != o &&
                    o.length > 0 &&
                    (l = "showwarning"),
                l)
              ) {
                case "prevalidateerror":
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Error_PublishingDesc"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement("ol", null, i),
                    null != o &&
                      o.length > 0 &&
                      c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventEdit_Warning_PublishingDesc")
                        ),
                        c.createElement("ol", null, o)
                      )
                  );
                case "showwarning":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Warning"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Warning_PublishingDesc"
                      ),
                      onOK: this.OnByPassWarnings,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)(
                        "#EventEditor_ByPassWarnings"
                      ),
                    },
                    c.createElement("ol", null, o)
                  );
                case "bypasswarning":
                case "default":
                  var d = e.ComputeStartTime(t),
                    u = Object(B.a)(e.GetEventType()),
                    p =
                      e.GetVisibilityPublishingSetup() == T.f.immediate ||
                      d <= t;
                  if (u) {
                    var m = e.ComputeVisibilityStartTime(t, d);
                    p = p || m <= t;
                  }
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#Button_Publish"),
                      strDescription: "",
                      onOK: this.OnPublish,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)("#Button_Publish"),
                    },
                    c.createElement(
                      c.Fragment,
                      null,
                      Object(f.f)("#EventEditor_Publish_Notice"),
                      c.createElement("br", null),
                      c.createElement("br", null),
                      p
                        ? Object(f.f)("#EventEditor_Publish_Immediate")
                        : Object(f.n)(
                            "#EventEditor_Publish_Staged",
                            c.createElement(Re.a, {
                              dateAndTime: a,
                              bSingleLine: !0,
                            })
                          ),
                      Object(f.f)("#EventEditor_Publish_ContinueEdits"),
                      c.createElement("br", null),
                      c.createElement("br", null),
                      Object(f.f)("#EventEditor_Publish_Notice_Note"),
                      Boolean(s.valve_admin) &&
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.ValveSupportOnly,
                              L.a.ValveOnlyBackground
                            ),
                          },
                          c.createElement("input", {
                            id: "Publishing_FakeError",
                            type: "checkbox",
                            onChange: this.OnFakeErrorChange,
                            checked: this.state.bFakeError,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "Publishing_FakeError" },
                            "(VO) Fake an error on the server to test error flow"
                          )
                        )
                    )
                  );
                default:
                case "displayerror":
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEditor_Publish_Failed"),
                      strDescription: Object(f.f)(
                        "#EventEdit_Publishing_Failure"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement("br", null),
                    c.createElement("br", null),
                    this.state.strErrorMsg
                  );
                case "waiting":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#Button_Publish"),
                      strDescription: Object(f.f)(
                        "#EventEditor_Publishing_PleaseWait"
                      ),
                      bAlertDialog: !0,
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                      strOKButtonText: Object(f.f)("#Button_Cancel"),
                      bOKDisabled: !0,
                    },
                    c.createElement(
                      "div",
                      { className: r.a.FlexCenter },
                      c.createElement(_.a, null)
                    )
                  );
                case "showsuccess":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#Button_Publish"),
                    strDescription: Object(f.f)(
                      "#EventEdit_Publishing_Success"
                    ),
                    bAlertDialog: !0,
                    onOK: this.props.OnPublishSuccess,
                    onCancel: this.props.OnPublishSuccess,
                    closeModal: this.props.closeModal,
                    strOKButtonText: Object(f.f)("#Button_Close"),
                  });
              }
            }),
            Object(a.c)([R.a], t.prototype, "OnByPassWarnings", null),
            Object(a.c)([R.a], t.prototype, "OnPublish", null),
            Object(a.c)([R.a], t.prototype, "OnFakeErrorChange", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component);
      function ht(e) {
        var t = e.closeModal,
          n = e.editModel,
          a = e.bSkipChecks,
          i = e.OnSuccess,
          o = n.BPublished() && !a,
          s = c.useState(o ? _t(n, !1) : null)[0],
          d = c.useState(o ? Et(n) : null)[0],
          u = n.GetGID(),
          m = Object(bt.c)(),
          g = m[0],
          E = (m[1], m[2]),
          b = c.useState(
            (null == s ? void 0 : s.length) > 0
              ? "prevalidateerror"
              : (null == d ? void 0 : d.length) > 0
              ? "showwarning"
              : "default"
          ),
          v = b[0],
          h = b[1],
          S = c.useState(null),
          O = S[0],
          y = S[1];
        switch (
          (c.useEffect(
            function () {
              if (
                "default" === v ||
                "bypasswarning" === v ||
                "bypassoverwritewarning" == v
              ) {
                var e = n.GetClanSteamID();
                n.OnPreSave();
                var t = function (e) {
                    var t = Object(p.a)(e),
                      n = "error";
                    !t.strErrorMsg &&
                      Object(f.f)("#EventEditor_Error_" + t.errorCode) &&
                      (t.strErrorMsg = Object(f.f)(
                        "#EventEditor_Error_" + t.errorCode
                      )),
                      27 == t.errorCode && (n = "overwrite"),
                      y(t),
                      h(n);
                  },
                  a = "bypassoverwritewarning" === v;
                l.c
                  .SaveModel(e, !1, a)
                  .then(function (e) {
                    g(u)
                      ? E(u || e.gid)
                          .then(function (n) {
                            1 == n ? h("success") : t(e);
                          })
                          .catch(t)
                      : h("success");
                  })
                  .catch(t);
              }
            },
            [v, n, E, g, u]
          ),
          v)
        ) {
          case "prevalidateerror":
            return c.createElement(
              Te.f,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_ErrorDesc"),
                closeModal: t,
              },
              c.createElement("ol", null, s),
              null != d &&
                d.length > 0 &&
                c.createElement(
                  c.Fragment,
                  null,
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEdit_Saving_WarningDesc")
                  ),
                  c.createElement("ol", null, d)
                )
            );
          case "showwarning":
            return c.createElement(
              Te.d,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Warning_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_WarningDesc"),
                onOK: function () {
                  return h("bypasswarning");
                },
                onCancel: t,
                strOKButtonText: Object(f.f)(
                  "#EventEdit_Saving_ByPassWarnings"
                ),
              },
              c.createElement("ol", null, d)
            );
          case "default":
          default:
            return c.createElement(
              Te.e,
              {
                bDisableBackgroundDismiss: !0,
                bOKDisabled: !0,
                bHideCloseIcon: !0,
              },
              c.createElement(
                Me.k,
                null,
                Object(f.f)("#EventEdit_Saving_Title")
              ),
              c.createElement(
                Me.b,
                null,
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventEdit_Saving_Description")
                ),
                c.createElement(
                  "div",
                  { className: r.a.FlexCenter },
                  c.createElement(_.a, null)
                )
              )
            );
          case "success":
            var C = Object(f.f)("#EventEdit_Saving_Successful");
            return (
              n.BPublished() &&
                n.BVisible() &&
                (C +=
                  " " + Object(f.f)("#EventEdit_Saving_Successful_Visible")),
              c.createElement(Te.d, {
                strTitle: Object(f.f)("#EventEdit_Saving_Success_Title"),
                strDescription: C,
                onOK: i,
                onCancel: t,
                closeModal: t,
                bAlertDialog: !0,
              })
            );
          case "error":
            return c.createElement(
              Te.f,
              {
                strTitle: Object(f.f)("#EventEdit_Saving_Error_Title"),
                strDescription: Object(f.f)("#EventEdit_Saving_Failure_Desc"),
                closeModal: t,
              },
              c.createElement("br", null),
              c.createElement("br", null),
              O.strErrorMsg
            );
          case "overwrite":
            return c.createElement(
              Te.d,
              {
                strTitle: Object(f.f)(
                  "#EventEditor_SaveOrPublish_ClobberTitle"
                ),
                strDescription: Object(f.f)("#EventEdit_Saving_Failure_Desc"),
                onCancel: t,
                onOK: function () {
                  return h("bypassoverwritewarning");
                },
                strOKButtonText: Object(f.f)("#Button_Overwrite"),
                bDestructiveWarning: !0,
              },
              c.createElement("br", null),
              c.createElement("br", null),
              O.strErrorMsg
            );
        }
      }
      var ft = n("0XOM"),
        St =
          (n("f0Wu"),
          (function (e) {
            function t(t) {
              var n = e.call(this, t) || this;
              return (
                (n.bRedirectUsed = !1),
                (n.state = { redirectTarget: null, bDeleting: !1 }),
                n
              );
            }
            return (
              Object(a.d)(t, e),
              (t.prototype.OnFallbackClick = function (e) {
                e.target instanceof HTMLButtonElement ||
                  e.target instanceof HTMLAnchorElement ||
                  this.OnGotoPage(e, "edit");
              }),
              (t.prototype.OnGotoPage = function (e, t) {
                (this.bRedirectUsed = !1),
                  this.setState({ redirectTarget: t }),
                  e && e.stopPropagation();
              }),
              (t.prototype.OnIgnoreFallbackClick = function (e) {
                e.stopPropagation();
              }),
              (t.prototype.render = function () {
                var e,
                  t = this,
                  n = this.props,
                  i = n.eventModel,
                  r = n.appid_or_vanity_str,
                  l = n.bShowGameName,
                  s = n.bShowEventMetaDataSizes,
                  d = i.GID,
                  p = i.bOldAnnouncement;
                if (this.state.redirectTarget && !this.bRedirectUsed)
                  switch (
                    ((this.bRedirectUsed = !0), this.state.redirectTarget)
                  ) {
                    case "clone":
                      return c.createElement(pe.b, {
                        push: !0,
                        to: o.a.Edit(r, ""),
                      });
                    case "edit":
                      return Object(Ne.j)(
                        this.props.eventModel,
                        Ne.a.k_eCommunityEdit
                      );
                    case "view":
                      return i.BIsVisibleEvent()
                        ? Object(Ne.j)(this.props.eventModel, Ne.a.k_eView)
                        : Object(Ne.j)(
                            this.props.eventModel,
                            Ne.a.k_eCommunityPreview
                          );
                    default:
                      console.log(
                        "EventDisplayTile - Unexpected Case - " +
                          this.state.redirectTarget
                      );
                  }
                var _ = Object(Ae.d)(m.c.LANGUAGE);
                i.BIsLanguageValidForRealms(_) ||
                  (_ = i.BInRealmGlobal() ? 0 : 29);
                var g = [i.GetImageURLWithFallback("capsule", _)],
                  E = i.GetNameWithFallback(_),
                  b = i.BHasSubTitle(_),
                  v = i.BHasSaleEnabled(),
                  S = i.visibility_state != Ce.b.k_EEventStateUnpublished,
                  O = i.visibility_state != Ce.b.k_EEventStateVisible,
                  y = void 0;
                O &&
                  S &&
                  (y =
                    i.visibilityStartTime == i.startTime
                      ? c.createElement(
                          "div",
                          { className: ft.TileTextStartsIn },
                          Object(f.f)(
                            "#EventEditor_Status_WillBeVisible_EventStart"
                          )
                        )
                      : c.createElement(
                          "div",
                          { className: ft.TileTextStartsIn },
                          Object(f.n)(
                            "#EventEditor_Status_WillBeVisible_At",
                            c.createElement(Re.a, {
                              dateAndTime: i.GetVisibilityStartTimeAndDateUnixSeconds(),
                              bSingleLine: !0,
                            })
                          )
                        ));
                var C = void 0;
                if (!O && S) {
                  var j = w.a.GetTimeNowWithOverride();
                  i.GetStartTimeAndDateUnixSeconds() > j
                    ? (C = c.createElement(
                        "span",
                        { className: ft.EventStateUpcoming },
                        Object(f.f)("#EventDisplay_Upcoming")
                      ))
                    : Object(B.a)(i.type) &&
                      i.GetEndTimeAndDateUnixSeconds() > j
                    ? (C = c.createElement(
                        "span",
                        { className: ft.EventStateActive },
                        Object(f.f)("#EventDisplay_Active")
                      ))
                    : i.GetStartTimeAndDateUnixSeconds() > j + 3600 &&
                      (C = c.createElement(
                        "span",
                        { className: ft.EventStateRecent },
                        Object(f.f)("#EventDisplay_RecentlyActive")
                      ));
                }
                l &&
                  (E =
                    u.a.GetStoreCapsuleInfo(i.appid).GetAppStoreData().title +
                    ": " +
                    E);
                var T =
                    i.BIsPartnerEvent() &&
                    i.BIsVisibleEvent() &&
                    ye.a.GetStatsFor(i.clanSteamID, d),
                  I = h.a.GetOGGClanInfo(i.appid),
                  D = Boolean(
                    p &&
                      I &&
                      I.is_ogg &&
                      I.clanAccountID !=
                        i.announcementClanSteamID.GetAccountID()
                  );
                return c.createElement(
                  ke.a,
                  null,
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        ((e = {}),
                        (e[ft.TileContainer] = !0),
                        (e[ft.TileAgeAppropriate] = true),
                        (e[ft.TileAgeNotAppropriate] = !1),
                        (e[ft.ShowEventMetaDataSizes] = s),
                        e)
                      ),
                    },
                    c.createElement(
                      "div",
                      {
                        className: ft.TileImageCtn,
                        onClick: function (e) {
                          return t.OnFallbackClick(e);
                        },
                      },
                      c.createElement(Be.b, {
                        className: ft.TileImage,
                        srcs: g,
                      })
                    ),
                    c.createElement(
                      "div",
                      {
                        className: ft.TileTextContainer,
                        onClick: function (e) {
                          return t.OnFallbackClick(e);
                        },
                      },
                      c.createElement(
                        "div",
                        { className: ft.TileDescriptionContainer },
                        c.createElement(
                          "div",
                          { style: { display: "flex" } },
                          c.createElement(
                            "div",
                            { className: ft.TileTextAppName },
                            E
                          ),
                          c.createElement(
                            "div",
                            { className: ft.TileTextEventType },
                            i.GetCategoryAsString(),
                            v &&
                              c.createElement(
                                "span",
                                { className: ft.TileHasSale },
                                " | ",
                                Object(f.f)("#EventEditor_Status_HasSale")
                              )
                          )
                        ),
                        b && !1,
                        c.createElement(
                          "div",
                          { className: k.ContainerSpaceBetween },
                          c.createElement(
                            "div",
                            { className: ft.TileTextStartsIn },
                            c.createElement(Re.a, {
                              dateAndTime: i.GetStartTimeAndDateUnixSeconds(),
                              bSingleLine: !0,
                            }),
                            C,
                            i.BHasTag("auto_rssfeed") &&
                              c.createElement(
                                c.Fragment,
                                null,
                                c.createElement("br", null),
                                c.createElement(
                                  "a",
                                  {
                                    href:
                                      m.c.STORE_BASE_URL +
                                      "curator/" +
                                      i.clanSteamID.GetAccountID() +
                                      "/admin/manage_rss/",
                                  },
                                  " " +
                                    Object(f.f)(
                                      "#EventEditor_Status_FromRSSFeed"
                                    )
                                )
                              ),
                            c.createElement(ut, {
                              eventModel: i,
                              bAllowUpdate: !1,
                            })
                          ),
                          Boolean(T) &&
                            c.createElement(
                              "div",
                              { className: ft.TileStats },
                              Object(f.n)(
                                "#EventDashBoard_Summary_Tile_Impressions",
                                c.createElement(
                                  "span",
                                  null,
                                  T.m_stats.total_showm.toLocaleString()
                                )
                              ),
                              c.createElement("br", null),
                              Object(f.n)(
                                "#EventDashBoard_Summary_Tile_Read",
                                c.createElement(
                                  "span",
                                  null,
                                  T.m_stats.total_read.toLocaleString()
                                )
                              )
                            )
                        ),
                        y,
                        D
                          ? c.createElement(
                              "div",
                              {
                                className: ft.TileButtonContainer,
                                onClick: function (e) {
                                  return t.OnIgnoreFallbackClick(e);
                                },
                              },
                              c.createElement(
                                "div",
                                null,
                                Object(f.f)(
                                  "#EventEditor_DataFromConnectAnnouncement"
                                )
                              ),
                              c.createElement(
                                Ne.c,
                                {
                                  className: Object(N.a)(
                                    ft.ManageButton,
                                    ft.Edit
                                  ),
                                  eventModel: i,
                                  route: Ne.a.k_eView,
                                },
                                Object(f.f)("#Button_ViewPage")
                              )
                            )
                          : c.createElement(
                              Ot,
                              Object(a.a)(
                                { fnOnGotoPage: this.OnGotoPage },
                                this.props
                              )
                            ),
                        s &&
                          c.createElement(
                            ve.b,
                            { requireAdmin: !0, clanSteamID: i.clanSteamID },
                            c.createElement(jt, { eventModel: i })
                          )
                      )
                    )
                  )
                );
              }),
              Object(a.c)([R.a], t.prototype, "OnFallbackClick", null),
              Object(a.c)([R.a], t.prototype, "OnGotoPage", null),
              Object(a.c)([R.a], t.prototype, "OnIgnoreFallbackClick", null),
              (t = Object(a.c)([I.a], t))
            );
          })(c.Component)),
        Ot = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnIgnoreFallbackClick = function (e) {
              e.stopPropagation();
            }),
            (t.prototype.OnClone = function (e) {
              var t = this;
              e.stopPropagation();
              var n = this.props.eventModel;
              l.c
                .LoadEditorModel(n.clanSteamID, n.GID)
                .then(function (e) {
                  var n = nt(e, !0, !0, !0),
                    a = n.GetLanguagesWithTokens();
                  if (a.length > 1) {
                    a.sort(function (e, t) {
                      return Object(f.f)(
                        "#Language_" + Object(Ae.a)(e)
                      ).localeCompare(
                        Object(f.f)("#Language_" + Object(Ae.a)(t))
                      );
                    });
                    var i = new Array(),
                      r = new Array();
                    a.forEach(function (e) {
                      i.push(
                        c.createElement(Me.e, {
                          key: e,
                          classname: ft.CloneCheckBox,
                          onChange: function (t) {
                            t ? r.splice(a.indexOf(e), 1) : r.push(e);
                          },
                          label: Object(f.f)("#Language_" + Object(Ae.a)(e)),
                          checked: !0,
                        })
                      );
                    }),
                      Object(Ie.d)(
                        c.createElement(
                          Te.d,
                          {
                            strTitle: Object(f.f)("#Button_Clone"),
                            onOK: function () {
                              return t.DoCloneAction(n, r);
                            },
                            strDescription: Object(f.f)(
                              "#EventEditor_Clone_MultiLanguages"
                            ),
                          },
                          c.createElement(
                            "div",
                            { className: ft.CloneLangCtn },
                            i
                          )
                        ),
                        window
                      );
                  } else t.DoCloneAction(n);
                })
                .catch(function (e) {
                  var t = Object(p.a)(e);
                  Object(Ie.d)(
                    c.createElement(Te.f, {
                      strTitle: Object(f.f)("#EventEditor_CloneError"),
                      bAlertDialog: !0,
                      bDestructiveWarning: !0,
                      strDescription: Object(f.f)(
                        "#EventEditor_CloneError_Desc",
                        t.strErrorMsg
                      ),
                    }),
                    window,
                    { strTitle: Object(f.f)("#EventEditor_CloneError") }
                  );
                });
            }),
            (t.prototype.DoCloneAction = function (e, t) {
              var n = l.c.CreateClone();
              t &&
                t.length > 0 &&
                (e.ClearLanguagesTokens(t),
                at(
                  n,
                  e,
                  f.b.GetLanguageListForRealms([X.f.k_ESteamRealmGlobal])
                )),
                this.props.fnOnGotoPage(null, "clone");
            }),
            (t.prototype.OnPublishEvent = function (e) {
              var t = this;
              e.stopPropagation();
              var n = this.props.eventModel;
              l.c
                .LoadEditorModel(n.clanSteamID, n.GID)
                .then(function () {
                  Object(Ie.c)(
                    c.createElement(vt, {
                      editModel: l.c.GetEditModel(),
                      OnPublishSuccess: t.OnPublishSuccess,
                    }),
                    window
                  );
                })
                .catch(function (e) {
                  var t = Object(p.a)(e);
                  Object(Ie.d)(
                    c.createElement(Te.f, {
                      strTitle: Object(f.f)("#EventEditor_PublishingError"),
                      bAlertDialog: !0,
                      bDestructiveWarning: !0,
                      strDescription: Object(f.f)(
                        "#EventEditor_PublishingError_Desc",
                        t.strErrorMsg
                      ),
                    }),
                    window,
                    { strTitle: Object(f.f)("#EventEditor_PublishingError") }
                  );
                });
            }),
            (t.prototype.OnPublishSuccess = function () {
              this.setState({ redirectTarget: "view" });
            }),
            (t.prototype.StopPropagation = function (e) {
              e.stopPropagation();
            }),
            (t.prototype.OnDeleteClickAndVerify = function (e) {
              e.stopPropagation(),
                Object(Ie.c)(
                  c.createElement(Le.a, {
                    eventModel: this.props.eventModel,
                    partnerEventStore: l.c,
                  }),
                  Object(Fe.m)(e)
                );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.eventModel,
                a = (t.appid_or_vanity_str, n.bOldAnnouncement),
                i = n.visibility_state != Ce.b.k_EEventStateVisible,
                r = n.visibility_state != Ce.b.k_EEventStateUnpublished;
              return c.createElement(
                "div",
                {
                  className: ft.TileButtonContainer,
                  onClick: function (t) {
                    return e.OnIgnoreFallbackClick(t);
                  },
                },
                !a &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(ft.ManageButton, ft.Edit),
                      eventModel: n,
                      route: Ne.a.k_eCommunityEdit,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#Button_Edit")
                  ),
                a &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(ft.ManageButton, ft.Edit),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Button_MigrateAndEdit_Announcement_ttip"
                      ),
                      eventModel: n,
                      route: Ne.a.k_eCommunityMigrate,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventEditor_Button_MigrateAndEdit")
                  ),
                i &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(ft.ManageButton, ft.View),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Button_PreviewButton_ttip"
                      ),
                      eventModel: n,
                      route: Ne.a.k_eCommunityPreview,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventDisplay_Preview")
                  ),
                !i &&
                  c.createElement(
                    Ne.c,
                    {
                      className: Object(N.a)(ft.ManageButton, ft.View),
                      eventModel: n,
                      route: Ne.a.k_eView,
                      onClick: this.StopPropagation,
                    },
                    Object(f.f)("#EventDisplay_View")
                  ),
                !r &&
                  !a &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(ft.ManageButton, ft.Publish),
                      onClick: this.OnPublishEvent,
                    },
                    Object(f.f)("#EventDisplay_Publish")
                  ),
                c.createElement("div", { className: ft.Spacer }, ""),
                !a &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(ft.ManageButton, ft.Clone),
                      onClick: this.OnClone,
                    },
                    Object(f.f)("#Button_Clone")
                  ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(ft.ManageButton, ft.Delete),
                    "data-tooltip-text": Object(f.f)(
                      "#EventEditor_Button_DeleteButton_ttip"
                    ),
                    onClick: this.OnDeleteClickAndVerify,
                  },
                  Object(f.f)("#Button_Delete")
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnIgnoreFallbackClick", null),
            Object(a.c)([R.a], t.prototype, "OnClone", null),
            Object(a.c)([R.a], t.prototype, "DoCloneAction", null),
            Object(a.c)([R.a], t.prototype, "OnPublishEvent", null),
            Object(a.c)([R.a], t.prototype, "OnPublishSuccess", null),
            Object(a.c)([R.a], t.prototype, "StopPropagation", null),
            Object(a.c)([R.a], t.prototype, "OnDeleteClickAndVerify", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component);
      function yt(e, t) {
        if (!e || t <= 0) return [];
        var n = new Array();
        return (
          Object.keys(e).forEach(function (a) {
            var i,
              r = e[a],
              o =
                (null === (i = JSON.stringify(r)) || void 0 === i
                  ? void 0
                  : i.length) || 0;
            n.push({ key: a, size: o }),
              r &&
                "object" == typeof r &&
                o > 100 &&
                yt(r, t - 1).forEach(function (e) {
                  n.push({ key: a + ":" + e.key, size: e.size });
                });
          }),
          n
        );
      }
      var Ct,
        jt = function (e) {
          var t,
            n,
            a = e.eventModel;
          if (!(null == a ? void 0 : a.jsondata)) return null;
          var i = yt(a.jsondata, 3);
          i.sort(function (e, t) {
            return t.size - e.size;
          });
          return c.createElement(
            "div",
            { className: ft.MetaDataCtn },
            c.createElement(
              "div",
              null,
              "Total Size: ",
              null ===
                (n =
                  null === (t = JSON.stringify(a.jsondata)) || void 0 === t
                    ? void 0
                    : t.length) || void 0 === n
                ? void 0
                : n.toLocaleString()
            ),
            i.slice(0, 10).map(function (e) {
              return c.createElement(
                "div",
                { key: e.key },
                e.key,
                ": ",
                e.size.toLocaleString()
              );
            })
          );
        };
      !(function (e) {
        (e[(e.k_ModReviewed = 0)] = "k_ModReviewed"),
          (e[(e.k_ModUnreviewed = 1)] = "k_ModUnreviewed"),
          (e[(e.k_ChangeEventType = 2)] = "k_ChangeEventType"),
          (e[(e.k_UpdateSeasonTags = 3)] = "k_UpdateSeasonTags"),
          (e[(e.k_ModReReviewed = 4)] = "k_ModReReviewed"),
          (e[(e.k_ModRemovedFromSteamChina = 5)] =
            "k_ModRemovedFromSteamChina"),
          (e[(e.k_ModFlagAdultOnlyContent = 6)] = "k_ModFlagAdultOnlyContent"),
          (e[(e.k_ModRemoveAdultOnlyContent = 7)] =
            "k_ModRemoveAdultOnlyContent");
      })(Ct || (Ct = {}));
      var Tt = "ModAct",
        It = (function () {
          function e() {}
          return (
            (e.prototype.ToModString = function () {
              var e =
                "ModAct_" +
                this.m_moderator +
                "_" +
                Math.floor(this.m_rtWhen) +
                "_" +
                this.m_action;
              switch (this.m_action) {
                case Ct.k_ChangeEventType:
                  e += "_" + this.m_newEventType;
                  break;
                case Ct.k_UpdateSeasonTags:
                  e += "_" + this.m_newTagAdded;
              }
              return e;
            }),
            (e.prototype.FromString = function (e) {
              var t = e.split("_");
              if (!t || t[0] !== Tt) return !1;
              switch (
                ((this.m_moderator = Number(t[1])),
                (this.m_rtWhen = Number(t[2])),
                (this.m_action = Number(t[3])),
                this.m_action)
              ) {
                case Ct.k_ChangeEventType:
                  this.m_newEventType = Number(t[4]);
                  break;
                case Ct.k_UpdateSeasonTags:
                  this.m_newTagAdded = t.slice(4).join("_");
              }
              return !0;
            }),
            (e.prototype.SetActionChangeEvent = function (e) {
              return (
                (this.m_moderator = m.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = Ct.k_ChangeEventType),
                (this.m_newEventType = e),
                this
              );
            }),
            (e.prototype.SetReviewAction = function (e) {
              return (
                (this.m_moderator = m.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? Ct.k_ModReviewed : Ct.k_ModUnreviewed),
                this
              );
            }),
            (e.prototype.SetAdultOnlyContentAction = function (e) {
              return (
                (this.m_moderator = m.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e
                  ? Ct.k_ModFlagAdultOnlyContent
                  : Ct.k_ModRemoveAdultOnlyContent),
                this
              );
            }),
            (e.prototype.SetReReviewAction = function (e) {
              return (
                (this.m_moderator = m.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = e ? Ct.k_ModReReviewed : Ct.k_ModUnreviewed),
                this
              );
            }),
            (e.IsAuditAction = function (e) {
              return e.startsWith(Tt);
            }),
            (e.prototype.SetUpdateSeasonalTags = function (e) {
              return (
                (this.m_moderator = m.i.accountid),
                (this.m_rtWhen = Date.now() / 1e3),
                (this.m_action = Ct.k_UpdateSeasonTags),
                (this.m_newTagAdded = e),
                this
              );
            }),
            e
          );
        })(),
        Dt = n("Qcoi"),
        wt = n("zrk3"),
        Gt = Object(I.a)(function (e) {
          var t = e.accountID,
            n = e.locToken,
            i = g.a.InitFromAccountID(t).ConvertTo64BitString(),
            r = c.useRef(null),
            o = c.useState(Dt.a.GetProfile(i)),
            l = o[0],
            s = o[1];
          c.useEffect(
            function () {
              var e = g.a.InitFromAccountID(t).ConvertTo64BitString();
              if (!Dt.a.BHasProfile(e)) {
                Object(a.b)(void 0, void 0, void 0, function () {
                  var t, n, i;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        (t = y.a.CancelToken.source()),
                          (r.current = t.cancel),
                          (a.label = 1);
                      case 1:
                        return (
                          a.trys.push([1, 3, , 4]), [4, Dt.a.LoadProfiles([e])]
                        );
                      case 2:
                        return a.sent(), [3, 4];
                      case 3:
                        return (
                          (n = a.sent()),
                          (i = Object(p.a)(n)),
                          console.error(
                            "EventModerationTile profile load : " +
                              i.strErrorMsg,
                            i
                          ),
                          [3, 4]
                        );
                      case 4:
                        return t.token.reason || s(Dt.a.GetProfile(e)), [2];
                    }
                  });
                });
              }
              return function () {
                r.current && r.current("ModEventUserProfile: unmounting");
              };
            },
            [t]
          );
          var d =
            "https://steamsupport.valvesoftware.com/account/overview/" + i;
          return c.createElement(
            "div",
            null,
            Object(f.n)(
              n,
              c.createElement(
                "a",
                { href: d, target: m.c.IN_CLIENT ? void 0 : "_blank" },
                Boolean(l)
                  ? c.createElement(c.Fragment, null, l.persona_name)
                  : c.createElement(
                      c.Fragment,
                      null,
                      c.createElement("span", null, t)
                    )
              )
            )
          );
        }),
        At = function (e) {
          var t = e.modAction,
            n = Object(f.k)(t.m_rtWhen) + " @ " + Object(f.m)(t.m_rtWhen),
            a = c.createElement(Gt, {
              locToken: "#EventModTile_Moderator",
              accountID: t.m_moderator,
            });
          switch (t.m_action) {
            case Ct.k_ModReviewed:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_Reviewed",
                  c.createElement("span", null, n),
                  a
                )
              );
            case Ct.k_ModUnreviewed:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_UnReviewed",
                  c.createElement("span", null, n),
                  a
                )
              );
            case Ct.k_ChangeEventType:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_NewEventType",
                  c.createElement("span", null, n),
                  a,
                  Object(B.e)(t.m_newEventType)
                )
              );
            case Ct.k_UpdateSeasonTags:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_SeasonTagUpdate",
                  c.createElement("span", null, n),
                  a,
                  t.m_newTagAdded
                )
              );
            case Ct.k_ModReReviewed:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_ReReviewed",
                  c.createElement("span", null, n),
                  a
                )
              );
            case Ct.k_ModRemovedFromSteamChina:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_RemoveFromSC",
                  c.createElement("span", null, n),
                  a
                )
              );
            case Ct.k_ModFlagAdultOnlyContent:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_FlagAdultContent",
                  c.createElement("span", null, n),
                  a
                )
              );
            case Ct.k_ModRemoveAdultOnlyContent:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                Object(f.n)(
                  "#EventModTile_Action_RemoveAdultContent",
                  c.createElement("span", null, n),
                  a
                )
              );
            default:
              return c.createElement(
                "div",
                { className: wt.ModeratorAuditActionCtn },
                t.ToModString
              );
          }
        },
        Mt = function (e) {
          var t = c.useState(!0),
            n = t[0],
            a = t[1],
            i = e.eventModel
              .GetAllTags()
              .filter(function (e) {
                return It.IsAuditAction(e);
              })
              .reverse(),
            r = i.length,
            o = i.length > 3 && n;
          return 0 == i.length
            ? null
            : (o && (i = i.splice(0, 3)),
              c.createElement(
                "div",
                null,
                c.createElement(
                  "h4",
                  null,
                  Object(f.f)("#EventModTile_Action_Title")
                ),
                (function (t) {
                  var n = e.eventModel;
                  return t.map(function (e) {
                    var t = new It();
                    return (
                      t.FromString(e),
                      c.createElement(At, { key: n.GID + e, modAction: t })
                    );
                  });
                })(i),
                o &&
                  c.createElement(
                    "a",
                    {
                      onClick: function () {
                        return a(!1);
                      },
                      className: wt.ExpandModActions,
                    },
                    Object(f.f)("#EventModTile_Action_More", r - 3)
                  ),
                Boolean(!o && r > 3) &&
                  c.createElement(
                    "a",
                    {
                      onClick: function () {
                        return a(!0);
                      },
                      className: wt.ExpandModActions,
                    },
                    Object(f.f)("#EventModTile_Action_Hide")
                  )
              ));
        },
        kt = function (e) {
          var t,
            n,
            a,
            i,
            r = e.closeModal,
            o =
              ((t = m.b.CLANACCOUNTID),
              (n = d.a.useState(!C.Get().BHasLoadCompleted())),
              (a = n[0]),
              (i = n[1]),
              d.a.useEffect(
                function () {
                  if (!C.Get().BHasLoadCompleted()) {
                    var e = g.a.InitFromClanID(t);
                    C.Get()
                      .LoadAuditRecords(e)
                      .finally(function () {
                        return i(!1);
                      });
                  }
                },
                [t]
              ),
              a ? void 0 : C.Get().GetAllRecords());
          return c.createElement(
            Te.d,
            {
              title: "Publishing Audit History",
              bAlertDialog: !0,
              onOK: r,
              onCancel: r,
              strDescription:
                "Here are the publishing audit history. Recorded starting from mid-June 2021",
            },
            Boolean(null == o)
              ? c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                  position: "center",
                  size: "medium",
                })
              : Boolean(0 == o.length)
              ? c.createElement("div", null, "No Publishing History available")
              : o.map(function (e) {
                  return c.createElement(Lt, {
                    key: e.clan_event_gid,
                    record: e,
                  });
                })
          );
        },
        Lt = function (e) {
          var t,
            n = e.record;
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, "Clan Event GID: ", n.clan_event_gid),
            c.createElement("div", null, "Type: ", Object(B.e)(n.event_type)),
            c.createElement(
              "div",
              null,
              "Publish Time: ",
              c.createElement(Re.a, {
                dateAndTime: n.publish_time,
                bSingleLine: !0,
              })
            ),
            c.createElement(
              "div",
              null,
              c.createElement(Gt, {
                accountID: n.publish_account_id,
                locToken: "#EventDashbard_PublishingAccount",
              })
            ),
            c.createElement(
              "div",
              null,
              "tags: ",
              null === (t = n.tags) || void 0 === t ? void 0 : t.join(", ")
            ),
            c.createElement("hr", null)
          );
        },
        Nt = n("NpuA"),
        Bt = n.n(Nt),
        Rt = n("f1ZV"),
        Ft = n("X2UP"),
        Pt = n("CdLH"),
        xt = n("dQ8J"),
        Ut = n.n(xt);
      function Ht(e) {
        var t = e.clanInfo,
          n = e.closeModal,
          i = c.useState(!0),
          r = i[0],
          o = i[1],
          l = c.useState(!0),
          s = l[0],
          d = l[1],
          u = 1063339200,
          p = w.a.GetTimeNowWithOverride(),
          g = c.useState(p - Pt.f.PerMonth),
          E = g[0],
          b = g[1],
          v = c.useState(p),
          h = v[0],
          S = v[1],
          O = c.useState(-1),
          y = O[0],
          C = O[1],
          j = y >= 0;
        return c.createElement(
          Te.d,
          {
            strTitle: Object(f.f)("#EventDashboard_Stats_title"),
            strDescription: Object(f.f)("#EventDashboard_Stats_desc"),
            closeModal: n,
            bDisableBackgroundDismiss: !0,
            bOKDisabled: j,
            onOK: function () {
              return (function (e, t, n, i) {
                return Object(a.b)(this, void 0, void 0, function () {
                  var r, o, l, s, c, d, u, p, _, g;
                  return Object(a.e)(this, function (E) {
                    switch (E.label) {
                      case 0:
                        (r = new Array()),
                          (o = Object(Ft.a)("ExportPartnerEventStats")),
                          i((l = 0)),
                          (s = 100),
                          (c = 0),
                          (d = void 0),
                          (u = new Array()),
                          (p = Object(Ae.d)(m.c.LANGUAGE)),
                          (E.label = 1);
                      case 1:
                        return (
                          (c += 1),
                          [
                            4,
                            Ce.d.LoadAdjacentPartnerEvents(
                              d,
                              e.clanSteamID,
                              void 0,
                              0,
                              s,
                              { rtime_oldestevent: t },
                              o
                            ),
                          ]
                        );
                      case 2:
                        return (null == (u = E.sent()) ? void 0 : u.length) > 0
                          ? ((l += u.length),
                            i(l),
                            (d = u[u.length - 1].GID),
                            (_ = u
                              .filter(function (e) {
                                return e.startTime <= n && e.BIsVisibleEvent();
                              })
                              .map(function (e) {
                                return e.GID;
                              })).length > 0
                              ? [
                                  4,
                                  ye.a.LoadStatsForEvents(e.clanSteamID, _, o),
                                ]
                              : [3, 4])
                          : [3, 4];
                      case 3:
                        E.sent(),
                          (l += _.length),
                          i(l),
                          _.forEach(function (t) {
                            var n = ye.a.GetStatsFor(e.clanSteamID, t),
                              i = Ce.d.GetClanEventModel(t);
                            r.push(
                              Object(a.a)(
                                Object(a.a)(
                                  { event_name: i.GetNameWithFallback(p) },
                                  n.m_stats
                                ),
                                { event_gid: "'" + t }
                              )
                            );
                          }),
                          (E.label = 4);
                      case 4:
                        if (u.length == s && c < 100) return [3, 1];
                        E.label = 5;
                      case 5:
                        return (
                          (g = Bt.a.unparse(r, { header: !0 })),
                          Ve.a.WriteFile(
                            new Blob([g], { type: "text/csv:charset=utf-8;" }),
                            "event_stats_" +
                              e.group_name
                                .toLocaleLowerCase()
                                .replace(/\s/g, "_") +
                              ".csv"
                          ),
                          [2, !0]
                        );
                    }
                  });
                });
              })(t, r ? u : E, s ? Number.MAX_SAFE_INTEGER : h, C).then(
                function () {
                  return n();
                }
              );
            },
          },
          c.createElement(
            "div",
            { className: Ut.a.DialogCtn },
            c.createElement(
              "div",
              { className: "DialogLabel" },
              Object(f.f)("#EventDashboard_Stats_Oldest_Title")
            ),
            c.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              c.createElement(Me.e, {
                label: Object(f.f)("#EventDashboard_Stats_Oldest"),
                onChange: o,
                checked: r,
                disabled: j,
              }),
              !r &&
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventDashboard_Stats_Oldest_Override"),
                  c.createElement(Rt.a, {
                    nEarliestTime: u,
                    nLatestTime: s ? void 0 : h,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: function () {
                      return E;
                    },
                    fnSetTimeToUpdate: b,
                    disabled: j,
                  })
                )
            ),
            c.createElement(
              "div",
              { className: "DialogLabel" },
              Object(f.f)("#EventDashboard_Stats_Newest_Title")
            ),
            c.createElement(
              "div",
              { className: "_DialogInputContainer _DialogLayout" },
              c.createElement(Me.e, {
                label: Object(f.f)("#EventDashboard_Stats_Newest"),
                onChange: d,
                checked: s,
                disabled: j,
              }),
              !s &&
                c.createElement(
                  "div",
                  null,
                  Object(f.f)("#EventDashboard_Stats_Newest_Override"),
                  c.createElement(Rt.a, {
                    nEarliestTime: r ? u : E,
                    bShowTimeZone: !0,
                    fnGetTimeToUpdate: function () {
                      return h;
                    },
                    fnSetTimeToUpdate: S,
                    disabled: j,
                  })
                )
            ),
            j &&
              c.createElement(_.a, {
                position: "center",
                size: "medium",
                string: Object(f.f)("#EventDashboard_Stats_Progress", y),
              })
          )
        );
      }
      var Vt = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.state = {
                bInitialLoadComplete: !1,
                bInfiniteScrollLoading: !1,
                bExhaustedEventList: !1,
                bErrorOnInfiniteScrollRequest: !1,
                nLastFetchRequestedMS: 0,
                bShowEventMetaDataSizes: !1,
              }),
              (n.m_refScroll = c.createRef()),
              (n.m_cancelSignal = y.a.CancelToken.source()),
              (n.m_clanSteamID = new g.a(m.b.CLANSTEAMID)),
              (n.k_nMaxPerDirection = 10),
              (n.m_IntervalTimer = void 0),
              m.b.CLANACCOUNTID == D.E && (n.k_nMaxPerDirection = 2),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.EnsureEventsAreLoaded = function () {
              var e = this;
              l.c
                .LoadClanEventsForPartnerDashboard(
                  this.m_clanSteamID,
                  this.m_cancelSignal
                )
                .then(function (t) {
                  e.EventLoaded(), e.setState({ bInitialLoadComplete: !0 });
                })
                .catch(this.HandleErrorWithDialog);
            }),
            (t.prototype.EventLoaded = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e;
                return Object(a.e)(this, function (t) {
                  return (
                    (e = l.c
                      .GetClanEventGIDs(this.m_clanSteamID)
                      .filter(function (e) {
                        var t = l.c.GetClanEventModel(e);
                        return Boolean(
                          t && t.BIsVisibleEvent() && t.BIsPartnerEvent()
                        );
                      })).length > 0 &&
                      ye.a.LoadStatsForEvents(
                        this.m_clanSteamID,
                        e,
                        this.m_cancelSignal
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.HandleErrorWithDialog = function (e) {
              var t = Object(p.a)(e);
              Object(Ie.d)(
                c.createElement(
                  Te.f,
                  null,
                  Object(f.f)("#Error_Description", t.errorCode, t.strErrorMsg)
                ),
                window
              );
            }),
            (t.prototype.componentDidMount = function () {
              this.EnsureEventsAreLoaded(),
                l.c.GetEditModel() && l.c.ResetModel(),
                window.addEventListener("scroll", this.OnScroll, !0);
            }),
            (t.prototype.componentDidUpdate = function (e) {
              this.props.match.params.appid_or_vanity_str !=
                e.match.params.appid_or_vanity_str &&
                this.EnsureEventsAreLoaded(),
                this.m_refScroll && this.m_refScroll.current && this.OnScroll();
            }),
            (t.prototype.componentWillUnmount = function () {
              window.removeEventListener("scroll", this.OnScroll),
                this.m_cancelSignal.cancel("EventListView to unload"),
                this.ClearTimer();
            }),
            (t.prototype.ClearTimer = function () {
              this.m_IntervalTimer &&
                (window.clearInterval(this.m_IntervalTimer),
                (this.m_IntervalTimer = void 0));
            }),
            (t.prototype.CreateTiles = function (e, t) {
              var n = [],
                a = l.c.GetClanEventGIDs(e);
              if ((null == a ? void 0 : a.length) > 0)
                for (
                  var i = 0,
                    r = (a = (a = a.slice().filter(function (e) {
                      var n = l.c.GetClanEventModel(e);
                      return (null == n ? void 0 : n.visibility_state) === t;
                    })).sort(function (e, t) {
                      Object(De.a)(
                        e !== t,
                        "Unexpected duplicates in the list: " + e + " " + t
                      );
                      var n = l.c.GetClanEventModel(e);
                      return l.c.GetClanEventModel(t).startTime - n.startTime;
                    }));
                  i < r.length;
                  i++
                ) {
                  var o = r[i],
                    s = l.c.GetClanEventModel(o);
                  n.push(
                    c.createElement(St, {
                      key: o,
                      appid_or_vanity_str: this.props.match.params
                        .appid_or_vanity_str,
                      gid: o,
                      eventModel: s,
                      bShowEventMetaDataSizes: this.state
                        .bShowEventMetaDataSizes,
                    })
                  );
                }
              return n;
            }),
            (t.prototype.OnScroll = function () {
              if (this.m_refScroll && this.m_refScroll.current) {
                var e = this.m_refScroll.current;
                e &&
                  (this.state.bExhaustedEventList ||
                    this.state.bErrorOnInfiniteScrollRequest ||
                    this.state.bInfiniteScrollLoading ||
                    (e.getBoundingClientRect().bottom <=
                      window.innerHeight + 50 &&
                      (this.state.nLastFetchRequestedMS > 0 &&
                      this.state.nLastFetchRequestedMS + 500 < Date.now()
                        ? this.setState(
                            {
                              bInfiniteScrollLoading: !0,
                              nLastFetchRequestedMS: Date.now(),
                            },
                            this.LoadMorePublicEvents
                          )
                        : this.setState(
                            {
                              bInfiniteScrollLoading: !0,
                              nLastFetchRequestedMS: Date.now(),
                            },
                            this.LoadMorePublicEventWithDelay
                          ))));
              }
            }),
            (t.prototype.LoadMorePublicEventWithDelay = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  return (
                    (this.m_IntervalTimer = window.setInterval(
                      this.LoadMorePublicEvents,
                      500
                    )),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.LoadMorePublicEvents = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (
                        (this.ClearTimer(), !this.state.bInfiniteScrollLoading)
                      )
                        return [2];
                      (e = null),
                        l.c
                          .GetAllClanEvents(this.m_clanSteamID)
                          .forEach(function (t) {
                            t.BIsVisibleEvent() &&
                              (!e || t.startTime <= e.startTime) &&
                              (e = t);
                          }),
                        (t = !1),
                        (n = !1),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 6, , 7]),
                        (i = void 0),
                        e && e.bOldAnnouncement
                          ? [
                              4,
                              l.c.LoadAdjacentPartnerEventsByAnnouncement(
                                e.AnnouncementGID,
                                this.m_clanSteamID,
                                void 0,
                                0,
                                this.k_nMaxPerDirection
                              ),
                            ]
                          : [3, 3]
                      );
                    case 2:
                      return (i = a.sent()), [3, 5];
                    case 3:
                      return [
                        4,
                        l.c.LoadAdjacentPartnerEvents(
                          e ? e.GID : void 0,
                          this.m_clanSteamID,
                          void 0,
                          0,
                          this.k_nMaxPerDirection
                        ),
                      ];
                    case 4:
                      (i = a.sent()), (a.label = 5);
                    case 5:
                      return (t = i.length < this.k_nMaxPerDirection), [3, 7];
                    case 6:
                      return (
                        (r = a.sent()),
                        console.log(
                          "EventListView: " + Object(p.a)(r).strErrorMsg
                        ),
                        (n = !0),
                        [3, 7]
                      );
                    case 7:
                      return (
                        this.setState(
                          {
                            bExhaustedEventList: t,
                            bInfiniteScrollLoading: !1,
                            bErrorOnInfiniteScrollRequest: n,
                          },
                          this.EventLoaded
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.UpdateShowEventMetaDataSizes = function (e) {
              this.setState({ bShowEventMetaDataSizes: e });
            }),
            (t.prototype.render = function () {
              var e = new g.a(m.b.CLANSTEAMID),
                t = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateUnpublished
                ),
                n = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateStaged
                ),
                a = this.CreateTiles(
                  this.m_clanSteamID,
                  Ce.b.k_EEventStateVisible
                ),
                i =
                  !this.state.bInitialLoadComplete ||
                  this.state.bInfiniteScrollLoading;
              return c.createElement(
                "div",
                { ref: this.m_refScroll },
                c.createElement(E.e, null),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      "maincontent",
                      Ge.a.EventDashboardCtn
                    ),
                  },
                  c.createElement(zt, {
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                  }),
                  c.createElement(
                    ve.b,
                    { requireAdmin: !0, clanSteamID: e },
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          "maincontent",
                          Ge.a.EventDashboardCtn,
                          Ge.a.EventDashAdminToolsCtn,
                          L.a.FlexRowContainer
                        ),
                      },
                      c.createElement(Me.e, {
                        label: "Show Event Metadata Size",
                        tooltip:
                          "Surfaces the size of the biggest sections in the event's metadata",
                        onChange: this.UpdateShowEventMetaDataSizes,
                        checked: this.state.bShowEventMetaDataSizes,
                      }),
                      c.createElement(
                        Me.d,
                        {
                          onClick: function (e) {
                            Object(Ie.d)(
                              c.createElement(kt, null),
                              Object(Fe.m)(e)
                            );
                          },
                        },
                        "Show Publishing Audit History"
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Ge.a.MainLists },
                  t.length > 0 &&
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(Ge.a.Section, Ge.a.Unpublished),
                      },
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            "maincontent",
                            "eventlist",
                            Ge.a.EventDashboardCtn
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: Ge.a.DisplaySectionHeader },
                          Object(f.f)("#EventDisplay_Unpublished_Title"),
                          " ",
                          c.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(f.f)(
                                "#EventDisplay_Unpublished_SubTitle"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        t.length > 0 && t
                      )
                    ),
                  n.length > 0 &&
                    c.createElement(
                      "div",
                      { className: Object(N.a)(Ge.a.Section, Ge.a.Staged) },
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            "maincontent",
                            "eventlist",
                            Ge.a.EventDashboardCtn
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: Ge.a.DisplaySectionHeader },
                          Object(f.f)("#EventDisplay_Stage_Title"),
                          " ",
                          c.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(f.f)(
                                "#EventDisplay_Stage_SubTitle"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        n.length > 0 && n
                      )
                    ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        Ge.a.Section,
                        Ge.a.DisplaySectionHeaderContainer,
                        Ge.a.Visible
                      ),
                    },
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          "maincontent",
                          "eventlist",
                          Ge.a.EventDashboardCtn
                        ),
                      },
                      c.createElement(
                        "div",
                        { className: Ge.a.DisplaySectionHeader },
                        Object(f.f)("#EventDisplay_Visible_Title")
                      ),
                      c.createElement(
                        "div",
                        { className: Ge.a.DisplaySectionSubHeader },
                        Object(f.f)("#EventDisplay_Visible_Title_WithRange")
                      ),
                      a && a,
                      !i &&
                        !a &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_NoPublic")
                        ),
                      i &&
                        c.createElement(_.a, {
                          position: "center",
                          string: Object(f.f)("#Loading"),
                        }),
                      this.state.bExhaustedEventList &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_AllPublicShown")
                        ),
                      this.state.bErrorOnInfiniteScrollRequest &&
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#EventDisplay_HitErrorInfiniteScroll")
                        )
                    )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnScroll", null),
            Object(a.c)(
              [R.a],
              t.prototype,
              "LoadMorePublicEventWithDelay",
              null
            ),
            Object(a.c)([R.a], t.prototype, "LoadMorePublicEvents", null),
            Object(a.c)(
              [R.a],
              t.prototype,
              "UpdateShowEventMetaDataSizes",
              null
            ),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        zt = Object(I.a)(function (e) {
          var t = new g.a(m.b.CLANSTEAMID),
            n = h.a.GetClanInfoByClanAccountID(t.GetAccountID()),
            a = e.appid_or_vanity_str,
            i = ye.a.GetTotalStats(t);
          return c.createElement(
            "div",
            { className: L.a.EventDashboardHeader },
            c.createElement(be, { identifier: a, partnerEventStore: l.c }),
            c.createElement(
              "div",
              { className: L.a.EventDashboardTitles },
              c.createElement(
                "div",
                { className: L.a.maintitle },
                Object(f.f)("#EventDisplay_Events"),
                c.createElement(
                  "div",
                  { className: L.a.subtitle },
                  Object(f.f)("#EventDisplay_Edit_Desc")
                )
              ),
              c.createElement(
                "div",
                { className: L.a.EventDashboardActions },
                c.createElement(
                  me.b,
                  {
                    className: Object(N.a)(L.a.Button, L.a.Primary),
                    to: o.a.Create(a),
                    onClick: function () {
                      return l.c.ResetModel();
                    },
                  },
                  Object(f.f)("#EventDisplay_CreateNewEvent")
                ),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        c.createElement(Ht, { clanInfo: n }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  Object(f.f)("#EventDashboard_Stats_export")
                )
              )
            ),
            c.createElement(
              "div",
              { className: L.a.EventDashboardStatsCtn },
              c.createElement(je.a, {
                summary: i.m_stats,
                bIsAllowedInLibrary: null == n ? void 0 : n.is_ogg,
                bIncludeDescription: !0,
              })
            )
          );
        }),
        Wt = S(Vt),
        qt = n("YNty"),
        Yt = n("UWWC"),
        Jt = n("YWVM"),
        Qt = n("SdTr"),
        Zt = n("ZlHF"),
        Kt = n.n(Zt),
        Xt = n("6AJf"),
        $t = n("rerp"),
        en = n.n($t),
        tn = n("aXcg"),
        nn = Object(I.a)(function (e) {
          var t = e.editModel,
            n = Object(bt.c)()[0],
            a = t.GetEventModel().bOldAnnouncement,
            i = c.useState(!1),
            r = i[0],
            s = i[1];
          if (r) {
            var d = t.GetStrVanityOrAppID();
            return c.createElement(pe.b, {
              push: !0,
              to: a
                ? o.a.Migrate(d, t.GetAnnouncementGID())
                : o.a.Edit(d, t.BHasGid() ? t.GetGID() : ""),
            });
          }
          var u = t.BHidden(),
            p = t.BPublished() && !t.BHidden(),
            m = t.BIsDirty() || n(t.GetGID());
          return c.createElement(
            "button",
            {
              onClick: function (e) {
                var t = l.c.GetEditModel(),
                  n = t.BHasGid();
                Object(Ie.d)(
                  c.createElement(ht, {
                    editModel: t,
                    OnSuccess: function () {
                      n || s(!0);
                    },
                  }),
                  Object(Fe.m)(e)
                );
              },
              className: "btn_green_steamui btn_medium",
            },
            c.createElement(
              "span",
              null,
              !m &&
                c.createElement("img", { className: tn.SavedImage, src: P.a }),
              Object(f.f)(m ? "#Button_Save" : "#Button_Saved"),
              m &&
                c.createElement(
                  "span",
                  {
                    "data-tooltip-text": u
                      ? Object(f.f)("#EventEditor_Create_ttip")
                      : p
                      ? Object(f.f)("#EventEditor_SaveLive_ttip")
                      : "",
                  },
                  u || p ? " (?)" : ""
                )
            )
          );
        }),
        an = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = l.c.GetEditModel(),
                t = e.GetCategoryAsType(),
                n = e.GetCurEditLanguage(),
                a = e.GetFallbackLanguageIfNeeded(),
                i = e.GetEventModel().bOldAnnouncement,
                r = this.props,
                s = r.appid_or_vanity_str,
                d = r.bShowPreviewEvent,
                u = r.bShowPreviewSale;
              return c.createElement(
                "div",
                { className: en.a.PreviewBarContainer },
                c.createElement(
                  me.b,
                  {
                    to: i
                      ? o.a.Migrate(s, e.GetAnnouncementGID())
                      : o.a.Edit(s, this.props.gid ? this.props.gid : "") +
                        (window.sessionStorage.getItem("editorCurrentTab") ||
                          ""),
                    className: L.a.EventBarBack,
                  },
                  28 == t
                    ? Object(f.f)("#EventEditor_TitleActionNews")
                    : Object(f.f)("#EventEditor_TitleAction")
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventBarTitleCtn },
                  c.createElement(
                    "div",
                    { className: L.a.EventBarTitle },
                    Object(f.f)("#EventEditor_TitleState_Previewing")
                  ),
                  c.createElement(E.d, { editModel: e })
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventOptions },
                  null != a &&
                    c.createElement(
                      "span",
                      { className: en.a.FallBackWarning },
                      Object(f.f)(
                        "#EventPreview_UsingFallBack",
                        Object(f.f)("#Language_" + Object(Ae.a)(a))
                      ),
                      c.createElement(
                        "span",
                        {
                          className: "ttip",
                          "data-tooltip-text": Object(f.f)(
                            "#EventPreview_UsingFallBack_ttip",
                            Object(f.f)("#Language_" + Object(Ae.a)(a)),
                            Object(f.f)("#Language_" + Object(Ae.a)(n))
                          ),
                        },
                        "(?)"
                      )
                    ),
                  c.createElement(E.c, null),
                  d &&
                    c.createElement(
                      Ne.c,
                      {
                        className: L.a.EditPreviewButton,
                        route: Ne.a.k_eCommunityPreview,
                        eventModel: e.GetEventModel(),
                      },
                      Object(f.f)("#EventEditor_Preview")
                    ),
                  u &&
                    c.createElement(
                      Ne.c,
                      {
                        className: L.a.EditPreviewButton,
                        route: Ne.a.k_eCommunityPreviewSale,
                        eventModel: e.GetEventModel(),
                      },
                      Object(f.f)("#EventEditor_PreviewSale")
                    ),
                  c.createElement(
                    me.b,
                    {
                      className: L.a.EditPreviewButton,
                      to: i
                        ? o.a.Migrate(s, e.GetAnnouncementGID())
                        : o.a.Edit(s, this.props.gid ? this.props.gid : "") +
                          (window.sessionStorage.getItem("editorCurrentTab") ||
                            ""),
                    },
                    28 == t
                      ? Object(f.f)("#EventEditor_TitleActionNews")
                      : Object(f.f)("#EventEditor_TitleAction")
                  )
                )
              );
            }),
            t
          );
        })(c.Component),
        rn = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.ComputeEditingModelTimeOverrides(),
                n = this.props.appid_or_vanity_str,
                a = e.GetEventModel();
              return a.BHasSaleEnabled() && this.props.bDisplaySale
                ? c.createElement(
                    "div",
                    { className: Kt.a.PreviewSalesPageContainer },
                    c.createElement(an, {
                      appid_or_vanity_str: n,
                      gid: this.props.gid,
                      bShowPreviewEvent: !0,
                    }),
                    c.createElement(
                      "div",
                      { style: { position: "relative" } },
                      c.createElement(
                        "div",
                        { className: en.a.StoreNavigationPlaceholder },
                        Object(f.f)("#Sale_ReservedStoreNavigation")
                      ),
                      c.createElement(Xt.c, {
                        eventModel: a,
                        bIsPreview: !0,
                        language: e.GetCurEditLanguage(),
                      })
                    )
                  )
                : c.createElement(qt.a, {
                    event: a,
                    titleBar: c.createElement(an, {
                      appid_or_vanity_str: n,
                      gid: this.props.gid,
                      bShowPreviewSale: a.BHasSaleEnabled(),
                    }),
                    lang: e.GetCurEditLanguage(),
                    nOverrideStartTime: t.nOverrideStartTime,
                    nOverrideEndTime: t.nOverrideEndTime,
                    partnerEventStore: l.c,
                    emoticonStore: Yt.b,
                    adminPanel: c.createElement(Jt.a, {
                      eventModel: a,
                      bPreviewMode: !0,
                      partnerEventStore: l.c,
                      addtionalAdminButtons: [
                        c.createElement(nn, {
                          key: e.GetUniqueKey(),
                          editModel: e,
                        }),
                      ],
                    }),
                    previewMode: !0,
                    otherEventRow: c.createElement(Qt.a, {
                      clanAccountID: a.clanSteamID.GetAccountID(),
                      gidAnnouncement: a.AnnouncementGID,
                      partnerEventStore: l.c,
                      bViewAllShowInfiniteScroll: !a.BIsOGGEvent(),
                    }),
                  });
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        on = n("eDP5");
      function ln(e, t, n, a) {
        var i = JSON.parse(JSON.stringify(e)),
          r = t.split(".");
        for (var o in i)
          if (o === r[0])
            if (Array.isArray(i[o])) {
              var l = i[o];
              if (1 === r.length) {
                (s = l).splice(a ? 1 : 0), s.push(n), (i[o] = s);
              } else {
                var s = l.map(function (e) {
                  return ln(e, r.slice(1).join("."), n, a);
                });
                i[o] = s;
              }
            } else
              1 === r.length
                ? (i[o] = n)
                : (i[o] = ln(i[o], r.slice(1).join("."), n, a));
        return i;
      }
      var sn = Object(I.a)(function (e) {
        var t = e.editModel,
          n = (t.GetClanSteamID(), c.useState(!0)),
          a = n[0],
          i = n[1],
          r = Object(c.useState)(!0),
          o = r[0],
          l = r[1],
          s = Object(c.useState)(!0),
          d = s[0],
          u = s[1];
        if (!m.i.logged_in || !m.i.is_support) return null;
        var p = new Array(),
          _ = t.GetAllTags();
        _ &&
          _.forEach(function (e) {
            p.push(c.createElement("div", { key: e }, e));
          });
        var g = t.GetEventModel().jsondata;
        if (a) {
          var E = function (e) {
              var t = function (t) {
                if (Array.isArray(e[t])) {
                  var n = -1;
                  e[t].forEach(function (a, i) {
                    null != a &&
                      ((n = i), "object" == typeof a && (e[t][i] = E(a)));
                  }),
                    -1 == n
                      ? (e[t] = "[all empty array]")
                      : n < e[t].length - 1 &&
                        (e[t].splice(n + 1),
                        e[t].push("... rest are empty ..."));
                } else "object" == typeof e[t] && (e[t] = E(e[t]));
              };
              for (var n in e) t(n);
              return e;
            },
            b = JSON.parse(JSON.stringify(t.GetEventModel().jsondata));
          g = E(b);
        }
        o &&
          (g = ln(
            g,
            "sale_sections.facets.facetValues.name",
            "... and localized versions ...",
            !0
          )),
          d && (g = ln(g, "tagged_items.tags", "... sale tags hidden ...", !1));
        var v = t.GetCreatorUserSteamID(),
          h = t.GetLastUpdater(),
          f = st(t.GetEventModel()),
          S = f[0],
          O = f[1];
        return c.createElement(
          "div",
          null,
          c.createElement(
            "div",
            null,
            c.createElement(Me.e, {
              label: "collapse empty arrays",
              checked: a,
              onChange: function (e) {
                return i(e);
              },
            }),
            c.createElement(Me.e, {
              label: "collapse facet value names",
              checked: o,
              onChange: function (e) {
                return l(e);
              },
            }),
            c.createElement(Me.e, {
              label: "collapse sale tags",
              checked: d,
              onChange: function (e) {
                return u(e);
              },
            }),
            c.createElement("h1", null, "Data:"),
            c.createElement(
              "div",
              null,
              "Clan SteamID: ",
              t.GetClanSteamID().ConvertTo64BitString()
            ),
            c.createElement(
              "div",
              null,
              "Clan AccountID: ",
              t.GetClanSteamID().GetAccountID()
            ),
            c.createElement(
              "div",
              null,
              v.BIsValid()
                ? c.createElement(Gt, {
                    accountID: v.GetAccountID(),
                    locToken: "#EventModTile_EventCreator",
                  })
                : "Original Poster: not set"
            ),
            c.createElement(
              "div",
              null,
              h.BIsValid()
                ? c.createElement(Gt, {
                    accountID: h.GetAccountID(),
                    locToken: "#EventModTile_EventLastUpdator",
                  })
                : "Last Updater: not set"
            ),
            c.createElement("div", null, "AppID: ", t.GetAppID()),
            c.createElement("div", null, "Event GID: ", t.GetEventModel().GID),
            c.createElement(
              "div",
              null,
              "Announcement GID: ",
              t.GetEventModel().AnnouncementGID
            ),
            c.createElement(
              "div",
              null,
              "Forum Topic URL: ",
              t.GetEventModel().GetForumTopicURL()
            ),
            c.createElement(
              "div",
              null,
              "Featured App TagID: ",
              t.GetEventModel().featured_app_tagid
            ),
            c.createElement(
              "div",
              null,
              "Event Start Time: ",
              t.GetEventModel().startTime,
              " -",
              Boolean(0 != t.GetEventModel().startTime) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().startTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Event End Time: ",
              t.GetEventModel().endTime,
              " -",
              Boolean(0 != t.GetEventModel().endTime) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().endTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Visibility Start Time: ",
              t.GetEventModel().visibilityStartTime,
              " -",
              Boolean(0 != t.GetEventModel().visibilityStartTime) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().visibilityStartTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Visibility End Time: ",
              t.GetEventModel().visibilityEndTime,
              " -",
              Boolean(0 != t.GetEventModel().visibilityEndTime) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().visibilityEndTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Post Time: ",
              t.GetEventModel().postTime,
              " -",
              Boolean(0 != t.GetEventModel().postTime) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().postTime,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Last Modified Time (by user): ",
              t.GetEventModel().rtime32_last_modified,
              " -",
              Boolean(0 != t.GetEventModel().rtime32_last_modified) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().rtime32_last_modified,
                  bSingleLine: !0,
                })
            ),
            c.createElement(
              "div",
              null,
              "Last Solr Update Indexing Request Time: ",
              t.GetEventModel().rtime32_last_solr_search_col_updated,
              " -",
              Boolean(
                0 != t.GetEventModel().rtime32_last_solr_search_col_updated
              ) &&
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel()
                    .rtime32_last_solr_search_col_updated,
                  bSingleLine: !0,
                })
            ),
            Boolean(
              0 != t.GetEventModel().jsondata.rt_migrated_time &&
                null != t.GetEventModel().jsondata.rt_migrated_time
            ) &&
              c.createElement(
                "div",
                null,
                "Migrated Time: ",
                t.GetEventModel().jsondata.rt_migrated_time,
                " -",
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().jsondata.rt_migrated_time,
                  bSingleLine: !0,
                })
              ),
            c.createElement(
              "div",
              null,
              "Build and Branch Association:",
              S,
              " -",
              O || "default"
            ),
            c.createElement("h1", null, "Tags:"),
            p,
            c.createElement("br", null),
            c.createElement(Mt, { eventModel: t.GetEventModel() }),
            c.createElement("br", null),
            c.createElement(cn, {
              clanSteamID: t.GetClanSteamID(),
              gidClanEvent: t.GetGID(),
            }),
            c.createElement("br", null),
            c.createElement("h1", null, "Json Body"),
            c.createElement(on.b, { data: g })
          )
        );
      });
      function cn(e) {
        var t,
          n = e.clanSteamID,
          a = e.gidClanEvent,
          i = Object(bt.b)(n.GetAccountID(), a),
          r = i[0];
        i[1];
        return i[2]
          ? c.createElement(_.a, { size: "small" })
          : void 0 !==
            (null === (t = r.jsonData) || void 0 === t
              ? void 0
              : t.bPublishRequiresValveApproval)
          ? c.createElement(
              "div",
              null,
              c.createElement("h1", null, "Private Data:"),
              c.createElement(
                "div",
                null,
                r.nAccountLastUpdate
                  ? c.createElement(Gt, {
                      accountID: r.nAccountLastUpdate,
                      locToken: "#EventModTile_EventLastUpdator",
                    })
                  : "Private Date Not Saved"
              ),
              c.createElement(
                "div",
                null,
                "Last Save Time: ",
                r.rtLastUpdateTime,
                " -",
                Boolean(r.rtLastUpdateTime > 0) &&
                  c.createElement(Re.a, {
                    dateAndTime: r.rtLastUpdateTime,
                    bSingleLine: !0,
                  })
              ),
              c.createElement(on.b, { data: r.jsonData })
            )
          : c.createElement("div", null, "No Private Data Associated");
      }
      var dn = function (e) {
          var t = e.editModel,
            n = t.GetEventModel().clanSteamID.GetAccountID(),
            i = t.GetEventModel().GID,
            r = c.useState(null),
            o = r[0],
            l = r[1],
            s = c.useState(!0),
            d = s[0],
            u = s[1];
          return (
            c.useEffect(
              function () {
                if (d) {
                  Object(a.b)(void 0, void 0, void 0, function () {
                    var e, t, r, o, s, c;
                    return Object(a.e)(this, function (a) {
                      switch (a.label) {
                        case 0:
                          (e =
                            m.c.STORE_BASE_URL +
                            "events_admin/ajaxgetsolrdata"),
                            (t = {
                              sessionid: m.c.SESSIONID,
                              clan_account_id: n,
                              event_gid: i,
                            }),
                            (a.label = 1);
                        case 1:
                          return (
                            a.trys.push([1, 3, 4, 5]),
                            [4, y.a.get(e, { params: t, withCredentials: !0 })]
                          );
                        case 2:
                          return (
                            (r = a.sent()),
                            1 ==
                              (null === (c = null == r ? void 0 : r.data) ||
                              void 0 === c
                                ? void 0
                                : c.success) && l(r.data.solr_data),
                            [3, 5]
                          );
                        case 3:
                          return (
                            (o = a.sent()),
                            (s = Object(p.a)(o)),
                            console.error(
                              "SolrDebugPanel: error " + s.strErrorMsg,
                              s
                            ),
                            [3, 5]
                          );
                        case 4:
                          return u(!1), [7];
                        case 5:
                          return [2];
                      }
                    });
                  });
                }
              },
              [d, n, i]
            ),
            d
              ? c.createElement(_.a, { string: Object(f.f)("#Loading") })
              : o
              ? c.createElement(
                  "div",
                  null,
                  c.createElement("h1", null, "Event Solr Data"),
                  c.createElement(on.b, { data: o })
                )
              : c.createElement("div", null, "No solr data ", n, ": ", i)
          );
        },
        un = n("Gp1o"),
        pn = n("TOXn"),
        mn = n("fbnN"),
        _n = n("6h0J"),
        gn = n.n(_n),
        En = n("6yBx"),
        bn = n("+d9t"),
        vn = n("6Oks"),
        hn = n.n(vn),
        fn = function (e) {
          var t = null;
          "capsule" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_capsule_1")
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/2ef00d65527edf9aecdaddee086b0f5ee0cc2fe6.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/7614223/fe3aa1776d96e4aa215edbdacc363a9ed005213e.png",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/27000850/dc17534edaabe8d351fdfb1c6186c4eb3e637c8d.png",
                  }),
                  c.createElement("img", {
                    style: { width: "50%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31013613/a98ecca7730e4857cb5f83e50f3304ce13bf56bf.jpg",
                  })
                )
              ))
            : "background" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_background_1")
                ),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/3703047/72feb03fa4eced13596f0ff7b9ec434865cb73e4.png",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/5193306/62436147b454715822a198a2767e5c7a8560617e.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/clans/31721797/77cbe3f768e16b149c78f127b09c047826646ba5.png",
                })
              ))
            : "spotlight" === e.artworkType &&
              (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: hn.a.AssetExampleSpotlightCtn },
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_3")
                  ),
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_4")
                  ),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_1.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_2.jpg",
                  }),
                  c.createElement(
                    "p",
                    null,
                    Object(f.f)("#selectimage_tip_spotlight_5")
                  ),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_3.jpg",
                  }),
                  c.createElement("img", {
                    style: { width: "100%" },
                    src:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/spotlight_example_4.jpg",
                  })
                )
              ));
          return t
            ? c.createElement(
                "div",
                { className: L.a.FlexRowContainer },
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(f.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(f.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(f.f)("#EventEditor_ViewExamples")
                ),
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(bn.d)(
                        e,
                        "https://partner.steamgames.com/doc/store/assets/eventassets"
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Learn_More")
                )
              )
            : null;
        },
        Sn = function (e) {
          var t = null;
          "sale_header" === e.artworkType
            ? (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_header_1")
                ),
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_header_2")
                ),
                c.createElement(
                  "div",
                  { className: hn.a.SaleHeaderExampleCtn },
                  c.createElement(
                    "div",
                    { className: hn.a.SaleHeaderExampleCol },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/a7dcfaf476e3351bb34b8af3e423a6e6cd652a04.jpg",
                      })
                    ),
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/502e9a6d3bb266b4274a946192bb960f15e1d136.png",
                      })
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: hn.a.SaleHeaderExampleCol },
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                        target: "_blank",
                      },
                      c.createElement("img", {
                        src:
                          "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/0b6edf0575cc418172fc9d7614ae5c2881d1dcc0.jpg",
                      })
                    )
                  )
                )
              ))
            : "product_banner" === e.artworkType &&
              (t = c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#selectimage_tip_sale_product_banner")
                ),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/8298b4d6ebf6f6dd2355054431d339ec9dcafdef.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/cc803d270bf7f47ee508bbadf14577bbfe5f6500.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/309cb650beb92e00ae352710387832aea78433ef.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/ecd819245dd4aca57aed76f714a28b2356ad90f2.jpg",
                }),
                c.createElement("img", {
                  style: { width: "100%" },
                  src:
                    "https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/clans/4/7375e5c0f2adb7241870acfa931e167ff13c669f.gif",
                })
              ));
          return t
            ? c.createElement(
                "div",
                { className: L.a.FlexRowContainer },
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function () {
                      return (function (t) {
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                              strTitle: Object(f.f)(
                                "#EventEditor_ExampleTitle_" + e.artworkType
                              ),
                              strDescription: Object(f.f)(
                                "#EventEditor_ExampleDescription"
                              ),
                            },
                            t
                          ),
                          window
                        );
                      })(t);
                    },
                  },
                  Object(f.f)("#EventEditor_ViewExamples")
                ),
                c.createElement(
                  Me.t,
                  {
                    style: { width: "160px", margin: "0px 8px 0px 0px" },
                    onClick: function (e) {
                      return Object(bn.d)(
                        e,
                        "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta"
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Learn_More")
                ),
                c.createElement("br", null)
              )
            : null;
        },
        On = n("R5ed"),
        yn = n("Kw0F"),
        Cn = (function () {
          function e(e) {
            this.m_editModel = e;
          }
          return (
            (e.prototype.GetJSONData = function () {
              return this.m_editModel.GetEventModel().jsondata;
            }),
            (e.prototype.SetBroadcastEnabled = function (e) {
              this.GetJSONData().bBroadcastEnabled !== e &&
                ((this.GetJSONData().bBroadcastEnabled = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetBroadcastForceBanner = function (e) {
              this.GetJSONData().broadcast_force_banner !== e &&
                ((this.GetJSONData().broadcast_force_banner = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetChangeSetting = function (e) {
              this.GetJSONData().broadcastChatSetting !== e &&
                ((this.GetJSONData().broadcastChatSetting = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetTitleToken = function (e) {
              this.GetJSONData().default_broadcast_title !== e &&
                ((this.GetJSONData().default_broadcast_title = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetCustomTitleLocalize = function (e, t) {
              this.GetJSONData().localized_broadcast_title[e] !== t &&
                ((this.GetJSONData().localized_broadcast_title[e] = t),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.AddAccountToWhiteList = function (e) {
              var t = this.GetJSONData().broadcast_whitelist;
              t.includes(e) ||
                (t.push(e), this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.DeleteWhiteListAccount = function (e) {
              var t = this.GetJSONData().broadcast_whitelist.indexOf(e);
              t < 0 ||
                (this.GetJSONData().broadcast_whitelist.splice(t, 1),
                this.GetJSONData().broadcast_language &&
                  this.GetJSONData().broadcast_language.length > t &&
                  this.GetJSONData().broadcast_language.splice(t, 1),
                this.GetJSONData().broadcast_priority &&
                  this.GetJSONData().broadcast_priority.length > t &&
                  this.GetJSONData().broadcast_priority.splice(t, 1));
            }),
            (e.prototype.SetWhiteListAccountLanguage = function (e, t) {
              var n = this.GetJSONData().broadcast_whitelist.indexOf(e);
              if (
                !(n < 0) &&
                n < this.GetJSONData().broadcast_whitelist.length
              ) {
                if (!this.GetJSONData().broadcast_language) {
                  if (-1 == t) return;
                  this.GetJSONData().broadcast_language = new Array();
                }
                var a = this.GetJSONData().broadcast_language;
                if (a.length < n && -1 == t) return;
                for (; a.length <= n; ) a.push(-1);
                if (a[n] != t) {
                  for (a[n] = t; a.length > 0 && -1 == a[a.length - 1]; )
                    a.pop();
                  0 == a.length &&
                    (this.GetJSONData().broadcast_language = void 0),
                    this.m_editModel.SetDirty(T.c.jsondata_broadcast);
                }
              }
            }),
            (e.prototype.SetWhiteListAccountPriority = function (e, t) {
              var n = this.GetJSONData().broadcast_whitelist.indexOf(e);
              if (!(n < 0)) {
                var a = Object(yn.e)(
                  this.GetJSONData().broadcast_priority || [],
                  n + 1,
                  ""
                );
                for (a[n] = t; a.length > 0 && !a[a.length - 1]; ) a.pop();
                (this.GetJSONData().broadcast_priority = a),
                  this.m_editModel.SetDirty(T.c.jsondata_broadcast);
              }
            }),
            (e.prototype.GetWhiteListAccountPriority = function (e, t) {
              var n = this.GetJSONData().broadcast_whitelist.indexOf(e);
              return n < 0 ||
                !this.GetJSONData().broadcast_priority ||
                n >= this.GetJSONData().broadcast_priority.length
                ? t
                : this.GetJSONData().broadcast_priority[n] || t;
            }),
            (e.prototype.RemoveWhiteListAtIndex = function (e) {
              this.GetJSONData().broadcast_whitelist.length > e &&
                (this.GetJSONData().broadcast_whitelist.splice(e, 1),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.ClearWhiteList = function () {
              this.GetJSONData().broadcast_whitelist.length > 0 &&
                ((this.GetJSONData().broadcast_whitelist = []),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.GetBroadcastContentType = function () {
              return this.GetJSONData().broadcast_content_type;
            }),
            (e.prototype.SetBroadcastContentType = function (e) {
              this.GetJSONData().broadcast_content_type != e &&
                ((this.GetJSONData().broadcast_content_type = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.GetPrerollVideo = function () {
              return this.GetJSONData().broadcast_preroll_vod_appid;
            }),
            (e.prototype.SetPrerollVODAppID = function (e) {
              this.GetJSONData().broadcast_preroll_vod_appid !== e &&
                ((this.GetJSONData().broadcast_preroll_vod_appid = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetDropsEnabled = function (e) {
              this.GetJSONData().broadcast_item_drops_enabled != e &&
                (e
                  ? ((this.GetJSONData().broadcast_item_drops_enabled = !0),
                    (this.GetJSONData().broadcast_item_drops_manual = !1),
                    (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = 30))
                  : ((this.GetJSONData().broadcast_item_drops_enabled = void 0),
                    (this.GetJSONData().broadcast_item_drops_manual = void 0),
                    (this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = void 0),
                    (this.GetJSONData().broadcast_item_drops_details_clan_accountid = void 0),
                    (this.GetJSONData().broadcast_item_drops_details_event_gid = void 0)),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropManual = function (e) {
              this.GetJSONData().broadcast_item_drops_manual != e &&
                ((this.GetJSONData().broadcast_item_drops_manual = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropMinutes = function (e) {
              this.GetJSONData().broadcast_item_drops_min_watch_time_minutes !=
                e &&
                ((this.GetJSONData().broadcast_item_drops_min_watch_time_minutes = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetItemDropDetailEvents = function (e, t) {
              (this.GetJSONData().broadcast_item_drops_details_clan_accountid ==
                e &&
                this.GetJSONData().broadcast_item_drops_details_event_gid ==
                  t) ||
                ((this.GetJSONData().broadcast_item_drops_details_event_gid = t),
                (this.GetJSONData().broadcast_item_drops_details_clan_accountid = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            (e.prototype.SetWidePlayerLayout = function (e) {
              this.GetJSONData().broadcast_display_wide_player != e &&
                ((this.GetJSONData().broadcast_display_wide_player = e),
                this.m_editModel.SetDirty(T.c.jsondata_broadcast));
            }),
            Object(a.c)([G.k], e.prototype, "SetBroadcastEnabled", null),
            Object(a.c)([G.k], e.prototype, "SetBroadcastForceBanner", null),
            Object(a.c)([G.k], e.prototype, "SetChangeSetting", null),
            Object(a.c)([G.k], e.prototype, "SetTitleToken", null),
            Object(a.c)([G.k], e.prototype, "SetCustomTitleLocalize", null),
            Object(a.c)([G.k], e.prototype, "AddAccountToWhiteList", null),
            Object(a.c)([G.k], e.prototype, "DeleteWhiteListAccount", null),
            Object(a.c)(
              [G.k],
              e.prototype,
              "SetWhiteListAccountLanguage",
              null
            ),
            Object(a.c)(
              [G.k],
              e.prototype,
              "SetWhiteListAccountPriority",
              null
            ),
            Object(a.c)([G.k], e.prototype, "RemoveWhiteListAtIndex", null),
            Object(a.c)([G.k], e.prototype, "ClearWhiteList", null),
            Object(a.c)([G.k], e.prototype, "SetBroadcastContentType", null),
            Object(a.c)([G.k], e.prototype, "SetPrerollVODAppID", null),
            Object(a.c)([G.k], e.prototype, "SetDropsEnabled", null),
            Object(a.c)([G.k], e.prototype, "SetItemDropManual", null),
            Object(a.c)([G.k], e.prototype, "SetItemDropMinutes", null),
            Object(a.c)([G.k], e.prototype, "SetItemDropDetailEvents", null),
            Object(a.c)([G.k], e.prototype, "SetWidePlayerLayout", null),
            e
          );
        })(),
        jn = n("dsQf"),
        Tn = n.n(jn),
        In = n("TtDX"),
        Dn = n("t3gG"),
        wn = n("y+6m"),
        Gn = n("vBFs"),
        An = n("McqU"),
        Mn = n("h5LU"),
        kn = n("wrcz"),
        Ln = n.n(kn),
        Nn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                strCustomTitle: "",
                customTitleLanguage: 0,
                friends: null,
                whitelistSteamID: "",
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n;
                return Object(a.e)(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        i.trys.push([0, 2, , 3]),
                        (e = this.props.editModel
                          .GetEventModel()
                          .GetBroadcastWhitelistAsSteamIDs()),
                        Dt.a.LoadProfiles(e),
                        [
                          4,
                          y.a.get(
                            m.c.COMMUNITY_BASE_URL + "actions/ajaxlistfriends"
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (t = i.sent()),
                        this.setState({ friends: t.data }),
                        Dt.a.LoadProfiles(
                          Object(a.g)(
                            [m.i.steamid],
                            t.data.map(function (e) {
                              return e.steamid;
                            })
                          )
                        ),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (n = i.sent()),
                        console.error("Failed to load data:", n),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.GetBroadcastEditModel = function () {
              return new Cn(this.props.editModel);
            }),
            (t.prototype.OnBroadcastOptionChange = function (e) {
              this.GetBroadcastEditModel().SetBroadcastEnabled(e);
            }),
            (t.prototype.OnBroadcastForceBanner = function (e) {
              this.GetBroadcastEditModel().SetBroadcastForceBanner(e);
            }),
            (t.prototype.OnChatChange = function (e) {
              this.GetBroadcastEditModel().SetChangeSetting(e);
            }),
            (t.prototype.OnTitleChange = function (e) {
              this.GetBroadcastEditModel().SetTitleToken(e.data);
            }),
            (t.prototype.OnCustomTitleChange = function (e) {
              this.setState({ strCustomTitle: e.target.value });
            }),
            (t.prototype.OnCustomTitleLanguageChange = function (e) {
              this.setState({ customTitleLanguage: e.data });
            }),
            (t.prototype.AddTitle = function () {
              this.GetBroadcastEditModel().SetCustomTitleLocalize(
                this.state.customTitleLanguage,
                this.state.strCustomTitle
              ),
                this.setState({ strCustomTitle: "" });
            }),
            (t.prototype.RemoveTitle = function (e) {
              this.GetBroadcastEditModel().SetCustomTitleLocalize(e, null);
            }),
            (t.prototype.AddSteamIDToWhitelist = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t;
                return Object(a.e)(this, function (n) {
                  return (
                    (t = new g.a(e)),
                    this.AddWhitelist(t.GetAccountID()),
                    [2, !0]
                  );
                });
              });
            }),
            (t.prototype.AddWhitelist = function (e) {
              this.GetBroadcastEditModel().AddAccountToWhiteList(e);
            }),
            (t.prototype.RemoveWhitelist = function (e) {
              this.GetBroadcastEditModel().RemoveWhiteListAtIndex(e);
            }),
            (t.prototype.ClearWhitelist = function () {
              this.GetBroadcastEditModel().ClearWhiteList();
            }),
            (t.prototype.GetPrerollVideo = function () {
              return this.GetBroadcastEditModel().GetPrerollVideo() || "";
            }),
            (t.prototype.OnPrerollVideoChange = function (e) {
              this.GetBroadcastEditModel().SetPrerollVODAppID(
                e.target.value.trim()
              );
            }),
            (t.prototype.OnSaleColorChange = function (e, t) {
              (this.props.editModel.GetEventModel().jsondata[t] = e),
                this.props.editModel.SetDirty(T.c.jsondata_sales);
            }),
            (t.prototype.OnOpenGradientInnerColor = function (e) {
              var t = this;
              Object(In.a)(
                c.createElement(Mn.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(
                      e,
                      "broadcast_gradient_inner_color"
                    );
                  },
                  color: this.props.editModel.GetEventModel().jsondata
                    .broadcast_gradient_inner_color,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.OnOpenGradientOuterColor = function (e) {
              var t = this;
              Object(In.a)(
                c.createElement(Mn.a, {
                  onChange: function (e) {
                    return t.OnSaleColorChange(
                      e,
                      "broadcast_gradient_outer_color"
                    );
                  },
                  color: this.props.editModel.GetEventModel().jsondata
                    .broadcast_gradient_outer_color,
                }),
                e,
                { bDisablePopTop: !0 }
              );
            }),
            (t.prototype.render = function () {
              for (
                var e = this,
                  t = this.props.editModel,
                  n = t.GetEventModel().jsondata,
                  a = [
                    "#Broadcast_default_title_dev",
                    "#Broadcast_default_title_community",
                    "#Broadcast_default_title_comp",
                    "#Broadcast_default_title_speed",
                    "#Broadcast_default_title_simple",
                    "#Broadcast_default_title_dev_chat",
                    "#Broadcast_default_title_ama",
                  ].map(function (e) {
                    return { label: Object(f.f)(e), data: e };
                  }),
                  i =
                    (v.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
                    []),
                  o = 0,
                  l = f.b.GetLanguageListForRealms([X.f.k_ESteamRealmGlobal]);
                o < l.length;
                o++
              ) {
                var s = l[o],
                  d = {
                    label: Object(f.f)(
                      "#language_selection_" + Object(Ae.a)(s)
                    ),
                    data: s,
                  };
                i.push(d);
              }
              var u = c.createElement(
                  "div",
                  { className: L.a.DropDownScroll },
                  (this.state.friends || []).map(function (t) {
                    return c.createElement(
                      wn.d,
                      {
                        onSelected: function () {
                          return e.AddSteamIDToWhitelist(t.steamid);
                        },
                        key: t.steamid,
                      },
                      c.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        c.createElement("img", {
                          className: Ln.a.WhitelistAvatar,
                          src: t.avatar_url,
                        }),
                        t.persona_name
                      )
                    );
                  })
                ),
                p = Dn.a.map(function (n) {
                  return c.createElement(
                    "div",
                    {
                      key: "broadcastchatOptions_" + n,
                      className: Object(N.a)(
                        L.a.FlexRowContainer,
                        L.a.RadioOption
                      ),
                    },
                    c.createElement("input", {
                      type: "radio",
                      name: "BroadcastChat",
                      id: "EventEditor_BroadcastSChat_" + n,
                      value: n,
                      checked:
                        t.GetEventModel().GetBroadcastChatVisibility() === n,
                      onChange: function () {
                        return e.OnChatChange(n);
                      },
                    }),
                    c.createElement(
                      "label",
                      { htmlFor: "EventEditor_BroadcastSChat_" + n },
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#Broadcast_chat_" + n)
                      )
                    )
                  );
                });
              return c.createElement(
                "div",
                { className: V.a.EventEditorInputPaneContents },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitleCtn },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#Broadcast_title")
                  ),
                  c.createElement(
                    "a",
                    {
                      target: m.c.IN_CLIENT ? void 0 : "_blank",
                      href: m.c.PARTNER_BASE_URL + "doc/store/broadcast",
                      className: Object(N.a)(L.a.doclink),
                    },
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#Broadcast_documentation")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement(Me.p, {
                    onChange: this.OnBroadcastOptionChange,
                    label: Object(f.f)("#Broadcast_option"),
                    checked: t.GetEventModel().BHasBroadcastEnabled(),
                  })
                ),
                t.GetEventModel().BHasBroadcastEnabled() &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_title_title")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#Broadcast_title_desc")
                      ),
                      c.createElement(Me.h, {
                        rgOptions: a,
                        selectedOption: a[0].data,
                        onChange: this.OnTitleChange,
                      }),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_option_customtitle")
                      ),
                      c.createElement(
                        "div",
                        { className: Ln.a.customTitleOptionsCtn },
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              Ln.a.CustomTitleCtn
                            ),
                          },
                          c.createElement(
                            "div",
                            { style: { width: "400px" } },
                            c.createElement(Me.l, {
                              placeholder: Object(f.f)("#Broadcast_use_custom"),
                              onChange: this.OnCustomTitleChange,
                              value: this.state.strCustomTitle,
                            })
                          ),
                          c.createElement(
                            "div",
                            { className: Ln.a.LanguageContainer },
                            c.createElement(Me.h, {
                              bDisableMouseOverlay: !0,
                              strDropDownClassName: L.a.DropDownScroll,
                              rgOptions: i,
                              selectedOption: this.state.customTitleLanguage,
                              onChange: this.OnCustomTitleLanguageChange,
                            })
                          ),
                          c.createElement(
                            "div",
                            { className: Ln.a.AddTitleButton },
                            c.createElement(
                              Me.q,
                              {
                                onClick: function () {
                                  return e.AddTitle();
                                },
                              },
                              Object(f.f)("#Broadcast_add_title")
                            )
                          )
                        ),
                        c.createElement(
                          "p",
                          null,
                          Object(f.f)("#Sale_option_customtitle_entered")
                        ),
                        c.createElement(
                          "div",
                          { className: Object(N.a)(L.a.FlexColumnContainer) },
                          n.localized_broadcast_title.map(function (t, n) {
                            return t
                              ? c.createElement(
                                  "div",
                                  {
                                    className: Object(N.a)(
                                      Ln.a.TitleRowCtn,
                                      L.a.FlexRowContainer
                                    ),
                                    key: n,
                                  },
                                  t,
                                  " (",
                                  Object(f.f)(
                                    "#language_selection_" + Object(Ae.a)(n)
                                  ),
                                  ")",
                                  c.createElement(
                                    "div",
                                    { style: { marginLeft: "auto" } },
                                    c.createElement("img", {
                                      className: r.a.RemoveIcon,
                                      src: Tn.a,
                                      onClick: function () {
                                        return e.RemoveTitle(n);
                                      },
                                    })
                                  )
                                )
                              : null;
                          })
                        )
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_background")
                    ),
                    c.createElement(
                      Me.d,
                      {
                        onClick: this.OnOpenGradientOuterColor,
                        className: L.a.EventEditorTextTitle,
                        style: {
                          backgroundColor: this.props.editModel.GetEventModel()
                            .jsondata.broadcast_gradient_outer_color,
                        },
                      },
                      Object(f.f)("#Broadcast_GradientOuterColor")
                    ),
                    c.createElement(
                      Me.d,
                      {
                        onClick: this.OnOpenGradientInnerColor,
                        className: L.a.EventEditorTextTitle,
                        style: {
                          backgroundColor: this.props.editModel.GetEventModel()
                            .jsondata.broadcast_gradient_inner_color,
                        },
                      },
                      Object(f.f)("#Broadcast_GradientInnerColor")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_whitelist")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_whitelist_desc")
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#Broadcast_option_drag_ttip")
                      ),
                      c.createElement(
                        "div",
                        { className: V.a.BroadcastAccountList },
                        n.broadcast_whitelist.map(function (e) {
                          return c.createElement(Bn, {
                            key: "broadcastaccountrow_" + e,
                            accountid: e,
                          });
                        })
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexRowWrapFlexStartContainer
                          ),
                        },
                        c.createElement(
                          "a",
                          {
                            onClick: function () {
                              return e.AddWhitelist(m.i.accountid);
                            },
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_addme")
                        ),
                        c.createElement(
                          "a",
                          {
                            onClick: function (e) {
                              return Object(In.a)(u, e);
                            },
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_addfriend")
                        ),
                        c.createElement(
                          "a",
                          {
                            onClick: this.ClearWhitelist,
                            className: L.a.EditPreviewButton,
                          },
                          Object(f.f)("#Broadcast_whitelist_clear")
                        )
                      ),
                      c.createElement(An.a, {
                        onButtonClick: this.AddSteamIDToWhitelist,
                        buttonText: Object(f.f)("#Broadcast_whitelist_adduser"),
                      }),
                      c.createElement(
                        "div",
                        null,
                        Object(f.n)(
                          "#Broadcast_whitelist_friendcode",
                          c.createElement(
                            "a",
                            {
                              target: "_blank",
                              href: m.c.COMMUNITY_BASE_URL + "my/friends/add",
                            },
                            m.c.COMMUNITY_BASE_URL + "my/friends/add"
                          )
                        )
                      )
                    ),
                    c.createElement(
                      ve.b,
                      {
                        requireAdmin: !0,
                        clanSteamID: t.GetClanSteamID(),
                        className: Object(N.a)(L.a.ValveOnlyBackground),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#Broadcast_preroll_title")
                      ),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexColumnContainer,
                            L.a.EventDefaultRowContainer
                          ),
                        },
                        c.createElement(
                          "div",
                          null,
                          Object(f.f)("#Broadcast_preroll_desc")
                        ),
                        c.createElement(Me.l, {
                          type: "text",
                          placeholder: Object(f.f)("#Broadcast_preroll_prompt"),
                          mustBeNumeric: !0,
                          rangeMin: 1,
                          value: this.GetPrerollVideo(),
                          onChange: this.OnPrerollVideoChange,
                        }),
                        this.GetPrerollVideo() &&
                          c.createElement(
                            "a",
                            {
                              href:
                                m.c.PARTNER_BASE_URL +
                                "apps/landing/" +
                                this.GetPrerollVideo(),
                            },
                            Object(f.f)("#Broadcast_preroll_app_link")
                          )
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_chat_title")
                    ),
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.FlexColumnContainer,
                          L.a.EventDefaultRowContainer
                        ),
                      },
                      p
                    ),
                    c.createElement(
                      ve.b,
                      {
                        requireAdmin: !0,
                        clanSteamID: t.GetClanSteamID(),
                        className: Object(N.a)(L.a.ValveOnlyBackground),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        "(VO) " + Object(f.f)("#Broadcast_DropsTitle")
                      ),
                      c.createElement(Me.e, {
                        onChange: function (t) {
                          return e.GetBroadcastEditModel().SetDropsEnabled(t);
                        },
                        label: Object(f.f)("#Broadcast_Drops_Enable"),
                        checked: Boolean(n.broadcast_item_drops_enabled),
                      }),
                      Boolean(n.broadcast_item_drops_enabled) &&
                        c.createElement(
                          c.Fragment,
                          null,
                          c.createElement(Me.e, {
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropManual(t);
                            },
                            label: Object(f.f)(
                              "#Broadcast_Drops_IsManualDrops"
                            ),
                            checked: Boolean(n.broadcast_item_drops_manual),
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_min_mintes" },
                            Object(f.f)("#Broadcast_Drops_Minute")
                          ),
                          c.createElement("input", {
                            id: "broadcast_min_mintes",
                            type: "number",
                            min: "5",
                            value:
                              n.broadcast_item_drops_min_watch_time_minutes,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropMinutes(
                                  Number.parseInt(t.target.value)
                                );
                            },
                          }),
                          c.createElement(
                            "div",
                            { className: L.a.EventEditorTextSubTitle },
                            Object(f.f)("#Broadcast_Drops_Details")
                          ),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_detail_clan_account" },
                            Object(f.f)("#Broadcast_Drops_Details_Account")
                          ),
                          c.createElement("input", {
                            id: "broadcast_detail_clan_account",
                            type: "number",
                            min: "0",
                            value:
                              n.broadcast_item_drops_details_clan_accountid,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropDetailEvents(
                                  Number.parseInt(t.target.value),
                                  n.broadcast_item_drops_details_event_gid
                                );
                            },
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "broadcast_detail_clan_event_gid" },
                            Object(f.f)("#Broadcast_Drops_Details_GID")
                          ),
                          c.createElement("input", {
                            id: "broadcast_detail_clan_event_gid",
                            type: "text",
                            value: n.broadcast_item_drops_details_event_gid,
                            onChange: function (t) {
                              return e
                                .GetBroadcastEditModel()
                                .SetItemDropDetailEvents(
                                  n.broadcast_item_drops_details_clan_accountid,
                                  t.target.value
                                );
                            },
                          })
                        ),
                      c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#Broadcast_WidePlayer_ttip"
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: L.a.EventEditorTextTitle },
                          "(VO) " + Object(f.f)("#Broadcast_WidePlayer")
                        )
                      ),
                      c.createElement(Me.e, {
                        onChange: function (t) {
                          return e
                            .GetBroadcastEditModel()
                            .SetWidePlayerLayout(t);
                        },
                        label: Object(f.f)("#Broadcast_WidePlayer_Use"),
                        checked: Boolean(n.broadcast_display_wide_player),
                      }),
                      c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#Broadcast_ContentType_Desc"
                          ),
                        },
                        c.createElement(
                          "div",
                          { className: L.a.EventEditorTextTitle },
                          "(VO) " + Object(f.f)("#Broadcast_ContentType")
                        )
                      ),
                      c.createElement(Fn, null)
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_artwork")
                    ),
                    c.createElement(En.b, {
                      clanSteamID: t.GetClanSteamID(),
                      rgSupportArtwork: ["broadcast_left", "broadcast_right"],
                      fnSetImageURL: t.SetImageURL,
                      rgRealmList: t.GetIncludedRealmList(),
                    }),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      Object(f.f)("#Broadcast_artwork_options")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.InputBorder },
                      c.createElement(Me.p, {
                        onChange: this.OnBroadcastForceBanner,
                        label: Object(f.f)("#Broadcast_artwork_banner"),
                        tooltip: Object(f.f)("#Broadcast_artwork_banner_hint"),
                        checked: t.GetEventModel().BHasBroadcastForceBanner(),
                      })
                    ),
                    c.createElement(On.b, {
                      clanSteamID: t.GetClanSteamID(),
                      title: Object(f.f)(
                        "#EventEditor_ArtworkType_broadcast_left"
                      ),
                      artworkType: "broadcast_left",
                    }),
                    c.createElement(On.b, {
                      clanSteamID: t.GetClanSteamID(),
                      title: Object(f.f)(
                        "#EventEditor_ArtworkType_broadcast_right"
                      ),
                      artworkType: "broadcast_right",
                    })
                  )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnBroadcastOptionChange", null),
            Object(a.c)([R.a], t.prototype, "OnBroadcastForceBanner", null),
            Object(a.c)([R.a], t.prototype, "OnChatChange", null),
            Object(a.c)([R.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([R.a], t.prototype, "OnCustomTitleChange", null),
            Object(a.c)(
              [R.a],
              t.prototype,
              "OnCustomTitleLanguageChange",
              null
            ),
            Object(a.c)([R.a], t.prototype, "AddTitle", null),
            Object(a.c)([R.a], t.prototype, "RemoveTitle", null),
            Object(a.c)([R.a], t.prototype, "AddSteamIDToWhitelist", null),
            Object(a.c)([R.a], t.prototype, "AddWhitelist", null),
            Object(a.c)([R.a], t.prototype, "RemoveWhitelist", null),
            Object(a.c)([R.a], t.prototype, "ClearWhitelist", null),
            Object(a.c)([R.a], t.prototype, "GetPrerollVideo", null),
            Object(a.c)([R.a], t.prototype, "OnPrerollVideoChange", null),
            Object(a.c)([R.a], t.prototype, "OnSaleColorChange", null),
            Object(a.c)([R.a], t.prototype, "OnOpenGradientInnerColor", null),
            Object(a.c)([R.a], t.prototype, "OnOpenGradientOuterColor", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Bn = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoading: !Dt.a.BHasProfile(
                  g.a
                    .InitFromAccountID(t.props.accountid)
                    .ConvertTo64BitString()
                ),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = g.a.InitFromAccountID(this.props.accountid)),
                        (t = e.ConvertTo64BitString()),
                        [4, Dt.a.LoadProfiles([t])]
                      );
                    case 1:
                      return (
                        n.sent(),
                        this.setState({
                          bLoading: !1,
                          friendData: Dt.a.GetProfile(t),
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnLanguageChange = function (e) {
              this.GetBroadcastEditModel().SetWhiteListAccountLanguage(
                this.props.accountid,
                e
              );
            }),
            (t.prototype.GetBroadcastEditModel = function () {
              var e = l.c.GetEditModel();
              return new Cn(e);
            }),
            (t.prototype.OnDeleteBroadcaster = function () {
              this.GetBroadcastEditModel().DeleteWhiteListAccount(
                this.props.accountid
              );
            }),
            (t.prototype.render = function () {
              if (this.state.bLoading)
                return c.createElement(_.a, {
                  size: "small",
                  string: Object(f.f)("#Loading"),
                });
              if (!this.state.friendData)
                return c.createElement(
                  "div",
                  null,
                  Object(f.f)("#Broadcast_FailedToLoadUser")
                );
              var e = l.c.GetEditModel().GetEventModel(),
                t = e.jsondata.broadcast_whitelist.indexOf(
                  this.props.accountid
                ),
                n = e.jsondata.broadcast_language,
                a = -1;
              t >= 0 && n && t < n.length && void 0 !== n[t] && (a = n[t]);
              var i = this.state.friendData;
              return c.createElement(
                "div",
                { className: Object(N.a)(r.a.FlexCenter, Ln.a.AccountRow) },
                c.createElement(
                  "a",
                  {
                    className: Object(N.a)(
                      r.a.FlexCenter,
                      V.a.BroadcastAccountInfo
                    ),
                    href: m.c.COMMUNITY_BASE_URL + "profiles/" + i.steamid,
                    target: "_blank",
                  },
                  i
                    ? c.createElement("img", {
                        style: { marginRight: "8px" },
                        src: i.avatar_url,
                      })
                    : null,
                  i ? i.persona_name : null
                ),
                c.createElement(
                  He.a,
                  { toolTipContent: Object(f.f)("#Broadcast_Language_hint") },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEditor_Langauge"),
                    ": "
                  ),
                  c.createElement(Gn.a, {
                    bAllowUnsetOption: !0,
                    selectedLang: a,
                    fnOnLanguageChanged: this.OnLanguageChange,
                  })
                ),
                c.createElement(Rn, { accountid: this.props.accountid }),
                c.createElement("img", {
                  className: Object(N.a)(r.a.FlexCenter, r.a.RemoveIcon),
                  src: Tn.a,
                  onClick: this.OnDeleteBroadcaster,
                })
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnLanguageChange", null),
            Object(a.c)([R.a], t.prototype, "OnDeleteBroadcaster", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Rn = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            n = new Cn(t),
            a = [
              {
                label: Object(f.f)("#Broadcast_Priority_Primary"),
                data: "primary",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_Featured"),
                data: "featured",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_DefaultFeatured"),
                data: "default_featured",
              },
              {
                label: Object(f.f)("#Broadcast_Priority_General"),
                data: "general",
              },
            ],
            i = n.GetWhiteListAccountPriority(e.accountid, "general");
          return c.createElement(
            He.a,
            {
              toolTipContent: Object(f.f)("#Broadcast_Priority_hint"),
              className: V.a.PrioritySelector,
            },
            c.createElement(
              "span",
              null,
              Object(f.f)("#Broadcast_Priority_label"),
              ": "
            ),
            c.createElement(Me.h, {
              rgOptions: a,
              selectedOption: i,
              onChange: function (t) {
                n.SetWhiteListAccountPriority(e.accountid, t.data);
              },
            })
          );
        });
      function Fn(e) {
        var t = l.c.GetEditModel(),
          n = new Cn(t),
          a = [
            {
              label: Object(f.f)("#Broadcast_ContentType_Unknown"),
              data: void 0,
            },
            { label: Object(f.f)("#Broadcast_ContentType_Live"), data: "live" },
            {
              label: Object(f.f)("#Broadcast_ContentType_Premiere"),
              data: "premiere",
            },
            {
              label: Object(f.f)("#Broadcast_ContentType_Encore"),
              data: "encore",
            },
          ],
          i = n.GetBroadcastContentType();
        return c.createElement(
          He.a,
          {
            toolTipContent: Object(f.f)("#Broadcast_ContentType_Desc"),
            className: V.a.PrioritySelector,
          },
          c.createElement(
            "span",
            null,
            Object(f.f)("#Broadcast_ContentType"),
            ": "
          ),
          c.createElement(Me.h, {
            rgOptions: a,
            selectedOption: i,
            onChange: function (e) {
              return n.SetBroadcastContentType(e.data);
            },
          })
        );
      }
      var Pn,
        xn,
        Un = n("wst7"),
        Hn = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            n = t.GetCategoryAsType(),
            a = t.BPublished(),
            i = t.BVisible();
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                Un.EventEditorTopBarContainer,
                a && i ? Un.EventPublished : Un.EventUnPublished
              ),
            },
            c.createElement(
              Ne.c,
              {
                eventModel: t.GetEventModel(),
                route: Ne.a.k_eCommunityAdminPage,
                className: L.a.EventBarBack,
              },
              Object(f.f)("#EventDisplay_EventsDashBtn")
            ),
            c.createElement(
              "div",
              { className: L.a.EventBarTitleCtn },
              c.createElement(E.d, { editModel: t })
            ),
            c.createElement(
              "div",
              { className: L.a.EventOptions },
              c.createElement(E.c, null),
              c.createElement(
                Ne.c,
                {
                  eventModel: t.GetEventModel(),
                  route: Ne.a.k_eCommunityPreview,
                  className: L.a.EditPreviewButton,
                },
                28 == n
                  ? Object(f.f)("#EventEditor_Preview_News")
                  : Object(f.f)("#EventEditor_Preview")
              ),
              t.BHasSaleEnabled() &&
                c.createElement(
                  Ne.c,
                  {
                    eventModel: t.GetEventModel(),
                    route: Ne.a.k_eCommunityPreviewSale,
                    className: L.a.EditPreviewButton,
                  },
                  Object(f.f)("#EventEditor_PreviewSale")
                )
            )
          );
        }),
        Vn = Object(I.a)(function (e) {
          var t = l.c.GetEditModel(),
            n = t.GetEventModel(),
            a = t.GetVisibilityState() == D.j.k_EEventStateVisible;
          return c.createElement(
            "div",
            { className: L.a.FlexRowWrapFlexStartContainer },
            c.createElement(nn, { editModel: l.c.GetEditModel() }),
            c.createElement(
              Ne.c,
              {
                eventModel: n,
                route: Ne.a.k_eCommunityPreview,
                className: L.a.EditPreviewButton,
              },
              Object(f.f)("#EventEditor_Preview")
            ),
            n.BHasSaleEnabled() &&
              c.createElement(
                Ne.c,
                {
                  eventModel: n,
                  route: Ne.a.k_eCommunityPreviewSale,
                  className: L.a.EditPreviewButton,
                },
                Object(f.f)("#EventEditor_PreviewSale")
              ),
            a &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "span",
                  { className: Un.DisplayAdminPanel_Spacer },
                  " "
                ),
                c.createElement(
                  Ne.c,
                  {
                    className: L.a.EditPreviewButton,
                    eventModel: n,
                    route: Ne.a.k_eStoreView,
                  },
                  Object(f.f)("#EventEditor_ViewLive")
                ),
                c.createElement(
                  "span",
                  { className: Un.DisplayAdminPanel_Spacer },
                  " "
                )
              )
          );
        }),
        zn = n("NrWE"),
        Wn = n("ZeAL"),
        qn = n("Yamg"),
        Yn = n("qD+2"),
        Jn = n("4P4B"),
        Qn = n("0rc7"),
        Zn = n("0pDH"),
        Kn = n("bS9Q"),
        Xn = n("GOhU"),
        $n = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), (t.descBBCodeEditor = c.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.onImageInsert = function (e, t) {
              this.descBBCodeEditor.current &&
                Object(qn.b)(this.descBBCodeEditor.current, e, t);
            }),
            (t.prototype.OnTitleChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetName(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnSubTitleChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetSubTitle(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnDescriptionChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetDescription(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.SetDescription = function (e) {
              var t = l.c.GetEditModel();
              t.SetDescription(t.GetCurEditLanguage(), e);
            }),
            (t.prototype.GetCurrentDescription = function () {
              var e = l.c.GetEditModel(),
                t = e.GetCurEditLanguage(),
                n = e.GetDescription(t);
              return n || "";
            }),
            (t.prototype.onFocus = function (e) {
              e && e.target.select();
            }),
            (t.prototype.onTextAreaFocus = function (e) {
              e && e.target.select();
            }),
            (t.prototype.OnSummaryChange = function (e) {
              var t = l.c.GetEditModel();
              t.SetSummary(t.GetCurEditLanguage(), e.currentTarget.value);
            }),
            (t.prototype.OnNewReferencedAppID = function (e) {
              var t = l.c.GetEditModel();
              t.GetReferencedAppIDArray().includes(Number(e.id)) ||
                (t.GetReferencedAppIDArray().push(Number(e.id)),
                t.SetDirty(T.c.jsondata_other));
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetCategoryAsType(),
                n = e.GetCurEditLanguage(),
                a = e.GetName(n),
                i = e.GetSubTitle(n),
                r = e.GetDescription(n),
                o = e.GetEventModel().GetSummary(n);
              (void 0 !== a && null != a) || (a = ""),
                (void 0 !== r && null != r) || (r = ""),
                (void 0 !== i && null != i) || (i = ""),
                (void 0 !== o && null != o) || (o = "");
              var l = "";
              0 == o.trim().length &&
                (l =
                  0 == r.length
                    ? Object(f.f)("#EventEditor_Summary_Placeholder", D.B)
                    : Object(f.f)("#EventEditor_Summary_Autogenerated") +
                      D.q.GenerateSummaryFromText(r));
              var s = Boolean(a.length >= D.C),
                d = Boolean(i.length >= D.A),
                u = Boolean(o.length >= D.B);
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: Xn.LanguageCtn },
                  c.createElement(
                    "div",
                    { className: L.a.FlexColumnContainer },
                    c.createElement(
                      "div",
                      { className: Xn.LanguageControlsCtn },
                      Object(f.f)("#EventEditor_LangaugeDesc"),
                      c.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            L.a.FlexRowContainer,
                            Xn.ToolContainer
                          ),
                        },
                        c.createElement(E.c, null),
                        c.createElement(it, { editModel: e })
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  28 == t
                    ? Object(f.f)("#EventEditor_AnnouncementTitle")
                    : Object(f.f)("#EventEditor_EventTitle"),
                  s &&
                    c.createElement(
                      "span",
                      { className: L.a.EventEditorTextTitleLengthInfo },
                      Object(f.f)(
                        "#EventEditor_EventTitle_Max_Characters_Reached",
                        D.C
                      )
                    ),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Title_General_ttip",
                        D.C
                      ),
                      className: L.a.tooltip_Ctn,
                    },
                    "?"
                  ),
                  c.createElement(
                    "span",
                    {
                      className: Object(N.a)(
                        H.CharactorRemaining,
                        s ? H.CharactorExhausted : ""
                      ),
                    },
                    Object(f.f)(
                      "#EventEditor_Input_Characters_Left",
                      D.C - a.length
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement("input", {
                    type: "text",
                    className: Object(N.a)(
                      H.EventEditorTitleInput,
                      s ? H.EventEditorInputMaxLength : ""
                    ),
                    value: a,
                    placeholder: Object(f.f)("#EventEditor_Name_Placeholder"),
                    onFocus: this.onFocus,
                    onChange: this.OnTitleChange,
                    maxLength: D.C,
                  })
                ),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitleCtn },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEditor_Event_SubTitle")
                  ),
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitleLengthInfo },
                    Object(f.f)(
                      d
                        ? "#EventEditor_Event_SubTitle_Details_Reached"
                        : "#EventEditor_Event_SubTitle_Details",
                      D.A
                    )
                  ),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_SubTitle_General_ttip",
                        D.A
                      ),
                      className: L.a.tooltip_Ctn,
                    },
                    "?"
                  ),
                  c.createElement(
                    "span",
                    {
                      className: Object(N.a)(
                        H.CharactorRemaining,
                        d ? H.CharactorExhausted : ""
                      ),
                    },
                    Object(f.f)(
                      "#EventEditor_Input_Characters_Left",
                      D.A - i.length
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: L.a.InputBorder },
                  c.createElement("input", {
                    type: "text",
                    className: Object(N.a)(
                      H.EventEditorTitleInput,
                      H.Subtitle,
                      d ? H.EventEditorInputMaxLength : ""
                    ),
                    value: i,
                    placeholder: Object(f.f)(
                      "#EventEditor_Name_SubTitle_Placeholder"
                    ),
                    onFocus: this.onFocus,
                    onChange: this.OnSubTitleChange,
                    maxLength: D.A,
                  })
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "div",
                    { className: H.EventEditorInputPaneContents },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitleCtn },
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#EventEditor_Summary_Title")
                      ),
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitleLengthInfo },
                        Object(f.f)(
                          u
                            ? "#EventEditor_Summary_Title_Length_Reached"
                            : "#EventEditor_Summary_Title_Length",
                          D.B
                        )
                      ),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEditor_Summary_Ttip",
                            D.B
                          ),
                          className: L.a.tooltip_Ctn,
                        },
                        "?"
                      ),
                      c.createElement(
                        "span",
                        {
                          className: Object(N.a)(
                            H.CharactorRemaining,
                            u ? H.CharactorExhausted : ""
                          ),
                        },
                        Object(f.f)(
                          "#EventEditor_Input_Characters_Left",
                          D.B - o.length
                        )
                      )
                    ),
                    c.createElement("textarea", {
                      className: Object(N.a)(
                        H.EventEditorTitleInput,
                        H.Summary,
                        u ? H.EventEditorInputMaxLength : ""
                      ),
                      value: o,
                      placeholder: l,
                      onFocus: this.onTextAreaFocus,
                      onChange: this.OnSummaryChange,
                      maxLength: D.B,
                      cols: 40,
                      rows: 2,
                    })
                  ),
                  c.createElement("div", { className: L.a.ClearThings })
                ),
                this.props.bCanManuallyTagAssociatedApps &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitleCtn },
                      c.createElement(
                        "span",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#EventEditor_ReferencedAppIDs_Header")
                      ),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEditor_ReferencedAppIDs_Tooltip"
                          ),
                          className: L.a.tooltip_Ctn,
                        },
                        "?"
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: H.SaleImportURL },
                      c.createElement(Zn.a, {
                        strLabel: Object(f.f)(
                          "#EventEditor_ReferencedAppIDs_SearchLabel"
                        ),
                        fnFilterSuggestion: function (t) {
                          return !e
                            .GetReferencedAppIDArray()
                            .includes(Number(t.id));
                        },
                        fnOnSelected: this.OnNewReferencedAppID,
                        rgCorporaToSearch: ["games", "dlc"],
                      })
                    ),
                    e.GetReferencedAppIDArray().length > 0 &&
                      c.createElement(Qn.a, {
                        items: e.GetReferencedAppIDArray(),
                        onDelete: function (t) {
                          e.GetReferencedAppIDArray().splice(t),
                            e.SetDirty(T.c.jsondata_other);
                        },
                        onReorder: function () {
                          return e.SetDirty(T.c.jsondata_other);
                        },
                        render: function (e) {
                          return c.createElement(
                            "div",
                            { className: H.ResultRow, key: "suggestion-" + e },
                            c.createElement(
                              "div",
                              { className: H.GameName },
                              " ",
                              Object(Kn.b)(
                                Yn.a.GetAppInfo(e).name + " (" + e + ")"
                              ),
                              " "
                            )
                          );
                        },
                      })
                  ),
                c.createElement(pt, { editModel: e }),
                c.createElement(
                  "div",
                  { className: L.a.Columns },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(L.a.LeftCol, Xn.DescEditorPadding),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextTitle },
                      28 == t
                        ? Object(f.f)("#EventEditor_DescriptionNews")
                        : Object(f.f)("#EventEditor_Description")
                    ),
                    c.createElement(Jn.a, {
                      fnGetCurText: this.GetCurrentDescription,
                      fnOnTextChange: this.OnDescriptionChange,
                      fnSetText: this.SetDescription,
                      strPlaceholder: Object(f.f)(
                        "#EventEditor_Description_PlaceHolder"
                      ),
                      ref: this.descBBCodeEditor,
                      emoticonStore: Yt.b,
                      bSupportHTMLImport: !0,
                      showFormatHelp: "PartnerEvents",
                      limitBBCode: m.b.CAN_UPLOAD_IMAGES ? void 0 : Wn.f,
                      classNameForTextArea: H.EventEditorDescription,
                      clanSteamID: e.GetClanSteamID(),
                    })
                  ),
                  Boolean(m.b.CAN_UPLOAD_IMAGES) &&
                    c.createElement(
                      "div",
                      {
                        className: Object(N.a)(
                          L.a.RightCol,
                          Xn.DescEditorPadding,
                          Xn.ImagePickerCtn
                        ),
                      },
                      c.createElement(
                        "div",
                        { className: L.a.EventEditorTextTitle },
                        Object(f.f)("#ImagePicker_PreviousImages2"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#ImagePicker_Images_ttip"
                            ),
                            className: L.a.tooltip_Ctn,
                          },
                          "?"
                        )
                      ),
                      c.createElement(zn.a, {
                        bShowLightBox: !0,
                        clanSteamID: e.GetClanSteamID(),
                        imageInsertCallBack: this.onImageInsert,
                        fnSetImageURL: e.SetImageURL,
                        rgRealmList: e.GetIncludedRealmList(),
                      })
                    )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "onImageInsert", null),
            Object(a.c)([R.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([R.a], t.prototype, "OnSubTitleChange", null),
            Object(a.c)([R.a], t.prototype, "OnDescriptionChange", null),
            Object(a.c)([R.a], t.prototype, "SetDescription", null),
            Object(a.c)([R.a], t.prototype, "GetCurrentDescription", null),
            Object(a.c)([R.a], t.prototype, "onFocus", null),
            Object(a.c)([R.a], t.prototype, "onTextAreaFocus", null),
            Object(a.c)([R.a], t.prototype, "OnSummaryChange", null),
            Object(a.c)([R.a], t.prototype, "OnNewReferencedAppID", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ea = n("Cs6D"),
        ta = n("YuoN"),
        na = n.n(ta),
        aa = n("TScJ"),
        ia = n.n(aa),
        ra = n("ZCGQ"),
        oa = n.n(ra),
        la = n("NEpn"),
        sa = n.n(la);
      !(function (e) {
        (e.EditInfo = "apprighteditinfo"),
          (e.Publish = "apprightpublish"),
          (e.ViewErrorData = "apprightviewerrordata"),
          (e.Download = "apprightdownload"),
          (e.UploadCDKeys = "apprightuploadcdkeys"),
          (e.GenerateCDKeys = "apprightgeneratecdkeys"),
          (e.ViewFinancials = "apprightviewfinancials"),
          (e.ManageCEG = "apprightmanageceg"),
          (e.ManagingSigning = "apprightmanagesigning"),
          (e.ManageCDKeys = "apprightmanagecdkeys"),
          (e.EditMarketing = "apprighteditmarketing"),
          (e.EconomySupport = "apprighteconomysupport"),
          (e.EconomySupportSupervisor = "apprighteconomysupportsupervisor"),
          (e.ManagePricing = "appmanagepricing"),
          (e.BroadcastLive = "apprightbroadcastlive"),
          (e.AppRightEditStoreDisplayContent =
            "apprighteditstoredisplaycontent"),
          (e.AppRightViewMarketingTraffic = "apprightviewmarketingtraffic");
      })(Pn || (Pn = {})),
        (function (e) {
          (e.ManagerUsers = "pubrightmanageusers"),
            (e.ActualAuthority = "pubrightactualauthority"),
            (e.ViewFinancials = "pubrightviewfinancials"),
            (e.ApproveWalletFunding = "pubrightapprovewalletfunding"),
            (e.ManageLicensedSites = "pubrightmanagelicensedsites");
        })(xn || (xn = {}));
      var ca = (function () {
          function e() {}
          return (
            (e.ConstructAppRightsMap = function () {
              var t = new Map();
              return (
                e.AppRights.forEach(function (e) {
                  return t.set(e.token, e);
                }),
                t
              );
            }),
            (e.ConstructPubRightsMap = function () {
              var t = new Map();
              return (
                e.PubRights.forEach(function (e) {
                  return t.set(e.token, e);
                }),
                t
              );
            }),
            (e.GetAppRightFlags = function (t) {
              var n = 0;
              return (
                t.forEach(function (t) {
                  n |= e.MapAppRights.get(t).flag;
                }),
                n
              );
            }),
            (e.GetPublisherRightFlags = function (t) {
              var n = 0;
              return (
                t.forEach(function (t) {
                  n |= e.MapPubRights.get(t).flag;
                }),
                n
              );
            }),
            (e.AppRights = [
              { flag: 1, token: Pn.EditInfo },
              { flag: 2, token: Pn.Publish },
              { flag: 4, token: Pn.ViewErrorData },
              { flag: 8, token: Pn.Download },
              { flag: 16, token: Pn.UploadCDKeys },
              { flag: 32, token: Pn.GenerateCDKeys },
              { flag: 64, token: Pn.ViewFinancials },
              { flag: 128, token: Pn.ManageCEG },
              { flag: 256, token: Pn.ManagingSigning },
              { flag: 512, token: Pn.ManageCDKeys },
              { flag: 1024, token: Pn.EditMarketing },
              { flag: 2048, token: Pn.EconomySupport },
              { flag: 4096, token: Pn.EconomySupportSupervisor },
              { flag: 8192, token: Pn.ManagePricing },
              { flag: 16384, token: Pn.BroadcastLive },
              { flag: 32768, token: Pn.AppRightViewMarketingTraffic },
              { flag: 65536, token: Pn.AppRightEditStoreDisplayContent },
            ]),
            (e.MapAppRights = e.ConstructAppRightsMap()),
            (e.PubRights = [
              { flag: 1, token: xn.ManagerUsers },
              { flag: 2, token: xn.ActualAuthority },
              { flag: 4, token: xn.ViewFinancials },
              { flag: 8, token: xn.ApproveWalletFunding },
              { flag: 16, token: xn.ManageLicensedSites },
            ]),
            (e.MapPubRights = e.ConstructPubRightsMap()),
            e
          );
        })(),
        da = n("75vw"),
        ua = n.n(da),
        pa = n("U6Vi"),
        ma = n("Nsq5"),
        _a = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnHeadlineChange = function (e) {
              var t = this.props,
                n = t.section,
                a = t.lang;
              n.SetHeadline(e.currentTarget.value || null, a);
            }),
            (t.prototype.OnBodyChange = function (e) {
              var t = this.props,
                n = t.section,
                a = t.lang;
              n.SetBody(e.currentTarget.value || null, a);
            }),
            (t.prototype.OnVideoChange = function (e) {
              this.props.section.SetVideoLink(e.currentTarget.value || null);
            }),
            (t.prototype.OnRemoveSubSection = function (e) {
              var t = this.props,
                n = t.section,
                a = t.fnRemoveSection;
              Object(Ie.d)(
                c.createElement(Te.d, {
                  strTitle: Object(f.f)("#EventEmail_Template_EditTitle"),
                  strDescription: Object(f.f)(
                    "#EventEmail_Template_RemoveSubSection",
                    Object(f.f)("#EventEmail_Template_Sub_" + e)
                  ),
                  onOK: function () {
                    n.RemoveSubSection(e), !n.BHasSomeSubSection() && a && a();
                  },
                }),
                window
              );
            }),
            (t.prototype.GenerateTemplateRemove = function (e) {
              var t = this,
                n = Object(f.f)("#EventEmail_Template_Sub_" + e);
              return c.createElement(
                "div",
                { className: pa.ImgCrossCtn },
                c.createElement("img", {
                  "data-tooltip-text": Object(f.f)(
                    "#EventEmail_Template_Remove",
                    n
                  ),
                  className: pa.ImgCross,
                  src: Tn.a,
                  onClick: function () {
                    return t.OnRemoveSubSection(e);
                  },
                })
              );
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.section,
                n = e.additionalClassName,
                a = e.lang,
                i = e.bEditor,
                r = e.clanSteamID,
                o = e.appid,
                l = e.bTemplateEditable;
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    n,
                    pa.DevEmailEmailBackground,
                    pa.EmailSection
                  ),
                },
                t.BHasHeadline() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("headline"),
                    c.createElement("input", {
                      type: "text",
                      className: pa.HeadlineInput,
                      placeholder: Object(f.f)("#EventEmail_EnterHeadline"),
                      value: t.GetHeadline(a),
                      onChange: this.OnHeadlineChange,
                    })
                  ),
                t.BHasBody() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("body"),
                    c.createElement("textarea", {
                      className: pa.BodyInput,
                      placeholder: Object(f.f)("#EventEmail_EnterBodyCopy"),
                      value: t.GetBody(a),
                      rows: 8,
                      onChange: this.OnBodyChange,
                    })
                  ),
                t.BHasCallToAction() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("action"),
                    c.createElement(ga, { appid: o, section: t })
                  ),
                t.BHasImage() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("img"),
                    c.createElement(ba, {
                      section: t,
                      lang: a,
                      clanSteamID: r,
                      bEditor: i,
                      artworkType: l ? "email_centered" : "email_full",
                    })
                  ),
                t.BHasVideo() &&
                  c.createElement(
                    c.Fragment,
                    null,
                    l && this.GenerateTemplateRemove("youtube"),
                    c.createElement(
                      "div",
                      { className: pa.VideoCtn },
                      c.createElement("img", { src: t.GetYouTubeImageURL() }),
                      Boolean(i) &&
                        c.createElement(
                          "div",
                          { className: pa.VideoInputCtn },
                          c.createElement(
                            "div",
                            null,
                            Object(f.f)("#EventEditor_InsertYouTube_Placholder")
                          ),
                          c.createElement("input", {
                            type: "text",
                            value: t.GetVideoURL(),
                            onChange: this.OnVideoChange,
                          }),
                          c.createElement(
                            "div",
                            null,
                            Object(f.f)(
                              "#EventEditor_InsertYouTube_UpdateThumbnail"
                            ),
                            c.createElement(
                              "a",
                              {
                                href:
                                  "https://support.google.com/youtube/answer/72431",
                                target: "_blank",
                              },
                              Object(f.f)("#EventEditor_InsertYouTube_LearnHow")
                            )
                          )
                        )
                    )
                  )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnHeadlineChange", null),
            Object(a.c)([R.a], t.prototype, "OnBodyChange", null),
            Object(a.c)([R.a], t.prototype, "OnVideoChange", null),
            Object(a.c)([R.a], t.prototype, "OnRemoveSubSection", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ga = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = y.a.CancelToken.source()),
              (t.state = { dlcs: void 0 }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.LoadDLCForApp = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = this.setState),
                        (t = {}),
                        [
                          4,
                          u.a.LoadDLCForAppID(
                            this.props.appid,
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return e.apply(this, [((t.dlcs = n.sent()), t)]), [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.LoadDLCForApp();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("EmailCallToAction cancelled");
            }),
            (t.prototype.BuildTextOptions = function () {
              var e = new Array();
              return (
                xe.e.forEach(function (t) {
                  e.push(
                    c.createElement(
                      "option",
                      { key: t, value: t },
                      Object(f.f)("#" + t)
                    )
                  );
                }),
                e
              );
            }),
            (t.prototype.BuildDestinationOptions = function () {
              var e = new Array();
              for (var t in xe.c)
                if (!isNaN(Number(t))) {
                  var n = xe.f[t];
                  e.push(
                    c.createElement(
                      "option",
                      { key: n, value: t },
                      Object(f.f)("#" + n)
                    )
                  );
                }
              return (
                void 0 === this.state.dlcs
                  ? e.push(
                      c.createElement(
                        "option",
                        { key: "CallToActionThrobber" },
                        c.createElement(
                          _.a,
                          {
                            string: Object(f.f)("#EventEmail_LoadingDLC"),
                            size: "small",
                          },
                          " "
                        )
                      )
                    )
                  : this.state.dlcs.forEach(function (t) {
                      e.push(
                        c.createElement(
                          "option",
                          { key: "dlc" + t.appid, value: t.appid },
                          Object(f.f)(
                            "#EventEmail_Destination_DLCPage",
                            t.name,
                            t.appid
                          )
                        )
                      );
                    }),
                e
              );
            }),
            (t.prototype.OnButtonLocChange = function (e) {
              var t = this.props.section;
              xe.e.forEach(function (n) {
                n === e.target.value && t.SetButtonTextLock(n);
              });
            }),
            (t.prototype.OnDestinationChange = function (e) {
              var t = this.props.section,
                n = Number(e.target.value);
              Object(G.G)(function () {
                n < xe.d
                  ? (t.SetButtonDestination(n), t.SetButtonAppOverride(void 0))
                  : (t.SetButtonDestination(xe.c.k_EStorePage),
                    t.SetButtonAppOverride(n));
              });
            }),
            (t.prototype.OnChangeStorePageURL = function () {
              var e = this.props.section;
              Object(Ie.d)(
                c.createElement(Ea, {
                  strExistingURL:
                    m.c.STORE_BASE_URL + e.GetDestinationStorePath(),
                  fnUpdateURLOnSuccess: e.SetButtonDestinationStoreURL,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.section,
                t = this.BuildTextOptions(),
                n = this.BuildDestinationOptions(),
                a = e.BHasButtonAppIDOverride()
                  ? e.GetButtonAppidOverride()
                  : e.GetDestination();
              return c.createElement(
                "div",
                { className: pa.ButtonSettingContainer },
                c.createElement(
                  "div",
                  { className: pa.ButtonSettingRow },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEmail_Section_ButtonText")
                  ),
                  c.createElement(
                    "select",
                    {
                      value: e.GetButtonTextLoc(),
                      onChange: this.OnButtonLocChange,
                    },
                    t
                  )
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEmail_Section_Destination")
                  ),
                  c.createElement(
                    "select",
                    { value: a, onChange: this.OnDestinationChange },
                    n
                  )
                ),
                e.BIsStoreSalesPage() &&
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#EventEmail_Section_EnterSalesPage"),
                      " ",
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventEmail_Section_EnterSalesPage_ttip"
                          ),
                        },
                        "(?)"
                      )
                    ),
                    c.createElement(
                      "span",
                      null,
                      m.c.STORE_BASE_URL + e.GetDestinationStorePath()
                    ),
                    c.createElement(
                      Me.q,
                      { onClick: this.OnChangeStorePageURL },
                      Object(f.f)("#EventEmail_Section_UpdateURL")
                    )
                  )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnButtonLocChange", null),
            Object(a.c)([R.a], t.prototype, "OnDestinationChange", null),
            Object(a.c)([R.a], t.prototype, "OnChangeStorePageURL", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Ea = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bIsValid: Pe.a.IsValidStoreURL(t.props.strExistingURL),
                strURL: t.props.strExistingURL ? t.props.strExistingURL : "",
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnURLUpdate = function (e) {
              var t = e.currentTarget.value;
              this.setState({ bIsValid: Pe.a.IsValidStoreURL(t), strURL: t });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.fnUpdateURLOnSuccess,
                a = t.closeModal;
              return c.createElement(
                Te.d,
                {
                  strDescription: Object(f.f)(
                    "#EventEmail_Section_EnterSalesPage_ttip"
                  ),
                  strTitle: Object(f.f)("#EventEmail_Section_UpdateURL"),
                  onOK: function () {
                    n(e.state.strURL), a();
                  },
                  onCancel: a,
                  bOKDisabled: !this.state.bIsValid,
                },
                c.createElement(
                  "div",
                  null,
                  c.createElement("input", {
                    type: "test",
                    className: pa.ButtonDestInputSaleURL,
                    value: this.state.strURL,
                    onChange: this.OnURLUpdate,
                  })
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnURLUpdate", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ba = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { langOverride: t.props.lang }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnArtworkLangChange = function (e, t, n) {
              var a = this.props.section,
                i = b.a.GetExtensionString(e);
              i && a.SetImage(e.image_hash + i, n),
                this.setState({ langOverride: n }, function () {
                  return a.SetImage(null, t);
                });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.clanSteamID,
                a = t.section,
                i = t.lang,
                r = t.bEditor,
                o = t.artworkType,
                l = a.GetImageURLWithFallback(this.state.langOverride, n),
                s = a.BHasSomeImage(),
                d = ma.a[o];
              return c.createElement(
                "div",
                { className: pa.ImagePreview },
                c.createElement(
                  "div",
                  { className: pa.FullImageCtn },
                  c.createElement("img", {
                    width: l ? d.width : void 0,
                    height: l ? d.height : void 0,
                    src: l,
                  }),
                  Boolean(r) &&
                    c.createElement(va, {
                      section: a,
                      clanSteamID: n,
                      lang: i,
                      artworkType: o,
                    })
                ),
                s &&
                  c.createElement(On.c, {
                    clanSteamID: n,
                    langOverride: this.state.langOverride,
                    fnGetImageHash: function (e) {
                      return a.GetImageHash(e);
                    },
                    fnOnLanguagePreviewChange: function (t) {
                      return e.setState({ langOverride: t });
                    },
                    fnOnRemoveImage: function (e) {
                      return a.SetImage(null, e);
                    },
                    fnOnArtworkLangChange: this.OnArtworkLangChange,
                  })
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnArtworkLangChange", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        va = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bDownloadFromClanImageStore: !1 }),
              (t.m_clanImageUploader = new b.b(t.props.clanSteamID)),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidUpdate = function (e) {
              e.clanSteamID.GetAccountID() !=
                this.props.clanSteamID.GetAccountID() &&
                (this.m_clanImageUploader = new b.b(this.props.clanSteamID));
            }),
            (t.prototype.DoUpload = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (e = this.props.section), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (t = [this.props.artworkType]),
                        [4, this.m_clanImageUploader.UploadAllFiles(t)]
                      );
                    case 2:
                      return (
                        (n = a.sent()),
                        Object.keys(n).forEach(function (t) {
                          var a = n[t],
                            i = r.m_clanImageUploader.m_filesToUpload.find(
                              function (e) {
                                return e.uploadTime + "/" + e.file.name === t;
                              }
                            );
                          if (i)
                            if (1 !== a.success)
                              (i.status = "failed"), (i.message = a.message);
                            else {
                              i.status = "success";
                              var o = b.a.GetExtensionString(a);
                              e.SetImage(a.image_hash + o, i.language);
                            }
                        }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (i = a.sent()),
                        console.error(
                          "DoUpload failed:" + Object(p.a)(i).strErrorMsg
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, r, o;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!(e && e.length > 0)) return [3, 5];
                      (t = this.props.lang),
                        (n = [this.props.artworkType]),
                        (i = !0),
                        (r = 0),
                        (a.label = 1);
                    case 1:
                      return i && r < Array.from(e).length
                        ? ((o = e.item(r)),
                          [4, this.m_clanImageUploader.AddImage(o, t, n)])
                        : [3, 4];
                    case 2:
                      (i = a.sent()) ||
                        (console.error(
                          "ClanImagePicker.OnDropFiles: failed on i=" +
                            r +
                            " file=" +
                            o.name
                        ),
                        Object(Ie.d)(
                          c.createElement(Te.f, {
                            strDescription: Object(f.f)(
                              "#ImagePicker_Error",
                              o.name
                            ),
                          }),
                          window
                        )),
                        (a.label = 3);
                    case 3:
                      return r++, [3, 1];
                    case 4:
                      return [2, i];
                    case 5:
                      return [2, !1];
                  }
                });
              });
            }),
            (t.prototype.RenderInstructions = function () {
              var e = this.props.artworkType,
                t = ma.a[e];
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "span",
                  { className: pa.EmailInputText },
                  Object(f.f)("#EventEmail_SelectBrandingImage")
                ),
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#EventEmail_ImageDimension", t.width, t.height)
                )
              );
            }),
            (t.prototype.OnPreviousImageSelected = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t = this;
                return Object(a.e)(this, function (n) {
                  return (
                    this.state.bDownloadFromClanImageStore ||
                      this.setState(
                        { bDownloadFromClanImageStore: !0 },
                        function () {
                          return Object(a.b)(t, void 0, void 0, function () {
                            var t, n, i, r;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  (t = this.props.lang),
                                    (n = [this.props.artworkType]),
                                    (a.label = 1);
                                case 1:
                                  return (
                                    a.trys.push([1, 3, , 4]),
                                    [
                                      4,
                                      this.m_clanImageUploader.AddExistingClanImage(
                                        e,
                                        t,
                                        n
                                      ),
                                    ]
                                  );
                                case 2:
                                  return a.sent(), [3, 4];
                                case 3:
                                  return (
                                    (i = a.sent()),
                                    (r = Object(p.a)(i)),
                                    console.error(
                                      "AddExistingClanImage: " + r.strErrorMsg,
                                      r
                                    ),
                                    Object(Ie.d)(
                                      c.createElement(Te.f, {
                                        strDescription: Object(f.f)(
                                          "#EventError_Code",
                                          r.strErrorMsg
                                        ),
                                      }),
                                      window
                                    ),
                                    [3, 4]
                                  );
                                case 4:
                                  return (
                                    this.setState({
                                      bDownloadFromClanImageStore: !1,
                                    }),
                                    [2]
                                  );
                              }
                            });
                          });
                        }
                      ),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.render = function () {
              if (this.state.bDownloadFromClanImageStore)
                return c.createElement(
                  "div",
                  { className: pa.EditImageInputCtn },
                  c.createElement(_.a, {
                    position: "center",
                    size: "medium",
                    string: Object(f.f)("#Loading"),
                  })
                );
              var e = this.props.clanSteamID,
                t = [this.props.artworkType],
                n = Object(En.c)(
                  this.m_clanImageUploader,
                  "emailartupload_",
                  t
                );
              return c.createElement(
                "div",
                { className: pa.EditImageInputCtn },
                c.createElement(
                  zn.b,
                  {
                    onDropFiles: this.OnDropFiles,
                    bAllowPreviousClanImages: !0,
                    OnClanImageSelected: this.OnPreviousImageSelected,
                    clanSteamID: e,
                    renderDesciption: this.RenderInstructions,
                    fnSetImageURL: l.c.GetEditModel().SetImageURL,
                    rgRealmList: l.c.GetEditModel().GetIncludedRealmList(),
                  },
                  c.createElement("div", { className: H.UploadPreviewCtn }, n),
                  c.createElement(En.a, {
                    clanImageUploader: this.m_clanImageUploader,
                    fnOnUploadImageRequested: this.DoUpload,
                  })
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "DoUpload", null),
            Object(a.c)([R.a], t.prototype, "OnDropFiles", null),
            Object(a.c)([R.a], t.prototype, "RenderInstructions", null),
            Object(a.c)([R.a], t.prototype, "OnPreviousImageSelected", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ha = {
          localized_headline: new Array(30),
          localized_body: new Array(30),
          localized_image: new Array(30),
          button_destination: xe.c.k_EEventPage,
          button_loc_token: "EventEmail_Button_ClickForMoreDetails",
          video_link: "",
        },
        fa = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel,
                n = t.GetCurEditLanguage(),
                a = this.GetEmailEditModel(),
                i = [];
              a.GetSectionObjects().forEach(function (e, r) {
                i.push(
                  c.createElement(_a, {
                    lang: n,
                    key: "email_editor_section_" + r,
                    clanSteamID: t.GetClanSteamID(),
                    bEditor: t.BIsEmailEditable(),
                    appid: t.GetAppID(),
                    section: e,
                    additionalClassName: pa.HeaderSection,
                    bTemplateEditable: !0,
                    fnRemoveSection: function () {
                      return a.RemoveSection(r);
                    },
                  })
                );
              });
              var r = a.GetLocalizedSubject(n);
              return c.createElement(
                "div",
                { className: pa.EmailEditorContent },
                c.createElement(
                  "div",
                  { className: pa.RightAlign },
                  c.createElement(
                    "span",
                    { className: pa.EmailOptionTitle },
                    Object(f.f)("#LanguageTitle"),
                    ": "
                  ),
                  c.createElement(Gn.a, {
                    selectedLang: n,
                    fnLangHasData: a.BHasSomeLanguage,
                    fnOnLanguageChanged: function (e) {
                      return t.SetCurEditLanguage(e);
                    },
                  })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexRowContainer,
                      pa.EmailSubjectCtn
                    ),
                  },
                  c.createElement(
                    "span",
                    { className: pa.EmailOptionTitle },
                    Object(f.f)("#EventEmail_Subject")
                  ),
                  c.createElement("input", {
                    type: "text",
                    value: r,
                    size: 90,
                    maxLength: 250,
                    onChange: function (n) {
                      return e
                        .GetEmailEditModel()
                        .SetLocalizedSubject(
                          t.GetCurEditLanguage(),
                          n.currentTarget.value
                        );
                    },
                  })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      pa.EmailTemplate,
                      pa.DevEmailTemplate
                    ),
                  },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pa.CenterAlign,
                        pa.DevEmail_TopHeader
                      ),
                    },
                    c.createElement(
                      "a",
                      { href: m.c.PARTNER_BASE_URL },
                      c.createElement("img", {
                        src: na.a,
                        className: pa.DevEmail_TopLogo,
                      })
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pa.DevEmail_Content) },
                    c.createElement(
                      "div",
                      { className: pa.DevEmail_HearComes },
                      Object(f.f)("#EventEmail_Developer_Top3")
                    ),
                    c.createElement(
                      "div",
                      { className: pa.DevEmail_Subject },
                      r
                    )
                  ),
                  i,
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pa.EmailSection, pa.SupportCtn) },
                    c.createElement("b", null, "Have Questions?"),
                    c.createElement("br", null),
                    c.createElement("a", { href: "#" }, "Contact us"),
                    " and we'll get right back to you."
                  ),
                  c.createElement(
                    "div",
                    { className: Object(N.a)(pa.DevEmail_Content) },
                    c.createElement("img", {
                      src: ia.a,
                      className: pa.DevEmail_SignOff_Img,
                    }),
                    c.createElement(
                      "div",
                      { className: pa.DevEmail_Signoff },
                      c.createElement(
                        "div",
                        null,
                        "- ",
                        Object(f.f)("#EventEmail_Developer_SignOff2")
                      )
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Object(N.a)(pa.DevEmail_Footer_Ctn) },
                  c.createElement(
                    "span",
                    { className: pa.DevEmail_Footer_Reason },
                    Object(f.f)("#EventEmail_Developer_Footer_Reason")
                  ),
                  c.createElement(
                    "div",
                    { className: pa.DevEmail_Footer_SubSection },
                    c.createElement("img", {
                      src: oa.a,
                      width: 103,
                      height: 43,
                    }),
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "div",
                        { className: pa.DevEmail_Footer_Bold },
                        c.createElement(
                          "strong",
                          null,
                          Object(f.f)("#EventEmail_Developer_Footer_Valve"),
                          c.createElement("br", null),
                          Object(f.f)("#EventEmail_Developer_Footer_Valve2")
                        )
                      ),
                      c.createElement(
                        "div",
                        { className: pa.DevEmail_Footer_Regular },
                        Object(f.f)("#EventEmail_Developer_Footer_Valve3")
                      ),
                      c.createElement(
                        "div",
                        null,
                        c.createElement(
                          "a",
                          {
                            className: L.a.FlexRowContainer,
                            href:
                              (m.c.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                          },
                          c.createElement("img", {
                            src: sa.a,
                            width: 33,
                            height: 28,
                          }),
                          c.createElement(
                            "div",
                            { className: pa.DevEmail_Follow },
                            Object(f.f)("#EventEmail_Developer_Footer_Follow")
                          )
                        )
                      )
                    )
                  )
                ),
                c.createElement(
                  "button",
                  {
                    className: Object(N.a)(L.a.Button, pa.CenterAlign),
                    onClick: function () {
                      a.AddSection(ha);
                    },
                  },
                  Object(f.f)("#EventEmail_Template_AddSection")
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Sa = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                capabilities: void 0,
                selectedCapability: void 0,
                nDuplicatesRemoved: 0,
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              (t.m_appFileInput = c.createRef()),
              (t.m_pubFileInput = c.createRef()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("DevEventRecipientOptions cancelled");
            }),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [
                        4,
                        l.c.GetPartnerCapabilities(this.m_cancelSignal),
                      ];
                    case 1:
                      return (
                        (e = a.sent()),
                        (t = this.GetEmailEditModel()),
                        (n = { label: e[0].capability, value: e[0] }),
                        e.forEach(function (e) {
                          e.id === t.GetInternalTargetingPartnerCapability() &&
                            (n = { label: e.capability, value: e });
                        }),
                        this.setState({
                          capabilities: e,
                          selectedCapability: n,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.OnFileChoice = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i;
                return Object(a.e)(this, function (a) {
                  return (
                    (n = t.target.files) &&
                      n.length > 0 &&
                      n[0] &&
                      ((i = this),
                      this.setState({ readingFile: !0 }, function () {
                        var t = new FileReader();
                        (t.onload = function () {
                          var n = t.result
                              .toString()
                              .split("\n")
                              .map(function (e) {
                                return Number.parseInt(e);
                              }),
                            a = new Set(n);
                          "app" == e
                            ? i
                                .GetEmailEditModel()
                                .SetInternalAppIDs(Array.from(a))
                            : i
                                .GetEmailEditModel()
                                .SetInternalPublisherIDs(Array.from(a)),
                            i.setState({
                              readingFile: !1,
                              nDuplicatesRemoved: n.length - a.size,
                            });
                        }),
                          (t.onerror = function () {
                            console.error(
                              "DevEventRecipientOptions - Failed to read file",
                              t
                            ),
                              i.setState({ readingFile: !1 });
                          }),
                          t.readAsText(n[0]);
                      })),
                    this.m_appFileInput.current &&
                      this.m_appFileInput.current.value &&
                      (this.m_appFileInput.current.value = null),
                    this.m_pubFileInput.current &&
                      this.m_pubFileInput.current.value &&
                      (this.m_pubFileInput.current.value = null),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.ShowTargets = function (e) {
              var t = this.GetEmailEditModel(),
                n =
                  "app" == e
                    ? t.GetInternalTargetAppIDs()
                    : t.GetInternalTargetPublisherIDs();
              Object(Ie.d)(
                c.createElement(
                  Te.d,
                  {
                    strTitle: Object(f.f)(
                      "app" == e
                        ? "#EventEmail_Developer_ShowApps"
                        : "#EventEmail_Developer_ShowPublisher",
                      n.length
                    ),
                    onOK: function () {},
                    onCancel: function () {},
                    bAlertDialog: !0,
                  },
                  n.map(function (t) {
                    return c.createElement("div", { key: e + "_" + t }, t);
                  })
                ),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this;
              if (!this.state.capabilities)
                return c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                });
              var t = this.GetEmailEditModel(),
                n = this.state.capabilities.map(function (e) {
                  return { value: e, label: e.capability };
                }),
                a = ca.PubRights.map(function (e) {
                  return c.createElement(Me.e, {
                    key: "PubRights" + e.flag,
                    onChange: function (n) {
                      return t.UpdateInternalTargetPublisherRights(e.flag, n);
                    },
                    label: Object(f.f)("#PubRight_" + e.token),
                    tooltip: Object(f.f)("#PubRight_" + e.token + "_Tooltip"),
                    checked: t.BHasInternalTargetingPublisherRight(e.flag),
                  });
                }),
                i = ca.AppRights.filter(function (e) {
                  return ![Pn.Download, Pn.UploadCDKeys, Pn.ManageCEG].includes(
                    e.token
                  );
                }).map(function (e) {
                  return c.createElement(Me.e, {
                    key: "AppRights" + e.flag,
                    onChange: function (n) {
                      return t.UpdateInternalTargetAppRights(e.flag, n);
                    },
                    label: Object(f.f)("#AppRight_" + e.token),
                    tooltip: Object(f.f)("#AppRight_" + e.token + "_Tooltip"),
                    checked: t.BHasInternalTargetingAppRight(e.flag),
                  });
                });
              return c.createElement(
                "div",
                { className: pa.RecipientCtn },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Recipients")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Recipients_desc")
                  ),
                  c.createElement(
                    "table",
                    { className: pa.DevEmail_RecipientTable },
                    c.createElement(
                      "tbody",
                      null,
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_IsUrgent")
                        ),
                        c.createElement(
                          "td",
                          null,
                          c.createElement(Me.e, {
                            onChange: function (e) {
                              return t.SetInternalTargetPriority(e);
                            },
                            label: Object(f.f)(
                              "#EventEmail_Developer_IsUrgent_Desc"
                            ),
                            checked: t.BHasInternalTargetingPriority(),
                          })
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_PartnerCapability")
                        ),
                        c.createElement(
                          "td",
                          null,
                          c.createElement(ea.a, {
                            isSearchable: !0,
                            isMulti: !1,
                            value: this.state.selectedCapability,
                            options: n,
                            onChange: function (t) {
                              return e.setState(
                                { selectedCapability: t },
                                function () {
                                  return e
                                    .GetEmailEditModel()
                                    .SetInternalTargetPartnerCapability(
                                      t.value.id
                                    );
                                }
                              );
                            },
                          })
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          { colSpan: 2 },
                          Object(f.f)("#EventEmail_Developer_RightDesc")
                        )
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_PublisherRights")
                        ),
                        c.createElement("td", null, a)
                      ),
                      c.createElement(
                        "tr",
                        null,
                        c.createElement(
                          "th",
                          null,
                          Object(f.f)("#EventEmail_Developer_AppRights")
                        ),
                        c.createElement("td", null, i)
                      )
                    )
                  ),
                  this.state.readingFile &&
                    c.createElement(_.a, { size: "small" }),
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "b",
                      null,
                      Object(f.f)("#EventEmail_Developer_FilterOptional")
                    )
                  ),
                  Boolean(this.state.nDuplicatesRemoved > 0) &&
                    c.createElement(
                      "div",
                      { className: $.WarningStylesBackground },
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)(
                          "#EventEmail_Developer_DuplicateRemoved",
                          this.state.nDuplicatesRemoved.toLocaleString()
                        )
                      )
                    ),
                  c.createElement(
                    "div",
                    { className: pa.TargetCtn },
                    c.createElement(
                      "div",
                      { className: pa.TargetTypeTitle },
                      c.createElement("b", null, "App Targeting")
                    ),
                    c.createElement(
                      "div",
                      { className: pa.TargetTypeCtn },
                      t.GetInternalTargetAppCount() &&
                        c.createElement(
                          "div",
                          { className: pa.TargetedListCtn },
                          c.createElement(
                            "div",
                            null,
                            t.GetInternalTargetAppCount(),
                            " apps targeted."
                          ),
                          c.createElement(
                            "button",
                            {
                              className: "btn_blue_steamui btn_medium",
                              onClick: function () {
                                return e.ShowTargets("app");
                              },
                            },
                            c.createElement(
                              "span",
                              null,
                              Object(f.f)(
                                "#EventEmail_Developer_ShowApps",
                                t.GetInternalTargetAppCount()
                              )
                            )
                          )
                        ),
                      c.createElement(
                        "div",
                        { className: pa.SelectListCtn },
                        Object(f.f)("#EventEmail_Developer_AddApps"),
                        c.createElement(
                          "label",
                          {
                            className: ua.a.SelectImageButton,
                            htmlFor: "internal_loadappid",
                          },
                          Object(f.f)("#EventEmail_Developer_SelectFile")
                        ),
                        c.createElement("input", {
                          ref: this.m_appFileInput,
                          id: "internal_loadappid",
                          style: { display: "none" },
                          type: "file",
                          onSubmit: function (t) {
                            return e.OnFileChoice("app", t);
                          },
                          onChange: function (t) {
                            return e.OnFileChoice("app", t);
                          },
                          multiple: !1,
                        })
                      )
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: pa.TargetCtn },
                    c.createElement(
                      "div",
                      { className: pa.TargetTypeTitle },
                      c.createElement("b", null, "Publisher Targeting")
                    ),
                    c.createElement(
                      "div",
                      { className: pa.TargetTypeCtn },
                      t.GetInternalTargetPublisherCount() &&
                        c.createElement(
                          "div",
                          { className: pa.TargetedListCtn },
                          c.createElement(
                            "div",
                            null,
                            t.GetInternalTargetPublisherCount(),
                            " publishers targeted."
                          ),
                          c.createElement(
                            "button",
                            {
                              className: "btn_blue_steamui btn_medium",
                              onClick: function () {
                                return e.ShowTargets("publisher");
                              },
                            },
                            c.createElement(
                              "span",
                              null,
                              Object(f.f)(
                                "#EventEmail_Developer_ShowPublisher",
                                t.GetInternalTargetPublisherCount()
                              )
                            )
                          )
                        ),
                      c.createElement(
                        "div",
                        { className: pa.SelectListCtn },
                        Object(f.f)("#EventEmail_Developer_AddPublisher"),
                        c.createElement(
                          "label",
                          {
                            className: ua.a.SelectImageButton,
                            htmlFor: "internal_loadpubid",
                          },
                          Object(f.f)("#EventEmail_Developer_SelectFile")
                        ),
                        c.createElement("input", {
                          ref: this.m_appFileInput,
                          id: "internal_loadpubid",
                          style: { display: "none" },
                          type: "file",
                          onSubmit: function (t) {
                            return e.OnFileChoice("publisher", t);
                          },
                          onChange: function (t) {
                            return e.OnFileChoice("publisher", t);
                          },
                          multiple: !1,
                        })
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnFileChoice", null),
            Object(a.c)([R.a], t.prototype, "ShowTargets", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Oa = n("wrTd"),
        ya = n.n(Oa),
        Ca = n("Ig8m"),
        ja = n("62WR"),
        Ta = n("BVhQ"),
        Ia = Object(I.a)(function (e) {
          var t = e.editModel;
          if (
            (c.useEffect(function () {
              Ca.a.HintLoad();
            }, []),
            !v.a.Get().BShowEmailEditorTab(t.GetEventModel()))
          )
            return null;
          t.GetClanSteamID().GetAccountID();
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              "div",
              { className: pa.EmailTabCtn },
              c.createElement(
                "div",
                { className: Object(N.a)(L.a.EventEditorTextTitleCtn) },
                c.createElement(
                  "span",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEmail_FeatureTitle")
                ),
                c.createElement(
                  "a",
                  { href: "#", className: Object(N.a)(L.a.doclink) },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#selectimage_see_documentation")
                  )
                )
              ),
              c.createElement(
                "div",
                { className: Object(N.a)(L.a.FlexColumnContainer) },
                c.createElement(Me.p, {
                  label: Object(f.f)("#EventEmail_EnableEmailOption"),
                  onChange: function (t) {
                    var n = e.editModel,
                      a = n.GetClanSteamID().GetAccountID();
                    (n.CreateOrGetEmailSettings(a).bEnable = t),
                      n.SetDirty(T.c.jsondata_email);
                  },
                  checked: t.BIsEmailEnabled(),
                })
              )
            ),
            Boolean(t.BIsEmailEnabled()) &&
              c.createElement(
                "div",
                { className: H.EventEditorInputPaneContainer },
                c.createElement(
                  ke.a,
                  null,
                  c.createElement(Na, { editModel: t })
                ),
                c.createElement(
                  ke.a,
                  null,
                  c.createElement(wa, { editModel: t })
                ),
                c.createElement(
                  ke.a,
                  null,
                  m.b.IS_VALVE_GROUP
                    ? c.createElement(fa, { editModel: t })
                    : c.createElement(Ga, { editModel: t })
                ),
                c.createElement(Da, { editModel: t }),
                c.createElement(
                  ke.a,
                  null,
                  m.b.IS_VALVE_GROUP
                    ? c.createElement(Sa, { editModel: t })
                    : c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(Ma, { editModel: t }),
                        c.createElement(Aa, { editModel: t })
                      )
                )
              )
          );
        }),
        Da = function (e) {
          return Object(ja.a)(e.editModel.GetAppID())
            ? c.createElement(
                "div",
                { className: $.WarningStylesBackground },
                Object(f.f)("#EventEmail_SteamChina_Warning")
              )
            : null;
        },
        wa = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bSettingUp: !1 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("EventEmailControlBar cancelled");
            }),
            (t.prototype.FireTestEmail = function () {
              var e = this.props.editModel;
              l.c
                .FireTestEmail(
                  e.GetClanSteamID(),
                  e.GetGID(),
                  e.GetCurEditLanguage(),
                  this.m_cancelSignal
                )
                .then(function (e) {
                  Object(Ie.d)(
                    c.createElement(
                      Te.d,
                      {
                        strTitle: Object(f.f)("#EventDisplay_Share_Success"),
                        onOK: function () {},
                        onCancel: function () {},
                        bAlertDialog: !0,
                      },
                      Object(f.f)("#EventEmail_TestEmailQueue")
                    ),
                    window
                  );
                })
                .catch(function (e) {
                  Object(Ie.d)(
                    c.createElement(Te.f, null, Object(p.a)(e).strErrorMsg),
                    window
                  );
                });
            }),
            (t.prototype.OnTestEmail = function (e) {
              var t = this.props.editModel;
              e.preventDefault(),
                Ca.a.BHasValidatedEmail() && !t.BIsDirtyType(T.c.jsondata_email)
                  ? Object(Ie.c)(
                      c.createElement(
                        Te.d,
                        {
                          strTitle: Object(f.f)("#EventEmail_Test_Email"),
                          onOK: this.FireTestEmail,
                          onCancel: function () {},
                        },
                        Object(f.n)(
                          "#EventEmail_Send_TestEmail_Desc",
                          c.createElement(
                            "a",
                            {
                              target: m.c.IN_CLIENT ? void 0 : "blank",
                              href: m.c.STORE_BASE_URL + "account/",
                            },
                            m.c.STORE_BASE_URL + "account/"
                          )
                        )
                      ),
                      Object(Fe.m)(e)
                    )
                  : t.BIsDirtyType(T.c.jsondata_email)
                  ? Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        null,
                        Object(f.f)("#EventEmail_Test_Dirty")
                      ),
                      window
                    )
                  : Object(Ie.d)(
                      c.createElement(
                        Te.f,
                        null,
                        Object(f.n)(
                          "#EventEmail_Test_Email_Fail",
                          c.createElement(
                            "a",
                            {
                              target: m.c.IN_CLIENT ? void 0 : "blank",
                              href: m.c.STORE_BASE_URL + "account/",
                            },
                            m.c.STORE_BASE_URL + "account/"
                          )
                        )
                      ),
                      window
                    );
            }),
            (t.prototype.OnPrepareEmail = function (e) {
              Object(Ie.d)(
                c.createElement(La, { editModel: this.props.editModel }),
                Object(Fe.m)(e)
              );
            }),
            (t.prototype.OnSetupAndFireEmailConfirm = function (e) {
              var t = this;
              Object(Ie.c)(
                c.createElement(
                  Te.d,
                  {
                    strTitle: "(VO) Setup and Send Email",
                    onOK: function () {
                      return t.setState(
                        { bSettingUp: !0 },
                        t.OnSetupAndFireEmail
                      );
                    },
                    onCancel: function () {},
                  },
                  c.createElement(
                    "div",
                    null,
                    "(VO) Be thoughtful. Talk to Alden or Adil if not sure. By pressing this, we will setup a database entry to fire this email in its current form and target. Double check the audience make sense and the localization looks good. This will also begin firing immediately."
                  )
                ),
                Object(Fe.m)(e)
              );
            }),
            (t.prototype.OnSetupAndFireEmail = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (e = this.props.editModel), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 6, 7, 8]),
                        m.b.IS_VALVE_GROUP
                          ? [
                              4,
                              l.c.SetupInternalPartnerCommunication(
                                this.m_cancelSignal,
                                e.GetClanSteamID(),
                                e.GetGID(),
                                e.GetEmailSettings().internal_targeting
                              ),
                            ]
                          : [3, 3]
                      );
                    case 2:
                      return (n = a.sent()), [3, 5];
                    case 3:
                      return [
                        4,
                        l.c.SetupPartnerEmailCampaign(
                          e.GetClanSteamID(),
                          e.GetGID(),
                          this.m_cancelSignal
                        ),
                      ];
                    case 4:
                      (n = a.sent()), (a.label = 5);
                    case 5:
                      return (
                        (t = n),
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              strTitle: Object(f.f)(
                                "#EventDisplay_Share_Success"
                              ),
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                            },
                            c.createElement(
                              "div",
                              null,
                              "Succesfully created the email on the server and saved it to the event. We are done!"
                            ),
                            Boolean(t.warning) &&
                              "However we hit the following warning: " +
                                t.warning_msg
                          ),
                          window
                        ),
                        [3, 8]
                      );
                    case 6:
                      return (
                        (i = a.sent()),
                        (r = Object(p.a)(i)),
                        console.error(
                          "OnSetupAndFireEmail failed: " + r.strErrorMsg
                        ),
                        Object(Ie.d)(
                          c.createElement(
                            Te.d,
                            {
                              strTitle: Object(f.f)("#Error_Message"),
                              onOK: function () {},
                              onCancel: function () {},
                              bAlertDialog: !0,
                            },
                            c.createElement(
                              "div",
                              null,
                              "We hit the follwoing error: Error Code (",
                              r.errorCode,
                              ")",
                              c.createElement("br", null),
                              "Error Message: ",
                              r.strErrorMsg
                            )
                          ),
                          window
                        ),
                        [3, 8]
                      );
                    case 7:
                      return this.setState({ bSettingUp: !1 }), [7];
                    case 8:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = Boolean(e.GetEmailSettings().locked),
                n = v.a.Get().GetPartnerEventPermissions(e.GetClanSteamID());
              return c.createElement(
                "div",
                { className: pa.ControlBarCtn },
                c.createElement(
                  "a",
                  {
                    onClick: this.OnTestEmail,
                    className: L.a.EditPreviewButton,
                  },
                  this.state.bSettingUp &&
                    c.createElement(_.a, { size: "small" }),
                  Object(f.f)("#EventEmail_Control_TestEmail")
                ),
                t &&
                  n.valve_admin &&
                  c.createElement(
                    "a",
                    {
                      onClick: this.OnSetupAndFireEmailConfirm,
                      className: L.a.EditPreviewButton,
                    },
                    "(VO) Setup and Fire Email"
                  ),
                t &&
                  !n.valve_admin &&
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Ready_ValveRequiredToSend")
                  ),
                !t &&
                  c.createElement(
                    "a",
                    {
                      onClick: this.OnPrepareEmail,
                      className: L.a.EditPreviewButton,
                    },
                    Object(f.f)("#EventEmail_Control_Prepare")
                  )
              );
            }),
            Object(a.c)([R.a], t.prototype, "FireTestEmail", null),
            Object(a.c)([R.a], t.prototype, "OnTestEmail", null),
            Object(a.c)([R.a], t.prototype, "OnPrepareEmail", null),
            Object(a.c)([R.a], t.prototype, "OnSetupAndFireEmailConfirm", null),
            Object(a.c)([R.a], t.prototype, "OnSetupAndFireEmail", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Ga = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.BuildSubjectOption = function (e) {
              var t = Array(),
                n = u.a.GetStoreCapsuleInfo(e).GetAppStoreData().title;
              return (
                xe.g.forEach(function (e) {
                  return t.push(
                    c.createElement(
                      "option",
                      { key: e, value: e },
                      Object(f.f)("#" + e, n)
                    )
                  );
                }),
                t
              );
            }),
            (t.prototype.OnLanguageChanged = function (e) {
              this.props.editModel.SetCurEditLanguage(e);
            }),
            (t.prototype.OnSubjectChange = function (e) {
              var t = this;
              xe.g.forEach(function (n) {
                n === e.target.value &&
                  new Pe.b(t.props.editModel).SetSubjectTextLoc(n);
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = new Pe.b(e),
                n = this.BuildSubjectOption(e.GetAppID()),
                a = e.GetCurEditLanguage(),
                i = u.a.GetStoreCapsuleInfo(e.GetAppID()).GetAppStoreData(),
                r = t.GetSectionObj(0),
                o = t.GetSectionObj(1),
                l = "#EventEmail_Reason_Played",
                s = !1,
                d = "#EventEmail_Footer_Reason_Played",
                p = i.capsule_link,
                m = i.title;
              if (t.BIsTargetingGamePlayers());
              else if (t.BIsTargetingGameFollowers())
                (l = "#EventEmail_Reason_Follow"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Followed");
              else if (t.BIsTargetingGameWishlisters())
                (l = "#EventEmail_Reason_Wishlist"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Wishlisted");
              else if (t.BIsTargetingSomeCreator()) {
                (l = "#EventEmail_Reason_Follow"),
                  (s = !0),
                  (d = "#EventEmail_Footer_Reason_Followed");
                var _ = t.GetSomeCreatorTarget(),
                  g = u.a
                    .GetStoreCapsuleInfo(e.GetAppID())
                    .GetAppStoreData()
                    .creator_list.find(function (e) {
                      return e.clan_account_id == _;
                    });
                if (g) {
                  var E = _e.a.GetCreatorHomeByID(g);
                  E && ((p = E.GetCreatorHomeURL(g.type)), (m = E.GetName()));
                }
              }
              return c.createElement(
                "div",
                { className: pa.EmailEditorContent },
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexRowContainer,
                      pa.EmailSubjectCtn
                    ),
                  },
                  c.createElement(
                    "span",
                    { className: pa.EmailOptionTitle },
                    Object(f.f)("#EventEmail_Subject")
                  ),
                  c.createElement(
                    "select",
                    {
                      className: pa.EmailSubjectSelect,
                      value: t.GetSubjectTextLoc(),
                      onChange: this.OnSubjectChange,
                    },
                    n
                  )
                ),
                c.createElement(
                  "div",
                  { className: pa.RightAlign },
                  c.createElement(
                    "span",
                    { className: pa.EmailOptionTitle },
                    Object(f.f)("#LanguageTitle"),
                    ": "
                  ),
                  c.createElement(Gn.a, {
                    selectedLang: a,
                    fnLangHasData: t.BHasSomeLanguage,
                    fnOnLanguageChanged: this.OnLanguageChanged,
                  })
                ),
                c.createElement(
                  "div",
                  { className: pa.EmailTemplate },
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pa.EmailIconHeader,
                        pa.CenterAlign
                      ),
                    },
                    c.createElement("img", { src: ya.a })
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pa.EmailBackground,
                        pa.EmailReasonHeader,
                        pa.EmailTextCtn
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: pa.Hello },
                      Object(f.f)(
                        "#EventEmail_Hello",
                        Object(f.f)("#EventEmail_UserName")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: pa.Reason },
                      Object(f.f)(l, m)
                    ),
                    !s &&
                      c.createElement(
                        "a",
                        { className: pa.GameLink, href: p },
                        m
                      )
                  ),
                  c.createElement(_a, {
                    lang: a,
                    clanSteamID: e.GetClanSteamID(),
                    bEditor: e.BIsEmailEditable(),
                    appid: e.GetAppID(),
                    section: r,
                    additionalClassName: pa.HeaderSection,
                  }),
                  c.createElement(_a, {
                    lang: a,
                    clanSteamID: e.GetClanSteamID(),
                    bEditor: e.BIsEmailEditable(),
                    appid: e.GetAppID(),
                    section: o,
                    additionalClassName: pa.HeaderSection,
                  }),
                  c.createElement("hr", null),
                  c.createElement(
                    "div",
                    { className: pa.Footer },
                    c.createElement("div", null, Object(f.f)(d)),
                    c.createElement(
                      "span",
                      null,
                      Object(f.f)("#EventEmail_Footer_Game", m)
                    ),
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)("#EventEmail_Footer_OptOut_Desc_Game")
                    ),
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "a",
                        { href: "#" },
                        Object(f.f)("#EventEmail_Footer_OptOut_Target", m)
                      ),
                      " " + Object(f.f)("#EventEmail_Footer_OptOut_Or") + " ",
                      c.createElement(
                        "a",
                        { href: "#" },
                        Object(f.f)("#EventEmail_Footer_Optout_All")
                      )
                    )
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        pa.FooterLegal,
                        L.a.FlexRowContainer
                      ),
                    },
                    c.createElement("img", { src: oa.a }),
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventEmail_Footer_LegalWithAddress_Line1")
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventEmail_Footer_LegalWithAddress_Line2")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnLanguageChanged", null),
            Object(a.c)([R.a], t.prototype, "OnSubjectChange", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Aa = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e;
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return [
                        4,
                        h.a.LoadClanInfoForClanSteamID(
                          this.props.editModel.GetClanSteamID()
                        ),
                      ];
                    case 1:
                      return (
                        (e = t.sent()), this.setState({ clanInfo: e }), [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnControlGroupSpinnerChange = function (e) {
              var t = Number.parseInt(e.target.value);
              this.GetEmailEditModel().SetControlGroupPercent(t);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel;
              if (
                !v.a.Get().GetPartnerEventPermissions(t.GetClanSteamID())
                  .support_user
              )
                return null;
              if (!Boolean(this.state.clanInfo))
                return c.createElement(_.a, {
                  string: Object(f.f)("#Loading"),
                  size: "medium",
                });
              var n = this.GetEmailEditModel();
              return c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.ValveOnlyBackground,
                    pa.RecipientCtn
                  ),
                },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Filter")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Filter_Desc")
                  ),
                  Boolean(this.state.clanInfo.is_ogg) &&
                    c.createElement(Me.p, {
                      onChange: function (t) {
                        return e.GetEmailEditModel().SetFilterIRTopN(t);
                      },
                      label: Object(f.f)("#EventEmail_Filter_IR"),
                      checked: n.BIsIRTopNFiltering(),
                    }),
                  Boolean(this.state.clanInfo.is_ogg) &&
                    c.createElement(Me.p, {
                      onChange: function (t) {
                        return e.GetEmailEditModel().SetFilterWishlist(t);
                      },
                      label: Object(f.f)("#EventEmail_Filter_Wishlist"),
                      checked: n.BIsWishListFiltering(),
                    }),
                  c.createElement(Me.l, {
                    type: "number",
                    min: "0",
                    max: "99",
                    label: Object(f.f)("#EventEmail_Filter_ControlGroup"),
                    value: n.GetControlGroupPercent(),
                    onChange: this.OnControlGroupSpinnerChange,
                  })
                )
              );
            }),
            Object(a.c)(
              [R.a],
              t.prototype,
              "OnControlGroupSpinnerChange",
              null
            ),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Ma = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bLoadingCreator: !0 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.LoadCreatorHome = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        this.state.bLoadingCreator ||
                          this.setState({ bLoadingCreator: !0 }),
                        (e = this.props.editModel),
                        u.a.EnsureStoreCapsuleInfoLoaded(e.GetAppID()),
                        (t = new Array()),
                        [
                          4,
                          _e.a.LoadCreatorHomeListForAppIncludeHiddden(
                            e.GetAppID(),
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return (
                        a.sent().forEach(function (e) {
                          var a = g.a.InitFromClanID(e.clan_account_id);
                          t.push(_e.a.LoadCreatorHome(a, n.m_cancelSignal));
                        }),
                        Promise.all(t).then(function (e) {
                          n.m_cancelSignal.token.reason ||
                            n.setState({ bLoadingCreator: !1 });
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.LoadCreatorHome();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              e.editModel.GetAppID() != this.props.editModel.GetAppID() &&
                this.LoadCreatorHome();
            }),
            (t.prototype.GetEmailEditModel = function () {
              return new Pe.b(this.props.editModel);
            }),
            (t.prototype.BuildCreatorHomeToggle = function (e) {
              var t = this,
                n = new Array(),
                a = new Array();
              if (this.state.bLoadingCreator)
                n.push(
                  c.createElement(_.a, {
                    key: "EmailRecipientControls_creator",
                  })
                );
              else {
                var i = this.props.editModel,
                  r = new Pe.b(i);
                _e.a
                  .GetCreatorHomeListForAppIncludeHidden(i.GetAppID())
                  .forEach(function (i) {
                    var o = _e.a.GetCreatorHomeByID(i);
                    if (
                      o &&
                      !a.some(function (e) {
                        return e.clan_account_id === o.GetClanAccountID();
                      })
                    ) {
                      var l = c.createElement(
                          "a",
                          {
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                            href: o.GetCreatorHomeURL(i.type),
                          },
                          o.BIsHidden()
                            ? Object(f.f)("#EventEmail_CreatorHidden") + " "
                            : "",
                          o.GetName()
                        ),
                        s = c.createElement(ka, {
                          audience: o.GetNumFollowers(),
                          label: Object(f.n)(
                            "#EventEmail_Recipients_follower_creator",
                            l
                          ),
                        });
                      n.push(
                        c.createElement(Me.p, {
                          key: "RecipientToggle_" + i.clan_account_id,
                          onChange: function (e) {
                            return t
                              .GetEmailEditModel()
                              .SetTargetingCreator(e, i.clan_account_id);
                          },
                          label: s,
                          checked: r.BIsTargetingCreator(o.GetClanAccountID()),
                        })
                      ),
                        e.support_user &&
                          ((s = c.createElement(ka, {
                            valveOnly: !0,
                            label: Object(f.n)(
                              "#EventEmail_Recipients_player_creator",
                              l
                            ),
                          })),
                          n.push(
                            c.createElement(
                              "span",
                              {
                                key:
                                  "RecipientToggle_player_" + i.clan_account_id,
                                className: Object(N.a)(L.a.ValveOnlyBackground),
                              },
                              c.createElement(Me.p, {
                                onChange: function (e) {
                                  return t
                                    .GetEmailEditModel()
                                    .SetTargetingCreatorPlayer(
                                      e,
                                      i.clan_account_id
                                    );
                                },
                                label: s,
                                checked: r.BIsTargetingCreatorPlayer(
                                  o.GetClanAccountID()
                                ),
                              })
                            )
                          ),
                          a.push(i));
                    }
                  }),
                  0 == n.length &&
                    n.push(
                      c.createElement(
                        "div",
                        { key: "creatorhome_plug" },
                        Object(f.n)(
                          "#EventEmail_Recipients_NoCreatorHome",
                          c.createElement(
                            "a",
                            {
                              href:
                                "https://partner.steamgames.com/doc/store/creator_homepage",
                            },
                            "https://partner.steamgames.com/doc/store/creator_homepage"
                          )
                        )
                      )
                    );
              }
              return n;
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.editModel,
                n = new Pe.b(t),
                a = v.a.Get().GetPartnerEventPermissions(t.GetClanSteamID());
              return c.createElement(
                "div",
                { className: pa.RecipientCtn },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.EventEditorTextTitle) },
                  c.createElement(
                    "span",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Recipients")
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEmail_Recipients_desc")
                  ),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e
                        .GetEmailEditModel()
                        .SetTargetingExistingPlayer(t);
                    },
                    label: Object(f.f)("#EventEmail_Recipients_players"),
                    checked: n.BIsTargetingGamePlayers(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetTargetingGameWishlist(t);
                    },
                    label: Object(f.f)("#EventEmail_Recipients_wishlist"),
                    checked: n.BIsTargetingGameWishlisters(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetTargetingGameFollower(t);
                    },
                    label: c.createElement(ka, {
                      label: Object(f.f)("#EventEmail_Recipients_follower"),
                      audience: h.a.GetClanMemberCount(t.GetAppID()),
                    }),
                    checked: n.BIsTargetingGameFollowers(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetExcludeGameOwners(t);
                    },
                    label: c.createElement(ka, {
                      label: Object(f.f)(
                        "#EventEmail_Recipients_exclude_owners"
                      ),
                    }),
                    checked: n.BIsExcludingGameOwners(),
                  }),
                  c.createElement(Me.p, {
                    onChange: function (t) {
                      return e.GetEmailEditModel().SetOwnersWithNoPlaytime(t);
                    },
                    label: c.createElement(ka, {
                      label: Object(f.f)("#EventEmail_Recipients_no_playtime"),
                    }),
                    checked: n.BIsTargetingGameOwnersWithoutPlaytime(),
                  }),
                  this.BuildCreatorHomeToggle(a)
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        ka = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.valveOnly,
                n = e.label;
              return c.createElement(
                "div",
                { className: pa.TargetAndAudience },
                c.createElement(
                  "span",
                  null,
                  t && c.createElement("span", null, "(VO) "),
                  n
                ),
                c.createElement(
                  "span",
                  null,
                  Boolean(void 0 !== this.props.audience) &&
                    this.props.audience.toLocaleString()
                )
              );
            }),
            t
          );
        })(c.Component),
        La = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                state: t.props.editModel.BIsDirty() ? "unsaved" : "loading",
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this.props.editModel;
              if ("loading" == this.state.state) {
                var t = (function (e) {
                    for (
                      var t = new Array(),
                        n = new Pe.b(e),
                        a = m.b.IS_VALVE_GROUP,
                        i = n.GetSectionObj(a ? 0 : 1),
                        r = 0;
                      r < 30;
                      ++r
                    ) {
                      var o = 0;
                      i.GetHeadline(r) &&
                        i.GetHeadline(r).trim().length > 0 &&
                        (o += 1),
                        i.GetBody(r) &&
                          i.GetBody(r).trim().length > 0 &&
                          (o += 1),
                        a ||
                          (1 != o && (2 == o || 0 !== r)) ||
                          t.push(
                            c.createElement(
                              "li",
                              {
                                key: "EventEmail_Error_LanguageIncomplete" + r,
                              },
                              c.createElement(
                                "div",
                                { className: ee.a.ErrorStyles },
                                Object(f.f)(
                                  "#EventEmail_Error_LanguageIncomplete",
                                  Object(f.f)("#Language_" + Object(Ae.a)(r)),
                                  o,
                                  2
                                )
                              )
                            )
                          );
                    }
                    return (
                      a
                        ? (n.GetSectionObjects().filter(function (e) {
                            return (
                              e.BHasHeadlineInLanguage(0) ||
                              e.BHasBodyInLanguage(0)
                            );
                          }).length > 0 ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_NoText" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)("#EventEmail_Error_NoText")
                                )
                              )
                            ),
                          n.BHasAnyInternalTargetingAppRight() ||
                            n.BHasAnyInternalTargetingPublisherRight() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_InternalTarget" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_InternalTarget"
                                  )
                                )
                              )
                            ))
                        : (n.GetSectionObj(0).GetImageHashAndExtRaw(0) ||
                            t.push(
                              c.createElement(
                                "li",
                                {
                                  key: "EventEmail_Error_EnglishArtworkMissing",
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_EnglishArtworkMissing"
                                  )
                                )
                              )
                            ),
                          n.BHasSomeTargetEnabled() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_TargetSelection" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)(
                                    "#EventEmail_Error_TargetSelection"
                                  )
                                )
                              )
                            ),
                          void 0 === i.GetRawVideoURL() ||
                            null === i.GetRawVideoURL() ||
                            "" === i.GetRawVideoURL().trim() ||
                            i.BHasValidVideoURL() ||
                            t.push(
                              c.createElement(
                                "li",
                                { key: "EventEmail_Error_InvalidVideo" },
                                c.createElement(
                                  "div",
                                  { className: ee.a.ErrorStyles },
                                  Object(f.f)("#EventEmail_Error_InvalidVideo")
                                )
                              )
                            )),
                      e.BHidden() &&
                        t.push(
                          c.createElement(
                            "li",
                            { key: "EventEmail_Error_EventNotLive" },
                            c.createElement(
                              "div",
                              { className: ee.a.ErrorStyles },
                              Object(f.f)("#EventEmail_Error_EventNotLive")
                            )
                          )
                        ),
                      t
                    );
                  })(e),
                  n = (function (e) {
                    for (
                      var t = new Array(),
                        n = new Pe.b(e),
                        a = m.b.IS_VALVE_GROUP,
                        i = new Array(),
                        r = 0;
                      r < 30;
                      ++r
                    ) {
                      var o = 0,
                        l = n.GetSectionObj(a ? 0 : 1);
                      l.GetHeadline(r) &&
                        l.GetHeadline(r).trim().length > 0 &&
                        (o += 1),
                        l.GetBody(r) &&
                          l.GetBody(r).trim().length > 0 &&
                          (o += 1),
                        2 == o &&
                          0 != r &&
                          void 0 ===
                            n.GetSectionObj(0).GetImageHashAndExtRaw(r) &&
                          i.push(r);
                    }
                    return (
                      i.length > 0 &&
                        (1 == i.length
                          ? t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_1" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_1",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    )
                                  )
                                )
                              )
                            )
                          : 2 == i.length
                          ? t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_2" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_2",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    ),
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[1])
                                    )
                                  )
                                )
                              )
                            )
                          : t.push(
                              c.createElement(
                                "li",
                                {
                                  key:
                                    "EventEmail_Warning_ImageLanguage_n" + i[0],
                                },
                                c.createElement(
                                  "div",
                                  { className: ee.a.WarningStyles },
                                  Object(f.f)(
                                    "#EventEmail_Warning_ImageLanguage_n",
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[0])
                                    ),
                                    Object(f.f)(
                                      "#Language_" + Object(Ae.a)(i[1])
                                    ),
                                    i.length - 2
                                  )
                                )
                              )
                            )),
                      t
                    );
                  })(e);
                this.setState({
                  error: t,
                  warning: n,
                  state:
                    t.length > 0
                      ? "error"
                      : n.length > 0
                      ? "readywithwarning"
                      : "ready",
                });
              }
            }),
            (t.prototype.OnLockEmail = function () {
              var e = this,
                t = this.props.editModel;
              new Pe.b(t).LockEmail(),
                this.setState({ state: "saving" }, function () {
                  l.c.SaveModel(t.GetClanSteamID()).then(function (t) {
                    e.setState({ state: "done" });
                  });
                });
            }),
            (t.prototype.render = function () {
              switch (this.state.state) {
                case "loading":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(_.a, null)
                  );
                case "ready":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)("#EventEmail_Preparation_Desc"),
                    onOK: this.OnLockEmail,
                    onCancel: this.props.closeModal,
                  });
                case "readywithwarning":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_Desc"
                      ),
                      onOK: this.OnLockEmail,
                      onCancel: this.props.closeModal,
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(
                      "div",
                      null,
                      c.createElement(
                        "p",
                        null,
                        Object(f.f)("#EventEmail_Preparation_DescWarning")
                      ),
                      c.createElement("ol", null, this.state.warning)
                    )
                  );
                case "unsaved":
                  return c.createElement(Te.f, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)(
                      "#EventEmail_Preparation_Unsaved"
                    ),
                    closeModal: this.props.closeModal,
                  });
                case "saving":
                  return c.createElement(
                    Te.d,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_InProcess"
                      ),
                      onOK: this.props.closeModal,
                      onCancel: this.props.closeModal,
                    },
                    c.createElement(_.a, null)
                  );
                case "done":
                  return c.createElement(Te.d, {
                    strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                    strDescription: Object(f.f)("#EventEmail_Preparation_Done"),
                    onOK: this.props.closeModal,
                    onCancel: this.props.closeModal,
                  });
                case "error":
                default:
                  return c.createElement(
                    Te.f,
                    {
                      strTitle: Object(f.f)("#EventEmail_Preparation_Title"),
                      strDescription: Object(f.f)(
                        "#EventEmail_Preparation_Error"
                      ),
                      closeModal: this.props.closeModal,
                    },
                    c.createElement(
                      "div",
                      null,
                      c.createElement("ol", null, this.state.error),
                      Boolean(this.state.warning.length > 0) &&
                        c.createElement(
                          "div",
                          null,
                          c.createElement(
                            "p",
                            null,
                            Object(f.f)("#EventEmail_Preparation_DescWarning")
                          ),
                          c.createElement("ol", null, this.state.warning)
                        )
                    )
                  );
              }
            }),
            Object(a.c)([R.a], t.prototype, "OnLockEmail", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Na = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { rtimeLastRefresh: 0, bRefreshing: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RefreshIfNeeded = function () {
              var e = Math.floor(Date.now() / 1e3),
                t = this.props.editModel;
              !this.state.err_msg &&
                t.GetEventModel().jsondata.email_setting.force_feature_id &&
                this.state.rtimeLastRefresh + 300 < e &&
                !this.state.bRefreshing &&
                this.setState({ bRefreshing: !0 }, this.RefreshStats);
            }),
            (t.prototype.RefreshStats = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (e = this.props.editModel),
                        (t =
                          m.c.COMMUNITY_BASE_URL +
                          "eventemail/ajaxgetpartneremailstats"),
                        (n = {
                          clanid: e.GetClanSteamID().GetAccountID(),
                          gidevent: e.GetGID(),
                          sessionid: m.c.SESSIONID,
                        }),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, y.a.get(t, { params: n, withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (i = a.sent()),
                        this.setState({
                          stats: i.data.result,
                          bRefreshing: !1,
                        }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (r = a.sent()),
                        this.setState({
                          bRefreshing: !1,
                          err_msg: Object(p.a)(r).strErrorMsg,
                        }),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.RefreshIfNeeded(),
                (this.autoRefreshInterval = window.setInterval(
                  this.RefreshIfNeeded,
                  3e5
                ));
            }),
            (t.prototype.componentDidUpdate = function (e) {
              this.props.editModel.GetGID() != e.editModel.GetGID() &&
                this.setState({ rtimeLastRefresh: 0 }, this.RefreshIfNeeded);
            }),
            (t.prototype.componentWillUnmount = function () {
              this.autoRefreshInterval &&
                (window.clearInterval(this.autoRefreshInterval),
                (this.autoRefreshInterval = void 0));
            }),
            (t.prototype.render = function () {
              if (
                !this.props.editModel.GetEventModel().jsondata.email_setting
                  .force_feature_id
              )
                return c.createElement("div", null);
              if (this.state.err_msg)
                return c.createElement(
                  "div",
                  { className: H.EventEditorInputPaneContents },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Stats_Title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(
                      "span",
                      { className: Ta.ErrorMessaage },
                      this.state.err_msg
                    )
                  )
                );
              if (!this.state.stats)
                return c.createElement(
                  "div",
                  { className: H.EventEditorInputPaneContents },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEmail_Stats_Title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(_.a, null)
                  )
                );
              var e = this.state.stats;
              return c.createElement(
                "div",
                { className: H.EventEditorInputPaneContents },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEmail_Stats_Title"),
                  this.state.bRefreshing &&
                    c.createElement(_.a, { size: "small" })
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      L.a.EventDefaultRowContainer
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextSubTitle },
                    Object(f.f)(
                      "#EventEmail_Stats_State",
                      Object(f.f)("#EventEmail_Stats_State_" + e.state)
                    )
                  ),
                  "sending" == e.state &&
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)(
                        "#EventEmail_Stats_Started",
                        Object(f.k)(e.rtime_start_firing)
                      )
                    ),
                  ("complete" == e.state || "aborted" == e.state) &&
                    c.createElement(
                      "div",
                      null,
                      Object(f.f)(
                        "#EventEmail_Stats_Completed",
                        Object(f.k)(e.rtime_start_firing),
                        Object(f.k)(e.rtime_stop_firing)
                      )
                    ),
                  "queued" != e.state &&
                    c.createElement(
                      c.Fragment,
                      null,
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Examined",
                          e.accounts_examined
                            ? e.accounts_examined.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Duplicates",
                          e.accounts_duplicates
                            ? e.accounts_duplicates.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Emailed",
                          e.accounts_emailed
                            ? e.accounts_emailed.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Skipped",
                          e.accounts_not_emailed
                            ? e.accounts_not_emailed.toLocaleString()
                            : 0
                        )
                      ),
                      c.createElement(
                        "div",
                        null,
                        Object(f.f)(
                          "#EventEmail_Stats_Failed",
                          e.accounts_email_failed
                            ? e.accounts_email_failed.toLocaleString()
                            : 0
                        )
                      )
                    ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)(
                      "#EventEmail_Stats_Last_Refresh_Time",
                      Object(f.q)(this.state.rtimeLastRefresh)
                    )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "RefreshIfNeeded", null),
            Object(a.c)([R.a], t.prototype, "RefreshStats", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Ba = n("C4Nl"),
        Ra = n("b3LC"),
        Fa = n("zoOh"),
        Pa = n.n(Fa),
        xa = Object(I.a)(function (e) {
          var t = e.editModel,
            n = e.bHideEndRange,
            a =
              !n &&
              t.GetEventModel().BIsVisibleEvent() &&
              t.GetEventModel().GetEndTimeAndDateUnixSeconds() + 604800 <
                Math.floor(Date.now() / 1e3);
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(za, { editModel: t }),
            !n &&
              c.createElement(
                "div",
                null,
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  Object(f.f)("#EventEditor_EndEvent_Title")
                ),
                Boolean(a)
                  ? c.createElement(Va, { editModel: t })
                  : c.createElement(Ua, { editModel: t })
              )
          );
        }),
        Ua = Object(I.a)(function (e) {
          var t = e.editModel,
            n = new Array(),
            a = new Array();
          a.push({
            label: c.createElement(
              "div",
              { key: "durtypehour" },
              Object(f.f)("#EventEditor_Hour")
            ),
            data: T.a.k_EHour,
          }),
            a.push({
              label: c.createElement(
                "div",
                { key: "durtypeday" },
                Object(f.f)("#EventEditor_Day")
              ),
              data: T.a.k_EDay,
            }),
            a.push({
              label: c.createElement(
                "div",
                { key: "durtypeweek" },
                Object(f.f)("#EventEditor_Week")
              ),
              data: T.a.k_EWeek,
            }),
            n.push({
              label: c.createElement(
                "div",
                { key: "durtypehours" },
                Object(f.f)("#EventEditor_Hours")
              ),
              data: T.a.k_EHour,
            }),
            n.push({
              label: c.createElement(
                "div",
                { key: "durtypedays" },
                Object(f.f)("#EventEditor_Days")
              ),
              data: T.a.k_EDay,
            }),
            n.push({
              label: c.createElement(
                "div",
                { key: "durtypeweeks" },
                Object(f.f)("#EventEditor_Weeks")
              ),
              data: T.a.k_EWeek,
            });
          var i = t.GetEndTimeEditChoice() == T.b.k_EDuration,
            r = t.GetEndTimeEditChoice() == T.b.k_ESpecified,
            o = t.GetEndEditDurationValue() > 1,
            l = t.ComputeDurationBasedRoundedEndTime();
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.FlexColumnContainer,
                Pa.a.TimeRowContainer
              ),
            },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextSubTitle },
              Object(f.f)("#EventEditor_EndEvent_Subtitle2")
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.FlexRowContainer, L.a.RadioOption) },
              c.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_EndDropDown",
                value: T.b.k_EDuration,
                checked: i,
                onChange: function () {
                  return t.SetEndTimeEditChoice(T.b.k_EDuration);
                },
              }),
              c.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_EndDropDown" },
                Object(f.f)("#EventEditor_EndEvent_EndDropDown")
              )
            ),
            i &&
              c.createElement(
                "div",
                { className: Pa.a.TimeRowDropDown },
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      "EndDateAmount_Ctn",
                      Pa.a.EndDateAmountCtn
                    ),
                  },
                  c.createElement(
                    "div",
                    { className: L.a.InputBorder },
                    c.createElement("input", {
                      type: "number",
                      min: "1",
                      max: "31",
                      step: "1",
                      value: t.GetEndEditDurationValue(),
                      onChange: function (e) {
                        return t.SetEndEditDurationValue(
                          Number.parseInt(e.target.value)
                        );
                      },
                    })
                  ),
                  c.createElement(Me.h, {
                    key: o
                      ? "pluraldurationdropdown"
                      : "singulardurationdropnow",
                    rgOptions: o ? n : a,
                    selectedOption: t.GetEndEditDurationType(),
                    onChange: function (e) {
                      return t.SetEndEditDurationType(e.data);
                    },
                  })
                ),
                l &&
                  c.createElement(
                    "div",
                    { className: Pa.a.EndRound },
                    Object(f.n)(
                      "#EventEditor_EndEvent_EndDropDown_Round",
                      c.createElement(Re.a, {
                        bSingleLine: !0,
                        dateAndTime: l,
                        bOnlyTime: !0,
                      })
                    )
                  )
              ),
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.FlexRowContainer, L.a.RadioOption) },
              c.createElement("input", {
                type: "radio",
                name: "EndDateRadio",
                id: "EventEditor_EndEvent_Specified",
                value: T.b.k_ESpecified,
                checked: r,
                onChange: function () {
                  return t.SetEndTimeEditChoice(T.b.k_ESpecified);
                },
              }),
              c.createElement(
                "label",
                { htmlFor: "EventEditor_EndEvent_Specified" },
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#EventEditor_EndEvent_Specified")
                )
              )
            ),
            r &&
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    "EndDateSpecific_Ctn",
                    Pa.a.TimeRowDropDown,
                    Pa.a.EndDateSpecificCtn
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_EndDate"),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_EndDate_ttip"
                      ),
                    },
                    " (?)"
                  )
                ),
                c.createElement(Rt.a, {
                  strDescription: "",
                  nEarliestTime: t.GetEarliestEndTimeForEdit(),
                  nLatestTime: t.GetLatestEndTimeForEdit(),
                  fnGetTimeToUpdate: t.GetEventEndTime,
                  fnSetTimeToUpdate: t.SetEventEndTime,
                  fnIsValidDateTime: t.BIsValidEndTimeForEdit,
                  fnSetToNow: function (e) {
                    Object(G.G)(function () {
                      t.SetEventStartTime(e), t.SetEventEndTime(e + 3600);
                    });
                  },
                })
              )
          );
        }),
        Ha = function (e) {
          var t = e.eventVisibilityStartTime,
            n = e.eventStartTime,
            a = w.a.GetTimeNowWithOverride(),
            i = null;
          if (n === t || t < 1) {
            var r =
              a >= n
                ? "#EventEditor_EventStartedAndPublished"
                : "#EventEditor_EventStartedAndPublishedFuture";
            i = Object(f.n)(
              r,
              c.createElement(Re.a, { dateAndTime: n, bSingleLine: !0 })
            );
          } else {
            r = "#EventEditor_EventPublishedThenStarted";
            t > a
              ? (r = "#EventEditor_EventPublishedThenStartedBothFuture")
              : n > a &&
                (r = "#EventEditor_EventPublishedThenStartedStartFuture"),
              (i = Object(f.n)(
                r,
                c.createElement(Re.a, { dateAndTime: t, bSingleLine: !0 }),
                c.createElement(Re.a, { dateAndTime: n, bSingleLine: !0 })
              ));
          }
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.EventDefaultRowContainer,
                L.a.EventStartPublic
              ),
            },
            i,
            c.createElement(
              "span",
              {
                "data-tooltip-text": Object(f.f)(
                  "#EventEditor_EventStartedAndPublished_ttip"
                ),
              },
              " (?)"
            )
          );
        },
        Va = function (e) {
          var t = e.editModel;
          return c.createElement(
            "div",
            {
              className: Object(N.a)(
                L.a.EventDefaultRowContainer,
                L.a.EventStartPublic
              ),
            },
            c.createElement(
              "div",
              null,
              Object(f.n)(
                "#EventEditor_EventOver",
                c.createElement(Re.a, {
                  dateAndTime: t.GetEventModel().GetEndTimeAndDateUnixSeconds(),
                  bSingleLine: !0,
                })
              )
            )
          );
        },
        za = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnStartDateNowChosen = function () {
              var e = this.props.editModel;
              e.GetStartTimeEditChoice() != T.d.k_ENow &&
                (e.SetStartTimeEditChoice(T.d.k_ENow), e.SetEventStartTime(0));
            }),
            (t.prototype.OnStartDateSpecifiedChosen = function () {
              this.props.editModel.SetStartTimeEditChoice(T.d.k_ESpecified);
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetCategoryAsType(),
                n = e.GetEventStartTime(),
                a = e.GetEventVisibilityStartTime(),
                i = e.GetEarliestStartTimeForEdit(),
                r = e.GetLatestEndTimeForEdit(),
                o = !i || i < w.a.GetTimeNowWithOverride(),
                l = e.BPublished(),
                s = e.BVisible(),
                d = e.GetStartTimeEditChoice() == T.d.k_ENow,
                u = e.GetStartTimeEditChoice() == T.d.k_ESpecified;
              return c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextTitle },
                  28 == t
                    ? Object(f.f)("#EventEditor_StartNewsTitle")
                    : Object(f.f)("#EventEditor_StartEvemtTitle"),
                  c.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Time_ttip"
                      ),
                    },
                    " (?)"
                  ),
                  c.createElement(
                    "a",
                    {
                      href:
                        "https://partner.steamgames.com/doc/marketing/event_tools",
                      target: m.c.IN_CLIENT ? void 0 : "_blank",
                    },
                    c.createElement(
                      "span",
                      { className: L.a.FloatRight },
                      "(",
                      Object(f.f)("#EventDisplay_CallToAction_LearnMore"),
                      ")"
                    )
                  )
                ),
                s &&
                  c.createElement(Ha, {
                    eventVisibilityStartTime: a,
                    eventStartTime: n,
                  }),
                !s &&
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        Pa.a.TimeRowContainer
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.f)("#EventEditor_Timezone_ttip")
                    ),
                    !l &&
                      c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              L.a.RadioOption
                            ),
                          },
                          c.createElement("input", {
                            type: "radio",
                            name: "StartDateRadio",
                            id: "EventEditor_StartEvent_Now",
                            value: T.d.k_ENow,
                            disabled: !o,
                            checked: d,
                            onChange: this.OnStartDateNowChosen,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "EventEditor_StartEvent_Now" },
                            c.createElement(
                              "span",
                              null,
                              28 == t
                                ? Object(f.f)("#EventEditor_StartNews_Now")
                                : Object(f.f)("#EventEditor_StartEvent_Now")
                            )
                          )
                        ),
                        c.createElement(
                          "div",
                          {
                            className: Object(N.a)(
                              L.a.FlexRowContainer,
                              L.a.RadioOption
                            ),
                          },
                          c.createElement("input", {
                            type: "radio",
                            name: "StartDateRadio",
                            id: "EventEditor_StartEvent_Specified",
                            value: T.d.k_ESpecified,
                            checked: u,
                            onChange: this.OnStartDateSpecifiedChosen,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "EventEditor_StartEvent_Specified" },
                            c.createElement(
                              "span",
                              null,
                              28 == t
                                ? Object(f.f)(
                                    "#EventEditor_StartNews_Specified"
                                  )
                                : Object(f.f)(
                                    "#EventEditor_StartEvent_Specified"
                                  )
                            )
                          )
                        )
                      ),
                    u &&
                      c.createElement(Wa, {
                        editModel: e,
                        nEarliestTime: i,
                        nLatestTime: r,
                        bShowIndent: !l,
                      })
                  )
              );
            }),
            Object(a.c)([G.k.bound], t.prototype, "OnStartDateNowChosen", null),
            Object(a.c)([R.a], t.prototype, "OnStartDateSpecifiedChosen", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Wa = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                n = e.nEarliestTime,
                a = e.nLatestTime,
                i = (e.bShowIndent, Object(B.b)(t.GetCategoryAsType())),
                r =
                  n && n > w.a.GetTimeNowWithOverride()
                    ? n
                    : w.a.GetTimeNowWithOverride();
              return c.createElement(
                "div",
                {
                  className: this.props.bShowIndent ? Pa.a.TimeRowDropDown : "",
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)(
                    i
                      ? "#EventEditor_StartEvent_Scheduled"
                      : "#EventEditor_StartEvent_Post_Scheduled"
                  )
                ),
                c.createElement(
                  "div",
                  {
                    className: Object(N.a)(
                      L.a.FlexColumnContainer,
                      Pa.a.TimeRowContainer
                    ),
                  },
                  c.createElement(Rt.a, {
                    strDescription: Object(f.f)("#EventEditor_Starts"),
                    nEarliestTime: r,
                    nLatestTime: a,
                    fnGetTimeToUpdate: t.GetEventStartTime,
                    fnSetTimeToUpdate: t.SetEventStartTime,
                    fnIsValidDateTime: t.BIsValidStartTimeForEdit,
                  })
                ),
                i && c.createElement(qa, { editModel: t })
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        qa = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnVisibilityChange = function (e) {
              l.c
                .GetEditModel()
                .SetVisibilityPublishingSetup(+e.target.dataset.visibility);
            }),
            (t.prototype.CreateVisibilityControls = function (e, t) {
              var n = this,
                a = new Array();
              return (
                Object.keys(T.f)
                  .filter(function (e) {
                    return !isNaN(Number(e));
                  })
                  .forEach(function (i) {
                    (e && +i == T.f.immediate) ||
                      a.push(
                        c.createElement(
                          "span",
                          {
                            className: Object(N.a)(
                              Pa.a.EventVisibilityItem,
                              L.a.RadioOption
                            ),
                            key: "visibility_radio_" + i,
                          },
                          c.createElement("input", {
                            type: "radio",
                            id: "visibility_radio_" + i,
                            "data-visibility": i,
                            name: "visibility",
                            checked: t == +i,
                            onChange: n.OnVisibilityChange,
                          }),
                          c.createElement(
                            "label",
                            { htmlFor: "visibility_radio_" + i },
                            Object(f.f)("#EventEditor_Visibility_" + i)
                          ),
                          c.createElement(
                            "span",
                            {
                              className: L.a.FloatRight,
                              "data-tooltip-text": Object(f.f)(
                                "#EventEditor_Visibility_ttip_" + i
                              ),
                            },
                            "(?)"
                          )
                        )
                      );
                  }),
                a
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetVisibilityPublishingSetup(),
                n = e.BPublished(),
                a = this.CreateVisibilityControls(n, t);
              return c.createElement(
                "div",
                { className: L.a.EventEditorVisibilityCtn },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_Visibility_Subtitle")
                ),
                c.createElement(
                  "div",
                  { className: Pa.a.VisibilityItems },
                  c.createElement(
                    "div",
                    { className: Pa.a.VisibilityItemList },
                    a,
                    t == T.f.specified_time
                      ? c.createElement(
                          "div",
                          { className: Pa.a.EventPublishTimeCtn },
                          c.createElement(Rt.a, {
                            strDescription: Object(f.f)(
                              "#EventEditor_Publish_CustomTimeTitle"
                            ),
                            nEarliestTime: e.GetEarliestVisibilityStartTimeForEdit(),
                            fnGetTimeToUpdate: e.GetEventVisibilityStartTime,
                            fnSetTimeToUpdate: e.SetVisibilityStartTime,
                            fnIsValidDateTime: e.BIsValidVisibilityStartTime,
                            bHideSetToNow: !0,
                          })
                        )
                      : c.createElement("input", {
                          type: "text",
                          disabled: !0,
                          placeholder: Object(f.f)(
                            "#EventEditor_Publish_ForCustomPublishTime"
                          ),
                        })
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "OnVisibilityChange", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Ya = n("AvDr"),
        Ja = n.n(Ya),
        Qa = Object(I.a)(function (e) {
          var t = e.editModel,
            n = Object(B.a)(t.GetEventType()),
            a = v.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
            i = t.BHasTag("curator");
          return c.createElement(
            "div",
            { className: L.a.Columns },
            c.createElement(
              "div",
              { className: Object(N.a)(L.a.LeftCol) },
              c.createElement($a, { editModel: t }),
              c.createElement(xa, { bHideEndRange: !n, editModel: t }),
              Boolean(t.BHasTag("steam_award_nomination_request")) &&
                c.createElement(re, null),
              c.createElement(Xa, { editModel: t }),
              (!i || a.valve_admin) && c.createElement(Za, { editModel: t }),
              c.createElement("div", { className: L.a.ClearThings })
            ),
            c.createElement(
              "div",
              { className: Object(N.a)(V.a.OptionsNotes, L.a.RightCol) },
              Object(f.f)("#EventEditor_Time_ttip")
            )
          );
        }),
        Za = Object(I.a)(function (e) {
          var t = e.editModel,
            n = c.useRef(),
            a = t.BHasImage("spotlight", 0),
            i = t.BIsAllowedOnLibraryOverview(),
            r = t.BIsAllowedOnLibraryDetail(),
            o = t.BIsAllowedOnStore(),
            l = t.GetCategoryAsString();
          return c.createElement(
            "div",
            { className: V.a.EventEditorInputPaneContents },
            c.createElement(
              "div",
              { className: L.a.LeftCol },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#EventEditor_Options_Title")
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    L.a.EventDefaultRowContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.n)(
                    "#EventEditor_Options_Show_Warning",
                    c.createElement(
                      "a",
                      {
                        href:
                          "https://support.steampowered.com/kb_article.php?ref=4045-USHJ-3810",
                        target: m.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(f.f)("#EventEditor_Options_Show_WarningLink")
                    )
                  )
                ),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    t.GetAppID() == D.D && t.BHasTag("hide_library_overview")
                      ? Object(Ie.d)(
                          c.createElement(Te.d, {
                            strTitle: Object(f.f)(
                              "#EventEditor_GenericAreYouSure"
                            ),
                            strDescription:
                              "Showing on the library home page will pin this event into the first spot in the 'Whats New' section for ALL Steam Library. Are you sure this is an Steam update that applies to all Steam Library users? Be thoughtful.",
                            onOK: function () {
                              return t.ToggleTag("hide_library_overview");
                            },
                            onCancel: function () {
                              var e;
                              return null ===
                                (e = null == n ? void 0 : n.current) ||
                                void 0 === e
                                ? void 0
                                : e.setState({ checked: !n.current.checked });
                            },
                          }),
                          window
                        )
                      : t.ToggleTag("hide_library_overview");
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_Show_Library_Overview"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_overview"),
                  description: i
                    ? Object(f.f)(
                        "#EventEditor_Options_Show_Library_Overview_Desc"
                      )
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !i,
                  ref: n,
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("hide_library_detail");
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_Show_Library_Detail"
                  ),
                  checked: !t.GetEventModel().BHasTag("hide_library_detail"),
                  description: r
                    ? void 0
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !r,
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("hide_store");
                  },
                  label: Object(f.f)("#EventEditor_Options_Show_Store"),
                  checked: !t.GetEventModel().BHasTag("hide_store"),
                  description: o
                    ? void 0
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                  disabled: !o,
                }),
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)("#EventEditor_Options_Desc")
                ),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("workshop");
                  },
                  label: Object(f.f)("#EventEditor_Options_Workshop_Label"),
                  checked: t.GetEventModel().BHasTag("workshop"),
                }),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    e && !t.BHasImage("spotlight", 0)
                      ? Object(Ie.d)(
                          c.createElement(Te.f, {
                            strTitle: Object(f.f)("#Error_FailureNotice"),
                            strDescription: Object(f.f)(
                              "#EventEditor_Options_Spotlight_Error",
                              Object(f.f)("#EventEditor_Artwork")
                            ),
                          }),
                          window
                        )
                      : t.SetLibrarySpotlight(e);
                  },
                  label: Object(f.f)("#EventEditor_Options_Spotlight_Label"),
                  checked: t.GetEventModel().BShowLibrarySpotlight(),
                  disabled: !a || !r,
                  description: r
                    ? Object(f.f)(
                        "#EventEditor_Options_Spotlight_Desc",
                        Object(f.f)("#EventEditor_Artwork")
                      )
                    : Object(f.f)("#EventEditor_Options_WontDisplayHere", l),
                }),
                c.createElement(ii, { editModel: t }),
                c.createElement(ai, { editModel: t }),
                c.createElement(Ka, { editModel: t })
              )
            )
          );
        }),
        Ka = Object(I.a)(function (e) {
          var t = e.editModel,
            n = v.a.Get().GetPartnerEventPermissions(t.GetClanSteamID()),
            a = c.useRef();
          if (!n.valve_admin) return null;
          return c.createElement(
            "div",
            { className: Object(N.a)(L.a.ValveOnlyBackground) },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextSubTitle },
              Object(f.f)("#EventEditor_Options_Moderation")
            ),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("mod_hide_library_overview");
              },
              label: Object(f.f)("#EventEditor_Options_Hide_Library_Overview"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_overview"),
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("mod_hide_library_detail");
              },
              label: Object(f.f)("#EventEditor_Options_Hide_Library_Detail"),
              checked: t.GetEventModel().BHasTag("mod_hide_library_detail"),
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                t.BHasSaleEnabled() && e
                  ? Object(Ie.d)(
                      c.createElement(Te.d, {
                        strTitle: Object(f.f)(
                          "#EventEditor_Options_Hide_Store"
                        ),
                        strDescription:
                          "There is an active sale on this event. Setting this flag will HIDE the sale page completely. Are you sure?",
                        onOK: function () {
                          return t.ToggleTag("mod_hide_store");
                        },
                        onCancel: function () {
                          return a.current.SetChecked(!1, !1);
                        },
                      }),
                      window
                    )
                  : t.ToggleTag("mod_hide_store");
              },
              ref: a,
              label: Object(f.f)("#EventEditor_Options_Hide_Store"),
              checked: t.GetEventModel().BHasTag("mod_hide_store"),
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                return t.SetSteamStoreSpotlight(e);
              },
              label: "(VO) Show Spotlight on Steam Store Product Page",
              checked: t.BHasSteamStoreSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork on the product page for upto a week from the event start.  After saving the event with this flag enable, it takes 5 to 10 minutes to make its way through solr.",
            }),
            c.createElement(Me.p, {
              onChange: function (e) {
                return t.SetLibraryHomeSpotlight(e);
              },
              label: "(VO) Force Spotlight on Library Home",
              checked: t.BHasLibaryHomeSpotlight(),
              disabled: !t.BHasSpotlightArtwork(),
              description:
                "Shows the spotlight artwork in the 'Whats New' section at the top of the library home for all owners.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("blog");
              },
              label: "(VO) Mark as Blog for Valve Game Teams",
              checked: t.GetEventModel().BHasTag("blog"),
              description:
                "Add the 'blog' tag to this post. Allowing game team website to filter news posts intended for their blog.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("adult_only_content");
              },
              label: "(VO) Event Contains Adult Only Content",
              checked: t.GetEventModel().BHasTag("adult_only_content"),
              description:
                "Set this to on if the post contains adult only content so that it can be filtered accordingly.",
            }),
            t.GetAppID() == D.D &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("steam_blog");
                  },
                  label: "(VO) Steam Official Blog",
                  checked: t.GetEventModel().BHasTag("steam_blog"),
                  description:
                    "When checked this event will surface on https://store.steampowered.com/news/app/593110. Make sure to set this before you publish, or it will have no effect.",
                }),
                c.createElement(Me.p, {
                  onChange: function () {
                    return t.ToggleTag("skip_megaphone");
                  },
                  label: "(VO) Skip Lighting Up Steam Client Megaphone",
                  checked: t.GetEventModel().BHasTag("skip_megaphone"),
                  description:
                    "By default small event (patch notes) do not light up the megaphone in the Steam client. Enabling this flag does the same for all other event type.",
                })
              ),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("forced_featured");
              },
              label: "(VO) Force Feature this event in the NewsHub",
              checked: t.GetEventModel().BHasTag("forced_featured"),
              description:
                "Add the 'forced_featured' tag to this post. This will prioritize the event appearing in algorithmic featured newshub section.",
            }),
            c.createElement(Me.p, {
              onChange: function () {
                return t.ToggleTag("contenthub");
              },
              checked: t.GetEventModel().BHasTag("contenthub"),
              label: "(VO) Tag as Content Hub",
              description:
                "Add the 'contenthub' tag to this event. Removes certain publishing restrictions for this event.",
            })
          );
        }),
        Xa = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bSending: !1 }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.TestFireEvent = function () {
              var e = this,
                t = this.props.editModel;
              this.setState({ bSending: !0 }, function () {
                l.c.FireTestEventNotifiation(
                  t.GetClanSteamID(),
                  t.GetGID(),
                  e.m_cancelSignal
                ),
                  e.setState({ bSending: !1 });
              });
            }),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetEventType(),
                n = Object(B.b)(t),
                a =
                  e.GetEventModel().BIsVisibleEvent() &&
                  e.GetEventModel().GetStartTimeAndDateUnixSeconds() <
                    Math.floor(Date.now() / 1e3);
              if (!n || a) return null;
              var i = e.GetVisibilityPublishingSetup(),
                r =
                  e.GetStartTimeEditChoice() == T.d.k_ENow ||
                  i == T.f.event_start;
              return c.createElement(
                "div",
                { className: Object(N.a)(V.a.EventEditorInputPaneContents) },
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.LeftCol, Ja.a.ThemedCtn) },
                  c.createElement(
                    "div",
                    { className: L.a.EventEditorTextTitle },
                    Object(f.f)("#EventEditor_Reminder_title")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        L.a.FlexColumnContainer,
                        L.a.EventDefaultRowContainer
                      ),
                    },
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.f)("#EventEditor_Reminder_desc")
                    ),
                    c.createElement(
                      "div",
                      { className: L.a.EventEditorTextSubTitle },
                      Object(f.n)(
                        "#EventEditor_Reminder_desc2",
                        c.createElement(
                          "a",
                          {
                            href: m.c.STORE_BASE_URL + "mobile?show=steamapp",
                            target: m.c.IN_CLIENT ? void 0 : "_blank",
                          },
                          Object(f.f)("#EventEditor_Reminder_mobileapp")
                        )
                      )
                    ),
                    this.state.bSending &&
                      c.createElement(_.a, {
                        size: "small",
                        position: "center",
                      }),
                    c.createElement(
                      "button",
                      {
                        className: L.a.Button,
                        onClick: this.TestFireEvent,
                        disabled: r,
                      },
                      Object(f.f)("#EventEditor_Reminder_testfire")
                    ),
                    r &&
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#EventEditor_Reminder_disable")
                      )
                  )
                )
              );
            }),
            Object(a.c)([R.a], t.prototype, "TestFireEvent", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        $a = Object(I.a)(function (e) {
          var t = e.editModel;
          if (!t.BIsEventForOGGWithoutVisibleStorePage()) return null;
          return c.createElement(
            "div",
            { className: V.a.EventEditorInputPaneContents },
            c.createElement(
              "div",
              { className: L.a.LeftCol },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#EventEditor_Options_VisibilityOptIn_Title"),
                c.createElement(
                  "span",
                  { className: V.a.RequiredFieldLabel },
                  Object(f.f)("#EventEditor_Required")
                )
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    L.a.EventDefaultRowContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: L.a.EventEditorTextSubTitle },
                  Object(f.f)(
                    "#EventEditor_Options_VisibilityOptIn_Description",
                    t.GetAppName()
                  )
                ),
                c.createElement(Me.p, {
                  onChange: function (e) {
                    return t.SetOptedInForOGGWithoutVisibleStorePage(e);
                  },
                  label: Object(f.f)(
                    "#EventEditor_Options_VisibilityOptIn_Label"
                  ),
                  checked: t.BOptedInForOGGWithoutVisibleStorePage(),
                })
              )
            )
          );
        });
      function ei(e) {
        var t =
            e.BInRealmChina() &&
            f.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              X.f.k_ESteamRealmChina
            ),
          n =
            e.BInRealmGlobal() &&
            f.b.IsELanguageValidInRealm(
              e.GetCurEditLanguage(),
              X.f.k_ESteamRealmGlobal
            );
        t || n || e.SetCurEditLanguage(e.BInRealmChina() ? 29 : 0);
      }
      var ti = Object(I.a)(function (e) {
          var t = e.editModel;
          return c.createElement(Me.p, {
            onChange: function (e) {
              e
                ? (t.AddTag("enable_steam_china"),
                  t.AddTag("disable_steam_global"))
                : t.ClearTags(["enable_steam_china", "disable_steam_global"]),
                ei(t);
            },
            label: Object(f.f)("#EventEditor_Options_ShowInSteamChina"),
            description: Object(f.f)(
              "#EventEditor_Options_ShowInSteamChina_Desc"
            ),
            checked: t.BInRealmChina(),
          });
        }),
        ni = Object(I.a)(function (e) {
          var t = e.editModel;
          if (t.BInRealmGlobal() && !t.BInRealmChina()) return null;
          return c.createElement(Me.p, {
            onChange: function (e) {
              e
                ? t.AddTag("disable_steam_global")
                : t.ClearTags(["disable_steam_global"]),
                ei(t);
            },
            label: Object(f.f)("#EventEditor_Options_ShowInSteamGlobal"),
            description: Object(f.f)(
              "#EventEditor_Options_ShowInSteamGlobal_Desc"
            ),
            checked: !t.BInRealmGlobal(),
          });
        }),
        ai = Object(I.a)(function (e) {
          var t = e.editModel,
            n = Object(D.I)(t.GetEventModel());
          return c.createElement(
            "div",
            null,
            n && c.createElement(ti, { editModel: t }),
            c.createElement(ni, { editModel: t })
          );
        }),
        ii = Object(I.a)(function (e) {
          var t,
            n,
            a = e.editModel;
          return ((t = a.GetAppID()),
          (n = Object(Ra.b)(t, Ba.a.k_DataRequest_CommonOnly)[0]),
          Boolean(n && n.HasContentDescriptorID(3)))
            ? c.createElement(Me.p, {
                onChange: function () {
                  return a.ToggleTag("adult_only_content");
                },
                label: Object(f.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content"
                ),
                checked: a.GetEventModel().BHasTag("adult_only_content"),
                description: Object(f.f)(
                  "#EventEditor_Options_Has_Adult_Only_Content_Desc"
                ),
              })
            : null;
        }),
        ri = n("ylkE"),
        oi = n("46hJ");
      function li(e) {
        var t = e.clanSteamID,
          n = e.gidClanEvent;
        return Object(bt.d)(t.GetAccountID(), n)[0]
          ? d.a.createElement(_.a, { string: Object(f.f)("#Loading") })
          : d.a.createElement(si, Object(a.a)({}, e));
      }
      function si(e) {
        var t = e.clanSteamID,
          n = e.gidClanEvent,
          a = e.fnOkCallbackList,
          i = Object(bt.d)(t.GetAccountID(), n),
          r = (i[0], i[1]),
          o = (i[2], i[3], i[4]),
          l = Object(c.useState)(r),
          s = l[0],
          u = l[1];
        return (
          Object(R.d)(a, function () {
            return o(s);
          }),
          d.a.createElement(Me.e, {
            checked: s,
            onChange: function (e) {
              u(e), a || o(e);
            },
            label:
              "Require Approval by Valve Admin in order to publish this sales events",
            tooltip:
              "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
          })
        );
      }
      function ci(e) {
        var t = e.clanSteamID,
          n = e.gidClanEvent,
          a = Object(bt.d)(t.GetAccountID(), n),
          i = a[0],
          r = a[1],
          o = a[2];
        if (!i && r && !o) {
          return d.a.createElement(
            "div",
            { className: oi.ApprovalRequiredCtn },
            d.a.createElement(
              "div",
              { className: oi.Left },
              d.a.createElement(
                "div",
                { className: oi.Title },
                Object(f.f)("#EventEditor_SaleValveApproval_Title")
              ),
              d.a.createElement(
                "div",
                null,
                Object(f.f)("#EventEditor_SaleValveApproval_Desc")
              )
            ),
            d.a.createElement(
              "div",
              { className: oi.Right },
              d.a.createElement(
                "a",
                {
                  href: m.c.PARTNER_BASE_URL + "doc/store/promo",
                  className: Object(N.a)(k.EditPreviewButton),
                  target: "_blank",
                },
                Object(f.f)("#ViewDocumentation")
              ),
              d.a.createElement(
                ve.b,
                { clanSteamID: t },
                d.a.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      Object(Ie.d)(
                        d.a.createElement(di, {
                          clanSteamID: t,
                          gidClanEvent: n,
                        }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  "Approve",
                  d.a.createElement(
                    "span",
                    {
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_SaleValveApproval_Admin_Tooltip"
                      ),
                    },
                    " (?)"
                  )
                )
              )
            )
          );
        }
        return null;
      }
      function di(e) {
        var t = e.clanSteamID,
          n = e.gidClanEvent,
          a = e.closeModal,
          i = d.a.useState(!1),
          r = i[0],
          o = i[1],
          l = Object(bt.d)(t.GetAccountID(), n),
          s = (l[0], l[1], l[2], l[3], l[4], l[5]),
          u = Object(bt.c)(),
          g = (u[0], u[1]),
          E = u[2],
          b = Object(c.useState)(null),
          v = b[0],
          h = b[1];
        return d.a.createElement(
          Te.d,
          {
            strTitle: "Remove Publishing Block",
            strDescription:
              "Would you like to remove the publishing block? This will take effect immediately. The event can be publish by the partner afterwards",
            onOK: function () {
              o(!0),
                s(m.i.accountid),
                E(n)
                  .then(function (e) {
                    o(!1),
                      1 == e
                        ? a()
                        : (g(), h("Failed to update Private Data: " + e));
                  })
                  .catch(function (e) {
                    o(!1), g(), h(Object(p.a)(e).strErrorMsg);
                  });
            },
            bDisableBackgroundDismiss: !0,
            closeModal: a,
            onCancel: a,
            bOKDisabled: Boolean(v),
          },
          r && d.a.createElement(_.a, { string: Object(f.f)("#Saving") }),
          v && d.a.createElement("div", null, v)
        );
      }
      var ui = n("FAUN"),
        pi = n.n(ui);
      function mi(e) {
        var t = e.editModel,
          n = Object(lt.d)(function () {
            return { bHidden: t.BHidden(), bPublished: t.BPublished() };
          });
        return !n.bHidden && n.bPublished
          ? null
          : c.createElement(_i, Object(a.a)({}, e));
      }
      var _i = Object(I.a)(function (e) {
          var t = e.editModel,
            n = e.bTakePublishAction,
            a = c.useRef(),
            i = c.useState(!1),
            r = i[0],
            o = i[1],
            l = t.GetClanSteamID(),
            s = t.GetGID(),
            d = Object(bt.d)(l.GetAccountID(), s),
            u = d[0],
            p = d[1],
            m = d[2];
          c.useEffect(
            function () {
              n && (null == a ? void 0 : a.current) && a.current.click();
            },
            [n, a]
          );
          if (r) return Object(Ne.j)(t.GetEventModel(), Ne.a.k_eView);
          var g = t.BHidden(),
            E = t.BPublished();
          if (!g && E) return null;
          if (u)
            return c.createElement(_.a, {
              string: Object(f.f)("#Loading"),
              size: "small",
            });
          var b = t.BAllowedToPublishStagedEvents(),
            v = p && !m;
          return c.createElement(
            "div",
            { className: L.a.FlexColumnContainer },
            c.createElement(
              "div",
              { className: L.a.EventEditorTextTitle },
              Object(f.f)("#Button_Publish")
            ),
            c.createElement(
              "div",
              {
                className: Object(N.a)(
                  L.a.RightColumnContainer,
                  pi.a.PublishContainer
                ),
              },
              v &&
                c.createElement(
                  c.Fragment,
                  null,
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEditor_Publish_PublicBlock_Title")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventEditor_Publish_PublicBlock_Desc")
                  )
                ),
              Boolean(!E && !v) &&
                c.createElement(
                  "button",
                  {
                    onClick: function (e) {
                      Object(Ie.d)(
                        c.createElement(vt, {
                          editModel: t,
                          OnPublishSuccess: function () {
                            return o(!0);
                          },
                        }),
                        Object(Fe.m)(e)
                      );
                    },
                    "data-tooltip-text": Object(f.f)(
                      "#EventEditor_Publish_ttip"
                    ),
                    className: Object(N.a)(
                      L.a.EventPublishButton,
                      "DialogButton Primary"
                    ),
                    ref: a,
                  },
                  Object(f.f)("#Button_Publish"),
                  " (?)"
                ),
              Boolean(E && g && !v) &&
                c.createElement(
                  bn.a,
                  {
                    condition: !b,
                    wrap: function (e) {
                      return c.createElement(
                        He.a,
                        {
                          toolTipContent: Object(f.f)(
                            "#EventEditor_Publish_Disable_ttip"
                          ),
                        },
                        e
                      );
                    },
                  },
                  c.createElement(
                    "button",
                    {
                      onClick: function (e) {
                        t.SetVisibilityPublishingSetup(T.f.immediate),
                          Object(Ie.d)(
                            c.createElement(vt, {
                              editModel: t,
                              OnPublishSuccess: function () {
                                return o(!0);
                              },
                              closeModal: function () {
                                t.ResetSetVisibilityStartTime();
                              },
                            }),
                            Object(Fe.m)(e)
                          );
                      },
                      className: Object(N.a)(
                        L.a.EventPublishButton,
                        "DialogButton Primary"
                      ),
                      "data-tooltip-text": Object(f.f)(
                        "#EventEditor_Publish_VisibleNow_ttip"
                      ),
                      ref: a,
                      disabled: !b,
                    },
                    Object(f.f)("#EventEditor_Publish_VisibleNow"),
                    " (?)"
                  )
                )
            )
          );
        }),
        gi = n("OzNB");
      function Ei(e) {
        var t = e.editModel;
        return c.createElement(
          "div",
          { className: Object(N.a)(gi.PublishContainer) },
          c.createElement(
            "div",
            { className: Object(N.a)(k.ReachBackground) },
            c.createElement(
              "div",
              { className: H.EventEditorInputPaneContents },
              c.createElement(ci, {
                clanSteamID: t.GetClanSteamID(),
                gidClanEvent: t.GetGID(),
              }),
              c.createElement(vi, { editModel: t }),
              c.createElement(mi, { editModel: t, bTakePublishAction: !1 }),
              c.createElement(bi, {
                eventType: t.GetEventType(),
                clanSteamID: t.GetClanSteamID(),
              }),
              c.createElement("div", { className: k.ClearThings })
            )
          )
        );
      }
      var bi = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoadingClanInfo: !h.a.BHasClanInfoLoaded(t.props.clanSteamID),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return this.state.bLoadingClanInfo
                        ? [
                            4,
                            h.a.LoadClanInfoForClanSteamID(
                              this.props.clanSteamID
                            ),
                          ]
                        : [3, 2];
                    case 1:
                      e.sent(),
                        this.setState({ bLoadingClanInfo: !1 }),
                        (e.label = 2);
                    case 2:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              if (this.state.bLoadingClanInfo)
                return c.createElement(
                  "div",
                  { className: "ReachCtn" },
                  c.createElement(_.a, null)
                );
              var e = l.c.GetEditModel(),
                t = e.GetCategoryAsType(),
                n = v.a
                  .Get()
                  .GetPartnerEventPermissions(this.props.clanSteamID),
                a = h.a.GetClanInfoByClanAccountID(
                  e.GetClanSteamID().GetAccountID()
                );
              if (!n.can_edit) return c.createElement(c.Fragment, null);
              var i = e.BHasSaleEnabled() || a.is_ogg,
                r =
                  (e.BWillShowOnLibraryOverviewDueToSettings() ||
                    e.BWillShowOnLibraryDetailDueToSettings()) &&
                  Object(D.e)(e.GetEventModel());
              return c.createElement(
                "div",
                { className: "ReachCtn" },
                c.createElement(
                  "div",
                  { className: k.EventEditorTextTitle },
                  Object(f.f)("#EventReach_Title")
                ),
                c.createElement(
                  "div",
                  { className: gi.ReachItems },
                  c.createElement(
                    "div",
                    { className: k.EventEditorTextSubTitle },
                    Object(f.f)("#EventReach_SubTitle")
                  ),
                  c.createElement(
                    "div",
                    { className: gi.ReachColumnTitles },
                    c.createElement(
                      "div",
                      { className: gi.ReachColumnName },
                      Object(f.f)("#EventReach_Location")
                    )
                  ),
                  c.createElement(
                    "div",
                    { className: gi.ReachItemList },
                    e.BWillShowOnStoreDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: gi.ReachSubject },
                        Object(f.f)("#EventReach_GamePage"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_GamePage_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: gi.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    c.createElement(
                      "div",
                      { className: gi.ReachSubject },
                      Object(f.f)("#EventReach_GameNewsPg"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_GameNewsPg_ttip"
                          ),
                        },
                        c.createElement("span", { className: gi.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: Object(N.a)(gi.ReachSubject) },
                      Object(f.f)("#EventReach_PersonalizedCalendar"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_PersonalizedCalendar_ttip"
                          ),
                        },
                        c.createElement("span", { className: gi.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: gi.ReachSubject },
                      Object(f.f)("#EventReach_Community"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_Community_ttip"
                          ),
                        },
                        c.createElement("span", { className: gi.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    c.createElement(
                      "div",
                      { className: gi.ReachSubject },
                      Object(f.f)("#EventReach_FriendActivity"),
                      c.createElement(
                        "span",
                        {
                          "data-tooltip-text": Object(f.f)(
                            "#EventReach_FriendActivity_ttip"
                          ),
                        },
                        c.createElement("span", { className: gi.ReachNumber }),
                        " ",
                        c.createElement("span", { className: k.TTip }, "?")
                      )
                    ),
                    e.BWillShowOnLibraryOverviewDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(gi.ReachSubject) },
                        Object(f.f)("#EventReach_LibraryHome"),
                        r &&
                          c.createElement(
                            "span",
                            { className: gi.ReachPendingVisibilityText },
                            "  ",
                            Object(f.f)(
                              "#EventReach_LibraryVisibilityPendingModeration"
                            )
                          ),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_LibraryHome_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: gi.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    e.BWillShowOnLibraryDetailDueToSettings() &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(gi.ReachSubject) },
                        Object(f.f)("#EventReach_LibraryDetail"),
                        r &&
                          c.createElement(
                            "span",
                            { className: gi.ReachPendingVisibilityText },
                            "  ",
                            Object(f.f)(
                              "#EventReach_LibraryVisibilityPendingModeration"
                            )
                          ),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_LibraryDetail_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: gi.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    Boolean(
                      e.BIsAllowedInNotifications() && e.BIsVisibleBeforeStart()
                    ) &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(gi.ReachSubject, gi.Future) },
                        Object(f.f)("#EventReach_Future"),
                        " ",
                        Object(f.f)("#EventReach_Reminder"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_Reminder_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: gi.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      ),
                    Boolean(e.BIsAllowedInNotifications()) &&
                      c.createElement(
                        "div",
                        { className: Object(N.a)(gi.ReachSubject, gi.Future) },
                        Object(f.f)("#EventReach_Future"),
                        " ",
                        Object(f.f)("#EventReach_EmailRollUp"),
                        c.createElement(
                          "span",
                          {
                            "data-tooltip-text": Object(f.f)(
                              "#EventReach_EmailRollUp_ttip"
                            ),
                          },
                          c.createElement("span", {
                            className: gi.ReachNumber,
                          }),
                          " ",
                          c.createElement("span", { className: k.TTip }, "?")
                        )
                      )
                  ),
                  i &&
                    c.createElement(
                      c.Fragment,
                      null,
                      c.createElement(
                        "div",
                        { className: gi.ReachColumnTitles },
                        c.createElement(
                          "div",
                          { className: gi.ReachColumnName },
                          Object(f.f)("#EventReach_OptionalLocation")
                        )
                      ),
                      a.is_ogg &&
                        c.createElement(
                          "div",
                          { className: gi.ReachItemList },
                          c.createElement(
                            "div",
                            { className: gi.ReachSubject },
                            c.createElement(
                              "span",
                              { className: gi.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.GetEventModel().BHasTag("workshop"),
                              }),
                              c.createElement(
                                "span",
                                { className: gi.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_Workshop")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_Workshop_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: gi.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          ),
                          14 == t &&
                            c.createElement(
                              "div",
                              { className: gi.ReachSubject },
                              c.createElement(
                                "span",
                                { className: gi.ReachSubjectOptional },
                                c.createElement(Ee, { bOn: !1 }),
                                c.createElement(
                                  "span",
                                  { className: gi.ReactSubjectOptionalText },
                                  Object(f.f)("#EventReach_RecentlyUpdatedPg")
                                )
                              ),
                              c.createElement(
                                "span",
                                {
                                  "data-tooltip-text": Object(f.f)(
                                    "#EventReach_RecentlyUpdatedPg_ttip"
                                  ),
                                },
                                c.createElement("span", {
                                  className: gi.ReachNumber,
                                }),
                                " ",
                                c.createElement(
                                  "span",
                                  { className: k.TTip },
                                  "?"
                                )
                              )
                            ),
                          c.createElement(
                            "div",
                            { className: Object(N.a)(gi.ReachSubject) },
                            c.createElement(
                              "span",
                              { className: gi.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.GetEventModel().BShowLibrarySpotlight(),
                              }),
                              c.createElement(
                                "span",
                                { className: gi.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_LibraySpotLight")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_LibraySpotLight_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: gi.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          )
                        ),
                      e.BHasSaleEnabled() &&
                        c.createElement(
                          "div",
                          { className: gi.ReachItemList },
                          c.createElement(
                            "div",
                            { className: gi.ReachSubject },
                            c.createElement(
                              "span",
                              { className: gi.ReachSubjectOptional },
                              c.createElement(Ee, {
                                bOn: e.BHasSaleProductBanners(),
                              }),
                              c.createElement(
                                "span",
                                { className: gi.ReactSubjectOptionalText },
                                Object(f.f)("#EventReach_SaleBanner")
                              )
                            ),
                            c.createElement(
                              "span",
                              {
                                "data-tooltip-text": Object(f.f)(
                                  "#EventReach_SaleBanner_ttip"
                                ),
                              },
                              c.createElement("span", {
                                className: gi.ReachNumber,
                              }),
                              " ",
                              c.createElement(
                                "span",
                                { className: k.TTip },
                                "?"
                              )
                            )
                          ),
                          Boolean(
                            e.BHasSaleProductBanners() &&
                              e.GetEventStartTime() &&
                              e.GetEventEndTime()
                          ) &&
                            c.createElement(
                              c.Fragment,
                              null,
                              c.createElement("br", null),
                              c.createElement(
                                "div",
                                null,
                                Object(f.n)(
                                  "#EventReact_SaleBannerDuration",
                                  c.createElement(Re.a, {
                                    dateAndTime: e.GetEventStartTime(),
                                    bSingleLine: !0,
                                  }),
                                  c.createElement(Re.a, {
                                    dateAndTime: Math.min(
                                      e.GetEventEndTime(),
                                      e.GetEventStartTime() + 604800
                                    ),
                                    bSingleLine: !0,
                                  })
                                )
                              )
                            )
                        )
                    )
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        vi = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.editModel,
                t = e.GetEventModel(),
                n = e.ComputeEditingModelTimeOverrides(),
                a = (e.GetEventModel().bOldAnnouncement, e.BHidden()),
                i = e.BPublished(),
                r = e.GetEventVisibilityStartTime(),
                o = void 0;
              if (!i) {
                var l = e.GetVisibilitySetting();
                if (e.GetStartTimeEditChoice() == T.d.k_ESpecified)
                  switch (l) {
                    case T.f.event_start:
                      o = c.createElement(
                        "span",
                        null,
                        Object(f.f)(
                          "#EventEditor_Status_WillBeVisible_EventStart"
                        )
                      );
                      break;
                    case T.f.specified_time:
                      o = c.createElement(
                        "span",
                        null,
                        Object(f.n)(
                          "#EventEditor_Status_WillBeVisible_At",
                          c.createElement(Re.a, {
                            dateAndTime: t.GetVisibilityStartTimeAndDateUnixSeconds(),
                            bSingleLine: !0,
                          })
                        )
                      );
                      break;
                    case T.f.immediate:
                    default:
                      o = c.createElement(
                        "div",
                        null,
                        Object(f.f)("#EventPublishing_Summary_Immediate"),
                        c.createElement("br", null),
                        Object(f.f)("#EventPublishing_Summary_ModerationNote")
                      );
                  }
                else
                  o = c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventPublishing_Summary_Immediate"),
                    c.createElement("br", null),
                    Object(f.f)("#EventPublishing_Summary_ModerationNote")
                  );
              }
              return c.createElement(
                "div",
                { className: gi.SummaryContainer },
                c.createElement(
                  "div",
                  { className: k.EventEditorTextTitle },
                  Object(f.f)("#EventPublishing_Summary")
                ),
                c.createElement(
                  "div",
                  { className: gi.SummaryItems },
                  c.createElement(
                    "div",
                    { className: gi.StatusRow },
                    c.createElement(
                      "div",
                      { className: gi.StatusText },
                      c.createElement(E.d, { editModel: e })
                    ),
                    i &&
                      !a &&
                      c.createElement(
                        "div",
                        null,
                        c.createElement(
                          Ne.c,
                          {
                            className: Object(N.a)(k.Button, k.Primary),
                            eventModel: t,
                            route: Ne.a.k_eStoreView,
                          },
                          Object(f.f)("#EventEditor_ViewLive")
                        )
                      )
                  ),
                  c.createElement(
                    "div",
                    { className: k.FlexRowContainer },
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)("#EventDisplay_TimeUpcoming"),
                        ":"
                      ),
                      ""
                    ),
                    c.createElement(Re.a, {
                      dateAndTime: n.nOverrideStartTime,
                      bSingleLine: !0,
                    })
                  ),
                  c.createElement(
                    "div",
                    { className: k.FlexRowContainer },
                    c.createElement(
                      "span",
                      null,
                      c.createElement(
                        "b",
                        null,
                        Object(f.f)("#EventPublishing_Summary_VisibilityStart"),
                        ":"
                      ),
                      ""
                    ),
                    i &&
                      a &&
                      c.createElement(
                        "span",
                        null,
                        Object(f.n)(
                          "#EventEditor_Visibility_AutoVisible",
                          c.createElement(Re.a, {
                            dateAndTime: r,
                            bSingleLine: !0,
                          })
                        ),
                        "",
                        Object(f.f)("#EventEditor_Visibility_NoAction")
                      ),
                    o
                  ),
                  Boolean(t.GID || t.AnnouncementGID) &&
                    c.createElement(
                      "div",
                      { className: gi.LinkRow },
                      c.createElement(ri.c, {
                        eventModel: e.GetEventModel(),
                        labelOverride: "#EventEditor_Status_FutureURL",
                      })
                    )
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        hi = n("mHFc"),
        fi = Object(I.a)(function (e) {
          var t = e.editModel,
            n = c.createRef();
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(
              "div",
              { className: L.a.PixelOffsetCtn },
              c.createElement(
                "div",
                { className: "DialogLabel" },
                Object(f.f)("#Sale_HeaderOffset")
              ),
              c.createElement(
                "div",
                null,
                Object(f.f)("#Sale_HeaderOffset_Desc")
              ),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexRowContainer,
                    L.a.PixelOffsetRow
                  ),
                },
                c.createElement(Me.l, {
                  onChange: function (e) {
                    (t.GetEventModel().jsondata.sale_header_offset =
                      Number(e.target.value) || 0),
                      t.SetDirty(T.c.jsondata_sales);
                  },
                  value: t.GetEventModel().jsondata.sale_header_offset,
                }),
                c.createElement(
                  "div",
                  { className: L.a.PixelOffsetNote },
                  c.createElement(
                    "div",
                    { className: L.a.PixelOffsetCallout },
                    Object(f.f)("#Sale_HeaderOffset_Max", "386")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#Sale_HeaderOffset_MaxDeck")
                  )
                )
              )
            ),
            c.createElement(
              Me.d,
              {
                onClick: function (e) {
                  var n = t.GetEventModel().jsondata.sale_background_color;
                  Object(In.a)(
                    c.createElement(Mn.a, {
                      onChange: function (e) {
                        return (
                          (t = e),
                          (n = "sale_background_color"),
                          (l.c.GetEditModel().GetEventModel().jsondata[n] = t),
                          void l.c.GetEditModel().SetDirty(T.c.jsondata_sales)
                        );
                        var t, n;
                      },
                      color: n,
                    }),
                    e,
                    { bDisablePopTop: !0 }
                  );
                },
                className: L.a.EventEditorTextTitle,
                style: {
                  backgroundColor: t.GetEventModel().jsondata
                    .sale_background_color,
                },
              },
              Object(f.f)("#Sale_BackgroundColor")
            ),
            c.createElement(
              ve.b,
              {
                requireAdmin: !0,
                clanSteamID: t.GetClanSteamID(),
                className: Object(N.a)(
                  L.a.ValveOnlyBackground,
                  L.a.SaleEditorSpacing
                ),
              },
              c.createElement(
                "div",
                { className: L.a.EventEditorTextTitle },
                Object(f.f)("#Sale_BackgroundVideo_Title")
              ),
              Object(f.f)("#Sale_BackgroundVideo_Instructions"),
              c.createElement(Me.l, {
                onChange: function (e) {
                  (t.GetEventModel().jsondata.sale_background_video_webm =
                    e.target.value),
                    t.SetDirty(T.c.jsondata_sales);
                },
                label: Object(f.f)("#Sale_BackgroundVideo_WebM"),
                value: t.GetEventModel().jsondata.sale_background_video_webm,
              }),
              c.createElement(Me.l, {
                onChange: function (e) {
                  (t.GetEventModel().jsondata.sale_background_video_mp4 =
                    e.target.value),
                    t.SetDirty(T.c.jsondata_sales);
                },
                label: Object(f.f)("#Sale_BackgroundVideo_MP4"),
                value: t.GetEventModel().jsondata.sale_background_video_mp4,
              })
            ),
            c.createElement(Me.h, {
              dropDownControlRef: n,
              strDropDownClassName: L.a.DropDownScroll,
              label: Object(f.f)("#Sale_HeaderArtwork_Multi"),
              tooltip: Object(f.f)("#Sale_HeaderArtwork_Multi_hint"),
              rgOptions: (function () {
                var e = [
                    {
                      label: Object(f.f)("#Sale_HeaderArtwork_Single"),
                      data: 1,
                    },
                  ],
                  t = l.c.GetEditModel(),
                  n = Math.min(t.GetNumberOfDays(), 5);
                if (n > 1)
                  for (var a = 2; a <= n; a++)
                    e.push({
                      label: Object(f.f)("#Sale_HeaderArtwork_Multi_Amount", a),
                      data: a,
                    });
                return e;
              })(),
              selectedOption: t.GetNumSalesBackgroundHeader(),
              onChange: function (e) {
                var t = l.c.GetEditModel();
                t.GetEventModel().jsondata.sale_num_headers !== e.data &&
                  Object(Ie.d)(
                    c.createElement(Te.d, {
                      strTitle: Object(f.f)("#Button_Confirm"),
                      strDescription: Object(f.f)(
                        "#Sale_HeaderArtwork_Warning"
                      ),
                      onOK: function () {
                        return (function (e) {
                          var t = l.c.GetEditModel();
                          t.GetEventModel().jsondata.sale_num_headers !== e &&
                            t.SetNumSalesBackgroundHeader(e);
                        })(e.data);
                      },
                      onCancel: function () {
                        var e;
                        return null === (e = null == n ? void 0 : n.current) ||
                          void 0 === e
                          ? void 0
                          : e.SetSelectedOption(
                              t.GetNumSalesBackgroundHeader()
                            );
                      },
                    }),
                    window
                  );
              },
              bDisableMouseOverlay: !0,
              disabled: t.GetNumberOfDays() <= 1,
              contextMenuPositionOptions: {
                bDisableMouseOverlay: !0,
                bDisablePopTop: !0,
              },
              strClassName: hn.a.SaleDaySelection,
            }),
            Boolean(t.GetNumSalesBackgroundHeader() > 1) &&
              c.createElement(Me.h, {
                strDropDownClassName: L.a.DropDownScroll,
                label: Object(f.f)("#Sale_HeaderArtwork_EditDay"),
                tooltip: Object(f.f)("#Sale_HeaderArtwork_EditDay_hint"),
                rgOptions: (function () {
                  for (
                    var e = [],
                      t = l.c.GetEditModel(),
                      n = t.GetNumSalesBackgroundHeader(),
                      a = 0;
                    a < n;
                    a++
                  ) {
                    var i = t.GetEventStartTime() + 86400 * a,
                      r = {
                        label: Object(f.n)(
                          a + 1 == n
                            ? "#Sale_HeaderArtwork_DayTimeOnward"
                            : "#Sale_HeaderArtwork_DayTime",
                          a + 1,
                          c.createElement(Re.a, {
                            dateAndTime: i,
                            bSingleLine: !0,
                          }),
                          c.createElement(Re.a, {
                            dateAndTime: i + 86400,
                            bSingleLine: !0,
                          })
                        ),
                        data: a,
                      };
                    e.push(r);
                  }
                  return e;
                })(),
                selectedOption: t.GetEventModel().GetDayIndexFromEventStart(),
                onChange: function (e) {
                  l.c.GetEditModel().GetEventModel().m_overrideCurrentDay =
                    e.data;
                },
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: {
                  bDisableMouseOverlay: !0,
                  bDisablePopTop: !0,
                },
                strClassName: hn.a.SaleDaySelection,
              })
          );
        }),
        Si = n("JiI5"),
        Oi = n("165M"),
        yi = Object(I.a)(function (e) {
          var t,
            n,
            a = e.editModel,
            i = Boolean(
              a.BHasSomeImage("product_banner") &&
                a.GetEventModel().BHasTag("hide_store")
            ),
            r = Boolean(
              a.BHasSomeImage("product_mobile_banner") &&
                a.GetEventModel().BHasTag("hide_store")
            ),
            o = function (e, t) {
              return void 0 === t && (t = !1), Object(hi.a)(e, t);
            },
            l = function (e, t) {
              return void 0 === t && (t = !1), Object(hi.d)(e, t);
            },
            s = o("all_artwork_ctn"),
            d =
              (null ===
                (t = a.GetEventModel().jsondata
                  .localized_sale_product_banner) || void 0 === t
                ? void 0
                : t.length) || 0,
            u =
              (null ===
                (n = a.GetEventModel().jsondata
                  .localized_sale_product_mobile_banner) || void 0 === n
                ? void 0
                : n.length) || 0;
          return c.createElement(
            "div",
            { className: Si.SettingCtn },
            Oi.c.WrapWithNavWaypoint(
              "SalePageEdit_AllArtworkCtn",
              c.createElement(
                "div",
                {
                  className: Object(N.a)(Si.Title),
                  id: "SalePageEdit_AllArtworkCtn",
                  onDoubleClick: function () {
                    return l("all_artwork_ctn");
                  },
                },
                c.createElement(
                  "span",
                  null,
                  Object(f.f)("#Sale_Artwork_Sections")
                ),
                c.createElement(Oi.a, {
                  bIsMinimized: s,
                  fnToggleMinimize: function () {
                    return l("all_artwork_ctn");
                  },
                })
              )
            ),
            !s &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(En.b, {
                  clanSteamID: a.GetClanSteamID(),
                  rgSupportArtwork: [
                    "sale_header",
                    "product_banner",
                    "product_mobile_banner",
                  ],
                  fnSetImageURL: a.SetImageURL,
                  rgRealmList: a.GetIncludedRealmList(),
                }),
                Oi.c.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBgImg",
                  c.createElement(On.b, {
                    id: "SalePageEdit_SaleBgImg",
                    clanSteamID: a.GetClanSteamID(),
                    title: Object(f.f)("#EventEditor_ArtworkType_sale_header"),
                    artworkType: "sale_header",
                    elEventArtworkExample: c.createElement(Sn, {
                      artworkType: "sale_header",
                    }),
                    bIsMinimized: o("sale_header"),
                    fnToggleMinimize: function () {
                      return l("sale_header");
                    },
                    elAdditionalControls: c.createElement(fi, { editModel: a }),
                  })
                ),
                Oi.c.WrapWithNavWaypoint(
                  "SalePageEdit_SaleBanner",
                  c.createElement(On.b, {
                    id: "SalePageEdit_SaleBanner",
                    clanSteamID: a.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_banner"
                    ),
                    artworkType: "product_banner",
                    bIsMinimized: o("product_banner"),
                    fnToggleMinimize: function () {
                      return l("product_banner");
                    },
                    strWarning: i
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    elEventArtworkExample: c.createElement(Sn, {
                      artworkType: "product_banner",
                    }),
                    fnRemoveAllArtwork:
                      0 == d
                        ? void 0
                        : function () {
                            Object(G.G)(function () {
                              (a.GetEventModel().jsondata.localized_sale_product_banner = []),
                                a.SetDirty(T.c.jsondata_sales);
                            });
                          },
                  })
                ),
                Oi.c.WrapWithNavWaypoint(
                  "SalePageEdit_SaleMobileBanner",
                  c.createElement(On.b, {
                    id: "SalePageEdit_SaleMobileBanner",
                    clanSteamID: a.GetClanSteamID(),
                    title: Object(f.f)(
                      "#EventEditor_ArtworkType_sale_product_mobile_banner"
                    ),
                    artworkType: "product_mobile_banner",
                    bIsMinimized: o("product_mobile_banner"),
                    fnToggleMinimize: function () {
                      return l("product_mobile_banner");
                    },
                    strWarning: r
                      ? Object(f.f)("#Sale_BannerVisibility_Warning")
                      : void 0,
                    fnRemoveAllArtwork:
                      0 == u
                        ? void 0
                        : function () {
                            Object(G.G)(function () {
                              (a.GetEventModel().jsondata.localized_sale_product_mobile_banner = []),
                                a.SetDirty(T.c.jsondata_sales);
                            });
                          },
                  })
                )
              )
          );
        }),
        Ci = n("9jt8");
      function ji(e) {
        var t = l.c.GetEditModel(),
          n = Object(bt.a)(t.GetClanAccountID(), t.GetGID()),
          a = n[0],
          i = n[1];
        if (
          !Object(lt.d)(function () {
            return t.BHasSaleEnabled();
          })
        )
          return c.createElement(c.Fragment, null);
        var r = Object(ve.a)(t.GetClanSteamID(), !0),
          o = Boolean(i);
        return r || o
          ? c.createElement(c.Fragment, null, e.children)
          : a
          ? c.createElement(_.a, null)
          : c.createElement(
              "div",
              { className: Ci.GuidelinesNoticeCtn },
              c.createElement(
                "div",
                { className: Ci.Intro },
                " ",
                Object(f.f)("#EventSaleGuidelines_desc")
              ),
              c.createElement(
                "div",
                { className: Ci.OpenGuidelinesBtnCtn },
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        c.createElement(wi, { bCheckListReadOnly: !1 }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  Object(f.f)("#EventSaleGuidelines_Review")
                )
              )
            );
      }
      function Ti(e) {
        var t = l.c.GetEditModel(),
          n = Object(bt.a)(t.GetClanAccountID(), t.GetGID()),
          a = n[0],
          i = n[1];
        return a
          ? null
          : Object(ve.a)(t.GetClanSteamID(), !0)
          ? c.createElement(Di, null)
          : Boolean(i)
          ? c.createElement(Ii, null)
          : null;
      }
      function Ii() {
        var e = l.c.GetEditModel(),
          t = Object(bt.a)(e.GetClanAccountID(), e.GetGID()),
          n = (t[0], t[1], t[2]);
        return c.createElement(
          "div",
          { className: Ci.GuidelinesDoneCtn },
          c.createElement(
            "div",
            { className: Ci.Text },
            Object(f.n)(
              "#EventSaleGuidelines_AlreadyReviewed",
              c.createElement(Re.a, { dateAndTime: n, bSingleLine: !0 })
            )
          ),
          c.createElement(
            Me.d,
            {
              onClick: function (e) {
                return Object(Ie.d)(
                  c.createElement(wi, { bCheckListReadOnly: !0 }),
                  Object(Fe.m)(e)
                );
              },
            },
            Object(f.f)("#EventSaleGuidelines_Review")
          )
        );
      }
      function Di() {
        var e = l.c.GetEditModel(),
          t = Object(bt.a)(e.GetClanAccountID(), e.GetGID()),
          n = (t[0], t[1]),
          a = t[2],
          i = t[3],
          r = t[4];
        return n
          ? c.createElement(
              "div",
              { className: Ci.ValveOnlyGuidelineSummary },
              c.createElement(
                "div",
                { className: Ci.SignedBy },
                "Guidelines were accepted by",
                c.createElement(Gt, {
                  accountID: n,
                  locToken: "#EventModTile_Signer",
                }),
                "on",
                c.createElement(Re.a, { dateAndTime: a, bSingleLine: !0 })
              ),
              c.createElement(
                "div",
                null,
                "Primary Contact is '",
                i,
                "' with email ",
                r
              )
            )
          : c.createElement(
              "div",
              { className: Ci.ValveOnlyGuidelineSummary },
              "The event organizer has not yet accepted the agreements for this sale page. The next time that any non-Valve account attempts to edit this sale, they should be required to accept the agreements."
            );
      }
      function wi(e) {
        var t = e.bCheckListReadOnly,
          n = e.closeModal,
          a = l.c.GetEditModel(),
          i = Object(bt.a)(a.GetClanAccountID(), a.GetGID()),
          r = (i[0], i[1]),
          o = (i[2], i[3]),
          s = i[4],
          d = i[5],
          u = i[6],
          g = Object(bt.c)(),
          E = (g[0], g[1], g[2]),
          b = Boolean(r),
          v = c.useState(b),
          h = v[0],
          S = v[1],
          O = c.useState(b),
          y = O[0],
          C = O[1],
          j = c.useState(b),
          T = j[0],
          I = j[1],
          D = c.useState(b),
          w = D[0],
          G = D[1],
          A = c.useState(o || ""),
          M = A[0],
          k = A[1],
          L = c.useState(s || ""),
          N = L[0],
          B = L[1],
          R = c.useState(!1),
          F = R[0],
          P = R[1],
          x = c.useState(null),
          U = x[0],
          H = x[1],
          V = h && y && T && w && M.length > 0 && N.length > 0;
        return c.createElement(
          Te.d,
          {
            strTitle: Object(f.f)("#EventSaleGuideLines_title"),
            strDescription: Object(f.f)("#EventSaleGuidelines_desc"),
            bOKDisabled: !V || F,
            onOK: function () {
              t || d(m.i.accountid),
                u(M, N),
                !t && a.GetGID()
                  ? (P(!0),
                    E(a.GetGID())
                      .then(n)
                      .catch(function (e) {
                        H(Object(p.a)(e).strErrorMsg);
                      }))
                  : n && n();
            },
            onCancel: n,
            closeModal: n,
          },
          Boolean(F || U)
            ? c.createElement(
                c.Fragment,
                null,
                F &&
                  c.createElement(_.a, {
                    string: Object(f.f)("#Saving"),
                    size: "medium",
                    position: "center",
                  }),
                Boolean(U) && c.createElement("div", null, U)
              )
            : c.createElement(
                "div",
                { className: Ci.AgreementsCtn },
                c.createElement(
                  "div",
                  null,
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_1"),
                    checked: h,
                    onChange: S,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_2"),
                    checked: y,
                    onChange: C,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_3"),
                    checked: T,
                    onChange: I,
                    disabled: t,
                  }),
                  c.createElement(Me.e, {
                    label: Object(f.f)("#EventSaleGuidelines_rule_4"),
                    checked: w,
                    onChange: G,
                    disabled: t,
                  })
                ),
                c.createElement(
                  "div",
                  null,
                  Object(f.n)(
                    "#EventSaleGuidelines_Link",
                    c.createElement(
                      "a",
                      {
                        href: m.c.PARTNER_BASE_URL + "doc/store/promo",
                        target: "_blank",
                      },
                      Object(f.f)("#EventSaleGuidelines_LinkText")
                    )
                  )
                ),
                c.createElement(
                  "div",
                  { className: Ci.ContactSectionCtn },
                  c.createElement(
                    "div",
                    { className: Ci.SectionTitle },
                    Object(f.f)("#EventSaleGuidelines_PrimaryContact")
                  ),
                  c.createElement(
                    "div",
                    null,
                    Object(f.f)("#EventSaleGuidelines_PrimaryContact_desc")
                  ),
                  c.createElement(Me.l, {
                    placeholder: Object(f.f)(
                      "#EventSaleGuidelines_PrimaryContact_name"
                    ),
                    value: M,
                    onChange: function (e) {
                      return k(e.currentTarget.value);
                    },
                  }),
                  c.createElement(Me.l, {
                    placeholder: Object(f.f)(
                      "#EventSaleGuidelines_PrimaryContact_email"
                    ),
                    value: N,
                    onChange: function (e) {
                      return B(e.currentTarget.value);
                    },
                  })
                )
              )
        );
      }
      var Gi = n("rppr"),
        Ai = n.n(Gi),
        Mi = Object(I.a)(function (e) {
          var t = e.editModel;
          return Object(ve.a)(t.GetClanSteamID()) && t.BHasSaleEnabled()
            ? c.createElement(
                "div",
                { className: Ai.a.AssociatedBuildBody },
                c.createElement(
                  Me.d,
                  {
                    onClick: function (t) {
                      return Object(Ie.d)(
                        c.createElement(ki, { editModel: e.editModel }),
                        Object(Fe.m)(t)
                      );
                    },
                  },
                  Object(f.f)("#EventEditor_Versions_View")
                )
              )
            : null;
        });
      var ki = function (e) {
          var t,
            n,
            a,
            i,
            r,
            o,
            l = e.editModel,
            s = e.closeModal,
            d =
              ((t = l.GetEventModel().clanSteamID),
              (n = l.GetEventModel().GID),
              (a = c.useState(null)),
              (i = a[0]),
              (r = a[1]),
              (o = t.ConvertTo64BitString()),
              c.useEffect(
                function () {
                  if ((r(null), n)) {
                    var e = y.a.CancelToken.source(),
                      t = { event_gid: n },
                      a =
                        m.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        o +
                        "/ajaxgeteventhistory";
                    return (
                      y.a
                        .get(a, {
                          params: t,
                          withCredentials: !0,
                          cancelToken: e.token,
                        })
                        .then(function (t) {
                          var n;
                          if (!e.token.reason) {
                            var a =
                              1 ==
                              (null === (n = null == t ? void 0 : t.data) ||
                              void 0 === n
                                ? void 0
                                : n.success);
                            r(a ? t.data.versions : []);
                          }
                        })
                        .catch(function (t) {
                          if (!e.token.reason) {
                            var n = Object(p.a)(t);
                            console.error(
                              "useEventHistory: " + n.strErrorMsg,
                              n
                            );
                          }
                        }),
                      function () {
                        return e.cancel("useEventHistory: unmounting");
                      }
                    );
                  }
                },
                [o, n]
              ),
              i),
            u = function (e) {
              Object(Ie.d)(
                c.createElement(Te.d, {
                  strTitle: Object(f.f)("#EventEditor_VersionsPrompt_Title"),
                  strDescription: Object(f.f)(
                    "#EventEditor_VersionsPrompt_Body"
                  ),
                  onOK: function () {
                    return (function (e, t) {
                      Object(Ie.d)(
                        c.createElement(Li, { editModel: e, versionID: t }),
                        window
                      );
                    })(l, e.version_id);
                  },
                }),
                window
              );
            },
            g = Boolean(d),
            E =
              null == d
                ? void 0
                : d.map(function (e) {
                    var t = new Date(1e3 * e.time_stamp),
                      n = t.toLocaleDateString() + " " + t.toLocaleTimeString();
                    return c.createElement(
                      "div",
                      { className: Ai.a.VersionCtn, key: e.version_id },
                      c.createElement(
                        "div",
                        { className: Ai.a.VersionInfoCtn },
                        c.createElement(
                          "div",
                          { className: Ai.a.VersionAccount },
                          c.createElement(Gt, {
                            locToken: "#EventEditor_VersionsUser",
                            accountID: e.account_id,
                          })
                        ),
                        c.createElement(
                          "div",
                          { className: Ai.a.VersionDate },
                          n
                        )
                      ),
                      c.createElement(
                        Me.d,
                        {
                          className: Ai.a.RollbackButton,
                          onClick: function () {
                            return u(e);
                          },
                        },
                        Object(f.f)("#EventEditor_RollbackToVersion")
                      )
                    );
                  });
          return c.createElement(
            ke.a,
            null,
            c.createElement(
              Ie.a,
              { onEscKeypress: s },
              c.createElement(
                Me.f,
                null,
                c.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#EventEditor_VersionsDialog_Title")
                ),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    Object(f.f)("#EventEditor_VersionsDialog_Body")
                  ),
                  g &&
                    c.createElement(
                      "div",
                      { className: Ai.a.VersionListCtn },
                      E,
                      0 == E.length &&
                        c.createElement(
                          "div",
                          { className: Ai.a.VersionListEmpty },
                          Object(f.f)("#EventEditor_Versions_NoVersions")
                        )
                    ),
                  !g && c.createElement(_.a, null)
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(
                    Me.q,
                    { onClick: s },
                    Object(f.f)("#Button_Close")
                  )
                )
              )
            )
          );
        },
        Li = function (e) {
          var t = e.editModel,
            n = e.versionID,
            a = e.closeModal,
            i = c.useState("rollback"),
            r = i[0],
            o = i[1];
          c.useEffect(
            function () {
              var e = new URLSearchParams();
              e.append("version_id", n), e.append("event_gid", t.GetGID());
              var a =
                m.c.COMMUNITY_BASE_URL +
                "gid/" +
                t.GetClanSteamID().ConvertTo64BitString() +
                "/ajaxrollbackevent";
              y.a
                .post(a, e, { withCredentials: !0 })
                .then(function (e) {
                  var t;
                  1 ==
                  (null === (t = null == e ? void 0 : e.data) || void 0 === t
                    ? void 0
                    : t.success)
                    ? window.location.reload()
                    : o("error");
                })
                .catch(function (e) {
                  o("error");
                });
            },
            [t, n]
          );
          var l = null;
          return (
            (l =
              "rollback" === r
                ? c.createElement(
                    Me.f,
                    null,
                    c.createElement(
                      Me.k,
                      null,
                      Object(f.f)("#EventEditor_VersionsDialog_RollingBack")
                    ),
                    c.createElement(Me.b, null, c.createElement(_.a, null))
                  )
                : c.createElement(
                    Me.f,
                    null,
                    c.createElement(
                      Me.k,
                      null,
                      Object(f.f)(
                        "#EventEditor_VersionsDialog_RollingBackFailed"
                      )
                    ),
                    c.createElement(
                      Me.j,
                      null,
                      c.createElement(
                        Me.q,
                        { onClick: a },
                        Object(f.f)("#Button_Close")
                      )
                    )
                  )),
            c.createElement(ke.a, null, c.createElement(Ie.a, null, l))
          );
        },
        Ni = n("R+8l"),
        Bi = n("oVVc"),
        Ri = n("k3PP");
      function Fi(e) {
        var t = l.c.GetEditModel(),
          n = Object(lt.d)(function () {
            return [
              t.GetEventModel().jsondata.sale_opt_in_page_name,
              t.GetEventModel().jsondata.sale_show_creator,
            ];
          }),
          a = n[0],
          i = n[1];
        return c.createElement(
          Oi.b,
          {
            strToggleName: e.strToggleID,
            strTitle: Object(f.f)("#Sale_PageConfigOptions"),
          },
          c.createElement(
            "div",
            { className: Si.Columns },
            c.createElement(
              "div",
              { className: Si.LeftCol },
              c.createElement(Hi, null),
              c.createElement(Ui, null)
            ),
            c.createElement(
              "div",
              { className: Si.RightCol },
              c.createElement(Vi, null),
              c.createElement(xi, null),
              c.createElement(
                ve.b,
                {
                  clanSteamID: t.GetClanSteamID(),
                  className: k.EditPreviewButton,
                },
                c.createElement(Me.l, {
                  type: "text",
                  label: Object(f.f)("#Sale_OptInPageName"),
                  tooltip: Object(f.f)("#Sale_OptInPageName_ttip"),
                  value: a,
                  onChange: function (e) {
                    Object(G.G)(function () {
                      (t.GetEventModel().jsondata.sale_opt_in_page_name =
                        e.target.value),
                        t.SetDirty(T.c.jsondata_sales);
                    });
                  },
                })
              ),
              c.createElement(
                He.a,
                {
                  toolTipContent: "#Sale_ShowCreatorHome_ttip",
                  direction: "top",
                },
                c.createElement(
                  "div",
                  { className: k.InputBorder },
                  c.createElement(Me.p, {
                    onChange: function (e) {
                      Object(G.G)(function () {
                        (t.GetEventModel().jsondata.sale_show_creator = e),
                          t.SetDirty(T.c.jsondata_sales);
                      });
                    },
                    label: Object(f.f)("#Sale_ShowCreatorHome"),
                    checked: i,
                  })
                )
              ),
              c.createElement(
                ve.b,
                { clanSteamID: t.GetClanSteamID() },
                c.createElement(Pi, null),
                c.createElement(Mi, { editModel: t })
              )
            )
          )
        );
      }
      function Pi(e) {
        var t,
          n,
          i = l.c.GetEditModel(),
          r = Object(lt.d)(function () {
            var e, t, n;
            return [
              null ===
                (e = i.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === e
                ? void 0
                : e.bLockedToAppOwners,
              null ===
                (t = i.GetEventModel().jsondata.ownership_requirement_info) ||
              void 0 === t
                ? void 0
                : t.strRedirectURL,
              i.GetEventModel().jsondata.sale_use_subscription_layout,
              null ===
                (n = i.GetEventModel().jsondata.app_right_requirement_info) ||
              void 0 === n
                ? void 0
                : n.bLockedToPartnerAppRights,
            ];
          }),
          o = r[0],
          s = r[1],
          d = r[2],
          u = r[3],
          p = c.useState(
            i.GetEventModel().BIsLockedToGameOwners()
              ? null === (t = i.GetEventModel().GetRequiredAppIDs()) ||
                void 0 === t
                ? void 0
                : t.join(",")
              : ""
          ),
          m = p[0],
          _ = p[1],
          g = c.useState(
            i.GetEventModel().BIsLockedToGameOwners()
              ? null === (n = i.GetEventModel().GetRequiredPackageIDs()) ||
                void 0 === n
                ? void 0
                : n.join(",")
              : ""
          ),
          E = g[0],
          b = g[1];
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(
            He.a,
            {
              toolTipContent: "#Sale_OwnershipRestrictions_ttip",
              direction: "top",
            },
            c.createElement(
              "div",
              { className: k.InputBorder },
              c.createElement(Me.p, {
                onChange: function (e) {
                  Object(G.G)(function () {
                    var t = i.GetEventModel().jsondata;
                    t.ownership_requirement_info
                      ? (t.ownership_requirement_info.bLockedToAppOwners = e)
                      : (t.ownership_requirement_info = {
                          bLockedToAppOwners: e,
                          rgRequiredAppIDs: [],
                          rgRequiredPackageIDs: [],
                          strRedirectURL: "",
                        }),
                      i.SetDirty(T.c.jsondata_sales);
                  });
                },
                label: Object(f.f)("#Sale_OwnershipRestrictions"),
                checked: o,
              })
            )
          ),
          o &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_RequiredApps"),
                tooltip: Object(f.f)("#Sale_RequiredApps_ttip"),
                onChange: function (e) {
                  m != e.target.value &&
                    (_(e.target.value),
                    Object(G.G)(function () {
                      var t = i.GetEventModel().GetRequiredAppIDs(),
                        n = e.target.value
                          .split(",")
                          .map(Number)
                          .filter(function (e) {
                            return e > 0;
                          });
                      t.splice.apply(t, Object(a.g)([0, t.length], n)),
                        i.SetDirty(T.c.jsondata_sales);
                    }));
                },
                value: m,
              }),
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_RequiredPackages"),
                tooltip: Object(f.f)("#Sale_RequiredPackages_ttip"),
                onChange: function (e) {
                  E != e.target.value &&
                    (b(e.target.value),
                    Object(G.G)(function () {
                      var t = i.GetEventModel().GetRequiredPackageIDs(),
                        n = e.target.value
                          .split(",")
                          .map(Number)
                          .filter(function (e) {
                            return e > 0;
                          });
                      t.splice.apply(t, Object(a.g)([0, t.length], n)),
                        i.SetDirty(T.c.jsondata_sales);
                    }));
                },
                value: E,
              }),
              c.createElement(Me.l, {
                type: "text",
                label: Object(f.f)("#Sale_OwnershipLockRedirect"),
                tooltip: Object(f.f)("#Sale_OwnershipLockRedirect_ttip"),
                onChange: function (e) {
                  s != e.target.value &&
                    Object(G.G)(function () {
                      (i.GetEventModel().jsondata.ownership_requirement_info.strRedirectURL =
                        e.target.value),
                        i.SetDirty(T.c.jsondata_sales);
                    });
                },
                value: s,
              }),
              c.createElement(
                ve.b,
                { clanSteamID: i.GetClanSteamID() },
                c.createElement(Me.e, {
                  onChange: function (e) {
                    Object(G.G)(function () {
                      (i.GetEventModel().jsondata.sale_use_subscription_layout = e),
                        i.SetDirty(T.c.jsondata_sales);
                    });
                  },
                  label: "(VO) " + Object(f.f)("#Sale_UseSubscriptionLayout"),
                  tooltip: Object(f.f)("#Sale_UseSubscriptionLayout_ttip"),
                  checked: !!d,
                })
              )
            ),
          c.createElement(
            He.a,
            {
              toolTipContent: "#Sale_PartnerAppEditRestrictions_ttip",
              direction: "top",
            },
            c.createElement(
              "div",
              { className: k.InputBorder },
              c.createElement(Me.p, {
                onChange: function (e) {
                  Object(G.G)(function () {
                    var t = i.GetEventModel().jsondata;
                    t.app_right_requirement_info
                      ? (t.app_right_requirement_info.bLockedToPartnerAppRights = e)
                      : (t.app_right_requirement_info = {
                          bLockedToPartnerAppRights: e,
                          nAppRightFlag: ca.GetAppRightFlags([Pn.EditInfo]),
                        }),
                      i.SetDirty(T.c.jsondata_sales);
                  });
                },
                label: Object(f.f)("#Sale_PartnerAppEditRestrictions"),
                checked: !!u,
              })
            )
          )
        );
      }
      function xi(e) {
        var t = this,
          n = l.c.GetEditModel();
        return c.createElement(
          ve.b,
          {
            requireAdmin: !0,
            clanSteamID: n.GetClanSteamID(),
            className: k.EditPreviewButton,
          },
          c.createElement(
            "div",
            { className: k.EventEditorTextTitle },
            Object(f.f)("#Sale_CreateUpdateDiscountEventTitle"),
            c.createElement(Ri.d, {
              tooltip: Object(f.f)("#Sale_CreateUpdateDiscountEventTitle_ttip"),
            })
          ),
          c.createElement(
            Me.q,
            {
              onClick: function () {
                return Object(a.b)(t, void 0, void 0, function () {
                  var e,
                    t,
                    i,
                    r,
                    o = this;
                  return Object(a.e)(this, function (l) {
                    switch (l.label) {
                      case 0:
                        return (
                          (e = []),
                          n
                            .GetEventModel()
                            .jsondata.sale_sections.forEach(function (t) {
                              t.capsules.forEach(function (t) {
                                return Object(a.b)(
                                  o,
                                  void 0,
                                  void 0,
                                  function () {
                                    var n, i;
                                    return Object(a.e)(this, function (a) {
                                      switch (a.label) {
                                        case 0:
                                          return "bundle" !== t.type
                                            ? [3, 2]
                                            : ((n = Ni.a.GetBundleInfo(t.id)),
                                              [
                                                4,
                                                Bi.b.LoadPackageInfo(
                                                  n.packageids
                                                ),
                                              ]);
                                        case 1:
                                          return (
                                            a.sent(),
                                            n.packageids.forEach(function (t) {
                                              var n = Bi.b.GetPackageInfo(
                                                Number(t)
                                              );
                                              e.push.apply(e, n.appids);
                                            }),
                                            [3, 5]
                                          );
                                        case 2:
                                          return "sub" !== t.type
                                            ? [3, 4]
                                            : [4, Bi.b.LoadPackageInfo([t.id])];
                                        case 3:
                                          return (
                                            a.sent(),
                                            (i = Bi.b.GetPackageInfo(t.id)),
                                            e.push.apply(e, i.appids),
                                            [3, 5]
                                          );
                                        case 4:
                                          Object(X.b)(t.type) &&
                                            e.push(Number(t.id)),
                                            (a.label = 5);
                                        case 5:
                                          return [2];
                                      }
                                    });
                                  }
                                );
                              });
                            }),
                          (e = Array.from(new Set(e))).sort(),
                          (t = new FormData()).append(
                            "sessionid",
                            m.c.SESSIONID
                          ),
                          t.append("name", "[AUTO] " + n.GetName()),
                          t.append("event", "1"),
                          t.append("type", "discount"),
                          t.append("header", n.GetName()),
                          t.append("appids", e.join(",")),
                          t.append(
                            "start_date",
                            n.GetEventStartTime().toString()
                          ),
                          t.append("end_date", n.GetEventEndTime().toString()),
                          t.append(
                            "description",
                            "#discount_desc_preset_special"
                          ),
                          n.GetEventModel().jsondata.sale_discount_event_id &&
                            t.append(
                              "discount_id",
                              n
                                .GetEventModel()
                                .jsondata.sale_discount_event_id.toString()
                            ),
                          [
                            4,
                            y.a.post(
                              m.c.COMMUNITY_BASE_URL +
                                "actions/ajaxcreateupdatediscountevent",
                              t,
                              { withCredentials: !0 }
                            ),
                          ]
                        );
                      case 1:
                        return (
                          (i = l.sent()),
                          (r =
                            i.data.discountid ||
                            n.GetEventModel().jsondata.sale_discount_event_id),
                          n.GetEventModel().jsondata.sale_discount_event_id ||
                            (n.GetEventModel().jsondata.sale_discount_event_id = r),
                          Object(Ie.d)(
                            c.createElement(ht, {
                              editModel: n,
                              bSkipChecks: !0,
                              OnSuccess: function () {
                                window.open(
                                  m.c.PARTNER_BASE_URL +
                                    "admin/editdiscountevent/" +
                                    r
                                );
                              },
                            }),
                            window
                          ),
                          [2]
                        );
                    }
                  });
                });
              },
            },
            n.GetEventModel().jsondata.sale_discount_event_id
              ? Object(f.f)(
                  "#Sale_UpdateDiscountEvent",
                  n.GetEventModel().jsondata.sale_discount_event_id
                )
              : Object(f.f)("#Sale_CreateDiscountEvent")
          )
        );
      }
      function Ui(e) {
        var t = l.c.GetEditModel(),
          n = Object(lt.d)(function () {
            var e = t.GetEventModel().jsondata;
            return [
              e.sale_section_disable_capitalize,
              e.sale_section_font_size,
              e.sale_font,
              e.sale_font_weight,
            ];
          }),
          i = n[0],
          r = n[1],
          o = n[2],
          s = n[3],
          d = [
            { label: "Default", data: { fontFamily: "" } },
            {
              label: "Default, Bold",
              data: {
                fontFamily: "'Motiva Sans', 'Play', sans-serif",
                fontWeight: "bold",
              },
            },
            {
              label: "Jolly Lodger (Halloween)",
              data: {
                fontFamily:
                  "'Jolly Lodger', 'New Rocker', 'Chonburi', 'Motiva Sans'",
              },
            },
            {
              label: "Sigmar One",
              data: { fontFamily: "'Sigmar One', sans-serif" },
            },
          ].map(function (e) {
            return Object(a.a)(Object(a.a)({}, e), {
              label: c.createElement(
                "div",
                { style: Object(a.a)({}, e.data) },
                e.label
              ),
            });
          }),
          u = d.find(function (e) {
            return e.data.fontFamily == o && e.data.fontWeight == s;
          }),
          p = u && u.data;
        return c.createElement(
          ve.b,
          { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
          c.createElement(Me.h, {
            label: Object(f.f)("#Sale_SaleFont"),
            tooltip: Object(f.f)("#Sale_SaleFont_ttip"),
            strDropDownClassName: k.DropDownScroll,
            rgOptions: d,
            selectedOption: p,
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_font = e.data.fontFamily),
                  (t.GetEventModel().jsondata.sale_font_weight =
                    e.data.fontWeight),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
          c.createElement(Me.l, {
            type: "text",
            label: Object(f.f)("#Sale_SectionTitleFontSize"),
            tooltip: Object(f.f)("#Sale_SectionTitleFontSize_ttip"),
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_section_font_size = Number(
                  e.target.value
                )),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            value: r,
          }),
          c.createElement(Me.e, {
            label: Object(f.f)("#Sale_DontCapitalizeSectionTitles"),
            tooltip: Object(f.f)("#Sale_DontCapitalizeSectionTitles_ttip"),
            onChange: function (e) {
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.sale_section_disable_capitalize = e),
                  t.SetDirty(T.c.jsondata_sales);
              });
            },
            checked: i,
          })
        );
      }
      function Hi(e) {
        var t = l.c.GetEditModel(),
          n = Object(lt.d)(function () {
            return [
              t.GetEventModel().jsondata.sale_vanity_id,
              t.GetEventModel().jsondata
                .sale_vanity_id_valve_approved_for_sale_subpath,
            ];
          }),
          a = n[0],
          i = n[1],
          r = Object(_e.b)(t.GetClanAccountID()),
          o = null;
        return (
          a && !i && r
            ? (o = r.GetCreatorHomeURL("publisher") + "sale/" + a)
            : a && i && (o = m.c.STORE_BASE_URL + "sale/" + a),
          c.createElement(
            c.Fragment,
            null,
            c.createElement(Me.l, {
              type: "text",
              label: Object(f.f)("#Sale_VanityID"),
              tooltip: Object(f.f)("#Sale_VanityID_ttip"),
              onChange: function (e) {
                return t.SetSaleVanityID(e.target.value);
              },
              value: a,
            }),
            Boolean(o)
              ? c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "span",
                    { className: "DialogLabel" },
                    Object(f.f)("#Sale_VanityID_Link")
                  ),
                  c.createElement("br", null),
                  c.createElement(
                    "a",
                    { href: o, target: m.c.IN_CLIENT ? "" : "_blank" },
                    o
                  )
                )
              : c.createElement(
                  "div",
                  { className: $.ErrorStylesWithIcon },
                  Object(f.f)("#EventEditor_SaleNotReady_ttip")
                ),
            c.createElement(
              ve.b,
              { requireAdmin: !0, clanSteamID: t.GetClanSteamID() },
              c.createElement(Me.e, {
                label: Object(f.f)("#Sale_ValveTopSalePath"),
                tooltip: Object(f.f)("#Sale_ValveTopSalePath_ttip"),
                onChange: function (e) {
                  Object(G.G)(function () {
                    (t.GetEventModel().jsondata.sale_vanity_id_valve_approved_for_sale_subpath = e),
                      t.SetDirty(T.c.jsondata_sales);
                  });
                },
                checked: i,
              })
            )
          )
        );
      }
      function Vi(e) {
        var t = this,
          n = l.c.GetEditModel(),
          i = c.useState(""),
          r = i[0],
          o = i[1];
        return c.createElement(
          ve.b,
          { clanSteamID: n.GetClanSteamID(), className: k.EditPreviewButton },
          c.createElement(Me.l, {
            type: "text",
            label: Object(f.f)("#Sale_ImportSale"),
            tooltip: Object(f.f)("#Sale_ImportSale_ttip"),
            value: r,
            onChange: function (e) {
              return o(e.target.value);
            },
          }),
          c.createElement(
            Me.q,
            {
              onClick: function () {
                return Object(a.b)(t, void 0, void 0, function () {
                  var e, t, i, l, s, c;
                  return Object(a.e)(this, function (d) {
                    switch (d.label) {
                      case 0:
                        return r ? [4, y.a.get(r + "?json=1")] : [3, 2];
                      case 1:
                        for (i in ((e = d.sent()),
                        (t = e.data),
                        (n.GetEventModel().jsondata.sale_sections = []),
                        t.sections))
                          "0" !== i &&
                            Number(i) &&
                            ((l = t.sections[i]),
                            (s = Object(a.a)({}, D.h)),
                            "string" == typeof l.label &&
                              (s.localized_label = Object(yn.e)(
                                [l.label],
                                30,
                                null
                              )),
                            (s.background_color = l.section_bg_color),
                            (s.background_gradient_top = l.section_bg_color),
                            (s.background_gradient_bottom = l.section_bg_color),
                            (s.label_color = l.label_color),
                            (s.capsules_per_row = l.capsules),
                            (s.use_random_order = l.random_order),
                            (c = t.capsules["n_section_" + i]) &&
                              (s.capsules = c.capsules.map(function (e) {
                                var t = "game";
                                e.packageid
                                  ? (t = "sub")
                                  : e.bundleid && (t = "bundle");
                                var n = {
                                  type: t,
                                  id: Number(
                                    e.bundleid || e.packageid || e.appid
                                  ),
                                };
                                return (
                                  "bundle" === n.type
                                    ? Ni.a.LoadBundleInfo([Number(n.id)])
                                    : "sub" === n.type
                                    ? Bi.b.LoadPackageInfo([Number(n.id)])
                                    : Yn.a.EnsureAppInfoForAppIDs(
                                        new Set([Number(n.id)])
                                      ),
                                  n
                                );
                              })),
                            n.GetEventModel().jsondata.sale_sections.push(s));
                        n.SetDirty(T.c.jsondata_sales), (d.label = 2);
                      case 2:
                        return o(""), [2];
                    }
                  });
                });
              },
            },
            Object(f.f)("#Sale_ImportButton")
          )
        );
      }
      var zi = n("qiKp"),
        Wi = Object(I.a)(function (e) {
          var t,
            n,
            a = e.editModel,
            i = e.fnOnOKCallback,
            r = a.GetEventModel(),
            o = c.useState(
              null !== (t = r.jsondata.sale_vanity_id) && void 0 !== t ? t : ""
            ),
            l = o[0],
            s = o[1],
            d = c.useState(new zi.a())[0],
            u = Math.floor(Date.now() / 1e3),
            p = new Date();
          p.setHours(10), p.setMinutes(0), p.setSeconds(0);
          var m = new Date();
          m.setDate(p.getDate() + 1),
            m.setHours(10),
            m.setMinutes(0),
            m.setSeconds(0);
          var _ = c.useState(
              r.startTime > u ? r.startTime : Math.floor(m.getTime() / 1e3)
            ),
            g = _[0],
            E = _[1],
            b = new Date();
          b.setDate(m.getDate() + 1),
            b.setHours(10),
            b.setMinutes(0),
            b.setSeconds(0);
          var v = c.useState(
              null !== (n = r.endTime) && void 0 !== n
                ? n
                : Math.floor(b.getTime() / 1e3)
            ),
            h = v[0],
            S = v[1],
            O = function () {
              Object(G.G)(function () {
                (a.GetEventModel().jsondata.bSaleEnabled = !1),
                  a.SetDirty(T.c.jsondata_sales);
              }),
                e.closeModal && e.closeModal();
            },
            y = l.replace(/[^\w-]/g, "").length > 0 && g && h;
          return c.createElement(
            ke.a,
            null,
            c.createElement(
              Te.h,
              { onEscKeypress: O },
              c.createElement(
                Me.f,
                null,
                c.createElement(Me.k, null, Object(f.f)("#Sale_EnableTitle")),
                c.createElement(
                  Me.b,
                  null,
                  c.createElement(
                    Me.c,
                    null,
                    c.createElement(
                      "div",
                      { className: Si.SetupCtn },
                      c.createElement(
                        "span",
                        null,
                        Object(f.f)("#Sale_EanbleDesc")
                      ),
                      c.createElement(
                        "ol",
                        null,
                        c.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_1")
                        ),
                        c.createElement(
                          "li",
                          null,
                          Object(f.f)("#Sale_EnableDesc_2")
                        )
                      ),
                      c.createElement("br", null),
                      c.createElement(Me.l, {
                        type: "text",
                        label: Object(f.f)("#Sale_VanityID"),
                        tooltip: Object(f.f)("#Sale_VanityID_ttip"),
                        onChange: function (e) {
                          return s(e.target.value);
                        },
                        value: l,
                      }),
                      c.createElement(Rt.a, {
                        strDescription: Object(f.f)("#Sale_New_Start"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return g;
                        },
                        fnSetTimeToUpdate: E,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      }),
                      c.createElement(Rt.a, {
                        strDescription: Object(f.f)("#Sale_New_End"),
                        nEarliestTime: 0,
                        fnGetTimeToUpdate: function () {
                          return h;
                        },
                        fnSetTimeToUpdate: S,
                        fnIsValidDateTime: function () {
                          return !0;
                        },
                        bShowTimeZone: !0,
                      }),
                      c.createElement(
                        ve.b,
                        { clanSteamID: a.GetClanSteamID(), requireAdmin: !0 },
                        c.createElement(li, {
                          clanSteamID: a.GetClanSteamID(),
                          gidClanEvent: a.GetGID(),
                          fnOkCallbackList: d,
                        })
                      )
                    )
                  )
                ),
                c.createElement(
                  Me.j,
                  null,
                  c.createElement(Me.n, {
                    onCancel: O,
                    bOKDisabled: !y,
                    onOK: function () {
                      Object(G.G)(function () {
                        a.SetSaleVanityID(l),
                          a.SetEventStartTime(g),
                          a.SetEventEndTime(h),
                          d.Dispatch(),
                          i();
                      }),
                        e.closeModal && e.closeModal();
                    },
                  })
                )
              )
            )
          );
        });
      function qi(e) {
        var t = l.c.GetEditModel(),
          n = c.useState(t.BHasSaleEnabled()),
          a = n[0],
          i = n[1],
          r = c.useRef(),
          o = function (e) {
            var n;
            i(e),
              null === (n = null == r ? void 0 : r.current) ||
                void 0 === n ||
                n.setState({ checked: e }),
              Object(G.G)(function () {
                (t.GetEventModel().jsondata.bSaleEnabled = e),
                  t.SetDirty(T.c.jsondata_sales);
              });
          };
        return c.createElement(
          "div",
          { className: k.InputBorder },
          c.createElement(Me.p, {
            ref: r,
            onChange: function (e) {
              var n;
              e
                ? (null === (n = null == r ? void 0 : r.current) ||
                    void 0 === n ||
                    n.setState({ checked: !1 }),
                  i(!1),
                  Object(Ie.d)(
                    c.createElement(Wi, {
                      editModel: t,
                      fnOnOKCallback: function () {
                        return o(!0);
                      },
                    }),
                    window
                  ))
                : o(e);
            },
            label: Object(f.f)("#Sale_option"),
            checked: a,
          }),
          Boolean(!t.BIsSourceEventSaleEnabled()) &&
            c.createElement(
              "div",
              { className: $.WarningStyles },
              Object(f.f)("#Sale_Enable_Warning")
            )
        );
      }
      var Yi = n("+w6J"),
        Ji = n("tzvv"),
        Qi = Object(I.a)(function (e) {
          var t,
            n,
            a,
            i = e.editModel;
          if (
            !(
              Object(ve.a)(i.GetClanSteamID(), !1) ||
              (null === (n = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === n
                ? void 0
                : n.length) > 0
            )
          )
            return null;
          var r =
              (null === (a = i.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === a
                ? void 0
                : a.length) || 0,
            o = function (e, t) {
              return void 0 === t && (t = !1), Object(hi.d)(e, t);
            },
            l = Object(hi.a)("SalePageEdit_SortingTiers", !0);
          return c.createElement(
            "div",
            {
              id: "SalePageEdit_SortingTiers",
              className: Object(N.a)(
                ((t = {}),
                (t[L.a.ValveOnlyBackground] = !0),
                (t[Si.SettingCtn] = !0),
                t)
              ),
            },
            c.createElement(
              "div",
              {
                className: Si.Title,
                onDoubleClick: function () {
                  return o("SalePageEdit_SortingTiers", !0);
                },
              },
              Object(f.f)("#Sale_SortingTiersSection", r),
              c.createElement(Ri.d, {
                tooltip: Object(f.f)("#Sale_SortingTiers_SectionTooltip"),
              }),
              c.createElement(Oi.a, {
                bIsMinimized: l,
                fnToggleMinimize: function () {
                  return o("SalePageEdit_SortingTiers", !0);
                },
              })
            ),
            !l && c.createElement(Ki, { editModel: i })
          );
        }),
        Zi = function (e) {
          return c.createElement(
            "div",
            { className: Ji.SortTierControls },
            c.createElement(Yi.a, {
              capsuleContainer: e.sortTier,
              editModel: e.editModel,
              uniqueKey: "sort_tier_" + e.tierIndex,
              disableDaySelection: !0,
            })
          );
        },
        Ki = Object(I.a)(function (e) {
          var t,
            n = e.editModel,
            a = c.useState(!1),
            i = a[0],
            r = a[1],
            o =
              null !== (t = n.GetEventModel().jsondata.sorting_tiers) &&
              void 0 !== t
                ? t
                : [],
            l = n.GetEventModel().GetTaggedItems();
          return i || o.length
            ? c.createElement(
                "div",
                null,
                c.createElement(
                  "div",
                  { className: Ji.SortTierExplanation },
                  Object(f.f)("#Sale_SortTier_Description")
                ),
                (n.GetSaleSections() || []).map(function (e) {
                  return "items" == e.section_type && e.use_random_order
                    ? c.createElement(Xt.i, {
                        key: "sorttier_" + e.unique_id,
                        section: e,
                        language: n.GetCurEditLanguage(),
                        event: n.GetEventModel(),
                      })
                    : null;
                }),
                0 == o.length &&
                  c.createElement(
                    He.a,
                    {
                      toolTipContent:
                        0 == l.length
                          ? "#Sale_SortTier_PopulateButton_disabled_ttip"
                          : "#Sale_SortTier_PopulateButton_ttip",
                    },
                    c.createElement(
                      Me.d,
                      {
                        disabled: 0 == l.length,
                        onClick: function () {
                          n.GetEventModel().jsondata.sorting_tiers = [];
                          var e = l.map(function (e) {
                            return e.capsule;
                          });
                          if (e.length < 4)
                            n.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e },
                            ];
                          else {
                            var t = Math.floor(e.length / 4),
                              a = Math.floor((2 * e.length) / 4),
                              i = Math.floor((3 * e.length) / 4);
                            n.GetEventModel().jsondata.sorting_tiers = [
                              { capsules: e.slice(0, t) },
                              { capsules: e.slice(t, a) },
                              { capsules: e.slice(a, i) },
                              { capsules: e.slice(i) },
                            ];
                          }
                          n.SetDirty(T.c.jsondata_sales);
                        },
                        className: Ji.AutoTierButton,
                      },
                      Object(f.f)("#Sale_SortTier_PopulateButton")
                    )
                  ),
                c.createElement(Qn.a, {
                  items: o,
                  onDelete: function (e) {
                    n.GetEventModel().jsondata.sorting_tiers.splice(e, 1),
                      n.SetDirty(T.c.jsondata_sales);
                  },
                  onReorder: function () {
                    return n.SetDirty(T.c.jsondata_sales);
                  },
                  render: function (e) {
                    return c.createElement(Zi, {
                      editModel: n,
                      tierIndex: o.findIndex(function (t) {
                        return t === e;
                      }),
                      sortTier: e,
                    });
                  },
                }),
                c.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      n.GetEventModel().jsondata.sorting_tiers ||
                        (n.GetEventModel().jsondata.sorting_tiers = []),
                        n
                          .GetEventModel()
                          .jsondata.sorting_tiers.push({ capsules: [] }),
                        n.SetDirty(T.c.jsondata_sales);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Add")
                )
              )
            : c.createElement(
                "div",
                null,
                Object(f.f)("#Sale_SortTier_EnableInfo"),
                c.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      return r(!0);
                    },
                  },
                  Object(f.f)("#Sale_SortTier_Enable")
                )
              );
        }),
        Xi = n("oqmg"),
        $i = n("wLVu"),
        er = function (e) {
          var t = new Array();
          return (
            e.rows.forEach(function (n) {
              t.push(
                c.createElement(
                  "div",
                  {
                    key: "tc_" + n.strSectionId,
                    id: "tc_" + n.strSectionId,
                    className: Object(N.a)(
                      $i.TOCEntry,
                      n.bSectionIsVisible && $i.SectionOnScreen,
                      n.strClassName,
                      n.bIndent && $i.TOCIndent
                    ),
                    onClick: function () {
                      e.onSelected && e.onSelected(n);
                      var t = document.getElementById(n.strSectionId);
                      t && (t.scrollIntoView(!0), window.scrollBy(0, -75));
                    },
                  },
                  c.createElement(
                    "div",
                    { style: n.style || null, className: $i.TOCEntryText },
                    n.strLabel
                  )
                )
              );
            }),
            c.createElement(
              "div",
              { className: $i.TableOfContentsContainer },
              c.createElement(
                "div",
                { className: $i.ManageLocCtn },
                c.createElement(
                  "div",
                  { className: $i.Header },
                  Object(f.f)("#EventEditor_Loc_Title")
                ),
                c.createElement(
                  "div",
                  { className: $i.ManageLocContents },
                  Object(f.f)("#EventEditor_Loc_Overview"),
                  c.createElement(
                    "div",
                    { className: $i.LocButtonsCtn },
                    e.elTopContent
                  )
                )
              ),
              c.createElement(
                "div",
                { className: $i.TableOfContents },
                c.createElement("div", { className: $i.Header }, e.strHeader),
                t,
                e.elBottomContent
              )
            )
          );
        },
        tr = n("KP/B"),
        nr = n("5eAM"),
        ar = n("gyoR"),
        ir = n("3yM6"),
        rr = n("48GZ"),
        or = function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            n = Object(c.useState)(!1),
            a = n[0],
            i = n[1],
            r = Object(c.useState)(null),
            o = r[0],
            s = r[1],
            u = Object(c.useState)(null),
            p = u[0],
            m = u[1],
            g = Object(c.useState)(null),
            E = g[0],
            b = g[1],
            v = Object(c.useState)(null),
            h = v[0],
            S = v[1];
          Object(c.useEffect)(function () {
            var e = y.a.CancelToken.source();
            return (
              lr().then(function () {
                e.token.reason || i(!0);
              }),
              function () {
                return e.cancel("SaleEventExplorerDialog: unmounting");
              }
            );
          }, []);
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(
              Te.h,
              { onEscKeypress: t },
              d.a.createElement(
                Me.f,
                null,
                d.a.createElement(Me.k, null, Object(f.f)("#Sale_Debug_Title")),
                d.a.createElement(
                  Me.b,
                  null,
                  d.a.createElement(
                    Me.c,
                    null,
                    Boolean(a)
                      ? d.a.createElement(
                          "div",
                          null,
                          d.a.createElement(
                            "div",
                            null,
                            Object(f.f)("#Sale_Debug_Desc")
                          ),
                          d.a.createElement(cr, {
                            fnSetSaleItem: function (e, t, n, a) {
                              s(e), m(t), b(n), S(a);
                            },
                          }),
                          Boolean(o)
                            ? d.a.createElement(ur, {
                                saleCapsule: o,
                                list: p,
                                tabList: E,
                                sortList: h,
                              })
                            : d.a.createElement(
                                "div",
                                null,
                                Object(f.f)("#Sale_Debug_NoMatchingItem")
                              )
                        )
                      : d.a.createElement(_.a, {
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                d.a.createElement(
                  Me.j,
                  null,
                  d.a.createElement(Me.n, {
                    onCancel: t,
                    bOKDisabled: !o,
                    strOKText: Object(f.f)("#Button_Delete"),
                    onOK: function () {
                      Object(Ie.d)(
                        d.a.createElement(Te.d, {
                          title: Object(f.f)("#EventEditor_GenericAreYouSure"),
                          strDescription: Object(f.f)("#Sale_Debug_Delete"),
                          onOK: function () {
                            !(function (e) {
                              if (!e) return;
                              var t = l.c.GetEditModel();
                              Object(G.G)(function () {
                                var n = 0,
                                  a = function (t) {
                                    for (
                                      var a = t.capsules.findIndex(function (
                                        t
                                      ) {
                                        return t.id == e.id && t.type == e.type;
                                      });
                                      a >= 0;

                                    )
                                      t.capsules.splice(a, 1),
                                        (n += 1),
                                        (a = t.capsules.findIndex(function (t) {
                                          return (
                                            t.id == e.id && t.type == e.type
                                          );
                                        }));
                                  };
                                t.GetEventModel().jsondata.sale_sections.forEach(
                                  a
                                );
                                var i = t.GetTabSaleSection();
                                i && i.tabs.forEach(a),
                                  n && t.SetDirty(T.c.jsondata_sales);
                              });
                            })(o),
                              t();
                          },
                        }),
                        window
                      );
                    },
                  })
                )
              )
            )
          );
        };
      function lr() {
        return Object(a.b)(this, void 0, void 0, function () {
          var e;
          return Object(a.e)(this, function (t) {
            switch (t.label) {
              case 0:
                return (
                  (e = l.c.GetEditModel()),
                  [
                    4,
                    Promise.all([
                      nr.a.LoadAppLinkInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("apps"))
                      ),
                      Ni.a.LoadBundleInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("bundles"))
                      ),
                      Bi.b.LoadPackageInfo(
                        Array.from(e.GetAllSalePageFeaturedItems("packages"))
                      ),
                    ]),
                  ]
                );
              case 1:
                return t.sent(), [2];
            }
          });
        });
      }
      function sr(e, t) {
        if ((void 0 === t && (t = ""), "bundle" == e.type)) {
          var n = Ni.a.GetBundleInfo(e.id);
          return n ? n.name : t;
        }
        if ("sub" == e.type) {
          var a = Bi.b.GetPackageInfo(e.id);
          return a ? a.name : t;
        }
        var i = nr.a.GetAppLinkInfo(e.id);
        return i ? i.name : t;
      }
      var cr = function (e) {
          var t = e.fnSetSaleItem,
            n = Object(c.useRef)(null),
            i = Object(c.useRef)(null),
            r = Object(c.useRef)(0),
            o = Object(c.useRef)();
          Object(c.useEffect)(function () {
            return function () {
              return window.clearTimeout(r.current);
            };
          }, []);
          var s = Object(c.useCallback)(
            function (e) {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var s;
                return Object(a.e)(this, function (c) {
                  return (s = e.target.value) && 0 != s.trim().length
                    ? ((s = s.toLocaleLowerCase()),
                      window.clearTimeout(r.current),
                      n.current && n.current("SearchForCurator: new request"),
                      (r.current = window.setTimeout(function () {
                        return Object(a.b)(void 0, void 0, void 0, function () {
                          var e, n, r, c, u, p, m;
                          return Object(a.e)(this, function (a) {
                            return (
                              (e = l.c.GetEditModel()),
                              (n = Number.parseInt(s.trim())),
                              (r = new Array()),
                              e.GetEventModel().BHasSaleEnabled() &&
                                ((c = function (e) {
                                  return (
                                    e.id == n ||
                                    sr(e).toLowerCase().indexOf(s) >= 0
                                  );
                                }),
                                (u = function (e) {
                                  r.findIndex(function (t) {
                                    return t.id == e.id && t.type == e.type;
                                  }) < 0 && r.push(e);
                                }),
                                e
                                  .GetEventModel()
                                  .jsondata.sale_sections.forEach(function (e) {
                                    e.capsules.filter(c).forEach(u);
                                  }),
                                (p = e.GetTabSaleSection()) &&
                                  p.tabs.forEach(function (e) {
                                    return e.capsules.filter(c).forEach(u);
                                  }),
                                (m = function (n) {
                                  var a,
                                    i = function (e) {
                                      return n.id == e.id && n.type == e.type;
                                    },
                                    r = new Array();
                                  e.GetEventModel().jsondata.sale_sections.forEach(
                                    function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        r.push(e);
                                    }
                                  );
                                  var o = new Array();
                                  p &&
                                    p.tabs.forEach(function (e) {
                                      e.capsules.filter(i).length > 0 &&
                                        o.push(e);
                                    });
                                  var l = new Array();
                                  null ===
                                    (a = e.GetEventModel().jsondata
                                      .sorting_tiers) ||
                                    void 0 === a ||
                                    a.forEach(function (e, t) {
                                      if (
                                        (null == e
                                          ? void 0
                                          : e.capsules.filter(i).length) > 0
                                      )
                                        l.push(t);
                                      else if (
                                        null == e ? void 0 : e.sale_tag_filter
                                      ) {
                                        var a = new Array();
                                        a.push(n),
                                          Object(tr.r)(
                                            new Array(),
                                            e.sale_tag_filter,
                                            a
                                          ).length > 0 && l.push(t);
                                      }
                                    }),
                                    t(n, r, o, l);
                                }),
                                (i.current = Object(In.a)(
                                  d.a.createElement(dr, {
                                    list: r,
                                    fnChooseCapsule: m,
                                  }),
                                  o.current.element,
                                  {
                                    bOverlapHorizontal: !0,
                                    bMatchWidth: !0,
                                    bFitToWindow: !0,
                                    bDisablePopTop: !0,
                                  }
                                ))),
                              [2]
                            );
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            },
            [t]
          );
          return d.a.createElement(Me.l, {
            type: "text",
            placeholder: Object(f.f)("#Sale_Debug_Placeholder"),
            tooltip: Object(f.f)("#Sale_Debug_InputToolTip"),
            onChange: s,
            onBlur: function () {
              setTimeout(function () {
                return i.current && i.current.Hide();
              }, 200);
            },
            ref: o,
          });
        },
        dr = function (e) {
          var t = e.list,
            n = e.fnChooseCapsule;
          return d.a.createElement(
            wn.c,
            { className: ir.SearchResults },
            t.map(function (e) {
              return d.a.createElement(
                wn.d,
                {
                  key: "sale_" + e.id + "_tpe_" + e.type,
                  onSelected: function () {
                    return n(e);
                  },
                },
                d.a.createElement(
                  "div",
                  null,
                  Object(f.f)(
                    "#Sale_Debug_ContextItem",
                    sr(e, Object(f.f)("#Sale_Debug_Unknown")),
                    e.type
                  )
                )
              );
            })
          );
        },
        ur = function (e) {
          var t,
            n = e.saleCapsule,
            a = e.list,
            i = e.tabList,
            r = e.sortList,
            o = l.c.GetEditModel(),
            s = o.GetCurEditLanguage(),
            c =
              Object(ve.a)(o.GetClanSteamID(), !1) ||
              (null === (t = o.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === t
                ? void 0
                : t.length) > 0;
          return d.a.createElement(
            "div",
            null,
            d.a.createElement(
              "div",
              null,
              Object(f.f)(
                "#Sale_Debug_MatchItem",
                sr(n, Object(f.f)("#Sale_Debug_Unknown")),
                n.type
              )
            ),
            d.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_AppearsIn")
            ),
            d.a.createElement(
              "ol",
              null,
              Boolean(a && a.length > 0)
                ? a.map(function (e) {
                    return d.a.createElement(
                      "li",
                      { key: e.unique_id },
                      Object(Ri.b)(
                        e,
                        s,
                        o,
                        o.GetSaleSectionIndexByID(e.unique_id),
                        !0
                      )
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            d.a.createElement(
              "div",
              null,
              Object(f.f)("#Sale_Debug_Tab_AppearsIn")
            ),
            d.a.createElement(
              "ol",
              null,
              Boolean(i && i.length > 0)
                ? i.map(function (e) {
                    return d.a.createElement(
                      "li",
                      { key: e.unique_id },
                      Object(rr.a)(e, s)
                    );
                  })
                : Object(f.f)("#Sale_Debug_NoMatchingItem")
            ),
            c &&
              d.a.createElement(
                d.a.Fragment,
                null,
                d.a.createElement(
                  "div",
                  null,
                  Object(f.f)("#Sale_Debug_SortTier_AppearsIn")
                ),
                d.a.createElement(
                  "ol",
                  null,
                  Boolean((null == r ? void 0 : r.length) > 0)
                    ? r.map(function (e) {
                        return d.a.createElement(
                          "li",
                          { key: "st" + e },
                          Object(f.f)("#Sale_Debug_Tier", e + 1)
                        );
                      })
                    : Object(f.f)("#Sale_Debug_NoMatchingItem")
                )
              )
          );
        };
      function pr(e) {
        return e.type + ":" + e.id;
      }
      function mr(e) {
        var t = e.split(":");
        return { type: t[0], id: parseInt(t[1]) };
      }
      var _r = function (e) {
          var t = Object(c.useState)(!1),
            n = t[0],
            a = t[1],
            i = Object(c.useState)(null),
            r = i[0],
            o = i[1],
            s = function () {
              return e.closeModal && e.closeModal();
            };
          Object(c.useEffect)(function () {
            var e = y.a.CancelToken.source();
            return (
              lr().then(function () {
                e.token.reason || a(!0);
              }),
              o(
                (function () {
                  var e,
                    t,
                    n = [],
                    a = new Map(),
                    i = l.c.GetEditModel(),
                    r = i.GetTabSaleSection();
                  return (
                    null === (e = null == r ? void 0 : r.tabs) ||
                      void 0 === e ||
                      e.forEach(function (e) {
                        var t,
                          i = {
                            type: "tab",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              (null === (t = e.localized_label) || void 0 === t
                                ? void 0
                                : t[0]) || e.default_label
                            ),
                          };
                        n.push(i),
                          e.capsules.forEach(function (t) {
                            var n = pr(t);
                            a.has(n) || a.set(n, new Set()),
                              a.get(n).add(e.unique_id);
                          });
                      }),
                    null === (t = i.GetEventModel().jsondata.sale_sections) ||
                      void 0 === t ||
                      t.forEach(function (e) {
                        if ("items" == e.section_type) {
                          var t = {
                            type: "section",
                            unique_id: e.unique_id,
                            strLabel: Object(f.f)(
                              Object(Xt.d)(e) ||
                                e.localized_label[0] ||
                                e.default_label
                            ),
                          };
                          n.push(t),
                            e.capsules.forEach(function (t) {
                              var n = pr(t);
                              a.has(n) || a.set(n, new Set()),
                                a.get(n).add(e.unique_id);
                            });
                        }
                      }),
                    { mapItemLocations: a, rgSections: n }
                  );
                })()
              ),
              function () {
                return e.cancel(
                  "SaleEventItemLocationCSVDownloadDialog: unmounting"
                );
              }
            );
          }, []);
          var u = null;
          if (r) {
            var p = r.rgSections.filter(function (e) {
                return "tab" == e.type;
              }).length,
              m = r.rgSections.length - p,
              g = r.mapItemLocations.size;
            u = Object(f.f)("#Sale_GameExport_ContentSummary", p, m, g);
          }
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(
              Te.h,
              { onEscKeypress: s },
              d.a.createElement(
                Me.f,
                null,
                d.a.createElement(
                  Me.k,
                  null,
                  Object(f.f)("#Sale_GameExport_Title")
                ),
                d.a.createElement(
                  Me.b,
                  null,
                  d.a.createElement(
                    Me.c,
                    null,
                    d.a.createElement(
                      "div",
                      null,
                      Object(f.f)("#Sale_GameExport_Desc")
                    )
                  ),
                  d.a.createElement(
                    Me.c,
                    null,
                    n
                      ? u
                      : d.a.createElement(_.a, {
                          position: "center",
                          string: Object(f.f)("#Sale_Debug_Loading"),
                          size: "medium",
                        })
                  )
                ),
                d.a.createElement(
                  Me.j,
                  null,
                  d.a.createElement(Me.n, {
                    onCancel: s,
                    bOKDisabled: !n,
                    strOKText: Object(f.f)("#Button_Save"),
                    onOK: function () {
                      for (
                        var e,
                          t = r.mapItemLocations,
                          n = r.rgSections,
                          a = [],
                          i = 0,
                          o = Array.from(t.keys());
                        i < o.length;
                        i++
                      ) {
                        var l = mr((h = o[i])),
                          c = void 0;
                        try {
                          c =
                            null === (e = Object(ar.h)(l)) || void 0 === e
                              ? void 0
                              : e.name;
                        } catch (e) {}
                        a.push([l.type + ": " + (c || l.id), h]);
                      }
                      a.sort();
                      for (
                        var u = [],
                          p = ["Item", "AppID", "Count"],
                          m = 0,
                          _ = n;
                        m < _.length;
                        m++
                      ) {
                        var g = _[m];
                        p.push(g.strLabel + " (" + g.type + ")");
                      }
                      u.push(p);
                      for (var E = 0, b = a; E < b.length; E++) {
                        for (
                          var v = b[E],
                            h = ((c = v[0]), v[1]),
                            S = t.get(h),
                            O = [
                              c,
                              (l = mr(h)).id.toString(),
                              S.size.toString(),
                            ],
                            y = 0,
                            C = n;
                          y < C.length;
                          y++
                        ) {
                          g = C[y];
                          O.push(S.has(g.unique_id) ? "1" : " ");
                        }
                        u.push(O);
                      }
                      var j = Bt.a.unparse(u, { header: !0 }),
                        T = "item_locations.csv";
                      !(function (e, t) {
                        var n = document.createElement("a");
                        if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
                        else {
                          var a = window.URL.createObjectURL(e);
                          n.href = a;
                        }
                        n.setAttribute("download", t), n.click();
                        try {
                          document.removeChild(n);
                        } catch (e) {}
                      })(new Blob([j], { type: "text/csv:charset=utf-8;" }), T),
                        Object(Ie.b)(
                          d.a.createElement(Te.d, {
                            strTitle: Object(f.f)("#Sale_GameExport_Title"),
                            bAlertDialog: !0,
                            strDescription: Object(f.f)(
                              "#Sale_GameExport_FileExported",
                              T
                            ),
                          }),
                          window
                        ),
                        s();
                    },
                  })
                )
              )
            )
          );
        },
        gr = Object(I.a)(function (e) {
          var t,
            n,
            i = function (e, t, n, a, i) {
              void 0 === a && (a = !1),
                e.push({
                  strLabel: t,
                  strSectionId: n,
                  style: i,
                  bIndent: a,
                  bSectionIsVisible: Oi.c.m_mapVisibleSections.has(n),
                });
            },
            r = e.editModel,
            o = r.GetEventModel(),
            l = new Array();
          if (
            (i(
              l,
              Object(f.f)("#Sale_PageConfigOptions"),
              "SalePageEdit_Config"
            ),
            (Object(ve.a)(r.GetClanSteamID(), !1) ||
              o.GetTaggedItems().length > 0) &&
              i(
                l,
                Object(f.f)(
                  "#Sale_TaggedItemsSection",
                  o.GetTaggedItems().length
                ),
                "SalePageEdit_TaggedItems"
              ),
            Object(ve.a)(r.GetClanSteamID(), !1) ||
              (null === (t = o.jsondata.sorting_tiers) || void 0 === t
                ? void 0
                : t.length) > 0)
          ) {
            var s =
              (null === (n = r.GetEventModel().jsondata.sorting_tiers) ||
              void 0 === n
                ? void 0
                : n.length) || 0;
            i(
              l,
              Object(f.f)("#Sale_SortingTiersSection", s),
              "SalePageEdit_SortingTiers"
            );
          }
          i(
            l,
            Object(f.f)("#Sale_Artwork_Sections"),
            "SalePageEdit_AllArtworkCtn"
          );
          var d = !1;
          return (
            o.GetSaleSections().forEach(function (e, t) {
              var n = Object(Ri.b)(e, r.GetCurEditLanguage(), r, t, !0),
                s = Object(a.a)(Object(a.a)({}, Object(Ri.a)(e, o)), {
                  color: e.label_color,
                }),
                c = "SaleSection_" + e.unique_id;
              i(l, n, c, d, s), "tabs" === e.section_type && (d = !0);
            }),
            c.createElement(
              ke.a,
              null,
              c.createElement(er, {
                elTopContent: c.createElement(rt, { editModel: e.editModel }),
                strHeader: Object(f.f)("#Sale_TOC"),
                rows: l,
                onSelected: function (t) {
                  e.onSelected && e.onSelected(t);
                },
                elBottomContent: c.createElement(Er, {
                  editModel: e.editModel,
                }),
              })
            )
          );
        }),
        Er = function (e) {
          var t = e.editModel,
            n = Object(G.k)(function () {
              var e = Object(a.a)(Object(a.a)({}, D.h), {
                  unique_id: t.GenerateSaleSectionUniqueID(),
                }),
                n = t.GetEventModel().jsondata.sale_sections.slice(-1)[0];
              n &&
                ((e.label_color = n.label_color),
                (e.background_gradient_bottom = n.background_gradient_bottom),
                (e.background_gradient_top = n.background_gradient_top)),
                t.GetEventModel().jsondata.sale_sections.push(e),
                t.SetDirty(T.c.jsondata_sales);
              var i = document.getElementById(
                "sale_editor_button_after_all_sections"
              );
              i && i.scrollIntoView();
            });
          return c.createElement(
            Me.q,
            { onClick: n, className: k.AddSectionButton },
            Object(f.f)("#Sale_AddNewSection")
          );
        };
      function br(e) {
        var t = l.c.GetEditModel();
        return c.createElement(
          "div",
          { className: H.BottomBarControls },
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_Debug_Tooltip") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    return Object(Ie.d)(
                      c.createElement(or, null),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_Debug_Title")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_GameExport_Desc") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    return Object(Ie.d)(
                      c.createElement(_r, null),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_GameExport_Title")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.ReoderSections },
            c.createElement(
              He.a,
              { toolTipContent: Object(f.f)("#Sale_ReorderSections_ttip") },
              c.createElement(
                Me.d,
                {
                  onClick: function (e) {
                    Object(Ie.d)(
                      c.createElement(vr, { editModel: t }),
                      Object(Fe.m)(e)
                    );
                  },
                },
                Object(f.f)("#Sale_ReorderSections")
              )
            )
          ),
          c.createElement(
            "div",
            { className: H.MinimizeAll },
            c.createElement(
              He.a,
              {
                toolTipContent: Object(f.f)(
                  "#Sale_Section_MinimizeAll_Tooltip"
                ),
              },
              c.createElement(
                Me.d,
                { onClick: hi.c },
                Object(f.f)("#Sale_Section_MinimizeAll")
              )
            )
          )
        );
      }
      function vr(e) {
        var t = e.editModel,
          n = e.closeModal,
          i = c.useState(Object(a.g)(t.GetSaleSections())),
          r = i[0],
          o = i[1],
          l = function () {
            (t.GetEventModel().jsondata.sale_sections = r),
              t.SetDirty(T.c.jsondata_sales),
              n();
          };
        return c.createElement(
          Te.e,
          {
            onOK: l,
            closeModal: n,
            bDisableBackgroundDismiss: !0,
            bAllowFullSize: !0,
            className: $.NotTooWideModal,
          },
          c.createElement(Me.k, null, Object(f.f)("#Sale_ReorderSections")),
          c.createElement(
            Me.b,
            null,
            c.createElement(
              "div",
              { className: H.ReorderSectionCtn },
              c.createElement(
                "div",
                { className: H.SectionList },
                c.createElement(Qn.a, {
                  items: r,
                  onMove: function (e, t) {
                    var n = Object(a.g)(r);
                    Object(yn.d)(n, e, t), o(n);
                  },
                  render: function (e) {
                    var n = t.GetSaleSections().findIndex(function (t) {
                        return e === t;
                      }),
                      i = Object(a.a)(
                        Object(a.a)({}, Object(Ri.a)(e, t.GetEventModel())),
                        { color: e.label_color }
                      );
                    return c.createElement(
                      "div",
                      { className: H.SectionTitle, style: i },
                      Object(Ri.b)(e, t.GetCurEditLanguage(), t, n, !0)
                    );
                  },
                })
              ),
              c.createElement(
                "div",
                { className: H.OKButton },
                c.createElement(
                  Me.q,
                  { onClick: l },
                  Object(f.f)("#Sale_TagFilter_OK")
                )
              )
            )
          )
        );
      }
      function hr(e) {
        var t = e.editModel;
        Object(c.useEffect)(
          function () {
            hi.b.Get().EnsureLoaded(t),
              !hi.b.Get().BHasExplicitSettings(t) &&
                t.GetSaleSectionCount() > 10 &&
                Object(hi.c)();
          },
          [t]
        );
        var n = t.GetEventModel().jsondata,
          a = Object(lt.d)(function () {
            return [
              n.sale_custom_css,
              n.sale_vanity_id_valve_approved_for_sale_subpath,
              t.GetEventModel().GetSaleSections().length,
            ];
          }),
          i = a[0],
          r = a[1],
          o = a[2];
        return c.createElement(
          "div",
          { className: Object(N.a)(Si.SaleContainer, "SaleContainer") },
          c.createElement(qi, null),
          c.createElement(ci, {
            clanSteamID: t.GetClanSteamID(),
            gidClanEvent: t.GetGID(),
          }),
          c.createElement(Ti, null),
          c.createElement(
            "div",
            { className: k.EventEditorTextTitleCtn },
            c.createElement(
              "span",
              { className: k.EventEditorTextTitle },
              Object(f.f)("#Sale_title")
            ),
            c.createElement(
              bn.b,
              {
                href: m.c.PARTNER_BASE_URL + "doc/resources/Sales_Feature_Beta",
                className: Object(N.a)(k.doclink),
              },
              c.createElement(
                "span",
                null,
                Object(f.f)("#Broadcast_documentation")
              )
            )
          ),
          c.createElement(
            ji,
            null,
            c.createElement(
              "div",
              null,
              c.createElement(br, null),
              c.createElement(gr, {
                editModel: t,
                onSelected: function (e) {
                  Object(hi.a)(e.strSectionId) && Object(hi.d)(e.strSectionId);
                },
              }),
              Oi.c.WrapWithNavWaypoint(
                "SalePageEdit_Config",
                c.createElement(Fi, { strToggleID: "SalePageEdit_Config" })
              ),
              Oi.c.WrapWithNavWaypoint(
                "SalePageEdit_TaggedItems",
                c.createElement(
                  Oi.b,
                  {
                    strToggleName: "SalePageEdit_TaggedItems",
                    strToolTip: Object(f.f)("#Sale_TagFilter_SectionTooltip"),
                    strTitle: Object(f.f)(
                      "#Sale_TaggedItemsSection",
                      t.GetEventModel().GetTaggedItems().length
                    ),
                  },
                  c.createElement(Xi.e, { editModel: t })
                )
              ),
              c.createElement(Qi, { editModel: t }),
              c.createElement(yi, { editModel: t }),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    k.EventEditorTextTitle,
                    Si.CustomSectionsTitle
                  ),
                },
                Object(f.f)("#Sale_Sections_Title")
              ),
              0 == o
                ? c.createElement(fr, null)
                : t
                    .GetEventModel()
                    .GetSaleSections()
                    .map(function (e, n) {
                      var a,
                        i = "SaleSection_" + e.unique_id;
                      return Oi.c.WrapWithNavWaypoint(
                        i,
                        c.createElement(Ri.e, {
                          key:
                            "salesection_" +
                            (null !== (a = e.unique_id) && void 0 !== a
                              ? a
                              : n),
                          index: n,
                          saleSection: e,
                          editModel: t,
                          editLanguage: t.GetCurEditLanguage(),
                        })
                      );
                    }),
              c.createElement(
                "div",
                {
                  id: "sale_editor_button_after_all_sections",
                  className: Si.AddSectionBtnCtn,
                },
                c.createElement(
                  "div",
                  { className: k.SaleSectionHeader },
                  Object(f.f)("#Sale_AddNewSection_Title")
                ),
                c.createElement(
                  "p",
                  null,
                  Object(f.f)("#Sale_AddNewSection_Desc")
                ),
                c.createElement(Er, { editModel: t })
              ),
              c.createElement(Sr, null),
              c.createElement(
                ve.b,
                { clanSteamID: t.GetClanSteamID() },
                Boolean(r)
                  ? c.createElement(
                      "div",
                      { className: Si.SettingCtn },
                      c.createElement(
                        "p",
                        null,
                        "(VO) Add custom CSS which is only added to the store's sale page header. Please include nocache=1 in url when viewing your latest changes on the store. Avoid targeting the generated class names like 'broadcast_embeddable_Event_1A0NY' as the 1A0NY is programmatically generated and can be changed by the compiler with future props."
                      ),
                      c.createElement("textarea", {
                        value: i || "",
                        cols: 120,
                        rows: 10,
                        onChange: function (e) {
                          t.GetEventModel().jsondata.sale_custom_css !=
                            e.currentTarget.value &&
                            ((t.GetEventModel().jsondata.sale_custom_css =
                              e.currentTarget.value),
                            t.SetDirty(T.c.jsondata_sales));
                        },
                      })
                    )
                  : c.createElement(
                      "div",
                      { className: Si.SettingCtn },
                      c.createElement(
                        "p",
                        null,
                        "The custom CSS editor is disabled. The sale page needs to be setup to use store/sale. This is a Valve Only setting found in the General Configuration Section"
                      )
                    )
              )
            )
          )
        );
      }
      function fr(e) {
        return c.createElement(
          "div",
          {
            id: "NoSaleSections",
            className: Object(N.a)(Si.SaleSection, Si.InEditor),
          },
          c.createElement(
            "div",
            { className: k.SaleSectionHeader },
            Object(f.f)("#Sale_SectionListPlaceholder_Header")
          ),
          c.createElement(
            "div",
            null,
            Object(f.f)("#Sale_SectionListPlaceholder_Content")
          )
        );
      }
      function Sr(e) {
        var t = l.c.GetEditModel(),
          n = t.GetEventModel().jsondata,
          a = Object(lt.d)(function () {
            return [
              n.sale_browsemore_url,
              n.sale_browsemore_color,
              n.sale_browsemore_bgcolor,
              n.sale_browse_more_button,
            ];
          }),
          i = a[0],
          r = a[1],
          o = a[2],
          s = a[3],
          d = function (e, n) {
            (t.GetEventModel().jsondata[n] = e), t.SetDirty(T.c.jsondata_sales);
          };
        return c.createElement(
          ve.b,
          { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
          c.createElement(
            "div",
            { className: Si.SettingCtn },
            c.createElement(
              "div",
              { className: Si.Title },
              Object(f.f)("#Sale_BrowseMore")
            ),
            c.createElement(Me.p, {
              onChange: function (e) {
                (t.GetEventModel().jsondata.sale_browse_more_button = e),
                  t.SetDirty(T.c.jsondata_sales);
              },
              label: Object(f.f)("#Sale_BrowseMore_Desc"),
              checked: s,
            }),
            s &&
              c.createElement(
                "div",
                null,
                c.createElement(Me.l, {
                  type: "text",
                  label: Object(f.f)("#Sale_BrowseMore_URL"),
                  name: "sale_browsemore_url",
                  placeholder: Object(f.f)("#Sale_BrowseMore_URL"),
                  value: i,
                  onChange: function (e) {
                    (t.GetEventModel().jsondata[e.target.name] =
                      e.target.value),
                      t.SetDirty(T.c.jsondata_sales);
                  },
                }),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      Object(In.a)(
                        c.createElement(Mn.a, {
                          onChange: function (e) {
                            return d(e, "sale_browsemore_color");
                          },
                          color: r,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: k.EventEditorTextTitle,
                    style: { color: r, backgroundColor: o },
                  },
                  Object(f.f)("#Sale_Section_Label_Color")
                ),
                c.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      var n = t.GetEventModel().jsondata,
                        a =
                          (n.sale_browsemore_color, n.sale_browsemore_bgcolor);
                      Object(In.a)(
                        c.createElement(Mn.a, {
                          onChange: function (e) {
                            return d(e, "sale_browsemore_bgcolor");
                          },
                          color: a,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: k.EventEditorTextTitle,
                    style: { color: r, backgroundColor: o },
                  },
                  Object(f.f)("#Sale_Section_Background_Color")
                ),
                c.createElement(Xt.b, {
                  text: Object(f.f)("#Sale_SeeAllSpecials"),
                  url: "",
                  color: r,
                  bgcolor: o,
                })
              )
          )
        );
      }
      var Or = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_cancelSignal = y.a.CancelToken.source()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              m.b.IS_CURATOR &&
                _e.a.LoadCreatorHome(
                  this.props.clanSteamID,
                  this.m_cancelSignal
                );
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "Partner Events editor input pane unmounted"
              );
            }),
            (t.prototype.BCanOnlyUploadBecauseSupportUser = function () {
              var e = _e.a.GetCreatorHome(this.props.clanSteamID);
              return (
                !!(
                  m.i.is_support &&
                  m.b.CAN_UPLOAD_IMAGES &&
                  m.b.IS_CURATOR &&
                  e
                ) &&
                !(
                  e.BHasClanAccountFlagSet(2) ||
                  e.BHasClanAccountFlagSet(1) ||
                  e.BHasClanAccountFlagSet(4) ||
                  e.GetNumFollowers() >= 15e3
                )
              );
            }),
            (t.prototype.BIsSalePageFeatureVisible = function () {
              if (l.c.GetEditModel().GetEventModel().BHasSaleEnabled())
                return !0;
              var e = _e.a.GetCreatorHome(this.props.clanSteamID);
              return !(!e || !e.BHasClanAccountFlagSet(32));
            }),
            (t.prototype.render = function () {
              var e,
                t = l.c.GetEditModel(),
                n = t.GetEventModel(),
                a = !v.a.Get().BShowEmailEditorTab(t.GetEventModel()),
                i = !v.a.Get().BShowSaleEditorTab(t.GetEventModel());
              m.b.IS_CREATOR_HOME && (i = !1);
              var r = v.a.Get().GetPartnerEventPermissions(n.clanSteamID),
                o = t.GetDescriptionCompletion(),
                s = t.GetOptionsCompletion(),
                d = 12 === t.GetEventType() ? void 0 : t.GetArtworkCompletion(),
                u = t.GetSaleTabCompletion(),
                p = n.clanSteamID;
              h.a.LoadClanInfoForClanSteamID(p);
              var _ = Boolean(
                  null ===
                    (e = h.a.GetClanInfoByClanAccountID(p.GetAccountID())) ||
                    void 0 === e
                    ? void 0
                    : e.has_rss_feed
                ),
                g = function (e) {
                  return window.sessionStorage.setItem(
                    "editorCurrentTab",
                    "?tab=" + e.key
                  );
                },
                E = [
                  {
                    name: Object(f.f)("#EventEditor_Description_tab"),
                    key: "description",
                    status: o.text,
                    statusType: o.complete >= o.total ? "success" : "danger",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement($n, {
                        editModel: t,
                        bInitiatePublishDialog: this.props
                          .bInitiatePublishDialog,
                        bCanManuallyTagAssociatedApps: _,
                      })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#EventEditor_Options_Title"),
                    key: "options",
                    status: s ? s.text : "",
                    statusType:
                      s && s.complete >= s.total ? "success" : "danger",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Qa, { editModel: t }),
                      c.createElement("div", { className: L.a.ClearThings })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#EventEditor_Artwork"),
                    key: "artwork",
                    status: d ? d.text : "",
                    statusType:
                      d && d.complete >= d.total ? "success" : "danger",
                    hidden: !m.b.CAN_UPLOAD_IMAGES,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(Tr, { editModel: t }),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#Broadcast_tab"),
                    key: "broadcast",
                    status: "",
                    statusType: "success",
                    hidden: !m.b.CAN_UPLOAD_IMAGES,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Nn, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name:
                      (n.BHasEmailEnabled() ? "" : "(VO) ") +
                      Object(f.f)("#EventEmail_TabTitle"),
                    key: "email",
                    status: "",
                    statusType: "success",
                    hidden: a,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Ia, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name:
                      (this.BIsSalePageFeatureVisible() ? "" : "(VO) ") +
                      Object(f.f)("#Sale_TabTitle"),
                    key: "sale",
                    status: u ? u.text : "",
                    statusType:
                      u && u.complete >= u.total ? "success" : "danger",
                    statusToolTip: null == u ? void 0 : u.ttip,
                    hidden: i,
                    vo_warning:
                      this.BCanOnlyUploadBecauseSupportUser() &&
                      Object(f.f)("#EventEditor_CuratorImageWarning"),
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(hr, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: Object(f.f)("#Button_Publish"),
                    key: "publishing",
                    status: "",
                    statusType: "success",
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(Ei, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: "(VO) Debug",
                    key: "debug",
                    status: "",
                    statusType: "success",
                    hidden: !r.valve_admin,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(sn, { editModel: t })
                    ),
                    onClick: g,
                  },
                  {
                    name: "(VO) Solr",
                    key: "solr",
                    status: "",
                    statusType: "success",
                    hidden: !r.valve_admin || !n.GID,
                    contents: c.createElement(
                      ke.a,
                      null,
                      c.createElement(dn, { editModel: t })
                    ),
                    onClick: g,
                  },
                ];
              return c.createElement(
                "div",
                { className: V.a.EventEditorInputPaneContainer },
                c.createElement(
                  "div",
                  { className: V.a.EventEditorInputPaneContents },
                  c.createElement(mn.a, { tabs: E }),
                  c.createElement("div", { className: L.a.ClearThings })
                ),
                c.createElement(
                  "div",
                  { className: Object(N.a)(L.a.SaveBackground) },
                  c.createElement(Vn, null)
                )
              );
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        yr =
          (c.Component,
          Object(I.a)(function (e) {
            Object(c.useEffect)(
              function () {
                h.a.LoadOGGClanInfoForIdentifier(e.appid_or_vanity_str);
              },
              [e.appid_or_vanity_str]
            );
            var t = e.clanSteamID,
              n = e.gid,
              a = e.appid,
              i = e.bInitiatePublishDialog,
              r = e.appid_or_vanity_str,
              s = !(m.b.IS_CREATOR_HOME || m.b.IS_CURATOR)
                ? u.a.GetStoreCapsuleInfo(a).GetAppStoreData().title
                : m.b.VANITY_ID,
              d = l.c.GetEditModel(),
              p = d.GetEventModel().bOldAnnouncement;
            return c.createElement(
              "div",
              { className: Object(N.a)(V.a.wrapper) },
              c.createElement(Hn, {
                clanSteamID: t,
                appid: a,
                gid: n,
                appid_or_vanity_str: r,
              }),
              c.createElement(
                "div",
                {
                  className: Object(N.a)(
                    L.a.FlexColumnContainer,
                    V.a.EventEditBelowTopBarContainer
                  ),
                },
                c.createElement(
                  "div",
                  { className: V.a.EventEditBelowTopBarGameName },
                  s
                ),
                c.createElement(
                  me.b,
                  {
                    className: V.a.EventEditBelowTopBarCategoryChoice,
                    to: p
                      ? o.a.MigrateCategory(
                          d.GetStrVanityOrAppID(),
                          d.GetAnnouncementGID()
                        )
                      : o.a.Category(
                          d.GetStrVanityOrAppID(),
                          d.BHasGid() ? d.GetGID() : ""
                        ),
                  },
                  c.createElement(
                    "span",
                    null,
                    Object(f.f)("#EventEditor_TypeTitle"),
                    " "
                  ),
                  d.GetCategoryAsString(),
                  c.createElement("img", { src: gn.a })
                ),
                c.createElement("div", null)
              ),
              c.createElement(
                "div",
                { className: V.a.maincontent },
                c.createElement(Or, {
                  appid_or_vanity_str: r,
                  appid: a,
                  gid: n,
                  bInitiatePublishDialog: i,
                  clanSteamID: t,
                })
              ),
              c.createElement("div", null)
            );
          })),
        Cr = S(
          (function (e) {
            function t() {
              var t = (null !== e && e.apply(this, arguments)) || this;
              return (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)), t;
            }
            return (
              Object(a.d)(t, e),
              (t.prototype.render = function () {
                return c.createElement(yr, {
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  appid: m.b.APPID,
                  gid: this.props.match.params.gid,
                  clanSteamID: this.m_clanSteamID,
                  bInitiatePublishDialog: this.props.bInitiatePublishDialog,
                });
              }),
              (t = Object(a.c)([I.a], t))
            );
          })(c.Component)
        ),
        jr = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.m_bRedirect = !1),
              (n.m_bRedirect =
                void 0 === l.c.GetEditModel() ||
                1 == l.c.GetEditModel().GetCategoryAsType()),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              return this.m_bRedirect
                ? c.createElement(pe.b, {
                    to: o.a.Category(
                      this.props.match.params.appid_or_vanity_str,
                      ""
                    ),
                  })
                : c.createElement(Cr, Object(a.a)({}, this.props));
            }),
            t
          );
        })(c.Component);
      function Tr(e) {
        var t = e.editModel,
          n = ["background", "capsule"];
        return (
          Boolean(m.b.IS_OGG) && 34 != t.GetEventType() && n.push("spotlight"),
          c.createElement(
            ke.a,
            null,
            c.createElement(
              "div",
              { className: V.a.ArtworkTipsCtn },
              c.createElement(
                "div",
                { className: V.a.ArtworkTips },
                c.createElement(
                  "p",
                  null,
                  c.createElement(
                    "strong",
                    null,
                    Object(f.f)("#selectimage_tip3_title")
                  ),
                  ": ",
                  Object(f.n)(
                    "#selectimage_tip3",
                    c.createElement(
                      "span",
                      null,
                      c.createElement("br", null),
                      c.createElement(
                        "a",
                        {
                          target: m.c.IN_CLIENT ? void 0 : "_blank",
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                        },
                        Object(f.f)("#selectimage_see_documentation")
                      )
                    )
                  )
                ),
                c.createElement(
                  "p",
                  null,
                  c.createElement(
                    "a",
                    {
                      href:
                        m.c.IMG_URL + "events/event_header_template.zip?t=14",
                      download: !0,
                    },
                    Object(f.f)("#selectimage_downloadtemplate")
                  )
                )
              ),
              c.createElement(
                "a",
                {
                  href:
                    "https://partner.steamgames.com/doc/marketing/event_tools/event_examples",
                  className: V.a.ArtworkDocs,
                  target: m.c.IN_CLIENT ? void 0 : "_blank",
                },
                c.createElement(
                  "div",
                  { className: V.a.ArtworkExampleCtn },
                  c.createElement("img", {
                    className: V.a.ArtworkExampleThumbnail,
                    src: m.c.IMG_URL + "events/thumb_library_home.jpg",
                  })
                ),
                c.createElement(
                  "div",
                  { className: V.a.ArtworkExampleTitle },
                  Object(f.f)("#selectimage_viewExamples")
                )
              )
            ),
            c.createElement(En.b, {
              clanSteamID: t.GetClanSteamID(),
              rgSupportArtwork: n,
              fnSetImageURL: t.SetImageURL,
              rgRealmList: t.GetIncludedRealmList(),
            }),
            c.createElement(On.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(f.f)("#EventEditor_ArtworkType_capsule"),
              artworkType: "capsule",
              headerHint: Object(B.c)(
                t.GetEventType(),
                t.GetEventModel().vecTags
              )
                ? On.a.k_Required
                : void 0,
              elEventArtworkExample: c.createElement(fn, {
                artworkType: "capsule",
              }),
            }),
            c.createElement(On.b, {
              clanSteamID: t.GetClanSteamID(),
              title: Object(f.f)("#EventEditor_ArtworkType_background"),
              artworkType: "background",
              headerHint: On.a.k_Suggested,
              elEventArtworkExample: c.createElement(fn, {
                artworkType: "background",
              }),
            }),
            Boolean(34 == t.GetEventType())
              ? c.createElement(
                  "div",
                  { className: hn.a.ArtworkSelectorContainer },
                  c.createElement(
                    "div",
                    { className: hn.a.Title },
                    Object(f.f)("#EventEditor_ArtworkType_spotlight")
                  ),
                  c.createElement(
                    "div",
                    {
                      className: Object(N.a)(hn.a.SelectImageBlock, hn.a.Tips),
                    },
                    Object(f.f)(
                      "#EventEditor_ArtworkType_SpotlightNotSupport",
                      t.GetCategoryAsString()
                    )
                  ),
                  c.createElement("br", null)
                )
              : Boolean(m.b.IS_OGG) &&
                  c.createElement(On.b, {
                    clanSteamID: t.GetClanSteamID(),
                    title: Object(f.f)("#EventEditor_ArtworkType_spotlight"),
                    artworkType: "spotlight",
                    headerHint: Object(B.d)(t.GetEventType())
                      ? On.a.k_Suggested
                      : void 0,
                    elEventArtworkExample: c.createElement(fn, {
                      artworkType: "spotlight",
                    }),
                  }),
            Boolean(m.b.IS_OGG) &&
              c.createElement(On.b, {
                clanSteamID: t.GetClanSteamID(),
                title: Object(f.f)("#EventEditor_ArtworkType_hero"),
                artworkType: "hero",
              })
          )
        );
      }
      var Ir = "age_gate_",
        Dr = new ((function () {
          function e() {
            (this.m_promiseMap = new Map()),
              (this.m_mapAppIDAgeGateByPass = new Map());
          }
          return (
            (e.prototype.GetAppIDBypassed = function (e) {
              if (!this.m_mapAppIDAgeGateByPass.has(e)) {
                var t = sessionStorage.getItem(Ir + e);
                this.m_mapAppIDAgeGateByPass.set(e, Boolean(t));
              }
              return this.m_mapAppIDAgeGateByPass.get(e);
            }),
            (e.prototype.SetAgeGateAppBypass = function (e, t, n) {
              return Object(a.b)(this, void 0, void 0, function () {
                var i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        sessionStorage.setItem(Ir + e, "" + t),
                        (i =
                          m.c.COMMUNITY_BASE_URL +
                          "actions/ajaxsetappagegatebypass/"),
                        (r = new URLSearchParams()).append(
                          "sessionid",
                          m.c.SESSIONID
                        ),
                        r.append("appid", "" + e),
                        r.append("bypass", t ? "1" : "0"),
                        [
                          4,
                          y.a.post(i, r, {
                            withCredentials: !0,
                            cancelToken: n.token,
                          }),
                        ]
                      );
                    case 1:
                      return [2, a.sent().data.success];
                  }
                });
              });
            }),
            (e.prototype.LoadAgeGatesBypassedForApp = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (n) {
                  return (
                    this.m_promiseMap.has(e) ||
                      this.m_promiseMap.set(
                        e,
                        this.InternalLoadAgeGatesBypassedForApp(e, t)
                      ),
                    [2, this.m_promiseMap.get(e)]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadAgeGatesBypassedForApp = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (n =
                          m.c.COMMUNITY_BASE_URL +
                          "my/ajaxgetappagegatesbypassed/"),
                        (i = { sessionid: m.c.SESSIONID, appids: [e] }),
                        [
                          4,
                          y.a.get(n, {
                            params: i,
                            withCredentials: !0,
                            cancelToken: t.token,
                          }),
                        ]
                      );
                    case 1:
                      return (
                        (r = a.sent()).data.apps &&
                          Object(G.G)(function () {
                            r.data.apps.forEach(function (t) {
                              var n = Boolean(t.bypassed);
                              o.m_mapAppIDAgeGateByPass.set(t.appid, n),
                                sessionStorage.setItem(Ir + e, "" + n);
                            });
                          }),
                        [2, Boolean(this.m_mapAppIDAgeGateByPass.get(e))]
                      );
                  }
                });
              });
            }),
            (e.prototype.SessionByPassCheck = function (e) {
              this.m_mapAppIDAgeGateByPass.set(e, !0),
                sessionStorage.setItem(Ir + e, "" + !0);
            }),
            e
          );
        })())(),
        wr = "community_preference_storage",
        Gr = new ((function () {
          function e() {
            if (
              ((this.m_myCommunityPreferences = Object(G.C)({
                hide_adult_content_violence: !0,
                hide_adult_content_sex: !0,
                parenthesize_nicknames: !1,
                timestamp_updated: 0,
              })),
              localStorage.length > 0)
            ) {
              var e = JSON.parse(localStorage.getItem(wr));
              e && (this.BIsStale(e) || this.CopyValue(e));
            }
          }
          return (
            (e.prototype.BIsStale = function (e) {
              var t = Math.floor(Date.now() / 1e3);
              return e.timestamp_updated < t - 3600;
            }),
            (e.prototype.CopyValue = function (e) {
              var t = this;
              Object(G.G)(function () {
                (t.m_myCommunityPreferences.hide_adult_content_sex =
                  e.hide_adult_content_sex),
                  (t.m_myCommunityPreferences.hide_adult_content_violence =
                    e.hide_adult_content_violence),
                  (t.m_myCommunityPreferences.parenthesize_nicknames =
                    e.parenthesize_nicknames),
                  (t.m_myCommunityPreferences.timestamp_updated =
                    e.timestamp_updated);
              });
            }),
            (e.prototype.InternalLoadMyCommunityPreferences = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  r = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return m.i.logged_in &&
                        this.BIsStale(this.m_myCommunityPreferences)
                        ? ((t =
                            m.c.COMMUNITY_BASE_URL +
                            "my/ajaxgetcommunitypreference/"),
                          (n = { sessionid: m.c.SESSIONID }),
                          [
                            4,
                            y.a.get(t, {
                              params: n,
                              withCredentials: !0,
                              cancelToken: e ? e.token : void 0,
                            }),
                          ])
                        : [3, 2];
                    case 1:
                      (i = a.sent()),
                        Object(G.G)(function () {
                          r.CopyValue(i.data.preferences),
                            (r.m_myCommunityPreferences.timestamp_updated = Math.floor(
                              Date.now() / 1e3
                            )),
                            localStorage.setItem(
                              wr,
                              JSON.stringify(r.m_myCommunityPreferences)
                            );
                        }),
                        (a.label = 2);
                    case 2:
                      return [2, this.m_myCommunityPreferences];
                  }
                });
              });
            }),
            (e.prototype.LoadMyCommunityPreferences = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (t) {
                  return (
                    this.m_promise ||
                      (this.m_promise = this.InternalLoadMyCommunityPreferences(
                        e
                      )),
                    [2, this.m_promise]
                  );
                });
              });
            }),
            (e.prototype.GetCommunityPreference = function () {
              return (
                this.m_promise ||
                  (this.m_promise = this.InternalLoadMyCommunityPreferences()),
                this.m_myCommunityPreferences
              );
            }),
            e
          );
        })())(),
        Ar = n("wYOC"),
        Mr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bDontWarnAgain: !1,
                bLoadingUserSettings: m.i.logged_in,
                bSettingBypass: !1,
              }),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.BIsAgeGateNeeded = function (e) {
              if (Dr.GetAppIDBypassed(e)) return !1;
              if (m.b.HAS_ADULT_CONTENT_SEX || m.b.HAS_ADULT_CONTENT_VIOLENCE) {
                var t = Gr.GetCommunityPreference();
                return (
                  (m.b.HAS_ADULT_CONTENT_SEX && t.hide_adult_content_sex) ||
                  (m.b.HAS_ADULT_CONTENT_VIOLENCE &&
                    t.hide_adult_content_violence)
                );
              }
              return m.b.HAS_ADULT_CONTENT;
            }),
            (t.prototype.componentDidMount = function () {
              var e = this.props,
                t = e.bHasAdultContent,
                n = e.bHasAdultContentViolence,
                a = e.bHasAdultContentSex;
              (t || a || n) && this.LoadUserCommunityVisibilityPreferences();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "CommunityAgeGate component unmounted"
              );
            }),
            (t.prototype.LoadUserCommunityVisibilityPreferences = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, n, i, r, o, l, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, 3, 4]),
                        (e = this.props),
                        (n = e.onSetOverrideCancelSource),
                        (i = e.appid),
                        (r = e.fnOnDismissAgeGate),
                        (o = Gr.LoadMyCommunityPreferences(n)),
                        (l = Dr.LoadAgeGatesBypassedForApp(i, n)),
                        [4, Promise.all([o, l])]
                      );
                    case 1:
                      return (
                        a.sent(),
                        this.m_cancelSignal.token.reason ||
                          t.BIsAgeGateNeeded(i) ||
                          r(),
                        [3, 4]
                      );
                    case 2:
                      return (
                        (s = a.sent()),
                        (c = Object(p.a)(s)),
                        console.error(
                          "CommunityAgeGate.LoadUserCommunityVisibilityPreferences: " +
                            c.strErrorMsg,
                          c
                        ),
                        [3, 4]
                      );
                    case 3:
                      return (
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bLoadingUserSettings: !1 }),
                        [7]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnWarnChange = function (e) {
              var t = this,
                n = e.target.checked;
              this.setState(
                { bDontWarnAgain: n, bSettingBypass: !0 },
                function () {
                  return t.HandleOverrideSetting(n);
                }
              );
            }),
            (t.prototype.HandleOverrideSetting = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, r, o, l;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = this.props),
                        (n = t.appid),
                        (i = t.onSetOverrideCancelSource),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, 4, 5]),
                        [4, Dr.SetAgeGateAppBypass(n, e, i)]
                      );
                    case 2:
                      return (
                        1 !== (r = a.sent()) &&
                          console.error(
                            "CommunityAgeGate.HandleOverrideSetting: " + r
                          ),
                        [3, 5]
                      );
                    case 3:
                      return (
                        (o = a.sent()),
                        (l = Object(p.a)(o)),
                        console.error("CommunityAgeGate: " + l.strErrorMsg, l),
                        [3, 5]
                      );
                    case 4:
                      return (
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bSettingBypass: !1 }),
                        [7]
                      );
                    case 5:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnDismiss = function () {
              var e = this.props.appid;
              Dr.SessionByPassCheck(e), this.props.fnOnDismissAgeGate();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = (e.appid, e.bHasAdultContent),
                n = e.bHasAdultContentViolence,
                a = e.bHasAdultContentSex,
                i = e.strUrlHeaderImage;
              if (t || a || n)
                return d.a.createElement(
                  "div",
                  { className: Ar.adult_content_age_gate },
                  i.length > 0
                    ? d.a.createElement("img", {
                        className: Ar.header_image,
                        src: i,
                      })
                    : d.a.createElement("h2", null, m.b.APP_NAME),
                  d.a.createElement(
                    "p",
                    { className: Ar.descriptor },
                    Object(f.f)("#AgeGate_Content"),
                    d.a.createElement("br", null),
                    n &&
                      a &&
                      Object(f.n)(
                        "#AgeGate_MayContain_4",
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Sex")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Nudity")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Violence")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Gore")
                        )
                      ),
                    Boolean(!n && a) &&
                      Object(f.n)(
                        "#AgeGate_MayContain_2",
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Sex")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Nudity")
                        )
                      ),
                    Boolean(n && !a) &&
                      Object(f.n)(
                        "#AgeGate_MayContain_2",
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Violence")
                        ),
                        d.a.createElement(
                          "span",
                          { className: Ar.strong },
                          Object(f.f)("#AgeGate_Gore")
                        )
                      ),
                    Boolean(t && !a && !n) &&
                      d.a.createElement(
                        d.a.Fragment,
                        null,
                        Object(f.f)("#AgeGate_Generic1"),
                        d.a.createElement("br", null),
                        Object(f.f)("#AgeGate_Generic2")
                      )
                  ),
                  d.a.createElement("input", {
                    className: Ar.checkbox,
                    type: "checkbox",
                    id: "ViewAllForApp",
                    checked: this.state.bDontWarnAgain,
                    onChange: this.OnWarnChange,
                  }),
                  d.a.createElement(
                    "label",
                    { htmlFor: "ViewAllForApp" },
                    this.state.bSettingBypass &&
                      d.a.createElement(_.a, { size: "small" }),
                    d.a.createElement(
                      "span",
                      null,
                      Object(f.f)("#AgeGate_DontWarnMe", m.b.APP_NAME)
                    )
                  ),
                  d.a.createElement(
                    "div",
                    {
                      className: Object(N.a)(k.FlexRowContainer, Ar.ButtonRow),
                    },
                    d.a.createElement(
                      "div",
                      { className: k.Button, onClick: this.OnDismiss },
                      Object(f.f)("#Button_ViewPage")
                    ),
                    d.a.createElement(
                      "a",
                      { className: k.Button, href: m.c.COMMUNITY_BASE_URL },
                      Object(f.f)("#Button_Cancel")
                    )
                  ),
                  d.a.createElement(
                    "div",
                    { className: Ar.edit_preference },
                    d.a.createElement(
                      "div",
                      null,
                      Object(f.f)("#AgeGate_Reason")
                    ),
                    d.a.createElement(
                      "a",
                      {
                        className: Ar.edit_link,
                        href:
                          m.c.STORE_BASE_URL +
                          "account/preferences#CommunityContentPreferences",
                        target: m.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(f.f)("#AgeGate_Edit")
                    )
                  ),
                  this.state.bLoadingUserSettings &&
                    d.a.createElement(_.a, {
                      position: "center",
                      string: Object(f.f)("#AgeGate_LoadingPreferences"),
                    })
                );
            }),
            Object(a.c)([R.a], t.prototype, "OnWarnChange", null),
            Object(a.c)([R.a], t.prototype, "OnDismiss", null),
            t
          );
        })(d.a.Component);
      function kr(e, t, n, i, r) {
        return Object(a.b)(this, void 0, void 0, function () {
          var o, s, c, d;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return l.c.BHasEditModel() &&
                  l.c.GetEditModel().GetAnnouncementGID() == e
                  ? [2, void 0]
                  : [
                      4,
                      Promise.all([
                        0 != t ? u.a.EnsureStoreCapsuleInfoLoaded(t) : void 0,
                        h.a.LoadClanInfoForClanSteamID(n),
                        v.a.Get().LoadSingleAppEventPermissions(n),
                        l.c.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                          n,
                          e,
                          Object(Pt.a)()
                        ),
                      ]),
                    ];
              case 1:
                return (
                  (o = a.sent()),
                  o[0],
                  o[1],
                  (s = o[2]),
                  !(c = o[3]) || c.bOldAnnouncement || r
                    ? s.can_edit || s.support_user
                      ? [
                          4,
                          l.c.LoadClanEventLocalizationFromAnnouncementGID(
                            n,
                            e
                          ),
                        ]
                      : [3, 3]
                    : [2, c.GID]
                );
              case 2:
                (d = a.sent()), (a.label = 3);
              case 3:
                return (
                  (function (e, t) {
                    l.c.ResetModel(e.GID, e.clanSteamID);
                    var n = l.c.GetEditModel();
                    if ((n.Refresh(e), null != t)) {
                      for (var a = 0, i = t; a < i.length; a++) {
                        var r = i[a];
                        n.SetName(r.language, r.headline),
                          n.SetDescription(r.language, r.body);
                      }
                      n.GetEventModel().loadedAllLanguages = !0;
                    }
                    n.SetMigrated(Date.now() / 1e3);
                  })(c, d),
                  i && l.c.GetEditModel().ClearDirty(),
                  [2, void 0]
                );
            }
          });
        });
      }
      var Lr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)),
              (t.m_cancelSignal = y.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.HandleLoad = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, o, l, s;
                return Object(a.e)(this, function (c) {
                  switch (c.label) {
                    case 0:
                      (e = this.props),
                        (t = e.match),
                        (n = e.bClearDirty),
                        (i = e.bPreventRedirect),
                        (c.label = 1);
                    case 1:
                      return (
                        c.trys.push([1, 3, , 4]),
                        (r = m.b.APPID),
                        [
                          4,
                          kr(
                            t.params.oldAnnouncementGID,
                            r,
                            this.m_clanSteamID,
                            n,
                            i
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (o = c.sent()),
                        this.setState({ redirectToGIDEvent: o, bLoading: !1 }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (l = c.sent()),
                        (s = Object(p.a)(l)),
                        console.error(
                          "OldAnnouncementMigrationBaseClass: " + s.strErrorMsg,
                          s
                        ),
                        this.setState(Object(a.a)({ bLoading: !1 }, s)),
                        [3, 4]
                      );
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.componentDidMount = function () {
              this.HandleLoad();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              e.match.params.oldAnnouncementGID !=
                e.match.params.oldAnnouncementGID && this.HandleLoad();
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "OldAnnouncementMigrationBaseClass unmounted"
              );
            }),
            (t.prototype.DismissAgeGate = function () {
              this.setState({ bShowAgeGate: !1 });
            }),
            (t.prototype.render = function () {
              return this.state.bShowAgeGate
                ? c.createElement(Mr, {
                    bHasAdultContent: m.b.HAS_ADULT_CONTENT,
                    bHasAdultContentSex: m.b.HAS_ADULT_CONTENT_SEX,
                    bHasAdultContentViolence: m.b.HAS_ADULT_CONTENT_VIOLENCE,
                    appid: m.b.APPID,
                    fnOnDismissAgeGate: this.DismissAgeGate,
                    strUrlHeaderImage: m.b.HEADER_IMAGE,
                    onSetOverrideCancelSource: this.m_cancelSignal,
                  })
                : this.state.bLoading
                ? c.createElement(
                    "div",
                    { className: r.a.FlexCenter, style: { height: "400px" } },
                    c.createElement(_.a, {
                      position: "center",
                      size: "medium",
                      string: Object(f.f)("#Loading"),
                    })
                  )
                : null != this.state.strErrorMsg
                ? c.createElement(E.b, {
                    strErrorMsg: this.state.strErrorMsg,
                    errorCode: this.state.errorCode,
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                  })
                : null != this.state.redirectToGIDEvent
                ? this.GetRedirectRender()
                : void 0;
            }),
            Object(a.c)([R.a], t.prototype, "DismissAgeGate", null),
            t
          );
        })(c.Component),
        Nr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bLoading: !0, bShowAgeGate: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.Edit(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              return null != t
                ? t
                : c.createElement(yr, {
                    appid: m.b.APPID,
                    appid_or_vanity_str: this.props.match.params
                      .appid_or_vanity_str,
                    gid: "",
                    clanSteamID: this.m_clanSteamID,
                  });
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(Lr),
        Br = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bLoading: !0,
                bShowAgeGate:
                  !t.props.bPreview && Mr.BIsAgeGateNeeded(m.b.APPID),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.View(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.componentDidMount = function () {
              e.prototype.componentDidMount.call(this),
                l.c.GetEditModel() &&
                  0 == this.props.bPreview &&
                  l.c.GetEditModel().ClearDirty();
            }),
            (t.prototype.componentDidUpdate = function () {
              l.c.GetEditModel() &&
                0 == this.props.bPreview &&
                l.c.GetEditModel().ClearDirty();
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              if (void 0 !== t) return t;
              if (this.props.bPreview)
                return c.createElement(rn, {
                  editModel: l.c.GetEditModel(),
                  bDisplaySale: !1,
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  gid: "",
                });
              var n = l.c.GetEditModel().GetEventModel();
              return c.createElement(qt.a, {
                event: n,
                lang: Object(Ae.d)(m.c.LANGUAGE),
                partnerEventStore: l.c,
                emoticonStore: Yt.b,
                adminPanel: c.createElement(Jt.a, {
                  eventModel: n,
                  partnerEventStore: l.c,
                }),
                otherEventRow: c.createElement(Qt.a, {
                  clanAccountID: n.clanSteamID.GetAccountID(),
                  gidAnnouncement: n.GetAnnouncementGID(),
                  trackingLocation: 6,
                  partnerEventStore: l.c,
                  bViewAllShowInfiniteScroll: !n.BIsOGGEvent(),
                }),
              });
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(Lr),
        Rr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { bLoading: !0, bShowAgeGate: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetRedirectRender = function () {
              return c.createElement(pe.b, {
                push: !0,
                to: o.a.Category(
                  this.props.match.params.appid_or_vanity_str,
                  this.state.redirectToGIDEvent
                ),
              });
            }),
            (t.prototype.render = function () {
              var t = e.prototype.render.call(this);
              return null != t
                ? t
                : c.createElement(Se, {
                    match: this.props.match,
                    editModel: l.c.GetEditModel(),
                  });
            }),
            (t = Object(a.c)([I.a], t))
          );
        })(Lr),
        Fr = S(
          (function (e) {
            function t() {
              var t = (null !== e && e.apply(this, arguments)) || this;
              return (t.m_clanSteamID = new g.a(m.b.CLANSTEAMID)), t;
            }
            return (
              Object(a.d)(t, e),
              (t.prototype.componentDidMount = function () {
                l.c.GetEditModel() &&
                  "view" === this.props.mode &&
                  l.c.GetEditModel().ClearDirty();
              }),
              (t.prototype.componentDidUpdate = function (e) {
                l.c.GetEditModel() &&
                  "view" === this.props.mode &&
                  l.c.GetEditModel().ClearDirty();
              }),
              (t.prototype.render = function () {
                var e = this.props.mode;
                if ("view" === e) {
                  var t = l.c.GetEditModel().GetEventModel(),
                    n = Object(Ae.d)(m.c.LANGUAGE);
                  return t.BHasSaleEnabled()
                    ? c.createElement(
                        ke.a,
                        null,
                        c.createElement(Xt.c, {
                          eventModel: t,
                          bIsPreview: !0,
                          language: n,
                        })
                      )
                    : c.createElement(
                        c.Fragment,
                        null,
                        c.createElement(qt.a, {
                          event: t,
                          lang: n,
                          partnerEventStore: l.c,
                          emoticonStore: Yt.b,
                          adminPanel: c.createElement(Jt.a, {
                            eventModel: t,
                            partnerEventStore: l.c,
                          }),
                          otherEventRow: c.createElement(Qt.a, {
                            clanAccountID: t.clanSteamID.GetAccountID(),
                            trackingLocation: 6,
                            gidAnnouncement: t.AnnouncementGID,
                            partnerEventStore: l.c,
                            bViewAllShowInfiniteScroll: !t.BIsOGGEvent(),
                          }),
                        })
                      );
                }
                return c.createElement(rn, {
                  editModel: l.c.GetEditModel(),
                  appid_or_vanity_str: this.props.match.params
                    .appid_or_vanity_str,
                  gid: this.props.match.params.gid,
                  bDisplaySale: "previewsale" === e,
                });
              }),
              (t = Object(a.c)([I.a], t))
            );
          })(c.Component)
        ),
        Pr = function (e) {
          return c.createElement(
            Br,
            Object(a.a)({}, e, {
              key: e.match.params.oldAnnouncementGID,
              bClearDirty: !0,
              bPreview: !1,
              bPreventRedirect: !0,
            })
          );
        },
        xr = n("WBba"),
        Ur = (n("mRR+"), n("r3N9")),
        Hr = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowModal: !1,
                bLoadedLandingState: t.props.bPreventDismiss,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this;
              this.props.bPreventDismiss
                ? this.LoadAppAndFirstEvent()
                : (window.fnPartnerEvent_ShowInfiniteScroll = function (t, n) {
                    e.setState({
                      bShowModal: !0,
                      appid: t,
                      announcementGID: n,
                    });
                  });
            }),
            (t.prototype.LoadAppAndFirstEvent = function () {
              var e;
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = Object(m.g)(
                          "eventinfinitescrolllanding",
                          "application_config"
                        )),
                        (n = void 0),
                        t && "string" == typeof t && (n = t),
                        [
                          4,
                          h.a.LoadOGGClanInfoForIdentifier(
                            this.props.match.params.appid_or_vanity_str
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (i = a.sent()),
                        [
                          4,
                          Ce.d.LoadAdjacentPartnerEventsByAnnouncement(
                            n,
                            i.clanSteamID,
                            i.appid,
                            3,
                            3
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (r = a.sent()),
                        this.setState({
                          bLoadedLandingState: !1,
                          bShowModal: !0,
                          appid: i.appid,
                          clanSteamID: i.clanSteamID,
                          announcementGID:
                            null === (e = null == r ? void 0 : r[0]) ||
                            void 0 === e
                              ? void 0
                              : e.AnnouncementGID,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.HideModal = function () {
              this.props.bPreventDismiss || this.setState({ bShowModal: !1 });
            }),
            (t.prototype.render = function () {
              var e = this.props.bPreventDismiss;
              return this.state.bShowModal
                ? c.createElement(Ur.a, {
                    appid: this.state.appid,
                    announcementGID: this.state.announcementGID,
                    clanSteamID: this.state.clanSteamID,
                    closeModal: this.HideModal,
                    partnerEventStore: Ce.d,
                    trackingLocation: this.props.trackingLocation,
                    showAppHeader: !0,
                    bPrimaryPageFeature: e,
                  })
                : this.state.bLoadedLandingState
                ? c.createElement(_.a, { string: Object(f.f)("#Loading") })
                : c.createElement("div", null);
            }),
            Object(a.c)([R.a], t.prototype, "HideModal", null),
            (t = Object(a.c)([I.a], t))
          );
        })(c.Component),
        Vr = n("apHd"),
        zr = n("6Y59"),
        Wr = n("r+ba"),
        qr = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.state = {
              events: null,
              bShowModal: !1,
              modalInitialEvent: null,
              bPreLoaded: !1,
              announcementGIDList: [],
              last_update_event: null,
            };
            var a = Object(Vr.a)("EventWebRowEmbed");
            return (
              n.ValidateStoreDefault(a) &&
                ((n.state.bPreLoaded = a.bPreLoaded),
                (n.state.announcementGIDList = a.announcementGIDList),
                (n.state.last_update_event = a.last_update_event),
                (n.state.events = []),
                n.state.announcementGIDList.forEach(function (e) {
                  var t = Ce.d.GetClanEventFromAnnouncementGID(e);
                  t && n.state.events.push(t);
                })),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r,
                  o,
                  l,
                  s = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.props),
                        (t = e.appid),
                        (n = e.event_customization),
                        (i = e.partnerEventStore),
                        (r = e.trackingLocation),
                        this.state.bPreLoaded
                          ? [3, 2]
                          : [
                              4,
                              i.LoadAdjacentPartnerEvents(
                                null,
                                null,
                                t,
                                0,
                                2,
                                n
                              ),
                            ]
                      );
                    case 1:
                      (o = a.sent()),
                        this.setState({ events: o }),
                        r &&
                          o &&
                          o.length > 0 &&
                          ((l = v.a.Get().GetTracker()),
                          this.state.events
                            .filter(function (e) {
                              return e.BIsPartnerEvent();
                            })
                            .forEach(function (e) {
                              return l.MarkEventShown(
                                e.GID,
                                e.clanSteamID.GetAccountID(),
                                r
                              );
                            }),
                          l.Flush()),
                        (a.label = 2);
                    case 2:
                      return (
                        (window.fnPartnerEvent_ShowInfiniteScroll = function (
                          e,
                          t
                        ) {
                          s.setState({
                            bShowModal: !0,
                            announcementGID: t,
                            modalInitialEvent: void 0,
                          });
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return (
                !(!t || "object" != typeof t) &&
                void 0 !== t.bPreLoaded &&
                "boolean" == typeof t.bPreLoaded &&
                Array.isArray(t.announcementGIDList)
              );
            }),
            (t.prototype.ShowModal = function (e) {
              var t = this.props.trackingLocation;
              this.setState({
                bShowModal: !0,
                modalInitialEvent: e,
                announcementGID: void 0,
              });
              var n = v.a.Get().GetTracker();
              e &&
                e.BIsPartnerEvent() &&
                n.MarkEventRead(e.GID, e.clanSteamID.GetAccountID(), t) &&
                n.Flush();
            }),
            (t.prototype.ShowLatestUpdateModal = function () {
              var e = this.state.last_update_event,
                t = e.event_gid,
                n = e.announcement_gid,
                a = e.clan_account_id,
                i = this.props.trackingLocation;
              this.setState({
                bShowModal: !0,
                modalInitialEvent: void 0,
                announcementGID: n,
              });
              var r = v.a.Get().GetTracker();
              t && r.MarkEventRead(t, a, i) && r.Flush();
            }),
            (t.prototype.CloseModal = function () {
              this.setState({ bShowModal: !1, modalInitialEvent: null });
            }),
            (t.prototype.BHasLastUpdateEvent = function () {
              var e;
              return Boolean(
                null === (e = this.state.last_update_event) || void 0 === e
                  ? void 0
                  : e.rtime
              );
            }),
            (t.prototype.BShouldShowLastUpdateEvent = function () {
              var e = this.state,
                t = e.last_update_event,
                n = e.events;
              return (
                !(
                  !this.BHasLastUpdateEvent() ||
                  !(null == t ? void 0 : t.announcement_gid)
                ) && !(null == n ? void 0 : n.length)
              );
            }),
            (t.prototype.render = function () {
              var e,
                t = this,
                n = this.state.events;
              if (!n)
                return d.a.createElement(
                  "div",
                  { className: r.a.FlexCenter },
                  d.a.createElement(_.a, { size: "medium", position: "center" })
                );
              var a = window.screen.width <= 500 ? 1 : 2,
                i = Boolean(null == n ? void 0 : n.length),
                o = this.BHasLastUpdateEvent(),
                l = this.BShouldShowLastUpdateEvent()
                  ? this.state.last_update_event.announcement_gid
                  : void 0,
                s = this.props,
                c = s.partnerEventStore,
                u = s.strClassName,
                p = s.appid,
                m = s.trackingLocation;
              return d.a.createElement(
                "div",
                { className: u },
                this.state.bShowModal &&
                  d.a.createElement(Ur.a, {
                    classname: Wr.StoreHeaderAdjust,
                    appid: p,
                    trackingLocation: m,
                    announcementGID:
                      this.state.announcementGID ||
                      (null === (e = this.state.modalInitialEvent) ||
                      void 0 === e
                        ? void 0
                        : e.AnnouncementGID),
                    partnerEventStore: c,
                    eventModel: this.state.modalInitialEvent,
                    closeModal: this.CloseModal,
                  }),
                i &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "h2",
                      null,
                      Object(f.f)("#EventBrowse_RecentEvents")
                    ),
                    d.a.createElement(
                      "div",
                      { className: Wr.SectionButtonCtn },
                      this.props.bViewAllShowInfiniteScroll
                        ? d.a.createElement(
                            "div",
                            {
                              className: Wr.SectionButton,
                              onClick: function () {
                                return t.ShowModal(n[0]);
                              },
                            },
                            Object(f.f)("#EventBrowse_MoreEventsBtn")
                          )
                        : d.a.createElement(
                            Ne.c,
                            {
                              eventModel: n[0],
                              route: Ne.a.k_eViewWebSiteHub,
                              className: Wr.SectionButton,
                            },
                            Object(f.f)("#EventBrowse_MoreEventsBtn")
                          )
                    ),
                    d.a.createElement(
                      "div",
                      { className: Wr.EventsSummariesCtn },
                      n.slice(0, a).map(function (e) {
                        var a =
                          1 === n.length && window.screen.width > 500
                            ? Qt.c
                            : Qt.b;
                        return d.a.createElement(a, {
                          key: e.GID,
                          event: e,
                          onClick: function (n) {
                            t.ShowModal(e),
                              n.stopPropagation(),
                              n.preventDefault();
                          },
                        });
                      })
                    )
                  ),
                Boolean(o && l) &&
                  d.a.createElement(Jr, {
                    nUpdateTime: this.state.last_update_event.rtime,
                    announcementGID: l,
                    onClick: this.ShowLatestUpdateModal,
                  }),
                Boolean(o && !l) &&
                  d.a.createElement(Yr, {
                    nUpdateTime: this.state.last_update_event.rtime,
                    onClick: this.ShowLatestUpdateModal,
                  })
              );
            }),
            Object(a.c)([R.a], t.prototype, "ShowModal", null),
            Object(a.c)([R.a], t.prototype, "ShowLatestUpdateModal", null),
            Object(a.c)([R.a], t.prototype, "CloseModal", null),
            t
          );
        })(d.a.Component),
        Yr = function (e) {
          return d.a.createElement(
            "div",
            { className: Wr.LatestUpdateButtonCtn },
            d.a.createElement(
              "div",
              { className: Wr.LatestUpdateIcon },
              d.a.createElement(zr.hb, null)
            ),
            d.a.createElement(
              "div",
              { className: Wr.LatestUpdateButton, onClick: e.onClick },
              Object(f.f)(
                "#EventBrowse_LatestUpdateTime_Button",
                Object(f.p)(e.nUpdateTime)
              )
            )
          );
        },
        Jr = function (e) {
          var t = e.nUpdateTime,
            n = e.announcementGID,
            a = e.onClick,
            i = n ? Ce.d.GetClanEventFromAnnouncementGID(n) : null,
            r = function (e) {
              null == a || a(), e.stopPropagation(), e.preventDefault();
            };
          return d.a.createElement(
            "div",
            null,
            d.a.createElement(
              "h2",
              null,
              Object(f.f)("#EventBrowse_LastUpdateDate", Object(f.p)(t))
            ),
            d.a.createElement(
              "div",
              { className: Wr.SectionButtonCtn },
              d.a.createElement(
                "div",
                { className: Wr.SectionButton, onClick: r },
                Object(f.f)("#EventBrowse_ViewLatestUpdate")
              )
            ),
            Boolean(i) &&
              d.a.createElement(
                "div",
                { className: Wr.EventsSummariesCtn },
                d.a.createElement(Qt.c, { event: i, onClick: r })
              )
          );
        },
        Qr = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props.appid,
                t = w.a.GetTimeNowWithOverrideAsDate(),
                n = new Date(t.setUTCHours(0, 0, 0, 0) - 15552e6),
                a = Math.floor(n.getTime() / 1e3);
              return d.a.createElement(
                "div",
                {
                  className:
                    "detailBox altFooter greenlight_home_box section announcements_row",
                },
                d.a.createElement(qr, {
                  appid: e,
                  partnerEventStore: l.c,
                  event_customization: {
                    require_tags: ["workshop"],
                    rtime_oldestevent: a,
                  },
                  strClassName: Wr.Container,
                  trackingLocation: 6,
                  bViewAllShowInfiniteScroll: !0,
                })
              );
            }),
            t
          );
        })(d.a.Component),
        Zr = n("GiuM"),
        Kr = (function () {
          function e() {
            (this.m_rgApps = []),
              (this.m_rgClanAccountIDs = []),
              (this.m_nHighestAppOffsetRequested = 0),
              (this.m_nHighestClanOffsetRequested = 0);
          }
          return (
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  e.s_globalSingletonStore.Init()),
                e.s_globalSingletonStore
              );
            }),
            (e.prototype.Init = function () {}),
            (e.prototype.GetApps = function (e, t, n) {
              var a = Math.max(e, this.m_nHighestAppOffsetRequested),
                i = e + t - a;
              return (
                i > 0 && (this.m_mostRecentRequest = this.FetchApps(a, i, n)),
                this.m_rgApps.slice(e, e + t)
              );
            }),
            (e.prototype.FetchApps = function (e, t, n, i) {
              return Object(a.b)(this, void 0, void 0, function () {
                var r,
                  o,
                  l = this;
                return Object(a.e)(this, function (s) {
                  switch (s.label) {
                    case 0:
                      if (this.m_startAppID && this.m_startAppID != n)
                        throw new Error(
                          "Cannot switch starting AppID from " +
                            this.m_startAppID +
                            " to " +
                            n
                        );
                      return (
                        (this.m_startAppID = n),
                        (r = Math.max(t, 20)),
                        (this.m_nHighestAppOffsetRequested = e + r),
                        [4, this.m_mostRecentRequest]
                      );
                    case 1:
                      s.sent(),
                        (o = function () {
                          var t, o, s, c, d, u;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                (t = Math.min(r, 100)),
                                  (o = {
                                    offset: e,
                                    nBatchSize: t,
                                    start_appid: n,
                                  }),
                                  (s =
                                    m.c.COMMUNITY_BASE_URL +
                                    "migrate/ajaxgetallapps"),
                                  (c = null),
                                  (a.label = 1);
                              case 1:
                                return (
                                  a.trys.push([1, 3, , 4]),
                                  [
                                    4,
                                    y.a.get(s, {
                                      params: o,
                                      withCredentials: !0,
                                      cancelToken: null == i ? void 0 : i.token,
                                    }),
                                  ]
                                );
                              case 2:
                                return (
                                  (d = a.sent()),
                                  1 ==
                                    (null ===
                                      (a = null == d ? void 0 : d.data) ||
                                    void 0 === a
                                      ? void 0
                                      : a.success) && d.data.apps
                                    ? (Object(G.G)(function () {
                                        if (e > l.m_rgApps.length)
                                          for (
                                            var n = l.m_rgApps.length;
                                            n < e;
                                            n++
                                          )
                                            l.m_rgApps[n] = null;
                                        for (n = 0; n < t; n++)
                                          l.m_rgApps[e + n] = d.data.apps[n];
                                      }),
                                      (e += t),
                                      (r -= t),
                                      [2, "continue"])
                                    : ((c = Object(p.a)(
                                        null == d ? void 0 : d.data
                                      )),
                                      [3, 4])
                                );
                              case 3:
                                return (
                                  (u = a.sent()), (c = Object(p.a)(u)), [3, 4]
                                );
                              case 4:
                                throw new Error(
                                  "ajax request failed with error " +
                                    c.errorCode +
                                    ':"' +
                                    c.strErrorMsg +
                                    '"'
                                );
                            }
                          });
                        }),
                        (s.label = 2);
                    case 2:
                      return r > 0 ? [5, o()] : [3, 4];
                    case 3:
                      return s.sent(), [3, 2];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.GetClanAccountIDs = function (e, t) {
              var n = this.m_nHighestClanOffsetRequested,
                a = e + t - n;
              return (
                a > 0 && this.FetchClans(n, a),
                this.m_rgClanAccountIDs.slice(e, e + t)
              );
            }),
            (e.prototype.FetchClans = function (e, t, n) {
              var i;
              return Object(a.b)(this, void 0, void 0, function () {
                var r, o, l, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (this.m_nHighestClanOffsetRequested = e + t),
                        (r = { offset: e, count: t }),
                        (o =
                          m.c.COMMUNITY_BASE_URL + "migrate/ajaxgetallclans"),
                        (l = null),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [
                          4,
                          y.a.get(o, {
                            params: r,
                            withCredentials: !0,
                            cancelToken: null == n ? void 0 : n.token,
                          }),
                        ]
                      );
                    case 2:
                      return (
                        (s = a.sent()),
                        1 ==
                          (null === (i = null == s ? void 0 : s.data) ||
                          void 0 === i
                            ? void 0
                            : i.success) && s.data.accountids
                          ? ((this.m_rgClanAccountIDs = this.m_rgClanAccountIDs.concat(
                              s.data.accountids.map(Number)
                            )),
                            [2])
                          : ((l = Object(p.a)(null == s ? void 0 : s.data)),
                            [3, 4])
                      );
                    case 3:
                      return (c = a.sent()), (l = Object(p.a)(c)), [3, 4];
                    case 4:
                      return (
                        console.error(
                          "FetchClans: ajax request failed with error",
                          l.strErrorMsg
                        ),
                        [2]
                      );
                  }
                });
              });
            }),
            Object(a.c)([G.C.shallow], e.prototype, "m_rgApps", void 0),
            Object(a.c)(
              [G.C.shallow],
              e.prototype,
              "m_rgClanAccountIDs",
              void 0
            ),
            e
          );
        })(),
        Xr = n("Tgxo"),
        $r = n.n(Xr),
        eo = Object(I.a)(function (e) {
          var t = Object(c.useState)(!0),
            n = t[0],
            a = t[1];
          Object(c.useEffect)(function () {
            Promise.all([v.a.InitGlobal(), l.c.Init()]).then(function () {
              return a(!1);
            });
          }, []);
          var i = Object(Zr.d)("start", 0),
            r = i[0],
            o = i[1],
            s = Object(Zr.d)("start_appid", 0),
            u = s[0],
            p = (s[1], Object(Zr.d)("count", 10)),
            m = p[0],
            g = (p[1], Object(Zr.d)("autoload", !0)),
            E = g[0],
            b = (g[1], Object(Zr.d)("batch_size", 1)),
            h = b[0],
            f = (b[1], Object(Zr.d)("automigrate", !1)),
            S = f[0],
            O = (f[1], Object(c.useState)(!1)),
            y = O[0],
            C = O[1],
            j = Object(Zr.d)("rolling", 0),
            T = j[0],
            I = (j[1], Object(c.useState)(new Set())),
            D = I[0],
            w = I[1],
            G = Object(c.useRef)(0),
            A = Kr.Get().GetApps(r, m, u),
            M =
              0 == T
                ? A
                : A.filter(function (e) {
                    return !D.has(Number(e.id));
                  }).slice(0, T),
            k = function (e, t) {
              D.has(e) ||
                (console.log("completed: ", e, t),
                D.add(e),
                (G.current += t),
                w(new Set(D)));
            };
          return d.a.createElement(
            "div",
            { className: $r.a.MigrateToolCtn },
            d.a.createElement(
              "div",
              { className: $r.a.ToolHeader },
              "Partner Events Migration Tools"
            ),
            M.map(function (e) {
              return d.a.createElement(to, {
                key: e.id,
                app: e,
                bAutoLoad: E,
                bAutoMigrate: S || y,
                nMigrateBatchSize: h,
                fnOnCompletion: k,
              });
            }),
            n &&
              d.a.createElement(_.a, {
                size: "xlarge",
                position: "center",
                string: "initializing",
              }),
            !A.length &&
              d.a.createElement(_.a, {
                size: "xlarge",
                position: "center",
                string: "loading apps",
              }),
            d.a.createElement(
              "div",
              {
                className: $r.a.LoadEventsButton,
                onClick: function () {
                  C(!1), w(new Set()), o(r + m);
                },
              },
              "LOAD NEXT PAGE"
            ),
            !S &&
              d.a.createElement(
                "div",
                {
                  className: $r.a.LoadEventsButton,
                  onClick: function () {
                    return C(!0);
                  },
                },
                "MIGRATE ALL ON PAGE"
              ),
            d.a.createElement(
              "div",
              { className: $r.a.StatusMessage },
              D.size +
                " OF " +
                A.length +
                " APPS COMPLETE. #EVENTS: " +
                G.current
            )
          );
        }),
        to = Object(I.a)(function (e) {
          var t = Number(e.app.id),
            n = Object(c.useState)(0),
            i = n[0],
            r = n[1],
            o = Object(c.useState)([]),
            s = o[0],
            u = o[1],
            p = Object(c.useState)(!1),
            g = p[0],
            E = p[1],
            b = Object(c.useRef)(new Set()),
            v = Object(c.useRef)(0);
          Object(c.useEffect)(
            function () {
              h.a.LoadOGGClanInfoForAppID(t).then(function (e) {
                var n;
                return console.log(
                  "Loaded app",
                  t,
                  null == e ? void 0 : e.group_name,
                  null === (n = null == e ? void 0 : e.clanSteamID) ||
                    void 0 === n
                    ? void 0
                    : n.ConvertTo64BitString()
                );
              });
            },
            [t]
          );
          var f = h.a.GetOGGClanInfo(t),
            S = f ? f.group_name : e.app.name,
            O =
              m.c.COMMUNITY_BASE_URL +
              "games/" +
              (f ? f.vanity_url : t) +
              "/partnerevents/",
            y = s.length,
            C = i == y,
            j = s.filter(function (e) {
              return e.BIsVisibleEvent();
            }),
            T = j.length,
            I = j.filter(function (e) {
              return (
                e.bOldAnnouncement &&
                f &&
                f.clanAccountID != e.announcementClanSteamID.GetAccountID()
              );
            }).length,
            D = j.filter(function (e) {
              return (
                e.bOldAnnouncement &&
                !b.current.has(e.AnnouncementGID) &&
                (!f ||
                  f.clanAccountID == e.announcementClanSteamID.GetAccountID())
              );
            }),
            w = D.length,
            G = !C && w > 0 && (null == f ? void 0 : f.clanSteamID),
            A = function () {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var e, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = i),
                        r(i + 50),
                        E(!0),
                        [4, l.c.LoadPartnerEventsPageable(void 0, t, e, 50)]
                      );
                    case 1:
                      return (n = a.sent()), u(s.concat(n)), E(!1), [2];
                  }
                });
              });
            };
          Object(c.useEffect)(function () {
            e.bAutoLoad && C && !g && A();
          });
          var M = function (e, t) {
              t ? (v.current += 1) : b.current.add(e);
            },
            k = function () {
              return Object(a.b)(void 0, void 0, void 0, function () {
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        E(!0),
                        [4, no(D, e.nMigrateBatchSize, t, f.clanSteamID, M)]
                      );
                    case 1:
                      return n.sent(), E(!1), [2];
                  }
                });
              });
            };
          return (
            Object(c.useEffect)(function () {
              e.bAutoMigrate && G && !g && k();
            }),
            Object(c.useEffect)(function () {
              C || G || g || e.fnOnCompletion(t, v.current);
            }),
            d.a.createElement(
              "div",
              { className: $r.a.ClanRow },
              d.a.createElement("div", { className: $r.a.ID }, t),
              d.a.createElement("a", { className: $r.a.ClanName, href: O }, S),
              d.a.createElement(
                "div",
                { className: $r.a.Counts },
                "Loaded: " + y + "\tVisible: " + T + "\tOld: " + w,
                I > 0 &&
                  d.a.createElement(
                    "span",
                    { className: $r.a.LinkedAnnouncements },
                    "Linked: " + I
                  )
              ),
              C
                ? d.a.createElement(
                    "div",
                    { className: $r.a.LoadEventsButton, onClick: A },
                    "LOAD EVENTS"
                  )
                : g
                ? d.a.createElement(_.a, { size: "small" })
                : G
                ? d.a.createElement(
                    "div",
                    { className: $r.a.MigrateEventsButton, onClick: k },
                    "MIGRATE EVENTS"
                  )
                : d.a.createElement(
                    "div",
                    { className: $r.a.CompleteMessage },
                    "NOTHING TO MIGRATE"
                  )
            )
          );
        });
      function no(e, t, n, i, r) {
        return Object(a.b)(this, void 0, void 0, function () {
          var o, s, c, d, u, m, _;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                (o = 0), (s = e.slice(0, t)), (a.label = 1);
              case 1:
                if (!(o < s.length)) return [3, 9];
                (c = s[o]),
                  console.log(
                    "Migrating",
                    n,
                    c.AnnouncementGID,
                    c.GetNameWithFallback(0),
                    c
                  ),
                  (a.label = 2);
              case 2:
                return (
                  a.trys.push([2, 7, , 8]), [4, kr(c.AnnouncementGID, n, i)]
                );
              case 3:
                return (d = a.sent())
                  ? (console.warn("Already migrated to event", d), [3, 6])
                  : [3, 4];
              case 4:
                return (
                  (u = l.c.GetEditModel()).AddTag("auto_migrated"),
                  u.AddTag("hide_library_overview"),
                  u.AddTag("hide_library_detail"),
                  [4, l.c.SaveModel(i)]
                );
              case 5:
                a.sent(),
                  console.log("Successfully migrated the event!"),
                  (c.bOldAnnouncement = !1),
                  r(c.AnnouncementGID, !0),
                  (a.label = 6);
              case 6:
                return [3, 8];
              case 7:
                return (
                  (m = a.sent()),
                  (_ = Object(p.a)(m)),
                  console.error(
                    "MigrateEvents: " + _.strErrorMsg.slice(0, 512),
                    _
                  ),
                  r(c.AnnouncementGID, !1),
                  [3, 8]
                );
              case 8:
                return o++, [3, 1];
              case 9:
                return [2];
            }
          });
        });
      }
      var ao = n("UCyf"),
        io = n("a0ud"),
        ro = n("+chf"),
        oo = function (e) {
          var t = e.strLabel,
            n = e.strToolTip,
            i = e.fnSetCurator,
            r = e.bLimitToCreatorHome,
            o = Object(c.useRef)(null),
            l = Object(c.useRef)(null),
            s = Object(c.useRef)(0),
            u = Object(c.useRef)();
          Object(c.useEffect)(function () {
            return function () {
              window.clearTimeout(s.current),
                o.current && o.current("SearchForCurator: unmounting"),
                l.current && l.current.Hide();
            };
          }, []);
          var m = Object(c.useCallback)(
            function (e) {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var t;
                return Object(a.e)(this, function (n) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(s.current),
                      o.current && o.current("SearchForCurator: new request"),
                      (s.current = window.setTimeout(function () {
                        return Object(a.b)(void 0, void 0, void 0, function () {
                          var e, n, s, c;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                (e = y.a.CancelToken.source()),
                                  (o.current = e.cancel),
                                  (a.label = 1);
                              case 1:
                                return (
                                  a.trys.push([1, 3, , 4]),
                                  [4, _e.a.SearchCreatorHomeStore(t, r, e)]
                                );
                              case 2:
                                return (
                                  (n = a.sent()),
                                  e.token.reason
                                    ? [2]
                                    : ((l.current = Object(
                                        In.a
                                      )(
                                        d.a.createElement(lo, {
                                          list: n,
                                          fnSetCurator: i,
                                        }),
                                        u.current.element,
                                        {
                                          bOverlapHorizontal: !0,
                                          bMatchWidth: !0,
                                          bFitToWindow: !0,
                                          bDisablePopTop: !0,
                                        }
                                      )),
                                      [3, 4])
                                );
                              case 3:
                                return (
                                  (s = a.sent()),
                                  e.token.reason
                                    ? [2]
                                    : ((c = Object(p.a)(s)),
                                      console.log(
                                        "SearchForCurator.SearchCreatorHomeStore error " +
                                          c.strErrorMsg,
                                        c
                                      ),
                                      [3, 4])
                                );
                              case 4:
                                return [2];
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            },
            [i, r]
          );
          return d.a.createElement(
            ke.a,
            null,
            d.a.createElement(Me.l, {
              type: "text",
              label: t,
              onChange: m,
              onBlur: function () {
                setTimeout(function () {
                  return l.current && l.current.Hide();
                }, 200);
              },
              ref: u,
              tooltip: n,
            })
          );
        },
        lo = function (e) {
          var t = e.list,
            n = e.fnSetCurator;
          return d.a.createElement(
            wn.c,
            { className: ro.SearchResults },
            t.map(function (e) {
              return d.a.createElement(
                wn.d,
                {
                  key: "curatorresult" + e.GetClanAccountID(),
                  onSelected: function () {
                    return n(e);
                  },
                },
                d.a.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  d.a.createElement(
                    "div",
                    { className: i.GameImageContainer },
                    d.a.createElement("img", {
                      src: e.GetAvatarURLFullSize(),
                      className: i.AvatarImage,
                    })
                  ),
                  Object(Kn.b)(e.GetName())
                )
              );
            })
          );
        },
        so = n("BRUS"),
        co = Object(I.a)(function (e) {
          var t,
            n,
            a,
            i =
              ((t = d.a.useState(!go.Get().BHasLoadCompleted())),
              (n = t[0]),
              (a = t[1]),
              d.a.useEffect(function () {
                go.Get().BHasLoadCompleted() ||
                  go
                    .Get()
                    .LoadSalePageMigrationInfo()
                    .finally(function () {
                      return a(!1);
                    });
              }, []),
              n ? void 0 : go.Get().GetMigrationRecords());
          if (!i)
            return d.a.createElement(_.a, {
              string: Object(f.f)("#Loading"),
              position: "center",
              size: "medium",
            });
          var r = i.filter(function (e) {
              return !e.gid_clan_event;
            }),
            o = r.filter(function (e) {
              return (
                e.display_name.toLocaleLowerCase().indexOf("franchise") >= 0
              );
            }),
            l = r.filter(function (e) {
              return (
                e.display_name.toLocaleLowerCase().indexOf("franchise") < 0
              );
            }),
            s = i.filter(function (e) {
              return Boolean(e.gid_clan_event && e.hidden);
            }),
            c = i.filter(function (e) {
              return Boolean(e.gid_clan_event && !e.hidden);
            });
          return d.a.createElement(
            "div",
            null,
            d.a.createElement("h1", null, "Migration Sale Tool:"),
            d.a.createElement(
              "p",
              null,
              "For unmigrated or migrated but unpublished pages, you can view the existing sale page using a not logged in browser (or incognito mode). You can see the new sale page being built on the store if logged in using a Valve Admin account."
            ),
            d.a.createElement(uo, {
              strName: "Unmigrated Franchises",
              records: o,
            }),
            d.a.createElement(uo, {
              strName: "Unmigrated Generic Sale PAges",
              records: l,
              bHideByDefault: !0,
            }),
            d.a.createElement(uo, {
              strName: "Migrated but Hidden",
              records: s,
            }),
            d.a.createElement(uo, {
              strName: "Migrated and Visible",
              records: c,
              bHideByDefault: !0,
            })
          );
        }),
        uo = function (e) {
          var t = e.strName,
            n = e.records,
            a = e.bHideByDefault,
            i = Object(c.useState)(a),
            r = i[0],
            o = i[1];
          return d.a.createElement(
            "div",
            { className: io.SectionContainer },
            d.a.createElement(
              "h2",
              {
                className: io.SectionTitle,
                onDoubleClick: function () {
                  return o(!r);
                },
              },
              t,
              " (",
              n.length,
              ")",
              d.a.createElement("span", null, ""),
              d.a.createElement(
                Me.d,
                {
                  onClick: function () {
                    return o(!r);
                  },
                },
                r
                  ? d.a.createElement(zr.H, null)
                  : d.a.createElement(zr.K, null)
              )
            ),
            d.a.createElement("hr", null),
            Boolean(r)
              ? d.a.createElement(
                  Me.d,
                  {
                    onClick: function () {
                      return o(!1);
                    },
                  },
                  Object(f.f)("#Sale_ShowContents")
                )
              : d.a.createElement(
                  d.a.Fragment,
                  null,
                  n.map(function (e) {
                    return d.a.createElement(po, {
                      key: e.sale_page_id,
                      record: e,
                    });
                  })
                )
          );
        },
        po = Object(I.a)(function (e) {
          var t = e.record,
            n = Object(ao.b)(t.clan_account_id);
          return d.a.createElement(
            d.a.Fragment,
            null,
            d.a.createElement(
              "div",
              { className: io.RecordCtn },
              d.a.createElement(
                "div",
                { className: io.RecordInfoCtn },
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    { href: m.c.STORE_BASE_URL + "sale/" + t.vanity },
                    d.a.createElement(
                      "b",
                      null,
                      t.display_name + " - (" + t.vanity + ")"
                    )
                  )
                ),
                Boolean(n) &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "a",
                      { href: n.vanity_url },
                      "Sale Page part of ",
                      n.group_name
                    )
                  ),
                Boolean(t.gid_clan_event) &&
                  d.a.createElement(
                    "div",
                    null,
                    d.a.createElement(
                      "a",
                      {
                        href:
                          m.c.COMMUNITY_BASE_URL +
                          "gid/" +
                          g.a
                            .InitFromClanID(t.clan_account_id)
                            .ConvertTo64BitString() +
                          "/partnerevents/edit/" +
                          t.gid_clan_event,
                      },
                      "Migrated: Event Editor Links: State hidden: " +
                        t.hidden +
                        " published: " +
                        t.published +
                        " sale/ vanity?: " +
                        t.valve_approved_sale_vanity_id
                    )
                  )
              ),
              Boolean(!t.gid_clan_event || (t.hidden && !t.published)) &&
                d.a.createElement(
                  Me.d,
                  {
                    onClick: function (e) {
                      return Object(Ie.d)(
                        d.a.createElement(mo, { record: t }),
                        Object(Fe.m)(e)
                      );
                    },
                  },
                  "Migrate Sale Page"
                )
            ),
            d.a.createElement("hr", null)
          );
        }),
        mo = function (e) {
          var t = e.record,
            n = e.closeModal,
            a = Object(c.useState)(t.clan_account_id),
            i = a[0],
            r = a[1],
            o = Object(c.useState)(!1),
            l = o[0],
            s = o[1],
            u = Object(c.useState)(void 0),
            p = u[0],
            E = u[1],
            b = Object(c.useState)(!1),
            v = b[0],
            h = b[1],
            f = Object(c.useState)(t.gid_clan_event),
            S = f[0],
            O = f[1],
            y = Object(c.useState)(null),
            C = y[0],
            j = y[1];
          return d.a.createElement(
            Te.d,
            {
              strTitle: "Migrate Sale page",
              strDescription:
                "Will migrate the sale page " +
                t.vanity +
                " to the below clan ",
              bOKDisabled: !i || l,
              onOK: function () {
                s(!0),
                  go
                    .Get()
                    .MigrateOrUpdateSalePage(
                      t.sale_page_id,
                      i,
                      t.gid_clan_event
                    )
                    .then(function (e) {
                      var t = e[0],
                        n = e[1],
                        a = e[2];
                      E(t), h(n), O(a);
                    });
              },
              onCancel: n,
            },
            Boolean(t.clan_account_id)
              ? d.a.createElement(
                  d.a.Fragment,
                  null,
                  d.a.createElement(
                    "div",
                    null,
                    "Sale page already migrated. This will update the hidden page with latest migration code"
                  ),
                  d.a.createElement(
                    "div",
                    null,
                    "ClanID = ",
                    t.clan_account_id
                  ),
                  d.a.createElement("div", null, "GID = ", t.gid_clan_event)
                )
              : d.a.createElement(
                  d.a.Fragment,
                  null,
                  d.a.createElement(oo, {
                    bLimitToCreatorHome: !0,
                    strLabel: "Search for Creator Home to house the Sale Event",
                    strToolTip:
                      "Partner Event sales must belong to a creator home (which is a curator with games associated to it from the partner site)",
                    fnSetCurator: function (e) {
                      r(e.GetClanAccountID()), j(e);
                    },
                  }),
                  Boolean(C) && d.a.createElement(_o, { creatorHome: C })
                ),
            Boolean(l && !p) &&
              d.a.createElement(_.a, { position: "center", size: "medium" }),
            Boolean(p) && d.a.createElement("div", null, p),
            Boolean(v) &&
              d.a.createElement(
                "div",
                null,
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href: m.c.STORE_BASE_URL + "sale/" + t.vanity,
                      target: "_blank",
                    },
                    "Sale Page"
                  )
                ),
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href:
                        m.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        g.a.InitFromClanID(i).ConvertTo64BitString() +
                        "/partnerevents/edit/" +
                        S,
                      target: "_blank",
                    },
                    "New Sale Page Editor"
                  )
                )
              )
          );
        },
        _o = function (e) {
          var t = e.creatorHome,
            n = g.a.InitFromClanID(t.GetClanAccountID()),
            a = t.GetClanAccountID();
          return t
            ? d.a.createElement(
                "div",
                null,
                d.a.createElement(
                  "div",
                  null,
                  "ClanID = ",
                  a,
                  " - SteamID ",
                  n.ConvertTo64BitString()
                ),
                d.a.createElement(
                  "div",
                  null,
                  d.a.createElement(
                    "a",
                    {
                      href:
                        "https://steamsupport.valvesoftware.com/clan/overview/" +
                        n.ConvertTo64BitString(),
                    },
                    "Group Support Page"
                  )
                ),
                Boolean(!t.BIsPartnerEventEditorEnabled()) &&
                  d.a.createElement(
                    "div",
                    null,
                    "To use this Creator Home for the sale page migration, the process will need to enable partner event editing on the clan. This both updates the creator home but also puts a small limitation upon it.",
                    d.a.createElement(
                      "a",
                      {
                        href:
                          "https://confluence.valve.org/display/STEAM/Creator+home+and+Partner+Events+Beta",
                        target: "_blank",
                      },
                      "Read more about the state here."
                    )
                  ),
                d.a.createElement(so.a, {
                  creatorID: t.GetCreatorHomeIdentifier(),
                  bHideCreatorType: !0,
                })
              )
            : null;
        },
        go = (function () {
          function e() {
            (this.m_mapSaleIDToInfo = new Map()),
              (this.m_listSaleState = new Array()),
              (this.m_stateLoadPromise = null),
              (this.m_bLoadComplete = !1);
          }
          return (
            (e.prototype.BHasLoadCompleted = function () {
              return this.m_bLoadComplete;
            }),
            (e.prototype.GetMigrationRecords = function () {
              return this.m_listSaleState;
            }),
            (e.prototype.MigrateOrUpdateSalePage = function (e, t, n) {
              var i, r;
              return Object(a.b)(this, void 0, void 0, function () {
                var o, l, s, c, d, u;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!(o = this.m_mapSaleIDToInfo.get(e)))
                        return [
                          2,
                          [
                            "Record not found to begin the migration processing, cannot take action.: " +
                              e,
                            !1,
                            void 0,
                          ],
                        ];
                      if (o.gid_clan_event && (!o.hidden || o.published))
                        return [
                          2,
                          [
                            "Sale event is already public, cannot take action.: " +
                              e,
                            !1,
                            void 0,
                          ],
                        ];
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (l =
                          m.c.COMMUNITY_BASE_URL +
                          "migrate/ajaxcreateupdatesalepage"),
                        (s = new URLSearchParams()).append(
                          "sessionid",
                          m.c.SESSIONID
                        ),
                        s.append("salePageID", e),
                        s.append("clanAccountID", "" + t),
                        n && s.append("gidClanEvent", n),
                        [4, y.a.post(l, s, { withCredentials: !0 })]
                      );
                    case 2:
                      return 200 ==
                        (null == (c = a.sent()) ? void 0 : c.status) &&
                        1 ==
                          (null === (i = null == c ? void 0 : c.data) ||
                          void 0 === i
                            ? void 0
                            : i.success) &&
                        (null === (r = null == c ? void 0 : c.data) ||
                        void 0 === r
                          ? void 0
                          : r.gidClanEvent)
                        ? (Object(G.G)(function () {
                            o.gid_clan_event ||
                              ((o.gid_clan_event = c.data.gidClanEvent),
                              (o.clan_account_id = t),
                              (o.hidden = !0),
                              (o.published = !1),
                              (o.valve_approved_sale_vanity_id = !0));
                          }),
                          [
                            2,
                            [c.data.msg || "Success", !0, c.data.gidClanEvent],
                          ])
                        : ((u = Object(p.a)(c)),
                          console.error(
                            "CMigrateSaleStore.LoadSalePageMigrationInfo: failed with " +
                              u.strErrorMsg,
                            u
                          ),
                          [2, [c.data.msg || "Failed", !1, void 0]]);
                    case 3:
                      return (
                        (d = a.sent()),
                        (u = Object(p.a)(d)),
                        console.error(
                          "CMigrateSaleStore.MigrateOrUpdateSalePage: caught error with " +
                            u.strErrorMsg,
                          u
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, ["failed", !1, void 0]];
                  }
                });
              });
            }),
            (e.prototype.LoadSalePageMigrationInfo = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  return (
                    this.m_stateLoadPromise ||
                      (this.m_stateLoadPromise = this.InternalLoadSalePageMigrationInfo()),
                    [2, this.m_stateLoadPromise]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadSalePageMigrationInfo = function () {
              var e, t;
              return Object(a.b)(this, void 0, void 0, function () {
                var n,
                  i,
                  r,
                  o,
                  l,
                  s = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (n =
                          m.c.COMMUNITY_BASE_URL +
                          "migrate/ajaxgetsalepagestomigrate"),
                        (i = { sessionid: m.c.SESSIONID }),
                        [4, y.a.get(n, { params: i, withCredentials: !0 })]
                      );
                    case 1:
                      return (
                        (r = a.sent()),
                        (this.m_bLoadComplete = !0),
                        200 == (null == r ? void 0 : r.status) &&
                        1 ==
                          (null === (e = null == r ? void 0 : r.data) ||
                          void 0 === e
                            ? void 0
                            : e.success) &&
                        (null === (t = null == r ? void 0 : r.data) ||
                        void 0 === t
                          ? void 0
                          : t.data)
                          ? (Object(G.G)(function () {
                              r.data.data.forEach(function (e) {
                                s.m_mapSaleIDToInfo.set(e.sale_page_id, e),
                                  s.m_listSaleState.push(
                                    s.m_mapSaleIDToInfo.get(e.sale_page_id)
                                  );
                              });
                            }),
                            console.log(
                              "InternalLoadSalePageMigrationInfo Loaded: " +
                                this.m_listSaleState.length
                            ),
                            [2, this.m_listSaleState])
                          : ((l = Object(p.a)(r)),
                            console.error(
                              "CMigrateSaleStore.LoadSalePageMigrationInfo: failed with " +
                                l.strErrorMsg,
                              l
                            ),
                            [3, 3])
                      );
                    case 2:
                      return (
                        (o = a.sent()),
                        (l = Object(p.a)(o)),
                        console.error(
                          "CMigrateSaleStore.LoadSalePageMigrationInfo: caught error with " +
                            l.strErrorMsg,
                          l
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2, []];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  ("dev" != m.c.WEB_UNIVERSE && "beta" != m.c.WEB_UNIVERSE) ||
                    (window.g_MigrateSaleStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            Object(a.c)([G.C], e.prototype, "m_mapSaleIDToInfo", void 0),
            Object(a.c)([G.C], e.prototype, "m_listSaleState", void 0),
            e
          );
        })();
      var Eo = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = { bIsLoading: !0 }), t;
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.componentDidMount = function () {
            return Object(a.b)(this, void 0, void 0, function () {
              return Object(a.e)(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      Yn.a.Init(new xr.a(m.c.WEBAPI_BASE_URL)),
                      Ce.d.Init(),
                      l.c.Init(),
                      [4, Promise.all([v.a.InitGlobal()])]
                    );
                  case 1:
                    return e.sent(), this.setState({ bIsLoading: !1 }), [2];
                }
              });
            });
          }),
          (t.prototype.render = function () {
            return this.state.bIsLoading
              ? null
              : d.a.createElement(
                  Ne.d.Provider,
                  { value: { bCanUseLink: !0 } },
                  d.a.createElement(E.a, null),
                  d.a.createElement(
                    pe.e,
                    null,
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Home(":appid_or_vanity_str"),
                      component: Wt,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.List(":appid_or_vanity_str"),
                      component: Wt,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Create(":appid_or_vanity_str"),
                      component: Oe,
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Category(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Oe,
                          Object(a.a)({}, e, { key: e.match.params.gid })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.EditRedirectToCategory(":appid_or_vanity_str"),
                      render: function (e) {
                        return d.a.createElement(jr, Object(a.a)({}, e));
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Edit(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Cr,
                          Object(a.a)({}, e, { key: e.match.params.gid })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Publish(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Cr,
                          Object(a.a)({}, e, {
                            key: e.match.params.gid,
                            bInitiatePublishDialog: !0,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.PreviewSale(
                        ":appid_or_vanity_str",
                        ":gid(\\d+)?"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Fr,
                          Object(a.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "previewsale",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Preview(":appid_or_vanity_str", ":gid(\\d+)?"),
                      render: function (e) {
                        return d.a.createElement(
                          Fr,
                          Object(a.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "preview",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.View(":appid_or_vanity_str", ":gid(\\d+)"),
                      render: function (e) {
                        return d.a.createElement(
                          Fr,
                          Object(a.a)({}, e, {
                            key: e.match.params.gid,
                            mode: "view",
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.ViewEventDetails(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(Pr, Object(a.a)({}, e));
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Listing(":appid_or_vanity_str"),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(a.a)(
                            {
                              key:
                                "InfScroll_NoDismissApp_" +
                                e.match.params.appid,
                            },
                            e,
                            { bPreventDismiss: !0, trackingLocation: 6 }
                          )
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.Migrate(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Nr,
                          Object(a.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.MigrateCategory(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Rr,
                          Object(a.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.ViewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Br,
                          Object(a.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                            bClearDirty: !0,
                            bPreview: !1,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.PreviewOldAnnouncement(
                        ":appid_or_vanity_str",
                        ":oldAnnouncementGID(\\d+)"
                      ),
                      render: function (e) {
                        return d.a.createElement(
                          Br,
                          Object(a.a)({}, e, {
                            key: e.match.params.oldAnnouncementGID,
                            bClearDirty: !0,
                            bPreview: !0,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      exact: !0,
                      path: o.a.WorkshopHub(":appid(\\d+)"),
                      render: function (e) {
                        return d.a.createElement(
                          Qr,
                          Object(a.a)({}, e, {
                            appid: +e.match.params.appid,
                            key: "Workshop" + e.match.params.appid,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.AppHub(":appid"),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(a.a)({}, e, {
                            key: "InfScroll_App_" + e.match.params.appid,
                            trackingLocation: 6,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.GroupHub(":group_vanity"),
                      render: function (e) {
                        return d.a.createElement(
                          Hr,
                          Object(a.a)({}, e, {
                            key: "InfScroll_App_" + e.match.params.group_vanity,
                            trackingLocation: 6,
                          })
                        );
                      },
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.MigrateSaleEvents(),
                      component: co,
                    }),
                    d.a.createElement(pe.c, {
                      path: o.a.MigrateEvents(),
                      component: eo,
                    }),
                    d.a.createElement(pe.c, { component: bo })
                  )
                );
          }),
          t
        );
      })(d.a.Component);
      t.default = Eo;
      function bo(e) {
        return "dev" !== m.c.WEB_UNIVERSE
          ? d.a.createElement(pe.b, { push: !0, to: "/" })
          : d.a.createElement("div", null, "Unknown route");
      }
    },
    JiI5: function (e, t, n) {
      e.exports = {
        SaleContainer: "partnereventsale_SaleContainer_3BwSi",
        CustomSectionsTitle: "partnereventsale_CustomSectionsTitle_2L2x_",
        SaleSection: "partnereventsale_SaleSection_SOMqO",
        EditorCtn: "partnereventsale_EditorCtn_1SyQQ",
        DefaultTitlePicker: "partnereventsale_DefaultTitlePicker_1Rgup",
        SectionTypePicker: "partnereventsale_SectionTypePicker_3Tjtf",
        SectionTypePrompt: "partnereventsale_SectionTypePrompt_2yqih",
        CrossTabWarning: "partnereventsale_CrossTabWarning_2iLl5",
        CrossTabLink: "partnereventsale_CrossTabLink_VkuQf",
        UploadLinkRow: "partnereventsale_UploadLinkRow_zoWy8",
        UploadLinkImageButton: "partnereventsale_UploadLinkImageButton_3lofP",
        SmallText: "partnereventsale_SmallText_1SKHf",
        FlexContainer: "partnereventsale_FlexContainer_23PZF",
        SearchResults: "partnereventsale_SearchResults_IBZUs",
        AddTitleButton: "partnereventsale_AddTitleButton_1i6s-",
        RemoveTitleButton: "partnereventsale_RemoveTitleButton_3rCfB",
        customTitleOptionsCtn: "partnereventsale_customTitleOptionsCtn_18Ftt",
        CustomTitleCtn: "partnereventsale_CustomTitleCtn_3xf_h",
        LanguageInput: "partnereventsale_LanguageInput_9Ojz4",
        CustomImageTitle: "partnereventsale_CustomImageTitle_1Y-jG",
        PromptText: "partnereventsale_PromptText_2YG1P",
        UploadImageButton: "partnereventsale_UploadImageButton_3Jjrh",
        SettingCtn: "partnereventsale_SettingCtn_32UTR",
        Title: "partnereventsale_Title_11Euz",
        Columns: "partnereventsale_Columns_1uTkj",
        LeftCol: "partnereventsale_LeftCol_3CdEC",
        RightCol: "partnereventsale_RightCol_ly_n8",
        AddSectionBtnCtn: "partnereventsale_AddSectionBtnCtn_3afet",
        SmartSelType: "partnereventsale_SmartSelType_17JE0",
        SmartSelCount: "partnereventsale_SmartSelCount_VRUTW",
        SmartSelLabel: "partnereventsale_SmartSelLabel_2JVw-",
        SaleImportBar: "partnereventsale_SaleImportBar_2bBTj",
        SaleImportBarTooltip: "partnereventsale_SaleImportBarTooltip_12tD-",
        SaleImportBarButton: "partnereventsale_SaleImportBarButton_2JDr9",
        SaleCapsuleConflict: "partnereventsale_SaleCapsuleConflict_1pnji",
        SaleCapsuleImg: "partnereventsale_SaleCapsuleImg_3UFfV",
        SaleVisibilityDate: "partnereventsale_SaleVisibilityDate_2CATv",
        SaleVisibilityDateFilter:
          "partnereventsale_SaleVisibilityDateFilter_7xofs",
        SaleDaySelection: "partnereventsale_SaleDaySelection_nh0SY",
        TextSectionGroup: "partnereventsale_TextSectionGroup_3kcsq",
        TextSectionBBCode: "partnereventsale_TextSectionBBCode_2SWKu",
        TextSectionImages: "partnereventsale_TextSectionImages_3_gw-",
        SaleImportURL: "partnereventsale_SaleImportURL_1AmwV",
        BackgroundSettings: "partnereventsale_BackgroundSettings_3_B1e",
        HalfColumn: "partnereventsale_HalfColumn_3F_CF",
        ContentHubOverrideCtn: "partnereventsale_ContentHubOverrideCtn_3IkY7",
        ContentHubOverrideInnerCtn:
          "partnereventsale_ContentHubOverrideInnerCtn_3aA7g",
        SetupCtn: "partnereventsale_SetupCtn_yrYBA",
      };
    },
    K1T0: function (e, t, n) {
      e.exports = {
        ErrorPage: "partnereventshared_ErrorPage_1HZBl",
        ErrorMsg: "partnereventshared_ErrorMsg__guJ8",
        ErrorCode: "partnereventshared_ErrorCode_2ZZXk",
        PendingVisibilityText: "partnereventshared_PendingVisibilityText_1G3Ia",
      };
    },
    K3tN: function (e, t, n) {
      e.exports = {
        CurrentTabsCtn: "saletabeditor_CurrentTabsCtn_24eKi",
        AddButton: "saletabeditor_AddButton_2fqBD",
        ImgPreview: "saletabeditor_ImgPreview_3jXQP",
      };
    },
    "KP/B": function (e, t, n) {
      "use strict";
      n.d(t, "j", function () {
        return a;
      }),
        n.d(t, "w", function () {
          return g;
        }),
        n.d(t, "b", function () {
          return E;
        }),
        n.d(t, "c", function () {
          return v;
        }),
        n.d(t, "e", function () {
          return h;
        }),
        n.d(t, "a", function () {
          return f;
        }),
        n.d(t, "n", function () {
          return S;
        }),
        n.d(t, "m", function () {
          return O;
        }),
        n.d(t, "i", function () {
          return y;
        }),
        n.d(t, "h", function () {
          return C;
        }),
        n.d(t, "l", function () {
          return j;
        }),
        n.d(t, "f", function () {
          return T;
        }),
        n.d(t, "s", function () {
          return I;
        }),
        n.d(t, "k", function () {
          return D;
        }),
        n.d(t, "d", function () {
          return w;
        }),
        n.d(t, "t", function () {
          return A;
        }),
        n.d(t, "q", function () {
          return M;
        }),
        n.d(t, "r", function () {
          return k;
        }),
        n.d(t, "u", function () {
          return L;
        }),
        n.d(t, "v", function () {
          return N;
        }),
        n.d(t, "p", function () {
          return B;
        }),
        n.d(t, "o", function () {
          return R;
        }),
        n.d(t, "g", function () {
          return x;
        });
      var a,
        i = n("mrSG"),
        r = n("vDqi"),
        o = n.n(r),
        l = n("226m"),
        s = n("2vnA"),
        c = n("5eAM"),
        d = n("gOcu"),
        u = n("C4Nl"),
        p = n("gyoR"),
        m = n("lkRc"),
        _ = n("fcuX");
      function g(e, t, n, r, _, g) {
        return (
          void 0 === n && (n = !0),
          void 0 === r && (r = !0),
          void 0 === _ && (_ = !0),
          void 0 === g && (g = !1),
          Object(i.b)(this, void 0, void 0, function () {
            var E,
              b,
              v,
              h,
              f,
              S,
              O,
              y,
              C,
              j,
              T,
              I,
              D,
              w,
              G,
              M,
              k = this;
            return Object(i.e)(this, function (L) {
              switch (L.label) {
                case 0:
                  return (
                    (E = null),
                    (b = e.GetEventModel().jsondata.sale_opt_in_page_name),
                    _ && b ? [4, l.a.Get().HintLoadOptInPageData(b)] : [3, 2]
                  );
                case 1:
                  L.sent(), (L.label = 2);
                case 2:
                  return (
                    (v = _ && b ? l.a.Get().GetOptInPageData(b) : null),
                    [
                      4,
                      Object(p.i)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 3:
                  return (
                    L.sent(),
                    [
                      4,
                      Object(p.g)(
                        t.map(function (e) {
                          return e.capsule;
                        })
                      ),
                    ]
                  );
                case 4:
                  if (((h = L.sent()), (f = new Map()), !n)) return [3, 8];
                  (S = 0), (O = t), (L.label = 5);
                case 5:
                  return S < O.length
                    ? ((y = O[S]),
                      (j = (C = f).set),
                      (T = [y]),
                      [4, Object(p.f)(y.capsule)])
                    : [3, 8];
                case 6:
                  j.apply(C, T.concat([L.sent()])), (L.label = 7);
                case 7:
                  return S++, [3, 5];
                case 8:
                  if (
                    ((I = new Array()),
                    g &&
                      I.push(
                        (function (e) {
                          return Object(i.b)(this, void 0, void 0, function () {
                            var t, n, a, r, l, s, c, d;
                            return Object(i.e)(this, function (i) {
                              switch (i.label) {
                                case 0:
                                  for (
                                    t = 50, n = [], a = e.slice();
                                    a.length > 0;

                                  )
                                    (r = Math.min(t, a.length)),
                                      (l = a.slice(0, r)),
                                      (a = a.slice(r)),
                                      n.push(l);
                                  return (
                                    (s = n.map(function (e) {
                                      var t =
                                          m.c.STORE_BASE_URL +
                                          "broadcast/ajaxgettopntagsforappbatch",
                                        n = { appids: e.join(",") };
                                      return o.a.get(t, { params: n });
                                    })),
                                    [4, Promise.all(s)]
                                  );
                                case 1:
                                  return (
                                    (c = i.sent()),
                                    (d = new Map()),
                                    c.forEach(function (e) {
                                      var t, n;
                                      null ===
                                        (n =
                                          null ===
                                            (t = null == e ? void 0 : e.data) ||
                                          void 0 === t
                                            ? void 0
                                            : t.apps) ||
                                        void 0 === n ||
                                        n.forEach(function (e) {
                                          d.set(Number(e.appid), e.tags);
                                        });
                                    }),
                                    [2, d]
                                  );
                              }
                            });
                          });
                        })(h).then(function (e) {
                          E = e;
                        })
                      ),
                    r)
                  )
                    for (
                      I.push(d.a.Get().LoadAppIDsBatch(h)),
                        100,
                        D = Promise.resolve(null),
                        w = function (e) {
                          var t = Math.min(100, h.length - e),
                            n = h.slice(e, e + t),
                            a = function () {
                              return Object(i.b)(
                                k,
                                void 0,
                                void 0,
                                function () {
                                  return Object(i.e)(this, function (e) {
                                    return [
                                      2,
                                      u.a
                                        .Get()
                                        .HintLoadStoreItems(
                                          void 0,
                                          n,
                                          [],
                                          [],
                                          u.a.k_DataRequest_CommonOnly
                                        ),
                                    ];
                                  });
                                }
                              );
                            };
                          (D = D.then(a, a)), I.push(D);
                        },
                        G = 0;
                      G < h.length;
                      G += 100
                    )
                      w(G);
                  return [4, Promise.all(I)];
                case 9:
                  return (
                    L.sent(),
                    (M = !1),
                    Object(s.G)(function () {
                      for (var i = 0, o = t; i < o.length; i++) {
                        var l = o[i],
                          s = !1;
                        if (v) {
                          var d = v.get(l.capsule.id);
                          A(
                            l,
                            d
                              ? d.tags.map(function (e) {
                                  return e.name;
                                })
                              : [],
                            a.OptIn
                          ) && (s = !0);
                        }
                        if (n) {
                          for (
                            var u = new Set(), p = 0, m = f.get(l);
                            p < m.length;
                            p++
                          ) {
                            var _ = m[p];
                            if (g) {
                              if (!E || !E.has(_)) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var b = 0, h = E.get(_); b < h.length; b++) {
                                var S = h[b];
                                u.add(S.name);
                              }
                            } else {
                              var O = c.a.GetAppLinkInfo(_);
                              if (!O || !O.tags) {
                                console.error("COULD NOT FIND TAGS FOR ", _);
                                continue;
                              }
                              for (var y = 0, C = O.tags; y < C.length; y++) {
                                S = C[y];
                                u.add(S.name);
                              }
                            }
                          }
                          A(l, Array.from(u), a.Store) && (s = !0);
                        }
                        if (r) A(l, P(l.capsule), a.Feature) && (s = !0);
                        s &&
                          (N(e.GetEventModel().jsondata.auto_item_tags, l),
                          (M = !0));
                      }
                    }),
                    [2, M]
                  );
              }
            });
          })
        );
      }
      function E(e, t, n) {
        return Object(i.b)(this, void 0, void 0, function () {
          var a, r;
          return Object(i.e)(this, function (i) {
            switch (i.label) {
              case 0:
                return (
                  e.GetEventModel().jsondata.tagged_items ||
                    (e.GetEventModel().jsondata.tagged_items = new Array()),
                  (a = e.GetEventModel().GetTaggedItems()).find(function (e) {
                    return e.capsule.id === n && e.capsule.type === t;
                  })
                    ? [2]
                    : ((r = { capsule: { id: n, type: t }, tags: new Array() }),
                      [4, g(e, [r])])
                );
              case 1:
                return (
                  i.sent(), a.push(r), L(e), e.SetDirty(_.c.jsondata_sales), [2]
                );
            }
          });
        });
      }
      function b(e, t) {
        e.manually_added_tags &&
          (e.manually_added_tags = e.manually_added_tags.filter(function (e) {
            return e.toLocaleLowerCase() != t;
          })),
          e.manually_removed_tags &&
            (e.manually_removed_tags = e.manually_removed_tags.filter(function (
              e
            ) {
              return e.toLocaleLowerCase() != t;
            }));
      }
      function v(e, t) {
        for (var n = !1, a = new Map(), i = 0, r = e.tags; i < r.length; i++) {
          var o = r[i];
          a.set(o.toLocaleLowerCase(), o);
        }
        for (var l = 0, s = t; l < s.length; l++) {
          var c = s[l],
            d = c.toLocaleLowerCase();
          a.has(d)
            ? a.delete(d)
            : (b(e, d),
              e.manually_added_tags || (e.manually_added_tags = []),
              e.manually_added_tags.push(c),
              (n = !0));
        }
        return (
          a.forEach(function (t, a) {
            b(e, a),
              e.manually_removed_tags || (e.manually_removed_tags = []),
              e.manually_removed_tags.push(t),
              (n = !0);
          }),
          n && (e.tags = t),
          n
        );
      }
      function h(e) {
        return JSON.parse(JSON.stringify(e));
      }
      function f(e, t, n) {
        for (var a = 0, i = t; a < i.length; a++) {
          var r = i[a],
            o = r.toLocaleLowerCase(),
            l = n.get(o);
          l ? l.items.push(e) : n.set(o, { properCaseString: r, items: [e] });
        }
      }
      function S(e) {
        for (var t = new Map(), n = 0, a = e; n < a.length; n++) {
          var i = a[n];
          i.tags && f(i, i.tags, t);
        }
        return t;
      }
      function O(e) {
        var t = new Set();
        return (
          e.forEach(function (e) {
            return t.add(e.toLocaleLowerCase());
          }),
          t
        );
      }
      function y(e, t) {
        if (t && t.clauses)
          for (var n = 0, a = t.clauses; n < a.length; n++) {
            var i = a[n];
            if (i.or_tags) {
              for (var r = !1, o = 0, l = 0, s = i.or_tags; l < s.length; l++) {
                var c = s[l];
                if (c && (o++, (r = e.has(c.toLocaleLowerCase())))) break;
              }
              if (0 !== o) if (!("Must have" === i.type ? r : !r)) return !1;
            }
          }
        return !0;
      }
      function C(e, t) {
        return !t || !t.clauses || y(O(e), t);
      }
      function j(e, t) {
        return e.filter(function (e) {
          return C(e.tags, t);
        });
      }
      function T(e, t) {
        return "[" + t + "] " + e;
      }
      function I(e) {
        return e.replace(/^\[(.+)\]/, "").trim();
      }
      function D(e) {
        var t = /^\[(.+)\]/.exec(e);
        return t ? t[1] : void 0;
      }
      function w(e, t) {
        return D(e) === t;
      }
      function G(e, t) {
        return (
          !!t &&
          t.some(function (t) {
            return t.toLocaleLowerCase() === e;
          })
        );
      }
      function A(e, t, n, a) {
        void 0 === a && (a = null);
        var i = !1,
          r = new Map();
        t.forEach(function (e) {
          var t = D(e);
          if (!t || t === n) {
            var a = t ? e : T(e, n);
            r.set(a.toLocaleLowerCase(), a);
          }
        });
        var o = T("", n).toLocaleLowerCase(),
          l = null;
        return (
          a &&
            ((l = new Set()),
            a.forEach(function (e) {
              var t = D(e);
              if (!t || t === n) {
                var a = t ? e : T(e, n);
                l.add(a.toLocaleLowerCase());
              }
            })),
          (e.tags = e.tags.filter(function (t) {
            var n = t.toLocaleLowerCase();
            return (
              !(!l || l.has(n)) ||
              !n.startsWith(o) ||
              (r.has(n)
                ? (r.delete(n), !0)
                : !!G(n, e.manually_added_tags) || ((i = !0), !1))
            );
          })),
          r.forEach(function (t, n) {
            G(n, e.tags) ||
              G(n, e.manually_removed_tags) ||
              ((i = !0), e.tags.push(t));
          }),
          i
        );
      }
      function M(e) {
        var t;
        if (
          !e ||
          !(null === (t = e.clauses) || void 0 === t ? void 0 : t.length)
        )
          return !0;
        for (var n = 0, a = e.clauses; n < a.length; n++) {
          if (a[n].or_tags.length > 0) return !1;
        }
        return !0;
      }
      function k(e, t, n) {
        for (var a = new Map(), i = 0, r = n; i < r.length; i++) {
          var o = r[i];
          a.set(o.type + o.id, !1);
        }
        for (
          var l = j(e, t), s = new Array(), c = 0, d = l;
          c < d.length;
          c++
        ) {
          var u = d[c],
            p = u.capsule.type + u.capsule.id,
            m = a.get(p);
          void 0 === m ? s.push(u.capsule) : !1 === m && a.set(p, !0);
        }
        var _ = n.filter(function (e) {
          return a.get(e.type + e.id);
        });
        return _.push.apply(_, s), _;
      }
      function L(e) {
        Object(s.G)(function () {
          var t = R(e);
          if (e.GetEventModel().jsondata.sorting_tiers)
            for (
              var n = 0, a = e.GetEventModel().jsondata.sorting_tiers;
              n < a.length;
              n++
            ) {
              var i = a[n];
              i.sale_tag_filter &&
                (i.capsules = k(t, i.sale_tag_filter, i.capsules));
            }
          for (
            var r = 0, o = e.GetEventModel().GetSaleSections();
            r < o.length;
            r++
          ) {
            var l = o[r];
            if (
              ("sale_item_browser" === l.section_type
                ? (l.capsules = void 0)
                : l.sale_tag_filter &&
                  (l.capsules = k(t, l.sale_tag_filter, l.capsules)),
              l.tabs)
            )
              for (var s = 0, c = l.tabs; s < c.length; s++) {
                var d = c[s];
                d.sale_tag_filter &&
                  (d.capsules = k(t, d.sale_tag_filter, d.capsules));
              }
          }
        });
      }
      function N(e, t) {
        var n = new Array();
        if (e)
          for (var i = 0, r = e; i < r.length; i++) {
            var o = r[i];
            C(t.tags, o.filter) && n.push(o.tag_name);
          }
        return A(t, n, a.Auto);
      }
      function B(e) {
        return e.GetEventModel().jsondata.tagged_item_filter || { clauses: [] };
      }
      function R(e) {
        var t = B(e);
        return j(e.GetEventModel().GetTaggedItems(), t);
      }
      function F(e, t) {
        return (
          !!e.content_descriptors &&
          void 0 !==
            e.content_descriptors.find(function (e) {
              return e === t;
            })
        );
      }
      function P(e) {
        var t = new Array(),
          n = c.a.GetAppLinkInfo(e.id),
          a = d.a.Get().GetDemoEventInfo(e.id),
          i = u.a.Get().GetApp(e.id);
        return (
          a && a.demo_appid && t.push("Has Demo"),
          n
            ? (n.coming_soon && t.push("Coming Soon"),
              n.available_linux && t.push("Linux"),
              n.available_mac && t.push("Mac"),
              n.support_vrhmd && t.push("VR"),
              n.support_vrhmd_only && t.push("VR Only"),
              n.discount_percent && t.push("Discounted"),
              n.is_free && t.push("Free"),
              "music" === n.type && t.push("Soundtrack"),
              "dlc" === n.type && t.push("DLC"),
              F(n, 3) && t.push("Adult Only Sexual Content"),
              F(n, 1) && t.push("Nudity or Sexual Content"),
              F(n, 2) && t.push("Violence or Gore"))
            : console.log("Could not load appinfo for", e.type, e.id),
          i &&
            (i.BHasStoreCategory(28) && t.push("Full Controller"),
            i.BHasStoreCategory(9) && t.push("Coop"),
            (i.BHasStoreCategory(41) ||
              i.BHasStoreCategory(42) ||
              i.BHasStoreCategory(43) ||
              i.BHasStoreCategory(44)) &&
              t.push("Remote Play"),
            i.BHasStoreCategory(44) && t.push("Remote Play Together")),
          t
        );
      }
      function x(e) {
        var t = B(e);
        if (M(t)) return !1;
        var n = e.GetEventModel().jsondata.tagged_items.length;
        return (
          Object(s.G)(function () {
            e.GetEventModel().jsondata.tagged_items = j(
              e.GetEventModel().jsondata.tagged_items,
              t
            );
          }),
          e.GetEventModel().jsondata.tagged_items.length !== n
        );
      }
      !(function (e) {
        (e.Store = "Store"),
          (e.Feature = "Feature"),
          (e.OptIn = "Opt"),
          (e.Auto = "Auto"),
          (e.Custom = "Custom");
      })(a || (a = {}));
    },
    KmXr: function (e, t, n) {
      e.exports = {
        Label: "importexportdialog_Label_1LhIt",
        ImportLocSampleButtonCtn:
          "importexportdialog_ImportLocSampleButtonCtn_D-1dl",
        SampleTitle: "importexportdialog_SampleTitle_9189i",
        ImportButton: "importexportdialog_ImportButton_Wyfyx",
      };
    },
    M1X1: function (e, t, n) {},
    McqU: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return v;
      }),
        n.d(t, "a", function () {
          return h;
        });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n.n(i),
        o = n("opsS"),
        l = n("vDqi"),
        s = n.n(l),
        c = n("Mgs7"),
        d = n("TLQK"),
        u = n("IASz"),
        p = n.n(u),
        m = n("lkRc"),
        _ = n("kLLr"),
        g = n("X3Ds"),
        E = n("Qcoi"),
        b = n("6Y59"),
        v = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                invite_token: "",
                input_search: "",
                friend_code_copied: !1,
                invite_copied: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        s.a.get(m.c.COMMUNITY_BASE_URL + "invites/ajaxgetall", {
                          params: { sessionid: m.c.SESSIONID },
                        }),
                      ];
                    case 1:
                      return (
                        (e = n.sent()) &&
                        e.data &&
                        e.data.tokens &&
                        (t = e.data.tokens.filter(function (e) {
                          return e.valid;
                        })).length
                          ? this.setState({ invite_token: t[0].invite_token })
                          : this.OnCreateInviteLink(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnCreateInviteLink = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        (e = new FormData()).append("sessionid", m.c.SESSIONID),
                        e.append("steamid_user", m.i.steamid),
                        e.append("duration", (2592e3).toString()),
                        [
                          4,
                          s.a.post(
                            m.c.COMMUNITY_BASE_URL + "invites/ajaxcreate",
                            e
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (t = n.sent()) &&
                          t.data &&
                          t.data.invite &&
                          this.setState({
                            invite_token: t.data.invite.invite_token,
                          }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnCopy = function (e, t) {
              var n = this;
              "friend_code" === e &&
                (this.setState({ friend_code_copied: !0 }),
                setTimeout(function () {
                  return n.setState({ friend_code_copied: !1 });
                }, 1e3)),
                "invite" === e &&
                  (this.setState({ invite_copied: !0 }),
                  setTimeout(function () {
                    return n.setState({ invite_copied: !1 });
                  }, 1e3)),
                Object(g.i)(t);
            }),
            (t.prototype.OnAddFriend = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (t = new FormData()).append("sessionID", m.c.SESSIONID),
                        t.append("steamid", e),
                        t.append("accept_invite", "0"),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [
                          4,
                          s.a.post(
                            m.c.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                            t
                          ),
                        ]
                      );
                    case 2:
                      return [
                        2,
                        (n = a.sent()) && n.data && 1 == n.data.success,
                      ];
                    case 3:
                      return a.sent(), [2, !1];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnSearchChange = function (e) {
              this.setState({ input_search: e.target.value });
            }),
            (t.prototype.OnSearchKeyDown = function (e) {
              13 === e.keyCode && this.OnSearchSubmit();
            }),
            (t.prototype.OnSearchSubmit = function () {
              window.open(
                m.c.COMMUNITY_BASE_URL +
                  "search/users/#text=" +
                  encodeURIComponent(this.state.input_search),
                "_self"
              );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = m.i.short_url + "/" + this.state.invite_token;
              return r.a.createElement(
                "div",
                null,
                r.a.createElement(
                  "div",
                  { className: p.a.HeaderBlock },
                  Object(d.f)("#ManageFriends_AddAFriend")
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.Background },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_YourFriendCode")
                  ),
                  r.a.createElement(
                    "div",
                    { className: p.a.CopyContainer },
                    r.a.createElement(
                      "h1",
                      { className: p.a.Text },
                      m.i.accountid
                    ),
                    r.a.createElement(
                      c.d,
                      {
                        className: p.a.Button,
                        onClick: function () {
                          return e.OnCopy("friend_code", String(m.i.accountid));
                        },
                      },
                      this.state.friend_code_copied
                        ? Object(d.f)("#ManageFriends_Copied")
                        : Object(d.f)("#ManageFriends_Copy")
                    )
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_EnterFriendCode")
                  ),
                  r.a.createElement(h, {
                    onButtonClick: this.OnAddFriend,
                    buttonText: Object(d.f)("#ManageFriends_SendInvite"),
                    bDisableForSelfAndFriends: !0,
                    bShowStatus: !0,
                  })
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.DimBackground },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_OrSendQuickInvite")
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_QuickInviteDescription")
                  ),
                  r.a.createElement(
                    "p",
                    { className: p.a.Body },
                    Object(d.f)("#ManageFriends_QuickInviteNote")
                  ),
                  r.a.createElement(
                    "div",
                    { className: p.a.CopyContainer },
                    Boolean(this.state.invite_token) &&
                      r.a.createElement("div", { className: p.a.Link }, t),
                    r.a.createElement(
                      c.d,
                      {
                        className: p.a.Button,
                        onClick: function () {
                          return e.OnCopy("invite", t);
                        },
                      },
                      this.state.invite_copied
                        ? Object(d.f)("#ManageFriends_Copied")
                        : Object(d.f)("#ManageFriends_Copy")
                    )
                  ),
                  r.a.createElement(
                    c.q,
                    {
                      style: {
                        width: "fit-content",
                        padding: "0px 20px 0px 20px",
                      },
                      onClick: this.OnCreateInviteLink,
                    },
                    Object(d.f)("#ManageFriends_CreateInviteLink")
                  )
                ),
                r.a.createElement(
                  "div",
                  { className: p.a.Background },
                  r.a.createElement(
                    "h1",
                    { className: p.a.Heading },
                    Object(d.f)("#ManageFriends_OrSearch")
                  ),
                  r.a.createElement("br", null),
                  r.a.createElement(
                    "div",
                    {
                      style: {
                        display: "flex",
                        alignItems: "center",
                        maxWidth: "598px",
                        position: "relative",
                      },
                    },
                    r.a.createElement(
                      "div",
                      { style: { width: "100%" } },
                      r.a.createElement(c.l, {
                        className: p.a.Input,
                        onKeyDown: this.OnSearchKeyDown,
                        value: this.state.input_search,
                        onChange: this.OnSearchChange,
                        placeholder: Object(d.f)(
                          "#ManageFriends_EnterProfileName"
                        ),
                      })
                    ),
                    r.a.createElement(
                      "div",
                      {
                        id: "searchIcon",
                        style: {
                          position: "absolute",
                          right: "10px",
                          cursor: "pointer",
                        },
                        onClick: this.OnSearchSubmit,
                      },
                      r.a.createElement(b.G, null)
                    )
                  )
                )
              );
            }),
            Object(a.c)([o.a], t.prototype, "OnCreateInviteLink", null),
            Object(a.c)([o.a], t.prototype, "OnCopy", null),
            Object(a.c)([o.a], t.prototype, "OnAddFriend", null),
            Object(a.c)([o.a], t.prototype, "OnSearchChange", null),
            Object(a.c)([o.a], t.prototype, "OnSearchKeyDown", null),
            Object(a.c)([o.a], t.prototype, "OnSearchSubmit", null),
            t
          );
        })(r.a.Component),
        h = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                input_friend_code: "",
                disable_send_invite: !1,
                searchResult: null,
                invite_status: "pending",
              }),
              (t.m_currentRequest = 0),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnFriendCodeChange = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (a) {
                  return (
                    (t = e.target.value.split(",")[0]),
                    this.setState({
                      input_friend_code: t,
                      invite_status: "pending",
                    }),
                    window.clearTimeout(this.m_currentRequest),
                    (this.m_currentRequest = window.setTimeout(function () {
                      return n.LoadProfile(t);
                    }, 500)),
                    [2]
                  );
                });
              });
            }),
            (t.prototype.LoadProfile = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return e
                        ? ((t = _.a.InitFromAccountID(Number(e))),
                          [4, E.a.LoadProfiles([t.ConvertTo64BitString()])])
                        : [3, 2];
                    case 1:
                      return (
                        a.sent(),
                        (n = E.a.GetProfile(t.ConvertTo64BitString()))
                          ? this.setState({
                              searchResult: n,
                              disable_send_invite:
                                m.i.is_limited ||
                                (this.props.bDisableForSelfAndFriends &&
                                  (n.is_friend || n.steamid === m.i.steamid)),
                            })
                          : this.setState({ searchResult: null }),
                        [3, 3]
                      );
                    case 2:
                      this.setState({ searchResult: null }), (a.label = 3);
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnActionClick = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (t = new FormData()).append("sessionID", m.c.SESSIONID),
                        t.append("steamid", e),
                        t.append("accept_invite", "0"),
                        this.setState({ disable_send_invite: !0 }),
                        [4, this.props.onButtonClick(e)]
                      );
                    case 1:
                      return (
                        a.sent()
                          ? (this.setState({
                              input_friend_code: "",
                              invite_status: "success",
                            }),
                            setTimeout(function () {
                              return n.setState({ searchResult: null });
                            }, 3e3))
                          : this.setState({
                              invite_status: "failure",
                              disable_send_invite: !1,
                            }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              return r.a.createElement(
                "div",
                null,
                r.a.createElement(c.l, {
                  className: p.a.Input,
                  value: this.state.input_friend_code,
                  onChange: this.OnFriendCodeChange,
                  placeholder: Object(d.f)(
                    "#ManageFriends_EnterFriendCodePlaceholder"
                  ),
                }),
                Boolean(this.state.searchResult) &&
                  r.a.createElement(
                    "div",
                    { className: p.a.ProfileCard },
                    r.a.createElement(
                      "div",
                      { className: p.a.UserContainer },
                      r.a.createElement(
                        "div",
                        { className: p.a.Image },
                        r.a.createElement("img", {
                          style: { width: "100%", height: "100%" },
                          src: this.state.searchResult.avatar_url_full,
                        })
                      ),
                      r.a.createElement(
                        "div",
                        { className: p.a.ProfileContent },
                        r.a.createElement(
                          "h1",
                          { className: p.a.Heading },
                          this.state.searchResult.persona_name
                        ),
                        r.a.createElement(
                          "div",
                          { className: p.a.ProfileLink },
                          r.a.createElement(
                            "a",
                            {
                              target: "_blank",
                              href:
                                m.c.COMMUNITY_BASE_URL +
                                "profiles/" +
                                this.state.searchResult.steamid,
                            },
                            Object(d.f)("#ManageFriends_ProfileLink")
                          ),
                          r.a.createElement("br", null),
                          r.a.createElement(
                            "span",
                            { className: p.a.Body },
                            this.state.searchResult.real_name,
                            r.a.createElement("br", null),
                            this.state.searchResult.city +
                              (this.state.searchResult.city ? "," : "") +
                              " " +
                              this.state.searchResult.state +
                              (this.state.searchResult.state ? "," : "") +
                              " " +
                              this.state.searchResult.country
                          )
                        )
                      ),
                      r.a.createElement(
                        c.q,
                        {
                          onClick: function () {
                            return e.OnActionClick(
                              e.state.searchResult.steamid
                            );
                          },
                          disabled: this.state.disable_send_invite,
                          style: {
                            width: "fit-content",
                            height: "fit-content",
                            padding: "0px 20px 0px 20px",
                            margin: "0 0 0 auto",
                          },
                        },
                        this.props.buttonText
                      )
                    ),
                    r.a.createElement(
                      "div",
                      { className: p.a.ProfileLink },
                      this.state.searchResult.is_friend
                        ? r.a.createElement(
                            "div",
                            null,
                            Object(d.f)("#ManageFriends_IsFriend")
                          )
                        : null,
                      this.state.searchResult.friends_in_common
                        ? r.a.createElement(
                            "div",
                            null,
                            r.a.createElement(
                              "a",
                              {
                                target: "_blank",
                                href:
                                  m.c.COMMUNITY_BASE_URL +
                                  "profiles/" +
                                  this.state.searchResult.steamid +
                                  "/friendscommon",
                              },
                              1 === this.state.searchResult.friends_in_common
                                ? Object(d.f)(
                                    "#ManageFriends_FriendsInCommonSingular",
                                    this.state.searchResult.friends_in_common
                                  )
                                : Object(d.f)(
                                    "#ManageFriends_FriendsInCommon",
                                    this.state.searchResult.friends_in_common
                                  )
                            )
                          )
                        : null,
                      this.props.bShowStatus &&
                        "failure" === this.state.invite_status &&
                        r.a.createElement(
                          "div",
                          { className: p.a.Failure },
                          Object(d.f)("#ManageFriends_InviteFailure")
                        ),
                      this.props.bShowStatus &&
                        "success" === this.state.invite_status &&
                        r.a.createElement(
                          "div",
                          { className: p.a.Success },
                          Object(d.f)(
                            "#ManageFriends_InviteSuccess",
                            this.state.searchResult.persona_name
                          )
                        )
                    )
                  )
              );
            }),
            Object(a.c)([o.a], t.prototype, "OnFriendCodeChange", null),
            Object(a.c)([o.a], t.prototype, "LoadProfile", null),
            Object(a.c)([o.a], t.prototype, "OnActionClick", null),
            t
          );
        })(r.a.Component);
    },
    NEpn: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC";
    },
    NrWE: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return A;
      }),
        n.d(t, "b", function () {
          return k;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("TyAF"),
        l = n("q1tI"),
        s = n("1VNF"),
        c = n("kLLr"),
        d = n("U+Q5"),
        u = n("9w6b"),
        p = n("fpVW"),
        m = n.n(p),
        _ = n("Jqb/"),
        g = n("ka0M"),
        E = n("0OaU"),
        b = n("exH9"),
        v = n("X3Ds"),
        h = n("TLQK"),
        f = n("OS6B"),
        S = n("opsS"),
        O = n("75vw"),
        y = n.n(O),
        C = n("Mgs7"),
        j = n("6yBx"),
        T = n("bVxH"),
        I = n("R5ed"),
        D = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bPrefetchingLanguages: !0 }),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              if (this.props.closeModal) {
                var e = this.props.primaryLocalizedImage;
                d.d.SetPrimaryImageForImageGroup(e, "localized_image_group"),
                  this.LoadImageResolution(),
                  this.LoadAvailableLocalizations();
              }
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.LoadImageResolution = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (e = this.props.primaryLocalizedImage),
                        (t = c.a.InitFromClanID(e.clanAccountID)),
                        [
                          4,
                          d.d.AsyncGetImageResolution(
                            t,
                            e.image_hash,
                            e.file_type,
                            this.m_cancelSignal,
                            !1
                          ),
                        ]
                      );
                    case 1:
                      return (
                        (n = a.sent()),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ imageSize: n }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (i = a.sent()),
                        (r = Object(f.a)(i)),
                        console.error(
                          "LocalizedImageDialog : " + r.strErrorMsg,
                          r
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.LoadAvailableLocalizations = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return (
                        n.trys.push([0, 2, , 3]),
                        [
                          4,
                          d.d.DetermineAvailableLocalizationForGroup(
                            this.m_cancelSignal
                          ),
                        ]
                      );
                    case 1:
                      return (
                        n.sent(),
                        this.m_cancelSignal.token.reason ||
                          this.setState({ bPrefetchingLanguages: !1 }),
                        [3, 3]
                      );
                    case 2:
                      return (
                        (e = n.sent()),
                        (t = Object(f.a)(e)),
                        console.error(
                          "LocalizedImageDialog : " + t.strErrorMsg,
                          t
                        ),
                        [3, 3]
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            }),
            (t.prototype.OnCommitGroup = function () {}),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                n = e.primaryLocalizedImage,
                a = e.clanSteamID,
                i = this.state,
                r = i.bPrefetchingLanguages,
                o = i.imageSize,
                s = !r && o,
                c = o ? " - " + o.width + "x" + o.height : "",
                u = d.a.GetExtensionStringForFileType(n.file_type).slice(1),
                p = o && { width: o.width, height: o.height },
                g = d.a.GenerateArtworkURLFromHashAndExtensions(
                  a,
                  d.a.GetHashAndExt(n)
                );
              return l.createElement(
                _.e,
                {
                  onOK: this.OnCommitGroup,
                  bAllowFullSize: !0,
                  onCancel: t,
                  closeModal: t,
                },
                l.createElement(
                  C.k,
                  null,
                  Object(h.f)("#ImagePickerLoc_Title")
                ),
                l.createElement(
                  C.b,
                  null,
                  l.createElement(
                    C.c,
                    null,
                    l.createElement(
                      "div",
                      { className: m.a.FlexRowContainer },
                      l.createElement(
                        "span",
                        { className: m.a.FlexColumnContainer },
                        l.createElement(
                          "div",
                          null,
                          Object(h.f)("#ImagePickerLoc_Default"),
                          " ",
                          l.createElement(
                            "span",
                            {
                              "data-tooltip-text": Object(h.f)(
                                "#ImagePickerLoc_Default_Hint"
                              ),
                            },
                            " (?)"
                          )
                        ),
                        l.createElement("img", {
                          className: T.titleimg,
                          src: g,
                        }),
                        l.createElement(
                          "div",
                          null,
                          n.file_name + c + " - " + u
                        )
                      )
                    ),
                    !s &&
                      l.createElement(E.a, {
                        position: "center",
                        string: Object(h.f)("#Loading"),
                      }),
                    s &&
                      l.createElement(
                        l.Fragment,
                        null,
                        l.createElement(j.b, {
                          clanSteamID: a,
                          rgSupportArtwork: [],
                          localizedPrimaryImage: n,
                          forceResolution: p,
                          fnSetImageURL: this.props.fnSetImageURL,
                          rgRealmList: this.props.rgRealmList,
                        }),
                        l.createElement(
                          "div",
                          { className: T.artworkbar },
                          l.createElement(I.b, {
                            clanSteamID: a,
                            artworkType: "localized_image_group",
                            title: Object(h.f)("#ImagePickerLoc_Title"),
                          })
                        )
                      )
                  )
                )
              );
            }),
            Object(a.c)([S.a], t.prototype, "OnCommitGroup", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component),
        w = n("blFj"),
        G = n("Yamg"),
        A = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_searchInput = null),
              (t.m_clanImageUploader = null),
              (t.state = {
                filenameSearch: "",
                uploadToken: 0,
                bLoading: !d.d.BHasLoadedClanImages(t.props.clanSteamID),
              }),
              t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.componentDidMount = function () {
              this.state.bLoading && this.HandleLoadClanImages();
            }),
            (t.prototype.componentDidUpdate = function (e) {
              (this.props.clanSteamID.GetAccountID() ==
                e.clanSteamID.GetAccountID() &&
                d.d.BHasLoadedClanImages(this.props.clanSteamID)) ||
                (this.state.bLoading || this.setState({ bLoading: !0 }),
                this.HandleLoadClanImages());
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("ClanImagePicker component unmounted");
            }),
            (t.prototype.HandleLoadClanImages = function () {
              var e = this;
              d.d
                .LoadClanImages(this.props.clanSteamID, !1, this.m_cancelSignal)
                .then(function () {
                  e.m_cancelSignal.token.reason || e.setState({ bLoading: !1 });
                })
                .catch(function (t) {
                  var n = Object(f.a)(t);
                  console.error(
                    "ClanImagePicker Failed: " +
                      n.strErrorMsg +
                      " errCode: " +
                      n.strErrorMsg
                  ),
                    e.m_cancelSignal.token.reason ||
                      e.setState({ bLoading: !1, strErrMsg: n.strErrorMsg });
                });
            }),
            (t.prototype.onSearchTextChangeHandler = function (e) {
              var t = e.currentTarget.value;
              this.state.filenameSearch != t &&
                this.setState({ filenameSearch: t });
            }),
            (t.prototype.CreateImageWrappers = function () {
              var e = [],
                t = this.state.filenameSearch.trim().toLowerCase(),
                n = d.d.GetFilteredClanImages(this.props.clanSteamID, t);
              if (n.length > 0)
                for (var a = 0, i = n; a < i.length; a++) {
                  var r = i[a];
                  e.push(
                    l.createElement(L, {
                      key: r.imageid,
                      clanImage: r,
                      searchStringHilight: t,
                      imageInsertCallBack: this.props.imageInsertCallBack,
                      fnOnOpenLocalizedImageGroup: this
                        .InternalOpenLocalizeImageGroup,
                      insertActions: this.props.insertActions,
                      OnImageClick: this.OnExpandImage,
                    })
                  );
                }
              if (0 == e.length) {
                var o = d.d.GetLoadState(this.props.clanSteamID);
                o && o.loaded
                  ? e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: y.a.ResultNotification,
                        },
                        t.length > 0
                          ? Object(h.f)("#ImagePicker_EmptySearch")
                          : Object(h.f)("#ImagePicker_Empty")
                      )
                    )
                  : o && o.errMsg
                  ? e.push(
                      l.createElement(
                        "div",
                        { key: "ImagePicker_Result", className: y.a.errorcode },
                        Object(h.f)("#ImagePicker_Error", o.errMsg)
                      )
                    )
                  : e.push(
                      l.createElement(
                        "div",
                        {
                          key: "ImagePicker_Result",
                          className: y.a.ResultNotification,
                        },
                        Object(h.f)("#Loading")
                      )
                    );
              }
              return e;
            }),
            (t.prototype.onSearchTextKeyPress = function (e) {
              "Escape" == e.key &&
                (this.setState({ filenameSearch: "" }),
                this.m_searchInput && (this.m_searchInput.value = ""));
            }),
            (t.prototype.onUploaderDismiss = function () {
              this.setState({
                filenameSearch: this.state.filenameSearch,
                uploadToken: null,
              });
            }),
            (t.prototype.OnDropFiles = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, i, r;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!(e && e.length > 0)) return [3, 5];
                      (this.m_clanImageUploader = new d.b(
                        this.props.clanSteamID
                      )),
                        (t = !0),
                        (i = 0),
                        (a.label = 1);
                    case 1:
                      return t && i < Array.from(e).length
                        ? ((r = e.item(i)),
                          [4, this.m_clanImageUploader.AddImage(r, 0, null)])
                        : [3, 4];
                    case 2:
                      (t = a.sent()) ||
                        (console.error(
                          "ClanImagePicker.OnDropFiles: failed on i=" +
                            i +
                            " file=" +
                            r.name
                        ),
                        Object(g.d)(
                          l.createElement(_.f, {
                            strDescription: Object(h.f)(
                              "#ImagePicker_Error",
                              r.name
                            ),
                          }),
                          window
                        )),
                        (a.label = 3);
                    case 3:
                      return i++, [3, 1];
                    case 4:
                      return (
                        t &&
                          (this.setState({
                            filenameSearch: "",
                            uploadToken: ++n.m_uploaderCounter,
                          }),
                          this.m_clanImageUploader.UploadAllFiles()),
                        [2, t]
                      );
                    case 5:
                      return [2, !1];
                  }
                });
              });
            }),
            (t.prototype.GetLastUploadFiles = function () {
              return this.m_clanImageUploader
                ? this.m_clanImageUploader.GetFilesToUpload()
                : null;
            }),
            (t.prototype.BFileUploadCompleted = function (e) {
              return (
                !!this.m_clanImageUploader &&
                this.m_clanImageUploader.BIsFileCompleted(e)
              );
            }),
            (t.prototype.OnExpandImage = function (e) {
              if (e && this.props.bShowLightBox) {
                var t = d.d.GetFilteredClanImages(
                    this.props.clanSteamID,
                    this.state.filenameSearch.trim().toLowerCase()
                  ),
                  n = t.findIndex(function (t, n, a) {
                    return e.imageid == t.imageid;
                  });
                n >= 0 &&
                  this.setState({ photoIndex: n, filteredClanImages: t });
              }
            }),
            (t.prototype.OnExpandExitImage = function () {
              this.setState({ photoIndex: void 0, filteredClanImages: void 0 });
            }),
            (t.prototype.OnHandleExpandedFullSize = function () {
              this.InternalHandleExpandedAction(G.a.k_eInsertFullImage);
            }),
            (t.prototype.OnHandleExpandedThumbnail = function () {
              this.InternalHandleExpandedAction(G.a.k_eInsertThumbnail);
            }),
            (t.prototype.OnHandleOpenLocalizedImageGroup = function () {
              null != this.state.photoIndex &&
                this.InternalOpenLocalizeImageGroup(
                  this.state.filteredClanImages[this.state.photoIndex]
                );
            }),
            (t.prototype.InternalHandleExpandedAction = function (e) {
              null != this.state.photoIndex &&
                (this.props.imageInsertCallBack(
                  this.state.filteredClanImages[this.state.photoIndex],
                  e
                ),
                this.OnExpandExitImage());
            }),
            (t.prototype.InternalOpenLocalizeImageGroup = function (e) {
              var t = this.props.clanSteamID;
              Object(g.d)(
                l.createElement(D, {
                  primaryLocalizedImage: e,
                  clanSteamID: t,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this;
              if (this.state.strErrMsg)
                return l.createElement(
                  "div",
                  null,
                  l.createElement("div", null, Object(h.f)("#Error_Message")),
                  l.createElement("div", null, this.state.strErrMsg),
                  l.createElement(
                    "div",
                    {
                      className: Object(b.a)(m.a.Button),
                      onClick: this.HandleLoadClanImages,
                    },
                    Object(h.f)("#Button_Retry")
                  )
                );
              if (this.state.bLoading)
                return l.createElement(E.a, {
                  position: "center",
                  string: Object(h.f)("#Loading"),
                });
              var t = this.CreateImageWrappers(),
                n = this.state.filteredClanImages,
                a = this.state.photoIndex,
                i = this.props.clanSteamID;
              return l.createElement(
                "div",
                { className: Object(b.a)(y.a.PickerContainer) },
                l.createElement(
                  "div",
                  { className: y.a.PickerTitle },
                  l.createElement("input", {
                    ref: function (t) {
                      return (e.m_searchInput = t);
                    },
                    className: y.a.SearchInput,
                    type: "text",
                    placeholder: Object(h.f)("#ImagePicker_Search"),
                    onChange: this.onSearchTextChangeHandler,
                    onKeyDown: this.onSearchTextKeyPress,
                  })
                ),
                l.createElement("div", { className: y.a.ImagesContainer }, t),
                this.state.uploadToken > 0 &&
                  l.createElement(N, {
                    key: "clanimageuploaderview" + this.state.uploadToken,
                    uploader: this.m_clanImageUploader,
                    onDismiss: this.onUploaderDismiss,
                  }),
                !this.props.bHideDragAndDrop &&
                  l.createElement(k, {
                    onDropFiles: this.OnDropFiles,
                    fnSetImageURL: this.props.fnSetImageURL,
                    clanSteamID: i,
                    rgRealmList: this.props.rgRealmList,
                  }),
                null != a &&
                  l.createElement(s.a, {
                    mainSrc: n[a].url,
                    mainSrcThumbnail: n[a].thumb_url,
                    imageTitle: n[a].file_name,
                    nextSrc: a < n.length - 1 ? n[a + 1].url : void 0,
                    nextSrcThumbnail:
                      a < n.length - 1 ? n[a + 1].thumb_url : void 0,
                    nextLabel: Object(h.f)("#ClanImage_Next"),
                    prevLabel: Object(h.f)("#ClanImage_Prev"),
                    closeLabel: Object(h.f)("#ClanImage_Close"),
                    zoomInLabel: Object(h.f)("#ClanImage_ZoomIn"),
                    zoomOutLabel: Object(h.f)("#ClanImage_ZoomOut"),
                    imageLoadErrorMessage: Object(h.f)(
                      "#ClanImage_ImageLoadFailure"
                    ),
                    prevSrc: a > 0 ? n[a - 1].url : void 0,
                    prevSrcThumbnail: a > 0 ? n[a - 1].thumb_url : void 0,
                    onMoveNextRequest: function () {
                      return e.setState({ photoIndex: a + 1 });
                    },
                    onMovePrevRequest: function () {
                      return e.setState({ photoIndex: a - 1 });
                    },
                    onCloseRequest: this.OnExpandExitImage,
                    toolbarButtons: [
                      l.createElement(
                        "button",
                        {
                          key: "fullsize",
                          className: y.a.Full,
                          onClick: this.OnHandleExpandedFullSize,
                        },
                        Object(h.f)("#ImagePicker_FullSize")
                      ),
                      l.createElement(
                        "button",
                        {
                          key: "thumbnail",
                          className: y.a.Full,
                          onClick: this.OnHandleExpandedThumbnail,
                        },
                        Object(h.f)("#ImagePicker_Thumbnail")
                      ),
                    ],
                  })
              );
            }),
            (t.m_uploaderCounter = 1),
            Object(a.c)([S.a], t.prototype, "HandleLoadClanImages", null),
            Object(a.c)([S.a], t.prototype, "onSearchTextChangeHandler", null),
            Object(a.c)([S.a], t.prototype, "onSearchTextKeyPress", null),
            Object(a.c)([S.a], t.prototype, "onUploaderDismiss", null),
            Object(a.c)([S.a], t.prototype, "OnDropFiles", null),
            Object(a.c)([S.a], t.prototype, "OnExpandImage", null),
            Object(a.c)([S.a], t.prototype, "OnExpandExitImage", null),
            Object(a.c)([S.a], t.prototype, "OnHandleExpandedFullSize", null),
            Object(a.c)([S.a], t.prototype, "OnHandleExpandedThumbnail", null),
            Object(a.c)(
              [S.a],
              t.prototype,
              "OnHandleOpenLocalizedImageGroup",
              null
            ),
            Object(a.c)(
              [S.a],
              t.prototype,
              "InternalHandleExpandedAction",
              null
            ),
            Object(a.c)(
              [S.a],
              t.prototype,
              "InternalOpenLocalizeImageGroup",
              null
            ),
            (t = n = Object(a.c)([o.a], t))
          );
        })(l.Component),
        M = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnClanImageSelected = function (e, t) {
              var n = this.props,
                a = n.OnClanImageSelected,
                i = n.closeModal;
              a(e, t), i();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanSteamID,
                n = e.closeModal;
              return l.createElement(
                _.d,
                {
                  strTitle: Object(h.f)("#ImagePicker_Images"),
                  strDescription: Object(h.f)(
                    "#ImagePicker_DoubleClickToSelect"
                  ),
                  bAlertDialog: !0,
                  onOK: n,
                  onCancel: n,
                },
                l.createElement(A, {
                  clanSteamID: t,
                  insertActions: [],
                  imageInsertCallBack: this.OnClanImageSelected,
                  bHideDragAndDrop: !0,
                  bShowLightBox: !1,
                  fnSetImageURL: this.props.fnSetImageURL,
                  rgRealmList: this.props.rgRealmList,
                })
              );
            }),
            Object(a.c)([S.a], t.prototype, "OnClanImageSelected", null),
            t
          );
        })(l.Component),
        k = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_myInstanceID = n.m_instanceID += 1),
              (t.m_fileInput = l.createRef()),
              (t.state = { dragging: !1 }),
              (t.m_dragEventCounter = 0),
              t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.OverrideEventDefaults = function (e) {
              e.preventDefault(), e.stopPropagation();
            }),
            (t.prototype.DragEnterListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (this.state.dragging || this.setState({ dragging: !0 }));
            }),
            (t.prototype.DragLeaveListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter -= 1),
                0 === this.m_dragEventCounter &&
                  this.state.dragging &&
                  this.setState({ dragging: !1 });
            }),
            (t.prototype.DropListener = function (e) {
              this.OverrideEventDefaults(e),
                (this.m_dragEventCounter = 0),
                this.setState({ dragging: !1 });
              var t = e.dataTransfer.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t);
            }),
            (t.prototype.onFileChoice = function (e) {
              var t = e.target.files;
              t && t.length > 0 && t[0] && this.props.onDropFiles(t),
                this.m_fileInput.current &&
                  this.m_fileInput.current.value &&
                  (this.m_fileInput.current.value = null);
            }),
            (t.prototype.OnNoOp = function () {}),
            (t.prototype.OnClanImageDialog = function (e) {
              var t = this.props,
                n = t.clanSteamID,
                a = t.OnClanImageSelected;
              Object(g.d)(
                l.createElement(M, {
                  fnSetImageURL: this.props.fnSetImageURL,
                  clanSteamID: n,
                  OnClanImageSelected: a,
                  rgRealmList: this.props.rgRealmList,
                }),
                Object(v.m)(e)
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.renderDesciption;
              return l.createElement(
                "div",
                {
                  className: this.state.dragging
                    ? y.a.DragAndDropContainerDragging
                    : y.a.DragAndDropContainer,
                  onDrag: this.OverrideEventDefaults,
                  onDragStart: this.OverrideEventDefaults,
                  onDragEnd: this.OverrideEventDefaults,
                  onDragOver: this.OverrideEventDefaults,
                  onDragEnter: this.DragEnterListener,
                  onDragLeave: this.DragLeaveListener,
                  onDrop: this.DropListener,
                },
                Boolean(e) && e(),
                l.createElement(
                  "div",
                  null,
                  Object(h.f)("#ImagePicker_DragAndDrop")
                ),
                l.createElement(
                  "div",
                  { className: y.a.ImageUploadBar },
                  l.createElement(
                    "label",
                    { htmlFor: "imagepickerfilechoice" + this.m_myInstanceID },
                    l.createElement(
                      "span",
                      null,
                      Object(h.f)("#ImagePicker_OrBrowse"),
                      " "
                    ),
                    l.createElement(
                      "span",
                      { className: y.a.SelectImageButton },
                      Object(h.f)("#selectimage_select_file")
                    )
                  ),
                  l.createElement("input", {
                    ref: this.m_fileInput,
                    style: { display: "none" },
                    id: "imagepickerfilechoice" + this.m_myInstanceID,
                    type: "file",
                    onSubmit: this.onFileChoice,
                    onChange: this.onFileChoice,
                    multiple: !0,
                    accept: "image/png, image/jpg, image/gif",
                  })
                ),
                this.props.bAllowPreviousClanImages &&
                  l.createElement(
                    "div",
                    { className: y.a.ImageUploadBar },
                    l.createElement(
                      "label",
                      { htmlFor: "clanimagedialog" + this.m_myInstanceID },
                      l.createElement(
                        "span",
                        null,
                        Object(h.f)("#ImagePicker_PreviousImages"),
                        " "
                      ),
                      l.createElement(
                        "span",
                        { className: y.a.SelectImageButton },
                        Object(h.f)("#ImagePicker_PreviousImages2")
                      )
                    ),
                    l.createElement("input", {
                      style: { display: "none" },
                      id: "clanimagedialog" + this.m_myInstanceID,
                      type: "button",
                      onClick: this.OnClanImageDialog,
                    })
                  ),
                this.props.children
              );
            }),
            (t.m_instanceID = 0),
            Object(a.c)([S.a], t.prototype, "OverrideEventDefaults", null),
            Object(a.c)([S.a], t.prototype, "DragEnterListener", null),
            Object(a.c)([S.a], t.prototype, "DragLeaveListener", null),
            Object(a.c)([S.a], t.prototype, "DropListener", null),
            Object(a.c)([S.a], t.prototype, "onFileChoice", null),
            Object(a.c)([S.a], t.prototype, "OnNoOp", null),
            Object(a.c)([S.a], t.prototype, "OnClanImageDialog", null),
            (t = n = Object(a.c)([o.a], t))
          );
        })(l.Component),
        L = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_linkPopupRef = l.createRef()),
              (t.state = { bDeleting: !1 }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.onHandleFullSize = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                G.a.k_eInsertFullImage
              );
            }),
            (t.prototype.onHandleThumbnail = function () {
              this.props.imageInsertCallBack(
                this.props.clanImage,
                G.a.k_eInsertThumbnail
              );
            }),
            (t.prototype.onHandleLocalizedImageGroup = function () {
              this.props.fnOnOpenLocalizedImageGroup(this.props.clanImage);
            }),
            (t.prototype.ShowInsertAction = function (e) {
              return (
                !this.props.insertActions ||
                this.props.insertActions.indexOf(e) >= 0
              );
            }),
            (t.prototype.OnDragStartSource = function (e) {
              var t = this;
              e.dataTransfer.setData("text", this.props.clanImage.url),
                d.d.GetClanImageDragListener().forEach(function (e) {
                  e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !0);
                });
            }),
            (t.prototype.OnDragEndSource = function (e) {
              var t = this;
              d.d.GetClanImageDragListener().forEach(function (e) {
                e(c.a.InitFromClanID(t.props.clanImage.clanAccountID), !1);
              });
            }),
            (t.prototype.OnDeleteClick = function (e) {
              Object(g.c)(
                l.createElement(
                  _.d,
                  {
                    strTitle: Object(h.f)("#ImagePicker_DeleteImageTitle"),
                    strDescription: "",
                    onOK: this.onDelete,
                    onCancel: this.OnCloseDialog,
                    closeModal: this.OnCloseDialog,
                  },
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "div",
                      null,
                      Object(h.f)(
                        "#ImagePicker_DeleteAreYouSure",
                        this.props.clanImage.file_name
                      )
                    ),
                    l.createElement("br", null),
                    l.createElement("br", null),
                    l.createElement(
                      "div",
                      null,
                      Object(h.f)("#ImagePicker_DeleteWarning")
                    )
                  )
                ),
                Object(v.m)(e)
              );
            }),
            (t.prototype.ShowDeleteError = function (e) {
              console.log("ClanImageWrapper on delete error: " + e),
                Object(g.d)(
                  l.createElement(
                    _.f,
                    {
                      strTitle: Object(h.f)("#Error_FailureNotice"),
                      strDescription: Object(h.f)(
                        "#EventDisplay_DeleteEvent_Error"
                      ),
                    },
                    l.createElement("p", null, e)
                  ),
                  window
                );
            }),
            (t.prototype.onDelete = function () {
              var e = this;
              this.setState({ bDeleting: !0 });
              var t = c.a.InitFromClanID(this.props.clanImage.clanAccountID);
              d.d
                .DeleteClanImage(t, this.props.clanImage)
                .then(function (t) {
                  1 != t.success &&
                    e.ShowDeleteError(Object(f.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                })
                .catch(function (t) {
                  e.ShowDeleteError(Object(f.a)(t).strErrorMsg),
                    e.setState({ bDeleting: !1 });
                }),
                this.m_linkPopupRef &&
                  this.m_linkPopupRef.current &&
                  this.m_linkPopupRef.current.click(),
                this.OnCloseDialog();
            }),
            (t.prototype.OnCloseDialog = function () {}),
            (t.prototype.OnImageClick = function () {
              this.props.OnImageClick &&
                this.props.OnImageClick(this.props.clanImage);
            }),
            (t.prototype.render = function () {
              var e = this.props.clanImage,
                t = this.props.clanImage.file_name
                  ? this.props.clanImage.file_name
                  : "",
                n = Object(w.b)(
                  this.props.searchStringHilight,
                  t,
                  String(this.props.clanImage.imageid),
                  y.a.Hilight
                ),
                a = c.a.InitFromClanID(e.clanAccountID),
                i = u.a.Get().GetPartnerEventPermissions(a),
                r = this.state.bDeleting,
                o = !r && this.ShowInsertAction(G.a.k_eInsertFullImage),
                s = !r && this.ShowInsertAction(G.a.k_eInsertThumbnail),
                d = Boolean(
                  !r &&
                    i.valve_admin &&
                    this.ShowInsertAction(G.a.k_eShowImageGroup)
                );
              return l.createElement(
                "div",
                { className: y.a.ImageWrapperContainer },
                l.createElement(
                  "div",
                  { className: y.a.ImageButton },
                  l.createElement("div", {
                    className: y.a.ImageWrapper,
                    style: {
                      backgroundImage:
                        "url( '" + this.props.clanImage.thumb_url + "' )",
                    },
                    draggable: !0,
                    onDragStart: this.OnDragStartSource,
                    onDragEnd: this.OnDragEndSource,
                    onDoubleClick: this.onHandleFullSize,
                    onClick: this.OnImageClick,
                  }),
                  o &&
                    l.createElement(
                      "span",
                      { className: y.a.Full, onClick: this.onHandleFullSize },
                      Object(h.f)("#ImagePicker_FullSize")
                    ),
                  r &&
                    l.createElement(E.a, {
                      size: "medium",
                      className: y.a.FloatingThrobber,
                    }),
                  s &&
                    l.createElement(
                      "span",
                      { className: y.a.Thumb, onClick: this.onHandleThumbnail },
                      Object(h.f)("#ImagePicker_Thumbnail")
                    ),
                  d &&
                    l.createElement(
                      "span",
                      {
                        className: Object(b.a)(
                          y.a.Localized,
                          m.a.ValveOnlyBackground
                        ),
                        onClick: this.onHandleLocalizedImageGroup,
                      },
                      "(VO) " + Object(h.f)("#ImagePicker_Localized")
                    ),
                  !r &&
                    l.createElement(
                      "span",
                      { className: y.a.Delete, onClick: this.OnDeleteClick },
                      l.createElement("img", null)
                    ),
                  l.createElement(
                    "div",
                    { className: y.a.ImageWrapperFilename, title: t },
                    n
                  )
                )
              );
            }),
            Object(a.c)([S.a], t.prototype, "onHandleFullSize", null),
            Object(a.c)([S.a], t.prototype, "onHandleThumbnail", null),
            Object(a.c)(
              [S.a],
              t.prototype,
              "onHandleLocalizedImageGroup",
              null
            ),
            Object(a.c)([S.a], t.prototype, "OnDragStartSource", null),
            Object(a.c)([S.a], t.prototype, "OnDragEndSource", null),
            Object(a.c)([S.a], t.prototype, "OnDeleteClick", null),
            Object(a.c)([S.a], t.prototype, "onDelete", null),
            Object(a.c)([S.a], t.prototype, "OnCloseDialog", null),
            Object(a.c)([S.a], t.prototype, "OnImageClick", null),
            t
          );
        })(l.Component),
        N = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.onRetry = function () {
              this.props.uploader.RetryAllFailedUploads();
            }),
            (t.prototype.onCancelUploads = function () {
              this.props.uploader.CancelAllUploads(), this.props.onDismiss();
            }),
            (t.prototype.render = function () {
              var e = this.props.uploader,
                t = e.BAllDone(),
                n = !t && !e.BHasError();
              return l.createElement(
                "div",
                { className: y.a.UploaderContainer },
                n &&
                  l.createElement(
                    "div",
                    { className: y.a.UploaderRunning },
                    l.createElement(
                      "div",
                      { className: y.a.UploaderDesc },
                      Object(h.f)(
                        "#ImageUpload_Desc",
                        e.GetCompletedFiles(),
                        e.GetTotalFiles()
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: "DialogButton",
                        onClick: this.onCancelUploads,
                      },
                      Object(h.f)("#Button_Cancel")
                    )
                  ),
                e.BHasError() &&
                  l.createElement(
                    "div",
                    { className: y.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: y.a.UploadError },
                      Object(h.f)(
                        "#ImageUpload_Error",
                        e.GetLastErrorFile().file.name,
                        e.GetLastErrorFile().status,
                        e.GetLastErrorFile().message
                      )
                    ),
                    l.createElement(
                      "button",
                      {
                        className: y.a.UploadButtonCancel,
                        onClick: this.props.onDismiss,
                      },
                      Object(h.f)("#Button_Cancel")
                    ),
                    l.createElement(
                      "button",
                      {
                        className: y.a.UploadButtonRetry,
                        onClick: this.onRetry,
                      },
                      Object(h.f)("#Button_Retry")
                    )
                  ),
                t &&
                  l.createElement(
                    "div",
                    { className: y.a.UploadMessageAndButtonsContainer },
                    l.createElement(
                      "div",
                      { className: y.a.UploadSuccess },
                      Object(h.f)("#ImageUpload_Success")
                    )
                  )
              );
            }),
            Object(a.c)([S.a], t.prototype, "onRetry", null),
            Object(a.c)([S.a], t.prototype, "onCancelUploads", null),
            (t = Object(a.c)([o.a], t))
          );
        })(l.Component);
    },
    OzNB: function (e, t, n) {
      e.exports = {
        SummaryItems: "partnereventpublishingtab_SummaryItems_12a_L",
        ReachItems: "partnereventpublishingtab_ReachItems_H_jRC",
        StatusRow: "partnereventpublishingtab_StatusRow_SZwFX",
        StatusText: "partnereventpublishingtab_StatusText_1NUKt",
        LinkRow: "partnereventpublishingtab_LinkRow_1WnQ1",
        ReachSubject: "partnereventpublishingtab_ReachSubject_3EQb8",
        Future: "partnereventpublishingtab_Future_5EyH7",
        ReachColumnTitles: "partnereventpublishingtab_ReachColumnTitles_6VhIV",
        ReachColumnName: "partnereventpublishingtab_ReachColumnName_3ORkB",
        ReachSubjectOptional:
          "partnereventpublishingtab_ReachSubjectOptional_aXhwG",
        ReactSubjectOptionalText:
          "partnereventpublishingtab_ReactSubjectOptionalText_2CIfG",
        ReachPendingVisibilityText:
          "partnereventpublishingtab_ReachPendingVisibilityText_n1wAj",
      };
    },
    P2lf: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return d;
      }),
        n.d(t, "a", function () {
          return u;
        });
      var a = n("mrSG"),
        i = n("NpuA"),
        r = n.n(i),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("Kw0F"),
        c = n("TLQK"),
        d = (function () {
          function e() {
            this.m_mapTokens = new Map();
          }
          return (
            (e.prototype.GetLocalization = function (e, t) {
              var n = this.m_mapTokens.get(e);
              if (n && n[t]) return n[t];
            }),
            (e.prototype.SetLocalization = function (e, t, n) {
              var a = this.m_mapTokens.get(e);
              a ||
                ((a = Object(s.e)([], 30, null)), this.m_mapTokens.set(e, a)),
                (a[t] = n);
            }),
            (e.prototype.GetSortedTokenList = function () {
              var e = [];
              return (
                this.m_mapTokens.forEach(function (t, n) {
                  return e.push(n);
                }),
                e.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                e
              );
            }),
            (e.prototype.GetLanguagesWithTokens = function () {
              var e = new Map();
              this.m_mapTokens.forEach(function (t) {
                for (var n = 0; n < t.length; ++n)
                  !e.has(n) &&
                    null !== t[n] &&
                    void 0 !== t[n] &&
                    t[n].trim().length > 0 &&
                    e.set(n, !0);
              });
              var t = new Array();
              return (
                e.forEach(function (e, n) {
                  e && t.push(n);
                }),
                t
              );
            }),
            (e.prototype.ClearLanguagesTokens = function (e) {
              var t = this;
              e.forEach(function (e) {
                t.m_mapTokens.forEach(function (t, n) {
                  e < t.length && null !== t[e] && (t[e] = null);
                });
              });
            }),
            e
          );
        })(),
        u = (function () {
          function e() {
            this.m_DummyValueForQuestionHack = 0;
          }
          return (
            (e.prototype.DetectAndFormatCSV = function (e) {
              var t,
                n,
                a,
                i,
                r,
                l,
                s = null;
              return (
                (null ===
                  (n =
                    null === (t = null == e ? void 0 : e.meta) || void 0 === t
                      ? void 0
                      : t.fields) || void 0 === n
                  ? void 0
                  : n.length) >= 3 &&
                "field" === e.meta.fields[0] &&
                "language" === e.meta.fields[1] &&
                "value" === e.meta.fields[2]
                  ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
                  : (null ===
                      (i =
                        null === (a = null == e ? void 0 : e.meta) ||
                        void 0 === a
                          ? void 0
                          : a.fields) || void 0 === i
                      ? void 0
                      : i.length) >= 2 &&
                    "field" === e.meta.fields[0] &&
                    -1 != Object(o.d)(e.meta.fields[1], -1)
                  ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
                  : (null ===
                      (l =
                        null === (r = null == e ? void 0 : e.meta) ||
                        void 0 === r
                          ? void 0
                          : r.fields) || void 0 === l
                      ? void 0
                      : l.length) >= 2 &&
                    "language" === e.meta.fields[0] &&
                    (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
                s
              );
            }),
            (e.WriteFile = function (e, t) {
              var n = document.createElement("a");
              if (navigator.msSaveBlob) navigator.msSaveBlob(e, t);
              else {
                var a = window.URL.createObjectURL(e);
                n.href = a;
              }
              n.setAttribute("download", t), n.click();
              try {
                document.removeChild(n);
              } catch (e) {}
            }),
            (e.prototype.ReadFile = function (e) {
              return new Promise(function (t, n) {
                var a = new FileReader();
                (a.onload = function (e) {
                  return t(a.result);
                }),
                  a.readAsText(e);
              });
            }),
            (e.prototype.WriteCSVToFile = function (t, n) {
              var a = r.a.unparse(t, { header: !0 });
              e.WriteFile(
                new Blob([a], { type: "text/csv:charset=utf-8;" }),
                n
              );
            }),
            (e.prototype.WriteXMLToFile = function (t, n) {
              var a = this,
                i = function () {
                  return a.m_DummyValueForQuestionHack ? "never returned" : "?";
                },
                r =
                  "<" +
                  i() +
                  'xml version="1.0" encoding="UTF-8" ' +
                  i() +
                  ">\n";
              (r += new XMLSerializer().serializeToString(t)),
                e.WriteFile(
                  new Blob([r], { type: "application/xml:charset=utf-8;" }),
                  n
                );
            }),
            (e.prototype.ReadLocalizationData_XML_SingleLanguage = function (
              e,
              t
            ) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, r, o, l, s, c, u;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (n = new d()),
                        (i = new DOMParser()),
                        [4, this.ReadFile(e)]
                      );
                    case 1:
                      for (
                        r = a.sent(),
                          o = i.parseFromString(
                            r.toString(),
                            "application/xml"
                          ),
                          l = 0;
                        l < o.documentElement.children.length;
                        ++l
                      )
                        (s = o.documentElement.children.item(l)),
                          (c = s.getAttribute("id").toLocaleLowerCase()),
                          (u = s.textContent),
                          n.SetLocalization(c, t, u);
                      return [2, n];
                  }
                });
              });
            }),
            (e.prototype.ReadLocalizationData_CSV_TokenLanguageList = function (
              e
            ) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  var n = e.field,
                    a = Object(o.d)(e.language);
                  t.SetLocalization(n, a, e.value);
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageColumns = function (
              e
            ) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  for (var n = e.field, a = 0; a < 30; ++a) {
                    var i = Object(o.c)(Object(o.a)(a));
                    t.SetLocalization(n, a, e[i]);
                  }
                }),
                t
              );
            }),
            (e.prototype.ReadLocalizationData_CSV_LanguageRows = function (e) {
              var t = new d();
              return (
                e.data.forEach(function (e) {
                  var n = Object(o.d)(e.language, 30);
                  if (30 !== n)
                    for (var a = 0, i = Object.entries(e); a < i.length; a++) {
                      var r = i[a],
                        l = r[0],
                        s = r[1];
                      "language" !== l &&
                        "string" == typeof s &&
                        t.SetLocalization(l, n, s);
                    }
                }),
                t
              );
            }),
            (e.prototype.GetExportLanguages = function () {
              return c.b.GetLanguageListForRealms([l.f.k_ESteamRealmGlobal]);
            }),
            (e.prototype.WriteLocalizationData_CSV_TokenAndLanguageColumns = function (
              e,
              t
            ) {
              var n = this,
                a = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = n.GetExportLanguages(); i < r.length; i++) {
                  var l = r[i],
                    s = { field: t };
                  (s.language = Object(o.c)(Object(o.a)(l))),
                    (s.value = e.GetLocalization(t, l)),
                    a.push(s);
                }
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageColumns = function (
              e,
              t
            ) {
              var n = this,
                a = new Array();
              e.GetSortedTokenList().forEach(function (t) {
                for (
                  var i = { field: t }, r = 0, l = n.GetExportLanguages();
                  r < l.length;
                  r++
                ) {
                  var s = l[r];
                  i[Object(o.c)(Object(o.a)(s))] = e.GetLocalization(t, s);
                }
                a.push(i);
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_CSV_LanguageRows = function (
              e,
              t
            ) {
              for (
                var n = this,
                  a = new Array(),
                  i = 0,
                  r = this.GetExportLanguages();
                i < r.length;
                i++
              ) {
                var l = r[i];
                a.push({ language: Object(o.c)(Object(o.a)(l)) });
              }
              e.GetSortedTokenList().forEach(function (t) {
                for (var i = 0, r = n.GetExportLanguages(); i < r.length; i++) {
                  var o = r[i];
                  a[o][t] = e.GetLocalization(t, o);
                }
              }),
                this.WriteCSVToFile(a, t);
            }),
            (e.prototype.WriteLocalizationData_XML_SingleLanguage = function (
              e,
              t,
              n
            ) {
              var a = document.implementation.createDocument(
                null,
                "content",
                null
              );
              e.GetSortedTokenList().forEach(function (n) {
                var i = a.createElement("string");
                i.setAttribute("id", n),
                  i.appendChild(
                    a.createTextNode(e.GetLocalization(n, t) || "")
                  ),
                  a.documentElement.append(i);
              }),
                this.WriteXMLToFile(a, n);
            }),
            e
          );
        })();
    },
    PqGv: function (e, t, n) {
      e.exports = {
        EventCategory_SteamAwardsNomination:
          "partnereventspecialcategories_EventCategory_SteamAwardsNomination_3QxOk",
        SteamAwardCategoryPicker:
          "partnereventspecialcategories_SteamAwardCategoryPicker_2LfKB",
        SteamAwardCategoryOptions:
          "partnereventspecialcategories_SteamAwardCategoryOptions_1wsxj",
        Halloween: "partnereventspecialcategories_Halloween_1etNG",
        EventTitle: "partnereventspecialcategories_EventTitle_6NPnW",
        EventDesc: "partnereventspecialcategories_EventDesc_2aLMq",
      };
    },
    Q47U: function (e, t, n) {
      "use strict";
      n.d(t, "c", function () {
        return d;
      }),
        n.d(t, "b", function () {
          return u;
        }),
        n.d(t, "a", function () {
          return p;
        });
      var a = n("mrSG"),
        i = n("2vnA"),
        r = n("dZOt"),
        o = n("Kw0F"),
        l = n("r64O"),
        s = n("lkRc"),
        c = n("fcuX"),
        d = {
          capability: 1,
          appids: [],
          partnerids: [],
          pub_rights: 0,
          app_rights: 0,
          priority: !1,
        },
        u = (function (e) {
          function t(t) {
            var n = e.call(this, t.GetEmailSettings()) || this;
            return (
              (n.m_editModel = t),
              (n.m_sections = new Array()),
              n.m_setting.sections.forEach(function (e) {
                return n.m_sections.push(new p(e, t));
              }),
              s.b.IS_VALVE_GROUP &&
                (n.m_setting.internal_targeting
                  ? n.m_setting.internal_targeting.partnerids ||
                    (n.m_setting.internal_targeting.partnerids = [])
                  : (n.m_setting.internal_targeting = Object(a.a)({}, d))),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.BSameEditModel = function (e) {
              return e === this.m_editModel;
            }),
            (t.prototype.GetNumSections = function () {
              return this.m_sections.length;
            }),
            (t.prototype.GetSectionObj = function (e) {
              return this.m_sections[e];
            }),
            (t.prototype.GetSectionObjects = function () {
              return this.m_sections;
            }),
            (t.prototype.LockEmail = function () {
              this.m_setting.locked ||
                ((this.m_setting.locked = !0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetSubjectTextLoc = function (e) {
              this.m_setting.subject_loc_token != e &&
                ((this.m_setting.subject_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.EnsureTargetingExists = function () {
              if (!this.m_setting.targeting) {
                this.m_setting.targeting = Object(i.C)({});
              }
            }),
            (t.prototype.EnsureFilteringExists = function () {
              if (!this.m_setting.filtering) {
                this.m_setting.filtering = Object(i.C)({});
              }
            }),
            (t.prototype.SetFilterIRTopN = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.ir_topn !== e &&
                  ((this.m_setting.filtering.ir_topn = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetFilterWishlist = function (e) {
              this.EnsureFilteringExists(),
                this.m_setting.filtering.wishlist !== e &&
                  ((this.m_setting.filtering.wishlist = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetControlGroupPercent = function (e) {
              Object(l.a)(
                e >= 0 && e <= 99,
                "SetControlGroupPercent outside of bounds: " + e
              ),
                (!e || e <= 0) && (e = 0),
                e > 99 && (e = 99),
                this.EnsureFilteringExists(),
                this.m_setting.filtering.control_group_percent !== e &&
                  ((this.m_setting.filtering.control_group_percent = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingExistingPlayer = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_players !== e &&
                  ((this.m_setting.targeting.game_players = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameWishlist = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_wishlister !== e &&
                  ((this.m_setting.targeting.game_wishlister = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetExcludeGameOwners = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_exclude_owners !== e &&
                  ((this.m_setting.targeting.game_exclude_owners = e),
                  e &&
                    (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetOwnersWithNoPlaytime = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_owner_with_no_playtime !== e &&
                  ((this.m_setting.targeting.game_owner_with_no_playtime = e),
                  e &&
                    ((this.m_setting.targeting.game_exclude_owners = !1),
                    (this.m_setting.targeting.game_players = !1),
                    (this.m_setting.targeting.creator_home_player = void 0)),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingGameFollower = function (e) {
              this.EnsureTargetingExists(),
                this.m_setting.targeting.game_followers !== e &&
                  ((this.m_setting.targeting.game_followers = e),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetTargetingCreator = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home = e ? [t] : void 0),
                this.m_setting.targeting.creator_home_player &&
                  this.m_setting.targeting.creator_home_player[0] != t &&
                  (this.m_setting.targeting.creator_home_player = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetTargetingCreatorPlayer = function (e, t) {
              this.EnsureTargetingExists(),
                (this.m_setting.targeting.creator_home_player = e
                  ? [t]
                  : void 0),
                this.m_setting.targeting.creator_home &&
                  this.m_setting.targeting.creator_home[0] != t &&
                  (this.m_setting.targeting.creator_home = void 0),
                e &&
                  (this.m_setting.targeting.game_owner_with_no_playtime = !1),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetForceFeatureID = function (e) {
              this.m_setting.force_feature_id != e &&
                ((this.m_setting.force_feature_id = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetLocalizedSubject = function (e, t) {
              return (
                (!this.m_setting.localized_subject ||
                  this.m_setting.localized_subject.length < 30) &&
                  (this.m_setting.localized_subject = Object(o.e)(
                    this.m_setting.localized_subject || [],
                    30,
                    null
                  )),
                this.m_setting.localized_subject[e] != t &&
                  ((this.m_setting.localized_subject[e] = t),
                  this.m_editModel.SetDirty(c.c.jsondata_email),
                  !0)
              );
            }),
            (t.prototype.RemoveSection = function (e) {
              this.m_sections &&
                e < this.m_sections.length &&
                (this.m_setting.sections.splice(e, 1),
                this.m_sections.splice(e, 1),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.AddSection = function (e) {
              this.m_setting.sections.push(Object(a.a)({}, e)),
                this.m_sections.push(
                  new p(
                    this.m_setting.sections[this.m_setting.sections.length - 1],
                    this.m_editModel
                  )
                ),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalTargetPriority = function (e) {
              this.m_setting.internal_targeting.priority !== e &&
                ((this.m_setting.internal_targeting.priority = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalTargetPartnerCapability = function (e) {
              this.m_setting.internal_targeting.capability !== e &&
                ((this.m_setting.internal_targeting.capability = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetPublisherRights = function (e, t) {
              ((this.m_setting.internal_targeting.pub_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.pub_rights |= e)
                  : (this.m_setting.internal_targeting.pub_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.UpdateInternalTargetAppRights = function (e, t) {
              ((this.m_setting.internal_targeting.app_rights & e) === e) !==
                t &&
                (t
                  ? (this.m_setting.internal_targeting.app_rights |= e)
                  : (this.m_setting.internal_targeting.app_rights &= ~e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetInternalAppIDs = function (e) {
              (this.m_setting.internal_targeting.appids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            (t.prototype.SetInternalPublisherIDs = function (e) {
              (this.m_setting.internal_targeting.partnerids = e),
                this.m_editModel.SetDirty(c.c.jsondata_email);
            }),
            Object(a.c)([i.C], t.prototype, "m_sections", void 0),
            Object(a.c)([i.k], t.prototype, "SetFilterIRTopN", null),
            Object(a.c)([i.k], t.prototype, "SetFilterWishlist", null),
            Object(a.c)([i.k], t.prototype, "SetControlGroupPercent", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingExistingPlayer", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingGameWishlist", null),
            Object(a.c)([i.k], t.prototype, "SetExcludeGameOwners", null),
            Object(a.c)([i.k], t.prototype, "SetOwnersWithNoPlaytime", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingGameFollower", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingCreator", null),
            Object(a.c)([i.k], t.prototype, "SetTargetingCreatorPlayer", null),
            Object(a.c)([i.k], t.prototype, "SetForceFeatureID", null),
            Object(a.c)([i.k], t.prototype, "SetLocalizedSubject", null),
            Object(a.c)([i.k], t.prototype, "RemoveSection", null),
            Object(a.c)([i.k], t.prototype, "AddSection", null),
            Object(a.c)([i.k], t.prototype, "SetInternalTargetPriority", null),
            Object(a.c)(
              [i.k],
              t.prototype,
              "SetInternalTargetPartnerCapability",
              null
            ),
            Object(a.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetPublisherRights",
              null
            ),
            Object(a.c)(
              [i.k],
              t.prototype,
              "UpdateInternalTargetAppRights",
              null
            ),
            Object(a.c)([i.k], t.prototype, "SetInternalAppIDs", null),
            Object(a.c)([i.k], t.prototype, "SetInternalPublisherIDs", null),
            t
          );
        })(r.b),
        p = (function (e) {
          function t(t, n) {
            var a = e.call(this, t) || this;
            return (a.m_editModel = n), a;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.SetHeadline = function (e, t) {
              return (
                (this.m_section.localized_headline.length < t ||
                  this.m_section.localized_headline[t] !== e) &&
                ((this.m_section.localized_headline[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetBody = function (e, t) {
              return (
                (this.m_section.localized_body.length < t ||
                  this.m_section.localized_body[t] !== e) &&
                ((this.m_section.localized_body[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email),
                !0)
              );
            }),
            (t.prototype.SetVideoLink = function (e) {
              this.m_section.video_link !== e &&
                ((this.m_section.video_link = e),
                (this.m_section.video_image = void 0),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetVideoHashAndExt = function (e) {
              this.m_section.video_image !== e &&
                ((this.m_section.video_image = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetImage = function (e, t) {
              (this.m_section.localized_image.length < t ||
                this.m_section.localized_image[t] !== e) &&
                ((this.m_section.localized_image[t] = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonTextLock = function (e) {
              this.m_section.button_loc_token !== e &&
                ((this.m_section.button_loc_token = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.SetButtonDestination = function (e) {
              this.m_section.button_destination !== e &&
                ((this.m_section.button_destination = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.IsValidStoreURL = function (e) {
              return e && e.startsWith("https://store.steampowered.com/");
            }),
            (t.prototype.SetButtonDestinationStoreURL = function (e) {
              if (t.IsValidStoreURL(e)) {
                var n = e.substr("https://store.steampowered.com/".length);
                n != this.m_section.button_store_path &&
                  ((this.m_section.button_store_path = n),
                  this.m_editModel.SetDirty(c.c.jsondata_email));
              }
            }),
            (t.prototype.SetButtonAppOverride = function (e) {
              this.m_section.button_appid_override !== e &&
                ((this.m_section.button_appid_override = e),
                this.m_editModel.SetDirty(c.c.jsondata_email));
            }),
            (t.prototype.RemoveSubSection = function (e) {
              switch (e) {
                case "headline":
                  this.BHasHeadline() &&
                    ((this.m_section.localized_headline = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "body":
                  this.BHasBody() &&
                    ((this.m_section.localized_body = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "img":
                  this.BHasImage() &&
                    ((this.m_section.localized_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "action":
                  this.BHasCallToAction() &&
                    ((this.m_section.button_loc_token = void 0),
                    (this.m_section.button_appid_override = void 0),
                    (this.m_section.button_destination = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                case "youtube":
                  this.BHasVideo() &&
                    ((this.m_section.video_link = void 0),
                    (this.m_section.video_image = void 0),
                    this.m_editModel.SetDirty(c.c.jsondata_email));
                  break;
                default:
                  console.error(
                    "CEmailSectionEditModel: Unexpected Email Template SubType to Remove: " +
                      e
                  );
              }
            }),
            (t.prototype.BHasSomeSubSection = function () {
              return (
                this.BHasHeadline() ||
                this.BHasBody() ||
                this.BHasImage() ||
                this.BHasCallToAction() ||
                this.BHasVideo()
              );
            }),
            Object(a.c)([i.k], t.prototype, "SetHeadline", null),
            Object(a.c)([i.k], t.prototype, "SetBody", null),
            Object(a.c)([i.k], t.prototype, "SetVideoLink", null),
            Object(a.c)([i.k], t.prototype, "SetVideoHashAndExt", null),
            Object(a.c)([i.k], t.prototype, "SetImage", null),
            Object(a.c)([i.k], t.prototype, "SetButtonTextLock", null),
            Object(a.c)([i.k], t.prototype, "SetButtonDestination", null),
            Object(a.c)(
              [i.k.bound],
              t.prototype,
              "SetButtonDestinationStoreURL",
              null
            ),
            Object(a.c)([i.k], t.prototype, "SetButtonAppOverride", null),
            Object(a.c)([i.k], t.prototype, "RemoveSubSection", null),
            t
          );
        })(r.a);
    },
    R5ed: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return q;
        }),
        n.d(t, "c", function () {
          return re;
        });
      var a,
        i = n("mrSG"),
        r = n("t0uJ"),
        o = n("2vnA"),
        l = n("TyAF"),
        s = n("q1tI"),
        c = n("dsQf"),
        d = n.n(c),
        u = n("mgoM"),
        p = n("kyHq"),
        m = n("Nsq5"),
        _ = n("qD+2"),
        g = n("kLLr"),
        E = n("ir+G"),
        b = n("U+Q5"),
        v = n("I/R6"),
        h = n("UWWC"),
        f = n("Mgs7"),
        S = n("qP7j"),
        O = n("yJqL"),
        y = n("TOXn"),
        C = n("SdTr"),
        j = n("vBFs"),
        T = n("fpVW"),
        I = n.n(T),
        D = n("Txw1"),
        w = n.n(D),
        G = n("exH9"),
        A = n("opsS"),
        M = n("UxvL"),
        k = n("lkRc"),
        L = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnClick = function (e) {
              e.preventDefault();
              var t = this.props,
                n = t.fnHandleOpenEvent,
                a = t.event;
              n && n(a);
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.event,
                n = e.spotlightURLOverride,
                a = e.headerNavElement,
                i = e.fnImageFailureCallback,
                r = e.fnFilterImageURLsForKnownFailures,
                o = e.langOverride || Object(u.d)(k.c.LANGUAGE),
                l =
                  void 0 !== n
                    ? [n]
                    : t.GetImageForSizeAsArrayWithFallback(
                        "spotlight",
                        o,
                        b.c.spotlight_main
                      );
              r && (l = r(l));
              var c = t.GetSummaryWithFallback(o),
                d = t.GetNameWithFallback(0),
                p = t.GetCategoryAsString();
              c = c.replace(/https:\/\/[^ ]*/gi, "").trimLeft();
              var m = s.createElement(
                "span",
                { className: w.a.EventType },
                p,
                "-"
              );
              return s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: w.a.MajorEvent_Ctn },
                  s.createElement(
                    "div",
                    { className: w.a.MajorEventHeader },
                    s.createElement("div", { className: w.a.EventType }, m),
                    s.createElement(
                      "div",
                      { className: w.a.PartnerEventLargeImage_Title },
                      d
                    ),
                    a
                  ),
                  s.createElement(
                    "div",
                    {
                      className: Object(G.a)(
                        w.a.AppDetailsSpotlightContainer,
                        w.a.MajorEventContainer
                      ),
                      onClick: this.OnClick,
                    },
                    s.createElement(
                      "div",
                      { className: w.a.MajorEventBackground },
                      s.createElement(M.a, {
                        className: w.a.MajorEventImageBackgroundBlur,
                        rgSources: l,
                        onIncrementalError: function (e, t, n) {
                          return i && i(t);
                        },
                      })
                    ),
                    s.createElement(
                      "div",
                      { className: w.a.MajorEventImageContainer },
                      s.createElement(M.a, {
                        className: w.a.MajorEventImage,
                        rgSources: l,
                        onIncrementalError: function (e, t, n) {
                          return i && i(t);
                        },
                      }),
                      s.createElement("div", {
                        className: w.a.MajorEventImageTemplate,
                      }),
                      s.createElement(
                        "div",
                        { className: w.a.MajoreEventImageContentContainer },
                        t.BShowLibrarySpotlightText() &&
                          s.createElement(
                            "div",
                            { className: w.a.MajorEventContent },
                            s.createElement(M.a, {
                              className: w.a.MajorEventSpotlightBackground,
                              rgSources: l,
                              onIncrementalError: function (e, t, n) {
                                return i && i(t);
                              },
                            }),
                            s.createElement(
                              "div",
                              { className: w.a.MajorEventTextCtn },
                              s.createElement(
                                "div",
                                { className: w.a.MajorEventTitle },
                                t.GetNameWithFallback(o)
                              ),
                              s.createElement(
                                "div",
                                { className: w.a.MajorEventSummary },
                                c
                              )
                            )
                          )
                      )
                    ),
                    s.createElement("div", { className: w.a.BottomShadow })
                  )
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        N = n("Jqb/"),
        B = n("ka0M"),
        R = n("6Y59"),
        F = n("X3Ds"),
        P = n("TLQK"),
        x = n("6h0J"),
        U = n.n(x),
        H = n("75vw"),
        V = n("bVxH"),
        z = n("6Oks"),
        W = n.n(z);
      !(function (e) {
        (e[(e.k_None = 0)] = "k_None"),
          (e[(e.k_Suggested = 1)] = "k_Suggested"),
          (e[(e.k_Required = 2)] = "k_Required");
      })(a || (a = {}));
      var q = Object(l.a)(function (e) {
          var t = r.c.GetEditModel(),
            n = e.artworkType,
            i = e.headerHint,
            o = null;
          i === a.k_Required
            ? (o = s.createElement(
                "span",
                { style: { color: "#C6512B" } },
                Object(P.f)("#EventEditor_Required")
              ))
            : i === a.k_Suggested &&
              (o = s.createElement(
                "span",
                { style: { color: "#D7BC86" } },
                Object(P.f)("#EventEditor_Suggested")
              ));
          var l = null;
          if ("capsule" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_capsule_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_capsule_2")
              )
            );
          else if ("background" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_background_1")
              )
            );
          else if ("spotlight" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_spotlight_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "strong",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_spotlight_2")
              )
            );
          else if ("broadcast_left" === n || "broadcast_right" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(P.f)("#selectimage_tip_broadcast_1")
              )
            );
          else if ("sale_header" === n)
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: I.a.EventElementRequired },
                Object(P.f)("#selectimage_tip_required_title")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_usage_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_sale_header_1")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_design_title")
                ),
                ": ",
                Object(P.f)("#selectimage_tip_sale_header_2")
              ),
              s.createElement(
                "p",
                null,
                s.createElement(
                  "b",
                  null,
                  Object(P.f)("#selectimage_tip_template_title")
                ),
                ": ",
                s.createElement(
                  "a",
                  {
                    href:
                      "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/SalePageTemplates.zip",
                  },
                  Object(P.f)("#selectimage_tip_sale_header_3")
                )
              ),
              s.createElement("br", null)
            );
          else if ("hero" === n) {
            var c = E.a.GetStoreCapsuleInfo(t.GetAppID());
            l = s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "p",
                null,
                Object(P.f)("#selectimage_tip_hero_1")
              ),
              !c.GetAppStoreData().library_asset_setup_complete &&
                s.createElement(
                  "p",
                  { className: S.ErrorStylesBackground },
                  Object(P.f)("#EventEdtior_ArtworkType_hero_warning")
                )
            );
          } else
            "localized_image_group" === n ||
            "link_capsule" === n ||
            "sale_section_title" === n ||
            "schedule_track_art" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    Object(P.f)("#ImagePickerLoc_Desc")
                  ),
                  s.createElement(
                    "p",
                    null,
                    Object(P.n)(
                      "#ImagePickerLoc_Files",
                      s.createElement(
                        "a",
                        {
                          href:
                            "https://partner.steamgames.com/doc/store/localization#supported_languages",
                          target: k.c.IN_CLIENT ? void 0 : "_blank",
                        },
                        Object(P.f)("#ImagePickerLoc_URL")
                      )
                    )
                  )
                ))
              : "product_banner" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(P.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(P.f)("#selectimage_tip_sale_product_banner")
                  )
                ))
              : "product_mobile_banner" === n ||
                "product_banner_override" === n ||
                "product_mobile_banner_override" === n
              ? (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: I.a.EventElementOptional },
                    Object(P.f)("#selectimage_tip_optional_title")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ": ",
                    Object(P.f)("#selectimage_tip_sale_product_banner"),
                    "product_mobile_banner" === n &&
                      s.createElement(
                        "span",
                        null,
                        "  ",
                        Object(P.f)(
                          "#selectimage_tip_sale_product_banner_mobile"
                        )
                      )
                  )
                ))
              : "tab_bar_background" === n &&
                (l = s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(P.f)("#selectimage_tip_design_title")
                    ),
                    ":",
                    Object(P.f)("#Sale_Tabs_Background_Design")
                  ),
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "strong",
                      null,
                      Object(P.f)("#selectimage_tip_usage_title")
                    ),
                    ":",
                    Object(P.f)("#Sale_Tabs_Background_Usage")
                  )
                ));
          var d = m.a[e.artworkType].width,
            u = m.a[e.artworkType].height;
          return s.createElement(
            "div",
            { id: e.id, className: W.a.ArtworkSelectorContainer },
            s.createElement(
              "div",
              { className: W.a.Title, onDoubleClick: e.fnToggleMinimize },
              e.title,
              s.createElement("span", null, ""),
              o,
              e.fnToggleMinimize &&
                s.createElement(
                  f.d,
                  {
                    "data-tooltip-text": Object(P.f)(
                      e.bIsMinimized
                        ? "#Sale_Section_Maximize_Tooltip"
                        : "#Sale_Section_Minimize_Tooltip"
                    ),
                    onClick: e.fnToggleMinimize,
                  },
                  e.bIsMinimized
                    ? s.createElement(R.H, null)
                    : s.createElement(R.K, null)
                )
            ),
            !e.bIsMinimized &&
              s.createElement(
                "div",
                { className: Object(G.a)(W.a.SelectImageBlock, W.a.Tips) },
                l,
                Boolean(d && u) &&
                  s.createElement(
                    "p",
                    null,
                    s.createElement(
                      "b",
                      null,
                      Object(P.f)("#selectimage_tip_dimensions_title")
                    ),
                    ":",
                    Object(P.n)("#selectimage_tip1", d, u)
                  ),
                Boolean(e.strWarning) &&
                  s.createElement(
                    "div",
                    null,
                    s.createElement(
                      "p",
                      { className: S.WarningStylesWithIcon },
                      e.strWarning
                    )
                  ),
                e.elEventArtworkExample,
                "",
                s.createElement("br", null),
                e.elAdditionalControls,
                Boolean(e.fnRemoveAllArtwork) &&
                  s.createElement(
                    f.d,
                    {
                      onClick: function (t) {
                        Object(B.d)(
                          s.createElement(Y, {
                            fnRemoveAllArtwork: e.fnRemoveAllArtwork,
                          }),
                          Object(F.m)(t)
                        );
                      },
                    },
                    Object(P.f)("#Sale_RemoveAll")
                  )
              ),
            !e.bIsMinimized &&
              s.createElement(J, {
                clanSteamID: e.clanSteamID,
                title: e.title,
                imageWidth: d,
                imageHeight: u,
                artworkType: e.artworkType,
              })
          );
        }),
        Y = function (e) {
          var t = e.fnRemoveAllArtwork,
            n = e.closeModal;
          return s.createElement(N.d, {
            strTitle: Object(P.f)("#Sale_RemoveAll"),
            strDescription: Object(P.f)("#ImageUpload_DeleteAll_Confirm"),
            onOK: function () {
              t(), n();
            },
            onCancel: n,
          });
        },
        J = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                langOverride: v.a.Get().GetCurEditLanguage(),
                lastSelection: new Array(),
              }),
              t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnUpdateAndMoveClanImageLang = function (e, t, n) {
              var a = this,
                i = r.c.GetEditModel();
              Object(o.G)(function () {
                var r = a.props.artworkType;
                i.GetImageHash(r, t) == e.image_hash &&
                  i.SetImageURL(r, null, t),
                  i.SetImageURL(r, e, n),
                  a.InsertOrUpdateClanImageAndLangMapping(e, n, !1);
              });
            }),
            (t.prototype.OnRemoveImage = function (e) {
              r.c.GetEditModel().SetImageURL(this.props.artworkType, null, e);
            }),
            (t.prototype.InsertOrUpdateClanImageAndLangMapping = function (
              e,
              t,
              n
            ) {
              var a,
                i = this.state.lastSelection;
              i.find(function (t) {
                return t.clanImage.imageid == e.imageid;
              })
                ? (a = i.map(function (n) {
                    return n.clanImage.imageid == e.imageid
                      ? { clanImage: e, lang: t }
                      : n;
                  }))
                : n && (a = i.concat({ clanImage: e, lang: t })),
                this.setState({ lastSelection: a });
            }),
            (t.prototype.OnLanguageChange = function (e) {
              e != this.state.langOverride &&
                this.setState({ langOverride: e });
            }),
            (t.prototype.OnSpotlightChange = function (e) {
              var t = r.c.GetEditModel();
              e && !t.BHasImage("spotlight", 0)
                ? (console.error("EventArtworkSelector: OnSpotlightChange"),
                  Object(B.d)(
                    s.createElement(N.f, {
                      strTitle: Object(P.f)("#Error_FailureNotice"),
                      strDescription: Object(P.f)(
                        "#EventEditor_Options_Spotlight_Error",
                        Object(P.f)("#EventEditor_Artwork")
                      ),
                    }),
                    window
                  ))
                : t.SetLibrarySpotlight(e);
            }),
            (t.prototype.OnSpotlightTextChange = function (e) {
              r.c.GetEditModel().SetLibrarySpotlightText(e);
            }),
            (t.prototype.render = function () {
              var e = r.c.GetEditModel(),
                t = e.BHasImage("spotlight", 0),
                n = "localized_image_group" === this.props.artworkType;
              return "hero" === this.props.artworkType
                ? s.createElement(
                    "div",
                    { style: { padding: "16px" } },
                    s.createElement(
                      f.d,
                      {
                        style: { textTransform: "uppercase", width: "200px" },
                        onClick: function () {
                          return window.open(
                            k.c.PARTNER_BASE_URL +
                              "admin/game/edit/" +
                              e.GetStoreItemID() +
                              "?activetab=tab_graphicalassets"
                          );
                        },
                      },
                      Object(P.f)("#ImageUpload_EditHeroImage")
                    )
                  )
                : s.createElement(
                    "div",
                    null,
                    s.createElement(Q, {
                      list: this.state.lastSelection,
                      fnOnArtworkLanguageChange: this
                        .OnUpdateAndMoveClanImageLang,
                    }),
                    s.createElement(
                      "div",
                      null,
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(f.p, {
                            onChange: this.OnSpotlightChange,
                            label: Object(P.f)(
                              "#EventEditor_Options_Spotlight_Label"
                            ),
                            checked: e.GetEventModel().BShowLibrarySpotlight(),
                            disabled: !t,
                            description: Object(P.f)(
                              "#EventEditor_Options_Spotlight_Desc",
                              Object(P.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      "spotlight" === this.props.artworkType &&
                        s.createElement(
                          "div",
                          { className: W.a.SpotlightOptions },
                          s.createElement(f.p, {
                            onChange: this.OnSpotlightTextChange,
                            label: Object(P.f)(
                              "#EventEditor_Options_SpotlightText_Label"
                            ),
                            checked: e
                              .GetEventModel()
                              .BShowLibrarySpotlightText(),
                            disabled: !t,
                            description: Object(P.f)(
                              "#EventEditor_Options_SpotlightText_Desc",
                              Object(P.f)("#EventEditor_Artwork")
                            ),
                          })
                        ),
                      s.createElement(
                        "div",
                        {
                          className: Object(G.a)(
                            W.a.SelectImageBlock,
                            W.a.MainPreviewBlock
                          ),
                        },
                        s.createElement(ie, {
                          clanSteamID: this.props.clanSteamID,
                          fnOnLanguagePreviewChange: this.OnLanguageChange,
                          langOverride: this.state.langOverride,
                          fnOnArtworkLangChange: n
                            ? null
                            : this.OnUpdateAndMoveClanImageLang,
                          artworkType: this.props.artworkType,
                          fnOnRemoveImage: n ? null : this.OnRemoveImage,
                        })
                      )
                    )
                  );
            }),
            Object(i.c)(
              [A.a],
              t.prototype,
              "OnUpdateAndMoveClanImageLang",
              null
            ),
            Object(i.c)([A.a], t.prototype, "OnRemoveImage", null),
            Object(i.c)(
              [A.a],
              t.prototype,
              "InsertOrUpdateClanImageAndLangMapping",
              null
            ),
            Object(i.c)([A.a], t.prototype, "OnLanguageChange", null),
            Object(i.c)([A.a], t.prototype, "OnSpotlightChange", null),
            Object(i.c)([A.a], t.prototype, "OnSpotlightTextChange", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Q = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.ShowLangChangeDialog = function (e, t) {
              var n = this.props.fnOnArtworkLanguageChange;
              Object(B.d)(
                s.createElement(Z, {
                  clanImage: e,
                  lang: t,
                  fnOnArtworkLangChange: n,
                }),
                window
              );
            }),
            (t.prototype.GenerateImageMappings = function () {
              var e = this,
                t = new Array();
              return (
                this.props.list.forEach(function (n) {
                  var a = n.clanImage,
                    i = n.lang,
                    r = Object(P.f)("#Language_" + Object(u.a)(i));
                  t.push(
                    s.createElement(
                      "div",
                      {
                        key: "img_lang_" + n.clanImage.imageid + "_" + i,
                        className: I.a.FlexRowContainer,
                      },
                      s.createElement(
                        "span",
                        null,
                        Object(P.f)(
                          "#ImageUpload_Success_Mapping",
                          a.file_name,
                          r
                        )
                      ),
                      s.createElement(
                        "a",
                        {
                          onClick: function () {
                            return e.ShowLangChangeDialog(a, i);
                          },
                        },
                        Object(P.f)("#ImageUpload_Success_Mapping_Change")
                      )
                    )
                  );
                }),
                t
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.list;
              if (!e || 0 == e.length) return s.createElement("div", null);
              var t = this.GenerateImageMappings();
              return s.createElement("div", { className: H.UploadSuccess }, t);
            }),
            Object(i.c)([A.a], t.prototype, "ShowLangChangeDialog", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        Z = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { selectedLang: t.props.lang }), t;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnOK = function () {
              this.props.fnOnArtworkLangChange(
                this.props.clanImage,
                this.props.lang,
                this.state.selectedLang
              );
            }),
            (t.prototype.OnLanguageChange = function (e) {
              this.state.selectedLang != e &&
                this.setState({ selectedLang: e });
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.clanImage,
                n = e.closeModal,
                a = (e.lang, g.a.InitFromClanID(t.clanAccountID)),
                i = b.a.GenerateArtworkURLFromHashAndExtensions(
                  a,
                  b.a.GetHashAndExt(t)
                ),
                o = r.c.GetEditModel();
              return s.createElement(
                N.d,
                {
                  strTitle: Object(P.f)(
                    "#selectimage_change_artwork_lang_title"
                  ),
                  strDescription: Object(P.f)(
                    "#selectimage_change_artworl_lang_desc"
                  ),
                  onOK: this.OnOK,
                  onCancel: n,
                  closeModal: n,
                },
                s.createElement(
                  "div",
                  {
                    className: Object(G.a)(
                      I.a.FlexColumnContainer,
                      W.a.ReassignCtn
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    s.createElement("img", {
                      className: W.a.ArtworkPreview,
                      src: i,
                    })
                  ),
                  s.createElement(j.a, {
                    selectedLang: this.state.selectedLang,
                    fnLangHasData: o.BHasTitleImage,
                    fnOnLanguageChanged: this.OnLanguageChange,
                    realms: o.GetIncludedRealmList(),
                  })
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnOK", null),
            Object(i.c)([A.a], t.prototype, "OnLanguageChange", null),
            t
          );
        })(s.Component),
        K = Object(l.a)(function (e) {
          var t = e.imgURL,
            n = r.c.GetEditModel(),
            a = v.a.Get().GetCurEditLanguage();
          return s.createElement(
            "div",
            { style: { display: "flex", width: "304px" } },
            s.createElement(C.b, {
              event: n.GetEventModel(),
              imageURLOverride: t,
              langOverride: a,
            })
          );
        }),
        X = function (e) {
          var t = e.lang,
            n = r.c.GetEditModel().GetEventModel(),
            a = n.GetNameWithFallback(t),
            i = n.GetDescriptionWithFallback(t),
            o = n.GetSubTitleWithLanguageFallback(t),
            l = i
              ? s.createElement(y.a, {
                  text: i || "",
                  partnerEventStore: r.c,
                  showErrorInfo: !1,
                  event: n,
                  languageOverride: v.a.Get().GetCurEditLanguage(),
                })
              : Object(P.f)("#selectimage_display_event_body");
          return s.createElement(
            "div",
            { className: W.a.MultipleExampleContainer },
            s.createElement(
              "div",
              { className: W.a.ExampleSectionTitle },
              Object(P.f)("#selectimage_preview_title_1")
            ),
            s.createElement(
              "div",
              {
                className: Object(G.a)(
                  W.a.DetailPageExample,
                  "DetailPageExample"
                ),
              },
              s.createElement(
                "div",
                { className: W.a.detailExample },
                s.createElement(
                  "div",
                  { className: W.a.MainImageCtn },
                  s.createElement("img", { src: e.imgURL })
                ),
                s.createElement(
                  "div",
                  { className: W.a.ExampleBodyPosition },
                  s.createElement(
                    "div",
                    { className: W.a.ExampleContentCtn },
                    s.createElement(
                      "div",
                      { className: W.a.TextTitle },
                      a || Object(P.f)("#selectimage_display_event_title")
                    ),
                    s.createElement(
                      "div",
                      { className: W.a.TextSubTitle },
                      o || Object(P.f)("#selectimage_display_event_subtitle")
                    ),
                    s.createElement("div", { className: W.a.TextBody }, l)
                  )
                )
              )
            ),
            12 != n.type &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement("div", { className: W.a.ExampleSpacer }),
                s.createElement(
                  "div",
                  { className: W.a.ExampleSectionTitle },
                  Object(P.f)("#selectimage_preview_title_2")
                ),
                s.createElement(
                  "div",
                  {
                    className: Object(G.a)(
                      W.a.DetailPageExample,
                      "DetailPageExample"
                    ),
                  },
                  s.createElement(
                    "div",
                    { className: W.a.detailExample2 },
                    s.createElement(O.d, {
                      key: n.AnnouncementGID,
                      event: n,
                      emoticonStore: h.b,
                      partnerEventStore: r.c,
                      appStore: _.a,
                      headerClassnames: "editor",
                      langOverride: t,
                      bDisableBroadcastPlayer: !0,
                    })
                  )
                )
              )
          );
        },
        $ = function (e) {
          var t = E.a.GetStoreCapsuleInfo(e.event.appid).GetAppStoreData(),
            n = t.title,
            a = t.icon_url;
          return s.createElement(
            "div",
            { className: W.a.SpotlightExample },
            s.createElement(L, {
              event: e.event,
              strDisplayName: n,
              gameIconUrl: a,
              spotlightURLOverride: e.imgURL,
              langOverride: e.lang,
            })
          );
        },
        ee = function (e) {
          var t = [
            s.createElement("img", { key: "img", src: e.imgURL }),
            s.createElement("div", {
              key: "video",
              className: W.a.BroadcastPreview,
            }),
          ];
          return (
            "right" === e.side && t.reverse(),
            s.createElement(
              "div",
              { className: W.a.BroadcastPreviewContainer },
              t
            )
          );
        },
        te = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ne = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ae = function (e) {
          return s.createElement(
            "div",
            { className: W.a.SaleHeaderPreviewContainer },
            s.createElement("img", { style: { width: "100%" }, src: e.imgURL })
          );
        },
        ie = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { langOverride: v.a.Get().GetCurEditLanguage() }), t
            );
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.langOverride,
                n = e.artworkType,
                a = e.fnOnLanguagePreviewChange,
                i = e.clanSteamID,
                o = r.c.GetEditModel(),
                l = o.GetImageURL(
                  this.props.artworkType,
                  this.props.langOverride
                );
              return o.BHasSomeImage(n)
                ? s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === n && s.createElement(K, { imgURL: l }),
                    "background" === n &&
                      s.createElement(X, {
                        imgURL: l,
                        lang: v.a.Get().GetCurEditLanguage(),
                      }),
                    "spotlight" === n &&
                      s.createElement($, {
                        imgURL: l,
                        event: o.GetEventModel(),
                        lang: o.GetCurEditLanguage(),
                      }),
                    ("broadcast_left" === n || "broadcast_right" === n) &&
                      s.createElement(ee, {
                        imgURL: l,
                        side: "broadcast_right" === n ? "right" : "left",
                      }),
                    "sale_header" === n && s.createElement(te, { imgURL: l }),
                    "sale_overlay" === n && s.createElement(ne, { imgURL: l }),
                    Boolean(
                      "localized_image_group" === n ||
                        "link_capsule" === n ||
                        "product_mobile_banner_override" === n ||
                        "product_banner_override" === n ||
                        "sale_section_title" === n ||
                        "schedule_track_art" === n
                    ) &&
                      s.createElement("img", {
                        className: V.previewimg,
                        src: b.d.GetLocalizedImageGroupForEditAsURL(i, t),
                      }),
                    "product_banner" === n &&
                      s.createElement(ae, { imgURL: l }),
                    "product_mobile_banner" === n &&
                      s.createElement(ae, { imgURL: l }),
                    s.createElement(re, {
                      langOverride: t,
                      clanSteamID: i,
                      fnOnLanguagePreviewChange: a,
                      fnOnRemoveImage: this.props.fnOnRemoveImage,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                      fnGetImageHash: function (e) {
                        return o.GetImageHash(n, e);
                      },
                    })
                  )
                : s.createElement(
                    "div",
                    { className: W.a.ImagePreviewContainer },
                    "capsule" === n &&
                      s.createElement(K, {
                        imgURL:
                          k.c.IMG_URL + "events/defaults/default_img_cover.jpg",
                      }),
                    "background" === n &&
                      s.createElement(X, {
                        imgURL:
                          k.c.IMG_URL +
                          "events/defaults/default_img_header.jpg",
                        lang: o.GetCurEditLanguage(),
                      }),
                    "spotlight" === n &&
                      s.createElement($, {
                        lang: v.a.Get().GetCurEditLanguage(),
                        imgURL:
                          k.c.IMG_URL +
                          "events/defaults/default_img_spotlight.jpg",
                        event: o.GetEventModel(),
                      }),
                    s.createElement(
                      "div",
                      null,
                      Object(P.f)("#EventEditor_ArtworkMissing")
                    )
                  );
            }),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component),
        re = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(i.d)(t, e),
            (t.prototype.OnCloseDeleteDialog = function () {}),
            (t.prototype.OnChangeImageLanguage = function (e) {
              var t = Object(u.d)(e.currentTarget.id);
              this.props.fnOnLanguagePreviewChange(t);
            }),
            (t.prototype.OnChangeLanguage = function (e) {
              var t = this.props,
                n = t.fnGetImageHash,
                a = t.clanSteamID,
                i = +e.currentTarget.dataset.lang,
                r = n(i);
              if (r) {
                var o = b.d.GetClanImageByImageHash(a, r);
                o &&
                  Object(B.d)(
                    s.createElement(Z, {
                      clanImage: o,
                      lang: i,
                      fnOnArtworkLangChange: this.props.fnOnArtworkLangChange,
                    }),
                    window
                  );
              }
            }),
            (t.prototype.OnDeleteClick = function (e) {
              var t = this;
              e.stopPropagation(), e.preventDefault();
              var n = +e.currentTarget.dataset.lang;
              Object(B.d)(
                s.createElement(N.d, {
                  strTitle: Object(P.f)("#selectimage_remove_image"),
                  strDescription: Object(P.f)(
                    "#selectimage_remove_details",
                    Object(P.f)("#Language_" + Object(u.a)(n))
                  ),
                  closeModal: this.OnCloseDeleteDialog,
                  onOK: function () {
                    t.props.fnOnRemoveImage(n);
                  },
                  onCancel: this.OnCloseDeleteDialog,
                }),
                Object(F.m)(e)
              );
            }),
            (t.prototype.ConstructLanguages = function () {
              for (
                var e = this.props,
                  t = e.langOverride,
                  n = e.fnGetImageHash,
                  a = e.clanSteamID,
                  i = new Array(),
                  r = a.GetAccountID(),
                  o = Array(),
                  l = 0,
                  c = P.b.GetLanguageListForRealms([
                    p.f.k_ESteamRealmGlobal,
                    p.f.k_ESteamRealmChina,
                  ]);
                l < c.length;
                l++
              ) {
                var m = c[l],
                  _ = n(m);
                if (_) {
                  var g = Object(u.a)(m),
                    E = Object(P.f)("#Language_" + g);
                  o.push({ lang: m, strLang: g, locLang: E, imgHash: _ });
                }
              }
              for (
                var v = 0,
                  h = (o = o.sort(function (e, t) {
                    return e.locLang > t.locLang
                      ? 1
                      : e.locLang < t.locLang
                      ? -1
                      : 0;
                  }));
                v < h.length;
                v++
              ) {
                var f = h[v],
                  S = b.d.GetClanImageByImageHash(a, f.imgHash),
                  O = S
                    ? b.a.GenerateArtworkURLFromHashAndExtensions(
                        this.props.clanSteamID,
                        b.a.GetHashAndExt(S),
                        b.c.full,
                        f.lang
                      )
                    : "",
                  y =
                    t == f.lang
                      ? W.a.LanguageSelectorSelected
                      : f.imgHash
                      ? W.a.LanguageSelector
                      : W.a.LanguageSelectorNoData;
                i.push(
                  s.createElement(
                    "div",
                    {
                      key: "lang_select_" + r + " " + f.strLang,
                      id: f.strLang,
                      className: W.a.LanguageContainer,
                      onClick: this.OnChangeImageLanguage,
                    },
                    s.createElement("div", { className: y }, f.locLang),
                    s.createElement(
                      "span",
                      { className: W.a.LanguageOptions },
                      Boolean(O) &&
                        s.createElement(
                          "a",
                          {
                            href: O,
                            target: "_blank",
                            "data-tooltip-text": Object(P.f)(
                              "#selectimage_viewimage_ttip"
                            ),
                          },
                          R.Q()
                        ),
                      this.props.fnOnArtworkLangChange &&
                        s.createElement("img", {
                          "data-lang": f.lang,
                          src: U.a,
                          onClick: this.OnChangeLanguage,
                          "data-tooltip-text": Object(P.f)(
                            "#selectimage_reassign_image_ttip"
                          ),
                        }),
                      this.props.fnOnRemoveImage &&
                        s.createElement("img", {
                          "data-lang": f.lang,
                          src: d.a,
                          onClick: this.OnDeleteClick,
                          "data-tooltip-text": Object(P.f)(
                            "#selectimage_delete_image_ttip"
                          ),
                        })
                    )
                  )
                );
              }
              return i;
            }),
            (t.prototype.render = function () {
              var e = this.ConstructLanguages();
              return s.createElement(
                "div",
                { className: W.a.SelectImageLanguagesCtn },
                s.createElement(
                  "div",
                  { className: W.a.SelectImageTitle },
                  Object(P.f)("#selectimage_uploaded_languages")
                ),
                s.createElement(
                  "div",
                  { className: W.a.LanguageListContainer },
                  e
                )
              );
            }),
            Object(i.c)([A.a], t.prototype, "OnCloseDeleteDialog", null),
            Object(i.c)([A.a], t.prototype, "OnChangeImageLanguage", null),
            Object(i.c)([A.a], t.prototype, "OnChangeLanguage", null),
            Object(i.c)([A.a], t.prototype, "OnDeleteClick", null),
            (t = Object(i.c)([l.a], t))
          );
        })(s.Component);
    },
    TScJ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEM4RUZCNTdFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEM4RUZCNThFMEFBMTFFQTk3QkZGOEEyQ0E5MzQ5RkEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0QzhFRkI1NUUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0QzhFRkI1NkUwQUExMUVBOTdCRkY4QTJDQTkzNDlGQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Plzu/oAAAAnSSURBVHja7J2Ndds4DIDhTqANwg3iTmB1gniD6CawbwK7E7g3gXMTuJ3A6QROJpA3UDbwWT0qVhRSIiWCv8B7fO5r04iWPuGHAMEZpCPZdbDrmF/HHf9z1voE/meRnFufb63PV/75wj+Dk8vlovXzs4jhyK9jwQGZt6DAkhcO0jMHKQiIUgUm41A8XMeyR1PYlmc+fvPP4IEJHZLiOo7XUdXf3fNRXseeaz6vgNEZIUp9ww+BQDIEDyNg8LTJNnBIZKPWkI8EjBmp38BdpKCItM6jba0TCzCMq+xLgqPk2pQRMGqm50eioMg0DgEjkW0ipscrcEIEJuc3heDoHyhRVUjAkPnRH7UGXqcIDGmV6aE4SwUY0ioe+TY+A8P4m0EP2+zYxQjMnEwQ6jiNNVE+AlPQA7VmoljowGzpQVqPopahAkPOrbuxDg2YJ3pozsc2FGAIloCgcQ0MwRIYNC6BIZ8lQJ/GFTAUDfk/lr4As6aHEUzIPZ8KzNRtJjlf7ieRS7Px7UWSsW+2yGQW5lLP4xvcNuZZXe5ntNwvfZP3PDF4p5k+Kfj/xSwkO7kySQTL55KDheGUClaydmcbGIqI8EARaXKMgvhHW8BQMvGW7FuAPSkMa/Xa7DFsYMhvuan0DOxLxq9tTDtiA7MHcmid7VJEWspYYwFTkAn6vI7hUOaGoikt00SmCLE4KSBojqYX7uqoaJXwwtvX9mLXCL8jh49dr9oLelObD815pDbVp/p2BeLZVFhHORh9SFaa6yhTujgUhrRoZsIkpezobkaAsp1oJsZuHzERPW2mAjNP3G/RNQ0luPObMgPXr4a0zJCkvI9I52GtFR/Gid/TZlRgNozPsbUM9sVD3viuKtuBB74ZCMeZwiruVmM+R0wt0ycH0i6jNUs1wv8ZWv5/9EHLUGQ0XrswMLwLsfV7D7IFNltaRheYlCMj1YRiKYHFVI7pCQZqWZC1zKMqMClrl3KC31IiJCRFmkZlk1pmYAX4qApMQeZIO01SAU7qIJNcSwVME1Yi7wLzRXChVFMAtfxUVPdMkDo5I8ynThf8LYBIxQH+beD6D5QG6B8qb+5p4gLfGDkK0gg2nmU1ZJJ2CcNSjXwIewvArEbCbSKTnfeZpCWkKy+Ky/+iaAZbfinOpSsmzOQHs/SlMwGWMDAqN/de8HevluZ2VpgLBjCFDJgFpC0q9ShM8EDeHAHNDH2nwUhtNpvlImCWBExQ87NZhL4QAZMnDszZ8/llDq/9ScOkDkvtuP5LgMud/atZytrApOy/1Df++wQ/wtabPzfgc03RbnPSMP/LVuNtfe2z78iwZCOWAUzCfN8GZp4oLLqm6LnPviPKw8hwnhmG9p1C2mukLt1l+grwzVI3AXlUfMBG71ez0puqdilGOo4/BWp/gzjPtQDspxE+z1RhjeO7SlC7THnAsloTDNPEBNpFNdmJUWL7p0FSaglHE9nljUET1wemqKpPtbYXo4vVg8gmU4G3mpwQocl6fr+qucW4dyvZFydTpOYjVGC+ywOTaBabReC9rc4qMkWTHGdTh3oObbNVzfXlgFzCuof4W3lg1dzK/JnuTV5Krp/xf9sNvLg6ux8xXYxj922J1Txh1ykXipq64i9nqfHzC0Maz3jL1vZSd0z7kmyUUPb5HrZOjmUWLEU5NIEicHPlonPU1Hs2tt3HHjzyAxcQ5l5rlw0MCw1/ooJp/X5tnfdQzUao3Q2I9+b4mFj8y5O5LOCWcZa1LBsrOQRy3oPOG0RNDHHEVFNEnWHE2duDX+s5KRSE5Q7ueWXyC2SeOMm7BGBZQzyLn05Dc4wOCj5JBm7P1UTfFmw7NI/Zb1l6oL2tOtcPyE7yJlJQco+Ci+PMwQ2YGpqfeRh6ho+V898jgqRp6bEEvwr0f7qegGpoXv9MnQ+6g3hlDrfu4b5WEOx8ull7sH/amQvNsW+NI4SVevGu2RRraZ3Y1lJyCL+M5AFIrGiVWM7InM8CfQC1CbuHj1tVayf4teUQ+2JqD7GE+5fLZRYiLCpZ86ZEwOWDWkNc5a8nm4eiY/g6KvmrEtT62pqeW4w7MQ4hA9N1koecyZMlbZNDvEX1qxiAactQ/gqz5CEmx1ZaARAbMF1zZQsa0wdreTnGnlsdGjgl4CbQ1rGDAp1zB2IXGTRrA783pS3GKxEwhQehKBY0XUd0Sk+XJaSzW/R9wU4ETA4f9/LkEUEjMh1jToz9kRgo742EZCaplCyAxVDFVk3wZZJwbCVj3wfMpie62AdurkTf7W6kdkrqhLo+YHJQq015DBAYUc+3R3Js1c2RLEpSvUm11tkFpnW6ZmlHjq26OZIBsxnziwNxkksY3qhfECi3onqVI/z+Af2DGgq4VY+FHprHXAaqI89XQM7dvxQBU8PyNGHN46nlJPvW0jUTfFcSsQgZ+CL54V8GLlhrnRMfPjjJTADMWQGqFOV81S7ah3WYjhBch+Yi32Rh4XuHOISHnA/lknLECblwkEUgqDjGyYfSQ07vu9MD4sMYTIjt6nPRhrAnidlikLY8TfnPWFqm7PEzMBzdUtEcFaRd5NpFtbwBy6bnEkBNh+aiovGD5GdPQL7LZGAY0uRkyb+doQXBTAK7rGdvTtqlHxadAqqdRS0jMiG6WfO+1hgry5o0Gu2iA0yGlFs59mg1Wb/9prN21plfDd92wKxsNELupHNGU4Fp3lqMya41oTHdP8b0dYJsq48BDJba7jsHIDNgDkvo39i/T1y7rFRhGQMMQzJNQ9s/2AhYK65V+vyebeKwHHVgGbtrAMs0qewZYtDfdKep0VFpFZI6LKWOKZq6zWTnEJqu3I1IGP4Ayhf9SQjbAiZDXOSqAG8DPaPFuY8BgC1gMP0ZjA30Q6edpTQ+nHlkExhbq6OHiau9BEqPydcFxkRHoTXY6a54bmXQX+Fz29VG6835WEBcm/GmSn2vvkKnaMzVfumN47eGNMjIAztsm6RuHQU9mMAOGnMJDEET4FndroEhaAI72N0HYAiaQGDxCRjM1WAaBg9H9QkY19FTqqUKWi33fQOmWaehh+npwag+AgOQdkMeWyeljUqj+AoMJf48PcPIZ2DIrzHvryynPowQgGmSlmSiHJigUIFpMskUeutrFaOnooUEDGkbR1oldGDavg2Bo7/rIVlgmkhqT5DgmJ8YgSFw1LbHEDAEjl1QYgWmDU4RqY9TO7POjveNFZi2LCLQOo02Wbi+mSkA017HqbXOISBIduDZAe4udg34Ig98qbzZNeBa6ir9+gztZz5++3jTdLVGTMB0fZ57vijYAITtTJ45GC98vEIAjaMJmH4Tdg+3TpmstXLa/RTB0Hy+tbTHG8j3SAUhusD8J8AACcnjDcoQidMAAAAASUVORK5CYII=";
    },
    Tgxo: function (e, t, n) {
      e.exports = {
        MigrateToolCtn: "migratetool_MigrateToolCtn_fGggy",
        ToolHeader: "migratetool_ToolHeader_2cI57",
        StatusMessage: "migratetool_StatusMessage_1YCAU",
        ClanRow: "migratetool_ClanRow_2PbMC",
        ID: "migratetool_ID_1YSGm",
        ClanName: "migratetool_ClanName_2VUhh",
        Counts: "migratetool_Counts_3uIV0",
        LinkedAnnouncements: "migratetool_LinkedAnnouncements_3u41k",
        MigrateEventsButton: "migratetool_MigrateEventsButton_3-jPB",
        CompleteMessage: "migratetool_CompleteMessage_3f-Cw",
        LoadEventsButton: "migratetool_LoadEventsButton_2qtK6",
      };
    },
    Txw1: function (e, t, n) {
      e.exports = {
        ReadMoreLink: "spotlight_ReadMoreLink_2mvgc",
        MajorEventContainer: "spotlight_MajorEventContainer_dVJB2",
        MajorEventImageContainer: "spotlight_MajorEventImageContainer_1PkTB",
        MajorEventImage: "spotlight_MajorEventImage_25fL1",
        BottomShadow: "spotlight_BottomShadow_1ueE9",
        MajoreEventImageContentContainer:
          "spotlight_MajoreEventImageContentContainer_3mREW",
        MajorEventImageTemplate: "spotlight_MajorEventImageTemplate_lQR9_",
        MajorEventBackground: "spotlight_MajorEventBackground_388Iu",
        MajorEventImageBackgroundBlur:
          "spotlight_MajorEventImageBackgroundBlur_3sVs6",
        MajorEventHeader: "spotlight_MajorEventHeader_1HL2n",
        EventType: "spotlight_EventType_3zVyX",
        GameIconAndName: "spotlight_GameIconAndName_IltgR",
        GameIcon: "spotlight_GameIcon_3Dkj3",
        MajorEventSpotlightBackground:
          "spotlight_MajorEventSpotlightBackground_1aheP",
        MajorEventContent: "spotlight_MajorEventContent_2nr7N",
        MajorEventTextCtn: "spotlight_MajorEventTextCtn_Ojdg2",
        MajorEventTitle: "spotlight_MajorEventTitle_nEBZT",
        MajorEventSummary: "spotlight_MajorEventSummary_HPngO",
        MajorEvent_Ctn: "spotlight_MajorEvent_Ctn_2_kU7",
        AppDetailsSpotlightContainer:
          "spotlight_AppDetailsSpotlightContainer_1zDJ1",
      };
    },
    U6Vi: function (e, t, n) {
      e.exports = {
        CenterAlign: "partnereventemails_CenterAlign_cMmai",
        ControlBarCtn: "partnereventemails_ControlBarCtn_1RQ0B",
        ButtonSettingContainer:
          "partnereventemails_ButtonSettingContainer_3jwD2",
        ButtonSettingRow: "partnereventemails_ButtonSettingRow_1mF5p",
        DevHeader: "partnereventemails_DevHeader_35PpK",
        EmailTabCtn: "partnereventemails_EmailTabCtn_fDsyX",
        EmailInputText: "partnereventemails_EmailInputText_1UcSg",
        EmailBackground: "partnereventemails_EmailBackground_bEP0P",
        DevEmailEmailBackground:
          "partnereventemails_DevEmailEmailBackground_20Vcu",
        EmailEditorContent: "partnereventemails_EmailEditorContent_1nDhB",
        EmailIconHeader: "partnereventemails_EmailIconHeader_3LZBl",
        FooterLegal: "partnereventemails_FooterLegal_bJOii",
        EditImageInputCtn: "partnereventemails_EditImageInputCtn_1LyXp",
        EmailInput: "partnereventemails_EmailInput_2D8AC",
        EmailOptionTitle: "partnereventemails_EmailOptionTitle_1zLvJ",
        EmailSection: "partnereventemails_EmailSection_1zUIk",
        EmailSubjectCtn: "partnereventemails_EmailSubjectCtn_BHpFD",
        EmailSubjectSelect: "partnereventemails_EmailSubjectSelect_18xOZ",
        EmailTemplate: "partnereventemails_EmailTemplate_18iTr",
        EmailTextCtn: "partnereventemails_EmailTextCtn_1rQlP",
        HeadlineInput: "partnereventemails_HeadlineInput_2lHX9",
        Footer: "partnereventemails_Footer_23AXh",
        ImgCrossCtn: "partnereventemails_ImgCrossCtn_59gyF",
        FullImageCtn: "partnereventemails_FullImageCtn_uv6NV",
        BodyInput: "partnereventemails_BodyInput_3VRhY",
        Hello: "partnereventemails_Hello_Gd3d5",
        Reason: "partnereventemails_Reason_10TSv",
        RecipientCtn: "partnereventemails_RecipientCtn_330Dr",
        GameLink: "partnereventemails_GameLink_39DSS",
        RightAlign: "partnereventemails_RightAlign_zffsf",
        TargetAndAudience: "partnereventemails_TargetAndAudience_3h8QM",
        VideoCtn: "partnereventemails_VideoCtn_2mtrE",
        VideoInputCtn: "partnereventemails_VideoInputCtn_1ESNV",
        ButtonDestInputSaleURL:
          "partnereventemails_ButtonDestInputSaleURL_3Lr4k",
        DevEmailTemplate: "partnereventemails_DevEmailTemplate_sC9ZV",
        DevEmail_Content: "partnereventemails_DevEmail_Content_25Gtl",
        DevEmail_HearComes: "partnereventemails_DevEmail_HearComes_3nvmQ",
        DevEmail_TopLogo: "partnereventemails_DevEmail_TopLogo_1dbBh",
        DevEmail_TopHeader: "partnereventemails_DevEmail_TopHeader_2lmZl",
        DevEmail_Subject: "partnereventemails_DevEmail_Subject_37Wbo",
        DevEmail_SignOff_Img: "partnereventemails_DevEmail_SignOff_Img_KW2YG",
        DevEmail_Signoff: "partnereventemails_DevEmail_Signoff_3iJuG",
        DevEmail_Footer_Ctn: "partnereventemails_DevEmail_Footer_Ctn_RINyW",
        DevEmail_Footer_Reason:
          "partnereventemails_DevEmail_Footer_Reason_1h_Bm",
        DevEmail_Footer_SubSection:
          "partnereventemails_DevEmail_Footer_SubSection_2gEsj",
        DevEmail_Footer_Bold: "partnereventemails_DevEmail_Footer_Bold_CSfHW",
        DevEmail_Footer_Regular:
          "partnereventemails_DevEmail_Footer_Regular_1dDJa",
        DevEmail_Follow: "partnereventemails_DevEmail_Follow_1gwxy",
        DevEmail_RecipientTable:
          "partnereventemails_DevEmail_RecipientTable_2EDti",
        TargetCtn: "partnereventemails_TargetCtn_1Ts_n",
        TargetTypeTitle: "partnereventemails_TargetTypeTitle_2Erit",
        TargetTypeCtn: "partnereventemails_TargetTypeCtn_3TxAc",
        TargetedListCtn: "partnereventemails_TargetedListCtn_3NubR",
        SelectListCtn: "partnereventemails_SelectListCtn_980o4",
        SupportCtn: "partnereventemails_SupportCtn_27guD",
      };
    },
    UvY0: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return l;
      }),
        n.d(t, "b", function () {
          return s;
        });
      var a = n("q1tI"),
        i = n("9w6b"),
        r = n("fpVW"),
        o = n("exH9");
      function l(e, t) {
        if (!e || !e.BIsClanAccount) return !1;
        var n = i.a.Get().GetPartnerEventPermissions(e);
        return !!n && (t ? n.valve_admin : n.valve_admin || n.support_user);
      }
      var s = function (e) {
        return l(e.clanSteamID, e.requireAdmin)
          ? a.createElement(
              "div",
              {
                className: Object(o.a)(
                  e.className,
                  e.requireAdmin
                    ? r.ValveOnlyAdminBackground
                    : r.ValveOnlyBackground
                ),
              },
              e.children
            )
          : null;
      };
    },
    Vitc: function (e, t, n) {
      e.exports = {
        FacetValueName: "facetedbrowseeditor_FacetValueName_3wruf",
        FacetValueCtn: "facetedbrowseeditor_FacetValueCtn_btRSv",
        FacetValueFilterDisplayCtn:
          "facetedbrowseeditor_FacetValueFilterDisplayCtn_2Xo5C",
        FacetName: "facetedbrowseeditor_FacetName_39gQo",
        FacetFilterDisplayCtn:
          "facetedbrowseeditor_FacetFilterDisplayCtn_3_YHd",
      };
    },
    Ww0A: function (e, t, n) {
      "use strict";
      n.d(t, "d", function () {
        return r;
      }),
        n.d(t, "b", function () {
          return o;
        }),
        n.d(t, "a", function () {
          return l;
        }),
        n.d(t, "e", function () {
          return c;
        }),
        n.d(t, "c", function () {
          return d;
        });
      var a = n("wd/R"),
        i = n.n(a),
        r = [
          "small_update",
          "regular_update",
          "major_update",
          "release",
          "future_release",
          "beta_release",
          "dlc_release",
          "season_release",
          "sale",
          "gameitem_sale",
          "trial",
          "bonusxp",
          "loot",
          "perks",
          "general",
          "challenge",
          "contest",
          "broadcast",
          "news",
          "chat",
          "irl",
          "crosspost",
        ],
        o = {
          small_update: {
            name: "#PartnerEvent_12",
            description: "#PartnerEvent_12_Desc",
            type: 12,
            tags: ["patchnotes"],
          },
          regular_update: {
            name: "#PartnerEvent_13",
            description: "#PartnerEvent_13_Desc",
            type: 13,
          },
          major_update: {
            name: "#PartnerEvent_14",
            description: "#PartnerEvent_14_Desc",
            type: 14,
          },
          release: {
            name: "#PartnerEvent_10_editor",
            description: "#PartnerEvent_10_Desc",
            type: 10,
          },
          future_release: {
            name: "#PartnerEvent_16_editor",
            description: "#PartnerEvent_16_Desc",
            type: 16,
          },
          beta_release: {
            name: "#PartnerEvent_29_editor",
            description: "#PartnerEvent_29_Desc",
            type: 29,
          },
          dlc_release: {
            name: "#PartnerEvent_15",
            description: "#PartnerEvent_15_Desc",
            type: 15,
          },
          season_release: {
            name: "#PartnerEvent_32",
            description: "#PartnerEvent_32_Desc",
            type: 32,
          },
          sale: {
            name: "#PartnerEvent_20_editor",
            description: "#PartnerEvent_20_Desc",
            type: 20,
          },
          gameitem_sale: {
            name: "#PartnerEvent_21_editor",
            description: "#PartnerEvent_21_Desc",
            type: 21,
          },
          trial: {
            name: "#PartnerEvent_31",
            description: "#PartnerEvent_31_Desc",
            type: 31,
          },
          bonusxp: {
            name: "#PartnerEvent_22",
            description: "#PartnerEvent_22_Desc",
            type: 22,
          },
          loot: {
            name: "#PartnerEvent_23",
            description: "#PartnerEvent_23_Desc",
            type: 23,
          },
          perks: {
            name: "#PartnerEvent_24",
            description: "#PartnerEvent_24_Desc",
            type: 24,
          },
          general: {
            name: "#PartnerEvent_35",
            description: "#PartnerEvent_35_Desc",
            type: 35,
          },
          challenge: {
            name: "#PartnerEvent_25",
            description: "#PartnerEvent_25_Desc",
            type: 25,
          },
          contest: {
            name: "#PartnerEvent_26",
            description: "#PartnerEvent_26_Desc",
            type: 26,
          },
          broadcast: {
            name: "#PartnerEvent_11",
            description: "#PartnerEvent_11_Desc",
            icon: "11",
            type: 11,
          },
          news: {
            name: "#PartnerEvent_28_editor",
            description: "#PartnerEvent_28_Desc",
            icon: "28",
            type: 28,
          },
          chat: {
            name: "#PartnerEvent_9_editor",
            description: "#PartnerEvent_9_Desc",
            icon: "9",
            type: 9,
          },
          irl: {
            name: "#PartnerEvent_27_editor",
            description: "#PartnerEvent_27_Desc",
            icon: "27",
            type: 27,
          },
          crosspost: {
            name: "#PartnerEvent_34",
            description: "#PartnerEvent_34_Desc",
            icon: "34",
            type: 34,
          },
        },
        l = {
          news: {
            name: "#EventCategory_Curator_Group_Members",
            description: "#EventCategory_Curator_Group_Members_Desc",
            icon: "27",
            type: 28,
            tags: ["curator", "curator_group_members"],
          },
          public: {
            name: "#EventCategory_Curator_Public",
            description: "#EventCategory_Curator_Public_Desc",
            icon: "28",
            type: 28,
            tags: ["curator", "curator_public", "audience_followers"],
          },
          salepage: {
            name: "#EventCategory_Creator_SalePage",
            description: "#EventCategory_Creator_SalePage_Desc",
            icon: "20",
            type: 20,
            tags: ["curator", "curator_public", "audience_followers"],
          },
        },
        s = i()("2021-10-01T10:00:00-07:00").unix(),
        c = i()("2021-10-07T10:00:00-07:00").unix(),
        d = {
          artist_statement: {
            name: "#EventCategory_SteamGameFestival_ArtistStatement",
            description:
              "#EventCategory_SteamGameFestival_ArtistStatement_Desc",
            icon: "info",
            type: 28,
            tags: ["steam_game_festival_artist_statement", "hide_store"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: s,
            actionEndTime: c,
          },
          broadcast: {
            name: "#EventCategory_SteamGameFestival_Broadcast",
            description: "#EventCategory_SteamGameFestival_Broadcast_Desc",
            icon: "11",
            type: 11,
            tags: ["steam_game_festival_broadcast"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
          office_hours: {
            name: "#EventCategory_SteamGameFestival_OfficeHours",
            description: "#EventCategory_SteamGameFestival_OfficeHours_Desc",
            icon: "9",
            type: 9,
            tags: ["steam_game_festival_office_hour"],
            earliestAllowedStartTime: s,
            latestAllowedEndTime: c,
            actionEndTime: c,
          },
        };
    },
    X2UP: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return l;
      });
      var a = n("vDqi"),
        i = n.n(a),
        r = n("q1tI"),
        o = n.n(r);
      function l(e) {
        var t = o.a.useRef(i.a.CancelToken.source());
        return (
          o.a.useEffect(
            function () {
              var n = t.current;
              return function () {
                return n.cancel(e ? e + ": unmounting" : "unmounting");
              };
            },
            [e]
          ),
          t.current
        );
      }
    },
    Y9L4: function (e, t, n) {},
    Yamg: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return o;
        });
      var a,
        i = n("U+Q5"),
        r = n("ZeAL");
      function o(e, t, n) {
        var o = "",
          l = r.e + "/" + t.clanAccountID + "/" + i.a.GetHashAndExt(t);
        n == a.k_eInsertFullImage
          ? (o = "[img]" + l + "[/img]")
          : (o =
              "[url=" +
              l +
              "][img]" +
              (r.e + "/" + t.clanAccountID + "/" + i.a.GetThumbHashAndExt(t)) +
              "[/img][/url]");
        e.InsertText(o);
      }
      !(function (e) {
        (e[(e.k_eInsertThumbnail = 1)] = "k_eInsertThumbnail"),
          (e[(e.k_eInsertFullImage = 2)] = "k_eInsertFullImage"),
          (e[(e.k_eShowImageGroup = 3)] = "k_eShowImageGroup");
      })(a || (a = {}));
    },
    YuoN: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZUAAABVCAYAAACBxHk7AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA7pSURBVHgB7Z37dZxIFsav9uz/qwzMRDDaCIwjsDNQTwTWRNC9EdgTQcsRSI6gmQhsRwCOQJoI7nJNlbpAFNTjgtTS9zuHQzdQD+r11ZszAgAAcLIw8749beh50PyLAAAAACUgKgAAANSAqAAAAFADogIAAEANiAoAAAA1ICoAAADUgKgAAABQ498EAAARMPNFe/pIOvx5dnZ2T+DFAFEBAMRyTnqL7XbtAVF5QaD7CwAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGPtIFAIjlO+l9pOsfAi8KiAoAIArz+d8vBMAI6P4CAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBqYUgwAAAvAzEV7KmkdKnoeNAQAAECfVlRKXodLekag+wsAAIAaEBUAAABqQFQAAACoAVEBAACgBkQFAACAGhAVAAAAakBUAAAAqAFRAQAAoAZEBQAAgBoQFQAAAGpAVAAAAKgBUQEAAKAGRAUAAIAaEBUAAABqQFQAAACoMfuRLmY+b08X7VG0xxvn1k/qPsjy/ezs7J4SaO0We89Jn/vWT9/nHlrC/dbdihQwH/gpBpeb1v6GlJh4/+Q4NfbaNDNkNl4GZpP84bxXUDpYwg+OPSV1+eaXf6jLN9+V47GkOBrqwiY5jif8kJt23DSpGfaWH9Tlo+h0ATIxH5g5BH4k5pDyoZjWTM3LcHgq90mJ1qpvI9ZvSZGJ989ypzW/99g7Gy/tM+fO8x8pAee97iiB1tzG8UNBkXBY3pH72R9XEv9xOjV3cVVQBgM/vKVEBuGelAY5vNyqfeHfXr8Q9+VdjJ8kTX6IDSd+pR/pegR3CeTAadQxL8gQFZ+/fAVFUiE54U7tc4e7mp6m34XYeLmhSLgrEFxKikTcNWbrSHNjeefOXLPH3TBMOKNQ535414HHGJ9YJ86TRMXYYcMmKJ2M2PF58E41d3G5N4f8/jbyzOWIXVtzlnDZmniKejeGqDxEbM35fAp0r+ZlOHVR+TThRElKzLx/ak1xP2FnaLzY948WUe7XdoXo1g4niBo/zjt79hRC3Anf3nlWzF1QApxYoBtzm4GfpcCNFhbOFJVB2Mm5oEhaM9eOHw5T/vC8+27wjBWVLXfpccMQlThYT1AEqXEUAW7WvAynLir1hBNBgq3gTnRrhee7YkLjxRWGNxQBH1sZUW563iEos3I/70i4fQg0t+Fj7VzMFxQJ67QSto4d0emL80Xlxgm7giJpzewc94MrQ8bf+zFzbCpvzrmI9RtDVCZrmDFIwgiqdTFEZcxPcwkxuWuK4t8/qrXC82koNF6Sx1X4WEjfpIQXd33nltB0fBNrxjF7wRndPqw3nuG2jotIs8l+4L4gpLQqJa3UxvyeEsgJtxl7X6Wo/Jr9xV0i2niekdkXn9vj+uzs7Ke9yF3mkUNeqHSefRcxs+KKpmdf7ejxDCjh1hw04eccrtujoqdhLoFIeL1vjy+0PFdtPP8VMgNnJg1FIe619jXUxX1wIc1drdKmp/+1xwfzX+yoAq15b85N4AzC0rgj7GJnFcnzrR2Sv3btIYVQqTWDMBIJrw114XVp/i9K+66S/23FRcLuL4pHwr4wv5P83Lr7NwFd+HE/tKXmsG4sMf+NE/uFJ+w9ePylMguK/TX1J1N+Dms9JQ1kJroVVHvkfo0z2998rDnXEWY+GjPfzP+D+R/cpcPHgdyg8RQ+ts6iBvUHdkht27ZWomrbrNRSMXbdxMZTqh9YYWDe2PMp146l4NfcUqFj7WzILmQ+ffvMNXW1e5ABd33xRcCjkljPNdcZTCC1yckaJHcVD+2E/cOcpfB547aSJ7Athso5lxTY2uH++pRbCqMcuBmNaZmJexvHvqdAWlmhaTAZk15EBCS8m/b4g9Kx8dXQ80PyZ0PLs0Y5EIwVFV8XVENgTd5HPCuFeEp3QSxSqF+2Bd9Ud1tJ+gVRNbB/sruPj4vdBCsItlsjVIRL5/ePmWetm4X5m7uYzpovVqwwPBXSGivM73eaC0GfE6Yr9Dd6Zcxt03JGYBVMAbUZudXQeE3kA63H1cx9le5IF1PQNOZvSEvDfcYKgmRqG3Yh3TL2mdAV14XzO1dU3JbYf+hpWUzQuJu6W5q/VwqC0pjzOYFngRUVXyKKqTmDPHwiUdF416LUvlXHsCaQGUrl2I32+oaW6y6pzDlEQG1arWwt35xtYV8G2GGfCRUItyD7h/Jw3SzoaSjNuaEFYJ2B+SEP8ctKsyJBHlZUGs/9Kx4sCgKL4RuTuG6Pr557a4r+NvK6Brb7qggoMEpzrgbXbVfYpDAljqe4qO52sDZmnKM0f1PeP8R+m1ZkTy+t2WW2VXpOy6ZFEIgVla8Tz2y5myUksyxkds2aNeSnQmbjFDEHZTDI0C7SDfO3mWI61pqc65bSpBy2VhZupQiV83tyhTQdBaEa3HaF6Q35Ges+e03YGXINHcNMhcHAvJDbVfiAyRtWBFEJfk5w2kJAmX6558AVxAl+OnjcXXpKcSzJ00mNPzYee/fOM1vPMyUlMvH+B9/1QPN1iPlIP36aeMYuWLzz3LdTVy8n7EiZwuxOGX1DGXDedivR5hzzUoFyF2+mLECc9AOPp6eSlOD+AkjmyD0IgS7uQP2fFI/U7jbtcWMics2a80vCl5Gvnd++2uMSXWCfabxl9NBaYX8rpSHd6eWVdXvimfeDZ4fcBthhWypqtegMCkojtGUtY2QbI9Qiou7iTdUZhdwfmP8vHbva1bqqzNjZOzrGf9Ee10ZgDtzvZSkIrAf7a8MxiMCoDJjxK2ip8ONddb12evybs6Nw7XH7LfvTwmHG7OWc2Ug/uq2485n3uJyx427CHUtwTZ2Xa6nE7PRdcD53nPiZgRE/vHWuXw3DdRBm6q0J7uL6wPPvK89cMkRmefjx7p0pqGx6yK9DVPYcGIas3AXG06LirvIesuOJcGBdUSmm3nNw/8Jjx/nUM9wv6KK2hXHMnZqo2IJ1y5mVQB4RFe6vmB9u1nhw/LDIjC3j/nvzfmNb3rvhsCOwPNyJyw37C5Y5SsqEX4eo1B475wo/l6QtKibctgXDluO4nDGX688xobWtkDrQjo8j9+z2LlEzuPgEx1T4mKdq1utR6PmB+7s2H0aed8Nt1Rlb3PUMiNjseWLre5CO93PC7tYrJsMUdNzgzz37kMxb0WlyTXF+v6cEuBPeYuTW6OI7menCx40WXSSTLrEKW/rXZZwspPBpZlbd51BRN3Y31oqYG0+xyLiKvIuMHwzHDT4E2vESkKm8JXVp6CMts3Hk3tjf0MgWLCYdy7idxId0kX1Za1W9yVdyfOXjNOcNdbNc5RPLnwk8HTzdVZY9b59f+IaSHNH15ZjZeszkfIxqyNsA97xhxvotlYeWBA9q13xsSb+fscPWju9G7t2lhCGf6OwvVu5+GvjBtbuYMON2ryalCy048TMJYJy5bVomMa0Z32Zw57kZ7RXgm4r9lf3rYX5G2pWL1OrnWkBLtlIEu47KXaD4qyuDjq2oubUltuUn6bL02PFatkC3rRN57+QBeg+lOU9uwWJa1bZVULLiFOME7MxXCQ/sIpJJlqgIZvFR47ldEBiFuym5vlqR1Nxqz7H3mCmXEPFB5vexowUxhZMVtt+dW7Zm/n2u+8S8RzUw5/6+j/0WCvXFtqA8CloJk2cr8/dqgdr5LrCSIRWWxvxW+6JpLCbtxGznAybIFhWDdl/+a2CJGtGGlmGqtbJ0K8Vya85uiyx2LMQ+VzrXysG9GDRFxS3YG1qepVort6FbsBiht60EGUC/oqfDikpBIAstUSk813M32XuRmG6sJbqrNrQAM62VHa2DzfQXzrXSnG8pjN5W+AM7Kopk0IK6oDx+d+wN+XZMFgu2VqIGult/3Dr+2GJM4/TpiUoboddmoK2gQKa6cRK6E14LJS1DsWDf9FhrZa1WivAwrsLdtNDS3gj9HOxgD7ULpfGUMbFLoTTnitZjybGVVH+sOsXYoSCgwoOoiKDQ8XvzIiyXc+LC3Z5fvr7QioCPJWeXLTLQ6GyFUTrHO1qJQatAxkFCpxIPqcxZzFshuM+oAFXmnDzYzP0NRa9pJVYYW4nxxzUd/VHQ+vg2JAWR/Fqn4giKpaDjGhXJbA0dPxZ1bo4PNL1+4ZpOl8+cuBiqzSCTX3pj/47EZK43FIZkgrFunw2l7eM2yzNoecr7bqgLp3PnWgwVdWm3pGPttKJ03LU820S77JTahtafgWbXrdjWyhLrVkL9YcsUmYwSVGEx+Ukqtn+krtMyYzk2PX0lkIfp8tJGZd45n86K+gcC3Nx6jEatyufpbVTKQDtqj/ngdRIee7cee7PSBffXq1iiup24v6aiNuesrh/u73G1jzTr5j/1HYID7Tg44RrdWtHwg7Fn69hTBjzvrtyXc0GRcNeVepcSd8ADd9uGp27FMkbNSs1XfpmiUnuMRk+pZP/iyaDCm09PVIqBfUkLbPlxes96X2Pn1rGv5vmuY3mXA2fEv2NP1ntw5rYprCcq7hb2QZWsQbhLvAbPIOOuMnAXGmcgAu4rfg4HzYjhFyYq7N+7izmtluWzL6jGyScmKsZuVxBuKAHui7HaFxtH3ltWatst1+0h/w+D55LTM+sV6K6fikizKn4wdm1iw4X74iDUJo4fPirIgy3/R54vCOjD6TsUZ22dPeGfg8e9UxWVvcfYN0qAp7vAZuODT1NU9o59SRMeuF9wqW4Rwl0hVnMYB4Ww1hIVt4IS24WnJirGvoOxK7g7zvhhz3GI/Z8Y05hV6W0oaTeR5K6fWhJHSceNJN2AlwGxhrpBydvQKZ0J+AaGtebxy9YeDa1LNXIt6cNIMjDZxpWYHcvIIRnF9/5JA54OEj/VyHWNgX5Ja4XzOwUZ3LeCpPpRKjOT6TdTuG7ouPGqxMdS+aYy5+R4M5s87qg/gWFVPzi4kwVKCpiMYWYH/tG+g514ILP7CuqXXffmqKhLi18W2IQVAAAAAFr8H9N6E3UIo/uhAAAAAElFTkSuQmCC";
    },
    ZCGQ: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=";
    },
    Zan1: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return g;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("Mgs7"),
        l = n("qP7j"),
        s = n("fpVW"),
        c = n("gyoR"),
        d = n("Jqb/"),
        u = n("0OaU"),
        p = n("exH9"),
        m = n("TLQK"),
        _ = n("opsS"),
        g = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { bImporting: !1, type: "game", importList: "" }), t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnImportAction = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e,
                  t,
                  n,
                  i,
                  r = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.state.importList.split("\n")),
                        (t = e.filter(function (e) {
                          return (
                            e.trim().length > 0 && isNaN(parseInt(e.trim()))
                          );
                        })).length > 0
                          ? (console.error("Failed to Parse", t),
                            [
                              2,
                              this.setState({
                                bImporting: !1,
                                errMsg: Object(m.f)(
                                  "#Sale_ImportItems_ConvertNumberFailed",
                                  t[0]
                                ),
                              }),
                            ])
                          : ((n = e
                              .filter(function (e) {
                                return e.trim().length > 0;
                              })
                              .map(function (e) {
                                return parseInt(e.trim());
                              })),
                            (i = n.map(function (e) {
                              return { id: e, type: r.state.type };
                            })),
                            [4, Object(c.i)(i)])
                      );
                    case 1:
                      return (
                        a.sent(),
                        n.forEach(function (e) {
                          return r.props.fnAddCapsule(e, r.state.type);
                        }),
                        this.setState({ bImporting: !1 }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTypeChange = function (e) {
              this.setState({ type: e });
            }),
            (t.prototype.OnImportChange = function (e) {
              this.setState({ importList: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                n = new Array();
              return (
                ["game", "sub", "bundle"].forEach(function (t) {
                  n.push(
                    r.createElement(
                      "div",
                      {
                        key: "ImportSaleItemsDialog_" + t,
                        className: Object(p.a)(
                          s.FlexRowContainer,
                          s.RadioOption
                        ),
                      },
                      r.createElement("input", {
                        type: "radio",
                        name: "ImportSaleItemsDialog",
                        id: "ImportSaleItemsDialog_input_" + t,
                        value: t,
                        checked: t == e.state.type,
                        onChange: function () {
                          return e.OnTypeChange(t);
                        },
                      }),
                      r.createElement(
                        "label",
                        { htmlFor: "ImportSaleItemsDialog_input_" + t },
                        r.createElement(
                          "span",
                          null,
                          Object(m.f)("#Sale_ImportItems_Type_" + t)
                        )
                      )
                    )
                  );
                }),
                r.createElement(
                  d.e,
                  {
                    onCancel: t,
                    closeModal: t,
                    bDisableBackgroundDismiss: !0,
                    bAllowFullSize: !0,
                    bHideCloseIcon: this.state.bImporting,
                  },
                  r.createElement(o.k, null, Object(m.f)("#Sale_ImportItems")),
                  r.createElement(
                    o.b,
                    null,
                    r.createElement(
                      "div",
                      null,
                      Object(m.f)("#Sale_ImportItems_Desc")
                    ),
                    Boolean(this.state.errMsg) &&
                      r.createElement(
                        "p",
                        { className: l.ErrorStyles },
                        this.state.errMsg
                      ),
                    n,
                    this.state.bImporting &&
                      r.createElement(u.a, {
                        size: "medium",
                        position: "center",
                      }),
                    !this.state.bImporting &&
                      r.createElement("textarea", {
                        value: this.state.importList,
                        cols: 40,
                        rows: 10,
                        onChange: this.OnImportChange,
                      })
                  ),
                  !this.state.bImporting &&
                    r.createElement(
                      o.j,
                      null,
                      r.createElement(
                        o.q,
                        { onClick: this.OnImportAction, disabled: !1 },
                        Object(m.f)("#Button_Confirm"),
                        " "
                      ),
                      r.createElement(
                        o.d,
                        { onClick: this.props.closeModal, disabled: !1 },
                        Object(m.f)("#Button_Cancel")
                      )
                    )
                )
              );
            }),
            Object(a.c)([_.a], t.prototype, "OnImportAction", null),
            Object(a.c)([_.a], t.prototype, "DoImport", null),
            Object(a.c)([_.a], t.prototype, "OnTypeChange", null),
            Object(a.c)([_.a], t.prototype, "OnImportChange", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    a0ud: function (e, t, n) {
      e.exports = {
        SectionContainer: "migratesaletool_SectionContainer_3ZElG",
        SectionTitle: "migratesaletool_SectionTitle_1-ftd",
        RecordCtn: "migratesaletool_RecordCtn_1gW9g",
        RecordInfoCtn: "migratesaletool_RecordInfoCtn_6eQgp",
      };
    },
    aXcg: function (e, t, n) {
      e.exports = { SavedImage: "partnereventsavebutton_SavedImage_1y3QV" };
    },
    as1E: function (e, t, n) {
      e.exports = {
        CategoryImage: "partnereventeditor_CategoryImage_2bE2w",
        EventCategory_Top_Desc:
          "partnereventeditor_EventCategory_Top_Desc_1kI-Q",
        eventcategory_picker_page:
          "partnereventeditor_eventcategory_picker_page_1axHR",
        EventEditorDescription:
          "partnereventeditor_EventEditorDescription_3C8iP",
        EventSubCategory_Section_Title:
          "partnereventeditor_EventSubCategory_Section_Title_1g3oT",
        EventCategory_Top_Title:
          "partnereventeditor_EventCategory_Top_Title_3XiNN",
        EventSubCategory_Section_Desc:
          "partnereventeditor_EventSubCategory_Section_Desc_1nVkr",
        EventCategory_Expander:
          "partnereventeditor_EventCategory_Expander_3Egt2",
        CategoryTitles_Ctn: "partnereventeditor_CategoryTitles_Ctn_21Aec",
        EventCategory_Title: "partnereventeditor_EventCategory_Title_16pAy",
        EventSubCategory_Ctn: "partnereventeditor_EventSubCategory_Ctn_1xp2X",
        CategoryTypeImage: "partnereventeditor_CategoryTypeImage_1bk8c",
        EventSubCategory_Title:
          "partnereventeditor_EventSubCategory_Title_2OocG",
        EventCategory_Desc: "partnereventeditor_EventCategory_Desc_S7Pze",
        EventSubCategory_Desc: "partnereventeditor_EventSubCategory_Desc_kjyqb",
        EventCategory_HeaderCtn:
          "partnereventeditor_EventCategory_HeaderCtn_48mLX",
        EventCategory: "partnereventeditor_EventCategory_1rJ2O",
        EventCategory_SteamAwardsVoteRequest:
          "partnereventeditor_EventCategory_SteamAwardsVoteRequest_RxhoL",
        EventCategory_SpecialCategory:
          "partnereventeditor_EventCategory_SpecialCategory_2Hm22",
        WarningCtn: "partnereventeditor_WarningCtn_25K96",
        TitleCtn: "partnereventeditor_TitleCtn_oGmJd",
        Title: "partnereventeditor_Title_1iEFY",
        Summary: "partnereventeditor_Summary_2eQap",
        Link: "partnereventeditor_Link_3s-fD",
        EventSubCategoriesCtn: "partnereventeditor_EventSubCategoriesCtn_1Ic2i",
        EventCategoryExpanded: "partnereventeditor_EventCategoryExpanded_2gb8_",
        EventEditorCatagorySection:
          "partnereventeditor_EventEditorCatagorySection_1HRyu",
        EventCategoryNotExpandable:
          "partnereventeditor_EventCategoryNotExpandable_3gOyF",
        EventEditorInputPaneContainer:
          "partnereventeditor_EventEditorInputPaneContainer_2hDSK",
        EventEditorInputPaneContents:
          "partnereventeditor_EventEditorInputPaneContents_24lkz",
        RequiredFieldLabel: "partnereventeditor_RequiredFieldLabel_11TnL",
        OptionsNotes: "partnereventeditor_OptionsNotes_3iBea",
        EventCategoryColumns: "partnereventeditor_EventCategoryColumns_36Vhg",
        EventCategoryLeftCol: "partnereventeditor_EventCategoryLeftCol__-nHy",
        EventCategoryRightCol: "partnereventeditor_EventCategoryRightCol_25O-o",
        EventCategoryVisibilityCtn:
          "partnereventeditor_EventCategoryVisibilityCtn_HRszO",
        ExceptionNote: "partnereventeditor_ExceptionNote_19VPv",
        ExceptionDocsLink: "partnereventeditor_ExceptionDocsLink_1iykQ",
        EventVisibility_Title: "partnereventeditor_EventVisibility_Title_jWhiI",
        wrapper: "partnereventeditor_wrapper_2OTbb",
        EventEditorTitleInput: "partnereventeditor_EventEditorTitleInput_ZAOXn",
        Subtitle: "partnereventeditor_Subtitle_32XZf",
        EventEditorInputMaxLength:
          "partnereventeditor_EventEditorInputMaxLength_2B38_",
        CharactorRemaining: "partnereventeditor_CharactorRemaining_153Co",
        CharactorExhausted: "partnereventeditor_CharactorExhausted_2zjgO",
        EventSubCategory: "partnereventeditor_EventSubCategory_2Q82B",
        EventEditBelowTopBarContainer:
          "partnereventeditor_EventEditBelowTopBarContainer_2sTiY",
        EventEditBelowTopBarGameName:
          "partnereventeditor_EventEditBelowTopBarGameName_2mDt_",
        EventEditBelowTopBarCategoryChoice:
          "partnereventeditor_EventEditBelowTopBarCategoryChoice_1GRf_",
        DashLink: "partnereventeditor_DashLink_2UhUF",
        EventEditorInputPaneTopRow:
          "partnereventeditor_EventEditorInputPaneTopRow_1jWGj",
        EventEditPopopLinkContainer:
          "partnereventeditor_EventEditPopopLinkContainer_28dFn",
        InlinePreviewContainer:
          "partnereventeditor_InlinePreviewContainer_1KczU",
        InlinePreviewHeader: "partnereventeditor_InlinePreviewHeader_36LPo",
        TopBarDeleteButton: "partnereventeditor_TopBarDeleteButton_3JgPZ",
        UploadPreviewCtn: "partnereventeditor_UploadPreviewCtn_1f_3B",
        PreviewImgCtn: "partnereventeditor_PreviewImgCtn_5cvwO",
        PreviewImgInfo: "partnereventeditor_PreviewImgInfo_wiK-n",
        UploadPreviewButtonsCtn:
          "partnereventeditor_UploadPreviewButtonsCtn_1E996",
        UploadPreview: "partnereventeditor_UploadPreview_1Go1Y",
        UploadPreviewDelete: "partnereventeditor_UploadPreviewDelete_PQiPX",
        UploadPreviewButton: "partnereventeditor_UploadPreviewButton_3ucHv",
        ArtworkDimensionTooSmall:
          "partnereventeditor_ArtworkDimensionTooSmall_1BKDz",
        UploadPreviewError: "partnereventeditor_UploadPreviewError_FqFpo",
        UploadPreviewWarning: "partnereventeditor_UploadPreviewWarning_3WxvC",
        ArtworkTipsCtn: "partnereventeditor_ArtworkTipsCtn_36oQU",
        ArtworkDocs: "partnereventeditor_ArtworkDocs_R7tUA",
        ArtworkExampleTitle: "partnereventeditor_ArtworkExampleTitle_3IYml",
        ArtworkExampleCtn: "partnereventeditor_ArtworkExampleCtn_1-LYQ",
        EditRawExample: "partnereventeditor_EditRawExample_2Z-Uc",
        EditRawTextArea: "partnereventeditor_EditRawTextArea_2Hjmo",
        TitleSelectionContainer:
          "partnereventeditor_TitleSelectionContainer_wXKYm",
        SaleSectionTitleHeader:
          "partnereventeditor_SaleSectionTitleHeader_1PZp0",
        TabsSelectorEntry: "partnereventeditor_TabsSelectorEntry_rTO_V",
        TabsSelectorEntrySelected:
          "partnereventeditor_TabsSelectorEntrySelected_1ryee",
        TabsMultipleError: "partnereventeditor_TabsMultipleError_2-JUW",
        TabsSelectToEdit: "partnereventeditor_TabsSelectToEdit_2HsE1",
        ShowOnTabCheckBoxCtn: "partnereventeditor_ShowOnTabCheckBoxCtn_2xl2v",
        ShowOnTabCheckBox: "partnereventeditor_ShowOnTabCheckBox_3p5Yu",
        ShowOnTabsLabel: "partnereventeditor_ShowOnTabsLabel_IMegH",
        ShowOnTabsButton: "partnereventeditor_ShowOnTabsButton_3bfm0",
        BottomBarControls: "partnereventeditor_BottomBarControls_3sisA",
        ReoderSections: "partnereventeditor_ReoderSections_234Ad",
        MinimizeAll: "partnereventeditor_MinimizeAll_kQpet",
        ItemBrowseInactiveTab: "partnereventeditor_ItemBrowseInactiveTab_1-3nD",
        ItemBrowseInactiveTabAdd:
          "partnereventeditor_ItemBrowseInactiveTabAdd_3K8G5",
        TabHideItemFilterCtn: "partnereventeditor_TabHideItemFilterCtn_2vW4l",
        ReorderSectionCtn: "partnereventeditor_ReorderSectionCtn_2ye5W",
        SectionList: "partnereventeditor_SectionList_2g1Br",
        SectionTitle: "partnereventeditor_SectionTitle_3euRU",
        FilterDisplayCtn: "partnereventeditor_FilterDisplayCtn_yqDsi",
        PrioritySelector: "partnereventeditor_PrioritySelector_3OCga",
        BroadcastAccountInfo: "partnereventeditor_BroadcastAccountInfo_2udBY",
        BroadcastAccountList: "partnereventeditor_BroadcastAccountList_1LLBz",
        ShowInTabsList: "partnereventeditor_ShowInTabsList_1slxi",
      };
    },
    bVxH: function (e, t, n) {
      e.exports = {
        titleimg: "clanlocalizedimage_titleimg_rjdSm",
        previewimg: "clanlocalizedimage_previewimg_45E3Z",
        artworkbar: "clanlocalizedimage_artworkbar_q0Eu4",
      };
    },
    ba6i: function (e, t, n) {
      e.exports = {
        EventTimeSection: "partnereventshareddates_EventTimeSection_3HyTV",
        EventTimeTitle: "partnereventshareddates_EventTimeTitle_2lG5h",
        EventVisibilityItem:
          "partnereventshareddates_EventVisibilityItem_1she-",
        EventEditorInputPaneContainer:
          "partnereventshareddates_EventEditorInputPaneContainer_1fCy4",
        TimeWidth: "partnereventshareddates_TimeWidth_3JGsB",
        EventPublishTimeCtn:
          "partnereventshareddates_EventPublishTimeCtn_2QIVv",
        InputBorder: "partnereventshareddates_InputBorder_1_H1s",
        TimeBlock: "partnereventshareddates_TimeBlock_2xLBs",
        TimeRowContainer: "partnereventshareddates_TimeRowContainer_BWmgg",
        TimeRowDropDown: "partnereventshareddates_TimeRowDropDown_3ECiy",
        EndDateAmountCtn: "partnereventshareddates_EndDateAmountCtn_1BIlZ",
        EndRound: "partnereventshareddates_EndRound_jwuNo",
        VisibilityItemList: "partnereventshareddates_VisibilityItemList_3B0QM",
        VisibilityItems: "partnereventshareddates_VisibilityItems_1WleI",
        EventEditorVisibilityCtn:
          "partnereventshareddates_EventEditorVisibilityCtn_4gWwy",
      };
    },
    "d+Me": function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return o;
      });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n("uuth"),
        o = function (e) {
          var t = e.onPositionChange,
            n = e.onLeave,
            o = i.useCallback(
              function (e) {
                return (
                  void 0 === e.previousPosition &&
                    e.currentPosition === r.a.above &&
                    n &&
                    n(e),
                  t && t(e)
                );
              },
              [t, n]
            );
          return i.createElement(
            r.a,
            Object(a.a)({}, e, { onPositionChange: o })
          );
        };
    },
    dQ8J: function (e, t, n) {
      e.exports = { DialogCtn: "partnereventstatsexport_DialogCtn_2LwQU" };
    },
    dZOt: function (e, t, n) {
      "use strict";
      n.d(t, "c", function () {
        return a;
      }),
        n.d(t, "d", function () {
          return d;
        }),
        n.d(t, "f", function () {
          return u;
        }),
        n.d(t, "g", function () {
          return p;
        }),
        n.d(t, "e", function () {
          return m;
        }),
        n.d(t, "b", function () {
          return _;
        }),
        n.d(t, "a", function () {
          return g;
        });
      var a,
        i = n("mrSG"),
        r = n("2vnA"),
        o = n("+VX6"),
        l = n("U+Q5"),
        s = n("TLQK"),
        c = n("XxJJ");
      !(function (e) {
        (e[(e.k_EStorePage = 0)] = "k_EStorePage"),
          (e[(e.k_EEventPage = 1)] = "k_EEventPage"),
          (e[(e.k_ESalesPage = 2)] = "k_ESalesPage");
      })(a || (a = {}));
      var d = 3,
        u = [
          "EventEmail_Destination_Store",
          "EventEmail_Destination_Event",
          "EventEmail_Destination_SalesPage",
        ],
        p = [
          "EventEmail_Subject_NewUpdate",
          "EventEmail_Subject_UpcomingLaunch",
          "EventEmail_Subject_NowAvailable",
          "EventEmail_Subject_FreeDemoAvailable",
          "EventEmail_Subject_SpecialOffer",
          "EventEmail_Subject_Tournament_Now",
          "EventEmail_Subject_LiveStream_Now",
          "Email_Wishlist_NewReleaseEA_Subject",
          "EventEmail_Subject_NewDLC",
          "EventEmail_Subject_NewExpansion",
          "EventEmail_Subject_NewChapter",
          "EventEmail_Subject_NewBattlePass",
          "EventEmail_Subject_NewSeason",
        ],
        m = [
          "EventEmail_Button_ClickForMoreDetails",
          "EventEmail_Button_PrepurchaseNow",
          "EventEmail_Button_BuyNow",
          "EventEmail_Button_WishlistNow",
          "EventEmail_Button_PlayNow",
          "EventEmail_WatchNow",
        ],
        _ = (function () {
          function e(e) {
            this.m_setting = e;
          }
          return (
            (e.prototype.BIsEnableEnabled = function () {
              return this.m_setting.bEnable;
            }),
            (e.prototype.GetLocalizedSubject = function (e) {
              return this.m_setting.localized_subject &&
                this.m_setting.localized_subject[e]
                ? this.m_setting.localized_subject[e]
                : "";
            }),
            (e.prototype.GetSubjectTextLoc = function () {
              return this.m_setting.subject_loc_token
                ? this.m_setting.subject_loc_token
                : "EventEmail_Subject_NewUpdate";
            }),
            (e.prototype.GetNumSections = function () {
              return this.m_setting.sections.length;
            }),
            (e.prototype.GetSection = function (e) {
              return this.m_setting.sections[e];
            }),
            (e.prototype.GetSomeCreatorTarget = function () {
              return this.GetTargetting().creator_home[0];
            }),
            (e.prototype.GetFiltering = function () {
              return this.m_setting.filtering || {};
            }),
            (e.prototype.BIsIRTopNFiltering = function () {
              return this.GetFiltering().ir_topn;
            }),
            (e.prototype.BIsWishListFiltering = function () {
              return this.GetFiltering().wishlist;
            }),
            (e.prototype.GetControlGroupPercent = function () {
              var e = this.GetFiltering();
              return Boolean(e && e.control_group_percent)
                ? e.control_group_percent
                : 0;
            }),
            (e.prototype.GetTargetting = function () {
              return this.m_setting.targeting || {};
            }),
            (e.prototype.BIsTargetingGamePlayers = function () {
              return this.GetTargetting().game_players;
            }),
            (e.prototype.BIsTargetingGameFollowers = function () {
              return this.GetTargetting().game_followers;
            }),
            (e.prototype.BIsTargetingGameWishlisters = function () {
              return this.GetTargetting().game_wishlister;
            }),
            (e.prototype.BIsExcludingGameOwners = function () {
              return this.GetTargetting().game_exclude_owners;
            }),
            (e.prototype.BIsTargetingGameOwnersWithoutPlaytime = function () {
              return this.GetTargetting().game_owner_with_no_playtime;
            }),
            (e.prototype.BIsTargetingSomeCreator = function () {
              return (
                this.GetTargetting().creator_home &&
                this.GetTargetting().creator_home.length > 0
              );
            }),
            (e.prototype.BIsTargetingSomeCreatorPlayer = function () {
              return (
                this.GetTargetting().creator_home_player &&
                this.GetTargetting().creator_home_player.length > 0
              );
            }),
            (e.prototype.BIsTargetingCreator = function (e) {
              var t = this.GetTargetting().creator_home;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsTargetingCreatorPlayer = function (e) {
              var t = this.GetTargetting().creator_home_player;
              return (
                t &&
                t.length > 0 &&
                t.some(function (t) {
                  return t === e;
                })
              );
            }),
            (e.prototype.BIsLocked = function () {
              return this.m_setting.locked;
            }),
            (e.prototype.BHasSomeTargetEnabled = function () {
              return (
                this.BIsTargetingGamePlayers() ||
                this.BIsTargetingGameFollowers() ||
                this.BIsTargetingGameWishlisters() ||
                this.BIsTargetingSomeCreator() ||
                this.BIsTargetingSomeCreatorPlayer() ||
                this.BIsTargetingGameOwnersWithoutPlaytime()
              );
            }),
            (e.prototype.BHasSomeLanguage = function (e) {
              return (
                this.m_setting &&
                this.m_setting.sections.some(function (t) {
                  var n = new g(t);
                  return (
                    n.GetHeadline(e).trim().length > 0 ||
                    n.GetBody(e).trim().length > 0 ||
                    void 0 !== n.GetImageHashAndExtRaw(e)
                  );
                })
              );
            }),
            (e.prototype.GetInternalTargetingPartnerCapability = function () {
              return this.m_setting.internal_targeting.capability;
            }),
            (e.prototype.BHasInternalTargetingPriority = function () {
              return this.m_setting.internal_targeting.priority;
            }),
            (e.prototype.BHasInternalTargetingPublisherRight = function (e) {
              return (this.m_setting.internal_targeting.pub_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingPublisherRight = function () {
              return 0 != this.m_setting.internal_targeting.pub_rights;
            }),
            (e.prototype.BHasInternalTargetingAppRight = function (e) {
              return (this.m_setting.internal_targeting.app_rights & e) == e;
            }),
            (e.prototype.BHasAnyInternalTargetingAppRight = function () {
              return 0 != this.m_setting.internal_targeting.app_rights;
            }),
            (e.prototype.GetInternalTargetAppCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetPublisherCount = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids.length
                : 0;
            }),
            (e.prototype.GetInternalTargetAppIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.appids
                : [];
            }),
            (e.prototype.GetInternalTargetPublisherIDs = function () {
              return this.m_setting.internal_targeting
                ? this.m_setting.internal_targeting.partnerids
                : [];
            }),
            (e.prototype.BHasLocalizedSubject = function (e) {
              return (
                this.m_setting.localized_subject &&
                e < this.m_setting.localized_subject.length &&
                Boolean(this.m_setting.localized_subject[e])
              );
            }),
            Object(i.c)([r.C], e.prototype, "m_setting", void 0),
            Object(i.c)([c.a], e.prototype, "BHasSomeLanguage", null),
            e
          );
        })(),
        g = (function () {
          function e(e) {
            this.m_section = e;
          }
          return (
            (e.prototype.BHasHeadline = function () {
              return void 0 !== this.m_section.localized_headline;
            }),
            (e.prototype.BHasHeadlineInLanguage = function (e) {
              return (
                this.m_section.localized_headline &&
                this.m_section.localized_headline.length > e &&
                Boolean(this.m_section.localized_headline[e])
              );
            }),
            (e.prototype.BHasBody = function () {
              return void 0 !== this.m_section.localized_body;
            }),
            (e.prototype.BHasBodyInLanguage = function (e) {
              return (
                this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
              );
            }),
            (e.prototype.BHasCallToAction = function () {
              return void 0 !== this.m_section.button_loc_token;
            }),
            (e.prototype.BHasImage = function () {
              return void 0 !== this.m_section.localized_image;
            }),
            (e.prototype.BHasVideo = function () {
              return void 0 !== this.m_section.video_link;
            }),
            (e.prototype.BHasSomeImage = function () {
              return (
                this.m_section.localized_image &&
                this.m_section.localized_image.some(function (e) {
                  return Boolean(e);
                })
              );
            }),
            (e.prototype.GetHeadline = function (e) {
              return s.a.Get(this.m_section.localized_headline, e);
            }),
            (e.prototype.GetHeadlineWithFallback = function (e) {
              var t = this.GetHeadline(e),
                n = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != n && (t = this.GetHeadline(n)), t;
            }),
            (e.prototype.GetBody = function (e) {
              return this.m_section.localized_body &&
                this.m_section.localized_body.length > e &&
                this.m_section.localized_body[e]
                ? this.m_section.localized_body[e]
                : "";
            }),
            (e.prototype.GetBodyWithFallback = function (e) {
              var t = this.GetBody(e),
                n = s.b.GetELanguageFallback(e);
              return 0 == t.length && e != n && (t = this.GetBody(n)), t;
            }),
            (e.prototype.GetImageHashAndExtRaw = function (e) {
              return this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                this.m_section.localized_image[e]
                ? this.m_section.localized_image[e]
                : void 0;
            }),
            (e.prototype.GetImageHash = function (e) {
              var t = this.GetImageHashAndExtRaw(e);
              if (t) return t.substr(0, t.length - 4);
            }),
            (e.prototype.GetImageHashAndExtWithFallback = function (e) {
              var t = this.GetImageHashAndExtRaw(e),
                n = s.b.GetELanguageFallback(e);
              return (
                void 0 === t && e != n && (t = this.GetImageHashAndExtRaw(n)), t
              );
            }),
            (e.prototype.RemoveImage = function (e) {
              this.m_section.localized_image &&
                this.m_section.localized_image.length > e &&
                (this.m_section.localized_image[e] = void 0);
            }),
            (e.prototype.GetImageURLWithFallback = function (e, t) {
              var n = this.GetImageHashAndExtWithFallback(e);
              return n
                ? l.a.GenerateArtworkURLFromHashAndExtensions(t, n)
                : void 0;
            }),
            (e.prototype.GetVideoURL = function () {
              return this.m_section.video_link ? this.m_section.video_link : "";
            }),
            (e.prototype.GetVideoImage = function () {
              return this.m_section.video_image;
            }),
            (e.prototype.GetDestination = function () {
              return this.m_section.button_destination;
            }),
            (e.prototype.BIsStoreSalesPage = function () {
              return this.m_section.button_destination == a.k_ESalesPage;
            }),
            (e.prototype.GetDestinationStorePath = function () {
              return this.m_section.button_store_path
                ? this.m_section.button_store_path
                : "";
            }),
            (e.prototype.GetButtonTextLoc = function () {
              return this.m_section.button_loc_token;
            }),
            (e.prototype.GetButtonAppidOverride = function () {
              return this.m_section.button_appid_override;
            }),
            (e.prototype.BHasButtonAppIDOverride = function () {
              return (
                this.m_section.button_appid_override &&
                this.m_section.button_appid_override > d
              );
            }),
            (e.prototype.BHasValidVideoURL = function () {
              return Object(o.a)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeVideoID = function () {
              return Object(o.c)(this.m_section.video_link);
            }),
            (e.prototype.GetYouTubeImageURL = function () {
              if (this.BHasValidVideoURL())
                return (
                  "https://img.youtube.com/vi/" +
                  this.GetYouTubeVideoID() +
                  "/0.jpg"
                );
            }),
            (e.prototype.GetRawVideoURL = function () {
              return this.m_section.video_link;
            }),
            (e.prototype.BHasVideoImage = function () {
              return Boolean(this.m_section.video_image);
            }),
            Object(i.c)([r.C], e.prototype, "m_section", void 0),
            e
          );
        })();
    },
    f1ZV: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return f;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("y2g3"),
        l = n.n(o),
        s = n("dsQf"),
        c = n.n(s),
        d = n("5izx"),
        u = n("fpVW"),
        p = n.n(u),
        m = n("exH9"),
        _ = n("TLQK"),
        g = n("opsS"),
        E = n("5E+2"),
        b = n("ba6i"),
        v = n.n(b),
        h = n("f0Wu"),
        f = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            return (
              (n.state = {
                timeAsString: null,
                dateAsString: null,
                bEndTimeBeforeStartTime: !1,
              }),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnTimeChange = function (e) {
              var t = this.props,
                n = t.nEarliestTime,
                a = t.fnSetTimeToUpdate,
                i = t.fnIsValidDateTime;
              if (!t.disabled) {
                if ("string" == typeof e) {
                  var r = h(e, "h:m a +-h:m", !0);
                  if (!r.isValid())
                    return void this.setState({ timeAsString: e });
                  e = r;
                }
                var o = this.props.fnGetTimeToUpdate(),
                  l = 0;
                if (o) {
                  var s = h.unix(o);
                  e.year(s.year()),
                    e.month(s.month()),
                    e.day(s.day()),
                    (l = e.unix());
                } else {
                  l =
                    h.unix(n).hour(0).second(0).minutes(0).unix() +
                    3600 * e.hour() +
                    60 * e.minutes();
                }
                a(l);
                var c = i && !0 === i();
                (null == this.state.timeAsString &&
                  c == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    timeAsString: null,
                    bEndTimeBeforeStartTime: c,
                  });
              }
            }),
            (t.prototype.OnDateChange = function (e) {
              if (!this.props.disabled) {
                if ("string" == typeof e) {
                  var t = h(e, "M/D/YYYY", !0);
                  if (!t.isValid())
                    return void this.setState({ dateAsString: e });
                  e = t;
                }
                var n = this.props.fnGetTimeToUpdate(),
                  a = h.unix(n || d.a.GetTimeNowWithOverride());
                e.hour(a.hour()),
                  e.minute(a.minute()),
                  e.second(0),
                  this.props.fnSetTimeToUpdate(e.unix());
                var i =
                  this.props.fnIsValidDateTime &&
                  !0 === this.props.fnIsValidDateTime();
                (null == this.state.dateAsString &&
                  i == this.state.bEndTimeBeforeStartTime) ||
                  this.setState({
                    dateAsString: null,
                    bEndTimeBeforeStartTime: i,
                  });
              }
            }),
            (t.prototype.IsValidDate = function (e) {
              if (this.props.disabled) return !1;
              var t = this.props,
                n = t.nEarliestTime,
                a = t.nLatestTime,
                i = h.unix(n).hour(0).seconds(0).minute(0),
                r = e.unix() >= i.unix();
              if (r && a && a >= n) {
                var o = h.unix(a).hour(23).minute(59).seconds(59);
                r = e.unix() <= o.unix();
              }
              return r;
            }),
            (t.prototype.SetToNow = function () {
              this.props.fnSetToNow
                ? this.props.fnSetToNow(d.a.GetTimeNowWithOverride())
                : this.props.fnSetTimeToUpdate(d.a.GetTimeNowWithOverride());
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.nLatestTime,
                n = e.nEarliestTime,
                a = e.fnGetTimeToUpdate,
                i = e.fnIsValidDateTime,
                o = a(),
                s = o > 0 ? new Date(1e3 * o) : null,
                u = "h:mm A",
                g = i && i(),
                b =
                  this.state.timeAsString ||
                  this.state.dateAsString ||
                  "string" == typeof g,
                f = "#EventEditor_Fallback_Invalid_DateTime";
              this.state.timeAsString
                ? (f = "#EventEditor_Time_CannotParse")
                : this.state.dateAsString
                ? (f = "#EventEditor_Date_CannotParse")
                : "string" == typeof g && (f = g);
              var S = void 0;
              if (t && n && t == n && n > d.a.GetTimeNowWithOverride()) {
                var O = h.unix(n);
                (S = {
                  hours: { max: O.hour(), min: O.hour(), step: 0 },
                  minutes: { max: O.minute(), min: O.minute(), step: 0 },
                  seconds: { max: O.seconds(), min: O.seconds(), step: 0 },
                  milliseconds: { max: 0, min: 0, step: 0 },
                }),
                  (u = "HH:mm");
              }
              var y = void 0;
              !o && n && (y = h.unix(n));
              var C = h.tz.guess(),
                j = h.unix(o).tz(C);
              return r.createElement(
                "div",
                {
                  className: Object(m.a)(
                    v.a.EventTimeSection,
                    this.props.className
                  ),
                },
                r.createElement(
                  "div",
                  { className: v.a.EventTimeTitle },
                  r.createElement(
                    E.a,
                    {
                      toolTipContent: this.props.strDescToolTip,
                      direction: "top",
                    },
                    Boolean(this.props.strDescription) &&
                      r.createElement("span", null, this.props.strDescription)
                  ),
                  b &&
                    r.createElement(
                      "span",
                      null,
                      r.createElement("img", { src: c.a }),
                      Object(_.f)(f)
                    )
                ),
                r.createElement(
                  "div",
                  { className: p.a.FlexRowContainer },
                  r.createElement(
                    "div",
                    { className: Object(m.a)(p.a.InputBorder, v.a.TimeBlock) },
                    r.createElement(l.a, {
                      onChange: this.OnDateChange,
                      timeFormat: !1,
                      value: this.state.dateAsString
                        ? this.state.dateAsString
                        : s,
                      isValidDate: this.IsValidDate,
                      initialValue: y,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Date"),
                        className: v.a.TimeWidth,
                      },
                    })
                  ),
                  r.createElement(
                    "div",
                    {
                      className: Object(m.a)(
                        p.a.InputBorder,
                        v.a.TimeBlock,
                        p.a.FlexRowContainer
                      ),
                    },
                    r.createElement(l.a, {
                      onChange: this.OnTimeChange,
                      dateFormat: !1,
                      timeFormat: u,
                      timeConstraints: S,
                      value: this.state.timeAsString
                        ? this.state.timeAsString
                        : s,
                      inputProps: {
                        placeholder: Object(_.f)("#EventEditor_Enter_Time"),
                        className: v.a.TimeWidth,
                      },
                    })
                  ),
                  this.props.bShowTimeZone &&
                    r.createElement("div", null, j.zoneAbbr())
                ),
                Boolean(S) &&
                  r.createElement(
                    "div",
                    null,
                    Object(_.f)("#EventEditor_DateTime_Fixed")
                  )
              );
            }),
            Object(a.c)([g.a], t.prototype, "OnTimeChange", null),
            Object(a.c)([g.a], t.prototype, "OnDateChange", null),
            Object(a.c)([g.a], t.prototype, "IsValidDate", null),
            Object(a.c)([g.a], t.prototype, "SetToNow", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    fbnN: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return _;
      });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n("EC67"),
        o = n("exH9"),
        l = n("TLQK"),
        s = n("GiuM"),
        c = n("Cksw"),
        d = n.n(c),
        u = n("5E+2"),
        p = n("+d9t"),
        m = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { activeTab: "" }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.props.startingTab
                ? this.setState({ activeTab: this.props.startingTab })
                : !this.props.bDisableRouting &&
                  this.props.location &&
                  this.setState({
                    activeTab: Object(s.a)(this.props.location, "tab"),
                  });
            }),
            (t.prototype.componentDidUpdate = function (e) {
              !this.props.bDisableRouting &&
                this.props.location &&
                this.props.location.key !== e.location.key &&
                this.setState({
                  activeTab: Object(s.a)(this.props.location, "tab"),
                });
            }),
            (t.prototype.OnTabClick = function (e) {
              this.setState({ activeTab: e.key }),
                !this.props.bDisableRouting &&
                  this.props.history &&
                  Object(s.b)(this.props.history, "tab", e.key),
                e.onClick && e.onClick(e);
            }),
            (t.prototype.render = function () {
              var e = this,
                t =
                  this.props.tabs.find(function (t) {
                    return t.key === e.state.activeTab;
                  }) || this.props.tabs[0];
              return i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "div",
                  { className: d.a.GraphicalAssetsTabs },
                  this.props.tabs.map(function (n) {
                    if (!n.hidden) {
                      var a = "";
                      return (
                        "success" === n.statusType
                          ? (a = d.a.StatusSuccess)
                          : "danger" === n.statusType
                          ? (a = d.a.StatusDanger)
                          : "caution" === n.statusType &&
                            (a = d.a.StatusCaution),
                        i.createElement(
                          p.a,
                          {
                            key: n.key,
                            condition: Boolean(n.statusToolTip),
                            wrap: function (e) {
                              return i.createElement(
                                u.a,
                                { toolTipContent: n.statusToolTip },
                                e
                              );
                            },
                          },
                          i.createElement(
                            "div",
                            {
                              key: n.key,
                              className:
                                d.a.GraphicalAssetsTab +
                                " " +
                                (n.key === t.key ? d.a.Active : ""),
                              onClick: function () {
                                return e.OnTabClick(n);
                              },
                            },
                            Boolean(n.vo_warning) &&
                              i.createElement(
                                u.a,
                                { toolTipContent: n.vo_warning },
                                i.createElement(
                                  "div",
                                  { className: d.a.VOWarning },
                                  Object(l.f)("#EventEditor_VOWarning")
                                )
                              ),
                            Boolean(n.status) &&
                              i.createElement(
                                "div",
                                {
                                  className: Object(o.a)(
                                    d.a.GraphicalAssetStatus,
                                    a
                                  ),
                                },
                                n.status
                              ),
                            n.name
                          )
                        )
                      );
                    }
                    return null;
                  })
                ),
                i.createElement("div", null, t && t.contents)
              );
            }),
            t
          );
        })(i.Component),
        _ = Object(r.j)(m);
    },
    fcuX: function (e, t, n) {
      "use strict";
      n.d(t, "d", function () {
        return a;
      }),
        n.d(t, "b", function () {
          return i;
        }),
        n.d(t, "c", function () {
          return r;
        }),
        n.d(t, "a", function () {
          return o;
        }),
        n.d(t, "f", function () {
          return D;
        }),
        n.d(t, "e", function () {
          return w;
        });
      var a,
        i,
        r,
        o,
        l = n("mrSG"),
        s = n("t0uJ"),
        c = n("2vnA"),
        d = n("mgoM"),
        u = n("kyHq"),
        p = n("dZOt"),
        m = n("3+zv"),
        _ = n("kLLr"),
        g = n("ir+G"),
        E = n("U+Q5"),
        b = n("TQGK"),
        v = n("5izx"),
        h = n("6oCP"),
        f = n("r64O"),
        S = n("TLQK"),
        O = n("N0Ye"),
        y = n("opsS"),
        C = n("lkRc"),
        j = n("Q47U"),
        T = n("KP/B"),
        I = n("I/R6");
      !(function (e) {
        (e.k_ENow = "now"), (e.k_ESpecified = "specified");
      })(a || (a = {})),
        (function (e) {
          (e.k_EDuration = "duration"), (e.k_ESpecified = "specified");
        })(i || (i = {})),
        (function (e) {
          (e[(e.None = 0)] = "None"),
            (e[(e.type = 1)] = "type"),
            (e[(e.name = 2)] = "name"),
            (e[(e.description = 4)] = "description"),
            (e[(e.time = 8)] = "time"),
            (e[(e.visibility = 16)] = "visibility"),
            (e[(e.jsondata_other = 32)] = "jsondata_other"),
            (e[(e.jsondata_image = 64)] = "jsondata_image"),
            (e[(e.jsondata_email = 128)] = "jsondata_email"),
            (e[(e.jsondata_broadcast = 256)] = "jsondata_broadcast"),
            (e[(e.jsondata_sales = 512)] = "jsondata_sales"),
            (e[(e.jsondata_schedule = 1024)] = "jsondata_schedule");
        })(r || (r = {})),
        (function (e) {
          (e.k_EHour = "hour"), (e.k_EDay = "day"), (e.k_EWeek = "week");
        })(o || (o = {}));
      var D;
      !(function (e) {
        (e[(e.immediate = 0)] = "immediate"),
          (e[(e.event_start = 1)] = "event_start"),
          (e[(e.specified_time = 2)] = "specified_time");
      })(D || (D = {}));
      var w = (function () {
        function e(e) {
          (this.m_bChanged = !1),
            (this.m_changes = r.None),
            (this.visibilitySetting = D.immediate),
            (this.m_startTimeEditChoice = a.k_ENow),
            (this.m_endTimeEditChoice = i.k_EDuration),
            (this.m_originalEvent = e),
            (this.m_curModel = e.clone(!0)),
            this.DeriveTimeEditChoices(),
            this.DeriveVisibilitySetting(),
            this.EnsureCurrentLanguageValid(),
            e.BIsOGGEvent() && b.a.LoadOGGClanInfoForAppID(e.appid),
            this.ClearDirty();
        }
        return (
          (e.prototype.GetCreatorUserSteamID = function () {
            return new _.a(this.m_originalEvent.creator_steamid);
          }),
          (e.prototype.GetLastUpdater = function () {
            return new _.a(this.m_originalEvent.last_update_steamid);
          }),
          (e.prototype.GetLastUpdateTime = function () {
            return this.m_originalEvent.rtime32_last_modified;
          }),
          (e.prototype.GetGID = function () {
            return this.m_curModel.GID ? this.m_curModel.GID : "";
          }),
          (e.prototype.BHasGid = function () {
            return this.m_curModel.GID && this.m_curModel.GID.length > 1;
          }),
          (e.prototype.GetAnnouncementGID = function () {
            return this.m_curModel.AnnouncementGID
              ? this.m_curModel.AnnouncementGID
              : "";
          }),
          (e.prototype.GetClanSteamID = function () {
            return this.m_curModel.clanSteamID;
          }),
          (e.prototype.GetClanAccountID = function () {
            return this.m_curModel.clanSteamID.GetAccountID();
          }),
          (e.prototype.GetAppID = function () {
            return this.m_curModel.appid;
          }),
          (e.prototype.GetEventState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetEventTypeAsString = function () {
            return this.m_curModel.GetEventTypeAsString();
          }),
          (e.prototype.GetStartTimeEditChoice = function () {
            return this.m_startTimeEditChoice;
          }),
          (e.prototype.GetEndTimeEditChoice = function () {
            return this.m_endTimeEditChoice;
          }),
          (e.prototype.GetEndEditDurationType = function () {
            return this.m_editDurationType;
          }),
          (e.prototype.GetEndEditDurationValue = function () {
            return this.m_editDurationValue;
          }),
          (e.prototype.GetUniqueKey = function () {
            return this.BHasGid() ? this.GetGID() : "GIDLessNewEvent";
          }),
          (e.prototype.BIsSourceEventSaleEnabled = function () {
            return this.m_originalEvent.jsondata.bSaleEnabled;
          }),
          (e.prototype.BInRealmGlobal = function () {
            return this.m_curModel.BInRealmGlobal();
          }),
          (e.prototype.BInRealmChina = function () {
            return this.m_curModel.BInRealmChina();
          }),
          (e.prototype.BIsLanguageValidForRealms = function (e) {
            return this.m_curModel.BIsLanguageValidForRealms(e);
          }),
          (e.prototype.EnsureCurrentLanguageValid = function () {
            this.BIsLanguageValidForRealms(I.a.Get().GetCurEditLanguage()) ||
              I.a.Get().SetCurEditLanguage(this.BInRealmChina() ? 29 : 0);
          }),
          (e.prototype.GetIncludedRealmList = function () {
            var e = new Array();
            return (
              this.BInRealmGlobal() && e.push(u.f.k_ESteamRealmGlobal),
              this.BInRealmChina() && e.push(u.f.k_ESteamRealmChina),
              Object(f.a)(
                e.length > 0,
                "Event " +
                  this.GetGID() +
                  " is currently configured so that no realms are valid for display. Either enable Steam China or Global to address this issue"
              ),
              e
            );
          }),
          (e.prototype.GetCompletionState = function (e, t) {
            var n = e.filter(function (e) {
                return Boolean(e);
              }),
              a = n.length >= e.length;
            return {
              text: Object(S.f)(
                a
                  ? "#EventEditor_CompleteStatus"
                  : "#EventEditor_IncompleteStatus",
                n.length,
                e.length
              ),
              complete: n.length,
              total: e.length,
              ttip: a ? void 0 : t,
            };
          }),
          (e.prototype.GetDescriptionCompletion = function () {
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetName(e), this.GetDescription(e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetArtworkCompletion = function () {
            if (this.BHasTag("curator")) return null;
            var e = I.a.Get().GetCurEditLanguage(),
              t = [this.GetImageURL("capsule", e)];
            return this.GetCompletionState(t);
          }),
          (e.prototype.GetOptionsCompletion = function () {
            var e = [];
            return (
              this.BHasTag("steam_award_nomination_request") &&
                e.push(this.GetSteamAwardCategory()),
              this.BIsEventForOGGWithoutVisibleStorePage() &&
                e.push(this.BOptedInForOGGWithoutVisibleStorePage()),
              e.length ? this.GetCompletionState(e) : null
            );
          }),
          (e.prototype.GetSaleTabCompletion = function () {
            var e = [];
            return (
              this.BHasSaleEnabled() &&
                e.push(this.GetEventModel().GetSaleVanity()),
              e.length
                ? this.GetCompletionState(
                    e,
                    Object(S.f)("#EventEditor_SaleNotReady_ttip")
                  )
                : null
            );
          }),
          (e.prototype.BAllowedToPublishStagedEvents = function () {
            return (
              !this.BHasTag("steam_award_nomination_request") &&
              !this.BHasTag("steam_award_vote_request")
            );
          }),
          (e.prototype.GetEventStartTime = function () {
            return this.m_curModel.startTime;
          }),
          (e.prototype.GetEventEndTime = function () {
            return this.m_curModel.endTime;
          }),
          (e.prototype.GetEventVisibilityStartTime = function () {
            return Object(O.b)(this.GetCategoryAsType())
              ? this.m_curModel.visibilityStartTime
              : this.m_curModel.startTime;
          }),
          (e.prototype.BGetOriginalEventVisibilityStartTime = function () {
            return this.m_originalEvent.visibilityStartTime;
          }),
          (e.prototype.GetEventVisibilityEndTime = function () {
            return this.m_curModel.visibilityEndTime;
          }),
          (e.prototype.GetOriginalEventStartTime = function () {
            return this.m_originalEvent.startTime;
          }),
          (e.prototype.GetOriginalEventEndTime = function () {
            return this.m_originalEvent.endTime;
          }),
          (e.prototype.BIsValidStartTimeForEdit = function () {
            var e = this.GetEventStartTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventStartTime()) ||
              (this.GetEarliestStartTimeForEdit() &&
              e < this.GetEarliestStartTimeForEdit()
                ? "#EventEditor_StartTime_BeforeEarliestAllowed"
                : !(e + 3600 < v.a.GetTimeNowWithOverride()) ||
                  "#EventEditor_StartTime_BeforeNow")
            );
          }),
          (e.prototype.BIsValidEndTimeForEdit = function () {
            var e = this.GetEventEndTime();
            return (
              !e ||
              e <= 1 ||
              !(!this.BPublished() || e != this.GetOriginalEventEndTime()) ||
              (this.BIsBeginTimeBeforeEnd()
                ? !(
                    this.GetLatestEndTimeForEdit() &&
                    e > this.GetLatestEndTimeForEdit()
                  ) || "#EventEditor_StartTime_AfterLatestAllowed"
                : "#EventEditor_EndTime_ToEarly")
            );
          }),
          (e.prototype.GetName = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.name.get(e);
          }),
          (e.prototype.GetDescription = function (e) {
            return void 0 === e && (e = 0), this.m_curModel.description.get(e);
          }),
          (e.prototype.BHasBroadcaster = function () {
            return null != this.m_curModel.broadcaster;
          }),
          (e.prototype.GetBroadcaster = function () {
            return this.m_curModel.broadcaster;
          }),
          (e.prototype.BHasLanguageTitle = function (e) {
            var t = this.m_curModel.name.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageDescription = function (e) {
            var t = this.m_curModel.description.get(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSubTitle = function (e) {
            var t = this.m_curModel.GetSubTitle(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguageSummary = function (e) {
            var t = this.m_curModel.GetSummary(e);
            return t && t.length > 1;
          }),
          (e.prototype.BHasLanguage = function (e) {
            return this.BHasLanguageTitle(e) || this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasLanguageRequired = function (e) {
            return this.BHasLanguageTitle(e) && this.BHasLanguageDescription(e);
          }),
          (e.prototype.BHasSubTitle = function (e) {
            return this.m_curModel.BHasSubTitle(e);
          }),
          (e.prototype.GetSubTitle = function (e) {
            return this.m_curModel.GetSubTitle(e);
          }),
          (e.prototype.GetSummary = function (e) {
            return this.m_curModel.GetSummary(e);
          }),
          (e.prototype.GetAppName = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().title;
          }),
          (e.prototype.GetStoreItemID = function () {
            return g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData().item_id;
          }),
          (e.prototype.GetCategoryAsString = function () {
            return this.m_curModel.GetCategoryAsString();
          }),
          (e.prototype.GetCategoryAsType = function () {
            return this.m_curModel.type;
          }),
          (e.prototype.GetCurEditLanguage = function () {
            return I.a.Get().GetCurEditLanguage();
          }),
          (e.prototype.BHidden = function () {
            return (
              this.m_curModel.visibility_state ==
                h.b.k_EEventStateUnpublished ||
              this.m_curModel.visibility_state == h.b.k_EEventStateStaged
            );
          }),
          (e.prototype.BPublished = function () {
            return (
              this.m_curModel.visibility_state == h.b.k_EEventStateStaged ||
              this.m_curModel.visibility_state == h.b.k_EEventStateVisible
            );
          }),
          (e.prototype.BVisible = function () {
            return this.m_curModel.visibility_state == h.b.k_EEventStateVisible;
          }),
          (e.prototype.GetVisibilityState = function () {
            return this.m_curModel.visibility_state;
          }),
          (e.prototype.GetEventModel = function () {
            return this.m_curModel;
          }),
          (e.prototype.BHasEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BHasSaleEnabled = function () {
            return this.m_curModel.jsondata.bSaleEnabled;
          }),
          (e.prototype.BHasScheduleEnabled = function () {
            return this.m_curModel.jsondata.bScheduleEnabled;
          }),
          (e.prototype.GetScheduleEntries = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries
              : [];
          }),
          (e.prototype.GetScheduleEntriesCount = function () {
            return this.m_curModel.jsondata.bScheduleEnabled &&
              this.m_curModel.jsondata.scheduleEntries
              ? this.m_curModel.jsondata.scheduleEntries.length
              : 0;
          }),
          (e.prototype.GetSaleSections = function () {
            return this.m_curModel.jsondata.sale_sections;
          }),
          (e.prototype.BHasLanguageRequiredOrFallback = function (e, t) {
            return (
              (this.BHasLanguageTitle(e) || this.BHasLanguageTitle(t)) &&
              (this.BHasLanguageDescription(e) ||
                this.BHasLanguageDescription(t))
            );
          }),
          (e.prototype.GetDynamicRevealSections = function () {
            var e = new Array();
            return (
              this.GetSaleSections().forEach(function (t) {
                t.dynamic_reveal && e.push(t);
              }),
              e
            );
          }),
          (e.prototype.GetTabSaleSection = function () {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (e) {
                return "tabs" === e.section_type;
              });
          }),
          (e.prototype.GetSaleSectionIndexByID = function (e) {
            return this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.findIndex(function (t) {
                  return t.unique_id === e;
                })
              : -1;
          }),
          (e.prototype.GetSaleSectionByID = function (e) {
            if (this.m_curModel.jsondata.sale_sections)
              return this.m_curModel.jsondata.sale_sections.find(function (t) {
                return t.unique_id === e;
              });
          }),
          (e.prototype.BHasSaleSectionLabelLocalization = function (e, t) {
            var n = this.GetSaleSections()[t];
            return Boolean(S.a.Get(n.localized_label, e));
          }),
          (e.prototype.SetSaleSectionLabelLocalization = function (e, t, n) {
            var a = this.GetSaleSections()[t];
            return (
              S.a.Get(a.localized_label, e) != n &&
              ((a.localized_label = S.a.Set(a.localized_label || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.SetSaleSectionType = function (e, t) {
            e.section_type !== t &&
              ((e.internal_section_data =
                "vo_internal" === t ? Object(l.a)({}, m.i) : null),
              (e.section_type = t),
              "items" == t &&
                void 0 === e.capsules_per_row_array &&
                ((e.capsules_per_row_array = [2, 3, 4, 3]),
                (e.carousel_rows = 2),
                (e.show_as_carousel = !0)));
          }),
          (e.prototype.BHasSaleSectionTextLocalization = function (e, t) {
            var n = this.GetSaleSections()[t];
            return Boolean(
              "text_section" === n.section_type &&
                n.text_section_contents &&
                n.text_section_contents.length > e &&
                n.text_section_contents[e]
            );
          }),
          (e.prototype.SetSaleSectionTextLocalization = function (e, t, n) {
            var a = this.GetSaleSections()[t];
            return (
              "text_section" === a.section_type &&
              S.a.Get(a.text_section_contents, e) != n &&
              ((a.text_section_contents = S.a.Set(
                a.text_section_contents || [],
                e,
                n
              )),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionDescriptionBBCode = function (e, t) {
            var n = this.GetSaleSections()[t];
            return Boolean(
              n.localized_description &&
                n.localized_description.length > e &&
                n.localized_description[e]
            );
          }),
          (e.prototype.SetSaleSectionDescriptionBBCode = function (e, t, n) {
            var a = this.GetSaleSections()[t];
            return (
              S.a.Get(a.localized_description, e) != n &&
              ((a.localized_description = S.a.Set(
                a.localized_description || [],
                e,
                n
              )),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionTabName = function (e, t) {
            return Boolean(t && S.a.Get(t.localized_label, e));
          }),
          (e.prototype.SetSaleSectionTabName = function (e, t, n) {
            return (
              S.a.Get(t.localized_label, e) != n &&
              ((t.localized_label = S.a.Set(t.localized_label || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.BHasSaleSectionFacetName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueName = function (e, t) {
            return Boolean(t && S.a.Get(t.name, e));
          }),
          (e.prototype.BHasSaleSectionFacetValueSubtitle = function (e, t) {
            return Boolean(t && S.a.Get(t.subtitle, e));
          }),
          (e.prototype.SetSaleSectionFacetName = function (e, t, n) {
            return (
              S.a.Get(t.name, e) !== n &&
              ((t.name = S.a.Set(t.name || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueName = function (e, t, n) {
            return (
              S.a.Get(t.name, e) !== n &&
              ((t.name = S.a.Set(t.name || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.SetSaleSectionFacetValueSubtitle = function (e, t, n) {
            return (
              S.a.Get(t.subtitle, e) !== n &&
              ((t.subtitle = S.a.Set(t.subtitle || [], e, n)),
              this.SetDirty(r.jsondata_sales),
              !0)
            );
          }),
          (e.prototype.GetVisibilityPublishingSetup = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.BIsEmailVideoImageMissing = function () {
            return (
              this.BHasEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.sections[1].video_image &&
              Boolean(
                this.m_curModel.jsondata.email_setting.sections[1].video_link
              )
            );
          }),
          (e.prototype.GetFirstLanguageWithTitle = function () {
            for (var e = 0; e < 30; ++e)
              if (this.BHasLanguageTitle(e)) return e;
            return e;
          }),
          (e.prototype.BHasSpotlightArtwork = function () {
            return Boolean(
              this.m_curModel.jsondata.localized_spotlight_image &&
                this.m_curModel.jsondata.localized_spotlight_image[0]
            );
          }),
          (e.prototype.BHasSteamStoreSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.store_spotlight);
          }),
          (e.prototype.BHasLibaryHomeSpotlight = function () {
            return Boolean(this.m_curModel.jsondata.library_home_spotlight);
          }),
          (e.prototype.SetSteamStoreSpotlight = function (e) {
            this.m_curModel.jsondata.store_spotlight != e &&
              ((this.m_curModel.jsondata.store_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetLibraryHomeSpotlight = function (e) {
            this.m_curModel.jsondata.library_home_spotlight != e &&
              ((this.m_curModel.jsondata.library_home_spotlight = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetStartTimeEditChoice = function (e) {
            this.m_startTimeEditChoice != e &&
              ((this.m_startTimeEditChoice = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndTimeEditChoice = function (e) {
            this.m_endTimeEditChoice != e &&
              ((this.m_endTimeEditChoice = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndEditDurationType = function (e) {
            this.m_editDurationType != e &&
              ((this.m_editDurationType = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetEndEditDurationValue = function (e) {
            this.m_editDurationValue != e &&
              ((this.m_editDurationValue = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.UpdateVisibilityState = function (e, t) {
            this.m_curModel.visibility_state = e
              ? t
                ? h.b.k_EEventStateStaged
                : h.b.k_EEventStateVisible
              : h.b.k_EEventStateUnpublished;
          }),
          (e.prototype.SetVisibilityPublishingSetup = function (e) {
            e != this.visibilitySetting &&
              ((this.visibilitySetting = e), this.SetDirty(r.visibility));
          }),
          (e.prototype.SetGIDs = function (e, t, n) {
            (this.m_curModel.clanSteamID = e),
              Object(f.a)(
                this.m_curModel.clanSteamID &&
                  this.m_curModel.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + e.ConvertTo64BitString()
              ),
              (this.m_curModel.GID = t),
              (this.m_curModel.AnnouncementGID = n);
          }),
          (e.prototype.SetVisibilityState = function (e) {
            this.m_curModel.visibility_state != e &&
              ((this.m_curModel.visibility_state = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetName = function (e, t) {
            return (
              this.m_curModel.name.get(e) !== t &&
              (this.m_curModel.name.set(e, t), this.SetDirty(r.name), !0)
            );
          }),
          (e.prototype.SetDescription = function (e, t) {
            return (
              this.m_curModel.description.get(e) != t &&
              (this.m_curModel.description.set(e, t),
              this.SetDirty(r.description),
              !0)
            );
          }),
          (e.prototype.SetSubTitle = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_subtitle[e] != t &&
              ((this.m_curModel.jsondata.localized_subtitle[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetSummary = function (e, t) {
            return (
              this.m_curModel.jsondata.localized_summary[e] != t &&
              ((this.m_curModel.jsondata.localized_summary[e] = t),
              this.SetDirty(r.jsondata_other),
              !0)
            );
          }),
          (e.prototype.SetCurEditLanguage = function (e) {
            return I.a.Get().SetCurEditLanguage(e);
          }),
          (e.prototype.PrepareAsClone = function (e) {
            (this.m_curModel = e),
              (this.m_curModel.GID = void 0),
              (this.m_curModel.AnnouncementGID = void 0),
              (this.m_curModel.visibility_state = h.b.k_EEventStateUnpublished),
              (this.m_curModel.nCommentCount = 0),
              (this.m_curModel.nVotesDown = 0),
              (this.m_curModel.nVotesUp = 0),
              (this.m_curModel.forumTopicGID = void 0),
              (this.m_curModel.creator_steamid = void 0),
              (this.m_curModel.last_update_steamid = void 0),
              (this.m_curModel.rtime32_last_modified = 0),
              (this.m_curModel.rtime32_last_solr_search_col_updated = 0),
              (this.m_curModel.rtime32_moderator_reviewed = 0),
              (this.m_curModel.postTime = 0),
              (this.m_curModel.startTime = void 0),
              (this.m_curModel.endTime = void 0),
              (this.m_curModel.visibilityStartTime = void 0),
              (this.m_curModel.visibilityEndTime = void 0),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.m_curModel.timestamp_loc_updated.clear();
            for (var t = this.m_curModel.vecTags.length - 1; t >= 0; --t) {
              var n = this.m_curModel.vecTags[t];
              (n.startsWith("mod_") || n.startsWith("ModAct_")) &&
                this.m_curModel.vecTags.splice(t, 1);
            }
            (this.m_originalEvent = new h.c()),
              (this.m_originalEvent.loadedAllLanguages = !0),
              Object(m.w)(this.m_curModel.jsondata),
              this.SetDirty(
                r.description |
                  r.name |
                  r.time |
                  r.type |
                  r.jsondata_image |
                  r.jsondata_other |
                  r.jsondata_email
              );
          }),
          (e.prototype.setEventType = function (e) {
            this.m_curModel.type != e &&
              ((this.m_curModel.type = e), this.SetDirty(r.type));
          }),
          (e.prototype.SetAnnouncementGID = function (e) {
            this.m_curModel.AnnouncementGID = e;
          }),
          (e.prototype.SetEarliestAllowedStartTime = function (e) {
            this.earliestAllowedStartTime = e;
          }),
          (e.prototype.SetLatestAllowedEndTime = function (e) {
            this.latestAllowedEndTime = e;
          }),
          (e.prototype.SetEventStartTime = function (e) {
            var t = Math.abs(e - (e % 60));
            this.m_curModel.startTime != t &&
              ((this.m_curModel.startTime = t),
              t && this.SetStartTimeEditChoice(a.k_ESpecified),
              this.m_curModel.endTime < this.m_curModel.startTime &&
                (this.m_curModel.endTime = this.m_curModel.startTime + 3600),
              this.SetDirty(r.time));
          }),
          (e.prototype.SetEventEndTime = function (e) {
            var t = e - (e % 60);
            this.m_curModel.endTime != t &&
              ((this.m_curModel.endTime = t),
              t && this.SetEndTimeEditChoice(i.k_ESpecified),
              this.SetDirty(r.time));
          }),
          (e.prototype.SetSaleVanityID = function (e) {
            var t,
              n =
                null !== (t = e.replace(/[^\w-]/g, "")) && void 0 !== t
                  ? t
                  : "";
            this.m_curModel.jsondata.sale_vanity_id != n &&
              ((this.m_curModel.jsondata.sale_vanity_id = n),
              this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.SetVisibilityStartTime = function (e) {
            this.m_curModel.visibilityStartTime != e &&
              ((this.m_curModel.visibilityStartTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.ResetSetVisibilityStartTime = function () {
            this.SetVisibilityStartTime(
              this.m_originalEvent.visibilityStartTime
            ),
              this.DeriveVisibilitySetting();
          }),
          (e.prototype.SetVisibilityEndTime = function (e) {
            this.m_curModel.visibilityEndTime != e &&
              ((this.m_curModel.visibilityEndTime = e),
              this.SetDirty(r.visibility));
          }),
          (e.prototype.SetActionEndTime = function (e) {
            (this.m_curModel.jsondata.action_end_time = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.BIsDirty = function () {
            return this.m_bChanged;
          }),
          (e.prototype.ClearDirty = function () {
            (this.m_bChanged = !1), (this.m_changes = r.None);
          }),
          (e.prototype.SetDirty = function (e) {
            this.m_bChanged || e == r.None || (this.m_bChanged = !0),
              (this.m_changes & e) != e && (this.m_changes |= e),
              (this.m_curModel.rtime32_last_local_modification =
                Date.now() / 1e3);
          }),
          (e.prototype.GetChangeTypes = function () {
            return this.m_changes;
          }),
          (e.prototype.BIsDirtyType = function (e) {
            return Boolean(this.m_changes & e);
          }),
          (e.prototype.DeriveTimeEditChoices = function () {
            var e = this.ComputeDurationSetting(),
              t = null != e;
            null == e && (e = this.ComputeDefaultDuration()),
              this.SetEndEditDurationType(e.durationType),
              this.SetEndEditDurationValue(e.value),
              !this.BPublished() &&
                this.GetEventStartTime() < v.a.GetTimeNowWithOverride() &&
                this.SetEventStartTime(0);
            var n =
                !this.GetEventStartTime() || this.GetEventStartTime() <= 1
                  ? a.k_ENow
                  : a.k_ESpecified,
              r =
                !this.GetEventEndTime() || this.GetEventEndTime() <= 1 || t
                  ? i.k_EDuration
                  : i.k_ESpecified;
            this.SetStartTimeEditChoice(n), this.SetEndTimeEditChoice(r);
          }),
          (e.prototype.DeriveVisibilitySetting = function () {
            if (this.BHidden()) {
              var e = this.m_curModel.startTime,
                t = this.m_curModel.visibilityStartTime;
              (this.visibilitySetting = D.specified_time),
                !t || t <= 1
                  ? (this.visibilitySetting = D.immediate)
                  : t == e && (this.visibilitySetting = D.event_start);
            }
          }),
          (e.CalculateEndTimeFromStartAndDuration = function (e, t, n) {
            return t == o.k_EWeek
              ? e + 604800 * n
              : t == o.k_EDay
              ? e + 86400 * n
              : e + 3600 * n;
          }),
          (e.prototype.RemoveNullCapsules = function () {
            for (var e = 0, t = this.GetSaleSections(); e < t.length; e++) {
              var n = t[e];
              n.capsules &&
                n.capsules.some(function (e) {
                  return !Boolean(e);
                }) &&
                (n.capsules = n.capsules.filter(function (e) {
                  return Boolean(e);
                }));
            }
          }),
          (e.prototype.OnPreSave = function () {
            this.RemoveNullCapsules(),
              this.PreSaveEventTimeAssignment(),
              this.FixupTabVisibilitySettings(),
              Object(T.u)(this);
          }),
          (e.prototype.FixupTabVisibilitySettings = function () {
            for (
              var e = null, t = 0, n = this.GetSaleSections();
              t < n.length;
              t++
            ) {
              var a = n[t];
              a.show_on_tabs &&
                ((a.show_on_tabs = a.show_on_tabs.filter(function (t) {
                  return (
                    e &&
                    e.tabs.some(function (e) {
                      return t === e.unique_id;
                    })
                  );
                })),
                0 === a.show_on_tabs.length && (a.show_on_tabs = void 0)),
                "tabs" === a.section_type &&
                  a.tabs &&
                  a.tabs.length > 0 &&
                  (e = a);
            }
          }),
          (e.prototype.PreSaveEventTimeAssignment = function () {
            var e = v.a.GetTimeNowWithOverride();
            if (
              ((e -= e % 60),
              this.SetEventStartTime(this.ComputeStartTime(e)),
              Object(O.b)(this.m_curModel.type))
            ) {
              var t = this.GetEventStartTime();
              this.m_endTimeEditChoice == i.k_EDuration &&
                (this.m_curModel.endTime =
                  1 + this.InternalComputeDurationRoundedEndTime(t));
            }
            if (
              (null == this.GetEventEndTime() && this.SetEventEndTime(0),
              this.BHidden())
            ) {
              var n = this.ComputeVisibilityStartTime(
                e,
                this.m_curModel.startTime
              );
              this.SetVisibilityStartTime(n);
            }
          }),
          (e.prototype.ComputeStartTime = function (e) {
            return this.m_startTimeEditChoice == a.k_ENow ||
              null == this.GetEventStartTime() ||
              0 == this.GetEventStartTime()
              ? e
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeVisibilityStartTime = function (e, t) {
            switch (this.visibilitySetting) {
              default:
                return (
                  console.error("Unexpected: " + this.visibilitySetting), 0
                );
              case D.immediate:
                return 0;
              case D.event_start:
                return t <= 1 ? e : t;
              case D.specified_time:
                return this.m_curModel.visibilityStartTime < e
                  ? e
                  : this.m_curModel.visibilityStartTime;
            }
          }),
          (e.prototype.GetVisibilitySetting = function () {
            return this.visibilitySetting;
          }),
          (e.prototype.Refresh = function (e) {
            this.m_curModel.GID == e.GID &&
              ((this.m_originalEvent = e),
              (this.m_curModel = e.clone(!0)),
              this.DeriveTimeEditChoices(),
              this.DeriveVisibilitySetting(),
              this.EnsureCurrentLanguageValid(),
              this.ClearDirty(),
              this.MigrateForEdit());
          }),
          (e.prototype.BIsBeginTimeBeforeEnd = function () {
            var e = v.a.GetTimeNowWithOverride(),
              t = this.ComputeStartTime(e);
            return (
              !this.m_curModel.endTime ||
              0 == this.m_curModel.endTime ||
              this.m_curModel.endTime >= t
            );
          }),
          (e.prototype.BIsValidVisibilityStartTime = function () {
            var e = v.a.GetTimeNowWithOverride();
            return (
              !!(
                this.visibilitySetting != D.specified_time ||
                !this.m_curModel.visibilityStartTime ||
                0 == this.m_curModel.visibilityStartTime ||
                this.m_curModel.startTime < e ||
                (e < this.m_curModel.visibilityStartTime &&
                  this.m_curModel.visibilityStartTime <=
                    this.m_curModel.startTime)
              ) || "#EventEditor_Publish_InvalidPublishDate"
            );
          }),
          (e.prototype.GetEarliestStartTimeForEdit = function () {
            return this.earliestAllowedStartTime;
          }),
          (e.prototype.GetLatestEndTimeForEdit = function () {
            return this.latestAllowedEndTime;
          }),
          (e.prototype.GetEarliestEndTimeForEdit = function () {
            return this.m_curModel.startTime && 0 != this.m_curModel.startTime
              ? this.m_curModel.startTime
              : v.a.GetTimeNowWithOverride();
          }),
          (e.prototype.GetEarliestVisibilityStartTimeForEdit = function () {
            return Math.min(
              this.GetEarliestEndTimeForEdit(),
              v.a.GetTimeNowWithOverride()
            );
          }),
          (e.prototype.ConstructJSONData = function () {
            return this.m_curModel.jsondata
              ? JSON.stringify(this.m_curModel.jsondata)
              : "";
          }),
          (e.prototype.SetImageURL = function (e, t, n) {
            void 0 === n && (n = 0);
            var a = t ? E.a.GetExtensionString(t) : null,
              i = t ? t.image_hash + a : null,
              o = this.m_curModel.jsondata;
            if ("background" === e && o.localized_title_image[n] !== i)
              (o.localized_title_image[n] = i), this.SetDirty(r.jsondata_image);
            else if ("capsule" === e && o.localized_capsule_image[n] !== i)
              (o.localized_capsule_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if ("spotlight" === e && o.localized_spotlight_image[n] !== i)
              (o.localized_spotlight_image[n] = i),
                this.GetImageURL("spotlight", 0) || (o.library_spotlight = !1),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_left" === e &&
              o.localized_broadcast_left_image[n] !== i
            )
              (o.localized_broadcast_left_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if (
              "broadcast_right" === e &&
              o.localized_broadcast_right_image[n] !== i
            )
              (o.localized_broadcast_right_image[n] = i),
                this.SetDirty(r.jsondata_image);
            else if ("sale_header" === e) {
              var l = void 0;
              if (void 0 !== o.sale_num_headers) {
                var s = Math.min(
                  o.sale_num_headers,
                  this.m_curModel.GetDayIndexFromEventStart()
                );
                l = o.localized_per_day_sales_header[s];
              } else l = o.localized_sale_header;
              l[n] !== i && ((l[n] = i), this.SetDirty(r.jsondata_image));
            } else
              "sale_overlay" === e && o.localized_sale_overlay[n] !== i
                ? ((o.localized_sale_overlay[n] = i),
                  this.SetDirty(r.jsondata_image))
                : "product_banner" === e &&
                  S.a.Get(o.localized_sale_product_banner, n) !== i
                ? ((o.localized_sale_product_banner = S.a.Set(
                    o.localized_sale_product_banner || [],
                    n,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "product_mobile_banner" === e &&
                  S.a.Get(o.localized_sale_product_mobile_banner, n) !== i
                ? ((o.localized_sale_product_mobile_banner = S.a.Set(
                    o.localized_sale_product_mobile_banner || [],
                    n,
                    i
                  )),
                  this.SetDirty(r.jsondata_image))
                : "link_capsule" === e ||
                  "product_banner_override" === e ||
                  "product_mobile_banner_override" === e ||
                  "sale_section_title" === e ||
                  "schedule_track_art" === e
                ? (i &&
                    0 == E.d.GetAllLocalizedGroupImages().length &&
                    E.d.SetPrimaryImageForImageGroup(t, e),
                  E.d.SetLocalizedImageGroupAtLang(n, this.GetClanSteamID(), i))
                : "localized_image_group" === e &&
                  console.error(
                    "Attempting to save localized image via editor model, not supported, it belong to the store itself"
                  );
          }),
          (e.prototype.GetImageURL = function (e, t, n) {
            return (
              void 0 === t && (t = 0),
              void 0 === n && (n = E.c.full),
              this.m_curModel.GetImageURL(e, t, n)
            );
          }),
          (e.prototype.GetImageURLWithFallback = function (e, t, n) {
            return (
              void 0 === n && (n = E.c.full),
              this.m_curModel.GetImageURLWithFallback(e, t, n)
            );
          }),
          (e.prototype.GetImageHash = function (e, t) {
            return this.m_curModel.GetImageHash(e, t);
          }),
          (e.prototype.BHasImage = function (e, t) {
            return this.m_curModel.BHasImage(e, t);
          }),
          (e.prototype.BHasTitleImage = function (e) {
            return void 0 !== this.m_curModel.GetImageURL("background", e);
          }),
          (e.prototype.BIsImageSafeForAllAges = function (e, t) {
            return this.m_curModel.BIsImageSafeForAllAges(e, t);
          }),
          (e.prototype.GetTitleImageLanguages = function () {
            var e = new Array();
            if (
              this.m_curModel.jsondata &&
              this.m_curModel.jsondata.localized_title_image
            )
              for (var t in this.m_curModel.jsondata.localized_title_image)
                e.push(Number.parseInt(t));
            return e;
          }),
          (e.prototype.BHasSomeImage = function (e) {
            return this.m_curModel.BHasSomeImage(e);
          }),
          (e.prototype.GetWhenEventWillBeVisibleToPublic = function () {
            return this.GetEventVisibilityStartTime() &&
              0 != this.GetEventVisibilityStartTime()
              ? this.GetEventVisibilityStartTime()
              : this.GetEventStartTime();
          }),
          (e.prototype.ComputeDurationSetting = function () {
            if (
              !this.m_curModel.endTime ||
              !this.m_curModel.startTime ||
              this.m_curModel.endTime <= 1 ||
              0 == (1 & this.m_curModel.endTime)
            )
              return null;
            var e = 86400,
              t = 604800,
              n = this.m_curModel.endTime - this.m_curModel.startTime - 1;
            return n % t == 0
              ? {
                  durationType: o.k_EWeek,
                  value: Math.floor(Math.max(1, n / t)),
                }
              : n % e == 0
              ? {
                  durationType: o.k_EDay,
                  value: Math.floor(Math.max(1, n / e)),
                }
              : {
                  durationType: o.k_EHour,
                  value: Math.floor(Math.max(1, n / 3600)),
                };
          }),
          (e.prototype.ComputeDefaultDuration = function () {
            return { durationType: o.k_EHour, value: 1 };
          }),
          (e.prototype.ComputeDurationBasedRoundedEndTime = function () {
            if (this.m_endTimeEditChoice == i.k_EDuration) {
              var e = this.m_curModel.startTime;
              if (
                this.m_startTimeEditChoice != a.k_ESpecified ||
                (e && !(e <= 1))
              )
                return (
                  this.m_startTimeEditChoice == a.k_ENow &&
                    (e = v.a.GetTimeNowWithOverride()),
                  this.InternalComputeDurationRoundedEndTime(e)
                );
            }
          }),
          (e.prototype.InternalComputeDurationRoundedEndTime = function (t) {
            var n =
              e.CalculateEndTimeFromStartAndDuration(
                t,
                this.m_editDurationType,
                this.m_editDurationValue
              ) / 60;
            return 60 * (n + (30 - (n % 30)));
          }),
          (e.prototype.GetFallbackLanguageIfNeeded = function () {
            var e = this.GetCurEditLanguage(),
              t = S.b.GetELanguageFallback(e);
            if (e != t) {
              var n = this.GetDescription(e);
              if (!n || 0 == n.length) return t;
            }
          }),
          (e.prototype.LastTimeLanguageUpdate = function (e) {
            return this.m_curModel.timestamp_loc_updated.has(e)
              ? this.m_curModel.timestamp_loc_updated.get(e)
              : 0;
          }),
          (e.prototype.ComputeEditingModelTimeOverrides = function () {
            var e = this.GetEventModel().GetStartTimeAndDateUnixSeconds(),
              t = this.GetEventModel().GetEndTimeAndDateUnixSeconds(),
              n = v.a.GetTimeNowWithOverride();
            e = this.ComputeStartTime(n);
            var a = this.ComputeDurationBasedRoundedEndTime();
            return (
              null != a && (t = a),
              { nOverrideEndTime: t, nOverrideStartTime: e }
            );
          }),
          (e.prototype.GetStrVanityOrAppID = function () {
            return C.b.VANITY_ID;
          }),
          (e.prototype.SetLibrarySpotlight = function (e) {
            this.m_curModel.jsondata.library_spotlight !== e &&
              ((this.m_curModel.jsondata.library_spotlight = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.SetLibrarySpotlightText = function (e) {
            this.m_curModel.jsondata.library_spotlight_text !== e &&
              ((this.m_curModel.jsondata.library_spotlight_text = e),
              this.SetDirty(r.jsondata_other));
          }),
          (e.prototype.GetEmailSettings = function () {
            return this.m_curModel.jsondata.email_setting;
          }),
          (e.prototype.BIsEmailEnabled = function () {
            return (
              this.m_curModel.jsondata.email_setting &&
              this.m_curModel.jsondata.email_setting.bEnable
            );
          }),
          (e.prototype.BIsEmailEditable = function () {
            return (
              this.BIsEmailEnabled() &&
              !this.m_curModel.jsondata.email_setting.locked
            );
          }),
          (e.prototype.CreateOrGetEmailSettings = function (e) {
            return (
              this.m_curModel.jsondata.email_setting ||
                (C.b.IS_VALVE_GROUP
                  ? (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          localized_image: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                      internal_targeting: Object(l.a)({}, j.c),
                    })
                  : (this.m_curModel.jsondata.email_setting = {
                      bEnable: !1,
                      subject_loc_token: "EventEmail_Subject_NewUpdate",
                      sections: [
                        {
                          localized_headline: new Array(30),
                          localized_image: new Array(30),
                        },
                        {
                          localized_headline: new Array(30),
                          localized_body: new Array(30),
                          button_destination: p.c.k_EEventPage,
                          button_loc_token:
                            "EventEmail_Button_ClickForMoreDetails",
                          video_link: "",
                        },
                      ],
                    }),
                this.SetDirty(r.jsondata_email)),
              this.m_curModel.jsondata.email_setting
            );
          }),
          (e.prototype.ToggleTag = function (e) {
            var t = this.m_curModel.vecTags.indexOf(e);
            -1 == t
              ? this.m_curModel.vecTags.push(e)
              : this.m_curModel.vecTags.splice(t, 1),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.AddTag = function (e) {
            -1 == this.m_curModel.vecTags.indexOf(e) &&
              this.m_curModel.vecTags.push(e),
              this.SetDirty(r.visibility);
          }),
          (e.prototype.BHasTag = function (e) {
            return this.m_curModel.BHasTag(e);
          }),
          (e.prototype.GetAllTags = function () {
            return this.m_curModel.vecTags;
          }),
          (e.prototype.ClearTags = function (e) {
            var t = this;
            e.forEach(function (e) {
              var n = t.m_curModel.vecTags.indexOf(e);
              -1 != n && t.m_curModel.vecTags.splice(n, 1);
            });
          }),
          (e.prototype.SetSteamAwardCategory = function (e) {
            (this.m_curModel.jsondata.steam_award_category_suggestion = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwardCategory = function () {
            return this.m_curModel.GetSteamAwardCategory();
          }),
          (e.prototype.SetSteamAwardNomineeVoteIDs = function (e) {
            (this.m_curModel.jsondata.steam_award_category_voteids = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.GetSteamAwareNomineeVoteIDs = function () {
            return this.m_curModel.GetSteamAwardNomineeCategories();
          }),
          (e.prototype.BIsAppReleased = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon;
          }),
          (e.prototype.GetAppReleaseDate = function () {
            var e = g.a
              .GetStoreCapsuleInfo(this.m_curModel.appid)
              .GetAppStoreData();
            return e && 1 == e.success && !e.coming_soon && e.rt_release_date
              ? e.rt_release_date
              : null;
          }),
          (e.prototype.BDoesSupportLanguage = function (e) {
            if (this.m_curModel && this.m_curModel.appid) {
              var t = g.a
                .GetStoreCapsuleInfo(this.m_curModel.appid)
                .GetAppStoreData();
              if (t && 1 == t.success && t.languages) {
                29 === e && (e = 6);
                var n = Object(d.a)(e);
                return Boolean(
                  t.languages.find(function (e) {
                    return n === e.language;
                  })
                );
              }
            }
            return !1;
          }),
          (e.prototype.BIsVisibleBeforeStart = function () {
            var e = this.m_curModel.startTime;
            return (
              this.m_startTimeEditChoice == a.k_ESpecified &&
              ((this.visibilitySetting == D.immediate &&
                e > v.a.GetTimeNowWithOverride()) ||
                (this.visibilitySetting == D.specified_time &&
                  this.m_curModel.visibilityStartTime < e))
            );
          }),
          (e.prototype.BIsAllowedOnLibraryOverview = function () {
            return Object(m.b)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnLibraryDetail = function () {
            return Object(m.a)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedOnStore = function () {
            return Object(m.c)(this.GetEventModel());
          }),
          (e.prototype.BIsAllowedInNotifications = function () {
            return Object(m.d)(this.GetEventModel());
          }),
          (e.prototype.BWillShowOnLibraryOverviewDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryOverview() &&
              !this.BHasTag("hide_library_overview") &&
              !this.BHasTag("mod_hide_library_overview")
            );
          }),
          (e.prototype.BWillShowOnLibraryDetailDueToSettings = function () {
            return (
              this.BIsAllowedOnLibraryDetail() &&
              !this.BHasTag("hide_library_detail") &&
              !this.BHasTag("mod_hide_library_detail")
            );
          }),
          (e.prototype.BWillShowOnStoreDueToSettings = function () {
            return (
              this.BIsAllowedOnStore() &&
              !this.BHasTag("hide_store") &&
              !this.BHasTag("mod_hide_store")
            );
          }),
          (e.prototype.BWillShowInNotificationsDueToSettings = function () {
            return this.BIsAllowedInNotifications();
          }),
          (e.prototype.GetNumberOfDays = function () {
            var e = this.m_curModel.startTime,
              t = this.m_curModel.endTime;
            return e > 0 && t > 0 && t > e ? Math.floor((t - e) / 86400) : 0;
          }),
          (e.prototype.GetNumSalesBackgroundHeader = function () {
            return void 0 !== this.m_curModel.jsondata.sale_num_headers
              ? this.m_curModel.jsondata.sale_num_headers
              : 1;
          }),
          (e.prototype.SetNumSalesBackgroundHeader = function (e) {
            var t = this;
            void 0 !== e && e <= 1 && (e = void 0),
              this.m_curModel.jsondata.sale_num_headers !== e &&
                (void 0 === this.m_curModel.jsondata.sale_num_headers &&
                  this.m_curModel.jsondata.localized_sale_header.forEach(
                    function (e, n) {
                      return (t.m_curModel.jsondata.localized_sale_header[
                        n
                      ] = null);
                    }
                  ),
                (this.m_curModel.jsondata.sale_num_headers = e),
                void 0 !== e &&
                  ((this.m_curModel.jsondata.localized_per_day_sales_header = void 0),
                  s.c.HelperInitializeNumSalesHeaderArray(this.m_curModel)),
                this.SetDirty(r.jsondata_sales));
          }),
          (e.prototype.MarkUpdateSuccessful = function (e, t) {
            (this.m_originalEvent.last_update_steamid = t),
              (this.m_originalEvent.rtime32_last_modified = e);
          }),
          (e.prototype.GetSaleSectionCount = function () {
            return this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections
              ? this.m_curModel.jsondata.sale_sections.length
              : 0;
          }),
          (e.prototype.GetAllSalePageFeaturedItems = function (e) {
            var t = new Set();
            if (!this.m_curModel.jsondata.bSaleEnabled) return t;
            var n = "bundles" == e,
              a = "packages" == e,
              i = function (e) {
                (n && "bundle" == e.type) || (a && "sub" == e.type)
                  ? t.add(e.id)
                  : a ||
                    n ||
                    "bundle" == e.type ||
                    "sub" == e.type ||
                    t.add(e.id);
              };
            this.m_curModel.jsondata.sale_sections.forEach(function (e) {
              return e.capsules.forEach(i);
            });
            var r = this.GetTabSaleSection();
            return (
              r &&
                r.tabs.forEach(function (e) {
                  return e.capsules.forEach(i);
                }),
              t
            );
          }),
          (e.prototype.GenerateSaleSectionUniqueID = function () {
            for (
              var e = Math.floor(1e4 + 9e4 * Math.random());
              this.GetSaleSectionByID(e);

            )
              e = Math.floor(1e4 + 9e4 * Math.random());
            return e;
          }),
          (e.prototype.GetFacetByID = function (e, t) {
            var n;
            return null === (n = null == e ? void 0 : e.facets) || void 0 === n
              ? void 0
              : n.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GetFacetValueByID = function (e, t) {
            var n;
            return null === (n = null == e ? void 0 : e.facetValues) ||
              void 0 === n
              ? void 0
              : n.find(function (e) {
                  return e.unique_id === t;
                });
          }),
          (e.prototype.GenerateFacetUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GenerateFacetValueUniqueID = function (e) {
            for (
              var t = Math.floor(1 + 1e5 * Math.random());
              this.GetFacetValueByID(e, t);

            )
              t = Math.floor(1 + 1e5 * Math.random());
            return t;
          }),
          (e.prototype.GetReferencedAppIDArray = function () {
            return this.m_curModel.jsondata.referenced_appids;
          }),
          (e.prototype.BIsEventForOGGWithoutVisibleStorePage = function () {
            if (!this.m_curModel.BIsOGGEvent()) return !1;
            var e = b.a.GetOGGClanInfo(this.m_curModel.appid);
            return !e || !e.has_visible_store_page;
          }),
          (e.prototype.BOptedInForOGGWithoutVisibleStorePage = function () {
            return this.m_curModel.jsondata.bInvisibleGameOptIn;
          }),
          (e.prototype.SetOptedInForOGGWithoutVisibleStorePage = function (e) {
            (this.m_curModel.jsondata.bInvisibleGameOptIn = e),
              this.SetDirty(r.jsondata_other);
          }),
          (e.prototype.SetMigrated = function (e) {
            this.m_curModel.jsondata.rt_migrated_time = e;
          }),
          (e.prototype.MigrateForEdit = function () {
            var e = this;
            this.m_curModel.jsondata.bSaleEnabled &&
              this.m_curModel.jsondata.sale_sections &&
              this.m_curModel.jsondata.sale_sections.forEach(function (t, n) {
                if (!t.unique_id) {
                  for (var a = n + 1; e.GetSaleSectionByID(a); ) a++;
                  e.m_curModel.jsondata.sale_sections[n].unique_id = a;
                }
                t.enable_faceted_browsing &&
                  t.facets.forEach(function (a, i) {
                    if (!a.unique_id) {
                      for (var r = i + 1; e.GetFacetByID(t, r); ) r++;
                      e.m_curModel.jsondata.sale_sections[n].facets[
                        i
                      ].unique_id = r;
                    }
                    a.facetValues.forEach(function (t, r) {
                      if (!t.unique_id) {
                        for (var o = i + 1; e.GetFacetValueByID(a, o); ) o++;
                        e.m_curModel.jsondata.sale_sections[n].facets[
                          i
                        ].facetValues[r].unique_id = o;
                      }
                    });
                  });
              });
          }),
          (e.prototype.BHasSaleProductBanners = function () {
            return this.GetEventModel().BHasSaleProductBanners();
          }),
          Object(l.c)([c.C], e.prototype, "m_curModel", void 0),
          Object(l.c)([c.C], e.prototype, "m_bChanged", void 0),
          Object(l.c)([c.C], e.prototype, "m_changes", void 0),
          Object(l.c)([c.C], e.prototype, "visibilitySetting", void 0),
          Object(l.c)([c.C], e.prototype, "m_startTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_endTimeEditChoice", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationType", void 0),
          Object(l.c)([c.C], e.prototype, "m_editDurationValue", void 0),
          Object(l.c)([y.a], e.prototype, "GetEventStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventEndTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventVisibilityStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEventVisibilityEndTime", null),
          Object(l.c)([y.a], e.prototype, "GetOriginalEventStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetOriginalEventEndTime", null),
          Object(l.c)([y.a], e.prototype, "BIsValidStartTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "BIsValidEndTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "BHasLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetSteamStoreSpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibraryHomeSpotlight", null),
          Object(l.c)([c.k], e.prototype, "UpdateVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityPublishingSetup", null),
          Object(l.c)([c.k], e.prototype, "SetGIDs", null),
          Object(l.c)([c.k], e.prototype, "SetVisibilityState", null),
          Object(l.c)([c.k], e.prototype, "SetName", null),
          Object(l.c)([c.k], e.prototype, "SetDescription", null),
          Object(l.c)([c.k], e.prototype, "SetSubTitle", null),
          Object(l.c)([c.k], e.prototype, "SetSummary", null),
          Object(l.c)([c.k], e.prototype, "PrepareAsClone", null),
          Object(l.c)([c.k], e.prototype, "setEventType", null),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetEarliestAllowedStartTime",
            null
          ),
          Object(l.c)(
            [c.k.bound],
            e.prototype,
            "SetLatestAllowedEndTime",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetEventStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetEventEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetSaleVanityID", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityStartTime", null),
          Object(l.c)([c.k], e.prototype, "ResetSetVisibilityStartTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetVisibilityEndTime", null),
          Object(l.c)([c.k.bound], e.prototype, "SetActionEndTime", null),
          Object(l.c)([c.k], e.prototype, "ClearDirty", null),
          Object(l.c)([c.k], e.prototype, "SetDirty", null),
          Object(l.c)([c.k], e.prototype, "DeriveTimeEditChoices", null),
          Object(l.c)([c.k], e.prototype, "DeriveVisibilitySetting", null),
          Object(l.c)([c.k], e.prototype, "OnPreSave", null),
          Object(l.c)([c.k], e.prototype, "Refresh", null),
          Object(l.c)([y.a], e.prototype, "BIsBeginTimeBeforeEnd", null),
          Object(l.c)([y.a], e.prototype, "BIsValidVisibilityStartTime", null),
          Object(l.c)([y.a], e.prototype, "GetEarliestStartTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "GetLatestEndTimeForEdit", null),
          Object(l.c)([y.a], e.prototype, "GetEarliestEndTimeForEdit", null),
          Object(l.c)(
            [y.a],
            e.prototype,
            "GetEarliestVisibilityStartTimeForEdit",
            null
          ),
          Object(l.c)([c.k.bound], e.prototype, "SetImageURL", null),
          Object(l.c)([y.a], e.prototype, "BHasTitleImage", null),
          Object(l.c)([y.a], e.prototype, "LastTimeLanguageUpdate", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlight", null),
          Object(l.c)([c.k], e.prototype, "SetLibrarySpotlightText", null),
          Object(l.c)([c.k], e.prototype, "ToggleTag", null),
          Object(l.c)([c.k], e.prototype, "AddTag", null),
          Object(l.c)([c.k], e.prototype, "ClearTags", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardCategory", null),
          Object(l.c)([c.k], e.prototype, "SetSteamAwardNomineeVoteIDs", null),
          Object(l.c)([y.a], e.prototype, "BDoesSupportLanguage", null),
          Object(l.c)([c.k], e.prototype, "SetNumSalesBackgroundHeader", null),
          Object(l.c)([c.k], e, "SetSaleSectionType", null),
          e
        );
      })();
    },
    gBDv: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return E;
      }),
        n.d(t, "c", function () {
          return b;
        }),
        n.d(t, "d", function () {
          return v;
        }),
        n.d(t, "a", function () {
          return h;
        });
      var a = n("mrSG"),
        i = n("opsS"),
        r = n("vDqi"),
        o = n.n(r),
        l = n("q1tI"),
        s = n("kLLr"),
        c = n("XxJJ"),
        d = n("qiKp"),
        u = n("OS6B"),
        p = n("lkRc"),
        m = n("r64O"),
        _ = "new_event_gid",
        g = (function () {
          function e() {
            (this.m_mapOriginalJSON = new Map()),
              (this.m_mapPrivateData = new Map()),
              (this.m_mapPrivateDataCallback = new Map()),
              (this.m_inflightRequests = new Map()),
              (this.m_gidDirty = null),
              (this.m_clanAccountIDDirty = null);
          }
          return (
            (e.prototype.GetPrivateData = function (e, t) {
              var n = this.HandleNewEventGID(t);
              return this.m_mapPrivateData.get(n) || { jsonData: {} };
            }),
            (e.prototype.GetPrivateDataCopy = function (e, t) {
              var n = this.HandleNewEventGID(t);
              return JSON.parse(JSON.stringify(this.GetPrivateData(e, n)));
            }),
            (e.prototype.GetPrivateDataChangeCallback = function (e, t) {
              var n = this.HandleNewEventGID(t);
              return (
                this.m_mapPrivateDataCallback.has(n) ||
                  this.m_mapPrivateDataCallback.set(n, new d.a()),
                this.m_mapPrivateDataCallback.get(n)
              );
            }),
            (e.prototype.UpdatePrivateData = function (e, t, n) {
              var i = this.HandleNewEventGID(t),
                r = this.GetPrivateData(e, i);
              if (!this.BIsEqual(r.jsonData, n)) {
                if (null != this.m_gidDirty && i != this.m_gidDirty) {
                  var o = this.m_mapPrivateData.get(this.m_gidDirty),
                    l = this.m_mapOriginalJSON.get(this.m_gidDirty),
                    s = Object(a.a)(Object(a.a)({}, o), { jsonData: l });
                  this.m_mapPrivateData.set(this.m_gidDirty, s),
                    this.DispatchUpdate(
                      this.m_clanAccountIDDirty,
                      this.m_gidDirty
                    );
                }
                (r.jsonData = n),
                  (this.m_gidDirty = i),
                  (this.m_clanAccountIDDirty = e),
                  this.DispatchUpdate(e, i);
              }
            }),
            (e.prototype.BIsEqual = function (e, t) {
              return JSON.stringify(e) === JSON.stringify(t);
            }),
            (e.prototype.BLoaded = function (e, t) {
              var n = this.HandleNewEventGID(t);
              return this.m_mapPrivateData.has(n);
            }),
            (e.prototype.BIsDirty = function () {
              return Boolean(this.m_gidDirty);
            }),
            (e.prototype.BIsEventDirty = function (e) {
              var t = this.HandleNewEventGID(e);
              return this.m_gidDirty == t;
            }),
            (e.prototype.DiscardChanges = function () {
              if (this.m_gidDirty) {
                var e = this.m_clanAccountIDDirty,
                  t = this.m_gidDirty;
                (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
                var n = this.m_mapPrivateData.get(t),
                  i = this.m_mapOriginalJSON.get(t);
                this.m_mapPrivateData.set(
                  t,
                  Object(a.a)(Object(a.a)({}, n), { jsonData: i })
                ),
                  this.DispatchUpdate(e, t);
              }
            }),
            (e.prototype.DispatchUpdate = function (e, t) {
              var n = this.HandleNewEventGID(t),
                a = this.GetPrivateDataCopy(e, n);
              this.GetPrivateDataChangeCallback(e, n).Dispatch(a);
            }),
            (e.prototype.HandleNewEventGID = function (e) {
              return null == e || null == e || "" == e ? _ : e;
            }),
            (e.prototype.LoadPrivateData = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (n = this.HandleNewEventGID(t)),
                        this.m_inflightRequests.has(n) ||
                          this.m_inflightRequests.set(
                            n,
                            this.InternalLoadPrivateData(e, n)
                          ),
                        [4, this.m_inflightRequests.get(n)]
                      );
                    case 1:
                      return [2, a.sent()];
                  }
                });
              });
            }),
            (e.prototype.InternalLoadPrivateData = function (e, t) {
              var n, i;
              return Object(a.b)(this, void 0, void 0, function () {
                var r, l, s, c, d, m, g, E;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (
                        ((r = this.HandleNewEventGID(t)),
                        this.m_mapPrivateData.has(r))
                      )
                        return [2, this.m_mapPrivateData.get(r)];
                      if (r == _)
                        return (
                          (m = { jsonData: {} }),
                          this.m_mapPrivateData.set(r, m),
                          this.m_mapOriginalJSON.set(r, {}),
                          [2, m]
                        );
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (l =
                          p.c.COMMUNITY_BASE_URL +
                          "partnereventdata/ajaxgetprivatedata"),
                        (s = {
                          clanAccountID: e.GetAccountID(),
                          gidClanEvent: r,
                        }),
                        [4, o.a.get(l, { params: s, withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (c = a.sent()),
                        1 ===
                          (null === (n = null == c ? void 0 : c.data) ||
                          void 0 === n
                            ? void 0
                            : n.success) && c.data.data
                          ? ((d = {
                              rtLastUpdateTime: c.data.data.time_written,
                              nAccountLastUpdate: c.data.data.account_writer,
                              jsonData: c.data.data.json_data,
                            }),
                            this.m_mapPrivateData.set(r, d),
                            this.m_mapOriginalJSON.set(r, d.jsonData),
                            [2, d])
                          : 42 ===
                            (null === (i = null == c ? void 0 : c.data) ||
                            void 0 === i
                              ? void 0
                              : i.success)
                          ? ((m = { jsonData: {} }),
                            this.m_mapPrivateData.set(r, m),
                            this.m_mapOriginalJSON.set(r, {}),
                            [2, m])
                          : ((E = Object(u.a)(c)),
                            console.error(
                              "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                                E.strErrorMsg,
                              E
                            ),
                            [3, 4])
                      );
                    case 3:
                      return (
                        (g = a.sent()),
                        (E = Object(u.a)(g)),
                        console.error(
                          "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                            E.strErrorMsg,
                          E
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, null];
                  }
                });
              });
            }),
            (e.prototype.SaveDirtyChanges = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t, n;
                return Object(a.e)(this, function (a) {
                  if (
                    (Object(m.a)(
                      null != e && null != e && "" != e,
                      "CPartnerEventPrivateDataStore: GID not supplied."
                    ),
                    this.BIsDirty())
                  ) {
                    if (
                      ((t = s.a.InitFromClanID(this.m_clanAccountIDDirty)),
                      (n = this.m_mapPrivateData.get(this.m_gidDirty).jsonData),
                      this.m_gidDirty == e || this.m_gidDirty == _)
                    )
                      return (
                        this.m_gidDirty == _ &&
                          (this.m_mapOriginalJSON.set(e, {}),
                          this.m_mapPrivateData.set(
                            e,
                            this.m_mapPrivateData.get(_)
                          ),
                          this.m_mapPrivateData.delete(_)),
                        [2, this.SavePrivateData(t, e, n)]
                      );
                    console.warn(
                      "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                        e +
                        " " +
                        this.m_gidDirty
                    );
                  } else console.warn("CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " + e + " " + this.m_gidDirty);
                  return [2, 1];
                });
              });
            }),
            (e.prototype.SavePrivateData = function (e, t, n) {
              var i;
              return Object(a.b)(this, void 0, void 0, function () {
                var r, l, s, c, d, _;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (
                        (Object(m.a)(
                          null != t && null != t && "" != t,
                          "CPartnerEventPrivateDataStore: GID not supplied."
                        ),
                        !this.m_mapPrivateData.has(t))
                      )
                        return [2, 42];
                      if (this.BIsEqual(n, this.m_mapOriginalJSON.get(t)))
                        return [2, 1];
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (r = new FormData()).append("sessionid", p.c.SESSIONID),
                        r.append("clanAccountID", "" + e.GetAccountID()),
                        r.append("gidClanEvent", "" + t),
                        r.append("jsonData", JSON.stringify(n)),
                        (l =
                          p.c.COMMUNITY_BASE_URL +
                          "partnereventdata/ajaxsetprivatedata"),
                        [4, o.a.post(l, r, { withCredentials: !0 })]
                      );
                    case 2:
                      return (
                        (s = a.sent()),
                        1 ===
                        (null === (i = null == s ? void 0 : s.data) ||
                        void 0 === i
                          ? void 0
                          : i.success)
                          ? ((c = {
                              nAccountLastUpdate: p.i.accountid,
                              rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                              jsonData: n,
                            }),
                            this.m_mapPrivateData.set(t, c),
                            this.m_mapOriginalJSON.set(t, n),
                            (this.m_clanAccountIDDirty = null),
                            (this.m_gidDirty = null),
                            this.DispatchUpdate(e.GetAccountID(), t),
                            [2, s.data.success])
                          : ((_ = Object(u.a)(s)),
                            console.error(
                              "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                                _.strErrorMsg,
                              _
                            ),
                            [3, 4])
                      );
                    case 3:
                      return (
                        (d = a.sent()),
                        (_ = Object(u.a)(d)),
                        console.error(
                          "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                            _.strErrorMsg,
                          _
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, 2];
                  }
                });
              });
            }),
            (e.Get = function () {
              return (
                e.s_Singleton ||
                  ((e.s_Singleton = new e()),
                  e.s_Singleton.Init(),
                  "dev" == p.c.WEB_UNIVERSE &&
                    (window.g_PartnerEventPrivateDataStore = e.s_Singleton)),
                e.s_Singleton
              );
            }),
            (e.prototype.Init = function () {
              var e = this,
                t = Object(p.g)("privatedata", "application_config");
              this.ValidateStoreDefault(t) &&
                t.forEach(function (t) {
                  var n = {
                    rtLastUpdateTime: t.data.time_written,
                    nAccountLastUpdate: t.data.account_writer,
                    jsonData: t.data.json_data,
                  };
                  e.m_mapOriginalJSON.set(t.gid, n.jsonData),
                    e.m_mapPrivateData.set(t.gid, n);
                });
            }),
            (e.prototype.ValidateStoreDefault = function (e) {
              var t = e;
              return (
                !!(
                  t &&
                  Array.isArray(t) &&
                  t.length > 0 &&
                  "object" == typeof t[0]
                ) &&
                "string" == typeof t[0].gid &&
                "number" == typeof t[0].clanAccountID &&
                "object" == typeof t[0].data
              );
            }),
            Object(a.c)([c.a], e.prototype, "BIsEventDirty", null),
            Object(a.c)([c.a], e.prototype, "DiscardChanges", null),
            Object(a.c)([c.a], e.prototype, "SaveDirtyChanges", null),
            e
          );
        })();
      function E(e, t) {
        var n = g.Get(),
          a = Object(l.useState)(n.GetPrivateDataCopy(e, t)),
          r = a[0],
          o = a[1];
        Object(i.d)(n.GetPrivateDataChangeCallback(e, t), o);
        var c = Object(l.useState)(!n.BLoaded(e, t)),
          d = c[0],
          u = c[1];
        Object(l.useEffect)(
          function () {
            if (!n.BLoaded(e, t)) {
              var a = s.a.InitFromClanID(e);
              n.LoadPrivateData(a, t).then(function (e) {
                o(e), u(!1);
              });
            }
          },
          [e, t, n]
        );
        return [
          r,
          function (a) {
            n.UpdatePrivateData(e, t, a);
          },
          d,
        ];
      }
      function b() {
        var e = g.Get();
        return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
      }
      function v(e, t) {
        var n = E(e, t),
          i = n[0],
          r = n[1],
          o = n[2],
          l = g.Get();
        return [
          o,
          null == i ? void 0 : i.jsonData.bPublishRequiresValveApproval,
          null == i ? void 0 : i.jsonData.nAccountApproved,
          null == i ? void 0 : i.jsonData.rtApprovalTime,
          function (n) {
            return r(
              Object(a.a)(Object(a.a)({}, l.GetPrivateData(e, t).jsonData), {
                bPublishRequiresValveApproval: n,
              })
            );
          },
          function (n) {
            return r(
              Object(a.a)(Object(a.a)({}, l.GetPrivateData(e, t).jsonData), {
                nAccountApproved: n,
                rtApprovalTime: Math.floor(Date.now() / 1e3),
              })
            );
          },
        ];
      }
      function h(e, t) {
        var n = E(e, t),
          i = n[0],
          r = n[1],
          o = n[2],
          l = g.Get();
        return [
          o,
          null == i ? void 0 : i.jsonData.nAcceptingGuidelineAccount,
          null == i ? void 0 : i.jsonData.rtAcceptanceTime,
          null == i ? void 0 : i.jsonData.strPrimaryContactName,
          null == i ? void 0 : i.jsonData.strPrimaryContactEmail,
          function (n) {
            r(
              Object(a.a)(Object(a.a)({}, l.GetPrivateData(e, t).jsonData), {
                nAcceptingGuidelineAccount: n,
                rtAcceptanceTime: Math.floor(Date.now() / 1e3),
              })
            );
          },
          function (n, i) {
            r(
              Object(a.a)(Object(a.a)({}, l.GetPrivateData(e, t).jsonData), {
                strPrimaryContactName: n,
                strPrimaryContactEmail: i,
              })
            );
          },
        ];
      }
    },
    h5LU: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return l;
      });
      var a = n("mrSG"),
        i = n("q1tI"),
        r = n("15kH"),
        o = n("opsS"),
        l = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { color: t.props.color || "rgba(1.0,1.0,1.0,1.0)" }), t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.GetColorString = function (e) {
              return (
                "rgba(" +
                e.rgb.r +
                ", " +
                e.rgb.g +
                ", " +
                e.rgb.b +
                ", " +
                e.rgb.a +
                ")"
              );
            }),
            (t.prototype.OnColorChange = function (e) {
              var n = t.GetColorString(e);
              this.setState({ color: n }), this.props.onChange(n);
            }),
            (t.prototype.render = function () {
              return i.createElement(r.a, {
                onChange: this.OnColorChange,
                color: this.state.color,
              });
            }),
            Object(a.c)([o.a], t.prototype, "OnColorChange", null),
            t
          );
        })(i.Component);
    },
    hvYe: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEFERTQyQ0E1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEFERTQyQ0I1Q0EyMTFFNTgwMzNBQUE0RTk3QjgyMDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQURFNDJDODVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQURFNDJDOTVDQTIxMUU1ODAzM0FBQTRFOTdCODIwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prxq/1gAAAGJSURBVHjaYvz//z/DQAImhgEG9HTASiDeiiEKigI64Pj/CLAJiBlhcvSwXPc/JjgLxIIgeUYaJ0JBIL4NxMJY5B4BcTitHXAeiA3wyL+kZSJcQMByEEimVbxn/ScM8mmVCK2IsHwhTD2104AwNHFx4VFzAYgNaVUQ7SFg+Q8gdqZVSTifiEQHsvwdvpKQGYiDyIj3HCLiPRubXnSBBVDFE2iV6PA5IAlN0woiLJcG4h8ELD+PzwwYwxiH5sNALIzHgNsELH8DxEKEHCAGxB/xGPIEiNWwaF5PRNDrEQpFEHGZCIO+ArEjksZKIvTEE5OGQEQyEP/7TxwAJThDItRNIjYRwxgGQPz2P3XAEVKyMHJRLAvEu4FYnYLC6D3UnK/ktAkfA7EeEB+kwAEOpFiOr024mIygjyWn9sQn2UOC5VPJrb4JKcglwvLDlLQfiFHkDcR/cVj+CIjZaO0AfNlUidIWFCmKZYD4GpLlgdRowpHaJGMH4v1AfBGIM6nRiqF1v2Dw944BAgwAsWqnpJAiSOIAAAAASUVORK5CYII=";
    },
    i3zJ: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return y;
      });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("lkRc"),
        l = n("OS6B"),
        s = (function () {
          function e() {
            (this.m_events = null),
              (this.m_eventMap = new Map()),
              (this.m_eventDetailsMap = new Map()),
              (window.g_discountEventStore = this);
          }
          return (
            (e.Get = function () {
              return (
                e.s_DiscountEvent || (e.s_DiscountEvent = new e()),
                e.s_DiscountEvent
              );
            }),
            (e.prototype.GetDiscountEvents = function () {
              return this.m_events;
            }),
            (e.prototype.GetSingleDiscountEvent = function (e) {
              return this.m_eventMap.get(e);
            }),
            (e.prototype.GetDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.get(e);
            }),
            (e.prototype.BHasDiscountEventDetails = function (e) {
              return this.m_eventDetailsMap.has(e);
            }),
            (e.prototype.LoadDiscountEvents = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  s,
                  c,
                  d = this;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (this.m_events) return [2, this.m_events];
                      (t = o.c.COMMUNITY_BASE_URL + "sale/ajaxdiscountevents"),
                        (n = { sessionid: o.c.SESSIONID }),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, r.a.get(t, { params: n, cancelToken: e.token })]
                      );
                    case 2:
                      return (
                        (i = a.sent()) &&
                          200 == i.status &&
                          1 == i.data.success &&
                          i.data.discount_events &&
                          ((this.m_events = i.data.discount_events),
                          this.m_events.map(function (e) {
                            d.m_eventMap.set(e.id, e);
                          })),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (s = a.sent()),
                        (c = Object(l.a)(s)),
                        console.error(
                          "LoadDiscountEvents failed: " + c.strErrorMsg,
                          c
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_events];
                  }
                });
              });
            }),
            (e.prototype.LoadDiscountEventDetails = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, s, c, d;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (this.m_eventDetailsMap.has(e)) return [3, 4];
                      (n =
                        o.c.COMMUNITY_BASE_URL +
                        "sale/ajaxdiscounteventdetails"),
                        (i = { sessionid: o.c.SESSIONID, id: e }),
                        (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [4, r.a.get(n, { params: i, cancelToken: t.token })]
                      );
                    case 2:
                      return (
                        (s = a.sent()) &&
                          200 == s.status &&
                          1 == s.data.success &&
                          s.data.packages &&
                          this.m_eventDetailsMap.set(e, {
                            apps: s.data.apps,
                            packages: s.data.packages,
                          }),
                        [3, 4]
                      );
                    case 3:
                      return (
                        (c = a.sent()),
                        (d = Object(l.a)(c)),
                        console.error(
                          "LoadDiscountEventDetails failed: " + d.strErrorMsg,
                          d
                        ),
                        [3, 4]
                      );
                    case 4:
                      return [2, this.m_eventDetailsMap.get(e)];
                  }
                });
              });
            }),
            e
          );
        })(),
        c = n("2vnA"),
        d = n("TyAF"),
        u = n("q1tI"),
        p = n.n(u),
        m = n("vwsU"),
        _ = n("5eAM"),
        g = n("oVVc"),
        E = n("Mgs7"),
        b = n("IjL/"),
        v = n("YLyR"),
        h = n("Jqb/"),
        f = n("0OaU"),
        S = n("TLQK"),
        O = n("k3PP"),
        y = Object(d.a)(function (e) {
          var t = function () {
              return e.closeModal && e.closeModal();
            },
            n = e.onDiscountEventSelected,
            a = Object(u.useState)(null),
            i = a[0],
            r = a[1],
            o = T.Get().BHasSomethingSelected();
          return p.a.createElement(
            b.a,
            null,
            p.a.createElement(
              h.h,
              { onEscKeypress: t },
              p.a.createElement(
                E.f,
                null,
                p.a.createElement(
                  E.k,
                  null,
                  Object(S.f)("#Sale_DiscountEvent_Add")
                ),
                p.a.createElement(
                  E.b,
                  null,
                  p.a.createElement(
                    E.c,
                    null,
                    p.a.createElement(
                      "div",
                      { style: { minHeight: 500 } },
                      p.a.createElement(C, { fnSetDiscountID: r }),
                      p.a.createElement(j, { discountID: i })
                    )
                  )
                ),
                p.a.createElement(
                  E.j,
                  null,
                  p.a.createElement(E.n, {
                    onCancel: t,
                    bOKDisabled: !o,
                    strOKText: Object(S.f)("#Sale_New_CreateEvent"),
                    onOK: function () {
                      T.Get().UpdateSaleSection(n), t();
                    },
                  })
                )
              )
            )
          );
        }),
        C = function (e) {
          var t = e.fnSetDiscountID,
            n = Object(u.useState)(!0),
            i = n[0],
            o = n[1],
            c = Object(u.useRef)(null);
          if (
            (Object(u.useEffect)(function () {
              var e = r.a.CancelToken.source();
              c.current = e.cancel;
              return (
                Object(a.b)(void 0, void 0, void 0, function () {
                  var t, n;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return (
                          a.trys.push([0, 2, , 3]),
                          [4, s.Get().LoadDiscountEvents(e)]
                        );
                      case 1:
                        return (
                          a.sent() &&
                            !e.token.reason &&
                            (T.Get().Reset(), o(!1)),
                          [3, 3]
                        );
                      case 2:
                        return (
                          (t = a.sent()),
                          (n = Object(l.a)(t)),
                          console.error(
                            "DiscountEventChooser failed to load: " +
                              n.strErrorMsg,
                            n
                          ),
                          [3, 3]
                        );
                      case 3:
                        return [2];
                    }
                  });
                }),
                function () {
                  return (
                    c.current && c.current("DiscountEventChooser unmounting")
                  );
                }
              );
            }, []),
            i)
          )
            return p.a.createElement(f.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_Loading"),
            });
          var d = s
              .Get()
              .GetDiscountEvents()
              .map(function (e) {
                return { label: e.name, value: e.id };
              }),
            _ = {
              option: function (e) {
                return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
              },
            };
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_Choose"),
              p.a.createElement(O.d, {
                tooltip: Object(S.f)("#Sale_DiscountEvent_Choose_ttip"),
              })
            ),
            p.a.createElement(m.a, {
              styles: _,
              isSearchable: !0,
              isMulti: !1,
              isClearable: !0,
              options: d,
              defaultMenuIsOpen: !1,
              isValidNewOption: function () {
                return !1;
              },
              onChange: function (e) {
                (null == e ? void 0 : e.value) && t(e.value);
              },
            })
          );
        },
        j = function (e) {
          var t = e.discountID,
            n = Object(u.useState)(!0),
            i = n[0],
            o = n[1],
            c = Object(u.useState)(null),
            d = c[0],
            m = c[1],
            b = Object(u.useRef)(null);
          if (
            (Object(u.useEffect)(
              function () {
                o(!0),
                  b.current &&
                    b.current(
                      "SelectAppsAndPackagesFromDiscountEvent reloading"
                    );
                var e = r.a.CancelToken.source();
                b.current = e.cancel;
                return (
                  t &&
                    Object(a.b)(void 0, void 0, void 0, function () {
                      var n, i, r, c, d;
                      return Object(a.e)(this, function (a) {
                        switch (a.label) {
                          case 0:
                            return (
                              a.trys.push([0, 5, , 6]),
                              s.Get().BHasDiscountEventDetails(t)
                                ? [3, 2]
                                : [4, s.Get().LoadDiscountEventDetails(t, e)]
                            );
                          case 1:
                            a.sent(), (a.label = 2);
                          case 2:
                            return !(n = s.Get().GetDiscountEventDetails(t)) ||
                              e.token.reason
                              ? [3, 4]
                              : ((i = new Array()),
                                (r = n.apps),
                                n.packages.map(function (e) {
                                  return i.push(
                                    "string" == typeof e.subid
                                      ? Number.parseInt(e.subid)
                                      : e.subid
                                  );
                                }),
                                [
                                  4,
                                  Promise.all([
                                    g.b.LoadPackageInfo(i),
                                    _.a.LoadAppLinkInfo(r),
                                  ]),
                                ]);
                          case 3:
                            a.sent(), o(!1), (a.label = 4);
                          case 4:
                            return [3, 6];
                          case 5:
                            return (
                              (c = a.sent()),
                              (d = Object(l.a)(c)),
                              console.error(
                                "SelectAppsAndPackagesFromDiscountEvent failed: " +
                                  d.strErrorMsg,
                                d
                              ),
                              [3, 6]
                            );
                          case 6:
                            return [2];
                        }
                      });
                    }),
                  function () {
                    return (
                      b.current &&
                      b.current(
                        "SelectAppsAndPackagesFromDiscountEvent unmounting"
                      )
                    );
                  }
                );
              },
              [t]
            ),
            !t)
          )
            return p.a.createElement(
              "div",
              null,
              Object(S.f)("#Sale_DiscountEvent_NoneChosen")
            );
          if (i || !s.Get().BHasDiscountEventDetails(t))
            return p.a.createElement(f.a, {
              key: "loading",
              size: "medium",
              string: Object(S.f)("#Sale_DiscountEvent_LoadingDetails"),
            });
          var h = s.Get().GetSingleDiscountEvent(t),
            O = s.Get().GetDiscountEventDetails(t);
          return p.a.createElement(
            "div",
            null,
            p.a.createElement(
              "p",
              null,
              Object(S.f)("#Sale_DiscountEvent_Select", h.name, h.id)
            ),
            p.a.createElement(v.b, {
              startDateAndTime: h.start_date,
              endDateAndTime: h.end_date,
            }),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_DiscountEvent_Contains",
                O.apps.length.toLocaleString(),
                O.packages.length.toLocaleString()
              )
            ),
            p.a.createElement(
              "p",
              null,
              Object(S.f)(
                "#Sale_New_Selected",
                T.Get().GetTotalSelectedCount(),
                T.Get().AppCount().toLocaleString(),
                T.Get().PackageCount().toLocaleString()
              )
            ),
            p.a.createElement(
              "div",
              null,
              p.a.createElement(E.l, {
                type: "text",
                label: Object(S.f)("#EventCalendar_UniversalSearch"),
                value: d || "",
                onChange: function (e) {
                  return m(e.target.value);
                },
              }),
              p.a.createElement("h2", null, "Apps:"),
              p.a.createElement(
                E.d,
                {
                  onClick: function () {
                    return T.Get().SelectAllApps(O.apps);
                  },
                },
                "Select All Apps"
              ),
              p.a.createElement(
                E.d,
                {
                  onClick: function () {
                    return T.Get().ClearAllSelectedApps();
                  },
                },
                "Clear all Selected Apps"
              ),
              Boolean(O.apps)
                ? O.apps.map(function (e) {
                    return p.a.createElement(I, {
                      appid: e,
                      key: "appid_" + e,
                      strFilter: d,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoApps")
                  ),
              p.a.createElement("h2", null, "Packages:"),
              Boolean(O.packages)
                ? O.packages.map(function (e) {
                    return p.a.createElement(D, {
                      subid: e.subid,
                      key: "subid_" + e.subid,
                      strFilter: d,
                    });
                  })
                : p.a.createElement(
                    "p",
                    null,
                    Object(S.f)("#Sale_DiscountEvent_NoSubs")
                  )
            )
          );
        },
        T = (function () {
          function e() {
            (this.m_selectedApps = new Set()),
              (this.m_selectedSubs = new Set()),
              (this.m_nTotalSelected = 0);
          }
          return (
            (e.prototype.BIsAppSelected = function (e) {
              return this.m_selectedApps.has(e);
            }),
            (e.prototype.BIsPackageSelected = function (e) {
              return this.m_selectedSubs.has(e);
            }),
            (e.prototype.AddApp = function (e) {
              this.m_selectedApps.add(e), this.UpdateSelected();
            }),
            (e.prototype.AddPackage = function (e) {
              this.m_selectedSubs.add(e), this.UpdateSelected();
            }),
            (e.prototype.RemoveApp = function (e) {
              this.m_selectedApps.delete(e), this.UpdateSelected();
            }),
            (e.prototype.RemovePackage = function (e) {
              this.m_selectedSubs.delete(e), this.UpdateSelected();
            }),
            (e.prototype.UpdateApp = function (e, t) {
              t ? this.AddApp(e) : this.RemoveApp(e);
            }),
            (e.prototype.UpdatePackage = function (e, t) {
              t ? this.AddPackage(e) : this.RemovePackage(e);
            }),
            (e.prototype.AppCount = function () {
              return this.m_selectedApps.size;
            }),
            (e.prototype.PackageCount = function () {
              return this.m_selectedSubs.size;
            }),
            (e.prototype.BHasSomethingSelected = function () {
              return this.m_nTotalSelected > 0;
            }),
            (e.prototype.GetTotalSelectedCount = function () {
              return this.m_nTotalSelected;
            }),
            (e.prototype.SelectAllApps = function (e) {
              var t = this;
              e.forEach(function (e) {
                return t.m_selectedApps.add(e);
              }),
                this.UpdateSelected();
            }),
            (e.prototype.Reset = function () {
              this.m_selectedApps.clear(),
                this.m_selectedSubs.clear(),
                this.UpdateSelected();
            }),
            (e.prototype.ClearAllSelectedApps = function () {
              this.m_selectedApps.clear(), this.UpdateSelected();
            }),
            (e.prototype.UpdateSelected = function () {
              var e = this.AppCount() + this.PackageCount();
              e != this.m_nTotalSelected && (this.m_nTotalSelected = e);
            }),
            (e.prototype.UpdateSaleSection = function (e) {
              e(this.m_selectedApps, this.m_selectedSubs);
            }),
            (e.Get = function () {
              return (
                e.s_globalSingletonStore ||
                  ((e.s_globalSingletonStore = new e()),
                  e.s_globalSingletonStore.Init()),
                e.s_globalSingletonStore
              );
            }),
            (e.prototype.Init = function () {}),
            Object(a.c)([c.C], e.prototype, "m_nTotalSelected", void 0),
            Object(a.c)([c.k], e.prototype, "SelectAllApps", null),
            Object(a.c)([c.k], e.prototype, "ClearAllSelectedApps", null),
            e
          );
        })(),
        I = function (e) {
          var t = e.appid,
            n = e.strFilter,
            a = _.a.GetAppLinkInfo(
              "string" == typeof t ? Number.parseInt(t) : t
            );
          if (
            n &&
            n.trim().length > 0 &&
            (!a || -1 == a.name.toLowerCase().indexOf(n))
          )
            return null;
          var i = a
            ? a.name +
              "(" +
              a.appid +
              ")" +
              ("application" != a.type && "game" != a.type ? " DLC" : "")
            : Object(S.f)("#Sale_DiscountEvent_AppMissing", t);
          return p.a.createElement(E.e, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: function (e) {
              return T.Get().UpdateApp(t, e);
            },
          });
        },
        D = function (e) {
          var t = e.subid,
            n = e.strFilter,
            a = g.b.GetPackageInfo(t);
          if (
            n &&
            n.trim().length > 0 &&
            (!a || -1 == a.name.toLowerCase().indexOf(n))
          )
            return null;
          var i = a
            ? a.name +
              "(" +
              a.id +
              ") : " +
              Object(S.f)("#Sale_DiscountEvent_SubContains", a.appids.length)
            : Object(S.f)("#Sale_DiscountEvent_SubMissing", t);
          return p.a.createElement(E.e, {
            label: i,
            checked: T.Get().BIsAppSelected(t),
            onChange: function (e) {
              return T.Get().UpdatePackage(t, e);
            },
          });
        };
    },
    jZUi: function (e, t, n) {},
    k3PP: function (e, t, n) {
      "use strict";
      n.d(t, "d", function () {
        return it;
      }),
        n.d(t, "a", function () {
          return rt;
        }),
        n.d(t, "g", function () {
          return st;
        }),
        n.d(t, "b", function () {
          return ut;
        }),
        n.d(t, "e", function () {
          return pt;
        }),
        n.d(t, "f", function () {
          return St;
        }),
        n.d(t, "c", function () {
          return Ct;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("fcuX"),
        l = n("mHFc"),
        s = n("NrWE"),
        c = n("Ww0A"),
        d = n("TyAF"),
        u = n("q1tI"),
        p = n("U+Q5"),
        m = n("Mgs7"),
        _ = n("qP7j"),
        g = n("Jqb/"),
        E = n("TLQK"),
        b = n("opsS"),
        v = n("6yBx"),
        h = n("R5ed"),
        f = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = this.props,
                t = e.editModel,
                n = e.loc_images,
                a = e.artworkType;
              p.d.ClearImageGroup(),
                n &&
                  n.forEach(function (e, n) {
                    var i = e && p.a.GetHashFromHashAndExt(e),
                      r =
                        i && p.d.GetClanImageByImageHash(t.GetClanSteamID(), i);
                    r && t.SetImageURL(a, r, n);
                  });
            }),
            (t.prototype.OnSaveToEditModel = function () {
              var e = this.props,
                t = e.editModel,
                n = e.fnSetImage;
              p.d.GetAllLocalizedGroupImages().forEach(function (e, t) {
                if (e) {
                  var a = e.lastIndexOf("/");
                  n(t, e.substring(a + 1));
                }
              }),
                t.SetDirty(o.c.jsondata_sales),
                this.props.closeModal(),
                p.d.ClearImageGroup();
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.closeModal,
                n = e.editModel,
                a = e.artworkType,
                i = n.GetClanSteamID();
              return u.createElement(
                g.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: _.NotTooWideModal,
                },
                u.createElement(
                  m.k,
                  null,
                  Object(E.f)("#ImagePickerLoc_Title")
                ),
                u.createElement(
                  m.b,
                  null,
                  u.createElement(
                    m.c,
                    null,
                    u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(v.b, {
                        clanSteamID: i,
                        rgSupportArtwork: [a],
                        bPreventPreviousClanImages: !0,
                        fnSetImageURL: n.SetImageURL,
                        rgRealmList: n.GetIncludedRealmList(),
                      }),
                      u.createElement(h.b, {
                        clanSteamID: i,
                        artworkType: a,
                        title: Object(E.f)("#ImagePickerLoc_Title"),
                      })
                    )
                  ),
                  u.createElement(
                    m.j,
                    null,
                    u.createElement(
                      m.q,
                      { onClick: this.OnSaveToEditModel, disabled: !1 },
                      Object(E.f)("#Button_Confirm"),
                      " "
                    ),
                    u.createElement(
                      m.d,
                      { onClick: this.props.closeModal, disabled: !1 },
                      Object(E.f)("#Button_Cancel")
                    )
                  )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnSaveToEditModel", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        S = n("as1E"),
        O = n("2vnA"),
        y = n("TtDX"),
        C = n("kLLr"),
        j = n("6oCP"),
        T = n("h5LU"),
        I = n("fpVW"),
        D = n("f1ZV"),
        w = n("ka0M"),
        G = n("0rc7"),
        A = n("0OaU"),
        M = n("5E+2"),
        k = n("UvY0"),
        L = n("Kw0F"),
        N = n("exH9"),
        B = n("X3Ds"),
        R = n("N0Ye"),
        F = n("lkRc"),
        P = n("nvcf"),
        x = n("kyHq"),
        U = n("TQGK"),
        H = n("uIWk"),
        V = (function () {
          function e() {
            (this.m_mapEventGIDToSolrData = new Map()),
              (this.m_listEvents = new Array());
          }
          return (
            (e.prototype.BHasSolrEvent = function (e) {
              return this.m_mapEventGIDToSolrData.has(e);
            }),
            (e.prototype.GetAllSolrEvents = function () {
              return this.m_listEvents;
            }),
            (e.Get = function () {
              return e.s_Singleton || (e.s_Singleton = new e()), e.s_Singleton;
            }),
            (e.prototype.ClearAllSolrEvents = function () {
              (this.m_mapEventGIDToSolrData = new Map()),
                (this.m_listEvents = new Array());
            }),
            (e.prototype.LoadPartnerEventForQueryIncremental = function (
              e,
              t,
              n,
              i,
              r,
              o,
              l,
              s,
              c
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = 10),
                Object(a.b)(this, void 0, void 0, function () {
                  var d,
                    u,
                    p = this;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return [
                          4,
                          this.GetLatestPartnerEvents(
                            e,
                            t,
                            n,
                            i,
                            r,
                            o,
                            l,
                            s,
                            c
                          ),
                        ];
                      case 1:
                        return (
                          (d = a.sent()),
                          (u = new Array()),
                          Object(O.G)(function () {
                            d.forEach(function (e) {
                              p.m_mapEventGIDToSolrData.has(e.unique_id) ||
                                (u.push(e),
                                p.m_mapEventGIDToSolrData.set(e.unique_id, e),
                                p.m_listEvents.push(e));
                            });
                          }),
                          [2, u]
                        );
                    }
                  });
                })
              );
            }),
            (e.prototype.GetLatestPartnerEvents = function (
              e,
              t,
              n,
              i,
              o,
              l,
              s,
              c,
              d,
              u,
              p,
              m
            ) {
              return (
                void 0 === t && (t = 0),
                void 0 === n && (n = 10),
                Object(a.b)(this, void 0, void 0, function () {
                  var _, g, E;
                  return Object(a.e)(this, function (a) {
                    switch (a.label) {
                      case 0:
                        return (
                          (_ =
                            F.c.STORE_BASE_URL +
                            "events_admin/ajaxgetlatestpartnerevents"),
                          (g = {
                            page: t,
                            count: n,
                            date: s,
                            appids: void 0 === i ? void 0 : i.join(","),
                            required_tags: void 0 === o ? void 0 : o.join(","),
                            exclude_tags: void 0 === l ? void 0 : l.join(","),
                            eventtypefilter:
                              void 0 === c ? void 0 : c.join(","),
                            orderByVisibility: d || void 0,
                            creator_home_clan_id:
                              void 0 === u ? void 0 : u.join(","),
                            showUnpublished: void 0 === m ? void 0 : m,
                            term: void 0 === p ? void 0 : p,
                          }),
                          [
                            4,
                            r.a.get(_, {
                              params: g,
                              withCredentials: !0,
                              cancelToken: e ? e.token : void 0,
                            }),
                          ]
                        );
                      case 1:
                        return [2, (E = a.sent()).data ? E.data.docs : []];
                    }
                  });
                })
              );
            }),
            Object(a.c)([O.C], e.prototype, "m_mapEventGIDToSolrData", void 0),
            Object(a.c)([O.C], e.prototype, "m_listEvents", void 0),
            Object(a.c)([O.k], e.prototype, "ClearAllSolrEvents", null),
            e
          );
        })(),
        z = n("y+6m"),
        W = n("mB/g"),
        q = n("xnZ7"),
        Y = n.n(q),
        J = n("bS9Q"),
        Q = n("JiI5"),
        Z = n("aoTL"),
        K = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_cancelSignal = r.a.CancelToken.source()),
              (t.m_currentRequest = 0),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              var e = (this.props.saleSection.events || [])
                .filter(function (e) {
                  return Boolean(e);
                })
                .map(function (e) {
                  return e.announcement_gid;
                });
              j.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                void 0,
                e,
                this.m_cancelSignal
              );
            }),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel("unloading EventsSaleSectionEditor");
            }),
            (t.prototype.AddEventWithDuplicatePrompt = function (e) {
              var t = this;
              (this.m_refInput.element.value = ""),
                this.props.saleSection.events ||
                  (this.props.saleSection.events = []),
                this.props.saleSection.events.some(function (t) {
                  return (null == t ? void 0 : t.announcement_gid) == e.id;
                })
                  ? Object(w.d)(
                      u.createElement(g.d, {
                        strTitle: Object(E.f)("#Sale_DuplicateCapsule"),
                        strDescription: Object(E.f)(
                          "#Sale_DuplicateEVent_Desc"
                        ),
                        onOK: function () {
                          return t.AddEvent(e);
                        },
                      }),
                      window
                    )
                  : this.AddEvent(e);
            }),
            (t.prototype.AddEvent = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t;
                return Object(a.e)(this, function (n) {
                  switch (n.label) {
                    case 0:
                      return [
                        4,
                        j.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                          new C.a(e.clan_steamid),
                          e.id,
                          null
                        ),
                      ];
                    case 1:
                      return (
                        (t = n.sent()),
                        this.props.saleSection.events.push({
                          announcement_gid: e.id,
                          clan_steamid: e.clan_steamid,
                          event_gid: null == t ? void 0 : t.GID,
                        }),
                        this.props.editModel.SetDirty(o.c.jsondata_sales),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.CreateSelectionMenu = function (e) {
              var t = this;
              this.m_searchResultsMenu = Object(y.a)(
                u.createElement(
                  z.c,
                  { className: Q.SearchResults },
                  e.map(function (e) {
                    return u.createElement(
                      z.d,
                      {
                        key: e.id,
                        onSelected: function () {
                          return t.AddEventWithDuplicatePrompt(e);
                        },
                      },
                      u.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        Object(J.b)(e.name),
                        "",
                        u.createElement("span", null, "(", e.id, ")"),
                        "",
                        u.createElement(
                          "span",
                          { className: Q.SmallText },
                          "(",
                          e.type,
                          ")"
                        )
                      )
                    );
                  })
                ),
                this.m_refInput.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                }
              );
            }),
            (t.prototype.UpdateEventSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n,
                  i,
                  o,
                  l,
                  s,
                  c,
                  d,
                  u,
                  p,
                  m,
                  _,
                  g,
                  E,
                  b,
                  v,
                  h,
                  f = this;
                return Object(a.e)(this, function (S) {
                  switch (S.label) {
                    case 0:
                      return (t = String(e.target.value)) &&
                        0 != t.trim().length
                        ? ((n = []),
                          !1,
                          t
                            .toLocaleLowerCase()
                            .startsWith(F.c.STORE_BASE_URL) ||
                          t
                            .toLocaleLowerCase()
                            .startsWith(F.c.COMMUNITY_BASE_URL)
                            ? ((i = Object(x.h)(F.c.LANGUAGE)),
                              (o = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (l = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t)),
                              (s = /groups\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (c = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (d = /games\/(\w+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                                t
                              )),
                              (u = null),
                              (p = null),
                              (m = null),
                              (_ = null),
                              (g = null),
                              (E = null),
                              o && o.length >= 3
                                ? ((u = Number.parseInt(o[1])),
                                  (_ = o[2]),
                                  [3, 6])
                                : [3, 1])
                            : [3, 18])
                        : [2];
                    case 1:
                      return l && l.length >= 3
                        ? ((m = Number.parseInt(l[1])), (_ = l[2]), [3, 6])
                        : [3, 2];
                    case 2:
                      return s && s.length >= 3
                        ? ((p = s[1]), (g = s[2]), [3, 6])
                        : [3, 3];
                    case 3:
                      return c && c.length >= 3
                        ? ((u = Number.parseInt(c[1])), (g = c[2]), [3, 6])
                        : [3, 4];
                    case 4:
                      return d && d.length >= 3
                        ? ((b = d[1]),
                          (g = d[2]),
                          [4, U.a.LoadOGGClanInfoForIdentifier(b)])
                        : [3, 6];
                    case 5:
                      (h = S.sent()) && (u = h.appid), (S.label = 6);
                    case 6:
                      return u
                        ? _
                          ? [4, j.d.LoadPartnerEventFromClanEventGID(u, _, 0)]
                          : [3, 8]
                        : [3, 11];
                    case 7:
                      return (E = S.sent()), [3, 10];
                    case 8:
                      return g
                        ? [4, j.d.LoadPartnerEventFromAnnoucementGID(u, g, 0)]
                        : [3, 10];
                    case 9:
                      (E = S.sent()), (S.label = 10);
                    case 10:
                      return [3, 17];
                    case 11:
                      return (
                        (v = null),
                        m && (v = C.a.InitFromClanID(m)),
                        p ? [4, U.a.LoadOGGClanInfoForGroupVanity(p)] : [3, 13]
                      );
                    case 12:
                      (h = S.sent()), (v = h.clanSteamID), (S.label = 13);
                    case 13:
                      return g && v
                        ? [
                            4,
                            j.d.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                              v,
                              g,
                              0
                            ),
                          ]
                        : [3, 15];
                    case 14:
                      return (E = S.sent()), [3, 17];
                    case 15:
                      return _ && v
                        ? [
                            4,
                            j.d.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                              v,
                              _,
                              0
                            ),
                          ]
                        : [3, 17];
                    case 16:
                      (E = S.sent()), (S.label = 17);
                    case 17:
                      if (E)
                        return (
                          n.push({
                            id: E.GetAnnouncementGID(),
                            clan_steamid: E.clanSteamID.ConvertTo64BitString(),
                            name: E.GetNameWithFallback(i),
                            type: "event",
                          }),
                          this.CreateSelectionMenu(n),
                          [2]
                        );
                      S.label = 18;
                    case 18:
                      return (
                        window.clearTimeout(this.m_currentRequest),
                        (this.m_currentRequest = window.setTimeout(function () {
                          return Object(a.b)(f, void 0, void 0, function () {
                            var e, n, i;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  return (
                                    (e = H.a.GetCreatorHome(
                                      new C.a(F.b.CLANSTEAMID)
                                    )),
                                    [
                                      4,
                                      V.Get().GetLatestPartnerEvents(
                                        r.a.CancelToken.source(),
                                        0,
                                        20,
                                        e.GetAppIDList(),
                                        void 0,
                                        void 0,
                                        void 0,
                                        void 0,
                                        !0,
                                        [e.GetClanAccountID()],
                                        t,
                                        !0
                                      ),
                                    ]
                                  );
                                case 1:
                                  return (
                                    (n = a.sent()),
                                    (i = n.map(function (e) {
                                      return {
                                        id: e.announcement_gid,
                                        clan_steamid: e.clan_steamid,
                                        name: e.event_name,
                                        type: "event",
                                      };
                                    })),
                                    this.CreateSelectionMenu(i),
                                    [2]
                                  );
                              }
                            });
                          });
                        }, 300)),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              this.props.fnIsValidEvent;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(X, Object(a.a)({}, this.props)),
                u.createElement(m.l, {
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: function (t) {
                    return (e.m_refInput = t);
                  },
                  type: "text",
                  label: Object(E.f)("#Sale_EnterEventsURL"),
                  onChange: this.UpdateEventSuggestions,
                  tooltip: Object(E.f)("#Sale_EnterEventsURL_Tooltip"),
                })
              );
            }),
            Object(a.c)(
              [b.a],
              t.prototype,
              "AddEventWithDuplicatePrompt",
              null
            ),
            Object(a.c)([b.a], t.prototype, "AddEvent", null),
            Object(a.c)([b.a], t.prototype, "UpdateEventSuggestions", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component);
      function X(e) {
        var t = e.editModel,
          n = e.saleSection,
          a = e.fnIsValidEvent,
          i = Object(Z.d)(function () {
            var e;
            return null === (e = n.events) || void 0 === e
              ? void 0
              : e.filter(function (e) {
                  return Boolean(e);
                });
          });
        return u.createElement(G.a, {
          items: i,
          onDelete: function (e) {
            Object(O.G)(function () {
              (n.events = i),
                n.events.splice(e, 1),
                t.SetDirty(o.c.jsondata_sales);
            });
          },
          onMove: function (e, a) {
            Object(O.G)(function () {
              (n.events = i),
                Object(L.d)(n.events, e, a),
                t.SetDirty(o.c.jsondata_sales);
            });
          },
          render: function (e) {
            var t = j.d.GetClanEventFromAnnouncementGID(e.announcement_gid);
            return u.createElement(
              W.c,
              { className: Y.a.FlexCenter, eventModel: t, route: W.a.k_eView },
              t
                ? u.createElement("img", {
                    style: { height: "40px", marginRight: "8px" },
                    src: t.GetImageURLWithFallback("capsule", 0),
                  })
                : null,
              t ? t.GetNameWithFallback(0) : null,
              " (",
              t ? t.AnnouncementGID : null,
              ")",
              a &&
                !a(t) &&
                u.createElement(
                  "div",
                  { className: _.ErrorStylesWithIcon },
                  Object(E.f)("#Sale_EventInvalid")
                )
            );
          },
        });
      }
      var $ = Object(d.a)(function (e) {
          var t,
            n = e.saleSection,
            i = e.editModel;
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              null,
              Object(E.f)(
                n.smart_section_event_tags
                  ? "#Sele_Event_SmartSection_RecentEvent_allgame"
                  : "#Sele_Event_SmartSection_RecentEvents"
              )
            ),
            u.createElement(m.l, {
              type: "number",
              min: "4",
              max: "90",
              label: Object(E.f)("#Sale_EventMaxEventsToShow"),
              tooltip: Object(E.f)("#Sale_EventMaxEventsToShow_ttip"),
              value: n.smart_section_max_apps,
              placeholder: Object(E.f)("#Sale_EventMaxEventDefault", 15),
              onChange: function (e) {
                var t = Number.parseInt(e.currentTarget.value);
                t &&
                  Number.isInteger(t) &&
                  n.smart_section_max_apps != t &&
                  ((n.smart_section_max_apps = t),
                  i.SetDirty(o.c.jsondata_sales));
              },
            }),
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#Sale_EventDateRange"),
              u.createElement(it, {
                tooltip: Object(E.f)("#Sale_EventDateRange_ttip"),
              })
            ),
            u.createElement(
              se,
              Object(a.a)({}, e, { bSetDefaultIfMissing: !1 })
            ),
            u.createElement(
              k.b,
              { clanSteamID: i.GetClanSteamID() },
              u.createElement(m.l, {
                type: "text",
                label: Object(E.f)("#Sale_EventTagsToSearch"),
                onChange: function (e) {
                  Object(O.G)(function () {
                    var t = e.target.value.replace(/\s+/g, "");
                    n.smart_section_event_tags &&
                    n.smart_section_event_tags[0] == t
                      ? 0 == t.length &&
                        n.smart_section_event_tags &&
                        ((n.smart_section_type = "recent_events"),
                        (n.smart_section_event_tags = void 0),
                        i.SetDirty(o.c.jsondata_sales))
                      : ((n.smart_section_type = "recent_tagged_events"),
                        (n.smart_section_event_tags = [t]),
                        i.SetDirty(o.c.jsondata_sales));
                  });
                },
                value:
                  (null === (t = n.smart_section_event_tags) || void 0 === t
                    ? void 0
                    : t.length) > 0
                    ? n.smart_section_event_tags[0]
                    : "",
                tooltip: Object(E.f)("#Sale_EventTagsToSearch_ttip"),
                placeholder: Object(E.f)("#Sale_EventTagsToSearch_Placeholder"),
              })
            )
          );
        }),
        ee = (function (e) {
          function t(t) {
            var n = e.call(this, t) || this;
            n.state = {};
            var a = n.props.saleSection;
            if (
              (a.event_schedule_categories ||
                (a.event_schedule_categories = []),
              !a.event_schedule_rtime_start)
            ) {
              var i = new Date();
              i.setHours(10),
                i.setMinutes(0),
                i.setSeconds(0),
                (a.event_schedule_rtime_start = Math.floor(i.getTime() / 1e3));
            }
            return (
              a.event_schedule_rtime_end ||
                (a.event_schedule_rtime_end =
                  a.event_schedule_rtime_start + 3600),
              n
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnCategoryCheck = function (e, t) {
              var n = this.props.saleSection,
                a = this.GetCategoryIndex(t);
              e && -1 == a
                ? (n.event_schedule_categories ||
                    (n.event_schedule_categories = []),
                  n.event_schedule_categories.push({
                    type: t.type,
                    tags: t.tags || [],
                  }),
                  this.props.editModel.SetDirty(o.c.jsondata_sales))
                : e ||
                  -1 == a ||
                  (n.event_schedule_categories.splice(a, 1),
                  this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.GetCategoryIndex = function (e) {
              var t = this.props.saleSection;
              return t.event_schedule_categories
                ? t.event_schedule_categories.findIndex(function (t) {
                    return (
                      t.type == e.type &&
                      Object(L.a)(t.tags || [], e.tags || [])
                    );
                  })
                : -1;
            }),
            (t.prototype.BContainsCategory = function (e) {
              return -1 != this.GetCategoryIndex(e);
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.saleSection,
                i = new Array();
              for (var r in c.b) {
                var l = c.b[r];
                Object(R.a)(l.type) &&
                  i.push(
                    u.createElement(te, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
              }
              var s = new Array();
              if (F.i.is_support)
                for (var r in c.c) {
                  l = c.c[r];
                  s.push(
                    u.createElement(te, {
                      key: "gs-" + r,
                      category: l,
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  );
                }
              var d = n.GetEventModel().jsondata.sale_opt_in_page_name;
              return u.createElement(
                "div",
                null,
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule")
                ),
                u.createElement(
                  "p",
                  null,
                  Object(E.n)(
                    "#EventEditor_SaleEventSchedule_NewsHub",
                    u.createElement(
                      "a",
                      {
                        href: F.c.STORE_BASE_URL + "newshub/sale/" + n.GetGID(),
                        target: F.c.IN_CLIENT ? void 0 : "_blank",
                      },
                      Object(E.f)("#EventEditor_SaleEventSchedule_NewsHubToken")
                    )
                  )
                ),
                u.createElement(St, {
                  varName: "show_as_demos",
                  editModel: n,
                  section: a,
                  textToken: "#EventEditor_SaleEventSchedule_FeatureDemos",
                  ttipToken: "#EventEditor_SaleEventSchedule_FeatureDemos_ttip",
                }),
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule_Range")
                ),
                u.createElement(se, {
                  saleSection: a,
                  editModel: n,
                  bSetDefaultIfMissing: !0,
                  elSetStartTime: u.createElement(
                    m.d,
                    {
                      disabled: 0 == n.GetEventStartTime(),
                      onClick: function () {
                        (a.event_schedule_rtime_start = n.GetEventStartTime()),
                          n.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(E.f)("#EventEditor_SaleEventSchedule_SetToStart")
                  ),
                  elSetEndTime: u.createElement(
                    m.d,
                    {
                      disabled: 0 == n.GetEventEndTime(),
                      onClick: function () {
                        (a.event_schedule_rtime_end = n.GetEventEndTime()),
                          n.SetDirty(o.c.jsondata_sales);
                      },
                    },
                    Object(E.f)("#EventEditor_SaleEventSchedule_SetToEnd")
                  ),
                }),
                u.createElement(ne, {
                  editModel: n,
                  saleSection: a,
                  selectedTrack: this.state.selectedTrack,
                  fnSelectTrack: function (t) {
                    e.setState({
                      selectedTrack: e.state.selectedTrack === t ? void 0 : t,
                    });
                  },
                }),
                Boolean(this.state.selectedTrack) &&
                  u.createElement(re, {
                    editModel: n,
                    track: this.state.selectedTrack,
                    saleSection: a,
                  }),
                u.createElement(
                  "p",
                  null,
                  Object(E.f)("#EventEditor_SaleEventSchedule_Desc")
                ),
                Boolean(F.i.is_support) &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.ValveOnlyBackground,
                        P.EventCategoryCtn
                      ),
                    },
                    s
                  ),
                Boolean(F.i.is_support && d) &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.ValveOnlyBackground,
                        P.EventCategoryCtn
                      ),
                    },
                    u.createElement(
                      "div",
                      null,
                      "Use OptIn ",
                      n.GetEventModel().jsondata.sale_opt_in_page_name,
                      " Event Typpe (please ensure the custom event type Live Stream exists and is published)"
                    ),
                    u.createElement(te, {
                      key: "gs-" + d,
                      category: {
                        name: "OptIn Custom Name Not Imported yet",
                        description: "TODO",
                        icon: "11",
                        type: 11,
                        tags: [d],
                      },
                      fnCategoryToggle: this.OnCategoryCheck,
                      fnContainCategory: this.BContainsCategory,
                    })
                  ),
                u.createElement("div", { className: P.EventCategoryCtn }, i)
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnCategoryCheck", null),
            Object(a.c)([b.a], t.prototype, "GetCategoryIndex", null),
            Object(a.c)([b.a], t.prototype, "BContainsCategory", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        te = function (e) {
          var t = e.category,
            n = e.fnCategoryToggle,
            a = e.fnContainCategory;
          return u.createElement(
            M.a,
            {
              direction: "top",
              className: Object(N.a)(P.EventCategoryWidth),
              toolTipContent: Object(E.f)(t.description),
            },
            u.createElement(m.e, {
              label: Object(E.f)(t.name),
              checked: a(t),
              onChange: function (e) {
                return n(e, t);
              },
            })
          );
        },
        ne = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            a = e.fnSelectTrack;
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#EventSchedule_Track_Current"),
              u.createElement(it, {
                tooltip: Object(E.f)("#EventSchedule_Track_Current_ttip"),
              })
            ),
            Boolean(n.event_schedule_tracks)
              ? u.createElement(G.a, {
                  items: n.event_schedule_tracks,
                  onDelete: function (e) {
                    Object(w.d)(
                      u.createElement(g.d, {
                        strTitle: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Title"
                        ),
                        strDescription: Object(E.f)(
                          "#EventSchedule_DeletePrompt_Body"
                        ),
                        onOK: function () {
                          n.event_schedule_tracks.splice(e, 1),
                            t.SetDirty(o.c.jsondata_sales),
                            a(null);
                        },
                      }),
                      window
                    );
                  },
                  onReorder: function () {
                    return t.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return u.createElement(ae, {
                      track: t,
                      selected: t === e.selectedTrack,
                      fnOnSelect: e.fnSelectTrack,
                      index: e.saleSection.event_schedule_tracks.indexOf(t),
                    });
                  },
                })
              : u.createElement(
                  "div",
                  null,
                  Object(E.f)("#EventSchedule_NoTracks")
                ),
            u.createElement(
              M.a,
              { toolTipContent: Object(E.f)("#EventSchedule_AddTrack_ttip") },
              u.createElement(
                m.q,
                {
                  onClick: function () {
                    n.event_schedule_tracks || (n.event_schedule_tracks = []);
                    var e = n.event_schedule_tracks.reduce(function (e, t) {
                      return Math.max(e, t.unique_id);
                    }, 0);
                    n.event_schedule_tracks.push({
                      unique_id: e + 1,
                      localized_track_image: [],
                      events: [],
                    }),
                      t.SetDirty(o.c.jsondata_sales);
                  },
                },
                Object(E.f)("#EventSchedule_AddTrack")
              )
            )
          );
        }),
        ae = function (e) {
          return u.createElement(
            "div",
            {
              className: Object(N.a)(
                S.TabsSelectorEntry,
                e.selected && S.TabsSelectorEntrySelected
              ),
              onClick: function () {
                return e.fnOnSelect(e.track);
              },
            },
            Object(E.f)(
              "#EventSchedule_Unlabled_Track",
              e.index ? e.index + 1 : 1
            )
          );
        };
      function ie(e, t, n, a) {
        Object(y.a)(
          u.createElement(T.a, {
            onChange: function (e) {
              (t[a] = e), n.SetDirty(o.c.jsondata_sales);
            },
            color: t[a],
          }),
          e,
          { bDisablePopTop: !0 }
        );
      }
      var re = Object(d.a)(function (e) {
        var t = e.saleSection,
          n = e.track,
          a = e.editModel,
          i = n.localized_track_image.reduce(function (e, t) {
            return t ? e + 1 : e;
          }, 0),
          r =
            "linear-gradient(to right, " +
            ((null == n ? void 0 : n.background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == n ? void 0 : n.background_gradient_right) ||
              "transparent") +
            " 100%)",
          o =
            "linear-gradient(to right, " +
            ((null == n ? void 0 : n.selected_background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == n ? void 0 : n.selected_background_gradient_right) ||
              "transparent") +
            " 100%)",
          l =
            "linear-gradient(to right, " +
            ((null == n ? void 0 : n.encore_background_gradient_left) ||
              "transparent") +
            " 0%, " +
            ((null == n ? void 0 : n.encore_background_gradient_right) ||
              "transparent") +
            " 100%)",
          s =
            "linear-gradient(to right, " +
            ((null == n
              ? void 0
              : n.selected_encore_background_gradient_left) || "transparent") +
            " 0%, " +
            ((null == n
              ? void 0
              : n.selected_encore_background_gradient_right) || "transparent") +
            " 100%)";
        return u.createElement(
          "div",
          null,
          u.createElement(
            m.d,
            {
              onClick: function (e) {
                Object(w.d)(
                  u.createElement(f, {
                    loc_images: n.localized_track_image,
                    fnSetImage: function (e, t) {
                      n.localized_track_image = E.a.Set(
                        n.localized_track_image || [],
                        e,
                        t
                      );
                    },
                    editModel: a,
                    artworkType: "schedule_track_art",
                  }),
                  Object(B.m)(e)
                );
              },
            },
            Boolean(i > 0)
              ? Object(E.l)("#selectimage_managing_n_existing_title", i)
              : Object(E.f)("#selectimage_uploading_title")
          ),
          u.createElement(
            "div",
            null,
            Object(E.f)("#Sale_Section_EventTrackColors")
          ),
          u.createElement(
            "div",
            { className: I.FlexRowContainer },
            u.createElement(
              "div",
              null,
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "label_color");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.label_color },
                },
                Object(E.f)("#Sale_Section_Premiere_Label_Color")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.label_color, background: r },
                },
                Object(E.f)("#Sale_Section_Premiere_Background_Right")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "selected_background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "selected_background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.label_color, background: o },
                },
                Object(E.f)("#Sale_Section_Premiere_Selected_Background_Right")
              )
            ),
            u.createElement(
              "div",
              null,
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "encore_label_color");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.encore_label_color },
                },
                Object(E.f)("#Sale_Section_Encore_Label_Color")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "encore_background_gradient_left");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.encore_label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(e, n, a, "encore_background_gradient_right");
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.encore_label_color, background: l },
                },
                Object(E.f)("#Sale_Section_Encore_Background_Right")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(
                      e,
                      n,
                      a,
                      "selected_encore_background_gradient_left"
                    );
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Left")
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return ie(
                      e,
                      n,
                      a,
                      "selected_encore_background_gradient_right"
                    );
                  },
                  className: I.EventEditorTextTitle,
                  style: { color: n.encore_label_color, background: s },
                },
                Object(E.f)("#Sale_Section_Encore_Selected_Background_Right")
              )
            )
          ),
          Boolean(
            a.GetEventModel().jsondata.sale_opt_in_page_name &&
              t.event_schedule_categories.some(function (e) {
                return e.tags.includes(
                  a.GetEventModel().jsondata.sale_opt_in_page_name
                );
              })
          ) &&
            u.createElement(
              k.b,
              { clanSteamID: a.GetClanSteamID(), requireAdmin: !0 },
              u.createElement(
                "div",
                null,
                "Opt-in Event and Custom Event Tag in activated. If events are not appearing in the schedule then it may mean they are missing Opt-In Tag."
              ),
              u.createElement(
                m.d,
                {
                  onClick: function (e) {
                    return Object(w.d)(
                      u.createElement(oe, { editModel: a, rgEvents: n.events }),
                      Object(B.m)(e)
                    );
                  },
                },
                "Add Missing Tags"
              )
            ),
          u.createElement(
            "div",
            null,
            Object(E.f)("#EventSchedule_EventValidDesc")
          ),
          u.createElement(K, {
            editModel: a,
            saleSection: n,
            fnIsValidEvent: function (e) {
              return (
                e &&
                e.startTime >= t.event_schedule_rtime_start &&
                e.endTime <= t.event_schedule_rtime_end &&
                (function (e, t, n) {
                  return (
                    t.some(function (t) {
                      return t.type == e.type && e.BMatchesAllTags(t.tags);
                    }) ||
                    (null == n
                      ? void 0
                      : n.some(function (t) {
                          return t.events.some(function (t) {
                            return t.announcement_gid == e.AnnouncementGID;
                          });
                        }))
                  );
                })(e, t.event_schedule_categories, t.event_schedule_tracks)
              );
            },
          })
        );
      });
      function oe(e) {
        var t = this,
          n = e.editModel,
          i = e.rgEvents,
          o = e.closeModal,
          l = n.GetEventModel().jsondata.sale_opt_in_page_name,
          s = i.filter(function (e) {
            return !j.d
              .GetClanEventFromAnnouncementGID(e.announcement_gid)
              .BHasTag(l);
          }),
          c = u.useState(!1),
          d = c[0],
          p = c[1],
          m = u.useState(null),
          _ = m[0],
          b = m[1],
          v = u.useState(!1),
          h = v[0],
          f = v[1],
          S = u.useState(0),
          O = S[0],
          y = S[1];
        return u.createElement(
          g.d,
          {
            strTitle: "Track and Custom OptIn Event Sync",
            strDescription:
              "The following number of featured events " +
              s.length +
              " as missing the custom tag '" +
              l +
              "' from the opt-in.  Click ok to add the missing tag. This will take a short while before solr is updated and the events appear in the results.",
            bOKDisabled: 0 == s.length || d || Boolean(_) || h,
            onOK: function () {
              return Object(a.b)(t, void 0, void 0, function () {
                var e,
                  t,
                  n = this;
                return Object(a.e)(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return (
                        p(!0),
                        (e = s.map(function (e) {
                          return Object(a.b)(n, void 0, void 0, function () {
                            var t, n, i, o, s, c;
                            return Object(a.e)(this, function (a) {
                              switch (a.label) {
                                case 0:
                                  return (
                                    (t =
                                      F.c.STORE_BASE_URL +
                                      "events_admin/ajaxupdatetags"),
                                    (n = new C.a(e.clan_steamid)),
                                    (i = new FormData()).append(
                                      "sessionid",
                                      F.c.SESSIONID
                                    ),
                                    i.append(
                                      "clan_accountid",
                                      "" + n.GetAccountID()
                                    ),
                                    i.append(
                                      "gid_announcement",
                                      e.announcement_gid
                                    ),
                                    i.append("add_tags", l),
                                    [4, r.a.post(t, i, { withCredentials: !0 })]
                                  );
                                case 1:
                                  return (
                                    (o = a.sent()),
                                    (s = Boolean(
                                      200 == (null == o ? void 0 : o.status) &&
                                        1 ==
                                          (null ===
                                            (c = null == o ? void 0 : o.data) ||
                                          void 0 === c
                                            ? void 0
                                            : c.success)
                                    )) ||
                                      (b(
                                        "Failed to update tags custom for " + l
                                      ),
                                      console.log(
                                        "Failed to update tags custom for " + l,
                                        e
                                      )),
                                    [2, s]
                                  );
                              }
                            });
                          });
                        })),
                        [4, Promise.all(e)]
                      );
                    case 1:
                      return (
                        (t = i.sent()),
                        y(t.filter(Boolean).length),
                        f(!0),
                        p(!1),
                        [2]
                      );
                  }
                });
              });
            },
            strCancelButtonText: Boolean(h) ? Object(E.f)("#Done") : void 0,
            closeModal: o,
          },
          Boolean(d) &&
            u.createElement(A.a, {
              string: Object(E.f)("#Updating"),
              size: "medium",
              position: "center",
            }),
          Boolean(h) &&
            u.createElement(
              "div",
              null,
              "Operation Completed, ",
              O,
              ", reload page to confirm."
            ),
          Boolean(_) &&
            u.createElement(
              "div",
              { className: I.Error },
              "Error Encountered: ",
              _,
              " and more info in console logs."
            )
        );
      }
      var le = function (e) {
          var t = new Date(1e3 * e);
          return t.setSeconds(0), Math.floor(t.getTime() / 1e3);
        },
        se = Object(d.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            a = e.bSetDefaultIfMissing;
          return (
            u.useEffect(
              function () {
                a &&
                  Object(O.G)(function () {
                    if (!t.event_schedule_rtime_start) {
                      var e = new Date();
                      e.setHours(10),
                        e.setMinutes(0),
                        e.setSeconds(0),
                        (t.event_schedule_rtime_start = Math.floor(
                          e.getTime() / 1e3
                        )),
                        n.SetDirty(o.c.jsondata_sales);
                    }
                    t.event_schedule_rtime_end ||
                      ((t.event_schedule_rtime_end =
                        t.event_schedule_rtime_start + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                  });
              },
              [t, n, a]
            ),
            u.createElement(
              u.Fragment,
              null,
              u.createElement(D.a, {
                strDescription: Object(E.f)("#EventEditor_Starts"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_start;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = le(e)),
                    t.event_schedule_rtime_start != e &&
                      ((t.event_schedule_rtime_start = e),
                      t.event_schedule_rtime_end < e &&
                        (t.event_schedule_rtime_end = e + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetStartTime && P.SingleLine,
              }),
              Boolean(e.elSetStartTime) &&
                u.createElement(
                  "div",
                  { className: P.SingleLine },
                  e.elSetStartTime
                ),
              u.createElement(D.a, {
                strDescription: Object(E.f)("#EventEditor_Ends"),
                nEarliestTime: 0,
                fnGetTimeToUpdate: function () {
                  return t.event_schedule_rtime_end;
                },
                fnSetTimeToUpdate: function (e) {
                  (e = le(e)),
                    t.event_schedule_rtime_end != e &&
                      ((t.event_schedule_rtime_end = e),
                      t.event_schedule_rtime_end <
                        t.event_schedule_rtime_start &&
                        (t.event_schedule_rtime_end =
                          t.event_schedule_rtime_start + 3600),
                      n.SetDirty(o.c.jsondata_sales));
                },
                fnIsValidDateTime: function () {
                  return !0;
                },
                bShowTimeZone: !0,
                className: e.elSetEndTime && P.SingleLine,
              }),
              Boolean(e.elSetEndTime) &&
                u.createElement(
                  "div",
                  { className: P.SingleLine },
                  e.elSetEndTime
                )
            )
          );
        }),
        ce = n("CoyA"),
        de = n("wUcC"),
        ue = n("Zan1"),
        pe = n("+w6J"),
        me = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            i = u.useState(new p.b(t.GetClanSteamID()))[0],
            r = function (e, n, a) {
              (e[a] = n), t.SetDirty(o.c.jsondata_sales);
            },
            c = function (e) {
              Object(w.d)(
                u.createElement(f, {
                  loc_images: e
                    ? n.localized_sale_product_mobile_banner_override
                    : n.localized_sale_product_banner_override,
                  fnSetImage: function (t, a) {
                    e
                      ? (n.localized_sale_product_mobile_banner_override = E.a.Set(
                          n.localized_sale_product_mobile_banner_override,
                          t,
                          a
                        ))
                      : (n.localized_sale_product_banner_override = E.a.Set(
                          n.localized_sale_product_banner_override,
                          t,
                          a
                        ));
                  },
                  editModel: t,
                  artworkType: e
                    ? "product_mobile_banner_override"
                    : "product_banner_override",
                }),
                window
              );
            },
            d = function (e) {
              var t = "SaleSection_" + n.unique_id;
              return e && (t += "_" + e), t;
            },
            _ =
              "linear-gradient(0deg, " +
              (n.background_gradient_bottom || "transparent") +
              " 0%, " +
              (n.background_gradient_top || "transparent") +
              " 100%)",
            b = "tabs" !== n.section_type;
          return u.createElement(
            st,
            {
              title: Object(E.f)("#Sale_Section_Background_Title"),
              tooltip: Object(E.f)("#Sale_Section_Background_Title_ttip"),
              getMinimized: function () {
                return (e = "background"), (t = !0), Object(l.a)(d(e), t);
                var e, t;
              },
              toggleMinimized: function () {
                return (e = "background"), (t = !0), void Object(l.d)(d(e), t);
                var e, t;
              },
            },
            u.createElement(
              "div",
              { style: { display: "flex" }, className: Q.BackgroundSettings },
              u.createElement(
                "div",
                { className: Object(N.a)(I.HalfColumn, Q.HalfColumn) },
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_Section_BackgroundColors_Title"),
                  " "
                ),
                u.createElement(
                  m.d,
                  {
                    onClick: function (e) {
                      Object(y.a)(
                        u.createElement(T.a, {
                          onChange: function (e) {
                            r(n, e, "label_color");
                          },
                          color: n.label_color,
                        }),
                        e,
                        { bDisablePopTop: !0 }
                      );
                    },
                    className: I.EventEditorTextTitle,
                    style: { color: n.label_color },
                  },
                  Object(E.f)("#Sale_Section_Label_Color")
                ),
                !n.disable_background &&
                  u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          Object(y.a)(
                            u.createElement(T.a, {
                              onChange: function (e) {
                                return r(n, e, "background_gradient_top");
                              },
                              color: n.background_gradient_top,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: I.EventEditorTextTitle,
                        style: { color: n.label_color, background: _ },
                      },
                      Object(E.f)("#Sale_Section_Background_Top")
                    ),
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          Object(y.a)(
                            u.createElement(T.a, {
                              onChange: function (e) {
                                return r(n, e, "background_gradient_bottom");
                              },
                              color: n.background_gradient_bottom,
                            }),
                            e,
                            { bDisablePopTop: !0 }
                          );
                        },
                        className: I.EventEditorTextTitle,
                        style: { color: n.label_color, background: _ },
                      },
                      Object(E.f)("#Sale_Section_Background_Bottom")
                    )
                  ),
                u.createElement(St, {
                  varName: "disable_background",
                  editModel: t,
                  section: n,
                  textToken: "#Sale_Section_DisableBackground",
                  ttipToken: "#Sale_Section_DisableBackground_ttip",
                })
              ),
              Boolean(b && !n.disable_background) &&
                u.createElement(
                  "div",
                  { className: Object(N.a)(I.HalfColumn, Q.HalfColumn) },
                  u.createElement(
                    "div",
                    { className: I.EventEditorTextTitle },
                    Object(E.f)("#Sale_Section_BackgroundImage_Title"),
                    " ",
                    u.createElement(it, {
                      tooltip: Object(E.f)(
                        "#Sale_Section_BackgroundImage_ttip"
                      ),
                    })
                  ),
                  u.createElement(s.b, {
                    bAllowPreviousClanImages: !0,
                    onDropFiles: function (e) {
                      return Object(a.b)(void 0, void 0, void 0, function () {
                        var r, l, s, c, d;
                        return Object(a.e)(this, function (a) {
                          switch (a.label) {
                            case 0:
                              return e && e.length > 0
                                ? ((r = ["sale_section_background"]),
                                  [4, i.AddImage(e[0], 0, r)])
                                : [3, 4];
                            case 1:
                              return a.sent()
                                ? [3, 2]
                                : (console.error(
                                    "SaleSection.OnDropFiles: failed file=" +
                                      e[0].name
                                  ),
                                  Object(w.d)(
                                    u.createElement(g.f, {
                                      strDescription: Object(E.f)(
                                        "#ImagePicker_Error",
                                        e[0].name
                                      ),
                                    }),
                                    window
                                  ),
                                  [3, 4]);
                            case 2:
                              return [4, i.UploadAllFiles(r)];
                            case 3:
                              (l = a.sent()),
                                (s = l[Object.keys(l)[0]]),
                                (c = s ? p.a.GetExtensionString(s) : null),
                                (d = s ? s.image_hash + c : null),
                                (n.background_image = d),
                                t.SetDirty(o.c.jsondata_sales),
                                (a.label = 4);
                            case 4:
                              return [2];
                          }
                        });
                      });
                    },
                    OnClanImageSelected: function (e, i) {
                      return Object(a.b)(void 0, void 0, void 0, function () {
                        var i, r;
                        return Object(a.e)(this, function (a) {
                          return (
                            (i = e ? p.a.GetExtensionString(e) : null),
                            (r = e ? e.image_hash + i : null),
                            (n.background_image = r),
                            t.SetDirty(o.c.jsondata_sales),
                            [2]
                          );
                        });
                      });
                    },
                    clanSteamID: t.GetClanSteamID(),
                    fnSetImageURL: t.SetImageURL,
                    rgRealmList: t.GetIncludedRealmList(),
                  }),
                  u.createElement(
                    k.b,
                    { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), c(!1);
                        },
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: I.EventEditorTextTitle,
                      },
                      Object(E.f)("#Sale_Seciton_BannerImage_Override")
                    ),
                    u.createElement(
                      m.d,
                      {
                        onClick: function (e) {
                          e.preventDefault(), e.stopPropagation(), c(!0);
                        },
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Seciton_BannerImage_Override_ttip"
                        ),
                        className: I.EventEditorTextTitle,
                      },
                      Object(E.f)("#Sale_Seciton_MobileBannerImage_Override")
                    ),
                    Boolean(
                      void 0 !== n.localized_sale_product_banner_override ||
                        void 0 !==
                          n.localized_sale_product_mobile_banner_override
                    ) &&
                      u.createElement(
                        m.d,
                        {
                          onClick: function () {
                            (n.localized_sale_product_banner_override = void 0),
                              (n.localized_sale_product_mobile_banner_override = void 0),
                              t.SetDirty(o.c.jsondata_sales);
                          },
                          className: I.EventEditorTextTitle,
                        },
                        Object(E.f)("#Sale_Section_BannerImage_Clear")
                      )
                  ),
                  u.createElement(
                    m.d,
                    {
                      onClick: function () {
                        (n.background_image = null),
                          t.SetDirty(o.c.jsondata_sales);
                      },
                      className: I.EventEditorTextTitle,
                    },
                    Object(E.f)("#Sale_Section_Background_Clear")
                  )
                )
            )
          );
        }),
        _e = n("48GZ"),
        ge = n("4lry"),
        Ee = n("Cs6D"),
        be = n("ZeAL"),
        ve = n("Yamg"),
        he = n("3+zv"),
        fe = n("qD+2"),
        Se = n("R+8l"),
        Oe = n("oVVc"),
        ye = n("UWWC"),
        Ce = n("4P4B"),
        je = n("IjL/"),
        Te = n("6AJf"),
        Ie = n("nxSy"),
        De = n("zoRj"),
        we = n("gyoR"),
        Ge = n("MnIK"),
        Ae = n("6Y59"),
        Me = n("YyVH"),
        ke = n("IzPI"),
        Le = (function () {
          function e() {
            "dev" === F.c.WEB_UNIVERSE &&
              (window.g_ContentHubNamesStore = this);
          }
          return (
            (e.prototype.BHasContentHubNames = function () {
              return Boolean(this.m_hubNames);
            }),
            (e.prototype.GetContentHubNames = function () {
              return this.m_hubNames;
            }),
            (e.prototype.LoadContentHubNames = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  return this.m_hubNames
                    ? [2]
                    : (this.m_promise ||
                        (this.m_promise = this.InternalLoadContentHubNames()),
                      [2, this.m_promise]);
                });
              });
            }),
            (e.prototype.InternalLoadContentHubNames = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, o, l, s, c, d, u, p, m;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        a.trys.push([0, 2, , 3]),
                        (t =
                          F.c.STORE_BASE_URL + "contenthub/ajaxgetcontenthubs"),
                        (n = { origin: self.origin }),
                        [4, r.a.get(t, { params: n })]
                      );
                    case 1:
                      return 1 !== (i = a.sent()).data.success
                        ? [2, null]
                        : ((e = i.data), [3, 3]);
                    case 2:
                      return a.sent(), [2, null];
                    case 3:
                      for (
                        o = new Map(), l = 0, s = Object.keys(e.categories);
                        l < s.length;
                        l++
                      )
                        (c = s[l]), o.set(c, e.categories[c]);
                      for (
                        d = new Map(), u = 0, p = Object.keys(e.tags);
                        u < p.length;
                        u++
                      )
                        (m = p[u]), d.set(Number(m), e.tags[m]);
                      return (
                        (this.m_hubNames = {
                          hubtypes: e.hubtypes,
                          categories: o,
                          tags: d,
                        }),
                        [2]
                      );
                  }
                });
              });
            }),
            (e.Get = function () {
              return e.s_singleton || (e.s_singleton = new e()), e.s_singleton;
            }),
            e
          );
        })();
      var Ne = n("UCyf"),
        Be = n("5izx"),
        Re = n("BRUS"),
        Fe = n("66At"),
        Pe = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnShowOnlySaleWhiteListedBroadcasts = function (e) {
              this.props.editModel.GetEventModel().jsondata
                .sale_only_whitelisted_broadcasts !== e &&
                ((this.props.editModel.GetEventModel().jsondata.sale_only_whitelisted_broadcasts = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.BIsFirstBroadcastSaleSection = function () {
              for (var e = 0; e < this.props.index; e++) {
                if (
                  "broadcast" ==
                  this.props.editModel.GetEventModel().GetSaleSections()[e]
                    .section_type
                )
                  return !1;
              }
              return !0;
            }),
            (t.prototype.render = function () {
              var e = this.props,
                t = e.editModel,
                n =
                  (e.saleSection,
                  u.createElement(
                    W.c,
                    {
                      eventModel: t.GetEventModel(),
                      route: W.a.k_eCommunityEditBroadcast,
                      className: Q.CrossTabLink,
                    },
                    Object(E.f)("#Sale_Broadcast_TabLink")
                  ));
              return t.GetEventModel().BHasBroadcastEnabled()
                ? this.BIsFirstBroadcastSaleSection()
                  ? u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(
                        "div",
                        { className: I.InputBorder },
                        u.createElement(m.p, {
                          onChange: this.OnShowOnlySaleWhiteListedBroadcasts,
                          label: Object(E.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale"
                          ),
                          tooltip: Object(E.f)(
                            "#Sale_BroadcastOnlyWhiteListedInSale_ttip"
                          ),
                          checked: t.GetEventModel().jsondata
                            .sale_only_whitelisted_broadcasts,
                        })
                      ),
                      n
                    )
                  : u.createElement(
                      "div",
                      { className: Q.CrossTabWarning },
                      Object(E.f)("#Sale_ShowingBroadcastElsewhere")
                    )
                : u.createElement(
                    u.Fragment,
                    null,
                    n,
                    u.createElement(
                      "div",
                      { className: Q.CrossTabWarning },
                      Object(E.f)("#Sale_Broadcast_Disabled"),
                      u.createElement(it, {
                        tooltip: Object(E.f)("#Sale_Broadcast_Disabled_hint"),
                      })
                    )
                  );
            }),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnShowOnlySaleWhiteListedBroadcasts",
              null
            ),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        xe = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_currentRequest = 0),
              (t.m_cancelSignal = r.a.CancelToken.source()),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentWillUnmount = function () {
              this.m_cancelSignal.cancel(
                "CuratorSaleSection component unmounted"
              ),
                window.clearTimeout(this.m_currentRequest);
            }),
            (t.prototype.SetCurator = function (e) {
              this.props.saleSection.curator_clan_id != e.GetClanAccountID() &&
                ((this.props.saleSection.curator_clan_id = e.GetClanAccountID()),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.UpdateCuratorSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(a.b)(n, void 0, void 0, function () {
                          var e,
                            n = this;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                return [
                                  4,
                                  H.a.SearchCreatorHomeStore(
                                    t,
                                    !1,
                                    this.m_cancelSignal
                                  ),
                                ];
                              case 1:
                                return (
                                  (e = a.sent()),
                                  (this.m_searchResultsMenu = Object(y.a)(
                                    u.createElement(
                                      z.c,
                                      { className: Q.SearchResults },
                                      e.map(function (e) {
                                        return u.createElement(
                                          z.d,
                                          {
                                            key:
                                              "curatorresult" +
                                              e.GetClanAccountID(),
                                            onSelected: function () {
                                              return n.SetCurator(e);
                                            },
                                          },
                                          u.createElement(
                                            "div",
                                            {
                                              style: {
                                                display: "flex",
                                                alignItems: "center",
                                              },
                                            },
                                            u.createElement(
                                              "div",
                                              {
                                                className:
                                                  Y.a.GameImageContainer,
                                              },
                                              u.createElement("img", {
                                                src: e.GetAvatarURLFullSize(),
                                                className: Y.a.AvatarImage,
                                              })
                                            ),
                                            Object(J.b)(e.GetName())
                                          )
                                        );
                                      })
                                    ),
                                    this.m_refInput.element,
                                    {
                                      bOverlapHorizontal: !0,
                                      bMatchWidth: !0,
                                      bFitToWindow: !0,
                                      bDisablePopTop: !0,
                                    }
                                  )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection;
              return u.createElement(
                "div",
                null,
                u.createElement(
                  "div",
                  { className: Q.SaleImportURL },
                  u.createElement(m.l, {
                    type: "text",
                    label: Object(E.f)("#Sale_SearchCurator"),
                    onChange: this.UpdateCuratorSuggestions,
                    onBlur: function () {
                      setTimeout(function () {
                        return (
                          e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                        );
                      }, 200);
                    },
                    ref: function (t) {
                      return (e.m_refInput = t);
                    },
                    tooltip: Object(E.f)("#Sale_SearchCurator_ttip"),
                  })
                ),
                Boolean(t.curator_clan_id) &&
                  u.createElement(Re.a, {
                    creatorID: {
                      name: null,
                      clan_account_id: t.curator_clan_id,
                      type: "developer",
                    },
                    bShowTagline: !0,
                    bHideCreatorType: !0,
                  })
              );
            }),
            Object(a.c)([b.a], t.prototype, "SetCurator", null),
            Object(a.c)([b.a], t.prototype, "UpdateCuratorSuggestions", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        Ue = Object(d.a)(function (e) {
          for (
            var t = e.editModel, n = e.index, a = t.GetEventModel(), i = 0;
            i < n;
            i++
          )
            if ("event_description" == a.GetSaleSections()[i].section_type)
              return u.createElement(
                "div",
                { className: Q.CrossTabWarning },
                Object(E.f)("#Sale_UsingEventBodyElsewhere")
              );
          return u.createElement(
            W.c,
            {
              eventModel: a,
              route: W.a.k_eCommunityEdit,
              className: Q.CrossTabLink,
            },
            Object(E.f)("#Sale_EventDescriptionTabLink")
          );
        }),
        He = Object(d.a)(function (e) {
          var t,
            n = e.editModel,
            i = e.index,
            l = n.GetEventModel(),
            s = l.GetSaleSections()[i],
            c = u.useState(!0),
            d = c[0],
            p = c[1];
          if (
            (u.useEffect(
              function () {
                var e = null;
                if (d)
                  if (
                    ((e = r.a.CancelToken.source()), s.featured_curator_list)
                  ) {
                    var t = new Array();
                    s.featured_curator_list.forEach(function (n) {
                      var a = C.a.InitFromClanID(n.clanAccountID);
                      t.push(Ne.a.Get().LoadListDetails(a, n.listID, e));
                    }),
                      Promise.all(t).then(function () {
                        return p(!1);
                      });
                  } else (s.featured_curator_list = []), p(!1);
                return function () {
                  return null == e
                    ? void 0
                    : e.cancel("CuratorRecommendationWidgetEditor: unmounting");
                };
              },
              [d, s]
            ),
            d)
          )
            return u.createElement(A.a, {
              size: "medium",
              string: Object(E.f)("#Loading"),
            });
          for (var _ = !1, g = 0; g < i; g++)
            if (
              "curator_recommendation" == l.GetSaleSections()[g].section_type
            ) {
              _ = !0;
              break;
            }
          return u.createElement(
            "div",
            null,
            u.createElement(
              "div",
              null,
              Object(E.f)("#Sale_CuratorRecommendation_desc")
            ),
            u.createElement("br", null),
            u.createElement(D.a, {
              strDescription: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime"
              ),
              strDescToolTip: Object(E.f)(
                "#Sale_CuratorRecommendation_StartTime_ttip"
              ),
              nEarliestTime: n.GetEventStartTime(),
              nLatestTime: n.GetEventEndTime(),
              fnGetTimeToUpdate: function () {
                return (
                  s.featured_curator_list_rtime_start || n.GetEventStartTime()
                );
              },
              fnSetTimeToUpdate: function (e) {
                (e = le(e)),
                  s.featured_curator_list_rtime_start != e &&
                    ((s.featured_curator_list_rtime_start = e),
                    n.SetDirty(o.c.jsondata_sales));
              },
              fnIsValidDateTime: function () {
                return !0;
              },
              bShowTimeZone: !0,
            }),
            u.createElement(
              "div",
              { className: I.EventEditorTextTitle },
              Object(E.f)("#Sale_CuratorRecommendation_FeaturedList"),
              u.createElement(it, {
                tooltip: Object(E.f)(
                  "#Sale_CuratorRecommendation_FeaturedList_ttip"
                ),
              })
            ),
            u.createElement(G.a, {
              items: s.featured_curator_list,
              onDelete: function (e) {
                s.featured_curator_list.splice(e, 1),
                  n.SetDirty(o.c.jsondata_sales);
              },
              onReorder: function () {
                return n.SetDirty(o.c.jsondata_sales);
              },
              render: function (e) {
                return u.createElement(Ve, { tuple: e });
              },
            }),
            u.createElement(
              m.d,
              {
                onClick: function (t) {
                  Object(w.d)(
                    u.createElement(ze, Object(a.a)({}, e, { saleSection: s })),
                    Object(B.m)(t)
                  );
                },
              },
              Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
            ),
            Boolean(
              (null === (t = s.featured_curator_list) || void 0 === t
                ? void 0
                : t.length) >= 2
            ) &&
              u.createElement(St, {
                varName: "use_random_order",
                editModel: n,
                section: s,
                textToken: "#Sale_Section_FeaturedCurator_UseRandomOrder",
                ttipToken: "#Sale_Section_FeaturedCurator_UseRandomOrder_hint",
              }),
            _ &&
              u.createElement(
                "div",
                { className: Q.CrossTabWarning },
                Object(E.f)("#Sale_UsingCuratorRecommendationElsewhere")
              )
          );
        });
      var Ve = Object(d.a)(function (e) {
          if (
            ((n = e.tuple),
            "object" == typeof (a = n) &&
              "number" == typeof a.clanAccountID &&
              "string" == typeof a.listID)
          ) {
            var t = Ne.a.Get().GetListDetails(e.tuple.listID);
            return t
              ? u.createElement("div", null, t.title)
              : u.createElement(A.a, {
                  size: "small",
                  string: Object(E.f)("#Loading"),
                });
          }
          var n, a;
          return u.createElement("div", null, Object(E.f)("#Error"));
        }),
        ze = Object(d.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel,
            i = n.GetClanSteamID(),
            l = n.GetGID(),
            s = u.useState(!0),
            c = s[0],
            d = s[1],
            p = u.useState(null),
            _ = p[0],
            b = p[1],
            v = function () {
              return e.closeModal && e.closeModal();
            },
            h =
              n.GetEventModel().BIsVisibleEvent() &&
              n.GetEventStartTime() < Be.a.GetTimeNowWithOverride();
          u.useEffect(
            function () {
              var e = null;
              return (
                h
                  ? ((e = r.a.CancelToken.source()),
                    Ne.a
                      .Get()
                      .LoadAllSaleCurationLists(i, l, e)
                      .then(function (e) {
                        if ((null == e ? void 0 : e.length) > 0) {
                          var t = new Array();
                          e.forEach(function (e) {
                            var n = Ne.a
                                .Get()
                                .GetClanAccountFromListID(e.listid),
                              a = C.a.InitFromClanID(n);
                            t.push(U.a.LoadClanInfoForClanSteamID(a));
                          }),
                            Promise.all(t).then(function () {
                              return d(!1);
                            });
                        }
                      }))
                  : d(!1),
                function () {
                  return null == e
                    ? void 0
                    : e.cancel("FeatureCuratorListDialog: unmounting");
                }
              );
            },
            [h, i, l]
          );
          var f = {
              option: function (e) {
                return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
              },
            },
            S = new Array();
          Ne.a
            .Get()
            .GetAllSaleCurationLists(n.GetGID())
            .forEach(function (e) {
              if (
                -1 ==
                t.featured_curator_list.findIndex(function (t) {
                  return t.listID == e.listid;
                })
              ) {
                var n = Ne.a.Get().GetClanAccountFromListID(e.listid);
                S.push({ clanAccountID: n, list: e });
              }
            });
          var O = S.map(function (e) {
            var t = U.a.GetClanInfoByClanAccountID(e.clanAccountID),
              n = t ? t.group_name : "GroupID " + e.clanAccountID;
            return { label: (n += ": " + e.list.title), value: e.list.listid };
          });
          return u.createElement(
            je.a,
            null,
            u.createElement(
              g.h,
              { onEscKeypress: v },
              u.createElement(
                m.f,
                null,
                u.createElement(
                  m.k,
                  null,
                  Object(E.f)("#Sale_CuratorRecommendation_ChooseList")
                ),
                u.createElement(
                  m.b,
                  null,
                  u.createElement(
                    m.c,
                    null,
                    u.createElement(
                      "div",
                      null,
                      Object(E.f)("#Sale_CuratorRecommendation_ChooseDesc")
                    ),
                    h
                      ? u.createElement(
                          "div",
                          { className: Fe.SelectArea },
                          c
                            ? u.createElement(A.a, {
                                size: "medium",
                                string: Object(E.f)("#Loading"),
                              })
                            : u.createElement(Ee.a, {
                                styles: f,
                                className: Fe.dropDown,
                                isSearchable: !0,
                                isMulti: !1,
                                options: O,
                                defaultMenuIsOpen: !1,
                                value: _,
                                onChange: function (e) {
                                  return b(e);
                                },
                              })
                        )
                      : u.createElement(
                          "div",
                          { className: Fe.DisplayWarning },
                          Object(E.f)(
                            "#Sale_CuratorRecommendation_ChooseInvalid"
                          )
                        )
                  )
                ),
                u.createElement(
                  m.j,
                  null,
                  u.createElement(m.n, {
                    onCancel: v,
                    bOKDisabled: null == _,
                    onOK: function () {
                      var e = _.value;
                      t.featured_curator_list.push({
                        clanAccountID: Ne.a.Get().GetClanAccountFromListID(e),
                        listID: e,
                      }),
                        n.SetDirty(o.c.jsondata_sales),
                        v();
                    },
                  })
                )
              )
            )
          );
        }),
        We = n("165M"),
        qe = function (e) {
          return u.createElement(
            je.a,
            null,
            u.createElement(
              St,
              Object(a.a)(
                {
                  textToken: "#Sale_Section_CarouselAutoAdvance",
                  ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                  varName: "carousel_auto_advance",
                  valveOnly: !0,
                },
                e
              )
            )
          );
        },
        Ye = (function () {
          function e() {
            (this.m_mapSections = new Map()), (this.m_mapPromises = new Map());
          }
          return (
            (e.prototype.BHasSections = function (e, t, n) {
              return this.m_mapSections.has(this.GetKey(e, t, n));
            }),
            (e.prototype.GetSections = function (e, t, n) {
              return this.m_mapSections.get(this.GetKey(e, t, n));
            }),
            (e.prototype.LoadSections = function (e, t, n) {
              return Object(a.b)(this, void 0, void 0, function () {
                var i;
                return Object(a.e)(this, function (a) {
                  return (
                    (i = this.GetKey(e, t, n)),
                    this.m_mapPromises.get(i) ||
                      this.m_mapPromises.set(
                        i,
                        this.InternalLoadSections(e, t, n)
                      ),
                    [2, this.m_mapPromises.get(i)]
                  );
                });
              });
            }),
            (e.prototype.InternalLoadSections = function (e, t, n) {
              return Object(a.b)(this, void 0, void 0, function () {
                var i, o, l;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      a.label = 1;
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        (i =
                          F.c.STORE_BASE_URL +
                          "contenthub/ajaxgetcontenthubsections"),
                        (o = {
                          strHubType: e,
                          strCategory: t,
                          nTagID: n,
                          origin: self.origin,
                        }),
                        [4, r.a.get(i, { params: o })]
                      );
                    case 2:
                      return 1 !== (l = a.sent()).data.success
                        ? [2, null]
                        : (this.m_mapSections.set(
                            this.GetKey(e, t, n),
                            l.data.section_ids
                          ),
                          [2, l.data.section_ids]);
                    case 3:
                      return a.sent(), [2, null];
                    case 4:
                      return [2];
                  }
                });
              });
            }),
            (e.prototype.GetKey = function (e, t, n) {
              return e + "_" + t + "_" + n;
            }),
            (e.Get = function () {
              return (
                e.s_singleton ||
                  ((e.s_singleton = new e()),
                  "dev" === F.c.WEB_UNIVERSE &&
                    (window.g_ContentHubSectionsStore = e.s_singleton)),
                e.s_singleton
              );
            }),
            e
          );
        })();
      var Je = n("xs+m"),
        Qe = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.section,
            i = t.GetEventModel().jsondata.source_content_hub,
            r = (function (e, t, n) {
              var a = Ye.Get(),
                i = Object(u.useState)(!a.BHasSections(e, t, n)),
                r = i[0],
                o = i[1],
                l = Object(u.useState)(a.GetSections(e, t, n)),
                s = l[0],
                c = l[1];
              return (
                Object(u.useEffect)(
                  function () {
                    a.LoadSections(e, t, n).then(function () {
                      c(a.GetSections(e, t, n)), o(!1);
                    });
                  },
                  [a, e, t, n]
                ),
                { bLoading: r, rgSections: s }
              );
            })(i.type, i.category, i.tagid),
            l = r.bLoading,
            s = r.rgSections;
          if (l)
            return u.createElement(A.a, { size: "medium", position: "center" });
          var c = s.map(function (e) {
            return { label: e, value: e };
          });
          return u.createElement(
            je.a,
            null,
            u.createElement(
              St,
              Object(a.a)(
                {
                  textToken: "Show a specific carousel",
                  ttipToken:
                    "If checked, lets you specify which carousel to show.",
                  varName: "contenthub_section_show_specific_carousel",
                  valveOnly: !0,
                },
                e
              )
            ),
            u.createElement(
              "div",
              { className: Je.ContentHubSectionCtn },
              n.contenthub_section_show_specific_carousel &&
                u.createElement(
                  "div",
                  { className: Je.ContentHubSectionInnerCtn },
                  u.createElement(m.m, null, "ID"),
                  u.createElement(Ee.a, {
                    options: c,
                    value: c.find(function (e) {
                      return e.value === n.contenthub_section_id;
                    }),
                    onChange: function (e) {
                      (n.contenthub_section_id = e.value),
                        t.SetDirty(o.c.jsondata_sales);
                    },
                    isSearchable: !0,
                  })
                ),
              u.createElement(
                "div",
                { className: Je.ContentHubSectionInnerCtn },
                u.createElement(m.m, null, "Capsules Per Page"),
                u.createElement(m.l, {
                  type: "number",
                  min: 1,
                  max: 6,
                  value: n.contenthub_section_capsules_per_page,
                  onChange: function (e) {
                    (n.contenthub_section_capsules_per_page = Number(
                      e.target.value
                    )),
                      t.SetDirty(o.c.jsondata_sales);
                  },
                })
              )
            )
          );
        }),
        Ze = n("GOhU"),
        Ke = n("ZC8J"),
        Xe = n("CtwA");
      function $e(e) {
        return u.createElement(
          "div",
          null,
          u.createElement(nt, Object(a.a)({}, e)),
          u.createElement("div", null, Object(E.f)("#Sale_ItemDef_Selected")),
          u.createElement(et, Object(a.a)({}, e))
        );
      }
      function et(e) {
        var t = Object(Z.d)(function () {
          return e.saleSection.itemdefs;
        });
        return u.createElement(G.a, {
          items: t || [],
          onDelete: function (t) {
            e.saleSection.itemdefs.splice(t, 1),
              e.editModel.SetDirty(o.c.jsondata_sales);
          },
          onReorder: function () {
            return e.editModel.SetDirty(o.c.jsondata_sales);
          },
          render: function (t) {
            return u.createElement(tt, {
              key: "row" + t.nAppID + "_" + t.nItemDefID,
              itemDefSetting: t,
              editModel: e.editModel,
            });
          },
        });
      }
      function tt(e) {
        var t,
          n = e.itemDefSetting,
          a = e.editModel,
          i = Object(Ke.a)(n.nAppID, n.nItemDefID),
          r = 0;
        null === (t = n.localized_itemdef_capsule) ||
          void 0 === t ||
          t.forEach(function (e) {
            r += e ? 1 : 0;
          });
        return i
          ? u.createElement(
              "div",
              { className: I.FlexRowContainer },
              u.createElement(
                "div",
                { style: { backgroundColor: i.strBackgroundColor } },
                u.createElement("img", {
                  className: Xe.itemimg,
                  src: null == i ? void 0 : i.strImgURL,
                })
              ),
              u.createElement(
                "div",
                null,
                null == i ? void 0 : i.strName,
                " - (",
                n.nAppID,
                "/",
                n.nItemDefID,
                ")"
              ),
              u.createElement(m.l, {
                type: "number",
                max: "100",
                min: "0",
                label: Object(E.f)("#Sale_ItemDef_Quantity"),
                tooltip: Object(E.f)("#Sale_ItemDef_Quantity_ttip"),
                value: n.max_quantity || 0,
                onChange: function (e) {
                  var t,
                    i = Number.parseInt(
                      (null === (t = null == e ? void 0 : e.currentTarget) ||
                      void 0 === t
                        ? void 0
                        : t.value) || "0"
                    );
                  i != n.max_quantity &&
                    ((n.max_quantity = i), a.SetDirty(o.c.jsondata_sales));
                },
              }),
              u.createElement(
                M.a,
                { toolTipContent: Object(E.f)("#Sale_ItemDef_AltImage") },
                u.createElement(
                  m.q,
                  {
                    onClick: function (t) {
                      return (function (t, n) {
                        t.preventDefault(),
                          t.stopPropagation(),
                          Object(w.d)(
                            u.createElement(f, {
                              loc_images: n.localized_itemdef_capsule,
                              fnSetImage: function (e, t) {
                                (n.localized_itemdef_capsule = Object(L.e)(
                                  n.localized_itemdef_capsule || [],
                                  30,
                                  null
                                )),
                                  (n.localized_itemdef_capsule[e] = t);
                              },
                              editModel: e.editModel,
                              artworkType: "link_capsule",
                            }),
                            Object(B.m)(t)
                          );
                      })(t, n);
                    },
                  },
                  r > 0
                    ? Object(E.l)("#selectimage_managing_n_existing_title", r)
                    : Object(E.f)("#selectimage_uploading_title")
                )
              ),
              u.createElement(
                "a",
                {
                  href:
                    F.c.STORE_BASE_URL +
                    "itemstore/" +
                    n.nAppID +
                    "/detail/" +
                    n.nItemDefID,
                },
                Object(E.f)("#EventDisplay_View")
              )
            )
          : u.createElement(A.a, {
              size: "small",
              position: "center",
              string: Object(E.f)("#Loading"),
            });
      }
      function nt(e) {
        var t = u.useState(730),
          n = t[0],
          a = t[1],
          i = u.useState(0),
          r = i[0],
          l = i[1];
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: I.FlexRowContainer },
            u.createElement(m.l, {
              type: "number",
              min: "0",
              label: "AppID",
              value: n,
              onChange: function (e) {
                var t;
                return a(
                  Number.parseInt(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "0"
                  )
                );
              },
            }),
            u.createElement(
              "a",
              { href: F.c.STORE_BASE_URL + "itemstore/" + n },
              Object(E.f)("#Sale_ItemDef_ItemStore")
            )
          ),
          u.createElement(m.l, {
            type: "number",
            min: "0",
            label: "Item Def ID",
            value: r,
            onChange: function (e) {
              var t;
              return l(
                Number.parseInt(
                  (null === (t = null == e ? void 0 : e.currentTarget) ||
                  void 0 === t
                    ? void 0
                    : t.value) || "0"
                )
              );
            },
          }),
          u.createElement(
            m.q,
            {
              disabled: 0 == n || 0 == r,
              onClick: function () {
                e.saleSection.itemdefs || (e.saleSection.itemdefs = []),
                  e.saleSection.itemdefs.push({ nAppID: n, nItemDefID: r }),
                  e.editModel.SetDirty(o.c.jsondata_sales);
              },
            },
            Object(E.f)("#Sale_ItemDef_Add")
          )
        );
      }
      var at = n("oqmg"),
        it = function (e) {
          return u.createElement(
            "span",
            {
              "data-tooltip-text": e.tooltip,
              className: Object(N.a)(I.HelperTooltip, "HelperTooltip"),
            },
            "",
            u.createElement(Ae.A, null)
          );
        };
      function rt(e, t) {
        return e.disable_background
          ? { background: "transparent" }
          : Object(Te.f)(e, t);
      }
      function ot(e, t) {
        for (var n = 0, a = e.GetSaleSections(); n < a.length; n++) {
          var i = a[n];
          if (i === t) break;
          if ("tabs" === i.section_type) return i;
        }
        return null;
      }
      function lt(e, t) {
        var n = ot(e, t);
        if (n) {
          var i = new Set(Object(a.g)(t.show_on_tabs || [])),
            r = n.tabs.map(function (n) {
              var a,
                r =
                  (null === (a = t.capsules) || void 0 === a
                    ? void 0
                    : a.length) > 0
                    ? (function (e, t) {
                        var n = new Set();
                        e.forEach(function (e) {
                          return n.add(Number(e.id));
                        });
                        for (var a = 0, i = 0, r = t; i < r.length; i++) {
                          var o = r[i];
                          n.has(Number(o.id)) && a++;
                        }
                        return a;
                      })(t.capsules, n.capsules)
                    : void 0,
                o = void 0 === r ? "" : " (" + r + ")";
              return u.createElement(m.e, {
                key: n.unique_id,
                classname: S.ShowOnTabCheckBox,
                onChange: function (e) {
                  e ? i.add(n.unique_id) : i.delete(n.unique_id);
                },
                label: Object(Te.g)(n, e.GetCurEditLanguage()) + o,
                checked: i.has(n.unique_id),
              });
            });
          Object(w.d)(
            u.createElement(
              g.d,
              {
                strTitle: Object(E.f)("#Sale_Section_ShowOnTabs_DialogTitle"),
                strDescription: Object(E.f)(
                  "#Sale_Section_ShowOnTabs_DialogDesc"
                ),
                onOK: function () {
                  (t.show_on_tabs = Array.from(i.keys())),
                    e.SetDirty(o.c.jsondata_sales);
                },
              },
              u.createElement("div", { className: S.ShowOnTabCheckBoxCtn }, r)
            ),
            window
          );
        }
      }
      var st = Object(d.a)(function (e) {
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(
              "div",
              { className: S.SaleSectionTitleHeader },
              u.createElement(
                "div",
                { className: I.EventEditorTextTitle },
                e.title,
                u.createElement(it, { tooltip: e.tooltip })
              ),
              u.createElement(We.a, {
                bIsMinimized: e.getMinimized(),
                fnToggleMinimize: e.toggleMinimized,
              })
            ),
            !e.getMinimized() && u.createElement(je.a, null, e.children)
          );
        }),
        ct = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetShowOnTabsList = function (e) {
              var t = this.props,
                n = t.saleSection,
                a = t.editLanguage;
              if (!e || !n.show_on_tabs || 0 === n.show_on_tabs.length)
                return Object(E.f)("#Sale_Section_ShowOnTabs_All");
              for (
                var i = [],
                  r = function (t) {
                    var n = e.tabs
                      ? e.tabs.find(function (e) {
                          return e.unique_id === t;
                        })
                      : null;
                    n && i.push(Object(Te.g)(n, a));
                  },
                  o = 0,
                  l = n.show_on_tabs;
                o < l.length;
                o++
              ) {
                r(l[o]);
              }
              return 0 === i.length
                ? Object(E.f)("#Sale_Section_ShowOnTabs_All")
                : i.join(", ");
            }),
            (t.prototype.OnEditTabSections = function () {
              var e = this.props,
                t = e.saleSection;
              lt(e.editModel, t);
            }),
            (t.prototype.render = function () {
              var e = ot(this.props.editModel, this.props.saleSection);
              return e && e.tabs && 0 !== e.tabs.length
                ? u.createElement(
                    st,
                    {
                      title: Object(E.f)("#Sale_Section_TabSettings_Title"),
                      tooltip: Object(E.f)(
                        "#Sale_Section_TabSettings_Title_ttip"
                      ),
                      getMinimized: this.props.getMinimized,
                      toggleMinimized: this.props.toggleMinimized,
                    },
                    u.createElement(St, {
                      varName: "diable_tab_id_filtering",
                      editModel: this.props.editModel,
                      section: this.props.saleSection,
                      textToken: "#Sale_Section_TabSettings_DisableIDFiltering",
                      ttipToken:
                        "#Sale_Section_TabSettings_DisableIDFiltering_ttip",
                    }),
                    u.createElement(
                      "div",
                      { style: { display: "flex" } },
                      u.createElement(
                        "div",
                        {
                          className: Object(N.a)(
                            I.EventEditorTextTitle,
                            S.ShowOnTabsLabel
                          ),
                        },
                        Object(E.f)("#Sale_Section_ShowOnTabs"),
                        this.GetShowOnTabsList(e)
                      ),
                      u.createElement(
                        "div",
                        { className: S.ShowOnTabsButton },
                        u.createElement(
                          m.q,
                          { onClick: this.OnEditTabSections },
                          Object(E.f)("#Sale_Section_ShowOnTabs_Edit")
                        )
                      )
                    )
                  )
                : null;
            }),
            Object(a.c)([b.a], t.prototype, "OnEditTabSections", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        dt = Object(d.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel;
          if (!t.label_link) return null;
          return u.createElement(
            k.b,
            { clanSteamID: n.GetClanSteamID() },
            u.createElement(m.p, {
              onChange: function (e) {
                (t.label_link_style = e ? "browseall" : void 0),
                  n.SetDirty(o.c.jsondata_sales);
              },
              label: "(VO) " + Object(E.f)("#Sale_Section_TitleLink_BrowseAll"),
              tooltip: Object(E.f)("#Sale_Section_TitleLink_BrowseAll_ttip"),
              checked: "browseall" === t.label_link_style,
            })
          );
        });
      function ut(e, t, n, a, i) {
        var r = Object(Te.e)(e, t, n.GetClanSteamID().GetAccountID(), i);
        if (r) return r;
        var o = Object(E.f)("#Sale_Section_Header", a + 1),
          l = "#Sale_Section_Type_" + e.section_type,
          s = Object(E.f)(l);
        return s !== l && (o = o + " (" + s + ")"), o;
      }
      var pt = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = { bIsExiting: !1 }), t;
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e,
              t = new Set(),
              n = new Array(),
              a = new Array();
            null === (e = this.props.saleSection.capsules) ||
              void 0 === e ||
              e.forEach(function (e) {
                e &&
                  ("bundle" === e.type
                    ? n.push(e.id)
                    : "sub" === e.type
                    ? a.push(e.id)
                    : t.add(e.id));
              }),
              fe.a.EnsureAppInfoForAppIDs(new Set(t)),
              Se.a.LoadBundleInfo(n),
              Oe.b.LoadPackageInfo(a),
              j.d.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                null,
                this.props.saleSection.events
                  .filter(function (e) {
                    return Boolean(null == e ? void 0 : e.announcement_gid);
                  })
                  .map(function (e) {
                    return e.announcement_gid;
                  })
              );
          }),
          (t.prototype.RemoveSection = function (e) {
            var t = this;
            Object(w.d)(
              u.createElement(g.d, {
                strTitle: Object(E.f)("#Button_Remove"),
                strDescription: Object(E.f)("#Sale_RemoveSectionConfirmation"),
                onOK: function () {
                  return t.DoRemoveSection(e);
                },
              }),
              window
            );
          }),
          (t.prototype.DoRemoveSection = function (e) {
            var t = this;
            this.setState({ bIsExiting: !0 }),
              window.setTimeout(function () {
                t.props.editModel
                  .GetEventModel()
                  .jsondata.sale_sections.splice(e, 1),
                  t.props.editModel.SetDirty(o.c.jsondata_sales);
              }, 500);
          }),
          (t.prototype.OnTitleChange = function (e) {
            (this.props.saleSection.default_label = e),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnTitleLinkChange = function (e) {
            (this.props.saleSection.label_link = e.target.value),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnSetCustomTitle = function (e) {
            var t = this.props,
              n = t.saleSection,
              a = t.editLanguage,
              i = t.editModel;
            (n.localized_label = E.a.Set(n.localized_label || [], a, e)),
              i.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnClearCustomTitle = function () {
            var e = this.props,
              t = e.saleSection,
              n = e.editLanguage,
              a = e.editModel;
            (t.localized_label = E.a.Set(t.localized_label || [], n, null)),
              a.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnShowTitleImageUpload = function (e, t) {
            e.preventDefault(),
              e.stopPropagation(),
              Object(w.d)(
                u.createElement(f, {
                  loc_images: t.localized_label_image,
                  fnSetImage: function (e, n) {
                    t.localized_label_image = E.a.Set(
                      t.localized_label_image || [],
                      e,
                      n
                    );
                  },
                  editModel: this.props.editModel,
                  artworkType: "sale_section_title",
                }),
                window
              );
          }),
          (t.prototype.OnSaleSectionTypeChange = function (e) {
            o.e.SetSaleSectionType(this.props.saleSection, e.data),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.MoveSection = function (e) {
            var t = e ? 1 : -1;
            Object(L.d)(
              this.props.editModel.GetEventModel().jsondata.sale_sections,
              this.props.index,
              Object(Me.a)(
                this.props.index + t,
                0,
                this.props.editModel.GetEventModel().jsondata.sale_sections
                  .length - 1
              )
            ),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.GetMinimizedTag = function (e) {
            var t = "SaleSection_" + this.props.saleSection.unique_id;
            return e && (t += "_" + e), t;
          }),
          (t.prototype.GetMinimized = function (e, t) {
            return Object(l.a)(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.ToggleMinimized = function (e, t) {
            Object(l.d)(this.GetMinimizedTag(e), t);
          }),
          (t.prototype.OnChangeContentHubOverrideKey = function (e) {
            (this.props.saleSection.contenthub_override_section = e.target.value.trim()),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.render = function () {
            var e = this,
              t = this.props,
              n = t.editModel,
              i = t.saleSection,
              r = t.editLanguage,
              o = [
                {
                  label: Object(E.f)("#Sale_NoChoiceMade"),
                  data: "unselected_empty",
                },
                {
                  label: Object(E.f)("#Sale_Items"),
                  data: "items",
                  tooltip: Object(E.f)("#Sale_Items_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_TextSection"),
                  data: "text_section",
                  tooltip: Object(E.f)("#Sale_TextSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Events"),
                  data: "events",
                  tooltip: Object(E.f)("#Sale_Events_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_CuratorSection"),
                  data: "curator",
                  tooltip: Object(E.f)("#Sale_CuratorSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_BroadcastPlayerSection"),
                  data: "broadcast",
                  tooltip: Object(E.f)("#Sale_BroadcastPlayerSection_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_SectionType_EventSchedule"),
                  data: "event_schedule",
                  tooltip: Object(E.f)("#Sale_SectionType_EventSchedule_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Tabs"),
                  data: "tabs",
                  tooltip: Object(E.f)("#Sale_Tabs_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_TabButtons"),
                  data: "tab_buttons",
                  tooltip: Object(E.f)("#Sale_TabButtons_ttip"),
                },
                {
                  label: Object(E.f)("#Sale_Links"),
                  data: "links",
                  tooltip: Object(E.f)("#Sale_Links_ttip"),
                },
              ];
            Object(k.a)(n.GetClanSteamID()) &&
              (o.push({
                label: "(VO) " + Object(E.f)("#Sale_CuratorRecommendation"),
                data: "curator_recommendation",
                tooltip: Object(E.f)("#Sale_CuratorRecommendation_ttip"),
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_AdventCalendarDoorSection"),
                data: "doors",
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_VOInternalSection"),
                data: "vo_internal",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_VOInternalSection_SaleItemBrowser"),
                data: "sale_item_browser",
              }),
              o.push({
                label:
                  "(VO) " + Object(E.f)("#Sale_SectionType_ContentHubTitle"),
                data: "contenthubtitle",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_SectionType_ContentHubMainCarousel"),
                data: "contenthubmaincarousel",
              }),
              o.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_SectionType_ContentHubSectionList"),
                data: "contenthubsections",
              }),
              o.push({
                label: "(VO) " + Object(E.f)("#Sale_SectionType_ItemDef"),
                data: "itemdef",
                tooltip: Object(E.f)("#Sale_SectionType_ItemDef_ttip"),
              }));
            var l = n.GetEventModel().jsondata,
              s = l.sale_font,
              c = l.sale_section_font_size,
              d = l.sale_section_disable_capitalize,
              p = Object(Te.d)(i),
              _ = this.props.saleSection.section_type || o[0].data,
              g = Boolean(E.a.GetWithFallback(i.localized_label, r)),
              b =
                g ||
                de.a.IsValidTitleOption(this.props.saleSection.default_label),
              v = 0;
            i.localized_label_image &&
              i.localized_label_image.forEach(function (e) {
                v += e ? 1 : 0;
              });
            var h,
              f = this.GetMinimized("", !1),
              O =
                "event_schedule" !== i.section_type &&
                "broadcast" !== i.section_type;
            return u.createElement(
              "div",
              {
                id: "SaleSection_" + i.unique_id,
                className: Object(N.a)(Q.SaleSection, Q.InEditor),
                style: Object(a.a)(Object(a.a)({}, rt(i, n.GetEventModel())), {
                  opacity: this.state.bIsExiting ? 0 : 1,
                  transition: "opacity 500ms",
                }),
              },
              u.createElement(
                "div",
                {
                  className: I.SaleSectionHeader,
                  onDoubleClick: function () {
                    return e.ToggleMinimized("", !1);
                  },
                  style: {
                    fontFamily: s,
                    fontSize: c,
                    textTransform: d ? "initial" : null,
                    color: this.props.saleSection.label_color,
                  },
                },
                ut(i, this.props.editLanguage, n, this.props.index, !1),
                u.createElement(
                  "div",
                  { className: Object(N.a)(I.CloseSectionTools) },
                  u.createElement(
                    "div",
                    { className: I.FlexRowContainer },
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Section_ReorderUp_Title"
                        ),
                        disabled: 0 == this.props.index,
                        onClick: function () {
                          return e.MoveSection(!1);
                        },
                      },
                      u.createElement(Ae.c, { angle: 0 })
                    ),
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)(
                          "#Sale_Section_ReorderDown_Title"
                        ),
                        disabled:
                          this.props.index + 1 == n.GetSaleSectionCount(),
                        onClick: function () {
                          return e.MoveSection(!0);
                        },
                      },
                      u.createElement(Ae.c, { angle: 180 })
                    ),
                    u.createElement(We.a, {
                      bIsMinimized: f,
                      fnToggleMinimize: function () {
                        return e.ToggleMinimized("", !1);
                      },
                    }),
                    u.createElement(
                      m.d,
                      {
                        "data-tooltip-text": Object(E.f)("#Button_Remove"),
                        onClick: function () {
                          return e.RemoveSection(e.props.index);
                        },
                      },
                      u.createElement(Ae.pb, null)
                    )
                  )
                )
              ),
              f
                ? u.createElement(mt, {
                    editModel: n,
                    section: i,
                    tabSection: n.GetTabSaleSection(),
                  })
                : u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(
                      Ge.a,
                      { placeholderHeight: "300px", className: Q.EditorCtn },
                      u.createElement(
                        "div",
                        { className: Q.SectionTypePicker },
                        u.createElement(
                          "div",
                          { className: Q.SectionTypePrompt },
                          " ",
                          Object(E.f)("#Sale_SectionContents"),
                          " "
                        ),
                        u.createElement(m.h, {
                          rgOptions: o,
                          strDropDownClassName: I.DropDownScroll,
                          selectedOption: _,
                          onChange: this.OnSaleSectionTypeChange,
                          contextMenuPositionOptions: { bDisablePopTop: !0 },
                        }),
                        u.createElement(it, {
                          tooltip: Object(E.f)("#Sale_SectionTypeTTip_" + _),
                        })
                      )
                    ),
                    Boolean("unselected_empty" !== _) &&
                      u.createElement(
                        u.Fragment,
                        null,
                        u.createElement(
                          Ge.a,
                          {
                            placeholderHeight: "300px",
                            className: Q.EditorCtn,
                          },
                          null === p &&
                            u.createElement(
                              u.Fragment,
                              null,
                              u.createElement(
                                "div",
                                { className: S.SaleSectionTitleHeader },
                                u.createElement(
                                  "div",
                                  { className: I.EventEditorTextTitle },
                                  Object(E.f)(
                                    "#Sale_Section_SectionTitle_Title"
                                  ),
                                  u.createElement(it, {
                                    tooltip: Object(E.f)(
                                      "#Sale_Section_SectionTitle_Title_ttip"
                                    ),
                                  })
                                ),
                                u.createElement(We.a, {
                                  bIsMinimized: this.GetMinimized("title", !1),
                                  fnToggleMinimize: function () {
                                    return e.ToggleMinimized("title", !1);
                                  },
                                })
                              ),
                              !this.GetMinimized("title", !1) &&
                                u.createElement(
                                  "div",
                                  {
                                    className: Object(N.a)(
                                      I.FlexColumnContainer,
                                      I.EventDefaultRowContainer
                                    ),
                                  },
                                  u.createElement(de.a, {
                                    default_label: i.default_label,
                                    localized_label: i.localized_label,
                                    editLanguage: this.props.editLanguage,
                                    onClearCustomTitle: this.OnClearCustomTitle,
                                    onSetCustomTitle: this.OnSetCustomTitle,
                                    onSetDefaultLabel: this.OnTitleChange,
                                  }),
                                  g &&
                                    u.createElement(
                                      k.b,
                                      {
                                        clanSteamID: n.GetClanSteamID(),
                                        className: Q.CustomImageTitle,
                                      },
                                      u.createElement(
                                        "span",
                                        { className: Q.PromptText },
                                        Object(E.f)("#Sale_option_title_image")
                                      ),
                                      u.createElement(
                                        "div",
                                        { className: Q.UploadImageButton },
                                        u.createElement(
                                          m.q,
                                          {
                                            onClick: function (t) {
                                              return e.OnShowTitleImageUpload(
                                                t,
                                                i
                                              );
                                            },
                                          },
                                          v > 0
                                            ? Object(E.l)(
                                                "#selectimage_managing_n_existing_title",
                                                v
                                              )
                                            : Object(E.f)(
                                                "#selectimage_uploading_title"
                                              )
                                        )
                                      )
                                    ),
                                  b &&
                                    u.createElement(
                                      k.b,
                                      { clanSteamID: n.GetClanSteamID() },
                                      u.createElement(m.l, {
                                        label: Object(E.f)("#Sale_LinkURL"),
                                        tooltip: Object(E.f)(
                                          "#Sale_LinkURL_title_hint"
                                        ),
                                        placeholder: Object(E.f)(
                                          "#Sale_LinkURL"
                                        ),
                                        onChange: this.OnTitleLinkChange,
                                        value: this.props.saleSection
                                          .label_link,
                                      }),
                                      u.createElement(dt, {
                                        saleSection: i,
                                        editModel: n,
                                      })
                                    )
                                )
                            ),
                          O && u.createElement(me, Object(a.a)({}, this.props)),
                          u.createElement(ct, {
                            saleSection: i,
                            editModel: n,
                            editLanguage: r,
                            getMinimized: function () {
                              return e.GetMinimized("tabsettings", !0);
                            },
                            toggleMinimized: function () {
                              return e.ToggleMinimized("tabsettings", !0);
                            },
                          }),
                          u.createElement(
                            k.b,
                            {
                              clanSteamID: n.GetClanSteamID(),
                              requireAdmin: !0,
                            },
                            u.createElement(m.l, {
                              value: i.contenthub_override_section,
                              onChange: this.OnChangeContentHubOverrideKey,
                              label:
                                "Section override ID (for content hubs only)",
                              tooltip:
                                'Set this to any string value. When rendering a content hub, if this sale event is a time-bound override, then this section will be shown in place of the section with the same override ID in the "normal" content hub sale page.',
                            })
                          )
                        ),
                        "unselected_empty" !=
                          (h = this.props.saleSection.section_type) &&
                          "tab_buttons" != h &&
                          u.createElement(
                            Ge.a,
                            {
                              placeholderHeight: "300px",
                              className: Q.EditorCtn,
                              id: "salesection_item_" + this.props.index,
                            },
                            u.createElement(It, Object(a.a)({}, this.props))
                          )
                      )
                  )
            );
          }),
          Object(a.c)([b.a], t.prototype, "RemoveSection", null),
          Object(a.c)([b.a], t.prototype, "DoRemoveSection", null),
          Object(a.c)([b.a], t.prototype, "OnTitleChange", null),
          Object(a.c)([b.a], t.prototype, "OnTitleLinkChange", null),
          Object(a.c)([b.a], t.prototype, "OnSetCustomTitle", null),
          Object(a.c)([b.a], t.prototype, "OnClearCustomTitle", null),
          Object(a.c)([b.a], t.prototype, "OnShowTitleImageUpload", null),
          Object(a.c)([b.a], t.prototype, "OnSaleSectionTypeChange", null),
          Object(a.c)([b.a], t.prototype, "MoveSection", null),
          Object(a.c)([b.a], t.prototype, "GetMinimized", null),
          Object(a.c)([b.a], t.prototype, "ToggleMinimized", null),
          Object(a.c)(
            [b.a],
            t.prototype,
            "OnChangeContentHubOverrideKey",
            null
          ),
          (t = Object(a.c)([d.a], t))
        );
      })(u.Component);
      var mt = function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.tabSection,
            i = a
              ? u.createElement(
                  "span",
                  {
                    className: S.ShowInTabsList,
                    onClick: function () {
                      return lt(t, n);
                    },
                  },
                  Object(E.f)(
                    "#Sale_SectionDesc_Tabs",
                    (function (e, t) {
                      var n = "";
                      return (
                        e && e.length > 0 && t && t.tabs && t.tabs.length > 0
                          ? e.forEach(function (e) {
                              n.length > 0 && (n += ", ");
                              var a = t.tabs.find(function (t) {
                                return t.unique_id == e;
                              });
                              n += a
                                ? Object(Te.g)(a, Object(x.h)(F.c.LANGUAGE))
                                : Object(E.f)("#EventCalendar_MuteApp_Unknown");
                            })
                          : (n = Object(E.f)("#Sale_Section_ShowOnTabs_All")),
                        n
                      );
                    })(n.show_on_tabs, a)
                  )
                )
              : null;
          return ("items" === n.section_type && !n.smart_section_type) ||
            "events" === n.section_type
            ? u.createElement(
                "div",
                null,
                Boolean("items" === n.section_type)
                  ? Object(E.f)(
                      "#Sale_SectionDesc_Items",
                      n.capsules ? n.capsules.length : 0
                    )
                  : Object(E.f)(
                      "#Sale_SectionDesc_Events",
                      n.events ? n.events.length : 0
                    ),
                Boolean(n.show_as_carousel) &&
                  Object(E.f)("#Sale_SectionDesc_Carousel"),
                i && " - ",
                i
              )
            : "event_schedule" === n.section_type
            ? u.createElement(
                "div",
                null,
                Object(E.l)(
                  "#EventEditor_SaleEventSchedule_MinView",
                  n.event_schedule_categories
                    ? n.event_schedule_categories.length
                    : Object(E.f)("#Dialog_Off")
                ),
                i && " - ",
                i
              )
            : i;
        },
        _t = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnSmartSectionChange = function (e) {
              (this.props.saleSection.smart_section = e),
                (this.props.saleSection.smart_section_type = e
                  ? "wishlist"
                  : void 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.render = function () {
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(m.p, {
                  onChange: this.OnSmartSectionChange,
                  label: Object(E.f)("#Sale_SmartSection"),
                  description: Object(E.f)("#Sale_SmartSectionDescription"),
                  checked: this.props.saleSection.smart_section,
                }),
                this.props.saleSection.smart_section &&
                  u.createElement(Dt, {
                    saleSection: this.props.saleSection,
                    editModel: this.props.editModel,
                  }),
                !this.props.saleSection.smart_section &&
                  u.createElement(
                    u.Fragment,
                    null,
                    u.createElement(pe.a, {
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      uniqueKey: "Section" + this.props.saleSection.unique_id,
                    }),
                    u.createElement(ge.a, {
                      section: this.props.saleSection,
                      capsuleContainer: this.props.saleSection,
                      editModel: this.props.editModel,
                      bAllowPruneFacets: !0,
                    })
                  )
              );
            }),
            Object(a.c)([O.k.bound], t.prototype, "OnSmartSectionChange", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        gt = Object(d.a)(function (e) {
          var t = e.saleSection,
            n = e.editModel;
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(m.p, {
              onChange: function (e) {
                Object(O.G)(function () {
                  t.smart_section = e;
                  var a =
                    t.smart_section_event_tags &&
                    t.smart_section_event_tags.length > 0;
                  (t.smart_section_type = e
                    ? a
                      ? "recent_tagged_events"
                      : "recent_events"
                    : void 0),
                    n.SetDirty(o.c.jsondata_sales);
                });
              },
              label: Object(E.f)("#Sale_SmartSection"),
              description: Object(E.f)("#Sale_SmartSectionDescription"),
              checked: t.smart_section,
            }),
            t.smart_section
              ? u.createElement($, Object(a.a)({}, e))
              : u.createElement(K, Object(a.a)({}, e))
          );
        }),
        Et = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { linkToAddURL: "" }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.AddLink = function () {
              (this.m_refInput.element.value = ""),
                this.props.saleSection.links.push({
                  url: this.state.linkToAddURL,
                }),
                this.setState({ linkToAddURL: "" }),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RemoveLink = function (e) {
              this.props.saleSection.links.splice(e, 1),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnLinkChange = function (e) {
              var t = e.target.value;
              this.setState({ linkToAddURL: t });
            }),
            (t.prototype.OnShowLinkCapsuleUpload = function (e, t) {
              e.preventDefault(),
                e.stopPropagation(),
                Object(w.d)(
                  u.createElement(f, {
                    loc_images: t.localized_link_capsule,
                    fnSetImage: function (e, n) {
                      (t.localized_link_capsule = Object(L.e)(
                        t.localized_link_capsule || [],
                        30,
                        null
                      )),
                        (t.localized_link_capsule[e] = n);
                    },
                    editModel: this.props.editModel,
                    artworkType: "link_capsule",
                  }),
                  window
                );
            }),
            (t.prototype.render = function () {
              var e = this;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(G.a, {
                  items: this.props.saleSection.links,
                  onDelete: this.RemoveLink,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    var n = 0;
                    t.localized_link_capsule &&
                      t.localized_link_capsule.forEach(function (e) {
                        n += e ? 1 : 0;
                      });
                    var a = Object(ke.c)(t.url, F.c.STORE_BASE_URL);
                    return u.createElement(
                      Te.k,
                      {
                        className: Object(N.a)(Y.a.FlexCenter, Q.UploadLinkRow),
                        url: t.url,
                      },
                      a,
                      u.createElement(
                        "div",
                        { className: Q.UploadLinkImageButton },
                        u.createElement(
                          m.q,
                          {
                            onClick: function (n) {
                              return e.OnShowLinkCapsuleUpload(n, t);
                            },
                          },
                          n > 0
                            ? Object(E.l)(
                                "#selectimage_managing_n_existing_title",
                                n
                              )
                            : Object(E.f)("#selectimage_uploading_title")
                        )
                      )
                    );
                  },
                }),
                u.createElement(m.l, {
                  ref: function (t) {
                    return (e.m_refInput = t);
                  },
                  type: "text",
                  label: Object(E.f)("#Sale_LinkURL"),
                  onChange: this.OnLinkChange,
                }),
                u.createElement(
                  m.q,
                  { onClick: this.AddLink },
                  Object(E.f)("#Sale_AddLink")
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "AddLink", null),
            Object(a.c)([b.a], t.prototype, "RemoveLink", null),
            Object(a.c)([b.a], t.prototype, "OnLinkChange", null),
            Object(a.c)([b.a], t.prototype, "OnShowLinkCapsuleUpload", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        bt = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                maxRowsString: Object(he.r)(t.props.saleSection).toString(),
                capItemCountString: Object(he.t)(
                  t.props.saleSection
                ).toString(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnRandomChange = function (e, t) {
              t || (e.cap_item_count = 0),
                this.setState({
                  maxRowsString: Object(he.t)(
                    this.props.saleSection
                  ).toString(),
                });
            }),
            (t.prototype.OnCapSectionChange = function (e, t) {
              this.setState({
                maxRowsString: Object(he.r)(this.props.saleSection).toString(),
              });
            }),
            (t.prototype.OnCapItemCountChange = function (e, t) {
              var n = Number(t);
              n >= 0 &&
                ((e.cap_item_count = n),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ capItemCountString: t });
            }),
            (t.prototype.OnCarouselRowsChange = function (e, t) {
              (e.carousel_rows = t),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnCapSectionRowCountChange = function (e, t) {
              var n = Number(t);
              n > 0 &&
                ((e.cap_section_row_count = n),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.setState({ maxRowsString: t });
            }),
            (t.prototype.ConvertStringToRowConfig = function (e) {
              return JSON.parse(e);
            }),
            (t.prototype.ConvertRowConfigToString = function (e, t) {
              return JSON.stringify({ rows: e, styles: t || [] });
            }),
            (t.prototype.OnCapsulesPerRowArrayChange = function (e, t) {
              var n = this.ConvertStringToRowConfig(t),
                a = n.rows,
                i = n.styles;
              (e.capsules_per_row_array = a),
                (e.capsule_style_per_row_array = i && i.length ? i : null),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.GetCapsulesPerRowDropDown = function () {
              var e = this,
                t = this.props,
                n = t.saleSection,
                a = t.editModel,
                i = [
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_1"),
                    data: this.ConvertRowConfigToString([1]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_2"),
                    data: this.ConvertRowConfigToString([2]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_3"),
                    data: this.ConvertRowConfigToString([3]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_4"),
                    data: this.ConvertRowConfigToString([4]),
                  },
                  {
                    label: Object(E.f)("#Sale_CapsulesPerRow_Pattern_2343"),
                    data: this.ConvertRowConfigToString([2, 3, 4, 3]),
                  },
                ];
              "links" === n.section_type
                ? i.push({
                    label: Object(E.f)("#Sale_CapsulesPerRow_5"),
                    data: this.ConvertRowConfigToString([5]),
                  })
                : "items" === n.section_type &&
                  Object(k.a)(a.GetClanSteamID(), !1) &&
                  i.push(
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t23"),
                      data: this.ConvertRowConfigToString(
                        [3, 2, 3],
                        ["tall", "grid", "grid"]
                      ),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_5t"),
                      data: this.ConvertRowConfigToString([5], ["tall"]),
                    },
                    {
                      label:
                        "(VO) " +
                        Object(E.f)("#Sale_CapsulesPerRow_Pattern_3t"),
                      data: this.ConvertRowConfigToString([3], ["tall"]),
                    }
                  );
              var r = Object(Ie.c)(n),
                o = this.ConvertRowConfigToString(
                  r,
                  n.capsule_style_per_row_array
                );
              return u.createElement(m.h, {
                rgOptions: i,
                label: Object(E.f)("#Sale_Section_CapsulesPerRow"),
                tooltip: Object(E.f)("#Sale_Section_CapsulesPerRow_Tooltip"),
                strDropDownClassName: I.DropDownScroll,
                selectedOption: o,
                onChange: function (t) {
                  return e.OnCapsulesPerRowArrayChange(n, t.data);
                },
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              });
            }),
            (t.prototype.render = function () {
              var e,
                t,
                n,
                a = this,
                i = this.props,
                r = i.saleSection,
                o = i.bSmartSection,
                l = i.editModel,
                s =
                  o &&
                  "items" === r.section_type &&
                  ("tag" === r.smart_section_type ||
                    "category" === r.smart_section_type),
                c = "items" === r.section_type,
                d = "items" === r.section_type || "events" === r.section_type,
                p = "library" === r.single_item_style,
                _ =
                  "items" === r.section_type &&
                  (!r.capsules_per_row_array ||
                    (1 ==
                      (null === (e = r.capsules_per_row_array) || void 0 === e
                        ? void 0
                        : e.length) &&
                      1 == r.capsules_per_row_array[0])),
                g =
                  "items" == r.section_type &&
                  (null ===
                    (n =
                      null === (t = l.GetEventModel().jsondata) || void 0 === t
                        ? void 0
                        : t.sorting_tiers) || void 0 === n
                    ? void 0
                    : n.length) > 0;
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_Section_GridSettings_Title")
                ),
                u.createElement(
                  "div",
                  {
                    style: { display: "flex" },
                    className: I.EventDefaultRowContainer,
                  },
                  u.createElement(
                    "div",
                    { className: I.HalfColumn },
                    r.show_as_carousel &&
                      u.createElement(m.s, {
                        label: Object(E.f)("#Sale_Section_CarouselRows"),
                        showValue: !0,
                        min: 1,
                        max: 3,
                        value: Object(he.s)(r),
                        onChange: function (e) {
                          return a.OnCarouselRowsChange(r, e);
                        },
                        tooltip: Object(E.f)(
                          "#Sale_Section_CarouselRows_Tooltip"
                        ),
                      }),
                    this.GetCapsulesPerRowDropDown()
                  ),
                  u.createElement(
                    "div",
                    { className: I.HalfColumn },
                    u.createElement(St, {
                      varName: "use_random_order",
                      onChange: this.OnRandomChange,
                      editModel: l,
                      section: r,
                      textToken: g
                        ? "#Sale_Section_UseRandomOrder_SortingTiers"
                        : "#Sale_Section_UseRandomOrder",
                      ttipToken: o
                        ? "#Sale_Section_UseRandomOrder_smart_hint"
                        : g
                        ? "#Sale_Section_UseRandomOrder_hint"
                        : "Sale_Section_UseRandomOrder_SortingTiers_hint",
                    }),
                    s &&
                      u.createElement(St, {
                        varName: "random_from_entire_set",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_RandomFromSmartSet",
                        ttipToken: "#Sale_Section_RandomFromSmartSet_hint",
                      }),
                    r.use_random_order &&
                      u.createElement(
                        k.b,
                        { clanSteamID: l.GetClanSteamID() },
                        u.createElement(m.l, {
                          mustBeNumeric: !0,
                          rangeMin: 0,
                          label:
                            "(VO) " +
                            Object(E.f)("#Sale_Section_CapSectionItemCount"),
                          tooltip: Object(E.f)(
                            "#Sale_Section_CapSectionItemCount_hint"
                          ),
                          onChange: function (e) {
                            return a.OnCapItemCountChange(r, e.target.value);
                          },
                          value: this.state.capItemCountString,
                        })
                      ),
                    u.createElement(St, {
                      varName: "show_as_carousel",
                      editModel: l,
                      section: r,
                      textToken: "#Sale_Section_ShowAsCarousel",
                      ttipToken: "#Sale_Section_ShowAsCarousel_Tooltip",
                    }),
                    !r.show_as_carousel &&
                      u.createElement(
                        u.Fragment,
                        null,
                        u.createElement(St, {
                          varName: "cap_section_content",
                          onChange: this.OnCapSectionChange,
                          editModel: l,
                          section: r,
                          textToken: "#Sale_Section_CapSectionContent",
                          ttipToken: "#Sale_Section_CapSectionContent_Tooltip",
                        }),
                        r.cap_section_content &&
                          u.createElement(m.l, {
                            mustBeNumeric: !0,
                            rangeMin: 1,
                            label: Object(E.f)(
                              "#Sale_Section_CapSectionContentCount"
                            ),
                            tooltip: Object(E.f)(
                              "#Sale_Section_CapSectionContentCount_hint"
                            ),
                            onChange: function (e) {
                              return a.OnCapSectionRowCountChange(
                                r,
                                e.target.value
                              );
                            },
                            value: this.state.maxRowsString,
                          })
                      ),
                    r.show_as_carousel &&
                      u.createElement(St, {
                        varName: "carousel_auto_advance",
                        valveOnly: !0,
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_CarouselAutoAdvance",
                        ttipToken: "#Sale_Section_CarouselAutoAdvance_Tooltip",
                      }),
                    c && u.createElement(ht, { editModel: l, section: r }),
                    u.createElement(ft, {
                      editModel: l,
                      section: r,
                      bDisabled: !_,
                    }),
                    p &&
                      u.createElement(St, {
                        varName: "show_purchase_options",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_ShowPurchaseOptions",
                        ttipToken: "#Sale_Section_ShowPurchaseOptions_ttip",
                      }),
                    d &&
                      u.createElement(St, {
                        valveOnly: !0,
                        varName: "hide_prices",
                        editModel: l,
                        section: r,
                        textToken: "#Sale_Section_HidePrices",
                        ttipToken: "#Sale_Section_HidePrices_ttip",
                      }),
                    u.createElement(vt, { editModel: l, saleSection: r })
                  )
                )
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnRandomChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapSectionChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapItemCountChange", null),
            Object(a.c)([b.a], t.prototype, "OnCarouselRowsChange", null),
            Object(a.c)([b.a], t.prototype, "OnCapSectionRowCountChange", null),
            Object(a.c)(
              [b.a],
              t.prototype,
              "OnCapsulesPerRowArrayChange",
              null
            ),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        vt = Object(d.a)(function (e) {
          var t,
            n = e.saleSection,
            a = e.editModel;
          if ("items" !== n.section_type && "events" !== n.section_type)
            return null;
          var i = !0;
          null === (t = a.GetDynamicRevealSections()) ||
            void 0 === t ||
            t.forEach(function (e) {
              e.section_type == n.section_type &&
                e.unique_id != n.unique_id &&
                (i = !1);
            });
          var r = "#Sale_Section_RevealSetting_limit";
          return (
            i &&
              (r =
                "events" === n.section_type
                  ? "#Sale_Section_RevealSetting_event_ttip"
                  : "#Sale_Section_RevealSetting_ttip"),
            "items" === n.section_type &&
              Boolean(n.smart_section_type) &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            a.GetEventModel().jsondata.sale_opt_in_page_name ||
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_optin_ttip")),
            "events" === n.section_type &&
              Boolean(n.smart_section_type) &&
              "recent_tagged_events" !== n.smart_section_type &&
              ((i = !1), (r = "#Sale_Section_RevealSetting_limit_smart")),
            u.createElement(St, {
              valveOnly: !0,
              varName: "dynamic_reveal",
              editModel: a,
              section: n,
              textToken: "#Sale_Section_RevealSetting",
              ttipToken: r,
              disabled: !i,
            })
          );
        }),
        ht = function (e) {
          return u.createElement(St, {
            varName: "show_as_demos",
            editModel: e.editModel,
            section: e.section,
            textToken: "#Sale_Section_UseDemoLayout",
            ttipToken: "#Sale_Section_UseDemoLayout_tooltip",
          });
        },
        ft = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.bDisabled;
          if ("items" !== n.section_type) return null;
          var i = [
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_bordered"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_bordered_ttip"
              ),
              data: "bordered",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_full"),
              tooltip: Object(E.f)("#Sale_Section_SingleItemDisplay_full_ttip"),
              data: "full",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_library"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_library_ttip"
              ),
              data: "library",
            },
            {
              label: Object(E.f)("#Sale_Section_SingleItemDisplay_animated"),
              tooltip: Object(E.f)(
                "#Sale_Section_SingleItemDisplay_animated_ttip"
              ),
              data: "animated",
            },
          ];
          return u.createElement(m.h, {
            disabled: a,
            rgOptions: i,
            label: Object(E.f)(
              a
                ? "#Sale_Section_SingleItemDisplay_disabled"
                : "#Sale_Section_SingleItemDisplay"
            ),
            tooltip: Object(E.f)(
              a
                ? "#Sale_Section_SingleItemDisplay_disabled_ttip"
                : "#Sale_Section_SingleItemDisplay_ttip"
            ),
            strDropDownClassName: I.DropDownScroll,
            selectedOption: n.single_item_style || he.y,
            onChange: function (e) {
              n.single_item_style !== e.data &&
                ((n.single_item_style = e.data),
                t.SetDirty(o.c.jsondata_sales));
            },
          });
        }),
        St = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.section,
            a = e.varName,
            i = e.valveOnly,
            r = e.textToken,
            l = e.ttipToken,
            s = e.disabled,
            c = e.onChange,
            d = function (e) {
              (n[a] = e), t.SetDirty(o.c.jsondata_sales), c && c(n, e);
            };
          return i
            ? u.createElement(
                k.b,
                { clanSteamID: t.GetClanSteamID() },
                u.createElement(m.e, {
                  onChange: d,
                  label: "(VO) " + Object(E.f)(r),
                  tooltip: Object(E.f)(l),
                  checked: n[a],
                  disabled: s,
                })
              )
            : u.createElement(m.e, {
                onChange: d,
                label: Object(E.f)(r),
                tooltip: Object(E.f)(l),
                checked: n[a],
                disabled: s,
              });
        }),
        Ot = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_descBBCodeEditor = u.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GetCurText = function () {
              var e = this.props,
                t = e.editModel,
                n = e.saleSection,
                a =
                  n.text_section_contents &&
                  n.text_section_contents[t.GetCurEditLanguage()];
              return a || "";
            }),
            (t.prototype.SetText = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.saleSection;
              n.SetSaleSectionTextLocalization(
                n.GetCurEditLanguage(),
                n.GetSaleSectionIndexByID(a.unique_id),
                e
              );
            }),
            (t.prototype.OnTextChange = function (e) {
              this.SetText(e.currentTarget.value);
            }),
            (t.prototype.OnImageInsert = function (e, t) {
              this.m_descBBCodeEditor.current &&
                Object(ve.b)(this.m_descBBCodeEditor.current, e, t);
            }),
            (t.prototype.OnRelatedToBroadcast = function (e) {
              this.props.saleSection.hide_section_if_broadcast_is_hidden !==
                e &&
                ((this.props.saleSection.hide_section_if_broadcast_is_hidden = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.editModel,
                a = t.saleSection;
              return u.createElement(
                "div",
                { className: Q.TextSectionGroup },
                u.createElement(
                  "div",
                  { className: Q.TextSectionBBCode },
                  u.createElement(Ce.a, {
                    fnGetCurText: this.GetCurText,
                    fnOnTextChange: this.OnTextChange,
                    fnSetText: this.SetText,
                    ref: this.m_descBBCodeEditor,
                    strPlaceholder: Object(E.f)(
                      "#EventEditor_SaleTextSection_PlaceHolder"
                    ),
                    emoticonStore: ye.b,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: S.EventEditorDescription,
                    limitBBCode: F.b.CAN_UPLOAD_IMAGES ? void 0 : be.f,
                    clanSteamID: n.GetClanSteamID(),
                  }),
                  u.createElement(
                    M.a,
                    {
                      toolTipContent: Object(E.f)(
                        "#EventEditor_RelatedToBroadcast_ttip"
                      ),
                    },
                    u.createElement(
                      "div",
                      { className: I.EventEditorTextTitle },
                      Object(E.f)("#EventEditor_RelatedToBroadcast")
                    )
                  ),
                  u.createElement(m.e, {
                    onChange: function (t) {
                      return e.OnRelatedToBroadcast(t);
                    },
                    label: Object(E.f)(
                      "#EventEditor_RelatedToBroadcast_action"
                    ),
                    checked: Boolean(a.hide_section_if_broadcast_is_hidden),
                  })
                ),
                F.b.CAN_UPLOAD_IMAGES &&
                  u.createElement(
                    "div",
                    {
                      className: Object(N.a)(
                        I.RightCol,
                        Ze.DescEditorPadding,
                        Q.TextSectionImages
                      ),
                    },
                    u.createElement(s.a, {
                      bShowLightBox: !0,
                      clanSteamID: n.GetClanSteamID(),
                      imageInsertCallBack: this.OnImageInsert,
                      fnSetImageURL: n.SetImageURL,
                      rgRealmList: n.GetIncludedRealmList(),
                    })
                  )
              );
            }),
            Object(a.c)([b.a], t.prototype, "GetCurText", null),
            Object(a.c)([b.a], t.prototype, "SetText", null),
            Object(a.c)([b.a], t.prototype, "OnTextChange", null),
            Object(a.c)([b.a], t.prototype, "OnImageInsert", null),
            Object(a.c)([b.a], t.prototype, "OnRelatedToBroadcast", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        yt = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = {}), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.EnsureBrowseData = function () {
              var e = this.props,
                t = e.saleSection,
                n = e.editModel;
              t.item_browse_section_data ||
                ((t.item_browse_section_data = {}),
                n.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnSubscriptionIDChange = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.master_subscription =
                  Number.parseInt(e.target.value) || 0),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnRemoveTab = function (e) {
              this.EnsureBrowseData();
              var t = this.props.editModel,
                n = this.props.saleSection.item_browse_section_data;
              e >= 0 &&
                e < n.tabs.length &&
                (n.tabs.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.OnAddTab = function (e) {
              this.EnsureBrowseData(),
                this.props.saleSection.item_browse_section_data.tabs ||
                  (this.props.saleSection.item_browse_section_data.tabs = []),
                this.props.saleSection.item_browse_section_data.tabs.push(e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnShowAsDemos = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.show_as_demos = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEnableSearch = function (e) {
              this.EnsureBrowseData(),
                (this.props.saleSection.item_browse_section_data.enable_search = e),
                this.props.editModel.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.RenderTabName = function (e) {
              var t = he.F.find(function (t) {
                  return t.flavor === e;
                }),
                n = e;
              return (
                t &&
                  ((n = Object(E.f)(t.label)),
                  e.startsWith("contenthub_") &&
                    (n +=
                      " (" +
                      Object(E.f)("#Sale_BrowserSortOption_ContentHub_Suffix") +
                      ")")),
                u.createElement(
                  u.Fragment,
                  null,
                  n,
                  Boolean(null == t ? void 0 : t.tooltip) &&
                    u.createElement(it, { tooltip: Object(E.f)(t.tooltip) })
                )
              );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.saleSection.item_browse_section_data || {},
                n = t.master_subscription,
                a = t.tabs || [],
                i = he.G.filter(function (e) {
                  return (
                    void 0 ===
                    a.find(function (t) {
                      return t === e;
                    })
                  );
                }).map(function (t) {
                  return u.createElement(
                    "div",
                    { key: t, className: S.ItemBrowseInactiveTab },
                    u.createElement(
                      "div",
                      {
                        className: S.ItemBrowseInactiveTabAdd,
                        onClick: function () {
                          return e.OnAddTab(t);
                        },
                      },
                      u.createElement(Ae.s, null)
                    ),
                    e.RenderTabName(t)
                  );
                });
              return u.createElement(
                "div",
                null,
                u.createElement(m.e, {
                  label: Object(E.f)("#Sale_Section_EnableSearch"),
                  tooltip: Object(E.f)("#Sale_Section_EnableSearch_ttip"),
                  onChange: this.OnEnableSearch,
                  checked: t.enable_search,
                }),
                u.createElement(m.e, {
                  label: Object(E.f)("#Sale_Section_UseDemoLayout"),
                  tooltip: Object(E.f)("#Sale_Section_UseDemoLayout_ttip"),
                  onChange: this.OnShowAsDemos,
                  checked: t.show_as_demos,
                }),
                u.createElement(m.l, {
                  type: "text",
                  label: Object(E.f)("#Sale_BrowseSection_SubscriptionID"),
                  tooltip: Object(E.f)(
                    "#Sale_BrowseSection_SubscriptionID_ttip"
                  ),
                  onChange: this.OnSubscriptionIDChange,
                  value: n,
                }),
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_BrowseSection_TabList"),
                  u.createElement(it, {
                    tooltip: Object(E.f)("#Sale_BrowseSection_TabList_ttip"),
                  })
                ),
                u.createElement(G.a, {
                  items: a,
                  onDelete: this.OnRemoveTab,
                  onReorder: function () {
                    return e.props.editModel.SetDirty(o.c.jsondata_sales);
                  },
                  render: function (t) {
                    return u.createElement(
                      "div",
                      { className: S.ItemBrowseActiveTab },
                      e.RenderTabName(t)
                    );
                  },
                }),
                u.createElement(
                  "div",
                  { className: I.EventEditorTextTitle },
                  Object(E.f)("#Sale_BrowseSection_AdditionalTabList"),
                  u.createElement(it, {
                    tooltip: Object(E.f)(
                      "#Sale_BrowseSection_AdditionalTabList_ttip"
                    ),
                  })
                ),
                u.createElement("div", null, i),
                u.createElement(ge.a, {
                  section: this.props.saleSection,
                  capsuleContainer: this.props.saleSection,
                  editModel: this.props.editModel,
                  bAllowPruneFacets: !0,
                })
              );
            }),
            Object(a.c)([b.a], t.prototype, "OnSubscriptionIDChange", null),
            Object(a.c)([b.a], t.prototype, "OnRemoveTab", null),
            Object(a.c)([b.a], t.prototype, "OnAddTab", null),
            Object(a.c)([b.a], t.prototype, "OnShowAsDemos", null),
            Object(a.c)([b.a], t.prototype, "OnEnableSearch", null),
            (t = Object(a.c)([d.a], t))
          );
        })(u.Component),
        Ct = Object(d.a)(function (e) {
          var t,
            n,
            a,
            i,
            r,
            l = e.editModel,
            s = Object(u.useState)(!1),
            c = s[0],
            d = s[1],
            p = [
              {
                label: Object(E.f)("#SaleItemSource_TaggedItems"),
                data: he.n.k_ETaggedItems,
              },
              {
                label: Object(E.f)("#SaleItemSource_ContentHub"),
                data: he.n.k_EContentHub,
              },
            ],
            _ = (function () {
              var e = Le.Get(),
                t = Object(u.useState)(!e.BHasContentHubNames()),
                n = t[0],
                a = t[1],
                i = Object(u.useState)(e.GetContentHubNames()),
                r = i[0],
                o = i[1];
              return (
                Object(u.useEffect)(
                  function () {
                    e.LoadContentHubNames().then(function () {
                      o(e.GetContentHubNames()), a(!1);
                    });
                  },
                  [e]
                ),
                { bLoading: n, contentHubNames: r }
              );
            })(),
            g = (_.bLoading, _.contentHubNames);
          g &&
            ((a =
              null == g
                ? void 0
                : g.hubtypes.map(function (e) {
                    return { label: e, value: e };
                  })),
            (i = Array.from(
              null === (t = null == g ? void 0 : g.categories) || void 0 === t
                ? void 0
                : t.keys()
            ).map(function (e) {
              return {
                label:
                  (null == e ? void 0 : e.length) > 0
                    ? g.categories.get(e) + " (" + e + ")"
                    : "" + g.categories.get(e),
                value: e,
              };
            })),
            (r = Array.from(
              null === (n = null == g ? void 0 : g.tags) || void 0 === n
                ? void 0
                : n.keys()
            ).map(function (e) {
              return { label: g.tags.get(e) + " (" + e + ")", value: "" + e };
            })));
          var b = l.GetEventModel().jsondata;
          return u.createElement(
            st,
            {
              title: Object(E.f)("#Sale_BrowseSection_ContentHubTitle"),
              tooltip: Object(E.f)("#Sale_BrowseSection_ContentHubTooltip"),
              getMinimized: function () {
                return c;
              },
              toggleMinimized: function () {
                return d(!c);
              },
            },
            Boolean(g)
              ? u.createElement(
                  u.Fragment,
                  null,
                  u.createElement(
                    m.m,
                    null,
                    Object(E.f)("#SaleItemSource_Title")
                  ),
                  u.createElement(m.h, {
                    rgOptions: p,
                    selectedOption: b.item_source_type || he.n.k_ETaggedItems,
                    onChange: function (e) {
                      if (
                        ((l.GetEventModel().jsondata.item_source_type = e.data),
                        e.data === he.n.k_EContentHub)
                      ) {
                        var t = {
                          type: l.GetEventModel().GetContentHubType(),
                          category: l.GetEventModel().GetContentHubCategory(),
                          tagid: l.GetEventModel().GetContentHubTag(),
                        };
                        (l.GetEventModel().jsondata.source_content_hub = t),
                          l.GetEventModel().jsondata
                            .bAutoUpdateVanityURLForContentHub && jt(t, l);
                      }
                      l.SetDirty(o.c.jsondata_sales);
                    },
                  }),
                  b.item_source_type === he.n.k_EContentHub &&
                    u.createElement(
                      u.Fragment,
                      null,
                      u.createElement(
                        m.m,
                        null,
                        Object(E.f)("#Sale_BrowseSection_ContentHubType")
                      ),
                      u.createElement(Ee.a, {
                        options: a,
                        value: a.find(function (e) {
                          return (
                            e.value === l.GetEventModel().GetContentHubType()
                          );
                        }),
                        onChange: function (e) {
                          var t = {
                            type: e.value,
                            category: l.GetEventModel().GetContentHubCategory(),
                            tagid: l.GetEventModel().GetContentHubTag(),
                          };
                          (l.GetEventModel().jsondata.source_content_hub = t),
                            l.GetEventModel().jsondata
                              .bAutoUpdateVanityURLForContentHub && jt(t, l),
                            l.SetDirty(o.c.jsondata_sales);
                        },
                        isSearchable: !0,
                      }),
                      "category" === l.GetEventModel().GetContentHubType() &&
                        u.createElement(
                          u.Fragment,
                          null,
                          u.createElement(
                            m.m,
                            null,
                            Object(E.f)(
                              "#Sale_BrowseSection_ContentHubCategory"
                            )
                          ),
                          u.createElement(Ee.a, {
                            options: i,
                            value: i.find(function (e) {
                              var t;
                              return (
                                e.value ===
                                (null === (t = l.GetEventModel()) ||
                                void 0 === t
                                  ? void 0
                                  : t.GetContentHubCategory())
                              );
                            }),
                            onChange: function (e) {
                              var t = {
                                type: l.GetEventModel().GetContentHubType(),
                                category: e.value,
                                tagid: l.GetEventModel().GetContentHubTag(),
                              };
                              (l.GetEventModel().jsondata.source_content_hub = t),
                                l.GetEventModel().jsondata
                                  .bAutoUpdateVanityURLForContentHub &&
                                  jt(t, l),
                                l.SetDirty(o.c.jsondata_sales);
                            },
                            isSearchable: !0,
                          })
                        ),
                      "tags" === l.GetEventModel().GetContentHubType() &&
                        u.createElement(
                          u.Fragment,
                          null,
                          u.createElement(
                            m.m,
                            null,
                            Object(E.f)("#Sale_BrowseSection_ContentHubTag")
                          ),
                          u.createElement(Ee.a, {
                            options: r,
                            value: r.find(function (e) {
                              var t;
                              return (
                                e.value ===
                                (null ===
                                  (t = l.GetEventModel().GetContentHubTag()) ||
                                void 0 === t
                                  ? void 0
                                  : t.toString())
                              );
                            }),
                            onChange: function (e) {
                              var t = {
                                type: l.GetEventModel().GetContentHubType(),
                                category: l
                                  .GetEventModel()
                                  .GetContentHubCategory(),
                                tagid: Number(e.value),
                              };
                              (l.GetEventModel().jsondata.source_content_hub = t),
                                l.GetEventModel().jsondata
                                  .bAutoUpdateVanityURLForContentHub &&
                                  jt(t, l),
                                l.SetDirty(o.c.jsondata_sales);
                            },
                            isSearchable: !0,
                          })
                        ),
                      u.createElement(m.e, {
                        label: Object(E.f)(
                          "#Sale_BrowseSection_ContentHubDiscountedOnly"
                        ),
                        checked: b.content_hub_discounted_only,
                        onChange: function (e) {
                          (l.GetEventModel().jsondata.content_hub_discounted_only = e),
                            l.SetDirty(o.c.jsondata_sales);
                        },
                      }),
                      u.createElement(m.e, {
                        label:
                          "Auto update vanity URL based on configured content hub",
                        checked: b.bAutoUpdateVanityURLForContentHub,
                        onChange: function (e) {
                          ((l.GetEventModel().jsondata.bAutoUpdateVanityURLForContentHub = e),
                          e) &&
                            jt(
                              {
                                type: l.GetEventModel().GetContentHubType(),
                                category: l
                                  .GetEventModel()
                                  .GetContentHubCategory(),
                                tagid: l.GetEventModel().GetContentHubTag(),
                              },
                              l
                            );
                          l.SetDirty(o.c.jsondata_sales);
                        },
                      })
                    )
                )
              : u.createElement(A.a, { size: "medium", position: "center" })
          );
        });
      function jt(e, t) {
        if (e.type)
          if ("category" !== e.type || e.category)
            if ("tags" !== e.type || e.tagid) {
              var n = "contenthubsalepage_" + e.type;
              "category" === e.type
                ? (n += "_" + e.category)
                : "tags" === e.type && (n += "_" + e.tagid),
                (t.GetEventModel().jsondata.sale_vanity_id = n);
            } else
              console.warn(
                "SetVanityURLForContentHub: Undefined tag id for tag hub, skipping vanity URL update."
              );
          else
            console.warn(
              "SetVanityURLForContentHub: Undefined category for category hub, skipping vanity URL update."
            );
        else
          console.warn(
            "SetVanityURLForContentHub: Undefined hub type, skipping vanity URL update."
          );
      }
      var Tt = Object(d.a)(function (e) {
          var t = e.editModel,
            n = e.saleSection,
            a = (e.index, n.internal_section_data),
            i = [
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_SubscriptionPricing"
                ),
                data: "subscription_pricing",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabContents"),
                data: "tab_contents",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_TabReferences"),
                data: "tab_references",
              },
              {
                label: Object(E.f)(
                  "#Sale_VOInternalSection_ReservationSection"
                ),
                data: "reservation_widget",
              },
              {
                label: Object(E.f)("#Sale_VOInternalSection_CYOAStory"),
                data: "cyoa_story",
              },
            ],
            r = null == a ? void 0 : a.internal_type,
            l = [];
          if ("cyoa_story" === r)
            for (var s = 1; s <= 14; s++)
              l.push({
                label: Object(E.f)("#SummerSale2021Genre_" + s),
                data: s,
              });
          return u.createElement(
            u.Fragment,
            null,
            u.createElement(m.h, {
              rgOptions: i,
              strDropDownClassName: I.DropDownScroll,
              selectedOption: r || "subscription_pricing",
              onChange: function (e) {
                (a.internal_type = e.data), t.SetDirty(o.c.jsondata_sales);
              },
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
            Boolean("cyoa_story" !== r && "reservation_widget" !== r) &&
              u.createElement(pe.a, {
                capsuleContainer: n,
                editModel: t,
                uniqueKey: "Section" + n.unique_id,
                disableDaySelection: !0,
              }),
            Boolean("subscription_pricing" === r) &&
              u.createElement(m.l, {
                type: "text",
                label: Object(E.f)("#Sale_SubscriptionLogo"),
                tooltip: Object(E.f)("#Sale_SubscriptionLogo_ttip"),
                onChange: function (e) {
                  (a.subscription_logo_image = e.target.value),
                    t.SetDirty(o.c.jsondata_sales);
                },
                value: (null == a ? void 0 : a.subscription_logo_image) || "",
              }),
            Boolean("cyoa_story" === r) &&
              u.createElement(m.h, {
                label: Object(E.f)("#SummerSale2021_ChooseGenreLabel"),
                rgOptions: l,
                strDropDownClassName: I.DropDownScroll,
                selectedOption: a.cyoa_story_genre,
                onChange: function (e) {
                  (a.cyoa_story_genre = e.data), t.SetDirty(o.c.jsondata_sales);
                },
              }),
            Boolean("reservation_widget" === r) &&
              u.createElement(De.a, {
                event: t.GetEventModel(),
                saleSection: n,
                fnOnDirty: function () {
                  return t.SetDirty(o.c.jsondata_sales);
                },
              })
          );
        }),
        It = Object(d.a)(function (e) {
          switch (e.saleSection.section_type) {
            case "items":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(_t, Object(a.a)({}, e)),
                u.createElement(
                  bt,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "events":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(gt, Object(a.a)({}, e)),
                u.createElement(
                  bt,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "links":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement(Et, Object(a.a)({}, e)),
                u.createElement(
                  bt,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "broadcast":
              return u.createElement(Pe, Object(a.a)({}, e));
            case "event_description":
              return u.createElement(Ue, Object(a.a)({}, e));
            case "text_section":
              return u.createElement(Ot, Object(a.a)({}, e));
            case "curator":
              return u.createElement(xe, Object(a.a)({}, e));
            case "vo_internal":
              return u.createElement(Tt, Object(a.a)({}, e));
            case "tabs":
              return u.createElement(_e.b, Object(a.a)({}, e));
            case "tab_buttons":
              return null;
            case "doors":
              return u.createElement("div", null, "No settings for now.");
            case "sale_item_browser":
              return u.createElement(yt, Object(a.a)({}, e));
            case "event_schedule":
              return u.createElement(ee, Object(a.a)({}, e));
            case "curator_recommendation":
              return u.createElement(He, Object(a.a)({}, e));
            case "contenthubmaincarousel":
              return u.createElement(
                qe,
                Object(a.a)({ section: e.saleSection }, e)
              );
            case "contenthubsections":
              return u.createElement(
                Qe,
                Object(a.a)({ section: e.saleSection }, e)
              );
            case "itemdef":
              return u.createElement(
                u.Fragment,
                null,
                u.createElement($e, Object(a.a)({}, e)),
                u.createElement(
                  bt,
                  Object(a.a)({}, e, {
                    bSmartSection: e.saleSection.smart_section,
                  })
                )
              );
            case "unselected_empty":
            default:
              return null;
          }
        });
      var Dt = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.m_bMounted = !1),
            (t.state = { storeCategories: [], storeTags: [] }),
            t
          );
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e = this;
            (this.m_bMounted = !0),
              r.a
                .get(F.c.STORE_BASE_URL + "actions/ajaxgetstoretags")
                .then(function (t) {
                  e.m_bMounted &&
                    e.setState({ storeTags: t.data && t.data.tags });
                }),
              r.a
                .get(F.c.STORE_BASE_URL + "actions/ajaxgetstorecategories")
                .then(function (t) {
                  e.m_bMounted && e.setState({ storeCategories: t.data });
                });
          }),
          (t.prototype.componentWillUnmount = function () {
            this.m_bMounted = !1;
          }),
          (t.prototype.OnSmartSectionTypeChange = function (e) {
            (this.props.saleSection.smart_section_type = e.data),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.OnSmartSectionMaxAppChange = function (e) {
            (this.props.saleSection.smart_section_max_apps = Number.parseInt(
              e.target.value
            )),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.SetSmartSectionCategory = function (e) {
            (this.props.saleSection.smart_section_category = Number(e.data)),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.SetSmartSectionTag = function (e) {
            (this.m_refInput.element.value = ""),
              (this.props.saleSection.smart_section_tag = Number(e.id)),
              this.props.editModel.SetDirty(o.c.jsondata_sales);
          }),
          (t.prototype.UpdateTagSuggestions = function (e) {
            return Object(a.b)(this, void 0, void 0, function () {
              var t,
                n = this;
              return Object(a.e)(this, function (a) {
                return (
                  (t = e.target.value),
                  window.setTimeout(function () {
                    var e = n.state.storeTags
                      .filter(function (e) {
                        return (
                          -1 !== e.name.toLowerCase().indexOf(t.toLowerCase())
                        );
                      })
                      .map(function (e) {
                        return { id: e.tagid, name: e.name, type: "tag" };
                      });
                    n.m_searchResultsMenu = Object(y.a)(
                      u.createElement(
                        z.c,
                        { className: Q.SearchResults },
                        e.map(function (e) {
                          return u.createElement(
                            z.d,
                            {
                              key: e.id,
                              onSelected: function () {
                                return n.SetSmartSectionTag(e);
                              },
                            },
                            u.createElement(
                              "div",
                              {
                                style: {
                                  display: "flex",
                                  alignItems: "center",
                                },
                              },
                              Object(J.b)(e.name),
                              "",
                              u.createElement("span", null, "(", e.id, ")"),
                              "",
                              u.createElement(
                                "span",
                                { className: Q.SmallText },
                                "(",
                                e.type,
                                ")"
                              )
                            )
                          );
                        })
                      ),
                      n.m_refInput.element,
                      {
                        bOverlapHorizontal: !0,
                        bMatchWidth: !0,
                        bFitToWindow: !0,
                        bDisablePopTop: !0,
                      }
                    );
                  }, 300),
                  [2]
                );
              });
            });
          }),
          (t.prototype.SetMasterAppID = function (e, t) {
            var n = this;
            this.m_refInput &&
              this.m_refInput.element &&
              this.m_refInput.element.value &&
              (this.m_refInput.element.value = ""),
              Object(O.G)(function () {
                (n.props.saleSection.capsules = [{ id: e, type: t }]),
                  Object(we.i)(n.props.saleSection.capsules),
                  n.props.editModel.SetDirty(o.c.jsondata_sales);
              });
          }),
          (t.prototype.OnChooseMasterSubscriptionID = function (e) {
            Object(w.d)(
              u.createElement(ue.a, { fnAddCapsule: this.SetMasterAppID }),
              Object(B.m)(e)
            );
          }),
          (t.prototype.render = function () {
            var e,
              t = this,
              n = this.props.editModel,
              a = this.state.storeCategories.map(function (e) {
                return { label: e.name, data: e.categoryid };
              }),
              i = [
                {
                  label: Object(E.f)("#Sale_Wishlist") + " (?)",
                  tooltip: Object(E.f)("#Sale_Wishlist_ttip"),
                  data: "wishlist",
                },
                {
                  label: Object(E.f)("#Sale_InteractiveRecommender") + " (?)",
                  tooltip: Object(E.f)("#Sale_InteractiveRecommender_ttip"),
                  data: "interactive_recommender",
                },
                {
                  label: Object(E.f)("#Sale_SmartSection_Discount") + " (?)",
                  tooltip: Object(E.f)("#Sale_SmartSection_Discount_ttip"),
                  data: "discounted",
                },
              ];
            Object(k.a)(n.GetClanSteamID()) &&
              (i.push({
                label: "(VO) " + Object(E.f)("#Sale_Tag"),
                tooltip: Object(E.f)("#Sale_Tag_ttip"),
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "tag",
              }),
              i.push({
                label: "(VO) " + Object(E.f)("#Sale_Category"),
                tooltip: Object(E.f)("#Sale_Category_ttip"),
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "category",
              }),
              i.push({
                label: "(VO) Tag Recommender (?)",
                tooltip:
                  "Orders games featured on this sales page by their original store tags mashed against the recommended tags for the logged in users.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "tag_recommender",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_TopWishlisted") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by all time wishlist data.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "topwishlisted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_TrendingWishlisted") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by using trending wishlist data from last 2 weeks as a sliding window.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "trendingwishlisted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PopularPurchased") +
                  " (?)",
                tooltip:
                  "Show games featured on this sale page, ordered by their recent trending sales data",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularpurchased",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)(
                    "#Sale_BrowserSortOption_PopularPurchasedDiscounted"
                  ) +
                  " (?)",
                tooltip:
                  "Shows games featured on this sale page that also have a DISCOUNT NOW, and orders them by their recent trending sales data",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularpurchaseddiscounted",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_NewAndTrending") +
                  " (?)",
                tooltip:
                  "Shows games in a similar fashion to the front pages New and Trending tab. Mix of recency of release, review score and play count",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "newandtrending",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PopularComingSoon") +
                  " (?)",
                tooltip:
                  "Orders not released games featured on this sales page by their all time wishlists data.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "popularcomingsoon",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_MostPlayedDemo") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by total demo player count (all-time).",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "mostplayeddemo",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_DailyActiveUserDemo") +
                  " (?)",
                tooltip:
                  "Orders games featured on this sales page by yesterdays peak player count.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dailyactiveuserdemo",
              }),
              i.push({
                label:
                  "(VO) " +
                  Object(E.f)("#Sale_BrowserSortOption_PlayedNowDemo") +
                  " (?)",
                tooltip:
                  "This is limited to Demo AppIDs. Using only featured games from this sale page. Will sort games using live server player count data with a 5 minute.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "playednowdemo",
              }),
              i.push({
                label: "(VO) Show ANY discounted item from user's wishlist (?)",
                tooltip:
                  "This will pull the ANY discount game that is also on the logged in users wishlist across the entire Steam catalog. Not limited to the games featured on this sale page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "wishlist_onsale",
              }),
              i.push({
                label: "(VO) Show ANY discounted DLC from user's library (?)",
                tooltip:
                  "This will pull the ANY DLC for a game in the users library that is on Sale. Not limited to the DLCs featured on this sale page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dlc_onsale",
              }),
              i.push({
                label:
                  "(VO) Show ANY discounted Soundtracks from user's library (?)",
                tooltip:
                  "This will pull any soundtrack (specific DLC) for a game the user owns that is on sale across the entire Steam catalog",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "dlc_music_onsale",
              }),
              i.push({
                label: "(VO) Show ANY discounted Top Seller (?)",
                tooltip:
                  "This will pull the TOP discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "top_n",
              }),
              i.push({
                label: "(VO) Show ANY discounted (?)",
                tooltip:
                  "This will pull ALL discounted apps across the ENTIRE Steam catalog and it is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "all_discounted",
              }),
              i.push({
                label:
                  "(VO) Show ANY discounted interactive recommendations (?)",
                tooltip:
                  "This will use the interactive recommender results for logged in users to pull the TOP recommended that are also on discount across the ENTIRE Steam catalog. It is not limited to the games specifically featured in this sales page.",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "interactive_recommender_onsale",
              }),
              i.push({
                label:
                  "(VO) Show Various TAGs as clickable links to hub pages (?)",
                tooltip:
                  "Displays a carousel of tag related images that will direct for a set of curated tags backed by Steam Tag Content hubs",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "sale_tabhub",
              }),
              i.push({
                label:
                  "(VO) Show Interactive Recommended Games from Subscription (?)",
                tooltip:
                  "Specific to a Master Subscription (ie, EA Play) on Steam.  Will only displayed IR recommended games for a logged in users that part of the master subscription",
                strOptionClass: Object(N.a)(I.ValveOnlyBackground),
                data: "ir_subscription",
              }));
            var r = this.props.saleSection,
              o = this.props.saleSection.smart_section_type;
            return u.createElement(
              je.a,
              null,
              u.createElement(
                "div",
                { className: Object(N.a)(I.FlexRowContainer) },
                u.createElement(m.h, {
                  strClassName: Q.SmartSelType,
                  label: Object(E.f)("#Sale_SmartSectionType"),
                  rgOptions: i,
                  selectedOption:
                    this.props.saleSection.smart_section_type || "wishlist",
                  onChange: this.OnSmartSectionTypeChange,
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
                u.createElement(
                  "div",
                  null,
                  u.createElement(
                    "label",
                    { className: Object(N.a)("DialogLabel", Q.SmartSelLabel) },
                    Object(E.f)("#Sale_SmartSection_MaxApps")
                  ),
                  u.createElement(
                    "div",
                    null,
                    u.createElement("input", {
                      className: Object(N.a)(Q.SmartSelCount),
                      type: "number",
                      min: "0",
                      value: this.props.saleSection.smart_section_max_apps || 0,
                      onChange: this.OnSmartSectionMaxAppChange,
                    })
                  )
                )
              ),
              "tag" === o &&
                u.createElement(
                  u.Fragment,
                  null,
                  u.createElement(m.l, {
                    onBlur: function () {
                      setTimeout(function () {
                        return (
                          t.m_searchResultsMenu && t.m_searchResultsMenu.Hide()
                        );
                      }, 200);
                    },
                    ref: function (e) {
                      return (t.m_refInput = e);
                    },
                    type: "text",
                    label: Object(E.f)("#Sale_SelectTag"),
                    value: this.props.saleSection.smart_section_tag || "",
                    onChange: this.UpdateTagSuggestions,
                  }),
                  u.createElement(
                    "div",
                    null,
                    null ===
                      (e = this.state.storeTags.find(function (e) {
                        return (
                          Number(e.tagid) ===
                          t.props.saleSection.smart_section_tag
                        );
                      })) || void 0 === e
                      ? void 0
                      : e.name
                  )
                ),
              "category" === o &&
                u.createElement(m.h, {
                  key: a.length,
                  label: Object(E.f)("#Sale_SelectCategory"),
                  strDropDownClassName: I.DropDownScroll,
                  rgOptions: a,
                  selectedOption:
                    this.props.saleSection.smart_section_category || 1,
                  onChange: this.SetSmartSectionCategory,
                  contextMenuPositionOptions: { bDisablePopTop: !0 },
                }),
              "ir_subscription" === o &&
                u.createElement(
                  "div",
                  null,
                  Boolean(r.capsules && r.capsules.length > 0) &&
                    u.createElement(ce.a, { capsule: r.capsules[0] }),
                  u.createElement(
                    "div",
                    { className: Q.SaleImportBarButtonGroup },
                    u.createElement(
                      M.a,
                      {
                        toolTipContent:
                          "Enter the master subscription appid ID.",
                      },
                      u.createElement(
                        m.d,
                        {
                          className: Q.SaleImportBarButton,
                          onClick: this.OnChooseMasterSubscriptionID,
                        },
                        "Set Master Subscription ID"
                      )
                    )
                  )
                ),
              u.createElement(at.d, {
                capsuleContainer: this.props.saleSection,
                editModel: this.props.editModel,
              }),
              u.createElement(ge.a, {
                section: this.props.saleSection,
                capsuleContainer: this.props.saleSection,
                editModel: this.props.editModel,
              })
            );
          }),
          Object(a.c)([b.a], t.prototype, "OnSmartSectionTypeChange", null),
          Object(a.c)([b.a], t.prototype, "OnSmartSectionMaxAppChange", null),
          Object(a.c)([b.a], t.prototype, "SetSmartSectionCategory", null),
          Object(a.c)([b.a], t.prototype, "SetSmartSectionTag", null),
          Object(a.c)([b.a], t.prototype, "UpdateTagSuggestions", null),
          Object(a.c)([b.a], t.prototype, "SetMasterAppID", null),
          Object(a.c)([b.a], t.prototype, "OnChooseMasterSubscriptionID", null),
          (t = Object(a.c)([d.a], t))
        );
      })(u.Component);
    },
    mHFc: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return o;
      }),
        n.d(t, "c", function () {
          return l;
        }),
        n.d(t, "a", function () {
          return s;
        }),
        n.d(t, "d", function () {
          return c;
        });
      var a = n("mrSG"),
        i = n("2vnA"),
        r = n("t0uJ"),
        o = (function () {
          function e() {
            (this.m_mapMinimizedState = new Map()),
              (this.m_setLoaded = new Set());
          }
          return (
            (e.prototype.EnsureLoaded = function (e) {
              var t = e.GetGID();
              if (!this.m_setLoaded.has(t)) {
                var n = Object(r.a)("esmin-" + t) || {};
                this.m_mapMinimizedState.set(t, n), this.m_setLoaded.add(t);
              }
            }),
            (e.prototype.IsMinimized = function (e, t, n) {
              var a = this.m_mapMinimizedState.get(e.GetGID()),
                i = a ? a[t] : void 0;
              return void 0 === i ? n : Boolean(i);
            }),
            (e.prototype.ToggleMinimized = function (e, t, n) {
              var a = this.m_mapMinimizedState.get(e.GetGID()) || {},
                i = a[t],
                o = void 0 === i ? n : Boolean(i);
              (a[t] = !o), Object(r.b)("esmin-" + e.GetGID(), a);
            }),
            (e.prototype.SetMinimizedList = function (e, t, n) {
              for (
                var a = this.m_mapMinimizedState.get(e.GetGID()) || {},
                  i = 0,
                  o = t;
                i < o.length;
                i++
              ) {
                a[o[i]] = n;
              }
              Object(r.b)("esmin-" + e.GetGID(), a);
            }),
            (e.prototype.BHasExplicitSettings = function (e) {
              return !!Object(r.a)("esmin-" + e.GetGID());
            }),
            (e.Get = function () {
              return e.s_Singleton || (e.s_Singleton = new e()), e.s_Singleton;
            }),
            Object(a.c)([i.k], e.prototype, "EnsureLoaded", null),
            Object(a.c)([i.k], e.prototype, "ToggleMinimized", null),
            Object(a.c)([i.k], e.prototype, "SetMinimizedList", null),
            Object(a.c)([i.C], e.prototype, "m_mapMinimizedState", void 0),
            e
          );
        })();
      function l() {
        var e = r.c.GetEditModel(),
          t = e.GetSaleSections().map(function (e) {
            return "SaleSection_" + e.unique_id;
          });
        t.push(
          "SalePageEdit_Config",
          "sale_header",
          "sale_artwork_section",
          "product_banner",
          "product_mobile_banner",
          "SalePageEdit_TaggedItems"
        ),
          o.Get().SetMinimizedList(e, t, !0);
      }
      function s(e, t) {
        void 0 === t && (t = !1);
        var n = r.c.GetEditModel();
        return o.Get().IsMinimized(n, e, t);
      }
      function c(e, t) {
        void 0 === t && (t = !1);
        var n = r.c.GetEditModel();
        return o.Get().ToggleMinimized(n, e, t);
      }
    },
    nvcf: function (e, t, n) {
      e.exports = {
        EventCategoryCtn: "partnereventsalewidgeteditor_EventCategoryCtn_46KWq",
        EventCategoryWidth:
          "partnereventsalewidgeteditor_EventCategoryWidth_3SyzC",
        SingleLine: "partnereventsalewidgeteditor_SingleLine_JPNIC",
      };
    },
    oqmg: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return Z;
      }),
        n.d(t, "c", function () {
          return ne;
        }),
        n.d(t, "d", function () {
          return ae;
        }),
        n.d(t, "e", function () {
          return ie;
        }),
        n.d(t, "a", function () {
          return pe;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("fcuX"),
        l = n("KP/B"),
        s = n("226m"),
        c = n("i3zJ"),
        d = n("UvY0"),
        u = n("2vnA"),
        p = n("TyAF"),
        m = n("q1tI"),
        _ = n("Cs6D"),
        g = n("vwsU"),
        E = n("dsQf"),
        b = n.n(E),
        v = n("TtDX"),
        h = n("3+zv"),
        f = n("5eAM"),
        S = n("R+8l"),
        O = n("oVVc"),
        y = n("y+6m"),
        C = n("Mgs7"),
        j = n("qP7j"),
        T = n("fpVW"),
        I = n("gyoR"),
        D = n("MnIK"),
        w = n("Jqb/"),
        G = n("ka0M"),
        A = n("xnZ7"),
        M = n.n(A),
        k = n("0OaU"),
        L = n("+d9t"),
        N = n("qiKp"),
        B = n("exH9"),
        R = n("TLQK"),
        F = n("opsS"),
        P = n("bS9Q"),
        x = n("IzPI"),
        U = n("lkRc"),
        H = n("as1E"),
        V = n("k3PP"),
        z = n("JiI5"),
        W = n("IMce"),
        q = n("mHFc"),
        Y = n("165M"),
        J = n("putg");
      function Q(e) {
        return (e = (e = (e = e.replace('"', " ")).replace("<", " ")).replace(
          ">",
          " "
        )).trim();
      }
      function Z(e) {
        var t = null,
          n = "",
          a = !1,
          i = null == e ? void 0 : e.type;
        if ("bundle" === i)
          (t = S.a.GetBundleInfo(e.id)),
            (n = U.c.STORE_BASE_URL + "bundle/" + e.id),
            (a = !t);
        else if ("sub" === i)
          (t = O.b.GetPackageInfo(e.id)),
            (n = U.c.STORE_BASE_URL + "sub/" + e.id),
            (a = !t);
        else if (i) {
          f.a.LoadAppLinkInfo([e.id]);
          var r = f.a.GetAppLinkInfo(e.id);
          (t = r && r.name ? r : null),
            (n = U.c.STORE_BASE_URL + "app/" + e.id),
            (a = !t && f.a.BHasAppLinkLoaded(e.id));
        }
        return { appData: t, linkURL: n, bInvalidID: a };
      }
      var K = function (e) {
          return m.createElement("img", {
            className: M.a.RemoveIcon,
            src: b.a,
            onClick: e.onClick,
          });
        },
        X = function (e) {
          var t,
            n = e.clause;
          if (!(null === (t = n.or_tags) || void 0 === t ? void 0 : t.length))
            return null;
          var a =
              ("Must have" === n.type
                ? Object(R.f)("#Sale_TagFilter_MustHave")
                : Object(R.f)("#Sale_TagFilter_MustNotHave")) +
              " '" +
              n.or_tags.join("' " + Object(R.f)("#Sale_TagFilter_Or") + " '") +
              "'",
            i = "Must have" === n.type ? W.MustHaveClause : W.MustNotHaveClause;
          return m.createElement(
            "div",
            { className: Object(B.a)(i, W.ClauseRowCtn) },
            a
          );
        },
        $ = function (e) {
          var t = e.filter;
          return Object(l.q)(t)
            ? m.createElement(
                "div",
                { className: W.FilterDisplayNoFilter },
                Object(R.f)("#Sale_TagFilter_NoFilter"),
                m.createElement(V.d, {
                  tooltip: Object(R.f)("#Sale_TagFilter_NoFilter_ttip"),
                })
              )
            : m.createElement(
                "div",
                { className: W.FilterDisplayList },
                t.clauses.map(function (e, t) {
                  return m.createElement(X, { clause: e, key: "clause" + t });
                })
              );
        },
        ee = (function () {
          function e(e) {
            this.m_storageKey = "RecentTags_" + e;
            var t = window.localStorage.getItem(this.m_storageKey);
            this.m_Tags = t ? JSON.parse(t) : [];
          }
          return (
            (e.prototype.GetRecentTags = function () {
              return this.m_Tags;
            }),
            (e.prototype.AddRecentTag = function (e) {
              var t = this.m_Tags.filter(function (t) {
                return t.toLocaleLowerCase() !== e.toLocaleLowerCase();
              });
              this.m_Tags = Object(a.g)([e], t).slice(0, 20);
              var n = JSON.stringify(this.m_Tags);
              window.localStorage.setItem(this.m_storageKey, n);
            }),
            (e.Get = function (t) {
              var n = e.m_mapStores.get(t.GetEventModel().GID);
              return (
                n ||
                  ((n = new e(t.GetEventModel().GID)),
                  e.m_mapStores.set(t.GetEventModel().GID, n)),
                n
              );
            }),
            (e.m_mapStores = new Map()),
            Object(a.c)([u.C], e.prototype, "m_Tags", void 0),
            e
          );
        })(),
        te = Object(p.a)(function (e) {
          var t = e.id,
            n = e.type,
            a = e.name;
          return m.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            m.createElement(
              "div",
              { className: M.a.GameImageContainer },
              m.createElement("img", {
                src: Object(x.d)(Number(t)),
                className: M.a.AvatarImage,
              })
            ),
            Object(P.b)(a),
            "",
            m.createElement("span", null, "(", t, ")"),
            "",
            m.createElement("span", { className: z.SmallText }, "(", n, ")")
          );
        }),
        ne = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.m_currentRequest = 0), (t.m_refInput = m.createRef()), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnAddItem = function (e, t) {
              (this.m_refInput.current.element.value = ""),
                this.props.onAddItem(e, t);
            }),
            (t.prototype.UpdateAppSuggestions = function (e) {
              return Object(a.b)(this, void 0, void 0, function () {
                var t,
                  n = this;
                return Object(a.e)(this, function (i) {
                  return (t = e.target.value) && 0 != t.trim().length
                    ? (window.clearTimeout(this.m_currentRequest),
                      (this.m_currentRequest = window.setTimeout(function () {
                        return Object(a.b)(n, void 0, void 0, function () {
                          var e,
                            n,
                            i,
                            o,
                            l,
                            s,
                            c,
                            d,
                            u,
                            p,
                            _,
                            g = this;
                          return Object(a.e)(this, function (a) {
                            switch (a.label) {
                              case 0:
                                return (
                                  (e = new Array()),
                                  0 !== t.indexOf("https://")
                                    ? [3, 1]
                                    : ((n = t.split("/")),
                                      (i = n.indexOf("app")),
                                      (o =
                                        i > -1 &&
                                        n.length > i + 1 &&
                                        n[i + 1]) &&
                                        e.push({
                                          id: o,
                                          name: n[-1],
                                          type: "game",
                                        }),
                                      (l = n.indexOf("bundle")),
                                      (s =
                                        l > -1 &&
                                        n.length > l + 1 &&
                                        n[l + 1]) &&
                                        e.push({
                                          id: s,
                                          name: n[-1],
                                          type: "bundle",
                                        }),
                                      (c = n.indexOf("sub")),
                                      (d =
                                        c > -1 &&
                                        n.length > c + 1 &&
                                        n[c + 1]) &&
                                        e.push({
                                          id: d,
                                          name: n[-1],
                                          type: "sub",
                                        }),
                                      [3, 3])
                                );
                              case 1:
                                return (
                                  (u =
                                    U.c.STORE_BASE_URL +
                                    "events_promotion_admin/ajaxitemsuggest"),
                                  (p = {
                                    term: t.replace(" ", "+"),
                                    cc: U.c.COUNTRY,
                                    l: U.c.LANGUAGE,
                                  }),
                                  [
                                    4,
                                    r.a.get(u, {
                                      params: p,
                                      withCredentials: !0,
                                    }),
                                  ]
                                );
                              case 2:
                                (_ = a.sent()).data && (e = _.data),
                                  (a.label = 3);
                              case 3:
                                return (
                                  e &&
                                    (this.m_searchResultsMenu = Object(v.a)(
                                      m.createElement(
                                        y.c,
                                        { className: z.SearchResults },
                                        e.map(function (e) {
                                          return m.createElement(
                                            y.d,
                                            {
                                              key: e.id,
                                              onSelected: function () {
                                                return g.OnAddItem(
                                                  Number(e.id),
                                                  e.type
                                                );
                                              },
                                            },
                                            m.createElement(te, {
                                              name: e.name,
                                              id: Number(e.id),
                                              type: e.type,
                                            })
                                          );
                                        })
                                      ),
                                      this.m_refInput.current.element,
                                      {
                                        bOverlapHorizontal: !0,
                                        bMatchWidth: !0,
                                        bFitToWindow: !0,
                                        bDisablePopTop: !0,
                                      }
                                    )),
                                  [2]
                                );
                            }
                          });
                        });
                      }, 300)),
                      [2])
                    : [2];
                });
              });
            }),
            (t.prototype.render = function () {
              var e = this;
              return m.createElement(
                "div",
                { className: z.SaleImportURL },
                m.createElement(C.l, {
                  type: "text",
                  label: Object(R.f)("#Sale_SelectApps"),
                  onChange: this.UpdateAppSuggestions,
                  placeholder: Object(R.f)("#Sale_SelectApps_Placeholder"),
                  onBlur: function () {
                    setTimeout(function () {
                      return (
                        e.m_searchResultsMenu && e.m_searchResultsMenu.Hide()
                      );
                    }, 200);
                  },
                  ref: this.m_refInput,
                  tooltip: Object(R.f)("#Sale_SelectApps_Tooltip"),
                })
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnAddItem", null),
            Object(a.c)([F.a], t.prototype, "UpdateAppSuggestions", null),
            t
          );
        })(m.Component),
        ae = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.capsuleContainer,
                i = Object(l.o)(n);
              (a.sale_tag_filter = e),
                (a.capsules = Object(l.r)(i, e, a.capsules));
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.capsuleContainer;
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: e.sale_tag_filter || { clauses: [] },
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreStartingReferences: e,
                }),
                window
              );
            }),
            (t.prototype.render = function () {
              var e = this.props.capsuleContainer;
              return m.createElement(
                "div",
                { className: W.FilterDisplayCtn },
                m.createElement(
                  "div",
                  { className: W.FilterTitle },
                  Object(R.f)("#Sale_TagFilter_CurrentFilter"),
                  m.createElement(V.d, {
                    tooltip: Object(R.f)("#Sale_TagFilter_EditFilter_ttip"),
                  })
                ),
                m.createElement(
                  "div",
                  { className: W.FilterActionsCtn },
                  m.createElement($, { filter: e.sale_tag_filter }),
                  m.createElement(
                    C.d,
                    { onClick: this.OnEditFilter },
                    Object(R.f)("#Sale_TagFilter_EditFilter")
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnEditFilter", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        ie = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bShowItemEditor: !1,
                strSearch: "",
                bShowFiltered: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.RemoveTagItem = function (e) {
              var t = this.props.editModel,
                n = t.GetEventModel().GetTaggedItems();
              e >= 0 &&
                e < n.length &&
                (n.splice(e, 1), t.SetDirty(o.c.jsondata_sales));
            }),
            (t.prototype.AddTagItem = function (e, t) {
              Object(l.b)(this.props.editModel, t, e);
            }),
            (t.prototype.UpdateSearchText = function (e) {
              this.setState({ strSearch: e.target.value.toLowerCase() });
            }),
            (t.prototype.OnExploreTags = function () {
              var e = { clauses: new Array() };
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: e,
                  title: Object(R.f)("#Sale_TagFilter_Explore"),
                }),
                window
              );
            }),
            (t.prototype.OnBatchEditTags = function () {
              Object(G.d)(
                m.createElement(de, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnEditAutoTags = function () {
              Object(G.d)(
                m.createElement(be, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = this.props.editModel;
              (t.GetEventModel().jsondata.tagged_item_filter = e),
                Object(l.u)(t),
                t.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnEditFilter = function () {
              var e = this.props.editModel;
              Object(G.d)(
                m.createElement(pe, {
                  editModel: e,
                  filter: Object(l.p)(e),
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                  onApplyFilter: this.OnApplyFilter,
                  ignoreEventFilter: !0,
                }),
                window
              );
            }),
            (t.prototype.OnShowFiltered = function (e) {
              this.setState({ bShowFiltered: e });
            }),
            (t.prototype.OnShowItemEditor = function () {
              this.setState({ bShowItemEditor: !0 });
            }),
            (t.prototype.OnEditRaw = function (e) {
              Object(G.d)(
                m.createElement(_e, {
                  editModel: this.props.editModel,
                  bRemoveMissingEntries: !0,
                }),
                window
              );
            }),
            (t.prototype.OnEditRawCustom = function (e) {
              Object(G.d)(
                m.createElement(_e, {
                  editModel: this.props.editModel,
                  collection: l.j.Custom,
                  bRemoveMissingEntries: !1,
                }),
                window
              );
            }),
            (t.prototype.OnDeleteFiltered = function () {
              var e = this.props.editModel;
              Object(l.g)(e) && e.SetDirty(o.c.jsondata_sales);
            }),
            (t.prototype.OnSync = function (e) {
              Object(G.d)(
                m.createElement(ge, { editModel: this.props.editModel }),
                window
              );
            }),
            (t.prototype.OnImportDiscountEvent = function (e) {
              var t = this;
              Object(G.d)(
                m.createElement(c.a, {
                  onDiscountEventSelected: function (e, n) {
                    return Object(a.b)(t, void 0, void 0, function () {
                      var t, i, r;
                      return Object(a.e)(this, function (a) {
                        switch (a.label) {
                          case 0:
                            return (
                              (t = this.props.editModel),
                              (i = t.GetEventModel().GetTaggedItems()),
                              (r = new Array()),
                              e.forEach(function (e) {
                                if (
                                  !i.find(function (t) {
                                    return (
                                      t.capsule.id === e &&
                                      "sub" !== t.capsule.type
                                    );
                                  })
                                ) {
                                  var t = f.a.GetAppLinkInfo(e);
                                  r.push({
                                    capsule: {
                                      id: e,
                                      type: t ? t.type : "game",
                                    },
                                    tags: [],
                                  });
                                }
                              }),
                              n.forEach(function (e) {
                                i.find(function (t) {
                                  return (
                                    t.capsule.id === e &&
                                    "sub" === t.capsule.type
                                  );
                                }) ||
                                  r.push({
                                    capsule: { id: e, type: "sub" },
                                    tags: [],
                                  });
                              }),
                              0 == r.length ? [2] : [4, Object(l.w)(t, r)]
                            );
                          case 1:
                            return (
                              a.sent(),
                              i.push.apply(i, r),
                              t.SetDirty(o.c.jsondata_sales),
                              [2]
                            );
                        }
                      });
                    });
                  },
                }),
                window
              );
            }),
            (t.prototype.RenderEditPrompt = function () {
              return m.createElement(
                "div",
                { className: W.TagItemEditorCtn },
                m.createElement(
                  "div",
                  { className: W.ItemEditDescription },
                  Object(R.f)("#Sale_EditTags_EnableItemEditingDesc")
                ),
                m.createElement(
                  C.q,
                  { onClick: this.OnShowItemEditor },
                  Object(R.f)("#Sale_EditTags_EnableItemEditing")
                )
              );
            }),
            (t.prototype.RenderItemList = function () {
              var e = this,
                t = this.state,
                n = t.strSearch,
                a = t.bShowFiltered,
                i = this.props.editModel,
                r = Object(l.p)(i),
                o = 0,
                s = 0,
                c = i.GetEventModel().GetTaggedItems();
              Object(I.i)(
                c.map(function (e) {
                  return e.capsule;
                })
              );
              var u = c.map(function (t, c) {
                  var d = Object(l.h)(t.tags, r);
                  return (
                    d ? o++ : s++,
                    d || a
                      ? m.createElement(re, {
                          key: t.capsule.type + t.capsule.id,
                          item: t,
                          strSearchFilter: n,
                          editModel: i,
                          onRemove: function () {
                            return e.RemoveTagItem(c);
                          },
                        })
                      : null
                  );
                }),
                p =
                  (i.GetEventModel().jsondata.sale_opt_in_page_name,
                  Object(q.a)("TaggedItemList", !1));
              return m.createElement(
                "div",
                { className: Object(B.a)(W.ItemListCtn, W.TagItemEditorCtn) },
                m.createElement(
                  "div",
                  { className: W.ItemListTitle },
                  m.createElement(
                    "div",
                    { className: H.SaleSectionTitleHeader },
                    m.createElement(
                      "div",
                      { className: T.EventEditorTextTitle },
                      s > 0
                        ? Object(R.f)("#Sale_TaggedItemsCountFiltered", o, s)
                        : Object(R.f)("#Sale_TaggedItemsCount", o),
                      m.createElement(V.d, {
                        tooltip: Object(R.f)("#Sale_TaggedItemsCount_ttip"),
                      })
                    ),
                    m.createElement(Y.a, {
                      bIsMinimized: p,
                      fnToggleMinimize: function () {
                        return Object(q.d)("TaggedItemList", !1);
                      },
                    })
                  ),
                  m.createElement(
                    "div",
                    { className: W.ItemListControls },
                    m.createElement(
                      "div",
                      { className: W.ButtonRow },
                      m.createElement(
                        C.d,
                        { onClick: this.OnExploreTags },
                        Object(R.f)("#Sale_Explore"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)("#Sale_ExploreTaggedItems_ttip"),
                        })
                      ),
                      m.createElement(
                        C.d,
                        { onClick: this.OnEditRaw },
                        Object(R.f)("#Sale_EditRaw"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)("#Sale_EditRawTaggedItems_ttip"),
                        })
                      ),
                      m.createElement(
                        C.d,
                        { onClick: this.OnSync },
                        Object(R.f)("#Sale_SyncTaggedItems"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)("#Sale_SyncTaggedItems_ttip"),
                        })
                      )
                    ),
                    m.createElement(
                      d.b,
                      { clanSteamID: i.GetClanSteamID() },
                      m.createElement(
                        "div",
                        { className: W.ButtonRow },
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditFilter },
                          Object(R.f)("#Sale_EditTaggedItemFilter"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTaggedItemFilter_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnImportDiscountEvent },
                          Object(R.f)("#Sale_DiscountEvent_Add"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)("#Sale_DiscountEvent_ttip"),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditRawCustom },
                          Object(R.f)("#Sale_EditRawCustom"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditRawCustomTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnBatchEditTags },
                          Object(R.f)("#Sale_BatchEditTaggedItems"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_BatchEditTaggedItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          C.d,
                          { onClick: this.OnEditAutoTags },
                          Object(R.f)("#Sale_EditAutoTags"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)("#Sale_EditAutoTags_ttip"),
                          })
                        ),
                        s > 0 &&
                          m.createElement(
                            C.d,
                            { onClick: this.OnDeleteFiltered },
                            Object(R.f)("#Sale_DeleteFilteredItems"),
                            m.createElement(V.d, {
                              tooltip: Object(R.f)(
                                "#Sale_DeleteFilteredItems_ttip"
                              ),
                            })
                          )
                      )
                    )
                  )
                ),
                !p &&
                  m.createElement(
                    "div",
                    { className: W.ItemList },
                    s > 0 &&
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_ShowFilteredTaggedItems"),
                        tooltip: Object(R.f)(
                          "#Sale_ShowFilteredTaggedItems_ttip"
                        ),
                        checked: this.state.bShowFiltered,
                        onChange: this.OnShowFiltered,
                      }),
                    m.createElement(C.l, {
                      type: "text",
                      label: Object(R.f)("#Sale_TaggedItemsFilter"),
                      placeholder: Object(R.f)("#Sale_TaggedItemsFilter"),
                      onChange: this.UpdateSearchText,
                      tooltip: Object(R.f)("#Sale_TaggedItemsFilter_ttip"),
                    }),
                    u
                  )
              );
            }),
            (t.prototype.render = function () {
              var e = this.state.bShowItemEditor,
                t = this.props.editModel,
                n = t.GetEventModel().GetTaggedItems();
              return m.createElement(
                m.Fragment,
                null,
                m.createElement(
                  "div",
                  { className: W.TagItemEditorCtn },
                  m.createElement(
                    d.b,
                    { clanSteamID: t.GetClanSteamID(), requireAdmin: !0 },
                    m.createElement(V.c, { editModel: t })
                  )
                ),
                t.GetEventModel().jsondata.item_source_type !==
                  h.n.k_EContentHub &&
                  m.createElement(
                    m.Fragment,
                    null,
                    (null == n ? void 0 : n.length) || e
                      ? m.createElement(
                          m.Fragment,
                          null,
                          m.createElement(ne, { onAddItem: this.AddTagItem }),
                          this.RenderItemList()
                        )
                      : this.RenderEditPrompt()
                  ),
                t.GetEventModel().jsondata.item_source_type !==
                  h.n.k_ETaggedItems &&
                  m.createElement(
                    d.b,
                    { clanSteamID: t.GetClanSteamID() },
                    m.createElement(
                      "div",
                      { className: W.ButtonRow },
                      m.createElement(
                        C.d,
                        { onClick: this.OnEditAutoTags },
                        Object(R.f)("#Sale_EditAutoTags"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)("#Sale_EditAutoTags_ttip"),
                        })
                      )
                    )
                  )
              );
            }),
            Object(a.c)([F.a], t.prototype, "RemoveTagItem", null),
            Object(a.c)([F.a], t.prototype, "AddTagItem", null),
            Object(a.c)([F.a], t.prototype, "UpdateSearchText", null),
            Object(a.c)([F.a], t.prototype, "OnExploreTags", null),
            Object(a.c)([F.a], t.prototype, "OnBatchEditTags", null),
            Object(a.c)([F.a], t.prototype, "OnEditAutoTags", null),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnEditFilter", null),
            Object(a.c)([F.a], t.prototype, "OnShowFiltered", null),
            Object(a.c)([F.a], t.prototype, "OnShowItemEditor", null),
            Object(a.c)([F.a], t.prototype, "OnEditRaw", null),
            Object(a.c)([F.a], t.prototype, "OnEditRawCustom", null),
            Object(a.c)([F.a], t.prototype, "OnDeleteFiltered", null),
            Object(a.c)([F.a], t.prototype, "OnSync", null),
            Object(a.c)([F.a], t.prototype, "OnImportDiscountEvent", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        re = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (t.state = { expanded: !1 }), t;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.OnEditTags = function () {
              Object(G.d)(
                m.createElement(ce, {
                  editModel: this.props.editModel,
                  item: this.props.item,
                  onTagsModified: this.props.onTagsModified,
                }),
                window
              );
            }),
            (t.prototype.OnToggleTags = function () {
              this.setState({ expanded: !this.state.expanded });
            }),
            (t.prototype.render = function () {
              var e,
                t = this.props,
                n = t.item,
                a = t.onRemove,
                i = t.strSearchFilter,
                r = t.tagHighlight,
                o = t.filter,
                l = n.capsule,
                s = Z(l),
                c = s.appData,
                d = s.linkURL,
                u = s.bInvalidID,
                p = Object(R.f)("#AppType_" + l.type),
                _ = c ? c.appid || c.bundleid || c.packageid : l.id,
                g = c ? c.name : null;
              if (
                i &&
                (g || "").toLowerCase().search(i) < 0 &&
                String(_ || "").search(i) < 0
              )
                return null;
              var E = r ? r.toLocaleLowerCase() : void 0;
              return m.createElement(
                D.a,
                { className: W.TagItemCtn },
                m.createElement(
                  L.b,
                  {
                    className: W.TagItemImageCtn,
                    bDisableContextMenu: !0,
                    href: d,
                  },
                  c
                    ? m.createElement("img", {
                        loading: "lazy",
                        className: z.SaleCapsuleImg,
                        src: c.header_image_url,
                      })
                    : null
                ),
                m.createElement(
                  "div",
                  { className: W.NameAndTagCtn },
                  m.createElement(
                    "div",
                    { className: W.NameCtn },
                    g,
                    "(",
                    _,
                    ")",
                    m.createElement(
                      "span",
                      { className: z.SmallText },
                      "(",
                      p,
                      ")"
                    ),
                    u &&
                      m.createElement(
                        "div",
                        { className: z.SaleCapsuleConflict },
                        Object(R.f)("#Sale_NotFoundCapsule"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)(
                            "#Sale_NotFoundCapsule_Tooltip",
                            p,
                            l.id
                          ),
                        })
                      )
                  ),
                  m.createElement(
                    "div",
                    { className: W.TagSummaryCtn },
                    m.createElement(
                      "span",
                      { className: W.TagSummary, onClick: this.OnEditTags },
                      Object(R.f)(
                        "#Sale_EditTags_TagCount",
                        (null === (e = n.tags) || void 0 === e
                          ? void 0
                          : e.length) || 0
                      )
                    ),
                    m.createElement(
                      "span",
                      {
                        className: W.TagShowToggle,
                        onClick: this.OnToggleTags,
                      },
                      Object(R.f)(
                        this.state.expanded
                          ? "#Sale_EditTags_Hide"
                          : "#Sale_EditTags_Show"
                      )
                    )
                  ),
                  this.state.expanded &&
                    m.createElement(
                      "div",
                      { onClick: this.OnEditTags },
                      m.createElement(le, {
                        item: n,
                        lowerTagHighlight: E,
                        filter: o,
                      })
                    )
                ),
                a && m.createElement(K, { onClick: a })
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnEditTags", null),
            Object(a.c)([F.a], t.prototype, "OnToggleTags", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function oe(e, t, n) {
        var a,
          i = e.toLocaleLowerCase();
        if (t && i === t) return W.TagHighlight;
        if (null == n ? void 0 : n.clauses)
          for (var r = 0, o = n.clauses; r < o.length; r++) {
            var l = o[r];
            if (
              null === (a = l.or_tags) || void 0 === a
                ? void 0
                : a.find(function (e) {
                    return i === e.toLocaleLowerCase();
                  })
            )
              return "Must have" === l.type ? W.TagMustHave : W.TagMustNotHave;
          }
        return null;
      }
      var le = Object(p.a)(function (e) {
          var t = e.item,
            n = Array.from(t.tags),
            a = (function (e, t) {
              var n;
              if (!(null == t ? void 0 : t.clauses)) return null;
              for (var a = null, i = 0, r = t.clauses; i < r.length; i++) {
                var o = r[i];
                if (
                  "Must have" === o.type &&
                  (null === (n = o.or_tags) || void 0 === n ? void 0 : n.length)
                ) {
                  for (
                    var l = !1,
                      s = 0,
                      c = function (t) {
                        if (
                          t &&
                          (s++,
                          e.find(function (e) {
                            return e === t;
                          }))
                        )
                          return (l = !0), "break";
                      },
                      d = 0,
                      u = o.or_tags;
                    d < u.length && "break" !== c(u[d]);
                    d++
                  );
                  s > 0 &&
                    !l &&
                    (a = a || []).push(
                      Object(R.f)("#Sale_TagFilter_Missing") +
                        o.or_tags.join(
                          " " + Object(R.f)("#Sale_TagFilter_Or") + " "
                        )
                    );
                }
              }
              return a;
            })(t.tags, e.filter);
          return 0 !== n.length || a
            ? (n.sort(function (e, t) {
                return e.localeCompare(t);
              }),
              m.createElement(
                "div",
                { className: W.TagListCtn },
                n.map(function (t) {
                  return m.createElement(se, {
                    key: t,
                    tag: t,
                    className: oe(t, e.lowerTagHighlight, e.filter),
                  });
                }),
                a &&
                  a.map(function (e) {
                    return m.createElement(se, {
                      key: e,
                      tag: e,
                      className: W.TagMissingMustHave,
                    });
                  })
              ))
            : m.createElement(
                "div",
                { className: W.TagListCtn },
                Object(R.f)("#Sale_TagFilter_AddTags")
              );
        }),
        se = function (e) {
          var t = Object(l.k)(e.tag);
          return m.createElement(
            "div",
            {
              className: Object(B.a)(
                W.ItemTag,
                e.className,
                t && "TagCollection_" + t
              ),
            },
            e.tag
          );
        },
        ce = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                currentTags: Object(a.g)(t.props.item.tags),
                defaultTags: null,
                otherTags: null,
                startingSections: t.GetIncludedSections(t.props.item.tags),
                includedSections: t.GetIncludedSections(t.props.item.tags),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.LoadAppDefaultTags();
            }),
            (t.prototype.GetIncludedSections = function (e) {
              var t = this.props,
                n = t.editModel,
                a = t.item,
                i = [],
                r = a.capsule;
              return (
                n
                  .GetEventModel()
                  .GetSaleSections()
                  .forEach(function (t, a) {
                    var o = !1;
                    t.sale_tag_filter
                      ? (o = Object(l.h)(e, t.sale_tag_filter))
                      : t.capsules &&
                        (o = Boolean(
                          t.capsules.find(function (e) {
                            return e.type === r.type && e.id === r.id;
                          })
                        )),
                      o &&
                        i.push(
                          Object(V.b)(t, n.GetCurEditLanguage(), n, a, !0)
                        );
                  }),
                i.sort(function (e, t) {
                  return e.localeCompare(t);
                }),
                i
              );
            }),
            (t.prototype.LoadAppDefaultTags = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, o;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = { capsule: this.props.item.capsule, tags: [] }),
                        [4, Object(l.w)(this.props.editModel, [e])]
                      );
                    case 1:
                      for (
                        a.sent(),
                          t = new Set(),
                          e.tags.forEach(function (e) {
                            return t.add(e);
                          }),
                          n = new Map(),
                          i = 0,
                          r = this.props.editModel
                            .GetEventModel()
                            .GetTaggedItems();
                        i < r.length;
                        i++
                      )
                        (o = r[i]).tags &&
                          o.tags.forEach(function (e) {
                            return n.set(e.toLocaleLowerCase(), e);
                          });
                      return (
                        t.forEach(function (e) {
                          return n.set(e.toLocaleLowerCase(), e);
                        }),
                        this.setState({ defaultTags: t, otherTags: n }),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.UpdateTagList = function (e) {
              this.setState({
                currentTags: e,
                includedSections: this.GetIncludedSections(e),
              });
            }),
            (t.prototype.RemoveTag = function (e) {
              var t = e.toLocaleLowerCase(),
                n = this.state.currentTags.filter(function (e) {
                  return e.toLocaleLowerCase() != t;
                });
              this.UpdateTagList(n);
            }),
            (t.prototype.AddTag = function (e) {
              var t = this.state.currentTags,
                n = (e = Q(e)).toLocaleLowerCase();
              if (
                (ee.Get(this.props.editModel).AddRecentTag(e),
                !t.find(function (e) {
                  return e.toLocaleLowerCase() === n;
                }))
              ) {
                var i = this.state.otherTags.get(n);
                i && (e = i), this.UpdateTagList(Object(a.g)(t, [e]));
              }
            }),
            (t.prototype.OnOK = function () {
              Object(l.c)(this.props.item, this.state.currentTags) &&
                (Object(l.v)(
                  this.props.editModel.GetEventModel().jsondata.auto_item_tags,
                  this.props.item
                ),
                Object(l.u)(this.props.editModel),
                this.props.onTagsModified && this.props.onTagsModified(),
                this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.RenderSectionList = function () {
              var e = this.state,
                t = e.startingSections;
              return e.includedSections.map(function (e, n) {
                var a = !t.find(function (t) {
                  return e === t;
                });
                return m.createElement(
                  "div",
                  {
                    key: n,
                    className: a ? W.SectionAdded : W.SectionUnchanged,
                  },
                  e
                );
              });
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.item,
                i = t.closeModal,
                r = this.state,
                o = r.currentTags,
                l = r.defaultTags,
                s = r.otherTags;
              if (!l) return m.createElement(k.a, null);
              var c = new Set();
              o.forEach(function (e) {
                return c.add(e.toLocaleLowerCase());
              });
              var d = Object(a.g)(o);
              d.sort(function (e, t) {
                return e.localeCompare(t);
              });
              var u = d.map(function (t) {
                  var n = l.has(t),
                    a = Object(B.a)(W.EditTag, W.AppliedTag, n && W.DefaultTag);
                  return m.createElement(
                    "div",
                    {
                      key: t,
                      className: a,
                      onClick: function () {
                        return e.RemoveTag(t);
                      },
                    },
                    t
                  );
                }),
                p = new Array();
              s.forEach(function (e, t) {
                c.has(t) || p.push(e);
              }),
                p.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var _ = [];
              p.forEach(function (t) {
                if (l.has(t)) {
                  var n = Object(B.a)(W.EditTag, W.OtherTag, W.DefaultTag);
                  _.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: n,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                }
              });
              var E = [];
              ee.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  if (!c.has(t.toLocaleLowerCase())) {
                    var n = l.has(t),
                      a = Object(B.a)(W.EditTag, W.OtherTag, n && W.DefaultTag);
                    E.push(
                      m.createElement(
                        "div",
                        {
                          key: t,
                          className: a,
                          onClick: function () {
                            return e.AddTag(t);
                          },
                        },
                        t
                      )
                    );
                  }
                });
              var b = this.RenderSectionList(),
                v = Z(n.capsule).appData,
                h = v ? v.appid || v.bundleid || v.packageid : n.capsule.id,
                f = {
                  option: function (e) {
                    return Object(a.a)(Object(a.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                S = p.map(function (e) {
                  return { label: e, value: e };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: i,
                  closeModal: i,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: j.NotTooWideModal,
                },
                m.createElement(
                  C.k,
                  { className: W.EditTagsTitle },
                  v
                    ? m.createElement("img", {
                        className: z.SaleCapsuleImg,
                        src: v.header_image_url,
                      })
                    : null,
                  m.createElement(
                    "div",
                    { className: W.EditTagsTitleText },
                    v ? v.name : null,
                    " (",
                    h,
                    ")"
                  )
                ),
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    { className: W.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: W.ColumnList },
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Applied", o.length),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: W.TagColumnList },
                          u
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        _.length > 0 &&
                          m.createElement(
                            "div",
                            { className: W.SmallColumn },
                            m.createElement(
                              "div",
                              { className: W.TagColumnTitle },
                              Object(R.f)("#Sale_EditTags_Store", _.length),
                              m.createElement(V.d, {
                                tooltip: Object(R.f)(
                                  "#Sale_EditTags_Store_ttip"
                                ),
                              })
                            ),
                            m.createElement(
                              "div",
                              { className: W.TagColumnList },
                              _
                            )
                          ),
                        m.createElement(
                          "div",
                          { className: W.FillColumn },
                          m.createElement(
                            "div",
                            { className: W.TagColumnTitle },
                            Object(R.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(V.d, {
                              tooltip: Object(R.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: W.TagColumnList },
                            E
                          )
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Sections", b.length),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_Sections_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: W.TagColumnList },
                          b
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: W.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: W.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: f,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: S,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: W.OKButton },
                      m.createElement(
                        C.q,
                        { onClick: this.OnOK },
                        Object(R.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "RemoveTag", null),
            Object(a.c)([F.a], t.prototype, "AddTag", null),
            Object(a.c)([F.a], t.prototype, "OnOK", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        de = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.m_timerForChange = new N.b()),
              (t.state = {
                editItems: t.props.editModel.GetEventModel().GetTaggedItems(),
                modifiedTags: new Map(),
                currentTags: new Map(),
                otherTags: Object(l.n)(
                  t.props.editModel.GetEventModel().GetTaggedItems()
                ),
                editText: "",
                filter: { clauses: new Array() },
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.componentDidMount = function () {
              this.UpdateCurrentTagToItemMap();
            }),
            (t.prototype.CloneModifiedTags = function () {
              var e = new Map();
              return (
                this.state.modifiedTags.forEach(function (t, n) {
                  return e.set(n, t);
                }),
                e
              );
            }),
            (t.prototype.OnApplyFilter = function (e) {
              var t = Object(l.l)(
                  this.props.editModel.GetEventModel().GetTaggedItems(),
                  e
                ),
                n = t.map(function (e) {
                  return e.capsule.id;
                });
              n.sort(function (e, t) {
                return e - t;
              });
              var a = n.join("\n");
              this.setState({ filter: e, editText: a, editItems: t });
            }),
            (t.prototype.OnPopulateFromFilter = function () {
              new Array();
              Object(G.d)(
                m.createElement(pe, {
                  editModel: this.props.editModel,
                  filter: this.state.filter,
                  onApplyFilter: this.OnApplyFilter,
                  title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                }),
                window
              );
            }),
            (t.prototype.RemoveTag = function (e) {
              for (
                var t = this,
                  n = e.toLocaleLowerCase(),
                  a = this.CloneModifiedTags(),
                  i = 0,
                  r = this.state.editItems;
                i < r.length;
                i++
              ) {
                var o = r[i],
                  l = (a.get(o) || o.tags || []).filter(function (e) {
                    return e.toLocaleLowerCase() != n;
                  });
                a.set(o, l);
              }
              this.setState({ modifiedTags: a }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.AddTag = function (e) {
              var t = this,
                n = (e = Q(e)).toLocaleLowerCase(),
                i = this.state.otherTags.get(n);
              i && (e = i.properCaseString);
              var r = this.CloneModifiedTags();
              ee.Get(this.props.editModel).AddRecentTag(e);
              for (var o = 0, l = this.state.editItems; o < l.length; o++) {
                var s = l[o],
                  c = r.get(s) || s.tags || [];
                c.find(function (e) {
                  return e.toLocaleLowerCase() === n;
                }) || r.set(s, Object(a.g)(c, [e]));
              }
              this.setState({ modifiedTags: r }, function () {
                return t.UpdateCurrentTagToItemMap();
              });
            }),
            (t.prototype.OnOK = function () {
              var e = this,
                t = !1;
              this.state.modifiedTags.forEach(function (n, a) {
                Object(l.c)(a, n) &&
                  ((t = !0),
                  Object(l.v)(
                    e.props.editModel.GetEventModel().jsondata.auto_item_tags,
                    a
                  ));
              }),
                t &&
                  (Object(l.u)(this.props.editModel),
                  this.props.editModel.SetDirty(o.c.jsondata_sales)),
                this.props.closeModal();
            }),
            (t.prototype.UpdateCurrentTagToItemMap = function () {
              for (
                var e = new Map(), t = 0, n = this.state.editItems;
                t < n.length;
                t++
              ) {
                var a = n[t],
                  i = this.state.modifiedTags.get(a) || a.tags || [];
                Object(l.a)(a, i, e);
              }
              this.setState({ currentTags: e });
            }),
            (t.prototype.OnUpdateItemListFromText = function () {
              for (
                var e = this,
                  t = this.state.editText,
                  n = /.*?(\d\d\d+)/gm,
                  a = new Set();
                ;

              ) {
                var i = n.exec(t);
                if (null === i) break;
                a.add(Number(i[1]));
              }
              var r = this.props.editModel.GetEventModel().GetTaggedItems();
              a.size > 0 &&
                (r = r.filter(function (e) {
                  return a.has(e.capsule.id);
                })),
                this.setState({ editItems: r }, function () {
                  return e.UpdateCurrentTagToItemMap();
                });
            }),
            (t.prototype.OnTextChanged = function (e) {
              this.setState({ editText: e }),
                this.m_timerForChange.Cancel(),
                this.m_timerForChange.Schedule(
                  300,
                  this.OnUpdateItemListFromText
                );
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props.closeModal,
                n = this.state,
                i = n.editItems,
                r = n.currentTags,
                o = n.otherTags,
                l = new Array();
              r.forEach(function (e, t) {
                l.push({ tag: e.properCaseString, count: e.items.length });
              }),
                l.sort(function (e, t) {
                  return e.tag.localeCompare(t.tag);
                });
              var s = l.map(function (t) {
                  var n = Object(B.a)(W.EditTag, W.AppliedTag);
                  return m.createElement(
                    "div",
                    {
                      key: t.tag,
                      className: n,
                      onClick: function () {
                        return e.RemoveTag(t.tag);
                      },
                    },
                    t.tag + " (" + t.count + ")"
                  );
                }),
                c = new Array();
              o.forEach(function (e, t) {
                c.push(e.properCaseString);
              }),
                c.sort(function (e, t) {
                  return e.localeCompare(t);
                });
              var d = [];
              ee.Get(this.props.editModel)
                .GetRecentTags()
                .forEach(function (t) {
                  var n = Object(B.a)(W.EditTag, W.OtherTag);
                  d.push(
                    m.createElement(
                      "div",
                      {
                        key: t,
                        className: n,
                        onClick: function () {
                          return e.AddTag(t);
                        },
                      },
                      t
                    )
                  );
                });
              var u = i.map(function (e) {
                  var t = Z(e.capsule).appData;
                  return m.createElement(
                    "div",
                    { key: e.capsule.id },
                    t
                      ? m.createElement("img", {
                          className: z.SaleCapsuleImg,
                          src: t.header_image_url,
                        })
                      : null,
                    t ? t.name : null,
                    " (",
                    e.capsule.id,
                    ")"
                  );
                }),
                p = {
                  option: function (e) {
                    return Object(a.a)(Object(a.a)({}, e), {
                      color: "#444444",
                    });
                  },
                },
                E = c.map(function (e) {
                  return { label: e, value: e };
                }),
                b = l.map(function (e) {
                  return { label: e.tag + " (" + e.count + ")", value: e.tag };
                });
              return m.createElement(
                w.e,
                {
                  onCancel: t,
                  closeModal: t,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  className: j.NotTooWideModal,
                },
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    { className: W.EditTagsBody },
                    m.createElement(
                      "div",
                      { className: W.ColumnList },
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_BatchItemText", u.length),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchItemText_ttip"
                            ),
                          })
                        ),
                        m.createElement("textarea", {
                          value: this.state.editText,
                          cols: 60,
                          onChange: function (t) {
                            return e.OnTextChanged(t.currentTarget.value);
                          },
                        }),
                        m.createElement(
                          "div",
                          {
                            className: W.PopulateByFilter,
                            onClick: this.OnPopulateFromFilter,
                          },
                          Object(R.f)("#Sale_EditTags_BatchFilter"),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchFilter_ttip"
                            ),
                          })
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_BatchItems", u.length),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)(
                              "#Sale_EditTags_BatchItems_ttip"
                            ),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: W.TagColumnList },
                          u
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.TagColumnTitle },
                          Object(R.f)("#Sale_EditTags_Applied", r.size),
                          m.createElement(V.d, {
                            tooltip: Object(R.f)("#Sale_EditTags_Applied_ttip"),
                          })
                        ),
                        m.createElement(
                          "div",
                          { className: W.TagColumnList },
                          s
                        )
                      ),
                      m.createElement(
                        "div",
                        { className: W.TagColumn },
                        m.createElement(
                          "div",
                          { className: W.FillColumn },
                          m.createElement(
                            "div",
                            { className: W.TagColumnTitle },
                            Object(R.f)("#Sale_EditTags_RecentTags"),
                            m.createElement(V.d, {
                              tooltip: Object(R.f)(
                                "#Sale_EditTags_RecentTags_ttip"
                              ),
                            })
                          ),
                          m.createElement(
                            "div",
                            { className: W.TagColumnList },
                            d
                          )
                        )
                      )
                    ),
                    m.createElement(
                      "div",
                      { className: W.AddTagCtn },
                      m.createElement(
                        "div",
                        { className: W.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_NewTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_NewTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(g.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) && e.AddTag(t.value);
                        },
                        options: E,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      }),
                      m.createElement(
                        "div",
                        { className: W.TagColumnTitle },
                        Object(R.f)("#Sale_EditTags_RemoveTagName"),
                        m.createElement(V.d, {
                          tooltip: Object(R.f)(
                            "#Sale_EditTags_RemoveTagName_ttip"
                          ),
                        })
                      ),
                      m.createElement(_.a, {
                        styles: p,
                        isSearchable: !0,
                        isMulti: !1,
                        isClearable: !0,
                        onChange: function (t) {
                          (null == t ? void 0 : t.value) &&
                            e.RemoveTag(t.value);
                        },
                        options: b,
                        defaultMenuIsOpen: !1,
                        menuPlacement: "top",
                      })
                    ),
                    m.createElement(
                      "div",
                      { className: W.OKButton },
                      m.createElement(
                        C.q,
                        { onClick: this.OnOK },
                        Object(R.f)("#Sale_TagFilter_OK")
                      )
                    )
                  )
                )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnApplyFilter", null),
            Object(a.c)([F.a], t.prototype, "OnPopulateFromFilter", null),
            Object(a.c)([F.a], t.prototype, "RemoveTag", null),
            Object(a.c)([F.a], t.prototype, "AddTag", null),
            Object(a.c)([F.a], t.prototype, "OnOK", null),
            Object(a.c)([F.a], t.prototype, "OnUpdateItemListFromText", null),
            Object(a.c)([F.a], t.prototype, "OnTextChanged", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function ue(e) {
        var t = e.onClauseChanged,
          n = e.value,
          i = e.taggedItems,
          r = e.filter,
          o = e.clauseIndex,
          s = e.tagIndex,
          c = e.rgOptions,
          d = m.useState(new Array()),
          u = d[0],
          p = d[1],
          g = { label: Object(R.f)("#Sale_TagFilter_SelectTag"), value: "" },
          E = n ? { label: n, value: n } : g,
          b = {
            option: function (e) {
              return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
            },
          };
        return m.createElement(_.a, {
          styles: b,
          isSearchable: !0,
          isMulti: !1,
          onChange: function (e) {
            return t(e.value);
          },
          value: E,
          options: u,
          defaultMenuIsOpen: u.length > 0,
          onMenuOpen: function () {
            if (c) p(c);
            else {
              var e = Object(l.n)(i),
                t = [g],
                n = r.clauses[o].or_tags[s];
              r.clauses[o].or_tags[s] = "";
              var a = !0;
              r.clauses.forEach(function (e) {
                e.or_tags.some(Boolean) && (a = !1);
              });
              var d = a ? i : Object(l.l)(i, r),
                u = new Set(
                  d.map(function (e) {
                    return e.capsule.id;
                  })
                );
              e.forEach(function (e) {
                r.clauses[o].or_tags[s] = e.properCaseString;
                var n = 0,
                  i = 0;
                a
                  ? (i =
                      "Must have" === r.clauses[0].type
                        ? d.length - e.items.length
                        : e.items.length)
                  : e.items.forEach(function (e) {
                      var t = Object(l.h)(e.tags, r);
                      t != u.has(e.capsule.id) && (t ? n++ : i++);
                    });
                var c = d.length + n - i;
                t.push({
                  label: e.properCaseString + " (" + c + ")",
                  value: e.properCaseString,
                });
              }),
                (r.clauses[o].or_tags[s] = n),
                t.sort(function (e, t) {
                  return e.value.localeCompare(t.value);
                }),
                p(t);
            }
          },
          onMenuClose: function () {
            p([]);
          },
          menuPlacement: "bottom",
        });
      }
      var pe = (function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (t.state = t.GenerateInitialState()), t;
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.componentDidMount = function () {
            var e = this;
            this.props.editModel.GetEventModel().jsondata.item_source_type !==
              h.n.k_ETaggedItems &&
              this.LoadDropdownOptions().then(function (t) {
                e.setState({
                  tagDropdownOptions: t,
                  bDropdownOptionsLoaded: !0,
                });
              });
          }),
          (t.prototype.LoadDropdownOptions = function () {
            return Object(a.b)(this, void 0, void 0, function () {
              var e, t;
              return Object(a.e)(this, function (n) {
                switch (n.label) {
                  case 0:
                    return [4, me()];
                  case 1:
                    return (
                      (e = n.sent()),
                      (t = [
                        {
                          label: Object(R.f)("#Sale_TagFilter_SelectTag"),
                          value: "",
                        },
                      ]),
                      e.forEach(function (e) {
                        return t.push({ label: e, value: e });
                      }),
                      [2, t]
                    );
                }
              });
            });
          }),
          (t.prototype.GenerateInitialState = function () {
            var e = this.SetupInitialFilter(),
              t = this.GenerateStartingUnreferencedItems();
            return Object(a.a)(
              {
                tagDropdownOptions: this.GenerateTagDropDownOptions(),
                bDropdownOptionsLoaded:
                  this.props.editModel.GetEventModel().jsondata
                    .item_source_type === h.n.k_ETaggedItems,
                currentFilter: e,
                tagHighlight: "",
                showTagBreakdown: !1,
                showMode: "active",
                strSearch: "",
                startingUnreferencedItems: t,
              },
              this.CalcualateItemsAndTags(e, t)
            );
          }),
          (t.prototype.GetFilteredItems = function () {
            return this.props.ignoreEventFilter
              ? this.props.editModel.GetEventModel().GetTaggedItems()
              : Object(l.o)(this.props.editModel);
          }),
          (t.prototype.GenerateStartingUnreferencedItems = function () {
            for (
              var e = this.props.editModel,
                t = new Map(),
                n = 0,
                a = this.GetFilteredItems();
              n < a.length;
              n++
            ) {
              var i = a[n];
              t.set(i.capsule.type + i.capsule.id, i);
            }
            for (
              var r = 0, o = e.GetEventModel().GetSaleSections();
              r < o.length;
              r++
            ) {
              var l = o[r];
              if (
                !this.props.ignoreStartingReferences ||
                l.capsules !== this.props.ignoreStartingReferences.capsules
              )
                for (var s = 0, c = l.capsules; s < c.length; s++) {
                  var d = c[s];
                  t.delete(d.type + d.id);
                }
            }
            return Array.from(t.values());
          }),
          (t.prototype.CalcualateItemsAndTags = function (e, t) {
            this.props.editModel;
            var n = this.GetFilteredItems(),
              a = Object(l.l)(n, e),
              i = new Set(a),
              r = n.filter(function (e) {
                return !i.has(e);
              }),
              o = t.filter(function (e) {
                return !i.has(e);
              });
            return {
              activeItems: a,
              activeTagBreakdown: Object(l.n)(a),
              filteredItems: r,
              filteredTagBreakdown: Object(l.n)(r),
              unusedItems: o,
              unusedTagBreakdown: Object(l.n)(o),
            };
          }),
          (t.prototype.GenerateTagDropDownOptions = function () {
            var e = Object(l.n)(this.GetFilteredItems()),
              t = [
                { label: Object(R.f)("#Sale_TagFilter_SelectTag"), value: "" },
              ];
            return (
              e.forEach(function (e) {
                return t.push({
                  label: e.properCaseString + " (" + e.items.length + ")",
                  value: e.properCaseString,
                });
              }),
              t.sort(function (e, t) {
                return e.value.localeCompare(t.value);
              }),
              t
            );
          }),
          (t.prototype.SanitizeFilter = function (e) {
            for (var t, n = 0, a = e.clauses; n < a.length; n++) {
              var i = a[n];
              i.or_tags =
                null === (t = i.or_tags) || void 0 === t
                  ? void 0
                  : t.filter(function (e) {
                      return Boolean(e);
                    });
            }
            e.clauses = e.clauses.filter(function (e) {
              var t;
              return Boolean(
                null === (t = e.or_tags) || void 0 === t ? void 0 : t.length
              );
            });
          }),
          (t.prototype.SetupInitialFilter = function () {
            var e = Object(l.e)(this.props.filter);
            this.SanitizeFilter(e),
              e.clauses || (e.clauses = new Array()),
              0 === e.clauses.length &&
                e.clauses.push({ type: "Must have", or_tags: new Array("") });
            for (var t = 0, n = e.clauses; t < n.length; t++) {
              var a = n[t];
              (a.or_tags && 0 !== a.or_tags.length) ||
                (a.or_tags = new Array(""));
            }
            return e;
          }),
          (t.prototype.RenderFilterClause = function (e, t) {
            var n,
              a = this,
              i = [
                {
                  label: Object(R.f)("#Sale_TagFilter_MustHave"),
                  data: "Must have",
                },
                {
                  label: Object(R.f)("#Sale_TagFilter_MustNotHave"),
                  data: "Must not have",
                },
              ],
              r = this.GetFilteredItems();
            this.props.editModel.GetEventModel().jsondata.item_source_type !==
              h.n.k_ETaggedItems && (n = this.state.tagDropdownOptions);
            var o = e.or_tags.map(function (e, i) {
                return m.createElement(
                  "div",
                  { className: W.ClauseTagList, key: "Clause" + t + "_" + i },
                  i > 0 &&
                    m.createElement(
                      "div",
                      { className: W.OrLabel },
                      Object(R.f)("#Sale_TagFilter_Or")
                    ),
                  m.createElement(
                    "div",
                    { className: W.TagDropDown },
                    m.createElement(ue, {
                      taggedItems: r,
                      value: e,
                      onClauseChanged: function (e) {
                        return a.OnChangeClauseTag(t, i, e);
                      },
                      clauseIndex: t,
                      tagIndex: i,
                      filter: a.state.currentFilter,
                      rgOptions: n,
                    })
                  ),
                  i > 0 &&
                    m.createElement(K, {
                      onClick: function () {
                        return a.OnRemoveClauseTagSlot(t, i);
                      },
                    })
                );
              }),
              l =
                "Must have" === e.type ? W.MustHaveClause : W.MustNotHaveClause;
            return m.createElement(
              "div",
              {
                key: "Clause" + t,
                className: Object(B.a)(
                  W.ClauseRowCtn,
                  l,
                  0 === t && W.FirstClause
                ),
              },
              t > 0 &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(K, {
                    onClick: function () {
                      return a.OnRemoveClause(t);
                    },
                  }),
                  m.createElement(
                    "div",
                    { className: W.AndLabel },
                    Object(R.f)("#Sale_TagFilter_And")
                  )
                ),
              m.createElement(
                "div",
                { className: W.ClauseTypeDropDown },
                m.createElement(C.h, {
                  rgOptions: i,
                  selectedOption: e.type,
                  onChange: function (e) {
                    return a.OnChangeClauseType(t, e.data);
                  },
                })
              ),
              o,
              e.or_tags.length < 3 &&
                m.createElement(
                  C.d,
                  {
                    onClick: function () {
                      return a.OnAddClauseTagSlot(t);
                    },
                  },
                  "+",
                  Object(R.f)("#Sale_TagFilter_Or"),
                  m.createElement(V.d, {
                    tooltip: Object(R.f)("#Sale_TagFilter_Or_ttip"),
                  })
                )
            );
          }),
          (t.prototype.RenderFilterControls = function () {
            var e = this,
              t = this.state.currentFilter,
              n = t.clauses.map(function (t, n) {
                return e.RenderFilterClause(t, n);
              });
            return m.createElement(
              "div",
              { className: W.FilterControlsCtn },
              m.createElement(
                "div",
                { className: W.SectionTitle },
                Object(R.f)("#Sale_TagFilter_Filter"),
                m.createElement(V.d, {
                  tooltip: Object(R.f)("#Sale_TagFilter_Filter_ttip"),
                })
              ),
              m.createElement(
                "div",
                { className: W.FilterControlBox },
                n,
                t.clauses.length < 5 &&
                  m.createElement(
                    C.d,
                    { onClick: this.OnAddClause },
                    "+",
                    Object(R.f)("#Sale_TagFilter_And"),
                    m.createElement(V.d, {
                      tooltip: Object(R.f)("#Sale_TagFilter_And_ttip"),
                    })
                  )
              )
            );
          }),
          (t.prototype.RenderTagBreakdown = function (e, t) {
            var n = this,
              a = this.state.tagHighlight,
              i = [];
            t.forEach(function (e) {
              return i.push({ tag: e.properCaseString, count: e.items.length });
            }),
              i.sort(function (e, t) {
                return e.count != t.count
                  ? t.count - e.count
                  : e.tag.localeCompare(t.tag);
              });
            var r = i.map(function (t) {
              return m.createElement(
                "div",
                {
                  key: t.tag,
                  className: Object(B.a)(
                    W.TagBreakdownEntry,
                    a === t.tag && W.Selected
                  ),
                  onClick: function () {
                    return n.OnHighlightTag(t.tag);
                  },
                },
                m.createElement(
                  "div",
                  { className: W.TextStats },
                  m.createElement("div", { className: W.TagName }, t.tag),
                  m.createElement("div", { className: W.TagUses }, t.count)
                ),
                m.createElement(
                  "div",
                  { className: W.PercentageBar },
                  m.createElement("div", {
                    className: W.PercentageBarFill,
                    style: { width: (100 * t.count) / e + "%" },
                  })
                )
              );
            });
            return m.createElement(
              m.Fragment,
              null,
              m.createElement(
                "div",
                { className: W.TagBreakdownCtn },
                m.createElement("div", { className: W.TagBreakdownList }, r)
              )
            );
          }),
          (t.prototype.ModifyFilter = function (e) {
            var t = Object(l.e)(this.state.currentFilter);
            e(t),
              this.setState(
                Object(a.a)(
                  { currentFilter: t },
                  this.CalcualateItemsAndTags(
                    t,
                    this.state.startingUnreferencedItems
                  )
                )
              );
          }),
          (t.prototype.OnChangeClauseType = function (e, t) {
            this.ModifyFilter(function (n) {
              return (n.clauses[e].type = t);
            });
          }),
          (t.prototype.OnChangeClauseTag = function (e, t, n) {
            this.ModifyFilter(function (a) {
              return (a.clauses[e].or_tags[t] = n);
            });
          }),
          (t.prototype.OnAddClause = function () {
            this.ModifyFilter(function (e) {
              return e.clauses.push({
                type: "Must have",
                or_tags: new Array(""),
              });
            });
          }),
          (t.prototype.OnRemoveClause = function (e) {
            this.ModifyFilter(function (t) {
              return t.clauses.splice(e, 1);
            });
          }),
          (t.prototype.OnAddClauseTagSlot = function (e) {
            this.ModifyFilter(function (t) {
              return t.clauses[e].or_tags.push("");
            });
          }),
          (t.prototype.OnRemoveClauseTagSlot = function (e, t) {
            this.ModifyFilter(function (n) {
              return n.clauses[e].or_tags.splice(t, 1);
            });
          }),
          (t.prototype.OnHighlightTag = function (e) {
            this.setState({
              tagHighlight: this.state.tagHighlight === e ? "" : e,
            });
          }),
          (t.prototype.OnToggleTagBreakdown = function () {
            this.setState({ showTagBreakdown: !this.state.showTagBreakdown });
          }),
          (t.prototype.OnSetViewMode = function (e) {
            this.setState({ showMode: e });
          }),
          (t.prototype.OnTagsModified = function () {
            var e = this.GenerateStartingUnreferencedItems();
            this.setState(
              Object(a.a)(
                { startingUnreferencedItems: e },
                this.CalcualateItemsAndTags(this.state.currentFilter, e)
              )
            );
          }),
          (t.prototype.UpdateSearchText = function (e) {
            this.setState({ strSearch: e.target.value.toLowerCase() });
          }),
          (t.prototype.OnOK = function () {
            if (this.props.onApplyFilter) {
              var e = Object(l.e)(this.state.currentFilter);
              this.SanitizeFilter(e), this.props.onApplyFilter(e);
            }
            this.props.editModel.SetDirty(o.c.jsondata_sales),
              this.props.closeModal();
          }),
          (t.prototype.render = function () {
            var e = this,
              t = this.props,
              n = t.editModel,
              a = t.closeModal,
              i = t.title,
              r = this.state,
              o = r.showMode,
              l = r.currentFilter,
              s = r.strSearch,
              c = r.showTagBreakdown,
              d = r.bDropdownOptionsLoaded,
              u = this.state,
              p = u.activeItems,
              _ = u.activeTagBreakdown,
              g = u.filteredItems,
              E = u.filteredTagBreakdown,
              b = u.unusedItems,
              v = u.unusedTagBreakdown;
            if (!d)
              return m.createElement(k.a, {
                size: "medium",
                position: "center",
              });
            var h = c ? this.state.tagHighlight : "",
              f = "active" === o ? _ : "filtered" === o ? E : v,
              S = ("active" === o ? p : "filtered" === o ? g : b).map(function (
                e
              ) {
                var t = Z(e.capsule).appData;
                return {
                  item: e,
                  name: t && t.name,
                  highlight:
                    h &&
                    e.tags.find(function (e) {
                      return e === h;
                    }),
                };
              });
            S.sort(function (e, t) {
              return e.highlight != t.highlight
                ? e.highlight
                  ? -1
                  : 1
                : (e.name || "").localeCompare(t.name);
            });
            var O = [
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_MatchingItems", p.length),
                    m.createElement(V.d, {
                      tooltip: Object(R.f)(
                        "#Sale_TagFilter_MatchingItems_ttip"
                      ),
                    })
                  ),
                  data: "active",
                },
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_FilteredItems", g.length),
                    m.createElement(V.d, {
                      tooltip: Object(R.f)(
                        "#Sale_TagFilter_FilteredItems_ttip"
                      ),
                    })
                  ),
                  data: "filtered",
                },
                {
                  label: m.createElement(
                    m.Fragment,
                    null,
                    Object(R.f)("#Sale_TagFilter_UnusedItems", b.length),
                    m.createElement(V.d, {
                      tooltip: Object(R.f)("#Sale_TagFilter_UnusedItems_ttip"),
                    })
                  ),
                  data: "unused",
                },
              ],
              y = S.map(function (t) {
                var a = t.item;
                return m.createElement(re, {
                  key: a.capsule.type + a.capsule.id,
                  editModel: n,
                  item: a,
                  tagHighlight: h,
                  onTagsModified: e.OnTagsModified,
                  strSearchFilter: s,
                  filter: "filtered" === o && l,
                });
              }),
              T = c ? W.ShowTagBreakdown : W.HideTagBreakdown;
            return m.createElement(
              w.e,
              {
                closeModal: a,
                bDisableBackgroundDismiss: !0,
                bAllowFullSize: !0,
                className: j.NotTooWideModal,
              },
              m.createElement(C.k, null, i),
              m.createElement(
                C.b,
                null,
                m.createElement(
                  "div",
                  { className: Object(B.a)(W.EditFitlerCtn, T) },
                  this.RenderFilterControls(),
                  m.createElement(
                    "div",
                    { className: W.TopTabs },
                    m.createElement(
                      "div",
                      { className: W.TagSelector },
                      m.createElement(C.h, {
                        rgOptions: O,
                        selectedOption: o,
                        onChange: function (t) {
                          return e.OnSetViewMode(t.data);
                        },
                      })
                    ),
                    m.createElement(
                      C.d,
                      {
                        className: Object(B.a)(
                          W.ShowTagBreakdown,
                          W.SectionTab,
                          c && W.TabActive
                        ),
                        onClick: this.OnToggleTagBreakdown,
                      },
                      Object(R.f)(
                        this.state.showTagBreakdown
                          ? "#Sale_TagFilter_HideTagBreakdown"
                          : "#Sale_TagFilter_ShowTagBreakdown"
                      ),
                      m.createElement(V.d, {
                        tooltip: Object(R.f)(
                          "#Sale_TagFilter_TagBreakdown_ttip"
                        ),
                      })
                    )
                  ),
                  m.createElement(
                    "div",
                    { className: W.TopSection },
                    m.createElement(
                      "div",
                      { className: W.MatchingItemsCtn },
                      m.createElement("div", { className: W.ItemList }, y)
                    ),
                    this.RenderTagBreakdown(y.length, f)
                  ),
                  m.createElement(C.l, {
                    type: "text",
                    label: Object(R.f)("#Sale_TaggedItemsFilter"),
                    onChange: this.UpdateSearchText,
                    focusOnMount: !0,
                    tooltip: Object(R.f)("#Sale_TaggedItemsFilter_ttip"),
                  }),
                  m.createElement(
                    "div",
                    { className: W.OKButton },
                    m.createElement(
                      C.q,
                      { onClick: this.OnOK },
                      Object(R.f)("#Sale_TagFilter_OK")
                    )
                  )
                )
              )
            );
          }),
          Object(a.c)([F.a], t.prototype, "OnChangeClauseType", null),
          Object(a.c)([F.a], t.prototype, "OnChangeClauseTag", null),
          Object(a.c)([F.a], t.prototype, "OnAddClause", null),
          Object(a.c)([F.a], t.prototype, "OnRemoveClause", null),
          Object(a.c)([F.a], t.prototype, "OnAddClauseTagSlot", null),
          Object(a.c)([F.a], t.prototype, "OnRemoveClauseTagSlot", null),
          Object(a.c)([F.a], t.prototype, "OnHighlightTag", null),
          Object(a.c)([F.a], t.prototype, "OnToggleTagBreakdown", null),
          Object(a.c)([F.a], t.prototype, "OnSetViewMode", null),
          Object(a.c)([F.a], t.prototype, "OnTagsModified", null),
          Object(a.c)([F.a], t.prototype, "UpdateSearchText", null),
          Object(a.c)([F.a], t.prototype, "OnOK", null),
          t
        );
      })(m.Component);
      function me() {
        return Object(a.b)(this, void 0, void 0, function () {
          var e, t, n;
          return Object(a.e)(this, function (a) {
            switch (a.label) {
              case 0:
                return [4, J.a.EnsureLoaded()];
              case 1:
                return (
                  a.sent(),
                  (e = []),
                  J.a.GetTagNameForTagID().forEach(function (t, n) {
                    e.push({ tagid: n, name: t });
                  }),
                  (t = e.map(function (e) {
                    return Object(l.f)(e.name, "Store");
                  })),
                  (n = [
                    "Linux",
                    "Mac",
                    "VR",
                    "VR Only",
                    "Full Controller",
                    "Remote Play",
                    "Remote Play Together",
                    "Free",
                    "Discounted",
                    "Coop",
                  ].map(function (e) {
                    return Object(l.f)(e, "Feature");
                  })),
                  [2, t.concat(n)]
                );
            }
          });
        });
      }
      var _e = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                editValue: t.PopulateInitialEditField(),
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.PopulateInitialEditField = function () {
              for (
                var e = this.props.editModel,
                  t = this.props.collection,
                  n = "",
                  a = 0,
                  i = e.GetEventModel().GetTaggedItems();
                a < i.length;
                a++
              ) {
                var r = i[a],
                  o = r.capsule,
                  s = r.tags,
                  c = Z(o).appData,
                  d = o.id + "\t" + o.type;
                d +=
                  '\t"' +
                  (t
                    ? s.filter(function (e) {
                        return Object(l.d)(e, t);
                      })
                    : s
                  ).join(";") +
                  '"';
                var u = c ? c.name : "";
                u && (d += '\t// "' + u + '"'), (n += d + "\n");
              }
              return n;
            }),
            (t.prototype.ParseTagItemInfoFromLine = function (e) {
              var t = /^(.*)\/\/.*/i.exec(e),
                n = ((null == t ? void 0 : t.length) > 1 ? t[1] : e) + " ";
              n = n.replace(",", "\t");
              var a = /^\s*([0-9]+)[\'\,\"\s]+(.*)/.exec(n);
              if (a) {
                var i = { id: parseInt(a[1]), type: "game" };
                n = a[2];
                var r = /^(game|software|dlc|bundle|video|sub|event|tag|music)[\'\,\"\s]+(.*)/i.exec(
                  n
                );
                if (r) (i.type = r[1]), (n = r[2]);
                else
                  for (
                    var o = 0,
                      l = this.props.editModel.GetEventModel().GetTaggedItems();
                    o < l.length;
                    o++
                  ) {
                    var s = l[o];
                    if (s.capsule.id === i.id) {
                      i.type = s.capsule.type;
                      break;
                    }
                  }
                var c = /^\"?([^\t\"\n]*)\"?/i.exec(n),
                  d = new Set(),
                  u = new Array();
                if (c)
                  for (var p = 0, m = c[1].split(";"); p < m.length; p++) {
                    var _ = Q(m[p]);
                    if (_) {
                      var g = _.toLocaleLowerCase();
                      d.has(g) || (d.add(g), u.push(_));
                    }
                  }
                return { capsule: i, tags: u };
              }
            }),
            (t.prototype.OnCompleteEdit = function () {
              this.setState({ bImporting: !0, errMsg: void 0 }, this.DoImport);
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, s, c, d, p, m, _, g, E;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      for (
                        e = this.props.editModel,
                          t = new Map(),
                          n = this.state.editValue.split("\n"),
                          i = 0,
                          r = n;
                        i < r.length;
                        i++
                      )
                        (s = r[i]),
                          (c = this.ParseTagItemInfoFromLine(s)) &&
                            t.set(c.capsule.id, c);
                      return (
                        !0,
                        (d = this.props.bRemoveMissingEntries),
                        (p = this.props.collection),
                        (m = e.GetEventModel().jsondata),
                        (_ = new Array()),
                        (g = function (e) {
                          e.tags.some(function (e) {
                            return Object(l.d)(e, l.j.Store);
                          }) || _.push(e);
                        }),
                        (E = !0),
                        p &&
                          t.forEach(function (e) {
                            e.tags.some(function (e) {
                              return Boolean(Object(l.k)(e));
                            }) && (E = !1);
                          }),
                        Object(u.G)(function () {
                          m.tagged_items || (m.tagged_items = []),
                            d &&
                              (m.tagged_items = m.tagged_items.filter(function (
                                e
                              ) {
                                var n,
                                  a =
                                    null === (n = t.get(e.capsule.id)) ||
                                    void 0 === n
                                      ? void 0
                                      : n.capsule.type;
                                return e.capsule.type === a;
                              }));
                          for (
                            var e = 0, n = m.tagged_items;
                            e < n.length;
                            e++
                          ) {
                            var a = n[e],
                              i = t.get(a.capsule.id);
                            if (i && i.capsule.type == a.capsule.type) {
                              if (p) {
                                var r = E
                                  ? i.tags.map(function (e) {
                                      return Object(l.f)(e, p);
                                    })
                                  : i.tags;
                                Object(l.t)(a, r, p);
                              } else (a.tags = i.tags), g(a);
                              Object(l.v)(m.auto_item_tags, a),
                                t.delete(a.capsule.id);
                            }
                          }
                          t.forEach(function (e) {
                            Object(l.v)(m.auto_item_tags, e),
                              m.tagged_items.push(e),
                              g(m.tagged_items[m.tagged_items.length - 1]);
                          });
                        }),
                        _.length > 0 ? [4, Object(l.w)(e, _)] : [3, 2]
                      );
                    case 1:
                      a.sent(), (a.label = 2);
                    case 2:
                      return (
                        this.setState({ bImporting: !1, errMsg: "" }),
                        e.SetDirty(o.c.jsondata_sales),
                        Object(l.u)(e),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnTextChange = function (e) {
              this.setState({ editValue: e.currentTarget.value });
            }),
            (t.prototype.render = function () {
              var e = this.props.closeModal;
              return m.createElement(
                w.e,
                {
                  onCancel: e,
                  closeModal: e,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(C.k, null, Object(R.f)("#Sale_EditRaw_Title")),
                m.createElement(
                  C.b,
                  null,
                  m.createElement(
                    "div",
                    null,
                    Object(R.f)("#Sale_EditRaw_Desc_1")
                  ),
                  m.createElement(
                    "div",
                    null,
                    Object(R.f)("#Sale_EditRaw_Desc_2")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditRaw_Example_Title")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_1")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_2")
                  ),
                  m.createElement(
                    "div",
                    { className: H.EditRawExample },
                    Object(R.f)("#Sale_EditTagItems_Example_3")
                  ),
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: j.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(k.a, {
                      size: "medium",
                      position: "center",
                    }),
                  !this.state.bImporting &&
                    m.createElement("textarea", {
                      className: Object(B.a)(
                        H.EditRawTextArea,
                        W.EditRawTextArea
                      ),
                      value: this.state.editValue,
                      cols: 80,
                      rows: 30,
                      onChange: this.OnTextChange,
                    })
                ),
                !this.state.bImporting &&
                  m.createElement(
                    C.j,
                    null,
                    m.createElement(
                      C.q,
                      { onClick: this.OnCompleteEdit, disabled: !1 },
                      Object(R.f)("#Button_Confirm"),
                      " "
                    ),
                    m.createElement(
                      C.d,
                      { onClick: e, disabled: !1 },
                      Object(R.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([F.a], t.prototype, "OnCompleteEdit", null),
            Object(a.c)([F.a], t.prototype, "DoImport", null),
            Object(a.c)([F.a], t.prototype, "OnTextChange", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component),
        ge = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = {
                bImporting: !1,
                sync_opt_in_items: !1,
                sync_opt_in_tags: !1,
                sync_store_tags: !1,
                sync_feature_tags: !1,
                bSyncTop20StoreTags: !1,
              }),
              t
            );
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.ConvertToCapsule = function (e) {
              return { id: e, type: "game" };
            }),
            (t.prototype.AddTag = function (e, t) {
              var n = t.toLocaleLowerCase();
              e.find(function (e) {
                return e.toLocaleLowerCase() === n;
              }) || e.push(t);
            }),
            (t.prototype.ImportOptInPage = function (e, t) {
              return Object(a.b)(this, void 0, void 0, function () {
                var n, i, r, o, c, d, p, m, _, g, E, b, v;
                return Object(a.e)(this, function (h) {
                  switch (h.label) {
                    case 0:
                      return (
                        (n = this.props.editModel),
                        (i = n.GetEventModel().jsondata.sale_opt_in_page_name)
                          ? (this.setState({
                              statusMsg: Object(R.f)(
                                "#Sale_ImportOptIn_Progress_LoadOptIn"
                              ),
                            }),
                            [4, s.a.Get().ForceLoadOptInPage(i)])
                          : (this.setState({
                              bImporting: !1,
                              errMsg: "Invalid opt in page specified " + i,
                            }),
                            [2, !1])
                      );
                    case 1:
                      return 1 !== (null == (r = h.sent()) ? void 0 : r.success)
                        ? (this.setState({
                            bImporting: !1,
                            errMsg:
                              (null == r ? void 0 : r.msg) ||
                              "Unable to load the application list for the sale id " +
                                i,
                          }),
                          [2, !1])
                        : ((o = !1),
                          (c = r.opted_in),
                          (d = n.GetEventModel().jsondata.tagged_items
                            ? Object(a.g)(
                                n.GetEventModel().jsondata.tagged_items
                              )
                            : []),
                          (p = s.a.Get().GetOptInPageData(i)),
                          t ? [4, Object(l.w)(n, d, !1, !1, !0)] : [3, 3]);
                    case 2:
                      (o = h.sent()), (h.label = 3);
                    case 3:
                      if (!e) return [3, 5];
                      for (
                        Object(u.G)(function () {
                          d = d.filter(function (e) {
                            var t = Boolean(p.has(e.capsule.id));
                            return (o = o || !t), t;
                          });
                        }),
                          m = new Array(),
                          _ = function (e) {
                            if (
                              !d.find(function (t) {
                                return t.capsule.id === e.appid;
                              })
                            ) {
                              var t = {
                                capsule: g.ConvertToCapsule(e.appid),
                                tags: [],
                              };
                              m.push(t), (o = !0);
                            }
                          },
                          g = this,
                          E = 0,
                          b = c;
                        E < b.length;
                        E++
                      )
                        (v = b[E]), _(v);
                      return [4, Object(l.w)(n, m)];
                    case 4:
                      h.sent(), d.push.apply(d, m), (h.label = 5);
                    case 5:
                      return (
                        o && (n.GetEventModel().jsondata.tagged_items = d),
                        [2, o]
                      );
                  }
                });
              });
            }),
            (t.prototype.DoImport = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n, i, r, s, c;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (e = this.state),
                        (t = e.sync_feature_tags),
                        (n = e.sync_opt_in_items),
                        (i = e.sync_opt_in_tags),
                        (r = e.sync_store_tags),
                        (s = !1),
                        n || i ? [4, this.ImportOptInPage(n, i)] : [3, 2]
                      );
                    case 1:
                      (s = a.sent() || s), (a.label = 2);
                    case 2:
                      return (
                        (c = this.props.editModel
                          .GetEventModel()
                          .GetTaggedItems()),
                        this.setState({
                          statusMsg: Object(R.f)(
                            "#Sale_SyncTaggedItems_Progress_LoadingStore",
                            c.length
                          ),
                        }),
                        r || t
                          ? [
                              4,
                              Object(l.w)(
                                this.props.editModel,
                                c,
                                r,
                                t,
                                !1,
                                this.state.bSyncTop20StoreTags
                              ),
                            ]
                          : [3, 4]
                      );
                    case 3:
                      (s = a.sent() || s), (a.label = 4);
                    case 4:
                      return (
                        s &&
                          (Object(l.u)(this.props.editModel),
                          this.props.editModel.SetDirty(o.c.jsondata_sales)),
                        this.setState({ bImporting: !1, errMsg: "" }),
                        this.props.closeModal(),
                        [2]
                      );
                  }
                });
              });
            }),
            (t.prototype.OnPerformSync = function () {
              this.setState(
                {
                  bImporting: !0,
                  errMsg: void 0,
                  statusMsg: Object(R.f)(
                    "#Sale_ImportOptIn_Progress_LoadOptIn"
                  ),
                },
                this.DoImport
              );
            }),
            (t.prototype.CanPerformSync = function () {
              var e = this.state,
                t = e.sync_feature_tags,
                n = e.sync_opt_in_items,
                a = e.sync_opt_in_tags,
                i = e.sync_store_tags;
              return t || n || a || i;
            }),
            (t.prototype.render = function () {
              var e = this,
                t = this.props,
                n = t.closeModal,
                a = t.editModel,
                i = Boolean(a.GetEventModel().jsondata.sale_opt_in_page_name);
              return m.createElement(
                w.e,
                {
                  onCancel: n,
                  closeModal: n,
                  bDisableBackgroundDismiss: !0,
                  bAllowFullSize: !0,
                  bHideCloseIcon: this.state.bImporting,
                },
                m.createElement(
                  C.k,
                  null,
                  Object(R.f)("#Sale_SyncTaggedItems_Title")
                ),
                m.createElement(
                  C.b,
                  null,
                  Boolean(this.state.errMsg) &&
                    m.createElement(
                      "p",
                      { className: j.ErrorStyles },
                      this.state.errMsg
                    ),
                  this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      this.state.statusMsg &&
                        m.createElement("p", null, this.state.statusMsg),
                      m.createElement(k.a, {
                        size: "medium",
                        position: "center",
                      })
                    ),
                  !this.state.bImporting &&
                    m.createElement(
                      m.Fragment,
                      null,
                      i &&
                        m.createElement(C.e, {
                          label: Object(R.f)("#Sale_SyncTag_OptInItems"),
                          tooltip: Object(R.f)("#Sale_SyncTag_OptInItems_ttip"),
                          checked: this.state.sync_opt_in_items,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_items: t });
                          },
                        }),
                      i &&
                        m.createElement(C.e, {
                          label: Object(R.f)("#Sale_SyncTag_OptInTags"),
                          tooltip: Object(R.f)("#Sale_SyncTag_OptInTags_ttip"),
                          checked: this.state.sync_opt_in_tags,
                          onChange: function (t) {
                            return e.setState({ sync_opt_in_tags: t });
                          },
                        }),
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_SyncTag_StoreTags"),
                        tooltip: Object(R.f)("#Sale_SyncTag_StoreTags_ttip"),
                        checked: this.state.sync_store_tags,
                        onChange: function (t) {
                          return e.setState({ sync_store_tags: t });
                        },
                      }),
                      this.state.sync_store_tags &&
                        m.createElement(C.e, {
                          label: Object(R.f)(
                            "#FacetedBrowseEditor_SyncTopNTags"
                          ),
                          tooltip: Object(R.f)(
                            "#FacetedBrowseEditor_SyncTopNTags_Tooltip"
                          ),
                          checked: this.state.bSyncTop20StoreTags,
                          onChange: function (t) {
                            return e.setState({ bSyncTop20StoreTags: t });
                          },
                        }),
                      m.createElement(C.e, {
                        label: Object(R.f)("#Sale_SyncTag_Features"),
                        tooltip: Object(R.f)("#Sale_SyncTag_Features"),
                        checked: this.state.sync_feature_tags,
                        onChange: function (t) {
                          return e.setState({ sync_feature_tags: t });
                        },
                      })
                    )
                ),
                !this.state.bImporting &&
                  m.createElement(
                    C.j,
                    null,
                    m.createElement(
                      C.q,
                      {
                        onClick: this.OnPerformSync,
                        disabled: !this.CanPerformSync(),
                      },
                      Object(R.f)("#Button_Confirm")
                    ),
                    m.createElement(
                      C.d,
                      { onClick: n, disabled: !1 },
                      Object(R.f)("#Button_Cancel")
                    )
                  )
              );
            }),
            Object(a.c)([F.a], t.prototype, "ImportOptInPage", null),
            Object(a.c)([F.a], t.prototype, "OnPerformSync", null),
            (t = Object(a.c)([p.a], t))
          );
        })(m.Component);
      function Ee(e) {
        for (var t = new Set(), n = 0, a = e; n < a.length; n++) {
          var i = a[n],
            r = i.tag_name.trim().toLocaleLowerCase();
          if (!r) return !1;
          if (t.has(r)) return !1;
          if (Object(l.q)(i.filter)) return !1;
          t.add(r);
        }
        return !0;
      }
      var be = function (e) {
          var t = e.closeModal,
            n = e.editModel,
            i = n.GetEventModel().jsondata,
            r = m.useState(!0),
            s = r[0],
            c = r[1],
            d = m.useState(!1),
            p = d[0],
            _ = d[1],
            g = m.useState(Object(a.g)(i.auto_item_tags || [])),
            E = g[0],
            b = g[1],
            v = function () {
              c(Ee(E)), _(!0);
            },
            h = E.map(function (e, t) {
              return m.createElement(ve, {
                key: "AutoTag" + t,
                editModel: n,
                fnOnEdited: v,
                fnOnDeleted: function () {
                  return (
                    (e = t),
                    b(
                      E.filter(function (t, n) {
                        return n != e;
                      })
                    ),
                    void c(Ee(E))
                  );
                  var e;
                },
                autoTag: e,
              });
            });
          return m.createElement(
            w.e,
            {
              onCancel: t,
              closeModal: t,
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
            },
            m.createElement(C.k, null, Object(R.f)("#Sale_EditAutoTags_Title")),
            m.createElement(
              C.b,
              null,
              m.createElement(
                "div",
                { className: W.EditAutoTagsBody },
                m.createElement(
                  "div",
                  { className: W.AutoTagList },
                  h,
                  m.createElement(
                    C.d,
                    {
                      onClick: function () {
                        b(
                          Object(a.g)(E, [
                            { tag_name: "", filter: { clauses: [] } },
                          ])
                        ),
                          c(!1);
                      },
                    },
                    Object(R.f)("#Sale_EditTags_NewTagButton")
                  )
                )
              )
            ),
            m.createElement(
              C.j,
              null,
              m.createElement(
                C.d,
                {
                  onClick: function () {
                    s &&
                      p &&
                      Object(u.G)(function () {
                        i.auto_item_tags = E;
                        for (
                          var e = 0, t = n.GetEventModel().GetTaggedItems();
                          e < t.length;
                          e++
                        ) {
                          var a = t[e];
                          Object(l.v)(i.auto_item_tags, a);
                        }
                        n.SetDirty(o.c.jsondata_sales);
                      }),
                      e.closeModal();
                  },
                  disabled: !s,
                },
                Object(R.f)("#Button_OK")
              )
            )
          );
        },
        ve = function (e) {
          var t = m.useState(e.autoTag.tag_name),
            n = t[0],
            a = t[1],
            i = m.useState(e.autoTag.filter),
            r = i[0],
            o = i[1],
            l = function (t) {
              (e.autoTag.filter = t), e.fnOnEdited(), o(t);
            };
          return m.createElement(
            "div",
            { className: W.AutoTag },
            m.createElement(
              "div",
              { className: W.AutoTagRow },
              m.createElement(C.l, {
                type: "text",
                onChange: function (t) {
                  a(t.target.value),
                    (e.autoTag.tag_name = t.target.value.trim()),
                    e.fnOnEdited();
                },
                placeholder: Object(R.f)("#Sale_EditAutoTags_Placeholder"),
                tooltip: Object(R.f)("#Sale_EditAutoTags_Tooltip"),
                value: n,
              }),
              m.createElement(K, {
                onClick: function () {
                  return e.fnOnDeleted();
                },
              })
            ),
            m.createElement(
              "div",
              { className: W.AutoTagRow },
              m.createElement($, { filter: r }),
              m.createElement(
                C.d,
                {
                  onClick: function () {
                    Object(G.d)(
                      m.createElement(pe, {
                        editModel: e.editModel,
                        filter: r,
                        title: Object(R.f)("#Sale_TagFilter_EditFilter"),
                        onApplyFilter: l,
                      }),
                      window
                    );
                  },
                },
                Object(R.f)("#Sale_TagFilter_EditFilter")
              )
            )
          );
        };
    },
    pdAa: function (e, t, n) {
      e.exports = {
        AssociatedBuildBody:
          "partnereventassociatedbuild_AssociatedBuildBody_1rnVU",
        BuildDisplay: "partnereventassociatedbuild_BuildDisplay_1HwK4",
        BuildUnlinked: "partnereventassociatedbuild_BuildUnlinked_1cg3t",
        BuildLinkedBranch:
          "partnereventassociatedbuild_BuildLinkedBranch_2ssXJ",
        BuildLinkedDefault:
          "partnereventassociatedbuild_BuildLinkedDefault_fHJYY",
        BuildIDLink: "partnereventassociatedbuild_BuildIDLink_2-Syn",
      };
    },
    putg: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return d;
      });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("mgoM"),
        l = n("3+zv"),
        s = n("OS6B"),
        c = n("lkRc"),
        d = new ((function () {
          function e(e) {
            void 0 === e && (e = null),
              (this.m_rgCategoriesForTagID = null),
              (this.m_rgTagNameForTagID = null),
              (this.m_rgAtomicTagIDsForTagID = null),
              (this.m_rgLocalizedCategoryNames = null),
              (this.m_rgLocalizedTagNames = null),
              (this.m_rgLanguages = null),
              e && this.ParseResponse(e);
          }
          return (
            (e.prototype.GetCategoriesForTagID = function () {
              return this.m_rgCategoriesForTagID;
            }),
            (e.prototype.GetTagNameForTagID = function () {
              return this.m_rgTagNameForTagID;
            }),
            (e.prototype.GetAtomicTagIDsForTagID = function () {
              return this.m_rgAtomicTagIDsForTagID;
            }),
            (e.prototype.GetLocalizedCategoryNames = function () {
              return this.m_rgLocalizedCategoryNames;
            }),
            (e.prototype.GetLocalizedTagNames = function () {
              return this.m_rgLocalizedTagNames;
            }),
            (e.prototype.GetLanguages = function () {
              return this.m_rgLanguages;
            }),
            (e.prototype.AutoGenerateFacets = function () {
              var e = this.ComputeLocalizedCategoryNames(),
                t = this.ComputeLocalizedTagNames(),
                n = this.ComputeCategoryToTagMap(),
                a = this.FindNonAtomicTags(),
                i = this.ComputeFacetCategoryToTagMap(n, a),
                r = this.ComputeAtomicTagToTagsMap();
              return this.ComputeFacets(i, r, e, t);
            }),
            (e.prototype.AutoGenerateFacetsAsync = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                return Object(a.e)(this, function (e) {
                  switch (e.label) {
                    case 0:
                      return [4, this.EnsureLoaded()];
                    case 1:
                      return e.sent(), [2, this.AutoGenerateFacets()];
                  }
                });
              });
            }),
            (e.prototype.BIsTagAtomic = function (e) {
              return (
                this.m_rgAtomicTagIDsForTagID.has(e) &&
                this.m_rgAtomicTagIDsForTagID.get(e).includes(e)
              );
            }),
            (e.prototype.ParseResponse = function (e) {
              (this.m_rgCategoriesForTagID = new Map()),
                (this.m_rgTagNameForTagID = new Map()),
                (this.m_rgAtomicTagIDsForTagID = new Map()),
                (this.m_rgLocalizedCategoryNames = new Map()),
                (this.m_rgLocalizedTagNames = new Map()),
                (this.m_rgLanguages = new Array());
              for (
                var t = 0, n = Object.keys(e.rgCategoriesByTag);
                t < n.length;
                t++
              ) {
                var a = n[t];
                this.m_rgCategoriesForTagID.set(
                  Number(a),
                  Array.from(e.rgCategoriesByTag[a])
                );
              }
              for (
                var i = 0, r = Object.keys(e.rgTagNames);
                i < r.length;
                i++
              ) {
                a = r[i];
                this.m_rgTagNameForTagID.set(Number(a), e.rgTagNames[a]);
              }
              for (
                var o = 0, l = Object.keys(e.rgTagBreakdown);
                o < l.length;
                o++
              ) {
                a = l[o];
                this.m_rgAtomicTagIDsForTagID.set(
                  Number(a),
                  Array.from(e.rgTagBreakdown[a]).map(function (e) {
                    return Number(e);
                  })
                );
              }
              for (
                var s = 0, c = Object.keys(e.rgLocalizedCategoryNames);
                s < c.length;
                s++
              ) {
                var d = c[s];
                this.m_rgLocalizedCategoryNames.set(
                  d,
                  Array.from(e.rgLocalizedCategoryNames[d])
                );
              }
              for (
                var u = 0, p = Object.keys(e.rgLocalizedTagNames);
                u < p.length;
                u++
              ) {
                a = p[u];
                this.m_rgLocalizedTagNames.set(
                  Number(a),
                  Array.from(e.rgLocalizedTagNames[a])
                );
              }
              this.m_rgLanguages = Array.from(e.rgLanguages);
            }),
            (e.prototype.EnsureLoaded = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e;
                return Object(a.e)(this, function (t) {
                  switch (t.label) {
                    case 0:
                      return this.m_rgCategoriesForTagID
                        ? [2]
                        : [4, this.Load()];
                    case 1:
                      return (e = t.sent()), this.ParseResponse(e), [2];
                  }
                });
              });
            }),
            (e.prototype.Load = function () {
              return Object(a.b)(this, void 0, void 0, function () {
                var e, t, n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      (e = null), (a.label = 1);
                    case 1:
                      return (
                        a.trys.push([1, 3, , 4]),
                        [
                          4,
                          r.a.get(
                            c.c.COMMUNITY_BASE_URL +
                              "sale/ajaxgetcategoriesbytag"
                          ),
                        ]
                      );
                    case 2:
                      return (
                        (t = a.sent()),
                        1 !== (null == (e = t.data) ? void 0 : e.success)
                          ? (console.error(
                              "Unable to load tag category data: " +
                                (null == e ? void 0 : e.success)
                            ),
                            [2, null])
                          : [3, 4]
                      );
                    case 3:
                      return (
                        (n = a.sent()),
                        console.error(
                          "Unable to load tag category data: " +
                            Object(s.a)(n).strErrorMsg
                        ),
                        [2, null]
                      );
                    case 4:
                      return [2, e];
                  }
                });
              });
            }),
            (e.prototype.Verify = function (e) {
              for (
                var t = new Set(),
                  n = new Set(),
                  a = Object.keys(e.rgTagBreakdown),
                  i = Object.keys(e.rgTagNames),
                  r = Object.keys(e.rgCategoriesByTag),
                  o = 0,
                  l = a;
                o < l.length;
                o++
              )
                for (
                  var s = l[o], c = 0, d = e.rgTagBreakdown[s].flat();
                  c < d.length;
                  c++
                ) {
                  var u = d[c];
                  i.includes(u.toString()) || t.add(u),
                    (r.includes(u.toString()) &&
                      e.rgCategoriesByTag[u] &&
                      0 !== e.rgCategoriesByTag[u].length) ||
                      n.add(u);
                }
              console.log(t.size + " un-named tags."),
                t.size > 0 && console.log(t),
                console.log(n.size + " un-categorized tags."),
                n.size > 0 && console.log(n);
            }),
            (e.prototype.ComputeCategoryToTagMap = function () {
              var e = new Map();
              return (
                this.m_rgCategoriesForTagID.forEach(function (t, n) {
                  if (t)
                    for (var a = 0, i = t; a < i.length; a++) {
                      var r = i[a];
                      e.has(r) || e.set(r, new Array()), e.get(r).push(n);
                    }
                }),
                e
              );
            }),
            (e.prototype.FindNonAtomicTags = function () {
              var e = new Set();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, n) {
                  1 !== t.length && e.add(n);
                }),
                e
              );
            }),
            (e.prototype.ComputeFacetCategoryToTagMap = function (e, t) {
              for (
                var n = new Set(),
                  a = new Map(),
                  i = function (i, r) {
                    for (var o = 0, l = e.get(r); o < l.length; o++) {
                      var s = l[o];
                      n.has(s) || t.has(s) || (n.add(s), a.get(i).push(s));
                    }
                  },
                  r = 0,
                  o = [
                    "supergenre",
                    "genre",
                    "subgenre",
                    "visuals",
                    "theme_mood",
                    "feature",
                    "players",
                  ];
                r < o.length;
                r++
              ) {
                var l = o[r];
                a.set(l, new Array()),
                  "theme_mood" === l ? (i(l, "theme"), i(l, "mood")) : i(l, l);
              }
              return a;
            }),
            (e.prototype.ComputeLocalizedCategoryNames = function () {
              var e = new Map();
              e.set("supergenre", "#App_Taxonomy_Survey_QSuperGenreTitle"),
                e.set("genre", "#App_Taxonomy_Survey_QGenreTitle"),
                e.set("subgenre", "#App_Taxonomy_Survey_QSubGenreTitle"),
                e.set("visuals", "#App_Taxonomy_Survey_QVisualsTitle"),
                e.set("theme_mood", "#App_Taxonomy_Survey_QThemeMoodTitle"),
                e.set("feature", "#App_Taxonomy_Survey_QFeaturesTitle"),
                e.set("players", "#App_Taxonomy_Survey_QPlayersTitle");
              var t = new Map();
              return (
                this.m_rgLocalizedCategoryNames.forEach(function (n, a) {
                  var i = new Array(30);
                  (i[0] = e.get(a)), t.set(a, i);
                }),
                t
              );
            }),
            (e.prototype.ComputeLocalizedTagNames = function () {
              var e = this,
                t = new Map();
              return (
                this.m_rgLocalizedTagNames.forEach(function (n, a) {
                  var i = n,
                    r = new Array(30);
                  r.fill(""),
                    e.m_rgLanguages.forEach(function (e, t) {
                      var n = Object(o.d)(e, -1);
                      -1 === n
                        ? console.warn("Unrecognized language: " + e)
                        : 0 <= n && n < 30 && (r[n] = i[t]);
                    }),
                    t.set(a, r);
                }),
                t
              );
            }),
            (e.prototype.ComputeAtomicTagToTagsMap = function () {
              var e = new Map();
              return (
                this.m_rgAtomicTagIDsForTagID.forEach(function (t, n) {
                  for (var a = 0, i = t; a < i.length; a++) {
                    var r = i[a],
                      o = Number(r);
                    e.has(o) || e.set(o, new Array()), e.get(o).push(n);
                  }
                }),
                e
              );
            }),
            (e.prototype.ComputeFacets = function (e, t, n, a) {
              var i = new Array();
              return (
                e.forEach(function (e, r) {
                  for (
                    var o = { name: n.get(r), facetValues: new Array() },
                      s = Array(),
                      c = 0,
                      d = e;
                    c < d.length;
                    c++
                  ) {
                    var u = d[c];
                    if (a.get(u)) {
                      var p = {
                        name: a.get(u),
                        subtitle: new Array(),
                        rgStoreTagFilter: {
                          type: l.o.k_EStoreFilterClauseTypeAnd,
                          rgSubexpressions: [
                            {
                              type: l.o.k_EStoreFilterClauseTypeOr,
                              rgSubexpressions: t.has(u)
                                ? t.get(u).map(function (e) {
                                    return {
                                      type:
                                        l.o.k_EStoreFilterClauseTypeStoreTag,
                                      value: e,
                                    };
                                  })
                                : [
                                    {
                                      type:
                                        l.o.k_EStoreFilterClauseTypeStoreTag,
                                      value: u,
                                    },
                                  ],
                            },
                          ],
                        },
                        nAtomicStoreTagID: u,
                        filter: null,
                        matchingCapsules: [],
                      };
                      o.facetValues.push(p);
                    } else s.push(u);
                  }
                  s.length > 0 &&
                    console.warn(
                      "No name information found for tag count " +
                        s.length +
                        ", skipping.",
                      s
                    ),
                    i.push(o);
                }),
                i
              );
            }),
            e
          );
        })())();
    },
    "r+ba": function (e, t, n) {
      e.exports = {
        Container: "partnereventwebrowembed_Container_2Jd3M",
        StoreHeaderAdjust: "partnereventwebrowembed_StoreHeaderAdjust_3YyCp",
        SectionButtonCtn: "partnereventwebrowembed_SectionButtonCtn_1HP0y",
        SectionButton: "partnereventwebrowembed_SectionButton_3n8sw",
        EventsSummariesCtn: "partnereventwebrowembed_EventsSummariesCtn_1snIw",
        LatestUpdateButtonCtn:
          "partnereventwebrowembed_LatestUpdateButtonCtn_2vEwZ",
        LatestUpdateIcon: "partnereventwebrowembed_LatestUpdateIcon_mq3RO",
        LatestUpdateButton: "partnereventwebrowembed_LatestUpdateButton_1TRFt",
      };
    },
    rerp: function (e, t, n) {
      e.exports = {
        PreviewBarContainer: "partnereventpreview_PreviewBarContainer_2OUix",
        FallBackWarning: "partnereventpreview_FallBackWarning_2x0Ma",
        StoreNavigationPlaceholder:
          "partnereventpreview_StoreNavigationPlaceholder_tHKKN",
      };
    },
    rppr: function (e, t, n) {
      e.exports = {
        VersionListCtn: "partnereventrevisionhistory_VersionListCtn_32hnY",
        VersionCtn: "partnereventrevisionhistory_VersionCtn_3vUSX",
        VersionInfoCtn: "partnereventrevisionhistory_VersionInfoCtn_1sI79",
      };
    },
    t0uJ: function (e, t, n) {
      "use strict";
      n.d(t, "b", function () {
        return I;
      }),
        n.d(t, "a", function () {
          return D;
        }),
        n.d(t, "c", function () {
          return w;
        }),
        n.d(t, "d", function () {
          return G;
        });
      var a = n("mrSG"),
        i = n("vDqi"),
        r = n.n(i),
        o = n("Q47U"),
        l = n("fcuX"),
        s = n("t0uJ"),
        c = n("4lry"),
        d = n("2vnA"),
        u = n("q1tI"),
        p = n.n(u),
        m = n("mgoM"),
        _ = n("3+zv"),
        g = n("kLLr"),
        E = n("ir+G"),
        b = n("U+Q5"),
        v = n("TQGK"),
        h = n("BVKn"),
        f = n("9w6b"),
        S = n("6oCP"),
        O = n("r64O"),
        y = n("OS6B"),
        C = n("TLQK"),
        j = n("lkRc");
      function T(e) {
        return "U" + (j.i.accountid || "anon") + "-" + e;
      }
      function I(e, t) {
        window.sessionStorage.setItem(T(e), JSON.stringify(t));
      }
      function D(e) {
        var t = null,
          n = window.sessionStorage.getItem(T(e));
        if (n)
          try {
            t = JSON.parse(n);
          } catch (e) {}
        return t;
      }
      var w = new ((function (e) {
        function t() {
          var t = (null !== e && e.apply(this, arguments)) || this;
          return (
            (t.m_bLoadedOrInflightSteamAwardVoteDefinitions = !1),
            (t.m_mapSteamAwardVoteDefinitionsForApp = new Map()),
            (t.m_promiseLoadClanEventsForPartnerDashboard = null),
            t
          );
        }
        return (
          Object(a.d)(t, e),
          (t.prototype.GetCurHoverCategory = function () {
            return {
              type: this.m_curHoverCategoryType,
              tags: this.m_curHoverCategoryTags,
            };
          }),
          (t.prototype.SetCurHoverCategory = function (e, t) {
            this.m_curHoverCategoryType !== e &&
              (this.m_curHoverCategoryType = e),
              this.m_curHoverCategoryTags !== t &&
                (this.m_curHoverCategoryTags = t);
          }),
          (t.prototype.BHasEditModel = function () {
            return null != this.m_editModel;
          }),
          (t.prototype.ClearModel = function () {
            this.m_editModel = null;
          }),
          (t.prototype.BIsCreateModel = function () {
            return !this.m_editModel || "" == this.m_editModel.GetGID();
          }),
          (t.prototype.BIsDirty = function () {
            return this.m_editModel && this.m_editModel.BIsDirty();
          }),
          (t.prototype.BEventModelHasTag = function (e) {
            return this.GetEditModel().BHasTag(e);
          }),
          (t.prototype.ResetModel = function (e, t) {
            var n = new S.c();
            (n.GID = e),
              (n.clanSteamID = t || g.a.InitFromClanID(j.b.CLANACCOUNTID)),
              Object(O.a)(
                n.clanSteamID && n.clanSteamID.BIsValid(),
                "Invalid Clan SteamID: " + n.clanSteamID.ConvertTo64BitString()
              ),
              (n.appid = j.b.APPID),
              (n.bOldAnnouncement = e && e.startsWith(_.H)),
              (n.bLoaded = !0),
              null == e && (n.loadedAllLanguages = !0),
              n.appid == _.D &&
                (n.vecTags.push("hide_library_overview"),
                n.vecTags.push("steam_blog"),
                n.vecTags.push("mod_reviewed")),
              (this.m_editModel = new l.e(n)),
              E.a.EnsureStoreCapsuleInfoLoaded(j.b.APPID);
          }),
          (t.prototype.LoadClanEventsForPartnerDashboard = function (e, t) {
            return Object(a.b)(this, void 0, void 0, function () {
              return Object(a.e)(this, function (n) {
                return (
                  this.m_promiseLoadClanEventsForPartnerDashboard ||
                    (this.m_promiseLoadClanEventsForPartnerDashboard = this.InternalLoadClanEventsForPartnerDashboard(
                      e,
                      t
                    )),
                  [2, this.m_promiseLoadClanEventsForPartnerDashboard]
                );
              });
            });
          }),
          (t.prototype.InternalLoadClanEventsForPartnerDashboard = function (
            e,
            t
          ) {
            var n, i, o;
            return Object(a.b)(this, void 0, void 0, function () {
              var l,
                s,
                c,
                d,
                u = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (l =
                        j.c.COMMUNITY_BASE_URL +
                        "/gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxlisteventsfordashboard/"),
                      (s = { start: 0, count: 20, l: j.c.LANGUAGE }),
                      [
                        4,
                        r.a.get(l, {
                          params: s,
                          cancelToken: t ? t.token : void 0,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (c = a.sent()),
                      (d = new Array()),
                      1 ==
                        (null === (n = null == c ? void 0 : c.data) ||
                        void 0 === n
                          ? void 0
                          : n.success) &&
                        ((null === (i = c.data.hidden_announcement_gids) ||
                        void 0 === i
                          ? void 0
                          : i.length) > 0 &&
                          c.data.hidden_announcement_gids.forEach(function (t) {
                            return d.push(
                              u.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          }),
                        (null === (o = c.data.announcement_gids) || void 0 === o
                          ? void 0
                          : o.length) > 0 &&
                          c.data.announcement_gids.forEach(function (t) {
                            return d.push(
                              u.LoadHiddenPartnerEventByAnnouncementGID(e, t)
                            );
                          })),
                      [4, Promise.all(d)]
                    );
                  case 2:
                    return a.sent(), [2, this.GetAllClanEvents(e)];
                }
              });
            });
          }),
          (t.prototype.LoadEditorModel = function (e, t) {
            var n;
            return Object(a.b)(this, void 0, void 0, function () {
              var i;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return t &&
                      (null === (n = this.m_editModel) || void 0 === n
                        ? void 0
                        : n.GetGID()) == t &&
                      this.m_editModel.GetEventModel().loadedAllLanguages
                      ? [3, 6]
                      : [3, 1];
                  case 1:
                    return t
                      ? (this.ResetModel(t, e),
                        [4, this.LoadHiddenPartnerEvent(e, t)])
                      : [3, 5];
                  case 2:
                    return (
                      a.sent(),
                      (i = s.c.GetClanEventModel(t))
                        ? (this.m_editModel.Refresh(i),
                          [4, s.c.LoadClanEventLocalization(e, t, !1)])
                        : [3, 4]
                    );
                  case 3:
                    a.sent(), (a.label = 4);
                  case 4:
                    return [3, 6];
                  case 5:
                    this.m_editModel || this.ResetModel(), (a.label = 6);
                  case 6:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.GetEditModel = function () {
            return this.m_editModel;
          }),
          (t.prototype.CreateClone = function () {
            var e = this.GetEditModel().GetEventModel().clone();
            return this.m_editModel.PrepareAsClone(e), this.m_editModel;
          }),
          (t.prototype.PublishModel = function (e, t) {
            return (
              void 0 === t && (t = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var n;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [4, this.InternalSaveAction(e, !0, t)];
                    case 1:
                      if (1 != (n = a.sent()).success) throw n;
                      return [2, n];
                  }
                });
              })
            );
          }),
          (t.prototype.PreSaveActions = function (e) {
            return Object(a.b)(this, void 0, void 0, function () {
              var t, n, i, r, l, s, d, u, p;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    if (
                      (30 == this.m_editModel.GetFirstLanguageWithTitle() &&
                        this.m_editModel.SetName(
                          this.m_editModel.GetCurEditLanguage(),
                          Object(C.f)("#EventEditor_Placeholder_Title")
                        ),
                      !this.m_editModel.BHasEmailEnabled())
                    )
                      return [3, 6];
                    (t = this.m_editModel.GetEmailSettings().sections),
                      (n = 0),
                      (a.label = 1);
                  case 1:
                    if (!(n < t.length)) return [3, 6];
                    if (
                      ((i = t[n]),
                      !(r = new o.a(i, this.m_editModel)).BHasValidVideoURL())
                    )
                      return [3, 5];
                    if (!(l = r.GetYouTubeVideoID()) || r.BHasVideoImage())
                      return [3, 5];
                    (s =
                      j.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      this.m_editModel.GetClanSteamID().ConvertTo64BitString() +
                      "/fetchyoutubeimage?videoid=" +
                      l),
                      (d =
                        j.c.COMMUNITY_BASE_URL +
                        "public/images/events/media_play_icon.png"),
                      (a.label = 2);
                  case 2:
                    return (
                      a.trys.push([2, 4, , 5]),
                      [4, b.d.AsyncOverlay(e, s, d, l, 740, 555)]
                    );
                  case 3:
                    return (u = a.sent()), r.SetVideoHashAndExt(u), [3, 5];
                  case 4:
                    return (
                      (p = a.sent()),
                      console.error(
                        "We failed to create a video image, not a blocker: " +
                          Object(y.a)(p).strErrorMsg
                      ),
                      [3, 5]
                    );
                  case 5:
                    return ++n, [3, 1];
                  case 6:
                    return (
                      this.m_editModel.BHasSaleEnabled() &&
                        this.m_editModel.GetSaleSectionCount() > 0 &&
                        this.m_editModel
                          .GetSaleSections()
                          .forEach(function (e) {
                            "items" == e.section_type &&
                              Boolean(e.smart_section_type) &&
                              (e.capsules = []);
                          }),
                      [4, Object(c.b)(this.m_editModel)]
                    );
                  case 7:
                    return a.sent(), [2];
                }
              });
            });
          }),
          (t.prototype.SaveModel = function (e, t, n) {
            return (
              void 0 === t && (t = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var i;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return [4, this.PreSaveActions(e)];
                    case 1:
                      return (
                        a.sent(), [4, this.InternalSaveAction(e, !1, t, n)]
                      );
                    case 2:
                      if (1 != (i = a.sent()).success) throw i;
                      return [2, i];
                  }
                });
              })
            );
          }),
          (t.prototype.InternalSaveAction = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o,
                s,
                c,
                u,
                p,
                E,
                b,
                v,
                h,
                f,
                S,
                T,
                I,
                D,
                w,
                G,
                A = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        !!this.m_editModel.GetGID() &&
                        !this.m_editModel.GetGID().startsWith(_.H)),
                      t && !o
                        ? [
                            2,
                            {
                              success: 11,
                              msg: Object(C.f)(
                                "#EventEditor_Publish_CannotPublishWithoutSaveFirst"
                              ),
                            },
                          ]
                        : this.m_editModel.GetEventModel().loadedAllLanguages
                        ? i || (!o && !t)
                          ? [3, 2]
                          : [
                              4,
                              this.GetLastUpdateTimeForEvent(
                                e,
                                this.m_editModel.GetEventModel().GID,
                                void 0,
                                null
                              ),
                            ]
                        : [
                            2,
                            {
                              success: 11,
                              msg: Object(C.f)(
                                "#EventEditor_SaveOrPublish_MissingLocalizationInternalError"
                              ),
                            },
                          ]
                    );
                  case 1:
                    if (
                      (s = a.sent()) &&
                      s.last_update_rtime > 0 &&
                      s.last_update_rtime !=
                        this.m_editModel.GetLastUpdateTime()
                    )
                      return (
                        console.log(
                          "Clobber Warning Appears: Original Seconds: " +
                            s.last_update_rtime +
                            " update time: " +
                            this.m_editModel.GetLastUpdateTime() +
                            " previous user: " +
                            s.persona_name
                        ),
                        [
                          2,
                          {
                            success: 27,
                            msg: Object(C.f)(
                              "#EventEditor_SaveOrPublish_ClobberWarning",
                              Object(C.m)(s.last_update_rtime),
                              s.persona_name,
                              Object(C.m)(this.m_editModel.GetLastUpdateTime())
                            ),
                          },
                        ]
                      );
                    a.label = 2;
                  case 2:
                    if (
                      ((c = this.m_editModel.GetGID()),
                      (u = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      u.append("authwgtoken", j.i.authwgtoken),
                      n && u.append("fake_error", "" + n),
                      this.m_editModel
                        .GetEventModel()
                        .BHasTag("mod_reviewed") &&
                        this.m_editModel.AddTag("mod_require_rereview"),
                      this.m_editModel.BHasTag("auto_migrated") &&
                        !this.m_editModel.GetEventModel().bOldAnnouncement &&
                        this.m_editModel.ClearTags(["auto_migrated"]),
                      o || t
                        ? (u.append(t ? "bPublish" : "bUpdate", "1"),
                          u.append("gid", this.m_editModel.GetGID()),
                          u.append(
                            "announcement_gid",
                            this.m_editModel.GetAnnouncementGID()
                          ))
                        : (this.m_editModel.GetEventModel().bOldAnnouncement &&
                            u.append(
                              "announcement_gid",
                              this.m_editModel.GetAnnouncementGID()
                            ),
                          u.append("bCreate", "1")),
                      u.append(
                        "rtime32_visibility_start",
                        "" + this.m_editModel.GetEventVisibilityStartTime()
                      ),
                      u.append(
                        "rtime32_visibility_end",
                        "" + this.m_editModel.GetEventVisibilityEndTime()
                      ),
                      u.append(
                        "start_time_is_now",
                        this.m_editModel.GetStartTimeEditChoice() ==
                          l.d.k_ENow ||
                          this.m_editModel.GetVisibilitySetting() ==
                            l.f.immediate
                          ? "1"
                          : "0"
                      ),
                      !t)
                    ) {
                      if (
                        ((p = "Untitled"),
                        !(E = (this.m_editModel.GetName(0) || "").trim()) ||
                          E === p)
                      ) {
                        for (b = "", v = 0; v < 30; ++v)
                          if (
                            ((h = (this.m_editModel.GetName(v) || "").trim()),
                            this.m_editModel.BIsLanguageValidForRealms(v) && h)
                          ) {
                            b = h;
                            break;
                          }
                        this.m_editModel.SetName(0, b || p);
                      }
                      for (
                        u.append("hidden", "" + this.m_editModel.BHidden()),
                          u.append(
                            "published",
                            "" + this.m_editModel.BPublished()
                          ),
                          u.append("appid", "" + this.m_editModel.GetAppID()),
                          u.append("event_name", this.m_editModel.GetName(0)),
                          u.append(
                            "event_type",
                            "" + this.m_editModel.GetEventType()
                          ),
                          u.append(
                            "body",
                            this.m_editModel.GetDescription(0)
                              ? this.m_editModel.GetDescription(0)
                              : ""
                          ),
                          u.append(
                            "rtime32_start_time",
                            "" + this.m_editModel.GetEventStartTime()
                          ),
                          u.append(
                            "rtime32_end_time",
                            "" + this.m_editModel.GetEventEndTime()
                          ),
                          u.append(
                            "jsondata",
                            "" + this.m_editModel.ConstructJSONData()
                          ),
                          u.append(
                            "tags",
                            JSON.stringify(
                              this.m_editModel.GetEventModel().vecTags
                            )
                          ),
                          u.append(
                            "build_id",
                            "" + this.m_editModel.GetEventModel().m_nBuildID
                          ),
                          u.append(
                            "build_branch",
                            this.m_editModel.GetEventModel().m_strBuildBranch
                          ),
                          this.m_editModel.BHasBroadcaster() &&
                            u.append(
                              "broadcaster_accountid",
                              "" +
                                this.m_editModel.GetBroadcaster().GetAccountID()
                            ),
                          f = 0;
                        f < 30;
                        ++f
                      )
                        this.m_editModel.BHasLanguage(f) &&
                          (u.append(
                            Object(m.c)(Object(m.a)(f)) + "_headline",
                            this.m_editModel.GetName(f)
                              ? this.m_editModel.GetName(f)
                              : ""
                          ),
                          u.append(
                            Object(m.c)(Object(m.a)(f)) + "_body",
                            this.m_editModel.GetDescription(f)
                              ? this.m_editModel.GetDescription(f)
                              : ""
                          ));
                    }
                    (S = this.m_editModel.GetAppID()),
                      (T =
                        j.c.COMMUNITY_BASE_URL +
                        "gid/" +
                        e.ConvertTo64BitString() +
                        "/ajaxcreateupdatedeletepartnerevents/"),
                      (a.label = 3);
                  case 3:
                    return a.trys.push([3, 6, , 7]), [4, r.a.post(T, u)];
                  case 4:
                    return (
                      (I = a.sent()),
                      Object(d.G)(function () {
                        if (
                          (Object(O.a)(
                            200 == I.status && 1 == I.data.success,
                            "We should only get 200 if we succeed in this method."
                          ),
                          A.m_editModel.GetGID() == c)
                        ) {
                          A.m_editModel.ClearDirty(),
                            t
                              ? (A.m_editModel.UpdateVisibilityState(
                                  I.data.published,
                                  I.data.hidden
                                ),
                                I.data.forum_topic_id &&
                                  (A.m_editModel.GetEventModel().forumTopicGID =
                                    I.data.forum_topic_id))
                              : (o ||
                                  (A.m_editModel.SetGIDs(
                                    e,
                                    I.data.gid,
                                    I.data.announcement_gid
                                  ),
                                  A.InsertUniqueEventGID(
                                    e.GetAccountID(),
                                    S,
                                    I.data.gid
                                  )),
                                I.data.localization_updates &&
                                  I.data.localization_updates.forEach(function (
                                    e
                                  ) {
                                    A.m_editModel
                                      .GetEventModel()
                                      .timestamp_loc_updated.set(
                                        e.lang,
                                        e.timestamp_updated
                                      );
                                  }));
                          var n = A.m_editModel.GetEventModel();
                          A.m_mapExistingEvents.set(n.GID, n),
                            A.m_editModel.Refresh(n);
                        }
                      }),
                      [
                        4,
                        this.GetLastUpdateTimeForEvent(
                          e,
                          this.m_editModel.GetGID(),
                          void 0,
                          void 0
                        ),
                      ]
                    );
                  case 5:
                    return (
                      (D = a.sent())
                        ? this.m_editModel.MarkUpdateSuccessful(
                            D.last_update_rtime,
                            D.last_updater_steamid
                          )
                        : this.m_editModel.MarkUpdateSuccessful(
                            Math.floor(Date.now() / 1e3),
                            g.a
                              .InitFromAccountID(j.i.accountid)
                              .ConvertTo64BitString()
                          ),
                      [2, I.data]
                    );
                  case 6:
                    return (
                      (w = a.sent()),
                      (G = Object(y.a)(w)),
                      console.error(
                        "InternalSaveAction failed: " + G.strErrorMsg,
                        G
                      ),
                      [2, { success: 2, msg: G.strErrorMsg }]
                    );
                  case 7:
                    return [2];
                }
              });
            });
          }),
          (t.prototype.LoadClanEventLocalization = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i,
                r,
                o = this;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return !(i = this.m_mapExistingEvents.get(t)) ||
                      (i.loadedAllLanguages && !n)
                      ? [3, 2]
                      : (r = i.AnnouncementGID) && "0" != r
                      ? [
                          4,
                          this.LoadClanEventLocalizationFromAnnouncementGID(
                            e,
                            r
                          ).then(function (e) {
                            e &&
                              Object(d.G)(function () {
                                i.loadedAllLanguages = !0;
                                for (var t = 0, n = e; t < n.length; t++) {
                                  var a = n[t];
                                  i.name.set(a.language, a.headline),
                                    i.description.set(a.language, a.body),
                                    i.timestamp_loc_updated.set(
                                      a.language,
                                      a.timestamp_updated
                                    );
                                }
                                o.m_editModel.Refresh(i);
                              });
                          }),
                        ]
                      : [2, this.m_editModel];
                  case 1:
                    a.sent(), (a.label = 2);
                  case 2:
                    return [2, this.m_editModel];
                }
              });
            });
          }),
          (t.prototype.FireTestEmail = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        j.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxtestfirepartnereventemail"),
                      Object(O.a)(
                        e && e.BIsValid(),
                        "FireTestEventNotifiation clan steamd is invalid " +
                          (e ? e.ConvertTo64BitString() : "undefined")
                      ),
                      (l = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      l.append("clan_event_gid", t),
                      l.append("clan_account_id", "" + e.GetAccountID()),
                      l.append("language", Object(m.a)(n)),
                      [4, r.a.post(o, l, { cancelToken: i.token })]
                    );
                  case 1:
                    return [2, a.sent().data];
                }
              });
            });
          }),
          (t.prototype.FireTestEventNotifiation = function (e, t, n, i) {
            return (
              void 0 === i && (i = 0),
              Object(a.b)(this, void 0, void 0, function () {
                var o, l;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return (
                        (o =
                          j.c.COMMUNITY_BASE_URL +
                          "eventemail/ajaxtestfireeventnotification"),
                        Object(O.a)(
                          e && e.BIsValid(),
                          "FireTestEventNotifiation clan steamd is invalid " +
                            (e ? e.ConvertTo64BitString() : "undefined")
                        ),
                        (l = new URLSearchParams()).append(
                          "sessionid",
                          j.c.SESSIONID
                        ),
                        l.append("clan_event_gid", t),
                        l.append("clan_account_id", "" + e.GetAccountID()),
                        l.append("notification_type", "" + i),
                        [4, r.a.post(o, l, { cancelToken: n.token })]
                      );
                    case 1:
                      return [2, a.sent().data];
                  }
                });
              })
            );
          }),
          (t.prototype.SetupPartnerEmailCampaign = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, o, l;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (i =
                        j.c.COMMUNITY_BASE_URL +
                        "eventemail/ajaxsetuppartneremail"),
                      (o = new URLSearchParams()).append(
                        "sessionid",
                        j.c.SESSIONID
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      [
                        4,
                        r.a.post(i, o, {
                          withCredentials: !0,
                          cancelToken: n.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (l = a.sent()),
                      [4, this.HandleEmailSetupResponse(e, t, l)]
                    );
                  case 2:
                    return [2, a.sent()];
                }
              });
            });
          }),
          (t.prototype.HandleEmailSetupResponse = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, r;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return n.data.force_feature_id && 1 == n.data.success
                      ? ((i = n.data.force_feature_id),
                        console.log(
                          "SetupPartnerEmailCampaign successful with feature id: " +
                            i
                        ),
                        [4, this.LoadEditorModel(e, t)])
                      : [3, 3];
                  case 1:
                    return (
                      (r = a.sent()),
                      new o.b(r).SetForceFeatureID(i),
                      [4, this.SaveModel(e)]
                    );
                  case 2:
                    return [2, a.sent()];
                  case 3:
                    return [2, n.data];
                }
              });
            });
          }),
          (t.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID = function (
            t,
            n,
            i,
            r,
            o,
            l
          ) {
            return (
              void 0 === l && (l = !1),
              Object(a.b)(this, void 0, void 0, function () {
                var l, s;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      return t ? [3, 2] : [4, v.a.LoadOGGClanInfoForAppID(n)];
                    case 1:
                      (l = a.sent()), (t = l.clanSteamID), (a.label = 2);
                    case 2:
                      return [4, f.a.Get().LoadSingleAppEventPermissions(t)];
                    case 3:
                      return (
                        (s = a.sent()),
                        [
                          2,
                          e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID.call(
                            this,
                            t,
                            n,
                            i,
                            r,
                            o,
                            s.can_edit
                          ),
                        ]
                      );
                  }
                });
              })
            );
          }),
          (t.prototype.RequestLocalizationOfEvent = function (e, t, n) {
            return Object(a.b)(this, void 0, void 0, function () {
              var i, o;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (i =
                        j.c.STORE_BASE_URL + "events/ajaxrequestlocalization"),
                      (o = new URLSearchParams()).append(
                        "authwgtoken",
                        j.i.authwgtoken
                      ),
                      o.append("clanid", "" + e.GetAccountID()),
                      o.append("gidevent", t),
                      o.append("primaryLang", "0"),
                      [4, r.a.post(i, o, { cancelToken: n.token })]
                    );
                  case 1:
                    return [2, a.sent().data];
                }
              });
            });
          }),
          (t.prototype.GetLastUpdateTimeForEvent = function (e, t, n, i) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l, s, c;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    (o =
                      j.c.COMMUNITY_BASE_URL +
                      "gid/" +
                      e.ConvertTo64BitString() +
                      "/ajaxgetlastupdatetimeforpartnerevent"),
                      (l = { eventgid: t, announcementgid: n }),
                      (a.label = 1);
                  case 1:
                    return (
                      a.trys.push([1, 3, , 4]),
                      [
                        4,
                        r.a.get(o, {
                          params: l,
                          withCredentials: !0,
                          cancelToken: i ? i.token : void 0,
                        }),
                      ]
                    );
                  case 2:
                    return [2, a.sent().data];
                  case 3:
                    return (
                      (s = a.sent()),
                      (c = Object(y.a)(s)),
                      console.error(
                        "GetLastUpdateTimeForEvent: Failed to get last update time: " +
                          c.strErrorMsg,
                        c
                      ),
                      [3, 4]
                    );
                  case 4:
                    return [2, null];
                }
              });
            });
          }),
          (t.prototype.SetupInternalPartnerCommunication = function (
            e,
            t,
            n,
            i
          ) {
            return Object(a.b)(this, void 0, void 0, function () {
              var o, l, s;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (o =
                        j.c.STORE_BASE_URL +
                        "events_admin/ajaxupdatepartneremailtarget"),
                      (l = new URLSearchParams()).append(
                        "authwgtoken",
                        j.i.authwgtoken
                      ),
                      l.append("sessionid", j.c.SESSIONID),
                      l.append("clan_accountid", "" + t.GetAccountID()),
                      l.append("gid_event", n),
                      l.append("partner_capability", "" + i.capability),
                      l.append("app_right_flags", "" + i.app_rights),
                      l.append("publisher_right_flags", "" + i.pub_rights),
                      l.append("mark_urgent", "" + i.priority),
                      l.append("appids", i.appids.join(",")),
                      l.append("publisherids", i.partnerids.join(",")),
                      [
                        4,
                        r.a.post(o, l, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return (
                      (s = a.sent()),
                      [4, this.HandleEmailSetupResponse(t, n, s)]
                    );
                  case 2:
                    return [2, a.sent()];
                }
              });
            });
          }),
          (t.prototype.GetPartnerCapabilities = function (e) {
            return Object(a.b)(this, void 0, void 0, function () {
              var t, n;
              return Object(a.e)(this, function (a) {
                switch (a.label) {
                  case 0:
                    return (
                      (t =
                        j.c.STORE_BASE_URL +
                        "events_admin/ajaxgetcapabilities"),
                      (n = new URLSearchParams()).append(
                        "authwgtoken",
                        j.i.authwgtoken
                      ),
                      n.append("sessionid", j.c.SESSIONID),
                      [
                        4,
                        r.a.post(t, n, {
                          withCredentials: !0,
                          cancelToken: e.token,
                        }),
                      ]
                    );
                  case 1:
                    return [2, a.sent().data.capabilities];
                }
              });
            });
          }),
          (t.prototype.GetSteamAwardVoteDefinitionForApp = function (e) {
            var t = this;
            if (!this.m_bLoadedOrInflightSteamAwardVoteDefinitions) {
              this.m_bLoadedOrInflightSteamAwardVoteDefinitions = !0;
              var n = j.c.STORE_BASE_URL + "steamawards/ajaxgetpartnervotedefs",
                a = new URLSearchParams();
              a.append("authwgtoken", j.i.authwgtoken),
                a.append("sessionid", j.c.SESSIONID),
                a.append("appid", e.toString()),
                r.a.post(n, a, { withCredentials: !0 }).then(
                  function (e) {
                    var n, a, i;
                    1 ==
                      (null === (n = null == e ? void 0 : e.data) ||
                      void 0 === n
                        ? void 0
                        : n.success) &&
                      (null ===
                        (i =
                          null === (a = null == e ? void 0 : e.data) ||
                          void 0 === a
                            ? void 0
                            : a.votes) || void 0 === i
                        ? void 0
                        : i.length) > 0 &&
                      e.data.votes.forEach(function (e) {
                        t.m_mapSteamAwardVoteDefinitionsForApp.has(e.appid)
                          ? t.m_mapSteamAwardVoteDefinitionsForApp
                              .get(e.appid)
                              .push(e)
                          : t.m_mapSteamAwardVoteDefinitionsForApp.set(
                              e.appid,
                              [e]
                            );
                      });
                  },
                  function (e) {
                    var t = Object(y.a)(e);
                    console.error(
                      "LoadSteamAwardVoteDefinitionsForPartner: Request failed: " +
                        t.strErrorMsg,
                      t
                    );
                  }
                );
            }
            return this.m_mapSteamAwardVoteDefinitionsForApp.get(e);
          }),
          Object(a.c)([d.C], t.prototype, "m_curHoverCategoryType", void 0),
          Object(a.c)([d.C], t.prototype, "m_curHoverCategoryTags", void 0),
          Object(a.c)(
            [d.C],
            t.prototype,
            "m_mapSteamAwardVoteDefinitionsForApp",
            void 0
          ),
          Object(a.c)([d.k], t.prototype, "ResetModel", null),
          Object(a.c)([d.k], t.prototype, "LoadClanEventLocalization", null),
          t
        );
      })(h.a))();
      function G(e, t) {
        var n = p.a.useState(null),
          a = n[0],
          i = n[1];
        return (
          p.a.useEffect(
            function () {
              var n = g.a.InitFromClanID(e);
              w.LoadClanEventsForPartnerDashboard(n, t).then(function (e) {
                return i(
                  e.filter(function (e) {
                    return !e.BIsStagedEvent() && !e.BIsVisibleEvent();
                  })
                );
              });
            },
            [e, t]
          ),
          a
        );
      }
      window.g_PartnerEventEditStore = w;
    },
    tzvv: function (e, t, n) {
      e.exports = {
        SortTierControls: "partnereventsalesorttiers_SortTierControls_1_f_6",
        SortTierExplanation:
          "partnereventsalesorttiers_SortTierExplanation_1U8SA",
        AutoTierButton: "partnereventsalesorttiers_AutoTierButton_3uDH_",
      };
    },
    vBFs: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return m;
      });
      var a = n("mrSG"),
        i = n("TyAF"),
        r = n("q1tI"),
        o = n("mgoM"),
        l = n("kyHq"),
        s = n("fpVW"),
        c = n.n(s),
        d = n("exH9"),
        u = n("TLQK"),
        p = n("opsS"),
        m = (function (e) {
          function t() {
            return (null !== e && e.apply(this, arguments)) || this;
          }
          return (
            Object(a.d)(t, e),
            (t.prototype.GenerateLanguageOptions = function () {
              var e,
                t = [],
                n = this.props,
                a = n.fnFilterLanguage,
                i = n.fnLangHasData,
                s = n.fnLastUpdateRTime,
                p = n.fnIsLangSupported;
              this.props.bAllowUnsetOption &&
                t.push(
                  r.createElement(
                    "option",
                    { key: "langpicker_unset", value: -1 },
                    Object(u.f)("#EventEditor_NoneLanguage")
                  )
                );
              for (
                var m = new Array(),
                  _ = this.props.realms || [l.f.k_ESteamRealmGlobal],
                  g = 0,
                  E = u.b.GetLanguageListForRealms(_);
                g < E.length;
                g++
              ) {
                var b = E[g];
                if (!a || a(b)) {
                  var v = Object(o.a)(b),
                    h = Object(u.f)("#Language_" + v),
                    f = Boolean(p) && p(b);
                  m.push({ eLang: b, sLocName: h, bSupported: f });
                }
              }
              m.sort(function (e, t) {
                return e.bSupported != t.bSupported
                  ? e.bSupported
                    ? -1
                    : 1
                  : e.sLocName.localeCompare(t.sLocName);
              });
              for (var S = !1, O = 0, y = m; O < y.length; O++) {
                (b = y[O]).bSupported != S &&
                  (t.push(
                    r.createElement(
                      "option",
                      {
                        key: b.bSupported
                          ? "SupportedGroup"
                          : "UnsupportedGroup",
                        className: c.a.SupportedGroupLabel,
                        disabled: !0,
                      },
                      Object(u.f)(
                        b.bSupported
                          ? "#LanguageGroup_Supported"
                          : "#LanguageGroup_Unsupported"
                      )
                    )
                  ),
                  (S = b.bSupported));
                var C = i && i(b.eLang),
                  j = s && s(b.eLang),
                  T = b.sLocName;
                j &&
                  0 !== j &&
                  ((T += " "),
                  (T += Object(u.f)(
                    "#Language_Last_Update",
                    Object(u.o)(j) + " @ " + Object(u.m)(j)
                  ))),
                  t.push(
                    r.createElement(
                      "option",
                      {
                        key: "langpicker" + b.eLang + (C ? "_hasdata" : ""),
                        value: b.eLang,
                        className: Object(d.a)(
                          ((e = {}), (e[c.a.LangaugeWithContent] = C), e),
                          b.bSupported
                            ? c.a.SupportedLanguage
                            : c.a.UnsupportedLanguage
                        ),
                      },
                      T
                    )
                  );
              }
              return t;
            }),
            (t.prototype.OnLanguageChange = function (e) {
              var t = this.props,
                n = t.fnOnLanguageChanged,
                a = t.selectedLang,
                i = Number.parseInt(e.currentTarget.value);
              i != a && n && n(i);
            }),
            (t.prototype.render = function () {
              var e = this.props.selectedLang,
                t = this.GenerateLanguageOptions();
              return r.createElement(
                "select",
                { value: e, onChange: this.OnLanguageChange },
                t
              );
            }),
            Object(a.c)([p.a], t.prototype, "OnLanguageChange", null),
            (t = Object(a.c)([i.a], t))
          );
        })(r.Component);
    },
    w7rs: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0M1MEE4RDkxREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0M1MEE4REExREYwMTFFOUJGNjhDQjk4QzYxOUI2RUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQzUwQThENzFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQzUwQThEODFERjAxMUU5QkY2OENCOThDNjE5QjZFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkFcBtEAAADkSURBVHjaYvz//z8DCDCBiHfv3v0HCCBGmAgIiIAIgAACizAyMgpABf8wICsBAYAAYsQQAGIeIGaB8j+Aybdv3/6HGYoBAAIIwwx0ADYL6AwRoDGvkSWEhYVFgdQbdGeJoNtF0AqAACKogImBAGCEOpQHi9wXoOl/wAqAPviNLgv0BStIAciKPyAOuiQ45NHDBBqksHBmIOQBsAIWQqoAAoxgOBACTAwUAlhkcwA9+J1YTcBQ4gRSP8DpFZpoYYYJoKcaLCnoAyyI0Q1AdhWKQegaUaIBTyCCDOJAjjds0TTwsQAAEO5yLEGNvDIAAAAASUVORK5CYII=";
    },
    wLVu: function (e, t, n) {
      e.exports = {
        TableOfContentsContainer:
          "tableofcontents_TableOfContentsContainer_2VyHw",
        TableOfContents: "tableofcontents_TableOfContents_3-gNE",
        TOCEntry: "tableofcontents_TOCEntry_2fked",
        TOCEntryText: "tableofcontents_TOCEntryText_2E83D",
        SectionOnScreen: "tableofcontents_SectionOnScreen_1ZlX0",
        TOCIndent: "tableofcontents_TOCIndent_mtCjw",
        Header: "tableofcontents_Header_1JRRC",
        ManageLocCtn: "tableofcontents_ManageLocCtn_1PmKQ",
        LocButtonsCtn: "tableofcontents_LocButtonsCtn_19-WG",
        ManageLocContents: "tableofcontents_ManageLocContents_N1BFb",
      };
    },
    wUcC: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return E;
      });
      var a = n("mrSG"),
        i = n("EA3E"),
        r = n("TyAF"),
        o = n("q1tI"),
        l = n("Cs6D"),
        s = n("Mgs7"),
        c = n("fpVW"),
        d = n("5E+2"),
        u = n("exH9"),
        p = n("TLQK"),
        m = n("opsS"),
        _ = n("as1E"),
        g = n("JiI5"),
        E = (function (e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.state = { strCustomTitle: "", bSelectedCustomTitle: !1 }), t
            );
          }
          var n;
          return (
            Object(a.d)(t, e),
            (n = t),
            (t.prototype.componentDidMount = function () {
              this.setState({
                strCustomTitle: p.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
              });
            }),
            (t.prototype.componentDidUpdate = function (e, t) {
              var n = p.a.Get(
                this.props.localized_label,
                this.props.editLanguage
              );
              n != t.strCustomTitle &&
                e.editLanguage != this.props.editLanguage &&
                this.setState({ strCustomTitle: n });
            }),
            (t.prototype.GetTitleOptions = function (e) {
              var t = {
                  value: "#Sale_default_label",
                  label: Object(p.f)("#Sale_default_label"),
                },
                n = {
                  value: "#Sale_default_label_custom",
                  label: Object(p.f)("#Sale_default_label_custom"),
                };
              if (e) return [n];
              for (var i = [], r = 0, o = 1; r < 5; o++) {
                var l = "#Sale_default_label_" + o,
                  s = Object(p.f)(l);
                l === s ? r++ : ((r = 0), i.push({ value: l, label: s }));
              }
              return (
                i.sort(function (e, t) {
                  return e.label.localeCompare(t.label);
                }),
                Object(a.g)([t, n], i)
              );
            }),
            (t.IsValidTitleOption = function (e) {
              return (
                e &&
                "#Sale_default_label" !== e &&
                "#Sale_default_label_custom" !== e
              );
            }),
            (t.prototype.OnTitleChange = function (e) {
              var t = n.IsValidTitleOption(e.value) ? e.value : "";
              this.props.default_label !== t && this.props.onSetDefaultLabel(t),
                this.setState({
                  bSelectedCustomTitle:
                    "#Sale_default_label_custom" === e.value,
                });
            }),
            (t.prototype.OnCustomTitleChange = function (e) {
              this.setState({ strCustomTitle: e.target.value });
            }),
            (t.prototype.OnClearCustomTitle = function () {
              this.setState({ strCustomTitle: "" }),
                this.props.onClearCustomTitle();
            }),
            (t.prototype.render = function () {
              var e = this,
                t = p.a.Get(
                  this.props.localized_label,
                  this.props.editLanguage
                ),
                n = Boolean(
                  p.a.GetWithFallback(
                    this.props.localized_label,
                    this.props.editLanguage
                  )
                ),
                r = this.GetTitleOptions(n),
                m = this.props.default_label
                  ? {
                      label: Object(p.f)(this.props.default_label),
                      value: this.props.default_label,
                    }
                  : r[0],
                E = this.state.bSelectedCustomTitle || n;
              E &&
                (m = r.find(function (e) {
                  return "#Sale_default_label_custom" === e.value;
                }));
              var b = {
                option: function (e) {
                  return Object(a.a)(Object(a.a)({}, e), { color: "#444444" });
                },
              };
              return o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: g.DefaultTitlePicker },
                  o.createElement(
                    "div",
                    { className: _.TitleSelectionContainer },
                    o.createElement(l.a, {
                      styles: b,
                      isSearchable: !0,
                      isMulti: !1,
                      onChange: this.OnTitleChange,
                      value: m,
                      options: r,
                      defaultMenuIsOpen: !1,
                    })
                  )
                ),
                E &&
                  o.createElement(
                    o.Fragment,
                    null,
                    o.createElement("div", null, o.createElement(i.c, null)),
                    o.createElement(
                      "div",
                      { className: g.customTitleOptionsCtn },
                      o.createElement(
                        "div",
                        {
                          className: Object(u.a)(
                            c.FlexRowContainer,
                            g.CustomTitleCtn
                          ),
                        },
                        o.createElement(
                          "div",
                          { className: g.LanguageInput },
                          o.createElement(s.l, {
                            placeholder: Object(p.f)("#Broadcast_use_custom"),
                            onChange: this.OnCustomTitleChange,
                            value: this.state.strCustomTitle,
                          })
                        ),
                        o.createElement(
                          "div",
                          { className: g.AddTitleButton },
                          o.createElement(
                            d.a,
                            {
                              toolTipContent: Object(p.f)(
                                "#Broadcast_save_title_ttip"
                              ),
                            },
                            o.createElement(
                              s.q,
                              {
                                onClick: function () {
                                  return e.props.onSetCustomTitle(
                                    e.state.strCustomTitle
                                  );
                                },
                                disabled: t == this.state.strCustomTitle,
                              },
                              Object(p.f)("#Broadcast_save_title")
                            )
                          )
                        ),
                        o.createElement(
                          "div",
                          { className: g.RemoveTitleButton },
                          o.createElement(
                            d.a,
                            {
                              toolTipContent: Object(p.f)(
                                "#Broadcast_remove_title_ttip"
                              ),
                            },
                            o.createElement(
                              s.q,
                              {
                                onClick: this.OnClearCustomTitle,
                                disabled: !t,
                              },
                              Object(p.f)("#Broadcast_remove_title")
                            )
                          )
                        )
                      )
                    )
                  )
              );
            }),
            Object(a.c)([m.a], t.prototype, "OnTitleChange", null),
            Object(a.c)([m.a], t.prototype, "OnCustomTitleChange", null),
            Object(a.c)([m.a], t.prototype, "OnClearCustomTitle", null),
            (t = n = Object(a.c)([r.a], t))
          );
        })(o.Component);
    },
    wYOC: function (e, t, n) {
      e.exports = {
        adult_content_age_gate: "communityagegate_adult_content_age_gate_2PyPU",
        ButtonRow: "communityagegate_ButtonRow_2I-G6",
        checkbox: "communityagegate_checkbox_3zQBG",
        edit_link: "communityagegate_edit_link_1fSrN",
        edit_preference: "communityagegate_edit_preference_3eHEB",
        header_image: "communityagegate_header_image_3H7w6",
        descriptor: "communityagegate_descriptor_3s2aY",
        strong: "communityagegate_strong_3lsXG",
      };
    },
    wrTd: function (e, t) {
      e.exports =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABo1JREFUeNrsWg1MVlUY/iDTElOcI9ZgZBorV8ywVFYGc05mZQbmMgoNk37NQq3IJZWoLf+l9eMqSQ1lpm4aWgStpauZYbl+wK3EssjKflYmtAyi59Hnbme3e7/v3o9PVtt9t2fnfPe+55x7z3Pe97znvV9cZ2dnKJD/pvTwqji5oLAPiuuAscBwYBDQR7dbgWZgP1APbN9UXXU8mN6uSVwkywEpyShKgTsMMiJJG1AJLAZJLcE0x5gckBKH4i5gCXBOlP3TesqACpAU+M9YkANieqN4GbgpRuPsYLcgqC2Y8i6QI2I4maNjPNYHwJhgL4qSHLmyzcCNUfTVAewGPtHvoUA2EG/o1DKoAEF/B1PvP1q7P0pidjFgwKR/YbPCdBQviSTKOOAR4Mlg6n1YDiYyBQUn92yffbwJXC/L4R6Va1ynFZ4B7FQITvkTyLATGci/xXQ5ZVEQw/NNkeo1wBxgr8D6awDZv026lF7AY8HUe7QcWE1/1I8AZ/lsvxYWMA3t6Q4n0jrw+y9ZIl1mHbAN157G73WoTzX2p1Rc/97D4XegiL4SSAR+VHCxBu0/ls5CFJdG6KoG+muk/wKKc130jkLvTofn4KKqAs4EGqCzyOV556IYCRyEzoMuOv0UDcfrPWpwrQD1nnw//H7dtJyJURBjRWBW+6UWMRTU23kNyNOlvUY7urrJHoi5GAUJuA8YpqwEX3wm8D7uD5DqKOCGCMgwus4No5fr8jh03ZOkU4axE130RkpnDnQud9HhgT5feoOhd772/1vNM6UVEIyNgpgTis5Ccoe/O+jwWm/V2233OGZFhDEYPPRV25kiipZUCHyGBfCz9J6hhapOEm5XfQHwi+r7Hfpnqmmjw8HZSYqMei9N5LMRnr/UflYEEbS8B2x6fI8kvcdgOznDoyDncUxOo+rvArcYZFlSaFy7yHbvCg9jDFTZjLFWq74HqMZLxhtWusV4+TyDnErc+ypM/024v9aDBZ+nSNN6V1rqdA/kTELbCzHGQeMayUo1lXj2g95WVGlp6+3kJPsk5j25LEsWA/swwAqU1iTSb19D4uWv7dmGZFxPwIO1hhnncyCHxEJ3h1ZWPdp0xOis1Fd7miktcsmmTJErJtGz5c4z0XYYdD8Kt6cDDykNZonjPoR+DqM47BSt8QEfBg55zJdN5QQZHR9FkSUX9JZAn5yle/Ptq0WSGGGsJ0Knst0UZsTfYOCCSVkQxuf7kWnAlzakhnFpm/A+DTpyhAwLdZK3Ae7BRbI8WuAYFJcBJPQ3T6E0BvwJoCWka7UzBHZbmSXQPeTA/BGgGEgTihl54IHmy/f6FvapTMMs4FNdZpQ1D/jQCAhOm2CMESiGWI+kstpy27jvFkh9A2xQBFaia7NVPuU7QyBXwRRLLQZNk2sqFlF8oANWOBrmZZK0h2XqfJMeRv1XDwTR7a0i0Pcl2uTzFbkxNF/ZhblntrzEg3VZZ7ocPEOOYfH9lFHZ4NJ2qebgbrTjgr9WVsf95UU/h1D7pHwNcIWmaSJITgYGmcG9woWY8SgalRFYGIGYHyLsN+wvQecl65kabZFO0mm2GlpFgX4maCGsVJrLkulh5rBJh3O6++26vMTrftnDw8o9oSo3/DbtTVwJV+HeMb0EQ+nlwD0+3n2fBx1OwgytuiaFsAXG/YYuzj83dbvlHMN7VaqeJ+s4OanAH4beUN0fjT4GObl6w4VNAAbooL/eV+JT4SeTk8+Hy3lpJXCD2yg/Wo56psx6iM+JqfegczOQ4kJ6nbEao5VsIylrCSOmSlsgwDNVqc2qUnWIjFNgMM9lzvZAd7fGWWEsds+Ws0tuaxY6YqT1nNId7S7tuC/lQzdLbXv6nJQOY3MNJ+N0VuK3pQsUznKFblHqyMk9fGeQ5vZxry5c+sbwBq3qa6vDpLdAp0LP1d+4ZWVCzBCbi2uEntuSnXKVzV6y0qtt8fi3iu/fsX9ihu5y5ZgOiEi/UoU+pwSpTe97ziKRYaVbUpQ+4QphFvkVnQPGKwLhSlgXxZj8ZFAeTH1kMVMgjMsftd3PVfi3TMm6zSLlauWWRkUxZnnwLce/5YSUiMzWOcKSVUoq8nzTIh+7TKT5lVqvB7BAgj94/D/cmuHe2rSvvBrDcU6SHRDTRXIMgnjGuDfk/J3GqxxXXmxC8J+1GLg1hxQGPyfM1UHL6z8/g7/jdgc5Zp4rdOpTrflHdivHZv6RnYfYbYEL60ZyAul++UeAAQDyv2dSS4HffQAAAABJRU5ErkJggg==";
    },
    wrcz: function (e, t, n) {
      e.exports = {
        AddTitleButton: "partnereventbroadcast_AddTitleButton_XKHg8",
        CustomTitleCtn: "partnereventbroadcast_CustomTitleCtn_1qoSQ",
        LanguageContainer: "partnereventbroadcast_LanguageContainer_3WmqO",
        customTitleOptionsCtn:
          "partnereventbroadcast_customTitleOptionsCtn_zhH_V",
        TitleRowCtn: "partnereventbroadcast_TitleRowCtn_96im4",
        AccountRow: "partnereventbroadcast_AccountRow_2uIyv",
      };
    },
    wst7: function (e, t, n) {
      e.exports = {
        DisplayAdminPanel_Spacer:
          "partnereventcontrolbars_DisplayAdminPanel_Spacer_3TzVF",
        EventEditorTopBarContainer:
          "partnereventcontrolbars_EventEditorTopBarContainer_1Afx7",
        EventPublished: "partnereventcontrolbars_EventPublished_3zTXC",
        EventUnPublished: "partnereventcontrolbars_EventUnPublished_pjxnm",
      };
    },
    "xs+m": function (e, t, n) {
      e.exports = {
        ContentHubSectionCtn:
          "contenthubsectionseditor_ContentHubSectionCtn_G2T4g",
        ContentHubSectionInnerCtn:
          "contenthubsectionseditor_ContentHubSectionInnerCtn_Xl-LL",
      };
    },
    yKSN: function (e, t, n) {
      "use strict";
      n.d(t, "a", function () {
        return O;
      }),
        n.d(t, "b", function () {
          return y;
        });
      var a = n("mrSG"),
        i = n("NpuA"),
        r = n.n(i),
        o = n("q1tI"),
        l = n.n(o),
        s = n("mgoM"),
        c = n("kyHq"),
        d = n("U+Q5"),
        u = n("Mgs7"),
        p = n("fpVW"),
        m = n("Jqb/"),
        _ = n("ka0M"),
        g = n("0OaU"),
        E = n("exH9"),
        b = n("TLQK"),
        v = n("P2lf"),
        h = n("OS6B"),
        f = n("5E+2"),
        S = n("KmXr"),
        O = function (e) {
          var t = function (t, n) {
            t.preventDefault();
            var a = e.fnGetLocData,
              i = e.closeModal,
              r = e.strFileNamePrefix,
              o = e.lang,
              l = a(),
              c = new v.a(),
              d = r ? r + "_localization" : "localization";
            switch (n) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(l, d + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(l, d + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  l,
                  d + ".csv"
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  l,
                  o,
                  d + "_" + Object(s.c)(Object(s.a)(o)) + ".xml"
                );
            }
            i && i();
          };
          return l.a.createElement(
            l.a.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              l.a.createElement(
                l.a.Fragment,
                null,
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_row");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_RowLanguages")
                ),
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_column");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_ColumnLanguages")
                ),
                l.a.createElement(
                  u.q,
                  {
                    onClick: function (e) {
                      return t(e, "csv_token");
                    },
                  },
                  Object(b.f)("#Localization_Export_Btn_TokenLanguages")
                )
              ),
            Boolean(e.bShowXML) &&
              l.a.createElement(
                u.q,
                {
                  onClick: function (e) {
                    return t(e, "xml");
                  },
                },
                Object(b.f)("#Localization_Export_Btn_XML")
              )
          );
        },
        y = function (e) {
          var t = Object(o.useState)(!1),
            n = t[0],
            i = t[1],
            u = function (e, t) {
              i(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e
                ),
                Object(_.d)(
                  l.a.createElement(
                    m.f,
                    null,
                    l.a.createElement(
                      "div",
                      null,
                      l.a.createElement(
                        "p",
                        null,
                        Object(b.f)("#Localization_Error_Input")
                      ),
                      l.a.createElement("p", null, e.message)
                    )
                  ),
                  window
                );
            },
            O = function (e) {
              i(!1);
              var t = "";
              e.forEach(function (e) {
                t.length > 0 && (t += ", "),
                  (t += Object(b.f)("#Language_" + Object(s.a)(e)));
              }),
                Object(_.d)(
                  l.a.createElement(
                    m.d,
                    {
                      strTitle: Object(b.f)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    l.a.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? Object(b.f)(
                            "#Localization_Success_ImportComplete_NoChange"
                          )
                        : Object(b.f)("#Localization_Success_ImportComplete", t)
                    )
                  ),
                  window
                );
            },
            y = function (t) {
              return Object(a.b)(void 0, void 0, void 0, function () {
                var n, o, l, s, p, m, _, g;
                return Object(a.e)(this, function (a) {
                  switch (a.label) {
                    case 0:
                      if (!((n = t.target.files) && n.length > 0))
                        return [3, 10];
                      i(!0),
                        (o = new Array()),
                        (l = new v.a()),
                        (s = 0),
                        (a.label = 1);
                    case 1:
                      return s < n.length
                        ? n[s]
                          ? n[s].name.toLocaleLowerCase().endsWith(".csv")
                            ? (r.a.parse(n[0], {
                                header: !0,
                                complete: function (t) {
                                  var n = new v.a().DetectAndFormatCSV(t);
                                  if (n) {
                                    var a = b.b.GetLanguageListForRealms([
                                        c.f.k_ESteamRealmGlobal,
                                      ]),
                                      i = e.fnOnImportLocData(n, a);
                                    O(i);
                                  } else
                                    u({
                                      code: "",
                                      message: "",
                                      row: 0,
                                      type: "filenameerror",
                                    });
                                },
                                error: u,
                              }),
                              [2])
                            : [3, 2]
                          : [3, 8]
                        : [3, 9];
                    case 2:
                      if (!n[s].name.toLocaleLowerCase().endsWith(".xml"))
                        return [3, 7];
                      if (
                        null ==
                          (p = d.d.DetectLanguageFromFilename(n[s].name)) ||
                        -1 == p
                      )
                        return (
                          u({
                            code: "",
                            message: Object(b.f)(
                              "#Localization_Error_FileLangauage",
                              n[s].name
                            ),
                            row: 0,
                            type: "filenameerror",
                          }),
                          [2]
                        );
                      a.label = 3;
                    case 3:
                      return (
                        a.trys.push([3, 5, , 6]),
                        [4, l.ReadLocalizationData_XML_SingleLanguage(n[s], p)]
                      );
                    case 4:
                      return (
                        (m = a.sent()),
                        e.fnOnImportLocData(m, [p]).map(function (e) {
                          -1 == o.indexOf(e) && o.push(e);
                        }),
                        [3, 6]
                      );
                    case 5:
                      return (
                        (_ = a.sent()),
                        (g = Object(h.a)(_)),
                        u({
                          code: "",
                          message: Object(b.f)(
                            "#Localization_Error_XMLParseError",
                            g.strErrorMsg
                          ),
                          row: 0,
                          type: "parseerror",
                        }),
                        [2]
                      );
                    case 6:
                      return [3, 8];
                    case 7:
                      u({
                        code: "",
                        message: Object(b.f)(
                          "#Localization_Error_FileExtention",
                          n[s].name
                        ),
                        row: 0,
                        type: "filenameerror",
                      }),
                        (a.label = 8);
                    case 8:
                      return ++s, [3, 1];
                    case 9:
                      O(o), (a.label = 10);
                    case 10:
                      return [2];
                  }
                });
              });
            };
          return l.a.createElement(
            f.a,
            {
              className: Object(E.a)(
                e.className ? e.className : p.EditPreviewButton
              ),
              toolTipContent: e.strToolTip,
            },
            l.a.createElement(
              "label",
              { className: S.ImportButton, htmlFor: "importlocalization" },
              n && l.a.createElement(g.a, { size: "small" }),
              l.a.createElement(
                "div",
                { className: S.Label },
                Object(b.f)(
                  e.strLabel ? e.strLabel : "#Localization_Import_Btn"
                )
              ),
              l.a.createElement("input", {
                id: "importlocalization",
                className: S.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: y,
                onChange: y,
                multiple: !0,
              })
            )
          );
        };
    },
    zoOh: function (e, t, n) {
      e.exports = {
        EventTimeSection: "partnereventdates_EventTimeSection_O7lDS",
        EventTimeTitle: "partnereventdates_EventTimeTitle_1-4F8",
        EventVisibilityItem: "partnereventdates_EventVisibilityItem_Z5DNw",
        EventEditorInputPaneContainer:
          "partnereventdates_EventEditorInputPaneContainer_3Fhef",
        TimeWidth: "partnereventdates_TimeWidth_3_7ku",
        EventPublishTimeCtn: "partnereventdates_EventPublishTimeCtn_3mtSl",
        InputBorder: "partnereventdates_InputBorder_2-wu6",
        TimeBlock: "partnereventdates_TimeBlock_9q9ZA",
        TimeRowContainer: "partnereventdates_TimeRowContainer_2cnMo",
        TimeRowDropDown: "partnereventdates_TimeRowDropDown_VlpIL",
        EndDateAmountCtn: "partnereventdates_EndDateAmountCtn_1Xbr7",
        EndRound: "partnereventdates_EndRound_1ppi6",
        VisibilityItemList: "partnereventdates_VisibilityItemList_1Cnd3",
        VisibilityItems: "partnereventdates_VisibilityItems_1m6k3",
        EventEditorVisibilityCtn:
          "partnereventdates_EventEditorVisibilityCtn_3hqZR",
      };
    },
    zrk3: function (e, t, n) {
      e.exports = {
        ModeratorAuditActionCtn:
          "eventmoderationaudit_ModeratorAuditActionCtn_f6z__",
        ExpandModActions: "eventmoderationaudit_ExpandModActions_3nNMe",
      };
    },
  },
]);
