/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [2741],
  {
    34633: (e) => {
      e.exports = {
        strMaxCartPartResponsiveWidth: "840px",
        CartCard: "tVR7nCVynuzImpvF9viMI",
      };
    },
    86711: (e) => {
      e.exports = {
        strMaxCartPartResponsiveWidth: "840px",
        CartCard: "_1MfAwU630QwDv6FuV9c_Dr",
        LineItemsCtn: "_3ypRUtQoOfOrCsyHlzfGm4",
        StoreSalePriceBox: "_5m_q0MLlnLkt_KBd7iMbO",
        StoreSaleDiscountedPriceCtn: "_1ZzX6NkuELfMhPL0SJCQSK",
        LineItemWrapper: "XjPmFc2t_i1DAuEXEbIX",
        LineItemCapsule: "_2Xz_WXO8PfREP4c9ZWAuNg",
        HeaderImg: "_37_1K2XQrVBwncWFXTcpMP",
        HeaderImgBlurred: "_3hT2r7Sb_Yx9PdYSB0rjpl",
        LineItemPlaceholder: "_1_mV-2sC0r25eLrKyufPRK",
        AddRemoveLinks: "_2Agry3evdkG3gKPyhNf7Hz",
        RemoveLineItem: "_3YCgcpoCojlbS6DvkNsG2J",
        AddLineItem: "_2qvlyUCwtTBUslo1Z7-RlG",
        VerifyLineItem: "_2HO_qGTXtEZz_EF60S6hfS",
        LineItemRightCol: "ysGS-IPPWEkwN-O5rr-0V",
        InnerLineItemCtn: "_3F0SnUeC_obtI4WyQtijAa",
        LineItemDetailsCtn: "_3GKl4T2MbvnGPvRzyXC5nQ",
        LineItemCol: "HhD4RK0A4phOlAwZQDckk",
        LineItemDetailsRow: "_1wLomHB2PWPNx7TsNYpdtm",
        LineItemDetailsRowTop: "_1aXXp4afkXP3Ez03MjTY3D",
        LineItemSpaceBetween: "_3L6hUlrzXOezye2BqWz-T7",
        LineItemTitle: "EflKs0JjldhDSxbUBaiOp",
        LineItemPricingOptions: "_2BTcfC4-tZENmEAXbVzKA7",
        LineItemDropDown: "QL-7d2s_ZGbceWxP5eoY4",
        PlatformIcons: "_2FgjpNRRiZkDXAB53vFFOh",
        AddLineItemCtn: "_3-GZz-m5p_fxd2pqPGK6u9",
        AddLineItemIcon: "_4Uz7u01J6OO_P0hhfb0Kc",
        PendingLineItem: "_3w61e3curroiu7lCOKvLN8",
        FlexRow: "_2Y0WvaYzp-79xegxjV_kQI",
        PriceWidget: "_3_q-F_MXXBH_JQPJvWznnc",
        Warning: "_1_vNtL4JTtFLtSgY25zz_5",
        LineItemNoticeAppsCtn: "_2bBPt2vaBRl7xTiWEkA-PR",
        LoadingThrobber: "_9ECtylscKVGNrQpLPlds0",
        DropDownThin: "_2GLDG_XIMaVS7hU2xEFzBo",
        DropDownOptionsCtnThin: "_1Vsr8vtFZd-ID4w4nvUjbe",
        DropDownOptionItem: "_3RfIktrc1KzaKTWmWS3JLC",
        WhiteText: "_1CYn6Bwc5kuZ25-Gyb9btE",
        ErrorLineItem: "_2Qnb-DOaU8BbFWOUBG3hs1",
        Left: "Twv2unKjIVTB3vmgieygi",
        Error: "_2LPurUnl-MyMX6q6B0uNX",
        Muted: "_3efIWtJm5nAuQLmq9N3nJd",
        GiftForNotice: "tKoWmz4HQdpU6S-Fq6IEh",
        Name: "_2BZrRaucjIMeqixZMVlakn",
        RemoveButton: "_1j8t9ZjX3tyKrSBnkY6IeG",
        LineItemStoreHover: "MaJOGQvA8cOPjY5-v5S-c",
      };
    },
    18714: (e) => {
      e.exports = {
        narrowWidth: "500px",
        "duration-app-launch": "800ms",
        MainCarousel: "_3SWsMT4_EVVsmPbanjlEy4",
        FeatureCtn: "_10K5p_DOyGW-WttCA1UwuC",
        StoreSection: "OyJ48UmHDKl9fN7ue4oPF",
        SectionTitle: "_2RnIwgy025bixjWk2UTw40",
        SectionDescription: "nVpbhpPkgrAwu1ZjFf7-B",
        SectionTitleCtn: "_3LagaO9m29xPGnO2YwpQnq",
        SpotlightsColumn: "_2Y2C1oQ7JEMkq2AoDp_S0A",
        SpecialsItem: "_1txjwTLoJcqr0tBIHfKXTG",
        SpotlightCtn: "_10ZMM-6TwuIxLIDYNo11cI",
        SpotlightImageCtn: "_1bl_5_eovS3fDHK3GbmixH",
        CapsuleDecorators: "_2kI35iD_oF1-ul1amEDSsK",
        SpotlightTextCtn: "_1clRj5v7vU3Cuj7x9c3ZNZ",
        SpotlightTitle: "_2egM2GG5RaDSQYVNWlMHat",
        SpotlightBody: "_1ls2pcPp4wzuE2mXhMudcd",
        SpotlightWeeklongTextCtn: "_3oM7Hgank9qu0ZtiIqT4Ti",
        SpotlightItemCount: "MsDhVPTMNn95Jd3XWTPQR",
        BottomBarPriceInfo: "w6OMUI_I9oVaxDOwRzRrh",
        BroadcastPage: "_2wLdHFCsbh4BfZ6kvvpRyL",
        BroadcastCtn: "_1D6ilQYGn-cYI2fhTAjSzD",
        BroadcastImageCtn: "cIETZLGVM0l5WCskcyNy2",
        BroadcastVideoThumbnail: "_39GHoC1PY5ctRSLAksxgN2",
        BroadcastPlayIcon: "_39krE1gLBTakOzuK41yZBD",
        BroadcastTextCtn: "_14UDZIeZXOLeUPaEDmYrfn",
        BroadcastName: "_3mq3Uyxqjh000D4-OJ9PiI",
        BroadcastDesc: "_3jIzvnoNk4DzmB7w3vl3dz",
        DailyDealCtn: "_3pSANczPET1GBWiNfM8ZEZ",
        DailyDealImageCtn: "pNmm6ej3gbZJbTFnF34Bb",
        DailyDealTextCtn: "_1tG1_bqddtY0lm02Wf4X9T",
        DailyDealDesc: "_21_xVixMh0-rRqUGdGxbEg",
        ContentHubTakeoverCtn: "_2NgkNEEvdNAueuTkHH4V0S",
        TweaksMenu: "_3N0H151KuH7D3iNrbRNL3D",
        MenuTitle: "_1qcGKxEKb2AANDw4iXQ0kF",
        MenuOptions: "_2BNKaMvGCPl8BE2y48Zyu2",
      };
    },
    30261: (e) => {
      e.exports = {
        StoreSalePriceWidget: "NIRD8Bn9II9OQY1KDrAZv",
        StoreSaleDiscountedPriceCtn: "_2M2uuGKI-mqASr4K5BRefp",
        StoreSalePriceBox: "pk-LoKoNmmPK4GBiC9DR8",
        StoreSaleReservationPriceBox: "_2KER4-iUzYJ7IYSjvQaG8T",
        StoreSaleDiscountBox: "XMxkarW3W_NNebjelsgAY",
        FromCoupon: "_3rH5bNCtORkBasSH4z6zfz",
        StoreOriginalPrice: "_3-o3G9jt3lqcvbRXt8epsn",
      };
    },
    12916: (e) => {
      e.exports = {
        EventTimeSection: "_3HyTVTASSmLacvaM964sgu",
        EventTimeTitle: "_2lG5hFYhu9PGPn6RoFeQOL",
        EventVisibilityItem: "_1she-lvNiCP3ASjTnl4q7x",
        EventEditorInputPaneContainer: "_1fCy4cz5Hyj9wDivcVseuc",
        TimeWidth: "_3JGsBe8Ou5QGqfihv0OPed",
        EventPublishTimeCtn: "_2QIVvn2p9gUwsAlifi-nkM",
        DateWidth: "_2P2kw0vHZogg7Ny7cAjQBo",
        PacificTimeHint: "_18FxDrpsfO5Tt8EFui49hV",
        TimeZone: "-x3Rw6W2fJfWRMs7vKr1I",
        InputBorder: "_1_H1sN2GVTzxSaz55gv03s",
        TimeBlock: "_2xLBsAMYVDoygyWbl2YIzI",
        TimeRowContainer: "BWmgg29ZeDbO6oj7Z1U7T",
        TimeRowDropDown: "_3ECiyuGLUqPzuS1hKCdfDm",
        EndDateAmountCtn: "_1BIlZEGSO_4tw5Lmc1Kkbf",
        EndRound: "jwuNowbLB28M6nkqFkF_C",
        VisibilityItemList: "_3B0QM3cOEqER2AD2Y85NFy",
        VisibilityItems: "_1WleIEEiF-9nJ57tLWkRmS",
        EventEditorVisibilityCtn: "_4gWwydbAbp2t1NCeW9LLV",
        DateErrorCtn: "_1Ao_g72kBAdoOo0lGUG7Mr",
      };
    },
    45803: (e) => {
      e.exports = {
        CartCreatorCtn: "_2HG7VOroS8aHSg-W3fPyTt",
        Title: "_307GrwtjhKkXh5dUC5KjUv",
        Description: "_3YGQuryhG_j0UPSIaC_7ul",
      };
    },
    98972: (e) => {
      e.exports = {
        strMaxCartPartResponsiveWidth: "840px",
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    50169: (e) => {
      e.exports = {
        strMaxCartPartResponsiveWidth: "840px",
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    50829: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    83934: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
        FamilyGiftNotice: "_1B5Eew-T7ehFeKRYrle_-l",
      };
    },
    11543: (e) => {
      e.exports = {
        strMaxCartPartResponsiveWidth: "840px",
        CartCard: "_2w0ZEap3hR1c0K0_DxJDdN",
        ShoppingCartPage: "_22xtsolKcQit92o-LBeRWD",
        CartCheckboxNoMargin: "_1S9a0tZYJv0d4x3-DrxbuS",
        ShoppingCartHeader: "bCGAC51za6R_thjPd7_vw",
        ShoppingCartCtn: "_1jqUY_WcPgZnIOE-d9x7wc",
        ShoppingCartLeftCol: "_17GFdSD2pc0BquZk5cejg8",
        ShoppingCartRightCol: "_3HIve50RR17shqpJqmrUps",
        LoadingThrobber: "eDdFpOTz0O9U7xBshZJUx",
        CartRightColStickyCtn: "_1bCdGv5zX6cYDovFfcBfdg",
        CartSummaryCtn: "_2bIzQo07mxubFvscA8RIA8",
        EstimatedTotalFlex: "_2DjadWLFH3keW9rGWZKxSk",
        SummaryMarginBottom: "qV80oahDZsbXiS6lIDLND",
        LicenseContextCtn: "jY9l4aHTdQLHeTWfPonTr",
        LicenseTitle: "p8XFGmprI4snkQjm11Pf2",
        LicenseLink: "_2Wg3oyIvxKKM_o6q7rXdc5",
        ResponsiveShoppingCartSummary: "dpVdC9qAMjdzrN7VWFria",
        RequestPurchaseCtn: "_2jup-7OkSAzTBG-K9r9OCX",
        CartNoteText: "_31DQWsrdb_9oV-vMOaaPqI",
        CartLabelText: "_3ayrhzEm-T_IRhWeQ4HFxr",
        CartValueText: "_2WLaY5TxjBGVyuWe_6KS3N",
        ShoppingCartBreadcrumbs: "_2FKdJT3nRLNX_ue4Zj-qdK",
        CurrentBreadcrumb: "_3TtUDn-J9j6rkwHqjT-i4Y",
        ShoppingCartModal: "_28yxHQw3ZhIBbVa9EZ27Vo",
        ShoppingCartModalBtns: "_1qRagOpQN0EH1x4-13UjR5",
        FooterNotice: "LXZhw7nTAlKyny-hrKcX9",
        NoticeIndex: "_3GJopp-lG4ZnUYB5mqk2q0",
        CartFooter: "_1Sdz1qnoKoD9eEPpC340Yj",
        NavButtons: "pp99Du2IR2EJ9UsjKcrRQ",
        Button: "_1rk1xUIAHMcMMDm4jz3MOM",
        CartSummaryBtn: "_1OKOHubCISYxpyNw0_nSgh",
        BetaNotice: "_1DTyDw3G0f4gmhjAvr_MGb",
        Text: "I4Bz94kh1lGOH1KrPzxzk",
        BackgroundImage: "FaiD8bJRAZ-HoNo0VvLOO",
        HeaderNotices: "_3SXN1YgsAs-4iju4Oo7cx5",
        HeaderNotice: "_2zWY-ti_XANR3ab5tC4YrI",
        ErrorModalContent: "_1Fli53rt96SoYErpk1TqAg",
        ErrorModalMessage: "vNpgPsE5lRrVJ55wTdc1i",
        ErrorModalBottom: "_5g0iBBKqtjiGHu5VHzz1h",
        ErrorModalCode: "_34Q7Jyhi9BetqDtEOzt-26",
      };
    },
    71460: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    90485: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => p, t: () => _ });
      var a = n(56545),
        r = n(3411),
        i = n(71430),
        o = n(23809),
        l = n(75233),
        s = n(51614),
        c = n(79443),
        m = n(12229),
        u = n(30709),
        d = n(93676);
      function _(e) {
        const t = (0, o.KV)(),
          n = (0, l.jE)(),
          _ = (0, u.j4)();
        return (0, s.n)({
          mutationFn: async () =>
            await (async function (e, t, n) {
              if ((0, c.c2)(t)) {
                const t = a.w.Init(r.tj);
                t.Body().set_line_item_id(n);
                const i = await r.t8.RemoveItemFromCart(e, t);
                return (0, m.WZ)(), i.Body().toObject();
              }
              {
                const r = a.w.Init(i.VJ);
                r.Body().set_gidlineitems([n]),
                  r.Body().set_gidshoppingcart(t.gid);
                const o = await i.Q2.RemoveLineItems(e, r);
                return (0, m.WZ)(), o.Body().toObject();
              }
            })(t, _, e),
          onSuccess: (e) => {
            "cart" in e ? (0, d.LN)(n, _, e.cart) : (0, d.Cd)(n, _);
          },
        });
      }
      function p() {
        const e = (0, o.KV)(),
          t = (0, l.jE)(),
          n = (0, u.j4)();
        return (0, s.n)({
          mutationFn: async () =>
            await (async function (e, t) {
              if ((0, c.c2)(t)) {
                const t = a.w.Init(r.HK);
                return (await r.t8.DeleteCart(e, t)).BSuccess();
              }
              {
                const n = await (0, m.d0)(e, t);
                if (n && n.line_items && n.line_items.length) {
                  const r = a.w.Init(i.VJ);
                  return (
                    r
                      .Body()
                      .set_gidlineitems(
                        n.line_items.map(({ line_item_id: e }) => e),
                      ),
                    r.Body().set_gidshoppingcart(t.gid),
                    (await i.Q2.RemoveLineItems(e, r)).BSuccess()
                  );
                }
                return !1;
              }
            })(e, n),
          onSuccess: () => (0, d.Cd)(t, n),
        });
      }
    },
    70343: (e, t, n) => {
      "use strict";
      n.d(t, {
        Rz: () => u,
        UD: () => _,
        UW: () => m,
        dR: () => f,
        dp: () => p,
        vF: () => d,
      });
      var a = n(64238),
        r = n.n(a),
        i = n(90626),
        o = n(76217),
        l = n(86711),
        s = n.n(l),
        c = n(22797);
      function m(e) {
        const { flex: t, children: n, className: a } = e;
        return i.createElement(
          o.Z,
          {
            "flow-children": "row",
            className: r()(s().LineItemDetailsRow, t && s().FlexRow, a),
          },
          n,
        );
      }
      function u(e) {
        const { placeholder: t, className: n, children: a } = e;
        return i.createElement(
          o.Z,
          {
            className: r()(
              s().LineItemWrapper,
              t && s().LineItemPlaceholder,
              n,
            ),
          },
          a,
        );
      }
      function d() {
        return i.createElement(
          u,
          { placeholder: !0 },
          i.createElement(_, null),
        );
      }
      function _() {
        return i.createElement(
          "div",
          { className: s().LoadingThrobber },
          i.createElement(c.t, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function p(e) {
        const { children: t } = e;
        return i.createElement(
          m,
          { flex: !0 },
          i.createElement("div", { className: s().Warning }, t),
        );
      }
      function f(e) {
        if (e.coupon_applied) return e.coupon_applied.discount_pct;
        const t = parseInt(e.original_price.amount_in_cents),
          n = parseInt(e.subtotal.amount_in_cents);
        return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
      }
    },
    84746: (e, t, n) => {
      "use strict";
      n.d(t, { N: () => u });
      var a = n(90626),
        r = n(92757),
        i = (n(84933), n(39575)),
        o = n(76217),
        l = n(79613),
        s = n(60778);
      const c = "FocusNavHistoryID",
        m = new s.wd("FocusHistory").Debug;
      function u(e) {
        const { children: t, timeoutMS: n, ...s } = e,
          u = (function (e = 2) {
            const t = (0, r.W6)(),
              n = a.useRef(void 0),
              o = (0, r.zy)(),
              s = (0, l.ho)(),
              u = o.state && o.state[c],
              d = a.useRef(void 0),
              [_, p] = a.useState(u);
            return (
              a.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, a, r) => {
                      const o = t.location;
                      let l = o.state && o.state[c];
                      l ||
                        ((l = s
                          ? `State_${o.key}`
                          : `State_${e.Node().Tree.id}`),
                        (d.current = l),
                        t.replace({
                          ...t.location,
                          state: { ...o.state, [c]: l },
                        })),
                        d.current == l &&
                          (s
                            ? e.SaveState(l)
                            : window.history.replaceState(
                                {
                                  ...window.history.state,
                                  [l]: (0, i.Ze)(e.Node()),
                                },
                                "",
                              ));
                    },
                  ).Unregister;
              }, [t, s]),
              a.useLayoutEffect(() => {
                if (n.current && d.current != u) {
                  if (!u) return void p(void 0);
                  const t = n.current.NavTree().DeferredFocus;
                  t.SuppressFocus(),
                    m(`Start restoring history for ${u}, suppressing focus`);
                  const a = window.setTimeout(() => {
                    p(u);
                  }, e);
                  return () => {
                    window.clearTimeout(a), t.ExecuteQueuedFocus();
                  };
                }
              }, [u, e]),
              a.useEffect(() => {
                if (!_ || !n.current) return;
                const e = s ? null : window.history.state?.[_],
                  t = n.current.NavTree().DeferredFocus;
                let a = !1;
                s
                  ? (a = n.current.RestoreState(_, 1))
                  : e && ((0, i.LU)(n.current.Node(), e, 0), (a = !0)),
                  m(
                    `Completed restoring history for state ${_} - ${a ? "had history." : "no history for this state."}`,
                  ),
                  a ? t.Reset() : t.ExecuteQueuedFocus(),
                  (d.current = _);
              }, [_, t, s]),
              n
            );
          })(n);
        return a.createElement(o.Z, { ...s, navRef: u }, t);
      }
    },
    64466: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => r });
      var a = n(30470);
      function r(e, t) {
        if (e?.asset_url_format && e[t])
          return (
            a.TS.BASE_URL_SHARED_CDN +
            "/store_item_assets/" +
            e.asset_url_format.replace("${FILENAME}", e[t])
          );
      }
    },
    31335: (e, t, n) => {
      "use strict";
      n.d(t, { Li: () => E, ue: () => C });
      var a = n(90626),
        r = n(76217),
        i = n(62792),
        o = (n(64466), n(18654)),
        l = n.n(o),
        s = n(94011),
        c = n(84518),
        m = n(12155),
        u = n(60014),
        d = n(51272),
        _ = n(52038),
        p = (n(61859), n(30470), n(18714)),
        f = n(39777),
        g = n(52541);
      function E(e) {
        const { spotlight: t } = e,
          n = (0, u.aL)(t.url, "spotlight");
        return a.createElement(
          c.A,
          {
            appID: "app" == t.item?.type ? t.item.id : void 0,
            feature: "spotlight",
          },
          a.createElement(
            r.Z,
            {
              className: p.SpotlightCtn,
              onOKButton: () => {
                window.location.href = n;
              },
            },
            a.createElement(
              "div",
              { className: p.SpotlightImageCtn },
              a.createElement(
                "div",
                {
                  className: (0, _.A)(o.CapsuleDecorators, p.CapsuleDecorators),
                },
                t.has_live_broadcast && a.createElement(s.K, null),
              ),
              t.open_in_new_window
                ? a.createElement(
                    d.uU,
                    { href: n },
                    a.createElement("img", { src: t.image_url, alt: t.title }),
                  )
                : a.createElement(
                    "a",
                    { href: n },
                    a.createElement("img", { src: t.image_url, alt: t.title }),
                  ),
            ),
            a.createElement(
              "div",
              { className: p.SpotlightTextCtn },
              a.createElement("div", { className: p.SpotlightTitle }, t.title),
              a.createElement("div", { className: p.SpotlightBody }, t.body),
              a.createElement(
                "div",
                { className: p.BottomBarPriceInfo },
                a.createElement(h, {
                  discountBlock: t.discount_block,
                  bIsSalePage: t.is_sale_page,
                }),
              ),
            ),
          ),
        );
      }
      function C(e) {
        const { dailyDeal: t } = e,
          n = (0, u.aL)(t.target, "daily-deal"),
          o = (0, i.SW)(t.item?.type ?? "application"),
          l = (0, f.J$)((0, g.Jz)({ item_type: o, id: t.item?.id }));
        return a.createElement(
          c.A,
          {
            appID: "app" == t.item?.type ? t.item.id : void 0,
            feature: "daily-deal",
          },
          a.createElement(
            r.Z,
            {
              className: p.DailyDealCtn,
              onOKButton: () => {
                window.location.href = n;
              },
            },
            a.createElement(
              "div",
              { className: p.DailyDealImageCtn },
              a.createElement(
                "a",
                { href: n },
                a.createElement("img", { src: t.image, alt: l.data?.name }),
              ),
            ),
            a.createElement(
              "div",
              { className: p.DailyDealTextCtn },
              a.createElement("div", { className: p.DailyDealDesc }, t.desc),
              a.createElement(h, {
                discountBlock: t.discount_block,
                bIsSalePage: t.is_sale_page,
              }),
            ),
          ),
        );
      }
      const h = (e) => {
        const { discountBlock: t, bIsSalePage: n } = e;
        if (!t) return null;
        const r = t.hide_discount_percent_for_compliance;
        return n
          ? null == t.discount_max || t.discount_max <= 0
            ? null
            : null == t.discount_min || t.discount_min <= 0
              ? a.createElement(
                  "div",
                  {
                    className: (0, _.A)(
                      l().StoreSalePriceWidgetContainer,
                      l().Discounted,
                    ),
                  },
                  a.createElement(
                    "div",
                    { className: l().StoreSaleDiscountBox },
                    "Up to -",
                    t.discount_max,
                    "%",
                  ),
                )
              : r
                ? a.createElement(
                    "div",
                    { className: l().DiscountIconCtn },
                    a.createElement(m.XH_, null),
                  )
                : a.createElement(
                    "div",
                    {
                      className: (0, _.A)(
                        l().StoreSalePriceWidgetContainer,
                        l().Discounted,
                      ),
                    },
                    t.discount_min === t.discount_max
                      ? a.createElement(
                          "div",
                          { className: l().StoreSaleDiscountBox },
                          t.discount_min,
                          "%",
                        )
                      : a.createElement(
                          "div",
                          { className: l().StoreSaleDiscountBox },
                          t.discount_min,
                          " - ",
                          t.discount_max,
                          "%",
                        ),
                  )
          : null == t.final_price || "" === t.final_price
            ? null
            : null != t.bundle_discount && t.bundle_discount > 0 && !r
              ? a.createElement(
                  "div",
                  { className: p.DiscountBlock },
                  a.createElement(
                    "div",
                    { className: p.DiscountPercent },
                    "-",
                    t.bundle_discount,
                    "%",
                  ),
                )
              : null != t.discount_percent && t.discount_percent > 0
                ? r
                  ? a.createElement(
                      "div",
                      {
                        className: (0, _.A)(
                          l().StoreSalePriceWidgetContainer,
                          l().Discounted,
                        ),
                      },
                      a.createElement(
                        "div",
                        { className: l().DiscountIconCtn },
                        a.createElement(m.XH_, null),
                      ),
                      a.createElement(
                        "div",
                        { className: l().StoreSaleDiscountedPriceCtn },
                        a.createElement(
                          "div",
                          { className: l().StoreSalePriceBox },
                          t.final_price,
                        ),
                      ),
                    )
                  : a.createElement(
                      "div",
                      {
                        className: (0, _.A)(
                          l().StoreSalePriceWidgetContainer,
                          l().Discounted,
                        ),
                      },
                      a.createElement(
                        "div",
                        { className: l().StoreSaleDiscountBox },
                        t.discount_percent,
                        "%",
                      ),
                      a.createElement(
                        "div",
                        { className: l().StoreSaleDiscountedPriceCtn },
                        a.createElement(
                          "div",
                          { className: l().StoreOriginalPrice },
                          t.orig_price,
                        ),
                        a.createElement(
                          "div",
                          { className: l().StoreSalePriceBox },
                          t.final_price,
                        ),
                      ),
                    )
                : a.createElement(
                    "div",
                    { className: (0, _.A)(l().StoreSalePriceWidgetContainer) },
                    a.createElement(
                      "div",
                      { className: l().StoreSaleDiscountedPriceCtn },
                      a.createElement(
                        "div",
                        { className: l().StoreSalePriceBox },
                        t.final_price,
                      ),
                    ),
                  );
      };
    },
    10962: (e, t, n) => {
      "use strict";
      n.d(t, { kb: () => c, y7: () => _, zD: () => u });
      var a,
        r = n(90626),
        i = n(55263),
        o = n(12155),
        l = n(52038),
        s = n(30261);
      !(function (e) {
        (e.k_eBlock = "block"),
          (e.k_eFinal = "final"),
          (e.k_eOriginal = "original"),
          (e.k_eReservation = "reservation");
      })(a || (a = {}));
      const c = (e) => {
        switch (e.display_style) {
          case a.k_eFinal:
            return (
              Boolean(e.formatted_final_price) &&
              r.createElement("span", null, e.formatted_final_price)
            );
          case a.k_eOriginal:
            const t = e.formatted_orig_price || e.formatted_final_price;
            return Boolean(t) && r.createElement("span", null, t);
        }
        const t = "reservation" == e.display_style,
          n = e.bHideDiscountPercentForCompliance,
          i = "bbcode_price" == e.className;
        return r.createElement(
          "span",
          {
            className: (0, l.A)({
              [s.StoreSalePriceWidget]: !0,
              ["" + e.className]: Boolean(e.className),
              [s.StoreSaleReservationPrice]: t,
            }),
          },
          Boolean(e.discount_percent && !n) &&
            r.createElement(
              "span",
              {
                className: (0, l.A)(
                  s.StoreSaleDiscountBox,
                  "StoreSaleDiscountBox",
                  e.bDiscountFromCoupon && s.FromCoupon,
                ),
              },
              `-${e.discount_percent}%`,
            ),
          Boolean(e.discount_percent && n) &&
            r.createElement(
              "div",
              {
                className: (0, l.A)({
                  [s.DiscountIconCtn]: !0,
                  bbcode_price_discount: i,
                }),
              },
              r.createElement(o.XH_, null),
            ),
          Boolean(e.formatted_final_price) &&
            (Boolean(e.discount_percent && e.formatted_orig_price)
              ? r.createElement(
                  "div",
                  {
                    className: (0, l.A)({
                      [s.StoreSaleDiscountedPriceCtn]: !0,
                      bbcode_price_ctn: i,
                    }),
                  },
                  r.createElement(
                    "div",
                    {
                      className: (0, l.A)({
                        [s.StoreOriginalPrice]: !0,
                        StoreOriginalPrice: !0,
                        bbcode_price_orig: i,
                      }),
                    },
                    e.formatted_orig_price,
                  ),
                  r.createElement(
                    "div",
                    {
                      className: (0, l.A)({
                        [s.StoreSalePriceBox]: !0,
                        bbcode_price_box: i,
                        [s.StoreSaleReservationPriceBox]: t,
                        bbcode_price_final: i,
                      }),
                    },
                    e.formatted_final_price,
                  ),
                )
              : r.createElement(
                  "div",
                  {
                    className: (0, l.A)({
                      [s.StoreSalePriceBox]: !0,
                      bbcode_price_box: i,
                      [s.StoreSaleReservationPriceBox]: t,
                      bbcode_price_final: i,
                    }),
                  },
                  e.formatted_final_price,
                )),
        );
      };
      function m(e) {
        const [t] = (0, i.Gg)(e.packageID, {});
        if (t) {
          const n = t.GetBestPurchaseOption();
          return r.createElement(c, {
            formatted_final_price: n.formatted_final_price,
            formatted_orig_price: n.formatted_original_price,
            discount_percent: n.discount_pct,
            bHideDiscountPercentForCompliance:
              n.hide_discount_pct_for_compliance,
            display_style: e.display_style,
            className: "bbcode_price",
          });
        }
        return null;
      }
      function u(e) {
        const t = Number(e.args.packageid);
        if (!t) return null;
        const n = e.args.display;
        return r.createElement(m, { packageID: t, display_style: n });
      }
      function d(e) {
        const [t] = (0, i.Gg)(e.packageID, {}),
          [n] = (0, i.Gg)(e.compareID, {});
        if (!t || !n) return null;
        const a = (function (e, t) {
          if (
            !e?.GetBestPurchaseOption().final_price_in_cents ||
            !t?.GetBestPurchaseOption()?.final_price_in_cents
          )
            return;
          return (
            (
              100 *
              (1 -
                Number.parseInt(
                  e.GetBestPurchaseOption().final_price_in_cents,
                ) /
                  Number.parseInt(
                    t.GetBestPurchaseOption().final_price_in_cents,
                  ))
            ).toFixed(0) + "%"
          );
        })(t, n);
        return void 0 === a
          ? null
          : r.createElement("span", { className: s.StorePriceSavings }, a);
      }
      function _(e) {
        const t = Number(e.args.packageid),
          n = Number(e.args.compareid);
        return t && n
          ? r.createElement(d, { packageID: t, compareID: n })
          : null;
      }
    },
    99637: (e, t, n) => {
      "use strict";
      n.d(t, { K: () => h });
      var a = n(90626),
        r = n(92298),
        i = n.n(r),
        o = n(44894),
        l = n(44165),
        s = n(95695),
        c = n.n(s),
        m = n(52038),
        u = n(61859),
        d = n(32754),
        _ = n(12916),
        p = n.n(_),
        f = n(87937),
        g = n.n(f);
      const E = "hh:mm a",
        C = "HH:mm";
      function h(e) {
        const {
          nLatestTime: t,
          nEarliestTime: n,
          fnGetTimeToUpdate: r,
          onError: s,
          strAlsoShowTimeZone: _,
          disabled: f,
          bNoDefaultDate: h,
          className: w,
          strDescToolTip: y,
          strDescription: N,
          bShowTimeZone: D,
          strInvalidDateTimeLocalizedMsg: b,
          fnIsValidDateTime: T,
          bWeekdaysOnly: A,
          fnSetTimeToUpdate: G,
          bForce24HourFormat: P,
        } = e;
        let L =
          (function () {
            const e = g()("2025-01-14T13:00:00");
            return e.format("LT").toLowerCase().includes("13");
          })() || P
            ? C
            : E;
        const k = r(),
          [B, x] = a.useState(k > 0 ? g()(1e3 * k) : null),
          [R, F] = a.useState(),
          [M, O] = a.useState(),
          U = (function (e, t, n, r, i) {
            const o = r && r(),
              l = t && !v(t).isValid(),
              s = e && !S(e).isValid();
            let c = null;
            (s || l || "string" == typeof o || !1 === o) &&
              ((c = (0, u.we)(
                n || "#DateTimePicker_Fallback_Invalid_DateTime",
              )),
              s
                ? (c = (0, u.we)("#DateTimePicker_Time_CannotParse"))
                : l
                  ? (c = (0, u.we)("#DateTimePicker_Date_CannotParse"))
                  : "string" == typeof o && (c = o));
            return (
              a.useEffect(() => {
                i && i(c);
              }, [c, i]),
              c
            );
          })(R, M, b, T, s),
          W = !s && U;
        let j, z;
        if (t && n && t == n && n > l.HD.GetTimeNowWithOverride()) {
          const e = g().unix(n);
          (j = {
            hours: { max: e.hour(), min: e.hour(), step: 0 },
            minutes: { max: e.minute(), min: e.minute(), step: 0 },
            seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
            milliseconds: { max: 0, min: 0, step: 0 },
          }),
            (L = C);
        }
        k || !n || h || (z = g().unix(n));
        const H = g().tz.guess(),
          V = g().unix(k).tz(H),
          Z = !!_ && H != _ && g().unix(k).tz(_),
          {
            fnOnInput: Y,
            fnOnInputBlur: K,
            fnOnChange: q,
          } = I(
            v,
            (e) => {
              if (f) return;
              O(null);
              const t = r(),
                n = g().unix(t || l.HD.GetTimeNowWithOverride());
              (e = e.clone()).hour(n.hour()),
                e.minute(n.minute()),
                e.second(0),
                G(e.unix()),
                x(e);
            },
            O,
          ),
          {
            fnOnInput: Q,
            fnOnInputBlur: J,
            fnOnChange: X,
          } = I(
            S,
            (e) => {
              if (f) return;
              F(null);
              let t = r(),
                a = 0;
              if (t) {
                const n = g().unix(t);
                (e = e.clone()).year(n.year()),
                  e.month(n.month()),
                  e.date(n.date()),
                  (a = e.unix());
              } else {
                a =
                  g().unix(n).hour(0).second(0).minutes(0).unix() +
                  3600 * e.hour() +
                  60 * e.minutes();
              }
              G(a), x(g().unix(a));
            },
            F,
          );
        return a.createElement(
          "div",
          { className: (0, m.A)(p().EventTimeSection, w) },
          a.createElement(
            "div",
            { className: (0, m.A)(p().EventTimeTitle, "DialogLabel") },
            a.createElement(
              d.he,
              { toolTipContent: y, direction: "top" },
              Boolean(N) && a.createElement("span", null, N),
            ),
            W &&
              a.createElement(
                "span",
                { className: p().DateErrorCtn },
                a.createElement("img", { src: o.A }),
                W,
              ),
          ),
          a.createElement(
            "div",
            { className: c().FlexRowContainer },
            a.createElement(
              "div",
              { className: (0, m.A)(c().InputBorder, p().TimeBlock) },
              a.createElement(i(), {
                onChange: q,
                timeFormat: !1,
                value: null != M ? M : B,
                isValidDate: (e) =>
                  !f &&
                  (function (e, t, n, a) {
                    const r = g().unix(e).hour(0).seconds(0).minute(0);
                    let i = a.unix() >= r.unix();
                    if (i && t && t >= e) {
                      const e = g().unix(t).hour(23).minute(59).seconds(59);
                      i = a.unix() <= e.unix();
                    }
                    i &&
                      n &&
                      ((0 != a.weekday() && 6 != a.weekday()) || (i = !1));
                    return i;
                  })(n, t, A, e),
                initialValue: z,
                inputProps: {
                  placeholder: (0, u.we)("#DateTimePicker_Enter_Date"),
                  className: (0, m.A)(
                    p().DateWidth,
                    "DialogInput",
                    "DialogTextInputBase",
                  ),
                  disabled: f,
                  onChange: (e) => Y(e.currentTarget.value),
                  onBlur: (e) => K(e.currentTarget.value),
                },
              }),
              !!Z &&
                a.createElement(
                  "div",
                  { className: p().PacificTimeHint },
                  Z.format("L"),
                ),
            ),
            a.createElement(
              "div",
              { className: (0, m.A)(c().InputBorder, p().TimeBlock) },
              a.createElement(i(), {
                onChange: X,
                dateFormat: !1,
                timeFormat: L,
                timeConstraints: j,
                value: null != R ? R : B,
                inputProps: {
                  placeholder: (0, u.we)("#DateTimePicker_Enter_Time"),
                  className: (0, m.A)(
                    p().TimeWidth,
                    "DialogInput",
                    "DialogTextInputBase",
                  ),
                  disabled: f,
                  onChange: (e) => Q(e.currentTarget.value),
                  onBlur: (e) => J(e.currentTarget.value),
                },
              }),
              !!Z &&
                a.createElement(
                  "div",
                  { className: p().PacificTimeHint },
                  Z.format("LT"),
                ),
            ),
            D &&
              a.createElement(
                "div",
                null,
                a.createElement(
                  "div",
                  { className: p().TimeZone },
                  V.zoneAbbr(),
                ),
                !!Z &&
                  a.createElement(
                    "div",
                    { className: p().TimeZone },
                    Z.zoneAbbr(),
                  ),
              ),
          ),
          Boolean(j) &&
            a.createElement(
              "div",
              null,
              (0, u.we)("#DateTimePicker_DateTime_Fixed"),
            ),
        );
      }
      function I(e, t, n) {
        const [r, i] = a.useState(!1);
        return {
          fnOnInput: (e) => {
            n(e), i(!0);
          },
          fnOnInputBlur: (n) => {
            if (r) {
              const a = e(n);
              a.isValid() && t(a);
            }
            i(!1);
          },
          fnOnChange: (n) => {
            if (!r)
              if ("string" == typeof n) {
                const a = e(n);
                a.isValid() && t(a);
              } else t(n);
          },
        };
      }
      function v(e) {
        return g()(
          e,
          (function () {
            const e = g()("2025-01-14").format("L").split(/[-/.]/),
              t = e.indexOf("14");
            return e.indexOf("01") < t;
          })()
            ? "M/D/YYYY"
            : "D/M/YYYY",
          !1,
        );
      }
      function S(e) {
        return g()(e, [E, C], !1);
      }
    },
    70809: (e, t, n) => {
      "use strict";
      n.d(t, { r: () => u, x: () => d });
      var a = n(56545),
        r = n(15161),
        i = n(58632),
        o = n.n(i),
        l = n(20194),
        s = n(23809),
        c = n(72839),
        m = n(61859);
      function u(e) {
        const { item: t } = e,
          { data: n } = (function (e) {
            const t = (0, s.KV)();
            return (0, l.I)({
              queryKey: ["GetHardwareItems", e],
              queryFn: async () =>
                (function (e) {
                  _ ||
                    (_ = (function (e) {
                      return new (o())(
                        async (t) => {
                          const n = a.w.Init(r.eW);
                          (0, c.rV)(n), n.Body().set_packageid(t);
                          const i = await r.$4.GetHardwareItems(e, n);
                          return i.BSuccess()
                            ? i.Body().toObject().details
                            : (console.warn(
                                `Failed to load hardware: ${i.GetEResult()}`,
                              ),
                              t.map(() => new Error(i.GetErrorMessage())));
                        },
                        { cache: !1 },
                      );
                    })(e));
                  return _;
                })(t).load(e),
              enabled: !!e,
            });
          })(1 == t.GetStoreItemType() ? t.GetID() : void 0);
        return n
          ? (0, m.we)("#Cart_ShippingEstimate_DeliveryDate", d(n))
          : null;
      }
      function d(e) {
        return (0, m.we)(
          "#Hardware_ShippingEstimate_Range",
          e.estimated_delivery_soonest_business_days,
          e.estimated_delivery_latest_business_days,
        );
      }
      let _;
    },
    43595: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => c });
      var a = n(90626),
        r = n(55963),
        i = n(62093),
        o = n(60014),
        l = n(3578),
        s = n(40236);
      function c(e) {
        const {
            item: t,
            feature: n,
            depth: c,
            noImpressionTracking: m,
            ...u
          } = e,
          d = a.useRef(0),
          _ = 0 == t.GetStoreItemType() ? t.GetAppID() : null,
          p = (0, o.n9)(),
          f = a.useMemo(
            () => r.Ay.GetLinkParam({ ...p, feature: n || p.feature }, c),
            [p, n, c],
          ),
          g = a.useMemo(
            () => l.A.AddNavParamToURL(t.GetStorePageURL(), f),
            [t, f],
          ),
          E = (0, i.b)(),
          C = a.useCallback(() => {
            _ && d.current != _ && (E.AddImpression(_, f), (d.current = _));
          }, [E, _, f, d]),
          h = (0, s.OO)({ onEnter: C });
        return a.createElement("a", {
          ...u,
          ref: _ && !m ? h : void 0,
          href: g,
        });
      }
    },
    43830: (e, t, n) => {
      "use strict";
      n.d(t, {
        Mn: () => x,
        Vh: () => w,
        lP: () => b,
        xz: () => T,
        ZB: () => y,
        S0: () => R,
        uQ: () => G,
        EJ: () => N,
        sI: () => B,
        jY: () => k,
        Ck: () => P,
        zJ: () => L,
        UI: () => S.UI,
        F$: () => F,
        CM: () => D,
        g7: () => A,
      });
      var a = n(79443),
        r = n(56545),
        i = n(94076),
        o = n(76170),
        l = n(23809),
        s = n(7338),
        c = n(58214),
        m = n(20194),
        u = n(30470),
        d = n(30709),
        _ = n(93676);
      function p(e, t) {
        const n = (0, l.KV)(),
          p = (0, d.j4)(),
          { storeBrowseContext: f, cacheStoreItemData: g } = (0, s.yn)();
        return (0, m.I)({
          queryKey: (0, _.m4)(p, e),
          queryFn: async () =>
            (async function (e, t, n, l, s, m) {
              const u = r.w.Init(i.vL);
              (0, a.kx)(t) || (0, a.uU)(t)
                ? (u.Body().set_gidshoppingcart(t.gid),
                  l && u.Body().set_gift_info(o.$z.fromObject(l)))
                : (0, a.sb)(t) && u.Body().set_gidreplayoftransid(t.gid);
              (0, c.rV)(n, u), s && (0, c.Bn)(u, s);
              const d = await i._o.ValidateCart(e, u);
              d.BSuccess() ||
                console.warn(
                  `Failed to validate shopping cart: ${d.GetEResult()}`,
                );
              if (s && m)
                for (const e of d.Body().cart_items()) m(e.store_item(), s);
              return d.Body().toObject();
            })(n, p, f, e, t, g),
          staleTime: 1 / 0,
          enabled: u.iA.logged_in || !(0, a.c2)(p),
        });
      }
      var f = n(22837),
        g = n(3411),
        E = (n(71430), n(75233)),
        C = n(51614),
        h = n(10247),
        I = n(14860),
        v = n(24484),
        S = n(12229);
      function w() {
        return (0, v.Fd)("cart_config", "application_config");
      }
      function y() {
        const e = (0, d.j4)();
        return !(0, a.uU)(e) && !(0, a.sb)(e);
      }
      function N() {
        const e = (0, d.j4)();
        return (0, a.sb)(e);
      }
      function D(e) {
        const t = (0, d.j4)(),
          n = (0, l.KV)(),
          a = (0, E.jE)(),
          i = (0, _.GO)(t);
        return (0, C.n)({
          mutationFn: (e) =>
            (async function (e, t, n, a, i) {
              const l = r.w.Init(g.Bk);
              l.Body().set_line_item_id(t),
                l.Body().set_user_country(u.iA.country_code),
                a && l.Body().set_gift_info(o.$z.fromObject(a)),
                n && l.Body().set_flags(g.Eo.fromObject(n)),
                i && l.Body().set_apply_gidcoupon(i);
              const s = await g.t8.ModifyLineItem(e, l);
              return (
                s.BSuccess() ||
                  console.warn(`Failed to update gift info: ${s.GetEResult()}`),
                [s.GetEResult(), s.Body().toObject()]
              );
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: async (e) => {
            await a.cancelQueries({ queryKey: i });
            const t = a.getQueryData(i);
            return (
              a.setQueryData(i, (t) => ({
                ...t,
                line_items: t.line_items.map((t) =>
                  t.line_item_id !== e.lineItemID
                    ? t
                    : {
                        ...t,
                        flags: e.lineItemFlags || t.flags,
                        gift_info: e.giftInfo || t.gift_info,
                      },
                ),
              })),
              { previousCart: t }
            );
          },
          onSuccess: ([n, r], o, { previousCart: l }) => {
            1 == n ? ((0, _.LN)(a, t, r.cart), e && e()) : a.setQueryData(i, l);
          },
          onError: (e, t, { previousCart: n }) => {
            a.setQueryData(i, n);
          },
        });
      }
      const b = {
          include_basic_info: !0,
          include_assets: !0,
          include_platforms: !0,
          include_release: !0,
        },
        T = {
          ...b,
          include_included_items: !0,
          include_all_purchase_options: !0,
          included_item_data_request: b,
        };
      function A() {
        const [e] = (0, h.fg)();
        return p(e, T);
      }
      function G(e) {
        return (
          e?.cart_items.length &&
          e.cart_items.every(
            ({ store_item: e }) =>
              1 == e.item_type &&
              (e.self_purchase_option || e.best_purchase_option)
                ?.requires_shipping,
          )
        );
      }
      function P() {
        const e = (0, l.KV)();
        return (0, m.I)({
          queryKey: ["shopping_cart", "relevant_coupons"],
          queryFn: async () => {
            const t = await (async function (e) {
              const t = r.w.Init(g.wi);
              t.Body().set_language((0, f.sf)(u.TS.LANGUAGE));
              const n = await g.t8.GetRelevantCoupons(e, t);
              return n.BIsValid()
                ? n.Body().toObject()
                : (console.error("Failed to load relevant coupons"), {});
            })(e);
            return t.line_items.reduce(
              (e, t) => ((e[t.line_item_id] = t.coupons), e),
              {},
            );
          },
          enabled: u.iA.logged_in,
          placeholderData: () => ({}),
        });
      }
      function L() {
        return (0, m.I)({
          queryKey: ["shopping_cart", "sale_drop_progress"],
          queryFn: async () => {
            const e = await fetch(
                `${u.TS.STORE_BASE_URL}cart/ajaxsaledropprogress`,
              ),
              t = await e.json();
            return (
              1 !== t.eresult &&
                console.error("Failed to load sale drop progress"),
              t
            );
          },
          enabled: u.iA.logged_in,
        });
      }
      function k() {
        const e = (0, d.j4)(),
          [t] = (0, h.fg)(),
          n = `${u.TS.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, a.c2)(e)) return `${n}?accountcart=1`;
        if ((0, a.sb)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const a = new URLSearchParams();
          return (
            a.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (a.append("purchasetype", "gift"),
              a.append("bIsGift", "1"),
              a.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${a.toString()}`
          );
        }
      }
      function B() {
        const e = (0, d.j4)();
        return (0, a.uU)(e) ? e.requestID : null;
      }
      var x;
      function R() {
        const e = (0, d.j4)(),
          t = (0, I.vo)(),
          n = A(),
          r = t.isSuccess && 2 == t.data.role(),
          i = n.data?.cart_items.some((e) => !e.can_purchase_as_gift);
        let o = x.k_ECanRequest;
        return (
          r
            ? !(function (e) {
                return (0, a.c2)(e) || (0, a.kx)(e);
              })(e)
              ? (o = x.k_EInvalidCartType)
              : i && (o = x.k_ENonGiftableItemPresent)
            : (o = x.k_EIsNotChild),
          [o === x.k_ECanRequest, o]
        );
      }
      function F() {
        const e = (0, d.j4)(),
          t = (0, I.vo)();
        return t.isSuccess && 1 == t.data.role() && (0, a.uU)(e);
      }
      !(function (e) {
        (e[(e.k_ECanRequest = 0)] = "k_ECanRequest"),
          (e[(e.k_EIsNotChild = 1)] = "k_EIsNotChild"),
          (e[(e.k_EInvalidCartType = 2)] = "k_EInvalidCartType"),
          (e[(e.k_ENonGiftableItemPresent = 3)] = "k_ENonGiftableItemPresent");
      })(x || (x = {}));
    },
    7151: (e, t, n) => {
      "use strict";
      n.d(t, { O3: () => ie, Zx: () => oe, pf: () => F });
      var a = n(23809),
        r = n(7338),
        i = n(39777),
        o = n(60014),
        l = n(75233),
        s = n(51614),
        c = n(79443),
        m = n(12229),
        u = n(30709),
        d = n(93676);
      var _ = n(90485),
        p = n(86711),
        f = n.n(p),
        g = n(70343),
        E = n(76217),
        C = n(43830),
        h = n(98362),
        I = n(90626),
        v = n(28567),
        S = n(14336),
        w = n(82097),
        y = n(62792),
        N = n(55263),
        D = n(53835),
        b = n(84811),
        T = n(26101),
        A = n(10962),
        G = n(72237),
        P = n(70809),
        L = n(43595),
        k = n(52038),
        B = n(61859),
        x = n(30470),
        R = n(10247);
      function F(e) {
        const {
          lineItems: t = [],
          cartValidation: n,
          LineItemContainer: a = H,
        } = e;
        if (!t.length) return I.createElement(W, null);
        const r = n?.cart_items
          ? n.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return I.createElement(
          "div",
          { className: f().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? I.createElement(O, {
                    key: e.line_item_id,
                    item: e,
                    loading: void 0 === n,
                    validatedItem: r[e.line_item_id],
                    LineItemContainer: a,
                  })
                : I.createElement(g.vF, { key: t }),
            ),
        );
      }
      const M = {
        1: function (e) {
          const { item: t, validatedItem: n } = e,
            [a, r] = (0, N.Gg)(t.packageid, {}),
            [i, o] = (0, N.mZ)(t.packageid, 1, C.lP),
            l = (i && !i.BIsVisible()) || 2 === o || 2 === r,
            s = a?.GetSelfPurchaseOption();
          return l || (a && !s)
            ? I.createElement(j, {
                lineItemID: t.line_item_id,
                validatedItem: n,
                storeItem: i,
              })
            : i && a
              ? I.createElement(z, {
                  ...e,
                  storeItem: a,
                  displayItem: i,
                  lineItem: t,
                  purchaseOption: s,
                })
              : I.createElement(g.vF, null);
        },
        2: function (e) {
          const { item: t, validatedItem: n } = e,
            [a, r] = (0, N.G6)(t.bundleid, 2, C.xz);
          if ((a && !a.BIsVisible()) || 2 === r)
            return I.createElement(j, {
              lineItemID: t.line_item_id,
              validatedItem: n,
              storeItem: a,
            });
          if (!a) return I.createElement(g.vF, null);
          const i = a.GetSelfPurchaseOption();
          return I.createElement(z, {
            ...e,
            storeItem: a,
            displayItem: a,
            lineItem: t,
            validatedItem: n,
            purchaseOption: i,
          });
        },
      };
      function O(e) {
        const { item: t, loading: n, ...a } = e,
          r = n ? g.vF : M[t.type];
        return r
          ? I.createElement(
              b.tH,
              { fallback: (t) => I.createElement(U, { ...e, error: t }) },
              I.createElement(r, { item: t, ...a }),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function U(e) {
        const { item: t, error: n } = e,
          a = (0, _.t)(t.line_item_id);
        return I.createElement(
          g.Rz,
          { className: f().ErrorLineItem },
          I.createElement(
            "div",
            { className: f().Left },
            I.createElement(
              "div",
              { className: f().Error },
              (0, B.we)("#Cart_LineItem_ErrorBoundary"),
            ),
            I.createElement("div", { className: f().Muted }, n.message),
          ),
          I.createElement(
            E.Z,
            { onActivate: () => a.mutate(), className: f().RemoveButton },
            (0, B.we)("#Cart_Remove"),
          ),
        );
      }
      function W() {
        return I.createElement(
          g.Rz,
          { className: f().ErrorLineItem },
          I.createElement(
            "div",
            { className: f().Left },
            I.createElement(
              "div",
              { className: f().LineItemTitle },
              (0, B.we)("#Cart_Empty"),
            ),
          ),
        );
      }
      function j(e) {
        const { lineItemID: t, validatedItem: n, storeItem: a } = e,
          r = K(a),
          i = (0, _.t)(t),
          o = i.isPending;
        return I.createElement(
          g.Rz,
          { placeholder: !0 },
          o && I.createElement(g.UD, null),
          I.createElement(
            "div",
            {
              className: (0, k.A)(
                f().InnerLineItemCtn,
                o && f().PendingLineItem,
              ),
            },
            I.createElement(
              "div",
              { className: (0, k.A)(f().LineItemColumn, f().LineItemCapsule) },
              I.createElement(
                L.p,
                { item: a, noImpressionTracking: !0 },
                I.createElement("img", { className: f().HeaderImg, src: r }),
              ),
            ),
            I.createElement(
              "div",
              { className: f().LineItemDetailsCtn },
              I.createElement(
                g.UW,
                { flex: !0, className: f().LineItemDetailsRowTop },
                I.createElement(
                  "div",
                  { className: f().LineItemTitle },
                  a?.GetName() || (0, B.we)("#SteamCharts_UnknownGameTitle"),
                ),
              ),
              I.createElement(Q, { validatedItem: n }),
              I.createElement(
                g.UW,
                { className: f().LineItemSpaceBetween },
                I.createElement(
                  E.Z,
                  {
                    onActivate: () => i.mutate(),
                    className: f().RemoveLineItem,
                  },
                  (0, B.we)("#Cart_Remove"),
                ),
              ),
            ),
          ),
        );
      }
      function z(e) {
        const {
            storeItem: t,
            displayItem: n,
            lineItem: a,
            purchaseOption: r,
            validatedItem: i,
            LineItemContainer: o,
          } = e,
          l = a.line_item_id,
          s = {
            id: t?.GetID(),
            type: (0, y._4)(t?.GetStoreItemType(), t?.GetAppType()),
          },
          c = (0, _.t)(l),
          m = c.isPending || c.isSuccess,
          u = K(n),
          d = t.GetIncludedAppIDsOrSelf(),
          { data: p, isLoading: E } = (0, v.Pt)(),
          C = d.filter((e) => p?.has(e)),
          h = I.useId();
        if (E) return I.createElement(g.vF, null);
        const S = a.flags?.is_gift,
          w = C.length === d.length,
          N = !S && C.length > 0 && !w,
          D = i.errors?.adult_content_restricted;
        let b = S ? "gift" : "myself";
        return (
          "myself" === b && w && (b = "private"),
          I.createElement(
            o,
            { lineItem: a, storeItem: t, validatedItem: i },
            m && I.createElement(g.UD, null),
            I.createElement(
              "div",
              {
                className: (0, k.A)(
                  f().InnerLineItemCtn,
                  m && f().PendingLineItem,
                ),
              },
              I.createElement(
                "div",
                {
                  className: (0, k.A)(f().LineItemColumn, f().LineItemCapsule),
                },
                I.createElement(
                  L.p,
                  { item: n, feature: "cart-items", noImpressionTracking: !0 },
                  I.createElement("img", {
                    className: D ? f().HeaderImgBlurred : f().HeaderImg,
                    src: u,
                    alt: t.GetName(),
                  }),
                ),
              ),
              I.createElement(
                "div",
                { className: f().LineItemDetailsCtn },
                I.createElement(
                  g.UW,
                  { flex: !0, className: f().LineItemDetailsRowTop },
                  I.createElement(
                    "div",
                    { className: f().LineItemTitle, id: h },
                    t.GetName(),
                  ),
                ),
                t.BIsComingSoon() && I.createElement(q, { storeItem: t }),
                I.createElement(
                  Q,
                  { validatedItem: i },
                  I.createElement(J, { item: t }),
                  I.createElement(X, { item: t }),
                ),
                I.createElement(te, { storeItem: t }),
                N && I.createElement(ne, { appids: C }),
                I.createElement(
                  g.UW,
                  { className: f().LineItemSpaceBetween },
                  I.createElement(
                    "div",
                    { className: (0, k.A)(f().LineItemCol, f().PlatformIcons) },
                    I.createElement(G.Q, {
                      item: s,
                      strClassName: f().LineItemPlatforms,
                    }),
                  ),
                  I.createElement(V, { purchaseOption: r, validatedItem: i }),
                ),
                I.createElement(Z, {
                  lineItem: a,
                  storeItem: t,
                  purchaseOption: r,
                  validatedItem: i,
                  initialPurchaseOption: b,
                  fnRemoveLineItem: c.mutate,
                  accessibilityId: h,
                }),
              ),
            ),
          )
        );
      }
      function H(e) {
        return I.createElement(
          E.Z,
          null,
          I.createElement(g.Rz, null, e.children),
        );
      }
      function V(e) {
        const { purchaseOption: t, validatedItem: n } = e;
        let a = t?.formatted_original_price,
          r = t?.formatted_final_price,
          i = t?.discount_pct;
        return (
          n &&
            n.original_price &&
            ((a = n.original_price.formatted_amount),
            (r = n.subtotal.formatted_amount),
            (i = (0, g.dR)(n))),
          I.createElement(
            "div",
            { className: f().LineItemRightCol },
            I.createElement(A.kb, {
              className: f().PriceWidget,
              formatted_orig_price: a,
              formatted_final_price: r,
              discount_percent: i,
              bHideDiscountPercentForCompliance:
                t.hide_discount_pct_for_compliance,
              bDiscountFromCoupon: !!n?.coupon_discount?.amount_in_cents,
            }),
          )
        );
      }
      function Z(e) {
        const {
            lineItem: t,
            storeItem: n,
            purchaseOption: _,
            validatedItem: p,
            initialPurchaseOption: h,
            fnRemoveLineItem: v,
            accessibilityId: S,
          } = e,
          w = (0, C.EJ)(),
          [y] = (0, R.fg)(),
          N =
            y?.accountid_giftee || (w ? t.gift_info?.accountid_giftee : void 0),
          D = (0, C.ZB)() && !p?.restrict_add_additional_to_cart,
          b = p.errors?.adult_content_restricted,
          T = (function (e, t, n, _) {
            const p = (0, u.j4)(),
              f = (0, a.KV)(),
              g = (0, l.jE)(),
              { storeBrowseContext: E, dataLoader: C } = (0, r.yn)(),
              { country: h } = E,
              I = (0, o.Gd)(_);
            return (0, s.n)({
              mutationFn: async () => {
                if (!e && !t) throw "nPackageID or nBundleID must be passed.";
                let a;
                if ((0, c.c2)(p)) {
                  const [r, i] = await (0, m.Jn)(f, h, e, t, n, I);
                  if (1 != r) throw `AddToAccountCart failed with ${r}`;
                  (a = i.line_item_ids), (0, d.LN)(g, p, i.cart);
                } else {
                  if (!(0, c.kx)(p)) throw "Invalid cart type";
                  {
                    const [r, i] = await (0, m.SI)(f, e ? [e] : void 0, t, n);
                    if (1 != r || !i)
                      throw `AddItemsToAnonymousCart failed with ${r}`;
                    {
                      const n = e
                        ? i.lineitems?.filter(
                            (t) =>
                              t.package_item &&
                              t.package_item.packageid == e &&
                              !t.package_item.gidbundle,
                          )
                        : i.lineitems?.filter(
                            (e) => e.bundle_item && e.bundle_item.bundleid == t,
                          );
                      (a = n?.map((e) => e.gidlineitem) || []),
                        (0, d.LN)(g, p, (0, m.qS)(i));
                    }
                  }
                }
                return a;
              },
              onMutate: () => {
                const n = e ? { packageid: e } : { bundleid: t };
                (async () => {
                  const e = await g.fetchQuery((0, i.us)(C, n)),
                    t =
                      1 == e?.included_appids?.length
                        ? { appid: e.included_appids[0] }
                        : n;
                  g.prefetchQuery((0, i.AQ)(C, t)),
                    g.prefetchQuery((0, i.rK)(C, t));
                })();
              },
            });
          })(t.packageid, t.bundleid, ae(_), "cart-add-additional"),
          A = I.useId(),
          G = I.useId();
        return I.createElement(
          g.UW,
          { className: f().LineItemSpaceBetween },
          I.createElement(
            "div",
            { className: f().LineItemCol },
            N
              ? I.createElement(Y, { recipient: N })
              : I.createElement($, {
                  lineItem: t,
                  storeItem: n,
                  initialValue: h,
                  purchaseOption: _,
                }),
          ),
          I.createElement(
            "div",
            { className: (0, k.A)(f().LineItemRightCol, f().AddRemoveLinks) },
            D &&
              I.createElement(
                I.Fragment,
                null,
                I.createElement(
                  E.Z,
                  {
                    onActivate: () => !T.isPending && T.mutate(),
                    className: f().AddLineItem,
                    title: (0, B.we)("#Cart_LineItem_Add_Tooltip"),
                    id: A,
                    "aria-labelledby": `${A} ${S}`,
                  },
                  (0, B.we)("#Cart_Add"),
                ),
                "|",
              ),
            !w &&
              I.createElement(
                E.Z,
                {
                  onActivate: () => v(),
                  className: f().RemoveLineItem,
                  id: G,
                  "aria-labelledby": `${G} ${S}`,
                },
                (0, B.we)("#Cart_Remove"),
              ),
            b &&
              I.createElement(
                I.Fragment,
                null,
                "| ",
                I.createElement(
                  "a",
                  {
                    href: `${x.TS.STORE_CHECKOUT_BASE_URL}checkout/?purchasetype=updatebillinginfo&r=cart`,
                    className: f().VerifyLineItem,
                  },
                  (0, B.we)("#Cart_Verify"),
                ),
                " ",
              ),
          ),
        );
      }
      function Y(e) {
        const t = (0, S.js)(e.recipient);
        return I.createElement(
          "div",
          { className: f().GiftForNotice },
          (0, B.PP)(
            "#Cart_GiftForNotice",
            t.data
              ? I.createElement(
                  "span",
                  { className: f().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function K(e) {
        const t = `${x.TS.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
        if (!e) return t;
        const n = e.GetAssets();
        if (!n) return t;
        const a = n.GetHeaderURL(),
          r = n.GetSmallCapsuleURL();
        return a || r || t;
      }
      function q(e) {
        const { storeItem: t } = e;
        let n = (0, B.we)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          I.createElement(g.dp, null, n)
        );
      }
      function Q(e) {
        const { validatedItem: t, children: n } = e;
        return I.createElement(
          "div",
          { className: (0, k.A)(f().LineItemSpaceBetween) },
          I.createElement(h.Yz, { lineItem: t }),
          n,
        );
      }
      function J(e) {
        const { item: t } = e;
        return t.GetSelfPurchaseOption()?.requires_shipping
          ? I.createElement(g.dp, null, I.createElement(P.r, { item: t }))
          : null;
      }
      function X(e) {
        const { item: t } = e;
        if (!t || 1 != t.GetStoreItemType()) return null;
        const n = t.GetSelfPurchaseOption(),
          a = n?.recurrence_info;
        if (!a) return null;
        let r = "#Package";
        2 === a.billing_agreement_type && (r = "#GameBillingPackage");
        const i = t.GetSelfPurchaseOption(),
          o = i.formatted_final_price && i.discount_pct;
        let l = n.formatted_final_price;
        o && ((r += "WithDiscount"), (l = n.formatted_original_price));
        const s =
          r +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[a.renewal_time_unit];
        return I.createElement(
          g.dp,
          null,
          (0, B.we)(
            s,
            i.formatted_final_price,
            l,
            a.renewal_time_period,
            i.discount_pct,
          ),
        );
      }
      function $(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: a,
            purchaseOption: r,
          } = e,
          [i, o] = I.useState(a),
          l = (0, C.CM)(),
          s = (0, v.DT)(),
          c = (0, C.EJ)(),
          m = !ae(r) || c,
          u = !(!(d = r).is_commercial_license && !d.requires_shipping);
        var d;
        const _ = [
          { data: "myself", label: (0, B.we)("#Cart_LineItemOptions_Myself") },
          !u && {
            data: "private",
            label: (0, B.we)("#Cart_LineItemOptions_Privately"),
            tooltip: (0, B.we)("#Cart_LineItemOptions_PrivateTooltip"),
          },
          !m && {
            data: "gift",
            label: (0, B.we)("#Cart_LineItemOptions_Gift"),
          },
        ].filter(Boolean);
        if (1 === _.length) return null;
        return I.createElement(ee, {
          onChange: (e) => {
            if (i === e.data) return;
            const a = (e) =>
                s.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              r = (e) =>
                l.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: { ...t.flags, is_gift: e },
                });
            "private" === i ? a(!1) : "gift" === i && r(!1),
              "private" === e.data ? a(!0) : "gift" === e.data && r(!0),
              o(e.data);
          },
          selectedOption: i,
          rgOptions: _,
        });
      }
      function ee(e) {
        return I.createElement(D.m, {
          strClassName: f().LineItemDropDown,
          strDropDownItemClassName: f().DropDownOptionItem,
          strDropDownClassName: f().DropDownOptionsCtnThin,
          strDropDownButtonClassName: f().DropDownThin,
          ...e,
        });
      }
      function te(e) {
        const { storeItem: t } = e,
          [n, a] = I.useState([]);
        return (
          I.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, a) => {
                const r = w.A.Get().GetApp(n);
                r &&
                  e.push(
                    I.createElement(
                      oe,
                      { key: n, appid: n },
                      I.createElement(
                        L.p,
                        {
                          item: r,
                          feature: "bundle-contents",
                          noImpressionTracking: !0,
                        },
                        r.GetName(),
                      ),
                      a < t.GetIncludedAppIDs().length - 1 ? "," : "",
                    ),
                  );
              }),
                a(e);
            }
          }, [t]),
          n.length
            ? I.createElement(
                g.UW,
                { flex: !0 },
                I.createElement(
                  "span",
                  null,
                  (0, B.Yp)("#Cart_IncludesItems", n.length),
                  ":",
                ),
                n,
              )
            : null
        );
      }
      function ne(e) {
        const { appids: t } = e,
          n = t.map((e, t) =>
            I.createElement(
              I.Fragment,
              { key: e },
              t > 0 && ", ",
              I.createElement(ie, { appid: e }),
            ),
          );
        return I.createElement(
          g.UW,
          { flex: !0 },
          I.createElement(
            "span",
            null,
            (0, B.we)("#Cart_Notice_SomeAppsPrivate"),
            "",
          ),
          n,
        );
      }
      function ae(e) {
        return e.user_can_purchase_as_gift;
      }
      const re = {
        direction: "right",
        style: { width: "320px", height: (125 / 184) * 320 + "px" },
      };
      function ie(e) {
        const { name_override: t, ...n } = e,
          { data: a } = (0, i.J$)(t ? void 0 : n),
          r = t ?? a?.name;
        return I.createElement(oe, { ...n, name: r }, r);
      }
      function oe(e) {
        const { name: t, children: n, ...a } = e;
        return I.createElement(
          T.Qf,
          {
            item: (0, T.SZ)(a),
            hoverProps: re,
            name: t,
            className: f().LineItemStoreHover,
            bShowWishlistButton: !1,
          },
          n,
        );
      }
    },
    98362: (e, t, n) => {
      "use strict";
      n.d(t, { LP: () => E, Yz: () => h, ZZ: () => f, wW: () => p });
      var a = n(70343),
        r = n(39777),
        i = n(52541),
        o = n(7151),
        l = n(90626),
        s = n(55263),
        c = n(43595),
        m = n(61859),
        u = n(11543),
        d = n.n(u);
      const _ = l.createContext(null);
      function p(e) {
        const { validateCart: t, children: n } = e,
          a = (function (e) {
            return l.useMemo(() => {
              let t = new Map(),
                n = new Map(),
                a = 1;
              const r = (e, t) => {
                n.has(e) || n.set(e, { index: a++, footnote_text: t });
              };
              return (
                e?.cart_items?.forEach((e) => {
                  let n = !!e.gift_info?.accountid_giftee;
                  e.errors?.duplicate_appids_in_cart?.length &&
                    r(1, (0, m.we)("#Cart_Error_DuplicateApps_FootNote")),
                    e.errors?.owned_appids?.length &&
                      (e.errors?.has_existing_billing_agreement
                        ? r(
                            15,
                            (0, m.we)(
                              "#Cart_Error_ExistingBillingAgreement_FootNote",
                            ),
                          )
                        : r(
                            2,
                            (0, m.we)(
                              n
                                ? "#Cart_Error_AlreadyOwned_GiftFootNote"
                                : "#Cart_Error_AlreadyOwned_FootNote",
                            ),
                          )),
                    e.errors?.unavailable_in_country &&
                      r(
                        8,
                        (0, m.we)("#Cart_Error_UnavailableCountry_FootNote"),
                      ),
                    e.errors?.adult_content_restricted &&
                      r(
                        17,
                        (0, m.we)(
                          "#Cart_Error_AdultContentRestricted_FootNote",
                        ),
                      ),
                    e.errors?.commercial_license_restricted &&
                      r(
                        18,
                        (0, m.we)(
                          "#Cart_Error_CommercialLicenseRestricted_FootNote",
                        ),
                      ),
                    e.errors?.missing_must_own_appids &&
                      r(
                        16,
                        n
                          ? (0, m.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNoteGift",
                            )
                          : (0, m.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNote",
                            ),
                      ),
                    e.warnings?.appids_in_mastersub?.length &&
                      r(
                        4,
                        (0, m.we)("#Cart_Error_MasterSubscription_FootNote"),
                      ),
                    e.warnings?.price_has_changed &&
                      t.set(
                        10,
                        (0, m.we)("#Cart_Warning_PriceChange_FootNote"),
                      );
                }),
                {
                  rgCartLevelNotices: Array.from(t.values()),
                  mapValidateNoticesToFootnote: n,
                }
              );
            }, [e]);
          })(t);
        return l.createElement(_.Provider, { value: a }, n);
      }
      function f() {
        const { rgCartLevelNotices: e } = l.useContext(_);
        return e && e.length
          ? l.createElement(
              "div",
              { className: d().HeaderNotices },
              e.map((e, t) => l.createElement(g, { key: t }, e)),
            )
          : null;
      }
      function g(e) {
        const { children: t } = e;
        return l.createElement("div", { className: d().HeaderNotice }, t);
      }
      function E() {
        const { mapValidateNoticesToFootnote: e } = l.useContext(_);
        return e && e.size
          ? l.createElement(
              "div",
              { className: d().FooterNoticesCtn },
              Array.from(e).map(([e, t]) =>
                l.createElement(C, { key: t.index, notice: t }),
              ),
            )
          : null;
      }
      function C(e) {
        const { notice: t } = e;
        return l.createElement(
          "div",
          { className: d().FooterNotice },
          l.createElement(
            "div",
            { className: d().NoticeIndex },
            l.createElement("sup", null, t.index),
          ),
          l.createElement(
            "div",
            { className: d().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function h(e) {
        const { lineItem: t } = e;
        let n = [],
          a = !!t.gift_info?.accountid_giftee;
        return (
          t.errors?.duplicate_appids_in_cart?.length &&
            n.push(
              l.createElement(I, {
                key: "duplicate_appids",
                purchase_state: 1,
                notice_text: (0, m.we)("#Cart_Error_DuplicateApps_LineItem"),
                appids: t.errors.duplicate_appids_in_cart,
              }),
            ),
          n.push(l.createElement(w, { key: "owned_apps", lineItem: t })),
          t.errors?.unavailable_in_country &&
            n.push(
              l.createElement(I, {
                key: "unavailable_in_country",
                purchase_state: 8,
                notice_text: (0, m.we)(
                  "#Cart_Error_UnavailableCountry_LineItem",
                ),
              }),
            ),
          t.errors?.adult_content_restricted &&
            n.push(
              l.createElement(I, {
                key: "adult_content_restricted",
                purchase_state: 17,
                notice_text: (0, m.we)(
                  "#Cart_Error_AdultContentRestricted_LineItem",
                ),
              }),
            ),
          t.errors?.commercial_license_restricted &&
            n.push(
              l.createElement(I, {
                key: "commercial_license_restricted",
                purchase_state: 18,
                notice_text: (0, m.we)(
                  "#Cart_Error_CommercialLicenseRestricted_LineItem",
                ),
              }),
            ),
          n.push(l.createElement(y, { key: "coupon_notices", lineItem: t })),
          t.errors?.too_many_in_cart &&
            n.push(
              l.createElement(I, {
                key: "too_many_in_cart",
                purchase_state: 14,
                notice_text: (0, m.we)("#Cart_Error_TooManyInCart"),
              }),
            ),
          t.errors?.missing_must_own_appids?.length &&
            n.push(
              l.createElement(I, {
                key: "missing_must_own_appids",
                purchase_state: 16,
                notice_text: a
                  ? (0, m.we)("#Cart_Error_MissingMustOwnApps_GiftLineItem")
                  : (0, m.we)("#Cart_Error_MissingMustOwnApps_LineItem"),
                appids: t.errors.missing_must_own_appids,
              }),
            ),
          t.warnings?.appids_in_mastersub?.length &&
            n.push(
              l.createElement(I, {
                key: "appids_in_mastersub",
                purchase_state: 4,
                notice_text: (0, m.we)(
                  "#Cart_Error_MasterSubscription_LineItem",
                ),
                appids: t.warnings.appids_in_mastersub.map((e) => e.cart_appid),
              }),
            ),
          t.warnings?.owned_appids?.length &&
            n.push(
              l.createElement(I, {
                key: "owned_appids",
                purchase_state: 3,
                notice_text: (0, m.we)("#Cart_Warning_AlreadyOwned_LineItem"),
                appids: t.warnings.owned_appids,
              }),
            ),
          t.warnings?.owned_appids_extra_copy?.length &&
            n.push(
              l.createElement(I, {
                key: "owned_appids_extra_copy",
                purchase_state: 9,
                notice_text: (0, m.we)("#Cart_Warning_ExtraCopies_LineItem"),
                appids: t.warnings.owned_appids_extra_copy,
              }),
            ),
          t.warnings?.price_has_changed &&
            n.push(
              l.createElement(I, {
                key: "price_has_changed",
                purchase_state: 10,
                notice_text: (0, m.we)("#Cart_Warning_PriceChange_LineItem"),
              }),
            ),
          t.warnings?.non_refundable &&
            n.push(
              l.createElement(I, {
                key: "non_refundable",
                purchase_state: 5,
                notice_text: (0, m.we)("#Cart_Warning_NoRefund_LineItem"),
              }),
            ),
          n.push(l.createElement(N, { key: "available_cheaper", lineItem: t })),
          n
        );
      }
      function I(e) {
        const { purchase_state: t, notice_text: n, appids: r } = e,
          i = (function (e) {
            const t = l.useContext(_);
            return t?.mapValidateNoticesToFootnote.get(e)?.index;
          })(t);
        return l.createElement(
          a.dp,
          null,
          n,
          i && l.createElement("sup", null, i),
          l.createElement(v, { rgAppIDs: r }),
        );
      }
      function v(e) {
        const { rgAppIDs: t } = e;
        return t && 0 != t.length
          ? t.map((e, n) =>
              l.createElement(S, {
                key: `${e}_${n}`,
                appid: e,
                last: n >= t.length - 1,
              }),
            )
          : null;
      }
      function S(e) {
        const { appid: t, last: n } = e,
          [a] = (0, s.t7)(t, { include_basic_info: !0 });
        return a
          ? l.createElement(
              o.Zx,
              { appid: t },
              l.createElement(
                c.p,
                { item: a, noImpressionTracking: !0 },
                a.GetName(),
              ),
              !n && l.createElement(l.Fragment, null, ","),
            )
          : null;
      }
      function w(e) {
        const { lineItem: t } = e;
        if (!t.errors?.owned_appids?.length) return null;
        let n = !!t.gift_info?.accountid_giftee;
        if (t.errors?.has_existing_billing_agreement)
          return l.createElement(I, {
            purchase_state: 15,
            notice_text: (0, m.we)("#Cart_Error_ExistingBillingAgreement"),
          });
        {
          const e = (t.store_item?.included_appids.length ?? 0) > 1;
          let a = (0, m.we)(
            n
              ? "#Cart_Error_AlreadyOwned_GiftLineItem_Game"
              : "#Cart_Error_AlreadyOwned_LineItem_Game",
          );
          return (
            e &&
              (a = (0, m.we)(
                n
                  ? "#Cart_Error_AlreadyOwned_GiftLineItem"
                  : "#Cart_Error_AlreadyOwned_LineItem",
              )),
            l.createElement(I, {
              purchase_state: 2,
              notice_text: a,
              appids: e ? t.errors.owned_appids : null,
            })
          );
        }
      }
      function y(e) {
        const { lineItem: t } = e;
        return l.createElement(
          l.Fragment,
          null,
          t.errors?.coupon_exclusive_promo &&
            l.createElement(I, {
              purchase_state: 13,
              notice_text: (0, m.we)("#Cart_Error_CouponIsExclusivePromo"),
            }),
          t.errors?.invalid_coupon &&
            l.createElement(I, {
              purchase_state: 11,
              notice_text: (0, m.we)("#Cart_Error_CouponIsInvalid"),
            }),
          t.errors?.invalid_coupon_for_item &&
            l.createElement(I, {
              purchase_state: 12,
              notice_text: (0, m.we)("#Cart_Error_CouponIsInvalidForItem"),
            }),
        );
      }
      function N(e) {
        const { lineItem: t } = e,
          { data: n } = (0, r.mr)(t.item_id),
          { data: s } = (0, r.EO)(t.item_id);
        if (!!t.gift_info?.accountid_giftee || !n || !s || (0, i.vk)(n, s))
          return null;
        const { purchase_option_name: c, packageid: u, bundleid: d } = s,
          _ = u ? { packageid: u } : { bundleid: d };
        return l.createElement(
          a.dp,
          null,
          (0, m.PP)(
            "#Cart_Warning_AvailableAtALowerPrice",
            l.createElement(o.O3, { name_override: c, ..._ }),
          ),
        );
      }
    },
    42976: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => Pt,
          default: () => bt,
          useInitCartLocalization: () => Lt,
        });
      var a = n(90485),
        r = n(43830),
        i = n(90626),
        o = n(92757),
        l = n(14860),
        s = n(28567),
        c = n(12447),
        m = n(84746);
      function u(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e;
        return i.createElement(
          c.u,
          { navID: n },
          i.createElement(m.N, null, t),
        );
      }
      var d = n(76217),
        _ = n(17690),
        p = n(82097),
        f = n(55263),
        g = n(53835),
        E = n(84811),
        C = n(82477),
        h = n(32630),
        I = n(22797),
        v = n(2627),
        S = n(61859),
        w = n(30470),
        y = n(52038),
        N = n(34633);
      function D(e) {
        return i.createElement(
          "div",
          { className: (0, y.A)(N.CartCard, e.className) },
          e.children,
        );
      }
      var b = n(2160),
        T = n(98972);
      function A(e) {
        const { cart: t } = e,
          n = (function (e) {
            const t = (0, r.zJ)();
            if (!e || !t.isSuccess || !t.data?.sale_name) return null;
            const n = new Set();
            let a = 0;
            for (const t of e.cart_items)
              a += parseInt(t.subtotal.amount_in_cents);
            const {
                sale_name: i,
                spend_earned_for_next_drop: o,
                spend_needed_for_next_drop: l,
                formatted_spend_per_drop: s,
              } = t.data,
              c = a + o,
              m = Math.floor(c / l),
              u = Math.floor(((c % l) * 100) / l);
            return {
              cEarned: m,
              pctProgress: u,
              strFormattedSpendPerDrop: s,
              rgPrepurchaseApps: Array.from(n),
              strSaleName: i,
            };
          })(t);
        if (
          !t ||
          !w.iA.logged_in ||
          !n ||
          (0, b.nA)(w.TS.EREALM) ||
          !n.strSaleName
        )
          return null;
        const {
            cEarned: a,
            pctProgress: o,
            rgPrepurchaseApps: l,
            strFormattedSpendPerDrop: s,
            strSaleName: c,
          } = n,
          m = a > 0,
          u = i.createElement(
            "div",
            { className: T.Explanation },
            (0, S.we)("#Cart_SaleCardDrops_Explanation", c),
          );
        return i.createElement(
          D,
          { className: T.TradingCardContainer },
          m &&
            i.createElement(
              "div",
              { className: T.EarnedMessage },
              (0, S.Yp)("#Cart_SaleCardDrops_EarnedMessage", a, c),
            ),
          !m && u,
          i.createElement(
            "div",
            { className: T.ProgressSection },
            i.createElement(
              "div",
              null,
              (0, S.we)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            i.createElement(G, { value: o }),
            i.createElement(
              "div",
              { className: T.Right },
              "(",
              (0, S.we)("#Cart_SaleCardDrops_CardCost", s),
              ")",
            ),
          ),
          m && u,
          l.length > 0 &&
            i.createElement(
              "div",
              { className: T.IneligbleList },
              i.createElement(
                "p",
                null,
                (0, S.we)("#Cart_SaleCardDrops_PrepurchaseIneligible", c),
              ),
              i.createElement(
                "ul",
                null,
                l.map((e) => i.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function G(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return i.createElement(
          "div",
          { className: T.ProgressRail },
          i.createElement("div", {
            className: T.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var P = n(23310),
        L = n(62792),
        k = (n(31335), n(46416)),
        B = n(10386);
      var x = n(50169),
        R = n(45803),
        F = n.n(R),
        M = n(39777),
        O = n(32541),
        U = n(84933);
      var W = n(60746);
      function j(e) {
        const { bMinimalDisplay: t } = e,
          n = (function () {
            const e = (0, U.CH)();
            return (
              i.useEffect(
                () => (
                  window.addEventListener("resize", e),
                  () => window.removeEventListener("resize", e)
                ),
                [e],
              ),
              window.innerWidth < parseInt(N.strMaxCartPartResponsiveWidth)
            );
          })();
        return (n && t) || (!n && !t) ? null : i.createElement(z, { ...e });
      }
      function z(e) {
        const { cart: t, bMinimalDisplay: n } = e,
          a = (function (e) {
            const [t, n] = (0, i.useState)(null),
              a = (0, i.useMemo)(
                () =>
                  1 == e?.line_items?.length && e.line_items[0].packageid
                    ? { packageid: e.line_items[0].packageid }
                    : void 0,
                [e],
              ),
              { data: r } = (0, M.U2)(a);
            (0, i.useEffect)(() => {
              const e = r?.type;
              0 == e
                ? n(r.id)
                : (4 != e && 11 != e) || n(r.related_items?.parent_appid);
            }, [r?.id, r?.related_items?.parent_appid, r?.type]);
            const o = (0, i.useMemo)(
                () => (Boolean(t) ? { appid: t } : void 0),
                [t],
              ),
              { data: l } = (0, M.wl)(o);
            return l;
          })(t),
          r = (0, W.kY)(),
          o = (0, i.useMemo)(() => {
            const e = new Set(
              [
                ...(a?.developers || []),
                ...(a?.publishers || []),
                ...(a?.franchises || []),
              ]
                .filter((e) => Boolean(e) && Boolean(e.creator_clan_account_id))
                .map((e) => e.creator_clan_account_id),
            );
            return Array.from(e);
          }, [a]);
        return 0 != o.length && r
          ? i.createElement(
              "div",
              { className: F().CartCreatorCtn },
              i.createElement(
                "div",
                { className: F().Title },
                (0, S.we)("#Cart_FollowCreator_title"),
              ),
              i.createElement(
                "div",
                { className: F().Description },
                (0, S.we)("#Cart_FollowCreator_desc"),
              ),
              i.createElement("br", null),
              o.map((e) =>
                i.createElement(O.hA, {
                  key: "creat" + e,
                  creatorID: {
                    name: "",
                    clan_account_id: e,
                    type: "developer",
                  },
                  bHideCreatorType: !0,
                  bSmallFormat: !0,
                  bMinimalDisplay: n,
                }),
              ),
            )
          : null;
      }
      function H(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              (n?.appid
                ? !e[n?.appid]
                : !n?.included_appids ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function V(e) {
        const { cart: t, validatedCart: n } = e,
          [a, r] = i.useState(void 0),
          o = (n?.cart_items || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        i.useEffect(() => {
          void 0 === a &&
            t &&
            r(
              t?.line_items.map((e) =>
                e.packageid
                  ? { packageid: e.packageid }
                  : { bundleid: e.bundleid },
              ),
            );
        }, [a, t]);
        const l = (function (e, t = !0) {
          return (0, B.FY)(
            {
              bIncludeDailyDeals: !0,
              nIncludeTopNSpecials: 8,
              spotlightLocation: { location: "cart" },
              rgAdditionalRecommendationIDs: e,
            },
            { include_assets: !0, include_release: !0 },
            t,
          );
        })(a, void 0 !== a);
        if (l.isError) return null;
        const s = o.reduce((e, t) => ((e[t] = !0), e), {}),
          c = H(s, l.data?.purchase_recommendations),
          m = H(s, l.data?.specials);
        H(s, l.data?.daily_deals), H(s, l.data?.spotlights);
        return i.createElement(
          "div",
          { className: x.CartUpsellArea },
          i.createElement(
            "div",
            { className: x.CartUpsellTitle },
            (0, S.we)("#Recommendations_Header"),
          ),
          c?.length > 3
            ? i.createElement(Z, {
                type: "recommended",
                data: c,
                isLoaded: !l.isLoading,
              })
            : i.createElement(Z, {
                type: "specials",
                data: m,
                isLoaded: !l.isLoading,
              }),
          i.createElement(j, { cart: t, bMinimalDisplay: !1 }),
        );
      }
      function Z(e) {
        const { data: t, isLoaded: n, type: a } = e;
        return !t && n
          ? null
          : i.createElement(
              h.Ay,
              { feature: `upsell-${a}` },
              i.createElement(
                K,
                { className: (0, y.A)(x.Specials) },
                t
                  ?.slice(0, 3)
                  .map(({ item_id: e, item: t }) =>
                    i.createElement(Y, {
                      key: (0, L.wD)(e),
                      item_id: e,
                      item: t,
                    }),
                  ),
              ),
            );
      }
      function Y(e) {
        const { item: t } = e;
        return i.createElement(k.W, {
          capsule: { id: t.id, type: (0, L._4)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
          bPreferAssetWithoutOverride: !1,
        });
      }
      function K(e) {
        const { className: t, children: n } = e;
        return i.createElement(
          d.Z,
          {
            "flow-children": "row",
            navEntryPreferPosition: P.iU.MAINTAIN_X,
            className: (0, y.A)(x.UpsellRow, t),
          },
          n,
        );
      }
      var q = n(99637),
        Q = n(14771),
        J = n(78327),
        X = n(83934),
        $ = n.n(X);
      const ee = i.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [a, r] = i.useState(null),
          o = t > 0;
        return i.createElement(
          Oe,
          null,
          i.createElement(je, null, (0, S.we)("#Cart_GiftDelivery_Label")),
          i.createElement(
            We,
            null,
            i.createElement(g.Od, {
              controlled: !0,
              checked: !o,
              onChange: (e) => e && void n(0),
              label: (0, S.we)("#Cart_GiftDelivery_Now"),
            }),
          ),
          i.createElement(
            We,
            null,
            i.createElement(g.Od, {
              controlled: !0,
              checked: o,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, S.we)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            i.createElement("div", { style: { clear: "both" } }),
            a && i.createElement("div", { className: $().ScheduleError }, a),
            o &&
              i.createElement(
                E.tH,
                null,
                i.createElement(te, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: r,
                }),
              ),
          ),
        );
      });
      function te(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: a,
        } = e;
        if ((0, J.Qn)())
          return i.createElement(ae, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: a,
          });
        {
          const e = () => ne(t);
          return i.createElement(q.K, {
            bShowTimeZone: !0,
            className: $().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: a,
          });
        }
      }
      function ne(e) {
        const t = Date.now() / 1e3 + Q.Kp.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, S.we)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, S.we)("#Cart_GiftScheduleError_InvalidDate");
      }
      function ae(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: a,
          } = e,
          r = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          o = new Date(1e3 * t),
          [l, s] = (0, i.useState)(o.getMonth()),
          [c, m] = (0, i.useState)(o.getDate()),
          [u, d] = (0, i.useState)(o.getFullYear()),
          [_, p] = (0, i.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                a = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${a < 10 ? "0" : ""}${a}`
              );
            })(o, r),
          ),
          [f, C] = (0, i.useState)(o.getHours() >= 12 ? "PM" : "AM");
        i.useEffect(() => {
          let e = _.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const i = parseInt(e[2]);
          r &&
            ("PM" == f && t < 12 ? (t += 12) : "AM" == f && 12 == t && (t = 0));
          const o = new Date(u, l, c, t, i, 0, 0).getTime() / 1e3,
            s = ne(o);
          !0 === s ? (a(null), n(o)) : a(s);
        }, [u, l, c, _, f, r, n, a]);
        const h = "US" == J.TS.COUNTRY && "english" == J.TS.LANGUAGE;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            g.Xp,
            { className: $().GamepadTimePickerRow },
            h && i.createElement(ie, { month: l, setMonth: s }),
            i.createElement(oe, { year: u, month: l, day: c, setDay: m }),
            !h && i.createElement(ie, { month: l, setMonth: s }),
            i.createElement(re, { year: u, setYear: d }),
          ),
          i.createElement(
            g.Xp,
            { className: $().GamepadTimePickerRow },
            i.createElement(g.pd, {
              value: _,
              onChange: (e) => p(e.currentTarget.value),
            }),
            r && i.createElement(le, { strAMPM: f, setAMPM: C }),
            i.createElement(
              g.VP,
              { className: $().TimezoneDisplay },
              i.createElement(E.tH, null, i.createElement(se, null)),
            ),
            !r && i.createElement(g.VP, null, ""),
          ),
        );
      }
      function re(e) {
        const { year: t, setYear: n } = e,
          a = i.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return i.createElement(g.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function ie(e) {
        const { month: t, setMonth: n } = e,
          a = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return i.createElement(g.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function oe(e) {
        const { year: t, month: n, day: a, setDay: r } = e,
          o = i.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              a = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
                day: "numeric",
              });
            let r = [];
            for (let t = 1; t <= e; t++)
              r.push({ label: a.format(new Date(null, null, t)), data: t });
            return r;
          }, [n, t]);
        return i.createElement(g.m, {
          selectedOption: a,
          onChange: (e) => r(e.data),
          rgOptions: o,
        });
      }
      function le(e) {
        const { strAMPM: t, setAMPM: n } = e,
          a = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 5))
                    .find((e) => "dayPeriod" == e.type)?.value || "AM",
                data: "AM",
              },
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 17))
                    .find((e) => "dayPeriod" == e.type)?.value || "PM",
                data: "PM",
              },
            ];
          }, []);
        return i.createElement(g.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function se() {
        const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return i.createElement(i.Fragment, null, e ? e.value : "");
      }
      var ce = n(1035),
        me = n(14336),
        ue = n(56545),
        de = n(94076),
        _e = n(15161),
        pe = n(20194),
        fe = n(23809),
        ge = n(26505);
      function Ee(e) {
        const t = (function (e) {
            const t = (0, fe.KV)(),
              n = (0, L.Je)(e.GetID(), e.GetStoreItemType());
            return (0, pe.I)({
              queryKey: ["FriendOwnershipForGifting", n],
              queryFn: async () => {
                const e = ue.w.Init(de.HM);
                e.Body().set_item_ids([_e.O4.fromObject(n)]);
                const a = await de._o.GetFriendOwnershipForGifting(t, e);
                if (!a.BSuccess()) throw a.GetEResult();
                return a.Body().toObject();
              },
            });
          })(e),
          n = (0, ge.d0)({ loadFavorites: !0, loadNicknames: !0 }),
          a = t?.data?.ownership_info[0]?.friend_ownership,
          r = i.useMemo(
            () => new Map(a && a.map((e) => [e.accountid, e])),
            [a],
          );
        if (t.isLoading || n.isLoading) return { isLoading: !0 };
        if (t.isError || n.isError) return { isError: !0 };
        const o = n.data.map((e, t) => {
          const n = r.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return { ...e, ownership: n };
        });
        return (
          o.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: o }
        );
      }
      var Ce = n(75204),
        he = n(34181),
        Ie = n(17720),
        ve = n(51706);
      function Se(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: a,
          fnOnDismiss: r,
        } = e;
        return i.createElement(
          ve.mt,
          { className: $().GiftRecipientPickerModal, active: a, onDismiss: r },
          i.createElement(we, { onDismiss: r, lineItem: n, storeItem: t }),
        );
      }
      const we = i.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: a,
        } = Ee(e.storeItem);
        return i.createElement(ye, {
          ...e,
          rgFriendsForGifting: t,
          isLoading: n,
          isError: a,
        });
      });
      function ye(e) {
        const {
            lineItem: t,
            onDismiss: n,
            rgFriendsForGifting: a,
            isLoading: o,
            isError: l,
          } = e,
          s = (0, r.CM)(),
          [c, m] = i.useState(""),
          u = i.useMemo(() => {
            if (!a) return [];
            const e = c.toLocaleLowerCase();
            return a.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [c, a]),
          d = t.gift_info?.accountid_giftee,
          _ = (e) => {
            if (e) {
              const n = new Ie.b(e);
              n.BIsValid() &&
                s.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: { accountid_giftee: n && n.GetAccountID() },
                });
            }
            n();
          };
        return l
          ? i.createElement(
              Ne,
              null,
              i.createElement(
                "div",
                { className: $().LoadingError },
                (0, S.we)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : i.createElement(
              Ne,
              { loading: o },
              i.createElement(De, { value: c, onChange: m }),
              i.createElement(
                be,
                null,
                u.map((e) =>
                  i.createElement(Te, {
                    key: e.accountid,
                    selected: e.accountid === d,
                    onSelect: _,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function Ne(e) {
        const { loading: t, children: n } = e;
        return i.createElement(
          d.Z,
          { className: $().GiftRecipientPickerFormCtn },
          i.createElement(
            "div",
            { className: $().FormTitle },
            (0, S.we)("#Cart_GiftRecipientModal_Title"),
          ),
          t && i.createElement(I.t, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function De(e) {
        const { value: t, onChange: n } = e;
        return i.createElement(g.pd, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: $().GiftFriendsInput,
          placeholder: (0, S.we)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function be(e) {
        return i.createElement(Ce.MS, {
          className: $().GiftFriendsListCtn,
          ...e,
        });
      }
      function Te(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: a,
            persona: r,
            ownsGame: o,
            wishlistsGame: l,
          } = e,
          s = o,
          c = i.useCallback(() => {
            s || n(r.m_steamid.ConvertTo64BitString());
          }, [s, n, r]);
        let m = null;
        return (
          o
            ? (m = i.createElement(
                "div",
                { className: (0, y.A)($().FriendsGiftLabel, $().OwnsGame) },
                (0, S.we)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : l &&
              (m = i.createElement(
                "div",
                { className: (0, y.A)($().FriendsGiftLabel, $().OnWishlist) },
                (0, S.we)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          i.createElement(
            d.Z,
            {
              className: (0, y.A)(
                $().GiftPickerFriendBlock,
                t && $().Selected,
                s && $().Disabled,
              ),
              focusClassName: $().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            i.createElement(ce.i8, {
              className: $().FriendAvatar,
              statusPosition: "right",
              persona: r,
            }),
            i.createElement(he.A, {
              bParenthesizeNicknames: !0,
              strNickname: a,
              persona: r,
              className: $().PersonaName,
            }),
            m,
          )
        );
      }
      var Ae = n(29233);
      function Ge(e) {
        const { giftInfo: t, onChange: n } = e,
          a = (0, me.js)(t.accountid_giftee);
        return a.data
          ? i.createElement(
              Me,
              null,
              i.createElement(
                Ue,
                null,
                i.createElement(je, null, (0, S.we)("#Cart_PurchaseFor_Label")),
                i.createElement(
                  "a",
                  { href: a.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(ce.i8, {
                    className: $().FriendAvatar,
                    statusPosition: "right",
                    persona: a.data,
                  }),
                ),
                a.data.m_strPlayerName,
              ),
              i.createElement(xe, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function Pe(e) {
        const { lineItem: t } = e,
          n = t.gift_info?.accountid_giftee;
        return i.createElement(
          Me,
          null,
          !n && i.createElement(Le, { ...e }),
          n && i.createElement(ke, { ...e }),
          n && i.createElement(Be, { lineItem: t }),
          n &&
            i.createElement(He, {
              gifteeAccountID: t.gift_info?.accountid_giftee,
            }),
        );
      }
      function Le(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, r] = i.useState(!1);
        return i.createElement(
          Oe,
          null,
          i.createElement(
            g.jn,
            { onClick: () => r(!0) },
            (0, S.we)("#Cart_SelectGiftRecipient"),
          ),
          a &&
            i.createElement(Se, {
              bShowGiftRecipientModal: a,
              fnOnDismiss: () => r(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function ke(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, r] = i.useState(!1),
          o = (0, me.js)(t.gift_info.accountid_giftee);
        return o.data
          ? i.createElement(
              Oe,
              null,
              i.createElement("div", { className: $().GiftFormDivider }),
              i.createElement(
                Ue,
                null,
                i.createElement(
                  je,
                  null,
                  (0, S.we)("#Cart_GiftRecipient_Label"),
                ),
                i.createElement(
                  "a",
                  { href: o.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(ce.i8, {
                    className: $().FriendAvatar,
                    statusPosition: "right",
                    persona: o.data,
                  }),
                ),
                o.data.m_strPlayerName,
                i.createElement(
                  ze,
                  { onClick: () => r(!0) },
                  "(",
                  (0, S.we)("#Cart_Edit"),
                  ")",
                ),
              ),
              a &&
                i.createElement(Se, {
                  bShowGiftRecipientModal: a,
                  fnOnDismiss: () => r(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function Be(e) {
        const { lineItem: t } = e,
          [n, a] = i.useState(t.gift_info?.time_scheduled_send),
          o = i.useRef(n),
          [l, s] = i.useState(t.gift_info?.gift_message?.message || ""),
          c = i.useRef(l),
          [m, u] = i.useState(t.gift_info?.gift_message?.signature || ""),
          d = i.useRef(m),
          _ = (0, U._g)(3e3),
          { mutate: p } = (0, r.CM)(),
          f = i.useCallback(
            (e) => {
              _(() =>
                p({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: e,
                }),
              );
            },
            [p, t.line_item_id, t.flags, _],
          );
        return (
          (0, i.useEffect)(() => {
            (o.current == n && c.current == l && d.current == m) ||
              (f({
                accountid_giftee: t.gift_info?.accountid_giftee,
                gift_message: { message: l, signature: m },
                time_scheduled_send: n,
              }),
              (o.current = n),
              (c.current = l),
              (d.current = m));
          }, [l, m, n, f, t.gift_info?.accountid_giftee]),
          i.createElement(Fe, {
            id: t.line_item_id,
            message: l,
            onMessageChange: s,
            signature: m,
            onSignatureChange: u,
            scheduledTime: n,
            onScheduledTimeChange: a,
          })
        );
      }
      function xe(e) {
        const { giftInfo: t, onChange: n } = e;
        return i.createElement(Fe, {
          id: "cart",
          message: t.gift_message?.message || "",
          onMessageChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, message: e } }),
          signature: t.gift_message?.signature || "",
          onSignatureChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, signature: e } }),
          scheduledTime: t.time_scheduled_send,
          onScheduledTimeChange: (e) => n({ ...t, time_scheduled_send: e }),
        });
      }
      const Re = 160;
      function Fe(e) {
        const {
            id: t,
            message: n,
            onMessageChange: a,
            signature: r,
            onSignatureChange: o,
            scheduledTime: l,
            onScheduledTimeChange: s,
            onBlur: c,
          } = e,
          m = Re - n.length,
          [u, d] = i.useState(!1),
          { data: _ } = (0, me.js)(w.iA.accountid);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            Oe,
            null,
            i.createElement(
              je,
              null,
              (0, S.PP)(
                "#Cart_GiftDelivery_Body",
                i.createElement(
                  "span",
                  { className: m <= 0 ? $().RedText : null },
                  m,
                ),
              ),
            ),
            i.createElement(g.Cl, {
              nMinHeight: 50,
              className: $().GiftNoteInput,
              value: n,
              onBlur: c,
              onChange: (e) => a(e.target.value),
            }),
          ),
          i.createElement(
            Oe,
            null,
            i.createElement(
              "div",
              { className: $().GiftFormRecipient },
              i.createElement(je, null, (0, S.we)("#Cart_GiftDelivery_From")),
              i.createElement(ce.i8, {
                className: $().FriendAvatar,
                statusPosition: "right",
                persona: _,
              }),
              " ",
              _?.m_strPlayerName || "",
              !u &&
                i.createElement(
                  ze,
                  { onClick: () => d(!0) },
                  "(",
                  (0, S.we)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          u &&
            i.createElement(
              Oe,
              null,
              i.createElement(
                je,
                null,
                (0, S.we)("#Cart_GiftDelivery_Signature"),
              ),
              i.createElement(g.pd, {
                value: r,
                className: $().GiftSignatureInput,
                onChange: (e) => o(e.target.value),
                onBlur: c,
                maxChars: Re,
              }),
            ),
          i.createElement(ee, { scheduledTime: l, onScheduledTimeChange: s }),
        );
      }
      function Me(e) {
        return i.createElement(
          "div",
          { className: $().GiftFormCtn },
          e.children,
        );
      }
      function Oe(e) {
        return i.createElement(
          "div",
          { className: $().GiftFormSection },
          e.children,
        );
      }
      function Ue(e) {
        return i.createElement(
          "div",
          { className: $().GiftFormRecipient },
          e.children,
        );
      }
      function We(e) {
        return i.createElement(
          "div",
          { className: $().GiftRadioRow },
          e.children,
        );
      }
      function je(e) {
        return i.createElement(
          "div",
          { className: $().FormTextLabel },
          e.children,
        );
      }
      function ze(e) {
        return i.createElement(d.Z, {
          onActivate: e.onClick,
          children: e.children,
          className: $().LinkButton,
        });
      }
      function He(e) {
        const { gifteeAccountID: t } = e,
          { isLoading: n, data: a } = (0, l.vo)(!0);
        if (n || a.is_not_member_of_any_group() || 2 === a.role()) return null;
        const r = Ae.b2
          .InitFromAccountID(t, w.TS.EUNIVERSE)
          .ConvertTo64BitString();
        return a
          .family_group()
          .members()
          .some((e) => e.steamid() === r && 2 === e.role())
          ? i.createElement(
              "div",
              { className: $().FamilyGiftNotice },
              " ",
              (0, S.we)("#Cart_FamilyGift_Notice"),
            )
          : null;
      }
      var Ve = n(79443),
        Ze = n(30709),
        Ye = n(70343),
        Ke = n(22837),
        qe = n(81393),
        Qe = n(43527),
        Je = n(50829),
        Xe = n(97232);
      function $e(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: a,
            availableCoupons: o,
          } = e,
          [{ bDialogActive: l, strDialogTitle: s }, c] = i.useState({
            bDialogActive: !1,
          }),
          m = (0, r.CM)();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(et, {
            couponApplied: a,
            numAvailable: o.length,
            onModifyClick: () =>
              c({
                bDialogActive: !0,
                strDialogTitle: (0, S.we)(
                  a ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          i.createElement(nt, {
            active: l,
            title: s || (0, S.we)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => c({ bDialogActive: !1 }),
            couponApplied: a,
            availableCoupons: o,
            onCouponChange: (e) => {
              m.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: { ...t.flags },
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function et(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: a } = e,
          r = (0, S.we)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return i.createElement(
          "div",
          { className: Je.CouponPickerRowGlow },
          i.createElement(
            "div",
            { className: Je.CouponPickerRow },
            t ? i.createElement(tt, { ...t }) : null,
            i.createElement(it, null, (0, S.Yp)("#Cart_CouponAvailability", n)),
            i.createElement(
              "div",
              { className: Je.ModifyLink },
              i.createElement(ze, { onClick: a }, r),
            ),
          ),
        );
      }
      function tt(e) {
        const { large_icon_url: t, title: n } = e;
        return i.createElement("img", {
          className: Je.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function nt(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: a,
            title: r,
            couponApplied: o,
            availableCoupons: l,
            onCouponChange: s,
          } = e,
          [c, m] = i.useState(o?.gidcoupon || "");
        return i.createElement(
          ve.mt,
          { active: t, onDismiss: n },
          i.createElement(g.Y9, null, r),
          i.createElement(
            g.a3,
            null,
            (0, S.PP)(
              "#Cart_SelectCouponToApply",
              i.createElement("span", { className: Je.PackageName }, a),
            ),
          ),
          i.createElement(at, {
            availableCoupons: l,
            couponApplied: o?.gidcoupon,
            couponSelected: c,
            onSelectedChange: m,
          }),
          i.createElement(g.CB, {
            onCancel: n,
            onOK: () => {
              n(), s(c || Ke.kF);
            },
            strOKText: (0, S.we)("#Button_Done"),
          }),
        );
      }
      function at(e) {
        const {
            availableCoupons: t,
            couponApplied: n,
            couponSelected: a,
            onSelectedChange: o,
          } = e,
          { data: l } = (0, r.g7)(),
          s = (l?.cart_items || []).map((e) => e.coupon_applied?.gidcoupon);
        return i.createElement(
          "div",
          { className: Je.CouponListContainer },
          t.map((e) =>
            i.createElement(rt, {
              key: e.gidcoupon,
              ...e,
              applied: n === e.gidcoupon,
              selected: a === e.gidcoupon,
              inUse: s.includes(e.gidcoupon),
              onSelected: (t) => o(t ? e.gidcoupon : ""),
            }),
          ),
        );
      }
      function rt(e) {
        const {
            applied: t,
            inUse: n,
            selected: a,
            large_icon_url: r,
            title: o,
            discount_pct: l,
            onSelected: s,
          } = e,
          c = !t && n,
          m = c ? void 0 : () => s(!a);
        return i.createElement(
          "div",
          {
            className: (0, y.A)(Je.CouponListItem, c && Je.Disabled),
            onClick: m,
          },
          i.createElement(ot, { checked: a, hidden: c }),
          i.createElement("img", { src: r, title: o, className: Je.Image }),
          i.createElement(
            "div",
            { className: Je.Info },
            t && i.createElement(it, null, (0, S.we)("#Cart_Coupons_Applied")),
            c && i.createElement(it, null, (0, S.we)("#Cart_Coupons_InUse")),
          ),
          i.createElement("div", { className: Je.Discount }, "-", l, "%"),
        );
      }
      function it(e) {
        return i.createElement(
          "div",
          { className: Je.CouponInfoText },
          e.children,
        );
      }
      function ot(e) {
        const { checked: t, hidden: n } = e;
        return i.createElement(
          "div",
          { className: (0, y.A)(Je.Checkbox, n && Je.Hidden) },
          t && i.createElement(Xe.Jl, null),
        );
      }
      var lt = n(98362),
        st = n(71460),
        ct = n.n(st),
        mt = n(11543),
        ut = n.n(mt);
      function dt() {
        const [e, t] = i.useState(null);
        return (
          i.useEffect(() => {
            t((0, r.Vh)()?.rgUserCountryOptions);
          }, []),
          e
            ? i.createElement(
                "div",
                {
                  className: (0, y.A)(
                    ut().EstimatedTotalFlex,
                    ct().UserCountrySelector,
                  ),
                },
                i.createElement(
                  "div",
                  { className: ut().CartLabelText },
                  (0, S.we)("#Cart_UserCountrySelector"),
                ),
                i.createElement(
                  "div",
                  { className: ut().CartValueText },
                  i.createElement(_t, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function _t(e) {
        const { rgCountryOptions: t } = e,
          [n, a] = i.useState(w.TS.COUNTRY),
          r = i.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          o = i.useCallback((e) => {
            e.data != w.TS.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              a(e.data);
          }, []);
        return i.createElement(g.m, {
          selectedOption: n,
          onChange: o,
          rgOptions: r,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var pt = n(7151),
        ft = n(10247);
      function gt(e) {
        const { children: t } = e;
        return i.createElement(Et, null, t);
      }
      function Et(e) {
        const { children: t } = e,
          n = (0, r.UI)(),
          { data: a } = (0, r.Ck)(),
          o = n.isLoading || !n.data,
          l = (0, J.Qn)(),
          [s, c] = (0, ft.fg)(),
          { sortedLineItems: m, bCartIncludesGifts: u } = i.useMemo(() => {
            const e = n?.data?.line_items || [],
              t = e.some((e) => e.flags?.is_gift);
            return {
              sortedLineItems: e.sort((e, t) => {
                const n = e.bundleid ?? e.packageid,
                  a = t.bundleid ?? t.packageid;
                return e.time_added == t.time_added
                  ? n < a
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              }),
              bCartIncludesGifts: t,
            };
          }, [n?.data?.line_items]),
          _ = i.useCallback(
            (e) =>
              i.createElement(Ct, {
                ...e,
                availableCoupons: (a && a[e.lineItem.line_item_id]) || [],
              }),
            [a],
          ),
          { data: p } = (0, r.g7)();
        return i.createElement(
          lt.wW,
          { validateCart: p },
          i.createElement(lt.ZZ, null),
          i.createElement(
            d.Z,
            { className: ut().ShoppingCartCtn },
            i.createElement(
              d.Z,
              { className: ut().ShoppingCartLeftCol },
              o && i.createElement(Ye.UD, null),
              !!s &&
                i.createElement(
                  E.tH,
                  null,
                  i.createElement(
                    D,
                    null,
                    i.createElement(Ge, { giftInfo: s, onChange: c }),
                  ),
                ),
              i.createElement(
                E.tH,
                null,
                m?.length > 1 ? (0, S.PP)("#Cart_ItemCount", m?.length) : null,
                i.createElement(pt.pf, {
                  lineItems: m,
                  cartValidation: p,
                  LineItemContainer: _,
                }),
              ),
              i.createElement(lt.LP, null),
              !l &&
                i.createElement(
                  "div",
                  { className: ut().ResponsiveShoppingCartSummary },
                  i.createElement(ht, {
                    bCartIncludesGifts: u,
                    strEstimatedTotal:
                      p?.estimated_totals?.subtotal.formatted_amount,
                  }),
                  i.createElement(wt, null),
                ),
              t && t({ cart: n.data, validatedCart: p, bCartIncludesGifts: u }),
            ),
            i.createElement(
              d.Z,
              {
                className: (0, y.A)(
                  ut().ShoppingCartRightCol,
                  m?.length <= 2 && ut().SmallCart,
                ),
              },
              i.createElement(
                "div",
                { className: ut().CartRightColStickyCtn },
                i.createElement(ht, {
                  bCartIncludesGifts: u,
                  strEstimatedTotal:
                    p?.estimated_totals?.subtotal.formatted_amount,
                }),
                i.createElement(wt, null),
                i.createElement(j, { cart: n.data, bMinimalDisplay: !0 }),
              ),
            ),
          ),
        );
      }
      function Ct(e) {
        const {
            lineItem: t,
            storeItem: n,
            validatedItem: a,
            availableCoupons: r,
            children: o,
          } = e,
          [l] = (0, ft.Ez)(),
          s = "gifts" === l && !!t.flags.is_gift,
          c = !!r.length;
        return i.createElement(
          d.Z,
          null,
          i.createElement(
            Ye.Rz,
            null,
            o,
            s && i.createElement(Pe, { storeItem: n, lineItem: t }),
          ),
          c &&
            i.createElement($e, {
              storeItem: n,
              lineItem: t,
              couponApplied: a?.coupon_applied,
              availableCoupons: r,
            }),
        );
      }
      const ht = (0, E.Nr)(function (e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          { bButtonDisabled: a, nextStep: r, bGuestAvailable: o } = It(n);
        return i.createElement(
          "div",
          { className: ut().CartSummaryCtn },
          i.createElement(E.tH, null, i.createElement(dt, null)),
          i.createElement(
            "div",
            {
              className: (0, y.A)(
                ut().EstimatedTotalFlex,
                ut().SummaryMarginBottom,
              ),
            },
            i.createElement(
              "div",
              { className: ut().CartLabelText },
              (0, S.we)("#Cart_EstimatedTotal"),
            ),
            i.createElement("div", { className: ut().CartValueText }, t),
          ),
          i.createElement(
            "div",
            {
              className: (0, y.A)(ut().CartNoteText, ut().SummaryMarginBottom),
            },
            (0, S.we)("#Cart_Note_SalesTax"),
          ),
          i.createElement(
            E.wC,
            null,
            i.createElement(St, { bDisabled: a, nextStep: r, bGuestOption: o }),
            i.createElement(Nt, { disabled: a || n }),
            i.createElement(yt, { bDisabled: a }),
          ),
        );
      });
      function It(e) {
        const t = (0, r.UI)(),
          n = (0, r.g7)(),
          a = n.isSuccess && n.data.cart_items.every((e) => !e.errors),
          [i, o] = (0, ft.Ez)(),
          l = (0, r.EJ)(),
          s = (0, r.uQ)(n.data),
          c =
            t.isSuccess &&
            t.data.line_items.some(
              (e) => e.flags?.is_gift && !e.gift_info?.accountid_giftee,
            ),
          m =
            w.iA.logged_in &&
            (("initial" === i && !e && !a) ||
              ("gifts" === i && (!a || c)) ||
              (t.isSuccess && 0 == t.data.line_items.length));
        let u;
        return (
          (u = w.iA.logged_in
            ? e && "initial" == i && !l
              ? "gifts"
              : "checkout"
            : "login"),
          { bButtonDisabled: m, nextStep: u, bGuestAvailable: s }
        );
      }
      function vt(e) {
        const {
          bButtonDisabled: t,
          nextStep: n,
          bGuestAvailable: a,
        } = It(e.bCartIncludesGifts);
        return i.createElement(St, {
          bDisabled: t,
          nextStep: n,
          bGuestOption: a,
        });
      }
      function St(e) {
        const { bDisabled: t, nextStep: n, bGuestOption: a } = e,
          l = (0, r.jY)(),
          s = (0, o.W6)(),
          [c, m] = (0, ft.Ez)(),
          u = (0, Ze.j4)();
        let d = Ke.kF;
        (0, Ve.kx)(u) && (d = u.gid);
        const _ = (function (e) {
            return "login" == e
              ? (0, S.we)("#Cart_ContinueButton_Payment")
              : "gifts" == e
                ? (0, S.we)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, S.we)("#Cart_ContinueButton_Payment")
                  : ((0, qe.z_)(e, "unhandled step"), "");
          })(n),
          p = (0, y.A)(
            ut().CartSummaryBtn,
            ut().SummaryMarginBottom,
            ut().Button,
          );
        return i.createElement(
          g.jn,
          {
            disabled: t,
            className: p,
            onClick: () => {
              switch (n) {
                case "login":
                  if (d != Ke.kF && a) {
                    const e =
                      w.TS.STORE_CHECKOUT_BASE_URL +
                      "checkout?purchasetype=self&cart=" +
                      d;
                    (0, C.pZ)(e, a);
                  } else (0, C.vg)();
                  break;
                case "gifts":
                  m("gifts"), s.push(Qe.B.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = l;
                  break;
                default:
                  (0, qe.z_)(n, "unhandled step");
              }
            },
          },
          _,
        );
      }
      function wt() {
        const e = `${w.TS.STORE_BASE_URL}subscriber_agreement/`;
        return i.createElement(
          d.Z,
          { className: ut().LicenseContextCtn },
          i.createElement("img", {
            src: `${w.TS.IMG_URL}/checkout/computer.png`,
            alt: "",
          }),
          i.createElement(
            "div",
            null,
            i.createElement(
              "div",
              { className: ut().LicenseTitle },
              (0, S.we)("#Cart_LicenseContextTitle"),
            ),
            i.createElement(
              "div",
              { className: ut().LicenseLink },
              (0, S.PP)(
                "#Cart_LicenseContextLink",
                i.createElement(
                  "a",
                  { href: e },
                  (0, S.we)("#Cart_LicenseContextSSA"),
                ),
              ),
            ),
          ),
        );
      }
      function yt(e) {
        const { bDisabled: t } = e,
          n = (0, l.vo)(),
          a = (0, r.sI)(),
          o = (0, r.F$)(),
          s = (0, l.Ke)(n.data?.family_groupid(), a, 1);
        return o
          ? i.createElement(
              g.$n,
              {
                disabled: t,
                className: (0, y.A)(
                  ut().CartSummaryBtn,
                  ut().SummaryMarginBottom,
                ),
                onClick: () => {
                  s.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${w.TS.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, S.we)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function Nt(e) {
        const { disabled: t } = e,
          n = (0, l.vo)(),
          a = n.data?.family_groupid(),
          o = (0, l.Yc)(a, w.iA.country_code),
          [s, c] = (0, r.S0)(),
          [m, u] = i.useState(!1);
        return s || c == r.Mn.k_ENonGiftableItemPresent
          ? i.createElement(
              "div",
              {
                className: (0, y.A)(
                  ut().RequestPurchaseCtn,
                  ut().SummaryMarginBottom,
                ),
              },
              i.createElement(
                g.jn,
                {
                  disabled: t || m || !s,
                  className: (0, y.A)(ut().CartSummaryBtn),
                  onClick: () => {
                    t ||
                      m ||
                      (u(!0),
                      o.mutate(void 0, {
                        onSuccess: () => {
                          window.location.assign((0, l.Vo)(a));
                        },
                      }));
                  },
                },
                (0, S.we)("#Cart_RequestPurchase"),
              ),
              s &&
                i.createElement(
                  "div",
                  null,
                  (0, S.we)("#Cart_RequestPurchaseExplanation"),
                ),
              c === r.Mn.k_ENonGiftableItemPresent &&
                i.createElement(
                  "div",
                  null,
                  (0, S.we)("#Cart_RequestPurchaseNonGiftableItems"),
                ),
            )
          : null;
      }
      var Dt = n(3670);
      function bt(e) {
        const t = Lt(),
          n = (function () {
            const e = (0, o.zy)();
            return (0, i.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (w.iA.logged_in) return { type: "account", global: !0 };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, v.VY)(n), global: !0 };
            }, [e.search]);
          })();
        (0, f.YM)();
        let a = null;
        return (
          (a = t
            ? "replay" == n.type
              ? i.createElement(Gt, { cartID: n })
              : i.createElement(At, { cartID: n, ...e })
            : i.createElement(I.t, { position: "center", msDelayAppear: 250 })),
          i.createElement(i.Fragment, null, i.createElement(Tt, null), a)
        );
      }
      function Tt() {
        return (0, s.Pt)(), (0, l.vo)(), null;
      }
      function At(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [a, r] = i.useState(n),
          o = (function (e) {
            if ("gifts" === e) return (0, S.we)("#Cart_GiftOptions");
            return (0, S.we)("#Cart_YourShoppingCart");
          })(a);
        return i.createElement(
          Pt,
          { cartID: t, title: o, step: a, onStepChange: r },
          ({ cart: e, validatedCart: t, bCartIncludesGifts: n }) =>
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                E.tH,
                null,
                i.createElement(Bt, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                  bCartIncludesGifts: n,
                }),
              ),
              i.createElement(
                E.tH,
                null,
                i.createElement(V, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function Gt(e) {
        const { cartID: t } = e;
        return w.iA.logged_in
          ? i.createElement(
              Pt,
              {
                cartID: t,
                title: (0, S.we)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                i.createElement(
                  D,
                  null,
                  (0, S.we)("#Cart_Replay_Instructions", 72),
                ),
            )
          : i.createElement(C.Cg, null);
      }
      function Pt(e) {
        const {
            children: t,
            cartID: n,
            title: a,
            step: r,
            onStepChange: o,
            ...l
          } = e,
          s = (function (e) {
            if ("gifts" === e)
              return i.createElement(
                i.Fragment,
                null,
                "> ",
                i.createElement(
                  "a",
                  { href: w.TS.STORE_BASE_URL + "cart" },
                  (0, S.we)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(r);
        return i.createElement(
          u,
          null,
          i.createElement(
            h.Ay,
            { controller: "cart", method: "display", submethod: r },
            i.createElement(
              ft.iZ,
              { cartID: n, step: r, setStep: o, ...l },
              i.createElement(kt, null),
              i.createElement(
                "div",
                { className: ut().ShoppingCartPage },
                i.createElement(
                  "div",
                  { className: ut().ShoppingCartBreadcrumbs },
                  i.createElement(
                    "a",
                    { href: w.TS.STORE_BASE_URL },
                    (0, S.we)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  s,
                  " ",
                  i.createElement(
                    "span",
                    { className: ut().CurrentBreadcrumb },
                    "> ",
                    a,
                  ),
                ),
                i.createElement(
                  "div",
                  { className: ut().ShoppingCartHeader },
                  a,
                ),
                i.createElement(gt, null, t),
              ),
            ),
          ),
        );
      }
      function Lt() {
        const [e, t] = i.useState(!1);
        return (
          i.useEffect(() => {
            e || (0, Dt.U)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function kt(e) {
        const t = (function () {
          const e = i.useRef(""),
            t = (0, r.UI)(),
            { data: n } = (0, r.g7)(),
            a = !e.current;
          let o = _.sc,
            l = -1;
          if (a && void 0 !== n) {
            const e = t.data?.line_items || [],
              n = e.length
                ? e.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (o = n?.bundleid || n?.packageid || _.sc),
              (l = o === n?.bundleid ? 2 : 1);
          }
          const [s] = (0, f.G6)(o, l, r.xz);
          if (s && a) {
            const t = p.A.Get(),
              n = s.GetIncludedAppIDs();
            for (const a of n) {
              const n = t.GetApp(a);
              if (!n) continue;
              const r = n.GetAssets().GetPageBackgroundURL();
              if (r) {
                e.current = r;
                break;
              }
            }
          }
          return e.current;
        })();
        return i.createElement("div", {
          className: ut().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function Bt(e) {
        const { isCartEmpty: t, cart: n, bCartIncludesGifts: a } = e;
        return i.createElement(
          i.Fragment,
          null,
          !t && i.createElement(A, { cart: n }),
          i.createElement(
            d.Z,
            { "flow-children": "row", className: ut().CartFooter },
            i.createElement(
              "div",
              { className: ut().NavButtons },
              i.createElement(
                g.$n,
                {
                  onClick: () => (window.location.href = w.TS.STORE_BASE_URL),
                  className: ut().Button,
                },
                (0, S.we)("#Cart_ContinueShopping"),
              ),
              i.createElement(vt, { bCartIncludesGifts: a }),
            ),
            !t && i.createElement(xt, null),
          ),
        );
      }
      function xt() {
        const e = (0, a.Z)();
        return i.createElement(
          ze,
          { onClick: () => e.mutate() },
          (0, S.we)("#Cart_RemoveAll"),
        );
      }
    },
    10247: (e, t, n) => {
      "use strict";
      n.d(t, { Ez: () => l, fg: () => s, iZ: () => c });
      var a = n(30709),
        r = n(90626);
      const i = r.createContext({ step: "initial", setStep: () => {} });
      function o() {
        return (0, r.useContext)(i);
      }
      function l() {
        const e = o();
        return [e.step, e.setStep];
      }
      function s() {
        const e = o();
        return [e.cartWideGiftInfo, e.onCartWideGiftInfoChange];
      }
      function c(e) {
        const {
            step: t,
            setStep: n,
            cartID: o,
            cartWideGiftInfo: l,
            onCartWideGiftInfoChange: s,
            children: c,
          } = e,
          m = r.useMemo(
            () => ({
              step: t,
              setStep: n,
              cartWideGiftInfo: l,
              onCartWideGiftInfoChange: s,
            }),
            [t, n, l, s],
          );
        return r.createElement(
          i.Provider,
          { value: m },
          r.createElement(a.h3, { cartID: o }, c),
        );
      }
    },
    44894: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => a });
      const a =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
  },
]);
