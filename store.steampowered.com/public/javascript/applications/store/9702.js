/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [9702],
  {
    19452: (e) => {
      e.exports = {
        EventTimeSection: "_27EoU0Snt5nNX20x6Pw3oU",
        EventTimeTitle: "_2sTdTYXMVbzmpZE4pBTCm3",
        EventVisibilityItem: "_3Q0gDLqbQiNMNUdIcPkk26",
        EventEditorInputPaneContainer: "_3j82MIv9kvq7XCtwNj7n0q",
        TimeWidth: "_2W8sgAlQVBIRQ1FcJK6JkO",
        EventPublishTimeCtn: "_12m3Shtk5hrE72P6Jq2BKk",
        DateWidth: "_2ao2WtX4G4yDdf4Py87Zhf",
        PacificTimeHint: "VTweaDtI9Pliy8jp6YsDH",
        TimeZone: "_2RLF9u9ZYqkczJVg9ibx9f",
        InputBorder: "_2mTwCB8Moti8eKGqffi1cq",
        TimeBlock: "_1O49ue7FtKdpbT2zjGpSos",
        TimeRowContainer: "_3ksYFTfM0JWEc5IhOzefor",
        TimeRowDropDown: "_3KrsS7BOnCu1tK2wbJUhWH",
        EndDateAmountCtn: "_2_8MRRZRmC9crmOmhirv7-",
        EndRound: "_1MAHSiuekX-Y8DBzLZTJfv",
        VisibilityItemList: "rYX24s5dEQCX9Xb7wVGpk",
        VisibilityItems: "_2SAGi1AISnnGN_NrTJHI_y",
        EventEditorVisibilityCtn: "_1jbnRVmvZRebcs3184yZFC",
        DateErrorCtn: "Bww9BDFYAZ9ksaah3sndn",
      };
    },
    76038: (e) => {
      e.exports = { CartCard: "_29hIqcTt5I5g5BMmG262NZ" };
    },
    88909: (e) => {
      e.exports = {
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    37772: (e) => {
      e.exports = {
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    71634: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    63808: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
      };
    },
    39661: (e) => {
      e.exports = {
        CartCard: "_31xpGXwIZv9vlynISB1VYj",
        LineItemWrapper: "_2KiPYlH9C9k_-RZZgGJiF5",
        LineItemCapsule: "_2_GgLF39j8N-D4NVCRoADZ",
        HeaderImg: "_1iNQ1wKn2l6XMObGfGUPnj",
        LineItemPlaceholder: "_1qKu4a5ii_ihsz9mjDp2Hg",
        AddRemoveLinks: "_3fTNy8bloFM_PmW3CPbJF9",
        RemoveLineItem: "_33j4SwfO2YH9eI6qV9BKaL",
        AddLineItem: "_3k04fs3THPIZ2U7W7Uw9C7",
        LineItemRightCol: "_2CK0flAYrzVYpiphBImAD2",
        InnerLineItemCtn: "yW_j0xWpHbU537U49A8C9",
        LineItemDetailsCtn: "jRg6Oo9hDgKCGaXi9NJvU",
        LineItemCol: "_26Nx9qAoRhIHJBkdLL0kQD",
        LineItemDetailsRow: "F6ZErKA1thjnDLX-w2o-X",
        LineItemDetailsRowTop: "_1SauQBjZGVKr-LA3wv2yfW",
        LineItemSpaceBetween: "n7b9QjPvbLmeJH5iyelso",
        LineItemTitle: "pVXX8Pzc4JbT40TP4RwRG",
        LineItemPricingOptions: "_3f1XkR1Ix71B8h3LyRklCQ",
        LineItemDropDown: "_1LZzN-x9SSX3d3g9dJJ6ol",
        PlatformIcons: "_3kyTAc6GCZVQxNNiicR1sz",
        AddLineItemCtn: "_3eduNBpUQTScLmmoc-6yQ0",
        AddLineItemIcon: "_1As003FSFMOvWiuWIdGfeX",
        PendingLineItem: "PqpM1kx75xwfRB16wAS_K",
        FlexRow: "hPrcqN8eXW6ZtBpSiC1_y",
        PriceWidget: "_2yigxVMvm3cMZXMQmSczMc",
        Warning: "_1PZ2hvQoEPUrRR-9jaAMBK",
        LineItemNoticeAppsCtn: "_1-ZbqdHOMzqNLVTDKxUveU",
        LoadingThrobber: "_3eDAtc09yyL8yNchyAE4O6",
        DropDownThin: "j19kQU57WJlnAlqbrORdZ",
        DropDownOptionsCtnThin: "_2I90NjBP1pV7ekvcxqW_rt",
        DropDownOptionItem: "_2M6LSy7kCRhX31lQTxyI3F",
        WhiteText: "rXbF7guUW120blq7IxkDw",
        ErrorLineItem: "_32I-XAq6u8HgAzTVP5LXkn",
        Left: "_2CRe2s20FHpg0xDqQNHNaY",
        Error: "_2p9UO5E_Wi1ZBv2aZMiRjn",
        Muted: "_33fUnMVnXQVcaGwxic4V5N",
        GiftForNotice: "_2oJV1DcmhsnHpzPzOzCw6h",
        Name: "rvibeD2BpbjIixwwNKeT5",
      };
    },
    17243: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    88294: (e, t, n) => {
      "use strict";
      n.d(t, {
        CQ: () => m,
        FK: () => _,
        G3: () => u,
        Xm: () => f,
        sU: () => d,
      });
      var i = n(85556),
        a = n(79545),
        r = n(75545),
        o = n(42718),
        l = n(40057),
        s = n(65255),
        c = n(41003);
      function d() {
        const e = (0, l.bY)();
        return (0, o.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const t = a.gA.Init(r.XR),
                n = yield r.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!s.L7.accountid },
        );
      }
      function u() {
        const e = (function () {
            const { data: e } = d();
            return e ? e.size > 0 : void 0;
          })(),
          { data: t } = (0, o.useQuery)(
            ["ClientPrivateAppsEnabled"],
            () =>
              (0, i.mG)(this, void 0, void 0, function* () {
                return s.De.IN_STEAMUI
                  ? yield SteamClient.Apps.ArePrivateAppsEnabled()
                  : (0, c.M4)();
              }),
            { staleTime: 3e4 },
          );
        return e || !0 === t || !1;
      }
      function m(e) {
        const { data: t } = d();
        return !!s.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function p(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function _(e) {
        const t = (0, l.bY)(),
          n = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (n) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return g(t, [e], n);
            }),
          onSuccess: (t, i) => v(n, [e], i),
          onError() {
            p(n);
          },
        });
      }
      function f() {
        const e = (0, l.bY)(),
          t = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (t) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const { rgAppIDs: n, bPrivate: i } = t;
              return g(e, n, i);
            }),
          onSuccess: (e, n) => {
            const { rgAppIDs: i, bPrivate: a } = n;
            v(t, i, a);
          },
          onError() {
            p(t);
          },
        });
      }
      function g(e, t, n) {
        return (0, i.mG)(this, void 0, void 0, function* () {
          const i = a.gA.Init(r._c);
          i.Body().set_appids(t.slice()), i.Body().set_private(n);
          const o = yield r.kk.ToggleAppPrivacy(e, i);
          if (!o.BSuccess()) throw o.GetErrorMessage();
        });
      }
      function v(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const i = new Set(e);
          return (
            t.forEach((e) => {
              n ? i.add(e) : i.delete(e);
            }),
            i
          );
        });
      }
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => d });
      var i = n(85556),
        a = n(47427),
        r = n(82493),
        o = n(4030),
        l = n(20417),
        s = n(37563),
        c = n(35643);
      function d(e) {
        const { children: t, navTreeRef: n } = e,
          d = (0, i._T)(e, ["children", "navTreeRef"]),
          u = a.useRef(),
          m = (0, l.BE)(u, n),
          p = (0, s.id)(),
          _ = window.__virtual_keyboard_client;
        if (p) {
          const e = window.__nav_tree_root;
          return a.createElement(
            r.Fe,
            Object.assign({}, d, {
              navTreeRef: m,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            a.createElement(
              c.o5,
              { factory: _ },
              a.createElement(o.O, null, t),
            ),
          );
        }
        return a.createElement(a.Fragment, null, t);
      }
    },
    74606: (e, t, n) => {
      "use strict";
      n.d(t, { g: () => d });
      var i = n(85556),
        a = n(47427),
        r = n(8285),
        o = (n(20417), n(22671)),
        l = n(91618),
        s = n(41003);
      const c = "FocusNavHistoryID";
      function d(e) {
        const { children: t, timeoutMS: n } = e,
          d = (0, i._T)(e, ["children", "timeoutMS"]),
          u = (function (e = 2) {
            const t = (0, r.k6)(),
              n = a.useRef(),
              i = (0, r.TH)(),
              l = (0, s.k0)(),
              d = i.state && i.state[c],
              u = a.useRef();
            return (
              a.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, i, a) => {
                      const r = t.location;
                      let s = r.state && r.state[c];
                      s ||
                        ((s = l
                          ? `State_${r.key}`
                          : `State_${e.Node().Tree.id}`),
                        (u.current = s),
                        t.replace(
                          Object.assign(Object.assign({}, t.location), {
                            state: Object.assign(Object.assign({}, r.state), {
                              [c]: s,
                            }),
                          }),
                        )),
                        u.current == s &&
                          (l
                            ? e.SaveState(s)
                            : window.history.replaceState(
                                Object.assign(
                                  Object.assign({}, window.history.state),
                                  { [s]: (0, o.Sp)(e.Node()) },
                                ),
                                null,
                              ));
                    },
                  ).Unregister;
              }, [t, l]),
              a.useLayoutEffect(() => {
                var t;
                if (n.current && u.current != d) {
                  const i = n.current.NavTree().DeferredFocus;
                  i.SuppressFocus();
                  const a = l
                      ? null
                      : null === (t = window.history.state) || void 0 === t
                        ? void 0
                        : t[d],
                    r = window.setTimeout(() => {
                      let e = !1;
                      l
                        ? (e = n.current.RestoreState(d, 1))
                        : a && ((0, o.$y)(n.current.Node(), a, 0), (e = !0)),
                        e ? i.Reset() : i.ExecuteQueuedFocus(),
                        (u.current = d);
                    }, e);
                  return () => {
                    window.clearTimeout(r), i.ExecuteQueuedFocus();
                  };
                }
              }, [d, t, l, e]),
              n
            );
          })(n);
        return a.createElement(
          l.s,
          Object.assign(Object.assign({}, d), { navRef: u }),
          t,
        );
      }
    },
    45137: (e, t, n) => {
      "use strict";
      n.d(t, {
        AL: () => Y,
        G1: () => B,
        IW: () => R,
        WR: () => w,
        bn: () => W,
        bz: () => F,
        dW: () => j,
        fn: () => k,
        g1: () => A,
        i2: () => P,
        n$: () => q,
        nt: () => H,
        tI: () => O,
        tM: () => Q,
        td: () => U,
        wN: () => z,
        z5: () => Z,
      });
      var i = n(85556),
        a = n(77936),
        r = n(79545),
        o = n(82973),
        l = n(83065),
        s = n(61231),
        c = n(85516),
        d = n(80002),
        u = n(96668),
        m = n(34809),
        p = n(92790),
        _ = n(44731),
        f = n(43981),
        g = n(47427),
        v = n(42718),
        h = n(40057),
        E = n(92686),
        C = n(22520),
        I = n(77151),
        y = n(89373),
        S = n(80998),
        b = n(15690),
        L = n(80886),
        N = n(2324),
        D = n(31846),
        G = n(65255),
        T = n(82756);
      function w() {
        return (0, T.ip)("cart_config", "application_config");
      }
      function A() {
        const e = (0, h.bY)(),
          t = (0, f.tv)();
        return (0, v.useQuery)(
          (0, _.te)(t),
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return x(e, t);
            }),
          {
            enabled: !!t,
            initialData: () => {
              var e, n;
              if ((0, m.jp)(t)) {
                const t =
                  null === (e = (0, u.T)(!0)) || void 0 === e
                    ? void 0
                    : e.accountcart;
                return (
                  null === (n = null == t ? void 0 : t.cart) || void 0 === n
                    ? void 0
                    : n.line_items
                )
                  ? t.cart
                  : void 0;
              }
              if (!(0, m.s$)(t)) {
                const e = w(),
                  n = (0, u.T)();
                let i;
                return (
                  (i =
                    (null == e ? void 0 : e.requestcartgid) === t.gid
                      ? e.requestcart
                      : null == n
                        ? void 0
                        : n.shoppingcart),
                  (0, p.S6)(i)
                );
              }
            },
          },
        );
      }
      function x(e, t) {
        var n;
        return (0, i.mG)(this, void 0, void 0, function* () {
          if ((0, m.jp)(t)) {
            const t = r.gA.Init(o.rm);
            t.Body().set_user_country(G.L7.country_code);
            const i = yield o.Wr.GetCart(e, t);
            return null === (n = i.Body().toObject()) || void 0 === n
              ? void 0
              : n.cart;
          }
          if ((0, m.s$)(t)) {
            const n = r.gA.Init(l.vE);
            (0, S.pA)(n), n.Body().set_gidreplayoftransid(t.gid);
            return (function (e) {
              let t = { subtotal: e.estimated_totals.subtotal, line_items: [] };
              return (
                (t.line_items = e.cart_items
                  .map((e) => {
                    var t, n;
                    let i;
                    if (e.item_id.packageid) i = 1;
                    else {
                      if (!e.item_id.bundleid) return;
                      i = 2;
                    }
                    return {
                      line_item_id: e.line_item_id,
                      type: i,
                      packageid: e.item_id.packageid,
                      bundleid: e.item_id.bundleid,
                      is_valid: !0,
                      price_when_added: e.price_when_added,
                      gift_info: e.gift_info,
                      flags: {
                        is_gift: !!(null === (t = e.gift_info) || void 0 === t
                          ? void 0
                          : t.accountid_giftee),
                      },
                      gidcoupon_applied:
                        null === (n = e.coupon_applied) || void 0 === n
                          ? void 0
                          : n.gidcoupon,
                    };
                  })
                  .filter(Boolean)),
                t
              );
            })((yield l.ZY.ValidateCart(e, n)).Body().toObject());
          }
          {
            const n = r.gA.Init(c.AC);
            n.Body().set_gidshoppingcart(t.gid);
            const i = yield c.FP.GetShoppingCartContents(e, n);
            return (0, p.S6)(i.Body().toObject().contents);
          }
        });
      }
      function k(e) {
        const t = (0, h.bY)(),
          n = (0, v.useQueryClient)(),
          a = (0, f.tv)();
        return (0, v.useMutation)(
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t, n) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  if ((0, m.jp)(t)) {
                    const t = r.gA.Init(o.CQ);
                    t.Body().set_line_item_id(n),
                      t.Body().set_user_country(G.L7.country_code);
                    const i = yield o.Wr.RemoveItemFromCart(e, t);
                    return I.jg.Get().InvalidateCache(), i.Body().toObject();
                  }
                  {
                    const i = r.gA.Init(c.Rg);
                    i.Body().set_gidlineitems([n]),
                      i.Body().set_gidshoppingcart(t.gid);
                    const a = yield c.FP.RemoveLineItems(e, i);
                    return I.jg.Get().InvalidateCache(), a.Body().toObject();
                  }
                });
              })(t, a, e);
            }),
          {
            onSuccess() {
              (0, _.Yp)(n, a);
            },
          },
        );
      }
      function P() {
        const e = (0, h.bY)(),
          t = (0, v.useQueryClient)(),
          n = (0, f.tv)();
        return (0, v.useMutation)(
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  if ((0, m.jp)(t)) {
                    const t = r.gA.Init(o.AQ);
                    return (yield o.Wr.DeleteCart(e, t)).BSuccess();
                  }
                  {
                    const n = yield x(e, t);
                    if (n && n.line_items && n.line_items.length) {
                      const i = r.gA.Init(c.Rg);
                      return (
                        i
                          .Body()
                          .set_gidlineitems(
                            n.line_items.map(({ line_item_id: e }) => e),
                          ),
                        i.Body().set_gidshoppingcart(t.gid),
                        (yield c.FP.RemoveLineItems(e, i)).BSuccess()
                      );
                    }
                    return !1;
                  }
                });
              })(e, n);
            }),
          {
            onSuccess() {
              (0, _.Yp)(t, n);
            },
          },
        );
      }
      function R() {
        const e = (0, f.tv)();
        return !(0, m._H)(e) && !(0, m.s$)(e);
      }
      function F() {
        const e = (0, f.tv)();
        return (0, m.s$)(e);
      }
      function O(e, t, n) {
        const a = (0, f.tv)(),
          r = (0, h.bY)(),
          o = (0, v.useQueryClient)();
        return (0, v.useMutation)({
          mutationFn: () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              if ((0, m.jp)(a)) return (0, p.tZ)(r, e, t, n);
              if ((0, m.wV)(a)) return (0, p.UZ)(r, e ? [e] : void 0, t, n);
              throw "Invalid cart type";
            }),
          onSuccess: ([e, t]) => {
            1 == e && (0, _.IS)(o, a, t.cart);
          },
        });
      }
      function B(e) {
        const t = (0, f.tv)(),
          n = (0, h.bY)(),
          a = (0, v.useQueryClient)(),
          l = (0, _.te)(t);
        return (0, v.useMutation)({
          mutationFn: (e) =>
            (function (e, t, n, a, l) {
              return (0, i.mG)(this, void 0, void 0, function* () {
                const i = r.gA.Init(o.xr);
                i.Body().set_line_item_id(t),
                  i.Body().set_user_country(G.L7.country_code),
                  a && i.Body().set_gift_info(s.nI.fromObject(a)),
                  n && i.Body().set_flags(o.A1.fromObject(n)),
                  l && i.Body().set_apply_gidcoupon(l);
                const c = yield o.Wr.ModifyLineItem(e, i);
                return (
                  c.BSuccess() ||
                    console.warn(
                      `Failed to update gift info: ${c.GetEResult()}`,
                    ),
                  [c.GetEResult(), c.Body().toObject()]
                );
              });
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: (e) =>
            (0, i.mG)(this, void 0, void 0, function* () {
              yield a.cancelQueries({ queryKey: l });
              const t = a.getQueryData(l);
              return (
                a.setQueryData(l, (t) =>
                  Object.assign(Object.assign({}, t), {
                    line_items: t.line_items.map((t) =>
                      t.line_item_id !== e.lineItemID
                        ? t
                        : Object.assign(Object.assign({}, t), {
                            flags: e.lineItemFlags || t.flags,
                            gift_info: e.giftInfo || t.gift_info,
                          }),
                    ),
                  }),
                ),
                { previousCart: t }
              );
            }),
          onSuccess: ([n, i], r, { previousCart: o }) => {
            1 == n ? ((0, _.IS)(a, t, i.cart), e && e()) : a.setQueryData(l, o);
          },
          onError: (e, t, { previousCart: n }) => {
            a.setQueryData(l, n);
          },
        });
      }
      function M() {
        const e = new d.WJ();
        return (
          e.set_country_code(G.L7.country_code),
          e.set_language(G.De.LANGUAGE),
          e.set_steam_realm(G.De.EREALM),
          e
        );
      }
      function X() {
        const e = (0, h.bY)(),
          t = (0, f.tv)(),
          [n] = (0, f.pf)();
        return (0, v.useQuery)(
          (0, _.N)(t),
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              return (function (e, t, n) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  const i = r.gA.Init(l.vE);
                  (0, m.wV)(t) || (0, m._H)(t)
                    ? (i.Body().set_gidshoppingcart(t.gid),
                      n && i.Body().set_gift_info(s.nI.fromObject(n)))
                    : (0, m.s$)(t) && i.Body().set_gidreplayoftransid(t.gid),
                    i.Body().set_context(M()),
                    i.Body().data_request().set_include_basic_info(!0),
                    i.Body().data_request().set_include_release(!0);
                  const a = yield l.ZY.ValidateCart(e, i);
                  return (
                    a.BSuccess() ||
                      console.warn(
                        `Failed to validate shopping cart: ${a.GetEResult()}`,
                      ),
                    a.Body().toObject()
                  );
                });
              })(e, t, n);
            }),
          { staleTime: 1 / 0, enabled: G.L7.logged_in || !(0, m.jp)(t) },
        );
      }
      function j() {
        const e = X();
        return g.useMemo(() => {
          var t, n;
          let i = new Map(),
            a = new Map(),
            r = new Map(),
            o = 1;
          return (
            null ===
              (n =
                null === (t = e.data) || void 0 === t
                  ? void 0
                  : t.cart_items) ||
              void 0 === n ||
              n.forEach((e) => {
                var t, n, l, s, c, d, u, m;
                const p = (function (e) {
                  var t, n, i, a, r, o, l, s, c, d, u, m, p, _, f, g, v, h;
                  let E = [];
                  if (
                    ((null ===
                      (n =
                        null === (t = e.errors) || void 0 === t
                          ? void 0
                          : t.duplicate_appids_in_cart) || void 0 === n
                      ? void 0
                      : n.length) &&
                      E.push({
                        purchase_state: 1,
                        notice_text: (0, D.Xx)(
                          "#Cart_Error_DuplicateApps_LineItem",
                        ),
                        appids: e.errors.duplicate_appids_in_cart,
                      }),
                    null ===
                      (a =
                        null === (i = e.errors) || void 0 === i
                          ? void 0
                          : i.owned_appids) || void 0 === a
                      ? void 0
                      : a.length)
                  ) {
                    const t =
                      (null !==
                        (o =
                          null === (r = e.store_item) || void 0 === r
                            ? void 0
                            : r.included_appids.length) && void 0 !== o
                        ? o
                        : 0) > 1;
                    let n = (0, D.Xx)("#Cart_Error_AlreadyOwned_LineItem_Game");
                    t && (n = (0, D.Xx)("#Cart_Error_AlreadyOwned_LineItem")),
                      E.push({
                        purchase_state: 2,
                        notice_text: n,
                        appids: t ? e.errors.owned_appids : null,
                      });
                  }
                  return (
                    (null === (l = e.errors) || void 0 === l
                      ? void 0
                      : l.unavailable_in_country) &&
                      E.push({
                        purchase_state: 8,
                        notice_text: (0, D.Xx)(
                          "#Cart_Error_UnavailableCountry_LineItem",
                        ),
                      }),
                    (null === (s = e.errors) || void 0 === s
                      ? void 0
                      : s.coupon_exclusive_promo) &&
                      E.push({
                        purchase_state: 13,
                        notice_text: (0, D.Xx)(
                          "#Cart_Error_CouponIsExclusivePromo",
                        ),
                      }),
                    (null === (c = e.errors) || void 0 === c
                      ? void 0
                      : c.invalid_coupon) &&
                      E.push({
                        purchase_state: 11,
                        notice_text: (0, D.Xx)("#Cart_Error_CouponIsInvalid"),
                      }),
                    (null === (d = e.errors) || void 0 === d
                      ? void 0
                      : d.invalid_coupon_for_item) &&
                      E.push({
                        purchase_state: 12,
                        notice_text: (0, D.Xx)(
                          "#Cart_Error_CouponIsInvalidForItem",
                        ),
                      }),
                    (null ===
                      (m =
                        null === (u = e.warnings) || void 0 === u
                          ? void 0
                          : u.appids_in_mastersub) || void 0 === m
                      ? void 0
                      : m.length) &&
                      E.push({
                        purchase_state: 4,
                        notice_text: (0, D.Xx)(
                          "#Cart_Error_MasterSubscription_LineItem",
                        ),
                        appids: e.warnings.appids_in_mastersub.map(
                          (e) => e.cart_appid,
                        ),
                      }),
                    (null ===
                      (_ =
                        null === (p = e.warnings) || void 0 === p
                          ? void 0
                          : p.owned_appids) || void 0 === _
                      ? void 0
                      : _.length) &&
                      E.push({
                        purchase_state: 3,
                        notice_text: (0, D.Xx)(
                          "#Cart_Warning_AlreadyOwned_LineItem",
                        ),
                        appids: e.warnings.owned_appids,
                      }),
                    (null ===
                      (g =
                        null === (f = e.warnings) || void 0 === f
                          ? void 0
                          : f.owned_appids_extra_copy) || void 0 === g
                      ? void 0
                      : g.length) &&
                      E.push({
                        purchase_state: 9,
                        notice_text: (0, D.Xx)(
                          "#Cart_Warning_ExtraCopies_LineItem",
                        ),
                        appids: e.warnings.owned_appids_extra_copy,
                      }),
                    (null === (v = e.warnings) || void 0 === v
                      ? void 0
                      : v.price_has_changed) &&
                      E.push({
                        purchase_state: 10,
                        notice_text: (0, D.Xx)(
                          "#Cart_Warning_PriceChange_LineItem",
                        ),
                      }),
                    (null === (h = e.warnings) || void 0 === h
                      ? void 0
                      : h.non_refundable) &&
                      E.push({
                        purchase_state: 5,
                        notice_text: (0, D.Xx)(
                          "#Cart_Warning_NoRefund_LineItem",
                        ),
                      }),
                    E
                  );
                })(e);
                r.set(e.line_item_id, p),
                  (null ===
                    (n =
                      null === (t = e.errors) || void 0 === t
                        ? void 0
                        : t.duplicate_appids_in_cart) || void 0 === n
                    ? void 0
                    : n.length) &&
                    (a.has(1) ||
                      a.set(1, {
                        index: o++,
                        footnote_text: (0, D.Xx)(
                          "#Cart_Error_DuplicateApps_FootNote",
                        ),
                      })),
                  (null ===
                    (s =
                      null === (l = e.errors) || void 0 === l
                        ? void 0
                        : l.owned_appids) || void 0 === s
                    ? void 0
                    : s.length) &&
                    (a.has(2) ||
                      a.set(2, {
                        index: o++,
                        footnote_text: (0, D.Xx)(
                          "#Cart_Error_AlreadyOwned_FootNote",
                        ),
                      })),
                  (null === (c = e.errors) || void 0 === c
                    ? void 0
                    : c.unavailable_in_country) &&
                    (a.has(8) ||
                      a.set(8, {
                        index: o++,
                        footnote_text: (0, D.Xx)(
                          "#Cart_Error_UnavailableCountry_FootNote",
                        ),
                      })),
                  (null ===
                    (u =
                      null === (d = e.warnings) || void 0 === d
                        ? void 0
                        : d.appids_in_mastersub) || void 0 === u
                    ? void 0
                    : u.length) &&
                    (a.has(4) ||
                      a.set(4, {
                        index: o++,
                        footnote_text: (0, D.Xx)(
                          "#Cart_Error_MasterSubscription_FootNote",
                        ),
                      })),
                  (null === (m = e.warnings) || void 0 === m
                    ? void 0
                    : m.price_has_changed) &&
                    i.set(10, (0, D.Xx)("#Cart_Warning_PriceChange_FootNote"));
              }),
            {
              mapLineItemToNotices: r,
              mapValidateNoticesToError: i,
              mapValidateNoticesToFootnote: a,
            }
          );
        }, [e]);
      }
      function Z(e) {
        const { mapLineItemToNotices: t, mapValidateNoticesToFootnote: n } =
          j();
        return [t.get(e) || [], n];
      }
      function V(e, t) {
        let n = "#Package";
        const i = e.GetSelfPurchaseOption(),
          a = null == i ? void 0 : i.recurrence_info;
        if (!a) return "";
        2 === a.billing_agreement_type && (n = "#GameBillingPackage");
        const r = e.GetSelfPurchaseOption();
        r.formatted_final_price && r.discount_pct && (n += "WithDiscount");
        const o =
          n +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[a.renewal_time_unit];
        return (0, D.Xx)(
          o,
          r.formatted_final_price,
          i.formatted_final_price,
          a.renewal_time_period,
          r.discount_pct,
        );
      }
      function U() {
        var e, t;
        const n = A(),
          a = X(),
          o = (function (e) {
            const t = (0, h.bY)(),
              n = e.map(({ packageid: e }) => e).filter(Boolean),
              a = 3 === (0, L.dY)(n, { include_all_purchase_options: !0 }),
              o = b.Z.Get(),
              l = a
                ? n.filter((e) => {
                    var t;
                    return null ===
                      (t = o.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                      ? void 0
                      : t.requires_shipping;
                  })
                : null;
            return (0, v.useQuery)(
              ["cart", "validateHardware", n.join("|")],
              () =>
                (0, i.mG)(this, void 0, void 0, function* () {
                  const e = r.gA.Init(d.lj);
                  e.Body().set_context(M()), e.Body().set_packageid(l);
                  const n = yield d.VJ.GetHardwareItems(t, e);
                  return (
                    n.BSuccess() ||
                      console.warn(
                        `Failed to load hardware: ${n.GetEResult()}`,
                      ),
                    n
                      .Body()
                      .toObject()
                      .details.reduce((e, t) => {
                        var n;
                        return (
                          (e[t.packageid] = [
                            {
                              strNotice:
                                ((n = t),
                                (0, D.Xx)(
                                  "#Cart_ShippingEstimate_DeliveryDate",
                                  (0, N.B)(n),
                                )),
                            },
                          ]),
                          e
                        );
                      }, {})
                  );
                }),
              { enabled: !!l && l.length > 0, placeholderData: {} },
            );
          })(
            (null === (e = n.data) || void 0 === e ? void 0 : e.line_items) ||
              [],
          ),
          l = (function (e) {
            const t = e.map(({ packageid: e }) => e).filter(Boolean),
              n = 3 === (0, L.dY)(t, { include_all_purchase_options: !0 }),
              i = b.Z.Get(),
              a = n
                ? t.filter((e) => {
                    var t;
                    return (
                      (null === (t = i.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                        ? void 0
                        : t.recurrence_info) &&
                      i.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                        .packageid !== C.kI
                    );
                  })
                : [],
              r = a.map(
                (e) =>
                  i.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                    .packageid,
              ),
              o = (0, L.dY)(r, { include_all_purchase_options: !0 });
            return n && 3 === o && 0 !== a.length
              ? a.reduce((e, t) => {
                  const n = i.GetPackage(t);
                  return (
                    (e[t] = [
                      {
                        strNotice: V(
                          n,
                          i.GetPackage(
                            n.GetSelfPurchaseOption().recurrence_info.packageid,
                          ),
                        ),
                      },
                    ]),
                    e
                  );
                }, {})
              : {};
          })(
            (null === (t = n.data) || void 0 === t ? void 0 : t.line_items) ||
              [],
          ),
          s = g.useMemo(
            () =>
              o.isSuccess
                ? (function (...e) {
                    const t = {};
                    return (
                      e.forEach((e) => {
                        Object.keys(e).forEach((n) => {
                          const i = parseInt(n);
                          t[i] || (t[i] = []), t[i].push(...e[i]);
                        });
                      }),
                      t
                    );
                  })(o.data, l)
                : l,
            [o, l],
          ),
          c = !a.isSuccess || a.data.cart_items.some((e) => !!e.errors);
        return {
          validateCart: a,
          lineItemValidation: s,
          bValidForCheckout: !c,
        };
      }
      function W() {
        const e = (0, h.bY)();
        return (0, v.useQuery)(
          ["shopping_cart", "relevant_coupons"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const t = yield (function (e) {
                return (0, i.mG)(this, void 0, void 0, function* () {
                  const t = r.gA.Init(o.r$);
                  t.Body().set_language((0, a.jM)(G.De.LANGUAGE));
                  const n = yield o.Wr.GetRelevantCoupons(e, t);
                  return n.BIsValid()
                    ? n.Body().toObject()
                    : (console.error("Failed to load relevant coupons"), {});
                });
              })(e);
              return t.line_items.reduce(
                (e, t) => ((e[t.line_item_id] = t.coupons), e),
                {},
              );
            }),
          { enabled: G.L7.logged_in, placeholderData: () => ({}) },
        );
      }
      function Y() {
        return (0, v.useQuery)(
          ["shopping_cart", "sale_drop_progress"],
          () =>
            (0, i.mG)(this, void 0, void 0, function* () {
              const e = yield fetch(
                  `${G.De.STORE_BASE_URL}cart/ajaxsaledropprogress`,
                ),
                t = yield e.json();
              return (
                1 !== t.eresult &&
                  console.error("Failed to load sale drop progress"),
                t
              );
            }),
          { enabled: G.L7.logged_in && y.C.Get().BIsSaleActive() },
        );
      }
      function Q() {
        const e = (0, f.tv)(),
          [t] = (0, f.pf)(),
          n = `${G.De.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, m.jp)(e)) return `${n}?accountcart=1`;
        if ((0, m.s$)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const i = new URLSearchParams();
          return (
            i.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (i.append("purchasetype", "gift"),
              i.append("bIsGift", "1"),
              i.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${i.toString()}`
          );
        }
      }
      function H() {
        const e = (0, f.tv)();
        return (0, m._H)(e) ? e.requestID : null;
      }
      function z() {
        var e;
        const t = (0, f.tv)(),
          n = (0, E.Rs)(),
          i = A(),
          a = n.isSuccess && 2 == n.data.role(),
          r =
            (null === (e = i.data) || void 0 === e ? void 0 : e.line_items) ||
            [],
          o = r.map(({ packageid: e }) => e).filter(Boolean),
          l = 3 === (0, L.dY)(o, { include_all_purchase_options: !0 }),
          s = b.Z.Get(),
          c = l
            ? o.filter((e) => {
                var t;
                return !(null ===
                  (t = s.GetPackage(e).GetSelfPurchaseOption()) || void 0 === t
                  ? void 0
                  : t.user_can_purchase_as_gift);
              })
            : null;
        return (
          !!(
            a &&
            (function (e) {
              return (0, m.jp)(e) || (0, m.wV)(e);
            })(t) &&
            r &&
            l
          ) && 0 === c.length
        );
      }
      function q() {
        const e = (0, f.tv)(),
          t = (0, E.Rs)();
        return t.isSuccess && 1 == t.data.role() && (0, m._H)(e);
      }
    },
    68824: (e, t, n) => {
      "use strict";
      n.d(t, { r: () => o });
      var i = n(47427),
        a = n(13129),
        r = n(76038);
      function o(e) {
        return i.createElement(
          "div",
          { className: (0, a.Z)(r.CartCard, e.className) },
          e.children,
        );
      }
    },
    21941: (e, t, n) => {
      "use strict";
      n.d(t, {
        SL: () => oe,
        sb: () => he,
        fs: () => fe,
        xY: () => ve,
        Wc: () => le,
        Qj: () => Ee,
      });
      var i = n(45137),
        a = n(47427),
        r = n(1485),
        o = n(10162),
        l = n(85556),
        s = n(27605),
        c = n(43344),
        d = n.n(c);
      var u = n(64936),
        m = n(71741),
        p = n.n(m),
        _ = n(13129),
        f = n(31846),
        g = n(20417),
        v = n(59728),
        h = n(19452),
        E = n.n(h),
        C = n(98973),
        I = n.n(C);
      let y = class extends a.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
              strError: null,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: i,
            disabled: a,
          } = this.props;
          if (a) return;
          if ("string" == typeof e) {
            let t = I()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let r = this.props.fnGetTimeToUpdate(),
            o = 0;
          if (r) {
            const t = I().unix(r);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (o = e.unix());
          } else {
            o =
              I().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(o);
          let l = i && !0 === i();
          (null == this.state.timeAsString &&
            l == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: l });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = I()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            i = I().unix(n || u.JW.GetTimeNowWithOverride());
          e.hour(i.hour()),
            e.minute(i.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let a =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            a == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: a });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: i,
            } = this.props,
            a = I().unix(t).hour(0).seconds(0).minute(0);
          let r = e.unix() >= a.unix();
          if (r && n && n >= t) {
            const t = I().unix(n).hour(23).minute(59).seconds(59);
            r = e.unix() <= t.unix();
          }
          return (
            r && i && ((0 != e.weekday() && 6 != e.weekday()) || (r = !1)), r
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(u.JW.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(u.JW.GetTimeNowWithOverride());
        }
        componentDidMount() {
          this.UpdateError();
        }
        componentDidUpdate() {
          this.UpdateError();
        }
        UpdateError() {
          const { fnIsValidDateTime: e } = this.props,
            t = e && e();
          let n = null;
          (this.state.timeAsString ||
            this.state.dateAsString ||
            "string" == typeof t ||
            !1 === t) &&
            ((n = (0, f.Xx)("#DateTimePicker_Fallback_Invalid_DateTime")),
            this.state.timeAsString
              ? (n = (0, f.Xx)("#DateTimePicker_Time_CannotParse"))
              : this.state.dateAsString
                ? (n = (0, f.Xx)("#DateTimePicker_Date_CannotParse"))
                : "string" == typeof t && (n = t)),
            this.state.strError !== n &&
              (this.setState({ strError: n }),
              this.props.onError && this.props.onError(n));
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            onError: i,
            strAlsoShowTimeZone: r,
            disabled: o,
            bNoDefaultDate: l,
          } = this.props;
          let s = n(),
            c = s > 0 ? new Date(1e3 * s) : null,
            m = "h:mm A";
          const g = !i && this.state.strError;
          let h, C;
          if (e && t && e == t && t > u.JW.GetTimeNowWithOverride()) {
            let e = I().unix(t);
            (h = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (m = "HH:mm");
          }
          s || !t || l || (C = I().unix(t));
          const y = I().tz.guess(),
            S = I().unix(s).tz(y),
            b = !!r && y != r && I().unix(s).tz(r);
          return a.createElement(
            "div",
            { className: (0, _.Z)(E().EventTimeSection, this.props.className) },
            a.createElement(
              "div",
              { className: (0, _.Z)(E().EventTimeTitle, "DialogLabel") },
              a.createElement(
                v.HP,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  a.createElement("span", null, this.props.strDescription),
              ),
              g &&
                a.createElement(
                  "span",
                  { className: E().DateErrorCtn },
                  a.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==",
                  }),
                  g,
                ),
            ),
            a.createElement(
              "div",
              { className: p().FlexRowContainer },
              a.createElement(
                "div",
                { className: (0, _.Z)(p().InputBorder, E().TimeBlock) },
                a.createElement(d(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : c,
                  isValidDate: this.IsValidDate,
                  initialValue: C,
                  inputProps: {
                    placeholder: (0, f.Xx)("#DateTimePicker_Enter_Date"),
                    className: (0, _.Z)(
                      E().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!b &&
                  a.createElement(
                    "div",
                    { className: E().PacificTimeHint },
                    b.format("L"),
                  ),
              ),
              a.createElement(
                "div",
                { className: (0, _.Z)(p().InputBorder, E().TimeBlock) },
                a.createElement(d(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: m,
                  timeConstraints: h,
                  value: this.state.timeAsString ? this.state.timeAsString : c,
                  inputProps: {
                    placeholder: (0, f.Xx)("#DateTimePicker_Enter_Time"),
                    className: (0, _.Z)(
                      E().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!b &&
                  a.createElement(
                    "div",
                    { className: E().PacificTimeHint },
                    b.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                a.createElement(
                  "div",
                  null,
                  a.createElement(
                    "div",
                    { className: E().TimeZone },
                    S.zoneAbbr(),
                  ),
                  !!b &&
                    a.createElement(
                      "div",
                      { className: E().TimeZone },
                      b.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(h) &&
              a.createElement(
                "div",
                null,
                (0, f.Xx)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, l.gn)([g.ak], y.prototype, "OnTimeChange", null),
        (0, l.gn)([g.ak], y.prototype, "OnDateChange", null),
        (0, l.gn)([g.ak], y.prototype, "IsValidDate", null),
        (0, l.gn)([g.ak], y.prototype, "SetToNow", null),
        (y = (0, l.gn)([s.Pi], y));
      var S = n(46984),
        b = n(37563),
        L = n(63808),
        N = n.n(L);
      const D = a.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [i, l] = a.useState(null),
          s = t > 0;
        return a.createElement(
          fe,
          null,
          a.createElement(he, null, (0, f.Xx)("#Cart_GiftDelivery_Label")),
          a.createElement(
            ve,
            null,
            a.createElement(r.BQ, {
              controlled: !0,
              checked: !s,
              onChange: (e) => e && void n(0),
              label: (0, f.Xx)("#Cart_GiftDelivery_Now"),
            }),
          ),
          a.createElement(
            ve,
            null,
            a.createElement(r.BQ, {
              controlled: !0,
              checked: s,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, f.Xx)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            a.createElement("div", { style: { clear: "both" } }),
            i && a.createElement("div", { className: N().ScheduleError }, i),
            s &&
              a.createElement(
                o.SV,
                null,
                a.createElement(G, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: l,
                }),
              ),
          ),
        );
      });
      function G(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: i,
        } = e;
        if ((0, b.id)())
          return a.createElement(w, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: i,
          });
        {
          const e = () => T(t);
          return a.createElement(y, {
            bShowTimeZone: !0,
            className: N().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: i,
          });
        }
      }
      function T(e) {
        const t = Date.now() / 1e3 + S._H.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, f.Xx)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, f.Xx)("#Cart_GiftScheduleError_InvalidDate");
      }
      function w(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: i,
          } = e,
          l = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          s = new Date(1e3 * t),
          [c, d] = (0, a.useState)(s.getMonth()),
          [u, m] = (0, a.useState)(s.getDate()),
          [p, _] = (0, a.useState)(s.getFullYear()),
          [g, v] = (0, a.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                i = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${i < 10 ? "0" : ""}${i}`
              );
            })(s, l),
          ),
          [h, E] = (0, a.useState)(s.getHours() >= 12 ? "PM" : "AM");
        a.useEffect(() => {
          let e = g.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const a = parseInt(e[2]);
          l &&
            ("PM" == h && t < 12 ? (t += 12) : "AM" == h && 12 == t && (t = 0));
          const r = new Date(p, c, u, t, a, 0, 0).getTime() / 1e3,
            o = T(r);
          !0 === o ? (i(null), n(r)) : i(o);
        }, [p, c, u, g, h, l, n, i]);
        const C = "US" == b.De.COUNTRY && "english" == b.De.LANGUAGE;
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            r.FT,
            { className: N().GamepadTimePickerRow },
            C && a.createElement(x, { month: c, setMonth: d }),
            a.createElement(k, { year: p, month: c, day: u, setDay: m }),
            !C && a.createElement(x, { month: c, setMonth: d }),
            a.createElement(A, { year: p, setYear: _ }),
          ),
          a.createElement(
            r.FT,
            { className: N().GamepadTimePickerRow },
            a.createElement(r.II, {
              value: g,
              onChange: (e) => v(e.currentTarget.value),
            }),
            l && a.createElement(P, { strAMPM: h, setAMPM: E }),
            a.createElement(
              r.sg,
              { className: N().TimezoneDisplay },
              a.createElement(o.SV, null, a.createElement(R, null)),
            ),
            !l && a.createElement(r.sg, null, ""),
          ),
        );
      }
      function A(e) {
        const { year: t, setYear: n } = e,
          i = a.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function x(e) {
        const { month: t, setMonth: n } = e,
          i = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function k(e) {
        const { year: t, month: n, day: i, setDay: o } = e,
          l = a.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              i = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
                day: "numeric",
              });
            let a = [];
            for (let t = 1; t <= e; t++)
              a.push({ label: i.format(new Date(null, null, t)), data: t });
            return a;
          }, [n, t]);
        return a.createElement(r.ry, {
          selectedOption: i,
          onChange: (e) => o(e.data),
          rgOptions: l,
        });
      }
      function P(e) {
        const { strAMPM: t, setAMPM: n } = e,
          i = a.useMemo(() => {
            var e, t;
            const n = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  (null ===
                    (e = n
                      .formatToParts(new Date(null, null, null, 5))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === e
                    ? void 0
                    : e.value) || "AM",
                data: "AM",
              },
              {
                label:
                  (null ===
                    (t = n
                      .formatToParts(new Date(null, null, null, 17))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === t
                    ? void 0
                    : t.value) || "PM",
                data: "PM",
              },
            ];
          }, []);
        return a.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: i,
        });
      }
      function R() {
        const e = new Intl.DateTimeFormat(f.Yt.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return a.createElement(a.Fragment, null, e ? e.value : "");
      }
      var F = n(91618),
        O = n(38605),
        B = n(51915),
        M = n(65255),
        X = n(79545),
        j = n(83065),
        Z = n(80002),
        V = n(42718),
        U = n(40057),
        W = n(88619),
        Y = n(86437);
      function Q(e) {
        var t, n;
        const i = (function (e) {
            const t = (0, U.bY)(),
              n = (0, Y.Bo)(e.GetID(), e.GetStoreItemType());
            return (0, V.useQuery)(["FriendOwnershipForGifting", n], () =>
              (0, l.mG)(this, void 0, void 0, function* () {
                const e = X.gA.Init(j.Yq);
                e.Body().set_item_ids([Z.oY.fromObject(n)]);
                const i = yield j.ZY.GetFriendOwnershipForGifting(t, e);
                if (!i.BSuccess()) throw i.GetEResult();
                return i.Body().toObject();
              }),
            );
          })(e),
          r = (0, W.hg)({ loadFavorites: !0, loadNicknames: !0 }),
          o =
            null ===
              (n =
                null === (t = null == i ? void 0 : i.data) || void 0 === t
                  ? void 0
                  : t.ownership_info[0]) || void 0 === n
              ? void 0
              : n.friend_ownership,
          s = a.useMemo(
            () => new Map(o && o.map((e) => [e.accountid, e])),
            [o],
          );
        if (i.isLoading || r.isLoading) return { isLoading: !0 };
        if (i.isError || r.isError) return { isError: !0 };
        const c = r.data.map((e, t) => {
          const n = s.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return Object.assign(Object.assign({}, e), { ownership: n });
        });
        return (
          c.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: c }
        );
      }
      var H = n(47144),
        z = n(70548),
        q = n(35427),
        J = n(27438),
        K = n(46882);
      function $(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: i,
          fnOnDismiss: r,
        } = e;
        return a.createElement(
          J.On,
          { className: N().GiftRecipientPickerModal, active: i, onDismiss: r },
          a.createElement(ee, { onDismiss: r, lineItem: n, storeItem: t }),
        );
      }
      const ee = a.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: i,
        } = Q(e.storeItem);
        return a.createElement(
          te,
          Object.assign({}, e, {
            rgFriendsForGifting: t,
            isLoading: n,
            isError: i,
          }),
        );
      });
      function te(e) {
        var t;
        const {
            lineItem: n,
            onDismiss: r,
            rgFriendsForGifting: o,
            isLoading: l,
            isError: s,
          } = e,
          c = (0, i.G1)(),
          [d, u] = a.useState(""),
          m = a.useMemo(() => {
            if (!o) return [];
            const e = d.toLocaleLowerCase();
            return o.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [d, o]),
          p =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee,
          _ = (e) => {
            if (e) {
              const t = new q.K(e);
              t.BIsValid() &&
                c.mutate({
                  lineItemID: n.line_item_id,
                  lineItemFlags: n.flags,
                  giftInfo: { accountid_giftee: t && t.GetAccountID() },
                });
            }
            r();
          };
        return s
          ? a.createElement(
              ne,
              null,
              a.createElement(
                "div",
                { className: N().LoadingError },
                (0, f.Xx)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : a.createElement(
              ne,
              { loading: l },
              a.createElement(ie, { value: d, onChange: u }),
              a.createElement(
                ae,
                null,
                m.map((e) =>
                  a.createElement(re, {
                    key: e.accountid,
                    selected: e.accountid === p,
                    onSelect: _,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function ne(e) {
        const { loading: t, children: n } = e;
        return a.createElement(
          F.s,
          { className: N().GiftRecipientPickerFormCtn },
          a.createElement(
            "div",
            { className: N().FormTitle },
            (0, f.Xx)("#Cart_GiftRecipientModal_Title"),
          ),
          t && a.createElement(K.V, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function ie(e) {
        const { value: t, onChange: n } = e;
        return a.createElement(r.II, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: N().GiftFriendsInput,
          placeholder: (0, f.Xx)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function ae(e) {
        return a.createElement(
          H.P8,
          Object.assign({ className: N().GiftFriendsListCtn }, e),
        );
      }
      function re(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: i,
            persona: r,
            ownsGame: o,
            wishlistsGame: l,
          } = e,
          s = o,
          c = a.useCallback(() => {
            s || n(r.m_steamid.ConvertTo64BitString());
          }, [s, n, r]);
        let d = null;
        return (
          o
            ? (d = a.createElement(
                "div",
                { className: (0, _.Z)(N().FriendsGiftLabel, N().OwnsGame) },
                (0, f.Xx)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : l &&
              (d = a.createElement(
                "div",
                { className: (0, _.Z)(N().FriendsGiftLabel, N().OnWishlist) },
                (0, f.Xx)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          a.createElement(
            F.s,
            {
              className: (0, _.Z)(
                N().GiftPickerFriendBlock,
                t && N().Selected,
                s && N().Disabled,
              ),
              focusClassName: N().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            a.createElement(O.vV, {
              className: N().FriendAvatar,
              statusPosition: "right",
              persona: r,
            }),
            a.createElement(z.r, {
              bParenthesizeNicknames: !0,
              strNickname: i,
              persona: r,
              className: N().PersonaName,
            }),
            d,
          )
        );
      }
      function oe(e) {
        const { giftInfo: t, onChange: n } = e,
          i = (0, B.IE)(t.accountid_giftee);
        return i.data
          ? a.createElement(
              _e,
              null,
              a.createElement(
                ge,
                null,
                a.createElement(he, null, (0, f.Xx)("#Cart_PurchaseFor_Label")),
                a.createElement(
                  "a",
                  { href: i.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(O.vV, {
                    className: N().FriendAvatar,
                    statusPosition: "right",
                    persona: i.data,
                  }),
                ),
                i.data.m_strPlayerName,
              ),
              a.createElement(ue, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function le(e) {
        var t;
        const { lineItem: n } = e,
          i =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee;
        return a.createElement(
          _e,
          null,
          !i && a.createElement(se, Object.assign({}, e)),
          i && a.createElement(ce, Object.assign({}, e)),
          i && a.createElement(de, { lineItem: n }),
        );
      }
      function se(e) {
        const { lineItem: t, storeItem: n } = e,
          [i, o] = a.useState(!1);
        return a.createElement(
          fe,
          null,
          a.createElement(
            r.KM,
            { onClick: () => o(!0) },
            (0, f.Xx)("#Cart_SelectGiftRecipient"),
          ),
          i &&
            a.createElement($, {
              bShowGiftRecipientModal: i,
              fnOnDismiss: () => o(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function ce(e) {
        const { lineItem: t, storeItem: n } = e,
          [i, r] = a.useState(!1),
          o = (0, B.IE)(t.gift_info.accountid_giftee);
        return o.data
          ? a.createElement(
              fe,
              null,
              a.createElement("div", { className: N().GiftFormDivider }),
              a.createElement(
                ge,
                null,
                a.createElement(
                  he,
                  null,
                  (0, f.Xx)("#Cart_GiftRecipient_Label"),
                ),
                a.createElement(
                  "a",
                  { href: o.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(O.vV, {
                    className: N().FriendAvatar,
                    statusPosition: "right",
                    persona: o.data,
                  }),
                ),
                o.data.m_strPlayerName,
                a.createElement(
                  Ee,
                  { onClick: () => r(!0) },
                  "(",
                  (0, f.Xx)("#Cart_Edit"),
                  ")",
                ),
              ),
              i &&
                a.createElement($, {
                  bShowGiftRecipientModal: i,
                  fnOnDismiss: () => r(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function de(e) {
        var t, n, r, o, l, s;
        const { lineItem: c } = e,
          [d, u] = a.useState(
            null === (t = c.gift_info) || void 0 === t
              ? void 0
              : t.time_scheduled_send,
          ),
          m = a.useRef(d),
          [p, _] = a.useState(
            (null ===
              (r =
                null === (n = c.gift_info) || void 0 === n
                  ? void 0
                  : n.gift_message) || void 0 === r
              ? void 0
              : r.message) || "",
          ),
          f = a.useRef(p),
          [v, h] = a.useState(
            (null ===
              (l =
                null === (o = c.gift_info) || void 0 === o
                  ? void 0
                  : o.gift_message) || void 0 === l
              ? void 0
              : l.signature) || "",
          ),
          E = a.useRef(v),
          C = (0, g.fB)(3e3),
          { mutate: I } = (0, i.G1)(),
          y = a.useCallback(
            (e) => {
              C(() =>
                I({
                  lineItemID: c.line_item_id,
                  lineItemFlags: c.flags,
                  giftInfo: e,
                }),
              );
            },
            [I, c.line_item_id, c.flags, C],
          );
        return (
          (0, a.useEffect)(() => {
            var e;
            (m.current == d && f.current == p && E.current == v) ||
              (y({
                accountid_giftee:
                  null === (e = c.gift_info) || void 0 === e
                    ? void 0
                    : e.accountid_giftee,
                gift_message: { message: p, signature: v },
                time_scheduled_send: d,
              }),
              (m.current = d),
              (f.current = p),
              (E.current = v));
          }, [
            p,
            v,
            d,
            y,
            null === (s = c.gift_info) || void 0 === s
              ? void 0
              : s.accountid_giftee,
          ]),
          a.createElement(pe, {
            id: c.line_item_id,
            message: p,
            onMessageChange: _,
            signature: v,
            onSignatureChange: h,
            scheduledTime: d,
            onScheduledTimeChange: u,
          })
        );
      }
      function ue(e) {
        var t, n;
        const { giftInfo: i, onChange: r } = e;
        return a.createElement(pe, {
          id: "cart",
          message:
            (null === (t = i.gift_message) || void 0 === t
              ? void 0
              : t.message) || "",
          onMessageChange: (e) =>
            r(
              Object.assign(Object.assign({}, i), {
                gift_message: Object.assign(Object.assign({}, i.gift_message), {
                  message: e,
                }),
              }),
            ),
          signature:
            (null === (n = i.gift_message) || void 0 === n
              ? void 0
              : n.signature) || "",
          onSignatureChange: (e) =>
            r(
              Object.assign(Object.assign({}, i), {
                gift_message: Object.assign(Object.assign({}, i.gift_message), {
                  signature: e,
                }),
              }),
            ),
          scheduledTime: i.time_scheduled_send,
          onScheduledTimeChange: (e) =>
            r(Object.assign(Object.assign({}, i), { time_scheduled_send: e })),
        });
      }
      const me = 160;
      function pe(e) {
        const {
            id: t,
            message: n,
            onMessageChange: i,
            signature: o,
            onSignatureChange: l,
            scheduledTime: s,
            onScheduledTimeChange: c,
            onBlur: d,
          } = e,
          u = me - n.length,
          [m, p] = a.useState(!1),
          { data: _ } = (0, B.IE)(M.L7.accountid);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            fe,
            null,
            a.createElement(
              he,
              null,
              (0, f.kQ)(
                "#Cart_GiftDelivery_Body",
                a.createElement(
                  "span",
                  { className: u <= 0 ? N().RedText : null },
                  u,
                ),
              ),
            ),
            a.createElement(r.E0, {
              nMinHeight: 50,
              className: N().GiftNoteInput,
              value: n,
              onBlur: d,
              onChange: (e) => i(e.target.value),
            }),
          ),
          a.createElement(
            fe,
            null,
            a.createElement(
              "div",
              { className: N().GiftFormRecipient },
              a.createElement(he, null, (0, f.Xx)("#Cart_GiftDelivery_From")),
              a.createElement(O.vV, {
                className: N().FriendAvatar,
                statusPosition: "right",
                persona: _,
              }),
              " ",
              (null == _ ? void 0 : _.m_strPlayerName) || "",
              !m &&
                a.createElement(
                  Ee,
                  { onClick: () => p(!0) },
                  "(",
                  (0, f.Xx)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          m &&
            a.createElement(
              fe,
              null,
              a.createElement(
                he,
                null,
                (0, f.Xx)("#Cart_GiftDelivery_Signature"),
              ),
              a.createElement(r.II, {
                value: o,
                className: N().GiftSignatureInput,
                onChange: (e) => l(e.target.value),
                onBlur: d,
                maxChars: me,
              }),
            ),
          a.createElement(D, { scheduledTime: s, onScheduledTimeChange: c }),
        );
      }
      function _e(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormCtn },
          e.children,
        );
      }
      function fe(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormSection },
          e.children,
        );
      }
      function ge(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormRecipient },
          e.children,
        );
      }
      function ve(e) {
        return a.createElement(
          "div",
          { className: N().GiftRadioRow },
          e.children,
        );
      }
      function he(e) {
        return a.createElement(
          "div",
          { className: N().FormTextLabel },
          e.children,
        );
      }
      function Ee(e) {
        return a.createElement(F.s, {
          onActivate: e.onClick,
          children: e.children,
          className: N().LinkButton,
        });
      }
    },
    7860: (e, t, n) => {
      "use strict";
      n.d(t, { y: () => ve, J: () => ye });
      var i = n(47427),
        a = n(45137),
        r = n(91585),
        o = n.n(r),
        l = n(31846),
        s = n(1485),
        c = n(13129),
        d = n(65255),
        u = n(80212),
        m = n(43981),
        p = n(8285),
        _ = n(10162),
        f = n(760),
        g = n(85556),
        v = n(80886),
        h = n(91618),
        E = n(34909),
        C = n(86437),
        I = n(46882),
        y = n(15690),
        S = n(34913),
        b = n(84823),
        L = n(21941),
        N = n(71634),
        D = n(27438),
        G = n(7686),
        T = n(77936);
      function w(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: r,
            availableCoupons: o,
          } = e,
          [{ bDialogActive: s, strDialogTitle: c }, d] = i.useState({
            bDialogActive: !1,
          }),
          u = (0, a.G1)();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(A, {
            couponApplied: r,
            numAvailable: o.length,
            onModifyClick: () =>
              d({
                bDialogActive: !0,
                strDialogTitle: (0, l.Xx)(
                  r ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          i.createElement(k, {
            active: s,
            title: c || (0, l.Xx)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => d({ bDialogActive: !1 }),
            couponApplied: r,
            availableCoupons: o,
            onCouponChange: (e) => {
              u.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: Object.assign({}, t.flags),
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function A(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: a } = e,
          r = (0, l.Xx)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return i.createElement(
          "div",
          { className: N.CouponPickerRowGlow },
          i.createElement(
            "div",
            { className: N.CouponPickerRow },
            t ? i.createElement(x, Object.assign({}, t)) : null,
            i.createElement(F, null, (0, l.kb)("#Cart_CouponAvailability", n)),
            i.createElement(
              "div",
              { className: N.ModifyLink },
              i.createElement(L.Qj, { onClick: a }, r),
            ),
          ),
        );
      }
      function x(e) {
        const { large_icon_url: t, title: n } = e;
        return i.createElement("img", {
          className: N.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function k(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: a,
            title: r,
            couponApplied: o,
            availableCoupons: c,
            onCouponChange: d,
          } = e,
          [u, m] = i.useState((null == o ? void 0 : o.gidcoupon) || "");
        return i.createElement(
          D.On,
          { active: t, onDismiss: n },
          i.createElement(s.h4, null, r),
          i.createElement(
            s.Ac,
            null,
            (0, l.kQ)(
              "#Cart_SelectCouponToApply",
              i.createElement("span", { className: N.PackageName }, a),
            ),
          ),
          i.createElement(P, {
            availableCoupons: c,
            couponApplied: null == o ? void 0 : o.gidcoupon,
            couponSelected: u,
            onSelectedChange: m,
          }),
          i.createElement(s.o9, {
            onCancel: n,
            onOK: () => {
              n(), d(u || T.Z3);
            },
            strOKText: (0, l.Xx)("#Button_Done"),
          }),
        );
      }
      function P(e) {
        var t;
        const {
            availableCoupons: n,
            couponApplied: r,
            couponSelected: o,
            onSelectedChange: l,
          } = e,
          { validateCart: s } = (0, a.td)(),
          c = (
            (null === (t = s.data) || void 0 === t ? void 0 : t.cart_items) ||
            []
          ).map((e) => {
            var t;
            return null === (t = e.coupon_applied) || void 0 === t
              ? void 0
              : t.gidcoupon;
          });
        return i.createElement(
          "div",
          { className: N.CouponListContainer },
          n.map((e) =>
            i.createElement(
              R,
              Object.assign({ key: e.gidcoupon }, e, {
                applied: r === e.gidcoupon,
                selected: o === e.gidcoupon,
                inUse: c.includes(e.gidcoupon),
                onSelected: (t) => l(t ? e.gidcoupon : ""),
              }),
            ),
          ),
        );
      }
      function R(e) {
        const {
            applied: t,
            inUse: n,
            selected: a,
            large_icon_url: r,
            title: o,
            discount_pct: s,
            onSelected: d,
          } = e,
          u = !t && n,
          m = u ? void 0 : () => d(!a);
        return i.createElement(
          "div",
          {
            className: (0, c.Z)(N.CouponListItem, u && N.Disabled),
            onClick: m,
          },
          i.createElement(O, { checked: a, hidden: u }),
          i.createElement("img", { src: r, title: o, className: N.Image }),
          i.createElement(
            "div",
            { className: N.Info },
            t && i.createElement(F, null, (0, l.Xx)("#Cart_Coupons_Applied")),
            u && i.createElement(F, null, (0, l.Xx)("#Cart_Coupons_InUse")),
          ),
          i.createElement("div", { className: N.Discount }, "-", s, "%"),
        );
      }
      function F(e) {
        return i.createElement(
          "div",
          { className: N.CouponInfoText },
          e.children,
        );
      }
      function O(e) {
        const { checked: t, hidden: n } = e;
        return i.createElement(
          "div",
          { className: (0, c.Z)(N.Checkbox, n && N.Hidden) },
          t && i.createElement(G.Jr, null),
        );
      }
      var B = n(88294),
        M = n(51915),
        X = n(39661),
        j = n.n(X),
        Z = n(25006);
      const V = {
        1: function (e) {
          const { item: t } = e,
            n = (0, g._T)(e, ["item"]),
            [a, r] = (0, v.ie)(t.packageid, {
              include_all_purchase_options: !0,
            }),
            [o, l] = (0, v.Vm)(t.packageid, 1, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_release: !0,
            });
          if (2 === l || 2 === r)
            return i.createElement(H, { lineItemID: t.line_item_id });
          if (!o || !a) return i.createElement(Y, null);
          const s = a.GetSelfPurchaseOption();
          return i.createElement(
            z,
            Object.assign(
              {
                name: a.GetName(),
                purchaseItem: a,
                storeItem: o,
                lineItem: t,
                purchaseOption: s,
              },
              n,
            ),
          );
        },
        2: function (e) {
          const { item: t } = e,
            n = (0, g._T)(e, ["item"]),
            [a, r] = (0, v.jk)(t.bundleid, 2, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_included_items: !0,
              included_item_data_request: { include_basic_info: !0 },
            });
          if (2 === r)
            return i.createElement(H, { lineItemID: t.line_item_id });
          if (!a) return i.createElement(Y, null);
          const o = a.GetSelfPurchaseOption();
          return i.createElement(
            z,
            Object.assign(
              { purchaseItem: a, storeItem: a, lineItem: t, purchaseOption: o },
              n,
            ),
          );
        },
      };
      function U(e) {
        const { item: t } = e,
          n = V[t.type];
        return n
          ? i.createElement(
              _.SV,
              {
                fallback: (t) =>
                  i.createElement(W, Object.assign({}, e, { error: t })),
              },
              i.createElement(n, Object.assign({}, e)),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function W(e) {
        const { item: t, error: n } = e,
          r = (0, a.fn)(t.line_item_id);
        return i.createElement(
          oe,
          { className: j().ErrorLineItem },
          i.createElement(
            "div",
            { className: j().Left },
            i.createElement(
              "div",
              { className: j().Error },
              (0, l.Xx)("#Cart_LineItem_ErrorBoundary"),
            ),
            i.createElement("div", { className: j().Muted }, n.message),
          ),
          i.createElement(
            L.Qj,
            { onClick: () => r.mutate() },
            (0, l.Xx)("#Cart_Remove"),
          ),
        );
      }
      function Y() {
        return i.createElement(
          oe,
          { placeholder: !0 },
          i.createElement(Q, null),
        );
      }
      function Q() {
        return i.createElement(
          "div",
          { className: j().LoadingThrobber },
          i.createElement(I.V, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function H(e) {
        const { lineItemID: t } = e,
          n = (0, a.fn)(t),
          r = n.isLoading;
        return i.createElement(
          oe,
          { placeholder: !0 },
          r && i.createElement(Q, null),
          i.createElement($, { lineItemID: t }),
          i.createElement(
            re,
            { className: j().LineItemSpaceBetween },
            i.createElement(
              h.s,
              { onActivate: () => n.mutate(), className: j().RemoveLineItem },
              (0, l.Xx)("#Cart_Remove"),
            ),
          ),
        );
      }
      function z(e) {
        var t, n;
        const {
            name: r,
            purchaseItem: o,
            storeItem: l,
            lineItem: s,
            validation: u = [],
            purchaseOption: p,
            validatedItem: _,
            availableCoupons: f,
          } = e,
          g = s.line_item_id,
          v = {
            id: null == l ? void 0 : l.GetID(),
            type: (0, C.Ds)(
              null == l ? void 0 : l.GetStoreItemType(),
              null == l ? void 0 : l.GetAppType(),
            ),
          },
          I = (0, a.fn)(g),
          [y] = (0, m.nD)(),
          S = I.isLoading || I.isSuccess,
          N = "gifts" === y && !!s.flags.is_gift,
          D = !!f.length,
          G = (function (e) {
            const t = `${d.De.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
            if (!e) return t;
            const n = e.GetAssets();
            if (!n) return t;
            const i = n.GetHeaderURL(),
              a = n.GetSmallCapsuleURL();
            return i || a || t;
          })(l),
          T = _
            ? _.original_price.formatted_amount
            : p.formatted_original_price,
          A = _ ? _.subtotal.formatted_amount : p.formatted_final_price,
          x = _
            ? (function (e) {
                if (e.coupon_applied) return e.coupon_applied.discount_pct;
                const t = parseInt(e.original_price.amount_in_cents),
                  n = parseInt(e.subtotal.amount_in_cents);
                return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
              })(_)
            : p.discount_pct,
          k = l.GetIncludedAppIDsOrSelf(),
          { data: P, isLoading: R } = (0, B.sU)(),
          F = (0, Z.YR)(l.GetStorePageURL(), "cart-items"),
          O = k.filter((e) => (null == P ? void 0 : P.has(e)));
        if (R) return i.createElement(Y, null);
        const M = null === (t = s.flags) || void 0 === t ? void 0 : t.is_gift,
          X = O.length === k.length,
          V = !M && O.length > 0 && !X;
        let U = M ? "gift" : "myself";
        return (
          "myself" === U && X && (U = "private"),
          i.createElement(
            h.s,
            null,
            i.createElement(
              oe,
              null,
              S && i.createElement(Q, null),
              i.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    j().InnerLineItemCtn,
                    S && j().PendingLineItem,
                  ),
                },
                i.createElement(
                  "div",
                  {
                    className: (0, c.Z)(
                      j().LineItemColumn,
                      j().LineItemCapsule,
                    ),
                  },
                  i.createElement(
                    "a",
                    { href: F },
                    i.createElement("img", {
                      className: j().HeaderImg,
                      src: G,
                    }),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: j().LineItemDetailsCtn },
                  i.createElement(
                    re,
                    { flex: !0, className: j().LineItemDetailsRowTop },
                    i.createElement(
                      "div",
                      { className: j().LineItemTitle },
                      r || l.GetName(),
                    ),
                  ),
                  l.BIsComingSoon() && i.createElement(K, { storeItem: l }),
                  i.createElement(
                    $,
                    { lineItemID: g },
                    u.map((e) =>
                      i.createElement(ee, { key: e.strNotice }, e.strNotice),
                    ),
                  ),
                  i.createElement(ae, { storeItem: l }),
                  V && i.createElement(le, { appids: O }),
                  i.createElement(
                    re,
                    { className: j().LineItemSpaceBetween },
                    i.createElement(
                      "div",
                      {
                        className: (0, c.Z)(j().LineItemCol, j().PlatformIcons),
                      },
                      i.createElement(E.a, {
                        item: v,
                        strClassName: j().LineItemPlatforms,
                      }),
                    ),
                    i.createElement(
                      "div",
                      { className: j().LineItemRightCol },
                      i.createElement(b.nk, {
                        className: j().PriceWidget,
                        formatted_orig_price: T,
                        formatted_final_price: A,
                        discount_percent: x,
                        bHideDiscountPercentForCompliance:
                          p.hide_discount_pct_for_compliance,
                        bDiscountFromCoupon: !!(null ===
                          (n = null == _ ? void 0 : _.coupon_discount) ||
                        void 0 === n
                          ? void 0
                          : n.amount_in_cents),
                      }),
                    ),
                  ),
                  i.createElement(q, {
                    lineItem: s,
                    storeItem: l,
                    purchaseOption: p,
                    initialPurchaseOption: U,
                    fnRemoveLineItem: I.mutate,
                  }),
                ),
              ),
              N && i.createElement(L.Wc, { storeItem: o, lineItem: s }),
            ),
            D &&
              i.createElement(w, {
                storeItem: l,
                lineItem: s,
                couponApplied: null == _ ? void 0 : _.coupon_applied,
                availableCoupons: f,
              }),
          )
        );
      }
      function q(e) {
        var t;
        const {
            lineItem: n,
            storeItem: r,
            purchaseOption: o,
            initialPurchaseOption: s,
            fnRemoveLineItem: d,
          } = e,
          u = (0, a.bz)(),
          [p] = (0, m.pf)(),
          _ =
            (null == p ? void 0 : p.accountid_giftee) ||
            (u
              ? null === (t = n.gift_info) || void 0 === t
                ? void 0
                : t.accountid_giftee
              : void 0),
          f = (0, a.IW)(),
          g = (0, a.tI)(n.packageid, n.bundleid, !0);
        return i.createElement(
          re,
          { className: j().LineItemSpaceBetween },
          i.createElement(
            "div",
            { className: j().LineItemCol },
            _
              ? i.createElement(J, { recipient: _ })
              : i.createElement(ne, {
                  lineItem: n,
                  storeItem: r,
                  initialValue: s,
                  purchaseOption: o,
                }),
          ),
          i.createElement(
            "div",
            { className: (0, c.Z)(j().LineItemRightCol, j().AddRemoveLinks) },
            f &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  h.s,
                  {
                    onActivate: () => !g.isLoading && g.mutate(),
                    className: j().AddLineItem,
                    title: (0, l.Xx)("#Cart_LineItem_Add_Tooltip"),
                  },
                  (0, l.Xx)("#Cart_Add"),
                ),
                "|",
              ),
            !u &&
              i.createElement(
                h.s,
                { onActivate: () => d(), className: j().RemoveLineItem },
                (0, l.Xx)("#Cart_Remove"),
              ),
          ),
        );
      }
      function J(e) {
        const t = (0, M.IE)(e.recipient);
        return i.createElement(
          "div",
          { className: j().GiftForNotice },
          (0, l.kQ)(
            "#Cart_GiftForNotice",
            t.data
              ? i.createElement(
                  "span",
                  { className: j().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function K(e) {
        const { storeItem: t } = e;
        let n = (0, l.Xx)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          i.createElement(ee, null, n)
        );
      }
      function $(e) {
        const { lineItemID: t, children: n } = e,
          [r, o] = (0, a.z5)(t);
        return 0 === (null == r ? void 0 : r.length) &&
          0 === i.Children.count(n)
          ? null
          : i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  j().LineItemNoticeRow,
                  j().LineItemSpaceBetween,
                ),
              },
              r.map((e) => {
                var t;
                return i.createElement(te, {
                  key: e.purchase_state,
                  notice: e,
                  footnoteIdx:
                    null === (t = o.get(e.purchase_state)) || void 0 === t
                      ? void 0
                      : t.index,
                });
              }),
              n,
            );
      }
      function ee(e) {
        const { children: t } = e;
        return i.createElement(
          re,
          { flex: !0 },
          i.createElement("div", { className: j().Warning }, t),
        );
      }
      function te(e) {
        var t;
        const { notice: n, footnoteIdx: a } = e;
        (0, v.wZ)(n.appids, { include_basic_info: !0 });
        const r =
            null === (t = n.appids) || void 0 === t
              ? void 0
              : t.filter((e) => y.Z.Get().GetApp(e)),
          o =
            null == r
              ? void 0
              : r.map((e, t) => {
                  const n = y.Z.Get().GetApp(e);
                  return i.createElement(
                    S.W,
                    { key: `${e}_${t}`, type: "app", id: e },
                    i.createElement(
                      "a",
                      { href: n.GetStorePageURL() },
                      n.GetName(),
                    ),
                    t < r.length - 1 && i.createElement(i.Fragment, null, ","),
                  );
                });
        return i.createElement(
          ee,
          null,
          n.notice_text,
          a && i.createElement("sup", null, a),
          o &&
            i.createElement(
              i.Fragment,
              null,
              "",
              i.createElement(
                "span",
                { className: (0, c.Z)(j().LineItemNoticeAppsCtn) },
                o,
              ),
            ),
        );
      }
      function ne(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: r,
            purchaseOption: o,
          } = e,
          [s, c] = i.useState(r),
          d = (0, a.G1)(),
          u = (0, B.Xm)(),
          m = (0, a.bz)(),
          p = !o.user_can_purchase_as_gift || m;
        const _ = !(function (e) {
            return !e.is_commercial_license;
          })(o),
          f = [
            {
              data: "myself",
              label: (0, l.Xx)("#Cart_LineItemOptions_Myself"),
            },
            !_ && {
              data: "private",
              label: (0, l.Xx)("#Cart_LineItemOptions_Privately"),
              tooltip: (0, l.Xx)("#Cart_LineItemOptions_PrivateTooltip"),
            },
            !p && {
              data: "gift",
              label: (0, l.Xx)("#Cart_LineItemOptions_Gift"),
            },
          ].filter(Boolean);
        if (1 === f.length) return null;
        return i.createElement(ie, {
          onChange: (e) => {
            if (s === e.data) return;
            const i = (e) =>
                u.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              a = (e) =>
                d.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: Object.assign(Object.assign({}, t.flags), {
                    is_gift: e,
                  }),
                });
            "private" === s ? i(!1) : "gift" === s && a(!1),
              "private" === e.data ? i(!0) : "gift" === e.data && a(!0),
              c(e.data);
          },
          selectedOption: s,
          rgOptions: f,
        });
      }
      function ie(e) {
        return i.createElement(
          s.ry,
          Object.assign(
            {
              strClassName: j().LineItemDropDown,
              strDropDownItemClassName: j().DropDownOptionItem,
              strDropDownClassName: j().DropDownOptionsCtnThin,
              strDropDownButtonClassName: j().DropDownThin,
            },
            e,
          ),
        );
      }
      function ae(e) {
        const { storeItem: t } = e,
          [n, a] = i.useState([]);
        return (
          i.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, a) => {
                const r = y.Z.Get().GetApp(n);
                r &&
                  e.push(
                    i.createElement(
                      S.W,
                      { key: n, type: "app", id: n },
                      i.createElement(
                        "a",
                        { href: r.GetStorePageURL() },
                        r.GetName(),
                      ),
                      a < t.GetIncludedAppIDs().length - 1 ? "," : "",
                    ),
                  );
              }),
                a(e);
            }
          }, [t]),
          n.length
            ? i.createElement(
                re,
                { flex: !0 },
                i.createElement(
                  "span",
                  null,
                  (0, l.kb)("#Cart_IncludesItems", n.length),
                  ":",
                ),
                n,
              )
            : null
        );
      }
      function re(e) {
        const { flex: t, children: n, className: a } = e;
        return i.createElement(
          h.s,
          {
            "flow-children": "row",
            className: (0, c.Z)(j().LineItemDetailsRow, t && j().FlexRow, a),
          },
          n,
        );
      }
      function oe(e) {
        const { placeholder: t, className: n, children: a } = e;
        return i.createElement(
          h.s,
          {
            className: (0, c.Z)(
              j().LineItemWrapper,
              t && j().LineItemPlaceholder,
              n,
            ),
          },
          a,
        );
      }
      function le(e) {
        const { appids: t } = e,
          n = (function (e) {
            const [t, n] = i.useState({});
            return (
              i.useEffect(() => {
                e.length &&
                  n(
                    e.reduce((e, t) => {
                      const n = y.Z.Get().GetApp(t);
                      return (
                        (e[t] = {
                          name: n.GetName(),
                          href: n.GetStorePageURL(),
                        }),
                        e
                      );
                    }, {}),
                  );
              }, [e.join(",")]),
              t
            );
          })(t),
          a = t.map((e, t) => {
            var a, r;
            return i.createElement(
              i.Fragment,
              { key: e },
              t > 0 && ", ",
              i.createElement(se, {
                key: e,
                appid: e,
                name:
                  (null === (a = n[e]) || void 0 === a ? void 0 : a.name) ||
                  e.toString(),
                href: null === (r = n[e]) || void 0 === r ? void 0 : r.href,
              }),
            );
          });
        return i.createElement(
          re,
          { flex: !0 },
          i.createElement(
            "span",
            null,
            (0, l.Xx)("#Cart_Notice_SomeAppsPrivate"),
            "",
          ),
          a,
        );
      }
      function se(e) {
        const { appid: t, name: n, href: a } = e;
        return i.createElement(
          S.W,
          { type: "app", id: t },
          i.createElement("a", { href: a }, n),
        );
      }
      var ce = n(92686),
        de = n(68824),
        ue = n(37563),
        me = n(17243),
        pe = n.n(me);
      function _e() {
        const [e, t] = i.useState(null);
        return (
          i.useEffect(() => {
            var e;
            t(
              null === (e = (0, a.WR)()) || void 0 === e
                ? void 0
                : e.rgUserCountryOptions,
            );
          }, []),
          e
            ? i.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    o().EstimatedTotalFlex,
                    pe().UserCountrySelector,
                  ),
                },
                i.createElement(
                  "div",
                  { className: o().CartLabelText },
                  (0, l.Xx)("#Cart_UserCountrySelector"),
                ),
                i.createElement(
                  "div",
                  { className: o().CartValueText },
                  i.createElement(fe, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function fe(e) {
        const { rgCountryOptions: t } = e,
          [n, a] = i.useState(d.De.COUNTRY),
          r = i.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          o = i.useCallback((e) => {
            e.data != d.De.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              a(e.data);
          }, []);
        return i.createElement(s.ry, {
          selectedOption: n,
          onChange: o,
          rgOptions: r,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var ge = n(20020);
      function ve(e) {
        const { children: t } = e;
        return i.createElement(he, null, t);
      }
      function he(e) {
        var t, n, r, l, s;
        const { children: d } = e,
          u = (0, a.g1)(),
          p = (0, a.bn)(),
          f = u.isLoading || !u.data,
          g = (0, ue.id)(),
          [v, E] = (0, m.pf)(),
          { sortedLineItems: C, bCartIncludesGifts: I } = i.useMemo(() => {
            var e;
            const t =
                (null === (e = null == u ? void 0 : u.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              n = t.some((e) => {
                var t;
                return null === (t = e.flags) || void 0 === t
                  ? void 0
                  : t.is_gift;
              }),
              i = t.sort((e, t) => {
                var n, i;
                const a =
                    null !== (n = e.bundleid) && void 0 !== n ? n : e.packageid,
                  r =
                    null !== (i = t.bundleid) && void 0 !== i ? i : t.packageid;
                return e.time_added == t.time_added
                  ? a < r
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              });
            return { sortedLineItems: i, bCartIncludesGifts: n };
          }, [
            null === (t = null == u ? void 0 : u.data) || void 0 === t
              ? void 0
              : t.line_items,
          ]),
          { validateCart: y, lineItemValidation: S } = (0, a.td)(),
          { mapValidateNoticesToError: b, mapValidateNoticesToFootnote: N } =
            (0, a.dW)();
        return i.createElement(
          i.Fragment,
          null,
          !!(null == b ? void 0 : b.size) &&
            i.createElement(Se, { notices: b }),
          i.createElement(
            h.s,
            { className: o().ShoppingCartCtn },
            i.createElement(
              h.s,
              { className: o().ShoppingCartLeftCol },
              f && i.createElement(Q, null),
              !!v &&
                i.createElement(
                  _.SV,
                  null,
                  i.createElement(
                    de.r,
                    null,
                    i.createElement(L.SL, { giftInfo: v, onChange: E }),
                  ),
                ),
              i.createElement(
                _.SV,
                null,
                i.createElement(ye, {
                  lineItems: C,
                  validation: S,
                  cartValidation: y.data,
                  coupons: null == p ? void 0 : p.data,
                }),
              ),
              !!(null == N ? void 0 : N.size) &&
                i.createElement(
                  _.SV,
                  null,
                  i.createElement(Le, { notices: N }),
                ),
              !g &&
                i.createElement(
                  "div",
                  { className: o().ResponsiveShoppingCartSummary },
                  i.createElement(Ee, {
                    bCartIncludesGifts: I,
                    strEstimatedTotal:
                      null ===
                        (r =
                          null === (n = y.data) || void 0 === n
                            ? void 0
                            : n.estimated_totals) || void 0 === r
                        ? void 0
                        : r.subtotal.formatted_amount,
                  }),
                ),
              d && d({ cart: u.data, validatedCart: y.data }),
            ),
            i.createElement(
              h.s,
              {
                className: (0, c.Z)(
                  o().ShoppingCartRightCol,
                  (null == C ? void 0 : C.length) <= 2 && o().SmallCart,
                ),
              },
              i.createElement(Ee, {
                bCartIncludesGifts: I,
                strEstimatedTotal:
                  null ===
                    (s =
                      null === (l = y.data) || void 0 === l
                        ? void 0
                        : l.estimated_totals) || void 0 === s
                    ? void 0
                    : s.subtotal.formatted_amount,
              }),
            ),
          ),
        );
      }
      function Ee(e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          r = (0, a.g1)(),
          { bValidForCheckout: s } = (0, a.td)(),
          [u, p] = (0, m.nD)(),
          _ = (0, a.bz)(),
          f =
            r.isSuccess &&
            r.data.line_items.some((e) => {
              var t, n;
              return (
                (null === (t = e.flags) || void 0 === t ? void 0 : t.is_gift) &&
                !(null === (n = e.gift_info) || void 0 === n
                  ? void 0
                  : n.accountid_giftee)
              );
            }),
          g =
            d.L7.logged_in &&
            (("initial" === u && !n && !s) ||
              ("gifts" === u && (!s || f)) ||
              (r.isSuccess && 0 == r.data.line_items.length));
        let v;
        return (
          (v = d.L7.logged_in
            ? n && "initial" == u && !_
              ? "gifts"
              : "checkout"
            : "login"),
          i.createElement(
            "div",
            { className: o().CartSummaryCtn },
            i.createElement(_e, null),
            i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().EstimatedTotalFlex,
                  o().SummaryMarginBottom,
                ),
              },
              i.createElement(
                "div",
                { className: o().CartLabelText },
                (0, l.Xx)("#Cart_EstimatedTotal"),
              ),
              i.createElement("div", { className: o().CartValueText }, t),
            ),
            i.createElement(
              "div",
              {
                className: (0, c.Z)(o().CartNoteText, o().SummaryMarginBottom),
              },
              (0, l.Xx)("#Cart_Note_SalesTax"),
            ),
            i.createElement(Ce, { bDisabled: g, nextStep: v }),
            i.createElement(De, { disabled: g || n }),
            i.createElement(Ie, { bDisabled: g }),
          )
        );
      }
      function Ce(e) {
        const { bDisabled: t, nextStep: n } = e,
          r = (0, a.tM)(),
          d = (0, p.k6)(),
          [_, g] = (0, m.nD)(),
          v = (function (e) {
            return "login" == e
              ? (0, l.Xx)("#Cart_ContinueButton_Login")
              : "gifts" == e
                ? (0, l.Xx)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, l.Xx)("#Cart_ContinueButton_Payment")
                  : ((0, ge.Z)(e, "unhandled step"), "");
          })(n),
          h = (0, c.Z)(o().CartSummaryBtn, o().SummaryMarginBottom);
        return i.createElement(
          s.KM,
          {
            disabled: t,
            className: h,
            onClick: () => {
              switch (n) {
                case "login":
                  (0, u.Xt)();
                  break;
                case "gifts":
                  g("gifts"), d.push(f.Z.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = r;
                  break;
                default:
                  (0, ge.Z)(n, "unhandled step");
              }
            },
          },
          v,
        );
      }
      function Ie(e) {
        var t;
        const { bDisabled: n } = e,
          r = (0, ce.Rs)(),
          u = (0, a.nt)(),
          m = (0, a.n$)(),
          p = (0, ce.Nw)(
            null === (t = r.data) || void 0 === t ? void 0 : t.family_groupid(),
            u,
            1,
          );
        return m
          ? i.createElement(
              s.zx,
              {
                disabled: n,
                className: (0, c.Z)(
                  o().CartSummaryBtn,
                  o().SummaryMarginBottom,
                ),
                onClick: () => {
                  p.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${d.De.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, l.Xx)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function ye(e) {
        const {
          lineItems: t = [],
          validation: n = {},
          cartValidation: a,
          coupons: r = {},
        } = e;
        if (!t.length)
          return i.createElement("div", null, (0, l.Xx)("#Cart_Empty"));
        const s = (null == a ? void 0 : a.cart_items)
          ? a.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return i.createElement(
          "div",
          { className: o().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? i.createElement(U, {
                    key: e.line_item_id,
                    item: e,
                    validation: n[e.packageid || e.bundleid],
                    validatedItem: s[e.line_item_id],
                    availableCoupons: r[e.line_item_id] || [],
                  })
                : i.createElement(Y, { key: t }),
            ),
        );
      }
      function Se(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: o().HeaderNotices },
          Array.from(t).map(([e, t], n) => i.createElement(be, { key: e }, t)),
        );
      }
      function be(e) {
        const { children: t } = e;
        return i.createElement("div", { className: o().HeaderNotice }, t);
      }
      function Le(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: o().FooterNoticesCtn },
          Array.from(t).map(([e, t]) =>
            i.createElement(Ne, { key: t.index, notice: t }),
          ),
        );
      }
      function Ne(e) {
        const { notice: t } = e;
        return i.createElement(
          "div",
          { className: o().FooterNotice },
          i.createElement(
            "div",
            { className: o().NoticeIndex },
            i.createElement("sup", null, t.index),
          ),
          i.createElement(
            "div",
            { className: o().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function De(e) {
        var t;
        const { disabled: n } = e,
          r =
            null === (t = (0, ce.Rs)().data) || void 0 === t
              ? void 0
              : t.family_groupid(),
          u = (0, ce.BU)(r, d.L7.country_code);
        return (0, a.wN)()
          ? i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().RequestPurchaseCtn,
                  o().SummaryMarginBottom,
                ),
              },
              i.createElement(
                s.KM,
                {
                  disabled: n,
                  className: (0, c.Z)(o().CartSummaryBtn),
                  onClick: () => {
                    u.mutate(void 0, {
                      onSuccess: () => {
                        window.location.assign((0, ce.ht)(r));
                      },
                    });
                  },
                },
                (0, l.Xx)("#Cart_RequestPurchase"),
              ),
              i.createElement(
                "div",
                null,
                (0, l.Xx)("#Cart_RequestPurchaseExplanation"),
              ),
            )
          : null;
      }
    },
    46193: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => re,
          default: () => ne,
          useInitCartLocalization: () => oe,
        });
      var i = n(85556),
        a = n(47427),
        r = n(91585),
        o = n.n(r),
        l = n(7860),
        s = n(31846),
        c = n(65255),
        d = n(46882),
        u = n(5522),
        m = n(43981),
        p = n(25006),
        _ = n(45137),
        f = n(22520),
        g = n(80886),
        v = n(15690),
        h = n(46009),
        E = n(10162),
        C = n(91618),
        I = n(3783),
        y = n(86437),
        S = n(1774),
        b = n(40833),
        L = n(13129),
        N = n(79545),
        D = n(80002),
        G = n(57462),
        T = n(42718),
        w = n(40057),
        A = n(80998);
      function x(e, t = !0) {
        return (function (e, t, n = !0) {
          const a = (0, w.bY)();
          return (0, T.useQuery)(
            ["ItemsToFeature", e],
            () =>
              (0, i.mG)(this, void 0, void 0, function* () {
                const n = N.gA.Init(G.JD);
                (0, A.pA)(n),
                  (0, A.De)(n, t),
                  n.Body().set_include_dailydeals(!0),
                  n.Body().set_include_top_specials_count(8),
                  e.spotlightLocation &&
                    n
                      .Body()
                      .set_include_spotlights(
                        G.xH.fromObject(e.spotlightLocation),
                      ),
                  void 0 !== e.rgAdditionalRecommendationIDs &&
                    (n.Body().set_include_purchase_recommendations(!0),
                    e.rgAdditionalRecommendationIDs.forEach((e) =>
                      n
                        .Body()
                        .add_additional_purchase_item_ids(D.oY.fromObject(e)),
                    ));
                const i = yield G.CK.GetItemsToFeature(a, n);
                if (!i) throw i.GetErrorMessage();
                const r = v.Z.Get();
                return (
                  i
                    .Body()
                    .spotlights()
                    .forEach(
                      (e) =>
                        e.associated_item(!1) &&
                        r.ReadItem(e.associated_item(), t),
                    ),
                  i
                    .Body()
                    .daily_deals()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i
                    .Body()
                    .specials()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i
                    .Body()
                    .purchase_recommendations()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  i.Body().toObject()
                );
              }),
            { staleTime: 36e5, enabled: n },
          );
        })(
          {
            spotlightLocation: { location: "cart" },
            rgAdditionalRecommendationIDs: e,
          },
          { include_assets: !0, include_release: !0 },
          t,
        );
      }
      var k = n(37772);
      function P(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              ((null == n ? void 0 : n.appid)
                ? !e[null == n ? void 0 : n.appid]
                : !(null == n ? void 0 : n.included_appids) ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function R(e) {
        var t, n, i, r;
        const { cart: o, validatedCart: l } = e,
          [c, d] = a.useState(void 0),
          u = ((null == l ? void 0 : l.cart_items) || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        a.useEffect(() => {
          void 0 === c &&
            o &&
            d(
              null == o
                ? void 0
                : o.line_items.map((e) =>
                    e.packageid
                      ? { packageid: e.packageid }
                      : { bundleid: e.bundleid },
                  ),
            );
        }, [c, o]);
        const m = x(c, void 0 !== c);
        if (m.isError) return null;
        const p = u.reduce((e, t) => ((e[t] = !0), e), {}),
          _ = P(
            p,
            null === (t = m.data) || void 0 === t
              ? void 0
              : t.purchase_recommendations,
          ),
          f = P(p, null === (n = m.data) || void 0 === n ? void 0 : n.specials),
          g = P(
            p,
            null === (i = m.data) || void 0 === i ? void 0 : i.daily_deals,
          ),
          v = P(
            p,
            null === (r = m.data) || void 0 === r ? void 0 : r.spotlights,
          );
        return a.createElement(
          "div",
          { className: k.CartUpsellArea },
          a.createElement(
            "div",
            { className: k.CartUpsellTitle },
            (0, s.Xx)("#Recommendations_Header"),
          ),
          (null == _ ? void 0 : _.length) > 3
            ? a.createElement(F, {
                type: "recommended",
                data: _,
                isLoaded: !m.isLoading,
              })
            : a.createElement(F, {
                type: "specials",
                data: f,
                isLoaded: !m.isLoading,
              }),
          a.createElement(B, { data: g, isLoaded: !m.isLoading }),
          a.createElement(M, { data: v, isLoaded: !m.isLoading }),
        );
      }
      function F(e) {
        const { data: t, isLoaded: n, type: i } = e;
        return !t && n
          ? null
          : a.createElement(
              p.ZP,
              { feature: `upsell-${i}` },
              a.createElement(
                X,
                { className: (0, L.Z)(k.Specials) },
                null == t
                  ? void 0
                  : t
                      .filter(({ item: e }) => {
                        var t;
                        return !!(null === (t = e.assets) || void 0 === t
                          ? void 0
                          : t.header);
                      })
                      .slice(0, 3)
                      .map(({ item_id: e, item: t }) =>
                        a.createElement(O, {
                          key: (0, y.y)(e),
                          item_id: e,
                          item: t,
                        }),
                      ),
              ),
            );
      }
      function O(e) {
        const { item: t } = e;
        return a.createElement(b.B, {
          capsule: { id: t.id, type: (0, y.Ds)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
        });
      }
      function B(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : a.createElement(
              X,
              { className: (0, L.Z)(k.DailyDeals, !n && k.Loading) },
              null == t
                ? void 0
                : t
                    .slice(0, 2)
                    .map((e) =>
                      a.createElement(S.k8, {
                        key: (0, y.y)(e.item_id),
                        dailyDeal: e,
                      }),
                    ),
            );
      }
      function M(e) {
        const { data: t, isLoaded: n } = e,
          i = a.useMemo(
            () =>
              null == t
                ? void 0
                : t
                    .filter((e) => "weeklong_deals" != e.spotlight_template)
                    .slice(0, 2),
            [t],
          );
        return !i && n
          ? null
          : a.createElement(
              X,
              { className: (0, L.Z)(k.Spotlights, !n && k.Loading) },
              i.map((e) =>
                a.createElement(S.Jm, {
                  key: e.item_id ? (0, y.y)(e.item_id) : e.spotlight_title,
                  spotlight: e,
                }),
              ),
            );
      }
      function X(e) {
        const { className: t, children: n } = e;
        return a.createElement(
          C.s,
          {
            "flow-children": "row",
            navEntryPreferPosition: I.c4.MAINTAIN_X,
            className: (0, L.Z)(k.UpsellRow, t),
          },
          n,
        );
      }
      var j = n(89373),
        Z = n(68824),
        V = n(38071),
        U = n(88909);
      function W(e) {
        const { cart: t } = e,
          n = j.C.Get().BIsSaleActive(),
          i = (function (e) {
            var t, n;
            const i = (0, _.AL)();
            if (!e || !i.isSuccess) return null;
            const a = new Set();
            let r = 0;
            for (const i of e.cart_items) {
              (null === (t = i.store_item.release) || void 0 === t
                ? void 0
                : t.is_coming_soon) &&
              (null === (n = i.store_item.best_purchase_option) || void 0 === n
                ? void 0
                : n.packageid)
                ? a.add(i.store_item.name)
                : (r += parseInt(i.subtotal.amount_in_cents));
            }
            const {
                sale_name: o,
                spend_earned_for_next_drop: l,
                spend_needed_for_next_drop: s,
                formatted_spend_per_drop: c,
              } = i.data,
              d = r + l,
              u = Math.floor(d / s),
              m = Math.floor(((d % s) * 100) / s);
            return {
              cEarned: u,
              pctProgress: m,
              strFormattedSpendPerDrop: c,
              rgPrepurchaseApps: Array.from(a),
              strSaleName: o,
            };
          })(t);
        if (!t || !c.L7.logged_in || !n || !i || (0, V.e7)(c.De.EREALM))
          return null;
        const {
            cEarned: r,
            pctProgress: o,
            rgPrepurchaseApps: l,
            strFormattedSpendPerDrop: d,
            strSaleName: u,
          } = i,
          m = r > 0,
          p = a.createElement(
            "div",
            { className: U.Explanation },
            (0, s.Xx)("#Cart_SaleCardDrops_Explanation", u),
          );
        return a.createElement(
          Z.r,
          { className: U.TradingCardContainer },
          m &&
            a.createElement(
              "div",
              { className: U.EarnedMessage },
              (0, s.kb)("#Cart_SaleCardDrops_EarnedMessage", r, u),
            ),
          !m && p,
          a.createElement(
            "div",
            { className: U.ProgressSection },
            a.createElement(
              "div",
              null,
              (0, s.Xx)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            a.createElement(Y, { value: o }),
            a.createElement(
              "div",
              { className: U.Right },
              "(",
              (0, s.Xx)("#Cart_SaleCardDrops_CardCost", d),
              ")",
            ),
          ),
          m && p,
          l.length > 0 &&
            a.createElement(
              "div",
              { className: U.IneligbleList },
              a.createElement(
                "p",
                null,
                (0, s.Xx)("#Cart_SaleCardDrops_PrepurchaseIneligible", u),
              ),
              a.createElement(
                "ul",
                null,
                l.map((e) => a.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function Y(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return a.createElement(
          "div",
          { className: U.ProgressRail },
          a.createElement("div", {
            className: U.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var Q = n(21941),
        H = n(1485),
        z = n(13043),
        q = n(74606),
        J = n(41130);
      function K(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e,
          i = (0, J.L)();
        return a.createElement(
          z.p,
          { NavigationManager: i, navID: n },
          a.createElement(q.g, null, t),
        );
      }
      var $ = n(82493),
        ee = n(8285),
        te = n(80212);
      function ne(e) {
        const t = oe(),
          n = (function () {
            const e = (0, ee.TH)();
            return (0, a.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (c.L7.logged_in) return { type: "account" };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, h.bG)(n) };
            }, [e.search]);
          })();
        return t
          ? "replay" == n.type
            ? a.createElement(ae, { cartID: n })
            : a.createElement(ie, Object.assign({ cartID: n }, e))
          : a.createElement(d.V, { position: "center" });
      }
      function ie(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [i, r] = a.useState(n),
          o = (function (e) {
            if ("gifts" === e) return (0, s.Xx)("#Cart_GiftOptions");
            return (0, s.Xx)("#Cart_YourShoppingCart");
          })(i);
        return a.createElement(
          re,
          { cartID: t, title: o, step: i, onStepChange: r },
          ({ cart: e, validatedCart: t }) =>
            a.createElement(
              a.Fragment,
              null,
              a.createElement(
                E.SV,
                null,
                a.createElement(se, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                }),
              ),
              a.createElement(
                E.SV,
                null,
                a.createElement(R, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function ae(e) {
        const { cartID: t } = e;
        return c.L7.logged_in
          ? a.createElement(
              re,
              {
                cartID: t,
                title: (0, s.Xx)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                a.createElement(
                  Z.r,
                  null,
                  (0, s.Xx)("#Cart_Replay_Instructions", 72),
                ),
            )
          : a.createElement(te.hx, null);
      }
      function re(e) {
        const {
            children: t,
            cartID: n,
            title: r,
            step: d,
            onStepChange: u,
          } = e,
          _ = (0, i._T)(e, [
            "children",
            "cartID",
            "title",
            "step",
            "onStepChange",
          ]),
          f = (function (e) {
            if ("gifts" === e)
              return a.createElement(
                a.Fragment,
                null,
                "> ",
                a.createElement(
                  "a",
                  { href: c.De.STORE_BASE_URL + "cart" },
                  (0, s.Xx)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(d);
        return a.createElement(
          K,
          null,
          a.createElement(
            p.ZP,
            { controller: "cart", method: "display", submethod: d },
            a.createElement(
              m.lh,
              Object.assign({ cartID: n, step: d, setStep: u }, _),
              a.createElement(le, null),
              a.createElement(
                "div",
                { className: o().ShoppingCartPage },
                a.createElement(
                  "div",
                  { className: o().ShoppingCartBreadcrumbs },
                  a.createElement(
                    "a",
                    { href: c.De.STORE_BASE_URL },
                    (0, s.Xx)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  f,
                  " ",
                  a.createElement(
                    "span",
                    { className: o().CurrentBreadcrumb },
                    "> ",
                    r,
                  ),
                ),
                a.createElement(
                  "div",
                  { className: o().ShoppingCartHeader },
                  r,
                ),
                a.createElement(l.y, null, t),
              ),
            ),
          ),
        );
      }
      function oe() {
        const [e, t] = a.useState(!1);
        return (
          a.useEffect(() => {
            e || (0, u.v)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function le(e) {
        const t = (function () {
          var e;
          const t = a.useRef(""),
            n = (0, _.g1)(),
            i = !t.current;
          let r = f.kI,
            o = -1;
          if (i) {
            const t =
                (null === (e = n.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              i = t.length
                ? t.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (r =
              (null == i ? void 0 : i.bundleid) ||
              (null == i ? void 0 : i.packageid) ||
              f.kI),
              (o = r === (null == i ? void 0 : i.bundleid) ? 2 : 1);
          }
          const l = {
              include_assets: !0,
              included_item_data_request: { include_assets: !0 },
              include_included_items: !0,
            },
            [s] = (0, g.jk)(r, o, l);
          if (s && i) {
            const e = v.Z.Get(),
              n = s.GetIncludedAppIDs();
            for (const i of n) {
              const n = e.GetApp(i);
              if (!n) continue;
              const a = n.GetAssets().GetPageBackgroundURL();
              if (a) {
                t.current = a;
                break;
              }
            }
          }
          return t.current;
        })();
        return a.createElement("div", {
          className: o().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function se(e) {
        const { isCartEmpty: t, cart: n } = e,
          i = (0, _.i2)();
        if (t) return a.createElement(ce, null);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(ce, null),
          a.createElement(W, { cart: n }),
          a.createElement(
            C.s,
            { "flow-children": "row", className: o().CartFooter },
            a.createElement(
              "div",
              null,
              a.createElement(
                H.zx,
                {
                  onClick: () => (window.location.href = c.De.STORE_BASE_URL),
                  className: o().Button,
                },
                (0, s.Xx)("#Cart_ContinueShopping"),
              ),
            ),
            a.createElement(
              Q.Qj,
              { onClick: () => i.mutate() },
              (0, s.Xx)("#Cart_RemoveAll"),
            ),
          ),
        );
      }
      function ce() {
        return c.De.IN_MOBILE_WEBVIEW
          ? a.createElement(
              Z.r,
              { className: o().BetaNotice },
              a.createElement(
                "div",
                { className: o().Icon },
                a.createElement(
                  "svg",
                  {
                    width: "31",
                    height: "34",
                    viewBox: "0 0 31 34",
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                  },
                  a.createElement("path", {
                    d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                    fill: "white",
                  }),
                  a.createElement("path", {
                    d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement("path", {
                    d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement(
                    "g",
                    { opacity: "0.8" },
                    a.createElement("path", {
                      d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                  ),
                ),
              ),
              a.createElement(
                "div",
                { className: o().Text },
                (0, s.yu)(
                  "#Cart_GenericBetaNotice",
                  a.createElement($.IS, {
                    href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/3/4038104598693698820/",
                  }),
                ),
              ),
            )
          : null;
      }
    },
  },
]);
