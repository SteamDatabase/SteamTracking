/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [9702],
  {
    19452: (e) => {
      e.exports = {
        EventTimeSection: "_27EoU0Snt5nNX20x6Pw3oU",
        EventTimeTitle: "_2sTdTYXMVbzmpZE4pBTCm3",
        EventVisibilityItem: "_3Q0gDLqbQiNMNUdIcPkk26",
        EventEditorInputPaneContainer: "_3j82MIv9kvq7XCtwNj7n0q",
        TimeWidth: "_2W8sgAlQVBIRQ1FcJK6JkO",
        EventPublishTimeCtn: "_12m3Shtk5hrE72P6Jq2BKk",
        DateWidth: "_2ao2WtX4G4yDdf4Py87Zhf",
        PacificTimeHint: "VTweaDtI9Pliy8jp6YsDH",
        TimeZone: "_2RLF9u9ZYqkczJVg9ibx9f",
        InputBorder: "_2mTwCB8Moti8eKGqffi1cq",
        TimeBlock: "_1O49ue7FtKdpbT2zjGpSos",
        TimeRowContainer: "_3ksYFTfM0JWEc5IhOzefor",
        TimeRowDropDown: "_3KrsS7BOnCu1tK2wbJUhWH",
        EndDateAmountCtn: "_2_8MRRZRmC9crmOmhirv7-",
        EndRound: "_1MAHSiuekX-Y8DBzLZTJfv",
        VisibilityItemList: "rYX24s5dEQCX9Xb7wVGpk",
        VisibilityItems: "_2SAGi1AISnnGN_NrTJHI_y",
        EventEditorVisibilityCtn: "_1jbnRVmvZRebcs3184yZFC",
        DateErrorCtn: "Bww9BDFYAZ9ksaah3sndn",
      };
    },
    76038: (e) => {
      e.exports = { CartCard: "_29hIqcTt5I5g5BMmG262NZ" };
    },
    88909: (e) => {
      e.exports = {
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    37772: (e) => {
      e.exports = {
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    71634: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    63808: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
      };
    },
    39661: (e) => {
      e.exports = {
        CartCard: "_31xpGXwIZv9vlynISB1VYj",
        LineItemWrapper: "_2KiPYlH9C9k_-RZZgGJiF5",
        LineItemCapsule: "_2_GgLF39j8N-D4NVCRoADZ",
        HeaderImg: "_1iNQ1wKn2l6XMObGfGUPnj",
        LineItemPlaceholder: "_1qKu4a5ii_ihsz9mjDp2Hg",
        AddRemoveLinks: "_3fTNy8bloFM_PmW3CPbJF9",
        RemoveLineItem: "_33j4SwfO2YH9eI6qV9BKaL",
        AddLineItem: "_3k04fs3THPIZ2U7W7Uw9C7",
        LineItemRightCol: "_2CK0flAYrzVYpiphBImAD2",
        InnerLineItemCtn: "yW_j0xWpHbU537U49A8C9",
        LineItemDetailsCtn: "jRg6Oo9hDgKCGaXi9NJvU",
        LineItemCol: "_26Nx9qAoRhIHJBkdLL0kQD",
        LineItemDetailsRow: "F6ZErKA1thjnDLX-w2o-X",
        LineItemDetailsRowTop: "_1SauQBjZGVKr-LA3wv2yfW",
        LineItemSpaceBetween: "n7b9QjPvbLmeJH5iyelso",
        LineItemTitle: "pVXX8Pzc4JbT40TP4RwRG",
        LineItemPricingOptions: "_3f1XkR1Ix71B8h3LyRklCQ",
        LineItemDropDown: "_1LZzN-x9SSX3d3g9dJJ6ol",
        PlatformIcons: "_3kyTAc6GCZVQxNNiicR1sz",
        AddLineItemCtn: "_3eduNBpUQTScLmmoc-6yQ0",
        AddLineItemIcon: "_1As003FSFMOvWiuWIdGfeX",
        PendingLineItem: "PqpM1kx75xwfRB16wAS_K",
        FlexRow: "hPrcqN8eXW6ZtBpSiC1_y",
        PriceWidget: "_2yigxVMvm3cMZXMQmSczMc",
        Warning: "_1PZ2hvQoEPUrRR-9jaAMBK",
        LineItemNoticeAppsCtn: "_1-ZbqdHOMzqNLVTDKxUveU",
        LoadingThrobber: "_3eDAtc09yyL8yNchyAE4O6",
        DropDownThin: "j19kQU57WJlnAlqbrORdZ",
        DropDownOptionsCtnThin: "_2I90NjBP1pV7ekvcxqW_rt",
        DropDownOptionItem: "_2M6LSy7kCRhX31lQTxyI3F",
        WhiteText: "rXbF7guUW120blq7IxkDw",
        ErrorLineItem: "_32I-XAq6u8HgAzTVP5LXkn",
        Left: "_2CRe2s20FHpg0xDqQNHNaY",
        Error: "_2p9UO5E_Wi1ZBv2aZMiRjn",
        Muted: "_33fUnMVnXQVcaGwxic4V5N",
        GiftForNotice: "_2oJV1DcmhsnHpzPzOzCw6h",
        Name: "rvibeD2BpbjIixwwNKeT5",
      };
    },
    91585: (e) => {
      e.exports = {
        CartCard: "_2w0ZEap3hR1c0K0_DxJDdN",
        ShoppingCartPage: "_22xtsolKcQit92o-LBeRWD",
        CartCheckboxNoMargin: "_1S9a0tZYJv0d4x3-DrxbuS",
        ShoppingCartHeader: "bCGAC51za6R_thjPd7_vw",
        ShoppingCartCtn: "_1jqUY_WcPgZnIOE-d9x7wc",
        ShoppingCartLeftCol: "_17GFdSD2pc0BquZk5cejg8",
        ShoppingCartRightCol: "_3HIve50RR17shqpJqmrUps",
        SmallCart: "_31YlKoxrUknOG_d7armP5n",
        LoadingThrobber: "eDdFpOTz0O9U7xBshZJUx",
        CartSummaryCtn: "_2bIzQo07mxubFvscA8RIA8",
        EstimatedTotalFlex: "_2DjadWLFH3keW9rGWZKxSk",
        SummaryMarginBottom: "qV80oahDZsbXiS6lIDLND",
        ResponsiveShoppingCartSummary: "dpVdC9qAMjdzrN7VWFria",
        RequestPurchaseCtn: "_2jup-7OkSAzTBG-K9r9OCX",
        CartNoteText: "_31DQWsrdb_9oV-vMOaaPqI",
        CartLabelText: "_3ayrhzEm-T_IRhWeQ4HFxr",
        CartValueText: "_2WLaY5TxjBGVyuWe_6KS3N",
        ShoppingCartBreadcrumbs: "_2FKdJT3nRLNX_ue4Zj-qdK",
        CurrentBreadcrumb: "_3TtUDn-J9j6rkwHqjT-i4Y",
        ShoppingCartModal: "_28yxHQw3ZhIBbVa9EZ27Vo",
        ShoppingCartModalBtns: "_1qRagOpQN0EH1x4-13UjR5",
        FooterNotice: "LXZhw7nTAlKyny-hrKcX9",
        NoticeIndex: "_3GJopp-lG4ZnUYB5mqk2q0",
        LineItemsCtn: "_3SgHVt1Zp2MeobFUVwwJ2q",
        StoreSalePriceBox: "_2kwAcC9-igH6tzHOMTrNq",
        StoreSaleDiscountedPriceCtn: "_1qzcvSW6mt9gAKrRjf8dIQ",
        CartFooter: "_1Sdz1qnoKoD9eEPpC340Yj",
        Button: "_1rk1xUIAHMcMMDm4jz3MOM",
        BetaNotice: "_1DTyDw3G0f4gmhjAvr_MGb",
        Text: "I4Bz94kh1lGOH1KrPzxzk",
        BackgroundImage: "FaiD8bJRAZ-HoNo0VvLOO",
        HeaderNotices: "_3SXN1YgsAs-4iju4Oo7cx5",
        HeaderNotice: "_2zWY-ti_XANR3ab5tC4YrI",
        ErrorModalContent: "_1Fli53rt96SoYErpk1TqAg",
        ErrorModalMessage: "vNpgPsE5lRrVJ55wTdc1i",
        ErrorModalBottom: "_5g0iBBKqtjiGHu5VHzz1h",
        ErrorModalCode: "_34Q7Jyhi9BetqDtEOzt-26",
      };
    },
    17243: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    88294: (e, t, n) => {
      "use strict";
      n.d(t, { CQ: () => d, FK: () => m, Xm: () => p, sU: () => c });
      var a = n(85556),
        i = n(79545),
        r = n(75545),
        o = n(42718),
        l = n(40057),
        s = n(65255);
      function c() {
        const e = (0, l.bY)();
        return (0, o.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = i.gA.Init(r.XR),
                n = yield r.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!s.L7.accountid },
        );
      }
      function d(e) {
        const { data: t } = c();
        return !!s.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function u(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function m(e) {
        const t = (0, l.bY)(),
          n = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (n) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return _(t, [e], n);
            }),
          onSuccess: (t, a) => g(n, [e], a),
          onError() {
            u(n);
          },
        });
      }
      function p() {
        const e = (0, l.bY)(),
          t = (0, o.useQueryClient)();
        return (0, o.useMutation)({
          mutationFn: (t) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const { rgAppIDs: n, bPrivate: a } = t;
              return _(e, n, a);
            }),
          onSuccess: (e, n) => {
            const { rgAppIDs: a, bPrivate: i } = n;
            g(t, a, i);
          },
          onError() {
            u(t);
          },
        });
      }
      function _(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = i.gA.Init(r._c);
          a.Body().set_appids(t.slice()), a.Body().set_private(n);
          const o = yield r.kk.ToggleAppPrivacy(e, a);
          if (!o.BSuccess()) throw o.GetErrorMessage();
        });
      }
      function g(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const a = new Set(e);
          return (
            t.forEach((e) => {
              n ? a.add(e) : a.delete(e);
            }),
            a
          );
        });
      }
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => d });
      var a = n(85556),
        i = n(47427),
        r = n(82493),
        o = n(4030),
        l = n(20417),
        s = n(37563),
        c = n(35643);
      function d(e) {
        const { children: t, navTreeRef: n } = e,
          d = (0, a._T)(e, ["children", "navTreeRef"]),
          u = i.useRef(),
          m = (0, l.BE)(u, n),
          p = (0, s.id)(),
          _ = window.__virtual_keyboard_client;
        if (p) {
          const e = window.__nav_tree_root;
          return i.createElement(
            r.Fe,
            Object.assign({}, d, {
              navTreeRef: m,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            i.createElement(
              c.o5,
              { factory: _ },
              i.createElement(o.O, null, t),
            ),
          );
        }
        return i.createElement(i.Fragment, null, t);
      }
    },
    74606: (e, t, n) => {
      "use strict";
      n.d(t, { g: () => d });
      var a = n(85556),
        i = n(47427),
        r = n(8285),
        o = (n(20417), n(22671)),
        l = n(91618),
        s = n(41003);
      const c = "FocusNavHistoryID";
      function d(e) {
        const { children: t, timeoutMS: n } = e,
          d = (0, a._T)(e, ["children", "timeoutMS"]),
          u = (function (e = 2) {
            const t = (0, r.k6)(),
              n = i.useRef(),
              a = (0, r.TH)(),
              l = (0, s.k0)(),
              d = a.state && a.state[c],
              u = i.useRef();
            return (
              i.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, a, i) => {
                      const r = t.location;
                      let s = r.state && r.state[c];
                      s ||
                        ((s = l
                          ? `State_${r.key}`
                          : `State_${e.Node().Tree.id}`),
                        (u.current = s),
                        t.replace(
                          Object.assign(Object.assign({}, t.location), {
                            state: Object.assign(Object.assign({}, r.state), {
                              [c]: s,
                            }),
                          }),
                        )),
                        u.current == s &&
                          (l
                            ? e.SaveState(s)
                            : window.history.replaceState(
                                Object.assign(
                                  Object.assign({}, window.history.state),
                                  { [s]: (0, o.Sp)(e.Node()) },
                                ),
                                null,
                              ));
                    },
                  ).Unregister;
              }, [t, l]),
              i.useLayoutEffect(() => {
                var t;
                if (n.current && u.current != d) {
                  const a = n.current.NavTree().DeferredFocus;
                  a.SuppressFocus();
                  const i = l
                      ? null
                      : null === (t = window.history.state) || void 0 === t
                        ? void 0
                        : t[d],
                    r = window.setTimeout(() => {
                      let e = !1;
                      l
                        ? (e = n.current.RestoreState(d, 1))
                        : i && ((0, o.$y)(n.current.Node(), i, 0), (e = !0)),
                        e ? a.Reset() : a.ExecuteQueuedFocus(),
                        (u.current = d);
                    }, e);
                  return () => {
                    window.clearTimeout(r), a.ExecuteQueuedFocus();
                  };
                }
              }, [d, t, l, e]),
              n
            );
          })(n);
        return i.createElement(
          l.s,
          Object.assign(Object.assign({}, d), { navRef: u }),
          t,
        );
      }
    },
    79489: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => c });
      var a = n(85556),
        i = n(47427),
        r = n(58112),
        o = n(31421),
        l = n(25006),
        s = n(95082);
      function c(e) {
        const {
            item: t,
            feature: n,
            depth: c,
            children: d,
            noImpressionTracking: u,
          } = e,
          m = (0, a._T)(e, [
            "item",
            "feature",
            "depth",
            "children",
            "noImpressionTracking",
          ]),
          p = i.useRef(0),
          _ = 0 == t.GetStoreItemType() ? t.GetAppID() : null,
          g = (0, l.bJ)(),
          f = i.useMemo(
            () =>
              o.ZP.GetLinkParam(
                Object.assign(Object.assign({}, g), {
                  feature: n || g.feature,
                }),
                c,
              ),
            [g, n, c],
          ),
          v = i.useMemo(
            () => o.ZP.AddNavParamToURL(t.GetStorePageURL(), f),
            [t, f],
          ),
          h = (0, s.BR)(),
          E = i.useCallback(() => {
            _ && p.current != _ && (h.AddImpression(_, f), (p.current = _));
          }, [h, _, f, p]),
          C = i.createElement("a", Object.assign({}, m, { href: v }), d);
        return _ && !u ? i.createElement(r.h, { onEnter: E }, C) : C;
      }
    },
    45137: (e, t, n) => {
      "use strict";
      n.d(t, {
        AL: () => V,
        G1: () => P,
        IW: () => A,
        WR: () => G,
        bn: () => Z,
        bz: () => k,
        dW: () => B,
        fn: () => w,
        g1: () => m.g1,
        i2: () => x,
        n$: () => H,
        nt: () => W,
        tI: () => R,
        tM: () => U,
        td: () => X,
        wN: () => Y,
        z5: () => M,
      });
      var a = n(85556),
        i = n(77936),
        r = n(79545),
        o = n(82973),
        l = n(83065),
        s = n(61231),
        c = n(85516),
        d = n(80002),
        u = n(34809),
        m = n(92790),
        p = n(44731),
        _ = n(43981),
        g = n(58955),
        f = n(47427),
        v = n(42718),
        h = n(40057),
        E = n(92686),
        C = n(22520),
        I = n(77151),
        y = n(89373),
        S = n(15690),
        b = n(80886),
        N = n(2324),
        L = n(31846),
        D = n(65255),
        T = n(82756);
      function G() {
        return (0, T.ip)("cart_config", "application_config");
      }
      function w(e) {
        const t = (0, h.bY)(),
          n = (0, v.useQueryClient)(),
          i = (0, _.tv)();
        return (0, v.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t, n) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  if ((0, u.jp)(t)) {
                    const t = r.gA.Init(o.CQ);
                    t.Body().set_line_item_id(n),
                      t.Body().set_user_country(D.L7.country_code);
                    const a = yield o.Wr.RemoveItemFromCart(e, t);
                    return I.jg.Get().InvalidateCache(), a.Body().toObject();
                  }
                  {
                    const a = r.gA.Init(c.Rg);
                    a.Body().set_gidlineitems([n]),
                      a.Body().set_gidshoppingcart(t.gid);
                    const i = yield c.FP.RemoveLineItems(e, a);
                    return I.jg.Get().InvalidateCache(), i.Body().toObject();
                  }
                });
              })(t, i, e);
            }),
          {
            onSuccess() {
              (0, p.Yp)(n, i);
            },
          },
        );
      }
      function x() {
        const e = (0, h.bY)(),
          t = (0, v.useQueryClient)(),
          n = (0, _.tv)();
        return (0, v.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  if ((0, u.jp)(t)) {
                    const t = r.gA.Init(o.AQ);
                    return (yield o.Wr.DeleteCart(e, t)).BSuccess();
                  }
                  {
                    const n = yield (0, m.Rn)(e, t);
                    if (n && n.line_items && n.line_items.length) {
                      const a = r.gA.Init(c.Rg);
                      return (
                        a
                          .Body()
                          .set_gidlineitems(
                            n.line_items.map(({ line_item_id: e }) => e),
                          ),
                        a.Body().set_gidshoppingcart(t.gid),
                        (yield c.FP.RemoveLineItems(e, a)).BSuccess()
                      );
                    }
                    return !1;
                  }
                });
              })(e, n);
            }),
          {
            onSuccess() {
              (0, p.Yp)(t, n);
            },
          },
        );
      }
      function A() {
        const e = (0, _.tv)();
        return !(0, u._H)(e) && !(0, u.s$)(e);
      }
      function k() {
        const e = (0, _.tv)();
        return (0, u.s$)(e);
      }
      function R(e, t, n) {
        const i = (0, _.tv)(),
          r = (0, h.bY)(),
          o = (0, v.useQueryClient)();
        return (0, v.useMutation)({
          mutationFn: () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              if ((0, u.jp)(i)) return (0, m.tZ)(r, e, t, n);
              if ((0, u.wV)(i)) return (0, m.UZ)(r, e ? [e] : void 0, t, n);
              throw "Invalid cart type";
            }),
          onSuccess: ([e, t]) => {
            1 == e && (0, p.IS)(o, i, t.cart);
          },
        });
      }
      function P(e) {
        const t = (0, _.tv)(),
          n = (0, h.bY)(),
          i = (0, v.useQueryClient)(),
          l = (0, p.te)(t);
        return (0, v.useMutation)({
          mutationFn: (e) =>
            (function (e, t, n, i, l) {
              return (0, a.mG)(this, void 0, void 0, function* () {
                const a = r.gA.Init(o.xr);
                a.Body().set_line_item_id(t),
                  a.Body().set_user_country(D.L7.country_code),
                  i && a.Body().set_gift_info(s.nI.fromObject(i)),
                  n && a.Body().set_flags(o.A1.fromObject(n)),
                  l && a.Body().set_apply_gidcoupon(l);
                const c = yield o.Wr.ModifyLineItem(e, a);
                return (
                  c.BSuccess() ||
                    console.warn(
                      `Failed to update gift info: ${c.GetEResult()}`,
                    ),
                  [c.GetEResult(), c.Body().toObject()]
                );
              });
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: (e) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              yield i.cancelQueries({ queryKey: l });
              const t = i.getQueryData(l);
              return (
                i.setQueryData(l, (t) =>
                  Object.assign(Object.assign({}, t), {
                    line_items: t.line_items.map((t) =>
                      t.line_item_id !== e.lineItemID
                        ? t
                        : Object.assign(Object.assign({}, t), {
                            flags: e.lineItemFlags || t.flags,
                            gift_info: e.giftInfo || t.gift_info,
                          }),
                    ),
                  }),
                ),
                { previousCart: t }
              );
            }),
          onSuccess: ([n, a], r, { previousCart: o }) => {
            1 == n ? ((0, p.IS)(i, t, a.cart), e && e()) : i.setQueryData(l, o);
          },
          onError: (e, t, { previousCart: n }) => {
            i.setQueryData(l, n);
          },
        });
      }
      function O() {
        const e = new d.WJ();
        return (
          e.set_country_code(D.L7.country_code),
          e.set_language(D.De.LANGUAGE),
          e.set_steam_realm(D.De.EREALM),
          e
        );
      }
      function F() {
        const e = (0, h.bY)(),
          t = (0, _.tv)(),
          [n] = (0, g.pf)();
        return (0, v.useQuery)(
          (0, p.N)(t),
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return (function (e, t, n) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  const a = r.gA.Init(l.vE);
                  (0, u.wV)(t) || (0, u._H)(t)
                    ? (a.Body().set_gidshoppingcart(t.gid),
                      n && a.Body().set_gift_info(s.nI.fromObject(n)))
                    : (0, u.s$)(t) && a.Body().set_gidreplayoftransid(t.gid),
                    a.Body().set_context(O()),
                    a.Body().data_request().set_include_basic_info(!0),
                    a.Body().data_request().set_include_release(!0);
                  const i = yield l.ZY.ValidateCart(e, a);
                  return (
                    i.BSuccess() ||
                      console.warn(
                        `Failed to validate shopping cart: ${i.GetEResult()}`,
                      ),
                    i.Body().toObject()
                  );
                });
              })(e, t, n);
            }),
          { staleTime: 1 / 0, enabled: D.L7.logged_in || !(0, u.jp)(t) },
        );
      }
      function B() {
        const e = F();
        return f.useMemo(() => {
          var t, n;
          let a = new Map(),
            i = new Map(),
            r = new Map(),
            o = 1;
          return (
            null ===
              (n =
                null === (t = e.data) || void 0 === t
                  ? void 0
                  : t.cart_items) ||
              void 0 === n ||
              n.forEach((e) => {
                var t, n, l, s, c, d, u, m;
                const p = (function (e) {
                  var t, n, a, i, r, o, l, s, c, d, u, m, p, _, g, f, v, h;
                  let E = [];
                  if (
                    ((null ===
                      (n =
                        null === (t = e.errors) || void 0 === t
                          ? void 0
                          : t.duplicate_appids_in_cart) || void 0 === n
                      ? void 0
                      : n.length) &&
                      E.push({
                        purchase_state: 1,
                        notice_text: (0, L.Xx)(
                          "#Cart_Error_DuplicateApps_LineItem",
                        ),
                        appids: e.errors.duplicate_appids_in_cart,
                      }),
                    null ===
                      (i =
                        null === (a = e.errors) || void 0 === a
                          ? void 0
                          : a.owned_appids) || void 0 === i
                      ? void 0
                      : i.length)
                  ) {
                    const t =
                      (null !==
                        (o =
                          null === (r = e.store_item) || void 0 === r
                            ? void 0
                            : r.included_appids.length) && void 0 !== o
                        ? o
                        : 0) > 1;
                    let n = (0, L.Xx)("#Cart_Error_AlreadyOwned_LineItem_Game");
                    t && (n = (0, L.Xx)("#Cart_Error_AlreadyOwned_LineItem")),
                      E.push({
                        purchase_state: 2,
                        notice_text: n,
                        appids: t ? e.errors.owned_appids : null,
                      });
                  }
                  return (
                    (null === (l = e.errors) || void 0 === l
                      ? void 0
                      : l.unavailable_in_country) &&
                      E.push({
                        purchase_state: 8,
                        notice_text: (0, L.Xx)(
                          "#Cart_Error_UnavailableCountry_LineItem",
                        ),
                      }),
                    (null === (s = e.errors) || void 0 === s
                      ? void 0
                      : s.coupon_exclusive_promo) &&
                      E.push({
                        purchase_state: 13,
                        notice_text: (0, L.Xx)(
                          "#Cart_Error_CouponIsExclusivePromo",
                        ),
                      }),
                    (null === (c = e.errors) || void 0 === c
                      ? void 0
                      : c.invalid_coupon) &&
                      E.push({
                        purchase_state: 11,
                        notice_text: (0, L.Xx)("#Cart_Error_CouponIsInvalid"),
                      }),
                    (null === (d = e.errors) || void 0 === d
                      ? void 0
                      : d.invalid_coupon_for_item) &&
                      E.push({
                        purchase_state: 12,
                        notice_text: (0, L.Xx)(
                          "#Cart_Error_CouponIsInvalidForItem",
                        ),
                      }),
                    (null ===
                      (m =
                        null === (u = e.warnings) || void 0 === u
                          ? void 0
                          : u.appids_in_mastersub) || void 0 === m
                      ? void 0
                      : m.length) &&
                      E.push({
                        purchase_state: 4,
                        notice_text: (0, L.Xx)(
                          "#Cart_Error_MasterSubscription_LineItem",
                        ),
                        appids: e.warnings.appids_in_mastersub.map(
                          (e) => e.cart_appid,
                        ),
                      }),
                    (null ===
                      (_ =
                        null === (p = e.warnings) || void 0 === p
                          ? void 0
                          : p.owned_appids) || void 0 === _
                      ? void 0
                      : _.length) &&
                      E.push({
                        purchase_state: 3,
                        notice_text: (0, L.Xx)(
                          "#Cart_Warning_AlreadyOwned_LineItem",
                        ),
                        appids: e.warnings.owned_appids,
                      }),
                    (null ===
                      (f =
                        null === (g = e.warnings) || void 0 === g
                          ? void 0
                          : g.owned_appids_extra_copy) || void 0 === f
                      ? void 0
                      : f.length) &&
                      E.push({
                        purchase_state: 9,
                        notice_text: (0, L.Xx)(
                          "#Cart_Warning_ExtraCopies_LineItem",
                        ),
                        appids: e.warnings.owned_appids_extra_copy,
                      }),
                    (null === (v = e.warnings) || void 0 === v
                      ? void 0
                      : v.price_has_changed) &&
                      E.push({
                        purchase_state: 10,
                        notice_text: (0, L.Xx)(
                          "#Cart_Warning_PriceChange_LineItem",
                        ),
                      }),
                    (null === (h = e.warnings) || void 0 === h
                      ? void 0
                      : h.non_refundable) &&
                      E.push({
                        purchase_state: 5,
                        notice_text: (0, L.Xx)(
                          "#Cart_Warning_NoRefund_LineItem",
                        ),
                      }),
                    E
                  );
                })(e);
                r.set(e.line_item_id, p),
                  (null ===
                    (n =
                      null === (t = e.errors) || void 0 === t
                        ? void 0
                        : t.duplicate_appids_in_cart) || void 0 === n
                    ? void 0
                    : n.length) &&
                    (i.has(1) ||
                      i.set(1, {
                        index: o++,
                        footnote_text: (0, L.Xx)(
                          "#Cart_Error_DuplicateApps_FootNote",
                        ),
                      })),
                  (null ===
                    (s =
                      null === (l = e.errors) || void 0 === l
                        ? void 0
                        : l.owned_appids) || void 0 === s
                    ? void 0
                    : s.length) &&
                    (i.has(2) ||
                      i.set(2, {
                        index: o++,
                        footnote_text: (0, L.Xx)(
                          "#Cart_Error_AlreadyOwned_FootNote",
                        ),
                      })),
                  (null === (c = e.errors) || void 0 === c
                    ? void 0
                    : c.unavailable_in_country) &&
                    (i.has(8) ||
                      i.set(8, {
                        index: o++,
                        footnote_text: (0, L.Xx)(
                          "#Cart_Error_UnavailableCountry_FootNote",
                        ),
                      })),
                  (null ===
                    (u =
                      null === (d = e.warnings) || void 0 === d
                        ? void 0
                        : d.appids_in_mastersub) || void 0 === u
                    ? void 0
                    : u.length) &&
                    (i.has(4) ||
                      i.set(4, {
                        index: o++,
                        footnote_text: (0, L.Xx)(
                          "#Cart_Error_MasterSubscription_FootNote",
                        ),
                      })),
                  (null === (m = e.warnings) || void 0 === m
                    ? void 0
                    : m.price_has_changed) &&
                    a.set(10, (0, L.Xx)("#Cart_Warning_PriceChange_FootNote"));
              }),
            {
              mapLineItemToNotices: r,
              mapValidateNoticesToError: a,
              mapValidateNoticesToFootnote: i,
            }
          );
        }, [e]);
      }
      function M(e) {
        const { mapLineItemToNotices: t, mapValidateNoticesToFootnote: n } =
          B();
        return [t.get(e) || [], n];
      }
      function j(e, t) {
        let n = "#Package";
        const a = e.GetSelfPurchaseOption(),
          i = null == a ? void 0 : a.recurrence_info;
        if (!i) return "";
        2 === i.billing_agreement_type && (n = "#GameBillingPackage");
        const r = e.GetSelfPurchaseOption();
        r.formatted_final_price && r.discount_pct && (n += "WithDiscount");
        const o =
          n +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[i.renewal_time_unit];
        return (0, L.Xx)(
          o,
          r.formatted_final_price,
          a.formatted_final_price,
          i.renewal_time_period,
          r.discount_pct,
        );
      }
      function X() {
        var e, t;
        const n = (0, m.g1)(),
          i = F(),
          o = (function (e) {
            const t = (0, h.bY)(),
              n = e.map(({ packageid: e }) => e).filter(Boolean),
              i = 3 === (0, b.dY)(n, { include_all_purchase_options: !0 }),
              o = S.Z.Get(),
              l = i
                ? n.filter((e) => {
                    var t;
                    return null ===
                      (t = o.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                      ? void 0
                      : t.requires_shipping;
                  })
                : null;
            return (0, v.useQuery)(
              ["cart", "validateHardware", n.join("|")],
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const e = r.gA.Init(d.lj);
                  e.Body().set_context(O()), e.Body().set_packageid(l);
                  const n = yield d.VJ.GetHardwareItems(t, e);
                  return (
                    n.BSuccess() ||
                      console.warn(
                        `Failed to load hardware: ${n.GetEResult()}`,
                      ),
                    n
                      .Body()
                      .toObject()
                      .details.reduce((e, t) => {
                        var n;
                        return (
                          (e[t.packageid] = [
                            {
                              strNotice:
                                ((n = t),
                                (0, L.Xx)(
                                  "#Cart_ShippingEstimate_DeliveryDate",
                                  (0, N.B)(n),
                                )),
                            },
                          ]),
                          e
                        );
                      }, {})
                  );
                }),
              { enabled: !!l && l.length > 0, placeholderData: {} },
            );
          })(
            (null === (e = n.data) || void 0 === e ? void 0 : e.line_items) ||
              [],
          ),
          l = (function (e) {
            const t = e.map(({ packageid: e }) => e).filter(Boolean),
              n = 3 === (0, b.dY)(t, { include_all_purchase_options: !0 }),
              a = S.Z.Get(),
              i = n
                ? t.filter((e) => {
                    var t;
                    return (
                      (null === (t = a.GetPackage(e).GetSelfPurchaseOption()) ||
                      void 0 === t
                        ? void 0
                        : t.recurrence_info) &&
                      a.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                        .packageid !== C.kI
                    );
                  })
                : [],
              r = i.map(
                (e) =>
                  a.GetPackage(e).GetSelfPurchaseOption().recurrence_info
                    .packageid,
              ),
              o = (0, b.dY)(r, { include_all_purchase_options: !0 });
            return n && 3 === o && 0 !== i.length
              ? i.reduce((e, t) => {
                  const n = a.GetPackage(t);
                  return (
                    (e[t] = [
                      {
                        strNotice: j(
                          n,
                          a.GetPackage(
                            n.GetSelfPurchaseOption().recurrence_info.packageid,
                          ),
                        ),
                      },
                    ]),
                    e
                  );
                }, {})
              : {};
          })(
            (null === (t = n.data) || void 0 === t ? void 0 : t.line_items) ||
              [],
          ),
          s = f.useMemo(
            () =>
              o.isSuccess
                ? (function (...e) {
                    const t = {};
                    return (
                      e.forEach((e) => {
                        Object.keys(e).forEach((n) => {
                          const a = parseInt(n);
                          t[a] || (t[a] = []), t[a].push(...e[a]);
                        });
                      }),
                      t
                    );
                  })(o.data, l)
                : l,
            [o, l],
          ),
          c = !i.isSuccess || i.data.cart_items.some((e) => !!e.errors);
        return {
          validateCart: i,
          lineItemValidation: s,
          bValidForCheckout: !c,
        };
      }
      function Z() {
        const e = (0, h.bY)();
        return (0, v.useQuery)(
          ["shopping_cart", "relevant_coupons"],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = yield (function (e) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  const t = r.gA.Init(o.r$);
                  t.Body().set_language((0, i.jM)(D.De.LANGUAGE));
                  const n = yield o.Wr.GetRelevantCoupons(e, t);
                  return n.BIsValid()
                    ? n.Body().toObject()
                    : (console.error("Failed to load relevant coupons"), {});
                });
              })(e);
              return t.line_items.reduce(
                (e, t) => ((e[t.line_item_id] = t.coupons), e),
                {},
              );
            }),
          { enabled: D.L7.logged_in, placeholderData: () => ({}) },
        );
      }
      function V() {
        return (0, v.useQuery)(
          ["shopping_cart", "sale_drop_progress"],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const e = yield fetch(
                  `${D.De.STORE_BASE_URL}cart/ajaxsaledropprogress`,
                ),
                t = yield e.json();
              return (
                1 !== t.eresult &&
                  console.error("Failed to load sale drop progress"),
                t
              );
            }),
          { enabled: D.L7.logged_in && y.C.Get().BIsSaleActive() },
        );
      }
      function U() {
        const e = (0, _.tv)(),
          [t] = (0, g.pf)(),
          n = `${D.De.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, u.jp)(e)) return `${n}?accountcart=1`;
        if ((0, u.s$)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const a = new URLSearchParams();
          return (
            a.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (a.append("purchasetype", "gift"),
              a.append("bIsGift", "1"),
              a.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${a.toString()}`
          );
        }
      }
      function W() {
        const e = (0, _.tv)();
        return (0, u._H)(e) ? e.requestID : null;
      }
      function Y() {
        var e;
        const t = (0, _.tv)(),
          n = (0, E.Rs)(),
          a = (0, m.g1)(),
          i = n.isSuccess && 2 == n.data.role(),
          r =
            (null === (e = a.data) || void 0 === e ? void 0 : e.line_items) ||
            [],
          o = r.map(({ packageid: e }) => e).filter(Boolean),
          l = 3 === (0, b.dY)(o, { include_all_purchase_options: !0 }),
          s = S.Z.Get(),
          c = l
            ? o.filter((e) => {
                var t;
                return !(null ===
                  (t = s.GetPackage(e).GetSelfPurchaseOption()) || void 0 === t
                  ? void 0
                  : t.user_can_purchase_as_gift);
              })
            : null;
        return (
          !!(
            i &&
            (function (e) {
              return (0, u.jp)(e) || (0, u.wV)(e);
            })(t) &&
            r &&
            l
          ) && 0 === c.length
        );
      }
      function H() {
        const e = (0, _.tv)(),
          t = (0, E.Rs)();
        return t.isSuccess && 1 == t.data.role() && (0, u._H)(e);
      }
    },
    68824: (e, t, n) => {
      "use strict";
      n.d(t, { r: () => o });
      var a = n(47427),
        i = n(13129),
        r = n(76038);
      function o(e) {
        return a.createElement(
          "div",
          { className: (0, i.Z)(r.CartCard, e.className) },
          e.children,
        );
      }
    },
    21941: (e, t, n) => {
      "use strict";
      n.d(t, {
        SL: () => oe,
        sb: () => he,
        fs: () => ge,
        xY: () => ve,
        Wc: () => le,
        Qj: () => Ee,
      });
      var a = n(45137),
        i = n(47427),
        r = n(1485),
        o = n(10162),
        l = n(85556),
        s = n(27605),
        c = n(43344),
        d = n.n(c);
      var u = n(64936),
        m = n(71741),
        p = n.n(m),
        _ = n(13129),
        g = n(31846),
        f = n(20417),
        v = n(59728),
        h = n(19452),
        E = n.n(h),
        C = n(98973),
        I = n.n(C);
      let y = class extends i.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
              strError: null,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: a,
            disabled: i,
          } = this.props;
          if (i) return;
          if ("string" == typeof e) {
            let t = I()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let r = this.props.fnGetTimeToUpdate(),
            o = 0;
          if (r) {
            const t = I().unix(r);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (o = e.unix());
          } else {
            o =
              I().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(o);
          let l = a && !0 === a();
          (null == this.state.timeAsString &&
            l == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: l });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = I()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            a = I().unix(n || u.JW.GetTimeNowWithOverride());
          e.hour(a.hour()),
            e.minute(a.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let i =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            i == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: i });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: a,
            } = this.props,
            i = I().unix(t).hour(0).seconds(0).minute(0);
          let r = e.unix() >= i.unix();
          if (r && n && n >= t) {
            const t = I().unix(n).hour(23).minute(59).seconds(59);
            r = e.unix() <= t.unix();
          }
          return (
            r && a && ((0 != e.weekday() && 6 != e.weekday()) || (r = !1)), r
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(u.JW.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(u.JW.GetTimeNowWithOverride());
        }
        componentDidMount() {
          this.UpdateError();
        }
        componentDidUpdate() {
          this.UpdateError();
        }
        UpdateError() {
          const { fnIsValidDateTime: e } = this.props,
            t = e && e();
          let n = null;
          (this.state.timeAsString ||
            this.state.dateAsString ||
            "string" == typeof t ||
            !1 === t) &&
            ((n = (0, g.Xx)("#DateTimePicker_Fallback_Invalid_DateTime")),
            this.state.timeAsString
              ? (n = (0, g.Xx)("#DateTimePicker_Time_CannotParse"))
              : this.state.dateAsString
                ? (n = (0, g.Xx)("#DateTimePicker_Date_CannotParse"))
                : "string" == typeof t && (n = t)),
            this.state.strError !== n &&
              (this.setState({ strError: n }),
              this.props.onError && this.props.onError(n));
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            onError: a,
            strAlsoShowTimeZone: r,
            disabled: o,
            bNoDefaultDate: l,
          } = this.props;
          let s = n(),
            c = s > 0 ? new Date(1e3 * s) : null,
            m = "h:mm A";
          const f = !a && this.state.strError;
          let h, C;
          if (e && t && e == t && t > u.JW.GetTimeNowWithOverride()) {
            let e = I().unix(t);
            (h = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (m = "HH:mm");
          }
          s || !t || l || (C = I().unix(t));
          const y = I().tz.guess(),
            S = I().unix(s).tz(y),
            b = !!r && y != r && I().unix(s).tz(r);
          return i.createElement(
            "div",
            { className: (0, _.Z)(E().EventTimeSection, this.props.className) },
            i.createElement(
              "div",
              { className: (0, _.Z)(E().EventTimeTitle, "DialogLabel") },
              i.createElement(
                v.HP,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  i.createElement("span", null, this.props.strDescription),
              ),
              f &&
                i.createElement(
                  "span",
                  { className: E().DateErrorCtn },
                  i.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==",
                  }),
                  f,
                ),
            ),
            i.createElement(
              "div",
              { className: p().FlexRowContainer },
              i.createElement(
                "div",
                { className: (0, _.Z)(p().InputBorder, E().TimeBlock) },
                i.createElement(d(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : c,
                  isValidDate: this.IsValidDate,
                  initialValue: C,
                  inputProps: {
                    placeholder: (0, g.Xx)("#DateTimePicker_Enter_Date"),
                    className: (0, _.Z)(
                      E().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!b &&
                  i.createElement(
                    "div",
                    { className: E().PacificTimeHint },
                    b.format("L"),
                  ),
              ),
              i.createElement(
                "div",
                { className: (0, _.Z)(p().InputBorder, E().TimeBlock) },
                i.createElement(d(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: m,
                  timeConstraints: h,
                  value: this.state.timeAsString ? this.state.timeAsString : c,
                  inputProps: {
                    placeholder: (0, g.Xx)("#DateTimePicker_Enter_Time"),
                    className: (0, _.Z)(
                      E().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: o,
                  },
                }),
                !!b &&
                  i.createElement(
                    "div",
                    { className: E().PacificTimeHint },
                    b.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    { className: E().TimeZone },
                    S.zoneAbbr(),
                  ),
                  !!b &&
                    i.createElement(
                      "div",
                      { className: E().TimeZone },
                      b.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(h) &&
              i.createElement(
                "div",
                null,
                (0, g.Xx)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, l.gn)([f.ak], y.prototype, "OnTimeChange", null),
        (0, l.gn)([f.ak], y.prototype, "OnDateChange", null),
        (0, l.gn)([f.ak], y.prototype, "IsValidDate", null),
        (0, l.gn)([f.ak], y.prototype, "SetToNow", null),
        (y = (0, l.gn)([s.Pi], y));
      var S = n(46984),
        b = n(37563),
        N = n(63808),
        L = n.n(N);
      const D = i.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [a, l] = i.useState(null),
          s = t > 0;
        return i.createElement(
          ge,
          null,
          i.createElement(he, null, (0, g.Xx)("#Cart_GiftDelivery_Label")),
          i.createElement(
            ve,
            null,
            i.createElement(r.BQ, {
              controlled: !0,
              checked: !s,
              onChange: (e) => e && void n(0),
              label: (0, g.Xx)("#Cart_GiftDelivery_Now"),
            }),
          ),
          i.createElement(
            ve,
            null,
            i.createElement(r.BQ, {
              controlled: !0,
              checked: s,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, g.Xx)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            i.createElement("div", { style: { clear: "both" } }),
            a && i.createElement("div", { className: L().ScheduleError }, a),
            s &&
              i.createElement(
                o.SV,
                null,
                i.createElement(T, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: l,
                }),
              ),
          ),
        );
      });
      function T(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: a,
        } = e;
        if ((0, b.id)())
          return i.createElement(w, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: a,
          });
        {
          const e = () => G(t);
          return i.createElement(y, {
            bShowTimeZone: !0,
            className: L().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: a,
          });
        }
      }
      function G(e) {
        const t = Date.now() / 1e3 + S._H.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, g.Xx)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, g.Xx)("#Cart_GiftScheduleError_InvalidDate");
      }
      function w(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: a,
          } = e,
          l = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          s = new Date(1e3 * t),
          [c, d] = (0, i.useState)(s.getMonth()),
          [u, m] = (0, i.useState)(s.getDate()),
          [p, _] = (0, i.useState)(s.getFullYear()),
          [f, v] = (0, i.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                a = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${a < 10 ? "0" : ""}${a}`
              );
            })(s, l),
          ),
          [h, E] = (0, i.useState)(s.getHours() >= 12 ? "PM" : "AM");
        i.useEffect(() => {
          let e = f.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const i = parseInt(e[2]);
          l &&
            ("PM" == h && t < 12 ? (t += 12) : "AM" == h && 12 == t && (t = 0));
          const r = new Date(p, c, u, t, i, 0, 0).getTime() / 1e3,
            o = G(r);
          !0 === o ? (a(null), n(r)) : a(o);
        }, [p, c, u, f, h, l, n, a]);
        const C = "US" == b.De.COUNTRY && "english" == b.De.LANGUAGE;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            r.FT,
            { className: L().GamepadTimePickerRow },
            C && i.createElement(A, { month: c, setMonth: d }),
            i.createElement(k, { year: p, month: c, day: u, setDay: m }),
            !C && i.createElement(A, { month: c, setMonth: d }),
            i.createElement(x, { year: p, setYear: _ }),
          ),
          i.createElement(
            r.FT,
            { className: L().GamepadTimePickerRow },
            i.createElement(r.II, {
              value: f,
              onChange: (e) => v(e.currentTarget.value),
            }),
            l && i.createElement(R, { strAMPM: h, setAMPM: E }),
            i.createElement(
              r.sg,
              { className: L().TimezoneDisplay },
              i.createElement(o.SV, null, i.createElement(P, null)),
            ),
            !l && i.createElement(r.sg, null, ""),
          ),
        );
      }
      function x(e) {
        const { year: t, setYear: n } = e,
          a = i.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return i.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function A(e) {
        const { month: t, setMonth: n } = e,
          a = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return i.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function k(e) {
        const { year: t, month: n, day: a, setDay: o } = e,
          l = i.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              a = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
                day: "numeric",
              });
            let i = [];
            for (let t = 1; t <= e; t++)
              i.push({ label: a.format(new Date(null, null, t)), data: t });
            return i;
          }, [n, t]);
        return i.createElement(r.ry, {
          selectedOption: a,
          onChange: (e) => o(e.data),
          rgOptions: l,
        });
      }
      function R(e) {
        const { strAMPM: t, setAMPM: n } = e,
          a = i.useMemo(() => {
            var e, t;
            const n = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  (null ===
                    (e = n
                      .formatToParts(new Date(null, null, null, 5))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === e
                    ? void 0
                    : e.value) || "AM",
                data: "AM",
              },
              {
                label:
                  (null ===
                    (t = n
                      .formatToParts(new Date(null, null, null, 17))
                      .find((e) => "dayPeriod" == e.type)) || void 0 === t
                    ? void 0
                    : t.value) || "PM",
                data: "PM",
              },
            ];
          }, []);
        return i.createElement(r.ry, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: a,
        });
      }
      function P() {
        const e = new Intl.DateTimeFormat(g.Yt.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return i.createElement(i.Fragment, null, e ? e.value : "");
      }
      var O = n(91618),
        F = n(38605),
        B = n(51915),
        M = n(65255),
        j = n(79545),
        X = n(83065),
        Z = n(80002),
        V = n(42718),
        U = n(40057),
        W = n(88619),
        Y = n(86437);
      function H(e) {
        var t, n;
        const a = (function (e) {
            const t = (0, U.bY)(),
              n = (0, Y.Bo)(e.GetID(), e.GetStoreItemType());
            return (0, V.useQuery)(["FriendOwnershipForGifting", n], () =>
              (0, l.mG)(this, void 0, void 0, function* () {
                const e = j.gA.Init(X.Yq);
                e.Body().set_item_ids([Z.oY.fromObject(n)]);
                const a = yield X.ZY.GetFriendOwnershipForGifting(t, e);
                if (!a.BSuccess()) throw a.GetEResult();
                return a.Body().toObject();
              }),
            );
          })(e),
          r = (0, W.hg)({ loadFavorites: !0, loadNicknames: !0 }),
          o =
            null ===
              (n =
                null === (t = null == a ? void 0 : a.data) || void 0 === t
                  ? void 0
                  : t.ownership_info[0]) || void 0 === n
              ? void 0
              : n.friend_ownership,
          s = i.useMemo(
            () => new Map(o && o.map((e) => [e.accountid, e])),
            [o],
          );
        if (a.isLoading || r.isLoading) return { isLoading: !0 };
        if (a.isError || r.isError) return { isError: !0 };
        const c = r.data.map((e, t) => {
          const n = s.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return Object.assign(Object.assign({}, e), { ownership: n });
        });
        return (
          c.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: c }
        );
      }
      var Q = n(47144),
        z = n(70548),
        q = n(35427),
        J = n(27438),
        K = n(46882);
      function $(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: a,
          fnOnDismiss: r,
        } = e;
        return i.createElement(
          J.On,
          { className: L().GiftRecipientPickerModal, active: a, onDismiss: r },
          i.createElement(ee, { onDismiss: r, lineItem: n, storeItem: t }),
        );
      }
      const ee = i.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: a,
        } = H(e.storeItem);
        return i.createElement(
          te,
          Object.assign({}, e, {
            rgFriendsForGifting: t,
            isLoading: n,
            isError: a,
          }),
        );
      });
      function te(e) {
        var t;
        const {
            lineItem: n,
            onDismiss: r,
            rgFriendsForGifting: o,
            isLoading: l,
            isError: s,
          } = e,
          c = (0, a.G1)(),
          [d, u] = i.useState(""),
          m = i.useMemo(() => {
            if (!o) return [];
            const e = d.toLocaleLowerCase();
            return o.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [d, o]),
          p =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee,
          _ = (e) => {
            if (e) {
              const t = new q.K(e);
              t.BIsValid() &&
                c.mutate({
                  lineItemID: n.line_item_id,
                  lineItemFlags: n.flags,
                  giftInfo: { accountid_giftee: t && t.GetAccountID() },
                });
            }
            r();
          };
        return s
          ? i.createElement(
              ne,
              null,
              i.createElement(
                "div",
                { className: L().LoadingError },
                (0, g.Xx)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : i.createElement(
              ne,
              { loading: l },
              i.createElement(ae, { value: d, onChange: u }),
              i.createElement(
                ie,
                null,
                m.map((e) =>
                  i.createElement(re, {
                    key: e.accountid,
                    selected: e.accountid === p,
                    onSelect: _,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function ne(e) {
        const { loading: t, children: n } = e;
        return i.createElement(
          O.s,
          { className: L().GiftRecipientPickerFormCtn },
          i.createElement(
            "div",
            { className: L().FormTitle },
            (0, g.Xx)("#Cart_GiftRecipientModal_Title"),
          ),
          t && i.createElement(K.V, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function ae(e) {
        const { value: t, onChange: n } = e;
        return i.createElement(r.II, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: L().GiftFriendsInput,
          placeholder: (0, g.Xx)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function ie(e) {
        return i.createElement(
          Q.P8,
          Object.assign({ className: L().GiftFriendsListCtn }, e),
        );
      }
      function re(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: a,
            persona: r,
            ownsGame: o,
            wishlistsGame: l,
          } = e,
          s = o,
          c = i.useCallback(() => {
            s || n(r.m_steamid.ConvertTo64BitString());
          }, [s, n, r]);
        let d = null;
        return (
          o
            ? (d = i.createElement(
                "div",
                { className: (0, _.Z)(L().FriendsGiftLabel, L().OwnsGame) },
                (0, g.Xx)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : l &&
              (d = i.createElement(
                "div",
                { className: (0, _.Z)(L().FriendsGiftLabel, L().OnWishlist) },
                (0, g.Xx)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          i.createElement(
            O.s,
            {
              className: (0, _.Z)(
                L().GiftPickerFriendBlock,
                t && L().Selected,
                s && L().Disabled,
              ),
              focusClassName: L().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            i.createElement(F.vV, {
              className: L().FriendAvatar,
              statusPosition: "right",
              persona: r,
            }),
            i.createElement(z.r, {
              bParenthesizeNicknames: !0,
              strNickname: a,
              persona: r,
              className: L().PersonaName,
            }),
            d,
          )
        );
      }
      function oe(e) {
        const { giftInfo: t, onChange: n } = e,
          a = (0, B.IE)(t.accountid_giftee);
        return a.data
          ? i.createElement(
              _e,
              null,
              i.createElement(
                fe,
                null,
                i.createElement(he, null, (0, g.Xx)("#Cart_PurchaseFor_Label")),
                i.createElement(
                  "a",
                  { href: a.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(F.vV, {
                    className: L().FriendAvatar,
                    statusPosition: "right",
                    persona: a.data,
                  }),
                ),
                a.data.m_strPlayerName,
              ),
              i.createElement(ue, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function le(e) {
        var t;
        const { lineItem: n } = e,
          a =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee;
        return i.createElement(
          _e,
          null,
          !a && i.createElement(se, Object.assign({}, e)),
          a && i.createElement(ce, Object.assign({}, e)),
          a && i.createElement(de, { lineItem: n }),
        );
      }
      function se(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, o] = i.useState(!1);
        return i.createElement(
          ge,
          null,
          i.createElement(
            r.KM,
            { onClick: () => o(!0) },
            (0, g.Xx)("#Cart_SelectGiftRecipient"),
          ),
          a &&
            i.createElement($, {
              bShowGiftRecipientModal: a,
              fnOnDismiss: () => o(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function ce(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, r] = i.useState(!1),
          o = (0, B.IE)(t.gift_info.accountid_giftee);
        return o.data
          ? i.createElement(
              ge,
              null,
              i.createElement("div", { className: L().GiftFormDivider }),
              i.createElement(
                fe,
                null,
                i.createElement(
                  he,
                  null,
                  (0, g.Xx)("#Cart_GiftRecipient_Label"),
                ),
                i.createElement(
                  "a",
                  { href: o.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(F.vV, {
                    className: L().FriendAvatar,
                    statusPosition: "right",
                    persona: o.data,
                  }),
                ),
                o.data.m_strPlayerName,
                i.createElement(
                  Ee,
                  { onClick: () => r(!0) },
                  "(",
                  (0, g.Xx)("#Cart_Edit"),
                  ")",
                ),
              ),
              a &&
                i.createElement($, {
                  bShowGiftRecipientModal: a,
                  fnOnDismiss: () => r(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function de(e) {
        var t, n, r, o, l, s;
        const { lineItem: c } = e,
          [d, u] = i.useState(
            null === (t = c.gift_info) || void 0 === t
              ? void 0
              : t.time_scheduled_send,
          ),
          m = i.useRef(d),
          [p, _] = i.useState(
            (null ===
              (r =
                null === (n = c.gift_info) || void 0 === n
                  ? void 0
                  : n.gift_message) || void 0 === r
              ? void 0
              : r.message) || "",
          ),
          g = i.useRef(p),
          [v, h] = i.useState(
            (null ===
              (l =
                null === (o = c.gift_info) || void 0 === o
                  ? void 0
                  : o.gift_message) || void 0 === l
              ? void 0
              : l.signature) || "",
          ),
          E = i.useRef(v),
          C = (0, f.fB)(3e3),
          { mutate: I } = (0, a.G1)(),
          y = i.useCallback(
            (e) => {
              C(() =>
                I({
                  lineItemID: c.line_item_id,
                  lineItemFlags: c.flags,
                  giftInfo: e,
                }),
              );
            },
            [I, c.line_item_id, c.flags, C],
          );
        return (
          (0, i.useEffect)(() => {
            var e;
            (m.current == d && g.current == p && E.current == v) ||
              (y({
                accountid_giftee:
                  null === (e = c.gift_info) || void 0 === e
                    ? void 0
                    : e.accountid_giftee,
                gift_message: { message: p, signature: v },
                time_scheduled_send: d,
              }),
              (m.current = d),
              (g.current = p),
              (E.current = v));
          }, [
            p,
            v,
            d,
            y,
            null === (s = c.gift_info) || void 0 === s
              ? void 0
              : s.accountid_giftee,
          ]),
          i.createElement(pe, {
            id: c.line_item_id,
            message: p,
            onMessageChange: _,
            signature: v,
            onSignatureChange: h,
            scheduledTime: d,
            onScheduledTimeChange: u,
          })
        );
      }
      function ue(e) {
        var t, n;
        const { giftInfo: a, onChange: r } = e;
        return i.createElement(pe, {
          id: "cart",
          message:
            (null === (t = a.gift_message) || void 0 === t
              ? void 0
              : t.message) || "",
          onMessageChange: (e) =>
            r(
              Object.assign(Object.assign({}, a), {
                gift_message: Object.assign(Object.assign({}, a.gift_message), {
                  message: e,
                }),
              }),
            ),
          signature:
            (null === (n = a.gift_message) || void 0 === n
              ? void 0
              : n.signature) || "",
          onSignatureChange: (e) =>
            r(
              Object.assign(Object.assign({}, a), {
                gift_message: Object.assign(Object.assign({}, a.gift_message), {
                  signature: e,
                }),
              }),
            ),
          scheduledTime: a.time_scheduled_send,
          onScheduledTimeChange: (e) =>
            r(Object.assign(Object.assign({}, a), { time_scheduled_send: e })),
        });
      }
      const me = 160;
      function pe(e) {
        const {
            id: t,
            message: n,
            onMessageChange: a,
            signature: o,
            onSignatureChange: l,
            scheduledTime: s,
            onScheduledTimeChange: c,
            onBlur: d,
          } = e,
          u = me - n.length,
          [m, p] = i.useState(!1),
          { data: _ } = (0, B.IE)(M.L7.accountid);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            ge,
            null,
            i.createElement(
              he,
              null,
              (0, g.kQ)(
                "#Cart_GiftDelivery_Body",
                i.createElement(
                  "span",
                  { className: u <= 0 ? L().RedText : null },
                  u,
                ),
              ),
            ),
            i.createElement(r.E0, {
              nMinHeight: 50,
              className: L().GiftNoteInput,
              value: n,
              onBlur: d,
              onChange: (e) => a(e.target.value),
            }),
          ),
          i.createElement(
            ge,
            null,
            i.createElement(
              "div",
              { className: L().GiftFormRecipient },
              i.createElement(he, null, (0, g.Xx)("#Cart_GiftDelivery_From")),
              i.createElement(F.vV, {
                className: L().FriendAvatar,
                statusPosition: "right",
                persona: _,
              }),
              " ",
              (null == _ ? void 0 : _.m_strPlayerName) || "",
              !m &&
                i.createElement(
                  Ee,
                  { onClick: () => p(!0) },
                  "(",
                  (0, g.Xx)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          m &&
            i.createElement(
              ge,
              null,
              i.createElement(
                he,
                null,
                (0, g.Xx)("#Cart_GiftDelivery_Signature"),
              ),
              i.createElement(r.II, {
                value: o,
                className: L().GiftSignatureInput,
                onChange: (e) => l(e.target.value),
                onBlur: d,
                maxChars: me,
              }),
            ),
          i.createElement(D, { scheduledTime: s, onScheduledTimeChange: c }),
        );
      }
      function _e(e) {
        return i.createElement(
          "div",
          { className: L().GiftFormCtn },
          e.children,
        );
      }
      function ge(e) {
        return i.createElement(
          "div",
          { className: L().GiftFormSection },
          e.children,
        );
      }
      function fe(e) {
        return i.createElement(
          "div",
          { className: L().GiftFormRecipient },
          e.children,
        );
      }
      function ve(e) {
        return i.createElement(
          "div",
          { className: L().GiftRadioRow },
          e.children,
        );
      }
      function he(e) {
        return i.createElement(
          "div",
          { className: L().FormTextLabel },
          e.children,
        );
      }
      function Ee(e) {
        return i.createElement(O.s, {
          onActivate: e.onClick,
          children: e.children,
          className: L().LinkButton,
        });
      }
    },
    7860: (e, t, n) => {
      "use strict";
      n.d(t, { y: () => Ie, J: () => Le });
      var a = n(47427),
        i = n(45137),
        r = n(91585),
        o = n.n(r),
        l = n(31846),
        s = n(1485),
        c = n(13129),
        d = n(65255),
        u = n(80212),
        m = n(58955),
        p = n(8285),
        _ = n(10162),
        g = n(760),
        f = n(85556),
        v = n(80886),
        h = n(91618),
        E = n(34909),
        C = n(86437),
        I = n(46882),
        y = n(15690),
        S = n(34913),
        b = n(84823),
        N = n(21941),
        L = n(71634),
        D = n(27438),
        T = n(7686),
        G = n(77936);
      function w(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: r,
            availableCoupons: o,
          } = e,
          [{ bDialogActive: s, strDialogTitle: c }, d] = a.useState({
            bDialogActive: !1,
          }),
          u = (0, i.G1)();
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(x, {
            couponApplied: r,
            numAvailable: o.length,
            onModifyClick: () =>
              d({
                bDialogActive: !0,
                strDialogTitle: (0, l.Xx)(
                  r ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          a.createElement(k, {
            active: s,
            title: c || (0, l.Xx)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => d({ bDialogActive: !1 }),
            couponApplied: r,
            availableCoupons: o,
            onCouponChange: (e) => {
              u.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: Object.assign({}, t.flags),
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function x(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: i } = e,
          r = (0, l.Xx)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return a.createElement(
          "div",
          { className: L.CouponPickerRowGlow },
          a.createElement(
            "div",
            { className: L.CouponPickerRow },
            t ? a.createElement(A, Object.assign({}, t)) : null,
            a.createElement(O, null, (0, l.kb)("#Cart_CouponAvailability", n)),
            a.createElement(
              "div",
              { className: L.ModifyLink },
              a.createElement(N.Qj, { onClick: i }, r),
            ),
          ),
        );
      }
      function A(e) {
        const { large_icon_url: t, title: n } = e;
        return a.createElement("img", {
          className: L.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function k(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: i,
            title: r,
            couponApplied: o,
            availableCoupons: c,
            onCouponChange: d,
          } = e,
          [u, m] = a.useState((null == o ? void 0 : o.gidcoupon) || "");
        return a.createElement(
          D.On,
          { active: t, onDismiss: n },
          a.createElement(s.h4, null, r),
          a.createElement(
            s.Ac,
            null,
            (0, l.kQ)(
              "#Cart_SelectCouponToApply",
              a.createElement("span", { className: L.PackageName }, i),
            ),
          ),
          a.createElement(R, {
            availableCoupons: c,
            couponApplied: null == o ? void 0 : o.gidcoupon,
            couponSelected: u,
            onSelectedChange: m,
          }),
          a.createElement(s.o9, {
            onCancel: n,
            onOK: () => {
              n(), d(u || G.Z3);
            },
            strOKText: (0, l.Xx)("#Button_Done"),
          }),
        );
      }
      function R(e) {
        var t;
        const {
            availableCoupons: n,
            couponApplied: r,
            couponSelected: o,
            onSelectedChange: l,
          } = e,
          { validateCart: s } = (0, i.td)(),
          c = (
            (null === (t = s.data) || void 0 === t ? void 0 : t.cart_items) ||
            []
          ).map((e) => {
            var t;
            return null === (t = e.coupon_applied) || void 0 === t
              ? void 0
              : t.gidcoupon;
          });
        return a.createElement(
          "div",
          { className: L.CouponListContainer },
          n.map((e) =>
            a.createElement(
              P,
              Object.assign({ key: e.gidcoupon }, e, {
                applied: r === e.gidcoupon,
                selected: o === e.gidcoupon,
                inUse: c.includes(e.gidcoupon),
                onSelected: (t) => l(t ? e.gidcoupon : ""),
              }),
            ),
          ),
        );
      }
      function P(e) {
        const {
            applied: t,
            inUse: n,
            selected: i,
            large_icon_url: r,
            title: o,
            discount_pct: s,
            onSelected: d,
          } = e,
          u = !t && n,
          m = u ? void 0 : () => d(!i);
        return a.createElement(
          "div",
          {
            className: (0, c.Z)(L.CouponListItem, u && L.Disabled),
            onClick: m,
          },
          a.createElement(F, { checked: i, hidden: u }),
          a.createElement("img", { src: r, title: o, className: L.Image }),
          a.createElement(
            "div",
            { className: L.Info },
            t && a.createElement(O, null, (0, l.Xx)("#Cart_Coupons_Applied")),
            u && a.createElement(O, null, (0, l.Xx)("#Cart_Coupons_InUse")),
          ),
          a.createElement("div", { className: L.Discount }, "-", s, "%"),
        );
      }
      function O(e) {
        return a.createElement(
          "div",
          { className: L.CouponInfoText },
          e.children,
        );
      }
      function F(e) {
        const { checked: t, hidden: n } = e;
        return a.createElement(
          "div",
          { className: (0, c.Z)(L.Checkbox, n && L.Hidden) },
          t && a.createElement(T.Jr, null),
        );
      }
      var B = n(88294),
        M = n(51915),
        j = n(39661),
        X = n.n(j),
        Z = n(79489);
      const V = {
        1: function (e) {
          const { item: t } = e,
            n = (0, f._T)(e, ["item"]),
            [i, r] = (0, v.ie)(t.packageid, {
              include_all_purchase_options: !0,
            }),
            [o, l] = (0, v.Vm)(t.packageid, 1, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_release: !0,
            });
          if ((o && !o.BIsVisible()) || 2 === l || 2 === r)
            return a.createElement(Q, {
              lineItemID: t.line_item_id,
              storeItem: o,
            });
          if (!o || !i) return a.createElement(Y, null);
          const s = i.GetSelfPurchaseOption();
          return a.createElement(
            z,
            Object.assign(
              { storeItem: i, displayItem: o, lineItem: t, purchaseOption: s },
              n,
            ),
          );
        },
        2: function (e) {
          const { item: t } = e,
            n = (0, f._T)(e, ["item"]),
            [i, r] = (0, v.jk)(t.bundleid, 2, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_included_items: !0,
              included_item_data_request: { include_basic_info: !0 },
            });
          if ((i && !i.BIsVisible()) || 2 === r)
            return a.createElement(Q, {
              lineItemID: t.line_item_id,
              storeItem: i,
            });
          if (!i) return a.createElement(Y, null);
          const o = i.GetSelfPurchaseOption();
          return a.createElement(
            z,
            Object.assign(
              { storeItem: i, displayItem: i, lineItem: t, purchaseOption: o },
              n,
            ),
          );
        },
      };
      function U(e) {
        const { item: t } = e,
          n = V[t.type];
        return n
          ? a.createElement(
              _.SV,
              {
                fallback: (t) =>
                  a.createElement(W, Object.assign({}, e, { error: t })),
              },
              a.createElement(n, Object.assign({}, e)),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function W(e) {
        const { item: t, error: n } = e,
          r = (0, i.fn)(t.line_item_id);
        return a.createElement(
          de,
          { className: X().ErrorLineItem },
          a.createElement(
            "div",
            { className: X().Left },
            a.createElement(
              "div",
              { className: X().Error },
              (0, l.Xx)("#Cart_LineItem_ErrorBoundary"),
            ),
            a.createElement("div", { className: X().Muted }, n.message),
          ),
          a.createElement(
            N.Qj,
            { onClick: () => r.mutate() },
            (0, l.Xx)("#Cart_Remove"),
          ),
        );
      }
      function Y() {
        return a.createElement(
          de,
          { placeholder: !0 },
          a.createElement(H, null),
        );
      }
      function H() {
        return a.createElement(
          "div",
          { className: X().LoadingThrobber },
          a.createElement(I.V, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function Q(e) {
        const { lineItemID: t, storeItem: n } = e,
          r = $(n),
          o = (0, i.fn)(t),
          s = o.isLoading;
        return a.createElement(
          de,
          { placeholder: !0 },
          s && a.createElement(H, null),
          a.createElement(
            "div",
            {
              className: (0, c.Z)(
                X().InnerLineItemCtn,
                s && X().PendingLineItem,
              ),
            },
            a.createElement(
              "div",
              { className: (0, c.Z)(X().LineItemColumn, X().LineItemCapsule) },
              a.createElement(
                Z.u,
                { item: n, noImpressionTracking: !0 },
                a.createElement("img", { className: X().HeaderImg, src: r }),
              ),
            ),
            a.createElement(
              "div",
              { className: X().LineItemDetailsCtn },
              a.createElement(
                ce,
                { flex: !0, className: X().LineItemDetailsRowTop },
                a.createElement(
                  "div",
                  { className: X().LineItemTitle },
                  n.GetName(),
                ),
              ),
              a.createElement(te, { lineItemID: t }),
              a.createElement(
                ce,
                { className: X().LineItemSpaceBetween },
                a.createElement(
                  h.s,
                  {
                    onActivate: () => o.mutate(),
                    className: X().RemoveLineItem,
                  },
                  (0, l.Xx)("#Cart_Remove"),
                ),
              ),
            ),
          ),
        );
      }
      function z(e) {
        var t;
        const {
            storeItem: n,
            displayItem: r,
            lineItem: o,
            validation: l = [],
            purchaseOption: s,
            validatedItem: d,
            availableCoupons: u,
          } = e,
          p = o.line_item_id,
          _ = {
            id: null == n ? void 0 : n.GetID(),
            type: (0, C.Ds)(
              null == n ? void 0 : n.GetStoreItemType(),
              null == n ? void 0 : n.GetAppType(),
            ),
          },
          g = (0, i.fn)(p),
          [f] = (0, m.nD)(),
          v = g.isLoading || g.isSuccess,
          I = "gifts" === f && !!o.flags.is_gift,
          y = !!u.length,
          S = $(r),
          b = n.GetIncludedAppIDsOrSelf(),
          { data: L, isLoading: D } = (0, B.sU)(),
          T = b.filter((e) => (null == L ? void 0 : L.has(e)));
        if (D) return a.createElement(Y, null);
        const G = null === (t = o.flags) || void 0 === t ? void 0 : t.is_gift,
          x = T.length === b.length,
          A = !G && T.length > 0 && !x;
        let k = G ? "gift" : "myself";
        return (
          "myself" === k && x && (k = "private"),
          a.createElement(
            h.s,
            null,
            a.createElement(
              de,
              null,
              v && a.createElement(H, null),
              a.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    X().InnerLineItemCtn,
                    v && X().PendingLineItem,
                  ),
                },
                a.createElement(
                  "div",
                  {
                    className: (0, c.Z)(
                      X().LineItemColumn,
                      X().LineItemCapsule,
                    ),
                  },
                  a.createElement(
                    Z.u,
                    {
                      item: r,
                      feature: "cart-items",
                      noImpressionTracking: !0,
                    },
                    a.createElement("img", {
                      className: X().HeaderImg,
                      src: S,
                    }),
                  ),
                ),
                a.createElement(
                  "div",
                  { className: X().LineItemDetailsCtn },
                  a.createElement(
                    ce,
                    { flex: !0, className: X().LineItemDetailsRowTop },
                    a.createElement(
                      "div",
                      { className: X().LineItemTitle },
                      n.GetName(),
                    ),
                  ),
                  n.BIsComingSoon() && a.createElement(ee, { storeItem: n }),
                  a.createElement(
                    te,
                    { lineItemID: p },
                    l.map((e) =>
                      a.createElement(ne, { key: e.strNotice }, e.strNotice),
                    ),
                  ),
                  a.createElement(se, { storeItem: n }),
                  A && a.createElement(ue, { appids: T }),
                  a.createElement(
                    ce,
                    { className: X().LineItemSpaceBetween },
                    a.createElement(
                      "div",
                      {
                        className: (0, c.Z)(X().LineItemCol, X().PlatformIcons),
                      },
                      a.createElement(E.a, {
                        item: _,
                        strClassName: X().LineItemPlatforms,
                      }),
                    ),
                  ),
                  a.createElement(q, { purchaseOption: s, validatedItem: d }),
                  a.createElement(J, {
                    lineItem: o,
                    storeItem: n,
                    purchaseOption: s,
                    initialPurchaseOption: k,
                    fnRemoveLineItem: g.mutate,
                  }),
                ),
              ),
              I && a.createElement(N.Wc, { storeItem: n, lineItem: o }),
            ),
            y &&
              a.createElement(w, {
                storeItem: n,
                lineItem: o,
                couponApplied: null == d ? void 0 : d.coupon_applied,
                availableCoupons: u,
              }),
          )
        );
      }
      function q(e) {
        var t;
        const { purchaseOption: n, validatedItem: i } = e;
        let r = null == n ? void 0 : n.formatted_original_price,
          o = null == n ? void 0 : n.formatted_final_price,
          l = null == n ? void 0 : n.discount_pct;
        return (
          i &&
            i.original_price &&
            ((r = i.original_price.formatted_amount),
            (o = i.subtotal.formatted_amount),
            (l = (function (e) {
              if (e.coupon_applied) return e.coupon_applied.discount_pct;
              const t = parseInt(e.original_price.amount_in_cents),
                n = parseInt(e.subtotal.amount_in_cents);
              return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
            })(i))),
          a.createElement(
            "div",
            { className: X().LineItemRightCol },
            a.createElement(b.nk, {
              className: X().PriceWidget,
              formatted_orig_price: r,
              formatted_final_price: o,
              discount_percent: l,
              bHideDiscountPercentForCompliance:
                n.hide_discount_pct_for_compliance,
              bDiscountFromCoupon: !!(null ===
                (t = null == i ? void 0 : i.coupon_discount) || void 0 === t
                ? void 0
                : t.amount_in_cents),
            }),
          )
        );
      }
      function J(e) {
        var t;
        const {
            lineItem: n,
            storeItem: r,
            purchaseOption: o,
            initialPurchaseOption: s,
            fnRemoveLineItem: d,
          } = e,
          u = (0, i.bz)(),
          [p] = (0, m.pf)(),
          _ =
            (null == p ? void 0 : p.accountid_giftee) ||
            (u
              ? null === (t = n.gift_info) || void 0 === t
                ? void 0
                : t.accountid_giftee
              : void 0),
          g = (0, i.IW)(),
          f = (0, i.tI)(n.packageid, n.bundleid, !0);
        return a.createElement(
          ce,
          { className: X().LineItemSpaceBetween },
          a.createElement(
            "div",
            { className: X().LineItemCol },
            _
              ? a.createElement(K, { recipient: _ })
              : a.createElement(oe, {
                  lineItem: n,
                  storeItem: r,
                  initialValue: s,
                  purchaseOption: o,
                }),
          ),
          a.createElement(
            "div",
            { className: (0, c.Z)(X().LineItemRightCol, X().AddRemoveLinks) },
            g &&
              a.createElement(
                a.Fragment,
                null,
                a.createElement(
                  h.s,
                  {
                    onActivate: () => !f.isLoading && f.mutate(),
                    className: X().AddLineItem,
                    title: (0, l.Xx)("#Cart_LineItem_Add_Tooltip"),
                  },
                  (0, l.Xx)("#Cart_Add"),
                ),
                "|",
              ),
            !u &&
              a.createElement(
                h.s,
                { onActivate: () => d(), className: X().RemoveLineItem },
                (0, l.Xx)("#Cart_Remove"),
              ),
          ),
        );
      }
      function K(e) {
        const t = (0, M.IE)(e.recipient);
        return a.createElement(
          "div",
          { className: X().GiftForNotice },
          (0, l.kQ)(
            "#Cart_GiftForNotice",
            t.data
              ? a.createElement(
                  "span",
                  { className: X().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function $(e) {
        const t = `${d.De.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
        if (!e) return t;
        const n = e.GetAssets();
        if (!n) return t;
        const a = n.GetHeaderURL(),
          i = n.GetSmallCapsuleURL();
        return a || i || t;
      }
      function ee(e) {
        const { storeItem: t } = e;
        let n = (0, l.Xx)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          a.createElement(ne, null, n)
        );
      }
      function te(e) {
        const { lineItemID: t, children: n } = e,
          [r, o] = (0, i.z5)(t);
        return 0 === (null == r ? void 0 : r.length) &&
          0 === a.Children.count(n)
          ? null
          : a.createElement(
              "div",
              {
                className: (0, c.Z)(
                  X().LineItemNoticeRow,
                  X().LineItemSpaceBetween,
                ),
              },
              r.map((e) => {
                var t;
                return a.createElement(ae, {
                  key: e.purchase_state,
                  notice: e,
                  footnoteIdx:
                    null === (t = o.get(e.purchase_state)) || void 0 === t
                      ? void 0
                      : t.index,
                });
              }),
              n,
            );
      }
      function ne(e) {
        const { children: t } = e;
        return a.createElement(
          ce,
          { flex: !0 },
          a.createElement("div", { className: X().Warning }, t),
        );
      }
      function ae(e) {
        const { notice: t, footnoteIdx: n } = e;
        return a.createElement(
          ne,
          null,
          t.notice_text,
          n && a.createElement("sup", null, n),
          a.createElement(ie, { rgAppIDs: t.appids }),
        );
      }
      function ie(e) {
        const { rgAppIDs: t } = e;
        return t && 0 != t.length
          ? t.map((e, n) =>
              a.createElement(re, {
                key: `${e}_${n}`,
                appid: e,
                last: n >= t.length - 1,
              }),
            )
          : null;
      }
      function re(e) {
        const { appid: t, last: n } = e,
          [i] = (0, v.vs)(t, { include_basic_info: !0 });
        return i
          ? a.createElement(
              S.W,
              { type: "app", id: t },
              a.createElement(
                Z.u,
                { item: i, noImpressionTracking: !0 },
                i.GetName(),
              ),
              !n && a.createElement(a.Fragment, null, ","),
            )
          : null;
      }
      function oe(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: r,
            purchaseOption: o,
          } = e,
          [s, c] = a.useState(r),
          d = (0, i.G1)(),
          u = (0, B.Xm)(),
          m = (0, i.bz)(),
          p = !o.user_can_purchase_as_gift || m;
        const _ = !(function (e) {
            return !e.is_commercial_license;
          })(o),
          g = [
            {
              data: "myself",
              label: (0, l.Xx)("#Cart_LineItemOptions_Myself"),
            },
            !_ && {
              data: "private",
              label: (0, l.Xx)("#Cart_LineItemOptions_Privately"),
              tooltip: (0, l.Xx)("#Cart_LineItemOptions_PrivateTooltip"),
            },
            !p && {
              data: "gift",
              label: (0, l.Xx)("#Cart_LineItemOptions_Gift"),
            },
          ].filter(Boolean);
        if (1 === g.length) return null;
        return a.createElement(le, {
          onChange: (e) => {
            if (s === e.data) return;
            const a = (e) =>
                u.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              i = (e) =>
                d.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: Object.assign(Object.assign({}, t.flags), {
                    is_gift: e,
                  }),
                });
            "private" === s ? a(!1) : "gift" === s && i(!1),
              "private" === e.data ? a(!0) : "gift" === e.data && i(!0),
              c(e.data);
          },
          selectedOption: s,
          rgOptions: g,
        });
      }
      function le(e) {
        return a.createElement(
          s.ry,
          Object.assign(
            {
              strClassName: X().LineItemDropDown,
              strDropDownItemClassName: X().DropDownOptionItem,
              strDropDownClassName: X().DropDownOptionsCtnThin,
              strDropDownButtonClassName: X().DropDownThin,
            },
            e,
          ),
        );
      }
      function se(e) {
        const { storeItem: t } = e,
          [n, i] = a.useState([]);
        return (
          a.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, i) => {
                const r = y.Z.Get().GetApp(n);
                r &&
                  e.push(
                    a.createElement(
                      S.W,
                      { key: n, type: "app", id: n },
                      a.createElement(
                        Z.u,
                        {
                          item: r,
                          feature: "bundle-contents",
                          noImpressionTracking: !0,
                        },
                        r.GetName(),
                      ),
                      i < t.GetIncludedAppIDs().length - 1 ? "," : "",
                    ),
                  );
              }),
                i(e);
            }
          }, [t]),
          n.length
            ? a.createElement(
                ce,
                { flex: !0 },
                a.createElement(
                  "span",
                  null,
                  (0, l.kb)("#Cart_IncludesItems", n.length),
                  ":",
                ),
                n,
              )
            : null
        );
      }
      function ce(e) {
        const { flex: t, children: n, className: i } = e;
        return a.createElement(
          h.s,
          {
            "flow-children": "row",
            className: (0, c.Z)(X().LineItemDetailsRow, t && X().FlexRow, i),
          },
          n,
        );
      }
      function de(e) {
        const { placeholder: t, className: n, children: i } = e;
        return a.createElement(
          h.s,
          {
            className: (0, c.Z)(
              X().LineItemWrapper,
              t && X().LineItemPlaceholder,
              n,
            ),
          },
          i,
        );
      }
      function ue(e) {
        const { appids: t } = e,
          n = t.map((e, t) =>
            a.createElement(
              a.Fragment,
              { key: e },
              t > 0 && ", ",
              a.createElement(me, { key: e, appid: e }),
            ),
          );
        return a.createElement(
          ce,
          { flex: !0 },
          a.createElement(
            "span",
            null,
            (0, l.Xx)("#Cart_Notice_SomeAppsPrivate"),
            "",
          ),
          n,
        );
      }
      function me(e) {
        const { appid: t } = e,
          [n] = (0, v.vs)(t, {});
        return a.createElement(
          S.W,
          { type: "app", id: t },
          a.createElement(
            Z.u,
            { item: n, noImpressionTracking: !0 },
            n.GetName(),
          ),
        );
      }
      var pe = n(92686),
        _e = n(68824),
        ge = n(37563),
        fe = n(17243),
        ve = n.n(fe);
      function he() {
        const [e, t] = a.useState(null);
        return (
          a.useEffect(() => {
            var e;
            t(
              null === (e = (0, i.WR)()) || void 0 === e
                ? void 0
                : e.rgUserCountryOptions,
            );
          }, []),
          e
            ? a.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    o().EstimatedTotalFlex,
                    ve().UserCountrySelector,
                  ),
                },
                a.createElement(
                  "div",
                  { className: o().CartLabelText },
                  (0, l.Xx)("#Cart_UserCountrySelector"),
                ),
                a.createElement(
                  "div",
                  { className: o().CartValueText },
                  a.createElement(Ee, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function Ee(e) {
        const { rgCountryOptions: t } = e,
          [n, i] = a.useState(d.De.COUNTRY),
          r = a.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          o = a.useCallback((e) => {
            e.data != d.De.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              i(e.data);
          }, []);
        return a.createElement(s.ry, {
          selectedOption: n,
          onChange: o,
          rgOptions: r,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var Ce = n(20020);
      function Ie(e) {
        const { children: t } = e;
        return a.createElement(ye, null, t);
      }
      function ye(e) {
        var t, n, r, l, s;
        const { children: d } = e,
          u = (0, i.g1)(),
          p = (0, i.bn)(),
          g = u.isLoading || !u.data,
          f = (0, ge.id)(),
          [v, E] = (0, m.pf)(),
          { sortedLineItems: C, bCartIncludesGifts: I } = a.useMemo(() => {
            var e;
            const t =
                (null === (e = null == u ? void 0 : u.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              n = t.some((e) => {
                var t;
                return null === (t = e.flags) || void 0 === t
                  ? void 0
                  : t.is_gift;
              }),
              a = t.sort((e, t) => {
                var n, a;
                const i =
                    null !== (n = e.bundleid) && void 0 !== n ? n : e.packageid,
                  r =
                    null !== (a = t.bundleid) && void 0 !== a ? a : t.packageid;
                return e.time_added == t.time_added
                  ? i < r
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              });
            return { sortedLineItems: a, bCartIncludesGifts: n };
          }, [
            null === (t = null == u ? void 0 : u.data) || void 0 === t
              ? void 0
              : t.line_items,
          ]),
          { validateCart: y, lineItemValidation: S } = (0, i.td)(),
          { mapValidateNoticesToError: b, mapValidateNoticesToFootnote: L } =
            (0, i.dW)();
        return a.createElement(
          a.Fragment,
          null,
          !!(null == b ? void 0 : b.size) &&
            a.createElement(De, { notices: b }),
          a.createElement(
            h.s,
            { className: o().ShoppingCartCtn },
            a.createElement(
              h.s,
              { className: o().ShoppingCartLeftCol },
              g && a.createElement(H, null),
              !!v &&
                a.createElement(
                  _.SV,
                  null,
                  a.createElement(
                    _e.r,
                    null,
                    a.createElement(N.SL, { giftInfo: v, onChange: E }),
                  ),
                ),
              a.createElement(
                _.SV,
                null,
                a.createElement(Le, {
                  lineItems: C,
                  validation: S,
                  cartValidation: y.data,
                  coupons: null == p ? void 0 : p.data,
                }),
              ),
              !!(null == L ? void 0 : L.size) &&
                a.createElement(
                  _.SV,
                  null,
                  a.createElement(Ge, { notices: L }),
                ),
              !f &&
                a.createElement(
                  "div",
                  { className: o().ResponsiveShoppingCartSummary },
                  a.createElement(Se, {
                    bCartIncludesGifts: I,
                    strEstimatedTotal:
                      null ===
                        (r =
                          null === (n = y.data) || void 0 === n
                            ? void 0
                            : n.estimated_totals) || void 0 === r
                        ? void 0
                        : r.subtotal.formatted_amount,
                  }),
                ),
              d && d({ cart: u.data, validatedCart: y.data }),
            ),
            a.createElement(
              h.s,
              {
                className: (0, c.Z)(
                  o().ShoppingCartRightCol,
                  (null == C ? void 0 : C.length) <= 2 && o().SmallCart,
                ),
              },
              a.createElement(Se, {
                bCartIncludesGifts: I,
                strEstimatedTotal:
                  null ===
                    (s =
                      null === (l = y.data) || void 0 === l
                        ? void 0
                        : l.estimated_totals) || void 0 === s
                    ? void 0
                    : s.subtotal.formatted_amount,
              }),
            ),
          ),
        );
      }
      function Se(e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          r = (0, i.g1)(),
          { bValidForCheckout: s } = (0, i.td)(),
          [u, p] = (0, m.nD)(),
          _ = (0, i.bz)(),
          g =
            r.isSuccess &&
            r.data.line_items.some((e) => {
              var t, n;
              return (
                (null === (t = e.flags) || void 0 === t ? void 0 : t.is_gift) &&
                !(null === (n = e.gift_info) || void 0 === n
                  ? void 0
                  : n.accountid_giftee)
              );
            }),
          f =
            d.L7.logged_in &&
            (("initial" === u && !n && !s) ||
              ("gifts" === u && (!s || g)) ||
              (r.isSuccess && 0 == r.data.line_items.length));
        let v;
        return (
          (v = d.L7.logged_in
            ? n && "initial" == u && !_
              ? "gifts"
              : "checkout"
            : "login"),
          a.createElement(
            "div",
            { className: o().CartSummaryCtn },
            a.createElement(he, null),
            a.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().EstimatedTotalFlex,
                  o().SummaryMarginBottom,
                ),
              },
              a.createElement(
                "div",
                { className: o().CartLabelText },
                (0, l.Xx)("#Cart_EstimatedTotal"),
              ),
              a.createElement("div", { className: o().CartValueText }, t),
            ),
            a.createElement(
              "div",
              {
                className: (0, c.Z)(o().CartNoteText, o().SummaryMarginBottom),
              },
              (0, l.Xx)("#Cart_Note_SalesTax"),
            ),
            a.createElement(be, { bDisabled: f, nextStep: v }),
            a.createElement(xe, { disabled: f || n }),
            a.createElement(Ne, { bDisabled: f }),
          )
        );
      }
      function be(e) {
        const { bDisabled: t, nextStep: n } = e,
          r = (0, i.tM)(),
          d = (0, p.k6)(),
          [_, f] = (0, m.nD)(),
          v = (function (e) {
            return "login" == e
              ? (0, l.Xx)("#Cart_ContinueButton_Login")
              : "gifts" == e
                ? (0, l.Xx)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, l.Xx)("#Cart_ContinueButton_Payment")
                  : ((0, Ce.Z)(e, "unhandled step"), "");
          })(n),
          h = (0, c.Z)(o().CartSummaryBtn, o().SummaryMarginBottom);
        return a.createElement(
          s.KM,
          {
            disabled: t,
            className: h,
            onClick: () => {
              switch (n) {
                case "login":
                  (0, u.Xt)();
                  break;
                case "gifts":
                  f("gifts"), d.push(g.Z.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = r;
                  break;
                default:
                  (0, Ce.Z)(n, "unhandled step");
              }
            },
          },
          v,
        );
      }
      function Ne(e) {
        var t;
        const { bDisabled: n } = e,
          r = (0, pe.Rs)(),
          u = (0, i.nt)(),
          m = (0, i.n$)(),
          p = (0, pe.Nw)(
            null === (t = r.data) || void 0 === t ? void 0 : t.family_groupid(),
            u,
            1,
          );
        return m
          ? a.createElement(
              s.zx,
              {
                disabled: n,
                className: (0, c.Z)(
                  o().CartSummaryBtn,
                  o().SummaryMarginBottom,
                ),
                onClick: () => {
                  p.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${d.De.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, l.Xx)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function Le(e) {
        const {
          lineItems: t = [],
          validation: n = {},
          cartValidation: i,
          coupons: r = {},
        } = e;
        if (!t.length)
          return a.createElement("div", null, (0, l.Xx)("#Cart_Empty"));
        const s = (null == i ? void 0 : i.cart_items)
          ? i.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return a.createElement(
          "div",
          { className: o().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? a.createElement(U, {
                    key: e.line_item_id,
                    item: e,
                    validation: n[e.packageid || e.bundleid],
                    validatedItem: s[e.line_item_id],
                    availableCoupons: r[e.line_item_id] || [],
                  })
                : a.createElement(Y, { key: t }),
            ),
        );
      }
      function De(e) {
        const { notices: t } = e;
        return a.createElement(
          "div",
          { className: o().HeaderNotices },
          Array.from(t).map(([e, t], n) => a.createElement(Te, { key: e }, t)),
        );
      }
      function Te(e) {
        const { children: t } = e;
        return a.createElement("div", { className: o().HeaderNotice }, t);
      }
      function Ge(e) {
        const { notices: t } = e;
        return a.createElement(
          "div",
          { className: o().FooterNoticesCtn },
          Array.from(t).map(([e, t]) =>
            a.createElement(we, { key: t.index, notice: t }),
          ),
        );
      }
      function we(e) {
        const { notice: t } = e;
        return a.createElement(
          "div",
          { className: o().FooterNotice },
          a.createElement(
            "div",
            { className: o().NoticeIndex },
            a.createElement("sup", null, t.index),
          ),
          a.createElement(
            "div",
            { className: o().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function xe(e) {
        var t;
        const { disabled: n } = e,
          r =
            null === (t = (0, pe.Rs)().data) || void 0 === t
              ? void 0
              : t.family_groupid(),
          u = (0, pe.BU)(r, d.L7.country_code);
        return (0, i.wN)()
          ? a.createElement(
              "div",
              {
                className: (0, c.Z)(
                  o().RequestPurchaseCtn,
                  o().SummaryMarginBottom,
                ),
              },
              a.createElement(
                s.KM,
                {
                  disabled: n,
                  className: (0, c.Z)(o().CartSummaryBtn),
                  onClick: () => {
                    u.mutate(void 0, {
                      onSuccess: () => {
                        window.location.assign((0, pe.ht)(r));
                      },
                    });
                  },
                },
                (0, l.Xx)("#Cart_RequestPurchase"),
              ),
              a.createElement(
                "div",
                null,
                (0, l.Xx)("#Cart_RequestPurchaseExplanation"),
              ),
            )
          : null;
      }
    },
    46193: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => re,
          default: () => ne,
          useInitCartLocalization: () => oe,
        });
      var a = n(85556),
        i = n(47427),
        r = n(91585),
        o = n.n(r),
        l = n(7860),
        s = n(31846),
        c = n(65255),
        d = n(46882),
        u = n(5522),
        m = n(58955),
        p = n(25006),
        _ = n(45137),
        g = n(22520),
        f = n(80886),
        v = n(15690),
        h = n(46009),
        E = n(10162),
        C = n(91618),
        I = n(3783),
        y = n(86437),
        S = n(1774),
        b = n(40833),
        N = n(13129),
        L = n(79545),
        D = n(80002),
        T = n(57462),
        G = n(42718),
        w = n(40057),
        x = n(80998);
      function A(e, t = !0) {
        return (function (e, t, n = !0) {
          const i = (0, w.bY)();
          return (0, G.useQuery)(
            ["ItemsToFeature", e],
            () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                const n = L.gA.Init(T.JD);
                (0, x.pA)(n),
                  (0, x.De)(n, t),
                  n.Body().set_include_dailydeals(!0),
                  n.Body().set_include_top_specials_count(8),
                  e.spotlightLocation &&
                    n
                      .Body()
                      .set_include_spotlights(
                        T.xH.fromObject(e.spotlightLocation),
                      ),
                  void 0 !== e.rgAdditionalRecommendationIDs &&
                    (n.Body().set_include_purchase_recommendations(!0),
                    e.rgAdditionalRecommendationIDs.forEach((e) =>
                      n
                        .Body()
                        .add_additional_purchase_item_ids(D.oY.fromObject(e)),
                    ));
                const a = yield T.CK.GetItemsToFeature(i, n);
                if (!a) throw a.GetErrorMessage();
                const r = v.Z.Get();
                return (
                  a
                    .Body()
                    .spotlights()
                    .forEach(
                      (e) =>
                        e.associated_item(!1) &&
                        r.ReadItem(e.associated_item(), t),
                    ),
                  a
                    .Body()
                    .daily_deals()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  a
                    .Body()
                    .specials()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  a
                    .Body()
                    .purchase_recommendations()
                    .forEach((e) => e.item(!1) && r.ReadItem(e.item(), t)),
                  a.Body().toObject()
                );
              }),
            { staleTime: 36e5, enabled: n },
          );
        })(
          {
            spotlightLocation: { location: "cart" },
            rgAdditionalRecommendationIDs: e,
          },
          { include_assets: !0, include_release: !0 },
          t,
        );
      }
      var k = n(37772);
      function R(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              ((null == n ? void 0 : n.appid)
                ? !e[null == n ? void 0 : n.appid]
                : !(null == n ? void 0 : n.included_appids) ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function P(e) {
        var t, n, a, r;
        const { cart: o, validatedCart: l } = e,
          [c, d] = i.useState(void 0),
          u = ((null == l ? void 0 : l.cart_items) || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        i.useEffect(() => {
          void 0 === c &&
            o &&
            d(
              null == o
                ? void 0
                : o.line_items.map((e) =>
                    e.packageid
                      ? { packageid: e.packageid }
                      : { bundleid: e.bundleid },
                  ),
            );
        }, [c, o]);
        const m = A(c, void 0 !== c);
        if (m.isError) return null;
        const p = u.reduce((e, t) => ((e[t] = !0), e), {}),
          _ = R(
            p,
            null === (t = m.data) || void 0 === t
              ? void 0
              : t.purchase_recommendations,
          ),
          g = R(p, null === (n = m.data) || void 0 === n ? void 0 : n.specials),
          f = R(
            p,
            null === (a = m.data) || void 0 === a ? void 0 : a.daily_deals,
          ),
          v = R(
            p,
            null === (r = m.data) || void 0 === r ? void 0 : r.spotlights,
          );
        return i.createElement(
          "div",
          { className: k.CartUpsellArea },
          i.createElement(
            "div",
            { className: k.CartUpsellTitle },
            (0, s.Xx)("#Recommendations_Header"),
          ),
          (null == _ ? void 0 : _.length) > 3
            ? i.createElement(O, {
                type: "recommended",
                data: _,
                isLoaded: !m.isLoading,
              })
            : i.createElement(O, {
                type: "specials",
                data: g,
                isLoaded: !m.isLoading,
              }),
          i.createElement(B, { data: f, isLoaded: !m.isLoading }),
          i.createElement(M, { data: v, isLoaded: !m.isLoading }),
        );
      }
      function O(e) {
        const { data: t, isLoaded: n, type: a } = e;
        return !t && n
          ? null
          : i.createElement(
              p.ZP,
              { feature: `upsell-${a}` },
              i.createElement(
                j,
                { className: (0, N.Z)(k.Specials) },
                null == t
                  ? void 0
                  : t
                      .filter(({ item: e }) => {
                        var t;
                        return !!(null === (t = e.assets) || void 0 === t
                          ? void 0
                          : t.header);
                      })
                      .slice(0, 3)
                      .map(({ item_id: e, item: t }) =>
                        i.createElement(F, {
                          key: (0, y.y)(e),
                          item_id: e,
                          item: t,
                        }),
                      ),
              ),
            );
      }
      function F(e) {
        const { item: t } = e;
        return i.createElement(b.B, {
          capsule: { id: t.id, type: (0, y.Ds)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
        });
      }
      function B(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : i.createElement(
              j,
              { className: (0, N.Z)(k.DailyDeals, !n && k.Loading) },
              null == t
                ? void 0
                : t
                    .slice(0, 2)
                    .map((e) =>
                      i.createElement(S.k8, {
                        key: (0, y.y)(e.item_id),
                        dailyDeal: e,
                      }),
                    ),
            );
      }
      function M(e) {
        const { data: t, isLoaded: n } = e,
          a = i.useMemo(
            () =>
              null == t
                ? void 0
                : t
                    .filter((e) => "weeklong_deals" != e.spotlight_template)
                    .slice(0, 2),
            [t],
          );
        return !a && n
          ? null
          : i.createElement(
              j,
              { className: (0, N.Z)(k.Spotlights, !n && k.Loading) },
              a.map((e) =>
                i.createElement(S.Jm, {
                  key: e.item_id ? (0, y.y)(e.item_id) : e.spotlight_title,
                  spotlight: e,
                }),
              ),
            );
      }
      function j(e) {
        const { className: t, children: n } = e;
        return i.createElement(
          C.s,
          {
            "flow-children": "row",
            navEntryPreferPosition: I.c4.MAINTAIN_X,
            className: (0, N.Z)(k.UpsellRow, t),
          },
          n,
        );
      }
      var X = n(89373),
        Z = n(68824),
        V = n(38071),
        U = n(88909);
      function W(e) {
        const { cart: t } = e,
          n = X.C.Get().BIsSaleActive(),
          a = (function (e) {
            var t, n;
            const a = (0, _.AL)();
            if (!e || !a.isSuccess) return null;
            const i = new Set();
            let r = 0;
            for (const a of e.cart_items) {
              (null === (t = a.store_item.release) || void 0 === t
                ? void 0
                : t.is_coming_soon) &&
              (null === (n = a.store_item.best_purchase_option) || void 0 === n
                ? void 0
                : n.packageid)
                ? i.add(a.store_item.name)
                : (r += parseInt(a.subtotal.amount_in_cents));
            }
            const {
                sale_name: o,
                spend_earned_for_next_drop: l,
                spend_needed_for_next_drop: s,
                formatted_spend_per_drop: c,
              } = a.data,
              d = r + l,
              u = Math.floor(d / s),
              m = Math.floor(((d % s) * 100) / s);
            return {
              cEarned: u,
              pctProgress: m,
              strFormattedSpendPerDrop: c,
              rgPrepurchaseApps: Array.from(i),
              strSaleName: o,
            };
          })(t);
        if (!t || !c.L7.logged_in || !n || !a || (0, V.e7)(c.De.EREALM))
          return null;
        const {
            cEarned: r,
            pctProgress: o,
            rgPrepurchaseApps: l,
            strFormattedSpendPerDrop: d,
            strSaleName: u,
          } = a,
          m = r > 0,
          p = i.createElement(
            "div",
            { className: U.Explanation },
            (0, s.Xx)("#Cart_SaleCardDrops_Explanation", u),
          );
        return i.createElement(
          Z.r,
          { className: U.TradingCardContainer },
          m &&
            i.createElement(
              "div",
              { className: U.EarnedMessage },
              (0, s.kb)("#Cart_SaleCardDrops_EarnedMessage", r, u),
            ),
          !m && p,
          i.createElement(
            "div",
            { className: U.ProgressSection },
            i.createElement(
              "div",
              null,
              (0, s.Xx)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            i.createElement(Y, { value: o }),
            i.createElement(
              "div",
              { className: U.Right },
              "(",
              (0, s.Xx)("#Cart_SaleCardDrops_CardCost", d),
              ")",
            ),
          ),
          m && p,
          l.length > 0 &&
            i.createElement(
              "div",
              { className: U.IneligbleList },
              i.createElement(
                "p",
                null,
                (0, s.Xx)("#Cart_SaleCardDrops_PrepurchaseIneligible", u),
              ),
              i.createElement(
                "ul",
                null,
                l.map((e) => i.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function Y(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return i.createElement(
          "div",
          { className: U.ProgressRail },
          i.createElement("div", {
            className: U.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var H = n(21941),
        Q = n(1485),
        z = n(13043),
        q = n(74606),
        J = n(41130);
      function K(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e,
          a = (0, J.L)();
        return i.createElement(
          z.p,
          { NavigationManager: a, navID: n },
          i.createElement(q.g, null, t),
        );
      }
      var $ = n(82493),
        ee = n(8285),
        te = n(80212);
      function ne(e) {
        const t = oe(),
          n = (function () {
            const e = (0, ee.TH)();
            return (0, i.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (c.L7.logged_in) return { type: "account", global: !0 };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, h.bG)(n), global: !0 };
            }, [e.search]);
          })();
        return (
          (0, f.oA)(),
          t
            ? "replay" == n.type
              ? i.createElement(ie, { cartID: n })
              : i.createElement(ae, Object.assign({ cartID: n }, e))
            : i.createElement(d.V, { position: "center" })
        );
      }
      function ae(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [a, r] = i.useState(n),
          o = (function (e) {
            if ("gifts" === e) return (0, s.Xx)("#Cart_GiftOptions");
            return (0, s.Xx)("#Cart_YourShoppingCart");
          })(a);
        return i.createElement(
          re,
          { cartID: t, title: o, step: a, onStepChange: r },
          ({ cart: e, validatedCart: t }) =>
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                E.SV,
                null,
                i.createElement(se, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                }),
              ),
              i.createElement(
                E.SV,
                null,
                i.createElement(P, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function ie(e) {
        const { cartID: t } = e;
        return c.L7.logged_in
          ? i.createElement(
              re,
              {
                cartID: t,
                title: (0, s.Xx)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                i.createElement(
                  Z.r,
                  null,
                  (0, s.Xx)("#Cart_Replay_Instructions", 72),
                ),
            )
          : i.createElement(te.hx, null);
      }
      function re(e) {
        const {
            children: t,
            cartID: n,
            title: r,
            step: d,
            onStepChange: u,
          } = e,
          _ = (0, a._T)(e, [
            "children",
            "cartID",
            "title",
            "step",
            "onStepChange",
          ]),
          g = (function (e) {
            if ("gifts" === e)
              return i.createElement(
                i.Fragment,
                null,
                "> ",
                i.createElement(
                  "a",
                  { href: c.De.STORE_BASE_URL + "cart" },
                  (0, s.Xx)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(d);
        return i.createElement(
          K,
          null,
          i.createElement(
            p.ZP,
            { controller: "cart", method: "display", submethod: d },
            i.createElement(
              m.IF,
              Object.assign({ cartID: n, step: d, setStep: u }, _),
              i.createElement(le, null),
              i.createElement(
                "div",
                { className: o().ShoppingCartPage },
                i.createElement(
                  "div",
                  { className: o().ShoppingCartBreadcrumbs },
                  i.createElement(
                    "a",
                    { href: c.De.STORE_BASE_URL },
                    (0, s.Xx)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  g,
                  " ",
                  i.createElement(
                    "span",
                    { className: o().CurrentBreadcrumb },
                    "> ",
                    r,
                  ),
                ),
                i.createElement(
                  "div",
                  { className: o().ShoppingCartHeader },
                  r,
                ),
                i.createElement(l.y, null, t),
              ),
            ),
          ),
        );
      }
      function oe() {
        const [e, t] = i.useState(!1);
        return (
          i.useEffect(() => {
            e || (0, u.v)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function le(e) {
        const t = (function () {
          var e;
          const t = i.useRef(""),
            n = (0, _.g1)(),
            a = !t.current;
          let r = g.kI,
            o = -1;
          if (a) {
            const t =
                (null === (e = n.data) || void 0 === e
                  ? void 0
                  : e.line_items) || [],
              a = t.length
                ? t.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (r =
              (null == a ? void 0 : a.bundleid) ||
              (null == a ? void 0 : a.packageid) ||
              g.kI),
              (o = r === (null == a ? void 0 : a.bundleid) ? 2 : 1);
          }
          const l = {
              include_assets: !0,
              included_item_data_request: { include_assets: !0 },
              include_included_items: !0,
            },
            [s] = (0, f.jk)(r, o, l);
          if (s && a) {
            const e = v.Z.Get(),
              n = s.GetIncludedAppIDs();
            for (const a of n) {
              const n = e.GetApp(a);
              if (!n) continue;
              const i = n.GetAssets().GetPageBackgroundURL();
              if (i) {
                t.current = i;
                break;
              }
            }
          }
          return t.current;
        })();
        return i.createElement("div", {
          className: o().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function se(e) {
        const { isCartEmpty: t, cart: n } = e,
          a = (0, _.i2)();
        if (t) return i.createElement(ce, null);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(ce, null),
          i.createElement(W, { cart: n }),
          i.createElement(
            C.s,
            { "flow-children": "row", className: o().CartFooter },
            i.createElement(
              "div",
              null,
              i.createElement(
                Q.zx,
                {
                  onClick: () => (window.location.href = c.De.STORE_BASE_URL),
                  className: o().Button,
                },
                (0, s.Xx)("#Cart_ContinueShopping"),
              ),
            ),
            i.createElement(
              H.Qj,
              { onClick: () => a.mutate() },
              (0, s.Xx)("#Cart_RemoveAll"),
            ),
          ),
        );
      }
      function ce() {
        return c.De.IN_MOBILE_WEBVIEW
          ? i.createElement(
              Z.r,
              { className: o().BetaNotice },
              i.createElement(
                "div",
                { className: o().Icon },
                i.createElement(
                  "svg",
                  {
                    width: "31",
                    height: "34",
                    viewBox: "0 0 31 34",
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                  },
                  i.createElement("path", {
                    d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                    fill: "white",
                  }),
                  i.createElement("path", {
                    d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                    fill: "#1A9FFF",
                  }),
                  i.createElement("path", {
                    d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                    fill: "#1A9FFF",
                  }),
                  i.createElement(
                    "g",
                    { opacity: "0.8" },
                    i.createElement("path", {
                      d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: o().Text },
                (0, s.yu)(
                  "#Cart_GenericBetaNotice",
                  i.createElement($.IS, {
                    href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/3/4038104598693698820/",
                  }),
                ),
              ),
            )
          : null;
      }
    },
    58955: (e, t, n) => {
      "use strict";
      n.d(t, { IF: () => c, nD: () => l, pf: () => s });
      var a = n(43981),
        i = n(47427);
      const r = i.createContext({ step: "initial", setStep: () => {} });
      function o() {
        return (0, i.useContext)(r);
      }
      function l() {
        const e = o();
        return [e.step, e.setStep];
      }
      function s() {
        const e = o();
        return [e.cartWideGiftInfo, e.onCartWideGiftInfoChange];
      }
      function c(e) {
        const {
            step: t,
            setStep: n,
            cartID: o,
            cartWideGiftInfo: l,
            onCartWideGiftInfoChange: s,
            children: c,
          } = e,
          d = i.useMemo(
            () => ({
              step: t,
              setStep: n,
              cartWideGiftInfo: l,
              onCartWideGiftInfoChange: s,
            }),
            [t, n, l, s],
          );
        return i.createElement(
          r.Provider,
          { value: d },
          i.createElement(a.lh, { cartID: o }, c),
        );
      }
    },
  },
]);
