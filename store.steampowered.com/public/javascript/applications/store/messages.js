/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4158],
  {
    90366: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "eventrow_OtherEventsCtn_1qNsZ",
        OtherEvents_MainImageCtn: "eventrow_OtherEvents_MainImageCtn_1_8oy",
        OtherEvents: "eventrow_OtherEvents_2ioeM",
        OtherEvents_EventCtn: "eventrow_OtherEvents_EventCtn_17gGs",
        OtherEvents_MainImage: "eventrow_OtherEvents_MainImage_3xf4A",
        OtherEvents_BGImage: "eventrow_OtherEvents_BGImage_3rp-l",
        OtherEvents_ContentCtn: "eventrow_OtherEvents_ContentCtn_3QaFW",
        OtherEvents_TextCtn: "eventrow_OtherEvents_TextCtn_2AVL1",
        OtherEvents_TextTitle: "eventrow_OtherEvents_TextTitle_3Zufl",
        UpcomingCtn: "eventrow_UpcomingCtn_--lM7",
        OtherEvents_SubTitle: "eventrow_OtherEvents_SubTitle_2UUNj",
        HoversEnabled: "eventrow_HoversEnabled_34Nxj",
        PartnerEventRowCapsule_MainImage:
          "eventrow_PartnerEventRowCapsule_MainImage_2bZBn",
        EventSummaryContainer: "eventrow_EventSummaryContainer_3PdWg",
        EventSummaryText: "eventrow_EventSummaryText_h5tE8",
        EventSummaryType: "eventrow_EventSummaryType_1Fp_l",
        HorizontalEvent: "eventrow_HorizontalEvent_1RS0b",
        HorizontalSummary: "eventrow_HorizontalSummary_3_1Qo",
        HorizontalTitle: "eventrow_HorizontalTitle_1m9zE",
        HorizontalDescriptionCtn: "eventrow_HorizontalDescriptionCtn_2s9cB",
        HorizontalDescription: "eventrow_HorizontalDescription_Dc9KC",
        AppCapsuleImage: "eventrow_AppCapsuleImage_2vo-l",
        AppCapsuleCtn: "eventrow_AppCapsuleCtn_1kYha",
        AppCapsuleImageHover: "eventrow_AppCapsuleImageHover_rcwMf",
        AppCapsulePrice: "eventrow_AppCapsulePrice_Jq75m",
      };
    },
    49065: (e) => {
      e.exports = {
        MarketingMessagePage: "messagelist_MarketingMessagePage_1HVoK",
        MessageListPage: "messagelist_MessageListPage_1N7O3",
        MessageListScroll: "messagelist_MessageListScroll_2RW7G",
        CarouselBar: "messagelist_CarouselBar_O7VJK",
        Content: "messagelist_Content_1qtg3",
        LeftArrow: "messagelist_LeftArrow_3ZyZU",
        RightArrow: "messagelist_RightArrow_2WuPu",
        Active: "messagelist_Active_cwA5j",
        Spacer: "messagelist_Spacer_COvXC",
        PipContainer: "messagelist_PipContainer_3ASpk",
        Pips: "messagelist_Pips_1rpuG",
        Pip: "messagelist_Pip_ZQrtM",
        MessageListContainer: "messagelist_MessageListContainer_33cf4",
        Loading: "messagelist_Loading_1xSKZ",
        MessageWrapper: "messagelist_MessageWrapper_152h7",
        Enter: "messagelist_Enter_DZICE",
        EnterActive: "messagelist_EnterActive_RU-xm",
        EnterDone: "messagelist_EnterDone_3AP2Y",
        Exit: "messagelist_Exit_2xmDI",
        ExitActive: "messagelist_ExitActive_32DFH",
        ExitDone: "messagelist_ExitDone_3cFXR",
      };
    },
    64478: (e) => {
      e.exports = {
        MainContainer: "featuredlc_MainContainer_T3ysk",
        BackgroundImage: "featuredlc_BackgroundImage_3vQ5a",
        BaseCtn: "featuredlc_BaseCtn_D3UK8",
        CapsuleCtn: "featuredlc_CapsuleCtn_1-6Ey",
        DescCtn: "featuredlc_DescCtn_25xSf",
        GameNameCtn: "featuredlc_GameNameCtn_7lGQT",
        GameName: "featuredlc_GameName_vGL7e",
        LibraryDetails: "featuredlc_LibraryDetails_2t8tY",
        Button: "featuredlc_Button_2UC3D",
        PlayDetailCtn: "featuredlc_PlayDetailCtn_3QmX6",
        DlcCtn: "featuredlc_DlcCtn_3H7i0",
        Type: "featuredlc_Type_HmoaK",
        DealDesc: "featuredlc_DealDesc_3fPQt",
        OneItemRow: "featuredlc_OneItemRow_6a9d-",
        OneBigItem: "featuredlc_OneBigItem_2lKQi",
        TwoCapsuleRow: "featuredlc_TwoCapsuleRow_1s9-9",
        MessageFooter: "featuredlc_MessageFooter_2S4fB",
      };
    },
    92088: (e) => {
      e.exports = {
        Dummy: "featurevideo_Dummy_Bz-g3",
        PosterCtn: "featurevideo_PosterCtn_24bJJ",
        Poster: "featurevideo_Poster_3Lbyx",
        Video: "featurevideo_Video_2bH_J",
      };
    },
    4220: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        MessageContent: "image_MessageContent_rohJ-",
        IsBlur: "image_IsBlur_2lGtR",
        GameImage: "image_GameImage_2It5b",
        Legal: "image_Legal_zzC_W",
        MessageFooter: "image_MessageFooter_20RJ2",
        ButtonAndPriceCtn: "image_ButtonAndPriceCtn_2FwUG",
        NoButton: "image_NoButton_1FbSd",
        Btn: "image_Btn_3YohC",
        MessagePriceCtn: "image_MessagePriceCtn_ddVk7",
        Price: "image_Price_KtsI7",
        NoPrice: "image_NoPrice_3gtjP",
        PriceReal: "image_PriceReal_zlxx_",
        PriceRealShort: "image_PriceRealShort_1XB_w",
        PriceRegular: "image_PriceRegular_7m4i8",
        Strike: "image_Strike_3fFJl",
        ShareLinks: "image_ShareLinks_2FhhQ",
        All: "image_All_1WpMe",
        TextTop: "image_TextTop_3cnZM",
        TextBottom: "image_TextBottom_2pJeu",
        ButtonContainer: "image_ButtonContainer_3CVNg",
      };
    },
    53545: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ke: () => h,
        LP: () => f,
        N8: () => _,
        Q2: () => M,
        wM: () => E,
      });
      var s = a(85556),
        n = a(42718),
        r = a(47427),
        i = a(77936),
        l = a(35750),
        o = a(44237),
        c = a(37563),
        m = a(80998),
        u = a(51465),
        d = a(62210),
        g = a(54842);
      class _ {
        constructor(e) {
          (this.m_setMessagesSeen = new Set()), (this.m_SteamInterface = e);
        }
        static Init(e) {
          _.sm_Instance = new _(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, d.X)(_.sm_Instance, "MarketingMessages store not initialized"),
            _.sm_Instance
          );
        }
        GetMessageList(e, t = !1) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            if (!c.L7.logged_in) return [];
            const a = l.gA.Init(o.Pe);
            a.Body().set_country_code(c.De.COUNTRY),
              a.Body().set_elanguage((0, i.jM)(c.De.LANGUAGE)),
              a.Body().set_client_package_version(e.nClientPackageVersion),
              a.Body().set_operating_system(e.eOSType),
              t && a.Body().set_include_seen_messages(!0),
              (0, m.pA)(a),
              (0, m.De)(a, _.sm_DefaultDataRequest);
            const s = yield o.Bn.GetMarketingMessagesForUser(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 != s.GetEResult())
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            if (t)
              for (const e of s.Body().messages())
                e.already_seen() &&
                  this.m_setMessagesSeen.add(e.message().gid());
            return s.Body().messages();
          });
        }
        GetSingleMessage(e, t) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            const a = l.gA.Init(o.F5);
            let s;
            if (
              (a.Body().set_gid(e),
              (0, m.pA)(a),
              (0, m.De)(a, _.sm_DefaultDataRequest),
              (s = t
                ? yield o.Bn.GetDisplayMarketingMessageAdmin(
                    this.m_SteamInterfacePromotions.GetServiceTransport(),
                    a,
                  )
                : c.L7.logged_in
                ? yield o.Bn.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : yield o.Bn.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
              1 != s.GetEResult())
            )
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            return s.Body().message();
          });
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const s = l.gA.Init(o.UD);
          s.Body().set_gid(e),
            s.Body().set_display_index(t),
            s.Body().set_template_type(a),
            o.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      _.sm_DefaultDataRequest = { include_release: !0, include_assets: !0 };
      class p {
        constructor(e) {
          (this.m_templateVars = void 0),
            (0, g.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new u.Z(
                e.associated_item(),
                _.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == c.De.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e ||
              c.De.LANGUAGE != (0, i.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, i.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          var t;
          const a = (0, i.j_)(e);
          return null === (t = this.m_templateVars.webm[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetTemplateMP4(e) {
          var t;
          const a = (0, i.j_)(e);
          return null === (t = this.m_templateVars.mp4[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `Â© ${new Date().getFullYear()} Valve Corporation${
                e ? " and " + e : ""
              }. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, s.gn)([g.LO], p.prototype, "m_templateVars", void 0);
      const v = "^(replay)([0-9]{4})";
      function E(e) {
        const t = e.match(v);
        return null == t ? void 0 : t[2];
      }
      function f(e) {
        const t = e.match(v);
        return (
          (null == t ? void 0 : t[2]) &&
          !isNaN(Number(null == t ? void 0 : t[2]))
        );
      }
      function h(e, t, a) {
        const { bIncludeSeenMessages: i } = t,
          l = (0, s._T)(t, ["bIncludeSeenMessages"]),
          {
            data: o,
            isLoading: c,
            isError: m,
          } = (0, n.useQuery)(
            ["MarketingMessages", "List", l, { bIncludeSeenMessages: !!i }],
            () => e.GetMessageList(l, i),
            a,
          ),
          u = r.useMemo(
            () => (null == o ? void 0 : o.map((e) => new p(e.message()))),
            [o],
          );
        return { rgMessages: c ? null : u, isError: m };
      }
      function M(e, t, a) {
        const { data: s, isError: i } = (0, n.useQuery)(
          ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
          () => e.GetSingleMessage(t, a),
          { enabled: !!t },
        );
        return {
          message: r.useMemo(() => {
            var e;
            if (s) {
              const t = new p(s);
              if (a) {
                const a = (0, c.kQ)(
                  "marketingmessage_preview_config",
                  "application_config",
                );
                (null === (e = null == a ? void 0 : a.dlc_appid_overrides) ||
                void 0 === e
                  ? void 0
                  : e.length) > 0 &&
                  t.SetDLCAppIDOverride(a.dlc_appid_overrides);
              }
              return t;
            }
          }, [s, a]),
          isError: i,
        };
      }
    },
    40833: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => w, O: () => T });
      var s = a(47427),
        n = a(16610),
        r = a(82493),
        i = a(91618),
        l = a(3783),
        o = a(28347),
        c = a(77151),
        m = a(86437),
        u = a(80886),
        d = a(90366),
        g = a(85305),
        _ = a(85884),
        p = a(7769),
        v = a.n(p),
        E = a(47625),
        f = a(57803),
        h = a(91552),
        M = a(52841),
        y = a(83502),
        C = a(34913),
        S = a(22446),
        b = a(25006),
        P = a(13129),
        G = a(31846),
        A = a(13499),
        D = a(37563);
      const T = "capsule_index_";
      function w(e) {
        const {
            capsule: t,
            bShowParentApp: a,
            strExtraParams: o,
            elElementToAppendToHover: c,
            index: _,
            navKey: p,
            bHideStoreHover: E,
            onlyOneDiscountPct: f,
          } = e,
          [y, S] = s.useState(!1),
          [A] = (0, u.jk)(t.id, (0, m.TM)(t.type), n.bk),
          [w] = (0, u.vs)(a && (null == A ? void 0 : A.GetParentAppID()), n.bk),
          L = (0, b.bJ)(),
          k = (0, D.id)();
        if (!A) return null;
        const B = Boolean(w),
          N = s.createElement(
            I,
            Object.assign({}, e, {
              info: t,
              bIsHovered: y,
              bHasParentAppToDisplay: B,
              onlyOneDiscountPct: f,
            }),
          );
        return s.createElement(
          i.s,
          {
            className: (0, P.Z)({
              [v().OuterCapsuleContainer]: !0,
              [T + _]: 0 == _,
            }),
            navEntryPreferPosition: l.c4.PREFERRED_CHILD,
            navKey: p,
          },
          s.createElement(
            M.zw,
            { appid: A.GetAppID() },
            Boolean(E)
              ? s.createElement(s.Fragment, null, N)
              : s.createElement(
                  g.ll,
                  {
                    className: v().CapsuleContainer,
                    item: t,
                    elElementToAppend: e.elElementToAppendToHover,
                    bShowDemoButton: e.bShowDemoButton,
                    bShowDeckCompatibilityDialog:
                      e.bShowDeckCompatibilityDialog,
                    bHidePrice: e.bHidePrice,
                    bUseSubscriptionLayout: e.bUseSubscriptionLayout,
                    strExtraParams: e.strExtraParams,
                    fnOnHoverStateChange: !k && S,
                    nCreatorAccountID: e.creatorAccountID,
                  },
                  N,
                ),
            Boolean(c) && s.createElement("div", null, c),
          ),
          B &&
            s.createElement(
              r.Ks,
              Object.assign(
                { className: v().CapsuleParentInfo },
                (0, h.h)(w, L, k, e.strExtraParams),
              ),
              s.createElement(
                M.zw,
                { appid: w.GetAppID() },
                s.createElement(
                  "div",
                  { className: v().ParentType },
                  (0, G.Xx)(
                    11 == A.GetAppType()
                      ? "#SalePage_ParentApp_SoundTrack"
                      : "#SalePage_ParentApp_DLC",
                  ),
                ),
                s.createElement(
                  C._,
                  {
                    type: "app",
                    id: w.GetAppID(),
                    strExtraParams: e.strExtraParams,
                  },
                  s.createElement(
                    "img",
                    Object.assign(
                      {
                        loading: "lazy",
                        className: d.AppCapsuleImage,
                        alt: w.GetName(),
                        src: w.GetAssets().GetSmallCapsuleURL(),
                      },
                      (0, n.fn)(),
                    ),
                  ),
                ),
              ),
            ),
        );
      }
      function I(e) {
        var t;
        const {
            info: a,
            bHidePriceIfOwned: n,
            bHideStatusBanners: i,
            strExtraParams: l,
            imageType: d,
            bHasParentAppToDisplay: p,
            bUseSubscriptionLayout: v,
            elElementToAppendToHover: h,
            bHidePrice: C,
            bHidePlatforms: P,
            creatorAccountID: G,
            bIsHovered: D,
            onlyOneDiscountPct: T,
          } = e,
          [w] = (0, u.jk)(a.id, (0, m.TM)(a.type), { include_platforms: !0 }),
          I = (0, b.bJ)(),
          L =
            ((0, M.Dt)(a.type),
            (0, s.useMemo)(
              () => (null == w ? void 0 : w.GetIncludedAppIDsOrSelf()),
              [w],
            )),
          k =
            w &&
            (null == w
              ? void 0
              : w
                  .GetIncludedAppIDsOrSelf()
                  .every((e) => c.jg.Get().BOwnsApp(e)));
        if (!w) return null;
        const B = k && !i,
          N = (0, A.bk)((0, o.Hf)(`${w.GetStorePageURL()}${l || ""}`, I));
        let x,
          O = null;
        if (v && 0 == (null == w ? void 0 : w.GetStoreItemType()))
          O = s.createElement(y.r, { appid: w.GetAppID(), bIsMuted: D });
        else if (h);
        else {
          const t = k && n,
            r = B;
          O = s.createElement(_.Hl, {
            info: a,
            bShowAsMuted: r,
            bHidePrice: C,
            bShowInLibraryInsteadOfPrice: t,
            bHidePlatforms: P,
            creatorAccountID: G,
            bShowName: e.bShowName,
            onlyOneDiscountPct: T,
          });
        }
        return (
          "overrideNavigation" in a &&
            (x = (e) => (
              a.overrideNavigation(e),
              e.preventDefault(),
              e.stopPropagation(),
              !1
            )),
          s.createElement(
            r.IS,
            {
              href: x ? null : N,
              style: { display: "block", cursor: "pointer" },
              preferredFocus: p,
              onClick: x,
            },
            s.createElement(f.v, { appids: L, hide_status_banners: i }),
            s.createElement(_.a4, { imageType: d, info: a }),
            s.createElement(S.y, {
              eDeckCompatibilityCategory:
                null === (t = null == w ? void 0 : w.GetPlatforms()) ||
                void 0 === t
                  ? void 0
                  : t.steam_deck_compat_category,
            }),
            Boolean(D && !(0, g.Hu)()) && s.createElement(E.v, { appInfo: a }),
            O,
          )
        );
      }
    },
    40945: (e, t, a) => {
      "use strict";
      a.d(t, { KY: () => l, Ks: () => c, li: () => o });
      var s = a(47427),
        n = a(43235),
        r = a(37563);
      const i = s.createContext({ setLegalText: void 0 });
      function l() {
        return !!s.useContext(i).setLegalText;
      }
      function o() {
        return s.useContext(i).setLegalText || function (e) {};
      }
      function c(e) {
        const [t, a] = s.useState(),
          l = (0, n.U5)("BrowserView.RegisterForMessageFromParent"),
          o = (0, r.id)(),
          c = s.useMemo(
            () => ({ setLegalText: l && !o ? a : void 0 }),
            [l, a, o],
          );
        return s.createElement(
          i.Provider,
          { value: c },
          l && s.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = s.useRef();
        return (
          s.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          s.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    18641: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => n, h: () => r });
      var s = a(47427);
      function n(e) {
        const { title: t, bodyClassName: a, children: n } = e;
        return (
          s.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          n
        );
      }
      function r(e) {
        s.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    54117: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => n });
      var s = a(31846);
      function n(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let n = s.Yt.GetPreferredLocales(),
            r = a.toLocaleString(n, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, s.Xx)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, s.Xx)(t + "Minute", e)
          : (0, s.Xx)(t + "Minutes", e);
      }
    },
    16305: (e, t, a) => {
      "use strict";
      a.d(t, { hF: () => _, pT: () => p });
      var s = a(85556),
        n = a(42718),
        r = a(35750),
        i = a(40057),
        l = a(22520),
        o = a(82182),
        c = a(65255),
        m = a(37563),
        u = a(25006),
        d = a(50423),
        g = a(47427);
      function _(e) {
        const t = (0, i.bY)();
        let a = (0, n.useQuery)(
          ["useGamePlaytimeInfo", e],
          () =>
            (0, s.mG)(this, void 0, void 0, function* () {
              return (function (e, t) {
                return (0, s.mG)(this, void 0, void 0, function* () {
                  const a = r.gA.Init(o.pp);
                  a.Body().set_steamid(c.L7.steamid),
                    a.Body().set_appids_filter([e]),
                    a.Body().set_include_played_free_games(!0),
                    a.Body().set_language(c.De.LANGUAGE);
                  const s = yield o.lk.GetOwnedGames(t, a);
                  return s.Body().games().length > 0
                    ? s.Body().games()[0].toObject()
                    : {};
                });
              })(e, t);
            }),
          { enabled: Boolean(e && e != l.kI) },
        );
        return a.isSuccess ? a.data : null;
      }
      function p(e, t) {
        let a = (0, u.YR)(
          (function (e) {
            return (0, m.h4)() &&
              (null == e
                ? void 0
                : e.startsWith("https://store.steampowered.com"))
              ? e.replace(
                  "https://store.steampowered.com",
                  "https://store.steamchina.com",
                )
              : e;
          })(e),
          t,
        );
        return (
          a.startsWith("steam://") || (a = `steam://openurl/${a}`),
          (0, g.useCallback)(
            (e) => {
              (0, d.RA)(e).location.href = a;
            },
            [a],
          )
        );
      }
    },
    94012: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => l, U: () => o });
      var s = a(47427),
        n = a(8285),
        r = a(82756);
      const i = s.createContext({ prioritized_list: !1 });
      function l(e) {
        const [t, a] = s.useState(),
          l = (0, n.TH)(),
          o = s.useMemo(() => {
            new URLSearchParams(l.search);
            return {};
          }, [l.search]);
        return (
          s.useLayoutEffect(() => {
            const e =
              1 ==
              (0, r.kQ)("marketingmessage_config", "application_config")
                .prioritized_list;
            a({ prioritized_list: e });
          }, [o]),
          t ? s.createElement(i.Provider, { value: t }, e.children, " ") : null
        );
      }
      function o() {
        return s.useContext(i).prioritized_list;
      }
    },
    70267: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => ce, U: () => oe });
      var s = a(47427),
        n = a(77936),
        r = a(53545),
        i = a(40945),
        l = a(37563),
        o = a(27299),
        c = a(16305),
        m = a(82493),
        u = a(85556),
        d = a(80751),
        g = a.n(d),
        _ = a(42718),
        p = a(22520),
        v = a(65255);
      function E(e) {
        const {
          isLoading: t,
          isError: a,
          data: s,
        } = (0, _.useQuery)(
          ["useDLCHubCount", e],
          () =>
            (0, u.mG)(this, void 0, void 0, function* () {
              return (function (e) {
                var t, a;
                return (0, u.mG)(this, void 0, void 0, function* () {
                  const s = `${v.De.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                    n = { origin: self.origin },
                    r = yield g().get(s, { params: n, withCredentials: !1 });
                  if (200 !== r.status || 1 !== r.data.success)
                    throw new Error(
                      `FetchDLCCount failed: status == ${
                        r.status
                      }, eresult == ${
                        null === (t = r.data) || void 0 === t
                          ? void 0
                          : t.success
                      }, err_msg == ${
                        null === (a = r.data) || void 0 === a
                          ? void 0
                          : a.err_msg
                      }`,
                    );
                  return r.data.count;
                });
              })(e);
            }),
          { enabled: Boolean(e && e != p.kI) },
        );
        return t || a ? null : s;
      }
      var f = a(86437),
        h = a(80886),
        M = a(85884),
        y = a(40833),
        C = a(61183),
        S = a(25006),
        b = a(31846),
        P = a(54117),
        G = a(64478),
        A = a(30750),
        D = a(91618),
        T = a(10162),
        w = a(92797);
      function I(e, t, a, s) {
        if (!s) return null;
        const n = a ? "?t=" + a : "";
        return s.path.startsWith("images")
          ? `${v.De.MEDIA_CDN_URL}steam/marketing/${e}/${s.path}${n}`
          : `${v.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${s.path}${n}`;
      }
      var L = a(20417);
      function k(e) {
        var t;
        const { path: a, message: n, eLanguage: r } = e,
          i = (0, u._T)(e, ["path", "message", "eLanguage"]),
          l =
            null === (t = n.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          o = I(n.id, r, l, { type: "file", path: a });
        return s.createElement("img", Object.assign({}, i, { src: o }));
      }
      function B(e) {
        var t;
        const { message: a, mp4Path: n, webmPath: r, language: i } = e,
          l = (0, u._T)(e, ["message", "mp4Path", "webmPath", "language"]),
          o =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          c = I(a.id, i, o, { type: "file", path: r }),
          m = I(a.id, i, o, { type: "file", path: n }),
          d = (0, s.useRef)(null),
          g = (0, s.useRef)(!1),
          _ = (0, s.useCallback)(() => {
            d.current &&
              ("visible" === document.visibilityState
                ? g.current && (d.current.play(), (g.current = !1))
                : d.current.paused || (d.current.pause(), (g.current = !0)));
          }, []);
        return (
          (0, L.JI)(document, "visibilitychange", _),
          (0, s.useEffect)(() => _(), [_]),
          s.createElement(
            "video",
            Object.assign({}, l, { ref: d }),
            s.createElement("source", { src: c, type: "video/webm" }),
            s.createElement("source", { src: m, type: "video/mp4" }),
          )
        );
      }
      a(14609);
      var N = a(13129),
        x = a(94012),
        O = a(62613),
        R = a(13499),
        V = a(92088);
      function H(e) {
        const t = oe(),
          [a, n] = (0, s.useState)(!1);
        return s.createElement(
          D.s,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: () => n(!0),
            className: V.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !0,
                  muted: !0,
                  autoPlay: !0,
                  className: V.Video,
                  crossOrigin:
                    "dev" == v.De.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, R.et)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!v.De.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, R.et)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(F, { message: t }),
              )
            : s.createElement(U, { message: t }),
        );
      }
      function U(e) {
        var t;
        const { message: a } = e,
          n =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          [r, i] = a.GetPosterImage(),
          l = I(a.id, i, n, { type: "file", path: r });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: l, className: V.Poster }),
          s.createElement(O.GhU, null),
        );
      }
      function F(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            var e;
            const a = t.GetSubtitleObj(),
              r =
                null === (e = t.GetTemplateVars()) || void 0 === e
                  ? void 0
                  : e.last_asset_mtime,
              i = new Array();
            for (let e = 0; e < 31; ++e) {
              if (!b.LJ.IsELanguageValidInRealm(e, v.De.EREALM)) continue;
              const l = (0, n.j_)(e);
              if (a && a[l]) {
                const o = a[l].path,
                  c = I(t.id, e, r, { type: "file", path: o });
                i.push(
                  s.createElement("track", {
                    key: t.id + " " + e,
                    src: c,
                    kind: "subtitles",
                    srcLang: (0, n.dt)(e),
                    default: v.De.LANGUAGE == l,
                    label: (0, b.Xx)("#language_selection_" + (0, n.j_)(e)),
                  }),
                );
              }
            }
            return i;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      var j = a(4220);
      function $(e) {
        const { bLowBandwidthMode: t } = e,
          a = oe(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display,
          r = (0, x.U)();
        return s.createElement(
          S.ZP,
          { submethod: r ? "prioritized_list" : "default_list" },
          s.createElement(
            "div",
            { className: j.All },
            s.createElement(
              "div",
              { className: j.MessageContent },
              s.createElement(Z, {
                isBackgroundBlur: !0,
                bOverrideUseBackgroundImage: n,
              }),
              s.createElement(Z, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(H, null),
              s.createElement(X, null),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          ),
        );
      }
      function W(e) {
        return s.createElement(
          "div",
          { className: j.All },
          s.createElement(
            "div",
            { className: j.MessageContent },
            s.createElement(Z, { isBackgroundBlur: !0 }),
            s.createElement(z, null),
            s.createElement(X, null),
            s.createElement("div", { style: { clear: "both" } }),
          ),
        );
      }
      function Z(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = oe(),
          r = (0, c.pT)(n.GetTemplateVars().linkurl, "image"),
          [i, l] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          D.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, N.Z)(j.GameImage, t && j.IsBlur),
            onActivate: r,
          },
          i && s.createElement(k, { message: n, path: i, eLanguage: l }),
        );
      }
      function z(e) {
        const t = oe(),
          a = (0, c.pT)(t.GetTemplateVars().linkurl, "image"),
          r = (0, n.jM)(l.De.LANGUAGE),
          i = t.GetTemplateMP4(r),
          o = t.GetTemplateWebM(r);
        return s.createElement(
          D.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, N.Z)(j.GameImage),
            onActivate: a,
          },
          s.createElement(B, {
            muted: !0,
            autoPlay: !0,
            controls: !1,
            loop: !0,
            mp4Path: i,
            message: t,
            webmPath: o,
            language: r,
          }),
        );
      }
      function X(e) {
        const { bHidePrice: t } = e,
          a = oe(),
          n = (0, c.pT)(a.GetTemplateVars().linkurl, "button"),
          [r, i] = (0, A.SZ)(() => [
            a.GetTemplateVars().button_text_custom ||
              a.GetTemplateVars().button_text,
            Boolean(a.GetTemplateVars().hide_price),
          ]),
          l = Boolean(t || i);
        return s.createElement(
          "div",
          { className: (0, N.Z)(j.MessageFooter, !1, G.MessageFooter) },
          s.createElement(
            "div",
            { className: j.ButtonAndPriceCtn },
            s.createElement(
              D.s,
              {
                focusable: !0,
                noFocusRing: !0,
                className: j.Btn,
                onActivate: n,
              },
              r,
            ),
            Boolean(!l) &&
              s.createElement(T.SV, null, s.createElement(K, null)),
          ),
          s.createElement(Q, null),
        );
      }
      function K() {
        const e = oe().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: j.MessagePriceCtn },
              s.createElement(w.nk, { storeItem: e }),
            )
          : s.createElement("div", { className: j.NoPrice });
      }
      function Q(e) {
        const t = oe();
        return (0, i.KY)()
          ? null
          : s.createElement("div", {
              className: j.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      const J = { include_assets: !0 };
      function Y(e) {
        var t;
        const { bPreview: a } = e,
          n = oe(),
          [r, i] = (0, s.useMemo)(
            () => [
              n.GetDLCAppIDs(),
              n.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [n],
          );
        (0, h.wZ)(r, J);
        const l = E(
          null === (t = null == n ? void 0 : n.associated_item) || void 0 === t
            ? void 0
            : t.GetAppID(),
        );
        return (
          (0, s.useEffect)(() => {
            if (n) {
              const e = Boolean(l)
                ? (0, b.kb)("#MarketingMessages_See_Count_Items", l)
                : (0, b.Xx)("#MarketingMessages_See_All_Items");
              n.OverrideCustomText(e),
                n.OverrideURL(
                  `${v.De.STORE_BASE_URL}dlc/${n.associated_item.GetAppID()}`,
                );
            }
          }, [n, l]),
          s.createElement(
            S.ZP,
            { submethod: "dlc_override" },
            s.createElement(
              "div",
              { className: G.MainContainer },
              s.createElement(
                "div",
                { className: G.BackgroundImage },
                s.createElement(ee, { storeItem: n.associated_item }),
                s.createElement(ee, { storeItem: n.associated_item }),
              ),
              s.createElement(q, { storeItem: n.associated_item, bPreview: a }),
              s.createElement(ae, {
                rgDLCSaleCapsules: i,
                messageType: n.GetType(),
              }),
              s.createElement(X, { bHidePrice: !0 }),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          )
        );
      }
      function q(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          r = (0, c.hF)(t.GetAppID()),
          i = (0, s.useMemo)(() => {
            if (
              a &&
              (!(null == r ? void 0 : r.playtime_forever) ||
                !(null == r ? void 0 : r.rtime_last_played))
            ) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return r;
          }, [r, a]),
          l = "steam://nav/games/details/" + t.GetID();
        return s.createElement(
          "div",
          { className: G.BaseCtn },
          s.createElement(
            m.IS,
            { className: G.CapsuleCtn, href: l },
            s.createElement(C.N, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: G.DescCtn },
            s.createElement(
              "div",
              { className: G.GameNameCtn },
              s.createElement(
                m.IS,
                { className: G.GameName, href: l },
                t.GetName(),
              ),
            ),
            s.createElement(
              "div",
              { className: G.LibraryDetails },
              s.createElement(
                "div",
                { className: G.Btn },
                s.createElement(
                  m.IS,
                  { href: l, className: G.Button },
                  (0, b.Xx)("#EventDisplay_ViewInLibrary"),
                ),
              ),
              Boolean(null == i ? void 0 : i.rtime_last_played) &&
                s.createElement(
                  "div",
                  { className: G.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, b.Xx)("#MarketingMessages_DLC_lastplayed"),
                  ),
                  (0, b.m9)(i.rtime_last_played),
                ),
              Boolean(null == i ? void 0 : i.playtime_forever) &&
                s.createElement(
                  "div",
                  { className: G.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, b.Xx)("#MarketingMessages_DLC_hours"),
                  ),
                  (0, P.W)(i.playtime_forever),
                ),
            ),
          ),
        );
      }
      function ee(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetLibraryHeroURL();
        return a ? s.createElement("img", { src: a }) : null;
      }
      function te(e) {
        const { messageType: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(2 === t) &&
            s.createElement(
              "div",
              { className: G.Type },
              (0, b.Xx)("#spotlight_weekend_deal"),
            ),
          Boolean(11 === t) &&
            s.createElement(
              "div",
              { className: G.Type },
              (0, b.Xx)("#spotlight_midweek_madness"),
            ),
          Boolean(12 === t) &&
            s.createElement(
              "div",
              { className: G.Type },
              (0, b.Xx)("#spotlight_daily_deal"),
            ),
          s.createElement(
            "div",
            { className: G.DealDesc },
            (0, b.Xx)("#MarketingMessages_DLC_desc"),
          ),
        );
      }
      function ae(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: G.DlcCtn },
              s.createElement(te, { messageType: a }),
              s.createElement(se, { first: t[0], second: t[1] }),
              s.createElement(se, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
          ? s.createElement(
              "div",
              { className: G.DlcCtn },
              s.createElement(te, { messageType: a }),
              s.createElement(
                "div",
                { className: G.OneItemRow },
                s.createElement(ie, { id: t[0].id, type: t[0].type }),
              ),
              s.createElement(se, { first: t[1], second: t[2] }),
            )
          : t.length >= 2
          ? s.createElement(
              "div",
              { className: G.DlcCtn },
              s.createElement(te, { messageType: a }),
              s.createElement(
                "div",
                { className: G.OneItemRow },
                s.createElement(ie, { id: t[0].id, type: t[0].type }),
              ),
              s.createElement(
                "div",
                { className: G.OneItemRow },
                s.createElement(ie, { id: t[1].id, type: t[1].type }),
              ),
            )
          : t.length >= 1
          ? s.createElement(
              "div",
              { className: G.DlcCtn },
              s.createElement(te, { messageType: a }),
              s.createElement(
                "div",
                { className: G.OneBigItem },
                s.createElement(re, { capsule: t[0], imageType: "main" }),
              ),
            )
          : null;
      }
      function se(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: G.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: G.DlcCtn },
            s.createElement(re, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: G.DlcCtn },
            s.createElement(re, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function ne(e, t) {
        const [a] = (0, h.jk)(e, (0, f.TM)(t), { include_platforms: !0 });
        return (0, c.pT)(
          a ? a.GetStorePageURL() : v.De.STORE_BASE_URL,
          "dlc_capsule",
        );
      }
      function re(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = ne(t.id, t.type)),
          s.createElement(y.B, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function ie(e) {
        const { id: t, type: a } = e,
          n = ne(t, a);
        return s.createElement(M.ju, {
          id: t,
          type: a,
          fnOnClickOverride: n,
          bIsMarketingMessage: !0,
        });
      }
      const le = s.createContext(null);
      function oe() {
        return s.useContext(le);
      }
      function ce(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          r = (0, i.li)();
        return (
          s.useEffect(() => {
            n && r(t.GetLegalHTML());
          }, [n, t, r]),
          s.createElement(
            le.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(ue, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const me = s.lazy(() => a.e(938).then(a.bind(a, 21400)));
      function ue(e) {
        const { message: t, active: a, preview: i } = e,
          c = (0, n.jM)(l.De.LANGUAGE),
          { bLowBandwidthMode: m } = (0, o.YW)();
        if (
          (0, r.LP)(t.GetTemplateVars().custom_display || "") &&
          l.L7.logged_in
        ) {
          const e = Number((0, r.wM)(t.GetTemplateVars().custom_display || ""));
          return isNaN(e) ? null : s.createElement(me, { active: a, year: e });
        }
        return "dlc_override" === t.GetTemplateVars().custom_display
          ? s.createElement(Y, { bPreview: i })
          : "image" === t.GetTemplateType()
          ? (0, o.p8)(t, c, m)
            ? s.createElement(W, null)
            : s.createElement($, { bLowBandwidthMode: m })
          : null;
      }
    },
    27299: (e, t, a) => {
      "use strict";
      a.d(t, { YW: () => r, j4: () => i, p8: () => l });
      var s = a(47427),
        n = a(8285);
      function r() {
        const e = (0, n.TH)();
        return s.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function i(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function l(e, t, a) {
        return (
          !(a || !e.BHasTemplateAnimatedAssets()) &&
          e.BHasTemplateAnimatedAssetForLanguage(t)
        );
      }
    },
    45127: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => I, default: () => L });
      var s = a(760),
        n = a(94012),
        r = a(53545),
        i = a(47427),
        l = a(8285),
        o = a(1485),
        c = a(31846),
        m = a(27299),
        u = a(49065),
        d = a(62613),
        g = a(13129),
        _ = a(50321),
        p = a(18641),
        v = a(46882),
        E = a(70267);
      const f = 8;
      function h(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, m.YW)(),
          { rgMessages: s, isError: n } = (0, r.Ke)(t, a),
          [o, d] = i.useState(!1),
          [g, _] = i.useState(0);
        (0, p.h)(u.MarketingMessagePage);
        const v = (0, l.k6)();
        if (
          (i.useEffect(() => {
            !s ||
              s.length ||
              n ||
              (a.bIncludeSeenMessages
                ? d(!0)
                : v.replace(
                    Object.assign(Object.assign({}, v.location), {
                      search: (0, m.j4)(
                        Object.assign(Object.assign({}, a), {
                          bIncludeSeenMessages: !0,
                        }),
                      ),
                    }),
                  ));
          }, [s, a, v, n]),
          n)
        )
          return i.createElement(
            b,
            null,
            (0, c.Xx)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (o)
          return i.createElement(
            b,
            null,
            (0, c.Xx)("#MarketingMessages_NoneAvailable"),
          );
        const E = a.bIncludeSeenMessages
          ? s
          : null == s
          ? void 0
          : s.slice(0, f);
        return i.createElement(
          "div",
          { className: u.MessageListPage },
          i.createElement(
            "div",
            { className: u.MessageListScroll },
            i.createElement(M, {
              MarketingMessagesStore: t,
              rgMessages: E,
              iActiveMessage: g,
            }),
          ),
          i.createElement(y, {
            cMessages: null == E ? void 0 : E.length,
            iMessage: g,
            setMessage: _,
          }),
        );
      }
      function M(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: s,
        } = e;
        return a
          ? i.createElement(
              "div",
              { className: u.MessageListContainer },
              null == a
                ? void 0
                : a.map((e, a) =>
                    i.createElement(P, {
                      key: e.id,
                      displayIndex: a,
                      message: e,
                      MarketingMessagesStore: t,
                      active: a == s,
                      next: a == s + 1 || a == s - 1,
                    }),
                  ),
            )
          : i.createElement(
              "div",
              { className: (0, g.Z)(u.MessageListContainer, u.Loading) },
              i.createElement(v.V, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function y(e) {
        const { cMessages: t, iMessage: a, setMessage: s } = e,
          n = i.useCallback(() => s(a - 1), [s, a]),
          r = i.useCallback(() => s(a + 1), [s, a]),
          l = [];
        for (let e = 0; e < t; e++)
          l.push(
            i.createElement(C, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: s,
            }),
          );
        const o = a > 0 ? n : void 0,
          c = a < t - 1 ? r : void 0;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement("div", { className: u.CarouselSpacer }),
          i.createElement(
            "div",
            { className: u.CarouselBar },
            i.createElement(
              "div",
              { className: u.Content },
              i.createElement(
                "div",
                { className: (0, g.Z)(u.LeftArrow, o && u.Active), onClick: o },
                i.createElement(d.BKy, { angle: 180 }),
              ),
              i.createElement("div", { className: u.Spacer }),
              i.createElement(
                "div",
                { className: u.PipContainer },
                i.createElement("div", { className: u.Pips }, l),
              ),
              i.createElement("div", { className: u.Spacer }),
              i.createElement(
                "div",
                { className: (0, g.Z)(u.LeftArrow, c && u.Active), onClick: c },
                i.createElement(d.BKy, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function C(e) {
        const { active: t, iMessage: a, setMessage: s } = e,
          n = i.useCallback(() => s(a), [s, a]);
        return i.createElement("div", {
          className: (0, g.Z)(u.Pip, t && u.Active),
          onClick: n,
        });
      }
      function S(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          s = (0, l.$B)(),
          { message: n, isError: o } = (0, r.Q2)(t, s.params.messageid, a);
        return (
          (0, p.h)(u.MarketingMessagePage),
          o
            ? i.createElement(
                b,
                null,
                (0, c.Xx)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : s.params.messageid
            ? n
              ? i.createElement(E.v, { message: n, preview: a })
              : null
            : i.createElement(
                b,
                null,
                (0, c.Xx)("#MarketingMessages_NoneAvailable"),
              )
        );
      }
      function b(e) {
        return i.createElement(
          o.VY,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          i.createElement(o.h4, null, (0, c.Xx)("#Error_Generic"), " "),
          i.createElement(o.uT, null, e.children),
        );
      }
      function P(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: s,
            next: n,
            displayIndex: r,
          } = e,
          l = i.useRef(),
          o = i.useRef(s || n);
        if (
          ((function (e, t, a) {
            i.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, s ? t : null, r),
          (s || n) && (o.current = !0),
          !o.current)
        )
          return null;
        let c = {
          enter: u.Enter,
          enterActive: u.EnterActive,
          enterDone: u.EnterDone,
          exit: u.Exit,
          exitActive: u.ExitActive,
          exitDone: u.ExitDone,
        };
        return i.createElement(
          _.Z,
          {
            in: s,
            nodeRef: l,
            classNames: c,
            timeout: 300,
            mountOnEnter: !n,
            unmountOnExit: !n,
          },
          i.createElement(
            "div",
            { className: (0, g.Z)(u.MessageWrapper, s && u.Active), ref: l },
            i.createElement(E.v, { message: t, active: s }),
          ),
        );
      }
      var G = a(40057),
        A = a(77581),
        D = a(40945),
        T = a(25006),
        w = a(37563);
      const I = {
        List: () => `${s.Z.MarketingMessages()}list/`,
        Message: (e) => `${s.Z.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${s.Z.MarketingMessages()}preview/${e}`,
      };
      function L(e) {
        const t = (function () {
          const [e, t] = i.useState(null),
            a = (0, G.lS)();
          return (
            i.useLayoutEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!k) {
                      const t = (0, w.kQ)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (
                        ((k = new r.N8(e)),
                        null == t ? void 0 : t.promotion_operation_token)
                      ) {
                        const e = new A.J(
                          w.De.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        k.SetSteamInterfacePromotions(e);
                      }
                    }
                    return k;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? i.createElement(
              T.ZP,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              i.createElement(
                n.H,
                null,
                i.createElement(
                  D.Ks,
                  null,
                  i.createElement(
                    l.rs,
                    null,
                    i.createElement(
                      l.AW,
                      { path: `${I.List()}` },
                      i.createElement(h, { MarketingMessagesStore: t }),
                    ),
                    i.createElement(
                      l.AW,
                      { path: `${I.MessagePreview(":messageid")}` },
                      i.createElement(S, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    i.createElement(
                      l.AW,
                      { path: `${I.Message(":messageid")}` },
                      i.createElement(S, { MarketingMessagesStore: t }),
                    ),
                    i.createElement(
                      l.AW,
                      null,
                      i.createElement(l.l_, { to: `${I.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let k;
    },
  },
]);
