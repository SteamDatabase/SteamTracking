/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [5871],
  {
    33924: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        narrowWidth: "500px",
        OtherEventsCtn: "_9H6b5yfaxlmcnHvkqtwDK",
        OtherEvents_MainImageCtn: "_2qyLPxO8_nkczRvFiaju8N",
        OtherEvents: "_16DzRvjcqFcYr0NYcWmTrg",
        OtherEvents_EventCtn: "_1MwNf8slOG9lOvAeOshmuu",
        OtherEvents_MainImage: "_3_wKbXvT7_y5YkrtadL0I6",
        OtherEvents_BGImage: "_2pPj9UWoWM6h318uBN0-8X",
        OtherEvents_ContentCtn: "_22jEpNTfml-w_aRJV-fKDm",
        MaskImages: "_1kFdtNfhXozP4yI_qOv2H-",
        HoversEnabled: "_3o6M87A6T172WsUE6MNvdW",
        OtherEvents_TextCtn: "_3-EtNa1Nr_737K0kglkT9C",
        OtherEvents_TextTitle: "_2jc1DpJ_WzFtigRh5qDWce",
        UpcomingCtn: "_2CXrGPtlQh-j3aSa6XsQDI",
        OtherEvents_SubTitle: "_1Swox5XYdeesack-J7fNLH",
        PartnerEventRowCapsule_MainImage: "bC2Zkx7FlANno4SW8FwB-",
        EventSummaryContainer: "_2GYp44BuZLfKRQdeILTDC3",
        EventSummaryText: "ENbI1gFgvIca6HSKAbfiJ",
        EventSummaryType: "_11JXznGoylLSEmZXZbgcsq",
        HorizontalEvent: "_1ruRSreC31IK4kUGUcSRDK",
        HorizontalSummary: "_2bTWamVtbFnHovwqhlrxiV",
        HorizontalTitle: "B9-wlbaW3NhZ3FQPArnkW",
        HorizontalDescriptionCtn: "_3CQtWw7qMAWImOwd8J5xHi",
        HorizontalDescription: "_2hPZwxDYhaY3SllhjeFqb_",
        AppCapsuleImage: "_3OzV3h4jW1bkLmB6TqbYmo",
        CapsuleShadow: "_2rjkJQtvus70aLmbfGoneD",
        AppCapsuleCtn: "_16au-uWHggl6G731aw_eHt",
        AppCapsuleImageHover: "IeC3X0McKdGC79BsC3VvM",
        AppCapsulePrice: "_2-l2M5GPuxKFwV8h1tc_fH",
      };
    },
    91970: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        strMediumWidth: "800px",
        strMaxMobileWidth: "600px",
        MediaContainer: "-ap7mXqcxyhrxn5-5EaM8",
        MediaContainerMM: "_1XVJzaNLt0tgl6Pq5QI2tK",
        ScreenshotThumbnailRow: "COp9MkmgXCc5Y3ytJM70W",
        HilightGrid: "_28DkEkOjvTWfq0sU8m_i32",
        MainMediaCtn: "FATLceF4ncP8L8QnrQTXV",
        VideoThumbnail: "h0pphNa_Fdu4JUevL5V9y",
        ScreenshotDisplayCtn: "_20YpaGv3V_QArQyy15zAJc",
        MainCapsuleWithHover: "_30BxsjSFrUWCBKntWK9hPg",
        MainCapsule: "_2UuNsdHxhT9la27J_j3BFs",
        AppDetails: "ETHkFxrlPF1znTFXFtjtK",
        GameName: "udhKC-bUdlotRKphK3Fn2",
        ShortDesc: "_2e5PhNJqb68XISttHxdVF2",
        ThumbnialClickable: "_3B8X2c5pBF96hapgz03tC4",
        ThumbnailCtn: "rE40TQ86G7cjVETvUYZm3",
        videoPlaying: "_3D99vg3-OLr6XsvxrtzhZa",
        VideoPlayButton: "_2sJlIVAVWZ2I2iA6IO4pOv",
        VideoLargeContainer: "_3mzKCP4FLx7fUVeKrhZ1nn",
        VideoPopupContainers: "_2LqAoKcZgpOtpoj5_URVNJ",
        VideoLarge: "_3zPl6O67BYIiFOlq7FxlJP",
      };
    },
    91291: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        narrowWidth: "500px",
        TwoWidthCtn: "_49thIpYeG08pUfNc1x_w9",
        TwoWidthCapsule: "_78Qv2C95AM2DNCuLD5o8U",
        TwoWidthSideInfo: "_2qz5D65VkY796Xw-al9f_a",
        Reason: "_2h0GKAYcXRP10ryZHFn79d",
        StoreSaleItemRelease: "wJ7ZiTc09km2kH4mSsZ9j",
      };
    },
    84121: (e) => {
      e.exports = {
        MarketingMessagePage: "_1HVoKfdcaouK3kHKX2kH5t",
        MessageListPage: "_1N7O3VXbkpN2z55HsSDZsi",
        MessageListScroll: "_2RW7G8Bi-8k-29anQh8Ie8",
        CarouselBar: "O7VJKyPtoS7TXCr6mrwCr",
        Content: "_1qtg3ASXX4ClYiTHPq9Tkl",
        LeftArrow: "_3ZyZUkBq73dLvZ6zKdM9PQ",
        RightArrow: "_2WuPusSmjw_B4rfkgb-NV8",
        Active: "cwA5j4AsP5OB7WjWuOlFv",
        Spacer: "COvXCP3wZxk_s1ho7e3WO",
        PipContainer: "_3ASpk2zuTuDhIXKorFGF_L",
        Pips: "_1rpuGJtVR-xrddd9ui6IWu",
        Pip: "ZQrtMhZB1tpkd2bgBXyIF",
        MessageListContainer: "_33cf4TnmCK5XdTjanW9bVf",
        Loading: "_1xSKZdDmIvXYCmFif6fSAq",
        MessageWrapper: "_152h7KWYvm_9hIyzRzh8kl",
        Enter: "DZICERQkVmyCBP2E-PwlH",
        EnterActive: "RU-xm1VaMHf9H7o1TFkVO",
        EnterDone: "_3AP2YQ_mKZF-H78sMt3rKC",
        Exit: "_2xmDIRYN5Pu_eHRMjWop63",
        ExitActive: "_32DFHj9NmyNtEK-3K3nKuX",
        ExitDone: "_3cFXRpyI9jrZ2qCySg3fiT",
      };
    },
    92609: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AutoRenderContents: "_1H1L2spV-tto6AJmQMSfsA",
        TitleContainer: "_2iA76-Eh1ID-HXFGGR5BoH",
        TypeTitle: "klzItvORTtJ0Eeg8ArDrN",
        TypeSubTitle: "QPZq6bu7lf50YpRKZgPCc",
      };
    },
    720: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        UpdateEventCtn: "_3ICxVDu3-Bkx9aqyLehGGP",
        EventType: "fRZmXDVszenGo5WnHprTJ",
        EventTitle: "_3ceduHPK-lBiZ5fsmCstLP",
        EventImage: "zDfA0bzAjCUkfaQx_KvS7",
      };
    },
    16205: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        BackgroundImage: "_3vQ5a1hrg4SbTU1Uw3351z",
        DlcCtn: "_3H7i0ChQjoGWieNRcKmYea",
        Type: "HmoaKPBZvHxysTOtEt6I_",
        DealDesc: "_3fPQtBXFQwL3xrK4zmpmyq",
        OneItemRow: "_6a9d-uI8VyQTmWHS3vFI-",
        OneBigItem: "_2lKQioAzojICHeg5SX6fhc",
        TwoCapsuleRow: "_1s9-9e_1KjO0xTTJNj-KuT",
      };
    },
    31343: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        PosterCtn: "_24bJJZ8-xr8Et4DVUrr17J",
        Poster: "_3LbyxomxMvYMy7cLThkkIf",
        Video: "_2bH_Jxh-T2YFCPBCW_pvQB",
      };
    },
    22329: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        All: "_1Ihp0wKLvNYkePQe0VrHnC",
        MessageFooter: "_3t5WMbFCdjhi0jY_LsEmHU",
        ButtonAndPriceCtn: "_1ZbewdWkMfyxa_PdVDMoDU",
        Legal: "_2_eDs58X0eEznR-ukDC_qt",
        NoButton: "_3IuUvJa9v9WI7_4WCI8-5t",
        Btn: "_3J3L60oPKSSmfBrQoNzGka",
        MessagePriceCtn: "_2g5STEIbDalv8hDLrPF3f-",
        Price: "G3m3RKwAqO-NG8_dvnifU",
        NoPrice: "_3fIuqvgfN6oD_bvpdHWEl8",
        PriceReal: "_14BApLFAAyKDCTSv-FU3cM",
        PriceRealShort: "_1E4sfQ48HHNa1aVRVPso3t",
        PriceRegular: "lhwy7sGWsQ0H-qiGzBfVO",
        Strike: "_3zM6T8KcphlmjOBnyqYGi0",
        MessageContent: "_2OxhXhvrpr4BL-kq6s7Eov",
        IsBlur: "_1M-oJo6Qwi_taE9-LcUQXw",
        MessageBody: "yNkHDKSU1gO-i7O8pRwGb",
        MessageImage: "_3R5wv6ya3QU6VH7qq2819z",
        VideoImageContainer: "_2yR5YNB4D48KDMaHJC7ELs",
        GameImage: "_1YhdlZrF81fOxpD5J2tD7o",
        BaseCtn: "_6Tfttc004NhLDjbTDS9PC",
        CapsuleCtn: "bSrl3b6Qz1HKSithRsqvM",
        DescCtn: "_20PKe9KJTJC5SAbLi4Dy-Y",
        GameNameCtn: "kgQI2KVBs-Y3neqiTpbvQ",
        GameName: "QFFkjL-A27JtOIgIqO5dH",
        LibraryDetails: "_1ddC4grHqe7uggEE2cihEv",
        Button: "_2T5KnJO7YB00MG9YIyfImx",
        ViewInLibrary: "_3he9kmZ7_zW9VD6jkZAb1N",
        PlayDetailCtn: "J3BmO963EVK__A5VRDAQM",
        TextTop: "_3eCgYrG63hATLNUS2prQdu",
        TextBottom: "_3-KPIEC01O5ncvCQdfuTum",
        ButtonContainer: "_10sC9pDV-gUZWLDMtbWFpZ",
      };
    },
    56186: (e, t, a) => {
      "use strict";
      a.d(t, {
        $I: () => M,
        AP: () => S,
        Nt: () => E,
        XW: () => y,
        dr: () => T,
        fL: () => f,
        rT: () => h,
      });
      var n = a(34629),
        s = a(20194),
        r = a(90626),
        l = a(22837),
        i = a(37085),
        o = a(56545),
        c = a(5864),
        m = a(78327),
        u = a(72839),
        d = a(81393),
        g = a(14947),
        p = a(82097),
        _ = a(61859);
      class E {
        m_SteamInterface;
        m_SteamInterfacePromotions;
        m_setMessagesSeen = new Set();
        static sm_DefaultDataRequest = {
          include_release: !0,
          include_assets: !0,
        };
        constructor(e) {
          this.m_SteamInterface = e;
        }
        static sm_Instance;
        static Init(e) {
          E.sm_Instance = new E(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, d.wT)(E.sm_Instance, "MarketingMessages store not initialized"),
            E.sm_Instance
          );
        }
        async GetMessageList(e, t = !1) {
          if (!m.iA.logged_in) return [];
          const a = o.w.Init(c.LK);
          a.Body().set_country_code(m.TS.COUNTRY),
            a.Body().set_elanguage((0, l.sf)(m.TS.LANGUAGE)),
            a.Body().set_client_package_version(e.nClientPackageVersion),
            a.Body().set_operating_system(e.eOSType),
            t && a.Body().set_include_seen_messages(!0),
            (0, u.rV)(a),
            (0, u.Bn)(a, E.sm_DefaultDataRequest);
          const n = await c.EO.GetMarketingMessagesForUser(
            this.m_SteamInterface.GetServiceTransport(),
            a,
          );
          if (n.GetEResult() != i.d.k_EResultOK)
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          if (t)
            for (const e of n.Body().messages())
              e.already_seen() && this.m_setMessagesSeen.add(e.message().gid());
          return n.Body().messages();
        }
        async GetSingleMessage(e, t) {
          const a = o.w.Init(c.e6);
          let n;
          if (
            (a.Body().set_gid(e),
            (0, u.rV)(a),
            (0, u.Bn)(a, E.sm_DefaultDataRequest),
            (n =
              t || m.iA.logged_in
                ? await c.EO.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : await c.EO.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
            n.GetEResult() != i.d.k_EResultOK)
          )
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          return n.Body().message();
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const n = o.w.Init(c.S4);
          n.Body().set_gid(e),
            n.Body().set_display_index(t),
            n.Body().set_template_type(a),
            c.EO.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      class h {
        m_message;
        m_templateVars = void 0;
        m_item;
        constructor(e) {
          (0, g.Gn)(this),
            (this.m_message = e),
            e.associated_item(!1) &&
              (this.m_item = p.A.Get().ReadItem(
                e.associated_item(),
                E.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == m.TS.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        static GetTypeAsLocalizedString(e) {
          switch (e) {
            case c.D4.k_EMarketingMessageWeekendDeal:
              return (0, _.we)("#spotlight_weekend_deal");
            case c.D4.k_EMarketingMessageMidweekDeal:
              return (0, _.we)("#spotlight_midweek_madness");
            case c.D4.k_EMarketingMessageDailyDeal:
              return (0, _.we)("#spotlight_daily_deal");
            case c.D4.k_EMarketingMessageNowAvailable:
              return (0, _.we)("#msg_available_everywhere");
            case c.D4.k_EMarketingMessagePrePurchase:
              return (0, _.we)("#msg_prepurchase_now");
            case c.D4.k_EMarketingMessagePlayNow:
              return (0, _.we)("#msg_play_now");
            case c.D4.k_EMarketingMessagePreloadNow:
              return (0, _.we)("#label_pre_load_now");
            case c.D4.k_EMarketingMessageUpdate:
              return (0, _.we)("#label_just_updated");
            case c.D4.k_EMarketingMessageNewDLC:
              return (0, _.we)("#label_new_dlc_available");
            case c.D4.k_EMarketingMessageFreeWeekend:
              return (0, _.we)("#label_free_weekend");
            case c.D4.k_EMarketingMessageSalePages:
              return (0, _.we)("#msg_on_sale_now");
            case c.D4.k_EMarketingMessagePlaytestAvailable:
              return (0, _.we)("#msg_play_beta_now");
          }
          return null;
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          if (
            this.GetTemplateVars().custom_display &&
            this.GetTemplateVars().custom_display.startsWith("replay")
          )
            return c.rj.k_EMarketingMessageTemplate_Replay;
          switch (this.GetTemplateVars().custom_display) {
            case "dlc_override":
              return c.rj.k_EMarketingMessageTemplate_DLC_Override;
            case "mm_auto_render":
              return c.rj.k_EMarketingMessageTemplate_AutoRender;
            case "partner_event":
              return c.rj.k_EMarketingMessageTemplate_Event;
            case "featured_video":
              return c.rj.k_EMarketingMessageTemplate_Featured_Video;
          }
          return c.rj.k_EMarketingMessageTemplate_Image;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetLocalizedAltText(e) {
          return (
            this.m_templateVars?.localized_alt_text?.[e] ||
            this.m_templateVars?.localized_alt_text?.[
              _.A0.GetELanguageFallback(e)
            ] ||
            void 0
          );
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[m.TS.LANGUAGE],
            t = (0, l.sf)(m.TS.LANGUAGE);
          return (
            e ||
              m.TS.LANGUAGE != (0, l.Lg)(l.gS.k_Lang_Latam_Spanish) ||
              ((e = this.m_templateVars.ll_image.LATAM),
              (t = l.gS.k_Lang_Latam_Spanish)),
            e ||
              ((e = this.m_templateVars.ll_image.english),
              (t = l.gS.k_Lang_English)),
            [e?.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[m.TS.LANGUAGE],
            t = (0, l.sf)(m.TS.LANGUAGE);
          return (
            e ||
              ((e = this.m_templateVars.background.english),
              (t = l.gS.k_Lang_English)),
            [e?.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetFeaturedVideoAutoPlay() {
          return this.m_templateVars.featured_video_autoplay;
        }
        GetFeaturedVideoLoop() {
          return this.m_templateVars.featured_video_loop;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[m.TS.LANGUAGE],
            t = (0, l.sf)(m.TS.LANGUAGE);
          return (
            e ||
              ((e = this.m_templateVars.poster.english),
              (t = l.gS.k_Lang_English)),
            [e?.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        GetAutoRenderWithoutAssetOverrides() {
          return Boolean(
            this.m_templateVars.autorender_assets_without_overrides,
          );
        }
        GetGID() {
          return this.m_message.gid();
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, l.Lg)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          const t = (0, l.Lg)(e);
          return this.m_templateVars.webm[t]?.path;
        }
        GetTemplateWebMWithFallback(e) {
          const t = (0, l.Lg)(e);
          if (this.m_templateVars.webm[t]?.path)
            return [this.m_templateVars.webm[t].path, e];
          const a = _.A0.GetELanguageFallback(e),
            n = (0, l.Lg)(a);
          return [this.m_templateVars.webm[n]?.path, a];
        }
        GetTemplateMP4(e) {
          const t = (0, l.Lg)(e);
          return this.m_templateVars.mp4[t]?.path;
        }
        GetTemplateMP4WithFallback(e) {
          const t = (0, l.Lg)(e);
          if (this.m_templateVars.mp4[t]?.path)
            return [this.m_templateVars.mp4[t].path, e];
          const a = _.A0.GetELanguageFallback(e),
            n = (0, l.Lg)(a);
          return [this.m_templateVars.mp4[n]?.path, a];
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `Â© ${(new Date()).getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, n.Cg)([g.sH], h.prototype, "m_templateVars", void 0);
      const v = "^(replay)([0-9]{4})";
      function f(e) {
        const t = e.match(v);
        return t?.[2];
      }
      function M(e) {
        if (e) {
          const t = e.match(v);
          return t?.[2] && !isNaN(Number(t?.[2]));
        }
        return !1;
      }
      function y(e, t, a) {
        const { bIncludeSeenMessages: n, ...l } = t,
          {
            data: i,
            isLoading: o,
            isError: c,
          } = (0, s.I)({
            queryKey: [
              "MarketingMessages",
              "List",
              l,
              { bIncludeSeenMessages: !!n },
            ],
            queryFn: () => e.GetMessageList(l, n),
            ...a,
          }),
          m = r.useMemo(() => i?.map((e) => new h(e.message())), [i]);
        return { rgMessages: o ? null : m, isError: c };
      }
      function T(e, t, a) {
        const { data: n, isError: l } = (0, s.I)({
          queryKey: ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
          queryFn: () => e.GetSingleMessage(t, a),
          enabled: !!t,
        });
        return {
          message: r.useMemo(() => {
            if (n) {
              const e = new h(n);
              if (a) {
                const t = (0, m.Tc)(
                  "marketingmessage_preview_config",
                  "application_config",
                );
                t?.dlc_appid_overrides?.length > 0 &&
                  e.SetDLCAppIDOverride(t.dlc_appid_overrides);
              }
              return e;
            }
          }, [n, a]),
          isError: l,
        };
      }
      function S(e, t, a, n, s) {
        const r = o.w.Init(c.cX);
        r.Body().set_gid(t),
          r.Body().set_display_index(a),
          r.Body().set_template_type(n),
          r.Body().set_click_location(s),
          c.EO.MarkMessageClicked(e, r);
      }
    },
    2921: (e, t, a) => {
      "use strict";
      a.d(t, { PE: () => O, qP: () => D, Yg: () => N });
      var n = a(76217),
        s = a(86927),
        r = a(90626),
        l = a(62792),
        i = a(55263),
        o = a(1078),
        c = a(12155),
        m = a(52038),
        u = a(78327),
        d = a(51706),
        g = a(22797),
        p = a(91970),
        _ = a.n(p),
        E = a(18654),
        h = a.n(E),
        v = a(61859),
        f = a(30470),
        M = a(32754),
        y = a(24484);
      function T(e) {
        const { storeItem: t } = e,
          a = (0, r.useMemo)(() => {
            if (!t) return [];
            const e = t.GetStoreCategories_SupportedPlayers().slice(0, 1);
            return (
              t.GetStoreCategories_Features().forEach((t) => e.push(t)),
              t.GetStoreCategories_Controller().forEach((t) => e.push(t)),
              t
                .GetStoreCategories_SupportedPlayers()
                .slice(1)
                .forEach((t) => e.push(t)),
              e
            );
          }, [t]);
        return a && 0 != a.length
          ? r.createElement(
              "div",
              { className: (0, m.A)(h().SaleTagBlockCtn, "SaleTagBlockCtn") },
              Boolean(a?.length > 0)
                ? r.createElement(
                    "div",
                    { className: (0, m.A)(h().TagBox, h().Categories) },
                    a.map((e) =>
                      r.createElement(k, { key: "cat_" + e, categoryID: e }),
                    ),
                  )
                : r.createElement("div", null, (0, v.we)("#Broadcast_None")),
            )
          : null;
      }
      class S {
        m_rgCategories;
        constructor() {
          this.m_rgCategories = (0, y.Tc)(
            "feature_categories",
            "application_config",
          );
        }
        static g_Self = null;
        static Get() {
          return S.g_Self || (S.g_Self = new S()), S.g_Self;
        }
      }
      function k(e) {
        const { categoryID: t } = e,
          a = S.Get().m_rgCategories.find((e) => e.categoryid == t);
        return a
          ? r.createElement(
              "div",
              { className: h().Category },
              r.createElement(
                M.he,
                { toolTipContent: a.name },
                r.createElement("div", {
                  className: h().CategoryIcon,
                  style: {
                    background: `url(${f.TS.STORE_CDN_URL}/public/images/${a.image_path}) no-repeat center center/cover`,
                  },
                }),
              ),
            )
          : null;
      }
      var b = a(99956),
        C = a(46253),
        A = a(38535),
        G = a(92834),
        I = a(54096);
      const w = { include_trailers: !0, include_screenshots: !0 },
        L = {
          include_trailers: !0,
          include_screenshots: !0,
          include_basic_info: !0,
          include_tag_count: 10,
        },
        P = {
          include_trailers: !0,
          include_screenshots: !0,
          include_basic_info: !0,
          include_tag_count: 10,
          include_assets_without_overrides: !0,
        };
      function N(e) {
        const { info: t, bPopOutTrailerPlayback: a } = e,
          [n] = (0, i.G6)(t.id, (0, l.SW)(t.type), w),
          [s, o] = (0, r.useState)(!1),
          [c, d] = (0, r.useState)(!1),
          p = (0, A.dy)(),
          E = n?.GetAllTrailers().GetHighlightTrailers(p),
          h = E?.length > 0 && E[0],
          v = r.useCallback(() => {
            h && (a ? d(!0) : o((e) => !e));
          }, [h, a]),
          f = h
            ? r.createElement(x, {
                trailer: h,
                bPlayVideo: s,
                fnTogglePlayTrailer: v,
              })
            : null;
        return n
          ? h || 0 !== n.GetScreenshots(p)?.length
            ? r.createElement(
                "div",
                { className: (0, m.A)(_().HilightGrid, _().MediaContainer) },
                r.createElement(B, { elFeaturedInCenter: f, storeItem: n }),
                Boolean(a)
                  ? r.createElement(O, {
                      storeItem: n,
                      bShowModal: c,
                      hideModal: () => d(!1),
                    })
                  : r.createElement(V, {
                      name: n.GetName(),
                      trailer: h,
                      bPlayVideo: s,
                      fnTogglePlayTrailer: v,
                      bControls: !0,
                    }),
              )
            : (("dev" != u.TS.WEB_UNIVERSE && "beta" != u.TS.WEB_UNIVERSE) ||
                console.log(
                  "appCapsule for appid: " + n?.GetAppID(),
                  n.GetScreenshots(p),
                ),
              null)
          : r.createElement(
              "div",
              { className: (0, m.A)(_().HilightGrid, _().MediaContainer) },
              r.createElement(g.t, { size: "medium" }),
            );
      }
      function D(e) {
        const {
            info: t,
            fnOnClickButton: a,
            bLowBandwidthMode: n,
            bUseAssetWithoutOverride: s,
          } = e,
          [o] = (0, i.G6)(t.id, (0, l.SW)(t.type), s ? P : L);
        return o
          ? r.createElement(
              "div",
              { className: (0, m.A)(_().HilightGrid, _().MediaContainerMM) },
              r.createElement(B, {
                elFeaturedInCenter: r.createElement(F, {
                  storeItem: o,
                  bUseAssetWithoutOverride: s,
                  fnOnClickButton: a,
                }),
                storeItem: o,
                featureElementclassName: _().MainImage,
                bUseTrailerAsFirstThumb: !n,
                bNoScreenShotModals: !0,
              }),
            )
          : r.createElement(
              "div",
              { className: (0, m.A)(_().HilightGrid, _().MediaContainerMM) },
              r.createElement(g.t, { size: "medium" }),
            );
      }
      function B(e) {
        const {
            elFeaturedInCenter: t,
            storeItem: a,
            featureElementclassName: n,
            bUseTrailerAsFirstThumb: s,
            bNoScreenShotModals: l,
          } = e,
          [i, c] = r.useState(void 0),
          [u, d] = (0, o.XC)(),
          g = (0, A.dy)(),
          p = (0, r.useRef)(null),
          [E, h] = (0, r.useState)(0),
          v = t || (void 0 !== i && -1 !== i) ? i : 0,
          f = new Array(),
          M = new Array();
        if (s) {
          const e = a?.GetAllTrailers().GetHighlightTrailers(g),
            t = e?.length > 0 && e[0];
          t &&
            (f.push(
              r.createElement(x, {
                key: "trail_thumb_",
                trailer: t,
                bPlayVideo: !1,
                fnTogglePlayTrailer: () => {},
                onMouseEnter: () => c(0),
                onMouseLeave: () => {
                  const e = p.current;
                  e && h(e.currentTime);
                },
              }),
            ),
            M.push(
              r.createElement(V, {
                key: "trail_inline",
                ref: p,
                name: a.GetName(),
                trailer: t,
                bControls: !1,
                bPlayVideo: !0,
                startTime: E,
                fnTogglePlayTrailer: () => {},
              }),
            ));
        }
        const y = a.GetScreenshots(g);
        if (
          (y.forEach((e, a) => {
            if ((t || a > 0) && f.length < 3) {
              const t = R(e, ".600x338").replace("http://", "https://"),
                n = R(e, ".800x600").replace("http://", "https://"),
                s = f.length;
              f.push(
                r.createElement(
                  "div",
                  {
                    key: a + "_small_" + t,
                    className: (0, m.A)({
                      [_().ThumbnailCtn]: !0,
                      [_().ThumbnialClickable]: !l,
                    }),
                  },
                  r.createElement("img", {
                    src: t,
                    onClick: l
                      ? void 0
                      : () => {
                          const e = [...y];
                          for (let t = 0; t < a; ++t) e.push(e.shift());
                          u(e);
                        },
                    onMouseEnter: () => c(s),
                  }),
                ),
              ),
                M.push(
                  r.createElement(
                    "div",
                    {
                      key: a + "_big_" + t,
                      className: _().ScreenshotDisplayCtn,
                    },
                    r.createElement("img", { src: n }),
                  ),
                );
            }
          }),
          !(t || (M && 0 != M.length)))
        )
          return null;
        const T = f.slice(0, 3),
          S = Array.from({ length: Math.max(0, 3 - T.length) });
        return r.createElement(
          r.Fragment,
          null,
          d,
          r.createElement(
            "div",
            { className: n || _().MainMediaCtn },
            Boolean(t && (-1 === v || void 0 === v))
              ? r.createElement(r.Fragment, null, t)
              : r.createElement(r.Fragment, null, M[v]),
          ),
          Boolean(T.length > 0) &&
            r.createElement(
              "div",
              {
                className: _().ScreenshotThumbnailRow,
                onMouseLeave: () => c(-1),
              },
              T,
              S.map((e, t) =>
                r.createElement("div", {
                  key: `app_${a?.GetAppID()}_${t}`,
                  className: _().ThumbnailCtn,
                }),
              ),
            ),
        );
      }
      function V(e) {
        const {
          ref: t,
          name: a,
          trailer: n,
          bControls: s,
          bPlayVideo: l,
          fnTogglePlayTrailer: i,
          startTime: o,
        } = e;
        let d = n.GetMicroTrailer();
        (0, r.useEffect)(() => {
          const e = t?.current;
          if (o > 0 && e) {
            const t = () => {
              e.currentTime = o;
            };
            return (
              e.addEventListener("loadedmetadata", t),
              () => {
                e.removeEventListener("loadedmetadata", t);
              }
            );
          }
        }, [t, o]);
        let g = (0, m.A)(_().VideoLargeContainer, l && _().videoPlaying);
        return r.createElement(
          "div",
          { className: g, onClick: i },
          r.createElement(C.h, {
            name: a,
            trailerCategory: n.GetTrailerCategory(),
            trailerDisplay: C.F.Micro,
            mouseOver: !1,
          }),
          Boolean(l) &&
            r.createElement(
              "video",
              {
                className: _().VideoLarge,
                ref: t,
                controls: s,
                autoPlay: !0,
                loop: !0,
                muted: !0,
                poster: o > 0 ? void 0 : n.GetScreenshot(),
              },
              r.createElement("source", {
                src: d.strWebMURL,
                type: "video/webm",
              }),
              Boolean(!u.TS.IN_CLIENT) &&
                r.createElement("source", {
                  src: d.strMP4URL,
                  type: "video/mp4",
                }),
            ),
          s &&
            r.createElement(
              "div",
              { onClick: i },
              r.createElement(c.sED, null),
            ),
        );
      }
      function R(e, t) {
        const a = e.replace(/\.[^\.]+$/g, "");
        return a + t + e.slice(a.length);
      }
      function O(e) {
        const {
            storeItem: t,
            bShowModal: a,
            trailerBaseID: n,
            hideModal: s,
          } = e,
          l = (0, A.dy)(),
          i = (0, r.useMemo)(() => {
            if (n) {
              const e = t
                ?.GetAllTrailers()
                ?.GetAllTrailers(l)
                .find((e) => e.GetTrailerID() == n);
              if (e) return e;
            }
            const e = t?.GetAllTrailers()?.GetHighlightTrailers(l);
            return e && e.length > 0 ? e[0] : void 0;
          }, [l, t, n]),
          o = r.useId(),
          c = r.useId();
        if (!i) return null;
        const m = i.GetTrailersDash(),
          u = i.GetTrailerHls();
        return 0 == m?.length
          ? null
          : r.createElement(
              d.EN,
              { active: a },
              r.createElement(
                d.eV,
                {
                  "aria-labelledby": (0, G.q)(o, c),
                  bAllowFullSize: !0,
                  bOKDisabled: !0,
                  closeModal: s,
                },
                r.createElement(
                  "div",
                  { className: _().VideoPopupContainers },
                  r.createElement(I.P, {
                    dashManifests: m || [],
                    hlsManifest: u || "",
                    screenshot: "",
                    altText: "",
                    muteWhenAutoplayBlocked: !0,
                  }),
                ),
                r.createElement(
                  "div",
                  { id: o, style: { display: "none" } },
                  t.GetName(),
                ),
                r.createElement(
                  "div",
                  { id: c, style: { display: "none" } },
                  i.GetName(),
                ),
              ),
            );
      }
      function x(e) {
        const {
          trailer: t,
          fnTogglePlayTrailer: a,
          bPlayVideo: n,
          onMouseEnter: s,
          onMouseLeave: l,
        } = e;
        return r.createElement(
          "div",
          {
            className: (0, m.A)({
              [_().VideoThumbnail]: !n,
              [_().videoPlaying]: n,
              [_().ThumbnailCtn]: !0,
            }),
            onClick: a,
            onMouseEnter: s,
            onMouseLeave: l,
          },
          r.createElement("img", { src: t.GetScreenshot() }),
          r.createElement(
            "div",
            { className: _().VideoPlayButton },
            r.createElement(c.jGG, null),
          ),
        );
      }
      function F(e) {
        const {
            storeItem: t,
            fnOnClickButton: a,
            bUseAssetWithoutOverride: l,
          } = e,
          [i, o] = (0, s.OP)(),
          c = l
            ? t.GetAssetsWithoutOverrides()?.GetMainCapsuleURL()
            : t.GetAssets()?.GetMainCapsuleURL();
        return r.createElement(
          n.Z,
          {
            focusable: !0,
            noFocusRing: !0,
            className: _().MainCapsuleWithHover,
            ...o,
            onActivate: a,
          },
          r.createElement("img", { className: _().MainCapsule, src: c }),
          r.createElement(
            "div",
            { className: _().AppDetails },
            r.createElement(
              "div",
              { className: (0, m.A)(_().GameName) },
              t.GetName(),
            ),
            r.createElement(
              "div",
              { className: _().ShortDesc },
              t.GetShortDescription(),
              " ",
            ),
            r.createElement(b.n, {
              rgTagIDs: t.GetTagIDs(),
              instanceNum: 0,
              bLargeText: !0,
              bHideTitle: !0,
              bNoStoreLinks: !0,
            }),
            r.createElement(T, { storeItem: t }),
          ),
        );
      }
    },
    46416: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => D, W: () => B });
      var n = a(90626),
        s = a(57876),
        r = a(45699),
        l = a(76217),
        i = a(23310),
        o = a(55963),
        c = a(15161),
        m = a(30894),
        u = a(62792),
        d = a(55263),
        g = a(33924),
        p = a(26101),
        _ = a(45359),
        E = a(18654),
        h = a.n(E),
        v = a(3661),
        f = a(37346),
        M = a(72860),
        y = a(70300),
        T = a(47235),
        S = a(37076),
        k = a(54492),
        b = a(60014),
        C = a(52038),
        A = a(61859),
        G = a(61336),
        I = a(78327),
        w = a(91291),
        L = a.n(w),
        P = a(99956),
        N = a(49411);
      const D = "capsule_index_";
      function B(e) {
        const {
            capsule: t,
            bShowParentApp: a,
            elElementToAppendToHover: r,
            index: o,
            navKey: c,
            bHideStoreHover: m,
            onlyOneDiscountPct: g,
            bPreferDemoStorePage: _,
            bShowEarlyAccessBanner: E,
          } = e,
          [v, f] = n.useState(!1),
          [M] = (0, d.G6)(t.id, (0, u.SW)(t.type), s.Xh),
          [T] = (0, d.t7)(a && M?.GetParentAppID(), s.Xh);
        if (!M) return null;
        const S = Boolean(T),
          k = n.createElement(R, {
            ...e,
            strExtraParams: e.strExtraParams,
            info: t,
            bIsHovered: v,
            bHasParentAppToDisplay: S,
            onlyOneDiscountPct: g,
            bShowEarlyAccessBanner: E,
          });
        return n.createElement(
          l.Z,
          {
            className: (0, C.A)({
              [h().OuterCapsuleContainer]: !0,
              [D + o]: 0 == o,
            }),
            navEntryPreferPosition: i.iU.PREFERRED_CHILD,
            navKey: c,
          },
          n.createElement(
            y.oj,
            { appid: M.GetAppID() },
            Boolean(m)
              ? n.createElement(
                  "div",
                  { onMouseEnter: () => f(!0), onMouseLeave: () => f(!1) },
                  k,
                )
              : n.createElement(
                  p.Qf,
                  {
                    className: h().CapsuleContainer,
                    item: t,
                    elElementToAppend: e.elElementToAppendToHover,
                    bShowDemoButton: e.bShowDemoButton,
                    bPreferDemoStorePage: e.bPreferDemoStorePage,
                    bShowDeckCompatibilityDialog:
                      e.bShowDeckCompatibilityDialog,
                    bHidePrice: e.bHidePrice,
                    bUseSubscriptionLayout: e.bUseSubscriptionLayout,
                    strExtraParams: e.strExtraParams,
                    nCreatorAccountID: e.creatorAccountID,
                    nWidthMultiplier: e.nWidthMultiplier,
                    bShowIgnoreButton: e.bShowIgnoreButton,
                    bShowDescription: e.bShowDescriptionInHover,
                  },
                  k,
                ),
            Boolean(r) && n.createElement(n.Fragment, null, r),
          ),
          S &&
            n.createElement(V, {
              strExtraParams: e.strExtraParams,
              parentStoreItem: T,
              childAppType: M.GetAppType(),
              bPreferDemoStorePage: _,
            }),
        );
      }
      function V(e) {
        const {
            strExtraParams: t,
            parentStoreItem: a,
            childAppType: l,
            bPreferDemoStorePage: i,
          } = e,
          o = (0, b.n9)(),
          m = (0, I.Qn)();
        return n.createElement(
          r.ml,
          { className: h().CapsuleParentInfo, ...(0, M.S)(a, o, m, i, t) },
          n.createElement(
            y.oj,
            { appid: a.GetAppID() },
            n.createElement(
              "div",
              { className: h().ParentType },
              (0, A.we)(
                l == c.uE.k_EStoreAppType_Music
                  ? "#SalePage_ParentApp_SoundTrack"
                  : "#SalePage_ParentApp_DLC",
              ),
            ),
            n.createElement(
              S.u,
              { type: "app", id: a.GetAppID(), strExtraParams: t },
              n.createElement("img", {
                loading: "lazy",
                className: g.AppCapsuleImage,
                alt: a.GetName(),
                src: a.GetAssets().GetSmallCapsuleURL(),
                ...(0, s.Jw)(),
              }),
            ),
          ),
        );
      }
      function R(e) {
        const {
            info: t,
            bHideStatusBanners: a,
            strExtraParams: l,
            index: i,
            imageType: c,
            bHasParentAppToDisplay: m,
            bIsHovered: g,
            strDoubleCapsuleMessage: p,
            bPreferDemoStorePage: E,
            bShowEarlyAccessBanner: h,
          } = e,
          [M] = (0, d.G6)(t.id, (0, u.SW)(t.type), s.Xh),
          y = (0, b.n9)(),
          T = (0, N.w)(),
          S = (0, n.useMemo)(() => M?.GetIncludedAppIDsOrSelf(), [M]);
        if (!M) return null;
        const A = (0, G.NT)(
          (0, o.It)(`${M.GetStorePageURL(E)}${l ? `?${l}` : ""}`, y, T),
        );
        let I;
        "overrideNavigation" in t &&
          (I = (e) => (
            t.overrideNavigation(e), e.preventDefault(), e.stopPropagation(), !1
          ));
        const w = Boolean(p);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: (0, C.A)({ [L().TwoWidthCtn]: w }) },
            n.createElement(
              r.Ii,
              {
                href: I ? void 0 : A,
                style: { display: "block", cursor: "pointer" },
                className: (0, C.A)({ [L().TwoWidthCapsule]: w }),
                preferredFocus: m,
                onClick: I,
              },
              n.createElement(f.V, {
                appids: S,
                hide_status_banners: a,
                show_early_access: e.bShowEarlyAccessBanner,
              }),
              "none" != c && n.createElement(_.aU, { imageType: c, info: t }),
              n.createElement(k.J, { storeItem: M }),
              Boolean(g) &&
                n.createElement(v.m, { appInfo: t, bIsHoverMode: !0 }),
            ),
            w &&
              n.createElement(
                "div",
                {
                  className: (0, C.A)(L().TwoWidthSideInfo, "TwoWidthSideInfo"),
                },
                n.createElement("div", { className: L().Reason }, p),
                n.createElement(
                  "div",
                  { className: L().StoreSaleItemRelease },
                  n.createElement(
                    "span",
                    null,
                    M.GetFormattedSteamReleaseDate(),
                  ),
                ),
                n.createElement(P.n, {
                  bHideTitle: !0,
                  rgTagIDs: M.GetTagIDs(),
                  instanceNum: i,
                }),
              ),
          ),
          n.createElement(O, { ...e }),
        );
      }
      function O(e) {
        const {
            info: t,
            bHidePriceIfOwned: a,
            bHideStatusBanners: r,
            bUseSubscriptionLayout: l,
            elElementToAppendToHover: i,
            bHidePrice: o,
            bHidePlatforms: g,
            creatorAccountID: p,
            bIsHovered: E,
            onlyOneDiscountPct: h,
            strDoubleCapsuleMessage: v,
          } = e,
          [f] = (0, d.G6)(t.id, (0, u.SW)(t.type), s.Xh),
          M =
            f &&
            f?.GetIncludedAppIDsOrSelf().length > 0 &&
            f?.GetIncludedAppIDsOrSelf().every((e) => m.Fm.Get().BOwnsApp(e)),
          y = M && !r;
        if (l && f?.GetStoreItemType() == c.c6.k_EStoreItemType_App)
          return n.createElement(T.E, { appid: f.GetAppID(), bIsMuted: E });
        if (i) return null;
        const S = M && a,
          k = y;
        return n.createElement(_.qn, {
          info: t,
          bShowAsMuted: k,
          bHidePrice: o,
          bShowInLibraryInsteadOfPrice: S,
          bHidePlatforms: g,
          creatorAccountID: p,
          bShowName: e.bShowName,
          onlyOneDiscountPct: h,
          bShowWishlistButton: Boolean(v),
        });
      }
    },
    78997: (e, t, a) => {
      "use strict";
      a.d(t, { NZ: () => o, g1: () => c, ho: () => i });
      var n = a(90626),
        s = a(66703),
        r = a(78327);
      const l = n.createContext({ setLegalText: void 0 });
      function i() {
        return !!n.useContext(l).setLegalText;
      }
      function o() {
        return n.useContext(l).setLegalText || function (e) {};
      }
      function c(e) {
        const [t, a] = n.useState(),
          i = (0, s.Dp)("BrowserView.RegisterForMessageFromParent"),
          o = (0, r.Qn)(),
          c = n.useMemo(
            () => ({ setLegalText: i && !o ? a : void 0 }),
            [i, a, o],
          );
        return n.createElement(
          l.Provider,
          { value: c },
          i && n.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = n.useRef(void 0);
        return (
          n.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          n.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    46773: (e, t, a) => {
      "use strict";
      a.d(t, { Y: () => r, m: () => s });
      var n = a(90626);
      function s(e) {
        const { title: t, bodyClassName: a, children: s } = e;
        return (
          n.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          s
        );
      }
      function r(e) {
        n.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    25809: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => s });
      var n = a(61859);
      function s(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let s = n.pf.GetPreferredLocales(),
            r = a.toLocaleString(s, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, n.we)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, n.we)(t + "Minute", e)
          : (0, n.we)(t + "Minutes", e);
      }
    },
    30700: (e, t, a) => {
      "use strict";
      a.d(t, { q: () => i });
      var n = a(90626),
        s = a(78327),
        r = a(84933);
      const l = 2e4;
      function i(e) {
        const t = (0, n.useRef)(!1),
          a = (0, n.useRef)(null),
          i = (0, n.useCallback)(() => {
            a.current = setTimeout(() => {
              e.current &&
                !e.current.paused &&
                (e.current.pause(),
                (t.current = !0),
                "dev" == s.TS.WEB_UNIVERSE &&
                  console.log(
                    "useVideoAutoPauseOnBlur: Video paused due to inactivity.",
                  ));
            }, l);
          }, [e]),
          o = (0, n.useCallback)(() => {
            a.current && (clearTimeout(a.current), (a.current = null)),
              e.current &&
                t.current &&
                (e.current.play(),
                (t.current = !1),
                "dev" == s.TS.WEB_UNIVERSE &&
                  console.log(
                    "useVideoAutoPauseOnBlur: Video resumed on focus.",
                  ));
          }, [e]);
        (0, r.l6)(window, "blur", i), (0, r.l6)(window, "focus", o);
      }
    },
    80620: (e, t, a) => {
      "use strict";
      a.d(t, { WN: () => f, lS: () => h, xf: () => v });
      var n = a(20194),
        s = a(56545),
        r = a(23809),
        l = a(17690),
        i = a(37735),
        o = a(30470),
        c = a(78327),
        m = a(56011),
        u = a(90626),
        d = a(60014),
        g = a(56186),
        p = a(54926),
        _ = a(5864),
        E = a(64726);
      function h(e) {
        const t = (0, r.KV)();
        let a = (0, n.I)({
          queryKey: ["useGamePlaytimeInfo", e],
          queryFn: async () =>
            (async function (e, t) {
              const a = s.w.Init(i.G9);
              a.Body().set_steamid(o.iA.steamid),
                a.Body().set_appids_filter([e]),
                a.Body().set_include_played_free_games(!0),
                a.Body().set_language(o.TS.LANGUAGE);
              const n = await i.xt.GetOwnedGames(t, a);
              if (n.Body().games().length > 0)
                return n.Body().games()[0].toObject();
              return {};
            })(e, t),
          enabled: Boolean(e && e != l.sc),
        });
        return a.isSuccess ? a.data : null;
      }
      function v(e) {
        return (0, c.Y2)() && e?.startsWith("https://store.steampowered.com/")
          ? e.replace("https://store.steampowered.com/", o.TS.STORE_BASE_URL)
          : e;
      }
      function f(e, t, a = !1) {
        let n,
          s = (0, r.KV)(),
          l = (0, p.J)(),
          i = (0, E.Ng)();
        (i = null !== i ? i + 1 : 0),
          t == _.cU.k_EMarketingMessageClickLocation_Image
            ? (n = "image")
            : t == _.cU.k_EMarketingMessageClickLocation_Button
              ? (n = "button")
              : t == _.cU.k_EMarketingMessageClickLocation_DlcCapsule
                ? (n = "dlc_capsule")
                : t == _.cU.k_EMarketingMessageClickLocation_HeaderArea
                  ? (n = "header_area")
                  : t == _.cU.k_EMarketingMessageClickLocation_GameCapsule
                    ? (n = "game_capsule")
                    : t == _.cU.k_EMarketingMessageClickLocation_PartnerEvent &&
                      (n = "partner_event");
        let o = (0, d.aL)(v(e), n);
        return (
          a && (o = e),
          o.startsWith("steam://") || (o = `steam://openurl/${o}`),
          (0, u.useCallback)(
            (e) => {
              (0, g.AP)(s, l.id, i, l.GetTemplateTypeForReporting(), t),
                ((0, m.uX)(e).location.href = o);
            },
            [o, s, l, i, t],
          )
        );
      }
    },
    54926: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => Le, J: () => we });
      var n = a(22837),
        s = a(90626),
        r = a(56186),
        l = a(78997),
        i = a(78327),
        o = a(69666),
        c = a(60014),
        m = a(80620),
        u = a(76217),
        d = a(38390),
        g = a(30894),
        p = a(30470);
      function _(e, t, a, n) {
        if (!n || !n.path) return null;
        const s = a ? "?t=" + a : "";
        return n.path.startsWith("images")
          ? `${p.TS.MEDIA_CDN_URL}steam/marketing/${e}/${n.path}${s}`
          : `${p.TS.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${n.path}${s}`;
      }
      var E = a(84933),
        h = a(30700);
      function v(e) {
        const { path: t, message: a, eLanguage: n, ...r } = e,
          l = a.GetTemplateVars()?.last_asset_mtime,
          i = _(a.id, n, l, { type: "file", path: t }),
          o = a.GetLocalizedAltText(n);
        return s.createElement("img", { alt: o, ...r, src: i });
      }
      function f(e) {
        const { message: t, mp4Path: a, webmPath: n, language: r, ...l } = e,
          i = t.GetTemplateVars()?.last_asset_mtime,
          o = _(t.id, r, i, { type: "file", path: n }),
          c = _(t.id, r, i, { type: "file", path: a }),
          m = (0, s.useRef)(null);
        (0, h.q)(m);
        const u = (0, s.useRef)(!1),
          d = (0, s.useCallback)(() => {
            m.current &&
              ("visible" === document.visibilityState
                ? u.current && (m.current.play(), (u.current = !1))
                : m.current.paused || (m.current.pause(), (u.current = !0)));
          }, []);
        return (
          (0, E.l6)(document, "visibilitychange", d),
          (0, s.useEffect)(() => d(), [d]),
          s.createElement(
            "video",
            { ...l, ref: m },
            s.createElement("source", { src: o, type: "video/webm" }),
            s.createElement("source", { src: c, type: "video/mp4" }),
          )
        );
      }
      var M = a(32630),
        y = a(52038),
        T = a(61859),
        S = a(720),
        k = a.n(S),
        b = a(65946),
        C = a(84811),
        A = a(94095),
        G = a(45699),
        I = a(98556),
        w = a(25809),
        L = a(22329),
        P = a(5864),
        N = a(81393);
      function D(e) {
        return s.createElement(
          "div",
          { className: L.All },
          s.createElement("div", { className: L.MessageContent }, e.children),
        );
      }
      function B(e) {
        return s.createElement("div", { className: L.MessageBody }, e.children);
      }
      function V(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = we(),
          r = (0, m.WN)(
            n.GetTemplateVars().linkurl,
            P.cU.k_EMarketingMessageClickLocation_Image,
          ),
          [l, i] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          u.Z,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, y.A)(L.MessageImage, t && L.IsBlur),
            onActivate: r,
          },
          l && s.createElement(v, { message: n, path: l, eLanguage: i }),
        );
      }
      function R(e) {
        const { fnOnClick: t } = e,
          a = we(),
          r = (0, n.sf)(i.TS.LANGUAGE),
          [l, o] = a.GetTemplateMP4WithFallback(r),
          [c, m] = a.GetTemplateWebMWithFallback(r);
        return (
          (0, N.wT)(
            o == m,
            `GameAnimatedImageViaVideo mismatch fallback languages eLang ${r} mp4 ${o} webm ${m}`,
          ),
          s.createElement(
            "div",
            { className: L.VideoImageContainer },
            s.createElement(
              u.Z,
              {
                focusable: !0,
                noFocusRing: !0,
                className: (0, y.A)(L.MessageImage),
                onActivate: t,
              },
              s.createElement(f, {
                muted: !0,
                autoPlay: !0,
                controls: !1,
                loop: !0,
                mp4Path: l,
                message: a,
                webmPath: c,
                language: i.TS.IN_CLIENT ? m : o,
              }),
            ),
          )
        );
      }
      function O(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetMainCapsuleURL();
        return a
          ? s.createElement(
              "div",
              { className: (0, y.A)(L.MessageImage, L.GameImage, L.IsBlur) },
              s.createElement("img", { src: a }),
            )
          : null;
      }
      function x(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          {
            bOwnsApp: r,
            bWishlistApp: l,
            bFollowsApp: i,
          } = (0, g.z_)(t.GetAppID()),
          o = (0, m.lS)(t.GetAppID()),
          c = (0, s.useMemo)(() => {
            if (a && (!o?.playtime_forever || !o?.rtime_last_played)) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return o;
          }, [o, a]),
          u = r
            ? "steam://nav/games/details/" + t.GetID()
            : "steam://openurl/" + t.GetStorePageURL(),
          d = (0, m.WN)(u, P.cU.k_EMarketingMessageClickLocation_HeaderArea);
        return s.createElement(
          "div",
          { className: L.BaseCtn },
          s.createElement(
            G.Ii,
            { className: L.CapsuleCtn, onClick: d },
            s.createElement(I.G, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: L.DescCtn },
            s.createElement(
              "div",
              { className: L.GameNameCtn },
              s.createElement(
                G.Ii,
                { className: L.GameName, onClick: d },
                t.GetName(),
              ),
            ),
            s.createElement(
              "div",
              { className: L.LibraryDetails },
              s.createElement(
                G.Ii,
                { onClick: d, className: (0, y.A)(L.Button, L.ViewInLibrary) },
                (0, T.we)(
                  r
                    ? "#EventDisplay_ViewInLibrary"
                    : "#EventDisplay_ViewStorePage",
                ),
              ),
              !r &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: L.PlayDetailCtn },
                    l &&
                      s.createElement(
                        "span",
                        null,
                        (0, T.we)("#EventDisplay_OnWishlist"),
                      ),
                    !l &&
                      i &&
                      s.createElement(
                        "span",
                        null,
                        (0, T.we)("#EventDisplay_Follow"),
                      ),
                  ),
                ),
              r &&
                s.createElement(
                  s.Fragment,
                  null,
                  Boolean(c?.rtime_last_played) &&
                    s.createElement(
                      "div",
                      { className: L.PlayDetailCtn },
                      s.createElement(
                        "span",
                        null,
                        (0, T.we)("#MarketingMessages_DLC_lastplayed"),
                      ),
                      (0, T._l)(c.rtime_last_played),
                    ),
                  Boolean(c?.playtime_forever) &&
                    s.createElement(
                      "div",
                      { className: L.PlayDetailCtn },
                      s.createElement(
                        "span",
                        null,
                        (0, T.we)("#MarketingMessages_DLC_hours"),
                      ),
                      (0, w.l)(c.playtime_forever),
                    ),
                ),
            ),
          ),
        );
      }
      function F(e) {
        const t = we(),
          a = (0, m.WN)(
            t.GetTemplateVars().linkurl,
            P.cU.k_EMarketingMessageClickLocation_Button,
          );
        return s.createElement(W, {
          bHidePrice: e.bHidePrice,
          fnOnClickButton: a,
        });
      }
      function W(e) {
        const { bHidePrice: t, fnOnClickButton: a } = e,
          n = we(),
          [r, l] = (0, b.q3)(() => [
            n.GetTemplateVars().button_text_custom ||
              n.GetTemplateVars().button_text,
            Boolean(n.GetTemplateVars().hide_price),
          ]),
          i = Boolean(t || l);
        return s.createElement(
          "div",
          { className: (0, y.A)(L.MessageFooter, !1) },
          s.createElement(
            "div",
            { className: L.ButtonAndPriceCtn },
            s.createElement(
              u.Z,
              {
                focusable: !0,
                noFocusRing: !0,
                className: L.Btn,
                onActivate: a,
              },
              r,
            ),
            Boolean(!i) &&
              s.createElement(C.tH, null, s.createElement(U, null)),
          ),
          s.createElement(H, null),
        );
      }
      function U() {
        const e = we().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: L.MessagePriceCtn },
              s.createElement(A.kb, { storeItem: e, bHidePrePurchase: !0 }),
            )
          : s.createElement("div", { className: L.NoPrice });
      }
      function H(e) {
        const t = we();
        return (0, l.ho)()
          ? null
          : s.createElement("div", {
              className: L.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      var K = a(79613);
      function q(e) {
        const { bPreview: t, bUseAnimated: a } = e,
          { message: n, eventModel: r } = (function (e) {
            const t = we();
            let a = t.GetTemplateVars().update_event_clan_accountid,
              n = t.GetTemplateVars().update_event_gid;
            const {
              eventModel: s,
              bLoading: r,
              sErrorMessage: l,
            } = (0, d.B9)(a, n, e);
            return { message: t, eventModel: s };
          })(t),
          l = n.associated_item.GetStorePageURL(),
          i = $(r, l, P.cU.k_EMarketingMessageClickLocation_Image),
          o = $(r, l, P.cU.k_EMarketingMessageClickLocation_Button);
        return s.createElement(
          M.Ay,
          { submethod: "partner_event" },
          s.createElement(
            D,
            null,
            s.createElement(O, { storeItem: n.associated_item }),
            s.createElement(
              B,
              null,
              s.createElement(x, { storeItem: n.associated_item, bPreview: t }),
              s.createElement(z, {
                message: n,
                eventModel: r,
                fnOnClickButton: i,
                bUseAnimated: a,
              }),
            ),
            s.createElement(W, { bHidePrice: !0, fnOnClickButton: o }),
          ),
        );
      }
      function z(e) {
        const {
            message: t,
            fnOnClickButton: a,
            eventModel: r,
            bUseAnimated: l,
          } = e,
          [i, o] = t.GetTemplateImage(),
          c = (0, n.sf)(p.TS.LANGUAGE);
        return s.createElement(
          "div",
          { className: k().UpdateEventCtn },
          s.createElement(
            "div",
            { className: k().EventType },
            (0, T.we)("#MarketingMessages_MajorUpdate"),
          ),
          s.createElement(
            "div",
            { className: k().EventTitle },
            r?.GetNameWithFallback(c),
          ),
          s.createElement(
            u.Z,
            {
              focusable: !0,
              noFocusRing: !0,
              className: (0, y.A)(k().EventImage),
              onActivate: a,
            },
            i &&
              !l &&
              s.createElement(v, { message: t, path: i, eLanguage: o }),
            l && s.createElement(R, { fnOnClick: a }),
          ),
        );
      }
      function $(e, t, a) {
        let n = (0, g.Lg)(e?.appid),
          s = (0, c.aL)((0, m.xf)(t), "partner_event");
        if (e?.BIsVisibleEvent() && n && e.BIsValidForRealm(p.TS.EREALM)) {
          const a = (0, K.MP)();
          p.TS.IN_CLIENT && (a > 1726604483 || 0 == a)
            ? (t = `steam://open/library/event/${e.appid}|${e.GID}`)
            : ((t = `${p.TS.STORE_BASE_URL}news/app/${e.appid}?emclan=${e.clanSteamID.ConvertTo64BitString()}&emgid=${e.GID}`),
              p.TS.IN_CLIENT && (t = `steam://openurl/${t}`));
        } else
          (t = s),
            e && (t += `${s.includes("?") ? "&" : "?"}emgid=${e.GID}`),
            p.TS.IN_CLIENT && (t = `steam://openurl/${t}`);
        return (0, m.WN)(t, a, !0);
      }
      var j = a(41735),
        Q = a.n(j),
        X = a(20194),
        Z = a(37085),
        Y = a(17690);
      function J(e) {
        const {
          isLoading: t,
          isError: a,
          data: n,
        } = (0, X.I)({
          queryKey: ["useDLCHubCount", e],
          queryFn: async () =>
            (async function (e) {
              const t = `${p.TS.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                a = { origin: self.origin },
                n = await Q().get(t, { params: a, withCredentials: !1 });
              if (200 !== n.status || n.data.success !== Z.d.k_EResultOK)
                throw new Error(
                  `FetchDLCCount failed: status == ${n.status}, eresult == ${n.data?.success}, err_msg == ${n.data?.err_msg}`,
                );
              return n.data.count;
            })(e),
          enabled: Boolean(e && e != Y.sc),
        });
        return t || a ? null : n;
      }
      var ee = a(62792),
        te = a(55263),
        ae = a(45359),
        ne = a(46416),
        se = a(16205);
      const re = { include_assets: !0 };
      function le(e) {
        const { bPreview: t } = e,
          a = we(),
          [n, r] = (0, s.useMemo)(
            () => [
              a.GetDLCAppIDs(),
              a.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [a],
          );
        (0, te.zX)(n, re);
        const l = J(a?.associated_item?.GetAppID());
        return (
          (0, s.useEffect)(() => {
            if (a) {
              const e = Boolean(l)
                ? (0, T.Yp)("#MarketingMessages_See_Count_Items", l)
                : (0, T.we)("#MarketingMessages_See_All_Items");
              a.OverrideCustomText(e),
                a.OverrideURL(
                  `${p.TS.STORE_BASE_URL}dlc/${a.associated_item.GetAppID()}`,
                );
            }
          }, [a, l]),
          s.createElement(
            M.Ay,
            { submethod: "dlc_override" },
            s.createElement(
              D,
              null,
              s.createElement(O, { storeItem: a.associated_item }),
              s.createElement(
                B,
                null,
                s.createElement(x, {
                  storeItem: a.associated_item,
                  bPreview: t,
                }),
                s.createElement(oe, {
                  rgDLCSaleCapsules: r,
                  messageType: a.GetType(),
                }),
              ),
              s.createElement(F, { bHidePrice: !0 }),
            ),
          )
        );
      }
      function ie(e) {
        const { messageType: t, itemCount: a } = e,
          n = r.rT.GetTypeAsLocalizedString(t);
        return s.createElement(
          s.Fragment,
          null,
          Boolean(n) && s.createElement("div", { className: se.Type }, n),
          1 == a
            ? s.createElement(
                "div",
                { className: se.DealDesc },
                (0, T.we)("#MarketingMessages_DLC_desc_singular"),
              )
            : s.createElement(
                "div",
                { className: se.DealDesc },
                (0, T.we)("#MarketingMessages_DLC_desc"),
              ),
        );
      }
      function oe(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: se.DlcCtn },
              s.createElement(ie, { messageType: a }),
              s.createElement(ce, { first: t[0], second: t[1] }),
              s.createElement(ce, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
            ? s.createElement(
                "div",
                { className: se.DlcCtn },
                s.createElement(ie, { messageType: a }),
                s.createElement(
                  "div",
                  { className: se.OneItemRow },
                  s.createElement(de, { id: t[0].id, type: t[0].type }),
                ),
                s.createElement(ce, { first: t[1], second: t[2] }),
              )
            : t.length >= 2
              ? s.createElement(
                  "div",
                  { className: se.DlcCtn },
                  s.createElement(ie, { messageType: a }),
                  s.createElement(
                    "div",
                    { className: se.OneItemRow },
                    s.createElement(de, { id: t[0].id, type: t[0].type }),
                  ),
                  s.createElement(
                    "div",
                    { className: se.OneItemRow },
                    s.createElement(de, { id: t[1].id, type: t[1].type }),
                  ),
                )
              : t.length >= 1
                ? s.createElement(
                    "div",
                    { className: se.DlcCtn },
                    s.createElement(ie, {
                      messageType: a,
                      itemCount: t.length,
                    }),
                    s.createElement(
                      "div",
                      { className: se.OneBigItem },
                      s.createElement(ue, { capsule: t[0], imageType: "main" }),
                    ),
                  )
                : null;
      }
      function ce(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: se.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: se.DlcCtn },
            s.createElement(ue, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: se.DlcCtn },
            s.createElement(ue, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function me(e, t) {
        const [a] = (0, te.G6)(e, (0, ee.SW)(t), { include_platforms: !0 });
        return (0, m.WN)(
          a ? a.GetStorePageURL() : p.TS.STORE_BASE_URL,
          P.cU.k_EMarketingMessageClickLocation_DlcCapsule,
        );
      }
      function ue(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = me(t.id, t.type)),
          s.createElement(ne.W, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function de(e) {
        const { id: t, type: a } = e,
          n = me(t, a);
        return s.createElement(ae.pb, {
          id: t,
          type: a,
          fnOnClickOverride: n,
          bIsMarketingMessage: !0,
        });
      }
      var ge = a(12155),
        pe = a(61336),
        _e = a(31343);
      function Ee(e) {
        const t = we(),
          [a, n] = (0, s.useState)(() => t.GetFeaturedVideoAutoPlay()),
          r = (0, s.useRef)(null);
        (0, h.q)(r);
        const l = (0, m.WN)(
            t.GetTemplateVars().linkurl,
            P.cU.k_EMarketingMessageClickLocation_Image,
          ),
          o = (0, i.Qn)();
        return s.createElement(
          u.Z,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: (e) =>
              !o && t.GetFeaturedVideoAutoPlay() ? l(e) : n(!0),
            className: _e.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !t.GetFeaturedVideoLoop(),
                  ref: r,
                  muted: !0,
                  autoPlay: !0,
                  className: _e.Video,
                  loop: t.GetFeaturedVideoLoop(),
                  crossOrigin:
                    "dev" == p.TS.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, pe.L$)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!p.TS.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, pe.L$)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(ve, { message: t }),
              )
            : s.createElement(he, { message: t }),
        );
      }
      function he(e) {
        const { message: t } = e,
          a = t.GetTemplateVars()?.last_asset_mtime,
          [n, r] = t.GetPosterImage(),
          l = _(t.id, r, a, { type: "file", path: n });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: l, className: _e.Poster }),
          s.createElement(ge.IOc, null),
        );
      }
      function ve(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            const e = t.GetSubtitleObj(),
              a = t.GetTemplateVars()?.last_asset_mtime,
              r = new Array();
            for (let l = n.gS.k_Lang_English; l < n.gS.k_Lang_MAX; ++l) {
              if (!T.A0.IsELanguageValidInRealm(l, p.TS.EREALM)) continue;
              const i = (0, n.Lg)(l);
              if (e && e[i]) {
                const o = e[i].path,
                  c = _(t.id, l, a, { type: "file", path: o });
                r.push(
                  s.createElement("track", {
                    key: t.id + " " + l,
                    src: c,
                    kind: "subtitles",
                    srcLang: (0, n.ww)(l),
                    default: p.TS.LANGUAGE == i,
                    label: (0, T.we)("#language_selection_" + (0, n.Lg)(l)),
                  }),
                );
              }
            }
            return r;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      function fe(e) {
        const { bLowBandwidthMode: t } = e,
          a = we(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display;
        return s.createElement(
          M.Ay,
          null,
          s.createElement(
            D,
            null,
            s.createElement(V, {
              isBackgroundBlur: !0,
              bOverrideUseBackgroundImage: n,
            }),
            s.createElement(
              B,
              null,
              s.createElement(V, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(Ee, null),
            ),
            s.createElement(F, null),
          ),
        );
      }
      function Me(e) {
        const t = we(),
          a = (0, m.WN)(
            t.GetTemplateVars().linkurl,
            P.cU.k_EMarketingMessageClickLocation_PartnerEvent,
          );
        return s.createElement(
          M.Ay,
          null,
          s.createElement(
            D,
            null,
            s.createElement(V, { isBackgroundBlur: !0 }),
            s.createElement(B, null, s.createElement(R, { fnOnClick: a })),
            s.createElement(F, null),
          ),
        );
      }
      var ye = a(87937),
        Te = a(2921),
        Se = a(70300),
        ke = a(91675),
        be = a(92609),
        Ce = a(95034);
      function Ae(e) {
        const { bPreview: t, bLowBandwidthMode: a } = e,
          n = we(),
          l = (0, m.WN)(
            n.GetTemplateVars().linkurl,
            P.cU.k_EMarketingMessageClickLocation_GameCapsule,
          ),
          i = n.associated_item,
          o = (0, s.useMemo)(
            () => ({
              id: i?.GetID(),
              type: (0, ee._4)(i?.GetStoreItemType(), i?.GetAppType()),
            }),
            [i],
          );
        return s.createElement(
          M.Ay,
          { submethod: "mm-auto-render" },
          s.createElement(
            D,
            null,
            s.createElement(O, { storeItem: i }),
            s.createElement(
              B,
              null,
              s.createElement(
                "div",
                { className: be.AutoRenderContents },
                s.createElement(
                  "div",
                  { className: be.TitleContainer },
                  s.createElement(
                    "div",
                    { className: be.TypeTitle },
                    r.rT.GetTypeAsLocalizedString(n.GetType()),
                  ),
                  s.createElement(Ge, { message: n, storeItem: i }),
                ),
                s.createElement(
                  Se.oj,
                  { appid: i.GetAppID() },
                  s.createElement(Te.qP, {
                    info: o,
                    fnOnClickButton: l,
                    bLowBandwidthMode: a,
                    bUseAssetWithoutOverride:
                      n.GetAutoRenderWithoutAssetOverrides(),
                  }),
                ),
              ),
            ),
            s.createElement(W, {
              bHidePrice: n.GetTemplateVars().hide_price,
              fnOnClickButton: l,
            }),
          ),
        );
      }
      function Ge(e) {
        const { message: t, storeItem: a } = e,
          [n] = (0, Ce.QD)("timezone"),
          [r] = (0, Ce.QD)("locale");
        if (t.GetType() == P.D4.k_EMarketingMessageFreeWeekend) {
          if (a?.GetFreeWeekendPlayTextOverride())
            return s.createElement(
              "div",
              { className: be.TypeSubTitle },
              a?.GetFreeWeekendPlayTextOverride(),
            );
          if (a?.GetFreeWeekendEnd()) {
            r && T.pf.SetPreferredLocales([r]);
            const e = n || Intl.DateTimeFormat().resolvedOptions().timeZone,
              t = a.GetFreeWeekendEnd(),
              l = ye.unix(t).tz(e),
              i = l.format("z"),
              o = i.match(/^-?\d/)
                ? `UTC${ye.unix(t).tz(e).format("Z").replace(":00", "")}`
                : i,
              c = (0, ke.P0)(l.unix(), !1, o, n);
            return s.createElement(
              "div",
              { className: be.TypeSubTitle },
              (0, T.we)("#msg_free_play_until", c),
            );
          }
          return s.createElement(
            "div",
            { className: be.TypeSubTitle },
            (0, T.we)("#msg_free_play_weekend"),
          );
        }
        const l = t.GetTemplateVars()?.autorender_subtitle_token;
        return l
          ? s.createElement("div", { className: be.TypeSubTitle }, (0, T.we)(l))
          : null;
      }
      const Ie = s.createContext(null);
      function we() {
        return s.useContext(Ie);
      }
      function Le(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          r = (0, l.NZ)();
        return (
          s.useEffect(() => {
            n && r(t.GetLegalHTML());
          }, [n, t, r]),
          s.createElement(
            Ie.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(Ne, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const Pe = s.lazy(() => a.e(8287).then(a.bind(a, 79194)));
      function Ne(e) {
        const { message: t, active: a, preview: l } = e,
          c = (0, n.sf)(i.TS.LANGUAGE),
          { bLowBandwidthMode: m } = (0, o.ri)();
        if (
          (0, r.$I)(t.GetTemplateVars().custom_display || "") &&
          i.iA.logged_in
        ) {
          const e = Number((0, r.fL)(t.GetTemplateVars().custom_display || ""));
          return isNaN(e) ? null : s.createElement(Pe, { active: a, year: e });
        }
        switch (t.GetTemplateVars().custom_display) {
          case "dlc_override":
            return s.createElement(le, { bPreview: l });
          case "partner_event":
            return s.createElement(q, {
              bPreview: l,
              bUseAnimated: (0, o.vn)(t, c, m),
            });
          case "mm_auto_render":
            return s.createElement(Ae, { bPreview: l, bLowBandwidthMode: m });
        }
        return "image" === t.GetTemplateType()
          ? (0, o.vn)(t, c, m)
            ? s.createElement(Me, null)
            : s.createElement(fe, { bLowBandwidthMode: m })
          : null;
      }
    },
    64726: (e, t, a) => {
      "use strict";
      a.d(t, { Mf: () => f, Ng: () => v, eI: () => S });
      var n = a(56186),
        s = a(90626),
        r = a(92757),
        l = a(53835),
        i = a(61859),
        o = a(69666),
        c = a(84121),
        m = a(12155),
        u = a(52038),
        d = a(90740),
        g = a(46773),
        p = a(22797),
        _ = a(54926);
      const E = 8,
        h = s.createContext(null);
      function v() {
        return s.useContext(h);
      }
      function f(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, o.ri)(),
          { rgMessages: l, isError: m } = (0, n.XW)(t, a),
          [u, d] = s.useState(!1),
          [p, _] = s.useState(0);
        (0, g.Y)(c.MarketingMessagePage);
        const h = (0, r.W6)();
        if (
          (s.useEffect(() => {
            !l ||
              l.length ||
              m ||
              (a.bIncludeSeenMessages
                ? d(!0)
                : h.replace({
                    ...h.location,
                    search: (0, o.GY)({ ...a, bIncludeSeenMessages: !0 }),
                  }));
          }, [l, a, h, m]),
          m)
        )
          return s.createElement(
            k,
            null,
            (0, i.we)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (u)
          return s.createElement(
            k,
            null,
            (0, i.we)("#MarketingMessages_NoneAvailable"),
          );
        const v = a.bIncludeSeenMessages ? l : l?.slice(0, E);
        return s.createElement(
          "div",
          { className: c.MessageListPage },
          s.createElement(
            "div",
            { className: c.MessageListScroll },
            s.createElement(M, {
              MarketingMessagesStore: t,
              rgMessages: v,
              iActiveMessage: p,
            }),
          ),
          s.createElement(y, {
            cMessages: v?.length,
            iMessage: p,
            setMessage: _,
          }),
        );
      }
      function M(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: n,
        } = e;
        return a
          ? s.createElement(
              "div",
              { className: c.MessageListContainer },
              a?.map((e, a) =>
                s.createElement(b, {
                  key: e.id,
                  displayIndex: a,
                  message: e,
                  MarketingMessagesStore: t,
                  active: a == n,
                  next: a == n + 1 || a == n - 1,
                }),
              ),
            )
          : s.createElement(
              "div",
              { className: (0, u.A)(c.MessageListContainer, c.Loading) },
              s.createElement(p.t, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function y(e) {
        const { cMessages: t, iMessage: a, setMessage: n } = e,
          r = s.useCallback(() => n(a - 1), [n, a]),
          l = s.useCallback(() => n(a + 1), [n, a]),
          i = [];
        for (let e = 0; e < t; e++)
          i.push(
            s.createElement(T, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: n,
            }),
          );
        const o = a > 0 ? r : void 0,
          d = a < t - 1 ? l : void 0;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("div", { className: c.CarouselSpacer }),
          s.createElement(
            "div",
            { className: c.CarouselBar },
            s.createElement(
              "div",
              { className: c.Content },
              s.createElement(
                "div",
                { className: (0, u.A)(c.LeftArrow, o && c.Active), onClick: o },
                s.createElement(m.l8x, { angle: 180 }),
              ),
              s.createElement("div", { className: c.Spacer }),
              s.createElement(
                "div",
                { className: c.PipContainer },
                s.createElement("div", { className: c.Pips }, i),
              ),
              s.createElement("div", { className: c.Spacer }),
              s.createElement(
                "div",
                { className: (0, u.A)(c.LeftArrow, d && c.Active), onClick: d },
                s.createElement(m.l8x, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function T(e) {
        const { active: t, iMessage: a, setMessage: n } = e,
          r = s.useCallback(() => n(a), [n, a]);
        return s.createElement("div", {
          className: (0, u.A)(c.Pip, t && c.Active),
          onClick: r,
        });
      }
      function S(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          l = (0, r.W5)(),
          { message: o, isError: m } = (0, n.dr)(t, l.params.messageid, a);
        return (
          (0, g.Y)(c.MarketingMessagePage),
          m
            ? s.createElement(
                k,
                null,
                (0, i.we)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : l.params.messageid
              ? o
                ? s.createElement(_.Q, { message: o, preview: a })
                : null
              : s.createElement(
                  k,
                  null,
                  (0, i.we)("#MarketingMessages_NoneAvailable"),
                )
        );
      }
      function k(e) {
        return s.createElement(
          l.UC,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          s.createElement(l.Y9, null, (0, i.we)("#Error_Generic"), " "),
          s.createElement(l.nB, null, e.children),
        );
      }
      function b(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: n,
            next: r,
            displayIndex: l,
          } = e,
          i = s.useRef(void 0),
          o = s.useRef(n || r);
        if (
          ((function (e, t, a) {
            s.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, n ? t : null, l),
          (n || r) && (o.current = !0),
          !o.current)
        )
          return null;
        let m = {
          enter: c.Enter,
          enterActive: c.EnterActive,
          enterDone: c.EnterDone,
          exit: c.Exit,
          exitActive: c.ExitActive,
          exitDone: c.ExitDone,
        };
        return s.createElement(
          d.A,
          {
            in: n,
            nodeRef: i,
            classNames: m,
            timeout: 300,
            mountOnEnter: !r,
            unmountOnExit: !r,
          },
          s.createElement(
            h.Provider,
            { value: l },
            s.createElement(
              "div",
              { className: (0, u.A)(c.MessageWrapper, n && c.Active), ref: i },
              s.createElement(_.Q, { message: t, active: n }),
            ),
          ),
        );
      }
    },
    69666: (e, t, a) => {
      "use strict";
      a.d(t, { GY: () => i, ri: () => l, vn: () => o });
      var n = a(90626),
        s = a(92757),
        r = a(61859);
      function l() {
        const e = (0, s.zy)();
        return n.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function i(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function o(e, t, a) {
        if (!a && e.BHasTemplateAnimatedAssets()) {
          const a = r.A0.GetELanguageFallback(t);
          return (
            e.BHasTemplateAnimatedAssetForLanguage(t) ||
            e.BHasTemplateAnimatedAssetForLanguage(a)
          );
        }
        return !1;
      }
    },
    11417: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => E, default: () => h });
      var n = a(43527),
        s = a(90626),
        r = a(92757),
        l = a(24484);
      const i = s.createContext({ prioritized_list: !1 });
      function o(e) {
        const [t, a] = s.useState(),
          n = (0, r.zy)(),
          o = s.useMemo(() => {
            new URLSearchParams(n.search);
            return {};
          }, [n.search]);
        return (
          s.useEffect(() => {
            (0, l.Tc)("marketingmessage_config", "application_config");
            a({});
          }, [o]),
          t ? s.createElement(i.Provider, { value: t }, e.children, " ") : null
        );
      }
      var c = a(64726),
        m = a(23809),
        u = a(72034),
        d = a(56186),
        g = a(78997),
        p = a(32630),
        _ = a(78327);
      const E = {
        List: () => `${n.B.MarketingMessages()}list/`,
        Message: (e) => `${n.B.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${n.B.MarketingMessages()}preview/${e}`,
      };
      function h(e) {
        const t = (function () {
          const [e, t] = s.useState(null),
            a = (0, m.TR)();
          return (
            s.useEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!v) {
                      const t = (0, _.Tc)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (((v = new d.Nt(e)), t?.promotion_operation_token)) {
                        const e = new u.D(
                          _.TS.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        v.SetSteamInterfacePromotions(e);
                      }
                    }
                    return v;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? s.createElement(
              p.Ay,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              s.createElement(
                o,
                null,
                s.createElement(
                  g.g1,
                  null,
                  s.createElement(
                    r.dO,
                    null,
                    s.createElement(
                      r.qh,
                      { path: `${E.List()}` },
                      s.createElement(c.Mf, { MarketingMessagesStore: t }),
                    ),
                    s.createElement(
                      r.qh,
                      { path: `${E.MessagePreview(":messageid")}` },
                      s.createElement(c.eI, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    s.createElement(
                      r.qh,
                      { path: `${E.Message(":messageid")}` },
                      s.createElement(c.eI, { MarketingMessagesStore: t }),
                    ),
                    s.createElement(
                      r.qh,
                      null,
                      s.createElement(r.rd, { to: `${E.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let v;
    },
  },
]);
