/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4158],
  {
    71: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "eventrow_OtherEventsCtn_1qNsZ",
        OtherEvents_MainImageCtn: "eventrow_OtherEvents_MainImageCtn_1_8oy",
        OtherEvents: "eventrow_OtherEvents_2ioeM",
        OtherEvents_EventCtn: "eventrow_OtherEvents_EventCtn_17gGs",
        OtherEvents_MainImage: "eventrow_OtherEvents_MainImage_3xf4A",
        OtherEvents_BGImage: "eventrow_OtherEvents_BGImage_3rp-l",
        OtherEvents_ContentCtn: "eventrow_OtherEvents_ContentCtn_3QaFW",
        OtherEvents_TextCtn: "eventrow_OtherEvents_TextCtn_2AVL1",
        OtherEvents_TextTitle: "eventrow_OtherEvents_TextTitle_3Zufl",
        UpcomingCtn: "eventrow_UpcomingCtn_--lM7",
        OtherEvents_SubTitle: "eventrow_OtherEvents_SubTitle_2UUNj",
        HoversEnabled: "eventrow_HoversEnabled_34Nxj",
        PartnerEventRowCapsule_MainImage:
          "eventrow_PartnerEventRowCapsule_MainImage_2bZBn",
        EventSummaryContainer: "eventrow_EventSummaryContainer_3PdWg",
        EventSummaryText: "eventrow_EventSummaryText_h5tE8",
        EventSummaryType: "eventrow_EventSummaryType_1Fp_l",
        HorizontalEvent: "eventrow_HorizontalEvent_1RS0b",
        HorizontalSummary: "eventrow_HorizontalSummary_3_1Qo",
        HorizontalTitle: "eventrow_HorizontalTitle_1m9zE",
        HorizontalDescriptionCtn: "eventrow_HorizontalDescriptionCtn_2s9cB",
        HorizontalDescription: "eventrow_HorizontalDescription_Dc9KC",
        AppCapsuleImage: "eventrow_AppCapsuleImage_2vo-l",
        AppCapsuleCtn: "eventrow_AppCapsuleCtn_1kYha",
        AppCapsuleImageHover: "eventrow_AppCapsuleImageHover_rcwMf",
        AppCapsulePrice: "eventrow_AppCapsulePrice_Jq75m",
      };
    },
    15585: (e) => {
      e.exports = {
        MarketingMessagePage: "messagelist_MarketingMessagePage_1HVoK",
        MessageListPage: "messagelist_MessageListPage_1N7O3",
        MessageListScroll: "messagelist_MessageListScroll_2RW7G",
        CarouselBar: "messagelist_CarouselBar_O7VJK",
        Content: "messagelist_Content_1qtg3",
        LeftArrow: "messagelist_LeftArrow_3ZyZU",
        RightArrow: "messagelist_RightArrow_2WuPu",
        Active: "messagelist_Active_cwA5j",
        Spacer: "messagelist_Spacer_COvXC",
        PipContainer: "messagelist_PipContainer_3ASpk",
        Pips: "messagelist_Pips_1rpuG",
        Pip: "messagelist_Pip_ZQrtM",
        MessageListContainer: "messagelist_MessageListContainer_33cf4",
        Loading: "messagelist_Loading_1xSKZ",
        MessageWrapper: "messagelist_MessageWrapper_152h7",
        Enter: "messagelist_Enter_DZICE",
        EnterActive: "messagelist_EnterActive_RU-xm",
        EnterDone: "messagelist_EnterDone_3AP2Y",
        Exit: "messagelist_Exit_2xmDI",
        ExitActive: "messagelist_ExitActive_32DFH",
        ExitDone: "messagelist_ExitDone_3cFXR",
      };
    },
    94047: (e) => {
      e.exports = {
        MainContainer: "featuredlc_MainContainer_T3ysk",
        BackgroundImage: "featuredlc_BackgroundImage_3vQ5a",
        BaseCtn: "featuredlc_BaseCtn_D3UK8",
        CapsuleCtn: "featuredlc_CapsuleCtn_1-6Ey",
        DescCtn: "featuredlc_DescCtn_25xSf",
        GameNameCtn: "featuredlc_GameNameCtn_7lGQT",
        GameName: "featuredlc_GameName_vGL7e",
        LibraryDetails: "featuredlc_LibraryDetails_2t8tY",
        Button: "featuredlc_Button_2UC3D",
        PlayDetailCtn: "featuredlc_PlayDetailCtn_3QmX6",
        DlcCtn: "featuredlc_DlcCtn_3H7i0",
        Type: "featuredlc_Type_HmoaK",
        DealDesc: "featuredlc_DealDesc_3fPQt",
        OneItemRow: "featuredlc_OneItemRow_6a9d-",
        OneBigItem: "featuredlc_OneBigItem_2lKQi",
        TwoCapsuleRow: "featuredlc_TwoCapsuleRow_1s9-9",
        MessageFooter: "featuredlc_MessageFooter_2S4fB",
      };
    },
    3462: (e) => {
      e.exports = {
        Dummy: "featurevideo_Dummy_Bz-g3",
        PosterCtn: "featurevideo_PosterCtn_24bJJ",
        Poster: "featurevideo_Poster_3Lbyx",
        Video: "featurevideo_Video_2bH_J",
      };
    },
    64145: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        MessageContent: "image_MessageContent_rohJ-",
        IsBlur: "image_IsBlur_2lGtR",
        GameImage: "image_GameImage_2It5b",
        Legal: "image_Legal_zzC_W",
        MessageFooter: "image_MessageFooter_20RJ2",
        ButtonAndPriceCtn: "image_ButtonAndPriceCtn_2FwUG",
        NoButton: "image_NoButton_1FbSd",
        Btn: "image_Btn_3YohC",
        MessagePriceCtn: "image_MessagePriceCtn_ddVk7",
        Price: "image_Price_KtsI7",
        NoPrice: "image_NoPrice_3gtjP",
        PriceReal: "image_PriceReal_zlxx_",
        PriceRealShort: "image_PriceRealShort_1XB_w",
        PriceRegular: "image_PriceRegular_7m4i8",
        Strike: "image_Strike_3fFJl",
        ShareLinks: "image_ShareLinks_2FhhQ",
        All: "image_All_1WpMe",
        TextTop: "image_TextTop_3cnZM",
        TextBottom: "image_TextBottom_2pJeu",
        ButtonContainer: "image_ButtonContainer_3CVNg",
      };
    },
    31245: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => P, O: () => L });
      var s = a(89526),
        n = a(62983),
        r = a(44026),
        i = a(51438),
        l = a(16221),
        o = a(98009),
        c = a(68562),
        m = a(54671),
        u = a(85886),
        g = a(25871),
        d = a(71),
        _ = a(51441),
        p = a(44421),
        v = a(1631),
        E = a.n(v),
        f = a(67935),
        h = a(21219),
        M = a(87539),
        y = a(3991),
        C = a(33406),
        S = a(98389),
        b = a(42317),
        k = a(71161),
        D = a(19304),
        A = a(14826),
        T = a(207),
        G = a(32765);
      const L = "capsule_index_";
      function P(e) {
        const {
            capsule: t,
            bShowParentApp: a,
            strExtraParams: o,
            elElementToAppendToHover: m,
            index: p,
            navKey: v,
            bHideStoreHover: f,
          } = e,
          [h, C] = s.useState(!1),
          [b] = (0, g.jk)(t.id, (0, u.TM)(t.type), n.bk),
          [T] = (0, g.vs)(a && (null == b ? void 0 : b.GetParentAppID()), n.bk),
          P = (0, k.bJ)(),
          I = (0, G.id)();
        if (!b) return null;
        const B = Boolean(T),
          N = s.createElement(
            w,
            Object.assign({}, e, {
              info: t,
              bIsHovered: h,
              bHasParentAppToDisplay: B,
            }),
          );
        return s.createElement(
          i.s,
          {
            className: (0, D.Z)({
              [E().OuterCapsuleContainer]: !0,
              [L + p]: 0 == p,
            }),
            navEntryPreferPosition: l.c4.PREFERRED_CHILD,
            navKey: v,
          },
          s.createElement(
            y.zw,
            { appid: b.GetAppID() },
            Boolean(f)
              ? s.createElement(s.Fragment, null, N)
              : s.createElement(
                  _.ll,
                  {
                    className: E().CapsuleContainer,
                    item: t,
                    elElementToAppend: e.elElementToAppendToHover,
                    bShowDemoButton: e.bShowDemoButton,
                    bShowDeckCompatibilityDialog:
                      e.bShowDeckCompatibilityDialog,
                    bHidePrice: e.bHidePrice,
                    bUseSubscriptionLayout: e.bUseSubscriptionLayout,
                    strExtraParams: e.strExtraParams,
                    fnOnHoverStateChange: !I && C,
                    nCreatorAccountID: e.creatorAccountID,
                  },
                  N,
                ),
            Boolean(m) && s.createElement("div", null, m),
          ),
          B &&
            s.createElement(
              r.Ks,
              Object.assign(
                { className: E().CapsuleParentInfo },
                (0, M.h)(T, P, I, e.strExtraParams),
              ),
              s.createElement(
                y.zw,
                { appid: T.GetAppID() },
                s.createElement(
                  "div",
                  { className: E().ParentType },
                  (0, A.Xx)(
                    b.GetAppType() == c.Ac.k_EStoreAppType_Music
                      ? "#SalePage_ParentApp_SoundTrack"
                      : "#SalePage_ParentApp_DLC",
                  ),
                ),
                s.createElement(
                  S._,
                  {
                    type: "app",
                    id: T.GetAppID(),
                    strExtraParams: e.strExtraParams,
                  },
                  s.createElement(
                    "img",
                    Object.assign(
                      {
                        loading: "lazy",
                        className: d.AppCapsuleImage,
                        alt: T.GetName(),
                        src: T.GetAssets().GetSmallCapsuleURL(),
                      },
                      (0, n.fn)(),
                    ),
                  ),
                ),
              ),
            ),
        );
      }
      function w(e) {
        var t;
        const {
            info: a,
            bHidePriceIfOwned: n,
            bHideStatusBanners: i,
            strExtraParams: l,
            imageType: d,
            bHasParentAppToDisplay: v,
            bUseSubscriptionLayout: E,
            elElementToAppendToHover: M,
            bHidePrice: S,
            bHidePlatforms: D,
            creatorAccountID: A,
            bIsHovered: G,
          } = e,
          [L] = (0, g.jk)(a.id, (0, u.TM)(a.type), { include_platforms: !0 }),
          P = (0, k.bJ)(),
          w =
            ((0, y.Dt)(a.type),
            (0, s.useMemo)(
              () => (null == L ? void 0 : L.GetIncludedAppIDsOrSelf()),
              [L],
            )),
          I =
            L &&
            (null == L
              ? void 0
              : L.GetIncludedAppIDsOrSelf().every((e) =>
                  m.jg.Get().BOwnsApp(e),
                ));
        if (!L) return null;
        const B = I && !i,
          N = (0, T.bk)((0, o.Hf)(`${L.GetStorePageURL()}${l || ""}`, P));
        let x,
          R = null;
        if (
          E &&
          (null == L ? void 0 : L.GetStoreItemType()) ==
            c.vn.k_EStoreItemType_App
        )
          R = s.createElement(C.r, { appid: L.GetAppID(), bIsMuted: G });
        else if (M);
        else {
          const t = I && n,
            r = B;
          R = s.createElement(p.Hl, {
            info: a,
            bShowAsMuted: r,
            bHidePrice: S,
            bShowInLibraryInsteadOfPrice: t,
            bHidePlatforms: D,
            creatorAccountID: A,
            bShowName: e.bShowName,
          });
        }
        return (
          "overrideNavigation" in a &&
            (x = (e) => (
              a.overrideNavigation(e),
              e.preventDefault(),
              e.stopPropagation(),
              !1
            )),
          s.createElement(
            r.IS,
            {
              href: x ? null : N,
              style: { display: "block" },
              preferredFocus: v,
              onClick: x,
            },
            s.createElement(h.vs, { appids: w, hide_status_banners: i }),
            s.createElement(p.a4, { imageType: d, info: a }),
            s.createElement(b.y, {
              eDeckCompatibilityCategory:
                null === (t = null == L ? void 0 : L.GetPlatforms()) ||
                void 0 === t
                  ? void 0
                  : t.steam_deck_compat_category,
            }),
            Boolean(G && !(0, _.Hu)()) && s.createElement(f.v, { appInfo: a }),
            R,
          )
        );
      }
    },
    39120: (e, t, a) => {
      "use strict";
      a.d(t, { KY: () => l, Ks: () => c, li: () => o });
      var s = a(89526),
        n = a(34433),
        r = a(32765);
      const i = s.createContext({ setLegalText: void 0 });
      function l() {
        return !!s.useContext(i).setLegalText;
      }
      function o() {
        return s.useContext(i).setLegalText || function (e) {};
      }
      function c(e) {
        const [t, a] = s.useState(),
          l = (0, n.U5)("BrowserView.RegisterForMessageFromParent"),
          o = (0, r.id)(),
          c = s.useMemo(
            () => ({ setLegalText: l && !o ? a : void 0 }),
            [l, a, o],
          );
        return s.createElement(
          i.Provider,
          { value: c },
          l && s.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = s.useRef();
        return (
          s.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          s.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    12360: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => n, h: () => r });
      var s = a(89526);
      function n(e) {
        const { title: t, bodyClassName: a, children: n } = e;
        return (
          s.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          n
        );
      }
      function r(e) {
        s.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    29551: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => n });
      var s = a(14826);
      function n(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let n = s.Yt.GetPreferredLocales(),
            r = a.toLocaleString(n, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, s.Xx)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, s.Xx)(t + "Minute", e)
          : (0, s.Xx)(t + "Minutes", e);
      }
    },
    5742: (e, t, a) => {
      "use strict";
      a.d(t, { hF: () => _, pT: () => p });
      var s = a(33940),
        n = a(5615),
        r = a(67328),
        i = a(27070),
        l = a(57361),
        o = a(94738),
        c = a(44973),
        m = a(32765),
        u = a(71161),
        g = a(60161),
        d = a(89526);
      function _(e) {
        const t = (0, i.bY)();
        let a = (0, n.useQuery)(
          ["useGamePlaytimeInfo", e],
          () =>
            (0, s.mG)(this, void 0, void 0, function* () {
              return (function (e, t) {
                return (0, s.mG)(this, void 0, void 0, function* () {
                  const a = r.gA.Init(o.pp);
                  a.Body().set_steamid(c.L7.steamid),
                    a.Body().set_appids_filter([e]),
                    a.Body().set_include_played_free_games(!0),
                    a.Body().set_language(c.De.LANGUAGE);
                  const s = yield o.lk.GetOwnedGames(t, a);
                  return s.Body().games().length > 0
                    ? s.Body().games()[0].toObject()
                    : {};
                });
              })(e, t);
            }),
          { enabled: Boolean(e && e != l.kI) },
        );
        return a.isSuccess ? a.data : null;
      }
      function p(e, t) {
        let a = (0, u.YR)(
          (function (e) {
            return (0, m.h4)() &&
              (null == e
                ? void 0
                : e.startsWith("https://store.steampowered.com"))
              ? e.replace(
                  "https://store.steampowered.com",
                  "https://store.steamchina.com",
                )
              : e;
          })(e),
          t,
        );
        return (
          a.startsWith("steam://") || (a = `steam://openurl/${a}`),
          (0, d.useCallback)(
            (e) => {
              (0, g.RA)(e).location.href = a;
            },
            [a],
          )
        );
      }
    },
    40442: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => l, U: () => o });
      var s = a(89526),
        n = a(59934),
        r = a(59954);
      const i = s.createContext({ prioritized_list: !1 });
      function l(e) {
        const [t, a] = s.useState(),
          l = (0, n.TH)(),
          o = s.useMemo(() => {
            new URLSearchParams(l.search);
            return {};
          }, [l.search]);
        return (
          s.useLayoutEffect(() => {
            const e =
              1 ==
              (0, r.kQ)("marketingmessage_config", "application_config")
                .prioritized_list;
            a({ prioritized_list: e });
          }, [o]),
          t ? s.createElement(i.Provider, { value: t }, e.children, " ") : null
        );
      }
      function o() {
        return s.useContext(i).prioritized_list;
      }
    },
    55861: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => me, U: () => ce });
      var s = a(89526),
        n = a(75457),
        r = a(39120),
        i = a(32765),
        l = a(53853),
        o = a(44208),
        c = a(5742),
        m = a(44026),
        u = a(33940),
        g = a(52868),
        d = a.n(g),
        _ = a(5615),
        p = a(42735),
        v = a(57361),
        E = a(44973);
      function f(e) {
        const {
          isLoading: t,
          isError: a,
          data: s,
        } = (0, _.useQuery)(
          ["useDLCHubCount", e],
          () =>
            (0, u.mG)(this, void 0, void 0, function* () {
              return (function (e) {
                var t, a;
                return (0, u.mG)(this, void 0, void 0, function* () {
                  const s = `${E.De.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                    n = { origin: self.origin },
                    r = yield d().get(s, { params: n, withCredentials: !1 });
                  if (200 !== r.status || r.data.success !== p.s.k_EResultOK)
                    throw new Error(
                      `FetchDLCCount failed: status == ${
                        r.status
                      }, eresult == ${
                        null === (t = r.data) || void 0 === t
                          ? void 0
                          : t.success
                      }, err_msg == ${
                        null === (a = r.data) || void 0 === a
                          ? void 0
                          : a.err_msg
                      }`,
                    );
                  return r.data.count;
                });
              })(e);
            }),
          { enabled: Boolean(e && e != v.kI) },
        );
        return t || a ? null : s;
      }
      var h = a(85886),
        M = a(25871),
        y = a(44421),
        C = a(31245),
        S = a(20983),
        b = a(71161),
        k = a(14826),
        D = a(29551),
        A = a(94047),
        T = a(25125),
        G = a(51438),
        L = a(17547),
        P = a(44865);
      function w(e, t, a, s) {
        if (!s) return null;
        const n = a ? "?t=" + a : "";
        return s.path.startsWith("images")
          ? `${E.De.MEDIA_CDN_URL}steam/marketing/${e}/${s.path}${n}`
          : `${E.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${s.path}${n}`;
      }
      var I = a(4306);
      function B(e) {
        var t;
        const { path: a, message: n, eLanguage: r } = e,
          i = (0, u._T)(e, ["path", "message", "eLanguage"]),
          l =
            null === (t = n.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          o = w(n.id, r, l, { type: "file", path: a });
        return s.createElement("img", Object.assign({}, i, { src: o }));
      }
      function N(e) {
        var t;
        const { message: a, mp4Path: n, webmPath: r, language: i } = e,
          l = (0, u._T)(e, ["message", "mp4Path", "webmPath", "language"]),
          o =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          c = w(a.id, i, o, { type: "file", path: r }),
          m = w(a.id, i, o, { type: "file", path: n }),
          g = (0, s.useRef)(null),
          d = (0, s.useRef)(!1),
          _ = (0, s.useCallback)(() => {
            g.current &&
              ("visible" === document.visibilityState
                ? d.current && (g.current.play(), (d.current = !1))
                : g.current.paused || (g.current.pause(), (d.current = !0)));
          }, []);
        return (
          (0, I.JI)(document, "visibilitychange", _),
          (0, s.useEffect)(() => _(), [_]),
          s.createElement(
            "video",
            Object.assign({}, l, { ref: g }),
            s.createElement("source", { src: c, type: "video/webm" }),
            s.createElement("source", { src: m, type: "video/mp4" }),
          )
        );
      }
      a(75962);
      var x = a(19304),
        R = a(40442),
        O = a(701),
        V = a(207),
        H = a(3462);
      function U(e) {
        const t = ce(),
          [a, n] = (0, s.useState)(!1);
        return s.createElement(
          G.s,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: () => n(!0),
            className: H.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !0,
                  muted: !0,
                  autoPlay: !0,
                  className: H.Video,
                  crossOrigin:
                    "dev" == E.De.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, V.et)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!E.De.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, V.et)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(j, { message: t }),
              )
            : s.createElement(F, { message: t }),
        );
      }
      function F(e) {
        var t;
        const { message: a } = e,
          n =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          [r, i] = a.GetPosterImage(),
          l = w(a.id, i, n, { type: "file", path: r });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: l, className: H.Poster }),
          s.createElement(O.GhU, null),
        );
      }
      function j(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            var e;
            const a = t.GetSubtitleObj(),
              r =
                null === (e = t.GetTemplateVars()) || void 0 === e
                  ? void 0
                  : e.last_asset_mtime,
              i = new Array();
            for (let e = n.Df.k_Lang_English; e < n.Df.k_Lang_MAX; ++e) {
              if (!k.LJ.IsELanguageValidInRealm(e, E.De.EREALM)) continue;
              const l = (0, n.j_)(e);
              if (a && a[l]) {
                const o = a[l].path,
                  c = w(t.id, e, r, { type: "file", path: o });
                i.push(
                  s.createElement("track", {
                    key: t.id + " " + e,
                    src: c,
                    kind: "subtitles",
                    srcLang: (0, n.dt)(e),
                    default: E.De.LANGUAGE == l,
                    label: (0, k.Xx)("#language_selection_" + (0, n.j_)(e)),
                  }),
                );
              }
            }
            return i;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      var $ = a(64145);
      function W(e) {
        const { bLowBandwidthMode: t } = e,
          a = ce(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display,
          r = (0, R.U)();
        return s.createElement(
          b.ZP,
          { submethod: r ? "prioritized_list" : "default_list" },
          s.createElement(
            "div",
            { className: $.All },
            s.createElement(
              "div",
              { className: $.MessageContent },
              s.createElement(z, {
                isBackgroundBlur: !0,
                bOverrideUseBackgroundImage: n,
              }),
              s.createElement(z, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(U, null),
              s.createElement(K, null),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          ),
        );
      }
      function Z(e) {
        return s.createElement(
          "div",
          { className: $.All },
          s.createElement(
            "div",
            { className: $.MessageContent },
            s.createElement(z, { isBackgroundBlur: !0 }),
            s.createElement(X, null),
            s.createElement(K, null),
            s.createElement("div", { style: { clear: "both" } }),
          ),
        );
      }
      function z(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = ce(),
          r = (0, c.pT)(n.GetTemplateVars().linkurl, "image"),
          [i, l] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          G.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, x.Z)($.GameImage, t && $.IsBlur),
            onActivate: r,
          },
          i && s.createElement(B, { message: n, path: i, eLanguage: l }),
        );
      }
      function X(e) {
        const t = ce(),
          a = (0, c.pT)(t.GetTemplateVars().linkurl, "image"),
          r = (0, n.jM)(i.De.LANGUAGE),
          l = t.GetTemplateMP4(r),
          o = t.GetTemplateWebM(r);
        return s.createElement(
          G.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, x.Z)($.GameImage),
            onActivate: a,
          },
          s.createElement(N, {
            muted: !0,
            autoPlay: !0,
            controls: !1,
            loop: !0,
            mp4Path: l,
            message: t,
            webmPath: o,
            language: r,
          }),
        );
      }
      function K(e) {
        const { bHidePrice: t } = e,
          a = ce(),
          n = (0, c.pT)(a.GetTemplateVars().linkurl, "button"),
          [r, i] = (0, T.SZ)(() => [
            a.GetTemplateVars().button_text_custom ||
              a.GetTemplateVars().button_text,
            Boolean(a.GetTemplateVars().hide_price),
          ]),
          l = Boolean(t || i);
        return s.createElement(
          "div",
          { className: (0, x.Z)($.MessageFooter, !1, A.MessageFooter) },
          s.createElement(
            "div",
            { className: $.ButtonAndPriceCtn },
            s.createElement(
              G.s,
              {
                focusable: !0,
                noFocusRing: !0,
                className: $.Btn,
                onActivate: n,
              },
              r,
            ),
            Boolean(!l) &&
              s.createElement(L.SV, null, s.createElement(Q, null)),
          ),
          s.createElement(J, null),
        );
      }
      function Q() {
        const e = ce().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: $.MessagePriceCtn },
              s.createElement(P.nk, { storeItem: e }),
            )
          : s.createElement("div", { className: $.NoPrice });
      }
      function J(e) {
        const t = ce();
        return (0, r.KY)()
          ? null
          : s.createElement("div", {
              className: $.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      const Y = { include_assets: !0 };
      function q(e) {
        var t;
        const { bPreview: a } = e,
          n = ce(),
          [r, i] = (0, s.useMemo)(
            () => [
              n.GetDLCAppIDs(),
              n.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [n],
          );
        (0, M.wZ)(r, Y);
        const l = f(
          null === (t = null == n ? void 0 : n.associated_item) || void 0 === t
            ? void 0
            : t.GetAppID(),
        );
        return (
          (0, s.useEffect)(() => {
            if (n) {
              const e = Boolean(l)
                ? (0, k.kb)("#MarketingMessages_See_Count_Items", l)
                : (0, k.Xx)("#MarketingMessages_See_All_Items");
              n.OverrideCustomText(e),
                n.OverrideURL(
                  `${E.De.STORE_BASE_URL}dlc/${n.associated_item.GetAppID()}`,
                );
            }
          }, [n, l]),
          s.createElement(
            b.ZP,
            { submethod: "dlc_override" },
            s.createElement(
              "div",
              { className: A.MainContainer },
              s.createElement(
                "div",
                { className: A.BackgroundImage },
                s.createElement(te, { storeItem: n.associated_item }),
                s.createElement(te, { storeItem: n.associated_item }),
              ),
              s.createElement(ee, {
                storeItem: n.associated_item,
                bPreview: a,
              }),
              s.createElement(se, {
                rgDLCSaleCapsules: i,
                messageType: n.GetType(),
              }),
              s.createElement(K, { bHidePrice: !0 }),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          )
        );
      }
      function ee(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          r = (0, c.hF)(t.GetAppID()),
          i = (0, s.useMemo)(() => {
            if (
              a &&
              (!(null == r ? void 0 : r.playtime_forever) ||
                !(null == r ? void 0 : r.rtime_last_played))
            ) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return r;
          }, [r, a]),
          l = "steam://nav/games/details/" + t.GetID();
        return s.createElement(
          "div",
          { className: A.BaseCtn },
          s.createElement(
            m.IS,
            { className: A.CapsuleCtn, href: l },
            s.createElement(S.N, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: A.DescCtn },
            s.createElement(
              m.IS,
              { className: A.GameNameCtn, href: l },
              s.createElement("div", { className: A.GameName }, t.GetName()),
            ),
            s.createElement(
              "div",
              { className: A.LibraryDetails },
              s.createElement(
                "div",
                { className: A.Btn },
                s.createElement(
                  m.IS,
                  { href: l, className: A.Button },
                  (0, k.Xx)("#EventDisplay_ViewInLibrary"),
                ),
              ),
              Boolean(null == i ? void 0 : i.rtime_last_played) &&
                s.createElement(
                  "div",
                  { className: A.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, k.Xx)("#MarketingMessages_DLC_lastplayed"),
                  ),
                  (0, k.m9)(i.rtime_last_played),
                ),
              Boolean(null == i ? void 0 : i.playtime_forever) &&
                s.createElement(
                  "div",
                  { className: A.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, k.Xx)("#MarketingMessages_DLC_hours"),
                  ),
                  (0, D.W)(i.playtime_forever),
                ),
            ),
          ),
        );
      }
      function te(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetLibraryHeroURL();
        return a ? s.createElement("img", { src: a }) : null;
      }
      function ae(e) {
        const { messageType: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(t === o.l$.k_EMarketingMessageWeekendDeal) &&
            s.createElement(
              "div",
              { className: A.Type },
              (0, k.Xx)("#spotlight_weekend_deal"),
            ),
          Boolean(t === o.l$.k_EMarketingMessageMidweekDeal) &&
            s.createElement(
              "div",
              { className: A.Type },
              (0, k.Xx)("#spotlight_midweek_madness"),
            ),
          Boolean(t === o.l$.k_EMarketingMessageDailyDeal) &&
            s.createElement(
              "div",
              { className: A.Type },
              (0, k.Xx)("#spotlight_daily_deal"),
            ),
          s.createElement(
            "div",
            { className: A.DealDesc },
            (0, k.Xx)("#MarketingMessages_DLC_desc"),
          ),
        );
      }
      function se(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: A.DlcCtn },
              s.createElement(ae, { messageType: a }),
              s.createElement(ne, { first: t[0], second: t[1] }),
              s.createElement(ne, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
          ? s.createElement(
              "div",
              { className: A.DlcCtn },
              s.createElement(ae, { messageType: a }),
              s.createElement(
                "div",
                { className: A.OneItemRow },
                s.createElement(le, { id: t[0].id, type: t[0].type }),
              ),
              s.createElement(ne, { first: t[1], second: t[2] }),
            )
          : t.length >= 2
          ? s.createElement(
              "div",
              { className: A.DlcCtn },
              s.createElement(ae, { messageType: a }),
              s.createElement(
                "div",
                { className: A.OneItemRow },
                s.createElement(le, { id: t[0].id, type: t[0].type }),
              ),
              s.createElement(
                "div",
                { className: A.OneItemRow },
                s.createElement(le, { id: t[1].id, type: t[1].type }),
              ),
            )
          : t.length >= 1
          ? s.createElement(
              "div",
              { className: A.DlcCtn },
              s.createElement(ae, { messageType: a }),
              s.createElement(
                "div",
                { className: A.OneBigItem },
                s.createElement(ie, { capsule: t[0], imageType: "main" }),
              ),
            )
          : null;
      }
      function ne(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: A.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: A.DlcCtn },
            s.createElement(ie, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: A.DlcCtn },
            s.createElement(ie, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function re(e, t) {
        const [a] = (0, M.jk)(e, (0, h.TM)(t), { include_platforms: !0 });
        return (0, c.pT)(
          a ? a.GetStorePageURL() : E.De.STORE_BASE_URL,
          "dlc_capsule",
        );
      }
      function ie(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = re(t.id, t.type)),
          s.createElement(C.B, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function le(e) {
        const { id: t, type: a } = e,
          n = re(t, a);
        return s.createElement(y.ju, { id: t, type: a, fnOnClickOverride: n });
      }
      const oe = s.createContext(null);
      function ce() {
        return s.useContext(oe);
      }
      function me(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          i = (0, r.li)();
        return (
          s.useEffect(() => {
            n && i(t.GetLegalHTML());
          }, [n, t, i]),
          s.createElement(
            oe.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(ge, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const ue = s.lazy(() => a.e(938).then(a.bind(a, 75176)));
      function ge(e) {
        const { message: t, active: a, preview: r } = e,
          o = (0, n.jM)(i.De.LANGUAGE),
          { bLowBandwidthMode: c } = (0, l.YW)();
        switch (t.GetTemplateVars().custom_display) {
          case "replay2022":
            if (i.L7.logged_in) return s.createElement(ue, { active: a });
            break;
          case "dlc_override":
            return s.createElement(q, { bPreview: r });
        }
        return "image" === t.GetTemplateType()
          ? (0, l.p8)(t, o, c)
            ? s.createElement(Z, null)
            : s.createElement(W, { bLowBandwidthMode: c })
          : null;
      }
    },
    53853: (e, t, a) => {
      "use strict";
      a.d(t, { YW: () => r, j4: () => i, p8: () => l });
      var s = a(89526),
        n = a(59934);
      function r() {
        const e = (0, n.TH)();
        return s.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function i(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function l(e, t, a) {
        return (
          !(a || !e.BHasTemplateAnimatedAssets()) &&
          e.BHasTemplateAnimatedAssetForLanguage(t)
        );
      }
    },
    34285: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => j, default: () => $ });
      var s = a(96927),
        n = a(40442),
        r = a(33940),
        i = a(5615),
        l = a(89526),
        o = a(75457),
        c = a(42735),
        m = a(67328),
        u = a(44208),
        g = a(32765),
        d = a(11195),
        _ = a(36704),
        p = a(23801),
        v = a(50265);
      class E {
        constructor(e) {
          (this.m_setMessagesSeen = new Set()), (this.m_SteamInterface = e);
        }
        static Init(e) {
          E.sm_Instance = new E(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, p.X)(E.sm_Instance, "MarketingMessages store not initialized"),
            E.sm_Instance
          );
        }
        GetMessageList(e, t = !1) {
          return (0, r.mG)(this, void 0, void 0, function* () {
            if (!g.L7.logged_in) return [];
            const a = m.gA.Init(u.Pe);
            a.Body().set_country_code(g.De.COUNTRY),
              a.Body().set_elanguage((0, o.jM)(g.De.LANGUAGE)),
              a.Body().set_client_package_version(e.nClientPackageVersion),
              a.Body().set_operating_system(e.eOSType),
              t && a.Body().set_include_seen_messages(!0),
              (0, d.pA)(a),
              (0, d.De)(a, E.sm_DefaultDataRequest);
            const s = yield u.Bn.GetMarketingMessagesForUser(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (s.GetEResult() != c.s.k_EResultOK)
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            if (t)
              for (const e of s.Body().messages())
                e.already_seen() &&
                  this.m_setMessagesSeen.add(e.message().gid());
            return s.Body().messages();
          });
        }
        GetSingleMessage(e, t) {
          return (0, r.mG)(this, void 0, void 0, function* () {
            const a = m.gA.Init(u.F5);
            let s;
            if (
              (a.Body().set_gid(e),
              (0, d.pA)(a),
              (0, d.De)(a, E.sm_DefaultDataRequest),
              (s = t
                ? yield u.Bn.GetDisplayMarketingMessageAdmin(
                    this.m_SteamInterfacePromotions.GetServiceTransport(),
                    a,
                  )
                : g.L7.logged_in
                ? yield u.Bn.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : yield u.Bn.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
              s.GetEResult() != c.s.k_EResultOK)
            )
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            return s.Body().message();
          });
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const s = m.gA.Init(u.UD);
          s.Body().set_gid(e),
            s.Body().set_display_index(t),
            s.Body().set_template_type(a),
            u.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      E.sm_DefaultDataRequest = { include_release: !0, include_assets: !0 };
      class f {
        constructor(e) {
          (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new _.Z(
                e.associated_item(),
                E.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == g.De.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return u.yf.k_EMarketingMessageTemplate_Replay;
            case "dlc_override":
              return u.yf.k_EMarketingMessageTemplate_DLC_Override;
          }
          return u.yf.k_EMarketingMessageTemplate_Image;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[g.De.LANGUAGE],
            t = (0, o.jM)(g.De.LANGUAGE);
          return (
            e ||
              g.De.LANGUAGE != (0, o.j_)(o.Df.k_Lang_Latam_Spanish) ||
              ((e = this.m_templateVars.ll_image.LATAM),
              (t = o.Df.k_Lang_Latam_Spanish)),
            e ||
              ((e = this.m_templateVars.ll_image.english),
              (t = o.Df.k_Lang_English)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[g.De.LANGUAGE],
            t = (0, o.jM)(g.De.LANGUAGE);
          return (
            e ||
              ((e = this.m_templateVars.background.english),
              (t = o.Df.k_Lang_English)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[g.De.LANGUAGE],
            t = (0, o.jM)(g.De.LANGUAGE);
          return (
            e ||
              ((e = this.m_templateVars.poster.english),
              (t = o.Df.k_Lang_English)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, o.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          var t;
          const a = (0, o.j_)(e);
          return null === (t = this.m_templateVars.webm[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetTemplateMP4(e) {
          var t;
          const a = (0, o.j_)(e);
          return null === (t = this.m_templateVars.mp4[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `Â© ${new Date().getFullYear()} Valve Corporation${
                e ? " and " + e : ""
              }. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      function h(e, t, a) {
        const { bIncludeSeenMessages: s } = t,
          n = (0, r._T)(t, ["bIncludeSeenMessages"]),
          {
            data: o,
            isLoading: c,
            isError: m,
          } = (0, i.useQuery)(
            ["MarketingMessages", "List", n, { bIncludeSeenMessages: !!s }],
            () => e.GetMessageList(n, s),
            a,
          ),
          u = l.useMemo(
            () => (null == o ? void 0 : o.map((e) => new f(e.message()))),
            [o],
          );
        return { rgMessages: c ? null : u, isError: m };
      }
      (0, r.gn)([v.LO], f.prototype, "m_templateVars", void 0);
      var M = a(59934),
        y = a(57605),
        C = a(14826),
        S = a(53853),
        b = a(15585),
        k = a(701),
        D = a(19304),
        A = a(22171),
        T = a(12360),
        G = a(3301),
        L = a(55861);
      const P = 8;
      function w(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, S.YW)(),
          { rgMessages: s, isError: n } = h(t, a),
          [r, i] = l.useState(!1),
          [o, c] = l.useState(0);
        (0, T.h)(b.MarketingMessagePage);
        const m = (0, M.k6)();
        if (
          (l.useEffect(() => {
            !s ||
              s.length ||
              n ||
              (a.bIncludeSeenMessages
                ? i(!0)
                : m.replace(
                    Object.assign(Object.assign({}, m.location), {
                      search: (0, S.j4)(
                        Object.assign(Object.assign({}, a), {
                          bIncludeSeenMessages: !0,
                        }),
                      ),
                    }),
                  ));
          }, [s, a, m, n]),
          n)
        )
          return l.createElement(
            R,
            null,
            (0, C.Xx)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (r)
          return l.createElement(
            R,
            null,
            (0, C.Xx)("#MarketingMessages_NoneAvailable"),
          );
        const u = a.bIncludeSeenMessages
          ? s
          : null == s
          ? void 0
          : s.slice(0, P);
        return l.createElement(
          "div",
          { className: b.MessageListPage },
          l.createElement(
            "div",
            { className: b.MessageListScroll },
            l.createElement(I, {
              MarketingMessagesStore: t,
              rgMessages: u,
              iActiveMessage: o,
            }),
          ),
          l.createElement(B, {
            cMessages: null == u ? void 0 : u.length,
            iMessage: o,
            setMessage: c,
          }),
        );
      }
      function I(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: s,
        } = e;
        return a
          ? l.createElement(
              "div",
              { className: b.MessageListContainer },
              null == a
                ? void 0
                : a.map((e, a) =>
                    l.createElement(O, {
                      key: e.id,
                      displayIndex: a,
                      message: e,
                      MarketingMessagesStore: t,
                      active: a == s,
                      next: a == s + 1 || a == s - 1,
                    }),
                  ),
            )
          : l.createElement(
              "div",
              { className: (0, D.Z)(b.MessageListContainer, b.Loading) },
              l.createElement(G.V, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function B(e) {
        const { cMessages: t, iMessage: a, setMessage: s } = e,
          n = l.useCallback(() => s(a - 1), [s, a]),
          r = l.useCallback(() => s(a + 1), [s, a]),
          i = [];
        for (let e = 0; e < t; e++)
          i.push(
            l.createElement(N, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: s,
            }),
          );
        const o = a > 0 ? n : void 0,
          c = a < t - 1 ? r : void 0;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement("div", { className: b.CarouselSpacer }),
          l.createElement(
            "div",
            { className: b.CarouselBar },
            l.createElement(
              "div",
              { className: b.Content },
              l.createElement(
                "div",
                { className: (0, D.Z)(b.LeftArrow, o && b.Active), onClick: o },
                l.createElement(k.BKy, { angle: 180 }),
              ),
              l.createElement("div", { className: b.Spacer }),
              l.createElement(
                "div",
                { className: b.PipContainer },
                l.createElement("div", { className: b.Pips }, i),
              ),
              l.createElement("div", { className: b.Spacer }),
              l.createElement(
                "div",
                { className: (0, D.Z)(b.LeftArrow, c && b.Active), onClick: c },
                l.createElement(k.BKy, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function N(e) {
        const { active: t, iMessage: a, setMessage: s } = e,
          n = l.useCallback(() => s(a), [s, a]);
        return l.createElement("div", {
          className: (0, D.Z)(b.Pip, t && b.Active),
          onClick: n,
        });
      }
      function x(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          s = (0, M.$B)(),
          { message: n, isError: r } = (function (e, t, a) {
            const { data: s, isError: n } = (0, i.useQuery)(
              ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
              () => e.GetSingleMessage(t, a),
              { enabled: !!t },
            );
            return {
              message: l.useMemo(() => {
                var e;
                if (s) {
                  const t = new f(s);
                  if (a) {
                    const a = (0, g.kQ)(
                      "marketingmessage_preview_config",
                      "application_config",
                    );
                    (null ===
                      (e = null == a ? void 0 : a.dlc_appid_overrides) ||
                    void 0 === e
                      ? void 0
                      : e.length) > 0 &&
                      t.SetDLCAppIDOverride(a.dlc_appid_overrides);
                  }
                  return t;
                }
              }, [s, a]),
              isError: n,
            };
          })(t, s.params.messageid, a);
        return (
          (0, T.h)(b.MarketingMessagePage),
          r
            ? l.createElement(
                R,
                null,
                (0, C.Xx)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : s.params.messageid
            ? n
              ? l.createElement(L.v, { message: n, preview: a })
              : null
            : l.createElement(
                R,
                null,
                (0, C.Xx)("#MarketingMessages_NoneAvailable"),
              )
        );
      }
      function R(e) {
        return l.createElement(
          y.VY,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          l.createElement(y.h4, null, (0, C.Xx)("#Error_Generic"), " "),
          l.createElement(y.uT, null, e.children),
        );
      }
      function O(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: s,
            next: n,
            displayIndex: r,
          } = e,
          i = l.useRef(),
          o = l.useRef(s || n);
        if (
          ((function (e, t, a) {
            l.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, s ? t : null, r),
          (s || n) && (o.current = !0),
          !o.current)
        )
          return null;
        let c = {
          enter: b.Enter,
          enterActive: b.EnterActive,
          enterDone: b.EnterDone,
          exit: b.Exit,
          exitActive: b.ExitActive,
          exitDone: b.ExitDone,
        };
        return l.createElement(
          A.Z,
          {
            in: s,
            nodeRef: i,
            classNames: c,
            timeout: 300,
            mountOnEnter: !n,
            unmountOnExit: !n,
          },
          l.createElement(
            "div",
            { className: (0, D.Z)(b.MessageWrapper, s && b.Active), ref: i },
            l.createElement(L.v, { message: t, active: s }),
          ),
        );
      }
      var V = a(27070),
        H = a(19094),
        U = a(39120),
        F = a(71161);
      const j = {
        List: () => `${s.Z.MarketingMessages()}list/`,
        Message: (e) => `${s.Z.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${s.Z.MarketingMessages()}preview/${e}`,
      };
      function $(e) {
        const t = (function () {
          const [e, t] = l.useState(null),
            a = (0, V.lS)();
          return (
            l.useLayoutEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!W) {
                      const t = (0, g.kQ)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (
                        ((W = new E(e)),
                        null == t ? void 0 : t.promotion_operation_token)
                      ) {
                        const e = new H.J(
                          g.De.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        W.SetSteamInterfacePromotions(e);
                      }
                    }
                    return W;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? l.createElement(
              F.ZP,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              l.createElement(
                n.H,
                null,
                l.createElement(
                  U.Ks,
                  null,
                  l.createElement(
                    M.rs,
                    null,
                    l.createElement(
                      M.AW,
                      { path: `${j.List()}` },
                      l.createElement(w, { MarketingMessagesStore: t }),
                    ),
                    l.createElement(
                      M.AW,
                      { path: `${j.MessagePreview(":messageid")}` },
                      l.createElement(x, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    l.createElement(
                      M.AW,
                      { path: `${j.Message(":messageid")}` },
                      l.createElement(x, { MarketingMessagesStore: t }),
                    ),
                    l.createElement(
                      M.AW,
                      null,
                      l.createElement(M.l_, { to: `${j.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let W;
    },
  },
]);
