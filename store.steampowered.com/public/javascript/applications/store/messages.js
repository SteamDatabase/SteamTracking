/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4158],
  {
    49065: (e) => {
      e.exports = {
        MarketingMessagePage: "_1HVoKfdcaouK3kHKX2kH5t",
        MessageListPage: "_1N7O3VXbkpN2z55HsSDZsi",
        MessageListScroll: "_2RW7G8Bi-8k-29anQh8Ie8",
        CarouselBar: "O7VJKyPtoS7TXCr6mrwCr",
        Content: "_1qtg3ASXX4ClYiTHPq9Tkl",
        LeftArrow: "_3ZyZUkBq73dLvZ6zKdM9PQ",
        RightArrow: "_2WuPusSmjw_B4rfkgb-NV8",
        Active: "cwA5j4AsP5OB7WjWuOlFv",
        Spacer: "COvXCP3wZxk_s1ho7e3WO",
        PipContainer: "_3ASpk2zuTuDhIXKorFGF_L",
        Pips: "_1rpuGJtVR-xrddd9ui6IWu",
        Pip: "ZQrtMhZB1tpkd2bgBXyIF",
        MessageListContainer: "_33cf4TnmCK5XdTjanW9bVf",
        Loading: "_1xSKZdDmIvXYCmFif6fSAq",
        MessageWrapper: "_152h7KWYvm_9hIyzRzh8kl",
        Enter: "DZICERQkVmyCBP2E-PwlH",
        EnterActive: "RU-xm1VaMHf9H7o1TFkVO",
        EnterDone: "_3AP2YQ_mKZF-H78sMt3rKC",
        Exit: "_2xmDIRYN5Pu_eHRMjWop63",
        ExitActive: "_32DFHj9NmyNtEK-3K3nKuX",
        ExitDone: "_3cFXRpyI9jrZ2qCySg3fiT",
      };
    },
    64478: (e) => {
      e.exports = {
        MainContainer: "T3yskA9Z_J8lYYiwMR4Gr",
        BackgroundImage: "_3vQ5a1hrg4SbTU1Uw3351z",
        BaseCtn: "D3UK8pLuHz5_91gJG1yxn",
        CapsuleCtn: "_1-6EylKQ97BKv1z09OCHl8",
        DescCtn: "_25xSfqWlAs91IY22h7uOSp",
        GameNameCtn: "_7lGQT4qR3nj6FqHgXU48W",
        GameName: "vGL7eHrhpGUvKYHZb5xRY",
        LibraryDetails: "_2t8tYn9q2lyga6zOfEclIt",
        Button: "_2UC3D5x-ybk_F4GT1AS9yg",
        PlayDetailCtn: "_3QmX6_ROoVgbGiEf4L6dQZ",
        DlcCtn: "_3H7i0ChQjoGWieNRcKmYea",
        Type: "HmoaKPBZvHxysTOtEt6I_",
        DealDesc: "_3fPQtBXFQwL3xrK4zmpmyq",
        OneItemRow: "_6a9d-uI8VyQTmWHS3vFI-",
        OneBigItem: "_2lKQioAzojICHeg5SX6fhc",
        TwoCapsuleRow: "_1s9-9e_1KjO0xTTJNj-KuT",
        MessageFooter: "_2S4fBjsKkxaiDF5Qs0Jz7t",
      };
    },
    92088: (e) => {
      e.exports = {
        Dummy: "Bz-g3Un8YClQejeOkhSju",
        PosterCtn: "_24bJJZ8-xr8Et4DVUrr17J",
        Poster: "_3LbyxomxMvYMy7cLThkkIf",
        Video: "_2bH_Jxh-T2YFCPBCW_pvQB",
      };
    },
    4220: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        MessageContent: "rohJ-MJ38DaQu7OALvtk2",
        IsBlur: "_2lGtReFvHkdsIF2AaOFqi-",
        GameImage: "_2It5bIVOQ5kfPi3hxgljv",
        Legal: "zzC_W5UiAVOuZkk_uUVRa",
        MessageFooter: "_20RJ2DOwJVsUOJlg3_K-Ct",
        ButtonAndPriceCtn: "_2FwUGWmfUW21dl1fJpb8v8",
        NoButton: "_1FbSdZAVXva9cuGL3-Cj77",
        Btn: "_3YohCYvZ6UbfgCXH2uhaOD",
        MessagePriceCtn: "ddVk7jceHdJGG_smPqze_",
        Price: "KtsI7seCQPeIUBDBVaaSl",
        NoPrice: "_3gtjPTBj2Oio-yMRKwMBCB",
        PriceReal: "zlxx_FpPzwp3XzjFyVJcF",
        PriceRealShort: "_1XB_wXklFPM9VgSnkNYAkV",
        PriceRegular: "_7m4i8_D4q2RG-7pzpvnz3",
        Strike: "_3fFJl5u5Gen9madON-3suu",
        ShareLinks: "_2FhhQXg4pxEIwAOg5vjbjl",
        All: "_1WpMexuRP6M2yHFNaXP6JO",
        TextTop: "_3cnZMnG9zf3NUPjSE2G1_n",
        TextBottom: "_2pJeucA0CkYXlnj-DCA9X4",
        ButtonContainer: "_3CVNg4d--HZWIFLRPW6kT9",
      };
    },
    53545: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ke: () => h,
        LP: () => f,
        N8: () => p,
        Q2: () => M,
        wM: () => E,
      });
      var s = a(85556),
        n = a(42718),
        r = a(47427),
        i = a(77936),
        l = a(79545),
        o = a(44237),
        c = a(37563),
        m = a(80998),
        u = a(51465),
        d = a(62210),
        g = a(54842);
      class p {
        constructor(e) {
          (this.m_setMessagesSeen = new Set()), (this.m_SteamInterface = e);
        }
        static Init(e) {
          p.sm_Instance = new p(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, d.X)(p.sm_Instance, "MarketingMessages store not initialized"),
            p.sm_Instance
          );
        }
        GetMessageList(e, t = !1) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            if (!c.L7.logged_in) return [];
            const a = l.gA.Init(o.Pe);
            a.Body().set_country_code(c.De.COUNTRY),
              a.Body().set_elanguage((0, i.jM)(c.De.LANGUAGE)),
              a.Body().set_client_package_version(e.nClientPackageVersion),
              a.Body().set_operating_system(e.eOSType),
              t && a.Body().set_include_seen_messages(!0),
              (0, m.pA)(a),
              (0, m.De)(a, p.sm_DefaultDataRequest);
            const s = yield o.Bn.GetMarketingMessagesForUser(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 != s.GetEResult())
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            if (t)
              for (const e of s.Body().messages())
                e.already_seen() &&
                  this.m_setMessagesSeen.add(e.message().gid());
            return s.Body().messages();
          });
        }
        GetSingleMessage(e, t) {
          return (0, s.mG)(this, void 0, void 0, function* () {
            const a = l.gA.Init(o.F5);
            let s;
            if (
              (a.Body().set_gid(e),
              (0, m.pA)(a),
              (0, m.De)(a, p.sm_DefaultDataRequest),
              (s =
                t || c.L7.logged_in
                  ? yield o.Bn.GetDisplayMarketingMessageForUser(
                      this.m_SteamInterface.GetServiceTransport(),
                      a,
                    )
                  : yield o.Bn.GetDisplayMarketingMessage(
                      this.m_SteamInterface.GetAnonymousServiceTransport(),
                      a,
                    )),
              1 != s.GetEResult())
            )
              throw `Error loading marketing messages: ${s.GetEResult()}`;
            return s.Body().message();
          });
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const s = l.gA.Init(o.UD);
          s.Body().set_gid(e),
            s.Body().set_display_index(t),
            s.Body().set_template_type(a),
            o.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      p.sm_DefaultDataRequest = { include_release: !0, include_assets: !0 };
      class _ {
        constructor(e) {
          (this.m_templateVars = void 0),
            (0, g.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new u.Z(
                e.associated_item(),
                p.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == c.De.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e ||
              c.De.LANGUAGE != (0, i.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[c.De.LANGUAGE],
            t = (0, i.jM)(c.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, i.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          var t;
          const a = (0, i.j_)(e);
          return null === (t = this.m_templateVars.webm[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetTemplateMP4(e) {
          var t;
          const a = (0, i.j_)(e);
          return null === (t = this.m_templateVars.mp4[a]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `© ${new Date().getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, s.gn)([g.LO], _.prototype, "m_templateVars", void 0);
      const v = "^(replay)([0-9]{4})";
      function E(e) {
        const t = e.match(v);
        return null == t ? void 0 : t[2];
      }
      function f(e) {
        const t = e.match(v);
        return (
          (null == t ? void 0 : t[2]) &&
          !isNaN(Number(null == t ? void 0 : t[2]))
        );
      }
      function h(e, t, a) {
        const { bIncludeSeenMessages: i } = t,
          l = (0, s._T)(t, ["bIncludeSeenMessages"]),
          {
            data: o,
            isLoading: c,
            isError: m,
          } = (0, n.useQuery)(
            ["MarketingMessages", "List", l, { bIncludeSeenMessages: !!i }],
            () => e.GetMessageList(l, i),
            a,
          ),
          u = r.useMemo(
            () => (null == o ? void 0 : o.map((e) => new _(e.message()))),
            [o],
          );
        return { rgMessages: c ? null : u, isError: m };
      }
      function M(e, t, a) {
        const { data: s, isError: i } = (0, n.useQuery)(
          ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
          () => e.GetSingleMessage(t, a),
          { enabled: !!t },
        );
        return {
          message: r.useMemo(() => {
            var e;
            if (s) {
              const t = new _(s);
              if (a) {
                const a = (0, c.kQ)(
                  "marketingmessage_preview_config",
                  "application_config",
                );
                (null === (e = null == a ? void 0 : a.dlc_appid_overrides) ||
                void 0 === e
                  ? void 0
                  : e.length) > 0 &&
                  t.SetDLCAppIDOverride(a.dlc_appid_overrides);
              }
              return t;
            }
          }, [s, a]),
          isError: i,
        };
      }
    },
    40945: (e, t, a) => {
      "use strict";
      a.d(t, { KY: () => l, Ks: () => c, li: () => o });
      var s = a(47427),
        n = a(43235),
        r = a(37563);
      const i = s.createContext({ setLegalText: void 0 });
      function l() {
        return !!s.useContext(i).setLegalText;
      }
      function o() {
        return s.useContext(i).setLegalText || function (e) {};
      }
      function c(e) {
        const [t, a] = s.useState(),
          l = (0, n.U5)("BrowserView.RegisterForMessageFromParent"),
          o = (0, r.id)(),
          c = s.useMemo(
            () => ({ setLegalText: l && !o ? a : void 0 }),
            [l, a, o],
          );
        return s.createElement(
          i.Provider,
          { value: c },
          l && s.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = s.useRef();
        return (
          s.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          s.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    18641: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => n, h: () => r });
      var s = a(47427);
      function n(e) {
        const { title: t, bodyClassName: a, children: n } = e;
        return (
          s.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          n
        );
      }
      function r(e) {
        s.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    54117: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => n });
      var s = a(31846);
      function n(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let n = s.Yt.GetPreferredLocales(),
            r = a.toLocaleString(n, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, s.Xx)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, s.Xx)(t + "Minute", e)
          : (0, s.Xx)(t + "Minutes", e);
      }
    },
    16305: (e, t, a) => {
      "use strict";
      a.d(t, { hF: () => p, pT: () => _ });
      var s = a(85556),
        n = a(42718),
        r = a(79545),
        i = a(40057),
        l = a(22520),
        o = a(82182),
        c = a(65255),
        m = a(37563),
        u = a(25006),
        d = a(50423),
        g = a(47427);
      function p(e) {
        const t = (0, i.bY)();
        let a = (0, n.useQuery)(
          ["useGamePlaytimeInfo", e],
          () =>
            (0, s.mG)(this, void 0, void 0, function* () {
              return (function (e, t) {
                return (0, s.mG)(this, void 0, void 0, function* () {
                  const a = r.gA.Init(o.pp);
                  a.Body().set_steamid(c.L7.steamid),
                    a.Body().set_appids_filter([e]),
                    a.Body().set_include_played_free_games(!0),
                    a.Body().set_language(c.De.LANGUAGE);
                  const s = yield o.lk.GetOwnedGames(t, a);
                  return s.Body().games().length > 0
                    ? s.Body().games()[0].toObject()
                    : {};
                });
              })(e, t);
            }),
          { enabled: Boolean(e && e != l.kI) },
        );
        return a.isSuccess ? a.data : null;
      }
      function _(e, t) {
        let a = (0, u.YR)(
          (function (e) {
            return (0, m.h4)() &&
              (null == e
                ? void 0
                : e.startsWith("https://store.steampowered.com"))
              ? e.replace(
                  "https://store.steampowered.com",
                  "https://store.steamchina.com",
                )
              : e;
          })(e),
          t,
        );
        return (
          a.startsWith("steam://") || (a = `steam://openurl/${a}`),
          (0, g.useCallback)(
            (e) => {
              (0, d.RA)(e).location.href = a;
            },
            [a],
          )
        );
      }
    },
    70267: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => oe, U: () => le });
      var s = a(47427),
        n = a(77936),
        r = a(53545),
        i = a(40945),
        l = a(37563),
        o = a(27299),
        c = a(16305),
        m = a(82493),
        u = a(85556),
        d = a(80751),
        g = a.n(d),
        p = a(42718),
        _ = a(22520),
        v = a(65255);
      function E(e) {
        const {
          isLoading: t,
          isError: a,
          data: s,
        } = (0, p.useQuery)(
          ["useDLCHubCount", e],
          () =>
            (0, u.mG)(this, void 0, void 0, function* () {
              return (function (e) {
                var t, a;
                return (0, u.mG)(this, void 0, void 0, function* () {
                  const s = `${v.De.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                    n = { origin: self.origin },
                    r = yield g().get(s, { params: n, withCredentials: !1 });
                  if (200 !== r.status || 1 !== r.data.success)
                    throw new Error(
                      `FetchDLCCount failed: status == ${r.status}, eresult == ${null === (t = r.data) || void 0 === t ? void 0 : t.success}, err_msg == ${null === (a = r.data) || void 0 === a ? void 0 : a.err_msg}`,
                    );
                  return r.data.count;
                });
              })(e);
            }),
          { enabled: Boolean(e && e != _.kI) },
        );
        return t || a ? null : s;
      }
      var f = a(86437),
        h = a(80886),
        M = a(85884),
        y = a(40833),
        G = a(61183),
        k = a(25006),
        S = a(31846),
        C = a(54117),
        L = a(64478),
        T = a(30750),
        A = a(91618),
        B = a(10162),
        b = a(92797);
      function N(e, t, a, s) {
        if (!s || !s.path) return null;
        const n = a ? "?t=" + a : "";
        return s.path.startsWith("images")
          ? `${v.De.MEDIA_CDN_URL}steam/marketing/${e}/${s.path}${n}`
          : `${v.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${s.path}${n}`;
      }
      var I = a(20417);
      function D(e) {
        var t;
        const { path: a, message: n, eLanguage: r } = e,
          i = (0, u._T)(e, ["path", "message", "eLanguage"]),
          l =
            null === (t = n.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          o = N(n.id, r, l, { type: "file", path: a });
        return s.createElement("img", Object.assign({}, i, { src: o }));
      }
      function P(e) {
        var t;
        const { message: a, mp4Path: n, webmPath: r, language: i } = e,
          l = (0, u._T)(e, ["message", "mp4Path", "webmPath", "language"]),
          o =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          c = N(a.id, i, o, { type: "file", path: r }),
          m = N(a.id, i, o, { type: "file", path: n }),
          d = (0, s.useRef)(null),
          g = (0, s.useRef)(!1),
          p = (0, s.useCallback)(() => {
            d.current &&
              ("visible" === document.visibilityState
                ? g.current && (d.current.play(), (g.current = !1))
                : d.current.paused || (d.current.pause(), (g.current = !0)));
          }, []);
        return (
          (0, I.JI)(document, "visibilitychange", p),
          (0, s.useEffect)(() => p(), [p]),
          s.createElement(
            "video",
            Object.assign({}, l, { ref: d }),
            s.createElement("source", { src: c, type: "video/webm" }),
            s.createElement("source", { src: m, type: "video/mp4" }),
          )
        );
      }
      a(14609);
      var w = a(13129),
        x = a(62613),
        V = a(13499),
        R = a(92088);
      function O(e) {
        const t = le(),
          [a, n] = (0, s.useState)(!1);
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: () => n(!0),
            className: R.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !0,
                  muted: !0,
                  autoPlay: !0,
                  className: R.Video,
                  crossOrigin:
                    "dev" == v.De.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, V.et)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!v.De.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, V.et)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(U, { message: t }),
              )
            : s.createElement(F, { message: t }),
        );
      }
      function F(e) {
        var t;
        const { message: a } = e,
          n =
            null === (t = a.GetTemplateVars()) || void 0 === t
              ? void 0
              : t.last_asset_mtime,
          [r, i] = a.GetPosterImage(),
          l = N(a.id, i, n, { type: "file", path: r });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: l, className: R.Poster }),
          s.createElement(x.GhU, null),
        );
      }
      function U(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            var e;
            const a = t.GetSubtitleObj(),
              r =
                null === (e = t.GetTemplateVars()) || void 0 === e
                  ? void 0
                  : e.last_asset_mtime,
              i = new Array();
            for (let e = 0; e < 31; ++e) {
              if (!S.LJ.IsELanguageValidInRealm(e, v.De.EREALM)) continue;
              const l = (0, n.j_)(e);
              if (a && a[l]) {
                const o = a[l].path,
                  c = N(t.id, e, r, { type: "file", path: o });
                i.push(
                  s.createElement("track", {
                    key: t.id + " " + e,
                    src: c,
                    kind: "subtitles",
                    srcLang: (0, n.dt)(e),
                    default: v.De.LANGUAGE == l,
                    label: (0, S.Xx)("#language_selection_" + (0, n.j_)(e)),
                  }),
                );
              }
            }
            return i;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      var j = a(4220);
      function H(e) {
        const { bLowBandwidthMode: t } = e,
          a = le(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display;
        return s.createElement(
          k.ZP,
          null,
          s.createElement(
            "div",
            { className: j.All },
            s.createElement(
              "div",
              { className: j.MessageContent },
              s.createElement(X, {
                isBackgroundBlur: !0,
                bOverrideUseBackgroundImage: n,
              }),
              s.createElement(X, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(O, null),
              s.createElement(K, null),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          ),
        );
      }
      function W(e) {
        return s.createElement(
          "div",
          { className: j.All },
          s.createElement(
            "div",
            { className: j.MessageContent },
            s.createElement(X, { isBackgroundBlur: !0 }),
            s.createElement(Z, null),
            s.createElement(K, null),
            s.createElement("div", { style: { clear: "both" } }),
          ),
        );
      }
      function X(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = le(),
          r = (0, c.pT)(n.GetTemplateVars().linkurl, "image"),
          [i, l] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, w.Z)(j.GameImage, t && j.IsBlur),
            onActivate: r,
          },
          i && s.createElement(D, { message: n, path: i, eLanguage: l }),
        );
      }
      function Z(e) {
        const t = le(),
          a = (0, c.pT)(t.GetTemplateVars().linkurl, "image"),
          r = (0, n.jM)(l.De.LANGUAGE),
          i = t.GetTemplateMP4(r),
          o = t.GetTemplateWebM(r);
        return s.createElement(
          A.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, w.Z)(j.GameImage),
            onActivate: a,
          },
          s.createElement(P, {
            muted: !0,
            autoPlay: !0,
            controls: !1,
            loop: !0,
            mp4Path: i,
            message: t,
            webmPath: o,
            language: r,
          }),
        );
      }
      function K(e) {
        const { bHidePrice: t } = e,
          a = le(),
          n = (0, c.pT)(a.GetTemplateVars().linkurl, "button"),
          [r, i] = (0, T.SZ)(() => [
            a.GetTemplateVars().button_text_custom ||
              a.GetTemplateVars().button_text,
            Boolean(a.GetTemplateVars().hide_price),
          ]),
          l = Boolean(t || i);
        return s.createElement(
          "div",
          { className: (0, w.Z)(j.MessageFooter, !1, L.MessageFooter) },
          s.createElement(
            "div",
            { className: j.ButtonAndPriceCtn },
            s.createElement(
              A.s,
              {
                focusable: !0,
                noFocusRing: !0,
                className: j.Btn,
                onActivate: n,
              },
              r,
            ),
            Boolean(!l) &&
              s.createElement(B.SV, null, s.createElement(Q, null)),
          ),
          s.createElement($, null),
        );
      }
      function Q() {
        const e = le().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: j.MessagePriceCtn },
              s.createElement(b.nk, { storeItem: e }),
            )
          : s.createElement("div", { className: j.NoPrice });
      }
      function $(e) {
        const t = le();
        return (0, i.KY)()
          ? null
          : s.createElement("div", {
              className: j.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      const Y = { include_assets: !0 };
      function z(e) {
        var t;
        const { bPreview: a } = e,
          n = le(),
          [r, i] = (0, s.useMemo)(
            () => [
              n.GetDLCAppIDs(),
              n.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [n],
          );
        (0, h.wZ)(r, Y);
        const l = E(
          null === (t = null == n ? void 0 : n.associated_item) || void 0 === t
            ? void 0
            : t.GetAppID(),
        );
        return (
          (0, s.useEffect)(() => {
            if (n) {
              const e = Boolean(l)
                ? (0, S.kb)("#MarketingMessages_See_Count_Items", l)
                : (0, S.Xx)("#MarketingMessages_See_All_Items");
              n.OverrideCustomText(e),
                n.OverrideURL(
                  `${v.De.STORE_BASE_URL}dlc/${n.associated_item.GetAppID()}`,
                );
            }
          }, [n, l]),
          s.createElement(
            k.ZP,
            { submethod: "dlc_override" },
            s.createElement(
              "div",
              { className: L.MainContainer },
              s.createElement(
                "div",
                { className: L.BackgroundImage },
                s.createElement(q, { storeItem: n.associated_item }),
                s.createElement(q, { storeItem: n.associated_item }),
              ),
              s.createElement(J, { storeItem: n.associated_item, bPreview: a }),
              s.createElement(te, {
                rgDLCSaleCapsules: i,
                messageType: n.GetType(),
              }),
              s.createElement(K, { bHidePrice: !0 }),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          )
        );
      }
      function J(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          r = (0, c.hF)(t.GetAppID()),
          i = (0, s.useMemo)(() => {
            if (
              a &&
              (!(null == r ? void 0 : r.playtime_forever) ||
                !(null == r ? void 0 : r.rtime_last_played))
            ) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return r;
          }, [r, a]),
          l = "steam://nav/games/details/" + t.GetID();
        return s.createElement(
          "div",
          { className: L.BaseCtn },
          s.createElement(
            m.IS,
            { className: L.CapsuleCtn, href: l },
            s.createElement(G.N, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: L.DescCtn },
            s.createElement(
              "div",
              { className: L.GameNameCtn },
              s.createElement(
                m.IS,
                { className: L.GameName, href: l },
                t.GetName(),
              ),
            ),
            s.createElement(
              "div",
              { className: L.LibraryDetails },
              s.createElement(
                "div",
                { className: L.Btn },
                s.createElement(
                  m.IS,
                  { href: l, className: L.Button },
                  (0, S.Xx)("#EventDisplay_ViewInLibrary"),
                ),
              ),
              Boolean(null == i ? void 0 : i.rtime_last_played) &&
                s.createElement(
                  "div",
                  { className: L.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, S.Xx)("#MarketingMessages_DLC_lastplayed"),
                  ),
                  (0, S.m9)(i.rtime_last_played),
                ),
              Boolean(null == i ? void 0 : i.playtime_forever) &&
                s.createElement(
                  "div",
                  { className: L.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, S.Xx)("#MarketingMessages_DLC_hours"),
                  ),
                  (0, C.W)(i.playtime_forever),
                ),
            ),
          ),
        );
      }
      function q(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetLibraryHeroURL();
        return a ? s.createElement("img", { src: a }) : null;
      }
      function ee(e) {
        const { messageType: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(2 === t) &&
            s.createElement(
              "div",
              { className: L.Type },
              (0, S.Xx)("#spotlight_weekend_deal"),
            ),
          Boolean(11 === t) &&
            s.createElement(
              "div",
              { className: L.Type },
              (0, S.Xx)("#spotlight_midweek_madness"),
            ),
          Boolean(12 === t) &&
            s.createElement(
              "div",
              { className: L.Type },
              (0, S.Xx)("#spotlight_daily_deal"),
            ),
          s.createElement(
            "div",
            { className: L.DealDesc },
            (0, S.Xx)("#MarketingMessages_DLC_desc"),
          ),
        );
      }
      function te(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: L.DlcCtn },
              s.createElement(ee, { messageType: a }),
              s.createElement(ae, { first: t[0], second: t[1] }),
              s.createElement(ae, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
            ? s.createElement(
                "div",
                { className: L.DlcCtn },
                s.createElement(ee, { messageType: a }),
                s.createElement(
                  "div",
                  { className: L.OneItemRow },
                  s.createElement(re, { id: t[0].id, type: t[0].type }),
                ),
                s.createElement(ae, { first: t[1], second: t[2] }),
              )
            : t.length >= 2
              ? s.createElement(
                  "div",
                  { className: L.DlcCtn },
                  s.createElement(ee, { messageType: a }),
                  s.createElement(
                    "div",
                    { className: L.OneItemRow },
                    s.createElement(re, { id: t[0].id, type: t[0].type }),
                  ),
                  s.createElement(
                    "div",
                    { className: L.OneItemRow },
                    s.createElement(re, { id: t[1].id, type: t[1].type }),
                  ),
                )
              : t.length >= 1
                ? s.createElement(
                    "div",
                    { className: L.DlcCtn },
                    s.createElement(ee, { messageType: a }),
                    s.createElement(
                      "div",
                      { className: L.OneBigItem },
                      s.createElement(ne, { capsule: t[0], imageType: "main" }),
                    ),
                  )
                : null;
      }
      function ae(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: L.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: L.DlcCtn },
            s.createElement(ne, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: L.DlcCtn },
            s.createElement(ne, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function se(e, t) {
        const [a] = (0, h.jk)(e, (0, f.TM)(t), { include_platforms: !0 });
        return (0, c.pT)(
          a ? a.GetStorePageURL() : v.De.STORE_BASE_URL,
          "dlc_capsule",
        );
      }
      function ne(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = se(t.id, t.type)),
          s.createElement(y.B, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function re(e) {
        const { id: t, type: a } = e,
          n = se(t, a);
        return s.createElement(M.ju, {
          id: t,
          type: a,
          fnOnClickOverride: n,
          bIsMarketingMessage: !0,
        });
      }
      const ie = s.createContext(null);
      function le() {
        return s.useContext(ie);
      }
      function oe(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          r = (0, i.li)();
        return (
          s.useEffect(() => {
            n && r(t.GetLegalHTML());
          }, [n, t, r]),
          s.createElement(
            ie.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(me, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const ce = s.lazy(() => a.e(938).then(a.bind(a, 21400)));
      function me(e) {
        const { message: t, active: a, preview: i } = e,
          c = (0, n.jM)(l.De.LANGUAGE),
          { bLowBandwidthMode: m } = (0, o.YW)();
        if (
          (0, r.LP)(t.GetTemplateVars().custom_display || "") &&
          l.L7.logged_in
        ) {
          const e = Number((0, r.wM)(t.GetTemplateVars().custom_display || ""));
          return isNaN(e) ? null : s.createElement(ce, { active: a, year: e });
        }
        return "dlc_override" === t.GetTemplateVars().custom_display
          ? s.createElement(z, { bPreview: i })
          : "image" === t.GetTemplateType()
            ? (0, o.p8)(t, c, m)
              ? s.createElement(W, null)
              : s.createElement(H, { bLowBandwidthMode: m })
            : null;
      }
    },
    27299: (e, t, a) => {
      "use strict";
      a.d(t, { YW: () => r, j4: () => i, p8: () => l });
      var s = a(47427),
        n = a(8285);
      function r() {
        const e = (0, n.TH)();
        return s.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function i(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function l(e, t, a) {
        return (
          !(a || !e.BHasTemplateAnimatedAssets()) &&
          e.BHasTemplateAnimatedAssetForLanguage(t)
        );
      }
    },
    52811: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => D, default: () => P });
      var s = a(760),
        n = a(47427),
        r = a(8285),
        i = a(82756);
      const l = n.createContext({ prioritized_list: !1 });
      function o(e) {
        const [t, a] = n.useState(),
          s = (0, r.TH)(),
          o = n.useMemo(() => {
            new URLSearchParams(s.search);
            return {};
          }, [s.search]);
        return (
          n.useLayoutEffect(() => {
            (0, i.kQ)("marketingmessage_config", "application_config");
            a({});
          }, [o]),
          t ? n.createElement(l.Provider, { value: t }, e.children, " ") : null
        );
      }
      var c = a(53545),
        m = a(1485),
        u = a(31846),
        d = a(27299),
        g = a(49065),
        p = a(62613),
        _ = a(13129),
        v = a(94350),
        E = a(18641),
        f = a(46882),
        h = a(70267);
      const M = 8;
      function y(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, d.YW)(),
          { rgMessages: s, isError: i } = (0, c.Ke)(t, a),
          [l, o] = n.useState(!1),
          [m, p] = n.useState(0);
        (0, E.h)(g.MarketingMessagePage);
        const _ = (0, r.k6)();
        if (
          (n.useEffect(() => {
            !s ||
              s.length ||
              i ||
              (a.bIncludeSeenMessages
                ? o(!0)
                : _.replace(
                    Object.assign(Object.assign({}, _.location), {
                      search: (0, d.j4)(
                        Object.assign(Object.assign({}, a), {
                          bIncludeSeenMessages: !0,
                        }),
                      ),
                    }),
                  ));
          }, [s, a, _, i]),
          i)
        )
          return n.createElement(
            L,
            null,
            (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (l)
          return n.createElement(
            L,
            null,
            (0, u.Xx)("#MarketingMessages_NoneAvailable"),
          );
        const v = a.bIncludeSeenMessages
          ? s
          : null == s
            ? void 0
            : s.slice(0, M);
        return n.createElement(
          "div",
          { className: g.MessageListPage },
          n.createElement(
            "div",
            { className: g.MessageListScroll },
            n.createElement(G, {
              MarketingMessagesStore: t,
              rgMessages: v,
              iActiveMessage: m,
            }),
          ),
          n.createElement(k, {
            cMessages: null == v ? void 0 : v.length,
            iMessage: m,
            setMessage: p,
          }),
        );
      }
      function G(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: s,
        } = e;
        return a
          ? n.createElement(
              "div",
              { className: g.MessageListContainer },
              null == a
                ? void 0
                : a.map((e, a) =>
                    n.createElement(T, {
                      key: e.id,
                      displayIndex: a,
                      message: e,
                      MarketingMessagesStore: t,
                      active: a == s,
                      next: a == s + 1 || a == s - 1,
                    }),
                  ),
            )
          : n.createElement(
              "div",
              { className: (0, _.Z)(g.MessageListContainer, g.Loading) },
              n.createElement(f.V, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function k(e) {
        const { cMessages: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a - 1), [s, a]),
          i = n.useCallback(() => s(a + 1), [s, a]),
          l = [];
        for (let e = 0; e < t; e++)
          l.push(
            n.createElement(S, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: s,
            }),
          );
        const o = a > 0 ? r : void 0,
          c = a < t - 1 ? i : void 0;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("div", { className: g.CarouselSpacer }),
          n.createElement(
            "div",
            { className: g.CarouselBar },
            n.createElement(
              "div",
              { className: g.Content },
              n.createElement(
                "div",
                { className: (0, _.Z)(g.LeftArrow, o && g.Active), onClick: o },
                n.createElement(p.BKy, { angle: 180 }),
              ),
              n.createElement("div", { className: g.Spacer }),
              n.createElement(
                "div",
                { className: g.PipContainer },
                n.createElement("div", { className: g.Pips }, l),
              ),
              n.createElement("div", { className: g.Spacer }),
              n.createElement(
                "div",
                { className: (0, _.Z)(g.LeftArrow, c && g.Active), onClick: c },
                n.createElement(p.BKy, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function S(e) {
        const { active: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a), [s, a]);
        return n.createElement("div", {
          className: (0, _.Z)(g.Pip, t && g.Active),
          onClick: r,
        });
      }
      function C(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          s = (0, r.$B)(),
          { message: i, isError: l } = (0, c.Q2)(t, s.params.messageid, a);
        return (
          (0, E.h)(g.MarketingMessagePage),
          l
            ? n.createElement(
                L,
                null,
                (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : s.params.messageid
              ? i
                ? n.createElement(h.v, { message: i, preview: a })
                : null
              : n.createElement(
                  L,
                  null,
                  (0, u.Xx)("#MarketingMessages_NoneAvailable"),
                )
        );
      }
      function L(e) {
        return n.createElement(
          m.VY,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          n.createElement(m.h4, null, (0, u.Xx)("#Error_Generic"), " "),
          n.createElement(m.uT, null, e.children),
        );
      }
      function T(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: s,
            next: r,
            displayIndex: i,
          } = e,
          l = n.useRef(),
          o = n.useRef(s || r);
        if (
          ((function (e, t, a) {
            n.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, s ? t : null, i),
          (s || r) && (o.current = !0),
          !o.current)
        )
          return null;
        let c = {
          enter: g.Enter,
          enterActive: g.EnterActive,
          enterDone: g.EnterDone,
          exit: g.Exit,
          exitActive: g.ExitActive,
          exitDone: g.ExitDone,
        };
        return n.createElement(
          v.Z,
          {
            in: s,
            nodeRef: l,
            classNames: c,
            timeout: 300,
            mountOnEnter: !r,
            unmountOnExit: !r,
          },
          n.createElement(
            "div",
            { className: (0, _.Z)(g.MessageWrapper, s && g.Active), ref: l },
            n.createElement(h.v, { message: t, active: s }),
          ),
        );
      }
      var A = a(40057),
        B = a(22791),
        b = a(40945),
        N = a(25006),
        I = a(37563);
      const D = {
        List: () => `${s.Z.MarketingMessages()}list/`,
        Message: (e) => `${s.Z.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${s.Z.MarketingMessages()}preview/${e}`,
      };
      function P(e) {
        const t = (function () {
          const [e, t] = n.useState(null),
            a = (0, A.lS)();
          return (
            n.useLayoutEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!w) {
                      const t = (0, I.kQ)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (
                        ((w = new c.N8(e)),
                        null == t ? void 0 : t.promotion_operation_token)
                      ) {
                        const e = new B.J(
                          I.De.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        w.SetSteamInterfacePromotions(e);
                      }
                    }
                    return w;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? n.createElement(
              N.ZP,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              n.createElement(
                o,
                null,
                n.createElement(
                  b.Ks,
                  null,
                  n.createElement(
                    r.rs,
                    null,
                    n.createElement(
                      r.AW,
                      { path: `${D.List()}` },
                      n.createElement(y, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${D.MessagePreview(":messageid")}` },
                      n.createElement(C, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${D.Message(":messageid")}` },
                      n.createElement(C, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      null,
                      n.createElement(r.l_, { to: `${D.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let w;
    },
  },
]);
