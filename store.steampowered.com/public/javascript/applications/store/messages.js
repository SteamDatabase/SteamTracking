/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4158],
  {
    49065: (e) => {
      e.exports = {
        MarketingMessagePage: "_1HVoKfdcaouK3kHKX2kH5t",
        MessageListPage: "_1N7O3VXbkpN2z55HsSDZsi",
        MessageListScroll: "_2RW7G8Bi-8k-29anQh8Ie8",
        CarouselBar: "O7VJKyPtoS7TXCr6mrwCr",
        Content: "_1qtg3ASXX4ClYiTHPq9Tkl",
        LeftArrow: "_3ZyZUkBq73dLvZ6zKdM9PQ",
        RightArrow: "_2WuPusSmjw_B4rfkgb-NV8",
        Active: "cwA5j4AsP5OB7WjWuOlFv",
        Spacer: "COvXCP3wZxk_s1ho7e3WO",
        PipContainer: "_3ASpk2zuTuDhIXKorFGF_L",
        Pips: "_1rpuGJtVR-xrddd9ui6IWu",
        Pip: "ZQrtMhZB1tpkd2bgBXyIF",
        MessageListContainer: "_33cf4TnmCK5XdTjanW9bVf",
        Loading: "_1xSKZdDmIvXYCmFif6fSAq",
        MessageWrapper: "_152h7KWYvm_9hIyzRzh8kl",
        Enter: "DZICERQkVmyCBP2E-PwlH",
        EnterActive: "RU-xm1VaMHf9H7o1TFkVO",
        EnterDone: "_3AP2YQ_mKZF-H78sMt3rKC",
        Exit: "_2xmDIRYN5Pu_eHRMjWop63",
        ExitActive: "_32DFHj9NmyNtEK-3K3nKuX",
        ExitDone: "_3cFXRpyI9jrZ2qCySg3fiT",
      };
    },
    64478: (e) => {
      e.exports = {
        MainContainer: "T3yskA9Z_J8lYYiwMR4Gr",
        BackgroundImage: "_3vQ5a1hrg4SbTU1Uw3351z",
        BaseCtn: "D3UK8pLuHz5_91gJG1yxn",
        CapsuleCtn: "_1-6EylKQ97BKv1z09OCHl8",
        DescCtn: "_25xSfqWlAs91IY22h7uOSp",
        GameNameCtn: "_7lGQT4qR3nj6FqHgXU48W",
        GameName: "vGL7eHrhpGUvKYHZb5xRY",
        LibraryDetails: "_2t8tYn9q2lyga6zOfEclIt",
        Button: "_2UC3D5x-ybk_F4GT1AS9yg",
        PlayDetailCtn: "_3QmX6_ROoVgbGiEf4L6dQZ",
        DlcCtn: "_3H7i0ChQjoGWieNRcKmYea",
        Type: "HmoaKPBZvHxysTOtEt6I_",
        DealDesc: "_3fPQtBXFQwL3xrK4zmpmyq",
        OneItemRow: "_6a9d-uI8VyQTmWHS3vFI-",
        OneBigItem: "_2lKQioAzojICHeg5SX6fhc",
        TwoCapsuleRow: "_1s9-9e_1KjO0xTTJNj-KuT",
        MessageFooter: "_2S4fBjsKkxaiDF5Qs0Jz7t",
      };
    },
    92088: (e) => {
      e.exports = {
        Dummy: "Bz-g3Un8YClQejeOkhSju",
        PosterCtn: "_24bJJZ8-xr8Et4DVUrr17J",
        Poster: "_3LbyxomxMvYMy7cLThkkIf",
        Video: "_2bH_Jxh-T2YFCPBCW_pvQB",
      };
    },
    4220: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        MessageContent: "rohJ-MJ38DaQu7OALvtk2",
        IsBlur: "_2lGtReFvHkdsIF2AaOFqi-",
        GameImage: "_2It5bIVOQ5kfPi3hxgljv",
        Legal: "zzC_W5UiAVOuZkk_uUVRa",
        MessageFooter: "_20RJ2DOwJVsUOJlg3_K-Ct",
        ButtonAndPriceCtn: "_2FwUGWmfUW21dl1fJpb8v8",
        NoButton: "_1FbSdZAVXva9cuGL3-Cj77",
        Btn: "_3YohCYvZ6UbfgCXH2uhaOD",
        MessagePriceCtn: "ddVk7jceHdJGG_smPqze_",
        Price: "KtsI7seCQPeIUBDBVaaSl",
        NoPrice: "_3gtjPTBj2Oio-yMRKwMBCB",
        PriceReal: "zlxx_FpPzwp3XzjFyVJcF",
        PriceRealShort: "_1XB_wXklFPM9VgSnkNYAkV",
        PriceRegular: "_7m4i8_D4q2RG-7pzpvnz3",
        Strike: "_3fFJl5u5Gen9madON-3suu",
        ShareLinks: "_2FhhQXg4pxEIwAOg5vjbjl",
        All: "_1WpMexuRP6M2yHFNaXP6JO",
        TextTop: "_3cnZMnG9zf3NUPjSE2G1_n",
        TextBottom: "_2pJeucA0CkYXlnj-DCA9X4",
        ButtonContainer: "_3CVNg4d--HZWIFLRPW6kT9",
      };
    },
    53545: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ke: () => M,
        LP: () => v,
        N8: () => p,
        Q2: () => h,
        wM: () => f,
      });
      var s = a(85556),
        n = a(42718),
        r = a(47427),
        i = a(77936),
        l = a(79545),
        c = a(44237),
        o = a(37563),
        m = a(80998),
        u = a(51465),
        g = a(62210),
        d = a(54842);
      class p {
        m_SteamInterface;
        m_SteamInterfacePromotions;
        m_setMessagesSeen = new Set();
        static sm_DefaultDataRequest = {
          include_release: !0,
          include_assets: !0,
        };
        constructor(e) {
          this.m_SteamInterface = e;
        }
        static sm_Instance;
        static Init(e) {
          p.sm_Instance = new p(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, g.X)(p.sm_Instance, "MarketingMessages store not initialized"),
            p.sm_Instance
          );
        }
        async GetMessageList(e, t = !1) {
          if (!o.L7.logged_in) return [];
          const a = l.gA.Init(c.Pe);
          a.Body().set_country_code(o.De.COUNTRY),
            a.Body().set_elanguage((0, i.jM)(o.De.LANGUAGE)),
            a.Body().set_client_package_version(e.nClientPackageVersion),
            a.Body().set_operating_system(e.eOSType),
            t && a.Body().set_include_seen_messages(!0),
            (0, m.pA)(a),
            (0, m.De)(a, p.sm_DefaultDataRequest);
          const s = await c.Bn.GetMarketingMessagesForUser(
            this.m_SteamInterface.GetServiceTransport(),
            a,
          );
          if (1 != s.GetEResult())
            throw `Error loading marketing messages: ${s.GetEResult()}`;
          if (t)
            for (const e of s.Body().messages())
              e.already_seen() && this.m_setMessagesSeen.add(e.message().gid());
          return s.Body().messages();
        }
        async GetSingleMessage(e, t) {
          const a = l.gA.Init(c.F5);
          let s;
          if (
            (a.Body().set_gid(e),
            (0, m.pA)(a),
            (0, m.De)(a, p.sm_DefaultDataRequest),
            (s =
              t || o.L7.logged_in
                ? await c.Bn.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : await c.Bn.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
            1 != s.GetEResult())
          )
            throw `Error loading marketing messages: ${s.GetEResult()}`;
          return s.Body().message();
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const s = l.gA.Init(c.UD);
          s.Body().set_gid(e),
            s.Body().set_display_index(t),
            s.Body().set_template_type(a),
            c.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      class _ {
        m_message;
        m_templateVars = void 0;
        m_item;
        constructor(e) {
          (0, d.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new u.Z(
                e.associated_item(),
                p.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = (function (e) {
              if (!e) return null;
              try {
                const t = JSON.parse(e);
                return (
                  t.use_additional_fields &&
                    (t.use_additional_fields =
                      "true" === t.use_additional_fields ||
                      1 === t.use_additional_fields),
                  t.use_custom_legal_text &&
                    (t.use_custom_legal_text =
                      "true" === t.use_custom_legal_text ||
                      1 === t.use_custom_legal_text),
                  t.last_asset_mtime &&
                    (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
                  (t.ll_image = t.ll_image || {}),
                  t
                );
              } catch (e) {
                "dev" == o.De.WEB_UNIVERSE &&
                  console.error(
                    "MarketingMessageReadAndParseTemplateVars: Failed to prase",
                    e,
                  );
              }
              return null;
            })(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e ||
              o.De.LANGUAGE != (0, i.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, i.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          const t = (0, i.j_)(e);
          return this.m_templateVars.webm[t]?.path;
        }
        GetTemplateMP4(e) {
          const t = (0, i.j_)(e);
          return this.m_templateVars.mp4[t]?.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : ((e = this.GetTemplateVars().partner),
              `Â© ${new Date().getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`);
          var e;
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, s.gn)([d.LO], _.prototype, "m_templateVars", void 0);
      const E = "^(replay)([0-9]{4})";
      function f(e) {
        const t = e.match(E);
        return t?.[2];
      }
      function v(e) {
        const t = e.match(E);
        return t?.[2] && !isNaN(Number(t?.[2]));
      }
      function M(e, t, a) {
        const { bIncludeSeenMessages: s, ...i } = t,
          {
            data: l,
            isLoading: c,
            isError: o,
          } = (0, n.useQuery)(
            ["MarketingMessages", "List", i, { bIncludeSeenMessages: !!s }],
            () => e.GetMessageList(i, s),
            a,
          ),
          m = r.useMemo(() => l?.map((e) => new _(e.message())), [l]);
        return { rgMessages: c ? null : m, isError: o };
      }
      function h(e, t, a) {
        const { data: s, isError: i } = (0, n.useQuery)(
          ["MarketingMessages", a ? "SinglePreivew" : "Single", t],
          () => e.GetSingleMessage(t, a),
          { enabled: !!t },
        );
        return {
          message: r.useMemo(() => {
            if (s) {
              const e = new _(s);
              if (a) {
                const t = (0, o.kQ)(
                  "marketingmessage_preview_config",
                  "application_config",
                );
                t?.dlc_appid_overrides?.length > 0 &&
                  e.SetDLCAppIDOverride(t.dlc_appid_overrides);
              }
              return e;
            }
          }, [s, a]),
          isError: i,
        };
      }
    },
    40945: (e, t, a) => {
      "use strict";
      a.d(t, { KY: () => l, Ks: () => o, li: () => c });
      var s = a(47427),
        n = a(43235),
        r = a(37563);
      const i = s.createContext({ setLegalText: void 0 });
      function l() {
        return !!s.useContext(i).setLegalText;
      }
      function c() {
        return s.useContext(i).setLegalText || function (e) {};
      }
      function o(e) {
        const [t, a] = s.useState(),
          l = (0, n.U5)("BrowserView.RegisterForMessageFromParent"),
          c = (0, r.id)(),
          o = s.useMemo(
            () => ({ setLegalText: l && !c ? a : void 0 }),
            [l, a, c],
          );
        return s.createElement(
          i.Provider,
          { value: o },
          l && s.createElement(m, { strLegalText: t }),
          e.children,
        );
      }
      function m(e) {
        const { strLegalText: t } = e,
          a = s.useRef();
        return (
          s.useEffect(() => {
            (a.current = t),
              SteamClient.BrowserView.PostMessageToParent(
                "MarketingMessageLegal",
                t || "",
              );
          }, [t]),
          s.useEffect(
            () =>
              SteamClient.BrowserView.RegisterForMessageFromParent((e) => {
                "MarketingMessageDialogReady" == e &&
                  SteamClient.BrowserView.PostMessageToParent(
                    "MarketingMessageLegal",
                    a.current,
                  );
              }).unregister,
            [],
          ),
          null
        );
      }
    },
    18641: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => n, h: () => r });
      var s = a(47427);
      function n(e) {
        const { title: t, bodyClassName: a, children: n } = e;
        return (
          s.useEffect(() => {
            const e = document.title;
            return (
              (document.title = t),
              () => {
                document.title = e;
              }
            );
          }, [t]),
          r(a),
          n
        );
      }
      function r(e) {
        s.useEffect(() => {
          if (!e) return;
          const t = [];
          for (const a of e.split(/ /))
            document.body.classList.contains(a) || t.push(a);
          return (
            document.body.classList.add(...t),
            () => document.body.classList.remove(...t)
          );
        }, [e]);
      }
    },
    54117: (e, t, a) => {
      "use strict";
      a.d(t, { W: () => n });
      var s = a(31846);
      function n(e, t = "#Played_", a = !1) {
        if (e >= 120) {
          let a = e / 60;
          a = Math.round(10 * a) / 10;
          let n = s.Yt.GetPreferredLocales(),
            r = a.toLocaleString(n, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, s.Xx)(t + "Hours", r);
        }
        return a && 1 == e
          ? (0, s.Xx)(t + "Minute", e)
          : (0, s.Xx)(t + "Minutes", e);
      }
    },
    16305: (e, t, a) => {
      "use strict";
      a.d(t, { hF: () => d, pT: () => p });
      var s = a(42718),
        n = a(79545),
        r = a(40057),
        i = a(22520),
        l = a(82182),
        c = a(65255),
        o = a(37563),
        m = a(25006),
        u = a(50423),
        g = a(47427);
      function d(e) {
        const t = (0, r.bY)();
        let a = (0, s.useQuery)(
          ["useGamePlaytimeInfo", e],
          async () =>
            (async function (e, t) {
              const a = n.gA.Init(l.pp);
              a.Body().set_steamid(c.L7.steamid),
                a.Body().set_appids_filter([e]),
                a.Body().set_include_played_free_games(!0),
                a.Body().set_language(c.De.LANGUAGE);
              const s = await l.lk.GetOwnedGames(t, a);
              if (s.Body().games().length > 0)
                return s.Body().games()[0].toObject();
              return {};
            })(e, t),
          { enabled: Boolean(e && e != i.kI) },
        );
        return a.isSuccess ? a.data : null;
      }
      function p(e, t) {
        let a = (0, m.YR)(
          (function (e) {
            return (0, o.h4)() &&
              e?.startsWith("https://store.steampowered.com")
              ? e.replace(
                  "https://store.steampowered.com",
                  "https://store.steamchina.com",
                )
              : e;
          })(e),
          t,
        );
        return (
          a.startsWith("steam://") || (a = `steam://openurl/${a}`),
          (0, g.useCallback)(
            (e) => {
              (0, u.RA)(e).location.href = a;
            },
            [a],
          )
        );
      }
    },
    70267: (e, t, a) => {
      "use strict";
      a.d(t, { v: () => le, U: () => ie });
      var s = a(47427),
        n = a(77936),
        r = a(53545),
        i = a(40945),
        l = a(37563),
        c = a(27299),
        o = a(16305),
        m = a(82493),
        u = a(80751),
        g = a.n(u),
        d = a(42718),
        p = a(22520),
        _ = a(65255);
      function E(e) {
        const {
          isLoading: t,
          isError: a,
          data: s,
        } = (0, d.useQuery)(
          ["useDLCHubCount", e],
          async () =>
            (async function (e) {
              const t = `${_.De.STORE_BASE_URL}dlc/${e}/ajaxgetdlccount`,
                a = { origin: self.origin },
                s = await g().get(t, { params: a, withCredentials: !1 });
              if (200 !== s.status || 1 !== s.data.success)
                throw new Error(
                  `FetchDLCCount failed: status == ${s.status}, eresult == ${s.data?.success}, err_msg == ${s.data?.err_msg}`,
                );
              return s.data.count;
            })(e),
          { enabled: Boolean(e && e != p.kI) },
        );
        return t || a ? null : s;
      }
      var f = a(86437),
        v = a(80886),
        M = a(85884),
        h = a(40833),
        y = a(61183),
        k = a(25006),
        G = a(31846),
        S = a(54117),
        C = a(64478),
        L = a(30750),
        T = a(91618),
        A = a(10162),
        B = a(92797);
      function N(e, t, a, s) {
        if (!s || !s.path) return null;
        const n = a ? "?t=" + a : "";
        return s.path.startsWith("images")
          ? `${_.De.MEDIA_CDN_URL}steam/marketing/${e}/${s.path}${n}`
          : `${_.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${s.path}${n}`;
      }
      var I = a(20417);
      function D(e) {
        const { path: t, message: a, eLanguage: n, ...r } = e,
          i = a.GetTemplateVars()?.last_asset_mtime,
          l = N(a.id, n, i, { type: "file", path: t });
        return s.createElement("img", { ...r, src: l });
      }
      function w(e) {
        const { message: t, mp4Path: a, webmPath: n, language: r, ...i } = e,
          l = t.GetTemplateVars()?.last_asset_mtime,
          c = N(t.id, r, l, { type: "file", path: n }),
          o = N(t.id, r, l, { type: "file", path: a }),
          m = (0, s.useRef)(null),
          u = (0, s.useRef)(!1),
          g = (0, s.useCallback)(() => {
            m.current &&
              ("visible" === document.visibilityState
                ? u.current && (m.current.play(), (u.current = !1))
                : m.current.paused || (m.current.pause(), (u.current = !0)));
          }, []);
        return (
          (0, I.JI)(document, "visibilitychange", g),
          (0, s.useEffect)(() => g(), [g]),
          s.createElement(
            "video",
            { ...i, ref: m },
            s.createElement("source", { src: c, type: "video/webm" }),
            s.createElement("source", { src: o, type: "video/mp4" }),
          )
        );
      }
      a(14609);
      var P = a(13129),
        b = a(62613),
        x = a(13499),
        V = a(92088);
      function R(e) {
        const t = ie(),
          [a, n] = (0, s.useState)(!1);
        return s.createElement(
          T.s,
          {
            focusable: !0,
            noFocusRing: !0,
            onActivate: () => n(!0),
            className: V.PosterCtn,
          },
          a
            ? s.createElement(
                "video",
                {
                  controls: !0,
                  muted: !0,
                  autoPlay: !0,
                  className: V.Video,
                  crossOrigin:
                    "dev" == _.De.WEB_UNIVERSE ? void 0 : "anonymous",
                },
                s.createElement("source", {
                  src: (0, x.et)(t.GetFeaturedVideoWebMURL()),
                  type: "video/webm",
                }),
                Boolean(!_.De.IN_CLIENT) &&
                  s.createElement("source", {
                    src: (0, x.et)(t.GetFeaturedVideoMP4URL()),
                    type: "video/mp4",
                  }),
                s.createElement(O, { message: t }),
              )
            : s.createElement(F, { message: t }),
        );
      }
      function F(e) {
        const { message: t } = e,
          a = t.GetTemplateVars()?.last_asset_mtime,
          [n, r] = t.GetPosterImage(),
          i = N(t.id, r, a, { type: "file", path: n });
        return s.createElement(
          s.Fragment,
          null,
          s.createElement("img", { src: i, className: V.Poster }),
          s.createElement(b.GhU, null),
        );
      }
      function O(e) {
        const { message: t } = e,
          a = (0, s.useMemo)(() => {
            const e = t.GetSubtitleObj(),
              a = t.GetTemplateVars()?.last_asset_mtime,
              r = new Array();
            for (let i = 0; i < 31; ++i) {
              if (!G.LJ.IsELanguageValidInRealm(i, _.De.EREALM)) continue;
              const l = (0, n.j_)(i);
              if (e && e[l]) {
                const c = e[l].path,
                  o = N(t.id, i, a, { type: "file", path: c });
                r.push(
                  s.createElement("track", {
                    key: t.id + " " + i,
                    src: o,
                    kind: "subtitles",
                    srcLang: (0, n.dt)(i),
                    default: _.De.LANGUAGE == l,
                    label: (0, G.Xx)("#language_selection_" + (0, n.j_)(i)),
                  }),
                );
              }
            }
            return r;
          }, [t]);
        return s.createElement(s.Fragment, null, a);
      }
      var U = a(4220);
      function j(e) {
        const { bLowBandwidthMode: t } = e,
          a = ie(),
          n = !t && "featured_video" === a.GetTemplateVars().custom_display;
        return s.createElement(
          k.ZP,
          null,
          s.createElement(
            "div",
            { className: U.All },
            s.createElement(
              "div",
              { className: U.MessageContent },
              s.createElement(W, {
                isBackgroundBlur: !0,
                bOverrideUseBackgroundImage: n,
              }),
              s.createElement(W, { bOverrideUseBackgroundImage: n }),
              Boolean(n) && s.createElement(R, null),
              s.createElement(Z, null),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          ),
        );
      }
      function H(e) {
        return s.createElement(
          "div",
          { className: U.All },
          s.createElement(
            "div",
            { className: U.MessageContent },
            s.createElement(W, { isBackgroundBlur: !0 }),
            s.createElement(X, null),
            s.createElement(Z, null),
            s.createElement("div", { style: { clear: "both" } }),
          ),
        );
      }
      function W(e) {
        const { isBackgroundBlur: t, bOverrideUseBackgroundImage: a } = e,
          n = ie(),
          r = (0, o.pT)(n.GetTemplateVars().linkurl, "image"),
          [i, l] = a ? n.GetTemplateBackgroundImage() : n.GetTemplateImage();
        return s.createElement(
          T.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, P.Z)(U.GameImage, t && U.IsBlur),
            onActivate: r,
          },
          i && s.createElement(D, { message: n, path: i, eLanguage: l }),
        );
      }
      function X(e) {
        const t = ie(),
          a = (0, o.pT)(t.GetTemplateVars().linkurl, "image"),
          r = (0, n.jM)(l.De.LANGUAGE),
          i = t.GetTemplateMP4(r),
          c = t.GetTemplateWebM(r);
        return s.createElement(
          T.s,
          {
            focusable: !0,
            noFocusRing: !0,
            className: (0, P.Z)(U.GameImage),
            onActivate: a,
          },
          s.createElement(w, {
            muted: !0,
            autoPlay: !0,
            controls: !1,
            loop: !0,
            mp4Path: i,
            message: t,
            webmPath: c,
            language: r,
          }),
        );
      }
      function Z(e) {
        const { bHidePrice: t } = e,
          a = ie(),
          n = (0, o.pT)(a.GetTemplateVars().linkurl, "button"),
          [r, i] = (0, L.SZ)(() => [
            a.GetTemplateVars().button_text_custom ||
              a.GetTemplateVars().button_text,
            Boolean(a.GetTemplateVars().hide_price),
          ]),
          l = Boolean(t || i);
        return s.createElement(
          "div",
          { className: (0, P.Z)(U.MessageFooter, !1, C.MessageFooter) },
          s.createElement(
            "div",
            { className: U.ButtonAndPriceCtn },
            s.createElement(
              T.s,
              {
                focusable: !0,
                noFocusRing: !0,
                className: U.Btn,
                onActivate: n,
              },
              r,
            ),
            Boolean(!l) &&
              s.createElement(A.SV, null, s.createElement(K, null)),
          ),
          s.createElement(Q, null),
        );
      }
      function K() {
        const e = ie().associated_item;
        return e &&
          e.GetBestPurchaseOption() &&
          e.GetBestPurchaseOption().formatted_final_price
          ? s.createElement(
              "div",
              { className: U.MessagePriceCtn },
              s.createElement(B.nk, { storeItem: e }),
            )
          : s.createElement("div", { className: U.NoPrice });
      }
      function Q(e) {
        const t = ie();
        return (0, i.KY)()
          ? null
          : s.createElement("div", {
              className: U.Legal,
              dangerouslySetInnerHTML: { __html: t.GetLegalHTML() },
            });
      }
      const $ = { include_assets: !0 };
      function Y(e) {
        const { bPreview: t } = e,
          a = ie(),
          [n, r] = (0, s.useMemo)(
            () => [
              a.GetDLCAppIDs(),
              a.GetDLCAppIDs().map((e) => ({ id: e, type: "game" })),
            ],
            [a],
          );
        (0, v.wZ)(n, $);
        const i = E(a?.associated_item?.GetAppID());
        return (
          (0, s.useEffect)(() => {
            if (a) {
              const e = Boolean(i)
                ? (0, G.kb)("#MarketingMessages_See_Count_Items", i)
                : (0, G.Xx)("#MarketingMessages_See_All_Items");
              a.OverrideCustomText(e),
                a.OverrideURL(
                  `${_.De.STORE_BASE_URL}dlc/${a.associated_item.GetAppID()}`,
                );
            }
          }, [a, i]),
          s.createElement(
            k.ZP,
            { submethod: "dlc_override" },
            s.createElement(
              "div",
              { className: C.MainContainer },
              s.createElement(
                "div",
                { className: C.BackgroundImage },
                s.createElement(J, { storeItem: a.associated_item }),
                s.createElement(J, { storeItem: a.associated_item }),
              ),
              s.createElement(z, { storeItem: a.associated_item, bPreview: t }),
              s.createElement(ee, {
                rgDLCSaleCapsules: r,
                messageType: a.GetType(),
              }),
              s.createElement(Z, { bHidePrice: !0 }),
              s.createElement("div", { style: { clear: "both" } }),
            ),
          )
        );
      }
      function z(e) {
        const { storeItem: t, bPreview: a } = e,
          n = (0, s.useMemo)(() => ({ id: t.GetID(), type: "game" }), [t]),
          r = (0, o.hF)(t.GetAppID()),
          i = (0, s.useMemo)(() => {
            if (a && (!r?.playtime_forever || !r?.rtime_last_played)) {
              return {
                playtime_forever: 300,
                rtime_last_played: Math.floor(Date.now() / 1e3) - 432e3,
              };
            }
            return r;
          }, [r, a]),
          l = "steam://nav/games/details/" + t.GetID();
        return s.createElement(
          "div",
          { className: C.BaseCtn },
          s.createElement(
            m.IS,
            { className: C.CapsuleCtn, href: l },
            s.createElement(y.N, { info: n, bPreferLibrary: !0 }),
          ),
          s.createElement(
            "div",
            { className: C.DescCtn },
            s.createElement(
              "div",
              { className: C.GameNameCtn },
              s.createElement(
                m.IS,
                { className: C.GameName, href: l },
                t.GetName(),
              ),
            ),
            s.createElement(
              "div",
              { className: C.LibraryDetails },
              s.createElement(
                "div",
                { className: C.Btn },
                s.createElement(
                  m.IS,
                  { href: l, className: C.Button },
                  (0, G.Xx)("#EventDisplay_ViewInLibrary"),
                ),
              ),
              Boolean(i?.rtime_last_played) &&
                s.createElement(
                  "div",
                  { className: C.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, G.Xx)("#MarketingMessages_DLC_lastplayed"),
                  ),
                  (0, G.m9)(i.rtime_last_played),
                ),
              Boolean(i?.playtime_forever) &&
                s.createElement(
                  "div",
                  { className: C.PlayDetailCtn },
                  s.createElement(
                    "span",
                    null,
                    (0, G.Xx)("#MarketingMessages_DLC_hours"),
                  ),
                  (0, S.W)(i.playtime_forever),
                ),
            ),
          ),
        );
      }
      function J(e) {
        const { storeItem: t } = e,
          a = t.GetAssets().GetLibraryHeroURL();
        return a ? s.createElement("img", { src: a }) : null;
      }
      function q(e) {
        const { messageType: t } = e;
        return s.createElement(
          s.Fragment,
          null,
          Boolean(2 === t) &&
            s.createElement(
              "div",
              { className: C.Type },
              (0, G.Xx)("#spotlight_weekend_deal"),
            ),
          Boolean(11 === t) &&
            s.createElement(
              "div",
              { className: C.Type },
              (0, G.Xx)("#spotlight_midweek_madness"),
            ),
          Boolean(12 === t) &&
            s.createElement(
              "div",
              { className: C.Type },
              (0, G.Xx)("#spotlight_daily_deal"),
            ),
          s.createElement(
            "div",
            { className: C.DealDesc },
            (0, G.Xx)("#MarketingMessages_DLC_desc"),
          ),
        );
      }
      function ee(e) {
        const { rgDLCSaleCapsules: t, messageType: a } = e;
        return t.length >= 4
          ? s.createElement(
              "div",
              { className: C.DlcCtn },
              s.createElement(q, { messageType: a }),
              s.createElement(te, { first: t[0], second: t[1] }),
              s.createElement(te, { first: t[2], second: t[3] }),
            )
          : t.length >= 3
            ? s.createElement(
                "div",
                { className: C.DlcCtn },
                s.createElement(q, { messageType: a }),
                s.createElement(
                  "div",
                  { className: C.OneItemRow },
                  s.createElement(ne, { id: t[0].id, type: t[0].type }),
                ),
                s.createElement(te, { first: t[1], second: t[2] }),
              )
            : t.length >= 2
              ? s.createElement(
                  "div",
                  { className: C.DlcCtn },
                  s.createElement(q, { messageType: a }),
                  s.createElement(
                    "div",
                    { className: C.OneItemRow },
                    s.createElement(ne, { id: t[0].id, type: t[0].type }),
                  ),
                  s.createElement(
                    "div",
                    { className: C.OneItemRow },
                    s.createElement(ne, { id: t[1].id, type: t[1].type }),
                  ),
                )
              : t.length >= 1
                ? s.createElement(
                    "div",
                    { className: C.DlcCtn },
                    s.createElement(q, { messageType: a }),
                    s.createElement(
                      "div",
                      { className: C.OneBigItem },
                      s.createElement(se, { capsule: t[0], imageType: "main" }),
                    ),
                  )
                : null;
      }
      function te(e) {
        const { first: t, second: a } = e;
        return s.createElement(
          "div",
          { className: C.TwoCapsuleRow },
          s.createElement(
            "div",
            { className: C.DlcCtn },
            s.createElement(se, { capsule: t, imageType: "header" }),
          ),
          s.createElement(
            "div",
            { className: C.DlcCtn },
            s.createElement(se, { capsule: a, imageType: "header" }),
          ),
        );
      }
      function ae(e, t) {
        const [a] = (0, v.jk)(e, (0, f.TM)(t), { include_platforms: !0 });
        return (0, o.pT)(
          a ? a.GetStorePageURL() : _.De.STORE_BASE_URL,
          "dlc_capsule",
        );
      }
      function se(e) {
        const { capsule: t, imageType: a } = e;
        return (
          (t.overrideNavigation = ae(t.id, t.type)),
          s.createElement(h.B, {
            capsule: t,
            imageType: a,
            bShowParentApp: !1,
            bHideStoreHover: !0,
          })
        );
      }
      function ne(e) {
        const { id: t, type: a } = e,
          n = ae(t, a);
        return s.createElement(M.ju, {
          id: t,
          type: a,
          fnOnClickOverride: n,
          bIsMarketingMessage: !0,
        });
      }
      const re = s.createContext(null);
      function ie() {
        return s.useContext(re);
      }
      function le(e) {
        const { message: t, preview: a } = e,
          n = !1 !== e.active,
          r = (0, i.li)();
        return (
          s.useEffect(() => {
            n && r(t.GetLegalHTML());
          }, [n, t, r]),
          s.createElement(
            re.Provider,
            { value: t },
            s.createElement(
              s.Suspense,
              { fallback: null },
              s.createElement(oe, { message: t, active: n, preview: a }),
            ),
          )
        );
      }
      const ce = s.lazy(() => a.e(938).then(a.bind(a, 21400)));
      function oe(e) {
        const { message: t, active: a, preview: i } = e,
          o = (0, n.jM)(l.De.LANGUAGE),
          { bLowBandwidthMode: m } = (0, c.YW)();
        if (
          (0, r.LP)(t.GetTemplateVars().custom_display || "") &&
          l.L7.logged_in
        ) {
          const e = Number((0, r.wM)(t.GetTemplateVars().custom_display || ""));
          return isNaN(e) ? null : s.createElement(ce, { active: a, year: e });
        }
        return "dlc_override" === t.GetTemplateVars().custom_display
          ? s.createElement(Y, { bPreview: i })
          : "image" === t.GetTemplateType()
            ? (0, c.p8)(t, o, m)
              ? s.createElement(H, null)
              : s.createElement(j, { bLowBandwidthMode: m })
            : null;
      }
    },
    27299: (e, t, a) => {
      "use strict";
      a.d(t, { YW: () => r, j4: () => i, p8: () => l });
      var s = a(47427),
        n = a(8285);
      function r() {
        const e = (0, n.TH)();
        return s.useMemo(() => {
          const t = new URLSearchParams(e.search);
          return {
            bIncludeSeenMessages: !!t.get("include_seen"),
            nClientPackageVersion: parseInt(
              t.get("client_package_version") || "0",
            ),
            eOSType: parseInt(t.get("os_type") || "0"),
            bLowBandwidthMode: !!t.get("low_bandwidth"),
          };
        }, [e.search]);
      }
      function i(e) {
        const t = new URLSearchParams();
        return (
          e.bIncludeSeenMessages && t.append("include_seen", "1"),
          e.nClientPackageVersion &&
            t.append(
              "client_package_version",
              e.nClientPackageVersion.toString(),
            ),
          e.eOSType && t.append("os_type", e.eOSType.toString()),
          e.bLowBandwidthMode && t.append("low_bandwidth", "1"),
          t.toString()
        );
      }
      function l(e, t, a) {
        return (
          !(a || !e.BHasTemplateAnimatedAssets()) &&
          e.BHasTemplateAnimatedAssetForLanguage(t)
        );
      }
    },
    52811: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { MarketingMessageRoutes: () => w, default: () => P });
      var s = a(760),
        n = a(47427),
        r = a(8285),
        i = a(82756);
      const l = n.createContext({ prioritized_list: !1 });
      function c(e) {
        const [t, a] = n.useState(),
          s = (0, r.TH)(),
          c = n.useMemo(() => {
            new URLSearchParams(s.search);
            return {};
          }, [s.search]);
        return (
          n.useLayoutEffect(() => {
            (0, i.kQ)("marketingmessage_config", "application_config");
            a({});
          }, [c]),
          t ? n.createElement(l.Provider, { value: t }, e.children, " ") : null
        );
      }
      var o = a(53545),
        m = a(1485),
        u = a(31846),
        g = a(27299),
        d = a(49065),
        p = a(62613),
        _ = a(13129),
        E = a(94350),
        f = a(18641),
        v = a(46882),
        M = a(70267);
      const h = 8;
      function y(e) {
        const { MarketingMessagesStore: t } = e,
          a = (0, g.YW)(),
          { rgMessages: s, isError: i } = (0, o.Ke)(t, a),
          [l, c] = n.useState(!1),
          [m, p] = n.useState(0);
        (0, f.h)(d.MarketingMessagePage);
        const _ = (0, r.k6)();
        if (
          (n.useEffect(() => {
            !s ||
              s.length ||
              i ||
              (a.bIncludeSeenMessages
                ? c(!0)
                : _.replace({
                    ..._.location,
                    search: (0, g.j4)({ ...a, bIncludeSeenMessages: !0 }),
                  }));
          }, [s, a, _, i]),
          i)
        )
          return n.createElement(
            L,
            null,
            (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
          );
        if (l)
          return n.createElement(
            L,
            null,
            (0, u.Xx)("#MarketingMessages_NoneAvailable"),
          );
        const E = a.bIncludeSeenMessages ? s : s?.slice(0, h);
        return n.createElement(
          "div",
          { className: d.MessageListPage },
          n.createElement(
            "div",
            { className: d.MessageListScroll },
            n.createElement(k, {
              MarketingMessagesStore: t,
              rgMessages: E,
              iActiveMessage: m,
            }),
          ),
          n.createElement(G, {
            cMessages: E?.length,
            iMessage: m,
            setMessage: p,
          }),
        );
      }
      function k(e) {
        const {
          MarketingMessagesStore: t,
          rgMessages: a,
          iActiveMessage: s,
        } = e;
        return a
          ? n.createElement(
              "div",
              { className: d.MessageListContainer },
              a?.map((e, a) =>
                n.createElement(T, {
                  key: e.id,
                  displayIndex: a,
                  message: e,
                  MarketingMessagesStore: t,
                  active: a == s,
                  next: a == s + 1 || a == s - 1,
                }),
              ),
            )
          : n.createElement(
              "div",
              { className: (0, _.Z)(d.MessageListContainer, d.Loading) },
              n.createElement(v.V, { size: "xxlarge", msDelayAppear: 500 }),
            );
      }
      function G(e) {
        const { cMessages: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a - 1), [s, a]),
          i = n.useCallback(() => s(a + 1), [s, a]),
          l = [];
        for (let e = 0; e < t; e++)
          l.push(
            n.createElement(S, {
              key: e,
              active: e == a,
              iMessage: e,
              setMessage: s,
            }),
          );
        const c = a > 0 ? r : void 0,
          o = a < t - 1 ? i : void 0;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("div", { className: d.CarouselSpacer }),
          n.createElement(
            "div",
            { className: d.CarouselBar },
            n.createElement(
              "div",
              { className: d.Content },
              n.createElement(
                "div",
                { className: (0, _.Z)(d.LeftArrow, c && d.Active), onClick: c },
                n.createElement(p.BKy, { angle: 180 }),
              ),
              n.createElement("div", { className: d.Spacer }),
              n.createElement(
                "div",
                { className: d.PipContainer },
                n.createElement("div", { className: d.Pips }, l),
              ),
              n.createElement("div", { className: d.Spacer }),
              n.createElement(
                "div",
                { className: (0, _.Z)(d.LeftArrow, o && d.Active), onClick: o },
                n.createElement(p.BKy, { angle: 0 }),
              ),
            ),
          ),
        );
      }
      function S(e) {
        const { active: t, iMessage: a, setMessage: s } = e,
          r = n.useCallback(() => s(a), [s, a]);
        return n.createElement("div", {
          className: (0, _.Z)(d.Pip, t && d.Active),
          onClick: r,
        });
      }
      function C(e) {
        const { MarketingMessagesStore: t, preview: a } = e,
          s = (0, r.$B)(),
          { message: i, isError: l } = (0, o.Q2)(t, s.params.messageid, a);
        return (
          (0, f.h)(d.MarketingMessagePage),
          l
            ? n.createElement(
                L,
                null,
                (0, u.Xx)("#Error_ErrorCommunicatingWithNetwork"),
              )
            : s.params.messageid
              ? i
                ? n.createElement(M.v, { message: i, preview: a })
                : null
              : n.createElement(
                  L,
                  null,
                  (0, u.Xx)("#MarketingMessages_NoneAvailable"),
                )
        );
      }
      function L(e) {
        return n.createElement(
          m.VY,
          { style: { maxWidth: "400px", margin: "0 auto" } },
          n.createElement(m.h4, null, (0, u.Xx)("#Error_Generic"), " "),
          n.createElement(m.uT, null, e.children),
        );
      }
      function T(e) {
        const {
            message: t,
            MarketingMessagesStore: a,
            active: s,
            next: r,
            displayIndex: i,
          } = e,
          l = n.useRef(),
          c = n.useRef(s || r);
        if (
          ((function (e, t, a) {
            n.useEffect(() => {
              t &&
                e.MarkMessageSeen(t.id, a + 1, t.GetTemplateTypeForReporting());
            }, [t, e, a]);
          })(a, s ? t : null, i),
          (s || r) && (c.current = !0),
          !c.current)
        )
          return null;
        let o = {
          enter: d.Enter,
          enterActive: d.EnterActive,
          enterDone: d.EnterDone,
          exit: d.Exit,
          exitActive: d.ExitActive,
          exitDone: d.ExitDone,
        };
        return n.createElement(
          E.Z,
          {
            in: s,
            nodeRef: l,
            classNames: o,
            timeout: 300,
            mountOnEnter: !r,
            unmountOnExit: !r,
          },
          n.createElement(
            "div",
            { className: (0, _.Z)(d.MessageWrapper, s && d.Active), ref: l },
            n.createElement(M.v, { message: t, active: s }),
          ),
        );
      }
      var A = a(40057),
        B = a(22791),
        N = a(40945),
        I = a(25006),
        D = a(37563);
      const w = {
        List: () => `${s.Z.MarketingMessages()}list/`,
        Message: (e) => `${s.Z.MarketingMessages()}${e}`,
        MessagePreview: (e) => `${s.Z.MarketingMessages()}preview/${e}`,
      };
      function P(e) {
        const t = (function () {
          const [e, t] = n.useState(null),
            a = (0, A.lS)();
          return (
            n.useLayoutEffect(() => {
              e ||
                t(
                  (function (e) {
                    if (!b) {
                      const t = (0, D.kQ)(
                        "marketingmessage_config",
                        "application_config",
                      );
                      if (((b = new o.N8(e)), t?.promotion_operation_token)) {
                        const e = new B.J(
                          D.De.WEBAPI_BASE_URL,
                          t.promotion_operation_token,
                        );
                        b.SetSteamInterfacePromotions(e);
                      }
                    }
                    return b;
                  })(a),
                );
            }, [e, a]),
            e
          );
        })();
        return t
          ? n.createElement(
              I.ZP,
              {
                domain: "store.steampowered.com",
                controller: "message",
                method: "default",
              },
              n.createElement(
                c,
                null,
                n.createElement(
                  N.Ks,
                  null,
                  n.createElement(
                    r.rs,
                    null,
                    n.createElement(
                      r.AW,
                      { path: `${w.List()}` },
                      n.createElement(y, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${w.MessagePreview(":messageid")}` },
                      n.createElement(C, {
                        MarketingMessagesStore: t,
                        preview: !0,
                      }),
                    ),
                    n.createElement(
                      r.AW,
                      { path: `${w.Message(":messageid")}` },
                      n.createElement(C, { MarketingMessagesStore: t }),
                    ),
                    n.createElement(
                      r.AW,
                      null,
                      n.createElement(r.l_, { to: `${w.List()}` }),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      let b;
    },
  },
]);
