/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [7311],
  {
    5089: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        OtherEventsCtn: "eventrow_OtherEventsCtn_1qNsZ",
        OtherEvents_MainImageCtn: "eventrow_OtherEvents_MainImageCtn_1_8oy",
        OtherEvents: "eventrow_OtherEvents_2ioeM",
        OtherEvents_EventCtn: "eventrow_OtherEvents_EventCtn_17gGs",
        OtherEvents_MainImage: "eventrow_OtherEvents_MainImage_3xf4A",
        OtherEvents_BGImage: "eventrow_OtherEvents_BGImage_3rp-l",
        OtherEvents_ContentCtn: "eventrow_OtherEvents_ContentCtn_3QaFW",
        OtherEvents_TextCtn: "eventrow_OtherEvents_TextCtn_2AVL1",
        OtherEvents_TextTitle: "eventrow_OtherEvents_TextTitle_3Zufl",
        UpcomingCtn: "eventrow_UpcomingCtn_--lM7",
        OtherEvents_SubTitle: "eventrow_OtherEvents_SubTitle_2UUNj",
        HoversEnabled: "eventrow_HoversEnabled_34Nxj",
        PartnerEventRowCapsule_MainImage:
          "eventrow_PartnerEventRowCapsule_MainImage_2bZBn",
        EventSummaryContainer: "eventrow_EventSummaryContainer_3PdWg",
        EventSummaryText: "eventrow_EventSummaryText_h5tE8",
        EventSummaryType: "eventrow_EventSummaryType_1Fp_l",
        HorizontalEvent: "eventrow_HorizontalEvent_1RS0b",
        HorizontalSummary: "eventrow_HorizontalSummary_3_1Qo",
        HorizontalTitle: "eventrow_HorizontalTitle_1m9zE",
        HorizontalDescriptionCtn: "eventrow_HorizontalDescriptionCtn_2s9cB",
        HorizontalDescription: "eventrow_HorizontalDescription_Dc9KC",
        AppCapsuleImage: "eventrow_AppCapsuleImage_2vo-l",
        AppCapsuleCtn: "eventrow_AppCapsuleCtn_1kYha",
        AppCapsuleImageHover: "eventrow_AppCapsuleImageHover_rcwMf",
        AppCapsulePrice: "eventrow_AppCapsulePrice_Jq75m",
      };
    },
    69409: (e) => {
      e.exports = {
        EventTimeSection: "partnereventshareddates_EventTimeSection_27EoU",
        EventTimeTitle: "partnereventshareddates_EventTimeTitle_2sTdT",
        EventVisibilityItem:
          "partnereventshareddates_EventVisibilityItem_3Q0gD",
        EventEditorInputPaneContainer:
          "partnereventshareddates_EventEditorInputPaneContainer_3j82M",
        TimeWidth: "partnereventshareddates_TimeWidth_2W8sg",
        EventPublishTimeCtn:
          "partnereventshareddates_EventPublishTimeCtn_12m3S",
        DateWidth: "partnereventshareddates_DateWidth_2ao2W",
        PacificTimeHint: "partnereventshareddates_PacificTimeHint_VTwea",
        TimeZone: "partnereventshareddates_TimeZone_2RLF9",
        InputBorder: "partnereventshareddates_InputBorder_2mTwC",
        TimeBlock: "partnereventshareddates_TimeBlock_1O49u",
        TimeRowContainer: "partnereventshareddates_TimeRowContainer_3ksYF",
        TimeRowDropDown: "partnereventshareddates_TimeRowDropDown_3KrsS",
        EndDateAmountCtn: "partnereventshareddates_EndDateAmountCtn_2_8MR",
        EndRound: "partnereventshareddates_EndRound_1MAHS",
        VisibilityItemList: "partnereventshareddates_VisibilityItemList_rYX24",
        VisibilityItems: "partnereventshareddates_VisibilityItems_2SAGi",
        EventEditorVisibilityCtn:
          "partnereventshareddates_EventEditorVisibilityCtn_1jbnR",
        DateErrorCtn: "partnereventshareddates_DateErrorCtn_Bww9B",
      };
    },
    34515: (e) => {
      e.exports = {
        CartUpsellArea: "cartupsell_CartUpsellArea_2rkDl",
        CartUpsellTitle: "cartupsell_CartUpsellTitle_2dxsG",
        UpsellRow: "cartupsell_UpsellRow_24yiw",
        Specials: "cartupsell_Specials_2-sCa",
        Loading: "cartupsell_Loading_pUmkj",
        DailyDeals: "cartupsell_DailyDeals_rpifv",
        Spotlights: "cartupsell_Spotlights_udcFp",
      };
    },
    38495: (e) => {
      e.exports = {
        CouponPickerRowGlow: "coupons_CouponPickerRowGlow_2ETXQ",
        CouponPickerRow: "coupons_CouponPickerRow_3wfeH",
        ModifyLink: "coupons_ModifyLink_3JmdO",
        CouponRepresentation: "coupons_CouponRepresentation_1_LYY",
        PackageName: "coupons_PackageName_3L1DF",
        CouponListContainer: "coupons_CouponListContainer_ir0tp",
        CouponListItem: "coupons_CouponListItem_3pw4q",
        Disabled: "coupons_Disabled_1GFD8",
        Image: "coupons_Image_2gY_V",
        Info: "coupons_Info_1Je1c",
        Discount: "coupons_Discount_3KPbt",
        CouponInfoText: "coupons_CouponInfoText_FicMn",
        Checkbox: "coupons_Checkbox_265qJ",
        Hidden: "coupons_Hidden_21w27",
      };
    },
    82529: (e) => {
      e.exports = {
        GiftFormDivider: "giftform_GiftFormDivider_1mAU7",
        GiftFormSection: "giftform_GiftFormSection_1tgux",
        FormTextLabel: "giftform_FormTextLabel_1TulC",
        FormTitle: "giftform_FormTitle_NYKHM",
        RedText: "giftform_RedText_1Ja8R",
        GiftNoteInput: "giftform_GiftNoteInput_3wPcW",
        GiftRecipientPickerModal: "giftform_GiftRecipientPickerModal_3R_gi",
        GiftFriendsListCtn: "giftform_GiftFriendsListCtn_321Wo",
        GiftRecipientPickerFormCtn: "giftform_GiftRecipientPickerFormCtn_2SDa5",
        GiftFriendsInput: "giftform_GiftFriendsInput_1OuNJ",
        GiftRecipientSaveBtn: "giftform_GiftRecipientSaveBtn_18bhp",
        GiftPickerFriendBlock: "giftform_GiftPickerFriendBlock_3qPIR",
        FriendAvatar: "giftform_FriendAvatar_1AeyM",
        Disabled: "giftform_Disabled_3jwhG",
        Selected: "giftform_Selected_1Wx7O",
        PersonaName: "giftform_PersonaName_1ki9m",
        FriendsGiftLabel: "giftform_FriendsGiftLabel_3FPeG",
        OwnsGame: "giftform_OwnsGame_YK5pj",
        OnWishlist: "giftform_OnWishlist_28yZd",
        GiftFormRecipient: "giftform_GiftFormRecipient_2bnjZ",
        ChangeGiftRecipientBtn: "giftform_ChangeGiftRecipientBtn_2nYV3",
        LinkButton: "giftform_LinkButton_12zYF",
        GiftDatePicker: "giftform_GiftDatePicker_VZsqg",
        ScheduleGiftBtn: "giftform_ScheduleGiftBtn_3gADD",
        GiftScheduleIcon: "giftform_GiftScheduleIcon_742Uk",
        GiftRadioLabel: "giftform_GiftRadioLabel_3Ilfj",
        GiftRadioRow: "giftform_GiftRadioRow_RMDo0",
        GiftSignatureInput: "giftform_GiftSignatureInput_3tP7D",
      };
    },
    8371: (e) => {
      e.exports = {
        LineItemWrapper: "lineitem_LineItemWrapper_2KiPY",
        LineItemCapsule: "lineitem_LineItemCapsule_2_GgL",
        LineItemPlaceholder: "lineitem_LineItemPlaceholder_1qKu4",
        InnerLineItemCtn: "lineitem_InnerLineItemCtn_yW_j0",
        LineItemDetailsCtn: "lineitem_LineItemDetailsCtn_jRg6O",
        LineItemCol: "lineitem_LineItemCol_26Nx9",
        RemoveLineItem: "lineitem_RemoveLineItem_33j4S",
        LineItemDetailsRow: "lineitem_LineItemDetailsRow_F6ZEr",
        LineItemDetailsRowTop: "lineitem_LineItemDetailsRowTop_1SauQ",
        LineItemSpaceBetween: "lineitem_LineItemSpaceBetween_n7b9Q",
        LineItemTitle: "lineitem_LineItemTitle_pVXX8",
        LineItemPricingOptions: "lineitem_LineItemPricingOptions_3f1Xk",
        HeaderImg: "lineitem_HeaderImg_1iNQ1",
        LineItemDropDown: "lineitem_LineItemDropDown_1LZzN",
        PlatformIcons: "lineitem_PlatformIcons_3kyTA",
        AddLineItemCtn: "lineitem_AddLineItemCtn_3eduN",
        AddLineItemIcon: "lineitem_AddLineItemIcon_1As00",
        PendingLineItem: "lineitem_PendingLineItem_PqpM1",
        FlexRow: "lineitem_FlexRow_hPrcq",
        PriceWidget: "lineitem_PriceWidget_2yigx",
        Warning: "lineitem_Warning_1PZ2h",
        LineItemNoticeAppsCtn: "lineitem_LineItemNoticeAppsCtn_1-Zbq",
        LoadingThrobber: "lineitem_LoadingThrobber_3eDAt",
        DropDownThin: "lineitem_DropDownThin_j19kQ",
        DropDownOptionsCtnThin: "lineitem_DropDownOptionsCtnThin_2I90N",
        DropDownOptionItem: "lineitem_DropDownOptionItem_2M6LS",
        WhiteText: "lineitem_WhiteText_rXbF7",
      };
    },
    27743: (e, t, n) => {
      "use strict";
      n.d(t, { y: () => it, J: () => lt });
      var i = n(89526),
        a = n(28841),
        l = n(79865),
        r = n.n(l),
        o = n(14826),
        s = n(57605),
        c = n(19304),
        m = n(44973),
        d = n(32905);
      const u = i.createContext({ step: "initial", setStep: () => {} });
      function p() {
        const e = (0, i.useContext)(u);
        return [e.step, e.setStep];
      }
      function _(e) {
        const { step: t, setStep: n, children: a } = e,
          l = i.useMemo(() => ({ step: t, setStep: n }), [t, n]);
        return i.createElement(u.Provider, { value: l }, a);
      }
      var f = n(59934),
        v = n(17547),
        g = n(96927),
        E = n(33940),
        C = n(25871),
        h = n(51438),
        I = n(80845),
        L = n(85886),
        S = n(69338),
        D = n(92616),
        G = n(98389),
        N = n(207),
        T = n(61963),
        b = n(88464),
        y = n(5556),
        A = n.n(y);
      var w = n(85651),
        x = n(17318),
        k = n.n(x),
        R = n(4306),
        F = n(84343),
        P = n(69409),
        O = n.n(P),
        B = n(47812),
        M = n.n(B);
      let Z = class extends i.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: i,
            disabled: a,
          } = this.props;
          if (a) return;
          if ("string" == typeof e) {
            let t = M()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let l = this.props.fnGetTimeToUpdate(),
            r = 0;
          if (l) {
            const t = M().unix(l);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (r = e.unix());
          } else {
            r =
              M().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(r);
          let o = i && !0 === i();
          (null == this.state.timeAsString &&
            o == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: o });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = M()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            i = M().unix(n || w.JW.GetTimeNowWithOverride());
          e.hour(i.hour()),
            e.minute(i.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let a =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            a == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: a });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: i,
            } = this.props,
            a = M().unix(t).hour(0).seconds(0).minute(0);
          let l = e.unix() >= a.unix();
          if (l && n && n >= t) {
            const t = M().unix(n).hour(23).minute(59).seconds(59);
            l = e.unix() <= t.unix();
          }
          return (
            l && i && ((0 != e.weekday() && 6 != e.weekday()) || (l = !1)), l
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(w.JW.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(w.JW.GetTimeNowWithOverride());
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            fnIsValidDateTime: a,
            strAlsoShowTimeZone: l,
            disabled: r,
            bNoDefaultDate: s,
          } = this.props;
          let m = n(),
            d = m > 0 ? new Date(1e3 * m) : null,
            u = "h:mm A";
          const p = a && a(),
            _ =
              this.state.timeAsString ||
              this.state.dateAsString ||
              "string" == typeof p ||
              !1 === p;
          let f,
            v,
            g = "#DateTimePicker_Fallback_Invalid_DateTime";
          if (
            (this.state.timeAsString
              ? (g = "#DateTimePicker_Time_CannotParse")
              : this.state.dateAsString
              ? (g = "#DateTimePicker_Date_CannotParse")
              : "string" == typeof p && (g = p),
            e && t && e == t && t > w.JW.GetTimeNowWithOverride())
          ) {
            let e = M().unix(t);
            (f = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (u = "HH:mm");
          }
          m || !t || s || (v = M().unix(t));
          const E = M().tz.guess(),
            C = M().unix(m).tz(E),
            h = !!l && E != l && M().unix(m).tz(l);
          return i.createElement(
            "div",
            { className: (0, c.Z)(O().EventTimeSection, this.props.className) },
            i.createElement(
              "div",
              { className: (0, c.Z)(O().EventTimeTitle, "DialogLabel") },
              i.createElement(
                F.HP,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  i.createElement("span", null, this.props.strDescription),
              ),
              _ &&
                i.createElement(
                  "span",
                  { className: O().DateErrorCtn },
                  i.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==",
                  }),
                  (0, o.Xx)(g),
                ),
            ),
            i.createElement(
              "div",
              { className: k().FlexRowContainer },
              i.createElement(
                "div",
                { className: (0, c.Z)(k().InputBorder, O().TimeBlock) },
                i.createElement(A(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : d,
                  isValidDate: this.IsValidDate,
                  initialValue: v,
                  inputProps: {
                    placeholder: (0, o.Xx)("#DateTimePicker_Enter_Date"),
                    className: (0, c.Z)(
                      O().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: r,
                  },
                }),
                !!h &&
                  i.createElement(
                    "div",
                    { className: O().PacificTimeHint },
                    h.format("L"),
                  ),
              ),
              i.createElement(
                "div",
                { className: (0, c.Z)(k().InputBorder, O().TimeBlock) },
                i.createElement(A(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: u,
                  timeConstraints: f,
                  value: this.state.timeAsString ? this.state.timeAsString : d,
                  inputProps: {
                    placeholder: (0, o.Xx)("#DateTimePicker_Enter_Time"),
                    className: (0, c.Z)(
                      O().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: r,
                  },
                }),
                !!h &&
                  i.createElement(
                    "div",
                    { className: O().PacificTimeHint },
                    h.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    { className: O().TimeZone },
                    C.zoneAbbr(),
                  ),
                  !!h &&
                    i.createElement(
                      "div",
                      { className: O().TimeZone },
                      h.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(f) &&
              i.createElement(
                "div",
                null,
                (0, o.Xx)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, E.gn)([R.ak], Z.prototype, "OnTimeChange", null),
        (0, E.gn)([R.ak], Z.prototype, "OnDateChange", null),
        (0, E.gn)([R.ak], Z.prototype, "IsValidDate", null),
        (0, E.gn)([R.ak], Z.prototype, "SetToNow", null),
        (Z = (0, E.gn)([b.Pi], Z));
      var X = n(82529),
        W = n.n(X),
        U = n(99307),
        V = n(50355),
        H = n(45761),
        j = n(47165);
      function z(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: a,
          fnOnDismiss: l,
        } = e;
        return i.createElement(
          U.On,
          { className: W().GiftRecipientPickerModal, active: a, onDismiss: l },
          i.createElement(Y, { fnOnDismiss: l, lineItem: n, storeItem: t }),
        );
      }
      function Y(e) {
        var t;
        const { storeItem: n, lineItem: l, fnOnDismiss: r } = e,
          s = (0, a.j0)(n.GetIncludedAppIDsOrSelf()),
          c = (0, a.G1)(),
          m =
            (null === (t = l.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee) &&
            j.K.InitFromAccountID(l.gift_info.accountid_giftee);
        return i.createElement(
          h.s,
          { className: W().GiftRecipientPickerFormCtn },
          i.createElement(
            "div",
            { className: W().FormTitle },
            (0, o.Xx)("#Cart_GiftRecipientModal_Title"),
          ),
          !s && i.createElement(S.V, { position: "center", size: "large" }),
          s &&
            i.createElement(J, {
              selectedSteamID: m,
              fnSetSelectedFriend: (e) => {
                if (e) {
                  const t = new j.K(e);
                  t.BIsValid() &&
                    c.mutate({
                      lineItemID: l.line_item_id,
                      lineItemFlags: l.flags,
                      giftInfo: { accountid_giftee: t && t.GetAccountID() },
                    });
                }
                r();
              },
              rgFriendsWithGiftData: s,
            }),
        );
      }
      function J(e) {
        const {
            rgFriendsWithGiftData: t,
            fnSetSelectedFriend: n,
            selectedSteamID: a,
          } = e,
          [l, r] = i.useState(""),
          c = i.useMemo(
            () =>
              t
                .filter(
                  (e) =>
                    -1 !==
                      e.persona.m_strPlayerName
                        .toLocaleLowerCase()
                        .indexOf(l) ||
                    !(
                      !e.nickname ||
                      -1 === e.nickname.toLocaleLowerCase().indexOf(l)
                    ),
                )
                .sort((e, t) =>
                  (e.favorite && t.favorite) || (e.bOwnsGame && t.bOwnsGame)
                    ? 0
                    : (!e.bOwnsGame && t.bOwnsGame) ||
                      (e.favorite && !t.favorite) ||
                      (e.bWishlistsGame && !t.bWishlistsGame)
                    ? -1
                    : e.bWishlistsGame && t.bWishlistsGame
                    ? 0
                    : 1,
                ),
            [t, l],
          );
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(s.II, {
            focusOnMount: !0,
            bShowClearAction: !0,
            className: W().GiftFriendsInput,
            placeholder: (0, o.Xx)("#Cart_GiftRecipientModal_Placeholder"),
            value: l,
            onChange: (e) => r(e.currentTarget.value.toLocaleLowerCase()),
          }),
          i.createElement(
            h.s,
            { className: W().GiftFriendsListCtn },
            null == c
              ? void 0
              : c.map((e) =>
                  i.createElement(q, {
                    bSelected: a && e.steamid === a.ConvertTo64BitString(),
                    fnSetSelectedFriend: n,
                    key: e.steamid,
                    giftFriendData: e,
                  }),
                ),
          ),
        );
      }
      function q(e) {
        const { giftFriendData: t, fnSetSelectedFriend: n, bSelected: a } = e,
          l = t.bOwnsGame,
          r = i.useCallback(() => {
            l || n(t.steamid);
          }, [l, n, t.steamid]);
        if (!t.persona) return null;
        let s = null;
        return (
          t.bOwnsGame
            ? (s = i.createElement(
                "div",
                { className: (0, c.Z)(W().FriendsGiftLabel, W().OwnsGame) },
                (0, o.Xx)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : t.bWishlistsGame &&
              (s = i.createElement(
                "div",
                { className: (0, c.Z)(W().FriendsGiftLabel, W().OnWishlist) },
                (0, o.Xx)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          i.createElement(
            h.s,
            {
              className: (0, c.Z)(
                W().GiftPickerFriendBlock,
                a && W().Selected,
                l && W().Disabled,
              ),
              onActivate: r,
            },
            i.createElement(V.vV, {
              className: W().FriendAvatar,
              statusPosition: "right",
              persona: t.persona,
            }),
            i.createElement(H.r, {
              bParenthesizeNicknames: !0,
              strNickname: t.nickname,
              persona: t.persona,
              className: W().PersonaName,
            }),
            s,
          )
        );
      }
      var K = n(49437);
      function Q(e) {
        var t;
        const { lineItem: n } = e,
          a =
            null === (t = n.gift_info) || void 0 === t
              ? void 0
              : t.accountid_giftee;
        return i.createElement(
          "div",
          { className: (0, c.Z)(W().GiftFormCtn) },
          !a && i.createElement($, Object.assign({}, e)),
          a && i.createElement(ee, Object.assign({}, e)),
          a && i.createElement(ne, { lineItem: n }),
        );
      }
      function $(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, l] = i.useState(!1);
        return i.createElement(
          ie,
          null,
          i.createElement(
            s.KM,
            { onClick: () => l(!0) },
            (0, o.Xx)("#Cart_SelectGiftRecipient"),
          ),
          a &&
            i.createElement(z, {
              bShowGiftRecipientModal: a,
              fnOnDismiss: () => l(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function ee(e) {
        const { lineItem: t, storeItem: n } = e,
          [a, l] = i.useState(!1),
          r = (0, K.IE)(t.gift_info.accountid_giftee);
        return r.data
          ? i.createElement(
              ie,
              null,
              i.createElement("div", { className: W().GiftFormDivider }),
              i.createElement(
                "div",
                { className: W().GiftFormRecipient },
                i.createElement(
                  le,
                  null,
                  (0, o.Xx)("#Cart_GiftRecipient_Label"),
                ),
                i.createElement(
                  "a",
                  { href: r.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(V.vV, {
                    className: W().FriendAvatar,
                    statusPosition: "right",
                    persona: r.data,
                  }),
                ),
                r.data.m_strPlayerName,
                i.createElement(
                  re,
                  { onClick: () => l(!0) },
                  "(",
                  (0, o.Xx)("#Cart_Edit"),
                  ")",
                ),
              ),
              a &&
                i.createElement(z, {
                  bShowGiftRecipientModal: a,
                  fnOnDismiss: () => l(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      const te = 160;
      function ne(e) {
        var t, n, l, r, c, d, u;
        const { lineItem: p } = e,
          [_, f] = i.useState(
            null === (t = p.gift_info) || void 0 === t
              ? void 0
              : t.time_scheduled_send,
          ),
          [v, g] = i.useState(
            (null === (n = p.gift_info) || void 0 === n
              ? void 0
              : n.time_scheduled_send) > 0,
          ),
          [E, C] = i.useState(
            (null ===
              (r =
                null === (l = p.gift_info) || void 0 === l
                  ? void 0
                  : l.gift_message) || void 0 === r
              ? void 0
              : r.message) || "",
          ),
          [h, I] = i.useState(!1),
          [L, S] = i.useState(
            (null ===
              (d =
                null === (c = p.gift_info) || void 0 === c
                  ? void 0
                  : c.gift_message) || void 0 === d
              ? void 0
              : d.signature) || "",
          ),
          D = (0, K.IE)(m.L7.accountid),
          G = (0, R.fB)(3e3),
          N = te - E.length,
          T = {
            accountid_giftee:
              null === (u = p.gift_info) || void 0 === u
                ? void 0
                : u.accountid_giftee,
            gift_message: { message: E, signature: L },
            time_scheduled_send: _,
          },
          b = (0, a.G1)(),
          y = () =>
            G(() =>
              b.mutate({
                lineItemID: p.line_item_id,
                lineItemFlags: p.flags,
                giftInfo: T,
              }),
            );
        if (!D.data) return null;
        const A = p.line_item_id;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            ie,
            null,
            i.createElement(
              le,
              null,
              (0, o.kQ)(
                "#Cart_GiftDelivery_Body",
                i.createElement(
                  "span",
                  { className: N <= 0 ? W().RedText : null },
                  N,
                ),
              ),
            ),
            i.createElement(s.E0, {
              nMinHeight: 50,
              className: W().GiftNoteInput,
              value: E,
              onBlur: y,
              onKeyDown: (e) => {
                E.length >= te
                  ? "Backspace" !== e.key &&
                    "Delete" !== e.key &&
                    (e.preventDefault(), e.stopPropagation())
                  : y();
              },
              onChange: (e) => C(e.target.value),
            }),
          ),
          i.createElement(
            ie,
            null,
            i.createElement(
              "div",
              { className: W().GiftFormRecipient },
              i.createElement(le, null, (0, o.Xx)("#Cart_GiftDelivery_From")),
              i.createElement(V.vV, {
                className: W().FriendAvatar,
                statusPosition: "right",
                persona: D.data,
              }),
              " ",
              D.data.m_strPlayerName,
              !h &&
                i.createElement(
                  re,
                  { onClick: () => I(!0) },
                  "(",
                  (0, o.Xx)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          h &&
            i.createElement(
              ie,
              null,
              i.createElement(
                le,
                null,
                (0, o.Xx)("#Cart_GiftDelivery_Signature"),
              ),
              i.createElement(s.II, {
                value: L,
                className: W().GiftSignatureInput,
                onChange: (e) => S(e.target.value),
                onBlur: y,
                onKeyDown: y,
                maxChars: te,
              }),
            ),
          i.createElement(
            ie,
            null,
            i.createElement(le, null, (0, o.Xx)("#Cart_GiftDelivery_Label")),
            i.createElement(
              ae,
              null,
              i.createElement("input", {
                id: `${A}_delivery_now`,
                name: `${A}_delivery`,
                defaultChecked: !_,
                value: 1,
                type: "radio",
                onClick: () => {
                  f(0), g(!1), y();
                },
              }),
              i.createElement(
                "label",
                { className: W().GiftRadioLabel, htmlFor: `${A}_delivery_now` },
                (0, o.Xx)("#Cart_GiftDelivery_Now"),
              ),
            ),
            i.createElement(
              ae,
              null,
              i.createElement("input", {
                id: `${A}_delivery_schedule`,
                name: `${A}_delivery`,
                defaultChecked: _ > 0,
                value: 1,
                type: "radio",
                onClick: () => {
                  _ || f(Date.now() / 1e3), g(!0), y();
                },
              }),
              i.createElement(
                "label",
                {
                  className: W().GiftRadioLabel,
                  htmlFor: `${A}_delivery_schedule`,
                },
                (0, o.Xx)("#Cart_GiftDelivery_ScheduleDelivery"),
              ),
              v &&
                i.createElement(Z, {
                  bShowTimeZone: !0,
                  className: W().GiftDatePicker,
                  nEarliestTime: Date.now() / 1e3,
                  fnGetTimeToUpdate: () => _,
                  fnSetTimeToUpdate: (e) => {
                    f(e), y();
                  },
                }),
            ),
          ),
        );
      }
      function ie(e) {
        return i.createElement(
          "div",
          { className: W().GiftFormSection },
          e.children,
        );
      }
      function ae(e) {
        return i.createElement(
          "div",
          { className: W().GiftRadioRow },
          e.children,
        );
      }
      function le(e) {
        return i.createElement(
          "div",
          { className: W().FormTextLabel },
          e.children,
        );
      }
      function re(e) {
        return i.createElement(
          "div",
          Object.assign({}, e, { className: W().LinkButton }),
        );
      }
      var oe = n(38495),
        se = n(93908),
        ce = n(40442);
      function me(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: l,
            availableCoupons: r,
          } = e,
          [{ bDialogActive: s, strDialogTitle: c }, m] = i.useState({
            bDialogActive: !1,
          }),
          d = (0, a.G1)();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(de, {
            couponApplied: l,
            numAvailable: r.length,
            onModifyClick: () =>
              m({
                bDialogActive: !0,
                strDialogTitle: (0, o.Xx)(
                  l ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          i.createElement(pe, {
            active: s,
            title: c || (0, o.Xx)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => m({ bDialogActive: !1 }),
            couponApplied: l,
            availableCoupons: r,
            onCouponChange: (e) => {
              d.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: Object.assign({}, t.flags),
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function de(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: a } = e,
          l = (0, o.Xx)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return i.createElement(
          "div",
          { className: oe.CouponPickerRowGlow },
          i.createElement(
            "div",
            { className: oe.CouponPickerRow },
            t ? i.createElement(ue, Object.assign({}, t)) : null,
            i.createElement(ve, null, (0, o.kb)("#Cart_CouponAvailability", n)),
            i.createElement(
              "div",
              { className: oe.ModifyLink },
              i.createElement(re, { onClick: a }, l),
            ),
          ),
        );
      }
      function ue(e) {
        const { large_icon_url: t, title: n } = e;
        return i.createElement("img", {
          className: oe.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function pe(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: a,
            title: l,
            couponApplied: r,
            availableCoupons: c,
            onCouponChange: m,
          } = e,
          [d, u] = i.useState((null == r ? void 0 : r.gidcoupon) || "");
        return i.createElement(
          U.On,
          { active: t, onDismiss: n },
          i.createElement(s.h4, null, l),
          i.createElement(
            s.Ac,
            null,
            (0, o.kQ)(
              "#Cart_SelectCouponToApply",
              i.createElement("span", { className: oe.PackageName }, a),
            ),
          ),
          i.createElement(_e, {
            availableCoupons: c,
            couponApplied: null == r ? void 0 : r.gidcoupon,
            couponSelected: d,
            onSelectedChange: u,
          }),
          i.createElement(s.o9, {
            onCancel: n,
            onOK: () => {
              n(), m(d || ce.Z3);
            },
            strOKText: (0, o.Xx)("#Button_Done"),
          }),
        );
      }
      function _e(e) {
        var t;
        const {
            availableCoupons: n,
            couponApplied: l,
            couponSelected: r,
            onSelectedChange: o,
          } = e,
          { validateCart: s } = (0, a.td)(),
          c = (
            (null === (t = s.data) || void 0 === t ? void 0 : t.cart_items) ||
            []
          ).map((e) => {
            var t;
            return null === (t = e.coupon_applied) || void 0 === t
              ? void 0
              : t.gidcoupon;
          });
        return i.createElement(
          "div",
          { className: oe.CouponListContainer },
          n.map((e) =>
            i.createElement(
              fe,
              Object.assign({ key: e.gidcoupon }, e, {
                applied: l === e.gidcoupon,
                selected: r === e.gidcoupon,
                inUse: c.includes(e.gidcoupon),
                onSelected: (t) => o(t ? e.gidcoupon : ""),
              }),
            ),
          ),
        );
      }
      function fe(e) {
        const {
            applied: t,
            inUse: n,
            selected: a,
            large_icon_url: l,
            title: r,
            discount_pct: s,
            onSelected: m,
          } = e,
          d = !t && n,
          u = d ? void 0 : () => m(!a);
        return i.createElement(
          "div",
          {
            className: (0, c.Z)(oe.CouponListItem, d && oe.Disabled),
            onClick: u,
          },
          i.createElement(ge, { checked: a, hidden: d }),
          i.createElement("img", { src: l, title: r, className: oe.Image }),
          i.createElement(
            "div",
            { className: oe.Info },
            t && i.createElement(ve, null, (0, o.Xx)("#Cart_Coupons_Applied")),
            d && i.createElement(ve, null, (0, o.Xx)("#Cart_Coupons_InUse")),
          ),
          i.createElement("div", { className: oe.Discount }, "-", s, "%"),
        );
      }
      function ve(e) {
        return i.createElement(
          "div",
          { className: oe.CouponInfoText },
          e.children,
        );
      }
      function ge(e) {
        const { checked: t, hidden: n } = e;
        return i.createElement(
          "div",
          { className: (0, c.Z)(oe.Checkbox, n && oe.Hidden) },
          t && i.createElement(se.Jr, null),
        );
      }
      var Ee = n(68333),
        Ce = n(30659),
        he = n(5615),
        Ie = n(27070);
      function Le() {
        const e = (0, Ie.bY)();
        return (0, he.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, E.mG)(this, void 0, void 0, function* () {
              const t = Ee.gA.Init(Ce.XR),
                n = yield Ce.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!m.L7.accountid },
        );
      }
      function Se(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function De(e, t, n) {
        return (0, E.mG)(this, void 0, void 0, function* () {
          const i = Ee.gA.Init(Ce._c);
          i.Body().set_appids(t.slice()), i.Body().set_private(n);
          const a = yield Ce.kk.ToggleAppPrivacy(e, i);
          if (!a.BSuccess()) throw a.GetErrorMessage();
        });
      }
      function Ge(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const i = new Set(e);
          return (
            t.forEach((e) => {
              n ? i.add(e) : i.delete(e);
            }),
            i
          );
        });
      }
      var Ne = n(8371),
        Te = n.n(Ne);
      const be = {
        1: function (e) {
          const { item: t } = e,
            n = (0, E._T)(e, ["item"]),
            [a, l] = (0, C.ie)(t.packageid, {
              include_all_purchase_options: !0,
            }),
            [r, o] = (0, C.Vm)(t.packageid, 1, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_release: !0,
            });
          if (2 === o || 2 === l)
            return i.createElement(xe, { lineItemID: t.line_item_id });
          if (!r || !a) return i.createElement(Ae, null);
          const s = a.GetSelfPurchaseOption();
          return i.createElement(
            ke,
            Object.assign({ storeItem: r, lineItem: t, purchaseOption: s }, n),
          );
        },
        2: function (e) {
          const { item: t } = e,
            n = (0, E._T)(e, ["item"]),
            [a, l] = (0, C.jk)(t.bundleid, 2, {
              include_assets: !0,
              include_platforms: !0,
              include_all_purchase_options: !0,
              include_included_items: !0,
              included_item_data_request: { include_basic_info: !0 },
            });
          if (2 === l)
            return i.createElement(xe, { lineItemID: t.line_item_id });
          if (!a) return i.createElement(Ae, null);
          const r = a.GetSelfPurchaseOption();
          return i.createElement(
            ke,
            Object.assign({ storeItem: a, lineItem: t, purchaseOption: r }, n),
          );
        },
      };
      function ye(e) {
        const { item: t } = e,
          n = be[t.type];
        return n
          ? i.createElement(n, Object.assign({}, e))
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function Ae() {
        return i.createElement(
          We,
          { placeholder: !0 },
          i.createElement(we, null),
        );
      }
      function we() {
        return i.createElement(
          "div",
          { className: Te().LoadingThrobber },
          i.createElement(S.V, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function xe(e) {
        const { lineItemID: t } = e,
          n = (0, a.fn)(t),
          l = n.isLoading;
        return i.createElement(
          We,
          { placeholder: !0 },
          l && i.createElement(we, null),
          i.createElement(Fe, { lineItemID: t }),
          i.createElement(
            Xe,
            { className: Te().LineItemSpaceBetween },
            i.createElement(
              "div",
              { onClick: () => n.mutate(), className: Te().RemoveLineItem },
              (0, o.Xx)("#Cart_Remove"),
            ),
          ),
        );
      }
      function ke(e) {
        var t, n;
        const {
            storeItem: l,
            lineItem: r,
            validation: s = [],
            purchaseOption: d,
            validatedItem: u,
            availableCoupons: _,
          } = e,
          f = r.line_item_id,
          v = {
            id: null == l ? void 0 : l.GetID(),
            type: (0, L.Ds)(
              null == l ? void 0 : l.GetStoreItemType(),
              null == l ? void 0 : l.GetAppType(),
            ),
          },
          g = (0, a.fn)(f),
          E = (0, a.tI)(r.packageid, r.bundleid, !0),
          [C] = p(),
          h = g.isLoading || g.isSuccess || E.isLoading,
          S = "gifts" === C && !!r.flags.is_gift,
          D = !!_.length,
          G = (function (e) {
            const t = `${m.De.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
            if (!e) return t;
            const n = e.GetAssets();
            if (!n) return t;
            const i = n.GetHeaderURL(),
              a = n.GetSmallCapsuleURL();
            return i || a || t;
          })(l),
          b = u ? u.original_price.formatted_amount : d.formatted_final_price,
          y = u ? u.subtotal.formatted_amount : d.formatted_final_price,
          A = u
            ? (function (e) {
                if (e.coupon_applied) return e.coupon_applied.discount_pct;
                const t = parseInt(e.original_price.amount_in_cents),
                  n = parseInt(e.subtotal.amount_in_cents);
                return Math.round((t - n) / t);
              })(u)
            : d.discount_pct,
          w = l.GetIncludedAppIDsOrSelf(),
          { data: x, isLoading: k } = Le(),
          R = w.filter((e) => (null == x ? void 0 : x.has(e)));
        if (k) return i.createElement(Ae, null);
        const F = null === (t = r.flags) || void 0 === t ? void 0 : t.is_gift,
          P = R.length === w.length,
          O = !F && R.length > 0 && !P;
        let B = F ? "gift" : "myself";
        return (
          "myself" === B && P && (B = "private"),
          i.createElement(
            "div",
            null,
            i.createElement(
              We,
              null,
              h && i.createElement(we, null),
              i.createElement(
                "div",
                {
                  className: (0, c.Z)(
                    Te().InnerLineItemCtn,
                    h && Te().PendingLineItem,
                  ),
                },
                i.createElement(
                  "div",
                  {
                    className: (0, c.Z)(
                      Te().LineItemColumn,
                      Te().LineItemCapsule,
                    ),
                  },
                  i.createElement(
                    "a",
                    { href: (0, N.OL)(l.GetStorePageURL()) },
                    i.createElement("img", {
                      className: Te().HeaderImg,
                      src: G,
                    }),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: Te().LineItemDetailsCtn },
                  i.createElement(
                    Xe,
                    { flex: !0, className: Te().LineItemDetailsRowTop },
                    i.createElement(
                      "div",
                      { className: Te().LineItemTitle },
                      l.GetName(),
                    ),
                  ),
                  l.BIsComingSoon() && i.createElement(Re, { storeItem: l }),
                  i.createElement(
                    Fe,
                    { lineItemID: f },
                    s.map((e) =>
                      i.createElement(Pe, { key: e.strNotice }, e.strNotice),
                    ),
                  ),
                  i.createElement(Ze, { storeItem: l }),
                  O && i.createElement(Ue, { appids: R }),
                  i.createElement(
                    Xe,
                    { className: Te().LineItemSpaceBetween },
                    i.createElement(
                      "div",
                      {
                        className: (0, c.Z)(
                          Te().LineItemCol,
                          Te().PlatformIcons,
                        ),
                      },
                      i.createElement(I.a, {
                        item: v,
                        strClassName: Te().LineItemPlatforms,
                      }),
                    ),
                    i.createElement(
                      "div",
                      { className: Te().LineItemRightCol },
                      i.createElement(T.nk, {
                        className: Te().PriceWidget,
                        formatted_orig_price: b,
                        formatted_final_price: y,
                        discount_percent: A,
                        bHideDiscountPercentForCompliance:
                          d.hide_discount_pct_for_compliance,
                        bDiscountFromCoupon: !!(null ===
                          (n = null == u ? void 0 : u.coupon_discount) ||
                        void 0 === n
                          ? void 0
                          : n.amount_in_cents),
                      }),
                    ),
                  ),
                  i.createElement(
                    Xe,
                    { className: Te().LineItemSpaceBetween },
                    i.createElement(
                      "div",
                      { className: Te().LineItemCol },
                      i.createElement(Be, {
                        lineItem: r,
                        storeItem: l,
                        initialValue: B,
                        purchaseOption: d,
                      }),
                    ),
                    i.createElement(
                      "div",
                      { className: Te().LineItemRightCol },
                      i.createElement(
                        "div",
                        {
                          onClick: () => g.mutate(),
                          className: Te().RemoveLineItem,
                        },
                        (0, o.Xx)("#Cart_Remove"),
                      ),
                    ),
                  ),
                ),
              ),
              S && i.createElement(Q, { storeItem: l, lineItem: r }),
            ),
            D &&
              i.createElement(me, {
                storeItem: l,
                lineItem: r,
                couponApplied: null == u ? void 0 : u.coupon_applied,
                availableCoupons: _,
              }),
          )
        );
      }
      function Re(e) {
        const { storeItem: t } = e;
        let n = (0, o.Xx)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          i.createElement(Pe, null, n)
        );
      }
      function Fe(e) {
        const { lineItemID: t, children: n } = e,
          [l, r] = (0, a.z5)(t);
        return 0 === (null == l ? void 0 : l.length) &&
          0 === i.Children.count(n)
          ? null
          : i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  Te().LineItemNoticeRow,
                  Te().LineItemSpaceBetween,
                ),
              },
              l.map((e) => {
                var t;
                return i.createElement(Oe, {
                  key: e.purchase_state,
                  notice: e,
                  footnoteIdx:
                    null === (t = r.get(e.purchase_state)) || void 0 === t
                      ? void 0
                      : t.index,
                });
              }),
              n,
            );
      }
      function Pe(e) {
        const { children: t } = e;
        return i.createElement(
          Xe,
          { flex: !0 },
          i.createElement("div", { className: Te().Warning }, t),
        );
      }
      function Oe(e) {
        var t;
        const { notice: n, footnoteIdx: a } = e;
        (0, C.wZ)(n.appids, { include_basic_info: !0 });
        const l =
            null === (t = n.appids) || void 0 === t
              ? void 0
              : t.filter((e) => D.Z.Get().GetApp(e)),
          r =
            null == l
              ? void 0
              : l.map((e, t) => {
                  const n = D.Z.Get().GetApp(e);
                  return i.createElement(
                    G.W,
                    { key: e, type: "app", id: e },
                    i.createElement(
                      "a",
                      { href: n.GetStorePageURL() },
                      n.GetName(),
                    ),
                    t < l.length - 1 && i.createElement(i.Fragment, null, ","),
                  );
                });
        return i.createElement(
          Pe,
          null,
          n.notice_text,
          a && i.createElement("sup", null, a),
          r &&
            i.createElement(
              i.Fragment,
              null,
              "",
              i.createElement(
                "span",
                { className: (0, c.Z)(Te().LineItemNoticeAppsCtn) },
                r,
              ),
            ),
        );
      }
      function Be(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: l,
            purchaseOption: r,
          } = e,
          [s, c] = i.useState(l),
          m = (0, a.G1)(),
          d = (function () {
            const e = (0, Ie.bY)(),
              t = (0, he.useQueryClient)();
            return (0, he.useMutation)({
              mutationFn: (t) =>
                (0, E.mG)(this, void 0, void 0, function* () {
                  const { rgAppIDs: n, bPrivate: i } = t;
                  return De(e, n, i);
                }),
              onSuccess: (e, n) => {
                const { rgAppIDs: i, bPrivate: a } = n;
                Ge(t, i, a);
              },
              onError() {
                Se(t);
              },
            });
          })(),
          u = !!(
            (p = r).requires_shipping ||
            (null === (_ = p.recurrence_info) || void 0 === _
              ? void 0
              : _.packageid) ||
            p.is_commercial_license
          );
        var p, _;
        const f = [
          { data: "myself", label: (0, o.Xx)("#Cart_LineItemOptions_Myself") },
          !u && {
            data: "private",
            label: (0, o.Xx)("#Cart_LineItemOptions_Privately"),
            tooltip: (0, o.Xx)("#Cart_LineItemOptions_PrivateTooltip"),
          },
          { data: "gift", label: (0, o.Xx)("#Cart_LineItemOptions_Gift") },
        ].filter(Boolean);
        if (1 === f.length) return null;
        return i.createElement(Me, {
          onChange: (e) => {
            if (s === e.data) return;
            const i = (e) =>
                d.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              a = (e) =>
                m.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: Object.assign(Object.assign({}, t.flags), {
                    is_gift: e,
                  }),
                });
            "private" === s ? i(!1) : "gift" === s && a(!1),
              "private" === e.data ? i(!0) : "gift" === e.data && a(!0),
              c(e.data);
          },
          selectedOption: s,
          rgOptions: f,
        });
      }
      function Me(e) {
        return i.createElement(
          s.ry,
          Object.assign(
            {
              strClassName: Te().LineItemDropDown,
              strDropDownItemClassName: Te().DropDownOptionItem,
              strDropDownClassName: Te().DropDownOptionsCtnThin,
              strDropDownButtonClassName: Te().DropDownThin,
            },
            e,
          ),
        );
      }
      function Ze(e) {
        const { storeItem: t } = e,
          [n, a] = i.useState([]);
        return (
          i.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, a) => {
                const l = D.Z.Get().GetApp(n);
                l &&
                  e.push(
                    i.createElement(
                      G.W,
                      { key: n, type: "app", id: n },
                      i.createElement(
                        "a",
                        { href: l.GetStorePageURL() },
                        l.GetName(),
                      ),
                      a < t.GetIncludedAppIDs().length - 1 ? ", " : "",
                    ),
                  );
              }),
                a(e);
            }
          }, [t]),
          n.length
            ? i.createElement(
                Xe,
                { flex: !0 },
                i.createElement(
                  "span",
                  null,
                  (0, o.kb)("#Cart_IncludesItems", n.length),
                  ":",
                ),
                n,
              )
            : null
        );
      }
      function Xe(e) {
        const { flex: t, children: n, className: a } = e;
        return i.createElement(
          "div",
          {
            className: (0, c.Z)(Te().LineItemDetailsRow, t && Te().FlexRow, a),
          },
          n,
        );
      }
      function We(e) {
        const { placeholder: t, className: n, children: a } = e;
        return i.createElement(
          h.s,
          {
            className: (0, c.Z)(
              Te().LineItemWrapper,
              t && Te().LineItemPlaceholder,
              n,
            ),
          },
          a,
        );
      }
      function Ue(e) {
        const { appids: t } = e,
          n = (function (e) {
            const [t, n] = i.useState({});
            return (
              i.useEffect(() => {
                e.length &&
                  n(
                    e.reduce((e, t) => {
                      const n = D.Z.Get().GetApp(t);
                      return (
                        (e[t] = {
                          name: n.GetName(),
                          href: n.GetStorePageURL(),
                        }),
                        e
                      );
                    }, {}),
                  );
              }, [e.join(",")]),
              t
            );
          })(t),
          a = t.map((e, t) => {
            var a, l;
            return i.createElement(
              i.Fragment,
              { key: e },
              t > 0 && ", ",
              i.createElement(Ve, {
                key: e,
                appid: e,
                name:
                  (null === (a = n[e]) || void 0 === a ? void 0 : a.name) ||
                  e.toString(),
                href: null === (l = n[e]) || void 0 === l ? void 0 : l.href,
              }),
            );
          });
        return i.createElement(
          Xe,
          { flex: !0 },
          i.createElement(
            "span",
            null,
            (0, o.Xx)("#Cart_Notice_SomeAppsPrivate"),
            "",
          ),
          a,
        );
      }
      function Ve(e) {
        const { appid: t, name: n, href: a } = e;
        return i.createElement(
          G.W,
          { type: "app", id: t },
          i.createElement("a", { href: a }, n),
        );
      }
      var He = n(23384),
        je = n(24066),
        ze = n(11195);
      function Ye() {
        return (function (e, t) {
          const n = (0, Ie.bY)();
          return (0, he.useQuery)(
            ["ItemsToFeature", e],
            () =>
              (0, E.mG)(this, void 0, void 0, function* () {
                const i = Ee.gA.Init(je.JD);
                (0, ze.pA)(i),
                  (0, ze.De)(i, t),
                  i.Body().set_include_dailydeals(!0),
                  i.Body().set_include_top_specials_count(8),
                  e.spotlightLocation &&
                    i
                      .Body()
                      .set_include_spotlights(
                        je.xH.fromObject(e.spotlightLocation),
                      );
                const a = yield je.CK.GetItemsToFeature(n, i);
                if (!a) throw a.GetErrorMessage();
                const l = D.Z.Get();
                return (
                  a
                    .Body()
                    .spotlights()
                    .forEach(
                      (e) =>
                        e.associated_item(!1) &&
                        l.ReadItem(e.associated_item(), t),
                    ),
                  a
                    .Body()
                    .daily_deals()
                    .forEach((e) => e.item(!1) && l.ReadItem(e.item(), t)),
                  a
                    .Body()
                    .specials()
                    .forEach((e) => e.item(!1) && l.ReadItem(e.item(), t)),
                  a.Body().toObject()
                );
              }),
            { staleTime: 36e5 },
          );
        })(
          { spotlightLocation: { location: "cart" } },
          { include_assets: !0, include_release: !0 },
        );
      }
      var Je = n(34515),
        qe = n(23276),
        Ke = n(31245);
      function Qe() {
        var e, t, n;
        const a = Ye();
        return a.data || a.isLoading
          ? i.createElement(
              "div",
              { className: Je.CartUpsellArea },
              i.createElement(
                "div",
                { className: Je.CartUpsellTitle },
                (0, o.Xx)("#Recommendations_Header"),
              ),
              i.createElement($e, {
                data:
                  null === (e = a.data) || void 0 === e ? void 0 : e.specials,
                isLoaded: !a.isLoading,
              }),
              i.createElement(tt, {
                data:
                  null === (t = a.data) || void 0 === t
                    ? void 0
                    : t.daily_deals,
                isLoaded: !a.isLoading,
              }),
              i.createElement(nt, {
                data:
                  null === (n = a.data) || void 0 === n ? void 0 : n.spotlights,
                isLoaded: !a.isLoading,
              }),
            )
          : null;
      }
      function $e(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : i.createElement(
              "div",
              { className: (0, c.Z)(Je.Specials, Je.UpsellRow) },
              null == t
                ? void 0
                : t
                    .slice(0, 3)
                    .map(({ item_id: e, item: t }) =>
                      i.createElement(et, {
                        key: (0, L.y)(e),
                        item_id: e,
                        item: t,
                      }),
                    ),
            );
      }
      function et(e) {
        const { item: t } = e;
        return i.createElement(Ke.B, {
          capsule: { id: t.id, type: (0, L.Ds)(t.item_type, t.type) },
          imageType: "header",
        });
      }
      function tt(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  Je.DailyDeals,
                  Je.UpsellRow,
                  !n && Je.Loading,
                ),
              },
              null == t
                ? void 0
                : t
                    .slice(0, 2)
                    .map((e) =>
                      i.createElement(qe.k8, {
                        key: (0, L.y)(e.item_id),
                        dailyDeal: e,
                      }),
                    ),
            );
      }
      function nt(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : i.createElement(
              "div",
              {
                className: (0, c.Z)(
                  Je.Spotlights,
                  Je.UpsellRow,
                  !n && Je.Loading,
                ),
              },
              null == t
                ? void 0
                : t
                    .slice(0, 2)
                    .map((e) =>
                      i.createElement(qe.Jm, {
                        key: e.item_id
                          ? (0, L.y)(e.item_id)
                          : e.spotlight_title,
                        spotlight: e,
                      }),
                    ),
            );
      }
      function it(e) {
        var t, n, l;
        const { step: o, onStepChange: s } = e,
          c = (0, a.g1)(),
          m = (0, a.bn)(),
          d = c.isLoading || !c.data,
          { sortedLineItems: u, bCartIncludesGifts: p } = i.useMemo(() => {
            var e, t, n, i;
            const a =
                null ===
                  (t =
                    null === (e = c.data) || void 0 === e
                      ? void 0
                      : e.line_items) || void 0 === t
                  ? void 0
                  : t.some((e) => {
                      var t;
                      return null === (t = e.flags) || void 0 === t
                        ? void 0
                        : t.is_gift;
                    }),
              l =
                null ===
                  (i =
                    null === (n = c.data) || void 0 === n
                      ? void 0
                      : n.line_items) || void 0 === i
                  ? void 0
                  : i.sort((e, t) => {
                      var n, i;
                      const a =
                          null !== (n = e.bundleid) && void 0 !== n
                            ? n
                            : e.packageid,
                        l =
                          null !== (i = t.bundleid) && void 0 !== i
                            ? i
                            : t.packageid;
                      return e.time_added == t.time_added
                        ? a < l
                          ? 1
                          : -1
                        : e.time_added < t.time_added
                        ? 1
                        : -1;
                    });
            return { sortedLineItems: l, bCartIncludesGifts: a };
          }, [null === (t = c.data) || void 0 === t ? void 0 : t.line_items]),
          { validateCart: f, lineItemValidation: g } = (0, a.td)(),
          { mapValidateNoticesToError: E, mapValidateNoticesToFootnote: C } =
            (0, a.dW)();
        return i.createElement(
          _,
          { step: o, setStep: s },
          !!(null == E ? void 0 : E.size) &&
            i.createElement(rt, { notices: E }),
          i.createElement(
            "div",
            { className: r().ShoppingCartCtn },
            i.createElement(
              "div",
              { className: r().ShoppingCartLeftCol },
              d && i.createElement(we, null),
              i.createElement(
                v.SV,
                null,
                i.createElement(lt, {
                  lineItems: u,
                  validation: g,
                  cartValidation: f.data,
                  coupons: null == m ? void 0 : m.data,
                }),
              ),
              !!(null == C ? void 0 : C.size) &&
                i.createElement(
                  v.SV,
                  null,
                  i.createElement(st, { notices: C }),
                ),
              i.createElement(
                v.SV,
                null,
                i.createElement(mt, { isCartEmpty: 0 === u.length }),
              ),
              i.createElement(v.SV, null, i.createElement(Qe, null)),
            ),
            i.createElement(
              "div",
              { className: r().ShoppingCartRightCol },
              i.createElement(at, {
                bCartIncludesGifts: p,
                strEstimatedTotal:
                  null ===
                    (l =
                      null === (n = f.data) || void 0 === n
                        ? void 0
                        : n.estimated_totals) || void 0 === l
                    ? void 0
                    : l.subtotal.formatted_amount,
              }),
            ),
          ),
        );
      }
      function at(e) {
        var t;
        const { strEstimatedTotal: n, bCartIncludesGifts: l } = e,
          u = (0, f.k6)(),
          _ = (0, a.g1)(),
          { bValidForCheckout: v } = (0, a.td)(),
          [E, C] = p(),
          h = (0, He.Rs)(),
          I =
            m.L7.logged_in &&
            (("initial" === E && !l && !v) ||
              ("gifts" === E && !v) ||
              (_.isSuccess && 0 == _.data.line_items.length)),
          L = h.isSuccess && 2 == h.data.role(),
          S = (function (e) {
            if (!m.L7.logged_in) return (0, o.Xx)("#Cart_ContinueButton_Login");
            if (e.bCartIncludesGifts && "initial" === e.step)
              return (0, o.Xx)("#Cart_ContinueButton_Gifts");
            return (0, o.Xx)("#Cart_ContinueButton_Payment");
          })({ bCartIncludesGifts: l, step: E }),
          D = (0, c.Z)(r().CartSummaryBtn, !L && r().SummaryMarginBottom);
        return i.createElement(
          "div",
          { className: r().CartSummaryCtn },
          i.createElement(
            "div",
            {
              className: (0, c.Z)(
                r().EstimatedTotalFlex,
                r().SummaryMarginBottom,
              ),
            },
            i.createElement(
              "div",
              { className: r().CartLabelText },
              (0, o.Xx)("#Cart_EstimatedTotal"),
            ),
            i.createElement("div", { className: r().CartValueText }, n),
          ),
          i.createElement(
            "div",
            { className: (0, c.Z)(r().CartNoteText, r().SummaryMarginBottom) },
            (0, o.Xx)("#Cart_Note_SalesTax"),
          ),
          i.createElement(
            s.KM,
            {
              disabled: I,
              className: D,
              onClick: () => {
                m.L7.logged_in
                  ? l && "initial" == E
                    ? (C("gifts"), u.push(g.Z.ShoppingCartGifts()))
                    : (location.href = `${m.De.STORE_CHECKOUT_BASE_URL}checkout/?accountcart=1`)
                  : (0, d.X)();
              },
            },
            S,
          ),
          L &&
            i.createElement(pt, {
              disabled: I,
              familyGroupID:
                null === (t = h.data) || void 0 === t
                  ? void 0
                  : t.family_groupid(),
            }),
        );
      }
      function lt(e) {
        const {
          lineItems: t,
          validation: n = {},
          cartValidation: a,
          coupons: l = {},
        } = e;
        if (!t.length)
          return i.createElement("div", null, (0, o.Xx)("#Cart_Empty"));
        const s = (null == a ? void 0 : a.cart_items)
          ? a.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return i.createElement(
          "div",
          { className: r().LineItemsCtn },
          t &&
            t.map((e) =>
              e
                ? i.createElement(ye, {
                    key: e.line_item_id,
                    item: e,
                    validation: n[e.packageid || e.bundleid],
                    validatedItem: s[e.line_item_id],
                    availableCoupons: l[e.line_item_id] || [],
                  })
                : i.createElement(Ae, null),
            ),
        );
      }
      function rt(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: r().HeaderNotices },
          Array.from(t).map(([e, t], n) => i.createElement(ot, { key: e }, t)),
        );
      }
      function ot(e) {
        const { children: t } = e;
        return i.createElement("div", { className: r().HeaderNotice }, t);
      }
      function st(e) {
        const { notices: t } = e;
        return i.createElement(
          "div",
          { className: r().FooterNoticesCtn },
          Array.from(t).map(([e, t]) =>
            i.createElement(ct, { key: t.index, notice: t }),
          ),
        );
      }
      function ct(e) {
        const { notice: t } = e;
        return i.createElement(
          "div",
          { className: r().FooterNotice },
          i.createElement(
            "div",
            { className: r().NoticeIndex },
            i.createElement("sup", null, t.index),
          ),
          i.createElement(
            "div",
            { className: r().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function mt(e) {
        const { isCartEmpty: t } = e,
          n = (0, a.i2)();
        if (t) return i.createElement(dt, null);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(dt, null),
          i.createElement(
            "div",
            { className: r().CartFooter },
            i.createElement(
              "div",
              null,
              i.createElement(
                s.zx,
                {
                  onClick: () => (window.location.href = m.De.STORE_BASE_URL),
                  className: r().Button,
                },
                (0, o.Xx)("#Cart_ContinueShopping"),
              ),
            ),
            i.createElement(
              re,
              { onClick: () => n.mutate() },
              (0, o.Xx)("#Cart_RemoveAll"),
            ),
          ),
        );
      }
      function dt() {
        return i.createElement(
          ut,
          { className: r().BetaNotice },
          i.createElement(
            "div",
            { className: r().Icon },
            i.createElement(
              "svg",
              {
                width: "31",
                height: "34",
                viewBox: "0 0 31 34",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
              },
              i.createElement("path", {
                d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                fill: "white",
              }),
              i.createElement("path", {
                d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                fill: "#1A9FFF",
              }),
              i.createElement("path", {
                d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                fill: "#1A9FFF",
              }),
              i.createElement(
                "g",
                { opacity: "0.8" },
                i.createElement("path", {
                  d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                  fill: "#1A9FFF",
                }),
                i.createElement("path", {
                  d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                  fill: "#1A9FFF",
                }),
                i.createElement("path", {
                  d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                  fill: "#1A9FFF",
                }),
                i.createElement("path", {
                  d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                  fill: "#1A9FFF",
                }),
                i.createElement("path", {
                  d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                  fill: "#1A9FFF",
                }),
              ),
            ),
          ),
          i.createElement(
            "div",
            { className: r().Text },
            (0, o.yu)(
              "#Cart_BetaNotice",
              i.createElement("a", {
                href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/",
              }),
            ),
          ),
        );
      }
      function ut(e) {
        return i.createElement(
          "div",
          { className: (0, c.Z)(r().CartCard, e.className) },
          e.children,
        );
      }
      function pt(e) {
        const { disabled: t, familyGroupID: n } = e,
          a = (0, He.ih)(n, m.L7.country_code);
        return i.createElement(
          "div",
          {
            className: (0, c.Z)(
              r().RequestPurchaseCtn,
              r().SummaryMarginBottom,
            ),
          },
          i.createElement(
            s.zx,
            {
              disabled: t,
              className: (0, c.Z)(r().CartSummaryBtn),
              onClick: () => {
                a.mutate(void 0, {
                  onSuccess: () => {
                    window.location.assign(
                      g.Z.ShoppingCartAccountCartPurchaseRequested(),
                    );
                  },
                });
              },
            },
            (0, o.Xx)("#Cart_RequestPurchase"),
          ),
          i.createElement(
            "div",
            null,
            (0, o.Xx)("#Cart_RequestPurchaseExplanation"),
          ),
        );
      }
    },
    86990: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => p });
      var i = n(28841),
        a = n(89526),
        l = n(99307),
        r = n(27743),
        o = n(14826),
        s = n(79865),
        c = n.n(s),
        m = n(57605),
        d = n(44973),
        u = n(207);
      function p(e) {
        var t;
        const { closeCart: n, lineItemID: s } = e,
          p = (0, i.g1)(),
          _ = [
            a.useMemo(
              () =>
                p.data && s
                  ? p.data.line_items.find((e) => e.line_item_id == s)
                  : null,
              [s, p.data],
            ) || null,
          ];
        return (
          a.useEffect(() => {
            p.isSuccess &&
              s &&
              p.data.line_items.every((e) => e.line_item_id !== s) &&
              n();
          }, [p, s, n]),
          a.createElement(
            l.On,
            { active: !0, className: c().ShoppingCartModal, onDismiss: n },
            a.createElement(
              "div",
              { className: c().ShoppingCartHeader },
              (0, o.Xx)("#Cart_AddedToYourCart"),
            ),
            a.createElement(r.J, { lineItems: _ }),
            a.createElement(
              "div",
              { className: c().ShoppingCartModalBtns },
              a.createElement(
                m.zx,
                { onClick: n },
                (0, o.Xx)("#Cart_ContinueShopping"),
              ),
              a.createElement(
                m.KM,
                {
                  className: c().OpenCartBtn,
                  onClick: () =>
                    (window.location.href = (0, u.OL)(
                      d.De.STORE_BASE_URL + "cart",
                    )),
                },
                (0, o.Xx)(
                  "#Cart_ViewMyCart",
                  null === (t = p.data) || void 0 === t
                    ? void 0
                    : t.line_items.length,
                ),
              ),
            ),
          )
        );
      }
    },
    34273: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => v });
      var i = n(89526),
        a = n(79865),
        l = n.n(a),
        r = n(27743),
        o = n(14826),
        s = n(44973),
        c = n(69338),
        m = n(24420),
        d = n(71161),
        u = n(28841),
        p = n(57361),
        _ = n(25871),
        f = n(92616);
      function v(e) {
        return (function () {
          const [e, t] = i.useState(!1);
          return (
            i.useEffect(() => {
              e || (0, m.v)().then(() => t(!0));
            }, [e]),
            e
          );
        })()
          ? i.createElement(g, Object.assign({}, e))
          : i.createElement(c.V, { position: "center" });
      }
      function g(e) {
        const { initialStep: t = "initial" } = e,
          [n, a] = i.useState(t),
          c = (function () {
            var e;
            const t = i.useRef(""),
              n = (0, u.g1)(),
              a = !t.current;
            let l = p.kI,
              r = -1;
            if (a) {
              const t =
                  (null === (e = n.data) || void 0 === e
                    ? void 0
                    : e.line_items) || [],
                i = t.length
                  ? t.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                  : null;
              (l =
                (null == i ? void 0 : i.bundleid) ||
                (null == i ? void 0 : i.packageid) ||
                p.kI),
                (r = l === (null == i ? void 0 : i.bundleid) ? 2 : 1);
            }
            const o = {
                include_assets: !0,
                included_item_data_request: { include_assets: !0 },
                include_included_items: !0,
              },
              [s] = (0, _.jk)(l, r, o);
            if (s && a) {
              const e = f.Z.Get(),
                n = s.GetIncludedAppIDs();
              for (const i of n) {
                const n = e.GetApp(i);
                if (!n) continue;
                const a = n.GetAssets().GetPageBackgroundURL();
                if (a) {
                  t.current = a;
                  break;
                }
              }
            }
            return t.current;
          })(),
          m = (function (e) {
            if ("gifts" === e) return (0, o.Xx)("#Cart_GiftOptions");
            return (0, o.Xx)("#Cart_YourShoppingCart");
          })(n),
          v = (function (e) {
            if ("gifts" === e)
              return i.createElement(
                i.Fragment,
                null,
                "> ",
                i.createElement(
                  "a",
                  { href: s.De.STORE_BASE_URL + "cart" },
                  (0, o.Xx)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(n);
        return i.createElement(
          d.ZP,
          { controller: "cart", method: "display", submethod: n },
          i.createElement("div", {
            className: l().BackgroundImage,
            style: c ? { backgroundImage: `url("${c}")` } : null,
          }),
          i.createElement(
            "div",
            { className: l().ShoppingCartPage },
            i.createElement(
              "div",
              { className: l().ShoppingCartBreadcrumbs },
              i.createElement(
                "a",
                { href: s.De.STORE_BASE_URL },
                (0, o.Xx)("#Cart_Bradcrumb_Home"),
              ),
              " ",
              v,
              " ",
              i.createElement(
                "span",
                { className: l().CurrentBreadcrumb },
                "> ",
                m,
              ),
            ),
            i.createElement("div", { className: l().ShoppingCartHeader }, m),
            i.createElement(r.y, { step: n, onStepChange: a }),
          ),
        );
      }
    },
  },
]);
