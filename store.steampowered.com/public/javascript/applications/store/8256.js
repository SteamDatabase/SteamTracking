/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [8256],
  {
    12916: (e) => {
      e.exports = {
        EventTimeSection: "_3HyTVTASSmLacvaM964sgu",
        EventTimeTitle: "_2lG5hFYhu9PGPn6RoFeQOL",
        EventVisibilityItem: "_1she-lvNiCP3ASjTnl4q7x",
        EventEditorInputPaneContainer: "_1fCy4cz5Hyj9wDivcVseuc",
        TimeWidth: "_3JGsBe8Ou5QGqfihv0OPed",
        EventPublishTimeCtn: "_2QIVvn2p9gUwsAlifi-nkM",
        DateWidth: "_2P2kw0vHZogg7Ny7cAjQBo",
        PacificTimeHint: "_18FxDrpsfO5Tt8EFui49hV",
        TimeZone: "-x3Rw6W2fJfWRMs7vKr1I",
        InputBorder: "_1_H1sN2GVTzxSaz55gv03s",
        TimeBlock: "_2xLBsAMYVDoygyWbl2YIzI",
        TimeRowContainer: "BWmgg29ZeDbO6oj7Z1U7T",
        TimeRowDropDown: "_3ECiyuGLUqPzuS1hKCdfDm",
        EndDateAmountCtn: "_1BIlZEGSO_4tw5Lmc1Kkbf",
        EndRound: "jwuNowbLB28M6nkqFkF_C",
        VisibilityItemList: "_3B0QM3cOEqER2AD2Y85NFy",
        VisibilityItems: "_1WleIEEiF-9nJ57tLWkRmS",
        EventEditorVisibilityCtn: "_4gWwydbAbp2t1NCeW9LLV",
        DateErrorCtn: "_1Ao_g72kBAdoOo0lGUG7Mr",
      };
    },
    9249: (e) => {
      e.exports = { CartCard: "_29hIqcTt5I5g5BMmG262NZ" };
    },
    98972: (e) => {
      e.exports = {
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    50169: (e) => {
      e.exports = {
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    50829: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    83934: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
      };
    },
    58671: (e) => {
      e.exports = {
        CartCard: "_31xpGXwIZv9vlynISB1VYj",
        LineItemWrapper: "_2KiPYlH9C9k_-RZZgGJiF5",
        LineItemCapsule: "_2_GgLF39j8N-D4NVCRoADZ",
        HeaderImg: "_1iNQ1wKn2l6XMObGfGUPnj",
        LineItemPlaceholder: "_1qKu4a5ii_ihsz9mjDp2Hg",
        AddRemoveLinks: "_3fTNy8bloFM_PmW3CPbJF9",
        RemoveLineItem: "_33j4SwfO2YH9eI6qV9BKaL",
        AddLineItem: "_3k04fs3THPIZ2U7W7Uw9C7",
        LineItemRightCol: "_2CK0flAYrzVYpiphBImAD2",
        InnerLineItemCtn: "yW_j0xWpHbU537U49A8C9",
        LineItemDetailsCtn: "jRg6Oo9hDgKCGaXi9NJvU",
        LineItemCol: "_26Nx9qAoRhIHJBkdLL0kQD",
        LineItemDetailsRow: "F6ZErKA1thjnDLX-w2o-X",
        LineItemDetailsRowTop: "_1SauQBjZGVKr-LA3wv2yfW",
        LineItemSpaceBetween: "n7b9QjPvbLmeJH5iyelso",
        LineItemTitle: "pVXX8Pzc4JbT40TP4RwRG",
        LineItemPricingOptions: "_3f1XkR1Ix71B8h3LyRklCQ",
        LineItemDropDown: "_1LZzN-x9SSX3d3g9dJJ6ol",
        PlatformIcons: "_3kyTAc6GCZVQxNNiicR1sz",
        AddLineItemCtn: "_3eduNBpUQTScLmmoc-6yQ0",
        AddLineItemIcon: "_1As003FSFMOvWiuWIdGfeX",
        PendingLineItem: "PqpM1kx75xwfRB16wAS_K",
        FlexRow: "hPrcqN8eXW6ZtBpSiC1_y",
        PriceWidget: "_2yigxVMvm3cMZXMQmSczMc",
        Warning: "_1PZ2hvQoEPUrRR-9jaAMBK",
        LineItemNoticeAppsCtn: "_1-ZbqdHOMzqNLVTDKxUveU",
        LoadingThrobber: "_3eDAtc09yyL8yNchyAE4O6",
        DropDownThin: "j19kQU57WJlnAlqbrORdZ",
        DropDownOptionsCtnThin: "_2I90NjBP1pV7ekvcxqW_rt",
        DropDownOptionItem: "_2M6LSy7kCRhX31lQTxyI3F",
        WhiteText: "rXbF7guUW120blq7IxkDw",
        ErrorLineItem: "_32I-XAq6u8HgAzTVP5LXkn",
        Left: "_2CRe2s20FHpg0xDqQNHNaY",
        Error: "_2p9UO5E_Wi1ZBv2aZMiRjn",
        Muted: "_33fUnMVnXQVcaGwxic4V5N",
        GiftForNotice: "_2oJV1DcmhsnHpzPzOzCw6h",
        Name: "rvibeD2BpbjIixwwNKeT5",
      };
    },
    11543: (e) => {
      e.exports = {
        CartCard: "_2w0ZEap3hR1c0K0_DxJDdN",
        ShoppingCartPage: "_22xtsolKcQit92o-LBeRWD",
        CartCheckboxNoMargin: "_1S9a0tZYJv0d4x3-DrxbuS",
        ShoppingCartHeader: "bCGAC51za6R_thjPd7_vw",
        ShoppingCartCtn: "_1jqUY_WcPgZnIOE-d9x7wc",
        ShoppingCartLeftCol: "_17GFdSD2pc0BquZk5cejg8",
        ShoppingCartRightCol: "_3HIve50RR17shqpJqmrUps",
        SmallCart: "_31YlKoxrUknOG_d7armP5n",
        LoadingThrobber: "eDdFpOTz0O9U7xBshZJUx",
        CartSummaryCtn: "_2bIzQo07mxubFvscA8RIA8",
        EstimatedTotalFlex: "_2DjadWLFH3keW9rGWZKxSk",
        SummaryMarginBottom: "qV80oahDZsbXiS6lIDLND",
        ResponsiveShoppingCartSummary: "dpVdC9qAMjdzrN7VWFria",
        RequestPurchaseCtn: "_2jup-7OkSAzTBG-K9r9OCX",
        CartNoteText: "_31DQWsrdb_9oV-vMOaaPqI",
        CartLabelText: "_3ayrhzEm-T_IRhWeQ4HFxr",
        CartValueText: "_2WLaY5TxjBGVyuWe_6KS3N",
        ShoppingCartBreadcrumbs: "_2FKdJT3nRLNX_ue4Zj-qdK",
        CurrentBreadcrumb: "_3TtUDn-J9j6rkwHqjT-i4Y",
        ShoppingCartModal: "_28yxHQw3ZhIBbVa9EZ27Vo",
        ShoppingCartModalBtns: "_1qRagOpQN0EH1x4-13UjR5",
        FooterNotice: "LXZhw7nTAlKyny-hrKcX9",
        NoticeIndex: "_3GJopp-lG4ZnUYB5mqk2q0",
        LineItemsCtn: "_3SgHVt1Zp2MeobFUVwwJ2q",
        StoreSalePriceBox: "_2kwAcC9-igH6tzHOMTrNq",
        StoreSaleDiscountedPriceCtn: "_1qzcvSW6mt9gAKrRjf8dIQ",
        CartFooter: "_1Sdz1qnoKoD9eEPpC340Yj",
        Button: "_1rk1xUIAHMcMMDm4jz3MOM",
        BetaNotice: "_1DTyDw3G0f4gmhjAvr_MGb",
        Text: "I4Bz94kh1lGOH1KrPzxzk",
        BackgroundImage: "FaiD8bJRAZ-HoNo0VvLOO",
        HeaderNotices: "_3SXN1YgsAs-4iju4Oo7cx5",
        HeaderNotice: "_2zWY-ti_XANR3ab5tC4YrI",
        ErrorModalContent: "_1Fli53rt96SoYErpk1TqAg",
        ErrorModalMessage: "vNpgPsE5lRrVJ55wTdc1i",
        ErrorModalBottom: "_5g0iBBKqtjiGHu5VHzz1h",
        ErrorModalCode: "_34Q7Jyhi9BetqDtEOzt-26",
      };
    },
    71460: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    58632: (e) => {
      "use strict";
      var t,
        n = (function () {
          function e(e, t) {
            if ("function" != typeof e)
              throw new TypeError(
                "DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: " +
                  e +
                  ".",
              );
            (this._batchLoadFn = e),
              (this._maxBatchSize = (function (e) {
                var t = !e || !1 !== e.batch;
                if (!t) return 1;
                var n = e && e.maxBatchSize;
                if (void 0 === n) return 1 / 0;
                if ("number" != typeof n || n < 1)
                  throw new TypeError(
                    "maxBatchSize must be a positive number: " + n,
                  );
                return n;
              })(t)),
              (this._batchScheduleFn = (function (e) {
                var t = e && e.batchScheduleFn;
                if (void 0 === t) return r;
                if ("function" != typeof t)
                  throw new TypeError(
                    "batchScheduleFn must be a function: " + t,
                  );
                return t;
              })(t)),
              (this._cacheKeyFn = (function (e) {
                var t = e && e.cacheKeyFn;
                if (void 0 === t)
                  return function (e) {
                    return e;
                  };
                if ("function" != typeof t)
                  throw new TypeError("cacheKeyFn must be a function: " + t);
                return t;
              })(t)),
              (this._cacheMap = (function (e) {
                var t = !e || !1 !== e.cache;
                if (!t) return null;
                var n = e && e.cacheMap;
                if (void 0 === n) return new Map();
                if (null !== n) {
                  var r = ["get", "set", "delete", "clear"].filter(
                    function (e) {
                      return n && "function" != typeof n[e];
                    },
                  );
                  if (0 !== r.length)
                    throw new TypeError(
                      "Custom cacheMap missing methods: " + r.join(", "),
                    );
                }
                return n;
              })(t)),
              (this._batch = null),
              (this.name = (function (e) {
                if (e && e.name) return e.name;
                return null;
              })(t));
          }
          var t = e.prototype;
          return (
            (t.load = function (e) {
              if (null == e)
                throw new TypeError(
                  "The loader.load() function must be called with a value, but got: " +
                    String(e) +
                    ".",
                );
              var t = (function (e) {
                  var t = e._batch;
                  if (
                    null !== t &&
                    !t.hasDispatched &&
                    t.keys.length < e._maxBatchSize
                  )
                    return t;
                  var n = { hasDispatched: !1, keys: [], callbacks: [] };
                  return (
                    (e._batch = n),
                    e._batchScheduleFn(function () {
                      !(function (e, t) {
                        if (((t.hasDispatched = !0), 0 === t.keys.length))
                          return void i(t);
                        var n;
                        try {
                          n = e._batchLoadFn(t.keys);
                        } catch (n) {
                          return a(
                            e,
                            t,
                            new TypeError(
                              "DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: " +
                                String(n) +
                                ".",
                            ),
                          );
                        }
                        if (!n || "function" != typeof n.then)
                          return a(
                            e,
                            t,
                            new TypeError(
                              "DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: " +
                                String(n) +
                                ".",
                            ),
                          );
                        n.then(function (e) {
                          if (!s(e))
                            throw new TypeError(
                              "DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: " +
                                String(e) +
                                ".",
                            );
                          if (e.length !== t.keys.length)
                            throw new TypeError(
                              "DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n" +
                                String(t.keys) +
                                "\n\nValues:\n" +
                                String(e),
                            );
                          i(t);
                          for (var n = 0; n < t.callbacks.length; n++) {
                            var r = e[n];
                            r instanceof Error
                              ? t.callbacks[n].reject(r)
                              : t.callbacks[n].resolve(r);
                          }
                        }).catch(function (n) {
                          a(e, t, n);
                        });
                      })(e, n);
                    }),
                    n
                  );
                })(this),
                n = this._cacheMap,
                r = this._cacheKeyFn(e);
              if (n) {
                var o = n.get(r);
                if (o) {
                  var l = t.cacheHits || (t.cacheHits = []);
                  return new Promise(function (e) {
                    l.push(function () {
                      e(o);
                    });
                  });
                }
              }
              t.keys.push(e);
              var c = new Promise(function (e, n) {
                t.callbacks.push({ resolve: e, reject: n });
              });
              return n && n.set(r, c), c;
            }),
            (t.loadMany = function (e) {
              if (!s(e))
                throw new TypeError(
                  "The loader.loadMany() function must be called with Array<key> but got: " +
                    e +
                    ".",
                );
              for (var t = [], n = 0; n < e.length; n++)
                t.push(
                  this.load(e[n]).catch(function (e) {
                    return e;
                  }),
                );
              return Promise.all(t);
            }),
            (t.clear = function (e) {
              var t = this._cacheMap;
              if (t) {
                var n = this._cacheKeyFn(e);
                t.delete(n);
              }
              return this;
            }),
            (t.clearAll = function () {
              var e = this._cacheMap;
              return e && e.clear(), this;
            }),
            (t.prime = function (e, t) {
              var n = this._cacheMap;
              if (n) {
                var r,
                  a = this._cacheKeyFn(e);
                if (void 0 === n.get(a))
                  t instanceof Error
                    ? (r = Promise.reject(t)).catch(function () {})
                    : (r = Promise.resolve(t)),
                    n.set(a, r);
              }
              return this;
            }),
            e
          );
        })(),
        r =
          "object" == typeof process && "function" == typeof process.nextTick
            ? function (e) {
                t || (t = Promise.resolve()),
                  t.then(function () {
                    process.nextTick(e);
                  });
              }
            : "function" == typeof setImmediate
              ? function (e) {
                  setImmediate(e);
                }
              : function (e) {
                  setTimeout(e);
                };
      function a(e, t, n) {
        i(t);
        for (var r = 0; r < t.keys.length; r++)
          e.clear(t.keys[r]), t.callbacks[r].reject(n);
      }
      function i(e) {
        if (e.cacheHits)
          for (var t = 0; t < e.cacheHits.length; t++) e.cacheHits[t]();
      }
      function s(e) {
        return (
          "object" == typeof e &&
          null !== e &&
          "number" == typeof e.length &&
          (0 === e.length ||
            (e.length > 0 &&
              Object.prototype.hasOwnProperty.call(e, e.length - 1)))
        );
      }
      e.exports = n;
    },
    55909: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => c });
      var r = n(90626),
        a = n(71513),
        i = n(93007),
        s = n(56093),
        o = n(78327),
        l = n(61712);
      function c(e) {
        const { children: t, navTreeRef: n, ...c } = e,
          m = r.useRef(),
          u = (0, s.Ue)(m, n),
          d = (0, o.Qn)(),
          p = window.__virtual_keyboard_client;
        if (d) {
          const e = window.__nav_tree_root;
          return r.createElement(
            a.B2,
            { ...c, navTreeRef: u, secondary: !0, parentEmbeddedNavTree: e },
            r.createElement(
              l.F6,
              { factory: p },
              r.createElement(i.q, null, t),
            ),
          );
        }
        return r.createElement(r.Fragment, null, t);
      }
    },
    84746: (e, t, n) => {
      "use strict";
      n.d(t, { N: () => c });
      var r = n(90626),
        a = n(92757),
        i = (n(56093), n(98301)),
        s = n(32381),
        o = n(79613);
      const l = "FocusNavHistoryID";
      function c(e) {
        const { children: t, timeoutMS: n, ...c } = e,
          m = (function (e = 2) {
            const t = (0, a.W6)(),
              n = r.useRef(),
              s = (0, a.zy)(),
              c = (0, o.ho)(),
              m = s.state && s.state[l],
              u = r.useRef();
            return (
              r.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, r, a) => {
                      const s = t.location;
                      let o = s.state && s.state[l];
                      o ||
                        ((o = c
                          ? `State_${s.key}`
                          : `State_${e.Node().Tree.id}`),
                        (u.current = o),
                        t.replace({
                          ...t.location,
                          state: { ...s.state, [l]: o },
                        })),
                        u.current == o &&
                          (c
                            ? e.SaveState(o)
                            : window.history.replaceState(
                                {
                                  ...window.history.state,
                                  [o]: (0, i.Ze)(e.Node()),
                                },
                                null,
                              ));
                    },
                  ).Unregister;
              }, [t, c]),
              r.useLayoutEffect(() => {
                if (n.current && u.current != m) {
                  const t = n.current.NavTree().DeferredFocus;
                  t.SuppressFocus();
                  const r = c ? null : window.history.state?.[m],
                    a = window.setTimeout(() => {
                      let e = !1;
                      c
                        ? (e = n.current.RestoreState(m, 1))
                        : r && ((0, i.LU)(n.current.Node(), r, 0), (e = !0)),
                        e ? t.Reset() : t.ExecuteQueuedFocus(),
                        (u.current = m);
                    }, e);
                  return () => {
                    window.clearTimeout(a), t.ExecuteQueuedFocus();
                  };
                }
              }, [m, t, c, e]),
              n
            );
          })(n);
        return r.createElement(s.Z, { ...c, navRef: m }, t);
      }
    },
    43595: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => l });
      var r = n(90626),
        a = n(94607),
        i = n(55963),
        s = n(32630),
        o = n(5970);
      function l(e) {
        const {
            item: t,
            feature: n,
            depth: l,
            children: c,
            noImpressionTracking: m,
            ...u
          } = e,
          d = r.useRef(0),
          p = 0 == t.GetStoreItemType() ? t.GetAppID() : null,
          _ = (0, s.n9)(),
          f = r.useMemo(
            () => i.Ay.GetLinkParam({ ..._, feature: n || _.feature }, l),
            [_, n, l],
          ),
          g = r.useMemo(
            () => i.Ay.AddNavParamToURL(t.GetStorePageURL(), f),
            [t, f],
          ),
          h = (0, o.bi)(),
          E = r.useCallback(() => {
            p && d.current != p && (h.AddImpression(p, f), (d.current = p));
          }, [h, p, f, d]),
          C = r.createElement("a", { ...u, href: g }, c);
        return p && !m ? r.createElement(a.Y, { onEnter: E }, C) : C;
      }
    },
    41515: (e, t, n) => {
      "use strict";
      n.d(t, {
        AP: () => N,
        CM: () => L,
        Ck: () => G,
        EJ: () => T,
        F$: () => x,
        S0: () => P,
        UI: () => a.UI,
        Vh: () => I,
        ZB: () => b,
        ZW: () => S,
        g7: () => B,
        jY: () => R,
        lP: () => A,
        sI: () => k,
        tY: () => v,
        uQ: () => M,
        xz: () => D,
        zJ: () => F,
      });
      var r = n(79443),
        a = n(12229),
        i = n(24357),
        s = n(93676),
        o = n(22837),
        l = n(56545),
        c = n(3411),
        m = n(94076),
        u = n(76170),
        d = n(71430),
        p = n(10247),
        _ = n(31380),
        f = n(23809),
        g = n(14860),
        h = n(30894),
        E = n(72839),
        C = n(29482),
        y = n(30470),
        w = n(24484);
      function I() {
        return (0, w.Fd)("cart_config", "application_config");
      }
      function v(e) {
        const t = (0, f.KV)(),
          n = (0, _.useQueryClient)(),
          a = (0, i.j4)();
        return (0, _.useMutation)(
          async () =>
            await (async function (e, t, n) {
              if ((0, r.c2)(t)) {
                const t = l.w.Init(c.tj);
                t.Body().set_line_item_id(n),
                  t.Body().set_user_country(y.iA.country_code);
                const r = await c.t8.RemoveItemFromCart(e, t);
                return h.Fm.Get().InvalidateCache(), r.Body().toObject();
              }
              {
                const r = l.w.Init(d.VJ);
                r.Body().set_gidlineitems([n]),
                  r.Body().set_gidshoppingcart(t.gid);
                const a = await d.Q2.RemoveLineItems(e, r);
                return h.Fm.Get().InvalidateCache(), a.Body().toObject();
              }
            })(t, a, e),
          {
            onSuccess() {
              (0, s.Cd)(n, a);
            },
          },
        );
      }
      function S() {
        const e = (0, f.KV)(),
          t = (0, _.useQueryClient)(),
          n = (0, i.j4)();
        return (0, _.useMutation)(
          async () =>
            await (async function (e, t) {
              if ((0, r.c2)(t)) {
                const t = l.w.Init(c.HK);
                return (await c.t8.DeleteCart(e, t)).BSuccess();
              }
              {
                const n = await (0, a.d0)(e, t);
                if (n && n.line_items && n.line_items.length) {
                  const r = l.w.Init(d.VJ);
                  return (
                    r
                      .Body()
                      .set_gidlineitems(
                        n.line_items.map(({ line_item_id: e }) => e),
                      ),
                    r.Body().set_gidshoppingcart(t.gid),
                    (await d.Q2.RemoveLineItems(e, r)).BSuccess()
                  );
                }
                return !1;
              }
            })(e, n),
          {
            onSuccess() {
              (0, s.Cd)(t, n);
            },
          },
        );
      }
      function b() {
        const e = (0, i.j4)();
        return !(0, r.uU)(e) && !(0, r.sb)(e);
      }
      function T() {
        const e = (0, i.j4)();
        return (0, r.sb)(e);
      }
      function N(e, t, n) {
        const o = (0, i.j4)(),
          l = (0, f.KV)(),
          c = (0, _.useQueryClient)();
        return (0, _.useMutation)({
          mutationFn: async () => {
            if ((0, r.c2)(o)) return (0, a.Jn)(l, e, t, n);
            if ((0, r.kx)(o)) return (0, a.SI)(l, e ? [e] : void 0, t, n);
            throw "Invalid cart type";
          },
          onSuccess: ([e, t]) => {
            1 == e && (0, s.LN)(c, o, t.cart);
          },
        });
      }
      function L(e) {
        const t = (0, i.j4)(),
          n = (0, f.KV)(),
          r = (0, _.useQueryClient)(),
          a = (0, s.GO)(t);
        return (0, _.useMutation)({
          mutationFn: (e) =>
            (async function (e, t, n, r, a) {
              const i = l.w.Init(c.Bk);
              i.Body().set_line_item_id(t),
                i.Body().set_user_country(y.iA.country_code),
                r && i.Body().set_gift_info(u.$z.fromObject(r)),
                n && i.Body().set_flags(c.Eo.fromObject(n)),
                a && i.Body().set_apply_gidcoupon(a);
              const s = await c.t8.ModifyLineItem(e, i);
              return (
                s.BSuccess() ||
                  console.warn(`Failed to update gift info: ${s.GetEResult()}`),
                [s.GetEResult(), s.Body().toObject()]
              );
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: async (e) => {
            await r.cancelQueries({ queryKey: a });
            const t = r.getQueryData(a);
            return (
              r.setQueryData(a, (t) => ({
                ...t,
                line_items: t.line_items.map((t) =>
                  t.line_item_id !== e.lineItemID
                    ? t
                    : {
                        ...t,
                        flags: e.lineItemFlags || t.flags,
                        gift_info: e.giftInfo || t.gift_info,
                      },
                ),
              })),
              { previousCart: t }
            );
          },
          onSuccess: ([n, i], o, { previousCart: l }) => {
            1 == n ? ((0, s.LN)(r, t, i.cart), e && e()) : r.setQueryData(a, l);
          },
          onError: (e, t, { previousCart: n }) => {
            r.setQueryData(a, n);
          },
        });
      }
      const A = {
          include_basic_info: !0,
          include_assets: !0,
          include_platforms: !0,
          include_release: !0,
        },
        D = { ...A, include_included_items: !0, included_item_data_request: A };
      function B() {
        const e = (0, f.KV)(),
          t = (0, i.j4)(),
          [n] = (0, p.fg)();
        return (0, _.useQuery)(
          (0, s.m4)(t),
          async () =>
            (async function (e, t, n) {
              const a = l.w.Init(m.vL);
              (0, r.kx)(t) || (0, r.uU)(t)
                ? (a.Body().set_gidshoppingcart(t.gid),
                  n && a.Body().set_gift_info(u.$z.fromObject(n)))
                : (0, r.sb)(t) && a.Body().set_gidreplayoftransid(t.gid),
                (0, E.rV)(a),
                (0, E.Bn)(a, D);
              const i = await m._o.ValidateCart(e, a);
              i.BSuccess() ||
                console.warn(
                  `Failed to validate shopping cart: ${i.GetEResult()}`,
                );
              for (const e of i.Body().cart_items())
                C.A.Get().ReadItem(e.store_item(), D);
              return i.Body().toObject();
            })(e, t, n),
          { staleTime: 1 / 0, enabled: y.iA.logged_in || !(0, r.c2)(t) },
        );
      }
      function M(e) {
        return (
          e?.cart_items.length &&
          e.cart_items.every(
            ({ store_item: e }) =>
              1 == e.item_type &&
              (e.self_purchase_option || e.best_purchase_option)
                ?.requires_shipping,
          )
        );
      }
      function G() {
        const e = (0, f.KV)();
        return (0, _.useQuery)(
          ["shopping_cart", "relevant_coupons"],
          async () => {
            const t = await (async function (e) {
              const t = l.w.Init(c.wi);
              t.Body().set_language((0, o.sf)(y.TS.LANGUAGE));
              const n = await c.t8.GetRelevantCoupons(e, t);
              return n.BIsValid()
                ? n.Body().toObject()
                : (console.error("Failed to load relevant coupons"), {});
            })(e);
            return t.line_items.reduce(
              (e, t) => ((e[t.line_item_id] = t.coupons), e),
              {},
            );
          },
          { enabled: y.iA.logged_in, placeholderData: () => ({}) },
        );
      }
      function F() {
        return (0, _.useQuery)(
          ["shopping_cart", "sale_drop_progress"],
          async () => {
            const e = await fetch(
                `${y.TS.STORE_BASE_URL}cart/ajaxsaledropprogress`,
              ),
              t = await e.json();
            return (
              1 !== t.eresult &&
                console.error("Failed to load sale drop progress"),
              t
            );
          },
          { enabled: y.iA.logged_in },
        );
      }
      function R() {
        const e = (0, i.j4)(),
          [t] = (0, p.fg)(),
          n = `${y.TS.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, r.c2)(e)) return `${n}?accountcart=1`;
        if ((0, r.sb)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const r = new URLSearchParams();
          return (
            r.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (r.append("purchasetype", "gift"),
              r.append("bIsGift", "1"),
              r.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${r.toString()}`
          );
        }
      }
      function k() {
        const e = (0, i.j4)();
        return (0, r.uU)(e) ? e.requestID : null;
      }
      function P() {
        const e = (0, i.j4)(),
          t = (0, g.vo)(),
          n = B(),
          a = t.isSuccess && 2 == t.data.role(),
          s = n.data?.cart_items.some(
            (e) => e.item_id.packageid && !e.can_purchase_as_gift,
          );
        return (
          !(
            !a ||
            !(function (e) {
              return (0, r.c2)(e) || (0, r.kx)(e);
            })(e)
          ) && !s
        );
      }
      function x() {
        const e = (0, i.j4)(),
          t = (0, g.vo)();
        return t.isSuccess && 1 == t.data.role() && (0, r.uU)(e);
      }
    },
    89070: (e, t, n) => {
      "use strict";
      n.d(t, { x: () => s });
      var r = n(90626),
        a = n(52038),
        i = n(9249);
      function s(e) {
        return r.createElement(
          "div",
          { className: (0, a.A)(i.CartCard, e.className) },
          e.children,
        );
      }
    },
    71879: (e, t, n) => {
      "use strict";
      n.d(t, {
        RP: () => oe,
        By: () => Ce,
        IJ: () => ge,
        E2: () => Ee,
        kP: () => le,
        z9: () => ye,
      });
      var r = n(41515),
        a = n(90626),
        i = n(7068),
        s = n(84811),
        o = n(34629),
        l = n(75844),
        c = n(69917),
        m = n.n(c),
        u = n(44894),
        d = n(44165),
        p = n(95695),
        _ = n.n(p),
        f = n(52038),
        g = n(61859),
        h = n(56093),
        E = n(32754),
        C = n(12916),
        y = n.n(C),
        w = n(87937),
        I = n.n(w);
      let v = class extends a.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
              strError: null,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: r,
            disabled: a,
          } = this.props;
          if (a) return;
          if ("string" == typeof e) {
            let t = I()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let i = this.props.fnGetTimeToUpdate(),
            s = 0;
          if (i) {
            const t = I().unix(i);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (s = e.unix());
          } else {
            s =
              I().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(s);
          let o = r && !0 === r();
          (null == this.state.timeAsString &&
            o == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: o });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = I()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            r = I().unix(n || d.HD.GetTimeNowWithOverride());
          e.hour(r.hour()),
            e.minute(r.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let a =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            a == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: a });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: r,
            } = this.props,
            a = I().unix(t).hour(0).seconds(0).minute(0);
          let i = e.unix() >= a.unix();
          if (i && n && n >= t) {
            const t = I().unix(n).hour(23).minute(59).seconds(59);
            i = e.unix() <= t.unix();
          }
          return (
            i && r && ((0 != e.weekday() && 6 != e.weekday()) || (i = !1)), i
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(d.HD.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(d.HD.GetTimeNowWithOverride());
        }
        componentDidMount() {
          this.UpdateError();
        }
        componentDidUpdate() {
          this.UpdateError();
        }
        UpdateError() {
          const { fnIsValidDateTime: e } = this.props,
            t = e && e();
          let n = null;
          (this.state.timeAsString ||
            this.state.dateAsString ||
            "string" == typeof t ||
            !1 === t) &&
            ((n = (0, g.we)("#DateTimePicker_Fallback_Invalid_DateTime")),
            this.state.timeAsString
              ? (n = (0, g.we)("#DateTimePicker_Time_CannotParse"))
              : this.state.dateAsString
                ? (n = (0, g.we)("#DateTimePicker_Date_CannotParse"))
                : "string" == typeof t && (n = t)),
            this.state.strError !== n &&
              (this.setState({ strError: n }),
              this.props.onError && this.props.onError(n));
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            onError: r,
            strAlsoShowTimeZone: i,
            disabled: s,
            bNoDefaultDate: o,
          } = this.props;
          let l = n(),
            c = l > 0 ? new Date(1e3 * l) : null,
            p = "h:mm A";
          const h = !r && this.state.strError;
          let C, w;
          if (e && t && e == t && t > d.HD.GetTimeNowWithOverride()) {
            let e = I().unix(t);
            (C = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (p = "HH:mm");
          }
          l || !t || o || (w = I().unix(t));
          const v = I().tz.guess(),
            S = I().unix(l).tz(v),
            b = !!i && v != i && I().unix(l).tz(i);
          return a.createElement(
            "div",
            { className: (0, f.A)(y().EventTimeSection, this.props.className) },
            a.createElement(
              "div",
              { className: (0, f.A)(y().EventTimeTitle, "DialogLabel") },
              a.createElement(
                E.he,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  a.createElement("span", null, this.props.strDescription),
              ),
              h &&
                a.createElement(
                  "span",
                  { className: y().DateErrorCtn },
                  a.createElement("img", { src: u.A }),
                  h,
                ),
            ),
            a.createElement(
              "div",
              { className: _().FlexRowContainer },
              a.createElement(
                "div",
                { className: (0, f.A)(_().InputBorder, y().TimeBlock) },
                a.createElement(m(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : c,
                  isValidDate: this.IsValidDate,
                  initialValue: w,
                  inputProps: {
                    placeholder: (0, g.we)("#DateTimePicker_Enter_Date"),
                    className: (0, f.A)(
                      y().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: s,
                  },
                }),
                !!b &&
                  a.createElement(
                    "div",
                    { className: y().PacificTimeHint },
                    b.format("L"),
                  ),
              ),
              a.createElement(
                "div",
                { className: (0, f.A)(_().InputBorder, y().TimeBlock) },
                a.createElement(m(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: p,
                  timeConstraints: C,
                  value: this.state.timeAsString ? this.state.timeAsString : c,
                  inputProps: {
                    placeholder: (0, g.we)("#DateTimePicker_Enter_Time"),
                    className: (0, f.A)(
                      y().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: s,
                  },
                }),
                !!b &&
                  a.createElement(
                    "div",
                    { className: y().PacificTimeHint },
                    b.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                a.createElement(
                  "div",
                  null,
                  a.createElement(
                    "div",
                    { className: y().TimeZone },
                    S.zoneAbbr(),
                  ),
                  !!b &&
                    a.createElement(
                      "div",
                      { className: y().TimeZone },
                      b.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(C) &&
              a.createElement(
                "div",
                null,
                (0, g.we)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, o.Cg)([h.oI], v.prototype, "OnTimeChange", null),
        (0, o.Cg)([h.oI], v.prototype, "OnDateChange", null),
        (0, o.Cg)([h.oI], v.prototype, "IsValidDate", null),
        (0, o.Cg)([h.oI], v.prototype, "SetToNow", null),
        (v = (0, o.Cg)([l.PA], v));
      var S = n(14771),
        b = n(78327),
        T = n(83934),
        N = n.n(T);
      const L = a.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [r, o] = a.useState(null),
          l = t > 0;
        return a.createElement(
          ge,
          null,
          a.createElement(Ce, null, (0, g.we)("#Cart_GiftDelivery_Label")),
          a.createElement(
            Ee,
            null,
            a.createElement(i.Od, {
              controlled: !0,
              checked: !l,
              onChange: (e) => e && void n(0),
              label: (0, g.we)("#Cart_GiftDelivery_Now"),
            }),
          ),
          a.createElement(
            Ee,
            null,
            a.createElement(i.Od, {
              controlled: !0,
              checked: l,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, g.we)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            a.createElement("div", { style: { clear: "both" } }),
            r && a.createElement("div", { className: N().ScheduleError }, r),
            l &&
              a.createElement(
                s.tH,
                null,
                a.createElement(A, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: o,
                }),
              ),
          ),
        );
      });
      function A(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: r,
        } = e;
        if ((0, b.Qn)())
          return a.createElement(B, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: r,
          });
        {
          const e = () => D(t);
          return a.createElement(v, {
            bShowTimeZone: !0,
            className: N().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: r,
          });
        }
      }
      function D(e) {
        const t = Date.now() / 1e3 + S.Kp.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, g.we)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, g.we)("#Cart_GiftScheduleError_InvalidDate");
      }
      function B(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: r,
          } = e,
          o = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          l = new Date(1e3 * t),
          [c, m] = (0, a.useState)(l.getMonth()),
          [u, d] = (0, a.useState)(l.getDate()),
          [p, _] = (0, a.useState)(l.getFullYear()),
          [f, h] = (0, a.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                r = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${r < 10 ? "0" : ""}${r}`
              );
            })(l, o),
          ),
          [E, C] = (0, a.useState)(l.getHours() >= 12 ? "PM" : "AM");
        a.useEffect(() => {
          let e = f.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const a = parseInt(e[2]);
          o &&
            ("PM" == E && t < 12 ? (t += 12) : "AM" == E && 12 == t && (t = 0));
          const i = new Date(p, c, u, t, a, 0, 0).getTime() / 1e3,
            s = D(i);
          !0 === s ? (r(null), n(i)) : r(s);
        }, [p, c, u, f, E, o, n, r]);
        const y = "US" == b.TS.COUNTRY && "english" == b.TS.LANGUAGE;
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            i.Xp,
            { className: N().GamepadTimePickerRow },
            y && a.createElement(G, { month: c, setMonth: m }),
            a.createElement(F, { year: p, month: c, day: u, setDay: d }),
            !y && a.createElement(G, { month: c, setMonth: m }),
            a.createElement(M, { year: p, setYear: _ }),
          ),
          a.createElement(
            i.Xp,
            { className: N().GamepadTimePickerRow },
            a.createElement(i.pd, {
              value: f,
              onChange: (e) => h(e.currentTarget.value),
            }),
            o && a.createElement(R, { strAMPM: E, setAMPM: C }),
            a.createElement(
              i.VP,
              { className: N().TimezoneDisplay },
              a.createElement(s.tH, null, a.createElement(k, null)),
            ),
            !o && a.createElement(i.VP, null, "Â "),
          ),
        );
      }
      function M(e) {
        const { year: t, setYear: n } = e,
          r = a.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return a.createElement(i.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function G(e) {
        const { month: t, setMonth: n } = e,
          r = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return a.createElement(i.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function F(e) {
        const { year: t, month: n, day: r, setDay: s } = e,
          o = a.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              r = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
                day: "numeric",
              });
            let a = [];
            for (let t = 1; t <= e; t++)
              a.push({ label: r.format(new Date(null, null, t)), data: t });
            return a;
          }, [n, t]);
        return a.createElement(i.m, {
          selectedOption: r,
          onChange: (e) => s(e.data),
          rgOptions: o,
        });
      }
      function R(e) {
        const { strAMPM: t, setAMPM: n } = e,
          r = a.useMemo(() => {
            const e = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 5))
                    .find((e) => "dayPeriod" == e.type)?.value || "AM",
                data: "AM",
              },
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 17))
                    .find((e) => "dayPeriod" == e.type)?.value || "PM",
                data: "PM",
              },
            ];
          }, []);
        return a.createElement(i.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function k() {
        const e = new Intl.DateTimeFormat(g.pf.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return a.createElement(a.Fragment, null, e ? e.value : "");
      }
      var P = n(32381),
        x = n(1035),
        O = n(41471),
        z = n(30470),
        j = n(56545),
        U = n(94076),
        W = n(15161),
        V = n(31380),
        q = n(23809),
        Z = n(26505),
        H = n(62792);
      function Q(e) {
        const t = (function (e) {
            const t = (0, q.KV)(),
              n = (0, H.Je)(e.GetID(), e.GetStoreItemType());
            return (0, V.useQuery)(
              ["FriendOwnershipForGifting", n],
              async () => {
                const e = j.w.Init(U.HM);
                e.Body().set_item_ids([W.O4.fromObject(n)]);
                const r = await U._o.GetFriendOwnershipForGifting(t, e);
                if (!r.BSuccess()) throw r.GetEResult();
                return r.Body().toObject();
              },
            );
          })(e),
          n = (0, Z.d0)({ loadFavorites: !0, loadNicknames: !0 }),
          r = t?.data?.ownership_info[0]?.friend_ownership,
          i = a.useMemo(
            () => new Map(r && r.map((e) => [e.accountid, e])),
            [r],
          );
        if (t.isLoading || n.isLoading) return { isLoading: !0 };
        if (t.isError || n.isError) return { isError: !0 };
        const s = n.data.map((e, t) => {
          const n = i.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return { ...e, ownership: n };
        });
        return (
          s.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: s }
        );
      }
      var Y = n(92022),
        K = n(34181),
        J = n(17720),
        X = n(44325),
        $ = n(22797);
      function ee(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: r,
          fnOnDismiss: i,
        } = e;
        return a.createElement(
          X.mt,
          { className: N().GiftRecipientPickerModal, active: r, onDismiss: i },
          a.createElement(te, { onDismiss: i, lineItem: n, storeItem: t }),
        );
      }
      const te = a.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: r,
        } = Q(e.storeItem);
        return a.createElement(ne, {
          ...e,
          rgFriendsForGifting: t,
          isLoading: n,
          isError: r,
        });
      });
      function ne(e) {
        const {
            lineItem: t,
            onDismiss: n,
            rgFriendsForGifting: i,
            isLoading: s,
            isError: o,
          } = e,
          l = (0, r.CM)(),
          [c, m] = a.useState(""),
          u = a.useMemo(() => {
            if (!i) return [];
            const e = c.toLocaleLowerCase();
            return i.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [c, i]),
          d = t.gift_info?.accountid_giftee,
          p = (e) => {
            if (e) {
              const n = new J.b(e);
              n.BIsValid() &&
                l.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: { accountid_giftee: n && n.GetAccountID() },
                });
            }
            n();
          };
        return o
          ? a.createElement(
              re,
              null,
              a.createElement(
                "div",
                { className: N().LoadingError },
                (0, g.we)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : a.createElement(
              re,
              { loading: s },
              a.createElement(ae, { value: c, onChange: m }),
              a.createElement(
                ie,
                null,
                u.map((e) =>
                  a.createElement(se, {
                    key: e.accountid,
                    selected: e.accountid === d,
                    onSelect: p,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function re(e) {
        const { loading: t, children: n } = e;
        return a.createElement(
          P.Z,
          { className: N().GiftRecipientPickerFormCtn },
          a.createElement(
            "div",
            { className: N().FormTitle },
            (0, g.we)("#Cart_GiftRecipientModal_Title"),
          ),
          t && a.createElement($.t, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function ae(e) {
        const { value: t, onChange: n } = e;
        return a.createElement(i.pd, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: N().GiftFriendsInput,
          placeholder: (0, g.we)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function ie(e) {
        return a.createElement(Y.MS, {
          className: N().GiftFriendsListCtn,
          ...e,
        });
      }
      function se(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: r,
            persona: i,
            ownsGame: s,
            wishlistsGame: o,
          } = e,
          l = s,
          c = a.useCallback(() => {
            l || n(i.m_steamid.ConvertTo64BitString());
          }, [l, n, i]);
        let m = null;
        return (
          s
            ? (m = a.createElement(
                "div",
                { className: (0, f.A)(N().FriendsGiftLabel, N().OwnsGame) },
                (0, g.we)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : o &&
              (m = a.createElement(
                "div",
                { className: (0, f.A)(N().FriendsGiftLabel, N().OnWishlist) },
                (0, g.we)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          a.createElement(
            P.Z,
            {
              className: (0, f.A)(
                N().GiftPickerFriendBlock,
                t && N().Selected,
                l && N().Disabled,
              ),
              focusClassName: N().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            a.createElement(x.i8, {
              className: N().FriendAvatar,
              statusPosition: "right",
              persona: i,
            }),
            a.createElement(K.A, {
              bParenthesizeNicknames: !0,
              strNickname: r,
              persona: i,
              className: N().PersonaName,
            }),
            m,
          )
        );
      }
      function oe(e) {
        const { giftInfo: t, onChange: n } = e,
          r = (0, O.js)(t.accountid_giftee);
        return r.data
          ? a.createElement(
              fe,
              null,
              a.createElement(
                he,
                null,
                a.createElement(Ce, null, (0, g.we)("#Cart_PurchaseFor_Label")),
                a.createElement(
                  "a",
                  { href: r.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(x.i8, {
                    className: N().FriendAvatar,
                    statusPosition: "right",
                    persona: r.data,
                  }),
                ),
                r.data.m_strPlayerName,
              ),
              a.createElement(de, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function le(e) {
        const { lineItem: t } = e,
          n = t.gift_info?.accountid_giftee;
        return a.createElement(
          fe,
          null,
          !n && a.createElement(ce, { ...e }),
          n && a.createElement(me, { ...e }),
          n && a.createElement(ue, { lineItem: t }),
        );
      }
      function ce(e) {
        const { lineItem: t, storeItem: n } = e,
          [r, s] = a.useState(!1);
        return a.createElement(
          ge,
          null,
          a.createElement(
            i.jn,
            { onClick: () => s(!0) },
            (0, g.we)("#Cart_SelectGiftRecipient"),
          ),
          r &&
            a.createElement(ee, {
              bShowGiftRecipientModal: r,
              fnOnDismiss: () => s(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function me(e) {
        const { lineItem: t, storeItem: n } = e,
          [r, i] = a.useState(!1),
          s = (0, O.js)(t.gift_info.accountid_giftee);
        return s.data
          ? a.createElement(
              ge,
              null,
              a.createElement("div", { className: N().GiftFormDivider }),
              a.createElement(
                he,
                null,
                a.createElement(
                  Ce,
                  null,
                  (0, g.we)("#Cart_GiftRecipient_Label"),
                ),
                a.createElement(
                  "a",
                  { href: s.data.GetCommunityProfileURL(), target: "_blank" },
                  a.createElement(x.i8, {
                    className: N().FriendAvatar,
                    statusPosition: "right",
                    persona: s.data,
                  }),
                ),
                s.data.m_strPlayerName,
                a.createElement(
                  ye,
                  { onClick: () => i(!0) },
                  "(",
                  (0, g.we)("#Cart_Edit"),
                  ")",
                ),
              ),
              r &&
                a.createElement(ee, {
                  bShowGiftRecipientModal: r,
                  fnOnDismiss: () => i(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function ue(e) {
        const { lineItem: t } = e,
          [n, i] = a.useState(t.gift_info?.time_scheduled_send),
          s = a.useRef(n),
          [o, l] = a.useState(t.gift_info?.gift_message?.message || ""),
          c = a.useRef(o),
          [m, u] = a.useState(t.gift_info?.gift_message?.signature || ""),
          d = a.useRef(m),
          p = (0, h._g)(3e3),
          { mutate: _ } = (0, r.CM)(),
          f = a.useCallback(
            (e) => {
              p(() =>
                _({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: e,
                }),
              );
            },
            [_, t.line_item_id, t.flags, p],
          );
        return (
          (0, a.useEffect)(() => {
            (s.current == n && c.current == o && d.current == m) ||
              (f({
                accountid_giftee: t.gift_info?.accountid_giftee,
                gift_message: { message: o, signature: m },
                time_scheduled_send: n,
              }),
              (s.current = n),
              (c.current = o),
              (d.current = m));
          }, [o, m, n, f, t.gift_info?.accountid_giftee]),
          a.createElement(_e, {
            id: t.line_item_id,
            message: o,
            onMessageChange: l,
            signature: m,
            onSignatureChange: u,
            scheduledTime: n,
            onScheduledTimeChange: i,
          })
        );
      }
      function de(e) {
        const { giftInfo: t, onChange: n } = e;
        return a.createElement(_e, {
          id: "cart",
          message: t.gift_message?.message || "",
          onMessageChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, message: e } }),
          signature: t.gift_message?.signature || "",
          onSignatureChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, signature: e } }),
          scheduledTime: t.time_scheduled_send,
          onScheduledTimeChange: (e) => n({ ...t, time_scheduled_send: e }),
        });
      }
      const pe = 160;
      function _e(e) {
        const {
            id: t,
            message: n,
            onMessageChange: r,
            signature: s,
            onSignatureChange: o,
            scheduledTime: l,
            onScheduledTimeChange: c,
            onBlur: m,
          } = e,
          u = pe - n.length,
          [d, p] = a.useState(!1),
          { data: _ } = (0, O.js)(z.iA.accountid);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            ge,
            null,
            a.createElement(
              Ce,
              null,
              (0, g.PP)(
                "#Cart_GiftDelivery_Body",
                a.createElement(
                  "span",
                  { className: u <= 0 ? N().RedText : null },
                  u,
                ),
              ),
            ),
            a.createElement(i.Cl, {
              nMinHeight: 50,
              className: N().GiftNoteInput,
              value: n,
              onBlur: m,
              onChange: (e) => r(e.target.value),
            }),
          ),
          a.createElement(
            ge,
            null,
            a.createElement(
              "div",
              { className: N().GiftFormRecipient },
              a.createElement(Ce, null, (0, g.we)("#Cart_GiftDelivery_From")),
              a.createElement(x.i8, {
                className: N().FriendAvatar,
                statusPosition: "right",
                persona: _,
              }),
              " ",
              _?.m_strPlayerName || "",
              !d &&
                a.createElement(
                  ye,
                  { onClick: () => p(!0) },
                  "(",
                  (0, g.we)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          d &&
            a.createElement(
              ge,
              null,
              a.createElement(
                Ce,
                null,
                (0, g.we)("#Cart_GiftDelivery_Signature"),
              ),
              a.createElement(i.pd, {
                value: s,
                className: N().GiftSignatureInput,
                onChange: (e) => o(e.target.value),
                onBlur: m,
                maxChars: pe,
              }),
            ),
          a.createElement(L, { scheduledTime: l, onScheduledTimeChange: c }),
        );
      }
      function fe(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormCtn },
          e.children,
        );
      }
      function ge(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormSection },
          e.children,
        );
      }
      function he(e) {
        return a.createElement(
          "div",
          { className: N().GiftFormRecipient },
          e.children,
        );
      }
      function Ee(e) {
        return a.createElement(
          "div",
          { className: N().GiftRadioRow },
          e.children,
        );
      }
      function Ce(e) {
        return a.createElement(
          "div",
          { className: N().FormTextLabel },
          e.children,
        );
      }
      function ye(e) {
        return a.createElement(P.Z, {
          onActivate: e.onClick,
          children: e.children,
          className: N().LinkButton,
        });
      }
    },
    57503: (e, t, n) => {
      "use strict";
      n.d(t, { J: () => Ge, p: () => xe });
      var r = n(79443),
        a = n(24357),
        i = n(22837),
        s = n(81393),
        o = n(43527),
        l = n(41515),
        c = n(90626),
        m = n(61859),
        u = n(11543),
        d = n.n(u);
      const p = c.createContext(null);
      function _(e) {
        const { validateCart: t, children: n } = e,
          r = (function (e) {
            return c.useMemo(() => {
              let t = new Map(),
                n = new Map(),
                r = 1;
              const a = (e, t) => {
                n.has(e) || n.set(e, { index: r++, footnote_text: t });
              };
              return (
                e?.cart_items?.forEach((e) => {
                  let n = !!e.gift_info?.accountid_giftee;
                  e.errors?.duplicate_appids_in_cart?.length &&
                    a(1, (0, m.we)("#Cart_Error_DuplicateApps_FootNote")),
                    e.errors?.owned_appids?.length &&
                      (e.errors?.has_existing_billing_agreement
                        ? a(
                            15,
                            (0, m.we)(
                              "#Cart_Error_ExistingBillingAgreement_FootNote",
                            ),
                          )
                        : a(
                            2,
                            (0, m.we)(
                              n
                                ? "#Cart_Error_AlreadyOwned_GiftFootNote"
                                : "#Cart_Error_AlreadyOwned_FootNote",
                            ),
                          )),
                    e.errors?.unavailable_in_country &&
                      a(
                        8,
                        (0, m.we)("#Cart_Error_UnavailableCountry_FootNote"),
                      ),
                    e.errors?.missing_must_own_appids &&
                      a(
                        16,
                        n
                          ? (0, m.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNoteGift",
                            )
                          : (0, m.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNote",
                            ),
                      ),
                    e.warnings?.appids_in_mastersub?.length &&
                      a(
                        4,
                        (0, m.we)("#Cart_Error_MasterSubscription_FootNote"),
                      ),
                    e.warnings?.price_has_changed &&
                      t.set(
                        10,
                        (0, m.we)("#Cart_Warning_PriceChange_FootNote"),
                      );
                }),
                {
                  rgCartLevelNotices: Array.from(t.values()),
                  mapValidateNoticesToFootnote: n,
                }
              );
            }, [e]);
          })(t);
        return c.createElement(p.Provider, { value: r }, n);
      }
      function f() {
        const { rgCartLevelNotices: e } = c.useContext(p);
        return e && e.length
          ? c.createElement(
              "div",
              { className: d().HeaderNotices },
              e.map((e, t) => c.createElement(g, { key: t }, e)),
            )
          : null;
      }
      function g(e) {
        const { children: t } = e;
        return c.createElement("div", { className: d().HeaderNotice }, t);
      }
      function h() {
        const { mapValidateNoticesToFootnote: e } = c.useContext(p);
        return e && e.size
          ? c.createElement(
              "div",
              { className: d().FooterNoticesCtn },
              Array.from(e).map(([e, t]) =>
                c.createElement(E, { key: t.index, notice: t }),
              ),
            )
          : null;
      }
      function E(e) {
        const { notice: t } = e;
        return c.createElement(
          "div",
          { className: d().FooterNotice },
          c.createElement(
            "div",
            { className: d().NoticeIndex },
            c.createElement("sup", null, t.index),
          ),
          c.createElement(
            "div",
            { className: d().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function C(e) {
        return c.useMemo(
          () =>
            e
              ? (function (e) {
                  let t = [],
                    n = !!e.gift_info?.accountid_giftee;
                  e.errors?.duplicate_appids_in_cart?.length &&
                    t.push({
                      purchase_state: 1,
                      notice_text: (0, m.we)(
                        "#Cart_Error_DuplicateApps_LineItem",
                      ),
                      appids: e.errors.duplicate_appids_in_cart,
                    });
                  if (e.errors?.owned_appids?.length)
                    if (e.errors?.has_existing_billing_agreement)
                      t.push({
                        purchase_state: 15,
                        notice_text: (0, m.we)(
                          "#Cart_Error_ExistingBillingAgreement",
                        ),
                      });
                    else {
                      const r = (e.store_item?.included_appids.length ?? 0) > 1;
                      let a = (0, m.we)(
                        n
                          ? "#Cart_Error_AlreadyOwned_GiftLineItem_Game"
                          : "#Cart_Error_AlreadyOwned_LineItem_Game",
                      );
                      r &&
                        (a = (0, m.we)(
                          n
                            ? "#Cart_Error_AlreadyOwned_GiftLineItem"
                            : "#Cart_Error_AlreadyOwned_LineItem",
                        )),
                        t.push({
                          purchase_state: 2,
                          notice_text: a,
                          appids: r ? e.errors.owned_appids : null,
                        });
                    }
                  e.errors?.unavailable_in_country &&
                    t.push({
                      purchase_state: 8,
                      notice_text: (0, m.we)(
                        "#Cart_Error_UnavailableCountry_LineItem",
                      ),
                    });
                  e.errors?.coupon_exclusive_promo &&
                    t.push({
                      purchase_state: 13,
                      notice_text: (0, m.we)(
                        "#Cart_Error_CouponIsExclusivePromo",
                      ),
                    });
                  e.errors?.invalid_coupon &&
                    t.push({
                      purchase_state: 11,
                      notice_text: (0, m.we)("#Cart_Error_CouponIsInvalid"),
                    });
                  e.errors?.invalid_coupon_for_item &&
                    t.push({
                      purchase_state: 12,
                      notice_text: (0, m.we)(
                        "#Cart_Error_CouponIsInvalidForItem",
                      ),
                    });
                  e.errors?.too_many_in_cart &&
                    t.push({
                      purchase_state: 14,
                      notice_text: (0, m.we)("#Cart_Error_TooManyInCart"),
                    });
                  e.errors?.missing_must_own_appids?.length &&
                    t.push({
                      purchase_state: 16,
                      notice_text: n
                        ? (0, m.we)(
                            "#Cart_Error_MissingMustOwnApps_GiftLineItem",
                          )
                        : (0, m.we)("#Cart_Error_MissingMustOwnApps_LineItem"),
                      appids: Array.from(
                        new Set(e.errors.missing_must_own_appids).values(),
                      ),
                    });
                  e.warnings?.appids_in_mastersub?.length &&
                    t.push({
                      purchase_state: 4,
                      notice_text: (0, m.we)(
                        "#Cart_Error_MasterSubscription_LineItem",
                      ),
                      appids: e.warnings.appids_in_mastersub.map(
                        (e) => e.cart_appid,
                      ),
                    });
                  e.warnings?.owned_appids?.length &&
                    t.push({
                      purchase_state: 3,
                      notice_text: (0, m.we)(
                        "#Cart_Warning_AlreadyOwned_LineItem",
                      ),
                      appids: e.warnings.owned_appids,
                    });
                  e.warnings?.owned_appids_extra_copy?.length &&
                    t.push({
                      purchase_state: 9,
                      notice_text: (0, m.we)(
                        "#Cart_Warning_ExtraCopies_LineItem",
                      ),
                      appids: e.warnings.owned_appids_extra_copy,
                    });
                  e.warnings?.price_has_changed &&
                    t.push({
                      purchase_state: 10,
                      notice_text: (0, m.we)(
                        "#Cart_Warning_PriceChange_LineItem",
                      ),
                    });
                  e.warnings?.non_refundable &&
                    t.push({
                      purchase_state: 5,
                      notice_text: (0, m.we)("#Cart_Warning_NoRefund_LineItem"),
                    });
                  return t;
                })(e)
              : [],
          [e],
        );
      }
      var y = n(7068),
        w = n(30470),
        I = n(71460),
        v = n.n(I),
        S = n(52038);
      function b() {
        const [e, t] = c.useState(null);
        return (
          c.useEffect(() => {
            t((0, l.Vh)()?.rgUserCountryOptions);
          }, []),
          e
            ? c.createElement(
                "div",
                {
                  className: (0, S.A)(
                    d().EstimatedTotalFlex,
                    v().UserCountrySelector,
                  ),
                },
                c.createElement(
                  "div",
                  { className: d().CartLabelText },
                  (0, m.we)("#Cart_UserCountrySelector"),
                ),
                c.createElement(
                  "div",
                  { className: d().CartValueText },
                  c.createElement(T, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function T(e) {
        const { rgCountryOptions: t } = e,
          [n, r] = c.useState(w.TS.COUNTRY),
          a = c.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          i = c.useCallback((e) => {
            e.data != w.TS.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              r(e.data);
          }, []);
        return c.createElement(y.m, {
          selectedOption: n,
          onChange: i,
          rgOptions: a,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var N = n(92757),
        L = n(14860),
        A = n(32381),
        D = n(84811),
        B = n(82477),
        M = n(78327),
        G = n(89070),
        F = n(71879),
        R = n(55263),
        k = n(72237),
        P = n(62792),
        x = n(22797),
        O = n(29482),
        z = n(37076),
        j = n(10247),
        U = n(10962),
        W = n(50829),
        V = n(44325),
        q = n(97232);
      function Z(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: r,
            availableCoupons: a,
          } = e,
          [{ bDialogActive: i, strDialogTitle: s }, o] = c.useState({
            bDialogActive: !1,
          }),
          u = (0, l.CM)();
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(H, {
            couponApplied: r,
            numAvailable: a.length,
            onModifyClick: () =>
              o({
                bDialogActive: !0,
                strDialogTitle: (0, m.we)(
                  r ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          c.createElement(Y, {
            active: i,
            title: s || (0, m.we)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => o({ bDialogActive: !1 }),
            couponApplied: r,
            availableCoupons: a,
            onCouponChange: (e) => {
              u.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: { ...t.flags },
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function H(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: r } = e,
          a = (0, m.we)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return c.createElement(
          "div",
          { className: W.CouponPickerRowGlow },
          c.createElement(
            "div",
            { className: W.CouponPickerRow },
            t ? c.createElement(Q, { ...t }) : null,
            c.createElement(X, null, (0, m.Yp)("#Cart_CouponAvailability", n)),
            c.createElement(
              "div",
              { className: W.ModifyLink },
              c.createElement(F.z9, { onClick: r }, a),
            ),
          ),
        );
      }
      function Q(e) {
        const { large_icon_url: t, title: n } = e;
        return c.createElement("img", {
          className: W.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function Y(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: r,
            title: a,
            couponApplied: s,
            availableCoupons: o,
            onCouponChange: l,
          } = e,
          [u, d] = c.useState(s?.gidcoupon || "");
        return c.createElement(
          V.mt,
          { active: t, onDismiss: n },
          c.createElement(y.Y9, null, a),
          c.createElement(
            y.a3,
            null,
            (0, m.PP)(
              "#Cart_SelectCouponToApply",
              c.createElement("span", { className: W.PackageName }, r),
            ),
          ),
          c.createElement(K, {
            availableCoupons: o,
            couponApplied: s?.gidcoupon,
            couponSelected: u,
            onSelectedChange: d,
          }),
          c.createElement(y.CB, {
            onCancel: n,
            onOK: () => {
              n(), l(u || i.kF);
            },
            strOKText: (0, m.we)("#Button_Done"),
          }),
        );
      }
      function K(e) {
        const {
            availableCoupons: t,
            couponApplied: n,
            couponSelected: r,
            onSelectedChange: a,
          } = e,
          { data: i } = (0, l.g7)(),
          s = (i?.cart_items || []).map((e) => e.coupon_applied?.gidcoupon);
        return c.createElement(
          "div",
          { className: W.CouponListContainer },
          t.map((e) =>
            c.createElement(J, {
              key: e.gidcoupon,
              ...e,
              applied: n === e.gidcoupon,
              selected: r === e.gidcoupon,
              inUse: s.includes(e.gidcoupon),
              onSelected: (t) => a(t ? e.gidcoupon : ""),
            }),
          ),
        );
      }
      function J(e) {
        const {
            applied: t,
            inUse: n,
            selected: r,
            large_icon_url: a,
            title: i,
            discount_pct: s,
            onSelected: o,
          } = e,
          l = !t && n,
          u = l ? void 0 : () => o(!r);
        return c.createElement(
          "div",
          {
            className: (0, S.A)(W.CouponListItem, l && W.Disabled),
            onClick: u,
          },
          c.createElement($, { checked: r, hidden: l }),
          c.createElement("img", { src: a, title: i, className: W.Image }),
          c.createElement(
            "div",
            { className: W.Info },
            t && c.createElement(X, null, (0, m.we)("#Cart_Coupons_Applied")),
            l && c.createElement(X, null, (0, m.we)("#Cart_Coupons_InUse")),
          ),
          c.createElement("div", { className: W.Discount }, "-", s, "%"),
        );
      }
      function X(e) {
        return c.createElement(
          "div",
          { className: W.CouponInfoText },
          e.children,
        );
      }
      function $(e) {
        const { checked: t, hidden: n } = e;
        return c.createElement(
          "div",
          { className: (0, S.A)(W.Checkbox, n && W.Hidden) },
          t && c.createElement(q.Jl, null),
        );
      }
      var ee = n(28567),
        te = n(41471),
        ne = n(58671),
        re = n.n(ne),
        ae = n(43595),
        ie = n(70809);
      const se = {
        1: function (e) {
          const { item: t, validatedItem: n } = e,
            [r, a] = (0, R.Gg)(t.packageid, {}),
            [i, s] = (0, R.mZ)(t.packageid, 1, l.lP),
            o = (i && !i.BIsVisible()) || 2 === s || 2 === a,
            m = r?.GetSelfPurchaseOption();
          return o || (r && !m)
            ? c.createElement(ue, {
                lineItemID: t.line_item_id,
                validatedItem: n,
                storeItem: i,
              })
            : i && r
              ? c.createElement(de, {
                  ...e,
                  storeItem: r,
                  displayItem: i,
                  lineItem: t,
                  purchaseOption: m,
                })
              : c.createElement(ce, null);
        },
        2: function (e) {
          const { item: t, validatedItem: n } = e,
            [r, a] = (0, R.G6)(t.bundleid, 2, l.xz);
          if ((r && !r.BIsVisible()) || 2 === a)
            return c.createElement(ue, {
              lineItemID: t.line_item_id,
              validatedItem: n,
              storeItem: r,
            });
          if (!r) return c.createElement(ce, null);
          const i = r.GetSelfPurchaseOption();
          return c.createElement(de, {
            ...e,
            storeItem: r,
            displayItem: r,
            lineItem: t,
            validatedItem: n,
            purchaseOption: i,
          });
        },
      };
      function oe(e) {
        const { item: t, loading: n, ...r } = e,
          a = n ? ce : se[t.type];
        return a
          ? c.createElement(
              D.tH,
              { fallback: (t) => c.createElement(le, { ...e, error: t }) },
              c.createElement(a, { item: t, ...r }),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function le(e) {
        const { item: t, error: n } = e,
          r = (0, l.tY)(t.line_item_id);
        return c.createElement(
          Ae,
          { className: re().ErrorLineItem },
          c.createElement(
            "div",
            { className: re().Left },
            c.createElement(
              "div",
              { className: re().Error },
              (0, m.we)("#Cart_LineItem_ErrorBoundary"),
            ),
            c.createElement("div", { className: re().Muted }, n.message),
          ),
          c.createElement(
            F.z9,
            { onClick: () => r.mutate() },
            (0, m.we)("#Cart_Remove"),
          ),
        );
      }
      function ce() {
        return c.createElement(
          Ae,
          { placeholder: !0 },
          c.createElement(me, null),
        );
      }
      function me() {
        return c.createElement(
          "div",
          { className: re().LoadingThrobber },
          c.createElement(x.t, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function ue(e) {
        const { lineItemID: t, validatedItem: n, storeItem: r } = e,
          a = ge(r),
          i = (0, l.tY)(t),
          s = i.isLoading;
        return c.createElement(
          Ae,
          { placeholder: !0 },
          s && c.createElement(me, null),
          c.createElement(
            "div",
            {
              className: (0, S.A)(
                re().InnerLineItemCtn,
                s && re().PendingLineItem,
              ),
            },
            c.createElement(
              "div",
              {
                className: (0, S.A)(re().LineItemColumn, re().LineItemCapsule),
              },
              c.createElement(
                ae.p,
                { item: r, noImpressionTracking: !0 },
                c.createElement("img", { className: re().HeaderImg, src: a }),
              ),
            ),
            c.createElement(
              "div",
              { className: re().LineItemDetailsCtn },
              c.createElement(
                Le,
                { flex: !0, className: re().LineItemDetailsRowTop },
                c.createElement(
                  "div",
                  { className: re().LineItemTitle },
                  r?.GetName() || (0, m.we)("#SteamCharts_UnknownGameTitle"),
                ),
              ),
              c.createElement(Ee, { validatedItem: n }),
              c.createElement(
                Le,
                { className: re().LineItemSpaceBetween },
                c.createElement(
                  A.Z,
                  {
                    onActivate: () => i.mutate(),
                    className: re().RemoveLineItem,
                  },
                  (0, m.we)("#Cart_Remove"),
                ),
              ),
            ),
          ),
        );
      }
      function de(e) {
        const {
            storeItem: t,
            displayItem: n,
            lineItem: r,
            purchaseOption: a,
            validatedItem: i,
            availableCoupons: s,
          } = e,
          o = r.line_item_id,
          m = {
            id: t?.GetID(),
            type: (0, P._4)(t?.GetStoreItemType(), t?.GetAppType()),
          },
          u = (0, l.tY)(o),
          [d] = (0, j.Ez)(),
          p = u.isLoading || u.isSuccess,
          _ = "gifts" === d && !!r.flags.is_gift,
          f = !!s.length,
          g = ge(n),
          h = t.GetIncludedAppIDsOrSelf(),
          { data: E, isLoading: C } = (0, ee.Pt)(),
          y = h.filter((e) => E?.has(e));
        if (C) return c.createElement(ce, null);
        const w = r.flags?.is_gift,
          I = y.length === h.length,
          v = !w && y.length > 0 && !I;
        let b = w ? "gift" : "myself";
        return (
          "myself" === b && I && (b = "private"),
          c.createElement(
            A.Z,
            null,
            c.createElement(
              Ae,
              null,
              p && c.createElement(me, null),
              c.createElement(
                "div",
                {
                  className: (0, S.A)(
                    re().InnerLineItemCtn,
                    p && re().PendingLineItem,
                  ),
                },
                c.createElement(
                  "div",
                  {
                    className: (0, S.A)(
                      re().LineItemColumn,
                      re().LineItemCapsule,
                    ),
                  },
                  c.createElement(
                    ae.p,
                    {
                      item: n,
                      feature: "cart-items",
                      noImpressionTracking: !0,
                    },
                    c.createElement("img", {
                      className: re().HeaderImg,
                      src: g,
                    }),
                  ),
                ),
                c.createElement(
                  "div",
                  { className: re().LineItemDetailsCtn },
                  c.createElement(
                    Le,
                    { flex: !0, className: re().LineItemDetailsRowTop },
                    c.createElement(
                      "div",
                      { className: re().LineItemTitle },
                      t.GetName(),
                    ),
                  ),
                  t.BIsComingSoon() && c.createElement(he, { storeItem: t }),
                  c.createElement(
                    Ee,
                    { validatedItem: i },
                    c.createElement(we, { item: t }),
                    c.createElement(Ie, { item: t }),
                  ),
                  c.createElement(Ne, { storeItem: t }),
                  v && c.createElement(De, { appids: y }),
                  c.createElement(
                    Le,
                    { className: re().LineItemSpaceBetween },
                    c.createElement(
                      "div",
                      {
                        className: (0, S.A)(
                          re().LineItemCol,
                          re().PlatformIcons,
                        ),
                      },
                      c.createElement(k.Q, {
                        item: m,
                        strClassName: re().LineItemPlatforms,
                      }),
                    ),
                  ),
                  c.createElement(pe, { purchaseOption: a, validatedItem: i }),
                  c.createElement(_e, {
                    lineItem: r,
                    storeItem: t,
                    purchaseOption: a,
                    validatedItem: i,
                    initialPurchaseOption: b,
                    fnRemoveLineItem: u.mutate,
                  }),
                ),
              ),
              _ && c.createElement(F.kP, { storeItem: t, lineItem: r }),
            ),
            f &&
              c.createElement(Z, {
                storeItem: t,
                lineItem: r,
                couponApplied: i?.coupon_applied,
                availableCoupons: s,
              }),
          )
        );
      }
      function pe(e) {
        const { purchaseOption: t, validatedItem: n } = e;
        let r = t?.formatted_original_price,
          a = t?.formatted_final_price,
          i = t?.discount_pct;
        return (
          n &&
            n.original_price &&
            ((r = n.original_price.formatted_amount),
            (a = n.subtotal.formatted_amount),
            (i = (function (e) {
              if (e.coupon_applied) return e.coupon_applied.discount_pct;
              const t = parseInt(e.original_price.amount_in_cents),
                n = parseInt(e.subtotal.amount_in_cents);
              return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
            })(n))),
          c.createElement(
            "div",
            { className: re().LineItemRightCol },
            c.createElement(U.kb, {
              className: re().PriceWidget,
              formatted_orig_price: r,
              formatted_final_price: a,
              discount_percent: i,
              bHideDiscountPercentForCompliance:
                t.hide_discount_pct_for_compliance,
              bDiscountFromCoupon: !!n?.coupon_discount?.amount_in_cents,
            }),
          )
        );
      }
      function _e(e) {
        const {
            lineItem: t,
            storeItem: n,
            purchaseOption: r,
            validatedItem: a,
            initialPurchaseOption: i,
            fnRemoveLineItem: s,
          } = e,
          o = (0, l.EJ)(),
          [u] = (0, j.fg)(),
          d =
            u?.accountid_giftee || (o ? t.gift_info?.accountid_giftee : void 0),
          p = (0, l.ZB)() && !a?.restrict_add_additional_to_cart,
          _ = (0, l.AP)(t.packageid, t.bundleid, Me(r));
        return c.createElement(
          Le,
          { className: re().LineItemSpaceBetween },
          c.createElement(
            "div",
            { className: re().LineItemCol },
            d
              ? c.createElement(fe, { recipient: d })
              : c.createElement(be, {
                  lineItem: t,
                  storeItem: n,
                  initialValue: i,
                  purchaseOption: r,
                }),
          ),
          c.createElement(
            "div",
            { className: (0, S.A)(re().LineItemRightCol, re().AddRemoveLinks) },
            p &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  A.Z,
                  {
                    onActivate: () => !_.isLoading && _.mutate(),
                    className: re().AddLineItem,
                    title: (0, m.we)("#Cart_LineItem_Add_Tooltip"),
                  },
                  (0, m.we)("#Cart_Add"),
                ),
                "|",
              ),
            !o &&
              c.createElement(
                A.Z,
                { onActivate: () => s(), className: re().RemoveLineItem },
                (0, m.we)("#Cart_Remove"),
              ),
          ),
        );
      }
      function fe(e) {
        const t = (0, te.js)(e.recipient);
        return c.createElement(
          "div",
          { className: re().GiftForNotice },
          (0, m.PP)(
            "#Cart_GiftForNotice",
            t.data
              ? c.createElement(
                  "span",
                  { className: re().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function ge(e) {
        const t = `${w.TS.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
        if (!e) return t;
        const n = e.GetAssets();
        if (!n) return t;
        const r = n.GetHeaderURL(),
          a = n.GetSmallCapsuleURL();
        return r || a || t;
      }
      function he(e) {
        const { storeItem: t } = e;
        let n = (0, m.we)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          c.createElement(Ce, null, n)
        );
      }
      function Ee(e) {
        const { validatedItem: t, children: n } = e,
          r = C(t);
        return c.createElement(
          "div",
          { className: (0, S.A)(re().LineItemSpaceBetween) },
          r.map((e) =>
            c.createElement(ye, { key: e.purchase_state, notice: e }),
          ),
          n,
        );
      }
      function Ce(e) {
        const { children: t } = e;
        return c.createElement(
          Le,
          { flex: !0 },
          c.createElement("div", { className: re().Warning }, t),
        );
      }
      function ye(e) {
        const { notice: t } = e,
          n = (function (e) {
            const t = c.useContext(p);
            return t?.mapValidateNoticesToFootnote.get(e)?.index;
          })(t.purchase_state);
        return c.createElement(
          Ce,
          null,
          t.notice_text,
          n && c.createElement("sup", null, n),
          c.createElement(ve, { rgAppIDs: t.appids }),
        );
      }
      function we(e) {
        const { item: t } = e;
        return t.GetSelfPurchaseOption()?.requires_shipping
          ? c.createElement(Ce, null, c.createElement(ie.r, { item: t }))
          : null;
      }
      function Ie(e) {
        const { item: t } = e;
        if (!t || 1 != t.GetStoreItemType()) return null;
        const n = t.GetSelfPurchaseOption(),
          r = n?.recurrence_info;
        if (!r) return null;
        let a = "#Package";
        2 === r.billing_agreement_type && (a = "#GameBillingPackage");
        const i = t.GetSelfPurchaseOption();
        i.formatted_final_price && i.discount_pct && (a += "WithDiscount");
        const s =
          a +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[r.renewal_time_unit];
        return c.createElement(
          Ce,
          null,
          (0, m.we)(
            s,
            i.formatted_final_price,
            n.formatted_final_price,
            r.renewal_time_period,
            i.discount_pct,
          ),
        );
      }
      function ve(e) {
        const { rgAppIDs: t } = e;
        return t && 0 != t.length
          ? t.map((e, n) =>
              c.createElement(Se, {
                key: `${e}_${n}`,
                appid: e,
                last: n >= t.length - 1,
              }),
            )
          : null;
      }
      function Se(e) {
        const { appid: t, last: n } = e,
          [r] = (0, R.t7)(t, { include_basic_info: !0 });
        return r
          ? c.createElement(
              z.j,
              { type: "app", id: t },
              c.createElement(
                ae.p,
                { item: r, noImpressionTracking: !0 },
                r.GetName(),
              ),
              !n && c.createElement(c.Fragment, null, ",Â "),
            )
          : null;
      }
      function be(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: r,
            purchaseOption: a,
          } = e,
          [i, s] = c.useState(r),
          o = (0, l.CM)(),
          u = (0, ee.DT)(),
          d = (0, l.EJ)(),
          p = !Me(a) || d,
          _ = !(!(f = a).is_commercial_license && !f.requires_shipping);
        var f;
        const g = [
          { data: "myself", label: (0, m.we)("#Cart_LineItemOptions_Myself") },
          !_ && {
            data: "private",
            label: (0, m.we)("#Cart_LineItemOptions_Privately"),
            tooltip: (0, m.we)("#Cart_LineItemOptions_PrivateTooltip"),
          },
          !p && {
            data: "gift",
            label: (0, m.we)("#Cart_LineItemOptions_Gift"),
          },
        ].filter(Boolean);
        if (1 === g.length) return null;
        return c.createElement(Te, {
          onChange: (e) => {
            if (i === e.data) return;
            const r = (e) =>
                u.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              a = (e) =>
                o.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: { ...t.flags, is_gift: e },
                });
            "private" === i ? r(!1) : "gift" === i && a(!1),
              "private" === e.data ? r(!0) : "gift" === e.data && a(!0),
              s(e.data);
          },
          selectedOption: i,
          rgOptions: g,
        });
      }
      function Te(e) {
        return c.createElement(y.m, {
          strClassName: re().LineItemDropDown,
          strDropDownItemClassName: re().DropDownOptionItem,
          strDropDownClassName: re().DropDownOptionsCtnThin,
          strDropDownButtonClassName: re().DropDownThin,
          ...e,
        });
      }
      function Ne(e) {
        const { storeItem: t } = e,
          [n, r] = c.useState([]);
        return (
          c.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, r) => {
                const a = O.A.Get().GetApp(n);
                a &&
                  e.push(
                    c.createElement(
                      z.j,
                      { key: n, type: "app", id: n },
                      c.createElement(
                        ae.p,
                        {
                          item: a,
                          feature: "bundle-contents",
                          noImpressionTracking: !0,
                        },
                        a.GetName(),
                      ),
                      r < t.GetIncludedAppIDs().length - 1 ? ",Â " : "",
                    ),
                  );
              }),
                r(e);
            }
          }, [t]),
          n.length
            ? c.createElement(
                Le,
                { flex: !0 },
                c.createElement(
                  "span",
                  null,
                  (0, m.Yp)("#Cart_IncludesItems", n.length),
                  ":Â ",
                ),
                n,
              )
            : null
        );
      }
      function Le(e) {
        const { flex: t, children: n, className: r } = e;
        return c.createElement(
          A.Z,
          {
            "flow-children": "row",
            className: (0, S.A)(re().LineItemDetailsRow, t && re().FlexRow, r),
          },
          n,
        );
      }
      function Ae(e) {
        const { placeholder: t, className: n, children: r } = e;
        return c.createElement(
          A.Z,
          {
            className: (0, S.A)(
              re().LineItemWrapper,
              t && re().LineItemPlaceholder,
              n,
            ),
          },
          r,
        );
      }
      function De(e) {
        const { appids: t } = e,
          n = t.map((e, t) =>
            c.createElement(
              c.Fragment,
              { key: e },
              t > 0 && ", ",
              c.createElement(Be, { key: e, appid: e }),
            ),
          );
        return c.createElement(
          Le,
          { flex: !0 },
          c.createElement(
            "span",
            null,
            (0, m.we)("#Cart_Notice_SomeAppsPrivate"),
            "Â ",
          ),
          n,
        );
      }
      function Be(e) {
        const { appid: t } = e,
          [n] = (0, R.t7)(t, {});
        return c.createElement(
          z.j,
          { type: "app", id: t },
          c.createElement(
            ae.p,
            { item: n, noImpressionTracking: !0 },
            n.GetName(),
          ),
        );
      }
      function Me(e) {
        return e.user_can_purchase_as_gift;
      }
      function Ge(e) {
        const { children: t } = e;
        return c.createElement(Fe, null, t);
      }
      function Fe(e) {
        const { children: t } = e,
          n = (0, l.UI)(),
          r = (0, l.Ck)(),
          a = n.isLoading || !n.data,
          i = (0, M.Qn)(),
          [s, o] = (0, j.fg)(),
          { sortedLineItems: m, bCartIncludesGifts: u } = c.useMemo(() => {
            const e = n?.data?.line_items || [],
              t = e.some((e) => e.flags?.is_gift);
            return {
              sortedLineItems: e.sort((e, t) => {
                const n = e.bundleid ?? e.packageid,
                  r = t.bundleid ?? t.packageid;
                return e.time_added == t.time_added
                  ? n < r
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              }),
              bCartIncludesGifts: t,
            };
          }, [n?.data?.line_items]),
          { data: p } = (0, l.g7)();
        return c.createElement(
          _,
          { validateCart: p },
          c.createElement(f, null),
          c.createElement(
            A.Z,
            { className: d().ShoppingCartCtn },
            c.createElement(
              A.Z,
              { className: d().ShoppingCartLeftCol },
              a && c.createElement(me, null),
              !!s &&
                c.createElement(
                  D.tH,
                  null,
                  c.createElement(
                    G.x,
                    null,
                    c.createElement(F.RP, { giftInfo: s, onChange: o }),
                  ),
                ),
              c.createElement(
                D.tH,
                null,
                c.createElement(xe, {
                  lineItems: m,
                  cartValidation: p,
                  coupons: r?.data,
                }),
              ),
              c.createElement(h, null),
              !i &&
                c.createElement(
                  "div",
                  { className: d().ResponsiveShoppingCartSummary },
                  c.createElement(Re, {
                    bCartIncludesGifts: u,
                    strEstimatedTotal:
                      p?.estimated_totals?.subtotal.formatted_amount,
                  }),
                ),
              t && t({ cart: n.data, validatedCart: p }),
            ),
            c.createElement(
              A.Z,
              {
                className: (0, S.A)(
                  d().ShoppingCartRightCol,
                  m?.length <= 2 && d().SmallCart,
                ),
              },
              c.createElement(Re, {
                bCartIncludesGifts: u,
                strEstimatedTotal:
                  p?.estimated_totals?.subtotal.formatted_amount,
              }),
            ),
          ),
        );
      }
      const Re = (0, D.Nr)(function (e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          r = (0, l.UI)(),
          a = (0, l.g7)(),
          i = a.isSuccess && a.data.cart_items.every((e) => !e.errors),
          [s, o] = (0, j.Ez)(),
          u = (0, l.EJ)(),
          p = (0, l.uQ)(a.data),
          _ =
            r.isSuccess &&
            r.data.line_items.some(
              (e) => e.flags?.is_gift && !e.gift_info?.accountid_giftee,
            ),
          f =
            w.iA.logged_in &&
            (("initial" === s && !n && !i) ||
              ("gifts" === s && (!i || _)) ||
              (r.isSuccess && 0 == r.data.line_items.length));
        let g;
        return (
          (g = w.iA.logged_in
            ? n && "initial" == s && !u
              ? "gifts"
              : "checkout"
            : "login"),
          c.createElement(
            "div",
            { className: d().CartSummaryCtn },
            c.createElement(D.tH, null, c.createElement(b, null)),
            c.createElement(
              "div",
              {
                className: (0, S.A)(
                  d().EstimatedTotalFlex,
                  d().SummaryMarginBottom,
                ),
              },
              c.createElement(
                "div",
                { className: d().CartLabelText },
                (0, m.we)("#Cart_EstimatedTotal"),
              ),
              c.createElement("div", { className: d().CartValueText }, t),
            ),
            c.createElement(
              "div",
              {
                className: (0, S.A)(d().CartNoteText, d().SummaryMarginBottom),
              },
              (0, m.we)("#Cart_Note_SalesTax"),
            ),
            c.createElement(
              D.wC,
              null,
              c.createElement(ke, {
                bDisabled: f,
                nextStep: g,
                bGuestOption: p,
              }),
              c.createElement(Oe, { disabled: f || n }),
              c.createElement(Pe, { bDisabled: f }),
            ),
          )
        );
      });
      function ke(e) {
        const { bDisabled: t, nextStep: n, bGuestOption: u } = e,
          p = (0, l.jY)(),
          _ = (0, N.W6)(),
          [f, g] = (0, j.Ez)(),
          h = (0, a.j4)();
        let E = i.kF;
        (0, r.kx)(h) && (E = h.gid);
        const C = (function (e) {
            return "login" == e
              ? (0, m.we)("#Cart_ContinueButton_Payment")
              : "gifts" == e
                ? (0, m.we)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, m.we)("#Cart_ContinueButton_Payment")
                  : ((0, s.z)(e, "unhandled step"), "");
          })(n),
          I = (0, S.A)(d().CartSummaryBtn, d().SummaryMarginBottom);
        return c.createElement(
          y.jn,
          {
            disabled: t,
            className: I,
            onClick: () => {
              switch (n) {
                case "login":
                  if (E != i.kF && u) {
                    const e =
                      w.TS.STORE_CHECKOUT_BASE_URL +
                      "checkout?purchasetype=self&cart=" +
                      E;
                    (0, B.pZ)(e, u);
                  } else (0, B.vg)();
                  break;
                case "gifts":
                  g("gifts"), _.push(o.B.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = p;
                  break;
                default:
                  (0, s.z)(n, "unhandled step");
              }
            },
          },
          C,
        );
      }
      function Pe(e) {
        const { bDisabled: t } = e,
          n = (0, L.vo)(),
          r = (0, l.sI)(),
          a = (0, l.F$)(),
          i = (0, L.Ke)(n.data?.family_groupid(), r, 1);
        return a
          ? c.createElement(
              y.$n,
              {
                disabled: t,
                className: (0, S.A)(
                  d().CartSummaryBtn,
                  d().SummaryMarginBottom,
                ),
                onClick: () => {
                  i.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${w.TS.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, m.we)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function xe(e) {
        const { lineItems: t = [], cartValidation: n, coupons: r = {} } = e;
        if (!t.length)
          return c.createElement("div", null, (0, m.we)("#Cart_Empty"));
        const a = n?.cart_items
          ? n.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return c.createElement(
          "div",
          { className: d().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? c.createElement(oe, {
                    key: e.line_item_id,
                    item: e,
                    loading: void 0 === n,
                    validatedItem: a[e.line_item_id],
                    availableCoupons: r[e.line_item_id] || [],
                  })
                : c.createElement(ce, { key: t }),
            ),
        );
      }
      function Oe(e) {
        const { disabled: t } = e,
          n = (0, L.vo)(),
          r = n.data?.family_groupid(),
          a = (0, L.Yc)(r, w.iA.country_code),
          i = (0, l.S0)(),
          [s, o] = c.useState(!1);
        return i
          ? c.createElement(
              "div",
              {
                className: (0, S.A)(
                  d().RequestPurchaseCtn,
                  d().SummaryMarginBottom,
                ),
              },
              c.createElement(
                y.jn,
                {
                  disabled: t || s,
                  className: (0, S.A)(d().CartSummaryBtn),
                  onClick: () => {
                    t ||
                      s ||
                      (o(!0),
                      a.mutate(void 0, {
                        onSuccess: () => {
                          window.location.assign((0, L.Vo)(r));
                        },
                      }));
                  },
                },
                (0, m.we)("#Cart_RequestPurchase"),
              ),
              c.createElement(
                "div",
                null,
                (0, m.we)("#Cart_RequestPurchaseExplanation"),
              ),
            )
          : null;
      }
    },
    28386: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => _e,
          default: () => me,
          useInitCartLocalization: () => fe,
        });
      var r = n(41515),
        a = n(90626),
        i = n(92757),
        s = n(14860),
        o = n(28567),
        l = n(71513),
        c = n(55909),
        m = n(84746),
        u = n(25855);
      function d(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e,
          r = (0, u.A)();
        return a.createElement(
          c.u,
          { NavigationManager: r, navID: n },
          a.createElement(m.N, null, t),
        );
      }
      var p = n(32381),
        _ = n(17690),
        f = n(29482),
        g = n(55263),
        h = n(7068),
        E = n(84811),
        C = n(82477),
        y = n(32630),
        w = n(22797),
        I = n(2627),
        v = n(61859),
        S = n(30470),
        b = n(89070),
        T = n(2160),
        N = n(98972);
      function L(e) {
        const { cart: t } = e,
          n = (function (e) {
            const t = (0, r.zJ)();
            if (!e || !t.isSuccess || !t.data?.sale_name) return null;
            const n = new Set();
            let a = 0;
            for (const t of e.cart_items) {
              t.store_item.release?.is_coming_soon &&
              t.store_item.best_purchase_option?.packageid
                ? n.add(t.store_item.name)
                : (a += parseInt(t.subtotal.amount_in_cents));
            }
            const {
                sale_name: i,
                spend_earned_for_next_drop: s,
                spend_needed_for_next_drop: o,
                formatted_spend_per_drop: l,
              } = t.data,
              c = a + s,
              m = Math.floor(c / o),
              u = Math.floor(((c % o) * 100) / o);
            return {
              cEarned: m,
              pctProgress: u,
              strFormattedSpendPerDrop: l,
              rgPrepurchaseApps: Array.from(n),
              strSaleName: i,
            };
          })(t);
        if (
          !t ||
          !S.iA.logged_in ||
          !n ||
          (0, T.nA)(S.TS.EREALM) ||
          !n.strSaleName
        )
          return null;
        const {
            cEarned: i,
            pctProgress: s,
            rgPrepurchaseApps: o,
            strFormattedSpendPerDrop: l,
            strSaleName: c,
          } = n,
          m = i > 0,
          u = a.createElement(
            "div",
            { className: N.Explanation },
            (0, v.we)("#Cart_SaleCardDrops_Explanation", c),
          );
        return a.createElement(
          b.x,
          { className: N.TradingCardContainer },
          m &&
            a.createElement(
              "div",
              { className: N.EarnedMessage },
              (0, v.Yp)("#Cart_SaleCardDrops_EarnedMessage", i, c),
            ),
          !m && u,
          a.createElement(
            "div",
            { className: N.ProgressSection },
            a.createElement(
              "div",
              null,
              (0, v.we)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            a.createElement(A, { value: s }),
            a.createElement(
              "div",
              { className: N.Right },
              "(",
              (0, v.we)("#Cart_SaleCardDrops_CardCost", l),
              ")",
            ),
          ),
          m && u,
          o.length > 0 &&
            a.createElement(
              "div",
              { className: N.IneligbleList },
              a.createElement(
                "p",
                null,
                (0, v.we)("#Cart_SaleCardDrops_PrepurchaseIneligible", c),
              ),
              a.createElement(
                "ul",
                null,
                o.map((e) => a.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function A(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return a.createElement(
          "div",
          { className: N.ProgressRail },
          a.createElement("div", {
            className: N.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var D = n(40094),
        B = n(62792),
        M = n(54171),
        G = n(46416),
        F = n(52038),
        R = n(56545),
        k = n(15161),
        P = n(80613),
        x = n(89068);
      const O = P.Message;
      class z extends O {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            z.prototype.context || x.Sg(z.M()),
            O.initialize(this, e, 0, -1, [9], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            z.sm_m ||
              (z.sm_m = {
                proto: z,
                fields: {
                  context: { n: 1, c: k.TS },
                  data_request: { n: 2, c: k.gn },
                  include_spotlights: { n: 5, c: j },
                  include_dailydeals: {
                    n: 6,
                    br: x.qM.readBool,
                    bw: x.gp.writeBool,
                  },
                  include_top_specials_count: {
                    n: 7,
                    br: x.qM.readInt32,
                    bw: x.gp.writeInt32,
                  },
                  include_purchase_recommendations: {
                    n: 8,
                    br: x.qM.readBool,
                    bw: x.gp.writeBool,
                  },
                  additional_purchase_item_ids: { n: 9, c: k.O4, r: !0, q: !0 },
                },
              }),
            z.sm_m
          );
        }
        static MBF() {
          return z.sm_mbf || (z.sm_mbf = x.w0(z.M())), z.sm_mbf;
        }
        toObject(e = !1) {
          return z.toObject(e, this);
        }
        static toObject(e, t) {
          return x.BT(z.M(), e, t);
        }
        static fromObject(e) {
          return x.Uq(z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new P.BinaryReader(e),
            n = new z();
          return z.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return x.zj(z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new P.BinaryWriter();
          return z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          x.i0(z.M(), e, t);
        }
        serializeBase64String() {
          var e = new P.BinaryWriter();
          return z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Request";
        }
      }
      class j extends O {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            j.prototype.location || x.Sg(j.M()),
            O.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            j.sm_m ||
              (j.sm_m = {
                proto: j,
                fields: {
                  location: { n: 1, br: x.qM.readString, bw: x.gp.writeString },
                  category: { n: 2, br: x.qM.readString, bw: x.gp.writeString },
                  genre_id: { n: 3, br: x.qM.readInt32, bw: x.gp.writeInt32 },
                },
              }),
            j.sm_m
          );
        }
        static MBF() {
          return j.sm_mbf || (j.sm_mbf = x.w0(j.M())), j.sm_mbf;
        }
        toObject(e = !1) {
          return j.toObject(e, this);
        }
        static toObject(e, t) {
          return x.BT(j.M(), e, t);
        }
        static fromObject(e) {
          return x.Uq(j.M(), e);
        }
        static deserializeBinary(e) {
          let t = new P.BinaryReader(e),
            n = new j();
          return j.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return x.zj(j.MBF(), e, t);
        }
        serializeBinary() {
          var e = new P.BinaryWriter();
          return j.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          x.i0(j.M(), e, t);
        }
        serializeBase64String() {
          var e = new P.BinaryWriter();
          return j.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Request_SpotlightFilter";
        }
      }
      class U extends O {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            U.prototype.spotlights || x.Sg(U.M()),
            O.initialize(this, e, 0, -1, [1, 2, 3, 4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            U.sm_m ||
              (U.sm_m = {
                proto: U,
                fields: {
                  spotlights: { n: 1, c: W, r: !0, q: !0 },
                  daily_deals: { n: 2, c: V, r: !0, q: !0 },
                  specials: { n: 3, c: V, r: !0, q: !0 },
                  purchase_recommendations: { n: 4, c: V, r: !0, q: !0 },
                },
              }),
            U.sm_m
          );
        }
        static MBF() {
          return U.sm_mbf || (U.sm_mbf = x.w0(U.M())), U.sm_mbf;
        }
        toObject(e = !1) {
          return U.toObject(e, this);
        }
        static toObject(e, t) {
          return x.BT(U.M(), e, t);
        }
        static fromObject(e) {
          return x.Uq(U.M(), e);
        }
        static deserializeBinary(e) {
          let t = new P.BinaryReader(e),
            n = new U();
          return U.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return x.zj(U.MBF(), e, t);
        }
        serializeBinary() {
          var e = new P.BinaryWriter();
          return U.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          x.i0(U.M(), e, t);
        }
        serializeBase64String() {
          var e = new P.BinaryWriter();
          return U.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response";
        }
      }
      class W extends O {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            W.prototype.item_id || x.Sg(W.M()),
            O.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            W.sm_m ||
              (W.sm_m = {
                proto: W,
                fields: {
                  item_id: { n: 1, c: k.O4 },
                  associated_item: { n: 2, c: k.vB },
                  spotlight_template: {
                    n: 3,
                    br: x.qM.readString,
                    bw: x.gp.writeString,
                  },
                  spotlight_title: {
                    n: 4,
                    br: x.qM.readString,
                    bw: x.gp.writeString,
                  },
                  spotlight_body: {
                    n: 5,
                    br: x.qM.readString,
                    bw: x.gp.writeString,
                  },
                  asset_url: {
                    n: 6,
                    br: x.qM.readString,
                    bw: x.gp.writeString,
                  },
                  spotlight_link_url: {
                    n: 7,
                    br: x.qM.readString,
                    bw: x.gp.writeString,
                  },
                },
              }),
            W.sm_m
          );
        }
        static MBF() {
          return W.sm_mbf || (W.sm_mbf = x.w0(W.M())), W.sm_mbf;
        }
        toObject(e = !1) {
          return W.toObject(e, this);
        }
        static toObject(e, t) {
          return x.BT(W.M(), e, t);
        }
        static fromObject(e) {
          return x.Uq(W.M(), e);
        }
        static deserializeBinary(e) {
          let t = new P.BinaryReader(e),
            n = new W();
          return W.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return x.zj(W.MBF(), e, t);
        }
        serializeBinary() {
          var e = new P.BinaryWriter();
          return W.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          x.i0(W.M(), e, t);
        }
        serializeBase64String() {
          var e = new P.BinaryWriter();
          return W.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response_Spotlight";
        }
      }
      class V extends O {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            V.prototype.item_id || x.Sg(V.M()),
            O.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            V.sm_m ||
              (V.sm_m = {
                proto: V,
                fields: { item_id: { n: 1, c: k.O4 }, item: { n: 2, c: k.vB } },
              }),
            V.sm_m
          );
        }
        static MBF() {
          return V.sm_mbf || (V.sm_mbf = x.w0(V.M())), V.sm_mbf;
        }
        toObject(e = !1) {
          return V.toObject(e, this);
        }
        static toObject(e, t) {
          return x.BT(V.M(), e, t);
        }
        static fromObject(e) {
          return x.Uq(V.M(), e);
        }
        static deserializeBinary(e) {
          let t = new P.BinaryReader(e),
            n = new V();
          return V.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return x.zj(V.MBF(), e, t);
        }
        serializeBinary() {
          var e = new P.BinaryWriter();
          return V.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          x.i0(V.M(), e, t);
        }
        serializeBase64String() {
          var e = new P.BinaryWriter();
          return V.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response_FeaturedItem";
        }
      }
      var q;
      !(function (e) {
        e.GetItemsToFeature = function (e, t) {
          return e.SendMsg(
            "StoreMarketing.GetItemsToFeature#1",
            (0, R.I8)(z, t),
            U,
            { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
          );
        };
      })(q || (q = {}));
      var Z = n(31380),
        H = n(23809),
        Q = n(72839);
      function Y(e, t = !0) {
        return (function (e, t, n = !0) {
          const r = (0, H.KV)();
          return (0, Z.useQuery)(
            ["ItemsToFeature", e],
            async () => {
              const n = R.w.Init(z);
              (0, Q.rV)(n),
                (0, Q.Bn)(n, t),
                n.Body().set_include_dailydeals(!0),
                n.Body().set_include_top_specials_count(8),
                e.spotlightLocation &&
                  n
                    .Body()
                    .set_include_spotlights(j.fromObject(e.spotlightLocation)),
                void 0 !== e.rgAdditionalRecommendationIDs &&
                  (n.Body().set_include_purchase_recommendations(!0),
                  e.rgAdditionalRecommendationIDs.forEach((e) =>
                    n
                      .Body()
                      .add_additional_purchase_item_ids(k.O4.fromObject(e)),
                  ));
              const a = await q.GetItemsToFeature(r, n);
              if (!a) throw a.GetErrorMessage();
              const i = f.A.Get();
              return (
                a
                  .Body()
                  .spotlights()
                  .forEach(
                    (e) =>
                      e.associated_item(!1) &&
                      i.ReadItem(e.associated_item(), t),
                  ),
                a
                  .Body()
                  .daily_deals()
                  .forEach((e) => e.item(!1) && i.ReadItem(e.item(), t)),
                a
                  .Body()
                  .specials()
                  .forEach((e) => e.item(!1) && i.ReadItem(e.item(), t)),
                a
                  .Body()
                  .purchase_recommendations()
                  .forEach((e) => e.item(!1) && i.ReadItem(e.item(), t)),
                a.Body().toObject()
              );
            },
            { staleTime: 36e5, enabled: n },
          );
        })(
          {
            spotlightLocation: { location: "cart" },
            rgAdditionalRecommendationIDs: e,
          },
          { include_assets: !0, include_release: !0 },
          t,
        );
      }
      var K = n(50169);
      function J(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              (n?.appid
                ? !e[n?.appid]
                : !n?.included_appids ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function X(e) {
        const { cart: t, validatedCart: n } = e,
          [r, i] = a.useState(void 0),
          s = (n?.cart_items || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        a.useEffect(() => {
          void 0 === r &&
            t &&
            i(
              t?.line_items.map((e) =>
                e.packageid
                  ? { packageid: e.packageid }
                  : { bundleid: e.bundleid },
              ),
            );
        }, [r, t]);
        const o = Y(r, void 0 !== r);
        if (o.isError) return null;
        const l = s.reduce((e, t) => ((e[t] = !0), e), {}),
          c = J(l, o.data?.purchase_recommendations),
          m = J(l, o.data?.specials),
          u = J(l, o.data?.daily_deals),
          d = J(l, o.data?.spotlights);
        return a.createElement(
          "div",
          { className: K.CartUpsellArea },
          a.createElement(
            "div",
            { className: K.CartUpsellTitle },
            (0, v.we)("#Recommendations_Header"),
          ),
          c?.length > 3
            ? a.createElement($, {
                type: "recommended",
                data: c,
                isLoaded: !o.isLoading,
              })
            : a.createElement($, {
                type: "specials",
                data: m,
                isLoaded: !o.isLoading,
              }),
          a.createElement(te, { data: u, isLoaded: !o.isLoading }),
          a.createElement(ne, { data: d, isLoaded: !o.isLoading }),
        );
      }
      function $(e) {
        const { data: t, isLoaded: n, type: r } = e;
        return !t && n
          ? null
          : a.createElement(
              y.Ay,
              { feature: `upsell-${r}` },
              a.createElement(
                re,
                { className: (0, F.A)(K.Specials) },
                t
                  ?.filter(({ item: e }) => !!e.assets?.header)
                  .slice(0, 3)
                  .map(({ item_id: e, item: t }) =>
                    a.createElement(ee, {
                      key: (0, B.wD)(e),
                      item_id: e,
                      item: t,
                    }),
                  ),
              ),
            );
      }
      function ee(e) {
        const { item: t } = e;
        return a.createElement(G.W, {
          capsule: { id: t.id, type: (0, B._4)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
        });
      }
      function te(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : a.createElement(
              re,
              { className: (0, F.A)(K.DailyDeals, !n && K.Loading) },
              t
                ?.slice(0, 2)
                .map((e) =>
                  a.createElement(M.lt, {
                    key: (0, B.wD)(e.item_id),
                    dailyDeal: e,
                  }),
                ),
            );
      }
      function ne(e) {
        const { data: t, isLoaded: n } = e,
          r = a.useMemo(
            () =>
              t
                ?.filter((e) => "weeklong_deals" != e.spotlight_template)
                .slice(0, 2),
            [t],
          );
        return !r && n
          ? null
          : a.createElement(
              re,
              { className: (0, F.A)(K.Spotlights, !n && K.Loading) },
              r.map((e) =>
                a.createElement(M.kv, {
                  key: e.item_id ? (0, B.wD)(e.item_id) : e.spotlight_title,
                  spotlight: e,
                }),
              ),
            );
      }
      function re(e) {
        const { className: t, children: n } = e;
        return a.createElement(
          p.Z,
          {
            "flow-children": "row",
            navEntryPreferPosition: D.iU.MAINTAIN_X,
            className: (0, F.A)(K.UpsellRow, t),
          },
          n,
        );
      }
      var ae = n(71879),
        ie = n(57503),
        se = n(11543),
        oe = n.n(se),
        le = n(50438),
        ce = n(10247);
      function me(e) {
        const t = fe(),
          n = (function () {
            const e = (0, i.zy)();
            return (0, a.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (S.iA.logged_in) return { type: "account", global: !0 };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, I.VY)(n), global: !0 };
            }, [e.search]);
          })();
        (0, g.YM)();
        let r = null;
        return (
          (r = t
            ? "replay" == n.type
              ? a.createElement(pe, { cartID: n })
              : a.createElement(de, { cartID: n, ...e })
            : a.createElement(w.t, { position: "center", msDelayAppear: 250 })),
          a.createElement(a.Fragment, null, a.createElement(ue, null), r)
        );
      }
      function ue() {
        return (0, o.Pt)(), (0, s.vo)(), null;
      }
      function de(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [r, i] = a.useState(n),
          s = (function (e) {
            if ("gifts" === e) return (0, v.we)("#Cart_GiftOptions");
            return (0, v.we)("#Cart_YourShoppingCart");
          })(r);
        return a.createElement(
          _e,
          { cartID: t, title: s, step: r, onStepChange: i },
          ({ cart: e, validatedCart: t }) =>
            a.createElement(
              a.Fragment,
              null,
              a.createElement(
                E.tH,
                null,
                a.createElement(he, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                }),
              ),
              a.createElement(
                E.tH,
                null,
                a.createElement(X, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function pe(e) {
        const { cartID: t } = e;
        return S.iA.logged_in
          ? a.createElement(
              _e,
              {
                cartID: t,
                title: (0, v.we)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                a.createElement(
                  b.x,
                  null,
                  (0, v.we)("#Cart_Replay_Instructions", 72),
                ),
            )
          : a.createElement(C.Cg, null);
      }
      function _e(e) {
        const {
            children: t,
            cartID: n,
            title: r,
            step: i,
            onStepChange: s,
            ...o
          } = e,
          l = (function (e) {
            if ("gifts" === e)
              return a.createElement(
                a.Fragment,
                null,
                "> ",
                a.createElement(
                  "a",
                  { href: S.TS.STORE_BASE_URL + "cart" },
                  (0, v.we)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(i);
        return a.createElement(
          d,
          null,
          a.createElement(
            y.Ay,
            { controller: "cart", method: "display", submethod: i },
            a.createElement(
              ce.iZ,
              { cartID: n, step: i, setStep: s, ...o },
              a.createElement(ge, null),
              a.createElement(
                "div",
                { className: oe().ShoppingCartPage },
                a.createElement(
                  "div",
                  { className: oe().ShoppingCartBreadcrumbs },
                  a.createElement(
                    "a",
                    { href: S.TS.STORE_BASE_URL },
                    (0, v.we)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  l,
                  " ",
                  a.createElement(
                    "span",
                    { className: oe().CurrentBreadcrumb },
                    "> ",
                    r,
                  ),
                ),
                a.createElement(
                  "div",
                  { className: oe().ShoppingCartHeader },
                  r,
                ),
                a.createElement(ie.J, null, t),
              ),
            ),
          ),
        );
      }
      function fe() {
        const [e, t] = a.useState(!1);
        return (
          a.useEffect(() => {
            e || (0, le.U)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function ge(e) {
        const t = (function () {
          const e = a.useRef(""),
            t = (0, r.UI)(),
            { data: n } = (0, r.g7)(),
            i = !e.current;
          let s = _.sc,
            o = -1;
          if (i && void 0 !== n) {
            const e = t.data?.line_items || [],
              n = e.length
                ? e.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (s = n?.bundleid || n?.packageid || _.sc),
              (o = s === n?.bundleid ? 2 : 1);
          }
          const [l] = (0, g.G6)(s, o, r.xz);
          if (l && i) {
            const t = f.A.Get(),
              n = l.GetIncludedAppIDs();
            for (const r of n) {
              const n = t.GetApp(r);
              if (!n) continue;
              const a = n.GetAssets().GetPageBackgroundURL();
              if (a) {
                e.current = a;
                break;
              }
            }
          }
          return e.current;
        })();
        return a.createElement("div", {
          className: oe().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function he(e) {
        const { isCartEmpty: t, cart: n } = e,
          i = (0, r.ZW)();
        if (t) return a.createElement(Ee, null);
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(Ee, null),
          a.createElement(L, { cart: n }),
          a.createElement(
            p.Z,
            { "flow-children": "row", className: oe().CartFooter },
            a.createElement(
              "div",
              null,
              a.createElement(
                h.$n,
                {
                  onClick: () => (window.location.href = S.TS.STORE_BASE_URL),
                  className: oe().Button,
                },
                (0, v.we)("#Cart_ContinueShopping"),
              ),
            ),
            a.createElement(
              ae.z9,
              { onClick: () => i.mutate() },
              (0, v.we)("#Cart_RemoveAll"),
            ),
          ),
        );
      }
      function Ee() {
        return S.TS.IN_MOBILE_WEBVIEW
          ? a.createElement(
              b.x,
              { className: oe().BetaNotice },
              a.createElement(
                "div",
                { className: oe().Icon },
                a.createElement(
                  "svg",
                  {
                    width: "31",
                    height: "34",
                    viewBox: "0 0 31 34",
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                  },
                  a.createElement("path", {
                    d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                    fill: "white",
                  }),
                  a.createElement("path", {
                    d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement("path", {
                    d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                    fill: "#1A9FFF",
                  }),
                  a.createElement(
                    "g",
                    { opacity: "0.8" },
                    a.createElement("path", {
                      d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                      fill: "#1A9FFF",
                    }),
                    a.createElement("path", {
                      d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                  ),
                ),
              ),
              a.createElement(
                "div",
                { className: oe().Text },
                (0, v.oW)(
                  "#Cart_GenericBetaNotice",
                  a.createElement(l.Ii, {
                    href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/3/4038104598693698820/",
                  }),
                ),
              ),
            )
          : null;
      }
    },
    10247: (e, t, n) => {
      "use strict";
      n.d(t, { Ez: () => o, fg: () => l, iZ: () => c });
      var r = n(24357),
        a = n(90626);
      const i = a.createContext({ step: "initial", setStep: () => {} });
      function s() {
        return (0, a.useContext)(i);
      }
      function o() {
        const e = s();
        return [e.step, e.setStep];
      }
      function l() {
        const e = s();
        return [e.cartWideGiftInfo, e.onCartWideGiftInfoChange];
      }
      function c(e) {
        const {
            step: t,
            setStep: n,
            cartID: s,
            cartWideGiftInfo: o,
            onCartWideGiftInfoChange: l,
            children: c,
          } = e,
          m = a.useMemo(
            () => ({
              step: t,
              setStep: n,
              cartWideGiftInfo: o,
              onCartWideGiftInfoChange: l,
            }),
            [t, n, o, l],
          );
        return a.createElement(
          i.Provider,
          { value: m },
          a.createElement(r.h3, { cartID: s }, c),
        );
      }
    },
    44894: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => r });
      const r =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
  },
]);
