/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [2516],
  {
    522: (e) => {
      e.exports = {
        smallentrywidth: "600px",
        optionswrapwidth: "777px",
        App: "u3SD8Rv-TF03ytFkNfj-k",
        Login: "_3wfCRdUF7UCOco6sM64_AI",
        Text: "_1PXPvIBpTTm3XE80hVL7IL",
        Container: "_2g8SX1Bqe4yZ0MTC6aHVN2",
        TopSection: "fR3i6aDCZbxXmO9K7kIql",
        Header: "_2CDNsxHQYFE7ilXdIEDxn4",
        Body: "_174-dDkJ3M18FQfPjgqOPh",
        Spacer: "_1f2czcidfVOcmw30y0_AEg",
        BottomSection: "_3A60hz6NOwiZuTW-mu76wL",
        VerticalBar: "_2qL2pDBlf2JEVyn-fvZhHn",
        PlaytimeList: "_3qtYumEMKc2y3aLeHANlbB",
        Loading: "_3pjYyLIL8mYZrZiXyxTg17",
        IdentityBlock: "qLWcn3Zw8Ddzh1V-xEzIw",
        Avatar: "VmdbPPm4K3OJVzMkAfUCN",
        PersonalInfo: "_2oJXF8jDfGOyVx6p35GP1L",
        Persona: "_2vp7FwWUoHhqP9WpDDZia9",
        GameCount: "_1AIEPwvDJWbF3p-bJC8U-j",
        TotalTime: "_1tOWe6qfloxaAHA6-XlHC7",
        PlayedGame: "sNb81BS2VJGadBRs2O1xt",
        Ignored: "_30mwsSJgrME6Y29S3WOvGr",
        PlaytimeInfo: "_1UkGoSXAPPleoBdQ1O2GXE",
        IgnoreToggle: "_3hXvg60h--tm8fpm8-DQp7",
        Logo: "_26qua-OTdUkpUQjxlCpL4Q",
        HoursPlayed: "_3Ye_WIURXOIHtbJmWHlZCp",
        Title: "EucaisdOxQY9whoBWeaI",
        LastPlayed: "_1DwClAZgoTbNpGuq1KNF1p",
        UpdateSaveBlock: "iaGmJVCk9eDH_Akyr5tWg",
        UpdateButton: "wcFtI-6vQaUYVL4Lp-Ki0",
        Enabled: "_3QyVuToEdGygNUv-F5DPxi",
        RecommendationList: "_1krh3bRv1rh0DsX9w8vDhc",
        List: "C6mYROffi1zI6TmcgwZL6",
        Updating: "_1m9544K4ze2kbr3TBYmrPI",
        NoRecommendationsMessage: "_1Ps6jdEWE_I0ZZXlsf0Y2n",
        RecommendationOptions: "_2F61j_DyOK_vhClDnOojy2",
        Row: "_1sYIzvY8GbsHinG4EF7PQ",
        SecondRow: "K-rzAjz6UAjL3crM_Okwm",
        OptionCheckbox: "_2Cb6nc7yZVXFdoETIgJr0",
        Checkbox: "_29uP5gCUgb-v9HUMn-NO7d",
        WishlistCheckbox: "_1cnxU3We-vi8YXPPhJAlPd",
        SaveUserSettingsButton: "_1VRgdaZdZ6-kHL9sW5x8Gy",
        OptionSlider: "_26ek6rclx7wHt5k9-qjzOZ",
        Labels: "_22UxF3FJgx-GeuyzV7WJcz",
        Min: "_1uiM2XyqdiKllPUqufBTNq",
        Max: "_17wCMu7Xz9xQPWp7-ixvVS",
        OptionalLabel: "_1JIe5R5KKY8Z1zr6FrTXq2",
        OptionDropdown: "_1dKx5dA0QebdoYYegaC6Zq",
        Label: "XPFnCXF0lmm8eTlEuqlo8",
        OptionTagList: "uNxeGtKCHQ2LZCVL0GMLQ",
        SelectedTag: "_2uInWyY6DTw3raDLhvCmY4",
        Close: "_2bZrrxbV56psnL2X3eSSD",
        RecommendationEntry: "_3opuXcswH86T3In6Whwlow",
        BottomEntrySection: "_2U08CVVVoNbtCfhW2zc9pd",
        WishlistSection: "dS7RzJ74cMMAduY73gB23",
        Hidden: "_2teeesGSQzHl1ROvIWr_mE",
        TopEntrySection: "_1IvHpJUVsEh41ky41jMICF",
        LeftSection: "_1shxgz0_oyjYEBhkc1pEq4",
        Video: "_3oNv9BPrCekjT0mhpcaIBY",
        Revealed: "_3aiFyqEH2MWmUr5xI6G3Bc",
        UnMute: "_21t3_w2WXNcpAeWhP3Vm3p",
        RightSection: "_27p3svIY0rPcF-36Z3TUeB",
        CenterSection: "M9CWJivhElJusZEsWhpSy",
        CenterOption: "_3mXMY41gnw5Wwfws9KsmG1",
        Name: "_2FQXDBjzjIxMRBxEFA2vp3",
        Released: "_3EvdKPiuwm44TUif2-eMAi",
        BarContainer: "_3qWinoVFMjKNhlrNudewgX",
        Bar: "_16q7Q4KJbLAedQn16Vnj2a",
        Score: "_17yr_e2rt99ye0vUYkx8nA",
        Tags: "_3KlI0VTwEngVNlDrCw94dG",
        Tag: "_1rNtzuSQrXdWHtJPUIrRS3",
        Hovered: "_3b9wGZ4YjBSqVbVI0Ux8Qe",
        Wishlisted: "_2uh0Ok6-cD_4Zugqxxoe2E",
        PurchaseSection: "mjTZMxg7qSvnX4pDxJ6m-",
        PurchaseBG: "_2UHKwc-ZjEsOg2utEQWBQJ",
        Price: "_18mm05--YNDTjvJophTK1d",
        WishlistFlag: "_2TuuQBk9cBWsQviAPg4Maa",
        SelectionBox: "_2W7pRbfZEt2TGsbW0NHVDC",
        SuggestionInput: "_3OdNpjoAkOeqQmyb5kM9BZ",
        SuggestionContainerOpen: "_2NTkL4c6rEsrifPSQgef85",
        SuggestionsList: "_2zgalOGQBibVMa9wUnUadM",
        OptionSuggestion: "_3VKY5fS_afLCSSA3kAp2t1",
      };
    },
    55263: (e, t, a) => {
      "use strict";
      a.d(t, {
        G6: () => u,
        Gg: () => _,
        MS: () => S,
        N4: () => s,
        Ow: () => p,
        YM: () => I,
        mZ: () => g,
        t7: () => m,
        zX: () => E,
      });
      var s,
        i = a(41735),
        n = a.n(i),
        o = a(90626),
        l = a(37085),
        r = a(15161),
        c = a(84933),
        d = a(82097);
      function u(e, t, a, i) {
        const r = (0, o.useRef)(void 0),
          u = (0, o.useRef)(void 0),
          m = (0, c.CH)();
        r.current = e;
        const [p, _] = (0, o.useState)(void 0),
          {
            include_assets: g,
            include_release: h,
            include_platforms: E,
            include_all_purchase_options: S,
            include_screenshots: I,
            include_trailers: v,
            include_ratings: f,
            include_tag_count: y,
            include_reviews: T,
            include_basic_info: C,
            include_supported_languages: R,
            include_full_description: w,
            include_included_items: A,
            include_assets_without_overrides: N,
            apply_user_filters: D,
            include_links: P,
          } = a;
        if (
          ((0, o.useEffect)(() => {
            const a = {
              include_assets: g,
              include_release: h,
              include_platforms: E,
              include_all_purchase_options: S,
              include_screenshots: I,
              include_trailers: v,
              include_ratings: f,
              include_tag_count: y,
              include_reviews: T,
              include_basic_info: C,
              include_supported_languages: R,
              include_full_description: w,
              include_included_items: A,
              include_assets_without_overrides: N,
              apply_user_filters: D,
              include_links: P,
            };
            let s = null;
            return (
              !e ||
                e < 0 ||
                d.A.Get().BHasStoreItem(e, t, a) ||
                (void 0 !== p && i && i == u.current) ||
                (i !== u.current && (_(void 0), (u.current = i)),
                (s = n().CancelToken.source()),
                d.A.Get()
                  .QueueStoreItemRequest(e, t, a)
                  .then((t) => {
                    s?.token.reason ||
                      r.current !== e ||
                      _(t == l.d.k_EResultOK),
                      m();
                  })),
              () => s?.cancel("useStoreItemCache: unmounting")
            );
          }, [e, t, i, p, g, h, E, S, I, v, f, y, T, C, R, w, A, N, D, P, m]),
          !e)
        )
          return [null, s.k_EStoreItemCacheState_Unavailable];
        if (!1 === p) return [void 0, s.k_EStoreItemCacheState_Unavailable];
        if (d.A.Get().BIsStoreItemMissing(e, t))
          return [void 0, s.k_EStoreItemCacheState_Unavailable];
        if (!d.A.Get().BHasStoreItem(e, t, a))
          return [void 0, s.k_EStoreItemCacheState_Loading];
        const b = d.A.Get().GetStoreItemWithLegacyVisibilityCheck(e, t);
        return b
          ? [b, s.k_EStoreItemCacheState_Found]
          : [null, s.k_EStoreItemCacheState_Unavailable];
      }
      function m(e, t, a) {
        return u(e, r.c6.k_EStoreItemType_App, t, a);
      }
      function p(e, t, a) {
        return u(e, r.c6.k_EStoreItemType_Bundle, t, a);
      }
      function _(e, t, a) {
        return u(e, r.c6.k_EStoreItemType_Package, t, a);
      }
      function g(e, t, a) {
        const [s, i] = u(e, t, a);
        let n;
        s?.GetStoreItemType() != r.c6.k_EStoreItemType_Package ||
          s.GetAssets()?.GetHeaderURL() ||
          1 != s?.GetIncludedAppIDs().length ||
          (n = s.GetIncludedAppIDs()[0]);
        const [o, l] = m(n, a);
        return n && o?.BIsVisible() ? [o, l] : [s, i];
      }
      function h(e, t, a, i) {
        const l = (0, c.CH)(),
          {
            include_assets: r,
            include_release: u,
            include_platforms: m,
            include_all_purchase_options: p,
            include_screenshots: _,
            include_trailers: g,
            include_ratings: h,
            include_tag_count: E,
            include_reviews: S,
            include_basic_info: I,
            include_supported_languages: v,
            include_full_description: f,
            include_included_items: y,
            include_assets_without_overrides: T,
            apply_user_filters: C,
            include_links: R,
          } = a;
        if (
          ((0, o.useEffect)(() => {
            if (!e || 0 == e.length) return;
            const a = {
                include_assets: r,
                include_release: u,
                include_platforms: m,
                include_all_purchase_options: p,
                include_screenshots: _,
                include_trailers: g,
                include_ratings: h,
                include_tag_count: E,
                include_reviews: S,
                include_basic_info: I,
                include_supported_languages: v,
                include_full_description: f,
                include_included_items: y,
                include_assets_without_overrides: T,
                apply_user_filters: C,
                include_links: R,
              },
              s = e.filter(
                (e) =>
                  !(
                    d.A.Get().BHasStoreItem(e, t, a) ||
                    d.A.Get().BIsStoreItemMissing(e, t)
                  ),
              );
            if (0 == s.length) return;
            const i = n().CancelToken.source(),
              o = s.map((e) => d.A.Get().QueueStoreItemRequest(e, t, a));
            return (
              Promise.all(o).then(() => {
                i.token.reason || l();
              }),
              () => i.cancel("useStoreItemCacheMultiplePackages: unmounting")
            );
          }, [e, t, i, l, r, u, m, p, _, g, h, E, S, I, v, f, y, T, C, R]),
          !e)
        )
          return s.k_EStoreItemCacheState_Unavailable;
        if (
          !e.every(
            (e) =>
              d.A.Get().BHasStoreItem(e, t, a) ||
              d.A.Get().BIsStoreItemMissing(e, t),
          )
        )
          return s.k_EStoreItemCacheState_Loading;
        return e.every((e) =>
          d.A.Get().GetStoreItemWithLegacyVisibilityCheck(e, t),
        )
          ? s.k_EStoreItemCacheState_Found
          : s.k_EStoreItemCacheState_Unavailable;
      }
      function E(e, t, a) {
        return h(e, r.c6.k_EStoreItemType_App, t, a);
      }
      function S(e, t, a) {
        return h(e, r.c6.k_EStoreItemType_Bundle, t, a);
      }
      function I() {
        o.useEffect(
          () => (
            d.A.Get().SetReturnUnavailableItems(!0),
            () => d.A.Get().SetReturnUnavailableItems(!1)
          ),
          [],
        );
      }
      !(function (e) {
        (e[(e.k_EStoreItemCacheState_Loading = 1)] =
          "k_EStoreItemCacheState_Loading"),
          (e[(e.k_EStoreItemCacheState_Unavailable = 2)] =
            "k_EStoreItemCacheState_Unavailable"),
          (e[(e.k_EStoreItemCacheState_Found = 3)] =
            "k_EStoreItemCacheState_Found");
      })(s || (s = {}));
    },
    82477: (e, t, a) => {
      "use strict";
      a.d(t, { Cg: () => p, pZ: () => g, vg: () => _ });
      var s = a(90626),
        i = a(738),
        n = a(61859),
        o = a(78327),
        l = a(92120),
        r = a(21565),
        c = a(72034),
        d = a(28240),
        u = a(51706);
      function m(e) {
        return s.createElement(
          i.x_,
          { onEscKeypress: e.closeModal, bDisableBackgroundDismiss: !0 },
          s.createElement(h, {
            redirectURL: e.redirectURL,
            guestOption: e.guestOption,
          }),
        );
      }
      function p(e) {
        const { redirectURL: t = window.location.href } = e;
        return s.createElement(
          u.EN,
          { active: !0 },
          s.createElement(m, { redirectURL: t }),
        );
      }
      function _() {
        (0, i.pg)(
          s.createElement(m, {
            ownerWin: window,
            redirectURL: window.location.href,
          }),
          window,
          { strTitle: (0, n.we)("#Login_SignInTitle") },
        );
      }
      function g(e, t) {
        (0, i.pg)(
          s.createElement(m, {
            ownerWin: window,
            redirectURL: e,
            guestOption: t,
          }),
          window,
          { strTitle: (0, n.we)("#Login_SignInTitle") },
        );
      }
      function h(e) {
        const { redirectURL: t, guestOption: a } = e,
          [i] = (0, s.useState)(
            new c.D(o.TS.WEBAPI_BASE_URL).GetAnonymousServiceTransport(),
          ),
          [n, u] = (0, s.useState)(!1);
        return s.createElement(
          "div",
          null,
          n
            ? s.createElement(l.Fn, null)
            : s.createElement(
                l.YN,
                {
                  autoFocus: !0,
                  transport: i,
                  platform: r.SS.k_EAuthTokenPlatformType_WebBrowser,
                  onComplete: (e) => {
                    e == d.wI.k_PrimaryDomainFail
                      ? u(!0)
                      : window.location.assign(t);
                  },
                  redirectUrl: t,
                  theme: "modal",
                },
                a && s.createElement(l.Mk, { redirectURL: t }),
              ),
        );
      }
    },
    51706: (e, t, a) => {
      "use strict";
      a.d(t, {
        mt: () => c,
        Qs: () => g,
        o0: () => h.o0,
        eV: () => E.eV,
        KG: () => h.KG,
        Ee: () => h.Ee,
        x_: () => o.x_,
        of: () => d,
        pY: () => h.pY,
        EN: () => n.E,
      });
      var s = a(90626),
        i = a(53835),
        n = a(21869),
        o = a(2654),
        l =
          (a(72739),
          a(48902),
          a(68451),
          a(25118),
          a(84933),
          a(52745),
          a(13871),
          a(78327));
      a(28460);
      function r(e) {
        const { labelledBy: t } = e || {},
          [a, i] = s.useState(void 0);
        return {
          headerId: t || a,
          context: s.useMemo(() => ({ setHeaderId: i }), []),
        };
      }
      function c(e) {
        const {
            active: t,
            onDismiss: a,
            className: l,
            modalClassName: c,
            children: d,
            ...u
          } = e,
          { headerId: m, context: p } = r({ labelledBy: e["aria-labelledby"] });
        return s.createElement(
          i.t6.Provider,
          { value: p },
          s.createElement(
            n.E,
            { active: t },
            s.createElement(
              o.x_,
              { onEscKeypress: a, className: c },
              s.createElement(
                i.UC,
                { role: "dialog", "aria-labelledby": m, className: l, ...u },
                d,
              ),
            ),
          ),
        );
      }
      function d(e) {
        const { className: t, children: a } = e;
        return s.createElement(
          n.E,
          { active: !0 },
          s.createElement("div", { className: t }, a),
        );
      }
      a(81194);
      var u = a(85585),
        m = a(7445),
        p = a(76217),
        _ = a(88843);
      function g(e) {
        const { children: t, navID: a, closeModal: i } = e,
          n = s.createRef(),
          o = (e) => (e.stopPropagation(), e.preventDefault(), !0);
        return (0, l.Qn)() && !l.TS.IN_STEAMUI
          ? s.createElement(
              u.B2,
              {
                navID: a,
                navTreeRef: n,
                onCancelButton: i,
                className: _.GamepadOnlyModalWrapper,
              },
              s.createElement(
                m.q,
                null,
                s.createElement(
                  p.Z,
                  {
                    className: _.GamepadOnlyPanelWrapper,
                    onGamepadDirection: o,
                    focusableIfEmpty: !0,
                  },
                  t,
                ),
              ),
            )
          : s.createElement(s.Fragment, null, t);
      }
      var h = a(78395),
        E = a(10411);
      a(76222);
    },
    52069: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => G });
      var s,
        i = a(34629),
        n = a(78327),
        o = a(75844),
        l = a(14947),
        r = a(90626),
        c = a(84518),
        d = a(12155),
        u = a(52038),
        m = a(61859),
        p = a(84933),
        _ = a(522),
        g = a(26649),
        h = a.n(g),
        E = a(41735),
        S = a.n(E);
      !(function (e) {
        (e[(e.Unrequested = 0)] = "Unrequested"),
          (e[(e.Pending = 1)] = "Pending"),
          (e[(e.Valid = 2)] = "Valid"),
          (e[(e.Failed = 3)] = "Failed"),
          (e[(e.Rerequest = 4)] = "Rerequest");
      })(s || (s = {}));
      class I {
        constructor() {
          (0, l.Gn)(this);
        }
        getData(e, t, a) {
          const i = this.eState == s.Pending || this.eState == s.Rerequest;
          return (
            this.isExpired() &&
              !i &&
              ((this.eState = s.Pending),
              t()
                .then((i) => {
                  if (this.eState == s.Rerequest)
                    return this.expireData(), void this.getData(e, t, a);
                  (this.data = a ? a(i) : i),
                    i
                      ? (this.delayNewData(e), (this.eState = s.Valid))
                      : (this.eState = s.Failed);
                })
                .catch((e) => {
                  (this.data = a(void 0)), (this.eState = s.Failed);
                })),
            this.data
          );
        }
        clearData() {
          (this.eState = s.Unrequested),
            (this.data = null),
            (this.nExpirationTime = 0);
        }
        setDataPending() {
          this.eState = s.Pending;
        }
        isDataPending() {
          return this.eState == s.Pending;
        }
        setData(e, t) {
          (this.data = t), this.delayNewData(e), (this.eState = s.Valid);
        }
        expireData() {
          this.nExpirationTime = 0;
        }
        isExpired() {
          const e = Date.now() / 1e3;
          return this.nExpirationTime < e;
        }
        delayNewData(e) {
          if (e <= 0) this.nExpirationTime = Number.MAX_SAFE_INTEGER;
          else {
            const t = Date.now() / 1e3;
            this.nExpirationTime = t + e;
          }
        }
        rerequestDataIfPending() {
          this.eState == s.Pending && (this.eState = s.Rerequest);
        }
        getCachedData() {
          return this.data;
        }
        data = void 0;
        eState = s.Unrequested;
        nExpirationTime = 0;
      }
      (0, i.Cg)([l.sH], I.prototype, "data", void 0),
        (0, i.Cg)([l.sH], I.prototype, "nExpirationTime", void 0);
      (0, i.Cg)(
        [l.sH],
        class {
          constructor() {
            (0, l.Gn)(this);
          }
          getAsyncDataWrapper(e) {
            let t;
            return (
              this.m_mapKeyToDataWrapper.has(e)
                ? (t = this.m_mapKeyToDataWrapper.get(e))
                : ((t = new I()), this.m_mapKeyToDataWrapper.set(e, t)),
              t
            );
          }
          clearKey(e) {
            this.m_mapKeyToDataWrapper.has(e) &&
              this.m_mapKeyToDataWrapper.get(e).clearData(),
              this.m_mapKeyToDataWrapper.delete(e);
          }
          getAllElements() {
            return Array.from(this.m_mapKeyToDataWrapper.values()).map((e) =>
              e.getCachedData(),
            );
          }
          getAllElementsAndKeys() {
            let e = [],
              t = this.m_mapKeyToDataWrapper.entries(),
              a = t.next();
            for (; !a.done; )
              e.push({ key: a.value[0], data: a.value[1].getCachedData() }),
                (a = t.next());
            return e;
          }
          m_mapKeyToDataWrapper = new Map();
        }.prototype,
        "m_mapKeyToDataWrapper",
        void 0,
      );
      let v = {
        EUNIVERSE: 0,
        WEB_UNIVERSE: "",
        LANGUAGE: "english",
        BASE_URL: "",
        COMMUNITY_BASE_URL: "",
        STORE_BASE_URL: "",
        RELATIVE_URL: "",
        IMG_URL: "",
        IMG_URL_BASE: "",
        CDN_URL: "",
        RENDER_TIMESTAMP: 0,
        EXPLORE_URL: "",
        ACCOUNT_ID: 0,
        STEAM_ID: "",
        SESSION_ID: "",
        LOGIN_REDIRECT: "",
        AVATAR_URL: "",
        PERSONA_NAME: "",
        LINK_PARAM: "",
        NUM_POPULARITY_STEPS: 0,
        NUM_RECENCY_STEPS: 0,
        MAX_PLAYED_GAMES: 0,
        RESET_OPTIONS: !1,
        INCLUDE_PLAYED: !1,
        ALGORITHM: 0,
        REINFERENCE: !1,
        MODEL_VERSION: 0,
        PERSISTENT_IGNORE: !1,
        USE_MICROTRAILERS: !1,
      };
      var f;
      !(function (e) {
        (e[(e.ClickThrough = 1)] = "ClickThrough"),
          (e[(e.AddToWishlist = 2)] = "AddToWishlist"),
          (e[(e.AddToCart = 3)] = "AddToCart");
      })(f || (f = {}));
      class y {
        m_fPopularityValue = void 0;
        m_fRecencyValue = void 0;
        m_rgFilterTags = [];
        m_rgExcludeTags = [];
        m_fQueuedPopularityValue = void 0;
        m_fQueuedRecencyValue = void 0;
        m_bExcludeWishlisted = void 0;
        m_bShouldMute = void 0;
        m_bUseMicrotrailers = void 0;
        m_bIgnoredEdited = void 0;
        m_mapAppDetailsCache = new Map();
        m_ResultDataCache = new I();
        m_InputAppsCache = new I();
        m_TagsCache = new I();
        m_TagNameMap = new Map();
        m_bStateUpdated;
        constructor() {
          (0, l.Gn)(this),
            (this.m_fPopularityValue = window.history.state
              ? window.history.state.popularity
              : 0.25),
            (this.m_fRecencyValue = window.history.state
              ? window.history.state.recency
              : 0),
            (this.m_bExcludeWishlisted =
              !!window.history.state && window.history.state.excludewishlisted),
            (this.m_fQueuedPopularityValue = parseFloat(
              localStorage.getItem("IRPopularity") || "0.0",
            )),
            (this.m_fQueuedRecencyValue = parseFloat(
              localStorage.getItem("IRRecency") || "0.0",
            )),
            (this.m_bStateUpdated = !1),
            (this.m_bShouldMute = !0),
            (this.m_bIgnoredEdited = !1),
            (this.m_bUseMicrotrailers = !1),
            setInterval(() => {
              this.m_bStateUpdated &&
                (window.history.replaceState(
                  {
                    popularity: this.m_fPopularityValue,
                    recency: this.m_fRecencyValue,
                    excludewishlisted: this.m_bExcludeWishlisted,
                  },
                  "",
                ),
                (this.m_bStateUpdated = !1));
            }, 1e3),
            setInterval(() => {
              (this.m_fPopularityValue == this.m_fQueuedPopularityValue &&
                this.m_fQueuedRecencyValue == this.m_fRecencyValue) ||
                ((this.m_fPopularityValue = this.m_fQueuedPopularityValue),
                (this.m_fRecencyValue = this.m_fQueuedRecencyValue),
                (this.m_bStateUpdated = !0),
                localStorage.setItem(
                  "IRPopularity",
                  `${this.m_fPopularityValue}`,
                ),
                localStorage.setItem("IRRecency", `${this.m_fRecencyValue}`));
            }, 400);
        }
        Init() {
          (this.m_fPopularityValue = parseFloat(
            localStorage.getItem("IRPopularity") || "0.0",
          )),
            (this.m_fRecencyValue = parseFloat(
              localStorage.getItem("IRRecency") || "0.0",
            )),
            (this.m_fQueuedPopularityValue = this.m_fPopularityValue),
            (this.m_fQueuedRecencyValue = this.m_fRecencyValue),
            (this.m_bExcludeWishlisted = !1),
            (this.m_bStateUpdated = !0),
            (this.m_bExcludeWishlisted =
              "1" == localStorage.getItem("IRExcludeWishlisted")),
            (this.m_bUseMicrotrailers = v.USE_MICROTRAILERS);
          const e = localStorage.getItem("IRExcludeTags");
          if (e) {
            const t = e.split(",");
            t && (this.m_rgExcludeTags = t.map((e) => parseInt(e)));
          }
          const t = localStorage.getItem("IRFilterTags");
          if (t) {
            const e = t.split(",");
            e && (this.m_rgFilterTags = e.map((e) => parseInt(e)));
          }
        }
        getDetails(e) {
          return (
            this.m_mapAppDetailsCache.has(e) ||
              this.m_mapAppDetailsCache.set(e, new I()),
            this.m_mapAppDetailsCache.get(e).getData(
              60,
              async () =>
                await S().get(
                  `${v.BASE_URL}recommender/${v.STEAM_ID}/details?appid=${e}&sessionid=${v.SESSION_ID}`,
                ),
              (e) => e.data,
            )
          );
        }
        getResults(e, t, a, s) {
          const i = e ? "1" : "0",
            n = t ? `${t}` : "0",
            o = a ? "1" : "0",
            l = s ? `${s}` : "0";
          let r = "";
          const c = this.getInputApps();
          if (!c) return;
          let d = [];
          return (
            Object.keys(c).map((e) => {
              (c[e].i || c[e].ip) && d.push(c[e].a);
            }),
            d.length > 0 && (r = "&ignored=" + d.join()),
            this.m_ResultDataCache.getData(
              9999999,
              async () =>
                await S().get(
                  `${v.BASE_URL}recommender/${v.STEAM_ID}/results?sessionid=${v.SESSION_ID}&steamid=${v.STEAM_ID}&include_played=${i}&algorithm=${n}&reinference=${o}&model_version=${l}${r}`,
                ),
              (e) => (
                e.data.recommendations.request_results.sort((e, t) =>
                  e.project_id < t.project_id
                    ? -1
                    : e.project_id > t.project_id
                      ? 1
                      : e.difference_multiplier_factor <
                          t.difference_multiplier_factor
                        ? -1
                        : 1,
                ),
                e.data
              ),
            )
          );
        }
        areResultsExpired() {
          return this.m_ResultDataCache.isExpired();
        }
        getRecommendations() {
          const e = T.getResults(
            v.INCLUDE_PLAYED,
            v.ALGORITHM,
            v.REINFERENCE,
            v.MODEL_VERSION,
          );
          return e ? e.recommendations : void 0;
        }
        getInputApps() {
          return this.m_InputAppsCache.getData(
            9999999,
            async () =>
              await S().get(
                `${v.BASE_URL}recommender/${v.STEAM_ID}/inputs?sessionid=${v.SESSION_ID}&steamid=${v.STEAM_ID}`,
              ),
            (e) => e.data,
          );
        }
        getAppInfo() {
          const e = T.getResults(
            v.INCLUDE_PLAYED,
            v.ALGORITHM,
            v.REINFERENCE,
            v.MODEL_VERSION,
          );
          return e ? e.app_info : void 0;
        }
        getTags() {
          return this.m_TagsCache.getData(
            9999999,
            async () =>
              await S().get(
                `${v.BASE_URL}recommender/${v.STEAM_ID}/tags?sessionid=${v.SESSION_ID}`,
              ),
            (e) => {
              this.m_TagNameMap.clear();
              for (const t of e.data) this.m_TagNameMap.set(t.tagid, t.name);
              return e.data;
            },
          );
        }
        getTagName(e) {
          return this.getTags(), this.m_TagNameMap.get(e);
        }
        getTagHeight() {
          return Math.max(
            this.m_rgFilterTags.length,
            this.m_rgExcludeTags.length,
          );
        }
        onPopularityChanged(e) {
          this.m_fQueuedPopularityValue = Number(e.target.value);
        }
        onRecencyChanged(e) {
          this.m_fQueuedRecencyValue = Number(e.target.value);
        }
        onTagFilterAdd(e) {
          this.m_rgFilterTags.push(e),
            localStorage.setItem("IRFilterTags", this.m_rgFilterTags.join(",")),
            (this.m_bStateUpdated = !0);
        }
        onTagFilterRemove(e) {
          for (let t = 0; t < this.m_rgFilterTags.length; t++)
            if (this.m_rgFilterTags[t] == e) {
              this.m_rgFilterTags.splice(t, 1);
              break;
            }
          localStorage.setItem("IRFilterTags", this.m_rgFilterTags.join(",")),
            (this.m_bStateUpdated = !0);
        }
        onTagExcludeAdd(e) {
          this.m_rgExcludeTags.push(e),
            localStorage.setItem(
              "IRExcludeTags",
              this.m_rgExcludeTags.join(","),
            ),
            (this.m_bStateUpdated = !0);
        }
        onTagExcludeRemove(e) {
          for (let t = 0; t < this.m_rgExcludeTags.length; t++)
            if (this.m_rgExcludeTags[t] == e) {
              this.m_rgExcludeTags.splice(t, 1);
              break;
            }
          localStorage.setItem("IRExcludeTags", this.m_rgExcludeTags.join(",")),
            (this.m_bStateUpdated = !0);
        }
        doTagsPassFilter(e) {
          for (const t of this.m_rgFilterTags)
            if (-1 == e.indexOf(t)) return !1;
          return !0;
        }
        doTagsFailExclusion(e) {
          for (const t of this.m_rgExcludeTags)
            if (-1 != e.indexOf(t)) return !0;
          return !1;
        }
        onExcludeWishlistedToggled(e) {
          (this.m_bExcludeWishlisted = !this.m_bExcludeWishlisted),
            localStorage.setItem(
              "IRExcludeWishlisted",
              this.m_bExcludeWishlisted ? "1" : "0",
            ),
            (this.m_bStateUpdated = !0);
        }
        async onToggleIgnore(e) {
          const t = this.getInputApps();
          for (let a of t)
            if (a.a == e) {
              a.i || a.ip ? ((a.i = !1), (a.ip = !1)) : (a.ip = !0);
              break;
            }
          this.m_ResultDataCache.expireData(), (this.m_bIgnoredEdited = !0);
        }
        onUpdateWithIgnored() {
          this.m_ResultDataCache.expireData(), (this.m_bIgnoredEdited = !1);
        }
        async onAddToWishlist(e, t) {
          T.getAppInfo()[e].w = !0;
          let a = { sessionid: v.SESSION_ID, appid: e };
          const s = await S().post(
            `${v.BASE_URL}recommender/${v.STEAM_ID}/wishlist?snr=${v.LINK_PARAM}`,
            a,
          );
          let i = {
            account_id: v.ACCOUNT_ID,
            session_id: v.SESSION_ID,
            app_id: e,
            app_rank: t,
            action: f.AddToWishlist,
            algorithm: 1,
            setting_1: 100 * this.m_fPopularityValue,
            setting_2: 100 * this.m_fRecencyValue,
          };
          return (
            await S().post(`${v.BASE_URL}recommender/${v.STEAM_ID}/stats`, i), s
          );
        }
        onGoToWishlist() {
          window.location.href = `${v.COMMUNITY_BASE_URL}profiles/${v.STEAM_ID}/wishlist`;
        }
        onAddToCart(e, t, a) {
          window.AddItemToCart(t);
          let s = {
            account_id: v.ACCOUNT_ID,
            session_id: v.SESSION_ID,
            app_id: e,
            app_rank: a,
            action: f.AddToCart,
            algorithm: 1,
            setting_1: 100 * this.m_fPopularityValue,
            setting_2: 100 * this.m_fRecencyValue,
          };
          return S().post(`${v.BASE_URL}recommender/${v.STEAM_ID}/stats`, s);
        }
        onMuteClicked() {
          this.m_bShouldMute = !0;
        }
        onUnMuteClicked() {
          this.m_bShouldMute = !1;
        }
        shouldMute() {
          return this.m_bShouldMute;
        }
        shouldUseMicrotrailers() {
          return this.m_bUseMicrotrailers;
        }
      }
      (0, i.Cg)([l.sH], y.prototype, "m_fPopularityValue", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_fRecencyValue", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_rgFilterTags", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_rgExcludeTags", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_fQueuedPopularityValue", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_fQueuedRecencyValue", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_bExcludeWishlisted", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_bShouldMute", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_bUseMicrotrailers", void 0),
        (0, i.Cg)([l.sH], y.prototype, "m_bIgnoredEdited", void 0),
        (0, i.Cg)([p.oI], y.prototype, "getTagHeight", null),
        (0, i.Cg)([p.oI], y.prototype, "onPopularityChanged", null),
        (0, i.Cg)([p.oI], y.prototype, "onRecencyChanged", null),
        (0, i.Cg)([p.oI], y.prototype, "onTagFilterAdd", null),
        (0, i.Cg)([p.oI], y.prototype, "onTagFilterRemove", null),
        (0, i.Cg)([p.oI], y.prototype, "onTagExcludeAdd", null),
        (0, i.Cg)([p.oI], y.prototype, "onTagExcludeRemove", null),
        (0, i.Cg)([p.oI], y.prototype, "doTagsPassFilter", null),
        (0, i.Cg)([p.oI], y.prototype, "doTagsFailExclusion", null),
        (0, i.Cg)([p.oI], y.prototype, "onExcludeWishlistedToggled", null),
        (0, i.Cg)([p.oI], y.prototype, "onToggleIgnore", null),
        (0, i.Cg)([p.oI], y.prototype, "onUpdateWithIgnored", null),
        (0, i.Cg)([p.oI], y.prototype, "onAddToWishlist", null),
        (0, i.Cg)([p.oI], y.prototype, "onGoToWishlist", null),
        (0, i.Cg)([p.oI], y.prototype, "onAddToCart", null),
        (0, i.Cg)([p.oI], y.prototype, "onMuteClicked", null),
        (0, i.Cg)([p.oI], y.prototype, "onUnMuteClicked", null),
        (0, i.Cg)([p.oI], y.prototype, "shouldMute", null),
        (0, i.Cg)([p.oI], y.prototype, "shouldUseMicrotrailers", null);
      const T = new y();
      window.g_InteractiveRecommender = T;
      var C = a(82477),
        R = a(32630),
        w = a(60014),
        A = a(55263);
      !(function () {
        let e = (0, n.Tc)("ir_config", "application_config");
        e && (Object.assign(v, e), T.Init());
      })();
      const N = ({ accountID: e }) => {
          const t = T.getInputApps(),
            a = Object.keys(t).length;
          let s = 0;
          return (
            Object.keys(t).map((e) => {
              s += t[e].p;
            }),
            r.createElement(
              "div",
              { className: _.IdentityBlock },
              r.createElement("img", {
                className: _.Avatar,
                src: v.AVATAR_URL,
              }),
              r.createElement(
                "div",
                { className: _.PersonalInfo },
                r.createElement(
                  "div",
                  { className: _.Persona },
                  v.PERSONA_NAME,
                ),
                r.createElement(
                  "div",
                  { className: _.GameCount },
                  (0, m.we)("#PlaytimeList_RecentGames", a),
                ),
                r.createElement(
                  "div",
                  { className: _.TotalTime },
                  (0, m.we)("#PlaytimeList_HoursTotal", s),
                ),
              ),
            )
          );
        },
        D = ({ appID: e, name: t, hours: a, lastPlayed: s, ignored: i }) => {
          const [n] = (0, A.t7)(e, { include_assets: !0 });
          if (!n) return null;
          const o = Date.now() / 1e3 - s;
          let l = "",
            c = "";
          return (
            s <= 86400
              ? (c = (0, m.we)("#PlaytimeList_LastPlayedMax"))
              : o > 31449600
                ? ((l = (0, m.$z)(s)),
                  (c = (0, m.we)("#PlaytimeList_LastPlayed", l)))
                : ((l = (0, m.Hq)(o)),
                  (c = (0, m.we)("#PlaytimeList_LastPlayed", l))),
            r.createElement(
              "div",
              { className: (0, u.A)(_.PlayedGame, i && _.Ignored) },
              r.createElement(
                "a",
                { href: `${v.BASE_URL}app/${e}?snr=${v.LINK_PARAM}` },
                r.createElement("img", {
                  className: _.Logo,
                  src: n.GetAssets().GetHeaderURL(),
                }),
              ),
              r.createElement(
                "div",
                { className: _.PlaytimeInfo },
                r.createElement(
                  "div",
                  { className: _.HoursPlayed },
                  (0, m.we)("#PlaytimeList_Hours", a),
                ),
                r.createElement("div", { className: _.Title }, t),
                r.createElement("div", { className: _.LastPlayed }, c),
                r.createElement(
                  "div",
                  {
                    className: _.IgnoreToggle,
                    onClick: () => T.onToggleIgnore(e),
                  },
                  (0, m.we)(
                    i ? "#PlaytimeList_UnIgnore" : "#PlaytimeList_Ignore",
                  ),
                ),
              ),
            )
          );
        };
      let P = class extends r.Component {
        constructor(e) {
          super(e), (this.state = {});
        }
        render() {
          const e = T.getInputApps();
          let t = [];
          if (!e)
            return r.createElement(
              "div",
              { className: _.PlaytimeList },
              r.createElement(
                "div",
                { className: _.Header },
                (0, m.we)("#PlaytimeList_Header"),
              ),
              r.createElement("div", { className: _.Loading }),
            );
          T.getAppInfo();
          const a = e.slice().sort((e, t) => t.l - e.l);
          return (
            Object.keys(a).map((e) => {
              const s = a[e];
              t.push(
                r.createElement(D, {
                  key: "PlayedGame_" + s.a,
                  appID: s.a,
                  name: s.t,
                  hours: s.p,
                  lastPlayed: s.l,
                  ignored: s.i || s.ip,
                }),
              );
            }),
            r.createElement(
              "div",
              { className: _.PlaytimeList },
              r.createElement(
                "div",
                { className: _.Header },
                (0, m.we)("#PlaytimeList_Header"),
              ),
              r.createElement(N, { accountID: this.props.accountID }),
              r.createElement("div", { className: _.List }, t),
            )
          );
        }
      };
      P = (0, i.Cg)([o.PA], P);
      const b = ({
          titleLabel: e,
          minLabel: t,
          maxLabel: a,
          minValue: s,
          maxValue: i,
          value: n,
          onChange: o,
          sliderLabels: l,
        }) => {
          const c = l
              ? Math.round((l.length - 1) * ((n - s) / (i - s)))
              : void 0,
            d = l ? l[c] : "";
          return r.createElement(
            "div",
            { className: _.OptionSlider },
            r.createElement("div", { className: _.Title }, e),
            r.createElement(
              "div",
              { className: _.Labels },
              r.createElement("div", { className: _.Min }, t),
              r.createElement("div", { className: _.Max }, a),
            ),
            r.createElement("input", {
              type: "range",
              min: s,
              max: i,
              step: (i - s) / 100,
              value: n,
              onChange: o,
            }),
            r.createElement("div", { className: _.OptionalLabel }, d),
          );
        },
        L = ({ className: e, titleLabel: t, checked: a, onChange: s }) =>
          r.createElement(
            "label",
            { className: (0, u.A)(_.OptionCheckbox, e && e) },
            r.createElement("input", {
              type: "checkbox",
              className: _.Checkbox,
              checked: a,
              onChange: s,
            }),
            t,
          );
      let M = class extends r.Component {
        selectedtags = [];
        constructor(e) {
          super(e),
            (0, l.Gn)(this),
            (this.selectedtags = [...e.selectedtags]),
            (this.state = { value: "", suggestions: [] });
        }
        rgTags = [];
        componentDidMount() {
          const e = T.getTags();
          if (e)
            for (const t of e)
              this.rgTags.push({ id: parseInt(t.tagid), name: t.name });
        }
        onFetchRequested(e) {
          const t = e.value.trim().toLowerCase(),
            a = t.length,
            s =
              0 === a
                ? this.props.tagoptions.slice(0, 10)
                : this.props.tagoptions.filter(
                    (e) => e.name.toLowerCase().slice(0, a) === t,
                  );
          this.setState({ suggestions: s });
        }
        onClearRequested() {}
        onChange(e, t) {
          this.setState({ value: t.newValue });
        }
        onKeyDown(e) {
          if (13 == e.keyCode)
            for (const t of this.props.tagoptions)
              if (t.name.toLowerCase() == this.state.value.toLowerCase()) {
                const a = {
                  suggestion: { id: t.id, name: t.name },
                  suggestionValue: t.name,
                  suggestionIndex: 0,
                  sectionIndex: 0,
                  method: "enter",
                };
                this.onSuggestionSelected(e, a);
                break;
              }
        }
        shouldRenderSuggestions(e) {
          return !0;
        }
        onSuggestionSelected(e, t) {
          for (const e of this.selectedtags) if (e == t.suggestion.id) return;
          this.selectedtags.push(t.suggestion.id),
            this.props.onAddTag(t.suggestion.id);
        }
        onRemoveSelectedTag(e) {
          for (let t = 0; t < this.selectedtags.length; t++)
            if (this.selectedtags[t] == e) {
              this.props.onRemoveTag(this.selectedtags[t]),
                this.selectedtags.splice(t, 1);
              break;
            }
        }
        render() {
          const e = {
            placeholder: (0, m.we)("#TagSelect"),
            value: this.state.value,
            onChange: this.onChange,
            onKeyDown: this.onKeyDown,
          };
          let t = [];
          for (const e of this.selectedtags) {
            let a = T.m_TagNameMap.get(e);
            t.push(
              r.createElement(
                "div",
                {
                  key: e,
                  className: _.SelectedTag,
                  onClick: (t) => this.onRemoveSelectedTag(e),
                },
                r.createElement("div", null, a),
                r.createElement("div", { className: _.Close }, "X"),
              ),
            );
          }
          return r.createElement(
            "div",
            { className: _.OptionTagList },
            r.createElement("div", { className: _.Label }, this.props.title),
            r.createElement(h(), {
              suggestions: this.state.suggestions,
              onSuggestionsFetchRequested: this.onFetchRequested,
              onSuggestionsClearRequested: this.onClearRequested,
              onSuggestionSelected: this.onSuggestionSelected,
              shouldRenderSuggestions: this.shouldRenderSuggestions,
              getSuggestionValue: (e) => e.name,
              renderSuggestion: (e) => r.createElement("div", null, e.name),
              inputProps: e,
              theme: {
                input: _.SuggestionInput,
                suggestion: _.OptionSuggestion,
                suggestionsList: _.SuggestionsList,
                suggestionsContainerOpen: _.SuggestionContainerOpen,
              },
            }),
            t,
          );
        }
      };
      (0, i.Cg)([l.sH], M.prototype, "selectedtags", void 0),
        (0, i.Cg)([p.oI], M.prototype, "onFetchRequested", null),
        (0, i.Cg)([p.oI], M.prototype, "onClearRequested", null),
        (0, i.Cg)([p.oI], M.prototype, "onChange", null),
        (0, i.Cg)([p.oI], M.prototype, "onKeyDown", null),
        (0, i.Cg)([p.oI], M.prototype, "shouldRenderSuggestions", null),
        (0, i.Cg)([p.oI], M.prototype, "onSuggestionSelected", null),
        (0, i.Cg)([p.oI], M.prototype, "onRemoveSelectedTag", null),
        (M = (0, i.Cg)([o.PA], M));
      const x = (0, o.PA)(() => {
        const e = T.getTags(),
          t = [];
        if (e)
          for (const a of e) t.push({ id: parseInt(a.tagid), name: a.name });
        const a = [
            (0, m.we)("#FilterAge_240"),
            (0, m.we)("#FilterAge_60"),
            (0, m.we)("#FilterAge_36"),
            (0, m.we)("#FilterAge_24"),
            (0, m.we)("#FilterAge_12"),
            (0, m.we)("#FilterAge_6"),
          ],
          s = T.m_rgExcludeTags,
          i = T.m_rgFilterTags;
        return r.createElement(
          "div",
          { className: _.RecommendationOptions },
          r.createElement(
            "div",
            { className: (0, u.A)(_.Row, _.FirstRow) },
            r.createElement(b, {
              minLabel: (0, m.we)("#Popularity_Popular"),
              titleLabel: (0, m.we)("#Popularity_Title"),
              maxLabel: (0, m.we)("#Popularity_Niche"),
              minValue: 0,
              maxValue: 1,
              value: T.m_fQueuedPopularityValue,
              onChange: T.onPopularityChanged,
            }),
            r.createElement(b, {
              minLabel: (0, m.we)("#Recency_Older"),
              titleLabel: (0, m.we)("#Recency_Title"),
              maxLabel: (0, m.we)("#Recency_Newer"),
              minValue: 0,
              maxValue: 1,
              value: T.m_fQueuedRecencyValue,
              onChange: T.onRecencyChanged,
              sliderLabels: a,
            }),
          ),
          r.createElement(
            "div",
            { className: (0, u.A)(_.Row, _.SecondRow) },
            r.createElement(M, {
              title: (0, m.we)("#TagFilterMultiple_Title"),
              tagoptions: t,
              selectedtags: i,
              key: "Filter" + i.toString(),
              onAddTag: T.onTagFilterAdd,
              onRemoveTag: T.onTagFilterRemove,
            }),
            r.createElement(M, {
              title: (0, m.we)("#TagExcludeMultiple_Title"),
              tagoptions: t,
              selectedtags: s,
              key: "Exclude" + s.toString(),
              onAddTag: T.onTagExcludeAdd,
              onRemoveTag: T.onTagExcludeRemove,
            }),
            r.createElement(L, {
              className: _.WishlistCheckbox,
              titleLabel: (0, m.we)("#ExcludeWishlisted"),
              checked: T.m_bExcludeWishlisted,
              onChange: T.onExcludeWishlistedToggled,
            }),
          ),
        );
      });
      let U = class extends r.Component {
        m_videoRef = r.createRef();
        constructor(e) {
          super(e),
            (this.state = {
              hovered: !1,
              wishlisted: T.getAppInfo()[e.appID].w,
            });
        }
        componentDidMount() {
          this.m_videoRef.current &&
            (this.m_videoRef.current.defaultMuted = !0);
        }
        componentDidUpdate() {
          if (
            this.state.hovered &&
            this.m_videoRef &&
            this.m_videoRef.current &&
            0 == this.m_videoRef.current.currentTime
          ) {
            const e = this.m_videoRef.current.play();
            e &&
              e.then(
                () => {},
                () => {},
              );
          }
        }
        OnHover() {
          this.setState({ hovered: !0 });
        }
        OnUnHover() {
          this.setState({ hovered: !1 }),
            this.m_videoRef &&
              this.m_videoRef.current &&
              ((this.m_videoRef.current.currentTime = 0),
              this.m_videoRef.current.pause());
        }
        onMuteToggle(e) {
          e.preventDefault(),
            e.stopPropagation(),
            T.shouldMute()
              ? (T.onUnMuteClicked(),
                this.m_videoRef &&
                  this.m_videoRef.current &&
                  (this.m_videoRef.current.muted = !1))
              : (T.onMuteClicked(),
                this.m_videoRef &&
                  this.m_videoRef.current &&
                  (this.m_videoRef.current.muted = !0));
        }
        onAddToWishlist(e) {
          e.preventDefault(),
            e.stopPropagation(),
            T.onAddToWishlist(this.props.appID, this.props.rank),
            this.setState({ wishlisted: !0 });
        }
        onGoToWishlist(e) {
          e.preventDefault(), e.stopPropagation(), T.onGoToWishlist();
        }
        onAddToCart(e, t) {
          e.preventDefault(),
            e.stopPropagation(),
            T.onAddToCart(this.props.appID, t, this.props.rank);
        }
        render() {
          const { appID: e, score: t, rank: a, width: s } = this.props,
            i = T.getAppInfo()[e];
          if (!i) return r.createElement("div", null);
          const n = i.n,
            o =
              i.r > 0
                ? (0, m.we)("#Recommendation_ReleasedOn", (0, m.$z)(i.r))
                : "";
          let l = [];
          if (i.t) {
            let t = 0;
            for (const a of i.t)
              if (
                (l.push(
                  r.createElement(
                    "div",
                    { key: `${e}_${a}`, className: _.Tag },
                    T.getTagName(a),
                  ),
                ),
                t++,
                5 == t)
              )
                break;
          }
          const p = parseInt(_.smallentrywidth),
            g = parseInt(_.optionswrapwidth);
          let h = 112,
            E = !0;
          s < p ? ((h = 66), (E = !1)) : s < g && ((h = 87), (E = !1));
          const S = E && this.state.hovered,
            I = Math.min(Number(t) / 100, 1e3);
          let f = !1,
            y = !1,
            C = !0,
            R = "",
            w = "",
            A = "",
            N = "",
            D = 0,
            P = "",
            b = !1,
            L = !0;
          if (S) {
            const e = T.getDetails(this.props.appID);
            e &&
              ((f = !0),
              (y = e.discount_pct > 0),
              (C = "0" == e.discount_price),
              (D = e.packageid),
              "probably" ==
              document
                .createElement("video")
                .canPlayType('video/webm; codecs="vp8, vorbis"')
                ? ((P = e.video_webm || ""),
                  ((T.shouldUseMicrotrailers() && e.microtrailer_webm) ||
                    0 == P.length) &&
                    ((P = e.microtrailer_webm || ""), (b = !0), (L = !1)))
                : ((P = e.video_mp4 || ""),
                  ((T.shouldUseMicrotrailers() && e.microtrailer_mp4) ||
                    0 == P.length) &&
                    ((P = e.microtrailer_mp4 || ""), (b = !0), (L = !1))),
              (R = `-${e.discount_pct}%`),
              (w = e.base_price),
              (A = C ? (0, m.we)("#FreeToPlay") : e.discount_price),
              (N = e.description));
          }
          const M = P && P.length > 0;
          return r.createElement(
            c.A,
            { appID: e },
            r.createElement(
              k,
              {
                href: `${v.BASE_URL}app/${e}`,
                className: (0, u.A)(
                  _.RecommendationEntry,
                  "ds_flagged",
                  "ds_wishlist",
                  a > 32 && _.Hidden,
                  S && _.Hovered,
                ),
                style: { top: Math.min(33, a) * h },
                onMouseEnter: this.OnHover,
                onMouseLeave: this.OnUnHover,
              },
              r.createElement(
                "div",
                { className: _.TopEntrySection },
                r.createElement(
                  "div",
                  { className: _.LeftSection },
                  r.createElement("img", {
                    className: (0, u.A)(_.Logo, (!M || !S) && _.Revealed),
                    src: this.props.header,
                  }),
                  r.createElement("video", {
                    ref: this.m_videoRef,
                    className: (0, u.A)(
                      "highlight_player_item",
                      "highlight_movie",
                      _.Video,
                      M && S && _.Revealed,
                    ),
                    playsInline: !0,
                    autoPlay: !0,
                    muted: L && T.shouldMute(),
                    src: P,
                    loop: b,
                  }),
                  L &&
                    r.createElement(
                      "div",
                      {
                        className: (0, u.A)(_.UnMute, M && _.Revealed),
                        onClick: (e) => this.onMuteToggle(e),
                      },
                      r.createElement(d.fSs, { muted: T.shouldMute() }),
                    ),
                  this.state.wishlisted &&
                    r.createElement(
                      "div",
                      {
                        className: (0, u.A)(
                          "ds_flag",
                          "ds_wishlist_flag",
                          _.WishlistFlag,
                        ),
                      },
                      (0, m.we)("#Recommendation_OnWishlist") + "",
                    ),
                ),
                r.createElement(
                  "div",
                  { className: _.RightSection },
                  r.createElement("div", { className: _.Name }, n),
                  r.createElement(
                    "div",
                    { className: _.CenterSection },
                    r.createElement(
                      "div",
                      {
                        className: (0, u.A)(
                          _.CenterOption,
                          _.CenterDefault,
                          S && _.Hidden,
                        ),
                      },
                      r.createElement("div", { className: _.Released }, o),
                      r.createElement(
                        "div",
                        { className: _.BarContainer },
                        r.createElement("div", {
                          className: _.Bar,
                          style: { width: `${I}%` },
                        }),
                      ),
                      r.createElement("div", { className: _.Tags }, l),
                    ),
                    r.createElement(
                      "div",
                      {
                        className: (0, u.A)(
                          _.CenterOption,
                          _.CenterHovered,
                          !S && _.Hidden,
                        ),
                      },
                      N,
                    ),
                  ),
                  f &&
                    r.createElement(
                      "div",
                      { className: _.BottomEntrySection },
                      r.createElement(
                        "div",
                        {
                          className: (0, u.A)(
                            "game_purchase_action",
                            _.PurchaseSection,
                          ),
                        },
                        r.createElement(
                          "div",
                          {
                            className: (0, u.A)(
                              "game_purchase_action_bg",
                              _.PurchaseBG,
                            ),
                          },
                          y &&
                            r.createElement(
                              "div",
                              {
                                className:
                                  "discount_block game_purchase_discount",
                              },
                              r.createElement(
                                "div",
                                { className: "discount_pct" },
                                R,
                              ),
                              r.createElement(
                                "div",
                                { className: "discount_prices" },
                                r.createElement(
                                  "div",
                                  { className: "discount_original_price" },
                                  w,
                                ),
                                r.createElement(
                                  "div",
                                  { className: "discount_final_price" },
                                  A,
                                ),
                              ),
                            ),
                          !y &&
                            r.createElement(
                              "div",
                              {
                                className: (0, u.A)(
                                  "game_purchase_price",
                                  "price",
                                  _.Price,
                                ),
                              },
                              A,
                            ),
                          !C &&
                            r.createElement(
                              "div",
                              {
                                className: "btn_addtocart",
                                onClick: (e) => this.onAddToCart(e, D),
                              },
                              r.createElement(
                                "span",
                                {
                                  className:
                                    "btnv6_green_white_innerfade btn_medium",
                                },
                                r.createElement(
                                  "span",
                                  null,
                                  (0, m.we)("#btn_add_to_cart"),
                                ),
                              ),
                            ),
                        ),
                      ),
                      !this.state.wishlisted &&
                        !C &&
                        r.createElement(
                          "div",
                          {
                            id: "add_to_wishlist_area",
                            className: _.WishlistSection,
                            onClick: (e) => this.onAddToWishlist(e),
                          },
                          r.createElement(
                            "div",
                            { className: "btnv6_blue_hoverfade btn_medium" },
                            r.createElement(
                              "span",
                              null,
                              (0, m.we)("#wishlist_add_to_wishlist"),
                            ),
                          ),
                        ),
                      this.state.wishlisted &&
                        !C &&
                        r.createElement(
                          "div",
                          {
                            className: (0, u.A)(
                              "btnv6_blue_hoverfade btn_medium",
                              "queue_btn_active",
                              _.Wishlisted,
                              _.WishlistSection,
                            ),
                            "data-tooltip-text": (0, m.we)(
                              "#OnWishlistTooltip",
                            ),
                            onClick: (e) => this.onGoToWishlist(e),
                          },
                          r.createElement(
                            "span",
                            null,
                            r.createElement("img", {
                              src: `${v.IMG_URL_BASE}/v6/ico/ico_selected.png`,
                            }),
                            "" + (0, m.we)("#OnWishlist"),
                          ),
                        ),
                    ),
                ),
              ),
            ),
          );
        }
      };
      (0, i.Cg)([p.oI], U.prototype, "OnHover", null),
        (0, i.Cg)([p.oI], U.prototype, "OnUnHover", null),
        (0, i.Cg)([p.oI], U.prototype, "onMuteToggle", null),
        (0, i.Cg)([p.oI], U.prototype, "onAddToWishlist", null),
        (0, i.Cg)([p.oI], U.prototype, "onGoToWishlist", null),
        (0, i.Cg)([p.oI], U.prototype, "onAddToCart", null),
        (U = (0, i.Cg)([o.PA], U));
      const k = r.forwardRef(function (e, t) {
        const { href: a, ...s } = e,
          i = (0, w.aL)(a);
        return r.createElement("a", { ...s, ref: t, href: i });
      });
      let O = class extends r.Component {
        constructor(e) {
          super(e), (this.state = { sortedRecommendedApps: [] });
        }
        render() {
          let e = [];
          const t = T.m_fRecencyValue * (v.NUM_RECENCY_STEPS - 1 - 0.001),
            a = Math.floor(t),
            s = a + 1,
            i = t - a,
            n = T.m_fPopularityValue * (v.NUM_POPULARITY_STEPS - 1 - 0.001),
            o = Math.floor(n),
            l = o + 1,
            c = n - o;
          e.push({
            index: a * v.NUM_RECENCY_STEPS + o,
            weight: (1 - i) * (1 - c),
          }),
            e.push({ index: s * v.NUM_RECENCY_STEPS + o, weight: i * (1 - c) }),
            e.push({ index: a * v.NUM_RECENCY_STEPS + l, weight: (1 - i) * c }),
            e.push({ index: s * v.NUM_RECENCY_STEPS + l, weight: i * c });
          let d = new Map(),
            p = 0;
          const g = T.getRecommendations(),
            h = T.getAppInfo();
          let E = [],
            S = r.createElement("div", {
              key: "recommendations_loading",
              className: _.RecommendationsLoading,
            });
          if (g) {
            for (const t of e) {
              const e = g.request_results[t.index];
              if (e) {
                p = Math.max(p, e.max_weight);
                for (const a of e.app_recommendations) {
                  const e = a.app_id;
                  if (
                    !h[e] ||
                    h[e].o ||
                    h[e].i ||
                    h[e].ti ||
                    (h[e].w && T.m_bExcludeWishlisted)
                  )
                    continue;
                  const s = (d.get(e) || 0) + a.weight * t.weight;
                  d.set(e, s);
                }
              }
            }
            let t = [];
            d.forEach((e, a) => t.push({ appid: a, score: e })),
              (t = t.filter(
                (e) => h[e.appid].t && T.doTagsPassFilter(h[e.appid].t),
              )),
              (t = t.filter(
                (e) => h[e.appid].t && !T.doTagsFailExclusion(h[e.appid].t),
              )),
              (t = t.filter((e) => e.score > 0));
            let a = t.sort((e, t) => t.score - e.score);
            if (a.length > 0) {
              a = a.slice(0, 32);
              let e = 0;
              for (let t of a) (t.rank = e), e++;
              E = a;
            } else
              S = r.createElement(
                "div",
                {
                  key: "no_recommedations_due_to_filter",
                  className: _.NoRecommendationsMessage,
                },
                (0, m.we)("#NoRecommendationsDueToFilter"),
              );
          }
          return r.createElement(
            "div",
            { className: _.RecommendationList },
            r.createElement(
              "div",
              { className: _.Header },
              (0, m.we)("#Recommendations_Header"),
            ),
            r.createElement(x, null),
            r.createElement(
              "div",
              {
                className: (0, u.A)(
                  _.List,
                  T.areResultsExpired() && _.Updating,
                ),
              },
              E.length
                ? r.createElement(V, {
                    rgRecommendations: E,
                    width: this.props.width,
                  })
                : S,
            ),
          );
        }
      };
      function V(e) {
        const { rgRecommendations: t, width: a } = e,
          s = r.useMemo(() => t.map((e) => e.appID), [t]);
        (0, A.zX)(s, { include_assets: !0 });
        const i = r.useMemo(
          () =>
            t.map((e) =>
              r.createElement(W, {
                key: e.appid,
                recommendation: {
                  appID: e.appid,
                  score: e.score,
                  rank: e.rank,
                  width: a,
                },
              }),
            ),
          [t, a],
        );
        return r.createElement(r.Fragment, null, " ", i, " ");
      }
      function W(e) {
        const { recommendation: t } = e,
          [a] = (0, A.t7)(t.appID, { include_assets: !0 });
        return a
          ? r.createElement(U, {
              appID: t.appID,
              score: t.score,
              rank: t.rank,
              width: t.width,
              header: a?.GetAssets()?.GetHeaderURL(),
            })
          : null;
      }
      O = (0, i.Cg)([o.PA], O);
      let F = class extends r.Component {
        state = { width: window.innerWidth };
        updateDimensions() {
          this.setState({ width: window.innerWidth });
        }
        componentDidMount() {
          window.addEventListener("resize", this.updateDimensions);
        }
        ShowLoginDialog() {
          (0, C.vg)();
        }
        render() {
          return n.iA.logged_in
            ? r.createElement(
                R.Ay,
                {
                  controller: "recommender",
                  method: "default",
                  feature: "capsule",
                },
                r.createElement(
                  "div",
                  {
                    className: _.App,
                    style: { height: 3840 + 26 * T.getTagHeight() },
                  },
                  r.createElement(
                    "div",
                    { className: _.Container },
                    r.createElement(
                      "div",
                      { className: _.TopSection },
                      r.createElement(
                        "div",
                        { className: _.Header },
                        (0, m.we)("#HeaderTitle"),
                      ),
                      r.createElement(
                        "div",
                        { className: _.Body },
                        (0, m.we)("#HeaderBody1"),
                      ),
                    ),
                    r.createElement(
                      "div",
                      { className: _.BottomSection },
                      r.createElement(P, { accountID: n.iA.accountid }),
                      r.createElement("div", { className: _.VerticalBar }),
                      r.createElement(O, { width: this.state.width }),
                    ),
                  ),
                ),
              )
            : r.createElement(
                "div",
                { className: _.App },
                r.createElement(
                  "div",
                  { className: _.Login },
                  r.createElement(
                    "div",
                    { className: _.Text },
                    (0, m.we)("#LoginText"),
                  ),
                  r.createElement(
                    "div",
                    {
                      className: (0, u.A)(
                        "btn_green_white_innerfade",
                        " btn_medium",
                      ),
                      onClick: this.ShowLoginDialog,
                    },
                    r.createElement("span", null, (0, m.we)("#LoginButton")),
                  ),
                ),
              );
        }
      };
      (0, i.Cg)([p.oI], F.prototype, "updateDimensions", null),
        (0, i.Cg)([p.oI], F.prototype, "ShowLoginDialog", null),
        (F = (0, i.Cg)([o.PA], F));
      const G = F;
    },
  },
]);
