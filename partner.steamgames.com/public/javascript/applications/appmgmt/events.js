/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [2136],
  {
    48348: (e) => {
      e.exports = {
        Bold: "bbcodes_Bold_1opdq",
        Italic: "bbcodes_Italic_3PSCE",
        Paragraph: "bbcodes_Paragraph_3zjkn",
        Header1: "bbcodes_Header1_38GFQ",
        Header2: "bbcodes_Header2_2ZqUv",
        Header3: "bbcodes_Header3_KePJs",
        Header4: "bbcodes_Header4_12a97",
        Header5: "bbcodes_Header5_4GmIV",
        CenterSpan: "bbcodes_CenterSpan_3RAiC",
        SmallText: "bbcodes_SmallText_UvZC_",
        Underline: "bbcodes_Underline_3vpZi",
        Strike: "bbcodes_Strike_3dQvq",
        Spoiler: "bbcodes_Spoiler_3Caxn",
        Revealed: "bbcodes_Revealed_35II0",
        SpoilerText: "bbcodes_SpoilerText_1owPz",
        DisabledMouseEvents: "bbcodes_DisabledMouseEvents_3QOEi",
        BlockQuote: "bbcodes_BlockQuote_2sfht",
        QuoteAuthor: "bbcodes_QuoteAuthor_2CMyS",
        PullQuote: "bbcodes_PullQuote_3DRIe",
        Code: "bbcodes_Code_1Aels",
        CodeBlock: "bbcodes_CodeBlock_1paKw",
        List: "bbcodes_List_tfM5V",
        OrderedList: "bbcodes_OrderedList_3Ve1E",
        ListItem: "bbcodes_ListItem_3DlO0",
        HR: "bbcodes_HR_26oRB",
        Table: "bbcodes_Table_2Z51g",
        NoBorder: "bbcodes_NoBorder_3aoME",
        TableRow: "bbcodes_TableRow_Ms77J",
        TableData: "bbcodes_TableData_2t3YC",
        TableHeader: "bbcodes_TableHeader_1vvfx",
        EqualCells: "bbcodes_EqualCells_5b-QB",
        ExpandSectionBlock: "bbcodes_ExpandSectionBlock_YvEQh",
        ExpandSectionHeader: "bbcodes_ExpandSectionHeader_3OxxM",
        EmbedArrow: "bbcodes_EmbedArrow_WXJl-",
        ExpandSectionBody: "bbcodes_ExpandSectionBody_2sCNL",
        ExpandSection_WithTitle: "bbcodes_ExpandSection_WithTitle_22nl0",
        LinkButton: "bbcodes_LinkButton_lMVeY",
        Image: "bbcodes_Image_1CmpC",
      };
    },
    57800: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Picker: "addonpicker_Picker_3acyH",
        Tabs: "addonpicker_Tabs_3DjoX",
        Tab: "addonpicker_Tab_1F8Bh",
        Focus: "addonpicker_Focus_3GiAc",
        TabContent: "addonpicker_TabContent_2MluN",
        Active: "addonpicker_Active_2bg1w",
        Content: "addonpicker_Content_1c-qe",
        ItemList: "addonpicker_ItemList_2tnPH",
        Item: "addonpicker_Item_3zgnd",
        SectionedPageTitle: "addonpicker_SectionedPageTitle_1rBPd",
        SectionTitle: "addonpicker_SectionTitle_3ff2f",
        FilterInputContainer: "addonpicker_FilterInputContainer_vzSOl",
        FilterInput: "addonpicker_FilterInput_18mhx",
        AddonPickerMessage: "addonpicker_AddonPickerMessage_LGYf8",
      };
    },
    38737: (e) => {
      e.exports = {
        DragTarget: "bbcodeeditor_DragTarget_2Mg-b",
        DragOnTopOfMe: "bbcodeeditor_DragOnTopOfMe_3-WTT",
        DescriptionCtn: "bbcodeeditor_DescriptionCtn_3uiaP",
        EventEditorLinkInput: "bbcodeeditor_EventEditorLinkInput_2tulF",
        DefaultEditor: "bbcodeeditor_DefaultEditor_36qAa",
        ImportHTMLCtn: "bbcodeeditor_ImportHTMLCtn_3uM5Y",
        ImportHTMLTextArea: "bbcodeeditor_ImportHTMLTextArea_2NOGR",
        ImportHTMLConvertButtons: "bbcodeeditor_ImportHTMLConvertButtons_1nQUA",
        ImportHTMLCheckBoxLine: "bbcodeeditor_ImportHTMLCheckBoxLine_20sWo",
        OptionRow: "bbcodeeditor_OptionRow_14XQ_",
        TextEditorToolBarContainer:
          "bbcodeeditor_TextEditorToolBarContainer_2aKjH",
        EmoteOuter: "bbcodeeditor_EmoteOuter_1DZyi",
        YouTubeInput: "bbcodeeditor_YouTubeInput_20wVy",
        YouTubePreviewInsertOption:
          "bbcodeeditor_YouTubePreviewInsertOption_2yhsl",
        DropDownScroll: "bbcodeeditor_DropDownScroll_3bxky",
        InsertSpeakerCtn: "bbcodeeditor_InsertSpeakerCtn_DC83j",
        TitleGroup: "bbcodeeditor_TitleGroup_2VErp",
        AssociateRowCtn: "bbcodeeditor_AssociateRowCtn_2uHPn",
        PhotoCtn: "bbcodeeditor_PhotoCtn_1B9kW",
        AboutCtn: "bbcodeeditor_AboutCtn_3GgiF",
        PreviewCtn: "bbcodeeditor_PreviewCtn_3C8BW",
        BBCodeEditorInputStyles: "bbcodeeditor_BBCodeEditorInputStyles_1Fpu1",
      };
    },
    18071: (e) => {
      e.exports = {
        BBCode_Toggle: "bbcodesuggestions_BBCode_Toggle_1MrSR",
        Active: "bbcodesuggestions_Active_3tFqQ",
        BBCode: "bbcodesuggestions_BBCode_2DSQu",
      };
    },
    79472: (e) => {
      e.exports = { Image: "clanimagepickandresize_Image_2W_Gz" };
    },
    4585: (e) => {
      e.exports = {
        DynamicLinkBox: "youtubeembed_DynamicLinkBox_5Ycv2",
        DynamicLink_Preview: "youtubeembed_DynamicLink_Preview_1SXvQ",
        DynamicLink_Author: "youtubeembed_DynamicLink_Author_3_zLB",
        DynamicLink_Description: "youtubeembed_DynamicLink_Description_2LLBo",
        DynamicLink_Content: "youtubeembed_DynamicLink_Content_30q6o",
        DynamicLink_Name: "youtubeembed_DynamicLink_Name_22TUb",
        DynamicLink_YoutubeViews: "youtubeembed_DynamicLink_YoutubeViews_3wb0B",
        Dynamiclink_Content: "youtubeembed_Dynamiclink_Content_91C09",
        DynamicLink_URL: "youtubeembed_DynamicLink_URL_2wwTh",
        DynamicLink_AuthorName: "youtubeembed_DynamicLink_AuthorName_1Thfl",
        DynamicLink_Date: "youtubeembed_DynamicLink_Date_3MAjB",
        PreviewYouTubeVideo: "youtubeembed_PreviewYouTubeVideo_2ydks",
        sizeThumb: "youtubeembed_sizeThumb_kQ_wg",
        sizeFull: "youtubeembed_sizeFull_2GDYx",
        floatLeft: "youtubeembed_floatLeft_3ZwVB",
        floatRight: "youtubeembed_floatRight_1VimJ",
      };
    },
    62404: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        chatEntryControls: "chatentry_chatEntryControls_2gP0D",
        chatTextarea: "chatentry_chatTextarea_pewyB",
        chatEntryActionsGroup: "chatentry_chatEntryActionsGroup_3grea",
        chatEntryActionsContainer: "chatentry_chatEntryActionsContainer_1X1-n",
        minHeightZero: "chatentry_minHeightZero_1IsiN",
        chatSubmitButton: "chatentry_chatSubmitButton_1IEiK",
        EmbedButton: "chatentry_EmbedButton_24xNx",
        EmoticonPickerButton: "chatentry_EmoticonPickerButton_K-lPM",
        disabled: "chatentry_disabled_2GM2k",
        Inactive: "chatentry_Inactive_34suB",
        AudioLines: "chatentry_AudioLines_1Hw30",
        Active: "chatentry_Active_2gzj2",
      };
    },
    59663: (e) => {
      e.exports = { Ctn: "cloudfileuploadbutton_Ctn_MKp7i" };
    },
    71654: (e) => {
      e.exports = {
        UploadPreviewContainer:
          "cloudfileuploadprogress_UploadPreviewContainer_2IhGM",
        SVGIcon_Video: "cloudfileuploadprogress_SVGIcon_Video_2TqYK",
        UploadPreview: "cloudfileuploadprogress_UploadPreview_120Qu",
        FileUploadFileName: "cloudfileuploadprogress_FileUploadFileName_2bbAV",
        FileUploadCancel: "cloudfileuploadprogress_FileUploadCancel_2MPbU",
        SVGIcon_X_Line: "cloudfileuploadprogress_SVGIcon_X_Line_3ad65",
        FileUploadBtn: "cloudfileuploadprogress_FileUploadBtn_3gPV-",
        FileUploadProgressContainer:
          "cloudfileuploadprogress_FileUploadProgressContainer_ZZt3E",
        FileUploadProgressBarContainer:
          "cloudfileuploadprogress_FileUploadProgressBarContainer_1J8k7",
        FileUploadProgressName:
          "cloudfileuploadprogress_FileUploadProgressName_1c12o",
      };
    },
    28744: (e) => {
      e.exports = {
        NewEmoticonIndicator: "emoticon_NewEmoticonIndicator_3B1SU",
        NewEmoticonCircle: "emoticon_NewEmoticonCircle_2ZOlu",
        EmoticonSelector: "emoticon_EmoticonSelector_3vBZ2",
        emoticon: "emoticon_emoticon_316r8",
        large: "emoticon_large_2mWtZ",
        EmoticonSelector_Emoticons: "emoticon_EmoticonSelector_Emoticons_36jkp",
        EmoticonSelector_Separator: "emoticon_EmoticonSelector_Separator_2rHxR",
        EmoticonSelector_SeparatorBackground:
          "emoticon_EmoticonSelector_SeparatorBackground_2VvGx",
        EmoticonSelector_Controls: "emoticon_EmoticonSelector_Controls_2YkoX",
        EmoticonSelector_Item: "emoticon_EmoticonSelector_Item_3y7iJ",
        EmoticonSelector_Item_New: "emoticon_EmoticonSelector_Item_New_gW-jg",
        EffectHeading: "emoticon_EffectHeading_1Lw2A",
        StickerHeading: "emoticon_StickerHeading_1wzP2",
        GetFestive: "emoticon_GetFestive_fSRfS",
        TopDivider: "emoticon_TopDivider_1p-3s",
        BottomDivider: "emoticon_BottomDivider_1dr6q",
        StickerButton: "emoticon_StickerButton_sJoLl",
        EffectButton: "emoticon_EffectButton_1RT9p",
        EmoticonHover: "emoticon_EmoticonHover_1GtsZ",
        Info: "emoticon_Info_1umzU",
        Name: "emoticon_Name_1rQ1e",
        AppName: "emoticon_AppName_1V_rH",
        StickerHoverSticker: "emoticon_StickerHoverSticker_3Cz-2",
        EffectHoverEffect: "emoticon_EffectHoverEffect_2s5VJ",
        PickerTab: "emoticon_PickerTab_Qpqjx",
        Clock: "emoticon_Clock_2a7aO",
        EmoticonItem: "emoticon_EmoticonItem_OfLMJ",
      };
    },
    23265: (e) => {
      e.exports = {
        Emoticon_Toggle: "emoticonsuggestion_Emoticon_Toggle_3XueY",
        Active: "emoticonsuggestion_Active_2JoNK",
        Emoticon: "emoticonsuggestion_Emoticon_3dAJw",
      };
    },
    57489: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppPartnerEventsPage: "apppartnereventspage_AppPartnerEventsPage_1m-hJ",
        AppPartnerEventsBanner:
          "apppartnereventspage_AppPartnerEventsBanner_2yR2O",
        AppBannerLinks: "apppartnereventspage_AppBannerLinks_lVbng",
        ControlSection: "apppartnereventspage_ControlSection_1Wu6D",
        NoGameLink: "apppartnereventspage_NoGameLink_2SteG",
        AppPartnerEventsBody: "apppartnereventspage_AppPartnerEventsBody_1nzwr",
        AppBannerGroup: "apppartnereventspage_AppBannerGroup_1GuB8",
        NoEvents: "apppartnereventspage_NoEvents_3YeWG",
        AppBannerCtn: "apppartnereventspage_AppBannerCtn_27-Nn",
        AppBannerBackground: "apppartnereventspage_AppBannerBackground_1zB7W",
        ClanBanner: "apppartnereventspage_ClanBanner_3hX12",
        TallBanner: "apppartnereventspage_TallBanner_2AMvD",
        WideBanner: "apppartnereventspage_WideBanner_T4JRY",
        AppBannerTitle: "apppartnereventspage_AppBannerTitle_3HRBh",
        NewsHubSubTitle: "apppartnereventspage_NewsHubSubTitle_25MMn",
        AppBannerLogoCtn: "apppartnereventspage_AppBannerLogoCtn_3cTtP",
        AppBannerLogo: "apppartnereventspage_AppBannerLogo_29q_J",
        HeaderFollowButton: "apppartnereventspage_HeaderFollowButton_3uk-g",
        AppBannerLink: "apppartnereventspage_AppBannerLink_34PPL",
        AppBannerRSSLink: "apppartnereventspage_AppBannerRSSLink_1QhXd",
        AppPartnerEventsContainer:
          "apppartnereventspage_AppPartnerEventsContainer_1FLIB",
        PartnerEvent: "apppartnereventspage_PartnerEvent_lwprN",
        LibraryViewSubtitle: "apppartnereventspage_LibraryViewSubtitle_IbQRs",
        EventDetailsBody: "apppartnereventspage_EventDetailsBody_AWjK8",
        NoScrollArrows: "apppartnereventspage_NoScrollArrows_1Ewh9",
        ControlSectionWidth: "apppartnereventspage_ControlSectionWidth_2jz0p",
        ControlSectionRightSide:
          "apppartnereventspage_ControlSectionRightSide_1WrR8",
        GameArt: "apppartnereventspage_GameArt_2u-98",
        ScrollButton: "apppartnereventspage_ScrollButton_357Gu",
        Up: "apppartnereventspage_Up_M6aVY",
        Down: "apppartnereventspage_Down_-qQg7",
        CloseButton: "apppartnereventspage_CloseButton_35HbM",
        AnimIn: "apppartnereventspage_AnimIn_bIoyq",
        transitionIn: "apppartnereventspage_transitionIn_1dXPO",
        ClickableBG: "apppartnereventspage_ClickableBG_u8QMP",
        DirectionState: "apppartnereventspage_DirectionState_2IYrn",
        EventTypeAndTimeRow: "apppartnereventspage_EventTypeAndTimeRow_11C0z",
        WithReminder: "apppartnereventspage_WithReminder_1cfFq",
        TimeandPostedBy: "apppartnereventspage_TimeandPostedBy_ElEkK",
        EventType: "apppartnereventspage_EventType_30JUM",
        PostedBy: "apppartnereventspage_PostedBy_3GBGA",
        ReminderContainer: "apppartnereventspage_ReminderContainer_1MsCZ",
        ReadMoreCnt: "apppartnereventspage_ReadMoreCnt_3OLsV",
      };
    },
    60361: (e) => {
      e.exports = { Main: "basicpartnereventrender_Main_2U6-V" };
    },
    36320: (e) => {
      e.exports = {
        ImagesOuterContainer: "clanimagechooser_ImagesOuterContainer_seVYs",
        Hilight: "clanimagechooser_Hilight_1bs5j",
        ImageContainer: "clanimagechooser_ImageContainer_dkWWh",
        Image: "clanimagechooser_Image_2M4oA",
        ImageFilename: "clanimagechooser_ImageFilename_EazUb",
      };
    },
    43997: (e) => {
      e.exports = {
        Container: "discussionwidget_Container_3BVe_",
        VoteContainer: "discussionwidget_VoteContainer_1uhQY",
        DiscussContainer: "discussionwidget_DiscussContainer_3tXYJ",
        ShareContainer: "discussionwidget_ShareContainer_cLK_F",
        InnerContainer: "discussionwidget_InnerContainer_3kQsD",
        DiscussionButton: "discussionwidget_DiscussionButton_wnKan",
        DiscussIcon: "discussionwidget_DiscussIcon_3-isH",
        linkField: "discussionwidget_linkField_1mRpV",
        ShareButtonContainer: "discussionwidget_ShareButtonContainer_3tMDZ",
        LinkInputLabel: "discussionwidget_LinkInputLabel_Gaizo",
        LinkButton: "discussionwidget_LinkButton_q5-pg",
        ShareSteamBtn: "discussionwidget_ShareSteamBtn_3Gc7y",
        ClipboardText: "discussionwidget_ClipboardText_3iQp-",
        LinkInput: "discussionwidget_LinkInput_2IeAw",
        ShareIcon: "discussionwidget_ShareIcon_1kFSv",
        ClipboardIcon: "discussionwidget_ClipboardIcon_sEXEi",
        SteamIcon: "discussionwidget_SteamIcon_3ZAOL",
        share_controls_ctn: "discussionwidget_share_controls_ctn_1PRQm",
        ShareLanguagePicker: "discussionwidget_ShareLanguagePicker_c-WS8",
        LanguageLabel: "discussionwidget_LanguageLabel_GHNBo",
        ShareBtn: "discussionwidget_ShareBtn_1qDAn",
        VoteCount: "discussionwidget_VoteCount_2dVe4",
        DiscussionCount: "discussionwidget_DiscussionCount_1GFRK",
        DiscussionButtonText: "discussionwidget_DiscussionButtonText_1qE1y",
        VoteDownIcon: "discussionwidget_VoteDownIcon_3QPkc",
        VoteDownSelectedIcon: "discussionwidget_VoteDownSelectedIcon_3SLkg",
        VoteUpIcon: "discussionwidget_VoteUpIcon_vRT1W",
        VoteUpSelectedIcon: "discussionwidget_VoteUpSelectedIcon_8WczG",
        VoteUpStaticIcon: "discussionwidget_VoteUpStaticIcon_1g-En",
        VoteButtonSelected: "discussionwidget_VoteButtonSelected_2c_5V",
      };
    },
    29054: (e) => {
      e.exports = {
        Header1: "eventbbcodeparser_Header1_15FlI",
        Header2: "eventbbcodeparser_Header2_1SWg2",
        Header3: "eventbbcodeparser_Header3_AX80F",
        Link: "eventbbcodeparser_Link_3I3zk",
        LinkHost: "eventbbcodeparser_LinkHost_3jOM4",
        LinkButton: "eventbbcodeparser_LinkButton_1PfAd",
        UnorderedList: "eventbbcodeparser_UnorderedList_3sYJ7",
        OrderedList: "eventbbcodeparser_OrderedList_60l9Y",
        StoreWidget: "eventbbcodeparser_StoreWidget_3TYlQ",
        MedalTVWidget: "eventbbcodeparser_MedalTVWidget_1Ysh1",
        LoyaltyRewardCtn: "eventbbcodeparser_LoyaltyRewardCtn_2SGke",
        SaleSectionCtn: "eventbbcodeparser_SaleSectionCtn_2Xrw_",
        SaleTextCtn: "eventbbcodeparser_SaleTextCtn_2Z1dC",
        ReminderCtn: "eventbbcodeparser_ReminderCtn_1dtL2",
        BlockQuote: "eventbbcodeparser_BlockQuote_2mfpG",
        SocialLink: "eventbbcodeparser_SocialLink_wn4Fw",
        SocialIcon: "eventbbcodeparser_SocialIcon_1wyn6",
        LocalizeBlock: "eventbbcodeparser_LocalizeBlock_hXuYi",
        CheckMark: "eventbbcodeparser_CheckMark_1nwMV",
        ScreenshotCarousel: "eventbbcodeparser_ScreenshotCarousel_3LgCS",
      };
    },
    51989: (e) => {
      e.exports = {
        sketchfab_play_overlay_image:
          "eventbbcodesketchfab_sketchfab_play_overlay_image_3MwaE",
        sketchfabmodelembedded:
          "eventbbcodesketchfab_sketchfabmodelembedded_2_Smm",
        dynamiclink_box: "eventbbcodesketchfab_dynamiclink_box_2-x_d",
        dynamiclink_preview: "eventbbcodesketchfab_dynamiclink_preview_3d1cc",
        dynamiclink_content: "eventbbcodesketchfab_dynamiclink_content_1HFFK",
        dynamiclink_name: "eventbbcodesketchfab_dynamiclink_name_2NgPQ",
        dynamiclink_type: "eventbbcodesketchfab_dynamiclink_type_t-mzc",
        dynamiclink_author: "eventbbcodesketchfab_dynamiclink_author_e66Tt",
      };
    },
    77555: (e) => {
      e.exports = {
        AppSummaryWidgetCtn:
          "eventdescriptionstorecapsule_AppSummaryWidgetCtn_2WIqq",
      };
    },
    40465: (e) => {
      e.exports = {
        FlexColumnContainer: "eventreminder_FlexColumnContainer_1WvmG",
        FullStartTime: "eventreminder_FullStartTime_1gZlx",
        ReminderDialog: "eventreminder_ReminderDialog_2S_bd",
        ReminderOptions: "eventreminder_ReminderOptions_P5dFj",
        ReminderBackground: "eventreminder_ReminderBackground_GDF1p",
        ReminderExpandsLeft: "eventreminder_ReminderExpandsLeft_3RoUk",
        ReminderOption: "eventreminder_ReminderOption_RNhWc",
        Unverified: "eventreminder_Unverified_PNHvX",
        CheckboxWrapper: "eventreminder_CheckboxWrapper_1g3ts",
        ReminderCheckBox: "eventreminder_ReminderCheckBox_2bkmL",
        IconMode: "eventreminder_IconMode_3L1VN",
        RemindBell: "eventreminder_RemindBell_1MZ5h",
        RemindCheck: "eventreminder_RemindCheck_30e1o",
        ReminderDefault: "eventreminder_ReminderDefault_10z6n",
        TextMode: "eventreminder_TextMode_2CgU9",
        ReminderCheck: "eventreminder_ReminderCheck_FpEF0",
        ReminderOpennedOptions: "eventreminder_ReminderOpennedOptions_1Zj38",
        ReminderOptionsHeader: "eventreminder_ReminderOptionsHeader_1GBAq",
        ReminderCalendarOptions: "eventreminder_ReminderCalendarOptions_1GxfZ",
        ReminderSettings: "eventreminder_ReminderSettings_L3OIh",
        ReminderNotes: "eventreminder_ReminderNotes_1l8Na",
        RpcThrobber: "eventreminder_RpcThrobber_2f9gF",
      };
    },
    49245: (e) => {
      e.exports = { Ctn: "loyaltyrewarditemembed_Ctn_2di0m" };
    },
    6864: (e) => {
      e.exports = {
        SteamAwardContainer: "nominationandvote_SteamAwardContainer_jBtX5",
        InLibraryView: "nominationandvote_InLibraryView_1G81P",
        SVGIcon_DialogCheck: "nominationandvote_SVGIcon_DialogCheck_1IRgd",
        SteamAwardHeader: "nominationandvote_SteamAwardHeader_2TvWH",
        SteamAwardHeaderImage: "nominationandvote_SteamAwardHeaderImage_3dsTJ",
        SteamAwardMainCtn: "nominationandvote_SteamAwardMainCtn_3CUAM",
        SteamAwardMainTitle: "nominationandvote_SteamAwardMainTitle_6gN_u",
        SteamAwardSubTitle: "nominationandvote_SteamAwardSubTitle_3SuAg",
        SteamAwardLearnMore: "nominationandvote_SteamAwardLearnMore_TqZmn",
        BottomRight: "nominationandvote_BottomRight_3VSBr",
        SteamAwardHeaderText: "nominationandvote_SteamAwardHeaderText_30-fH",
        LinkText: "nominationandvote_LinkText_1dQJW",
        SteamAwardVoteWidget: "nominationandvote_SteamAwardVoteWidget_2-t3v",
        SteamAwardVotePrompt: "nominationandvote_SteamAwardVotePrompt_38kTM",
        SteamAwardCategoryTitle:
          "nominationandvote_SteamAwardCategoryTitle_3hZED",
        VotingTitle: "nominationandvote_VotingTitle_at4wS",
        SteamAwardCategoryDesc:
          "nominationandvote_SteamAwardCategoryDesc_3bu8i",
        SteamAwardVoteButtonArea:
          "nominationandvote_SteamAwardVoteButtonArea_2gvv6",
        SteamAwardVoteButton: "nominationandvote_SteamAwardVoteButton_kTsuK",
        SteamAwardVoteButtonText:
          "nominationandvote_SteamAwardVoteButtonText_Zzla_",
        SteamAwardVoteButtonSubmitted:
          "nominationandvote_SteamAwardVoteButtonSubmitted_39ziF",
        NominateCtn: "nominationandvote_NominateCtn_hS9w-",
        SteamAwardNominateButton:
          "nominationandvote_SteamAwardNominateButton_VcFKW",
        Nominated: "nominationandvote_Nominated_2pePR",
        SteamAwardLinkToNominationPage:
          "nominationandvote_SteamAwardLinkToNominationPage_3XWCw",
        SteamAwardVoteCheckBox:
          "nominationandvote_SteamAwardVoteCheckBox_LFbd4",
        SteamAwardModalGameTitle:
          "nominationandvote_SteamAwardModalGameTitle_3hBdP",
        ExpiredEventHeader: "nominationandvote_ExpiredEventHeader_3e-YK",
        AwardCategoriesCtn: "nominationandvote_AwardCategoriesCtn_GCwk0",
        SteamAwardConflictModal:
          "nominationandvote_SteamAwardConflictModal_1Ujn_",
        NominationSwitchCtn: "nominationandvote_NominationSwitchCtn_3IrPA",
      };
    },
    83809: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        EventDetailsPageContainer:
          "partnereventdisplay_EventDetailsPageContainer_3PgWN",
        EventBackgroundBlurCtn:
          "partnereventdisplay_EventBackgroundBlurCtn_2CdA5",
        EventBackgroundBlur: "partnereventdisplay_EventBackgroundBlur_eti5E",
        DetailArtworkAgeAppropriate:
          "partnereventdisplay_DetailArtworkAgeAppropriate_1Oz9X",
        DetailArtworkAgeNotAppropriate:
          "partnereventdisplay_DetailArtworkAgeNotAppropriate_3hUSm",
        EventCoverImageBlr: "partnereventdisplay_EventCoverImageBlr_d3mE9",
        EventBodyCtn: "partnereventdisplay_EventBodyCtn_elmDq",
        EventBodyPosition: "partnereventdisplay_EventBodyPosition_14R9N",
        EventBody: "partnereventdisplay_EventBody_mnHzq",
        EventBroadcastCtn: "partnereventdisplay_EventBroadcastCtn_2S6h-",
        EventColumns: "partnereventdisplay_EventColumns_2exTf",
        EventCoverImageCtn: "partnereventdisplay_EventCoverImageCtn_2vmBm",
        NoTitleArtwork: "partnereventdisplay_NoTitleArtwork_jE6OX",
        ScreenshotInsteadOfCover:
          "partnereventdisplay_ScreenshotInsteadOfCover_13ojN",
        EventCoverImage: "partnereventdisplay_EventCoverImage_2JgmJ",
        EventCoverImageBackground:
          "partnereventdisplay_EventCoverImageBackground_3KoBG",
        InLibraryView: "partnereventdisplay_InLibraryView_3X6U9",
        InEditor: "partnereventdisplay_InEditor_30FDo",
        EventCoverImageFuzz: "partnereventdisplay_EventCoverImageFuzz_2FT4u",
        LibraryEventTitleContainer:
          "partnereventdisplay_LibraryEventTitleContainer_2gdgU",
        CoverImageGradient: "partnereventdisplay_CoverImageGradient_3izb2",
        EventDetailTitleImg: "partnereventdisplay_EventDetailTitleImg_2mX1j",
        EventDetailTitleDesc: "partnereventdisplay_EventDetailTitleDesc_AxPxb",
        EventDetailsSticky: "partnereventdisplay_EventDetailsSticky_2-KJD",
        EventDetailUserType: "partnereventdisplay_EventDetailUserType_3xnQd",
        EventDetailGameCallToAction:
          "partnereventdisplay_EventDetailGameCallToAction_JkS80",
        EventDetailTimeInfo: "partnereventdisplay_EventDetailTimeInfo_3Z41s",
        EventDetailsDescription:
          "partnereventdisplay_EventDetailsDescription_Y1sHn",
        EventDetailsBody: "partnereventdisplay_EventDetailsBody_3v0cw",
        EventDetailsGame: "partnereventdisplay_EventDetailsGame_2iGXx",
        EventDetailsAvatar: "partnereventdisplay_EventDetailsAvatar_3PfOP",
        GameActions: "partnereventdisplay_GameActions_1sOkh",
        ActionButton: "partnereventdisplay_ActionButton_1HIrM",
        Ownership: "partnereventdisplay_Ownership_2nzI3",
        EventDetailsType: "partnereventdisplay_EventDetailsType_2PV9A",
        EventDetailTitle: "partnereventdisplay_EventDetailTitle_2_4FS",
        EventDetailTitleContainer:
          "partnereventdisplay_EventDetailTitleContainer_35gM9",
        EventDetailsSubTitle: "partnereventdisplay_EventDetailsSubTitle_6k4NE",
        LibraryEventBodyContainer:
          "partnereventdisplay_LibraryEventBodyContainer_2ZgLv",
        "lang_zh-cn": "partnereventdisplay_lang_zh-cn_299Pk",
        lang_ko: "partnereventdisplay_lang_ko_3h28O",
        lang_ja: "partnereventdisplay_lang_ja_2WrMm",
        "lang_zh-tw": "partnereventdisplay_lang_zh-tw_3BdFR",
        AppSocialLinksCtn: "partnereventdisplay_AppSocialLinksCtn_VDEod",
        AppSocialLinks: "partnereventdisplay_AppSocialLinks_1VT5_",
        AppSocialLink: "partnereventdisplay_AppSocialLink_Lda0T",
        StartDate: "partnereventdisplay_StartDate_2v1tk",
        EndDate: "partnereventdisplay_EndDate__nCWF",
        MultiDateAndTime: "partnereventdisplay_MultiDateAndTime_jsynt",
        RightSideTitles: "partnereventdisplay_RightSideTitles_2PqSq",
        DisplayAdminPanel_Title:
          "partnereventdisplay_DisplayAdminPanel_Title_3mA--",
        DateAndTime: "partnereventdisplay_DateAndTime_2X9VM",
        NoDateAndTime: "partnereventdisplay_NoDateAndTime_2hmi0",
        AppSummaryCtn: "partnereventdisplay_AppSummaryCtn_1kEXu",
        AppSummaryWidgetTitleCtn:
          "partnereventdisplay_AppSummaryWidgetTitleCtn_19R8i",
        Title: "partnereventdisplay_Title_2Xjut",
        AppSummaryWidgetCtn: "partnereventdisplay_AppSummaryWidgetCtn_2cY3h",
        DisplayAdminPanel: "partnereventdisplay_DisplayAdminPanel_2tK-z",
        DisplayAdminPanel_ctn:
          "partnereventdisplay_DisplayAdminPanel_ctn_3_RH8",
        DisplayAdminPanel_Spacer:
          "partnereventdisplay_DisplayAdminPanel_Spacer_d3tBR",
        AdminButton: "partnereventdisplay_AdminButton_307ys",
        EditorStatsCtn: "partnereventdisplay_EditorStatsCtn_jWmiq",
        VisibilityNote: "partnereventdisplay_VisibilityNote_EP4DQ",
        EditorStatsRow: "partnereventdisplay_EditorStatsRow_BN0_B",
        SteamBlog: "partnereventdisplay_SteamBlog_3JpZt",
        LunarNewYearHeader: "partnereventdisplay_LunarNewYearHeader_3hCjp",
        EnvelopeArea: "partnereventdisplay_EnvelopeArea_1o2eU",
        TokenBalanceContainer:
          "partnereventdisplay_TokenBalanceContainer__bxB9",
        TokenBalance: "partnereventdisplay_TokenBalance_1PrEM",
        EnvelopeContainer: "partnereventdisplay_EnvelopeContainer_2tzMM",
        BackingRect: "partnereventdisplay_BackingRect_2GYms",
        Envelope: "partnereventdisplay_Envelope_1KZOM",
        GiftLabel: "partnereventdisplay_GiftLabel_3_7is",
        OpenState: "partnereventdisplay_OpenState_1MB4P",
        Opened: "partnereventdisplay_Opened_2J2Iy",
        Locked: "partnereventdisplay_Locked_2k7p5",
        Unlocked: "partnereventdisplay_Unlocked_1lSjY",
        NeedLogin: "partnereventdisplay_NeedLogin_2MzBw",
        BottomMessage: "partnereventdisplay_BottomMessage_3Bupu",
        VO: "partnereventdisplay_VO_2yIQ8",
        LunarNewYearOpenEnvelopeVideoDialog:
          "partnereventdisplay_LunarNewYearOpenEnvelopeVideoDialog_qi-8p",
        Container: "partnereventdisplay_Container_GU0r1",
        Column: "partnereventdisplay_Column_2PfQR",
        VideoBox: "partnereventdisplay_VideoBox_3g8bV",
        CoinText: "partnereventdisplay_CoinText_3tOxn",
        Visible: "partnereventdisplay_Visible_2dVnV",
        LunarNewYearOpenEnvelopeVideo:
          "partnereventdisplay_LunarNewYearOpenEnvelopeVideo_2C0eO",
        StoryHeader: "partnereventdisplay_StoryHeader_17xU_",
        StorySubHeader: "partnereventdisplay_StorySubHeader_lnGG0",
        StoryText: "partnereventdisplay_StoryText_2j7gt",
        StoryPicture: "partnereventdisplay_StoryPicture_G_Tvq",
        CheckBackText: "partnereventdisplay_CheckBackText_1W1JL",
        DancingRat: "partnereventdisplay_DancingRat_3bNpM",
        Links: "partnereventdisplay_Links_361ou",
        MarketLink: "partnereventdisplay_MarketLink_3fjva",
        MarketLinkhover: "partnereventdisplay_MarketLinkhover_21osb",
        ReadMoreCnt: "partnereventdisplay_ReadMoreCnt_d_R9N",
        VerticalLocalDateAndTime:
          "partnereventdisplay_VerticalLocalDateAndTime_1QFMN",
      };
    },
    38279: (e) => {
      e.exports = {
        ReferencedApps: "partnereventreferencedapps_ReferencedApps_2xZM7",
      };
    },
    25899: (e) => {
      e.exports = {
        SpeakerOuter: "presenterpopup_SpeakerOuter_3KAg2",
        Speaker: "presenterpopup_Speaker_2B3rV",
        SpeakerPopup: "presenterpopup_SpeakerPopup_ntY3G",
        SpeakerInfoOuter: "presenterpopup_SpeakerInfoOuter_20Ye7",
        SpeakerInfoInner: "presenterpopup_SpeakerInfoInner_2ZeoL",
        SpeakerTitle: "presenterpopup_SpeakerTitle_29hmW",
        SpeakerBio: "presenterpopup_SpeakerBio_1YoXP",
        SpeakerHover: "presenterpopup_SpeakerHover_1ctFc",
      };
    },
    7762: (e) => {
      e.exports = {
        CheckMark: "claimitemshared_CheckMark_3HeHP",
        DialogCtn: "claimitemshared_DialogCtn_ltlR6",
        EquipCtn: "claimitemshared_EquipCtn_2_8bZ",
      };
    },
    72775: (e) => {
      e.exports = {
        Link: "salebanner_Link_26cHo",
        Banner: "salebanner_Banner_2df4N",
        Big: "salebanner_Big_1m7WT",
        Mobile: "salebanner_Mobile_2w3oX",
      };
    },
    20993: (e) => {
      e.exports = { ErrorDiv: "saleeventbbcodeparser_ErrorDiv_1Vj6H" };
    },
    31038: (e) => {
      e.exports = {
        Container: "sharewithfriends_Container_8f6EQ",
        SmallAvatar: "sharewithfriends_SmallAvatar_kzjfl",
        ShareDescription: "sharewithfriends_ShareDescription_mhpsV",
        ShareLink: "sharewithfriends_ShareLink_2DzSq",
      };
    },
    83431: (e) => {
      e.exports = { BroadcastCtn: "vodplayer_BroadcastCtn_3YzMi" };
    },
    31698: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "managefriends_Heading_1lIY_",
        Body: "managefriends_Body_1JDe7",
        HeaderBlock: "managefriends_HeaderBlock_3n-KU",
        Background: "managefriends_Background_OtPIj",
        DimBackground: "managefriends_DimBackground_2kSJm",
        Input: "managefriends_Input_BRkPz",
        CopyContainer: "managefriends_CopyContainer_2r_KS",
        Text: "managefriends_Text_3NGNC",
        Link: "managefriends_Link_3RoxO",
        Button: "managefriends_Button_1ARlQ",
        GenerateLinkButton: "managefriends_GenerateLinkButton_1TX0d",
        ProfileCard: "managefriends_ProfileCard_2a7rs",
        UserContainer: "managefriends_UserContainer_vSokQ",
        Image: "managefriends_Image_vQTKB",
        ProfileContent: "managefriends_ProfileContent_29EO2",
        ProfileLink: "managefriends_ProfileLink_14jbp",
        Failure: "managefriends_Failure_30nEP",
        Success: "managefriends_Success_1NPlB",
        FriendCodeSelector: "managefriends_FriendCodeSelector_35N5F",
        SendInviteButton: "managefriends_SendInviteButton_3Izq1",
      };
    },
    5303: (e) => {
      e.exports = {
        Label: "importexportdialog_Label_RRbwy",
        ImportLocSampleButtonCtn:
          "importexportdialog_ImportLocSampleButtonCtn_2LkAY",
        SampleTitle: "importexportdialog_SampleTitle_BnzCu",
        ImportButton: "importexportdialog_ImportButton_3JC9N",
      };
    },
    1069: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        mentionDialogPosition: "suggestdialog_mentionDialogPosition_1bkUR",
        mentionDialog: "suggestdialog_mentionDialog_3cYwT",
        mentionSearchText: "suggestdialog_mentionSearchText_3YEqW",
        suggestOption: "suggestdialog_suggestOption_2vKza",
        mentionSearchOption: "suggestdialog_mentionSearchOption_3KZn9",
        manyMatches: "suggestdialog_manyMatches_3Y9oJ",
        selected: "suggestdialog_selected_vuyQs",
        nickname: "suggestdialog_nickname_35J9N",
        mentionSearchMatch: "suggestdialog_mentionSearchMatch_mBrO4",
      };
    },
    15854: (e) => {
      e.exports = {
        BuildNoteCtn: "buildpatchnotes_BuildNoteCtn_cZP-5",
        SplitPanel: "buildpatchnotes_SplitPanel_2TINc",
        DescriptionPanel: "buildpatchnotes_DescriptionPanel_2N1TH",
        RightPanel: "buildpatchnotes_RightPanel_EN_Yg",
        BuildTitle: "buildpatchnotes_BuildTitle_-2I9C",
        BuildSubTitle: "buildpatchnotes_BuildSubTitle_2lG_b",
        InfoText: "buildpatchnotes_InfoText_3-WB4",
        EditTopBar: "buildpatchnotes_EditTopBar_bJHHP",
        LangPicker: "buildpatchnotes_LangPicker_1P7Ac",
        EditTitle: "buildpatchnotes_EditTitle_2o-fI",
        SubmitButtonCtn: "buildpatchnotes_SubmitButtonCtn_Vj8rX",
        BBCodeEditor: "buildpatchnotes_BBCodeEditor_2gIbt",
        ErrorMsg: "buildpatchnotes_ErrorMsg_2yUUH",
        SteamChinaMsg: "buildpatchnotes_SteamChinaMsg_3EFpC",
        PreviewHeader: "buildpatchnotes_PreviewHeader_3GODe",
        SubmitPanel: "buildpatchnotes_SubmitPanel_2WB1w",
        SubmitThrobber: "buildpatchnotes_SubmitThrobber_2rWSm",
        SuccessPanel: "buildpatchnotes_SuccessPanel_3jQwV",
        ViewEventButton: "buildpatchnotes_ViewEventButton_3zUBg",
        FailedPanel: "buildpatchnotes_FailedPanel_1H8CO",
        FailedText: "buildpatchnotes_FailedText_pu4VY",
        FailedButton: "buildpatchnotes_FailedButton_soZLp",
      };
    },
    33817: (e) => {
      e.exports = {
        DashboardCtn: "optin_admin_dashboard_DashboardCtn_24Fut",
        OptInAdminRow: "optin_admin_dashboard_OptInAdminRow_39siH",
        OptinEnabled: "optin_admin_dashboard_OptinEnabled_2yTnl",
        StatsCtn: "optin_admin_dashboard_StatsCtn_3ZKx3",
        Button: "optin_admin_dashboard_Button_27cO9",
        ButtonCtn: "optin_admin_dashboard_ButtonCtn_2oOF5",
        StatRefresh: "optin_admin_dashboard_StatRefresh_2EDoV",
      };
    },
    97799: (e) => {
      e.exports = {
        Header: "optin_admin_dynamic_sections_Header_1DEtC",
        AddSectionCtn: "optin_admin_dynamic_sections_AddSectionCtn_QTymR",
        optionList: "optin_admin_dynamic_sections_optionList_2QQ6j",
      };
    },
    28152: (e) => {
      e.exports = {
        MainBody: "optin_admin_editor_MainBody_3Qmgl",
        MainCol: "optin_admin_editor_MainCol_1Plts",
        RightCol: "optin_admin_editor_RightCol_1hPMJ",
        FlexRowWrapFlexStartContainer:
          "optin_admin_editor_FlexRowWrapFlexStartContainer_2DAMJ",
        InviteButtonRow: "optin_admin_editor_InviteButtonRow_z70Aa",
        ShowAllInvitedRow: "optin_admin_editor_ShowAllInvitedRow_YH0Zz",
        NarrowInputField: "optin_admin_editor_NarrowInputField_3s6tX",
        TopBarContainer: "optin_admin_editor_TopBarContainer_aeUyk",
        BottomBar: "optin_admin_editor_BottomBar_1JwCy",
        EligibleGames: "optin_admin_editor_EligibleGames_1rysV",
        BasicButtonSize: "optin_admin_editor_BasicButtonSize_29w-Z",
        EditorInputPaneContents:
          "optin_admin_editor_EditorInputPaneContents_1EuN8",
        Section: "optin_admin_editor_Section_2yL7J",
        SectionDesc: "optin_admin_editor_SectionDesc_33_oC",
        ManageTable: "optin_admin_editor_ManageTable_2afWv",
        IndentedSubSection: "optin_admin_editor_IndentedSubSection_3zYTc",
        Disabled: "optin_admin_editor_Disabled_2rKAB",
        RightSection: "optin_admin_editor_RightSection_3NiRT",
        EventBBCodeEditor: "optin_admin_editor_EventBBCodeEditor_3UtWX",
        InvitedAppHistoryDialog:
          "optin_admin_editor_InvitedAppHistoryDialog_1OeP6",
        InvitedAppHistoryTable:
          "optin_admin_editor_InvitedAppHistoryTable_Lp1p-",
        InvitedAppRow: "optin_admin_editor_InvitedAppRow_2tiXs",
        StatsCtn: "optin_admin_editor_StatsCtn_3R21M",
        EligibleGamesTable: "optin_admin_editor_EligibleGamesTable_3sBXw",
      };
    },
    72165: (e) => {
      e.exports = {
        EmailTypesCtn: "optin_admin_email_dashboard_EmailTypesCtn_4xCBy",
        EmailAdmin: "optin_admin_email_dashboard_EmailAdmin_2PhkO",
        EmailsCtn: "optin_admin_email_dashboard_EmailsCtn_30DZ2",
        NoWrap: "optin_admin_email_dashboard_NoWrap_3yOHO",
        TileContainer: "optin_admin_email_dashboard_TileContainer_2dKmv",
        EmailType: "optin_admin_email_dashboard_EmailType_2Jicc",
        EmailDesc: "optin_admin_email_dashboard_EmailDesc_1CE8C",
        EmailStatusTodo: "optin_admin_email_dashboard_EmailStatusTodo_3bvme",
        EmailTitle: "optin_admin_email_dashboard_EmailTitle_ZubnX",
        Selected: "optin_admin_email_dashboard_Selected_UaNa5",
      };
    },
    9691: (e) => {
      e.exports = {
        CenterAlign: "optin_admin_email_editor_CenterAlign_30g6t",
        EmailEditorContent: "optin_admin_email_editor_EmailEditorContent_BLEK0",
        Columns: "optin_admin_email_editor_Columns_3dWS0",
        LeftCol: "optin_admin_email_editor_LeftCol_3v4Ve",
        RightCol: "optin_admin_email_editor_RightCol_2XdIS",
        Sticky: "optin_admin_email_editor_Sticky_1JpQa",
        ConfTitle: "optin_admin_email_editor_ConfTitle_1034q",
        EmailSubjectCtn: "optin_admin_email_editor_EmailSubjectCtn_Ky6vQ",
        EmailOptionTitle: "optin_admin_email_editor_EmailOptionTitle_2byFL",
        EmailTemplate: "optin_admin_email_editor_EmailTemplate_4QEkY",
        RightAlign: "optin_admin_email_editor_RightAlign_jGzd4",
        DevEmailTemplate: "optin_admin_email_editor_DevEmailTemplate_1Mnom",
        DevEmail_Content: "optin_admin_email_editor_DevEmail_Content_3Ot-a",
        DevEmail_Headline1: "optin_admin_email_editor_DevEmail_Headline1_3dKOm",
        DevEmail_TopLogo: "optin_admin_email_editor_DevEmail_TopLogo_1cVtv",
        DevEmail_TopHeader: "optin_admin_email_editor_DevEmail_TopHeader_I1TnL",
        DevEmail_Headline2: "optin_admin_email_editor_DevEmail_Headline2_2Jqt0",
        EventCtn: "optin_admin_email_editor_EventCtn_3LekG",
        EventTitle: "optin_admin_email_editor_EventTitle_Zmpp3",
        EventDates: "optin_admin_email_editor_EventDates_300LP",
        DevEmail_SignOff_Img:
          "optin_admin_email_editor_DevEmail_SignOff_Img_3O708",
        DevEmail_Signoff: "optin_admin_email_editor_DevEmail_Signoff_3AVDI",
        DevEmail_Footer_Ctn:
          "optin_admin_email_editor_DevEmail_Footer_Ctn_FpCTM",
        DevEmail_Footer_Reason:
          "optin_admin_email_editor_DevEmail_Footer_Reason_oQkDs",
        DevEmail_Footer_SubSection:
          "optin_admin_email_editor_DevEmail_Footer_SubSection_2fxkC",
        DevEmail_Footer_Bold:
          "optin_admin_email_editor_DevEmail_Footer_Bold_3dqoc",
        DevEmail_Footer_Regular:
          "optin_admin_email_editor_DevEmail_Footer_Regular_pleWj",
        DevEmail_Follow: "optin_admin_email_editor_DevEmail_Follow_1i4xt",
        DevEmail_RecipientTable:
          "optin_admin_email_editor_DevEmail_RecipientTable_wkKaz",
        MetaDataCtn: "optin_admin_email_editor_MetaDataCtn_1-s0h",
        MetaDataSummary: "optin_admin_email_editor_MetaDataSummary_22Gai",
        MetaDataRow: "optin_admin_email_editor_MetaDataRow_1Pb5P",
        MetaDataRowTitle: "optin_admin_email_editor_MetaDataRowTitle_393Gu",
        MaxEventCount: "optin_admin_email_editor_MaxEventCount_1E7zP",
        SectionCtn: "optin_admin_email_editor_SectionCtn_2LeZ2",
        SectionTitle: "optin_admin_email_editor_SectionTitle_Ypz5S",
        SectionEntryTitle: "optin_admin_email_editor_SectionEntryTitle_ScsuE",
        SectionBody: "optin_admin_email_editor_SectionBody_2JTPY",
        ChangeBtnCtn: "optin_admin_email_editor_ChangeBtnCtn_1LZ2L",
        AddSectionCtn: "optin_admin_email_editor_AddSectionCtn_2H_OO",
        StatCtn: "optin_admin_email_editor_StatCtn_3lCM2",
        StatNumber: "optin_admin_email_editor_StatNumber_3gAEw",
        BigButton: "optin_admin_email_editor_BigButton_2d5qK",
      };
    },
    79186: (e) => {
      e.exports = { Preview: "optin_admin_email_sections_Preview_3fMhG" };
    },
    54703: (e) => {
      e.exports = {
        DownloadRow: "optin_admin_manage_dashboard_DownloadRow_3Bo6G",
      };
    },
    42064: (e) => {
      e.exports = {
        StatsCtn: "optin_admin_manage_refresh_StatsCtn_JtiCe",
        Warning: "optin_admin_manage_refresh_Warning_3cDtw",
      };
    },
    27499: (e) => {
      e.exports = {
        SectionTitle: "optin_app_review_SectionTitle_VM14U",
        Row: "optin_app_review_Row_2db7m",
        Pruned: "optin_app_review_Pruned_2-QYp",
        CapsuleImg: "optin_app_review_CapsuleImg_8kkOB",
        Column: "optin_app_review_Column_1r2iO",
        TopSection: "optin_app_review_TopSection_2nKNy",
        ActionsCtn: "optin_app_review_ActionsCtn_2jqGL",
        AppealWordsCtn: "optin_app_review_AppealWordsCtn_3B_85",
        GameInfo: "optin_app_review_GameInfo_3FTQ3",
        Title: "optin_app_review_Title_1Y3gQ",
        Desc: "optin_app_review_Desc_1ICOQ",
        StoreTags: "optin_app_review_StoreTags_3eS-z",
        RowNumber: "optin_app_review_RowNumber_1HUph",
        FilterTagCnt: "optin_app_review_FilterTagCnt_-HWZK",
        TagFilterBar: "optin_app_review_TagFilterBar_sNv3-",
      };
    },
    36659: (e) => {
      e.exports = {
        CollapseableTitle: "optin_app_review_appeal_CollapseableTitle_vvz0t",
      };
    },
    11401: (e) => {
      e.exports = {
        Dummy: "optin_display_appeal_Dummy_XMLkP",
        ButtonCtn: "optin_display_appeal_ButtonCtn_3QVsd",
        AppealResults: "optin_display_appeal_AppealResults_3RoeY",
        Declined: "optin_display_appeal_Declined_3fgI8",
        AppealTitle: "optin_display_appeal_AppealTitle_X7wqW",
        AppealsEntryPointCtn: "optin_display_appeal_AppealsEntryPointCtn_o0-VK",
        AppealSelectedApp: "optin_display_appeal_AppealSelectedApp_2JcBf",
        SelectedApp: "optin_display_appeal_SelectedApp_DZyHh",
      };
    },
    66813: (e) => {
      e.exports = {
        Dummy: "optin_display_appeal_dialog_Dummy_2ezUj",
        AppealTextInput: "optin_display_appeal_dialog_AppealTextInput_2g-Q7",
        AppealsEntryForm: "optin_display_appeal_dialog_AppealsEntryForm_1G49-",
      };
    },
    7993: (e) => {
      e.exports = {
        DynamicSection: "optin_display_dynamic_sections_DynamicSection_-H4oQ",
        ListContainer: "optin_display_dynamic_sections_ListContainer_b77rl",
        ListTitle: "optin_display_dynamic_sections_ListTitle_1vaSC",
        Column: "optin_display_dynamic_sections_Column_1nquN",
        Categorization: "optin_display_dynamic_sections_Categorization_3BNYK",
        VisibilityTable: "optin_display_dynamic_sections_VisibilityTable_2Doz0",
        TextArea: "optin_display_dynamic_sections_TextArea_2GJyI",
      };
    },
    14288: (e, t, n) => {
      "use strict";
      n.d(t, {
        BB: () => x,
        Be: () => C,
        GS: () => B,
        HC: () => M,
        LW: () => w,
        MJ: () => P,
        R6: () => N,
        YC: () => H,
        aV: () => O,
        im: () => T,
        jj: () => U,
        pu: () => R,
        qy: () => j,
        vZ: () => A,
        zV: () => L,
      });
      var a = n(33940),
        i = n(89526),
        o = n(40442),
        l = n(44026),
        r = n(51438),
        s = n(98009),
        c = n(13345),
        d = n(48616),
        m = n(19274),
        p = n(4585),
        u = n(97352),
        _ = n(94843),
        h = n(701),
        g = n(71161),
        E = n(19304),
        v = n(14826),
        S = n(207),
        f = n(32765),
        y = n(24174),
        D = n(48348),
        b = n.n(D),
        I = n(14966);
      const C = new Map([
        [
          "b",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().Bold },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "i",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, E.Z)(b().Italic, "BB_Italic") },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["h1", { Constructor: N, autocloses: !1, skipFollowingNewline: !0 }],
        ["h2", { Constructor: L, autocloses: !1, skipFollowingNewline: !0 }],
        ["h3", { Constructor: x, autocloses: !1, skipFollowingNewline: !0 }],
        [
          "h4",
          {
            Constructor: function (e) {
              return k(e, (0, E.Z)(b().Header4, "BB_Header4"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "h5",
          {
            Constructor: function (e) {
              return k(e, (0, E.Z)(b().Header5, "BB_Header5"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "center",
          {
            Constructor: function (e) {
              let t = T(e.args, "id");
              t &&
                "string" == typeof t &&
                t.length > 0 &&
                "#" === t[0] &&
                (t = t.substring(1));
              return i.createElement(
                "span",
                {
                  id: t || void 0,
                  className: (0, E.Z)(b().CenterSpan, "BB_Center"),
                },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "smalltext",
          {
            Constructor: function (e) {
              return k(e, (0, E.Z)(b().SmallText, "BB_SmallText"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "u",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().Underline },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "strike",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().Strike },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "spoiler",
          {
            Constructor: function (e) {
              let [t, n] = i.useState(!1),
                a = i.useCallback(() => {
                  n(!t);
                }, [t]);
              return i.createElement(
                r.s,
                {
                  className: (0, E.Z)(b().Spoiler, t && b().Revealed),
                  focusable: !0,
                  onActivate: a,
                  onOKActionDescription: (0, v.Xx)(
                    t ? "#Bbcode_Spoiler_Hide" : "#Bbcode_Spoiler_Show",
                  ),
                },
                i.createElement(
                  "span",
                  { className: b().SpoilerText },
                  e.children,
                ),
              );
            },
            autocloses: !1,
          },
        ],
        [
          "hr",
          {
            Constructor: function (e) {
              return i.createElement("div", { className: b().HR });
            },
            autocloses: !1,
          },
        ],
        [
          "noparse",
          {
            Constructor: function (e) {
              return e.children;
            },
            autocloses: !1,
          },
        ],
        [
          "url",
          {
            Constructor: function (e) {
              let t = T(e.args);
              if (!t) {
                const n = e.children;
                "string" == typeof n &&
                  (n.startsWith("http://") || n.startsWith("https://")) &&
                  (t = n);
              }
              const n = "button" == T(e.args, "style") ? b().LinkButton : null;
              let a = T(e.args, "id");
              a &&
                "string" == typeof a &&
                a.length > 0 &&
                "#" === a[0] &&
                (a = a.substring(1));
              if (void 0 === t && !a) return e.children || "";
              if (
                void 0 === t ||
                ("string" == typeof t && t.length > 0 && "#" == t[0])
              )
                return i.createElement(
                  "a",
                  { href: null != t ? t : null, id: a },
                  e.children,
                );
              return i.createElement(
                G,
                { className: n, href: t, id: a },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["quote", { Constructor: R, autocloses: !1 }],
        [
          "pullquote",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().PullQuote },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "code",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().CodeBlock },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "c",
          {
            Constructor: function (e) {
              return i.createElement(
                "code",
                { className: b().Code },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["list", { Constructor: O, autocloses: !1, skipInternalNewline: !0 }],
        ["olist", { Constructor: B, autocloses: !1, skipInternalNewline: !0 }],
        ["*", { Constructor: M, autocloses: !0, skipInternalNewline: !0 }],
        [
          "table",
          {
            Constructor: function (e) {
              const t = T(e.args, "noborder"),
                n = T(e.args, "equalcells");
              return i.createElement(
                "div",
                {
                  className: (0, E.Z)(
                    b().Table,
                    "BB_Table",
                    t && b().NoBorder,
                    n && b().EqualCells,
                  ),
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
          },
        ],
        [
          "tr",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, E.Z)(b().TableRow, "BB_TableRow") },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "th",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: b().TableHeader },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "td",
          {
            Constructor: function (e) {
              const t = T(e.args, "width");
              return i.createElement(
                "div",
                {
                  className: (0, E.Z)(b().TableData, "BB_TableData"),
                  style: t && { width: t },
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "expand",
          {
            Constructor: function (e) {
              const t = Boolean(T(e.args, "expanded")),
                [n, a] = i.useState(t),
                o = (function (e, t) {
                  switch (e) {
                    case "details":
                      return {
                        collapsed: "#Bbcode_Expand_Details_Collapsed",
                        expanded: "#Bbcode_Expand_Details_Expanded",
                        style: b().ExpandSection_Details,
                      };
                    case "spoiler":
                      return {
                        collapsed: "#Bbcode_Expand_Spoiler_Collapsed",
                        expanded: "#Bbcode_Expand_Spoiler_Expanded",
                        style: b().ExpandSection_Spoiler,
                      };
                    case "title":
                      return {
                        collapsed: t || "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: t || "#Bbcode_Expand_ShowMore_Expanded",
                        style: b().ExpandSection_WithTitle,
                      };
                    default:
                      return {
                        collapsed: "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: "#Bbcode_Expand_ShowMore_Expanded",
                        style: b().ExpandSection_ShowMore,
                      };
                  }
                })(T(e.args, "type"), T(e.args, "title"));
              return i.createElement(
                "div",
                {
                  className: (0, E.Z)(
                    b().ExpandSectionBlock,
                    o.style,
                    n ? b().ExpandSectionExpanded : b().ExpandSectionCollapsed,
                  ),
                },
                i.createElement(
                  "div",
                  { className: b().ExpandSectionHeader, onClick: () => a(!n) },
                  (0, v.Xx)(n ? o.expanded : o.collapsed),
                  i.createElement(
                    "div",
                    { className: b().EmbedArrow },
                    i.createElement(h.ret, { angle: n ? 180 : 0 }),
                  ),
                ),
                n &&
                  i.createElement(
                    "div",
                    { className: b().ExpandSectionBody },
                    e.children,
                  ),
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            allowWrapTextForCopying: !0,
          },
        ],
        [
          "remindme",
          {
            Constructor: function (e) {
              const { event: t, showErrorInfo: n } = e.context,
                a = T(e.args);
              if (a)
                return i.createElement(u.C, { eventGID: a, bPreviewMode: n });
              if (t) {
                const e = (0, o.jM)(f.De.LANGUAGE);
                return i.createElement(u.m, { eventModel: t, lang: e });
              }
              return null;
            },
            autocloses: !1,
          },
        ],
        [
          "doclink",
          {
            Constructor: function (e) {
              const t = T(e.args),
                n = "button" == T(e.args, "style") ? b().LinkButton : null;
              return i.createElement(
                G,
                { className: n, href: `${f.De.PARTNER_BASE_URL}doc/${t}` },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "color",
          {
            Constructor: function (e) {
              const t = T(e.args);
              return i.createElement(
                "span",
                { style: { color: t } },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
      ]);
      new Map([
        ["looping_media", { Constructor: U, autocloses: !1 }],
        ["video", { Constructor: j, autocloses: !1 }],
        ["youtubeorvideo", { Constructor: H, autocloses: !1 }],
        ["previewyoutube", { Constructor: P, autocloses: !1 }],
      ]);
      function A(e, t, n = 0) {
        if (null == e ? void 0 : e.startsWith(y.A1)) return (0, c.pd)(e);
        if (null == e ? void 0 : e.startsWith(y.UC)) {
          const a = new Array(),
            i = (0, c.OL)(),
            l = e.substring(y.UC.length + 1),
            r = d.aN.GetHashFromHashAndExt(l),
            s = d.aN.GetExtensionStringFromHashAndExt(l);
          if (null != t) {
            let e = (0, o.j_)(t);
            a.push(i + r + "/" + e + s + "?t=" + n),
              4 == t &&
                ((e = (0, o.eV)((0, o.j_)(t))),
                a.push(i + r + "/" + e + s + "?t=" + n));
          }
          return a.push(i + l), a;
        }
        return e;
      }
      function T(e, t) {
        return void 0 === t ? e[""] : e[t];
      }
      function w(e, t) {
        return (n) =>
          e(
            Object.assign(Object.assign({}, n), {
              className: (0, E.Z)(n.className, t),
            }),
          );
      }
      function k(e, t) {
        let n = T(e.args, "id");
        return (
          n &&
            "string" == typeof n &&
            n.length > 0 &&
            "#" === n[0] &&
            (n = n.substring(1)),
          i.createElement(
            "div",
            { id: n || void 0, className: (0, E.Z)(t, e.className) },
            e.children,
          )
        );
      }
      function N(e) {
        return k(e, (0, E.Z)(b().Header1, "BB_Header1"));
      }
      function L(e) {
        return k(e, (0, E.Z)(b().Header2, "BB_Header2"));
      }
      function x(e) {
        return k(e, (0, E.Z)(b().Header3, "BB_Header3"));
      }
      const G = (e) => {
        const { href: t } = e,
          n = (0, a._T)(e, ["href"]),
          o = (0, g.bJ)();
        let r,
          c = (0, s.B1)(t, o);
        (0, I.A)(c)
          ? ((c =
              (f.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              (0, I.d)(c)),
            (r = "noopener nofollow"))
          : (c = (0, S.bk)(c));
        const d =
          "string" == typeof e.children &&
          e.children.length > 0 &&
          t &&
          !t.startsWith("steam://")
            ? (0, S.XW)(t)
            : void 0;
        return i.createElement(
          l.IS,
          Object.assign({}, n, { href: c, rel: r }),
          i.createElement("span", { "data-tooltip-text": d }, e.children),
        );
      };
      function R(e) {
        const t = T(e.args, "author");
        return i.createElement(
          "blockquote",
          { className: (0, E.Z)(b().BlockQuote, e.className) },
          !!t &&
            i.createElement(
              "div",
              { className: b().QuoteAuthor },
              (0, v.Xx)("#Bbcode_Originally_Posted_By") + " ",
              " ",
              i.createElement("b", null, t + ":"),
            ),
          e.children,
        );
      }
      function O(e) {
        return i.createElement("ul", { className: b().List }, e.children);
      }
      function B(e) {
        return i.createElement(
          "ol",
          { className: b().OrderedList },
          e.children,
        );
      }
      function M(e) {
        let t = T(e.args, "id");
        return (
          t &&
            "string" == typeof t &&
            t.length > 0 &&
            "#" === t[0] &&
            (t = t.substring(1)),
          i.createElement(
            "li",
            { className: b().ListItem, id: t || void 0 },
            e.children,
          )
        );
      }
      function P(e) {
        if ((0, f.h4)()) return null;
        let t = T(e.args);
        if (t) {
          let e = t.split(";");
          if (2 == e.length) {
            let t = e[0],
              n = e[1].toLocaleLowerCase(),
              a = "full" == n ? p.sizeFull : p.sizeThumb,
              o =
                "full" == n
                  ? ""
                  : "leftthumb" == n
                  ? p.floatLeft
                  : p.floatRight;
            return i.createElement(m.O, {
              videoID: t,
              classNameAlign: o,
              classNameSize: a,
              bShowVideoImmediately: !0,
            });
          }
        }
        return i.createElement(i.Fragment, null);
      }
      function F(e) {
        let t = T(e.args, "poster");
        t && (t = (0, S.et)(t));
        const n = new Array();
        {
          const t = T(e.args, "mp4");
          t && n.push({ sURL: (0, S.et)(t), sFormat: "video/mp4" });
          const a = T(e.args, "webm");
          a && n.push({ sURL: (0, S.et)(a), sFormat: "video/webm" });
        }
        const a = (0, o.jM)(f.De.LANGUAGE),
          i = 0 != a,
          l = new Array();
        for (let t = 0; t < 31; t++) {
          const n = T(e.args, "sub_" + (0, o.dt)(t));
          n &&
            l.push({
              sURL: (0, S.et)(n),
              eLanguage: t,
              sKind: "subtitles",
              bDefault: i && t == a,
            });
          const r = T(e.args, "cap_" + (0, o.dt)(t));
          r &&
            l.push({
              sURL: (0, S.et)(r),
              eLanguage: t,
              sKind: "captions",
              bDefault: i && t == a,
            });
        }
        return { sPoster: t, rgVideoSources: n, rgVideoTracks: l };
      }
      function U(e) {
        const t = F(e);
        return i.createElement(_.Y, {
          video: t,
          bAutoPlay: !0,
          bControls: !1,
          bLoop: !0,
        });
      }
      function j(e) {
        const t = F(e),
          n = e.children ? e.children.toString() : void 0;
        n &&
          n.startsWith("http") &&
          t.rgVideoSources.push({ sURL: (0, S.et)(n), sFormat: "video/webm" });
        const a = T(e.args, "autoplay"),
          o = "0" !== a && "off" !== a && "false" !== a,
          l = T(e.args, "controls"),
          r = "0" !== l && "off" !== l && "false" !== l;
        return i.createElement(_.Y, {
          video: t,
          bAutoPlay: o,
          bControls: r,
          bLoop: o,
        });
      }
      function H(e) {
        if ((0, f.h4)() || "CN" == f.De.COUNTRY.toLocaleUpperCase())
          return j(e);
        const t = T(e.args, "youtubeid"),
          n = T(e.args, "size"),
          a = T(e.args, "seconds");
        let o = "full" == n ? p.sizeFull : p.sizeThumb,
          l = "full" == n ? "" : "leftthumb" == n ? p.floatLeft : p.floatRight;
        return i.createElement(m.O, {
          videoID: t,
          nStartSeconds: a ? Number.parseInt(a) : void 0,
          classNameAlign: l,
          classNameSize: o,
          bShowVideoImmediately: !0,
        });
      }
    },
    26412: (e, t, n) => {
      "use strict";
      n.d(t, { S6: () => d });
      const a = 20,
        i = /^.*youtube[^v]+v=(.{11}).*/,
        o = /^.*youtu\.be\/(.{11}).*/,
        l = /^.*youtube.*\/embed\/(.{11}).*/,
        r = /^.*[?&]t=([^&]+)(?:&|$)/,
        s = /^(?:(?:([\d]+)h)?(?:([\d]+)m)?(?:([\d]+)s)?|([\d]+))$/;
      function c(e) {
        const t =
          (null == e ? void 0 : e.length) < a
            ? void 0
            : i.exec(e) || o.exec(e) || l.exec(e);
        return null == t ? void 0 : t[1];
      }
      function d(e) {
        const t = c(e);
        if (!t) return;
        const n = (function (e) {
            const t = r.exec(e);
            return null == t ? void 0 : t[1];
          })(e),
          a = n
            ? (function (e) {
                const t = s.exec(e);
                if (
                  !(
                    (null == t ? void 0 : t[1]) ||
                    (null == t ? void 0 : t[2]) ||
                    (null == t ? void 0 : t[3]) ||
                    (null == t ? void 0 : t[4])
                  )
                )
                  return;
                if (null == t ? void 0 : t[4])
                  return parseInt(null == t ? void 0 : t[4]);
                let n = 0;
                return (
                  (null == t ? void 0 : t[1]) && (n += 3600 * parseInt(t[1])),
                  (null == t ? void 0 : t[2]) && (n += 60 * parseInt(t[2])),
                  (null == t ? void 0 : t[3]) && (n += parseInt(t[3])),
                  n
                );
              })(n)
            : void 0;
        return { strVideoID: t, nStartSeconds: a };
      }
    },
    19002: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => c });
      var a = n(33940),
        i = n(52868),
        o = n.n(i),
        l = n(59621),
        r = n(32765);
      class s {
        constructor() {
          (this.m_mapYouTubeVideo = new Map()),
            (this.m_mapSharedFile = new Map()),
            (0, l.rC)(this);
        }
        LoadYouTubeDynamicData(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new Array(),
              a = "";
            if (
              (e.forEach((e, t) => {
                this.m_mapYouTubeVideo.has(e)
                  ? n.push(this.m_mapYouTubeVideo.get(e))
                  : (a.length > 0 && (a += ","), (a += e));
              }),
              0 == a.length)
            )
              return n;
            let i = { youtubevideoids: a },
              s = null;
            return (
              (s = yield o().get(
                r.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
                { params: i, cancelToken: t.token },
              )),
              s &&
                s.data &&
                s.data.youtube &&
                (0, l.z)(() => {
                  s.data.youtube.forEach((e, t) => {
                    this.m_mapYouTubeVideo.set(e.videoid, e), n.push(e);
                  });
                }),
              n
            );
          });
        }
        LoadSharedFileDynamicData(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new Array(),
              a = "";
            if (
              (e.forEach((e, t) => {
                this.m_mapSharedFile.has(e)
                  ? n.push(this.m_mapSharedFile.get(e))
                  : (a.length > 0 && (a += ","), (a += e));
              }),
              0 == a.length)
            )
              return n;
            let i = { sharedfileids: a },
              s = null;
            return (
              (s = yield o().get(
                r.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
                { params: i, cancelToken: t.token },
              )),
              s &&
                s.data &&
                s.data.sharedfiles &&
                (0, l.z)(() => {
                  s.data.sharedfiles.forEach((e, t) => {
                    this.m_mapSharedFile.set(e.sharedfileid, e), n.push(e);
                  });
                }),
              n
            );
          });
        }
      }
      (0, a.gn)([l.LO], s.prototype, "m_mapYouTubeVideo", void 0),
        (0, a.gn)([l.LO], s.prototype, "m_mapSharedFile", void 0);
      const c = new s();
    },
    90531: (e, t, n) => {
      "use strict";
      n.d(t, { $: () => s });
      var a = n(33940),
        i = n(32765),
        o = n(59621),
        l = n(52868),
        r = n.n(l);
      const s = new (class {
        constructor() {
          (this.m_mapEmoticonHovers = o.LO.map()),
            (this.m_inflightRequests = {});
        }
        Get(e) {
          return this.m_mapEmoticonHovers.has(e) || this.m_inflightRequests[e]
            ? this.m_mapEmoticonHovers.get(e)
            : (this.Load(e), null);
        }
        BLoaded(e) {
          return !!this.m_mapEmoticonHovers.get(e);
        }
        Load(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = `${
              i.De.COMMUNITY_CDN_URL
            }economy/emoticonhoverjson/${encodeURIComponent(
              e,
            )}?l=${encodeURIComponent(i.De.LANGUAGE)}&origin=${(0, i.Kc)()}`;
            this.m_inflightRequests[e] = !0;
            try {
              const { data: n } = yield r().get(t);
              !(function (e) {
                return (
                  e &&
                  "object" == typeof e &&
                  "number" == typeof e.appid &&
                  "string" == typeof e.app_name
                );
              })(n)
                ? this.m_mapEmoticonHovers.set(e, null)
                : this.m_mapEmoticonHovers.set(e, n);
            } catch (t) {
              this.m_mapEmoticonHovers.set(e, null);
            } finally {
              this.m_inflightRequests[e] = !1;
            }
          });
        }
      })();
    },
    20620: (e, t, n) => {
      "use strict";
      n.d(t, { v: () => u, x: () => p });
      var a = n(33940),
        i = n(52868),
        o = n.n(i),
        l = n(89526),
        r = n(23217),
        s = n(85246),
        c = n(4306),
        d = n(32765);
      class m {
        GetRegistration(e) {
          return this.m_mapRegistrations.get(e);
        }
        GetRegistrationChangeCallback(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new s.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        LoadRegistration(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapLoadPromises.has(e) ||
                this.m_mapLoadPromises.set(e, this.InternalLoadRegistration(e)),
              this.m_mapLoadPromises.get(e)
            );
          });
        }
        InternalLoadRegistration(e) {
          var t, n, i, l, s;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const c =
                  d.De.STORE_BASE_URL +
                  "saleaction/ajaxgetusergiveawayregistration",
                m = { giveaway_name: e, sessionid: d.De.SESSIONID },
                p = yield o().get(c, { params: m, withCredentials: !0 });
              if (
                200 == (null == p ? void 0 : p.status) &&
                1 ==
                  (null === (t = null == p ? void 0 : p.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == p ? void 0 : p.data) || void 0 === n
                  ? void 0
                  : n.registration)
              )
                return (
                  this.m_mapRegistrations.set(
                    e,
                    null === (i = null == p ? void 0 : p.data) || void 0 === i
                      ? void 0
                      : i.registration,
                  ),
                  this.GetRegistrationChangeCallback(e).Dispatch(
                    null === (l = null == p ? void 0 : p.data) || void 0 === l
                      ? void 0
                      : l.registration,
                  ),
                  null === (s = null == p ? void 0 : p.data) || void 0 === s
                    ? void 0
                    : s.registration
                );
              a = (0, r.l)(p);
            } catch (e) {
              a = (0, r.l)(e);
            }
            return (
              console.error(
                "CGiveawayRegistrationStore.InternalLoadRegistration failed: on giveawayName " +
                  e +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              { registered: !1 }
            );
          });
        }
        CreateRegistration(e) {
          return (
            this.m_mapCreatePromises.has(e) ||
              this.m_mapCreatePromises.set(
                e,
                this.InternalCreateRegistration(e),
              ),
            this.m_mapCreatePromises.get(e)
          );
        }
        InternalCreateRegistration(e) {
          var t, n, i, l, s;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const c =
                  d.De.STORE_BASE_URL +
                  "saleaction/ajaxupdateusergiveawayregistration",
                m = { giveaway_name: e, sessionid: d.De.SESSIONID },
                p = yield o().get(c, { params: m, withCredentials: !0 });
              if (
                200 == (null == p ? void 0 : p.status) &&
                1 ==
                  (null === (t = null == p ? void 0 : p.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == p ? void 0 : p.data) || void 0 === n
                  ? void 0
                  : n.registration)
              )
                return (
                  this.m_mapRegistrations.set(
                    e,
                    null === (i = null == p ? void 0 : p.data) || void 0 === i
                      ? void 0
                      : i.registration,
                  ),
                  this.GetRegistrationChangeCallback(e).Dispatch(
                    null === (l = null == p ? void 0 : p.data) || void 0 === l
                      ? void 0
                      : l.registration,
                  ),
                  null === (s = null == p ? void 0 : p.data) || void 0 === s
                    ? void 0
                    : s.registration
                );
              a = (0, r.l)(p);
            } catch (e) {
              a = (0, r.l)(e);
            }
            return (
              console.error(
                "CGiveawayRegistrationStore.InternalCreateRegistration failed: on giveawayName " +
                  e +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              { registered: !1 }
            );
          });
        }
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              m.s_Singleton.Init(),
              "dev" == d.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
        constructor() {
          (this.m_mapRegistrations = new Map()),
            (this.m_mapLoadPromises = new Map()),
            (this.m_mapCreatePromises = new Map()),
            (this.m_listChangeCallback = new Map());
        }
        Init() {}
      }
      function p(e) {
        const [t, n] = (0, l.useState)(m.Get().GetRegistration(e));
        return (
          (0, l.useEffect)(() => {
            void 0 === t && m.Get().LoadRegistration(e).then(n);
          }, [e, t]),
          (0, c.Qg)(m.Get().GetRegistrationChangeCallback(e), n),
          t
        );
      }
      function u() {
        return { fnCreateRegistration: m.Get().CreateRegistration };
      }
      (0, a.gn)([c.ak], m.prototype, "CreateRegistration", null);
    },
    42977: (e, t, n) => {
      "use strict";
      n.d(t, { $: () => p, NL: () => _, TW: () => h });
      var a = n(33940),
        i = n(68333),
        o = (n(97940), n(43961)),
        l = n(5615),
        r = n(27070),
        s = n(44973),
        c = n(59954);
      n(54671), n(52868), n(89526);
      let d;
      function m() {
        return (
          d || (d = (0, c.ip)("steam_awards_config", "application_config")), d
        );
      }
      function p(e) {
        const t = (0, r.bY)();
        return (0, l.useQuery)(
          `SteamAwardDefs_${e}`,
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const n = i.gA.Init(o.R_);
              n.Body().set_sale_appid(e), n.Body().set_language(s.De.LANGUAGE);
              return (yield o.Zq.GetVoteDefinitions(t, n)).Body().toObject();
            }),
          {
            initialData: () => {
              var e;
              return null === (e = m()) || void 0 === e
                ? void 0
                : e.definitions;
            },
            enabled: e > 0,
          },
        );
      }
      function u() {
        const e = (0, r.bY)();
        return (0, l.useQuery)(
          `SteamAwardNominations_${s.L7.accountid}`,
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var t;
              const n = i.gA.Init(o.Aw);
              return null ===
                (t = (yield o.tQ.GetUserNominations(e, n)).Body().toObject()) ||
                void 0 === t
                ? void 0
                : t.nominations;
            }),
          {
            initialData: () => {
              var e, t;
              return null ===
                (t =
                  null === (e = m()) || void 0 === e
                    ? void 0
                    : e.user_nominations) || void 0 === t
                ? void 0
                : t.nominations;
            },
            enabled: s.L7.logged_in,
          },
        );
      }
      function _(e) {
        var t;
        const n = u();
        return n.isLoading
          ? { bLoadingNominationForCategory: !0 }
          : {
              currentNomination:
                null === (t = n.data) || void 0 === t
                  ? void 0
                  : t.find((t) => t.category_id == e),
              bLoadingNominationForCategory: !1,
            };
      }
      function h(e, t, n, c) {
        const d = (0, r.bY)(),
          m = (0, l.useQueryClient)();
        return (0, l.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t, n, l) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  const a = i.gA.Init(o.Fz);
                  a.Body().set_category_id(n),
                    a.Body().set_source(l),
                    a.Body().set_nominated_id(t);
                  const r = yield o.tQ.Nominate(e, a);
                  return (
                    r.BSuccess() ||
                      console.warn(`Failed to nominate app: ${r.GetEResult()}`),
                    [r.GetEResult(), r.Body().toObject()]
                  );
                });
              })(d, e, t, n);
            }),
          {
            onSuccess([e, t]) {
              1 == e
                ? (function (e, t) {
                    e.setQueryData(
                      `SteamAwardNominations_${s.L7.accountid}`,
                      t,
                    );
                  })(m, t.nominations)
                : c && c(e);
            },
            onError() {
              c && c();
            },
          },
        );
      }
    },
    42254: (e, t, n) => {
      "use strict";
      n.d(t, { R: () => ue });
      var a = n(33940),
        i = n(52868),
        o = n.n(i),
        l = n(89526),
        r = n(23217),
        s = n(32765);
      class c {
        GetFriendLiset() {
          return this.m_rgFriendsList;
        }
        LoadFriendList() {
          var e, t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            if (this.m_rgFriendsList) return this.m_rgFriendsList;
            if (!s.L7.logged_in) return [];
            try {
              const a = yield o().get(
                s.De.COMMUNITY_BASE_URL + "actions/ajaxlistfriends",
              );
              if (
                200 == (null == a ? void 0 : a.status) &&
                1 ==
                  (null === (e = a.data) || void 0 === e
                    ? void 0
                    : e.success) &&
                (null === (t = a.data) || void 0 === t ? void 0 : t.friends)
              )
                return (
                  (this.m_rgFriendsList = a.data.friends), this.m_rgFriendsList
                );
              (this.m_rgFriendsList = []), (n = (0, r.l)(a));
            } catch (e) {
              n = (0, r.l)(e);
            }
            return (
              console.error(
                "CSimpleFriendsListStore.LoadFriendList failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              []
            );
          });
        }
        static Get() {
          return (
            c.s_Singleton ||
              ((c.s_Singleton = new c()),
              ("dev" != s.De.WEB_UNIVERSE && "beta" != s.De.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = c.s_Singleton)),
            c.s_Singleton
          );
        }
        constructor() {
          this.m_rgFriendsList = null;
        }
      }
      var d = n(88464),
        m = n(24174),
        p = n(40103),
        u = n(26412),
        _ = n(47165),
        h = n(48616),
        g = n(90531),
        E = n(24448),
        v = n(4306),
        S = n(50304),
        f = n(73961),
        y = n(59621),
        D = n(1069),
        b = n.n(D),
        I = n(19304);
      class C extends l.Component {
        constructor(e) {
          super(e),
            (this.m_rgCurrentMatches = []),
            (this.m_mapMatchByKey = new Map()),
            (this.m_hMobxSearchDisposer = (0, y.EH)(() =>
              (0, a.mG)(this, void 0, void 0, function* () {
                yield this.UpdateSearchResults(this.props.strSearch),
                  this.forceUpdate();
              }),
            )),
            (this.state = { selectedIndex: void 0 });
        }
        OnKeyDown(e) {
          this.BHandleKeyPress(e.keyCode) && e.preventDefault();
        }
        BHandleKeyPress(e) {
          switch (e) {
            case 38:
              this.SetSelectedIndexDelta(-1);
              break;
            case 40:
              this.SetSelectedIndexDelta(1);
              break;
            case 36:
              this.SetSelectedIndex(0);
              break;
            case 33:
              this.SetSelectedIndexDelta(-this.GetPageSize());
              break;
            case 35:
              this.SetSelectedIndex(-1);
              break;
            case 34:
              this.SetSelectedIndexDelta(this.GetPageSize());
              break;
            case 13:
            case 9:
              if (void 0 === this.state.selectedIndex)
                return (
                  this.props.onSuggestionSelected(this.props.strSearch), !1
                );
              this.ChooseSuggestion(
                this.m_rgCurrentMatches[this.state.selectedIndex],
              );
              break;
            case 27:
              this.props.onSuggestionSelected(this.props.strSearch);
              break;
            default:
              return !1;
          }
          return !0;
        }
        GetPageSize() {
          let e = f.findDOMNode(this),
            t = e && e.firstElementChild,
            n = this.m_rgCurrentMatches.length;
          if (
            (n > this.getMaxMatches() && (n = this.getMaxMatches()), t && n)
          ) {
            let e = t.scrollHeight / n,
              a = t.clientHeight / e;
            return Math.max(1, Math.floor(a));
          }
          return 5;
        }
        ChooseSuggestion(e) {
          this.props.onSuggestionSelected(
            this.props.strSearch,
            e ? this.getSelection(e) : void 0,
          );
        }
        SetSelectedIndexDelta(e) {
          void 0 !== this.state.selectedIndex
            ? this.SetSelectedIndex(this.state.selectedIndex + e)
            : this.SetSelectedIndex(1 === e ? 0 : e);
        }
        SetSelectedIndex(e) {
          if (!this.m_rgCurrentMatches.length) return;
          let t = this.m_rgCurrentMatches.length;
          t > this.getMaxMatches() && (t = this.getMaxMatches()),
            (e %= t) < 0 && (e += t),
            this.setState({ selectedIndex: e });
        }
        FindKeyIndex(e) {
          if (!this.m_mapMatchByKey.size && this.m_rgCurrentMatches.length)
            for (let e = 0; e < this.m_rgCurrentMatches.length; e++)
              this.m_mapMatchByKey.set(
                this.getKey(this.m_rgCurrentMatches[e]),
                e,
              );
          return this.m_mapMatchByKey.get(e);
        }
        OnClickSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.ChooseSuggestion(this.m_rgCurrentMatches[t]);
        }
        OnMouseOverSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.SetSelectedIndex(t);
        }
        BindSelectedElement(e) {
          let t = f.findDOMNode(this),
            n = f.findDOMNode(e),
            a = t && t.firstElementChild;
          n &&
            a &&
            (a.scrollTop + a.clientHeight < n.offsetTop ||
              n.offsetTop < a.scrollTop) &&
            n.scrollIntoView();
        }
        UpdateSearchResults(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            (this.m_rgCurrentMatches = yield this.performSearch(e)),
              (this.m_strLastSearch = e),
              this.m_mapMatchByKey.clear(),
              this.m_rgCurrentMatches.length
                ? this.state && void 0 !== this.state.selectedIndex
                  ? this.state.selectedIndex >=
                      this.m_rgCurrentMatches.length &&
                    this.setState({ selectedIndex: 0 })
                  : (void 0 ===
                      this.props.nMinimumSearchLengthBeforeAutoSelection ||
                      e.length >=
                        this.props.nMinimumSearchLengthBeforeAutoSelection) &&
                    this.setState({ selectedIndex: 0 })
                : this.state &&
                  void 0 !== this.state.selectedIndex &&
                  this.setState({ selectedIndex: void 0 });
          });
        }
        componentWillUnmount() {
          this.m_hMobxSearchDisposer &&
            (this.m_hMobxSearchDisposer(),
            (this.m_hMobxSearchDisposer = void 0));
        }
        componentDidUpdate(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            this.m_strLastSearch != this.props.strSearch &&
              (yield this.UpdateSearchResults(this.props.strSearch),
              this.forceUpdate());
          });
        }
        render() {
          let e = [];
          if (this.m_rgCurrentMatches.length) {
            let t = this.getMaxMatches();
            for (
              let n = 0;
              n < Math.min(t, this.m_rgCurrentMatches.length);
              n++
            ) {
              let t = this.m_rgCurrentMatches[n],
                a = this.getKey(t),
                i = n === this.state.selectedIndex;
              e.push(
                l.createElement(
                  A,
                  {
                    key: a,
                    matchKey: a,
                    fnOnClick: this.OnClickSuggestion,
                    fnOnMouseOver: this.OnMouseOverSuggestion,
                    bIsSelected: i,
                    ref: i ? this.BindSelectedElement : void 0,
                  },
                  this.renderMatch(t),
                ),
              );
            }
            this.m_rgCurrentMatches.length > t &&
              e.push(
                this.renderTooManyMatchesMessage(
                  this.m_rgCurrentMatches.length - t,
                ),
              );
          } else {
            let t = this.renderNoMatchMessage();
            if (!t) return null;
            e.push(t);
          }
          return l.createElement(
            "div",
            { className: b().mentionDialogPosition },
            l.createElement(
              "div",
              {
                className: b().mentionDialog,
                tabIndex: 0,
                onKeyDown: this.OnKeyDown,
              },
              this.renderHeader(),
              e,
            ),
          );
        }
      }
      (0, a.gn)([v.ak], C.prototype, "OnKeyDown", null),
        (0, a.gn)([v.ak], C.prototype, "OnClickSuggestion", null),
        (0, a.gn)([v.ak], C.prototype, "OnMouseOverSuggestion", null),
        (0, a.gn)([v.ak], C.prototype, "BindSelectedElement", null);
      class A extends l.PureComponent {
        OnMouseOver(e) {
          this.props.fnOnMouseOver(this.props.matchKey);
        }
        OnClick(e) {
          this.props.fnOnClick(this.props.matchKey);
        }
        render() {
          return l.createElement(
            "div",
            {
              className: (0, I.Z)(
                b().suggestOption,
                b().mentionSearchOption,
                this.props.bIsSelected ? b().selected : "",
              ),
              onMouseEnter: this.OnMouseOver,
              onClick: this.OnClick,
            },
            this.props.children,
          );
        }
      }
      (0, a.gn)([v.ak], A.prototype, "OnMouseOver", null),
        (0, a.gn)([v.ak], A.prototype, "OnClick", null);
      const T = C;
      var w = n(23265),
        k = n.n(w);
      const N = class extends T {
        performSearch(e) {
          return this.props.emoticonStore.SearchEmoticons(e, 10, !1);
        }
        getSelection(e) {
          return e.name;
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return l.createElement(
            "div",
            {
              className: (0, I.Z)(
                k().EmoticonSuggestion,
                e.recent ? "Recent" : "",
              ),
            },
            l.createElement(
              "div",
              { className: k().Emoticon },
              l.createElement(S.tk, {
                emoticon: e.name,
                emoticonHoverStore: this.props.emoticonHoverStore,
              }),
              e.new && l.createElement(S.D3, null),
            ),
            ":",
            e.name,
            ":",
          );
        }
        renderNoMatchMessage() {
          return null;
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      };
      var L = n(18071),
        x = n.n(L),
        G = n(14826);
      class R extends T {
        performSearch(e) {
          let t = Array();
          return (
            this.props.supportBBCodes.forEach((n) => {
              n.indexOf(e) >= 0 && t.push({ name: n });
            }),
            t
          );
        }
        getSelection(e) {
          return "[" + e.name + "][/" + e.name + "]";
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return l.createElement(
            "div",
            { key: e.name, className: (0, I.Z)(x().BBCodeSuggestion) },
            l.createElement("div", { className: x().BBCode }, e.name),
            "[",
            e.name,
            "]...[/",
            e.name,
            "]",
          );
        }
        renderNoMatchMessage() {
          return l.createElement(
            "div",
            {
              key: "nomatches",
              className: (0, I.Z)(b().mentionSearchOption, b().noMatches),
            },
            (0, G.Xx)("#Bbcode_No_Match"),
          );
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      }
      class O extends l.Component {
        constructor(e) {
          super(e),
            (this.descTextAreaRef = l.createRef()),
            (this.m_bDisabled = !0),
            (this.state = {
              mentionSearch: void 0,
              activeSuggestSearchType: void 0,
            });
        }
        BindMentionDialog(e) {
          this.m_MentionDialog = e;
        }
        OnKeyDown(e) {
          this.state.activeSuggestSearchType &&
          this.m_MentionDialog &&
          !e.shiftKey &&
          !e.ctrlKey &&
          this.m_MentionDialog.BHandleKeyPress(e.keyCode)
            ? e.preventDefault()
            : (8 != e.keyCode && 46 != e.keyCode) ||
              (this.m_iMentionSearchCancelledOffset = void 0);
        }
        FindMatchOpener(e, t, n) {
          for (let a = n - 1; a >= 0; a--) {
            if (t[a] == e) return a;
            if (" " == t[a] || "\n" == t[a]) break;
          }
        }
        ReplaceSuggestedText(e, t) {
          let n = this.descTextAreaRef.current.selectionStart,
            a = this.descTextAreaRef.current.value,
            i = this.FindMatchOpener(e, a, n);
          if (
            (void 0 === i && "@" == e && (i = this.FindMatchOpener("", a, n)),
            void 0 !== i)
          ) {
            let e = a.substr(0, i);
            (e += t), (n >= a.length || " " != a[n]) && (e += " ");
            let o = e.length;
            (e += a.substr(n)),
              (this.descTextAreaRef.current.value = e),
              (this.descTextAreaRef.current.selectionStart =
                this.descTextAreaRef.current.selectionEnd =
                  o),
              this.props.fnSetText(e),
              this.FocusTextInput();
          }
        }
        OnFocus(e) {
          this.UpdateAutoSearchState();
        }
        OnKeyPress(e) {
          this.UpdateAutoSearchState();
        }
        OnClick(e) {
          this.UpdateAutoSearchState();
        }
        ClearMentionSearchState() {
          (this.m_iMentionSearchStartOffset = void 0),
            this.state.activeSuggestSearchType &&
              this.setState({
                activeSuggestSearchType: void 0,
                mentionSearch: void 0,
              });
        }
        OnEmoticonSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText(":", ":" + t + ":"),
            this.ClearMentionSearchState();
        }
        OnBBCodeSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText("[", t), this.ClearMentionSearchState();
        }
        FocusTextInput() {
          this.descTextAreaRef.current && this.descTextAreaRef.current.focus();
        }
        UpdateAutoSearchState() {
          let e = this.descTextAreaRef.current;
          if (!e || this.m_bDisabled) return;
          if (e.selectionStart != e.selectionEnd || !e.selectionStart)
            return void this.ClearMentionSearchState();
          let t,
            n,
            a = e.selectionStart,
            i = e.value;
          for (let e = a - 1; e >= 0; e--) {
            let a = e > 0 ? i[e - 1] : void 0;
            if (this.props.emoticonStore && ":" == i[e] && i.length > 2) {
              (a && " " != a && "\n" != a && ":" != a) ||
                ((t = e), (n = "Emoticon"));
              break;
            }
            if ("[" == i[e] && (e + 1 > i.length || "/" != i[e + 1])) {
              (a && " " != a && "\n" != a && "]" != a) ||
                ((t = e), (n = "BBCode"));
              break;
            }
            if (" " == i[e] || "\n" == i[e]) break;
          }
          if (void 0 === t || t === this.m_iMentionSearchCancelledOffset)
            return void this.ClearMentionSearchState();
          let o = i.substr(t + 1, a - t - 1);
          (this.m_iMentionSearchStartOffset = t),
            this.setState({ activeSuggestSearchType: n, mentionSearch: o });
        }
        GetTextAreaRef() {
          return this.descTextAreaRef;
        }
        GetTextAreaCurrent() {
          return this.descTextAreaRef.current;
        }
        render() {
          let e,
            t = this.props,
            { emoticonStore: n, supportBBCodes: i, fnSetText: o } = t,
            r = (0, a._T)(t, ["emoticonStore", "supportBBCodes", "fnSetText"]);
          switch (this.state.activeSuggestSearchType) {
            case "Emoticon":
              e = l.createElement(N, {
                emoticonStore: n,
                emoticonHoverStore: g.$,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnEmoticonSuggestionSelected,
                ref: this.BindMentionDialog,
              });
              break;
            case "BBCode":
              e = l.createElement(R, {
                supportBBCodes: i,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnBBCodeSuggestionSelected,
                ref: this.BindMentionDialog,
              });
          }
          return l.createElement(
            l.Fragment,
            null,
            e,
            l.createElement(
              "textarea",
              Object.assign({}, r, {
                ref: this.descTextAreaRef,
                onKeyDown: this.OnKeyDown,
                onKeyUp: this.OnKeyPress,
                onFocus: this.OnFocus,
                onClick: this.OnClick,
              }),
            ),
          );
        }
      }
      (0, a.gn)([v.ak], O.prototype, "BindMentionDialog", null),
        (0, a.gn)([v.ak], O.prototype, "OnKeyDown", null),
        (0, a.gn)([v.ak], O.prototype, "OnFocus", null),
        (0, a.gn)([v.ak], O.prototype, "OnKeyPress", null),
        (0, a.gn)([v.ak], O.prototype, "OnClick", null),
        (0, a.gn)([v.ak], O.prototype, "OnEmoticonSuggestionSelected", null),
        (0, a.gn)([v.ak], O.prototype, "OnBBCodeSuggestionSelected", null),
        (0, a.gn)([v.ak], O.prototype, "FocusTextInput", null),
        (0, a.gn)([v.ak], O.prototype, "GetTextAreaRef", null),
        (0, a.gn)([v.ak], O.prototype, "GetTextAreaCurrent", null);
      var B = n(22444),
        M = n(38278),
        P = n(17318),
        F = n.n(P),
        U = n(67736),
        j = n(57742),
        H = n(45123),
        X = n.n(H),
        z = n(60161);
      var V = n(69159),
        W = n(77865),
        Z = n(69338),
        q = n(84343),
        Y = n(38737),
        Q = n.n(Y),
        K = n(83315),
        $ = n(23801),
        J = n(89220),
        ee = n(17547),
        te = n(36320);
      const ne = (e) => {
          const { clanSteamID: t, fnImageSelectCallBack: n } = e,
            i = (0, l.useRef)(null),
            [r, s] = (0, l.useState)(!h.U8.BHasLoadedClanImages(t)),
            [c, d] = (0, l.useState)("");
          (0, l.useEffect)(() => {
            if (!h.U8.BHasLoadedClanImages(t)) {
              i.current && i.current(), s(!0);
              (() =>
                (0, a.mG)(void 0, void 0, void 0, function* () {
                  const e = o().CancelToken.source();
                  (i.current = e.cancel),
                    yield h.U8.LoadClanImages(t, !1, e),
                    e.token.reason || s(!1);
                }))();
            }
            return () => {
              i.current && i.current("ClanImageChooseDialog: unmounting");
            };
          }, [t]);
          const m = () => e.closeModal && e.closeModal(),
            p = h.U8.GetFilteredClanImages(t, c),
            u = (e) => {
              n(e), m();
            };
          return l.createElement(
            ee.SV,
            null,
            l.createElement(
              U.e1,
              { onEscKeypress: m },
              l.createElement(
                B.VY,
                null,
                l.createElement(
                  B.h4,
                  null,
                  (0, G.Xx)("#ClanImageChooser_Title"),
                ),
                l.createElement(
                  B.uT,
                  null,
                  l.createElement(
                    B.Ac,
                    null,
                    l.createElement(
                      "p",
                      null,
                      (0, G.Xx)("#ClanImageChooser_Desc"),
                    ),
                    l.createElement(B.II, {
                      placeholder: (0, G.Xx)("#ClanImageChooser_Search"),
                      value: c,
                      onChange: (e) => d(e.currentTarget.value),
                    }),
                    l.createElement(
                      "div",
                      { className: te.ImagesOuterContainer },
                      r
                        ? l.createElement(Z.V, {
                            size: "medium",
                            string: (0, G.Xx)("#Loading"),
                          })
                        : Boolean(p.length > 0)
                        ? p.map((e) =>
                            l.createElement(ae, {
                              key: "ci" + e.image_hash,
                              clanImage: e,
                              searchStringHilight: c,
                              fnImageClick: u,
                            }),
                          )
                        : Boolean(0 == c.trim().length)
                        ? l.createElement(
                            "div",
                            null,
                            (0, G.Xx)("#ClanImageChooser_None"),
                          )
                        : l.createElement(
                            "div",
                            null,
                            (0, G.Xx)("#EventCalendar_GameSearch_NoneFound"),
                          ),
                    ),
                  ),
                ),
                l.createElement(
                  B.$_,
                  null,
                  l.createElement(
                    B.zx,
                    { onClick: m },
                    (0, G.Xx)("#Button_Cancel"),
                  ),
                ),
              ),
            ),
          );
        },
        ae = (e) => {
          const { clanImage: t, searchStringHilight: n, fnImageClick: a } = e;
          let i = t.file_name ? t.file_name : "",
            o = (function (e, t, n, a) {
              let i = [];
              if (e.length > 0) {
                let o = t.toLocaleLowerCase();
                for (let r = 0; r < t.length; ) {
                  let s = o.indexOf(e, r);
                  if (s < 0) {
                    i.push(
                      l.createElement(
                        "span",
                        { key: n + "_" + String(r) },
                        t.substring(r),
                      ),
                    );
                    break;
                  }
                  r < s &&
                    i.push(
                      l.createElement(
                        "span",
                        { key: n + "_" + String(r) },
                        t.substring(r, s),
                      ),
                    ),
                    i.push(
                      l.createElement(
                        "span",
                        { key: n + "_" + String(r), className: a },
                        t.substr(s, e.length),
                      ),
                    ),
                    (r = s + e.length);
                }
              } else i.push(l.createElement("span", { key: n + "_null" }, t));
              return i;
            })(n, i, String(t.imageid), te.Hilight);
          return l.createElement(
            "div",
            { className: te.ImageContainer },
            l.createElement("div", {
              className: te.Image,
              style: { backgroundImage: `url( '${t.thumb_url}' )` },
              onDoubleClick: () => a(t),
            }),
            l.createElement(
              "div",
              { className: te.ImageFilename, title: i },
              o,
            ),
          );
        };
      var ie = n(79472),
        oe = n(93414),
        le = n(7948),
        re = n(2232),
        se = n(13345);
      const ce = (0, d.Pi)((e) => {
        const {
            clanSteamID: t,
            inputClanImage: n,
            nWidth: i,
            nHeight: o,
            setImage: r,
          } = e,
          c = l.useMemo(() => ["sale_header"], []),
          d = l.useMemo(() => ({ width: i, height: o }), [i, o]),
          [m, p] = l.useState(void 0),
          [u, g] = l.useState(Boolean(n)),
          [E, v] = l.useState(void 0),
          [S, f] = l.useState(!1),
          [y] = (0, K.SZ)(() => [le.U.Get().GetCurEditLanguage()]),
          D = l.useCallback(
            (e, t) =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                if (
                  (e.ClearImages(),
                  t && (g(!0), yield e.AddExistingClanImage(t, 0, c)))
                ) {
                  p(t);
                  const a = e.GetUploadImages()[0].IsValidAssetType(c, d);
                  0 != a.error.length ||
                    a.needsCrop ||
                    (n && n.image_hash == t.image_hash) ||
                    r(t);
                }
                g(!1);
              }),
            [n, r, c, d],
          );
        l.useEffect(() => {
          (E &&
            E.GetClanSteamID().ConvertTo64BitString() ==
              t.ConvertTo64BitString()) ||
            v(new oe.S(t));
        }, [E, t]),
          l.useEffect(() => {
            D(E, n);
          }, [D, E, n]);
        let b,
          I = "",
          C = !1;
        if (E && E.GetFilesToUpload().length > 0) {
          b = E.GetUploadImages()[0];
          const e = b.IsValidAssetType(c, d);
          (I = e.error), (C = e.needsCrop);
        }
        return l.createElement(
          l.Fragment,
          null,
          u
            ? l.createElement(Z.V, {
                size: "medium",
                string: (0, G.Xx)("#Loading"),
              })
            : Boolean(m) &&
                l.createElement("div", {
                  className: ie.Image,
                  style: {
                    backgroundImage: `url( '${b ? b.dataUrl : m.url}' )`,
                    height: `${o}px`,
                    width: `${i}px`,
                  },
                }),
          Boolean(I) && l.createElement("p", null, I),
          C &&
            l.createElement(
              B.zx,
              {
                onClick: (e) => {
                  const t = (0, z.RA)(e);
                  let n = E.GetUploadImages()[0];
                  (0, j.AM)(
                    l.createElement(J.e, {
                      ownerWin: t,
                      uploadFile: n,
                      forceResolution: { width: i, height: o },
                      fileType: 3,
                    }),
                    t,
                  );
                },
              },
              (0, G.Xx)("#BBCode_ResizeImage"),
            ),
          Boolean(b && b.bCropped) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                null,
                (0, G.Xx)("#ClanImagePickAndResize_UploadStatus", b.status),
              ),
              S
                ? l.createElement(Z.V, {
                    string: (0, G.Xx)("#Uploading"),
                    size: "small",
                  })
                : l.createElement(
                    B.zx,
                    {
                      onClick: () =>
                        (0, a.mG)(void 0, void 0, void 0, function* () {
                          f(!0);
                          try {
                            const e = yield E.UploadAllImages(
                                [re.IN.k_ESteamRealmGlobal],
                                y,
                                c,
                                d,
                              ),
                              n = Object.values(e);
                            if (
                              n &&
                              n.length > 0 &&
                              ((0, $.X)(
                                1 == n.length,
                                "ClanImagePickForCertainSize expected size 1, got " +
                                  n.length,
                              ),
                              1 == n[0].success)
                            ) {
                              const e = n[0],
                                a = (0, se.OL)() + t.GetAccountID() + "/",
                                i = h.aN.GetExtensionStringForFileType(
                                  e.file_type,
                                ),
                                o = a + e.image_hash + i,
                                l = a + e.thumbnail_hash + i,
                                s = {
                                  imageid: -11231412,
                                  image_hash: e.image_hash,
                                  thumbnail_hash: e.thumbnail_hash,
                                  file_type: e.file_type,
                                  file_name: e.file_name,
                                  clanAccountID: t.GetAccountID(),
                                  url: o,
                                  thumb_url: l,
                                  uploaded_time: Date.now() / 1e3,
                                  loc_languages: void 0,
                                  is_loc_group: !1,
                                };
                              p(s), r(s);
                            }
                          } finally {
                            f(!1);
                          }
                        }),
                    },
                    (0, G.Xx)("#ClanImagePickAndResize_UploadImage"),
                  ),
            ),
          l.createElement(
            B.zx,
            {
              onClick: (e) => {
                const t = new _.K(s.JA.CLANSTEAMID);
                (0, j.AM)(
                  l.createElement(ne, {
                    clanSteamID: t,
                    fnImageSelectCallBack: (e) => D(E, e),
                  }),
                  (0, z.RA)(e),
                );
              },
            },
            (0, G.Xx)("#BBCode_ChooseImage", i, o),
          ),
        );
      });
      var de;
      let me = (de = class extends l.Component {
        constructor(e) {
          super(e),
            (this.m_cancelSignal = o().CancelToken.source()),
            (this.state = {
              formattingHelp: {
                __html: de.s_formattingHelp.has(e.formatType)
                  ? de.s_formattingHelp.get(e.formatType)
                  : "",
              },
            });
        }
        componentDidMount() {
          this.AjaxGetFormattingHelp().catch((e) => {
            this.setState((0, r.l)(e));
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "FormattingHelpWidget component unmounted",
          );
        }
        static GetHelpURL(e, t) {
          return (
            s.De.COMMUNITY_BASE_URL +
            "comment/" +
            e +
            "/formattinghelp" +
            (t ? "?ajax=1" : "")
          );
        }
        AjaxGetFormattingHelp() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if ("" == this.state.formattingHelp.__html) {
              let e,
                t = { sessionid: s.De.SESSIONID };
              (e = yield o().get(de.GetHelpURL(this.props.formatType, !0), {
                params: t,
                cancelToken: this.m_cancelSignal.token,
              })),
                de.s_formattingHelp.set(this.props.formatType, e.data),
                this.setState({ formattingHelp: { __html: e.data } });
            }
          });
        }
        render() {
          return this.state.strErrorMsg
            ? l.createElement(
                "div",
                null,
                this.state.strErrorMsg,
                l.createElement("br", null),
                this.state.errorCode,
              )
            : "" == this.state.formattingHelp.__html
            ? l.createElement(Z.V, null)
            : l.createElement(
                U.uH,
                {
                  strTitle: (0, G.Xx)(
                    "#EventEditor_FormattingHelp_GetHelpLink",
                  ),
                  strDescription: "",
                  closeModal: this.props.closeModal,
                  onOK: this.props.closeModal,
                  onCancel: this.props.closeModal,
                  bAlertDialog: !0,
                  className: "ModernBBStyles",
                },
                l.createElement("div", {
                  dangerouslySetInnerHTML: this.state.formattingHelp,
                }),
              );
        }
      });
      var pe;
      (me.s_formattingHelp = new Map()), (me = de = (0, a.gn)([d.Pi], me));
      let ue = class extends l.Component {
        constructor(e) {
          super(e),
            (this.descAutoTextAreaRef = l.createRef()),
            (this.state = { bShowDragTarget: !1 });
        }
        componentDidMount() {
          h.U8.AddClanImageDragListener(this.ClanImageDragListener);
        }
        componentWillUnmount() {
          h.U8.RemoveClanImageDragListener(this.ClanImageDragListener);
        }
        ClanImageDragListener(e, t) {
          this.state.bShowDragTarget != t &&
            this.setState({ bShowDragTarget: t });
        }
        onFocus(e) {
          e && e.target.select();
        }
        InsertText(e) {
          _e.replaceSelection(this.GetTextAreaRef().current, e);
        }
        OnTextAreaDropListener(e) {
          if (
            (e.preventDefault(),
            e.stopPropagation(),
            e.dataTransfer.items && e.dataTransfer.items[0])
          ) {
            let t = e.dataTransfer.getData("text");
            if (t && t.length > 0) {
              let e = (0, se.OL)();
              if (t.startsWith(e)) {
                let n = "[img]" + m.A1 + "/" + t.substr(e.length) + "[/img]";
                _e.replaceSelection(this.GetTextAreaRef().current, n);
              }
            }
          }
        }
        GetTextAreaRef() {
          return this.descAutoTextAreaRef && this.descAutoTextAreaRef.current
            ? this.descAutoTextAreaRef.current.GetTextAreaRef()
            : void 0;
        }
        render() {
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(he, {
              pathToImages:
                s.De.COMMUNITY_CDN_URL + "public/images/sharedfiles/guides/",
              fnTextareaRef: this.GetTextAreaRef,
              emoticonStore: this.props.emoticonStore,
              supportBBCodes: this.props.limitBBCode
                ? this.props.limitBBCode
                : m.yp,
              bSupportHTMLImport: this.props.bSupportHTMLImport,
              showFormatHelp: this.props.showFormatHelp,
              bEmbeddedInDialog: this.props.bEmbeddedInDialog,
              clanSteamID: this.props.clanSteamID,
            }),
            l.createElement(
              "div",
              {
                className: (0, I.Z)(
                  Q().DescriptionCtn,
                  Q().BBCodeEditorInputStyles,
                  this.state.bShowDragTarget ? Q().DragTarget : "",
                ),
              },
              l.createElement(O, {
                cols: 90,
                rows: this.props.nOverridesRows || 22,
                maxLength: 32e3,
                className: (0, I.Z)(
                  Q().DefaultEditor,
                  this.props.classNameForTextArea
                    ? this.props.classNameForTextArea
                    : "",
                ),
                placeholder: this.props.strPlaceholder,
                ref: this.descAutoTextAreaRef,
                value: this.props.fnGetCurText(),
                onChange: this.props.fnOnTextChange,
                onDrop: this.OnTextAreaDropListener,
                emoticonStore: this.props.emoticonStore,
                fnSetText: this.props.fnSetText,
                supportBBCodes: this.props.limitBBCode
                  ? this.props.limitBBCode
                  : m.yp,
              }),
            ),
          );
        }
      };
      (0, a.gn)([v.ak], ue.prototype, "ClanImageDragListener", null),
        (0, a.gn)([v.ak], ue.prototype, "onFocus", null),
        (0, a.gn)([v.ak], ue.prototype, "OnTextAreaDropListener", null),
        (0, a.gn)([v.ak], ue.prototype, "GetTextAreaRef", null),
        (ue = (0, a.gn)([d.Pi], ue));
      class _e {
        static BIsFireFox() {
          return Boolean(
            new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(
              navigator.userAgent,
            ),
          );
        }
        static replaceSelection(e, t) {
          let n = e.selectionStart;
          e.focus(),
            _e.InsertTextAtSelect(t, e),
            e.setSelectionRange(n, n + t.length);
        }
        static getSelectedString(e) {
          return e.value.substr(
            e.selectionStart,
            e.selectionEnd - e.selectionStart,
          );
        }
        static wrapBBCode(e, t, n) {
          let a = _e.getSelectedString(n),
            i = "";
          (i =
            0 == a.indexOf(e) && a.lastIndexOf(t) == a.length - t.length
              ? a.substr(e.length, a.length - e.length - t.length)
              : e + a + t),
            _e.replaceSelection(n, i);
        }
        static append(e, t) {
          t &&
            (t.focus(),
            t.setSelectionRange(t.value.length, t.value.length),
            _e.InsertTextAtSelect(e, t));
        }
        static overwrite(e, t) {
          t &&
            (t.focus(),
            document.execCommand("selectAll", !1, e),
            _e.BIsFireFox()
              ? (t.value = "")
              : document.execCommand("delete", !1),
            _e.InsertTextAtSelect(e, t));
        }
        static InsertTextAtSelect(e, t) {
          _e.BIsFireFox() && t.setRangeText
            ? t.setRangeText(e)
            : document.execCommand("insertText", !1, e);
        }
      }
      let he = class extends l.Component {
        constructor() {
          super(...arguments), (this.m_linkPopupRef = l.createRef());
        }
        onBold() {
          _e.wrapBBCode("[b]", "[/b]", this.props.fnTextareaRef().current);
        }
        onItalics() {
          _e.wrapBBCode("[i]", "[/i]", this.props.fnTextareaRef().current);
        }
        onUnderline() {
          _e.wrapBBCode("[u]", "[/u]", this.props.fnTextareaRef().current);
        }
        onStrikeThrough() {
          _e.wrapBBCode(
            "[strike]",
            "[/strike]",
            this.props.fnTextareaRef().current,
          );
        }
        onHeader() {
          _e.wrapBBCode("[h1]", "[/h1]", this.props.fnTextareaRef().current);
        }
        onHeader2() {
          _e.wrapBBCode("[h2]", "[/h2]", this.props.fnTextareaRef().current);
        }
        onHeader3() {
          _e.wrapBBCode("[h3]", "[/h3]", this.props.fnTextareaRef().current);
        }
        onUnorderedList() {
          this.handleList("list");
        }
        onOrderedList() {
          this.handleList("olist");
        }
        handleList(e) {
          let t = this.props.fnTextareaRef().current,
            n = "[" + e + "]\n",
            a = "[/" + e + "]";
          if (t.selectionStart == t.selectionEnd)
            _e.wrapBBCode(n + "[*]", "\n" + a, t);
          else {
            let e =
              n +
              _e
                .getSelectedString(t)
                .split("\n")
                .map((e) => (e.match(/\*+\s/) ? "[*]" : "[*] ") + e)
                .join("\n") +
              "\n" +
              a;
            _e.replaceSelection(t, e);
          }
        }
        OnAddLink(e) {
          (0, j.BR)(
            l.createElement(ve, { textareaRef: this.props.fnTextareaRef() }),
            (0, z.RA)(e),
          );
        }
        ShowHelpDialog(e) {
          this.props.showFormatHelp &&
            (0, j.BR)(
              l.createElement(me, { formatType: this.props.showFormatHelp }),
              (0, z.RA)(e),
            );
        }
        OnConvertHTMLToBBCodeDialog(e) {
          const t = (0, z.RA)(e);
          (0, j.BR)(
            l.createElement(ye, {
              ownerWindow: t,
              textareaRef: this.props.fnTextareaRef(),
            }),
            t,
          );
        }
        OnOpenYoutubeDialog(e) {
          let t = s.De.IMG_URL + "applications/community/";
          (0, j.BR)(
            l.createElement(Ee, {
              textareaRef: this.props.fnTextareaRef(),
              pathToImages: t,
            }),
            (0, z.RA)(e),
          );
        }
        OnOpenImageDialog(e) {
          (0, j.BR)(
            l.createElement(Se, { textareaRef: this.props.fnTextareaRef() }),
            (0, z.RA)(e),
          );
        }
        OnOpenSpeakerDialog(e) {
          (0, j.AM)(
            l.createElement(fe, {
              clanSteamID: this.props.clanSteamID,
              textareaRef: this.props.fnTextareaRef(),
            }),
            (0, z.RA)(e),
          );
        }
        OnEmoticonSelected(e, t = !1) {
          let n = `${e}`;
          _e.replaceSelection(this.props.fnTextareaRef().current, n),
            this.props.fnTextareaRef().current.focus();
        }
        BSupports(e) {
          return this.props.supportBBCodes.findIndex((t) => t == e) >= 0;
        }
        render() {
          const {
            showFormatHelp: e,
            bEmbeddedInDialog: t,
            bSupportHTMLImport: n,
            pathToImages: a,
          } = this.props;
          let i;
          return (
            e &&
              (i = t
                ? l.createElement(
                    "span",
                    {
                      className: (0, I.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, G.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    l.createElement(
                      "a",
                      {
                        href: me.GetHelpURL(this.props.showFormatHelp, !1),
                        target: s.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      l.createElement("img", { src: a + "/action_help.png" }),
                      " ",
                      (0, G.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                    ),
                  )
                : l.createElement(
                    "span",
                    {
                      onClick: this.ShowHelpDialog,
                      className: (0, I.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, G.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    l.createElement("img", { src: a + "/action_help.png" }),
                    " ",
                    (0, G.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                  )),
            l.createElement(
              "div",
              { className: Q().TextEditorToolBarContainer },
              this.BSupports("b") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onBold,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Bold"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_bold.png",
                  }),
                ),
              this.BSupports("u") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onUnderline,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Underline"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_underline.png",
                  }),
                ),
              this.BSupports("i") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onItalics,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Italics"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_italic.png",
                  }),
                ),
              this.BSupports("strike") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onStrikeThrough,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_StrikeThrough"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_strike.png",
                  }),
                ),
              Boolean(this.BSupports("url") && !t) &&
                l.createElement(
                  "span",
                  {
                    onClick: this.OnAddLink,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Link"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_link.png",
                  }),
                ),
              this.BSupports("list") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onUnorderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Unordered"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_bullet.png",
                  }),
                ),
              this.BSupports("olist") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onOrderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Ordered"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_numbered.png",
                  }),
                ),
              this.BSupports("h1") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onHeader,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Header"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_header1.png",
                  }),
                ),
              this.BSupports("h2") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onHeader2,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Header2"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_header2.png",
                  }),
                ),
              this.BSupports("h3") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.onHeader3,
                    className: "ttip",
                    "data-tooltip-text": (0, G.Xx)("#Editor_Header3"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/format_header3.png",
                  }),
                ),
              this.BSupports("previewyoutube") &&
                l.createElement(
                  "span",
                  {
                    onClick: this.OnOpenYoutubeDialog,
                    "data-tooltip-text": (0, G.Xx)(
                      "#EventEditor_InsertYouTube",
                    ),
                  },
                  l.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg==",
                  }),
                ),
              l.createElement(
                "span",
                {
                  className: "ttip",
                  "data-tooltip-text": (0, G.Xx)("#Editor_Emoticon"),
                },
                this.props.emoticonStore &&
                  l.createElement(M.Z, {
                    title: " ",
                    className: (0, I.Z)(Q().EmoteOuter),
                    disabled: !1,
                    OnEmoticonSelected: this.OnEmoticonSelected,
                    rtLastAckedNewEmoticons: Number.MAX_VALUE,
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: g.$,
                    useImg: this.props.pathToImages + "/format_emote.png",
                    contextOptions: {
                      bOverlapHorizontal: !0,
                      bDisablePopTop: !0,
                    },
                  }),
              ),
              Boolean(this.BSupports("img") && !t) &&
                l.createElement(
                  "span",
                  {
                    onClick: this.OnOpenImageDialog,
                    "data-tooltip-text": (0, G.Xx)("#EventEditor_InsertImage"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(
                s.L7.is_support &&
                  this.props.clanSteamID &&
                  this.BSupports("speaker"),
              ) &&
                l.createElement(
                  "span",
                  {
                    onClick: this.OnOpenSpeakerDialog,
                    "data-tooltip-text": (0, G.Xx)("#EventEditor_AddSpeaker"),
                  },
                  l.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(n && !t) &&
                l.createElement(
                  "span",
                  {
                    onClick: this.OnConvertHTMLToBBCodeDialog,
                    className: Q().ActionImportHTML,
                    "data-tooltip-text": (0, G.Xx)(
                      "#EventEditor_ImportFromHTML_ttip",
                    ),
                  },
                  (0, G.Xx)("#EventEditor_ImportHTML"),
                ),
              i,
            )
          );
        }
      };
      var ge;
      (0, a.gn)([v.ak], he.prototype, "onBold", null),
        (0, a.gn)([v.ak], he.prototype, "onItalics", null),
        (0, a.gn)([v.ak], he.prototype, "onUnderline", null),
        (0, a.gn)([v.ak], he.prototype, "onStrikeThrough", null),
        (0, a.gn)([v.ak], he.prototype, "onHeader", null),
        (0, a.gn)([v.ak], he.prototype, "onHeader2", null),
        (0, a.gn)([v.ak], he.prototype, "onHeader3", null),
        (0, a.gn)([v.ak], he.prototype, "onUnorderedList", null),
        (0, a.gn)([v.ak], he.prototype, "onOrderedList", null),
        (0, a.gn)([v.ak], he.prototype, "OnAddLink", null),
        (0, a.gn)([v.ak], he.prototype, "ShowHelpDialog", null),
        (0, a.gn)([v.ak], he.prototype, "OnConvertHTMLToBBCodeDialog", null),
        (0, a.gn)([v.ak], he.prototype, "OnOpenYoutubeDialog", null),
        (0, a.gn)([v.ak], he.prototype, "OnOpenImageDialog", null),
        (0, a.gn)([v.ak], he.prototype, "OnOpenSpeakerDialog", null),
        (0, a.gn)([v.ak], he.prototype, "OnEmoticonSelected", null),
        (he = (0, a.gn)([d.Pi], he)),
        (function (e) {
          (e.left = "leftthumb"),
            (e.right = "rightthumb"),
            (e.full = "full"),
            (e.summary = "summary");
        })(ge || (ge = {}));
      let Ee = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = { youtubeInput: "", alignment: ge.left });
        }
        OnYoutubeInsertLink() {
          const e =
            this.state.youtubeInput && (0, u.S6)(this.state.youtubeInput);
          if (e) {
            if (this.state.alignment == ge.summary) {
              const t =
                "https://www.youtube.com/watch?v=" +
                e.strVideoID +
                (e.nStartSeconds ? "&t=" + e.nStartSeconds : "");
              _e.wrapBBCode(t, "", this.props.textareaRef.current);
            } else {
              let t =
                "[previewyoutube=" +
                e.strVideoID +
                ";" +
                this.state.alignment +
                "]";
              _e.wrapBBCode(
                t,
                "[/previewyoutube]",
                this.props.textareaRef.current,
              );
            }
            this.setState({ youtubeInput: "", alignment: ge.left });
          } else alert((0, G.Xx)("#EventEditor_InsertYouTube_NoURL"));
        }
        OnUrlChange(e) {
          this.state.youtubeInput != e.target.value &&
            this.setState({ youtubeInput: e.target.value });
        }
        OnLeftSelected() {
          this.setState({ alignment: ge.left });
        }
        OnRightSelected() {
          this.setState({ alignment: ge.right });
        }
        OnFullSelected() {
          this.setState({ alignment: ge.full });
        }
        OnSummarySelected() {
          this.setState({ alignment: ge.summary });
        }
        OnOuterDivClickPassDown(e) {}
        render() {
          return l.createElement(
            U.uH,
            {
              strTitle: (0, G.Xx)("#EventEditor_InsertYouTube"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnYoutubeInsertLink,
              strOKButtonText: (0, G.Xx)("#EventEditor_InsertYouTube"),
              className: Q().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: Q().YouTubeInput },
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, G.Xx)("#EventEditor_InsertYouTube_URL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      ref: (e) => e && e.focus(),
                      type: "text",
                      value: this.state.youtubeInput,
                      onChange: this.OnUrlChange,
                      placeholder: (0, G.Xx)(
                        "#EventEditor_InsertYouTube_Placholder",
                      ),
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "div",
                  { className: "DialogLabel" },
                  (0, G.Xx)("#EventEditor_InsertYouTube_Position"),
                ),
                l.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ge.left,
                    value: ge.left,
                    checked: this.state.alignment == ge.left,
                    onChange: this.OnLeftSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: ge.left },
                    l.createElement(
                      "span",
                      null,
                      (0, G.Xx)("#EventEditor_InsertYouTube_Left"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ge.right,
                    value: ge.right,
                    checked: this.state.alignment == ge.right,
                    onChange: this.OnRightSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: ge.right },
                    l.createElement(
                      "span",
                      null,
                      (0, G.Xx)("#EventEditor_InsertYouTube_Right"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ge.full,
                    value: ge.full,
                    checked: this.state.alignment == ge.full,
                    onChange: this.OnFullSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: ge.full },
                    l.createElement(
                      "span",
                      null,
                      (0, G.Xx)("#EventEditor_InsertYouTube_Full"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ge.summary,
                    value: ge.summary,
                    checked: this.state.alignment == ge.summary,
                    onChange: this.OnSummarySelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: ge.summary },
                    l.createElement(
                      "span",
                      null,
                      (0, G.Xx)("#EventEditor_InsertYouTube_Summary"),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, a.gn)([v.ak], Ee.prototype, "OnYoutubeInsertLink", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnUrlChange", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnLeftSelected", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnRightSelected", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnFullSelected", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnSummarySelected", null),
        (0, a.gn)([v.ak], Ee.prototype, "OnOuterDivClickPassDown", null),
        (Ee = (0, a.gn)([d.Pi], Ee));
      let ve = (pe = class extends l.Component {
        constructor() {
          super(...arguments), (this.state = { textToDisplay: "", strURL: "" });
        }
        LoadFromTextArea() {
          const { textareaRef: e } = this.props;
          if (e && e.current) {
            let t = _e.getSelectedString(e.current),
              n = pe.m_regExp.exec(t);
            n
              ? this.setState({ strURL: n[1], textToDisplay: n[2] })
              : this.setState({ textToDisplay: t });
          }
        }
        componentDidMount() {
          this.LoadFromTextArea();
        }
        onLinkTitleUpdate(e) {
          this.setState({ textToDisplay: e.target.value });
        }
        onLinkURLUpdate(e) {
          this.setState({ strURL: e.target.value });
        }
        onInsertLink() {
          const { strURL: e, textToDisplay: t } = this.state;
          let n = "[url=" + e + "]" + t + "[/url]";
          _e.replaceSelection(this.props.textareaRef.current, n);
        }
        render() {
          return l.createElement(
            U.uH,
            {
              strTitle: (0, G.Xx)("#Editor_Link"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onOK: this.onInsertLink,
              onCancel: this.props.closeModal,
              strOKButtonText: (0, G.Xx)("#EventEditor_InsertLinkURL"),
              className: Q().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, G.Xx)("#EventEditor_LinkDescription"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      type: "text",
                      onChange: this.onLinkTitleUpdate,
                      value: this.state.textToDisplay,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, G.Xx)("#EventEditor_LinkURL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      type: "text",
                      onChange: this.onLinkURLUpdate,
                      value: this.state.strURL,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      });
      (ve.m_regExp = new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i)),
        (0, a.gn)([v.ak], ve.prototype, "onLinkTitleUpdate", null),
        (0, a.gn)([v.ak], ve.prototype, "onLinkURLUpdate", null),
        (0, a.gn)([v.ak], ve.prototype, "onInsertLink", null),
        (ve = pe = (0, a.gn)([d.Pi], ve));
      let Se = class extends l.Component {
        constructor() {
          super(...arguments), (this.state = { imgURL: "", anchorURL: "" });
        }
        componentDidMount() {
          this.refFirstInput && this.refFirstInput.current.focus();
        }
        OnImageInsert() {
          const { anchorURL: e, imgURL: t } = this.state;
          let n = "",
            a = "";
          e && e.length > 0 && ((n += "[url=" + e + "]"), (a = "[/url]" + a)),
            (n += "[img]" + t),
            (a = "[/img]" + a),
            _e.wrapBBCode(n, a, this.props.textareaRef.current);
        }
        OnImageURLChange(e) {
          this.state.imgURL != e.target.value &&
            this.setState({ imgURL: e.target.value });
        }
        OnAnchorURLChange(e) {
          this.state.anchorURL != e.target.value &&
            this.setState({ anchorURL: e.target.value });
        }
        render() {
          const { imgURL: e, anchorURL: t } = this.state;
          return l.createElement(
            U.uH,
            {
              strTitle: (0, G.Xx)("#EventEditor_InsertImage_Title"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnImageInsert,
              strOKButtonText: (0, G.Xx)("#EventEditor_InsertImage_Title"),
              className: Q().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              l.createElement(
                "p",
                null,
                (0, G.Xx)("#EventEditor_InsertImage_Desc"),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, G.Xx)("#EventEditor_InsertImage_URL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: e,
                      onChange: this.OnImageURLChange,
                      placeholder: (0, G.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                      ref: this.refFirstInput,
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, G.Xx)("#EventEditor_InsertImage_Anchor"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: t,
                      onChange: this.OnAnchorURLChange,
                      placeholder: (0, G.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, a.gn)([v.ak], Se.prototype, "OnImageInsert", null),
        (0, a.gn)([v.ak], Se.prototype, "OnImageURLChange", null),
        (0, a.gn)([v.ak], Se.prototype, "OnAnchorURLChange", null),
        (Se = (0, a.gn)([d.Pi], Se));
      const fe = (e) => {
        const t = l.useRef(null),
          [n, i] = l.useState(""),
          [r, d] = l.useState(""),
          [u, g] = l.useState(""),
          [v, S] = l.useState(""),
          [f, y] = l.useState(void 0),
          [D, b] = l.useState(void 0),
          [I, C] = l.useState([]),
          [A, T] = l.useState(!0);
        l.useEffect(
          () => (
            (0, a.mG)(void 0, void 0, void 0, function* () {
              const e = o().CancelToken.source();
              t.current = e.cancel;
              const n = yield c.Get().LoadFriendList();
              !e.token.reason &&
                n &&
                (C(n),
                yield E.y$.LoadProfiles([
                  s.L7.steamid,
                  ...n.map((e) => e.steamid),
                ]),
                e.token.reason || T(!1));
            }),
            () => {
              t.current && t.current("InsertSpeakerBBCode: unmounting");
            }
          ),
          [],
        );
        const w = 0 != n.trim().length && 0 != v.trim().length,
          k = l.createElement(
            "div",
            { className: Q().DropDownScroll },
            I.map((e) =>
              l.createElement(
                V.Zo,
                { onSelected: () => b(new _.K(e.steamid)), key: e.steamid },
                l.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  l.createElement("img", {
                    className: X().WhitelistAvatar,
                    src: e.avatar_url,
                  }),
                  e.persona_name,
                ),
              ),
            ),
          ),
          N = D ? E.y$.GetProfileBySteamID(D) : void 0;
        return l.createElement(
          U.uH,
          {
            strTitle: (0, G.Xx)("#EventEditor_AddSpeaker"),
            strDescription: (0, G.Xx)("#EventEditor_AddSpeaker_Desc"),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            bOKDisabled: !w,
            onOK: () => {
              let t = `[speaker name="${n.trim()}"`;
              if (
                (r.trim().length > 0 && (t += ` title="${r}"`),
                u.trim().length > 0 && (t += ` company="${u}"`),
                f)
              ) {
                t += ` photo="${
                  m.A1 + "/" + f.clanAccountID + "/" + h.aN.GetHashAndExt(f)
                }"`;
              }
              D && (t += ` steamid="${D.ConvertTo64BitString()}"`),
                (t += `]${v}[/speaker]`),
                _e.replaceSelection(e.textareaRef.current, t);
            },
            className: Q().BBCodeEditorInputStyles,
          },
          l.createElement(
            "div",
            { className: Q().InsertSpeakerCtn },
            l.createElement(B.II, {
              type: "text",
              label: (0, G.Xx)("#EventEditor_AddSpeaker_Name"),
              value: n,
              onChange: (e) => i(e.target.value),
              focusOnMount: !0,
            }),
            l.createElement(
              "div",
              { className: Q().TitleGroup },
              l.createElement(B.II, {
                type: "text",
                label: (0, G.Xx)("#EventEditor_AddSpeaker_Title"),
                value: r,
                onChange: (e) => d(e.target.value),
              }),
              l.createElement(B.II, {
                type: "text",
                label: (0, G.Xx)("#EventEditor_AddSpeaker_Company"),
                value: u,
                onChange: (e) => g(e.target.value),
              }),
            ),
            l.createElement(
              q.HP,
              {
                toolTipContent: (0, G.Xx)(
                  "#EventEditor_AssociateSteamAccount_ttip",
                ),
              },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, G.Xx)("#EventEditor_AssociateSteamAccount"),
                " (?)",
              ),
            ),
            l.createElement(
              "div",
              null,
              A &&
                l.createElement(Z.V, {
                  string: (0, G.Xx)("#Loading"),
                  size: "small",
                }),
              Boolean(N) &&
                l.createElement(
                  "a",
                  {
                    href:
                      s.De.COMMUNITY_BASE_URL +
                      "profiles/" +
                      D.ConvertTo64BitString(),
                    target: "_blank",
                  },
                  N
                    ? l.createElement("img", {
                        style: { marginRight: "8px" },
                        src: N.avatar_url,
                      })
                    : null,
                  N ? N.persona_name : null,
                ),
              l.createElement(
                "div",
                { className: Q().AssociateRowCtn },
                l.createElement(
                  B.zx,
                  { onClick: () => b(new _.K(s.L7.steamid)) },
                  (0, G.Xx)("#EventEditor_SteamAccount_addme"),
                ),
                l.createElement(
                  B.zx,
                  { onClick: (e) => (0, p.yV)(k, e) },
                  (0, G.Xx)("#EventEditor_SteamAccount_addfriend"),
                ),
                l.createElement(
                  B.zx,
                  { onClick: () => b(void 0) },
                  (0, G.Xx)("#EventEditor_SteamAccount_clear"),
                ),
              ),
            ),
            l.createElement(
              "div",
              { className: Q().PhotoCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, G.Xx)("#EventEditor_ChoosePhoto"),
              ),
              l.createElement(ce, {
                clanSteamID: e.clanSteamID,
                inputClanImage: f,
                setImage: y,
                nWidth: 184,
                nHeight: 184,
              }),
            ),
            l.createElement(
              "div",
              { className: Q().AboutCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, G.Xx)("#EventEditor_AddSpeaker_About"),
              ),
              l.createElement(B.E0, {
                value: v,
                onChange: (e) => S(e.target.value),
                rows: 8,
                cols: 80,
                nMinHeight: 40,
                placeholder: (0, G.Xx)(
                  "#EventEditor_AddSpeaker_About_Placeholder",
                ),
              }),
            ),
            l.createElement(
              "div",
              { className: Q().PreviewCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, G.Xx)("#Button_Preview"),
              ),
              l.createElement(W.qs, {
                company: u,
                name: n,
                title: r,
                bioString: v,
                photo: f ? f.url : void 0,
              }),
            ),
          ),
        );
      };
      let ye = class extends l.Component {
        constructor(e) {
          super(e),
            (this.m_isMounted = !1),
            (this.m_bAppend = !1),
            (this.state = { bPreserveNewLines: !1, strHTMLData: "" });
        }
        componentDidMount() {
          this.m_isMounted = !0;
        }
        componentWillUnmount() {
          this.m_isMounted = !1;
        }
        OnConvertAndOverriteHTML() {
          (this.m_bAppend = !1), this.ConvertBBCode();
        }
        OnConvertAndAppendHTML() {
          (this.m_bAppend = !0), this.ConvertBBCode();
        }
        ConvertHtmlToBBCode(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new URLSearchParams();
            n.append("content", e),
              n.append("preserve_newlines", t ? "1" : "0");
            let a = null;
            return (
              (a = yield o().post(
                s.De.COMMUNITY_BASE_URL + "/actions/ConvertHTMLToBBCode",
                n,
              )),
              a.data.content
            );
          });
        }
        ConvertBBCode() {
          this.setState({ bConverting: !0 }),
            this.ConvertHtmlToBBCode(
              this.state.strHTMLData,
              this.state.bPreserveNewLines,
            )
              .then((e) => {
                this.m_isMounted &&
                  (this.m_bAppend
                    ? _e.append(e, this.props.textareaRef.current)
                    : _e.overwrite(e, this.props.textareaRef.current),
                  this.setState({ bConverting: !1, bFinishedConverting: !0 }));
              })
              .catch((e) => {
                (0, j.AM)(
                  l.createElement(U.JX, {
                    strTitle: (0, G.Xx)("#EventEditor_ConvertHTML_Error"),
                    strDescription: (0, G.Xx)(
                      "#EventEditor_ConvertHTML_Error_Desc",
                      e.response && e.response.data ? e.response.data.msg : e,
                    ),
                    bAlertDialog: !0,
                    bDestructiveWarning: !0,
                  }),
                  this.props.ownerWindow,
                  { strTitle: (0, G.Xx)("#EventEditor_ConvertHTML_Error") },
                );
              });
        }
        OnCheckboxChange(e) {
          let t = e.target.checked;
          t != this.state.bPreserveNewLines &&
            this.setState({ bPreserveNewLines: t });
        }
        OnTextAreaChange(e) {
          this.setState({ strHTMLData: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return this.state.bConverting
            ? l.createElement(
                U.uH,
                {
                  strTitle: (0, G.Xx)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, G.Xx)(
                    "#EventEditor_ImportFromHTML_ConversionInProgress",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                },
                l.createElement(Z.V, null),
              )
            : this.state.bFinishedConverting
            ? l.createElement(U.uH, {
                strTitle: (0, G.Xx)("#EventEditor_ImportFromHTML"),
                strDescription: (0, G.Xx)(
                  "#EventEditor_ImportFromHTML_ConvertFinished",
                ),
                closeModal: e,
                bAlertDialog: !0,
                onOK: e,
                onCancel: e,
              })
            : l.createElement(
                U.RG,
                {
                  onOK: this.OnConvertAndOverriteHTML,
                  onCancel: e,
                  className: Q().BBCodeEditorInputStyles,
                },
                l.createElement(
                  B.h4,
                  null,
                  " ",
                  (0, G.Xx)("#EventEditor_ImportFromHTML"),
                  " ",
                ),
                l.createElement(
                  B.uT,
                  null,
                  l.createElement(
                    B.Ac,
                    null,
                    l.createElement(
                      "div",
                      {
                        className: (0, I.Z)(
                          F().FlexColumnContainer,
                          Q().ImportHTMLCtn,
                        ),
                      },
                      l.createElement(
                        "div",
                        { className: F().FlexColumnContainer },
                        (0, G.kQ)(
                          "#EventEditor_ImportFromHTML_ConvertDescription",
                          l.createElement(
                            "a",
                            {
                              target: s.De.IN_CLIENT ? void 0 : "_blank",
                              href: "https://partner.steamgames.com/doc/marketing/event_tools/import",
                            },
                            (0, G.Xx)(
                              "#EventEditor_ImportFromHTML_ConvertLearn",
                            ),
                          ),
                        ),
                      ),
                      l.createElement("textarea", {
                        value: this.state.strHTMLData,
                        placeholder: (0, G.Xx)(
                          "#EventEditor_ImportFromHTML_Instruction",
                        ),
                        className: Q().ImportHTMLTextArea,
                        onChange: this.OnTextAreaChange,
                        ref: (e) => e && e.focus(),
                      }),
                      l.createElement(
                        "div",
                        { className: Q().ImportHTMLCheckBoxLine },
                        l.createElement("input", {
                          id: "ImportFromHTMLNewLines",
                          type: "checkbox",
                          checked: this.state.bPreserveNewLines,
                          onChange: this.OnCheckboxChange,
                        }),
                        l.createElement(
                          "label",
                          { htmlFor: "ImportFromHTMLNewLines" },
                          (0, G.Xx)(
                            "#EventEditor_ImportFromHTML_PreserveNewlines",
                          ),
                          l.createElement(
                            "span",
                            {
                              className: "ttip",
                              "data-tooltip-text": (0, G.Xx)(
                                "#EventEditor_ImportFromHTML_PreserveNewlines_Hint",
                              ),
                            },
                            "(?)",
                          ),
                        ),
                      ),
                      l.createElement(
                        "div",
                        null,
                        (0, G.Xx)(
                          "#EventEditor_ImportFromHTML_ConvertToBBCode",
                        ),
                      ),
                    ),
                  ),
                  l.createElement(
                    B.$_,
                    null,
                    l.createElement(B.$0, {
                      onCancel: e,
                      strOKText: (0, G.Xx)("#Button_Overwrite"),
                      onUpdate: this.OnConvertAndAppendHTML,
                      strUpdateText: (0, G.Xx)("#Button_Append"),
                    }),
                  ),
                ),
              );
        }
      };
      (0, a.gn)([v.ak], ye.prototype, "OnConvertAndOverriteHTML", null),
        (0, a.gn)([v.ak], ye.prototype, "OnConvertAndAppendHTML", null),
        (0, a.gn)([v.ak], ye.prototype, "OnCheckboxChange", null),
        (0, a.gn)([v.ak], ye.prototype, "OnTextAreaChange", null),
        (ye = (0, a.gn)([d.Pi], ye));
    },
    19274: (e, t, n) => {
      "use strict";
      n.d(t, { O: () => I });
      var a,
        i = n(89526),
        o = n(19002),
        l = n(69338),
        r = n(58218),
        s = n(23217),
        c = n(19304),
        d = n(14826),
        m = n(88443),
        p = n(32765),
        u = n(33940),
        _ = n(11837),
        h = n(74802),
        g = n(4306);
      !(function (e) {
        (e[(e.NotLoaded = 0)] = "NotLoaded"),
          (e[(e.Loading = 1)] = "Loading"),
          (e[(e.Loaded = 2)] = "Loaded");
      })(a || (a = {}));
      let E = a.NotLoaded,
        v = [];
      function S(e) {
        if (E == a.Loaded) return void e();
        if (E == a.NotLoaded) {
          let e = document.createElement("script");
          e.src = "https://www.youtube.com/iframe_api";
          let t = document.getElementsByTagName("script")[0];
          t.parentNode.insertBefore(e, t), (window.onYouTubeIframeAPIReady = f);
        }
        v.findIndex((t) => e == t) < 0 && v.push(e);
      }
      function f() {
        E = a.Loaded;
        for (let e of v) e();
        v = [];
      }
      class y extends i.Component {
        constructor(e) {
          super(e),
            (this.m_strPlayerID = ""),
            (this.m_player = null),
            (this.m_playerContainer = null),
            (this.m_bPlayerReady = !1),
            (this.m_strPlayerID = "YoutubePlayer_" + y.s_nPlayerIndex++),
            (this.state = { bYoutubeLoaded: !1 });
        }
        componentWillUnmount() {
          var e;
          this.DestroyPlayer(), (e = this.OnYoutubeScriptsReady), _.Zf(v, e);
        }
        shouldComponentUpdate(e, t) {
          if (!this.m_player) return !1;
          const n = this.props;
          return n.autoplay != e.autoplay ||
            n.controls != e.controls ||
            n.showInfo != e.showInfo ||
            n.video != e.video
            ? (this.CreatePlayer(e), !1)
            : ((n.width == e.width && n.height == e.height) ||
                (this.m_bPlayerReady &&
                  e.width &&
                  e.height &&
                  this.m_player.setSize(e.width, e.height)),
              n.forcePause != e.forcePause);
        }
        componentDidUpdate(e) {
          e.forcePause != this.props.forcePause &&
            (this.props.forcePause
              ? this.m_player.pauseVideo()
              : this.m_player.playVideo());
        }
        DestroyPlayer() {
          if (this.m_player)
            try {
              this.m_player.stopVideo && this.m_player.stopVideo(),
                this.m_player.destroy && this.m_player.destroy();
            } catch (e) {
            } finally {
              this.m_player = null;
            }
        }
        BindPlayerContainer(e) {
          this.m_playerContainer != e &&
            ((this.m_playerContainer = e),
            this.DestroyPlayer(),
            this.m_playerContainer && S(this.OnYoutubeScriptsReady));
        }
        OnYoutubeScriptsReady() {
          this.CreatePlayer(this.props);
        }
        CreatePlayer(e) {
          if ((this.DestroyPlayer(), !this.m_playerContainer)) return;
          const t = !1 === e.autoplay ? 0 : 1,
            n = !0 === e.showInfo ? 1 : 0,
            a = !0 === e.controls ? 1 : 0,
            i = !0 === e.showFullscreenBtn ? 1 : 0,
            o = !0 === e.playsInline ? 1 : 0;
          let l = {
              width: void 0 !== e.width ? String(e.width) : void 0,
              height: void 0 !== e.height ? String(e.height) : void 0,
              videoId: e.video,
              playerVars: {
                autoplay: t,
                showinfo: n,
                autohide: 1,
                fs: i,
                modestbranding: 1,
                rel: 0,
                playsinline: o,
                iv_load_policy: 3,
                controls: a,
                start: e.startSeconds,
              },
              events: {
                onReady: this.OnPlayerReady,
                onStateChange: this.OnPlayerStateChange,
                onError: this.OnError,
              },
            },
            r = this.m_playerContainer.firstElementChild;
          (this.m_bPlayerReady = !1), (this.m_player = new YT.Player(r, l));
        }
        OnPlayerReady(e) {
          if (((this.m_bPlayerReady = !0), this.props.onVideoInfoChanged)) {
            let e = this.m_player.getVideoData(),
              t = { strAuthor: "", strTitle: "", strVideoID: "" };
            e.author && (t.strAuthor = e.author),
              e.title && (t.strTitle = e.title),
              e.video_id && (t.strVideoID = e.video_id),
              this.props.onVideoInfoChanged(t);
          }
          this.props.width &&
            this.props.height &&
            this.m_player.setSize(this.props.width, this.props.height),
            this.props.autoplay && this.m_player.playVideo(),
            this.props.onPlayerReady && this.props.onPlayerReady();
        }
        OnPlayerStateChange(e) {
          switch (e.data) {
            case YT.PlayerState.UNSTARTED:
              break;
            case YT.PlayerState.BUFFERING:
              this.props.onBuffering && this.props.onBuffering();
              break;
            case YT.PlayerState.PLAYING:
              this.props.onPlaying && this.props.onPlaying();
              break;
            case YT.PlayerState.PAUSED:
              this.props.onPaused && this.props.onPaused();
              break;
            case YT.PlayerState.ENDED:
              this.props.onMovieEnd && this.props.onMovieEnd();
          }
        }
        OnError(e) {
          console.log("Youtube: Playback failed", e),
            this.props.onError && this.props.onError(e);
        }
        OnPlayerLeftView() {
          this.props.autopause &&
            this.m_player &&
            this.m_bPlayerReady &&
            this.m_player.pauseVideo();
        }
        PlayVideo(e) {
          this.m_player &&
            this.m_bPlayerReady &&
            (e && this.m_player.seekTo(0, !0), this.m_player.playVideo());
        }
        render() {
          const e = i.createElement(
            "div",
            {
              key: this.m_strPlayerID,
              ref: this.BindPlayerContainer,
              className: (0, c.Z)("YoutubePlayer", this.props.classnames),
            },
            i.createElement(l.V, { className: "YoutubePlayerThrobber" }),
          );
          return this.props.autopause
            ? i.createElement(h.h, { onLeave: this.OnPlayerLeftView }, e)
            : e;
        }
      }
      (y.s_nPlayerIndex = 0),
        (0, u.gn)([g.ak], y.prototype, "BindPlayerContainer", null),
        (0, u.gn)([g.ak], y.prototype, "OnYoutubeScriptsReady", null),
        (0, u.gn)([g.ak], y.prototype, "CreatePlayer", null),
        (0, u.gn)([g.ak], y.prototype, "OnPlayerReady", null),
        (0, u.gn)([g.ak], y.prototype, "OnPlayerStateChange", null),
        (0, u.gn)([g.ak], y.prototype, "OnError", null),
        (0, u.gn)([g.ak], y.prototype, "OnPlayerLeftView", null),
        (0, u.gn)([g.ak], y.prototype, "PlayVideo", null);
      var D = n(4585),
        b = n.n(D);
      function I(e) {
        const {
            videoID: t,
            bShowVideoImmediately: n,
            bAutoPlay: a,
            nStartSeconds: u,
            classNameSize: _,
            classNameAlign: h,
          } = e,
          [g, E] = (0, i.useState)(!n),
          [v, f] = (0, i.useState)(!1),
          D = (0, r.T)("YouTubeInlineSnippet"),
          [I, C] = (0, i.useState)({
            title: (0, d.Xx)("#Loading"),
            description: "",
            videoid: t,
            views: "0",
          });
        (0, i.useEffect)(() => {
          g &&
            o.A.LoadYouTubeDynamicData([t], D)
              .then((e) => {
                !D.token.reason && e.length > 0 && (C(e[0]), f(!0));
              })
              .catch((e) =>
                console.error(
                  "YouTubeInlineSnippet: " + (0, s.l)(e).strErrorMsg,
                ),
              );
        }, [g, D, t]);
        const A = !1;
        if (
          (i.useEffect(() => {
            n && S(() => {});
          }, [n, A]),
          g)
        ) {
          const e = I.title,
            n = I.views,
            a = I.description;
          return i.createElement(
            "div",
            { className: b().DynamicLinkBox, onClick: () => E(!1) },
            i.createElement("img", {
              className: b().DynamicLink_Preview,
              src: "https://img.youtube.com/vi/" + t + "/0.jpg",
            }),
            i.createElement(
              "div",
              { className: b().DynamicLink_Content },
              i.createElement(
                "div",
                { className: b().DynamicLink_Name },
                (0, d.Xx)("#EventEditor_YouTubeVideoTitle", e),
              ),
              i.createElement(
                "div",
                { className: b().DynamicLink_YoutubeViews },
                (0, d.Xx)(
                  "#EventEditor_YouTubeVideoViews",
                  (0, m.AV)(Number(n)),
                ),
              ),
              i.createElement(
                "div",
                { className: b().Dynamiclink_Content },
                v && a,
                !v && i.createElement(l.V, { size: "medium" }),
              ),
            ),
          );
        }
        return i.createElement(
          "div",
          { className: (0, c.Z)(b().PreviewYouTubeVideo, _, h), id: t },
          i.createElement("img", {
            src:
              p.De.COMMUNITY_CDN_URL +
              "public/shared/images/responsive/youtube_16x9_placeholder.gif",
          }),
          i.createElement(y, {
            video: t,
            autoplay: null != a && a,
            startSeconds: u,
            controls: !0,
            playsInline: !0,
            autopause: !0,
            showFullscreenBtn: !0,
          }),
        );
      }
    },
    50304: (e, t, n) => {
      "use strict";
      n.d(t, {
        hp: () => j,
        tk: () => O,
        ag: () => X,
        uC: () => z,
        D3: () => ae,
      });
      var a = n(33940),
        i = n(59621),
        o = n(88464),
        l = n(89526),
        r = n(73961),
        s = n(69206),
        c = n(72329),
        d = n(25871);
      class m extends l.Component {
        constructor(e) {
          super(e);
        }
        render() {
          if (null == this.props.text)
            return l.createElement(l.Fragment, null, this.props.children);
          let e;
          if (
            ((e =
              this.props.text instanceof Array
                ? this.props.text
                    .map((e) => (e ? e.toString() : ""))
                    .filter((e) => e.length > 0)
                    .join("\n")
                : this.props.text.toString()),
            1 == l.Children.count(this.props.children))
          ) {
            let t = l.Children.only(this.props.children);
            return l.cloneElement(t, {
              "data-copystyle": this.props.style,
              "data-copytext": e,
            });
          }
          return (
            console.log(
              `Error: CopyableText must be the parent of exactly one child:\n\tcopystyle=${this.props.style} copytext=${e}`,
            ),
            l.createElement(l.Fragment, null, this.props.children)
          );
        }
      }
      m.defaultProps = { text: "" };
      var p = n(69159),
        u = n(19304),
        _ = n(14826),
        h = n(4306);
      function g(e, t) {
        return e + "economy/sticker/" + t;
      }
      var E = n(32765),
        v = n(22444),
        S = n(51438),
        f = n(8179),
        y = n(57800);
      class D extends l.Component {
        constructor(e) {
          super(e), (this.state = { activeIndex: e.initialActiveIndex || 0 });
        }
        render() {
          const { config: e } = this.props,
            { activeIndex: t } = this.state,
            n = e[t] && e[t].renderContent ? e[t].renderContent() : null,
            a = e.length > 1,
            i = a
              ? ({ detail: { button: t } }) => {
                  t === f.eV.BUMPER_LEFT
                    ? this.setState({
                        activeIndex: Math.max(0, this.state.activeIndex - 1),
                      })
                    : t === f.eV.BUMPER_RIGHT &&
                      this.setState({
                        activeIndex: Math.min(
                          e.length - 1,
                          this.state.activeIndex + 1,
                        ),
                      });
                }
              : void 0;
          return l.createElement(
            S.s,
            { className: y.Picker, onButtonDown: i },
            a && l.createElement(b, null, this.RenderTabs()),
            n,
          );
        }
        RenderTabs() {
          return this.props.config.map(({ renderTab: e }, t) => {
            const n = this.state.activeIndex === t;
            return l.createElement(
              C,
              {
                key: t,
                active: n,
                onClick: () => this.setState({ activeIndex: t }),
              },
              e(n),
            );
          });
        }
      }
      function b(e) {
        return l.createElement(
          S.s,
          { className: y.Tabs, "flow-children": "row" },
          e.children,
        );
      }
      function I(e) {
        return l.createElement("div", { className: y.Content }, e.children);
      }
      function C(e) {
        const { active: t, children: n, onClick: a } = e;
        return l.createElement(
          S.s,
          {
            className: (0, u.Z)(y.Tab, t && y.Active),
            focusClassName: y.Focus,
            onActivate: a,
          },
          l.createElement(
            "div",
            { className: (0, u.Z)(y.TabContent, t && y.Active) },
            n,
          ),
        );
      }
      function A(e) {
        const {
          items: t,
          renderItem: n,
          onItemSelect: a,
          keyExtractor: i,
          renderEmpty: o,
        } = e;
        let r = t.map((e, o) =>
          l.createElement(
            S.s,
            {
              key: i(e),
              className: y.Item,
              onActivate: () => a(t[o]),
              autoFocus: 0 === o,
              focusClassName: y.Focus,
            },
            n(t[o]),
          ),
        );
        return (
          0 === t.length && o && (r = o()),
          l.createElement(
            S.s,
            { "flow-children": "grid", className: y.ItemList },
            r,
          )
        );
      }
      function T(e) {
        const { title: t, onFilterChange: n, filter: i, onSubmit: o } = e,
          r = (0, a._T)(e, ["title", "onFilterChange", "filter", "onSubmit"]);
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            I,
            null,
            l.createElement(
              k,
              { title: t },
              l.createElement(A, Object.assign({}, r)),
            ),
          ),
          l.createElement(N, { value: i, onChange: n, onSubmit: o }),
        );
      }
      function w(e) {
        const { onFilterChange: t, filter: n, sections: i, title: o } = e;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            I,
            null,
            o && l.createElement("div", { className: y.SectionedPageTitle }, o),
            i.map((e) => {
              var { title: t } = e,
                n = (0, a._T)(e, ["title"]);
              return l.createElement(
                k,
                { title: t, key: t },
                l.createElement(A, Object.assign({}, n)),
              );
            }),
          ),
          l.createElement(N, { value: n, onChange: t }),
        );
      }
      function k(e) {
        return l.createElement(
          "div",
          { className: y.Section },
          l.createElement("div", { className: y.SectionTitle }, e.title),
          l.createElement("div", { className: y.SectionContent }, e.children),
        );
      }
      function N(e) {
        const { value: t, onChange: n, onSubmit: a } = e;
        return l.createElement(
          "div",
          { className: y.FilterInputContainer },
          l.createElement(v.II, {
            type: "text",
            placeholder: "Search...",
            className: y.FilterInput,
            value: t,
            onChange: (e) => n(e.target.value),
            onSubmit: a,
          }),
        );
      }
      function L(e) {
        const { className: t } = e,
          n = (0, a._T)(e, ["className"]);
        return l.createElement(
          "div",
          Object.assign({ className: (0, u.Z)(t, y.AddonPickerMessage) }, n),
        );
      }
      var x = n(28744),
        G = n.n(x),
        R = n(75962);
      class O extends l.PureComponent {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = l.createRef());
        }
        OnMouseEnter(e) {
          this.setState({ showHover: !0 });
        }
        OnMouseLeave(e) {
          this.setState({ showHover: !1 });
        }
        render() {
          const { emoticon: e, large: t, emoticonHoverStore: n } = this.props,
            a = `:${e}:`,
            i = t && n.BLoaded(e) ? n.Get(e).url : c.u.GetEmoticonURL(e, t);
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(
              m,
              { text: a, style: "merge-adjacent" },
              l.createElement("img", {
                src: i,
                className: (0, u.Z)(G().emoticon, t ? G().large : void 0),
                "data-emoticon": e,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
                ref: this.m_ref,
              }),
            ),
            this.state.showHover &&
              l.createElement(B, {
                target: this.m_ref.current,
                store: n,
                emoticon: e,
              }),
          );
        }
      }
      (0, a.gn)([h.ak], O.prototype, "OnMouseEnter", null),
        (0, a.gn)([h.ak], O.prototype, "OnMouseLeave", null);
      const B = (0, o.Pi)((e) => {
          const { target: t, store: n, emoticon: a } = e,
            i = n.Get(a);
          return l.createElement(
            M,
            {
              target: t,
              title: `:${a}:`,
              subtitle: i && i.app_name ? i.app_name : void 0,
            },
            l.createElement(O, {
              emoticon: a,
              emoticonHoverStore: n,
              large: !0,
            }),
          );
        }),
        M = ({ target: e, title: t, subtitle: n, children: a }) =>
          l.createElement(
            s.T,
            {
              target: e,
              style: { zIndex: 1700 },
              className: G().EmoticonHover,
            },
            a,
            l.createElement(
              "div",
              { className: G().Info },
              l.createElement(
                "div",
                { className: G().Name },
                t || l.createElement("span", null, ""),
              ),
              l.createElement(
                "div",
                { className: G().AppName },
                n || l.createElement("span", null, ""),
              ),
            ),
          );
      function P(e) {
        return e.recent_emoticons;
      }
      function F(e) {
        return e.recent_stickers;
      }
      function U(e) {
        return P(e).length + F(e).length > 0;
      }
      const j = (0, o.Pi)((e) => {
        const {
          emoticonStore: t,
          emoticonHoverStore: n,
          roomEffectSettings: a,
          strFlairGroupID: o,
          onEmoticonSelected: r,
          onRoomEffectSelected: s,
          onStickerSelected: c,
        } = e;
        !(function (e) {
          const [t, n] = (0, l.useState)(e.is_initialized);
          (0, l.useEffect)(() => {
            if (!e.is_initialized) {
              e.UpdateEmoticonList();
              const t = (0, i.gx)(
                () => e.is_initialized,
                () => n(e.is_initialized),
              );
              return () => t();
            }
            return () => {};
          }, [e]);
        })(t);
        const d = [];
        return (
          U(t) &&
            d.push({
              renderTab: (e) =>
                l.createElement(
                  "span",
                  {
                    title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                    className: (0, u.Z)(
                      G().PickerTab,
                      G().Clock,
                      e && G().ActiveTab,
                    ),
                  },
                  l.createElement(se, null),
                ),
              renderContent: () =>
                l.createElement(V, {
                  store: t,
                  hoverStore: n,
                  onEmoticonSelect: (e) => r(e.name),
                  onStickerSelect: (e) => c(e.name),
                  flairGroupID: o,
                }),
            }),
          l.createElement(
            p.xV,
            null,
            l.createElement(D, {
              config: [
                ...d,
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: (0, u.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(W, {
                      store: t,
                      hoverStore: n,
                      onItemSelect: (e) => r(e.name),
                      flairGroupID: o,
                    }),
                },
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Stickers"),
                        className: (0, u.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(oe, null),
                    ),
                  renderContent: () =>
                    l.createElement(q, {
                      store: t,
                      onItemSelect: (e) => c(e.name),
                    }),
                },
                {
                  renderTab: (e) =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_RoomEffects"),
                        className: (0, u.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      l.createElement(re, null),
                    ),
                  renderContent: () =>
                    l.createElement(Y, {
                      store: t,
                      effectSettings: a,
                      onItemSelect: (e) => s(e.name),
                    }),
                },
              ],
            }),
          )
        );
      });
      let H = class extends l.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          const {
              emoticonStore: e,
              emoticonHoverStore: t,
              onEmoticonSelected: n,
              onStickerSelected: a,
              strFlairGroupID: i,
            } = this.props,
            o = [];
          return (
            U(e) &&
              o.push({
                renderTab: (e) =>
                  l.createElement(
                    "span",
                    {
                      title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                      className: (0, u.Z)(
                        G().PickerTab,
                        G().Clock,
                        e && G().ActiveTab,
                      ),
                    },
                    l.createElement(se, null),
                  ),
                renderContent: () =>
                  l.createElement(V, {
                    store: e,
                    hoverStore: t,
                    onEmoticonSelect: (e) => n(e.name),
                    onStickerSelect: (e) => a(e.name),
                    flairGroupID: i,
                  }),
              }),
            l.createElement(
              p.xV,
              null,
              l.createElement(D, {
                config: [
                  ...o,
                  {
                    renderTab: (e) =>
                      l.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Emoticons"),
                          className: (0, u.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        l.createElement(le, null),
                      ),
                    renderContent: () =>
                      l.createElement(W, {
                        store: e,
                        hoverStore: t,
                        onItemSelect: (e) => n(e.name),
                        flairGroupID: i,
                      }),
                  },
                  {
                    renderTab: (e) =>
                      l.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Stickers"),
                          className: (0, u.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        l.createElement(oe, null),
                      ),
                    renderContent: () =>
                      l.createElement(q, {
                        store: e,
                        onItemSelect: (e) => a(e.name),
                      }),
                  },
                ],
              }),
            )
          );
        }
      };
      H = (0, a.gn)([o.Pi], H);
      class X extends l.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return l.createElement(
            p.xV,
            null,
            l.createElement(D, {
              config: [
                {
                  renderTab: () =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(Q, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class z extends l.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return l.createElement(
            p.xV,
            null,
            l.createElement(D, {
              config: [
                {
                  renderTab: () =>
                    l.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      l.createElement(le, null),
                    ),
                  renderContent: () =>
                    l.createElement(K, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class V extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onEmoticonSelect: n,
              onStickerSelect: a,
            } = this.props,
            { filter: i } = this.state,
            o = [];
          return (
            P(e) &&
              o.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(P(e), i),
                onItemSelect: n,
                renderItem: (e) =>
                  l.createElement($, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  l.createElement(
                    L,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            F(e).length &&
              o.push({
                title: (0, _.Xx)("#AddonPicker_RecentStickers"),
                items: c.u.FilterStickers(F(e), i),
                onItemSelect: a,
                renderItem: (e) => l.createElement(J, { sticker: e }),
                keyExtractor: ({ name: e }) => e,
                renderEmpty: () =>
                  l.createElement(
                    L,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Stickers"),
                        ),
                  ),
              }),
            l.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: o,
            })
          );
        }
      }
      class W extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state,
            o = !i && a ? e.GetFlairListByGroupID(a) : e.emoticon_list,
            r = c.u.FilterEmoticons(o, i).slice(0, 1e3);
          return l.createElement(T, {
            title: (0, _.Xx)("#AddonPicker_Emoticons"),
            items: r,
            onItemSelect: n,
            renderItem: (e) =>
              l.createElement($, { emoticon: e, emoticonHoverStore: t }),
            keyExtractor: (e) => e.name,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            onSubmit: () => n(r[0]),
            renderEmpty: () =>
              i
                ? l.createElement(L, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(Z, null),
          });
        }
      }
      function Z() {
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            L,
            null,
            (0, _.Xx)(
              "#AddonPicker_NoneOwned",
              (0, _.Xx)("#AddonPicker_Emoticons"),
            ),
          ),
          l.createElement(
            L,
            null,
            (0, _.kQ)(
              "#AddonPicker_AcquireAtPointsShopOrMarket",
              l.createElement(
                R.ns,
                { href: `${E.De.STORE_BASE_URL}points/shop/c/emoticons` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
              ),
              l.createElement(
                R.ns,
                { href: `${E.De.COMMUNITY_BASE_URL}market` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShopOrMarket_Link"),
              ),
            ),
          ),
        );
      }
      class q extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const { store: e, onItemSelect: t } = this.props,
            { filter: n } = this.state,
            a = c.u.FilterStickers(e.GetStickerList(), n);
          return l.createElement(T, {
            title: (0, _.Xx)("#EmoticonPicker_StickerHeading"),
            items: a,
            onItemSelect: t,
            renderItem: (e) => l.createElement(J, { sticker: e }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: n,
            onSubmit: () => t(a[0]),
            renderEmpty: () =>
              n
                ? l.createElement(L, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      L,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_Stickers"),
                      ),
                    ),
                    l.createElement(
                      L,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        l.createElement(
                          R.ns,
                          {
                            href: `${E.De.STORE_BASE_URL}points/shop/c/stickers`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      class Y extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const { store: e, effectSettings: t, onItemSelect: n } = this.props,
            { filter: a } = this.state,
            i = e.GetEffectList().filter(({ name: e }) => e.indexOf(a) > -1);
          return l.createElement(T, {
            title: (0, _.Xx)("#EmoticonPicker_EffectHeading"),
            items: i,
            onItemSelect: n,
            renderItem: (e) =>
              l.createElement(te, { effect: e, roomEffectSettings: t }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: a,
            onSubmit: () => n(i[0]),
            renderEmpty: () =>
              a
                ? l.createElement(L, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      L,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_RoomEffects"),
                      ),
                    ),
                    l.createElement(
                      L,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        l.createElement(
                          R.ns,
                          {
                            href: `${E.De.STORE_BASE_URL}points/shop/c/chateffects`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      let Q = class extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state,
            o = [];
          return (
            P(e).length &&
              o.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(P(e), i),
                onItemSelect: n,
                renderItem: (e) =>
                  l.createElement($, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  l.createElement(
                    L,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            l.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: [
                ...o,
                {
                  title: (0, _.Xx)("#AddonPicker_AllEmoticons"),
                  items: c.u.FilterStickers(e.emoticon_list, i).slice(0, 1e3),
                  onItemSelect: n,
                  renderItem: (e) =>
                    l.createElement($, { emoticon: e, emoticonHoverStore: t }),
                  keyExtractor: (e) => e.name,
                  renderEmpty: () =>
                    i
                      ? l.createElement(
                          L,
                          null,
                          (0, _.Xx)("#AddonPicker_NoResults"),
                        )
                      : l.createElement(Z, null),
                },
              ],
            })
          );
        }
      };
      Q = (0, a.gn)([o.Pi], Q);
      let K = class extends l.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state;
          return l.createElement(w, {
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            sections: [
              {
                title: (0, _.Xx)("#ChatEntryButton_Flair"),
                items: c.u.FilterStickers(e.GetFlairListByGroupID(a), i),
                onItemSelect: n,
                renderItem: (e) =>
                  l.createElement($, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  i
                    ? l.createElement(
                        L,
                        null,
                        (0, _.Xx)("#AddonPicker_NoResults"),
                      )
                    : l.createElement(Z, null),
              },
            ],
          });
        }
      };
      K = (0, a.gn)([o.Pi], K);
      const $ = (e) => {
        const { emoticon: t, emoticonHoverStore: n, large: a } = e,
          i = !t.last_used && t.time_received;
        return l.createElement(
          "div",
          { className: G().EmoticonItem },
          l.createElement(O, {
            emoticon: t.name,
            emoticonHoverStore: n,
            large: a,
          }),
          i && l.createElement(ae, null),
        );
      };
      class J extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = l.createRef());
        }
        render() {
          const e = this.props,
            { sticker: t, className: n } = e,
            i = (0, a._T)(e, ["sticker", "className"]),
            o = g(E.De.COMMUNITY_CDN_URL, t.name);
          return l.createElement(
            "div",
            Object.assign(
              {
                ref: this.m_ref,
                className: (0, u.Z)(n, G().StickerButton),
                onMouseOver: () => this.setState({ showHover: !0 }),
                onFocus: () => this.setState({ showHover: !0 }),
                onMouseLeave: () => this.setState({ showHover: !1 }),
                onBlur: () => this.setState({ showHover: !1 }),
              },
              i,
            ),
            l.createElement("img", { style: { width: "100%" }, src: o }),
            this.state.showHover &&
              l.createElement(ee, { target: this.m_ref.current, sticker: t }),
          );
        }
      }
      const ee = (0, o.Pi)((e) => {
        const {
            target: t,
            sticker: { name: n, appid: a },
          } = e,
          [i] = (0, d.vs)(a, {});
        return l.createElement(
          M,
          { target: t, title: n, subtitle: null == i ? void 0 : i.GetName() },
          l.createElement("img", {
            src: g(E.De.COMMUNITY_CDN_URL, n),
            className: G().StickerHoverSticker,
          }),
        );
      });
      class te extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = l.createRef());
        }
        render() {
          const e = this.props,
            { effect: t, roomEffectSettings: n, className: i } = e,
            o = (0, a._T)(e, ["effect", "roomEffectSettings", "className"]),
            r = n[t.name];
          return l.createElement(
            "div",
            Object.assign(
              {
                ref: this.m_ref,
                onMouseOver: () => this.setState({ showHover: !0 }),
                onFocus: () => this.setState({ showHover: !0 }),
                onMouseLeave: () => this.setState({ showHover: !1 }),
                onBlur: () => this.setState({ showHover: !1 }),
                className: (0, u.Z)(i, G().EffectButton),
              },
              o,
            ),
            r.renderEffectIcon(),
            this.state.showHover &&
              l.createElement(ne, {
                target: this.m_ref.current,
                effect: t,
                roomEffectSettings: n,
              }),
          );
        }
      }
      const ne = (0, o.Pi)((e) => {
        const {
            target: t,
            effect: { name: n, appid: a },
            roomEffectSettings: i,
          } = e,
          o = i[n],
          [r] = (0, d.vs)(a, {});
        return l.createElement(
          M,
          { target: t, title: n, subtitle: null == r ? void 0 : r.GetName() },
          l.createElement(
            "div",
            { className: G().EffectHoverEffect },
            o.renderEffectIcon(),
          ),
        );
      });
      function ae() {
        return l.createElement(
          "div",
          { className: G().NewEmoticonIndicator },
          l.createElement("div", { className: G().NewEmoticonCircle }),
        );
      }
      class ie extends l.Component {
        constructor(e) {
          super(e), (this.state = { visible: !1 });
        }
        SetVisible(e) {
          e && !this.state.visible && this.setState({ visible: !0 });
        }
        componentDidMount() {
          this.props.coordinator.RegisterChild(
            r.findDOMNode(this),
            this.SetVisible,
          );
        }
        componentWillUnmount() {
          this.props.coordinator.UnregisterChild(r.findDOMNode(this));
        }
        render() {
          let e = this.props.emoticon,
            t = [G().EmoticonSelector_Item],
            n = !1;
          return (
            !e.last_used &&
              e.time_received &&
              (t.push(G().EmoticonSelector_Item_New), (n = !0)),
            l.createElement(
              "div",
              {
                className: (0, u.Z)(...t),
                "data-emoticon": e.name,
                onClick: this.props.onClick,
              },
              this.state.visible &&
                l.createElement(O, {
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  emoticon: e.name,
                  large: !0,
                }),
              n && l.createElement(ae, null),
            )
          );
        }
      }
      function oe(e) {
        return l.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          l.createElement("path", {
            fill: "currentColor",
            d: "M8 4C5.79086 4 4 5.79086 4 8V27C4 29.2091 5.79086 31 8 31H13V20C13 16.134 16.134 13 20 13H31V8C31 5.79086 29.2091 4 27 4H8Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M16 20C16 17.7909 17.7909 16 20 16H31L16 31V20Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M29 24.0625V25C29 25.2671 28.9738 25.5282 28.9239 25.7806L30.8858 26.1688C30.9609 25.7892 31 25.3982 31 25V24.0625H29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M28.3263 27.2225C28.0342 27.6587 27.6587 28.0342 27.2225 28.3263L28.3351 29.9882C28.9885 29.5507 29.5507 28.9885 29.9882 28.3351L28.3263 27.2225Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M21 29H22.1875V31H19L21 29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M24.0625 29H25C25.2671 29 25.5282 28.9738 25.7806 28.9239L26.1688 30.8858C25.7892 30.9609 25.3982 31 25 31H24.0625V29Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M29 22.1875V21L31 19V22.1875H29Z",
          }),
        );
      }
      function le(e) {
        return l.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          l.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M18 3C15.0333 3 12.1332 3.87973 9.66645 5.52796C7.19972 7.17618 5.27713 9.51886 4.14181 12.2597C3.0065 15.0006 2.70945 18.0166 3.28823 20.9264C3.86701 23.8361 5.29562 26.5088 7.3934 28.6066C9.49119 30.7044 12.1639 32.133 15.0737 32.7118C17.9834 33.2906 20.9994 32.9935 23.7403 31.8582C26.4811 30.7229 28.8238 28.8003 30.472 26.3336C32.1203 23.8668 33 20.9667 33 18C33 16.0302 32.612 14.0796 31.8582 12.2597C31.1044 10.4399 29.9995 8.78628 28.6066 7.3934C27.2137 6.00052 25.5601 4.89563 23.7403 4.14181C21.9204 3.38799 19.9698 3 18 3ZM9.00001 15C9.00001 14.4067 9.17595 13.8266 9.5056 13.3333C9.83524 12.8399 10.3038 12.4554 10.852 12.2284C11.4001 12.0013 12.0033 11.9419 12.5853 12.0576C13.1672 12.1734 13.7018 12.4591 14.1213 12.8787C14.5409 13.2982 14.8266 13.8328 14.9424 14.4147C15.0581 14.9967 14.9987 15.5999 14.7716 16.1481C14.5446 16.6962 14.1601 17.1648 13.6667 17.4944C13.1734 17.8241 12.5934 18 12 18C11.2044 18 10.4413 17.6839 9.87869 17.1213C9.31608 16.5587 9.00001 15.7956 9.00001 15ZM24 18C23.4067 18 22.8266 17.8241 22.3333 17.4944C21.8399 17.1648 21.4554 16.6962 21.2284 16.1481C21.0013 15.5999 20.9419 14.9967 21.0576 14.4147C21.1734 13.8328 21.4591 13.2982 21.8787 12.8787C22.2982 12.4591 22.8328 12.1734 23.4147 12.0576C23.9967 11.9419 24.5999 12.0013 25.1481 12.2284C25.6962 12.4554 26.1648 12.8399 26.4944 13.3333C26.8241 13.8266 27 14.4067 27 15C27 15.7956 26.6839 16.5587 26.1213 17.1213C25.5587 17.6839 24.7957 18 24 18ZM26.3149 23.6788C26.7672 22.8295 27 21.9193 27 21H18H9C9 21.9193 9.23279 22.8295 9.68508 23.6788C10.1374 24.5281 10.8003 25.2997 11.636 25.9497C12.4718 26.5998 13.4639 27.1154 14.5558 27.4672C15.6478 27.8189 16.8181 28 18 28C19.1819 28 20.3522 27.8189 21.4442 27.4672C22.5361 27.1154 23.5282 26.5998 24.364 25.9497C25.1997 25.2997 25.8626 24.5281 26.3149 23.6788Z",
          }),
        );
      }
      function re(e) {
        return l.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          l.createElement("path", {
            fill: "currentColor",
            d: "M14.7163 7.6875L17.2476 15.5344C17.564 16.6102 18.4499 17.4328 19.5257 17.8125L27.3726 20.3438L19.5257 22.875C18.4499 23.1914 17.6273 24.0773 17.2476 25.1531L14.7163 33L12.1851 25.1531C11.8687 24.0773 10.9827 23.2547 9.90696 22.875L2.06009 20.3438L9.90696 17.8125C10.9827 17.4961 11.8054 16.6102 12.1851 15.5344L14.7163 7.6875Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M24.488 3L25.7861 7.06499C25.9591 7.63321 26.3918 8.07031 26.9543 8.24514L30.9784 9.55643L26.9543 10.8677C26.3918 11.0426 25.9591 11.4796 25.7861 12.0479L24.488 16.1129L23.1899 12.0479C23.0168 11.4796 22.5841 11.0426 22.0216 10.8677L17.9976 9.55643L22.0216 8.24514C22.5841 8.07031 23.0168 7.63321 23.1899 7.06499L24.488 3Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M8.11778 3.9375L8.76682 5.99185C8.85336 6.25411 9.0697 6.47265 9.32932 6.56007L11.363 7.21571L9.32932 7.87136C9.0697 7.95878 8.85336 8.17732 8.76682 8.43958L8.11778 10.4939L7.46874 8.43958C7.3822 8.17732 7.16586 7.95878 6.90624 7.87136L4.87259 7.21571L6.90624 6.56007C7.16586 6.47265 7.3822 6.25411 7.46874 5.99185L8.11778 3.9375Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M30.6178 12.375L31.2668 14.4293C31.3534 14.6916 31.5697 14.9102 31.8293 14.9976L33.863 15.6532L31.8293 16.3089C31.5697 16.3963 31.3534 16.6148 31.2668 16.8771L30.6178 18.9314L29.9687 16.8771C29.8822 16.6148 29.6659 16.3963 29.4062 16.3089L27.3726 15.6532L29.4062 14.9976C29.6659 14.9102 29.8822 14.6916 29.9687 14.4293L30.6178 12.375Z",
          }),
          l.createElement("path", {
            fill: "currentColor",
            d: "M25.9303 24.5625L26.5793 26.6168C26.6659 26.8791 26.8822 27.0977 27.1418 27.1851L29.1755 27.8407L27.1418 28.4964C26.8822 28.5838 26.6659 28.8023 26.5793 29.0646L25.9303 31.1189L25.2812 29.0646C25.1947 28.8023 24.9784 28.5838 24.7187 28.4964L22.6851 27.8407L24.7187 27.1851C24.9784 27.0977 25.1947 26.8791 25.2812 26.6168L25.9303 24.5625Z",
          }),
        );
      }
      function se(e) {
        const { className: t } = e,
          n = (0, a._T)(e, ["className"]);
        return l.createElement(
          "svg",
          Object.assign(
            {
              className: (0, u.Z)("SVGIcon_Button SVGIcon_Clock", t),
              version: "1.1",
              x: "0px",
              y: "0px",
              width: "20px",
              height: "20px",
              viewBox: "0 0 24 24",
            },
            n,
          ),
          l.createElement("path", {
            d: "M15.999 15c-.15 0-.303-.034-.446-.105l-4-2A1.001 1.001 0 0111 12V5a1 1 0 012 0v6.382l3.447 1.724A1 1 0 0115.999 15zM12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-22C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2z",
          }),
        );
      }
      (0, a.gn)([h.ak], ie.prototype, "SetVisible", null);
    },
    38278: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => y });
      var a = n(33940),
        i = n(89526),
        o = n(88464),
        l = n(4306),
        r = n(44026),
        s = n(51438),
        c = n(40103),
        d = n(50304),
        m = n(14826),
        p = n(19304),
        u = n(62404),
        _ = n.n(u),
        h = n(701),
        g = n(16826),
        E = n(32765);
      function v() {
        return (0, E.id)()
          ? i.createElement(g.tkI, null)
          : i.createElement(h.j5H, null);
      }
      const S = 1576780700;
      let f = class extends i.Component {
        OnEmoticonClick(e) {
          var t;
          const {
            emoticonStore: n,
            strFlairGroupID: a,
            SetUIDisplayPref: o,
            contextOptions: l,
            bShowChatAddons: r,
          } = this.props;
          let s = null;
          if (
            ((s = r
              ? i.createElement(d.hp, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  onEmoticonSelected: (e) =>
                    this.props.OnEmoticonSelected(e, !1),
                  roomEffectSettings: this.props.roomEffectSettings,
                  onRoomEffectSelected: this.props.onRoomEffectSelected,
                  onStickerSelected: this.props.onStickerSelected,
                })
              : a &&
                n.flair_list &&
                (null === (t = n.GetFlairListByGroupID(a)) || void 0 === t
                  ? void 0
                  : t.length) > 0
              ? i.createElement(d.uC, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  OnSelected: this.props.OnEmoticonSelected,
                })
              : i.createElement(d.ag, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  OnSelected: this.props.OnEmoticonSelected,
                })),
            (0, c.yV)(
              s,
              e,
              l || {
                bOverlapHorizontal: !0,
                bPreferPopLeft: !0,
                bPreferPopTop: !0,
              },
            ),
            this.BHaveUnseenEmoticons() && o)
          ) {
            let e = this.GetNewestIndicatorTime();
            (!e || e < S) && (e = S), o("rtLastAckedNewEmoticons", e);
          }
        }
        GetNewestIndicatorTime() {
          let e = this.props.emoticonStore,
            t = Number.MIN_SAFE_INTEGER,
            n = e.GetTimeReceivedNewestEmoticon();
          n && (t = n);
          let a = e.GetTimeReceivedForStickerOrEffect();
          return (t = Math.max(a, t)), t > Number.MIN_SAFE_INTEGER ? t : void 0;
        }
        BHaveUnseenEmoticons() {
          const { rtLastAckedNewEmoticons: e } = this.props;
          let t = this.GetNewestIndicatorTime();
          return !e || e < S || (t && (!e || e < t));
        }
        render() {
          const { disabled: e, className: t, ttip: n, useImg: a } = this.props;
          let o = [t],
            l = !1;
          return (
            e ? o.push("disabled") : this.BHaveUnseenEmoticons() && (l = !0),
            n && o.push("ttip"),
            a
              ? i.createElement(
                  s.s,
                  {
                    onClick: this.OnEmoticonClick,
                    onOKActionDescription: (0, m.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    focusable: !0,
                  },
                  i.createElement("img", {
                    src: this.props.useImg,
                    className: (0, p.Z)(...o),
                    title:
                      this.props.title ||
                      (0, m.Xx)("#ChatEntryButton_Emoticon"),
                    "data-tooltip-text": n,
                  }),
                )
              : (o.push(_().chatSubmitButton, _().EmoticonPickerButton),
                i.createElement(
                  r.wl,
                  {
                    className: (0, p.Z)(...o),
                    onOKActionDescription: (0, m.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    type: "button",
                    onClick: this.OnEmoticonClick,
                    title:
                      this.props.title ||
                      (0, m.Xx)("#ChatEntryButton_Emoticon"),
                    disabled: e,
                    "data-tooltip-text": n,
                  },
                  this.props.buttonIcon || i.createElement(v, null),
                  l && i.createElement(d.D3, null),
                ))
          );
        }
      };
      (0, a.gn)([l.ak], f.prototype, "OnEmoticonClick", null),
        (f = (0, a.gn)([o.Pi], f));
      const y = f;
    },
    40619: (e, t, n) => {
      "use strict";
      n.d(t, { d: () => Zt });
      var a = n(33940),
        i = n(89526),
        o = n(24174),
        l = n(4116),
        r = n(14288),
        s = n(90531),
        c = n(50304),
        d = n(207),
        m = n(84199);
      class p extends l.DX {
        constructor(e, t, n, a) {
          super(e),
            (this.m_LinkFilter = d.H7),
            (this.m_parentNode = void 0),
            (this.m_parentNode = t),
            (this.m_mapHostToComponent = n),
            (this.m_globalStoreLink = a);
        }
        AppendText(e, t = !1) {
          let n = e;
          if (
            t &&
            (null == this.m_parentNode || "img" != this.m_parentNode.tag)
          ) {
            let e = this.m_LinkFilter.exec(n);
            for (; e; ) {
              if (e.index > 0) {
                let n = e.input.substr(0, e.index);
                super.AppendText(n, t);
              }
              let a = e[0],
                i = !1;
              if (this.m_mapHostToComponent)
                for (let e = 0; e < this.m_mapHostToComponent.length; ++e)
                  if (this.m_mapHostToComponent[e].urlRegExp.exec(a)) {
                    (i = !0),
                      super.AppendNode(
                        this.m_mapHostToComponent[e].fnBBComponent(
                          a,
                          this.m_globalStoreLink,
                        ),
                      );
                    break;
                  }
              i || super.AppendNode((0, m.hF)(a)),
                (n = e.input.substr(e.index + a.length)),
                (e = this.m_LinkFilter.exec(n));
            }
          }
          n.length > 0 && super.AppendText(n, t);
        }
      }
      class u extends l.DX {
        constructor() {
          super(...arguments),
            (this.m_EmoteRegex = new RegExp("[:]([a-zA-Z0-9_]+)[:]"));
        }
        AppendText(e, t = !1) {
          let n = e;
          if (e.length >= 3) {
            let e = this.m_EmoteRegex.exec(n);
            for (; e; ) {
              if (e.index > 0) {
                let n = e.input.substr(0, e.index);
                super.AppendText(n, t);
              }
              let a = e[1];
              super.AppendNode(
                i.createElement(
                  c.tk,
                  { emoticonHoverStore: s.$, emoticon: a },
                  [],
                ),
              ),
                (n = e.input.substr(e.index + a.length + 2)),
                (e = this.m_EmoteRegex.exec(n));
            }
          }
          n.length > 0 && super.AppendText(n, t);
        }
      }
      class _ extends l.DX {
        constructor(e, t) {
          super(e), (this.m_parentNode = void 0), (this.m_parentNode = t);
        }
        AppendText(e, t = !1) {
          let n = e;
          this.m_parentNode &&
            "img" == this.m_parentNode.tag &&
            (n = (0, d.et)(n)),
            super.AppendText(n, t);
        }
      }
      var h = n(4306),
        g = n(26412),
        E = n(47165),
        v = n(19274),
        S = n(4585),
        f = n.n(S),
        y = n(19002),
        D = n(58218),
        b = n(23217),
        I = n(14826),
        C = n(32765);
      const A = (e) => /^\d+$/.test(e);
      function T(e) {
        const { sharedFileID: t } = e,
          n = (0, D.T)("SharedFileSnippet"),
          [o, l] = (0, i.useState)(!1),
          [r, s] = (0, i.useState)(() => ({
            sharedfileid: t,
            title: (0, I.Xx)("#Loading"),
            description: "",
            type: "",
            previewurl: "",
            appid: 0,
            url: C.De.COMMUNITY_BASE_URL + "sharedfiles/filedetails/?id=" + t,
          }));
        (0, i.useEffect)(() => {
          (() => {
            (0, a.mG)(this, void 0, void 0, function* () {
              try {
                const e = yield y.A.LoadSharedFileDynamicData([t], n);
                if (!n.token.reason && e.length > 0) {
                  const t = e[0];
                  A(t.url) &&
                    (t.url =
                      C.De.COMMUNITY_BASE_URL +
                      "sharedfiles/filedetails/?id=" +
                      t.url),
                    s(t),
                    console.log(e[0]),
                    l(!0);
                }
              } catch (e) {
                const t = (0, b.l)(e);
                console.error("SharedFileSnippet: " + t.strErrorMsg, t);
              }
            });
          })();
        }, [n, t]);
        let c = void 0 !== r.personnaname && r.personnaname.length > 0;
        return i.createElement(
          "a",
          {
            href: r.url,
            className: f().DynamicLinkBox,
            "data-modal-content-sizetofit": !!r.bSizeToFit,
            "data-appid": r.appid,
            "data-publishedfileid": t,
          },
          i.createElement("img", {
            className: f().DynamicLink_Preview,
            src: r.previewurl,
          }),
          i.createElement(
            "div",
            { className: f().DynamicLink_Content },
            i.createElement(
              "div",
              { className: f().DynamicLink_Name },
              r.title,
            ),
            i.createElement(
              "div",
              null,
              i.createElement(
                "span",
                { className: f().DynamicLink_Type },
                r.type,
              ),
            ),
            c &&
              i.createElement(
                "div",
                { className: f().DynamicLink_Author },
                (0, I.kQ)(
                  "#EventEditor_Author",
                  i.createElement(
                    "span",
                    { className: f().DynamicLink_AuthorName },
                    r.personnaname,
                  ),
                ),
              ),
            i.createElement(
              "div",
              { className: f().DynamicLink_Description },
              r.description,
            ),
          ),
        );
      }
      var w = n(701),
        k = n(19304),
        N = n(52868),
        L = n.n(N),
        x = n(88464),
        G = n(40442),
        R = n(48616),
        O = n(82079),
        B = n(13141),
        M = n(92616),
        P = n(69338),
        F = n(87178),
        U = n(20790);
      let j = class extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoading: this.props.announcementGID
                ? !B.j1.BHasClanAnnouncementGID(this.props.announcementGID)
                : !B.j1.BHasClanAnnouncementGID(this.props.eventGID),
              bFailedLoad: !1,
            }),
            (this.m_cancelSignal = L().CancelToken.source());
        }
        componentDidMount() {
          this.HandleLoadEventInfo();
        }
        HandleLoadEventInfo() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const {
              appid: e,
              strVanity: t,
              announcementGID: n,
              eventGID: a,
              strGroupVanity: i,
            } = this.props;
            let o = this.props.clanSteamID;
            try {
              if (this.state.bLoading) {
                if (void 0 !== t) {
                  o = (yield O.sV.LoadOGGClanInfoForIdentifier(t)).clanSteamID;
                } else if (void 0 !== i) {
                  o = (yield O.sV.LoadOGGClanInfoForGroupVanity(i)).clanSteamID;
                }
                const l = B.j1.LoadPartnerEventGeneric(o, e, a, n, 0);
                let r = yield l;
                yield Promise.all([
                  M.Z.Get().QueueAppRequest(r.appid, {
                    include_assets: !0,
                    include_basic_info: !0,
                    include_release: !0,
                  }),
                ]),
                  this.setState({ bFailedLoad: !1, bLoading: !1 });
              }
            } catch (e) {
              this.HandleError(e);
            }
          });
        }
        HandleError(e) {
          let t = (0, b.l)(e);
          const {
            eventGID: n,
            announcementGID: a,
            strGroupVanity: i,
            strVanity: o,
          } = this.props;
          console.error(
            "EventSnippet hit error on announceGID " +
              a +
              " eventGID " +
              n +
              " strVanity " +
              o +
              " strGroupVanity " +
              i +
              " error: " +
              t.strErrorMsg,
          ),
            this.setState({ bFailedLoad: !0 });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted");
        }
        render() {
          var e;
          const {
            appid: t,
            announcementGID: n,
            eventGID: a,
            strURL: o,
            fnFilterImageURLsForKnownFailures: l,
            fnImageFailureCallback: r,
          } = this.props;
          if (this.state.bFailedLoad) return (0, m.hF)(o);
          if (this.state.bLoading) return i.createElement(P.V, null);
          let s =
            void 0 !== n
              ? B.j1.GetClanEventFromAnnouncementGID(n)
              : B.j1.GetClanEventModel(a);
          if (null == s) return (0, m.hF)(o);
          let c = (0, G.jM)(C.De.LANGUAGE),
            d = s.GetImageForSizeAsArrayWithFallback(
              "capsule",
              c,
              R.FN.capsule_main,
            );
          l && (d = l(d));
          let p = s.GetNameWithFallback(c),
            u = s.GetSubTitleWithSummaryFallback(c),
            _ =
              null === (e = M.Z.Get().GetApp(t)) || void 0 === e
                ? void 0
                : e.GetName(),
            h = (0, I.$1)(s.GetStartTimeAndDateUnixSeconds());
          return i.createElement(
            U.JW,
            {
              eventModel: s,
              route: U.Ue.k_eView,
              className: f().DynamicLinkBox,
              "data-modal-content-sizetofit": !0,
              "data-appid": t,
            },
            i.createElement(F.j, {
              className: f().DynamicLink_Preview,
              rgSources: d,
              onIncrementalError: (e, t, n) => r && r(t),
            }),
            i.createElement(
              "div",
              { className: f().DynamicLink_Content },
              i.createElement(
                "div",
                { className: f().DynamicLink_Author },
                (0, I.Xx)(
                  28 == s.type
                    ? "#EventDisplay_Share_Announcement"
                    : "#EventDisplay_Share_Event",
                  _,
                ),
                i.createElement("span", { className: f().DynamicLink_Date }, h),
              ),
              i.createElement(
                "div",
                { className: f().DynamicLink_Name },
                i.createElement("div", { className: f().DynamicLink_Type }, p),
              ),
              i.createElement(
                "div",
                { className: f().DynamicLink_Description },
                u,
              ),
            ),
          );
        }
      };
      j = (0, a.gn)([x.Pi], j);
      var H = n(29054),
        X = n.n(H),
        z = n(51989),
        V = n.n(z);
      let W = class extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSummaryMode: !0, bLoadedMetaData: !1 });
        }
        componentDidMount() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let e =
              "https://sketchfab.com/oembed?url=https://sketchfab.com/models/" +
              this.props.modelID;
            try {
              let t = yield L().get(e);
              this.setState({ bLoadedMetaData: !0, data: t.data });
            } catch (e) {
              this.setState({ bError: !0 }),
                console.error(
                  "SketchFabEmbed failed to load: " + (0, b.l)(e).strErrorMsg,
                );
            }
          });
        }
        OnSketchFabClick() {
          this.state.bLoadedMetaData && this.setState({ bSummaryMode: !1 });
        }
        render() {
          const { modelID: e } = this.props;
          return this.state.bError
            ? i.createElement(
                "div",
                {
                  className: V().dynamiclink_box,
                  onClick: this.OnSketchFabClick,
                },
                i.createElement("span", null, e),
                i.createElement(
                  "span",
                  null,
                  (0, I.Xx)("#EventDisplay_SketchFab_Error_Network"),
                ),
              )
            : this.state.bSummaryMode
            ? i.createElement(
                "div",
                {
                  className: V().dynamiclink_box,
                  onClick: this.OnSketchFabClick,
                },
                Boolean(this.state.bLoadedMetaData)
                  ? i.createElement(
                      i.Fragment,
                      null,
                      i.createElement("img", {
                        className: V().dynamiclink_preview,
                        src: this.state.data.thumbnail_url,
                      }),
                      i.createElement("img", {
                        className: V().sketchfab_play_overlay_image,
                      }),
                      i.createElement(
                        "div",
                        { className: V().dynamiclink_content },
                        i.createElement(
                          "div",
                          { className: V().dynamiclink_name },
                          i.createElement(
                            "span",
                            { className: V().dynamiclink_type },
                            (0, I.Xx)("#EventDisplay_Sketchfab"),
                          ),
                          i.createElement(
                            "div",
                            null,
                            this.state.data.title,
                            "",
                          ),
                        ),
                        i.createElement(
                          "div",
                          { className: V().dynamiclink_author },
                          this.state.data.author_name,
                        ),
                      ),
                    )
                  : i.createElement(P.V, { size: "medium" }),
              )
            : i.createElement(
                "div",
                { className: V().sketchfabmodelembedded },
                i.createElement("iframe", {
                  className: V().sketchfabmodelembedded,
                  src:
                    "https://sketchfab.com/models/" +
                    this.props.modelID +
                    "/embed?autostart=1",
                  frameBorder: 0,
                  allowFullScreen: !0,
                }),
              );
        }
      };
      (0, a.gn)([h.ak], W.prototype, "OnSketchFabClick", null),
        (W = (0, a.gn)([x.Pi], W));
      var Z = n(59621),
        q = n(68333),
        Y = n(19094),
        Q = n(35507),
        K = n(23801),
        $ = n(85246);
      class J {
        GetItem(e) {
          return this.m_mapDefIDtoDefinition.get(e);
        }
        GetItemChangeCallback(e) {
          return (
            this.m_defChangeCallback.has(e) ||
              this.m_defChangeCallback.set(e, new $.pB()),
            this.m_defChangeCallback.get(e)
          );
        }
        GetKeyCategoryAndClass(e, t) {
          return e + "_" + t;
        }
        GetItemsByCategoryAndClass(e, t) {
          const n = this.GetKeyCategoryAndClass(e, t);
          return this.m_mapCategoryAndClassToItems.get(n);
        }
        GetItemsByCategoryAndClassCallback(e, t) {
          const n = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_defCategoryAndClassToChangeCallback.has(n) ||
              this.m_defCategoryAndClassToChangeCallback.set(n, new $.pB()),
            this.m_defCategoryAndClassToChangeCallback.get(n)
          );
        }
        LoadRewardDefinition(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapDefIDToPromise.has(e) ||
                this.m_mapDefIDToPromise.set(
                  e,
                  this.InternalLoadRewardDefinition(e),
                ),
              this.m_mapDefIDToPromise.get(e)
            );
          });
        }
        InternalLoadRewardDefinition(e) {
          var t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_mapDefIDtoDefinition.has(e))
              return this.m_mapDefIDtoDefinition.get(e);
            const a = q.gA.Init(Q.eQ);
            a.Body().set_definitionids([e]);
            let o = null;
            try {
              const l = yield Q.pQ.QueryRewardItems(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (
                1 == l.GetEResult() &&
                (null === (t = l.Body().definitions()) || void 0 === t
                  ? void 0
                  : t.length) > 0
              ) {
                (0, K.X)(
                  1 ==
                    (null === (n = l.Body().definitions()) || void 0 === n
                      ? void 0
                      : n.length),
                  `Requested definition ID ${e} and receive # ${
                    null === (i = l.Body().definitions()) || void 0 === i
                      ? void 0
                      : i.length
                  }, expecting exactly one.`,
                );
                const t = l.Body().definitions()[0].toObject();
                return (
                  this.m_mapDefIDtoDefinition.set(e, t),
                  this.GetItemChangeCallback(e).Dispatch(t),
                  t
                );
              }
              o = (0, b.l)(l);
            } catch (e) {
              o = (0, b.l)(e);
            }
            return (
              console.error(
                "CLoyaltyRewardDefinitionStore.LoadRewardDefinition failed: " +
                  (null == o ? void 0 : o.strErrorMsg),
                o,
              ),
              null
            );
          });
        }
        LoadRewardDefinitionByCategoryAndClass(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.GetKeyCategoryAndClass(e, t);
            return (
              this.m_mapCategoryAndClassToPromise.has(n) ||
                this.m_mapCategoryAndClassToPromise.set(
                  n,
                  this.InternalLoadRewardDefinitionByCategoryAndClass(e, t),
                ),
              this.m_mapCategoryAndClassToPromise.get(n)
            );
          });
        }
        InternalLoadRewardDefinitionByCategoryAndClass(e, t) {
          var n;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = this.GetKeyCategoryAndClass(e, t);
            if (this.m_mapCategoryAndClassToItems.has(a))
              return this.m_mapCategoryAndClassToItems.get(a);
            const i = q.gA.Init(Q.eQ);
            i.Body().set_community_item_classes([t]),
              i.Body().set_filter_match_any_category_tags([e]);
            let o = null;
            try {
              const l = yield Q.pQ.QueryRewardItems(
                this.m_SteamInterface.GetServiceTransport(),
                i,
              );
              if (
                1 == l.GetEResult() &&
                (null === (n = l.Body().definitions()) || void 0 === n
                  ? void 0
                  : n.length) > 0
              ) {
                const n = l
                  .Body()
                  .definitions()
                  .map((e) => e.toObject());
                return (
                  n.forEach((e) => {
                    this.m_mapDefIDtoDefinition.has(e.defid) ||
                      (this.m_mapDefIDtoDefinition.set(e.defid, e),
                      this.GetItemChangeCallback(e.defid).Dispatch(e));
                  }),
                  this.m_mapCategoryAndClassToItems.set(a, n),
                  this.GetItemsByCategoryAndClassCallback(e, t).Dispatch(n),
                  ("dev" != C.De.WEB_UNIVERSE && "beta" != C.De.WEB_UNIVERSE) ||
                    console.log(
                      "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass loaded " +
                        n.length,
                    ),
                  n
                );
              }
              o = (0, b.l)(l);
            } catch (e) {
              o = (0, b.l)(e);
            }
            return (
              console.error(
                "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass failed: " +
                  (null == o ? void 0 : o.strErrorMsg),
                o,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            J.s_Singleton ||
              ((J.s_Singleton = new J()),
              J.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_LoyaltyRewardDefinitionStore = J.s_Singleton)),
            J.s_Singleton
          );
        }
        constructor() {
          (this.m_mapDefIDtoDefinition = new Map()),
            (this.m_mapDefIDToPromise = new Map()),
            (this.m_defChangeCallback = new Map()),
            (this.m_mapCategoryAndClassToItems = new Map()),
            (this.m_mapCategoryAndClassToPromise = new Map()),
            (this.m_defCategoryAndClassToChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        Init() {
          this.m_SteamInterface = new Y.J(C.De.WEBAPI_BASE_URL);
        }
      }
      var ee = n(84343),
        te = n(49245),
        ne = n.n(te);
      function ae(e) {
        const { defid: t, url: n } = e,
          a = (function (e) {
            const [t, n] = (0, i.useState)(J.Get().GetItem(e));
            return (
              (0, i.useEffect)(() => {
                t || J.Get().LoadRewardDefinition(e);
              }, [e, t]),
              (0, h.Qg)(J.Get().GetItemChangeCallback(e), n),
              t
            );
          })(t);
        if (!a || !a.community_item_data) return null;
        const o = a.appid,
          l = a.community_item_data.item_image_large,
          r = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${o}/${l}`;
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            console.log("reward itemdef", (0, Z.ZN)(a)),
          i.createElement(
            "div",
            { className: ne().Ctn },
            i.createElement(
              ee.HP,
              { toolTipContent: a.community_item_data.item_description },
              i.createElement("img", {
                src: r,
                alt: a.community_item_data.item_title,
              }),
            ),
          )
        );
      }
      var ie = n(31936),
        oe = n(77555);
      function le(e) {
        const { inputType: t, id: n } = e;
        let a = "bundle" == t ? "bundle" : "sub" == t ? "sub" : "game";
        return i.createElement(
          "div",
          {
            className: (0, k.Z)(oe.AppSummaryWidgetCtn, "AppSummaryWidgetCtn"),
          },
          i.createElement(ie.ju, {
            id: n,
            type: a,
            bAllowTwoLinesForHeader: !0,
          }),
        );
      }
      const re =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|store\.steamchina\.com)\/(app|bundle|sub)\/(\d+)/i,
        se =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,
        ce =
          /(?:steamcommunity\.com|valve\.org\/community|community\.\S+\.steam\.dev|steam\.dev\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,
        de =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|steam\.dev\/store|store\.steamchina\.com)\/(?:news|newshub)\/(group|app)\/(\w+)\/view\/(\d+)/i,
        me = /:\/\/medal.tv\/(?:clip|clips)\/([a-z0-9]+)/i,
        pe = /sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,
        ue = /twitter\.com\/(\w+)(\/?)$/i,
        _e = /twitter\.com\/hashtag\/(\w+)(\/?)$/i,
        he = /twitch\.tv\/(\w+)(\/?)$/i,
        ge =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/id\/(\w+)(\/?)$/i,
        Ee =
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store|store\.steamchina\.com)\/points\/shop\/.*reward\/(\d+)$/i;
      let ve = null;
      function Se(e, t) {
        if ((0, C.h4)()) return null;
        const n = (0, g.S6)(e);
        return void 0 !== (null == n ? void 0 : n.strVideoID)
          ? i.createElement(v.O, {
              videoID: n.strVideoID,
              nStartSeconds: n.nStartSeconds,
              classNameAlign: "",
              classNameSize: f().sizeFull,
              bShowVideoImmediately: !1,
            })
          : (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function fe(e, t) {
        if ((0, C.h4)()) return null;
        const n = new RegExp(me).exec(e);
        if (n && n.length > 1) {
          const e = n[1];
          if ((null == e ? void 0 : e.length) > 0) {
            let n =
              "https://medal.tv/clip/" +
              e +
              "/?autoplay=0&donate=0" +
              (t && t.event ? "&steamappid=" + t.event.appid : "");
            return i.createElement("iframe", {
              className: H.MedalTVWidget,
              src: n,
              frameBorder: 0,
              allow: "autoplay",
            });
          }
        }
        return (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function ye(e, t) {
        let n = new RegExp(pe).exec(e);
        if (n && n.length > 1) {
          let e = n[1];
          if (e && e.length > 1) return i.createElement(W, { modelID: e });
        }
        return (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function De(e, t) {
        const n = e.split("?");
        let a;
        if (2 == n.length) {
          const e = new URLSearchParams(n[1]);
          e.has("id") && (a = e.get("id"));
        }
        return void 0 !== a
          ? i.createElement(T, { sharedFileID: a })
          : (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function be(e) {
        let t = (0, d.FM)(e).toLocaleLowerCase(),
          n = (0, d.FM)(C.De.STORE_BASE_URL),
          a = (0, d.FM)(C.De.COMMUNITY_BASE_URL);
        const i =
          "dev" === C.De.WEB_UNIVERSE ||
          (0, d.FM)(C.De.STORE_BASE_URL).endsWith(".steam.dev");
        return (
          t == n ||
          t == a ||
          (i &&
            (t.includes("steampowered.com") ||
              t.includes("steamcommunity.com") ||
              t.includes("steamchina.com")))
        );
      }
      function Ie(e, t) {
        if (be(e)) {
          let t = new RegExp(re).exec(e);
          if (t && t.length > 2) {
            let e = t[1],
              n = Number(t[2]);
            if (n > 0) return i.createElement(le, { id: n, inputType: e });
          }
        }
        return (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function Ce(e, t) {
        if (be(e)) {
          const t = new RegExp(Ee).exec(e);
          if (t && t.length > 1) {
            const n = Number(t[1]);
            if (n > 0)
              return i.createElement(
                "div",
                { className: (0, k.Z)(H.LoyaltyRewardCtn) },
                i.createElement(ae, { defid: n, url: e }),
              );
          }
        }
        return (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function Ae(e, t) {
        if (be(e)) {
          let t = new RegExp(se).exec(e);
          if (t && t.length > 2) {
            let n, a, o, l;
            "gid" == t[1]
              ? (a = new E.K(t[2]))
              : "groups" == t[1]
              ? (l = t[2])
              : isNaN(+t[2])
              ? (o = t[2])
              : (n = Number(t[2]));
            let r = t[3];
            if (
              ((void 0 !== n && n > 0) ||
                void 0 !== o ||
                void 0 !== l ||
                void 0 !== a) &&
              null != r &&
              r.length > 0
            )
              return i.createElement(j, {
                appid: n,
                clanSteamID: a,
                strVanity: o,
                strGroupVanity: l,
                announcementGID: r,
                strURL: e,
              });
          }
        }
        return (0, m.hF)(e, null == t ? void 0 : t.event);
      }
      function Te(e, t) {
        return Re(de, e, t);
      }
      function we(e, t) {
        return Re(ce, e, t);
      }
      function ke(e, t) {
        return (0, C.h4)() ? null : Ge(e, i.createElement(w.tLe, null), "@", t);
      }
      function Ne(e, t) {
        return (0, C.h4)() ? null : Ge(e, i.createElement(w.tLe, null), "#", t);
      }
      function Le(e, t) {
        return (0, C.h4)()
          ? null
          : Ge(e, i.createElement(w.Lk$, null), void 0, t);
      }
      function xe(e, t) {
        return Ge(e, i.createElement(w.ui7, null), void 0, t);
      }
      function Ge(e, t, n, a) {
        let o;
        const l = e.endsWith("/") ? e.length - 1 : e.length,
          r = e.lastIndexOf("/", l - 1);
        -1 != r && r + 1 < e.length && (o = e.substring(r + 1, l)),
          n && o && (o = n + o);
        const s = (0, m.hF)(e, null == a ? void 0 : a.event, null != o ? o : e);
        return i.createElement(
          "div",
          { className: H.SocialLink },
          i.createElement("div", { className: H.SocialIcon }, t),
          s,
        );
      }
      function Re(e, t, n) {
        if (be(t)) {
          let n = new RegExp(e).exec(t);
          if (n && n.length > 2) {
            let e, a, o, l;
            "gid" == n[1]
              ? (a = new E.K(n[2]))
              : "group" == n[1]
              ? (a = E.K.InitFromClanID(Number.parseInt(n[2])))
              : "groups" == n[1]
              ? (l = n[2])
              : isNaN(+n[2])
              ? (o = n[2])
              : (e = Number(n[2]));
            const r = n[3];
            if (
              ((void 0 !== e && e > 0) ||
                void 0 !== o ||
                void 0 !== l ||
                void 0 !== a) &&
              null != r &&
              r.length > 0
            )
              return i.createElement(j, {
                appid: e,
                clanSteamID: a,
                strVanity: o,
                strGroupVanity: l,
                eventGID: r,
                strURL: t,
              });
          }
        }
        return (0, m.hF)(t, null == n ? void 0 : n.event);
      }
      var Oe = n(84770);
      class Be {
        constructor() {
          (this.file = void 0),
            (this.dataURL = void 0),
            (this.timestamp = 0),
            (this.imageWidth = 0),
            (this.imageHeight = 0),
            (this.eUploadState = 0),
            (this.uploadProgress = 0),
            (this.strErrorDescription = void 0),
            (0, Z.rC)(this);
        }
      }
      (0, a.gn)([Z.LO], Be.prototype, "file", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "dataURL", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "imageWidth", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "imageHeight", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "eUploadState", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "uploadProgress", void 0),
        (0, a.gn)([Z.LO], Be.prototype, "strErrorDescription", void 0);
      class Me {
        constructor(e) {
          (this.m_fileUploadProps = new Be()),
            (0, Z.rC)(this),
            (this.m_Callbacks = e);
        }
        get file_upload_props() {
          return this.m_fileUploadProps;
        }
        get file_upload_data_url() {
          return this.m_fileUploadProps.dataURL;
        }
        get file() {
          return this.m_fileUploadProps.file;
        }
        LogFileUploadMessage(e) {
          this.m_Callbacks.LogFileUploadMessage &&
            this.m_Callbacks.LogFileUploadMessage(e);
        }
        SetUploadFileError(e, t) {
          (this.m_fileUploadProps.eUploadState = e),
            (this.m_fileUploadProps.strErrorDescription = t),
            (this.m_fileUploadProps.displayFileName = null);
        }
        SetImageFileToUpload(e, t = Pe) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!e) return void this.SetFileToUpload(null);
            if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
              return void (10 == this.m_Callbacks.GetMaxFileSizeMB()
                ? this.SetUploadFileError(
                    4,
                    (0, I.Xx)("#Chat_Settings_Error_ChatFileTooLarge", e.name),
                  )
                : this.SetUploadFileError(
                    4,
                    (0, I.Xx)(
                      "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                      e.name,
                      this.m_Callbacks.GetMaxFileSizeMB(),
                    ),
                  ));
            let n = e.name.split(".").pop().toLowerCase();
            if (
              -1 ==
              [
                "jpg",
                "jpeg",
                "png",
                "gif",
                "webm",
                "mpg",
                "mp4",
                "mpeg",
                "ogv",
              ].indexOf(n)
            )
              return void this.SetUploadFileError(
                5,
                (0, I.Xx)(
                  "#Chat_Settings_Error_ChatFileTypeNotSupported",
                  e.name,
                ),
              );
            const a = yield t(e);
            this.SetFileToUpload(a.file),
              (this.m_fileUploadProps.imageHeight = a.height),
              (this.m_fileUploadProps.imageWidth = a.width);
          });
        }
        SetFileToUpload(e) {
          if (
            ((this.m_fileUploadProps.file = e),
            (this.m_fileUploadProps.dataURL = null),
            (this.m_fileUploadProps.hmac = null),
            (this.m_fileUploadProps.sha1 = null),
            (this.m_fileUploadProps.imageWidth = 0),
            (this.m_fileUploadProps.imageHeight = 0),
            !e)
          )
            return void (this.m_fileUploadProps.eUploadState = 0);
          this.m_fileUploadProps.eUploadState = 1;
          let t = "";
          for (; t.length < 40; )
            t += Math.floor(16 * Math.random()).toString(16);
          let n = "";
          try {
            n = URL.createObjectURL(e);
          } catch (e) {
            console.error(`Failed to created object URL from file: ${e}`);
          }
          (this.m_fileUploadProps.dataURL = n),
            (this.m_fileUploadProps.displayFileName = e.name),
            (this.m_fileUploadProps.uploadFileName =
              window.performance.now() + "_" + e.name),
            (this.m_fileUploadProps.sha1 = t),
            (this.m_fileUploadProps.hmac = ""),
            (this.m_fileUploadProps.timestamp = 0);
        }
        RetryFileUpload() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.BeginFileUpload(this.m_fileUploadProps.additionalProps);
          });
        }
        BeginFileUpload(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = this.m_fileUploadProps.file;
            if (!t)
              throw (
                ((0, K.X)(
                  !1,
                  "Must SetImageFileToUpload before calling BeginFileUpload",
                ),
                new Error("Invalid State"))
              );
            (this.m_fileUploadProps.eUploadState = 2),
              (this.m_fileUploadProps.uploadProgress = 0),
              (this.m_fileUploadProps.additionalProps = e);
            let n = new FormData();
            n.append("sessionid", C.De.SESSIONID),
              n.append("l", C.De.LANGUAGE),
              n.append("file_size", t.size.toString()),
              n.append("file_name", this.m_fileUploadProps.uploadFileName),
              n.append("file_sha", this.m_fileUploadProps.sha1),
              n.append(
                "file_image_width",
                this.m_fileUploadProps.imageWidth.toString(),
              ),
              n.append(
                "file_image_height",
                this.m_fileUploadProps.imageHeight.toString(),
              ),
              n.append("file_type", t.type),
              this.m_Callbacks.PopulateBeginFileUploadFormData &&
                this.m_Callbacks.PopulateBeginFileUploadFormData(
                  n,
                  this.file_upload_props.additionalProps,
                );
            try {
              let e = yield fetch(
                this.m_Callbacks.GetBeginFileUploadURL() +
                  `?l=${C.De.LANGUAGE}`,
                { method: "POST", body: n, credentials: "include" },
              );
              const t = yield e.json();
              return (
                (this.m_fileUploadProps.timestamp = t.timestamp),
                (this.m_fileUploadProps.hmac = t.hmac),
                this.DoFileUpload(t.result)
              );
            } catch (e) {
              const t = null == e ? void 0 : e.response;
              let n = null;
              throw (
                ((0, Z.z)(() => {
                  if (
                    ((this.m_fileUploadProps.eUploadState = 3),
                    this.LogFileUploadMessage(t),
                    t)
                  ) {
                    let e = t.data;
                    t.status, e && e.success;
                    n = (null == e ? void 0 : e.message)
                      ? null == e
                        ? void 0
                        : e.message
                      : (0, I.Xx)("#Chat_Settings_Error_ServerError");
                  } else n = (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
                  this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                    "#Chat_Upload_ErrorStart",
                    n,
                  );
                }),
                n)
              );
            }
          });
        }
        DoFileUpload(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = this.m_fileUploadProps.file,
              n = e.use_https ? "https://" : "http://";
            n += e.url_host + e.url_path;
            let a = {
              onUploadProgress: (e) => {
                let t = (e.loaded / e.total) * 100;
                t > this.m_fileUploadProps.uploadProgress &&
                  (0, Z.z)(() => {
                    this.m_fileUploadProps.uploadProgress = t;
                  });
              },
              headers: {},
              transformRequest: [(e) => e],
            };
            for (let t = 0; t < e.request_headers.length; ++t) {
              let n = e.request_headers[t];
              "Content-Length" != n.name &&
                "Host" != n.name &&
                (a.headers[n.name] = n.value);
            }
            try {
              return yield L().put(n, t, a), this.CommitFileUpload(!0, e.ugcid);
            } catch (t) {
              throw (
                (this.LogFileUploadMessage(t.response),
                (0, Z.z)(() => {
                  (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                    "#Chat_Upload_ErrorCloud",
                  )),
                    (this.m_fileUploadProps.eUploadState = 3),
                    (this.m_fileUploadProps.uploadProgress = 0);
                }),
                this.CommitFileUpload(!1, e.ugcid),
                this.m_fileUploadProps.strErrorDescription)
              );
            }
          });
        }
        CommitFileUpload(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = this.m_fileUploadProps.file,
              a = this.m_fileUploadProps.sha1,
              i = new FormData();
            i.append("sessionid", C.De.SESSIONID),
              i.append("l", C.De.LANGUAGE),
              i.append("file_name", this.m_fileUploadProps.uploadFileName),
              i.append("file_sha", a),
              i.append("success", e ? "1" : "0"),
              i.append("ugcid", t),
              i.append("file_type", n.type),
              i.append(
                "file_image_width",
                this.m_fileUploadProps.imageWidth.toString(),
              ),
              i.append(
                "file_image_height",
                this.m_fileUploadProps.imageHeight.toString(),
              ),
              i.append(
                "timestamp",
                this.m_fileUploadProps.timestamp.toString(),
              ),
              i.append("hmac", this.m_fileUploadProps.hmac),
              this.m_Callbacks.PopulateCommitFileUploadFormData(
                i,
                this.file_upload_props.additionalProps,
              );
            try {
              let t = yield fetch(this.m_Callbacks.GetCommitFileUploadURL(), {
                method: "POST",
                body: i,
              });
              return (
                e
                  ? ((this.m_fileUploadProps.uploadProgress = 0),
                    (this.m_fileUploadProps.eUploadState = 6))
                  : (this.m_fileUploadProps.eUploadState = 3),
                t
              );
            } catch (t) {
              if (!e) return null;
              let n = null;
              throw (
                ((0, Z.z)(() => {
                  if (
                    (this.LogFileUploadMessage(t),
                    (this.m_fileUploadProps.uploadProgress = 0),
                    (this.m_fileUploadProps.eUploadState = 3),
                    t.response)
                  ) {
                    let e = t.response.data;
                    t.response.status, e && e.success;
                    n = e.message
                      ? e.message
                      : (0, I.Xx)("#Chat_Settings_Error_ServerError");
                  } else n = (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
                  this.m_fileUploadProps.strErrorDescription = `Failed to commit upload: ${n}`;
                }),
                n)
              );
            }
          });
        }
        ClearFileUploadError() {
          (3 != this.m_fileUploadProps.eUploadState &&
            4 != this.m_fileUploadProps.eUploadState &&
            5 != this.m_fileUploadProps.eUploadState) ||
            this.Reset();
        }
        Reset() {
          this.SetFileToUpload(null);
        }
      }
      function Pe(e) {
        return new Promise((t) => {
          let n = new FileReader();
          (n.onload = () => {
            let a = e,
              i = (function (e) {
                let t = new DataView(e),
                  n = 0,
                  a = 0,
                  i = [],
                  o = 0;
                if (65496 == t.getUint16(n)) {
                  n += 2;
                  let l = t.getUint16(n);
                  for (n += 2; n < t.byteLength && n < 131072; ) {
                    if (65505 == l)
                      (i[o] = { recess: a, offset: n - 2 }),
                        (a = n + t.getUint16(n)),
                        o++;
                    else if (65498 == l) break;
                    (n += t.getUint16(n)), (l = t.getUint16(n)), (n += 2);
                  }
                  let r = e.byteLength - a;
                  if (
                    (i.forEach((e) => {
                      r += e.offset - e.recess;
                    }),
                    r === e.byteLength)
                  )
                    return e;
                  const s = new Uint8Array(r);
                  if (i.length > 0) {
                    let t = 0;
                    i.forEach((n) => {
                      let a = n.offset - n.recess;
                      s.set(new Uint8Array(e.slice(n.recess, n.offset)), t),
                        (t += a);
                    }),
                      s.set(new Uint8Array(e.slice(a)), t);
                  }
                  return s.buffer;
                }
                return e;
              })(n.result),
              o = new Blob([i], { type: e.type });
            if (o) {
              let t = o;
              (t.lastModifiedDate = new Date(e.lastModified)),
                (t.name = e.name),
                (a = t);
            }
            if (0 == e.type.indexOf("image")) {
              let n = new Image();
              (n.src = URL.createObjectURL(e)),
                (n.onload = (e) => {
                  t({ file: a, width: n.width, height: n.height });
                });
            } else t({ file: a, width: 0, height: 0 });
          }),
            n.readAsArrayBuffer(e);
        });
      }
      (0, a.gn)([Z.aD], Me.prototype, "SetUploadFileError", null),
        (0, a.gn)([Z.aD], Me.prototype, "SetImageFileToUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "SetFileToUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "RetryFileUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "BeginFileUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "DoFileUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "CommitFileUpload", null),
        (0, a.gn)([Z.aD], Me.prototype, "ClearFileUploadError", null),
        (0, a.gn)([Z.aD], Me.prototype, "Reset", null);
      var Fe = n(20620),
        Ue = n(25871),
        je = n(22444),
        He = n(77865),
        Xe = n(94843),
        ze = n(43682),
        Ve = n.n(ze);
      const We = (e) => {
        const [t, n] = (0, i.useState)(!0),
          [o, l] = (0, i.useState)(null);
        if (
          ((0, i.useEffect)(() => {
            if (0 == e.appid || 0 == e.trailerBaseID)
              return void l((0, I.Xx)("#TrailerPlayer_ID_NotProvided"));
            (0, a.mG)(void 0, void 0, void 0, function* () {
              yield M.Z.Get().QueueAppRequest(e.appid, {
                include_trailers: !0,
              }),
                M.Z.Get().BHasApp(e.appid)
                  ? (M.Z.Get()
                      .GetApp(e.appid)
                      .GetAllTrailers()
                      .GetTrailerByID(e.trailerBaseID) ||
                      (console.error(
                        "Trailer " +
                          e.trailerBaseID +
                          " doesn't existed within appid " +
                          e.appid,
                      ),
                      l(
                        (0, I.Xx)(
                          "#TrailerPlayer_CouldNotLoad",
                          e.appid,
                          e.trailerBaseID,
                        ),
                      )),
                    n(!1))
                  : l(
                      (0, I.Xx)(
                        "#TrailerPlayer_CouldNotLoad",
                        e.appid,
                        e.trailerBaseID,
                      ),
                    );
            });
          }, [e.appid, e.trailerBaseID]),
          o)
        )
          return e.bIsPreviewMode
            ? i.createElement("div", { className: Ve().ErrorDiv }, o)
            : null;
        if (t)
          return i.createElement(P.V, {
            string: (0, I.Xx)("#Loading"),
            size: "small",
          });
        const r = M.Z.Get()
            .GetApp(e.appid)
            .GetAllTrailers()
            .GetTrailerByID(e.trailerBaseID),
          s = r.GetTrailerMax(),
          c = {
            sPoster: r.GetScreenshot(),
            rgVideoSources: [
              { sURL: s.strWebMURL, sFormat: "video/webm" },
              { sURL: s.strMP4URL, sFormat: "video/mp4" },
            ],
          };
        return i.createElement(Xe.Y, {
          bControls: !0,
          bAutoPlay: !1,
          bLoop: !1,
          video: c,
        });
      };
      var Ze = n(83431),
        qe = n(32868),
        Ye = n(17547);
      const Qe = i.lazy(() =>
          Promise.all([n.e(2706), n.e(4601)]).then(n.bind(n, 70005)),
        ),
        Ke = (e) => {
          const t = (0, i.useRef)(null),
            [n, o] = (0, i.useState)(qe.D.Get().GetVODForAppID(e.appid)),
            [l, r] = (0, i.useState)(
              !Boolean(qe.D.Get().GetVODForAppID(e.appid)),
            );
          return (
            (0, i.useEffect)(
              () => () => t.current && t.current("VODPlayer: unmounting"),
            ),
            (0, i.useEffect)(() => {
              let i = n;
              if (
                (n &&
                  n.appid != e.appid &&
                  (i = qe.D.Get().GetVODForAppID(e.appid)),
                !i)
              ) {
                const n = () =>
                  (0, a.mG)(void 0, void 0, void 0, function* () {
                    t.current && t.current();
                    const n = L().CancelToken.source();
                    (t.current = n.cancel),
                      (i = yield qe.D.Get().LoadVODForAppID(e.appid)),
                      n.token.reason || o(i),
                      r(!1);
                  });
                r(!0), n();
              }
              n != i && o(i);
            }, [e.appid, n]),
            !n && e.bPreviewMode
              ? i.createElement(
                  "div",
                  null,
                  (0, I.Xx)(
                    l ? "#VODPlayer_Loading" : "#VODPlayer_ErrorLoading",
                    e.appid,
                  ),
                )
              : i.createElement(
                  "div",
                  { className: Ze.BroadcastCtn },
                  i.createElement(
                    Ye.SV,
                    null,
                    i.createElement(
                      i.Suspense,
                      { fallback: null },
                      i.createElement(Qe, {
                        nAppIDVOD: e.appid,
                        watchLocation: 9,
                        bStartPaused: !0,
                      }),
                    ),
                  ),
                )
          );
        };
      var $e = n(54297),
        Je = n(75962),
        et = n(60161);
      const tt = 940;
      function nt(e = tt) {
        return (
          (function () {
            const [e, t] = (0, i.useState)(window.innerWidth);
            return (
              (0, i.useEffect)(() => {
                const e = () => {
                  t(window.innerWidth);
                };
                return (
                  window.addEventListener("resize", e),
                  () => window.removeEventListener("resize", e)
                );
              }, []),
              e
            );
          })() >= e
        );
      }
      var at = n(54524);
      function it(e) {
        const t = (0, C.id)(),
          n = nt(tt),
          a = "true" === String((0, r.im)(e.args, "autoadvance")).toLowerCase();
        return i.createElement(
          at.l,
          {
            hideArrows: !n,
            hidePips: t,
            visibleElements: 1,
            useTestScrollbar: !1,
            bLazyRenderChildren: !0,
            screenIsWide: n,
            bAutoAdvance: a,
            className: X().ScreenshotCarousel,
          },
          e.children,
        );
      }
      var ot = n(44026),
        lt = n(59663);
      function rt(e) {
        const { fileUploadManager: t } = e,
          n = (0, i.useRef)();
        return i.createElement(
          "div",
          { className: lt.Ctn },
          i.createElement("input", {
            type: "file",
            accept: ".jpg,.jpeg,.png,.gif,.webm,.mpg,.mpeg,.ogv,.mp4",
            style: { display: "none" },
            name: "fileupload",
            ref: n,
            onChange: (e) => {
              var n, a;
              (null ===
                (a =
                  null === (n = e.currentTarget) || void 0 === n
                    ? void 0
                    : n.files) || void 0 === a
                ? void 0
                : a.length) > 0 &&
                (t.SetImageFileToUpload(e.currentTarget.files[0]),
                (e.currentTarget.value = ""));
            },
          }),
          i.createElement(
            ot.wl,
            {
              type: "button",
              title: (0, I.Xx)("#Button_Upload"),
              onOKActionDescription: (0, I.Xx)("#Button_Upload"),
              onClick: () => n.current.click(),
            },
            i.createElement(w.pkz, null),
          ),
        );
      }
      var st = n(83315),
        ct = n(71654);
      function dt(e) {
        const { fileUploadManager: t } = e,
          n = (0, st.SZ)(() => t.file_upload_props.eUploadState);
        return 1 == n
          ? i.createElement(mt, { fileUploadManager: t })
          : 3 == n || 5 == n || 4 == n
          ? i.createElement(ut, { fileUploadManager: t })
          : 0 != n
          ? i.createElement(pt, { fileUploadManager: t })
          : null;
      }
      function mt(e) {
        const { fileUploadManager: t } = e,
          n = t.file;
        return i.createElement(
          "div",
          { className: ct.UploadPreviewContainer },
          Boolean(-1 != n.type.indexOf("image")) &&
            i.createElement("img", {
              className: ct.UploadPreview,
              src: t.file_upload_data_url,
            }),
          Boolean(-1 != n.type.indexOf("video")) &&
            i.createElement(w.nkn, null),
          i.createElement(
            "div",
            { className: ct.FileUploadFileName },
            "'",
            n.name,
            "'",
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadCancel, onClick: () => t.Reset() },
            i.createElement(w.pVO, null),
          ),
          i.createElement(
            je.KM,
            {
              className: ct.FileUploadBtn,
              onClick: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  yield t.BeginFileUpload(), t.Reset();
                }),
            },
            (0, I.Xx)("#Button_Upload"),
          ),
        );
      }
      function pt(e) {
        const { fileUploadManager: t } = e,
          [n, a, o] = (0, st.SZ)(() => [
            t.file_upload_props.file,
            t.file_upload_props.displayFileName,
            t.file_upload_props.uploadProgress,
          ]),
          l = n ? (0, I.Xx)("#Uploading_Item", a) : "",
          r = { width: o + "%" };
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, l),
          i.createElement(
            "div",
            {
              className: (0, k.Z)(
                ct.FileUploadProgressBarContainer,
                "DialogProgressBar_ProgressBarContainer",
              ),
            },
            i.createElement("div", {
              className: "DialogProgressBar_Value",
              style: r,
            }),
          ),
        );
      }
      function ut(e) {
        const { fileUploadManager: t } = e,
          [n, o, l] = (0, st.SZ)(() => [
            t.file_upload_props.strErrorDescription,
            t.file_upload_props.displayFileName,
            t.file_upload_props.eUploadState,
          ]),
          r = o ? (0, I.Xx)("#Uploading_Item", o) : "",
          s = n || (0, I.Xx)("#Chat_Upload_ErrorCloud");
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, r),
          i.createElement(
            "div",
            { className: ct.FileUploadErrorDescription },
            s,
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadActions },
            i.createElement(
              je.Uq,
              { className: "DialogLayout_NoMinWidth" },
              Boolean(3 == l) &&
                i.createElement(
                  je.KM,
                  {
                    onClick: () =>
                      (0, a.mG)(this, void 0, void 0, function* () {
                        yield t.RetryFileUpload(), t.Reset();
                      }),
                  },
                  (0, I.Xx)("#Chat_Upload_ErrorAction_Retry"),
                ),
              i.createElement(
                je.zx,
                { onClick: () => t.ClearFileUploadError() },
                (0, I.Xx)("#Chat_Upload_ErrorAction_Close"),
              ),
            ),
          ),
        );
      }
      var _t = n(67736),
        ht = n(57742),
        gt = n(32905),
        Et = n(75306);
      class vt {
        GetInventoryForApp(e) {
          return this.m_mapInventoryByApp.get(e);
        }
        GetItemDefsChangeForAppID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new $.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestAppCommunityItems(e, t) {
          this.m_mapInventoryByApp.set(e, t),
            this.GetItemDefsChangeForAppID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadCommunityInventory(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadCommunityInventory(e),
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadCommunityInventory(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = q.gA.Init(Et.o0);
            t.Body().set_filter_appids([e]);
            let n = null;
            try {
              const a = yield Et.Ts.GetCommunityInventory(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == a.GetEResult()) {
                const t = new Array();
                return (
                  a
                    .Body()
                    .items()
                    .forEach((e) => t.push(e.toObject())),
                  this.m_mapInventoryByApp.set(e, t),
                  this.GetItemDefsChangeForAppID(e).Dispatch(t),
                  1
                );
              }
              n = (0, b.l)(a);
            } catch (e) {
              n = (0, b.l)(e);
            }
            return (
              console.error(
                "CQuestCommunityInventoryStore.InternalLoadCommunityInventory failed: on appid " +
                  e +
                  " error: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            vt.s_Singleton ||
              ((vt.s_Singleton = new vt()),
              vt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_QuestCommunityInventoryStore = vt.s_Singleton)),
            vt.s_Singleton
          );
        }
        constructor() {
          (this.m_mapInventoryByApp = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        Init() {
          const e = (0, C.kQ)("read_inventory_token", "application_config");
          (0, K.X)(
            e,
            "CQuestCommunityInventoryStore: missing read_inventory:steam oauth permission",
          ),
            (this.m_SteamInterface = new Y.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      function St(e) {
        const [t, n] = (0, i.useState)(vt.Get().GetInventoryForApp(e));
        return (
          (0, i.useEffect)(() => {
            e &&
              !vt.Get().BHasLoadedDef(e) &&
              vt.Get().LoadCommunityInventory(e);
          }, [e]),
          (0, h.Qg)(vt.Get().GetItemDefsChangeForAppID(e), n),
          t
        );
      }
      (0, a.gn)([h.ak], vt.prototype, "SetTestAppCommunityItems", null);
      class ft {
        GetClaimItemState() {
          return this.m_claimState;
        }
        GetClaimStateChangeCallback() {
          return this.m_claimStateChangeCallback;
        }
        GetClaimedSaleRewardItemDef() {
          return this.m_claimedFreeItemDef;
        }
        GetNextClaimTime() {
          if (!this.m_rtNextClaimTime) return null;
          return new Date(1e3 * this.m_rtNextClaimTime);
        }
        TEST_OverrideClaimState(e) {
          (this.m_bInTestMode = !0),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            e.bCanClaimNewItem
              ? (this.m_testNextClaimFakeResponse = {
                  bAlreadyClaimedCurrentItem: !0,
                  bCanClaimNewItem: !1,
                  rtNextClaimTime: Math.floor(Date.now() / 1e3) + 3600,
                  appid: 2243810,
                  community_item_type: 2,
                  community_item_class: 11,
                })
              : (this.m_testNextClaimFakeResponse = null),
            (this.m_claimState = e),
            this.GetClaimStateChangeCallback().Dispatch(this.m_claimState);
        }
        ActivateProfileModifier(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = q.gA.Init(Et.yg);
            t.Body().set_communityitemid(e.communityitemid),
              t.Body().set_appid(e.appid),
              t.Body().set_activate(!0);
            const n = yield Et.Ts.ActivateProfileModifierItem(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            return (
              1 != n.GetEResult() &&
                console.error(
                  `Error when calling QuestService.ActivateProfileModifierItem: EResult=${n.GetEResult()}`,
                ),
              n.GetEResult()
            );
          });
        }
        LoadCanUserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.m_bInTestMode
              ? this.m_claimState
              : (this.m_canClaimPromise ||
                  (this.m_canClaimPromise =
                    this.InternalLoadCanUserClaimItem()),
                this.m_canClaimPromise);
          });
        }
        InternalLoadCanUserClaimItem() {
          var e, t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            (0, K.X)(
              C.L7.logged_in,
              "User must be logged to use CSaleItemClaimableRewardsStore",
            );
            const a = q.gA.Init(Q.FE);
            a.Body().set_language(C.De.LANGUAGE);
            let o = null;
            try {
              const l = yield Q.tE.CanClaimItem(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (1 == l.GetEResult())
                return (
                  (this.m_claimedFreeItemDef = Boolean(
                    null === (e = l.Body().reward_item()) || void 0 === e
                      ? void 0
                      : e.defid(),
                  )
                    ? l.Body().reward_item().toObject()
                    : null),
                  (this.m_claimState = {
                    bCanClaimNewItem: l.Body().can_claim(),
                    bAlreadyClaimedCurrentItem: Boolean(
                      this.m_claimedFreeItemDef,
                    ),
                    appid:
                      null === (t = this.m_claimedFreeItemDef) || void 0 === t
                        ? void 0
                        : t.appid,
                    community_item_type:
                      null === (n = this.m_claimedFreeItemDef) || void 0 === n
                        ? void 0
                        : n.community_item_type,
                    community_item_class:
                      null === (i = this.m_claimedFreeItemDef) || void 0 === i
                        ? void 0
                        : i.community_item_class,
                    rtNextClaimTime:
                      l.Body().next_claim_time() > 0
                        ? l.Body().next_claim_time()
                        : void 0,
                  }),
                  (this.m_rtNextClaimTime = l.Body().next_claim_time()),
                  this.SetClaimTimer(),
                  this.GetClaimStateChangeCallback().Dispatch(
                    this.m_claimState,
                  ),
                  this.m_claimState
                );
              o = (0, b.l)(l);
            } catch (e) {
              o = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleItemClaimableRewardsStore.InternalLoadCanUserClaimItem failed: error: " +
                  (null == o ? void 0 : o.strErrorMsg),
                o,
              ),
              { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
            );
          });
        }
        UserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_testNextClaimFakeResponse &&
                (console.log(
                  "CSaleItemClaimableRewardsStore - testing, pretending claim action succeeded",
                  (0, Z.ZN)(this.m_testNextClaimFakeResponse),
                ),
                (this.m_claimState = this.m_testNextClaimFakeResponse),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                (this.m_rtNextClaimTime = this.m_claimState.rtNextClaimTime),
                this.SetClaimTimer(),
                (this.m_testNextClaimFakeResponse = null)),
              this.m_bInTestMode
                ? this.m_claimState
                : (this.m_claimPromise ||
                    (this.m_claimPromise = this.InternalUserClaimItem()),
                  this.m_claimPromise)
            );
          });
        }
        InternalUserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            (0, K.X)(
              C.L7.logged_in,
              "User must be logged to use CSaleItemClaimableRewardsStore",
            ),
              (0, K.X)(
                this.m_claimState.bCanClaimNewItem,
                "Only should be called when we previously verified you can claim something. ",
              );
            const e = q.gA.Init(Q.xs);
            e.Body().set_language(C.De.LANGUAGE);
            let t = null;
            try {
              const n = yield Q.tE.ClaimItem(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 == n.GetEResult())
                return (
                  (this.m_claimedFreeItemDef = n
                    .Body()
                    .reward_item()
                    .toObject()),
                  (this.m_claimState = {
                    bCanClaimNewItem: !1,
                    bAlreadyClaimedCurrentItem: Boolean(
                      this.m_claimedFreeItemDef,
                    ),
                    appid: this.m_claimedFreeItemDef.appid,
                    community_item_type:
                      this.m_claimedFreeItemDef.community_item_type,
                    community_item_class:
                      this.m_claimedFreeItemDef.community_item_class,
                    rtNextClaimTime:
                      n.Body().next_claim_time() > 0
                        ? n.Body().next_claim_time()
                        : void 0,
                  }),
                  this.GetClaimStateChangeCallback().Dispatch(
                    this.m_claimState,
                  ),
                  (this.m_rtNextClaimTime = n.Body().next_claim_time()),
                  this.SetClaimTimer(),
                  this.m_claimState
                );
              if (29 == n.GetEResult())
                return (
                  (this.m_canClaimPromise =
                    this.InternalLoadCanUserClaimItem()),
                  this.m_canClaimPromise
                );
              t = (0, b.l)(n);
            } catch (e) {
              t = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleItemClaimableRewardsStore.InternalUserClaimItem failed: error: " +
                  (null == t ? void 0 : t.strErrorMsg),
                t,
              ),
              { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
            );
          });
        }
        SetClaimTimer() {
          if (this.m_claimTimer) return;
          if (!this.m_rtNextClaimTime) return;
          const e = Date.now();
          let t = new Date(1e3 * this.m_rtNextClaimTime);
          const n = Math.max(0, Math.min(1, t.getTime() - e));
          this.m_claimTimer = window.setTimeout(
            () => {
              (this.m_claimTimer = void 0),
                Date.now() > t.getTime()
                  ? ((this.m_canClaimPromise = null),
                    (this.m_claimPromise = null),
                    (this.m_claimedFreeItemDef = null),
                    (this.m_claimState = {
                      bCanClaimNewItem: !0,
                      bAlreadyClaimedCurrentItem: !1,
                      rtNextClaimTime: void 0,
                    }),
                    this.GetClaimStateChangeCallback().Dispatch(
                      this.m_claimState,
                    ))
                  : this.SetClaimTimer();
            },
            n > 3e5 ? n / 2 : n,
          );
        }
        static Get() {
          return (
            ft.s_Singleton ||
              ((ft.s_Singleton = new ft()),
              ft.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleItemClaimableRewardsStore = ft.s_Singleton)),
            ft.s_Singleton
          );
        }
        constructor() {
          (this.m_claimState = {
            bCanClaimNewItem: !1,
            bAlreadyClaimedCurrentItem: !1,
          }),
            (this.m_SteamInterface = null),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            (this.m_claimStateChangeCallback = new $.pB()),
            (this.m_testNextClaimFakeResponse = null),
            (this.m_bInTestMode = !1);
        }
        Init() {
          const e = (0, C.kQ)("loyalty_webapi_token", "application_config");
          (0, K.X)(
            e,
            "CQuestCommunityInventoryStore: missing loyalty_webapi_token oauth permission",
          ),
            (this.m_SteamInterface = new Y.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      (0, a.gn)([h.ak], ft.prototype, "TEST_OverrideClaimState", null),
        (0, a.gn)([h.ak], ft.prototype, "UserClaimItem", null);
      var yt = n(77557),
        Dt = n(7762);
      class bt {
        GetItemDefForAppID(e) {
          return this.m_mapAppToDefs.get(e);
        }
        GetItemDefsChangeForEventID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new $.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestItemDefs(e, t) {
          this.m_mapAppToDefs.set(e, t),
            this.GetItemDefsChangeForEventID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadAppCommunityItems(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadAppCommunityItems(e, t),
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadAppCommunityItems(e, t) {
          var n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const o =
                  C.De.COMMUNITY_BASE_URL +
                  (t
                    ? "minigame/ajaxgetgameitemdefsforeditor"
                    : "minigame/ajaxgetgameitemdefs"),
                l = {
                  appid: e,
                  origin: self.origin,
                  l: C.De.LANGUAGE,
                  sessionid: t ? C.De.SESSIONID : void 0,
                },
                r = yield L().get(o, { params: l, withCredentials: t });
              if (
                200 == (null == r ? void 0 : r.status) &&
                1 ==
                  (null === (n = null == r ? void 0 : r.data) || void 0 === n
                    ? void 0
                    : n.success) &&
                (null === (i = null == r ? void 0 : r.data) || void 0 === i
                  ? void 0
                  : i.item_definitions)
              )
                return (
                  this.m_mapAppToDefs.set(e, r.data.item_definitions),
                  this.GetItemDefsChangeForEventID(e).Dispatch(
                    r.data.item_definitions,
                  ),
                  1
                );
              a = (0, b.l)(r);
            } catch (e) {
              a = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                  e +
                  " edit? " +
                  t +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            bt.s_Singleton ||
              ((bt.s_Singleton = new bt()),
              bt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = bt.s_Singleton)),
            bt.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppToDefs = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map());
        }
        Init() {}
      }
      function It(e, t, n) {
        const a = (function (e, t) {
            const [n, a] = (0, i.useState)(bt.Get().GetItemDefForAppID(e));
            return (
              (0, i.useEffect)(() => {
                e &&
                  !bt.Get().BHasLoadedDef(e) &&
                  bt.Get().LoadAppCommunityItems(e, t);
              }, [e, t]),
              (0, h.Qg)(bt.Get().GetItemDefsChangeForEventID(e), a),
              n
            );
          })(e, n),
          [o, l] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e && a && null == o) {
              const n = a.find(
                (n) => n.active && n.appid == e && n.item_type == t,
              );
              n && l(n);
            }
          }, [o, a, e, t]),
          o
        );
      }
      function Ct(e) {
        const { appid: t, community_item_type: n, bForEdit: a } = e,
          o = It(t, n, a);
        if (
          (null == o ? void 0 : o.item_movie_mp4) &&
          (null == o ? void 0 : o.item_movie_webm)
        ) {
          const e = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${
              null == o ? void 0 : o.item_image_large
            }`,
            n = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${
              null == o ? void 0 : o.item_movie_webm
            }`,
            a = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${
              null == o ? void 0 : o.item_movie_mp4
            }`;
          return i.createElement(
            "video",
            { muted: !0, controls: !1, autoPlay: !0, loop: !0, poster: e },
            i.createElement("source", { src: n, type: "video/webm" }),
            Boolean(!C.De.IN_CLIENT) &&
              i.createElement("source", { src: a, type: "video/mp4" }),
          );
        }
        if (o) {
          const n = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${
            (null == o ? void 0 : o.item_image_small) ||
            (null == o ? void 0 : o.item_image_large)
          }`;
          return i.createElement("img", {
            className: e.className,
            src: n,
            alt: null == o ? void 0 : o.item_name,
          });
        }
        return i.createElement(P.V, {
          size: "small",
          string: (0, I.Xx)("#Loading"),
        });
      }
      function At(e) {
        const t = (function () {
            const [e, t] = (0, i.useState)(ft.Get().GetClaimItemState()),
              [n, a] = (0, i.useState)(!0);
            return (
              (0, i.useEffect)(() => {
                ft.Get()
                  .LoadCanUserClaimItem()
                  .then(t)
                  .finally(() => a(!1));
              }, []),
              (0, h.Qg)(ft.Get().GetClaimStateChangeCallback(), t),
              Object.assign(Object.assign({}, e), { bLoading: n })
            );
          })(),
          { bLoading: n } = t,
          { className: a, bPreviewMode: o, rewardType: l } = e;
        return i.createElement(
          je.zx,
          {
            className: (0, k.Z)("CSSClaimItemButton", a),
            onClick: (e) => {
              t.bCanClaimNewItem
                ? (0, ht.AM)(
                    i.createElement(wt, { rewardType: l }),
                    (0, et.RA)(e),
                  )
                : ("dev" == C.De.WEB_UNIVERSE ||
                    "beta" == C.De.WEB_UNIVERSE ||
                    o) &&
                  ((0, ht.AM)(
                    i.createElement(wt, { rewardType: l }),
                    (0, et.RA)(e),
                  ),
                  console.log(
                    "Show dialog for debugging, since already claimed: ",
                    (0, Z.ZN)(t),
                  ));
            },
            disabled: n,
          },
          Boolean(n)
            ? i.createElement(P.V, {
                string: (0, I.Xx)("#Loading"),
                size: "small",
              })
            : i.createElement(Tt, { claimState: t }),
        );
      }
      function Tt(e) {
        const { claimState: t, strButtonOverride: n, rewardType: a } = e;
        if (t.bAlreadyClaimedCurrentItem)
          return i.createElement(
            "div",
            { className: (0, k.Z)(Dt.CheckMark, "CSSClaimedState") },
            i.createElement(w.JrY, null),
            i.createElement(
              "span",
              null,
              " ",
              (null == n ? void 0 : n.length) > 0
                ? n
                : (0, I.Xx)("#Sale_ClaimableReward_AlreadyClaimed"),
            ),
          );
        let o = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch ((null == t ? void 0 : t.community_item_class) || a) {
          case 11:
            o = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            o = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            o = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement("span", { className: "CSSUnclaimedState" }, o);
      }
      function wt(e) {
        const { closeModal: t, rewardType: n } = e,
          { fnClaimItem: a } = { fnClaimItem: ft.Get().UserClaimItem },
          o = (0, yt.tx)(),
          [l, r] = i.useState(null);
        i.useEffect(() => {
          o.bLoading ||
            (o.fnSetLoading(!0),
            a()
              .then((e) => {
                if (
                  (r(e), console.log("claim response", (0, Z.ZN)(e)), e.appid)
                ) {
                  let t = (0, I.Xx)("#Sale_ClaimableReward_completed_generic");
                  const a = (null == l ? void 0 : l.community_item_class) || n;
                  switch (a) {
                    case 11:
                      t = (0, I.Xx)("#Sale_ClaimableReward_completed_sticker");
                      break;
                    case 8:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_profilemodifier",
                      );
                      break;
                    case 15:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_animatedavatar",
                      );
                  }
                  o.fnSetStrSuccess("   "),
                    o.fnSetElSuccess(
                      i.createElement(
                        "div",
                        { className: Dt.DialogCtn },
                        i.createElement("span", null, t),
                        i.createElement(kt, {
                          appid: e.appid,
                          community_item_type: e.community_item_type,
                          rewardType: a,
                        }),
                      ),
                    );
                } else o.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy"));
              })
              .catch((e) =>
                o.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy")),
              ));
        }, [null == l ? void 0 : l.community_item_class, o, a, n]);
        let s = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch ((null == l ? void 0 : l.community_item_class) || n) {
          case 11:
            s = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            s = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            s = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement(yt.NT, {
          state: o,
          strDialogTitle: s,
          closeModal: t,
        });
      }
      function kt(e) {
        const { appid: t, community_item_type: n, rewardType: a } = e;
        return t && n
          ? i.createElement(
              i.Fragment,
              null,
              i.createElement(Ct, { appid: t, community_item_type: n }),
              Boolean(8 == a) &&
                i.createElement(Nt, { appid: t, community_item_type: n }),
            )
          : null;
      }
      function Nt(e) {
        const { appid: t, community_item_type: n } = e,
          o = St(t),
          [l, r] = i.useState(!1);
        if (!o) return null;
        const s = o.find((e) => e.item_type == n);
        return s
          ? i.createElement(
              "div",
              { className: Dt.EquipCtn },
              Boolean(l)
                ? i.createElement(
                    "div",
                    null,
                    (0, I.Xx)(
                      "#Sale_ClaimableReward_profilemodifier_apply_success",
                    ),
                  )
                : i.createElement(
                    je.zx,
                    {
                      onClick: (e) => {
                        (function (e) {
                          return (0, a.mG)(this, void 0, void 0, function* () {
                            return ft.Get().ActivateProfileModifier(e);
                          });
                        })(s).then((e) => {
                          1 == e && r(!0);
                        });
                      },
                    },
                    (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_apply"),
                  ),
              i.createElement(
                ot.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            )
          : i.createElement(
              "div",
              null,
              i.createElement(
                ot.IS,
                {
                  href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}/edit/goldenprofile`,
                },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_choose"),
              ),
              i.createElement(
                ot.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            );
      }
      var Lt = n(78651);
      let xt = null;
      function Gt(e) {
        var t, n;
        let a = (0, r.im)(e.args);
        const o = (0, r.im)(e.args, "style"),
          l = (0, r.im)(e.args, "id"),
          s = (function (e) {
            return "button" === e
              ? (0, k.Z)(H.LinkButton, "LinkButton")
              : (0, k.Z)(H.Link, "Link");
          })(o),
          c = e.context.event;
        if (void 0 === a) return e.children || "";
        if ("string" == typeof a && a.length > 0) {
          const n = r.vZ(
            a,
            e.language,
            null === (t = e.context.event) || void 0 === t
              ? void 0
              : t.rtime32_last_modified,
          );
          a = "string" == typeof n ? n : n[1];
        }
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            "store" == (0, C.Zv)() &&
            "store.steampowered.com" == (0, d.FM)(a) &&
            ((a = a.replace(
              "https://store.steampowered.com/",
              C.De.STORE_BASE_URL,
            )),
            "clorthax_quest" ==
              (null === (n = null == c ? void 0 : c.jsondata) || void 0 === n
                ? void 0
                : n.sale_vanity_id) &&
              (-1 == a.indexOf("?")
                ? (a += "?t=2022-06-25")
                : (a += "&t=2022-06-25"))),
          "string" == typeof a && a.length > 0 && "#" == a[0]
            ? i.createElement("a", { className: s, href: a }, e.children)
            : "steam://settings/account" == a
            ? i.createElement(
                Je.ns,
                { className: s, href: "steam://settings/account" },
                e.children,
              )
            : i.createElement(
                m.z,
                { className: s, url: a, event: e.context.event, id: l },
                e.children,
              )
        );
      }
      function Rt(e) {
        const { showErrorInfo: t, event: n } = e.context;
        let a = e && e.children && e.children.toString();
        if (
          (null == a || null == a || 0 == a.length) &&
          ((a = e && e.args && e.args[""]),
          null == a || null == a || 0 == a.length)
        )
          return i.createElement(i.Fragment, null);
        const o = r.vZ(
          a,
          e.language,
          null == n ? void 0 : n.rtime32_last_modified,
        );
        if ("string" == typeof o) {
          let e;
          return (
            (a = o),
            (e = (!n || !n.BHasTag("auto_rssfeed")) && !(0, d.dK)(a)),
            t || (a = (0, d.et)(a)),
            t
              ? i.createElement($e.e, {
                  src: a,
                  crossOrigin: e ? "anonymous" : void 0,
                })
              : i.createElement(Lt.l, {
                  src: a,
                  crossOrigin: e ? "anonymous" : void 0,
                })
          );
        }
        return i.createElement(F.j, { rgSources: o });
      }
      function Ot(e) {
        const t = (0, r.im)(e.args);
        if (null == t || null == t || 0 == t.length) return "";
        const n = e && e.children && e.children.toString(),
          a = new Array();
        return (
          a.push(
            `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/${C.De.LANGUAGE}/${t}`,
          ),
          "english" != C.De.LANGUAGE &&
            a.push(
              `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/english/${t}`,
            ),
          i.createElement(F.j, { rgSources: a, alt: n })
        );
      }
      function Bt(e) {
        const t = Ft(
            e.args,
            "appid",
            e.context.event.appid ? e.context.event.appid : 0,
          ),
          n = Ft(e.args, "trailerid", 0);
        return i.createElement(We, {
          appid: t,
          trailerBaseID: n,
          bIsPreviewMode: e.context.showErrorInfo,
        });
      }
      function Mt(e) {
        const t = Ft(e.args, "appid", 0);
        return i.createElement(Ke, {
          appid: t,
          bPreviewMode: e.context.showErrorInfo,
        });
      }
      function Pt(e) {
        const t = (0, r.im)(e.args, "name"),
          n = (0, r.im)(e.args, "title"),
          a = (0, r.im)(e.args, "company"),
          o = (0, r.im)(e.args, "photo");
        return e.context.bShowShortSpeakerInfo
          ? i.createElement(He.G$, {
              name: t,
              title: n,
              company: a,
              photo: o,
              bio: e.children,
            })
          : i.createElement(He.qs, {
              name: t,
              title: n,
              company: a,
              photo: o,
              bio: e.children,
            });
      }
      function Ft(e, t, n) {
        const a = (0, r.im)(e, t);
        return void 0 === a || null == a ? n : Number.parseInt(a);
      }
      function Ut(e) {
        const t = (0, r.im)(e.args, "name"),
          n =
            "true" === ((0, r.im)(e.args, "visible") || "false").toLowerCase(),
          a = (0, Fe.x)(t);
        if (!t) {
          return e.context.showErrorInfo
            ? i.createElement("div", null, "Failed to provide giveaway name")
            : null;
        }
        return a && a.registered && ((a.eligible && n) || (!a.eligible && !n))
          ? e.children
          : null;
      }
      function jt(e) {
        const t = e.context.showErrorInfo;
        if (!C.L7.logged_in)
          return i.createElement(
            je.zx,
            { onClick: gt.X, className: "CSSClaimItemLoginButton" },
            (0, I.Xx)("#Sale_ClaimableReward_Login"),
          );
        const n = (0, r.im)(e.args, "type");
        let a;
        if (n)
          switch (n) {
            case "profilemodifier":
              a = 8;
              break;
            case "sticker":
              a = 11;
          }
        return i.createElement(At, { bPreviewMode: t, rewardType: a });
      }
      function Ht(e) {
        const t = Number.parseInt((0, r.im)(e.args, "id")) || 0,
          n =
            "true" === ((0, r.im)(e.args, "visible") || "false").toLowerCase(),
          a = e.context.showErrorInfo,
          [o, l] = (0, Ue.ie)(t, {});
        if (!t || 1 == l)
          return !t && a
            ? i.createElement("div", null, "Error: PackageID Not Set")
            : null;
        let s = !1;
        return (
          (s = M.Z.Get().BHasStoreItem(t, 1)
            ? Boolean(o.GetBestPurchaseOption())
            : !M.Z.Get().BIsPackageUnavailableDueToCountryRestriction(t)),
          (!s && !n) || (s && n) ? e.children : null
        );
      }
      function Xt(e) {
        if ("GameAwardDrop2022" === e) {
          const t = (0, Fe.x)(e),
            n = (0, Fe.v)();
          return t
            ? t.registered
              ? {
                  bInitialState: !1,
                  bSuccessState: t.eligible,
                  bFailedState: !t.eligible,
                  fnAction: t.eligible
                    ? void 0
                    : () =>
                        (0, a.mG)(this, void 0, void 0, function* () {
                          yield n.fnCreateRegistration(e);
                        }),
                }
              : {
                  bInitialState: !0,
                  fnAction: () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      yield n.fnCreateRegistration(e);
                    }),
                }
            : { bInitialState: !0 };
        }
        return { bInitialState: !0 };
      }
      function zt(e) {
        const t = (0, r.im)(e.args, "action"),
          n = (0, r.im)(e.args, "initialToken"),
          a = (0, r.im)(e.args, "successToken"),
          o = (0, r.im)(e.args, "failToken"),
          l = Xt(t);
        if (!(t && n && a && o)) {
          return e.context.showErrorInfo
            ? i.createElement(
                "div",
                null,
                "Failed to provide all tokens. Dialog will not appear",
              )
            : null;
        }
        return C.L7.logged_in || "test" == t || "nologinrequired" == t
          ? i.createElement(
              je.zx,
              {
                className: "CSSActionDialogButton",
                onClick: (l) => {
                  (0, ht.AM)(
                    i.createElement(
                      Vt,
                      {
                        strAction: t,
                        strInitialToken: n,
                        strSuccessToken: a,
                        strFailToken: o,
                      },
                      e.children,
                    ),
                    (0, et.RA)(l),
                  );
                },
              },
              Boolean(l.bInitialState) && (0, I.Xx)(n),
              Boolean(l.bSuccessState) && (0, I.Xx)(a),
              Boolean(l.bFailedState) && (0, I.Xx)(o),
            )
          : i.createElement(
              je.zx,
              { className: "CSSActionDialogButton", onClick: gt.X },
              (0, I.Xx)("#Login_SignIn"),
            );
      }
      function Vt(e) {
        const {
            strAction: t,
            children: n,
            closeModal: a,
            strInitialToken: o,
            strSuccessToken: l,
            strFailToken: r,
          } = e,
          s = Xt(t),
          [c, d] = i.useState(Boolean(s.fnAction));
        return (
          i.useEffect(() => {
            s.fnAction && (d(!0), s.fnAction().finally(() => d(!1)));
          }, [s]),
          i.createElement(
            _t.RG,
            {
              bDisableBackgroundDismiss: !0,
              closeModal: a,
              onCancel: a,
              className: "CSSActionDialogDialog",
            },
            i.createElement(
              je.h4,
              null,
              Boolean(s.bInitialState) && (0, I.Xx)(o),
              Boolean(s.bSuccessState) && (0, I.Xx)(l),
              Boolean(s.bFailedState) && (0, I.Xx)(r),
            ),
            i.createElement(
              je.uT,
              null,
              i.createElement(
                je.Ac,
                null,
                c
                  ? i.createElement(P.V, {
                      size: "medium",
                      position: "center",
                      string: (0, I.Xx)("#Loading"),
                    })
                  : n,
              ),
            ),
          )
        );
      }
      function Wt(e) {
        const { showErrorInfo: t, event: n } = e.context,
          a = n.clanSteamID.GetAccountID(),
          [o] = i.useState(
            new Me(
              (function (e) {
                const t = {
                  PopulateBeginFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  PopulateCommitFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  GetBeginFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxbeginfileupload",
                  GetCommitFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxcommitfileupload",
                  LogFileUploadMessage: (e) => {
                    console.log("UploadFileButton: ", e);
                  },
                  GetMaxFileSizeMB: () => 100,
                };
                return t;
              })(a),
            ),
          );
        return a == Oe.sq ||
          a == Oe.RQ ||
          (2 == C.De.EUNIVERSE && a == Oe.$Y) ||
          (1 == C.De.EUNIVERSE && a == Oe._L)
          ? i.createElement(
              "div",
              null,
              i.createElement(rt, { fileUploadManager: o }),
              i.createElement(dt, { fileUploadManager: o }),
            )
          : t
          ? i.createElement("div", null, (0, I.Xx)("#CloudUpload_NotSupport"))
          : null;
      }
      class Zt extends i.Component {
        constructor(e) {
          super(e),
            (this.m_parser = new o.Z6(
              Zt.sm_BBCodeDictionary,
              this.ElementAccumulator,
              e.languageOverride,
            ));
        }
        ElementAccumulator(e) {
          return new _(
            new u(
              new p(
                new l.So(new l.LT(), 0),
                e,
                (null == ve &&
                  (ve = (0, C.h4)()
                    ? [
                        { urlRegExp: new RegExp(re), fnBBComponent: Ie },
                        { urlRegExp: new RegExp(ce), fnBBComponent: we },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(se), fnBBComponent: Ae },
                        { urlRegExp: new RegExp(ge), fnBBComponent: xe },
                      ]
                    : [
                        {
                          urlRegExp: new RegExp(/youtu.be|youtube.com/i),
                          fnBBComponent: Se,
                        },
                        {
                          urlRegExp: new RegExp(
                            /community.+sharedfiles\/filedetails\/\?id=\d+/i,
                          ),
                          fnBBComponent: De,
                        },
                        { urlRegExp: new RegExp(re), fnBBComponent: Ie },
                        { urlRegExp: new RegExp(ce), fnBBComponent: we },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(se), fnBBComponent: Ae },
                        { urlRegExp: new RegExp(me), fnBBComponent: fe },
                        { urlRegExp: new RegExp(pe), fnBBComponent: ye },
                        { urlRegExp: new RegExp(ue), fnBBComponent: ke },
                        { urlRegExp: new RegExp(_e), fnBBComponent: Ne },
                        { urlRegExp: new RegExp(he), fnBBComponent: Le },
                        { urlRegExp: new RegExp(ge), fnBBComponent: xe },
                        { urlRegExp: new RegExp(Ee), fnBBComponent: Ce },
                      ]),
                ve),
                {
                  partnerEventStore: this.props.partnerEventStore,
                  event: this.props.event,
                },
              ),
            ),
            e,
          );
        }
        static AddDictionary(e) {
          Zt.sm_BBCodeDictionary = new Map([
            ...Array.from(Zt.sm_BBCodeDictionary.entries()),
            ...Array.from(e.entries()),
          ]);
        }
        render() {
          return (
            this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),
            this.m_parser.ParseBBCode(this.props.text, {
              showErrorInfo: this.props.showErrorInfo,
              event: this.props.event,
              bShowShortSpeakerInfo: this.props.bShowShortSpeakerInfo,
            })
          );
        }
      }
      (Zt.sm_BBCodeDictionary = new Map([
        ...Array.from(r.Be.entries()),
        ...Array.from(
          (null == xt &&
            (xt = new Map([
              ["url", { Constructor: Gt, autocloses: !1 }],
              [
                "h1",
                {
                  Constructor: r.LW(r.R6, H.Header1),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h2",
                {
                  Constructor: r.LW(r.zV, H.Header2),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h3",
                {
                  Constructor: r.LW(r.BB, H.Header3),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "quote",
                { Constructor: r.LW(r.pu, H.BlockQuote), autocloses: !1 },
              ],
              [
                "list",
                {
                  Constructor: r.LW(r.aV, H.UnorderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "olist",
                {
                  Constructor: r.LW(r.GS, H.OrderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "*",
                { Constructor: r.HC, autocloses: !0, skipInternalNewline: !0 },
              ],
              ["img", { Constructor: Rt, autocloses: !1 }],
              ["previewyoutube", { Constructor: r.MJ, autocloses: !1 }],
              ["looping_media", { Constructor: r.jj, autocloses: !1 }],
              ["video", { Constructor: r.qy, autocloses: !1 }],
              ["youtubeorvideo", { Constructor: r.YC, autocloses: !1 }],
              ["trailer", { Constructor: Bt, autocloses: !0 }],
              ["vod", { Constructor: Mt, autocloses: !1 }],
              [
                "speaker",
                {
                  Constructor: Pt,
                  autocloses: !1,
                  skipInternalNewline: !0,
                  allowWrapTextForCopying: !0,
                },
              ],
              ["giveawayeligible", { Constructor: Ut, autocloses: !1 }],
              ["claimitem", { Constructor: jt, autocloses: !0 }],
              ["packagepurchaseable", { Constructor: Ht, autocloses: !1 }],
              ["actiondialog", { Constructor: zt, autocloses: !1 }],
              ["uploadfilebutton", { Constructor: Wt, autocloses: !0 }],
              ["docimg", { Constructor: Ot, autocloses: !1 }],
              ["carousel", { Constructor: it, autocloses: !1 }],
            ])),
          xt).entries(),
        ),
      ])),
        (0, a.gn)([h.ak], Zt.prototype, "ElementAccumulator", null);
    },
    97352: (e, t, n) => {
      "use strict";
      n.d(t, { C: () => X, m: () => H });
      var a = n(33940),
        i = n(88464),
        o = n(36105),
        l = n(89526),
        r = n(40442),
        s = n(40103),
        c = n(7569),
        d = n(68818),
        m = n(82079),
        p = n(61615),
        u = n(85651),
        _ = n(56368),
        h = n(59621),
        g = n(32765),
        E = n(52868),
        v = n.n(E);
      class S {
        constructor() {
          (this.m_bValidatedEmail = !1),
            (this.m_nMobileDeviceCount = 0),
            (this.m_bIsLoaded = !1),
            (this.m_bLoadedFromConfig = !1),
            (0, h.rC)(this);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, g.ip)("notificationstore", "application_config");
            this.ValidateStoreDefault(e) &&
              (0, h.z)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = e.email_validated),
                  (this.m_nMobileDeviceCount = e.mobile_device_count);
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          return (
            e &&
            "object" == typeof e &&
            "number" == typeof e.mobile_device_count
          );
        }
        BIsLoaded() {
          return this.m_bIsLoaded;
        }
        BHasValidatedEmail() {
          return this.m_bValidatedEmail;
        }
        BHasPushNotification() {
          return this.m_nMobileDeviceCount > 0;
        }
        HintLoad() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.LazyInit(),
              this.m_bIsLoaded
                ? 1
                : g.L7.logged_in
                ? (this.m_promise || (this.m_promise = this.InternalLoad()),
                  this.m_promise)
                : 1
            );
          });
        }
        InternalLoad() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = g.De.STORE_BASE_URL + "notification/ajaxusersettings",
              t = yield v().get(e, { withCredentials: !0 });
            return (
              1 == t.data.success &&
                (0, h.z)(() => {
                  (this.m_bIsLoaded = !0),
                    (this.m_bValidatedEmail = t.data.email_validated),
                    (this.m_nMobileDeviceCount = t.data.mobile_device_count);
                }),
              t.data.success
            );
          });
        }
      }
      (0, a.gn)([h.LO], S.prototype, "m_bValidatedEmail", void 0),
        (0, a.gn)([h.LO], S.prototype, "m_nMobileDeviceCount", void 0);
      let f = new S();
      var y = n(93765),
        D = n(22444),
        b = n(21904),
        I = n(67736),
        C = n(57742),
        A = n(701),
        T = n(69338),
        w = n(84343),
        k = n(23217),
        N = n(19304),
        L = n(14826),
        x = n(4306),
        G = n(25508),
        R = n(207),
        O = n(29054),
        B = n.n(O),
        M = n(20790),
        P = n(40465),
        F = n(17318),
        U = n(32905),
        j = n(20993);
      let H = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.m_elDropDownRef = l.createRef()),
            (this.m_bLoadWasCancelled = !1),
            (this.state = {
              bIsOpen: !1,
              bIsLoadingNotificationSettings: !f.BIsLoaded(),
            });
        }
        componentDidMount() {
          this.state.bIsLoadingNotificationSettings &&
            f
              .HintLoad()
              .catch(
                (e) => (
                  console.error(
                    "EventReminderWidget load fail: " + (0, k.l)(e).strErrorMsg,
                  ),
                  2
                ),
              )
              .then((e) => {
                1 != e ||
                  this.m_bLoadWasCancelled ||
                  this.setState({ bIsLoadingNotificationSettings: !1 });
              }),
            !this.props.eventModel.appid &&
              this.props.eventModel.clanSteamID &&
              m.sV.LoadClanInfoForClanSteamID(
                this.props.eventModel.clanSteamID,
              );
        }
        componentWillUnmount() {
          this.m_bLoadWasCancelled = !0;
        }
        ToggleMenu(e) {
          const t = _.cb.Get().BIsUserLoggedIn();
          t || g.De.IN_CLIENT
            ? (!t &&
                g.De.IN_CLIENT &&
                console.log(
                  "EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in.",
                ),
              this.state.bIsOpen ? this.HideMenu() : this.ShowMenu(),
              e.stopPropagation(),
              e.preventDefault())
            : (0, C.AM)(
                l.createElement(I.uH, {
                  strTitle: (0, L.Xx)("#EventDisplay_Share_NotLoggedIn"),
                  strDescription: (0, L.Xx)(
                    "#EventDisplay_Share_NotLoggedIn_Description",
                  ),
                  strOKButtonText: (0, L.Xx)("#MobileLogin_SignIn"),
                  onOK: () => (0, U.X)(),
                }),
                window,
              );
        }
        ShowMenu() {
          if (this.m_iMenuInstance) this.m_iMenuInstance.Show();
          else {
            let e = l.createElement(
                V,
                Object.assign({}, this.props, {
                  fnHasReminderSet: () => this.BHasSomeNotificationSetting(),
                  fnHidePanel: this.HideMenu,
                }),
              ),
              t = {
                bOverlapHorizontal: !0,
                bOverlapVertical: !0,
                bDisablePopTop: !0,
                bMatchWidth: !0,
                strClassName: (0, N.Z)(
                  P.ReminderDialog,
                  P.ReminderOptions,
                  y.contextMenu,
                ),
              };
            (this.m_iMenuInstance = (0, s.yV)(
              e,
              this.m_elDropDownRef.current,
              t,
            )),
              this.m_iMenuInstance.SetOnHideCallback(this.HideMenu);
          }
          this.setState({ bIsOpen: !0 }),
            p.Y.RecordAppInteractionEvent(
              this.props.eventModel.appid,
              p.g.k_eReminder_Opened,
            );
        }
        HideMenu() {
          this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
            this.setState({ bIsOpen: !1 });
        }
        BHasSomeNotificationSetting() {
          const { eventModel: e } = this.props,
            t = e.GID;
          return (
            (f.BHasValidatedEmail() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByEmail,
                )) ||
            (f.BHasPushNotification() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByPush,
                ))
          );
        }
        render() {
          const e = this.props.bOnlyShowIcon && !this.state.bIsOpen,
            t = this.BHasSomeNotificationSetting();
          return l.createElement(
            "div",
            {
              className: (0, N.Z)({
                [P.ReminderCheckBox]: !0,
                [B().ReminderCtn]: !0,
                [P.IconMode]: e,
                [P.TextMode]: !e,
                ReminderSet: t,
                RemindMeWidget: !0,
              }),
              onClick: this.ToggleMenu,
              ref: this.m_elDropDownRef,
            },
            t &&
              l.createElement(
                "div",
                { className: P.RemindCheck },
                l.createElement(A.JrY, null),
              ),
            e &&
              l.createElement(
                "div",
                { className: P.RemindBell },
                l.createElement(A.Uos, null),
              ),
            l.createElement(
              "div",
              { className: P.ReminderDefault },
              (0, L.Xx)("#EventDisplay_Reminder_SetReminder"),
            ),
            l.createElement("div", { className: P.ReminderOptions }),
          );
        }
      };
      function X(e) {
        const { bPreviewMode: t, eventGID: n } = e,
          i = (0, a._T)(e, ["bPreviewMode", "eventGID"]),
          o = (0, d.XC)(n);
        if (!o)
          return t
            ? l.createElement(
                "div",
                { className: j.ErrorDiv },
                (0, L.Xx)("#EventDidplay_Reminder_EventNotVisible", n),
              )
            : null;
        const s = (0, r.jM)(g.De.LANGUAGE);
        return l.createElement(
          H,
          Object.assign({ lang: s }, i, { eventModel: o }),
        );
      }
      function z(e) {
        return o.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]");
      }
      (0, a.gn)([x.ak], H.prototype, "ToggleMenu", null),
        (0, a.gn)([x.ak], H.prototype, "ShowMenu", null),
        (0, a.gn)([x.ak], H.prototype, "HideMenu", null),
        (H = (0, a.gn)([i.Pi], H));
      let V = class extends l.Component {
        constructor() {
          super(...arguments), (this.state = { bIsRequestInFlight: !1 });
        }
        OnChangeFollowOrIgnore(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const { eventModel: a } = this.props,
              i = null == a ? void 0 : a.GID;
            if (i && i != r.Z3) {
              this.setState({ bIsRequestInFlight: !0 });
              try {
                yield _.cb
                  .Get()
                  .SetFollowOrUnfollowEvent(!e, t, a.clanSteamID, i, n),
                  e &&
                    (n === _.rE.k_ENotifyFlagByEmail
                      ? this.TrackEventAction(p.g.k_eReminder_Email)
                      : n === _.rE.k_ENotifyFlagByPush &&
                        this.TrackEventAction(p.g.k_eReminder_MobilePush));
              } catch (e) {
                (0, C.BR)(
                  l.createElement(
                    I.JX,
                    {
                      strTitle: (0, L.Xx)(
                        t
                          ? "#EventDisplay_Reminder_IgnoreEvent_Error"
                          : "#EventDisplay_Reminder_FollowEvent_Error",
                      ),
                      strDescription: (0, L.Xx)(
                        t
                          ? "#EventDisplay_Reminder_IgnoreEvent_ErrorDesc"
                          : "#EventDisplay_Reminder_FollowEvent_ErrorDesc",
                      ),
                    },
                    (0, k.l)(e).strErrorMsg,
                  ),
                  window,
                );
              }
              this.setState({ bIsRequestInFlight: !1 });
            }
          });
        }
        OnChangeFollowByEmail(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByEmail);
        }
        OnChangeFollowByPush(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByPush);
        }
        GetExternalCalendarEventTitle() {
          const { eventModel: e, lang: t } = this.props,
            n = e.GetNameWithFallback(t);
          if (c.xM.BHasEntityNameForID(e.appid, e.clanSteamID.GetAccountID())) {
            return `${c.xM.GetEntityNameForID(
              e.appid,
              e.clanSteamID.GetAccountID(),
            )}: ${n}`;
          }
          return n;
        }
        TrackEventAction(e) {
          const { eventModel: t } = this.props;
          p.Y.RecordAppInteractionEvent(t.appid, e);
        }
        GetExternalCalendarEventBody() {
          const { eventModel: e, lang: t } = this.props;
          let n = e.GetSubTitleWithLanguageFallback(t);
          n = n ? `${n}\n\n\n` : "";
          const a = e.GetSummaryWithFallback(t),
            i = e.jsondata.bSaleEnabled
              ? M.Ue.k_eStoreSalePage
              : M.Ue.k_eStoreView;
          return `${n}${a}\n\n${(0, M.q)(e, i, "forceAbsolute")}`;
        }
        GetGoogleCalendarLink() {
          const { eventModel: e } = this.props,
            t = encodeURIComponent(this.GetExternalCalendarEventTitle()),
            n = encodeURIComponent(this.GetExternalCalendarEventBody()),
            a = e.GetStartTimeAndDateUnixSeconds(),
            i = z(a),
            o = z(e.GetEndTimeAndDateUnixSeconds() || a + G._H.PerHour),
            l =
              (g.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              `https://calendar.google.com/calendar/r/eventedit?text=${t}&details=${n}&dates=${i}/${o}`;
          return (0, R.OL)(l);
        }
        GetICSDownloadLink(e) {
          const { eventModel: t, lang: n } = this.props,
            a = t.appid
              ? "app/" + t.appid
              : "group/" + t.clanSteamID.GetAccountID(),
            i = "l=" + (0, r.j_)(n);
          return `${g.De.STORE_BASE_URL}${(0, M.x3)()}/download/${a}/${e}/${
            t.GID
          }?${i}`;
        }
        render() {
          const {
              eventModel: e,
              bShowStartTime: t,
              bExpandLeft: n,
              bOnlyShowIcon: a,
              fnHasReminderSet: i,
              fnHidePanel: o,
            } = this.props,
            r = f.BHasValidatedEmail(),
            s = f.BHasPushNotification(),
            c = t && e.GetStartTimeAndDateUnixSeconds();
          return l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              {
                className: (0, N.Z)(
                  P.ReminderCheckBox,
                  a ? P.IconMode : P.TextMode,
                  "RemindMeWidget",
                ),
                onClick: o,
              },
              i() &&
                l.createElement(
                  "div",
                  { className: P.RemindCheck },
                  l.createElement(A.JrY, null),
                ),
              a &&
                l.createElement(
                  "div",
                  { className: P.RemindBell },
                  l.createElement(A.Uos, null),
                ),
              l.createElement(
                "div",
                { className: P.ReminderDefault },
                (0, L.Xx)("#EventDisplay_Reminder_SetReminder"),
              ),
              l.createElement("div", { className: P.ReminderOpennedOptions }),
            ),
            l.createElement(
              "div",
              {
                className: (0, N.Z)(
                  P.FlexColumnContainer,
                  P.ReminderBackground,
                  n && P.ReminderExpandsLeft,
                ),
              },
              this.state.bIsRequestInFlight &&
                l.createElement(T.V, {
                  className: P.RpcThrobber,
                  size: "xlarge",
                  position: "center",
                }),
              c &&
                l.createElement(
                  "div",
                  { className: P.FullStartTime },
                  (0, L.kQ)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    (0, L.$1)(
                      c,
                      (0, G.U8)(
                        new Date(1e3 * c),
                        u.JW.GetTimeNowWithOverrideAsDate(),
                      ),
                    ),
                    (0, b.w$)(c, !0),
                  ),
                ),
              l.createElement(
                "div",
                { className: P.ReminderOptionsHeader },
                (0, L.Xx)("#EventDisplay_Reminder_GetNotification_Via"),
              ),
              l.createElement(
                "div",
                { className: (0, N.Z)(P.ReminderOption, !r && P.Unverified) },
                l.createElement(
                  w.HP,
                  {
                    className: P.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, L.Xx)(
                      r
                        ? "#EventReminder_NotifyByEmail_ttip"
                        : "#EventReminder_NotifyByEmail_Missing",
                    ),
                  },
                  l.createElement(D.ji, {
                    label: (0, L.Xx)("#EventDisplay_Reminder_ViaEmail"),
                    disabled: !r,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByEmail,
                      ),
                    onChange: this.OnChangeFollowByEmail,
                  }),
                ),
                !r &&
                  l.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    l.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "account/",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            p.g.k_eReminder_EmailUnverified,
                          ),
                      },
                      (0, L.Xx)("#EventReminder_NotifyByEmail_Missing_Add"),
                    ),
                  ),
              ),
              l.createElement(
                "div",
                { className: (0, N.Z)(P.ReminderOption, !s && P.Unverified) },
                l.createElement(
                  w.HP,
                  {
                    className: P.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, L.Xx)(
                      s
                        ? "#EventReminder_NotifyByMobile_ttip"
                        : "#EventReminder_NotifyByMobile_Missing",
                    ),
                  },
                  l.createElement(D.ji, {
                    label: (0, L.Xx)("#EventDisplay_Reminder_ViaMobileApp"),
                    disabled: !s,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByPush,
                      ),
                    onChange: this.OnChangeFollowByPush,
                  }),
                ),
                !s &&
                  l.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    l.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "mobile/?show=steamapp",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            p.g.k_eReminder_MobilePushMissing,
                          ),
                      },
                      (0, L.Xx)("#EventReminder_NotifyByMobile_Install"),
                    ),
                  ),
              ),
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: P.ReminderOptionsHeader },
                  (0, L.Xx)("#EventDisplay_Reminder_AddToCalendar"),
                ),
                l.createElement(
                  "div",
                  { className: P.ReminderCalendarOptions },
                  l.createElement(
                    "a",
                    {
                      className: P.ReminderOption,
                      href: this.GetICSDownloadLink("ics"),
                      onClick: () =>
                        this.TrackEventAction(p.g.k_eReminder_CalendarApple),
                    },
                    (0, L.Xx)("#EventDisplay_Reminder_AppleCalendar_Short"),
                  ),
                  l.createElement(
                    "a",
                    {
                      className: P.ReminderOption,
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                      href: this.GetGoogleCalendarLink(),
                      onClick: () =>
                        this.TrackEventAction(p.g.k_eReminder_CalendarGoogle),
                    },
                    (0, L.Xx)("#EventDisplay_Reminder_GoogleCalendar_Short"),
                  ),
                  l.createElement(
                    "a",
                    {
                      className: P.ReminderOption,
                      href: this.GetICSDownloadLink("outlook"),
                      onClick: () =>
                        this.TrackEventAction(p.g.k_eReminder_CalendarOutlook),
                    },
                    (0, L.Xx)("#EventDisplay_Reminder_OutlookCalendar_Short"),
                  ),
                ),
              ),
              !1,
            ),
          );
        }
      };
      (0, a.gn)([x.ak], V.prototype, "OnChangeFollowByEmail", null),
        (0, a.gn)([x.ak], V.prototype, "OnChangeFollowByPush", null),
        (0, a.gn)([x.ak], V.prototype, "TrackEventAction", null),
        (V = (0, a.gn)([i.Pi], V));
    },
    5386: (e, t, n) => {
      "use strict";
      n.d(t, { Pi: () => v, ko: () => S, uW: () => E });
      var a = n(33940),
        i = n(88464),
        o = n(83315),
        l = n(89526),
        r = n(40442),
        s = n(2232),
        c = n(7948),
        d = n(17318),
        m = n.n(d),
        p = n(19304),
        u = n(14826),
        _ = n(72120),
        h = n(4306),
        g = n(84343);
      let E = class extends l.Component {
        GenerateLanguageOptions() {
          let e = [];
          const {
            fnFilterLanguage: t,
            fnLangHasData: n,
            fnLastUpdateRTime: a,
            fnIsLangSupported: i,
          } = this.props;
          this.props.bAllowUnsetOption &&
            e.push(
              l.createElement(
                "option",
                { key: "langpicker_unset", value: -1 },
                (0, u.Xx)("#language_selection_none"),
              ),
            );
          let o = new Array();
          const c = this.props.realms || [s.IN.k_ESteamRealmGlobal];
          for (const e of u.LJ.GetLanguageListForRealms(c)) {
            if (t && !t(e)) continue;
            const n = (0, r.j_)(e),
              a = (0, u.Xx)("#Language_" + n),
              l = Boolean(i) && i(e);
            o.push({ eLang: e, sLocName: a, bSupported: l });
          }
          o.sort((e, t) =>
            e.bSupported != t.bSupported
              ? e.bSupported
                ? -1
                : 1
              : e.sLocName.localeCompare(t.sLocName),
          );
          let d = !1;
          for (const t of o) {
            t.bSupported != d &&
              (e.push(
                l.createElement(
                  "option",
                  {
                    key: t.bSupported ? "SupportedGroup" : "UnsupportedGroup",
                    className: m().SupportedGroupLabel,
                    disabled: !0,
                  },
                  (0, u.Xx)(
                    t.bSupported
                      ? "#LanguageGroup_Supported"
                      : "#LanguageGroup_Unsupported",
                  ),
                ),
              ),
              (d = t.bSupported));
            const i = n && n(t.eLang),
              o = a && a(t.eLang);
            let r = t.sLocName;
            o &&
              0 !== o &&
              ((r += " "),
              (r += (0, u.Xx)(
                "#Language_Last_Update",
                (0, u.vX)(o) + " @ " + (0, _.Sc)(o, { bForce24HourClock: !1 }),
              ))),
              e.push(
                l.createElement(
                  "option",
                  {
                    key: "langpicker" + t.eLang + (i ? "_hasdata" : ""),
                    value: t.eLang,
                    className: (0, p.Z)(
                      { [m().LanguageWithContent]: i },
                      t.bSupported
                        ? m().SupportedLanguage
                        : m().UnsupportedLanguage,
                    ),
                  },
                  r,
                ),
              );
          }
          return e;
        }
        OnLanguageChange(e) {
          const { fnOnLanguageChanged: t, selectedLang: n } = this.props;
          let a = Number.parseInt(e.currentTarget.value);
          a != n && t && t(a);
        }
        render() {
          const { selectedLang: e, bDisabled: t, strTooltip: n } = this.props;
          let a = this.GenerateLanguageOptions();
          return l.createElement(
            g.HP,
            { toolTipContent: n },
            l.createElement(
              "select",
              { value: e, onChange: this.OnLanguageChange, disabled: t },
              a,
            ),
          );
        }
      };
      function v(e) {
        const [t, n] = (0, o.SZ)(() => [
          c.U.Get().GetHasLocalizationContext(),
          c.U.Get().GetCurEditLanguage(),
        ]);
        return l.createElement(E, {
          selectedLang: n,
          fnLangHasData: c.U.Get().BHasLanguageData,
          fnOnLanguageChanged: c.U.Get().SetCurEditLanguage,
          bDisabled: !t,
          strTooltip: t ? void 0 : (0, u.Xx)("#Localization_EditorNotInFocus"),
        });
      }
      function S(e) {
        const { fnLangHasData: t } = e;
        l.useEffect(
          () => (
            c.U.Get().SetHasLocalizationContext(!0),
            () => c.U.Get().SetHasLocalizationContext(!1)
          ),
          [],
        );
        const n = (0, o.SZ)(() => {
          const e = [];
          for (let n = 0; n < 31; ++n) e[n] = t(n);
          return e;
        });
        return (
          l.useEffect(() => c.U.Get().SetHasLanguage(n), [n]),
          l.createElement(l.Fragment, null)
        );
      }
      (0, a.gn)([h.ak], E.prototype, "OnLanguageChange", null),
        (E = (0, a.gn)([i.Pi], E));
    },
    77865: (e, t, n) => {
      "use strict";
      n.d(t, { qs: () => v, pj: () => S, G$: () => f });
      var a = n(33940),
        i = n(88464),
        o = n(89526),
        l = n(14288),
        r = n(40442),
        s = n(894),
        c = n(69206),
        d = (n(84343), n(4306)),
        m = n(32765),
        p = n(24174),
        u = n(4116);
      function _(e) {
        return new u.So(new u.LT(), 0);
      }
      function h(e) {
        const { text: t, languageOverride: n } = e,
          [a] = (0, o.useState)(
            new p.Z6(new Map([...Array.from(l.Be.entries())]), _, n),
          );
        return o.createElement(o.Fragment, null, a.ParseBBCode(t, {}));
      }
      var g = n(25899),
        E = n.n(g);
      const v = (0, i.Pi)((e) => {
        const t = e.photo ? (0, l.vZ)(e.photo, (0, r.jM)(m.De.LANGUAGE)) : null,
          n = e.photo ? ("string" == typeof t ? t : t[1]) : null,
          a = Boolean(e.title),
          i = Boolean(e.company);
        return o.createElement(
          "div",
          { className: E().SpeakerPopup, onMouseLeave: e.fnClose },
          o.createElement(
            "div",
            { className: E().SpeakerInfoOuter },
            e.photo && o.createElement("img", { src: n }),
            o.createElement(
              "div",
              { className: E().SpeakerInfoInner },
              o.createElement("div", null, e.name),
              (a || i) &&
                o.createElement(
                  "div",
                  null,
                  a &&
                    o.createElement(
                      "span",
                      { className: E().SpeakerTitle },
                      e.title,
                    ),
                  a && i && o.createElement("span", null, ", "),
                  i && o.createElement("span", null, e.company),
                ),
            ),
          ),
          e.bio &&
            o.createElement(
              "div",
              { className: E().SpeakerBio },
              e.bio,
              e.bioString && o.createElement(h, { text: e.bioString }),
            ),
        );
      });
      class S extends o.Component {
        constructor() {
          super(...arguments), (this.m_refAnchor = o.createRef());
        }
        ClosePopup() {
          this.m_fnHidePopup &&
            (this.m_fnHidePopup(),
            (this.m_fnHidePopup = null),
            window.removeEventListener("scroll", this.OnScroll));
        }
        componentWillUnmount() {
          this.ClosePopup();
        }
        OnScroll() {
          Math.abs(window.scrollY - this.m_nScrollPosAtHoverStart) > 50 &&
            this.ClosePopup();
        }
        OnHover(e) {
          const t = this.m_refAnchor.current;
          if (!t) return;
          const n = {
              direction: "right",
              bEnablePointerEvents: !0,
              style: { maxWidth: 640, minHeight: t.clientHeight },
              target: t,
            },
            a = "presenter-hover-" + Math.floor(1e8 * Math.random());
          (this.m_fnHidePopup = () =>
            S.sm_embeddedElements.HideElement(t.ownerDocument, a)),
            window.addEventListener("scroll", this.OnScroll),
            (this.m_nScrollPosAtHoverStart = window.scrollY);
          S.sm_embeddedElements.ShowElementDelayed(
            t.ownerDocument,
            150,
            o.createElement(
              c.T,
              Object.assign({}, n),
              o.createElement(
                v,
                Object.assign({}, this.props, { fnClose: this.OnLeave }),
              ),
            ),
            a,
          );
        }
        OnLeave(e) {
          this.ClosePopup();
        }
        render() {
          return o.createElement(
            "div",
            {
              className: E().SpeakerHover,
              ref: this.m_refAnchor,
              onMouseEnter: this.OnHover,
              onFocus: this.OnHover,
              onMouseLeave: this.OnLeave,
              onBlur: this.OnLeave,
            },
            this.props.children,
          );
        }
      }
      (S.sm_embeddedElements = new s.AN("presenter-hover-source-elements")),
        (0, a.gn)([d.ak], S.prototype, "ClosePopup", null),
        (0, a.gn)([d.ak], S.prototype, "OnScroll", null),
        (0, a.gn)([d.ak], S.prototype, "OnHover", null),
        (0, a.gn)([d.ak], S.prototype, "OnLeave", null);
      class f extends o.Component {
        render() {
          const e = this.props.photo
              ? (0, l.vZ)(this.props.photo, (0, r.jM)(m.De.LANGUAGE))
              : null,
            t =
              this.props.photo && !this.props.hidePhotoInCompactView
                ? "string" == typeof e
                  ? e
                  : e[1]
                : null,
            n = Boolean(this.props.title),
            a = Boolean(this.props.company);
          return o.createElement(
            "div",
            { className: E().SpeakerOuter },
            o.createElement(
              S,
              Object.assign({}, this.props),
              o.createElement(
                "div",
                { className: E().Speaker },
                o.createElement(
                  "div",
                  { className: E().SpeakerInfoOuter },
                  !!t && o.createElement("img", { src: t }),
                  o.createElement(
                    "div",
                    { className: E().SpeakerInfoInner },
                    o.createElement("div", null, this.props.name),
                    (n || a) &&
                      o.createElement(
                        "div",
                        null,
                        n &&
                          o.createElement(
                            "span",
                            { className: E().SpeakerTitle },
                            this.props.title,
                          ),
                        n && a && o.createElement("span", null, ", "),
                        a && o.createElement("span", null, this.props.company),
                      ),
                  ),
                ),
              ),
            ),
          );
        }
      }
    },
    55330: (e, t, n) => {
      "use strict";
      n.d(t, { i: () => p });
      var a = n(89526),
        i = n(40442),
        o = n(68818),
        l = n(13345),
        r = n(19304),
        s = n(14826),
        c = n(207),
        d = n(32765),
        m = n(72775);
      function p(e) {
        const { gidEvent: t } = e,
          n = (0, o.XC)(t),
          [p, u] = (0, a.useMemo)(() => {
            var e, t, a, o;
            if (
              (null ===
                (t =
                  null === (e = null == n ? void 0 : n.jsondata) || void 0 === e
                    ? void 0
                    : e.localized_sale_product_banner) || void 0 === t
                ? void 0
                : t.length) > 0 &&
              (null ===
                (o =
                  null === (a = null == n ? void 0 : n.jsondata) || void 0 === a
                    ? void 0
                    : a.localized_sale_product_mobile_banner) || void 0 === o
                ? void 0
                : o.length) > 0
            ) {
              const e = (0, i.jM)(d.De.LANGUAGE),
                t = s.LZ.GetWithFallback(
                  n.jsondata.localized_sale_product_banner,
                  e,
                ),
                a = s.LZ.GetWithFallback(
                  n.jsondata.localized_sale_product_mobile_banner,
                  e,
                );
              if (
                (null == t ? void 0 : t.length) > 0 &&
                (null == a ? void 0 : a.length) > 0
              ) {
                const e = n.clanSteamID.GetAccountID();
                return [`${(0, l.OL)()}${e}/${t}`, `${(0, l.OL)()}${e}/${a}`];
              }
            }
            return [null, null];
          }, [n]);
        return (null == p ? void 0 : p.length) > 0 &&
          (null == u ? void 0 : u.length) > 0
          ? a.createElement(
              "a",
              { href: (0, c.OL)(n.GetSaleURL()), className: m.Link },
              a.createElement("img", {
                src: p,
                className: (0, r.Z)(m.Banner, m.Big),
              }),
              a.createElement("img", {
                src: u,
                className: (0, r.Z)(m.Banner, m.Mobile),
              }),
            )
          : null;
      }
    },
    41200: (e, t, n) => {
      "use strict";
      n.d(t, { Gp: () => y, Q0: () => D, ko: () => b });
      var a = n(33940),
        i = n(54905),
        o = n.n(i),
        l = n(89526),
        r = n(40442),
        s = n(2232),
        c = n(97334),
        d = n(22444),
        m = n(17318),
        p = n(67736),
        u = n(57742),
        _ = n(69338),
        h = n(23217),
        g = n(19304),
        E = n(14826),
        v = n(11170),
        S = n(84343),
        f = n(5303);
      const y = (e) => {
          const t = (t, n) => {
            t.preventDefault();
            const {
                fnGetLocData: a,
                closeModal: i,
                strFileNamePrefix: o,
                lang: l,
              } = e,
              s = a(),
              c = new v.i();
            let d = o ? o + "_localization" : "localization";
            switch (n) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(s, d + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(s, d + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  s,
                  d + ".csv",
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  s,
                  l,
                  d + "_" + (0, r.eV)((0, r.j_)(l)) + ".xml",
                );
            }
            i && i();
          };
          return l.createElement(
            l.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  d.KM,
                  { onClick: (e) => t(e, "csv_row") },
                  (0, E.Xx)("#Localization_Export_Btn_RowLanguages"),
                ),
                l.createElement(
                  d.KM,
                  { onClick: (e) => t(e, "csv_column") },
                  (0, E.Xx)("#Localization_Export_Btn_ColumnLanguages"),
                ),
                l.createElement(
                  d.KM,
                  { onClick: (e) => t(e, "csv_token") },
                  (0, E.Xx)("#Localization_Export_Btn_TokenLanguages"),
                ),
              ),
            Boolean(e.bShowXML) &&
              l.createElement(
                d.KM,
                { onClick: (e) => t(e, "xml") },
                (0, E.Xx)("#Localization_Export_Btn_XML"),
              ),
          );
        },
        D = (e) => {
          const [t, n] = (0, l.useState)(!1),
            i = (e, t) => {
              n(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e,
                ),
                (0, u.AM)(
                  l.createElement(
                    p.JX,
                    null,
                    l.createElement(
                      "div",
                      null,
                      l.createElement(
                        "p",
                        null,
                        (0, E.Xx)("#Localization_Error_Input"),
                      ),
                      l.createElement("p", null, e.message),
                    ),
                  ),
                  window,
                );
            },
            d = (e) => {
              n(!1);
              let t = "";
              e.forEach((e) => {
                t.length > 0 && (t += ", "),
                  (t += (0, E.Xx)("#Language_" + (0, r.j_)(e)));
              }),
                (0, u.AM)(
                  l.createElement(
                    p.uH,
                    {
                      strTitle: (0, E.Xx)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    l.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? (0, E.Xx)(
                            "#Localization_Success_ImportComplete_NoChange",
                          )
                        : (0, E.Xx)("#Localization_Success_ImportComplete", t),
                    ),
                  ),
                  window,
                );
            },
            y = (t) =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                let a = t.target.files;
                if (a && a.length > 0) {
                  n(!0);
                  let t = new Array(),
                    l = new v.i();
                  for (let n = 0; n < a.length; ++n)
                    if (a[n]) {
                      if (a[n].name.toLocaleLowerCase().endsWith(".csv"))
                        return void o().parse(a[0], {
                          header: !0,
                          complete: (t) => {
                            let n = new v.i().DetectAndFormatCSV(t);
                            if (!n)
                              return void i({
                                code: "",
                                message: "",
                                row: 0,
                                type: "filenameerror",
                              });
                            const a = E.LJ.GetLanguageListForRealms([
                                s.IN.k_ESteamRealmGlobal,
                              ]),
                              o = e.fnOnImportLocData(n, a);
                            d(o);
                          },
                          error: i,
                        });
                      if (a[n].name.toLocaleLowerCase().endsWith(".xml")) {
                        let o = (0, c.Z)(a[n].name, -1);
                        if (null == o || -1 == o)
                          return void i({
                            code: "",
                            message: (0, E.Xx)(
                              "#Localization_Error_FileLangauage",
                              a[n].name,
                            ),
                            row: 0,
                            type: "filenameerror",
                          });
                        try {
                          const i =
                            yield l.ReadLocalizationData_XML_SingleLanguage(
                              a[n],
                              o,
                            );
                          e.fnOnImportLocData(i, [o]).map((e) => {
                            -1 == t.indexOf(e) && t.push(e);
                          });
                        } catch (e) {
                          let t = (0, h.l)(e);
                          return void i({
                            code: "",
                            message: (0, E.Xx)(
                              "#Localization_Error_XMLParseError",
                              t.strErrorMsg,
                            ),
                            row: 0,
                            type: "parseerror",
                          });
                        }
                      } else
                        i({
                          code: "",
                          message: (0, E.Xx)(
                            "#Localization_Error_FileExtention",
                            a[n].name,
                          ),
                          row: 0,
                          type: "filenameerror",
                        });
                    }
                  d(t);
                }
              });
          return l.createElement(
            S.HP,
            {
              className: (0, g.Z)(
                e.className ? e.className : m.EditPreviewButton,
              ),
              toolTipContent: e.strToolTip,
            },
            l.createElement(
              "label",
              { className: f.ImportButton, htmlFor: "importlocalization" },
              t && l.createElement(_.V, { size: "small" }),
              l.createElement(
                "div",
                { className: f.Label },
                (0, E.Xx)(e.strLabel ? e.strLabel : "#Localization_Import_Btn"),
              ),
              l.createElement("input", {
                id: "importlocalization",
                className: f.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: y,
                onChange: y,
                multiple: !0,
              }),
            ),
          );
        },
        b = (e) => {
          const {
              fnOnImportLocData: t,
              closeModal: n,
              sampleLocData: a,
              sampleFilename: i,
            } = e,
            o = new v.i();
          return l.createElement(
            p.RG,
            { onCancel: n, closeModal: n },
            l.createElement(d.h4, null, (0, E.Xx)("#ImportLoc_Title")),
            l.createElement(
              d.uT,
              null,
              l.createElement("div", null, (0, E.Xx)("#ImportLoc_Description")),
              l.createElement(
                "div",
                { className: f.ImportLocSampleButtonCtn },
                l.createElement(
                  "div",
                  { className: f.SampleTitle },
                  (0, E.Xx)("#ImportLoc_SampleTitle"),
                ),
                l.createElement(
                  d.zx,
                  {
                    onClick: () =>
                      o.WriteLocalizationData_CSV_LanguageRows(
                        a,
                        i + "_row.csv",
                      ),
                  },
                  (0, E.Xx)("#ImportLoc_CSVLangPerRow"),
                ),
                l.createElement(
                  d.zx,
                  {
                    onClick: () =>
                      o.WriteLocalizationData_CSV_LanguageColumns(
                        a,
                        i + "_col.csv",
                      ),
                  },
                  (0, E.Xx)("#ImportLoc_CSVLangPerCol"),
                ),
                l.createElement(
                  d.zx,
                  {
                    onClick: () =>
                      o.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                        a,
                        i + "_token.csv",
                      ),
                  },
                  (0, E.Xx)("#ImportLoc_CSVTokenLang"),
                ),
                l.createElement(
                  d.zx,
                  {
                    onClick: () =>
                      o.WriteLocalizationData_XML_SingleLanguage(
                        a,
                        0,
                        i + "xml",
                      ),
                  },
                  (0, E.Xx)("#ImportLoc_XML"),
                ),
              ),
            ),
            l.createElement(
              d.$_,
              null,
              l.createElement(D, {
                strLabel: (0, E.Xx)("#BuildNotes_ImportLocalization"),
                fnOnImportLocData: (e, a) => {
                  const i = t(e, a);
                  return n(), i;
                },
              }),
            ),
          );
        };
    },
    87178: (e, t, n) => {
      "use strict";
      n.d(t, { j: () => l });
      var a = n(33940),
        i = n(89526),
        o = n(4306);
      class l extends i.Component {
        constructor(e) {
          super(e),
            (this.m_refImage = i.createRef()),
            (this.state = { nImage: 0 });
        }
        componentDidUpdate(e) {
          JSON.stringify(this.props.rgSources) != JSON.stringify(e.rgSources) &&
            this.setState({ nImage: 0 });
        }
        get src() {
          let e = "";
          return (
            this.props.rgSources &&
              this.props.rgSources.length > this.state.nImage &&
              (e = this.props.rgSources[this.state.nImage]),
            e ||
              (console.warn(
                "MultiSourceImage created with no image src",
                this.props,
                this.state.nImage,
              ),
              (e =
                "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")),
            e
          );
        }
        get imgRef() {
          return this.m_refImage;
        }
        OnImageError(e) {
          this.props.onIncrementalError &&
            this.props.onIncrementalError(
              e,
              this.props.rgSources[this.state.nImage],
              this.state.nImage,
            );
          let t = this.state.nImage + 1;
          t >= this.props.rgSources.length &&
            this.props.onError &&
            this.props.onError(e),
            t < this.props.rgSources.length && this.setState({ nImage: t });
        }
        render() {
          const e = this.props,
            { src: t, rgSources: n, onIncrementalError: o, onError: l } = e,
            r = (0, a._T)(e, [
              "src",
              "rgSources",
              "onIncrementalError",
              "onError",
            ]),
            s = this.src;
          return i.createElement(
            "img",
            Object.assign({ src: s, ref: this.m_refImage }, r, {
              onError: this.OnImageError,
            }),
          );
        }
      }
      (0, a.gn)([o.ak], l.prototype, "OnImageError", null);
    },
    11170: (e, t, n) => {
      "use strict";
      n.d(t, { C: () => c, i: () => d });
      var a = n(33940),
        i = n(40442),
        o = n(2232),
        l = n(11837),
        r = n(15254),
        s = n(14826);
      class c {
        constructor() {
          this.m_mapTokens = new Map();
        }
        GetLocalization(e, t) {
          const n = this.m_mapTokens.get(e);
          if (n && n[t]) return n[t];
        }
        SetLocalization(e, t, n) {
          let a = this.m_mapTokens.get(e);
          a || ((a = (0, l.LG)([], 31, null)), this.m_mapTokens.set(e, a)),
            (a[t] = n);
        }
        GetSortedTokenList() {
          let e = [];
          return (
            this.m_mapTokens.forEach((t, n) => e.push(n)),
            e.sort((e, t) => e.localeCompare(t)),
            e
          );
        }
        GetLanguagesWithTokens() {
          let e = new Map();
          this.m_mapTokens.forEach((t) => {
            for (let n = 0; n < t.length; ++n)
              !e.has(n) &&
                null !== t[n] &&
                void 0 !== t[n] &&
                t[n].trim().length > 0 &&
                e.set(n, !0);
          });
          let t = new Array();
          return (
            e.forEach((e, n) => {
              e && t.push(n);
            }),
            t
          );
        }
        ClearLanguagesTokens(e) {
          e.forEach((e) => {
            this.m_mapTokens.forEach((t, n) => {
              e < t.length && null !== t[e] && (t[e] = null);
            });
          });
        }
        DebugPrintData() {
          const e = new Array();
          return (
            this.m_mapTokens.forEach((t, n) => e.push(`${n}=${t.join(",")}`)),
            e.join("\n")
          );
        }
      }
      class d {
        DetectAndFormatCSV(e) {
          var t, n, a, o, l, r;
          let s = null;
          return (
            (null ===
              (n =
                null === (t = null == e ? void 0 : e.meta) || void 0 === t
                  ? void 0
                  : t.fields) || void 0 === n
              ? void 0
              : n.length) >= 3 &&
            "field" === e.meta.fields[0] &&
            "language" === e.meta.fields[1] &&
            "value" === e.meta.fields[2]
              ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
              : (null ===
                  (o =
                    null === (a = null == e ? void 0 : e.meta) || void 0 === a
                      ? void 0
                      : a.fields) || void 0 === o
                  ? void 0
                  : o.length) >= 2 &&
                "field" === e.meta.fields[0] &&
                -1 != (0, i.jM)(e.meta.fields[1], -1)
              ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
              : (null ===
                  (r =
                    null === (l = null == e ? void 0 : e.meta) || void 0 === l
                      ? void 0
                      : l.fields) || void 0 === r
                  ? void 0
                  : r.length) >= 2 &&
                "language" === e.meta.fields[0] &&
                (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
            s
          );
        }
        ReadLocalizationData_XML_SingleLanguage(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new c(),
              a = new DOMParser(),
              i = yield r.K.ReadFile(e),
              o = a.parseFromString(i.toString(), "application/xml");
            for (let e = 0; e < o.documentElement.children.length; ++e) {
              const a = o.documentElement.children.item(e),
                i = a.getAttribute("id").toLocaleLowerCase(),
                l = a.textContent;
              n.SetLocalization(i, t, l);
            }
            return n;
          });
        }
        ReadLocalizationData_CSV_TokenLanguageList(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = e.field,
                a = (0, i.jM)(e.language);
              t.SetLocalization(n, a, e.value);
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageColumns(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = e.field;
              for (let a = 0; a < 31; ++a) {
                const o = (0, i.eV)((0, i.j_)(a));
                t.SetLocalization(n, a, e[o]);
              }
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageRows(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = (0, i.jM)(e.language, 31);
              if (31 !== n)
                for (const [a, i] of Object.entries(e))
                  "language" !== a &&
                    "string" == typeof i &&
                    t.SetLocalization(a, n, i);
            }),
            t
          );
        }
        GetExportLanguages() {
          return s.LJ.GetLanguageListForRealms([o.IN.k_ESteamRealmGlobal]);
        }
        WriteLocalizationData_CSV_TokenAndLanguageColumns(e, t) {
          let n = new Array();
          e.GetSortedTokenList().forEach((t) => {
            for (const a of this.GetExportLanguages()) {
              let o = { field: t };
              (o.language = (0, i.eV)((0, i.j_)(a))),
                (o.value = e.GetLocalization(t, a)),
                n.push(o);
            }
          }),
            r.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_CSV_LanguageColumns(e, t) {
          let n = new Array();
          e.GetSortedTokenList().forEach((t) => {
            let a = { field: t };
            for (const n of this.GetExportLanguages())
              a[(0, i.eV)((0, i.j_)(n))] = e.GetLocalization(t, n);
            n.push(a);
          }),
            r.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_CSV_LanguageRows(e, t) {
          let n = new Array();
          for (const e of this.GetExportLanguages())
            n.push({ language: (0, i.eV)((0, i.j_)(e)) });
          e.GetSortedTokenList().forEach((t) => {
            for (const a of this.GetExportLanguages())
              n[a][t] = e.GetLocalization(t, a);
          }),
            r.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_XML_SingleLanguage(e, t, n) {
          let a = document.implementation.createDocument(null, "content", null);
          e.GetSortedTokenList().forEach((n) => {
            let i = a.createElement("string");
            i.setAttribute("id", n),
              i.appendChild(a.createTextNode(e.GetLocalization(n, t) || "")),
              a.documentElement.append(i);
          }),
            r.K.WriteXMLToFile(a, n);
        }
      }
    },
    71288: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => xt });
      var a = n(33940),
        i = n(52868),
        o = n.n(i),
        l = n(89526),
        r = n(40442),
        s = n(2232),
        c = n(84770),
        d = n(47165),
        m = n(52316),
        p = n(42254),
        u = n(22444),
        _ = n(17547),
        h = n(88464),
        g = n(32765),
        E = n(13141);
      class v extends E.cA {
        DeleteOldAnnouncement(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new URLSearchParams();
            n.append("sessionid", g.De.SESSIONID);
            let a =
                g.De.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/announcements/ajaxdeleteannouncement/" +
                t,
              i = yield o().post(a, n);
            if (1 != i.data.success) throw i.data;
            return this.RemoveGIDFromList(e, c.Vv + t), i.data;
          });
        }
        static Get() {
          return (
            v.sm_Instance || ((v.sm_Instance = new v()), v.sm_Instance.Init()),
            v.sm_Instance
          );
        }
      }
      var S = n(59621),
        f = n(74802),
        y = n(51438),
        D = n(48616),
        b = n(82079),
        I = n(85651),
        C = n(56368),
        A = n(69159),
        T = n(54671),
        w = n(92616),
        k = n(701),
        N = n(58218),
        L = n(19304),
        x = n(14826),
        G = n(207),
        R = n(57489),
        O = n.n(R),
        B = n(20790),
        M = n(3896),
        P = n(51441),
        F = n(98389);
      const U = (0, h.Pi)((e) => {
        const { appId: t, clanId: n } = e,
          {
            strCapsuleUrl: a,
            strGroupTitle: i,
            id: o,
            strStoreURL: r,
            strCommunityURL: s,
            strForumURL: m,
            strExtraBannerGroupStyle: p,
          } = (function (e, t) {
            var n;
            const [a, i] = (0, l.useState)({}),
              o = (0, N.T)("useEventHeaderData");
            return (
              (0, l.useEffect)(() => {
                if (e)
                  w.Z.Get()
                    .QueueAppRequest(e, {
                      include_assets: !0,
                      include_screenshots: !0,
                    })
                    .then(() => {
                      var t;
                      const n = w.Z.Get().GetApp(e);
                      n &&
                        !(null === (t = null == o ? void 0 : o.token) ||
                        void 0 === t
                          ? void 0
                          : t.reason) &&
                        i({
                          strCapsuleUrl: n.GetAssets().GetHeaderURL(),
                          strGroupTitle: n.GetName(),
                          id: e,
                          strStoreURL: n.GetStorePageURL(),
                          strCommunityURL: n.GetCommunityPageURL(),
                          strForumURL: n.GetCommunityDiscussionForumsURL(),
                        });
                    });
                else if (t) {
                  const e = d.K.InitFromClanID(t);
                  b.sV.LoadClanInfoForClanSteamID(e).then((n) => {
                    var a;
                    (null === (a = null == o ? void 0 : o.token) || void 0 === a
                      ? void 0
                      : a.reason) ||
                      i({
                        strCapsuleUrl: n.avatar_full_url,
                        strGroupTitle: n.group_name,
                        id: t,
                        strStoreURL: g.De.STORE_BASE_URL + "curator/" + t + "/",
                        strCommunityURL:
                          g.De.COMMUNITY_BASE_URL +
                          "gid/" +
                          e.ConvertTo64BitString(),
                        strExtraBannerGroupStyle: O().ClanBanner,
                      });
                  });
                }
              }, [
                e,
                null === (n = null == o ? void 0 : o.token) || void 0 === n
                  ? void 0
                  : n.reason,
                t,
              ]),
              a
            );
          })(t, n),
          u = g.De.IN_CLIENT && T.jg.Get().BOwnsApp(t);
        let _ = Boolean(t !== c.dn);
        const h = C.cb.Get().GetPartnerEventPermissions(d.K.InitFromClanID(n)),
          E = h && (h.can_edit || h.support_user),
          v = (0, g.h4)(),
          S =
            g.De.STORE_BASE_URL +
            "feeds/" +
            (0, B.x3)() +
            (t ? "/app/" + t : "/group/" + n) +
            "/?cc=" +
            g.De.COUNTRY +
            "&l=" +
            g.De.LANGUAGE,
          f = l.createElement("img", { className: O().AppBannerLogo, src: a });
        return l.createElement(
          "div",
          { className: O().AppBannerCtn },
          l.createElement("div", {
            className: O().AppBannerBackground,
            style: { backgroundImage: `url(${a})` },
          }),
          l.createElement(
            "div",
            { className: (0, L.Z)(O().AppBannerGroup, p) },
            _
              ? Boolean((0, P.Hu)() && t)
                ? l.createElement(
                    P.ll,
                    {
                      item: { id: t, type: "game" },
                      className: O().AppBannerLogoCtn,
                      hoverProps: {
                        direction: "overlay",
                        style: { minWidth: "320px" },
                      },
                    },
                    f,
                  )
                : l.createElement(
                    F._,
                    {
                      type: e.appId ? "app" : "clan",
                      id: o,
                      hoverClassName: O().AppBannerLogoCtn,
                    },
                    f,
                  )
              : l.createElement(
                  "div",
                  { className: O().AppBannerLogoCtn },
                  f,
                  " ",
                ),
            l.createElement(
              "div",
              { className: O().AppBannerTitle },
              i,
              l.createElement(
                "div",
                { className: O().NewsHubSubTitle },
                (0, x.Xx)("#EventDisplay_NewsHubSubtitle"),
              ),
            ),
            _ &&
              l.createElement(
                "div",
                { className: O().AppBannerLinks },
                Boolean(u && t) &&
                  l.createElement(
                    "a",
                    {
                      className: O().AppBannerLink,
                      href: "steam://nav/games/details/" + t,
                    },
                    (0, x.Xx)("#EventDisplay_ViewInLibrary_ExtraShort"),
                  ),
                l.createElement(
                  "div",
                  { className: O().HeaderFollowButton },
                  Boolean(t)
                    ? l.createElement(M.SE, { appid: t })
                    : l.createElement(M.C4, { clanAccountID: n }),
                ),
                l.createElement(
                  "a",
                  {
                    className: O().AppBannerLink,
                    href: (0, G.OL)(r),
                    target: g.De.IN_CLIENT ? void 0 : "_blank",
                  },
                  (0, x.Xx)("#EventDisplay_ViewStorePage_ExtraShort"),
                ),
                !v &&
                  l.createElement(
                    "a",
                    {
                      className: O().AppBannerLink,
                      href: (0, G.OL)(s),
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                    },
                    (0, x.Xx)("#EventDisplay_ViewCommunityPage_ExtraShort"),
                  ),
                Boolean(!v && m) &&
                  l.createElement(
                    "a",
                    {
                      className: O().AppBannerLink,
                      href: (0, G.OL)(m),
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                    },
                    (0, x.Xx)("#EventDisplay_ViewForum_ExtraShort"),
                  ),
                !v &&
                  e.bShowRSSFeed &&
                  l.createElement(
                    "a",
                    {
                      className: O().AppBannerLink,
                      href: (0, G.OL)(S),
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                    },
                    l.createElement(k.opd, null),
                    (0, x.Xx)("#EventDisplay_RSSFeed_ExtraShort"),
                  ),
                E &&
                  l.createElement(
                    "a",
                    {
                      className: O().AppBannerLink,
                      href: (0, G.OL)(
                        (0, B.iC)(t, d.K.InitFromClanID(n), "admin"),
                      ),
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                    },
                    (0, x.Xx)("#EventDisplay_Admin_ExtraShort"),
                  ),
              ),
          ),
        );
      });
      var j = n(4306),
        H = n(17318),
        X = n.n(H),
        z = n(57742),
        V = n(60161),
        W = n(43997),
        Z = n.n(W),
        q = n(67736),
        Y = n(36041),
        Q = n(23217),
        K = n(32905),
        $ = n(5557);
      class J {
        constructor() {
          (this.m_mapClanReposted = new Set()),
            (this.m_mapSourceEventGIDToPostedClans = new Map()),
            (0, S.rC)(this);
        }
        static Get() {
          return (
            J.s_EventRepost ||
              ((J.s_EventRepost = new J()), J.s_EventRepost.Initialize()),
            J.s_EventRepost
          );
        }
        static ValidateRepostData(e) {
          const t = e;
          return (
            !!(
              t &&
              t.repost_clan_account_ids &&
              Array.isArray(t.repost_clan_account_ids) &&
              t.repost_clan_account_ids.length > 0
            ) && "number" == typeof t.repost_clan_account_ids[0]
          );
        }
        Initialize() {
          if (document.getElementById("application_config")) {
            let e = (0, g.kQ)("repostcontrols", "application_config");
            J.ValidateRepostData(e) &&
              e.repost_clan_account_ids.forEach((e) =>
                this.m_mapClanReposted.add(e),
              );
          }
        }
        BCanRepostPartnerEvent() {
          return this.m_mapClanReposted.size > 0;
        }
        GetRepostClanAccountID() {
          return Array.from(this.m_mapClanReposted);
        }
        LoadClansAlreadyRepostedTo(e, t, n) {
          var i, l, r;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_mapSourceEventGIDToPostedClans.has(t))
              return this.m_mapSourceEventGIDToPostedClans.get(t);
            const a = g.De.STORE_BASE_URL + "events/ajaxgetrepostedevent",
              s = {
                sessionid: g.De.SESSIONID,
                source_clan_accountid: e.GetAccountID(),
                source_event_gid: t,
              };
            try {
              const e = yield o().get(a, {
                params: s,
                withCredentials: !0,
                cancelToken: null == n ? void 0 : n.token,
              });
              if (
                1 ==
                (null === (i = null == e ? void 0 : e.data) || void 0 === i
                  ? void 0
                  : i.success)
              )
                return (
                  this.m_mapSourceEventGIDToPostedClans.set(
                    t,
                    e.data.repost_clan_accountid || [],
                  ),
                  e.data.repost_clan_accountid
                );
              console.error(
                "GetRepostClanAccountID: failed " +
                  (null === (l = null == e ? void 0 : e.data) || void 0 === l
                    ? void 0
                    : l.success) +
                  " and msg: " +
                  (null === (r = null == e ? void 0 : e.data) || void 0 === r
                    ? void 0
                    : r.msg),
              );
            } catch (e) {
              const t = (0, Q.l)(e);
              console.error(
                "GetRepostClanAccountID: fail repost with " + t.strErrorMsg,
                t,
              );
            }
            return new Array();
          });
        }
        RepostEvent(e, t, n, i, l) {
          var r, s, c;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = g.De.STORE_BASE_URL + "events/ajaxrepostevent",
              d = new FormData();
            d.append("sessionid", g.De.SESSIONID),
              d.append("source_clan_accountid", "" + e.GetAccountID()),
              d.append("source_event_gid", "" + t),
              d.append("repost_clan_accountid", "" + n.GetAccountID()),
              d.append("add", "" + i);
            try {
              let e = yield o().post(a, d, {
                withCredentials: !0,
                cancelToken: null == l ? void 0 : l.token,
              });
              if (
                1 ==
                  (null === (r = null == e ? void 0 : e.data) || void 0 === r
                    ? void 0
                    : r.success) &&
                e.data.repost_gid
              ) {
                this.m_mapSourceEventGIDToPostedClans.has(t) ||
                  this.m_mapSourceEventGIDToPostedClans.set(t, []);
                const a = this.m_mapSourceEventGIDToPostedClans
                  .get(t)
                  .findIndex((e) => n.GetAccountID() == e);
                return (
                  i && -1 == a
                    ? this.m_mapSourceEventGIDToPostedClans
                        .get(t)
                        .push(n.GetAccountID())
                    : i ||
                      -1 === a ||
                      this.m_mapSourceEventGIDToPostedClans.get(t).splice(a, 1),
                  e.data.repost_gid
                );
              }
              console.error(
                "RepostEvent: failed " +
                  (null === (s = null == e ? void 0 : e.data) || void 0 === s
                    ? void 0
                    : s.success) +
                  " and msg: " +
                  (null === (c = null == e ? void 0 : e.data) || void 0 === c
                    ? void 0
                    : c.msg),
              );
            } catch (e) {
              const t = (0, Q.l)(e);
              console.error(
                "RepostEvent: fail repost with " + t.strErrorMsg,
                t,
              );
            }
            return null;
          });
        }
      }
      (0, a.gn)([S.LO], J.prototype, "m_mapClanReposted", void 0);
      var ee = n(69338);
      const te = (0, h.Pi)((e) => {
        const { eventModel: t } = e,
          [n, i] = (0, l.useState)(!0),
          [r, s] = (0, l.useState)(new Set()),
          [c, m] = (0, l.useState)(new Set()),
          [p, h] = (0, l.useState)(new Set()),
          [g, E] = (0, l.useState)(null),
          [v, S] = (0, l.useState)(null),
          f = (0, l.useRef)(null);
        (0, l.useEffect)(() => {
          if (n) {
            (() =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                const e = o().CancelToken.source();
                f.current = e.cancel;
                const n = J.Get().LoadClansAlreadyRepostedTo(
                  t.clanSteamID,
                  t.GID,
                  e,
                );
                n.then((e) => {
                  const t = new Set();
                  e.forEach((e) => t.add(e)), s(t);
                });
                let a = new Array();
                a.push(n),
                  J.Get()
                    .GetRepostClanAccountID()
                    .forEach((e) => {
                      const t = d.K.InitFromClanID(e);
                      a.push(b.sV.LoadClanInfoForClanSteamID(t));
                    }),
                  yield Promise.all(a),
                  i(!1);
              }))();
          }
          return () => f.current && f.current();
        }, [n, t.GID, t.clanSteamID]);
        const y = new Array();
        return (
          J.Get()
            .GetRepostClanAccountID()
            .forEach((e) => {
              const n = b.sV.GetClanInfoByClanAccountID(e);
              if (n && e != t.clanSteamID.GetAccountID()) {
                const t = r.has(e),
                  a = c.has(e) || (t && !p.has(e));
                y.push(
                  l.createElement(u.ji, {
                    key: "checkbox" + e,
                    label: t
                      ? (0, x.Xx)("#EventRepost_Dialog_Existing", n.group_name)
                      : n.group_name,
                    checked: a,
                    disabled: null !== g,
                    onChange: (t) => {
                      r.has(e)
                        ? (t ? p.delete(e) : p.add(e), h(new Set(p)))
                        : (t ? c.add(e) : c.delete(e), m(new Set(c)));
                    },
                  }),
                );
              }
            }),
          l.createElement(
            _.SV,
            null,
            l.createElement(
              q.e1,
              { onEscKeypress: () => e.closeModal && e.closeModal() },
              l.createElement(
                u.VY,
                null,
                l.createElement(
                  u.h4,
                  null,
                  (0, x.Xx)("#EventRepost_Dialog_Title"),
                ),
                l.createElement(
                  u.uT,
                  null,
                  l.createElement(
                    u.Ac,
                    null,
                    (0, x.Xx)("#EventRepost_Dialog_Desc"),
                  ),
                  n
                    ? l.createElement(ee.V, { string: (0, x.Xx)("#Loading") })
                    : l.createElement("div", null, y),
                  Boolean(c.size || p.size) &&
                    l.createElement(
                      "div",
                      null,
                      l.createElement(
                        "span",
                        null,
                        (0, x.Xx)("#EventRepost_Dialog_Action_Desc"),
                      ),
                      l.createElement(
                        "ul",
                        null,
                        Boolean(c.size) &&
                          l.createElement(
                            "li",
                            null,
                            (0, x.Xx)("#EventRepost_Dialog_Action_Add", c.size),
                          ),
                        Boolean(p.size) &&
                          l.createElement(
                            "li",
                            null,
                            (0, x.Xx)(
                              "#EventRepost_Dialog_Action_Remove",
                              p.size,
                            ),
                          ),
                      ),
                    ),
                  Boolean(g) && l.createElement("div", null, g),
                  Boolean(v) && l.createElement("div", null, v),
                ),
                l.createElement(
                  u.$_,
                  null,
                  l.createElement(u.o9, {
                    onCancel: () => e.closeModal && e.closeModal(),
                    strOKText: (0, x.Xx)("#EventRepost_Dialog_OK"),
                    bOKDisabled:
                      (0 == c.size && 0 == p.size) || null !== g || null !== v,
                    onOK: () =>
                      (0, a.mG)(void 0, void 0, void 0, function* () {
                        f.current && f.current();
                        const e = o().CancelToken.source();
                        f.current = e.cancel;
                        const n = c.size + p.size;
                        let a = 1;
                        E((0, x.Xx)("#EventRepost_Dialog_Progress", a, n));
                        for (const i of Array.from(c)) {
                          const o = d.K.InitFromClanID(i);
                          if (
                            !(yield J.Get().RepostEvent(
                              t.clanSteamID,
                              t.GID,
                              o,
                              !0,
                              e,
                            ))
                          )
                            return void S(
                              (0, x.Xx)("#EventRepost_Dialog_ResultFail"),
                            );
                          E((0, x.Xx)("#EventRepost_Dialog_Progress", ++a, n));
                        }
                        for (const i of Array.from(p)) {
                          const o = d.K.InitFromClanID(i);
                          if (
                            !(yield J.Get().RepostEvent(
                              t.clanSteamID,
                              t.GID,
                              o,
                              !1,
                              e,
                            ))
                          )
                            return void S(
                              (0, x.Xx)("#EventRepost_Dialog_ResultFail"),
                            );
                          E((0, x.Xx)("#EventRepost_Dialog_Progress", ++a, n));
                        }
                        S((0, x.Xx)("#EventRepost_Dialog_ResultSuccess"));
                      }),
                  }),
                ),
              ),
            ),
          )
        );
      });
      var ne = n(44026),
        ae = n(88443),
        ie = n(37865);
      var oe = n(82248),
        le = n(15164),
        re = n(75313),
        se = n(84343),
        ce = n(75962),
        de = n(5386),
        me = n(24174),
        pe = n(68333),
        ue = n(57361);
      class _e {
        constructor(e) {
          (this.m_nLastUpdated = 0),
            (this.m_mapLanguages = S.LO.map()),
            (this.m_fetching = null),
            (this.m_appid = e);
        }
        GetAppID() {
          return this.m_appid;
        }
        GetTokenList(e) {
          return this.m_mapLanguages.has(e) ? this.m_mapLanguages.get(e) : null;
        }
        Localize(e, t) {
          let n = g.De.LANGUAGE;
          return he(
            e,
            this.GetTokenList(n),
            "english" != n ? this.GetTokenList("english") : null,
            this.m_appid,
            t,
          );
        }
        SubstituteParams(e, t) {
          let n = g.De.LANGUAGE;
          return ge(
            e,
            this.GetTokenList(n),
            "english" != n ? this.GetTokenList("english") : null,
            this.m_appid,
            t,
          );
        }
      }
      function he(e, t, n, a, i) {
        if (!e.startsWith("#"))
          return console.log("Token doesn't start with #:", e), "";
        let o = e;
        e = e.toLowerCase();
        let l = "";
        if (
          (t && t.has(e) && (l = t.get(e)),
          !l && n && n.has(e) && (l = n.get(e)),
          l)
        )
          l = ge(l, t, n, a, i);
        else if (
          ((t || n) &&
            console.log(
              "No loc found for appid",
              a,
              o,
              "Tokens:",
              t,
              "Fallback:",
              n,
            ),
          t && 1 != g.De.EUNIVERSE)
        )
          return e;
        return l;
      }
      function ge(e, t, n, a, i) {
        let o = e.match(/{[A-za-z0-9_%#:]+}/g);
        if (o)
          for (let l of o) {
            let o = he(Ee(l.slice(1, -1), i), t, n, a, i);
            if (!o) return "";
            e = e.replace(l, o);
          }
        return (e = Ee(e, i));
      }
      function Ee(e, t) {
        let n = e.match(/%[A-Za-z0-9_:]+%/g);
        if (n)
          for (let a of n) {
            let n = a.slice(1, -1).toLowerCase(),
              i = t.get(n);
            null == i
              ? console.log("No rich presence found for", n)
              : (e = e.replace(a, i));
          }
        return e;
      }
      var ve = n(16744),
        Se = n(23801),
        fe = n(85246);
      class ye {
        constructor() {
          (this.m_mapAppInfo = S.LO.map()),
            (this.m_mapRichPresenceLoc = S.LO.map()),
            (this.m_cAppInfoRequestsInFlight = 0),
            (this.m_setPendingAppInfo = new Set()),
            (this.m_CacheStorage = null),
            (this.m_fnCallbackOnAppInfoLoaded = new fe.pB()),
            (0, S.rC)(this);
        }
        Init(e) {
          this.m_CMInterface = e;
        }
        BHavePendingAppInfoRequests() {
          return (
            this.m_setPendingAppInfo.size > 0 ||
            this.m_cAppInfoRequestsInFlight > 0
          );
        }
        get CMInterface() {
          return this.m_CMInterface;
        }
        RegisterCallbackOnLoad(e) {
          if (!this.BHavePendingAppInfoRequests())
            return (
              (0, Se.X)(
                !1,
                "Registering for callback on appinfo load, but nothing queued",
              ),
              void e()
            );
          this.m_fnCallbackOnAppInfoLoaded.Register(e);
        }
        IsLoadingAppID(e) {
          return this.m_setPendingAppInfo.has(e);
        }
        GetAppInfo(e) {
          if (
            ((0, Se.X)(
              this.m_CMInterface,
              "CAppInfoStore.GetAppInfo called before Init",
            ),
            !this.m_mapAppInfo.has(e))
          ) {
            let t = new ue.Am(e);
            this.m_mapAppInfo.set(e, t), this.QueueAppInfoRequest(e);
          }
          return this.m_mapAppInfo.get(e);
        }
        QueueAppInfoRequest(e) {
          return e
            ? (this.m_setPendingAppInfo.size ||
                ((this.m_PendingAppInfoPromise = new Promise(
                  (e) => (this.m_PendingAppInfoResolve = e),
                )),
                window.setTimeout(() => this.FlushPendingAppInfo(), 25)),
              this.m_setPendingAppInfo.add(e),
              this.m_PendingAppInfoPromise)
            : Promise.resolve();
        }
        FlushPendingAppInfo() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = this.m_PendingAppInfoResolve,
              t = Array.from(this.m_setPendingAppInfo);
            (this.m_PendingAppInfoPromise = void 0),
              (this.m_PendingAppInfoResolve = void 0),
              this.m_setPendingAppInfo.clear(),
              yield this.LoadAppInfoBatch(t),
              e();
          });
        }
        LoadAppInfoBatch(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            this.m_cAppInfoRequestsInFlight++;
            let t = yield this.LoadAppInfoBatchFromLocalCache(e);
            if (t.length) {
              console.log("Loading batch of App Info from Steam: ", t),
                yield this.m_CMInterface.WaitUntilLoggedOn();
              let e = pe.gA.Init(ve.Fi);
              e.Body().set_language((0, r.jM)(g.De.LANGUAGE));
              const n = 50;
              for (; t.length > 0; ) {
                const a = Math.min(n, t.length),
                  i = t.slice(0, a);
                (t = t.slice(a)), e.Body().set_appids(i);
                const o = yield ve.AE.GetApps(
                  this.m_CMInterface.GetServiceTransport(),
                  e,
                );
                1 == o.GetEResult()
                  ? this.OnGetAppsResponse(o)
                  : console.error(
                      `Error when calling CommunityService.GetApps: EResult=${o.GetEResult()}, AppIDs:`,
                      i,
                    );
              }
            }
            0 == --this.m_cAppInfoRequestsInFlight &&
              0 == this.m_setPendingAppInfo.size &&
              (this.m_fnCallbackOnAppInfoLoaded.Dispatch(),
              this.m_fnCallbackOnAppInfoLoaded.ClearAllCallbacks());
          });
        }
        OnGetAppsResponse(e) {
          let t = [];
          for (let n of e.Body().apps()) {
            let e = this.m_mapAppInfo.get(n.appid());
            (0, Se.X)(
              e,
              `Got AppInfo response for unrequested AppID: ${n.appid()}`,
            ),
              e &&
                ((e = new ue.Am(n.appid())),
                e.DeserializeFromMessage(n),
                this.m_mapAppInfo.set(n.appid(), e),
                t.push(e));
          }
          this.SaveAppInfoBatchToLocalCache(t);
        }
        OnAppOverviewChange(e) {
          for (let t of e) {
            const e = new ue.Am(t.appid());
            e.DeserializeFromAppOverview(t),
              e.is_initialized && this.m_mapAppInfo.set(t.appid(), e);
          }
        }
        EnsureAppInfoForAppIDs(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = !1;
            return (
              e.forEach((e) => {
                let n = this.m_mapAppInfo.get(e);
                n
                  ? n.is_valid || (t = !0)
                  : ((n = new ue.Am(e)),
                    this.m_mapAppInfo.set(e, n),
                    this.QueueAppInfoRequest(e),
                    (t = !0));
              }),
              t && void 0 !== this.m_PendingAppInfoPromise
                ? this.m_PendingAppInfoPromise
                : Promise.resolve()
            );
          });
        }
        SetCacheStorage(e) {
          this.m_CacheStorage = e;
        }
        GetCacheKeyForAppID(e) {
          return "APPINFO_" + e;
        }
        LoadAppInfoBatchFromLocalCache(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!this.m_CacheStorage) return e;
            console.log("Loading batch of App Info from Local Cache: ", e);
            const t = new Date(new Date().getTime() - 12096e5),
              n = (e) =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = yield this.m_CacheStorage.GetObject(
                    this.GetCacheKeyForAppID(e),
                  );
                  if (!n) return e;
                  let a = this.m_mapAppInfo.get(e);
                  return (
                    (0, Se.X)(
                      a,
                      "Didn't find AppInfo in our map when loading from cache but it should've been there?",
                    ),
                    a
                      ? ((a = new ue.Am(e)),
                        a.DeserializeFromCacheObject(n),
                        a.is_initialized
                          ? (this.m_mapAppInfo.set(e, a),
                            a.time_updated_from_server < t ? e : null)
                          : (console.warn(
                              "Failed to deserialize cached App Info: ",
                              e,
                              n,
                            ),
                            e))
                      : e
                  );
                });
            let i = e.map((e) => n(e));
            return (yield Promise.all(i)).filter((e) => null !== e);
          });
        }
        SaveAppInfoBatchToLocalCache(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_CacheStorage) {
              console.log(
                "Saving batch of App Info to Local Cache: ",
                e.map((e) => e.appid),
              );
              for (const t of e) {
                const e = t.SerializeToCacheObject();
                e &&
                  this.m_CacheStorage.StoreObject(
                    this.GetCacheKeyForAppID(t.appid),
                    e,
                  );
              }
            }
          });
        }
        Localize(e, t, n) {
          const a = this.GetRichPresenceLoc(e);
          return a
            ? a.Localize(t, n)
            : 1 != g.De.EUNIVERSE
            ? (console.log(
                `Unable to find app localization information for app ${e} token ${t}, this may not have had a chance to load yet`,
              ),
              t)
            : "";
        }
        GetRichPresenceLoc(e) {
          if (this.m_mapRichPresenceLoc.has(e.toString())) {
            let t = this.m_mapRichPresenceLoc.get(e.toString());
            return (
              t.m_nLastUpdated + 6e4 * ue.x3 < Date.now() &&
                this.QueueRichPresenceLocRequest(t),
              t
            );
          }
          let t = new _e(e);
          return (
            this.m_mapRichPresenceLoc.set(e.toString(), t),
            this.QueueRichPresenceLocRequest(t),
            t
          );
        }
        GetRichPresenceLocAsync(e) {
          let t = this.GetRichPresenceLoc(e);
          return t.m_nLastUpdated ? Promise.resolve(t) : t.m_fetching;
        }
        OnRichPresenceLocUpdate(e, t) {
          e.m_nLastUpdated = Date.now();
          for (let n of t) {
            let t = n.language(),
              a = e.m_mapLanguages.get(t);
            a
              ? a.clear()
              : (e.m_mapLanguages.set(t, new Map()),
                (a = e.m_mapLanguages.get(t)));
            for (let e of n.tokens()) a.set(e.name().toLowerCase(), e.value());
          }
        }
        QueueRichPresenceLocRequest(e) {
          return (
            e.m_fetching ||
              ((e.m_fetching = this.m_CMInterface
                .WaitUntilLoggedOn()
                .then(() => {
                  let t = pe.gA.Init(ve.tj);
                  return (
                    t.Body().set_appid(e.GetAppID()),
                    t.Body().set_language(g.De.LANGUAGE),
                    ve.AE.GetAppRichPresenceLocalization(
                      this.m_CMInterface.GetServiceTransport(),
                      t,
                    )
                  );
                })
                .then(
                  (t) => (
                    (e.m_fetching = null),
                    1 != t.GetEResult()
                      ? Promise.reject()
                      : (this.OnRichPresenceLocUpdate(
                          e,
                          t.Body().token_lists(),
                        ),
                        Promise.resolve(e))
                  ),
                )),
              e.m_fetching.catch(() => {
                e.m_fetching = null;
              })),
            e.m_fetching
          );
        }
      }
      (0, a.gn)([S.aD], ye.prototype, "OnGetAppsResponse", null),
        (0, a.gn)([S.aD], ye.prototype, "OnRichPresenceLocUpdate", null);
      const De = new ye();
      var be = n(97940),
        Ie = n(24448),
        Ce = n(40619),
        Ae = n(31038),
        Te = n.n(Ae);
      const we = (0, h.Pi)((e) => {
        const { appid: t, eventLink: n } = e,
          i = l.useRef(null),
          [r, s] = (0, Ie.Gr)(g.L7.steamid),
          [c, m] = l.useState(""),
          [u, _] = l.useState(!1),
          [h, E] = l.useState(""),
          [v, S] = l.useState(!1);
        l.useEffect(
          () => () =>
            i.current &&
            i.current("ShareEventOnFriendsActivityFeed: unmounting"),
          [],
        );
        const f = s ? s.avatar_url : null,
          y = d.K.InitFromAccountID(g.L7.accountid),
          D = () =>
            (0, a.mG)(void 0, void 0, void 0, function* () {
              var e, a;
              i.current &&
                i.current(
                  "ShareEventOnFriendsActivityFeed: cancel previous...",
                );
              const l = o().CancelToken.source();
              (i.current = l.cancel), _(!0);
              let r = c;
              0 != r.trim().length && (r += "\n\n"), (r += n);
              const s =
                g.De.COMMUNITY_BASE_URL +
                "profiles/" +
                y.ConvertTo64BitString() +
                "/ajaxpostuserstatus";
              try {
                if (g.De.IN_STEAMUI) {
                  let e = pe.gA.Init(be.Sv);
                  e.Body().set_appid(t), e.Body().set_status_text(r);
                  let n = yield be.lk.PostStatusToFriends(
                    De.CMInterface.GetServiceTransport(),
                    e,
                  );
                  if (1 != n.GetEResult()) {
                    const e =
                      (0, x.Xx)("#EventDisplay_Share_Failure") +
                      "\n\n" +
                      n.GetEResult();
                    return (
                      console.error(e, !l.token.reason),
                      void (l.token.reason || E(e))
                    );
                  }
                } else {
                  const n = new FormData();
                  n.append("appid", "" + t),
                    n.append("status_text", r),
                    n.append("sessionid", g.De.SESSIONID);
                  const i = yield o().post(s, n, { withCredentials: !0 });
                  if (
                    200 != i.status ||
                    1 !=
                      (null === (e = null == i ? void 0 : i.data) ||
                      void 0 === e
                        ? void 0
                        : e.success)
                  ) {
                    const e =
                      (0, x.Xx)("#EventDisplay_Share_Failure") +
                      "\n\n" +
                      (null === (a = null == i ? void 0 : i.data) ||
                      void 0 === a
                        ? void 0
                        : a.message);
                    return console.error(e), void (l.token.reason || E(e));
                  }
                }
                l.token.reason ||
                  (S(!0), E((0, x.Xx)("#EventDisplay_Share_Success")));
              } catch (e) {
                const t = (0, Q.l)(e),
                  n =
                    (0, x.Xx)("#EventDisplay_Share_Failure") +
                    "\n\n" +
                    t.strErrorMsg;
                l.token.reason || E(n), console.error(n);
              }
            });
        return u
          ? l.createElement(
              q.uH,
              {
                strDescription: "",
                strTitle: (0, x.Xx)("#Button_Share"),
                onCancel: e.closeModal,
                onOK: e.closeModal,
                bAlertDialog: !0,
              },
              l.createElement(
                "div",
                { className: X().FlexColumnContainer },
                l.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventDisplay_Share_OnMyStatus_Details"),
                ),
                l.createElement(
                  "div",
                  { className: Te().Container },
                  0 == (null == h ? void 0 : h.length)
                    ? l.createElement(ee.V, { position: "center" })
                    : l.createElement("div", null, h),
                  Boolean(v) &&
                    l.createElement(
                      "a",
                      {
                        href:
                          g.De.COMMUNITY_BASE_URL +
                          "profiles/" +
                          y.ConvertTo64BitString() +
                          "/home",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      (0, x.Xx)("#EventDisplay_Share_OpenActivityFeed"),
                    ),
                ),
              ),
            )
          : l.createElement(
              q.uH,
              {
                strDescription: "",
                strTitle: (0, x.Xx)("#Button_Share"),
                onCancel: e.closeModal,
                onOK: D,
                strOKButtonText: (0, x.Xx)("#Button_Post"),
              },
              l.createElement(
                "div",
                { className: X().FlexColumnContainer },
                l.createElement(
                  "div",
                  null,
                  (0, x.Xx)("#EventDisplay_Share_OnMyStatus_Details"),
                ),
                l.createElement(
                  "div",
                  {
                    className: (0, L.Z)(
                      Te().Container,
                      X().FlexColumnContainer,
                    ),
                  },
                  l.createElement(
                    "div",
                    null,
                    l.createElement("img", {
                      className: Te().SmallAvatar,
                      src: f,
                      "data-miniprofile": "s" + g.L7.steamid,
                    }),
                    l.createElement(
                      "div",
                      { className: (0, L.Z)(X().FlexColumnContainer) },
                      l.createElement(p.R, {
                        strPlaceholder: (0, x.Xx)(
                          "#EventDisplay_Share_OnMyStatus_Placeholder",
                        ),
                        fnGetCurText: () => c,
                        fnOnTextChange: (e) => m(e.currentTarget.value),
                        fnSetText: m,
                        emoticonStore: e.emoticonStore,
                        bSupportHTMLImport: !1,
                        showFormatHelp: "UserStatusPublished",
                        limitBBCode: me.iP,
                        classNameForTextArea: Te().ShareDescription,
                        bEmbeddedInDialog: !0,
                      }),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: Te().ShareLink },
                    l.createElement(Ce.d, {
                      text: n,
                      partnerEventStore: e.partnerEventStore,
                    }),
                  ),
                ),
              ),
            );
      });
      class ke extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bShareOnSteamDialog: !1,
              bRequireLoginToShare: !1,
            });
        }
        ShareOnSteamActivityFeed() {
          g.L7.logged_in
            ? this.setState({ bShareOnSteamDialog: !0 })
            : g.De.IN_CLIENT
            ? console.log(
                "ShareEventOnSocialMediaDialog: In Client: Cannot use login widget. We expect to be already logged in.",
              )
            : this.setState({ bRequireLoginToShare: !0 });
        }
        render() {
          const {
            eventLink: e,
            fnGetSharePageUrl: t,
            appid: n,
            closeModal: a,
            emoticonStore: i,
            partnerEventStore: o,
          } = this.props;
          return this.state.bRequireLoginToShare
            ? l.createElement(q.uH, {
                strTitle: (0, x.Xx)("#EventDisplay_Share_NotLoggedIn"),
                strDescription: (0, x.Xx)(
                  "#EventDisplay_Share_NotLoggedIn_Description",
                ),
                strOKButtonText: (0, x.Xx)("#MobileLogin_SignIn"),
                onCancel: this.props.closeModal,
                onOK: () => (0, K.X)(),
              })
            : this.state.bShareOnSteamDialog
            ? l.createElement(we, {
                eventLink: e,
                appid: n,
                emoticonStore: i,
                partnerEventStore: o,
                closeModal: a,
              })
            : l.createElement(
                q.uH,
                {
                  strDescription: "",
                  strTitle: (0, x.Xx)("#Button_Share"),
                  onCancel: this.props.closeModal,
                  onOK: this.props.closeModal,
                  bAlertDialog: !0,
                  modalClassName: "EventDisplay_Share_Dialog",
                },
                l.createElement(Ne, {
                  eventLink: e,
                  fnGetSharePageUrl: t,
                  fnShareOnSteamActivityFeed: this.ShareOnSteamActivityFeed,
                }),
              );
        }
      }
      (0, a.gn)([j.ak], ke.prototype, "ShareOnSteamActivityFeed", null);
      const Ne = (e) => {
          const {
              eventLink: t,
              fnGetSharePageUrl: n,
              fnShareOnSteamActivityFeed: a,
            } = e,
            i = (0, g.h4)(),
            [o, s] = (0, l.useState)((0, r.jM)(g.De.LANGUAGE)),
            c = (0, l.useMemo)(() => {
              const e = new URL(t);
              return e.searchParams.set("l", (0, r.j_)(o)), e.href;
            }, [o, t]);
          return l.createElement(
            "div",
            {
              className: (0, L.Z)(
                X().FlexColumnContainer,
                Z().share_controls_ctn,
              ),
            },
            !i &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: Z().ShareLanguagePicker },
                  l.createElement(
                    u.__,
                    { className: Z().LanguageLabel },
                    (0, x.Xx)("#EventDisplay_Share_LanguageLabel"),
                  ),
                  l.createElement(
                    "div",
                    null,
                    l.createElement(de.uW, {
                      selectedLang: o,
                      fnOnLanguageChanged: s,
                    }),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: (0, L.Z)(
                      X().FlexRowContainer,
                      Z().ShareButtonContainer,
                    ),
                    style: { flexWrap: "wrap" },
                  },
                  l.createElement(
                    se.HP,
                    {
                      toolTipContent: (0, x.Xx)("#EventDisplay_Share_OnSteam"),
                    },
                    l.createElement(
                      "div",
                      {
                        onClick: a,
                        className: (0, L.Z)(
                          X().Button,
                          Z().ShareBtn,
                          Z().ShareSteamBtn,
                        ),
                      },
                      l.createElement("img", {
                        className: Z().SteamIcon,
                        src: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAwIDE0MDAgMTQwOSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTQwMCAxNDA5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik02OTguMTk1LDEwLjEyNWMtMzY0LjM0NywwLTY2Mi44MzgsMjgwLjkzOC02OTEuMjA2LDYzNy45NjlMMzc4Ljc0LDgwMS43OTcNCgljMzEuNTAyLTIxLjUzOSw2OS41NTUtMzQuMTMzLDExMC40OTUtMzQuMTMzYzMuNjY5LDAsNy4zMTUsMC4wOSwxMC45MzksMC4zMTNsMTY1LjMzLTIzOS42MzdjMC0xLjEzNy0wLjAyOS0yLjI1LTAuMDI5LTMuMzk1DQoJYzAtMTQ0LjIyNywxMTcuMzM1LTI2MS41NzQsMjYxLjU4Mi0yNjEuNTc0YzE0NC4yMzMsMCwyNjEuNTgzLDExNy4zNDgsMjYxLjU4MywyNjEuNTc0YzAsMTQ0LjI0Ni0xMTcuMzUsMjYxLjU5OC0yNjEuNTgzLDI2MS41OTgNCgljLTEuOTksMC0zLjk1LTAuMDQ3LTUuOTI2LTAuMDlMNjg1LjM0MSw5NTQuNjg4YzAuMTE5LDMuMDc0LDAuMjMsNi4xOTEsMC4yMyw5LjI5N2MwLDEwOC4yNzMtODguMDc2LDE5Ni4zNTItMTk2LjMzNiwxOTYuMzUyDQoJYy05NS4wNDEsMC0xNzQuNDk0LTY3Ljg0OC0xOTIuNDk2LTE1Ny42NzZMMzAuODcyLDg5Mi43NTRjODIuMzIsMjkxLjEzNywzNDkuODA3LDUwNC41ODIsNjY3LjMyMyw1MDQuNTgyDQoJYzM4My4wNjIsMCw2OTMuNTk4LTMxMC41NTEsNjkzLjU5OC02OTMuNjEzQzEzOTEuNzkzLDMyMC42NjQsMTA4MS4yNTcsMTAuMTI1LDY5OC4xOTUsMTAuMTI1Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNDQxLjY0OCwxMDYyLjU2M2wtODUuMjAyLTM1LjIwM2MxNS4xMDUsMzEuNDQ1LDQxLjIzLDU3Ljc2Miw3NS45MTEsNzIuMjE1DQoJYzc0Ljk2MSwzMS4yNSwxNjEuNDEtNC4zMzYsMTkyLjY2Ny03OS4zNTljMTUuMTEyLTM2LjMxMywxNS4yMjQtNzYuMzU1LDAuMjIzLTExMi43NDJjLTE0Ljk3OS0zNi4zOTEtNDMuMjUtNjQuNzczLTc5LjU3Mi03OS45MjINCgljLTM2LjA0Ny0xNS4wMDQtNzQuNjU2LTE0LjQzOC0xMDguNTg3LTEuNjM3bDg4LjAwOSwzNi4zOTFjNTUuMzA0LDIzLjA1MSw4MS40NDQsODYuNTU5LDU4LjQwOCwxNDEuODU1DQoJQzU2MC40NzYsMTA1OS40NTcsNDk2Ljk0NCwxMDg1LjYxMyw0NDEuNjQ4LDEwNjIuNTYzIi8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTEwMS4zNTMsNTI0Ljk2MWMwLTk2LjExMy03OC4xODQtMTc0LjMxMy0xNzQuMjk1LTE3NC4zMTNjLTk2LjA5NiwwLTE3NC4yOTQsNzguMTk5LTE3NC4yOTQsMTc0LjMxMw0KCWMwLDk2LjEwMiw3OC4xOTgsMTc0LjI3NywxNzQuMjk0LDE3NC4yNzdDMTAyMy4xNjksNjk5LjIzOCwxMTAxLjM1Myw2MjEuMDYzLDExMDEuMzUzLDUyNC45NjEgTTc5Ni40MTUsNTI0LjY1Ng0KCWMwLTcyLjMyNCw1OC42MzgtMTMwLjkxOCwxMzAuOTQtMTMwLjkxOGM3Mi4zMTYsMCwxMzAuOTI1LDU4LjU5NCwxMzAuOTI1LDEzMC45MThjMCw3Mi4zMTYtNTguNjA4LDEzMC45MTgtMTMwLjkyNSwxMzAuOTE4DQoJQzg1NS4wNTMsNjU1LjU3NCw3OTYuNDE1LDU5Ni45NzMsNzk2LjQxNSw1MjQuNjU2Ii8+DQo8L3N2Zz4NCg==",
                      }),
                      l.createElement(
                        "span",
                        { style: { whiteSpace: "nowrap" } },
                        (0, x.Xx)("#EventDisplay_Share_OnMyStatus"),
                      ),
                    ),
                  ),
                  l.createElement(
                    se.HP,
                    {
                      toolTipContent: (0, x.Xx)(
                        "#EventDisplay_Share_OnFaceBook",
                      ),
                    },
                    l.createElement(
                      ce.ns,
                      { href: n(B.u_.k_eFacebook), className: Z().ShareBtn },
                      l.createElement("img", {
                        className: (0, L.Z)(X().Button),
                        src: oe.Z,
                      }),
                    ),
                  ),
                  l.createElement(
                    se.HP,
                    {
                      toolTipContent: (0, x.Xx)(
                        "#EventDisplay_Share_OnTwitter",
                      ),
                    },
                    l.createElement(
                      ce.ns,
                      { href: n(B.u_.k_eTwitter), className: Z().ShareBtn },
                      l.createElement("img", {
                        className: (0, L.Z)(X().Button),
                        src: re.Z,
                      }),
                    ),
                  ),
                  l.createElement(
                    se.HP,
                    {
                      toolTipContent: (0, x.Xx)("#EventDisplay_Share_OnReddit"),
                    },
                    l.createElement(
                      ce.ns,
                      { href: n(B.u_.k_eReddit), className: Z().ShareBtn },
                      l.createElement("img", {
                        className: (0, L.Z)(X().Button),
                        src: le.Z,
                      }),
                    ),
                  ),
                ),
                l.createElement("div", { className: X().Divider }),
              ),
            l.createElement(Le, { eventLink: c }),
          );
        },
        Le = (e) => {
          const t = l.createRef(),
            [n, a] = l.useState(""),
            i = l.createRef();
          return l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              {
                className: (0, L.Z)(X().FlexRowContainer, Z().linkField),
                onClick: (e) => {
                  t.current &&
                    t.current.ownerDocument.defaultView.navigator.clipboard
                      .writeText(t.current.value)
                      .then((e) => {
                        a((0, x.Xx)("#EventDisplay_Share_CopiedToClipboard"));
                      })
                      .catch((e) => {
                        a(
                          (0, x.Xx)(
                            "#EventDisplay_Share_FailedToCopyToClipboard",
                          ),
                        ),
                          console.error("Failed to copy link to clipboard:", e);
                      });
                },
              },
              l.createElement(
                "span",
                { className: Z().LinkInputLabel },
                (0, x.Xx)(
                  e.labelOverride
                    ? e.labelOverride
                    : "#EventDisplay_Share_Link",
                ),
              ),
              l.createElement("textarea", {
                className: Z().LinkInput,
                ref: t,
                value: e.eventLink,
                readOnly: !0,
              }),
              document.queryCommandSupported("copy") &&
                l.createElement(
                  "div",
                  {
                    className: (0, L.Z)(X().Button, X().Icon, Z().LinkButton),
                    "data-tooltip-text": (0, x.Xx)(
                      "#ToolTip_CopyLinkToClipboard",
                    ),
                    title: (0, x.Xx)("#ToolTip_CopyLinkToClipboard"),
                  },
                  l.createElement("img", {
                    className: Z().ClipboardIcon,
                    src: ie.Z,
                  }),
                ),
            ),
            l.createElement("div", { ref: i, className: Z().ClipboardText }, n),
          );
        };
      function xe(e) {
        let t;
        return !0 === e ? (t = "up") : !1 === e && (t = "down"), t;
      }
      const Ge = (e) => {
        const t = (0, g.id)();
        return l.createElement(Re, Object.assign({}, e, { bInGamepadUI: t }));
      };
      let Re = class extends l.Component {
        constructor(e) {
          super(e), (this.m_cancelSignal = o().CancelToken.source());
          const t = C.cb.Get().BHasMyVote(e.eventModel);
          let n;
          t && (n = xe(C.cb.Get().GetPreviouslyLoadedVote(e.eventModel))),
            (this.state = { bLoadedVote: !!t, myVote: n });
        }
        HandleRefreshMyVotingInformation() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const { eventModel: e, partnerEventStore: t } = this.props;
            C.cb.Get().BIsUserLoggedIn() &&
              (C.cb
                .Get()
                .LoadMyVote(e, this.m_cancelSignal)
                .then((e) => {
                  let t = xe(e);
                  this.setState({ myVote: t, bLoadedVote: !0 });
                })
                .catch((e) => {
                  let t = (0, Q.l)(e);
                  console.error("EventDiscussionWidget = " + t.strErrorMsg);
                }),
              b.sV.LoadClanInfoForClanSteamID(e.clanSteamID).catch((e) => {
                let t = (0, Q.l)(e);
                console.error("EventDiscussionWidget = " + t.strErrorMsg);
              }));
          });
        }
        componentDidMount() {
          this.state.bLoadedVote || this.HandleRefreshMyVotingInformation();
        }
        componentDidUpdate(e) {
          this.props.eventModel.GID != e.eventModel.GID &&
            this.HandleRefreshMyVotingInformation();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "EventDiscussionWidget is being unmounted",
          );
        }
        OnVoteUp() {
          this.Vote("up");
        }
        OnVoteDown() {
          this.Vote("down");
        }
        Vote(e) {
          const { eventModel: t } = this.props;
          (function (e, t) {
            return t.BIsUserLoggedIn()
              ? !t.GetPartnerEventPermissions(e.clanSteamID).limited_user ||
                  ((0, z.AM)(l.createElement($.r, null), window), !1)
              : (g.De.IN_CLIENT
                  ? console.log(
                      "EventDiscussionWidget: In Client: Cannot use login widget. We expect to be already logged in.",
                    )
                  : (0, z.AM)(
                      l.createElement(q.uH, {
                        strTitle: (0, x.Xx)("#EventDisplay_Share_NotLoggedIn"),
                        strDescription: (0, x.Xx)(
                          "#EventDisplay_Share_NotLoggedIn_Description",
                        ),
                        strOKButtonText: (0, x.Xx)("#MobileLogin_SignIn"),
                        onOK: () => (0, K.X)(),
                      }),
                      window,
                    ),
                !1);
          })(t, C.cb.Get()) &&
            this.state.myVote != e &&
            null != e &&
            this.state.bLoadedVote &&
            this.setState(
              { bVotingUp: "up" == e, bVotingDown: "down" == e },
              () => {
                C.cb
                  .Get()
                  .Vote(t, "up" === e, this.m_cancelSignal)
                  .catch((t) => {
                    let n = (0, Q.l)(t);
                    console.error(
                      "EventDiscussionWidget.OnVote" + e + " " + n.strErrorMsg,
                      n,
                    ),
                      this.setState({ bVotingDown: !1, bVotingUp: !1 });
                  }),
                  this.setState({ myVote: e, bVotingDown: !1, bVotingUp: !1 });
              },
            );
        }
        OnShareDialog(e) {
          const t = (0, B.wK)(this.props.eventModel);
          (0, z.AM)(
            l.createElement(ke, {
              eventLink: t,
              fnGetSharePageUrl: (e) => (0, B.jV)(this.props.eventModel, e),
              appid: this.props.eventModel.appid,
              emoticonStore: this.props.emoticonStore,
              partnerEventStore: this.props.partnerEventStore,
            }),
            (0, V.RA)(e),
            { strTitle: (0, x.Xx)("#Button_Share") },
          );
        }
        GotoDiscussion(e) {
          (0, z.AM)(
            l.createElement(q.JX, {
              strDescription: (0, x.Xx)(
                "#EventDisplay_Share_CommentMigrationInProcess",
              ),
            }),
            (0, V.RA)(e),
          );
        }
        OpenRepostDialogs(e) {
          (0, z.AM)(
            l.createElement(te, { eventModel: this.props.eventModel }),
            (0, V.RA)(e),
          );
        }
        render() {
          const { eventModel: e } = this.props,
            t = (0, Y.Lh)(
              e.nVotesUp - e.nVotesDown,
              0,
              Number.MAX_SAFE_INTEGER,
            ),
            n = e.GetForumTopicURL(),
            a = (0, G.bk)(n),
            i = (0, g.h4)(),
            o = g.L7.logged_in && J.Get().BCanRepostPartnerEvent();
          return l.createElement(
            y.s,
            { className: Z().Container, "flow-children": "row", focusable: !1 },
            l.createElement(
              "div",
              { className: Z().InnerContainer },
              l.createElement(
                "div",
                { className: Z().VoteContainer },
                l.createElement(
                  "div",
                  { className: Z().VoteCount },
                  l.createElement(k.KJh, { className: Z().VoteUpStaticIcon }),
                  (0, ae.AV)(t),
                ),
                l.createElement(
                  y.s,
                  {
                    focusable: !0,
                    className: (0, L.Z)(
                      X().Button,
                      X().Icon,
                      Z().DiscussionButton,
                      "up" == this.state.myVote ? Z().VoteButtonSelected : "",
                    ),
                    onActivate: this.OnVoteUp,
                  },
                  l.createElement(k.KJh, {
                    className:
                      "up" == this.state.myVote
                        ? Z().VoteUpSelectedIcon
                        : Z().VoteUpIcon,
                  }),
                  l.createElement(
                    "span",
                    { className: Z().DiscussionButtonText },
                    (0, x.Xx)("#Button_RateUp"),
                  ),
                ),
                l.createElement(
                  y.s,
                  {
                    focusable: !0,
                    className: (0, L.Z)(
                      X().Button,
                      X().Icon,
                      Z().DiscussionButton,
                      "down" == this.state.myVote ? Z().VoteButtonSelected : "",
                    ),
                    onActivate: this.OnVoteDown,
                  },
                  l.createElement(k.KJh, {
                    className:
                      "down" == this.state.myVote
                        ? Z().VoteDownSelectedIcon
                        : Z().VoteDownIcon,
                  }),
                ),
              ),
              !i &&
                l.createElement(Oe, {
                  commentCount: e.nCommentCount,
                  discussionURL: a,
                  gotoDiscussion: this.GotoDiscussion,
                }),
              o &&
                l.createElement(
                  "div",
                  { className: Z().VoteContainer },
                  l.createElement(
                    y.s,
                    {
                      focusable: !0,
                      className: (0, L.Z)(
                        X().Button,
                        X().Icon,
                        Z().DiscussionButton,
                        "down" == this.state.myVote
                          ? Z().VoteButtonSelected
                          : "",
                      ),
                      onActivate: this.OpenRepostDialogs,
                    },
                    (0, x.Xx)("#EventRepost_Dialog_Title"),
                  ),
                ),
            ),
            l.createElement(
              "div",
              { className: Z().ShareContainer },
              !this.props.bInGamepadUI &&
                l.createElement(
                  y.s,
                  {
                    focusable: !0,
                    className: (0, L.Z)(
                      X().Button,
                      X().Icon,
                      Z().DiscussionButton,
                    ),
                    onActivate: this.OnShareDialog,
                  },
                  l.createElement(k.mBz, { className: Z().ShareIcon }),
                  l.createElement(
                    "span",
                    { className: Z().DiscussionButtonText },
                    (0, x.Xx)("#Button_Share"),
                  ),
                ),
            ),
          );
        }
      };
      function Oe(e) {
        const { commentCount: t, discussionURL: n, gotoDiscussion: a } = e;
        return l.createElement(
          "div",
          { className: Z().DiscussContainer },
          l.createElement(
            "div",
            { className: Z().DiscussionCount },
            l.createElement(k.IWH, null),
            (0, ae.AV)(t),
          ),
          n &&
            l.createElement(
              ne.IS,
              { href: (0, G.OL)(n) },
              l.createElement(
                "div",
                {
                  className: (0, L.Z)(
                    X().Button,
                    X().Icon,
                    Z().DiscussionButton,
                  ),
                },
                l.createElement(k.IWH, null),
                l.createElement(
                  "span",
                  { className: Z().DiscussionButtonText },
                  (0, x.Xx)("#Button_Discuss"),
                ),
              ),
            ),
          !n &&
            l.createElement(
              y.s,
              {
                focusable: !0,
                onActivate: a,
                className: (0, L.Z)(X().Button, X().Icon, Z().DiscussionButton),
              },
              l.createElement(k.IWH, null),
              l.createElement(
                "span",
                { className: Z().DiscussionButtonText },
                (0, x.Xx)("#Button_Discuss"),
              ),
            ),
        );
      }
      (0, a.gn)([j.ak], Re.prototype, "OnVoteUp", null),
        (0, a.gn)([j.ak], Re.prototype, "OnVoteDown", null),
        (0, a.gn)([j.ak], Re.prototype, "OnShareDialog", null),
        (0, a.gn)([j.ak], Re.prototype, "GotoDiscussion", null),
        (0, a.gn)([j.ak], Re.prototype, "OpenRepostDialogs", null),
        (Re = (0, a.gn)([h.Pi], Re));
      var Be = n(83315),
        Me = n(42977),
        Pe = n(25871),
        Fe = n(6864),
        Ue = n.n(Fe);
      function je(e) {
        return g.L7.logged_in
          ? !g.L7.is_limited ||
              ((0, z.AM)(
                l.createElement($.r, {
                  strTokenOverride: e
                    ? "#SteamAward_Vote_LimitedAccount"
                    : "#SteamAward_Nominate_LimitedAccount",
                }),
                window,
              ),
              !1)
          : ((0, z.AM)(
              l.createElement(q.uH, {
                strTitle: (0, x.Xx)("#EventDisplay_Share_NotLoggedIn"),
                strDescription: (0, x.Xx)(
                  "#EventDisplay_Share_NotLoggedIn_Description",
                ),
                strOKButtonText: (0, x.Xx)("#MobileLogin_SignIn"),
                onOK: K.X,
              }),
              window,
            ),
            !1);
      }
      function He(e, t) {
        var n, i;
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a =
              g.De.STORE_BASE_URL + "steamawards/ajaxgetsteamawardeventdetails",
            l = {
              rgCategories: e,
              t:
                ((r = I.JW.GetTimeNowWithOverride()),
                new Date(1e3 * r).toISOString().slice(0, 19).replace("T", " ")),
            };
          var r;
          try {
            const e = yield o().get(a, {
              params: l,
              withCredentials: !1,
              cancelToken: t.token,
            });
            if (t.token.reason) return null;
            if (
              1 ==
                (null === (n = null == e ? void 0 : e.data) || void 0 === n
                  ? void 0
                  : n.success) &&
              (null === (i = null == e ? void 0 : e.data) || void 0 === i
                ? void 0
                : i.event_details)
            )
              return e.data.event_details;
          } catch (e) {
            const t = (0, Q.l)(e);
            console.error(
              "Could not fetch award event details:" + t.strErrorMsg,
              t,
            );
          }
          return null;
        });
      }
      const Xe = { include_assets: !0 };
      function ze(e) {
        var t, n;
        const { event: a, lang: i, previewMode: o } = e,
          [r] = (0, Be.SZ)(() => [a.GetSteamAwardCategory()]),
          s = (0, N.T)("EventDisplaySteamAwardNomination"),
          [c, d] = (0, l.useState)(null),
          { currentNomination: m, bLoadingNominationForCategory: p } = (0,
          Me.NL)(r);
        if (
          ((0, l.useEffect)(() => {
            He([r], s).then((e) => {
              d(e);
            });
          }, [s, r]),
          !c ||
            !(null === (t = c.rgAwardCategoryDetails) || void 0 === t
              ? void 0
              : t.length) ||
            p)
        )
          return l.createElement(ee.V, {
            size: "small",
            position: "center",
            string: (0, x.Xx)("#Loading"),
          });
        const u = I.JW.GetTimeNowWithOverride();
        if (!o && !c.bIsAutumnSaleActive)
          return l.createElement(
            "div",
            { className: Ue().ExpiredEventHeader },
            " ",
            (0, x.Xx)("#SteamAwards_ExpiredEvent"),
            " ",
          );
        let _ = {};
        c.strBackgroundCSS.length && (_.backgroundColor = c.strBackgroundCSS),
          c.strBackgroundImage.length &&
            (_.backgroundImage = `url( ${c.strBackgroundImage} )`);
        const h =
            1 ==
            (null === (n = c.rgAwardCategoryDetails) || void 0 === n
              ? void 0
              : n.length),
          E =
            a.BIsEventActionEnabled() || u < a.GetStartTimeAndDateUnixSeconds(),
          v = new Date().getFullYear();
        return l.createElement(
          "div",
          {
            style: _,
            className: (0, L.Z)(Ue().SteamAwardContainer, X().PartnerEventFont),
          },
          l.createElement(
            "div",
            { className: Ue().SteamAwardHeader },
            l.createElement("img", {
              className: Ue().SteamAwardHeaderImage,
              src: `${c.strTrophyImg}`,
            }),
            l.createElement(
              "div",
              { className: Ue().SteamAwardMainCtn },
              l.createElement(
                "div",
                { className: Ue().SteamAwardMainTitle },
                (0, x.Xx)("#SteamAwards_EventMainTitle"),
              ),
              l.createElement(
                "div",
                { className: Ue().SteamAwardSubTitle },
                E
                  ? (0, x.Xx)("#SteamAwards_EventCallToAction")
                  : (0, x.Xx)("#SteamAwards_EventVotingDateTeaser", v),
                E &&
                  l.createElement(
                    "a",
                    {
                      href: (0, G.bk)(
                        g.De.STORE_BASE_URL + "steamawards/nominations/",
                      ),
                      className: Ue().SteamAwardLearnMore,
                    },
                    "(",
                    (0, x.Xx)("#EventDisplay_CallToAction_LearnMore"),
                    ")",
                  ),
              ),
              l.createElement(
                "div",
                { className: Ue().SteamAwardHeaderText },
                E
                  ? h
                    ? (0, x.Xx)(
                        "#SteamAwards_EventNominateGamePrompt_Long",
                        a.GetGameTitle(i),
                      )
                    : l.createElement(
                        "a",
                        {
                          className: Ue().LinkText,
                          href: (0, G.bk)(
                            g.De.STORE_BASE_URL + "steamawards/nominations/",
                          ),
                        },
                        (0, x.Xx)(
                          "#SteamAwards_EventNominateGamePrompt_NoCategory",
                          a.GetGameTitle(i),
                        ),
                      )
                  : (0, x.Xx)("#SteamAwards_Event_NominationsClosed"),
              ),
            ),
          ),
          l.createElement(Ve, {
            event: a,
            nominationEventDetails: c,
            currentNomination: m,
          }),
        );
      }
      function Ve(e) {
        var t;
        const { event: n, nominationEventDetails: i, currentNomination: o } = e,
          [r, s] = (0, Be.SZ)(() => [n.GetSteamAwardCategory(), n.appid]),
          c = null == o ? void 0 : o.appid,
          d = (0, Me.TW)(s, r, 0),
          m = Boolean(
            (null == o ? void 0 : o.appid) == s &&
              (null == o ? void 0 : o.category_id) == r,
          ),
          p = (0, l.useCallback)(
            (e) =>
              (0, a.mG)(this, void 0, void 0, function* () {
                if (!e)
                  return void console.log(
                    "EventDisplaySteamAwardNomination: ignore turning off the checkbox",
                  );
                if (!je(!1))
                  return void console.log(
                    "EventDisplaySteamAwardNomination: UserEligibleToNominateOrVote failed",
                  );
                c && c != s
                  ? (0, z.AM)(
                      l.createElement(We, {
                        strLocTokenInfix: "Nomination",
                        newAppID: s,
                        curNominatedAppID: c,
                        fnOnConfirm: d.mutate,
                      }),
                      window,
                    )
                  : d.mutate();
              }),
            [c, s, d],
          ),
          _ = I.JW.GetTimeNowWithOverride(),
          h =
            1 ==
            (null === (t = i.rgAwardCategoryDetails) || void 0 === t
              ? void 0
              : t.length),
          E =
            n.BIsEventActionEnabled() || _ < n.GetStartTimeAndDateUnixSeconds();
        return h && (E || m)
          ? l.createElement(
              "div",
              { className: Ue().SteamAwardVoteWidget },
              l.createElement(
                "div",
                { className: Ue().NominateCtn },
                l.createElement(
                  "div",
                  {
                    style: {
                      background:
                        null == i ? void 0 : i.strNominateButtonBGColor,
                    },
                    className: (0, L.Z)(
                      Ue().SteamAwardNominateButton,
                      m && Ue().Nominated,
                    ),
                  },
                  l.createElement(u.ji, {
                    controlled: !0,
                    className: (0, L.Z)(
                      Ue().SteamAwardVoteCheckBox,
                      m && Ue().Nominated,
                    ),
                    checked: m,
                    onChange: p,
                    disabled: m,
                    color: "#FFFFFF",
                    highlightColor: "white",
                    label: l.createElement(
                      l.Fragment,
                      null,
                      l.createElement(
                        "div",
                        { className: Ue().SteamAwardCategoryTitle },
                        m
                          ? (0, x.kQ)(
                              "#SteamAwards_NominateWidget_CTA_PastTense",
                              i.rgAwardCategoryDetails[0]
                                .strSuggestedCategoryTitle,
                            )
                          : (0, x.kQ)(
                              "#SteamAwards_NominateWidget_CTA",
                              i.rgAwardCategoryDetails[0]
                                .strSuggestedCategoryTitle,
                            ),
                      ),
                    ),
                  }),
                ),
                l.createElement(
                  "span",
                  { className: Ue().SteamAwardCategoryDesc },
                  i.rgAwardCategoryDetails[0].strSuggestedCategoryDesc,
                ),
              ),
              Boolean(E && r != i.eLaborOfLove) &&
                l.createElement(
                  "div",
                  { className: Ue().SteamAwardLinkToNominationPage },
                  l.createElement(
                    "a",
                    {
                      href: (0, G.bk)(
                        g.De.STORE_BASE_URL + "steamawards/nominations/",
                      ),
                    },
                    (0, x.Xx)(
                      "#SteamAwards_EventNominationAlternativeLinkText",
                    ),
                  ),
                ),
            )
          : null;
      }
      function We(e) {
        const {
            curNominatedAppID: t,
            newAppID: n,
            strLocTokenInfix: a,
            fnOnConfirm: i,
            fnOnCancel: o,
            closeModal: r,
          } = e,
          [s] = (0, Pe.vs)(t, Xe),
          [c] = (0, Pe.vs)(n, Xe);
        return l.createElement(
          q.uH,
          {
            modalClassName: Ue().SteamAwardConflictModal,
            strTitle: (0, x.Xx)(`#SteamAward_${a}ConflictWarning_Title`),
            strDescription: (0, x.kQ)(
              `#SteamAward_${e.strLocTokenInfix}ConflictWarning_Explanation`,
              l.createElement(
                "span",
                { className: Ue().SteamAwardModalGameTitle },
                null == s ? void 0 : s.GetName(),
              ),
              l.createElement(
                "span",
                { className: Ue().SteamAwardModalGameTitle },
                null == c ? void 0 : c.GetName(),
              ),
            ),
            closeModal: r,
            onOK: i,
            onCancel: o,
          },
          Boolean(!s || !c)
            ? l.createElement(ee.V, {
                size: "small",
                position: "center",
                string: (0, x.Xx)("#Loading"),
              })
            : l.createElement(
                "div",
                { className: Ue().NominationSwitchCtn },
                l.createElement("img", {
                  src: s.GetAssets().GetSmallCapsuleURL(),
                }),
                "",
                l.createElement("img", {
                  src: c.GetAssets().GetSmallCapsuleURL(),
                }),
              ),
        );
      }
      let Ze = class extends l.Component {
        constructor(e) {
          super(e),
            (this.state = { eCategoryLoaded: null, votedForAppID: null }),
            (this.m_strPreviousVotedForAppTitle = null),
            (this.m_cancelSignal = o().CancelToken.source()),
            (0, S.rC)(this);
        }
        componentDidMount() {
          this.FetchVoteState();
        }
        componentDidUpdate() {
          this.props.eVoteCategory != this.state.eCategoryLoaded &&
            this.FetchVoteState();
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "EventDisplaySteamAwardVote is being unmounted",
          );
        }
        FetchVoteState() {
          var e;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = g.De.STORE_BASE_URL + "steamawards/ajaxgetuservotes";
            if (g.L7.logged_in)
              try {
                const n = yield o().get(t, {
                  withCredentials: !0,
                  cancelToken: this.m_cancelSignal.token,
                });
                if (this.m_cancelSignal.token.reason) return;
                1 ==
                  (null === (e = null == n ? void 0 : n.data) || void 0 === e
                    ? void 0
                    : e.success) &&
                  n.data.votes &&
                  this.UpdateVoteState(n.data.votes);
              } catch (e) {
                const t = (0, Q.l)(e);
                console.error(
                  "Could not fetch previous votes:" + t.strErrorMsg,
                  t,
                );
              }
            else this.UpdateVoteState([]);
          });
        }
        UpdateVoteState(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.props.eVoteCategory,
              a = e[n];
            if (
              (this.setState({ eCategoryLoaded: n, votedForAppID: a }),
              a && a != this.props.appID)
            ) {
              if (
                (yield w.Z.Get().QueueAppRequest(a, {}),
                this.m_cancelSignal.token.reason)
              )
                return;
              this.props.eVoteCategory == n &&
                (this.m_strPreviousVotedForAppTitle =
                  null === (t = w.Z.Get().GetApp(a)) || void 0 === t
                    ? void 0
                    : t.GetName());
            }
          });
        }
        OnVoteClick() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = this.props.eVoteCategory;
            if (e != this.state.eCategoryLoaded) return;
            if (!je(!0)) return;
            const t = this.props.appID;
            this.state.votedForAppID && this.state.votedForAppID != t
              ? this.HandleConflict(() => this.SaveVote(e, t))
              : this.SaveVote(e, t);
          });
        }
        HandleConflict(e) {
          const t = w.Z.Get().GetApp(this.props.appID);
          (0, z.AM)(
            l.createElement(We, {
              strLocTokenInfix: "Vote",
              newAppID: null == t ? void 0 : t.GetAppID(),
              curNominatedAppID: this.state.votedForAppID,
              fnOnConfirm: e,
              fnOnCancel: () => {},
            }),
            window,
          );
        }
        SaveVote(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (
              (this.setState({ eCategoryLoaded: e, votedForAppID: t }),
              this.props.previewMode && 1 == g.De.EUNIVERSE)
            )
              return;
            const n = g.De.STORE_BASE_URL + "steamawards/ajaxvoteforgame",
              a = new URLSearchParams();
            a.append("sessionid", g.De.SESSIONID),
              a.append("categoryid", e.toString()),
              a.append("appid", t.toString());
            try {
              const e = yield o().post(n, a, {
                withCredentials: !0,
                cancelToken: this.m_cancelSignal.token,
              });
              if (this.m_cancelSignal.token.reason) return;
              (e && 200 == e.status && 1 == e.data.success) ||
                console.error("Vote request failed.", e && (0, Q.l)(e));
            } catch (e) {
              const t = (0, Q.l)(e);
              console.error("SaveVote failed: " + t.strErrorMsg, t);
            }
          });
        }
        render() {
          const e = this.props.eVoteCategory,
            t =
              this.state.eCategoryLoaded == e &&
              this.state.votedForAppID == this.props.appID;
          return this.props.bIsEventActionEnabled || this.props.previewMode || t
            ? l.createElement(
                "div",
                { className: (0, L.Z)(Ue().SteamAwardVoteWidget) },
                l.createElement("div", {
                  className: Ue().SteamAwardVotePrompt,
                }),
                l.createElement(
                  "div",
                  { className: Ue().SteamAwardVoteButtonArea },
                  l.createElement(
                    "div",
                    {
                      className: (0, L.Z)(
                        Ue().SteamAwardCategoryTitle,
                        Ue().VotingTitle,
                      ),
                    },
                    this.props.strCategoryTitle,
                  ),
                  !this.props.bRenderFromStorePage &&
                    l.createElement(
                      "span",
                      { className: Ue().SteamAwardCategoryDesc },
                      this.props.strCategoryDesc,
                    ),
                  t
                    ? l.createElement(
                        "div",
                        { className: Ue().SteamAwardVoteButtonSubmitted },
                        l.createElement(
                          "span",
                          { className: Ue().SteamAwardVoteButtonText },
                          (0, x.Xx)("#SteamAward_VoteButton_VotedText"),
                        ),
                      )
                    : l.createElement(
                        "button",
                        {
                          className: Ue().SteamAwardVoteButton,
                          onClick: this.OnVoteClick,
                        },
                        l.createElement(
                          "span",
                          { className: Ue().SteamAwardVoteButtonText },
                          (0, x.Xx)("#SteamAward_VoteButton_PromptText"),
                        ),
                      ),
                ),
              )
            : null;
        }
      };
      (0, a.gn)([S.LO], Ze.prototype, "m_strPreviousVotedForAppTitle", void 0),
        (0, a.gn)([j.ak], Ze.prototype, "OnVoteClick", null),
        (0, a.gn)([j.ak], Ze.prototype, "SaveVote", null),
        (Ze = (0, a.gn)([h.Pi], Ze));
      l.Component;
      let qe = class extends l.Component {
        constructor(e) {
          super(e),
            (this.m_cancelSignal = o().CancelToken.source()),
            (this.m_awardEventDetails = null),
            (0, S.rC)(this),
            (this.state = { bAppInfoLoaded: !1 });
        }
        componentDidMount() {
          w.Z.Get()
            .QueueAppRequest(this.props.appID, {})
            .then(() => {
              w.Z.Get().BHasApp(this.props.appID) &&
                this.setState({ bAppInfoLoaded: !0 });
            }),
            He(this.props.voteCategories, this.m_cancelSignal).then((e) => {
              this.m_awardEventDetails = e;
            });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "WinterSaleSteamAwardVoteWrapper is being unmounted",
          );
        }
        GetNominatedAwardCategories() {
          var e;
          let t = [];
          return (
            null === (e = this.m_awardEventDetails.rgAwardCategoryDetails) ||
              void 0 === e ||
              e.forEach((e) => {
                t.push(
                  l.createElement(
                    Ze,
                    Object.assign(
                      {
                        key: e.eSteamAwardCategoryID,
                        eVoteCategory: e.eSteamAwardCategoryID,
                        strCategoryDesc: e.strSuggestedCategoryDesc,
                        strCategoryTitle: e.strSuggestedCategoryTitle,
                      },
                      this.props,
                    ),
                  ),
                );
              }),
            t
          );
        }
        render() {
          var e;
          if (!this.state.bAppInfoLoaded || !this.props.voteCategories)
            return null;
          if (!this.m_awardEventDetails) return null;
          let t = {};
          return (
            this.m_awardEventDetails.strBackgroundCSS.length &&
              (t.backgroundColor = this.m_awardEventDetails.strBackgroundCSS),
            this.m_awardEventDetails.strBackgroundImage.length &&
              (t.backgroundImage = `url( ${this.m_awardEventDetails.strBackgroundImage} )`),
            l.createElement(
              "div",
              {
                style: t,
                className: (0, L.Z)(
                  Ue().SteamAwardContainer,
                  X().PartnerEventFont,
                ),
              },
              l.createElement(
                "div",
                { className: Ue().SteamAwardHeader },
                l.createElement("img", {
                  className: Ue().SteamAwardHeaderImage,
                  src: this.m_awardEventDetails.strTrophyImg,
                }),
                l.createElement(
                  "div",
                  { className: Ue().SteamAwardMainCtn },
                  l.createElement(
                    "div",
                    { className: Ue().SteamAwardMainTitle },
                    " ",
                    (0, x.Xx)("#SteamAwards_EventMainTitleCombined"),
                    " ",
                  ),
                  l.createElement(
                    "div",
                    { className: Ue().SteamAwardHeaderText },
                    this.props.bIsEventActionEnabled
                      ? l.createElement(
                          l.Fragment,
                          null,
                          (0, x.Xx)(
                            "#SteamAwards_EventVoteForGamePrompt",
                            null === (e = w.Z.Get().GetApp(this.props.appID)) ||
                              void 0 === e
                              ? void 0
                              : e.GetName(),
                          ),
                          l.createElement(
                            "a",
                            {
                              href: (0, G.bk)(
                                g.De.STORE_BASE_URL + "steamawards/",
                              ),
                              className: (0, L.Z)(
                                Ue().SteamAwardLearnMore,
                                Ue().BottomRight,
                              ),
                            },
                            (0, x.Xx)("#EventDisplay_CallToAction_LearnMore"),
                          ),
                        )
                      : l.createElement(
                          "a",
                          {
                            href: (0, G.bk)(
                              g.De.STORE_BASE_URL + "steamawards/",
                            ),
                            className: Ue().LinkText,
                          },
                          (0, x.Xx)("#SteamAwards_Event_VotesClosed"),
                        ),
                  ),
                  l.createElement(
                    "div",
                    { className: Ue().AwardCategoriesCtn },
                    this.GetNominatedAwardCategories(),
                  ),
                ),
              ),
            )
          );
        }
      };
      (0, a.gn)([S.LO], qe.prototype, "m_awardEventDetails", void 0),
        (qe = (0, a.gn)([h.Pi], qe));
      var Ye = n(83809),
        Qe = n.n(Ye),
        Ke = n(5411),
        $e = n(19094);
      var Je = n(21904),
        et = n(73406);
      function tt(e) {
        const { appid: t } = e,
          n = (function (e) {
            const [t, n] = (0, l.useState)(void 0),
              a = (0, g.h4)();
            return (
              (0, l.useEffect)(() => {
                if (a || !e) n([]);
                else {
                  const t = new $e.J(g.De.WEBAPI_BASE_URL),
                    a = pe.gA.Init(Ke.Fi);
                  a.Body().set_account_type(3),
                    a.Body().set_account_id("" + e),
                    a.Body().set_return_access_token(!1),
                    Ke.it
                      .GetLinkedAccountInfo(t.GetServiceTransport(), a)
                      .then((e) => {
                        var t;
                        return n(
                          (null === (t = e.Body().external_accounts()) ||
                          void 0 === t
                            ? void 0
                            : t.map((e) => ({
                                external_type: e.external_type(),
                                external_id: e.external_id(),
                                external_user_name: e.external_user_name(),
                                external_url: e.external_url(),
                                external_follows: void 0,
                              }))) || [],
                        );
                      })
                      .catch(() => n([]));
                }
              }, [e, a, n]),
              t
            );
          })(t);
        return n && 0 != n.length && g.De.IMG_URL
          ? l.createElement(
              "div",
              { className: Qe().AppSocialLinksCtn },
              l.createElement(
                "div",
                { className: X().EventEditorTextTitle },
                (0, x.Xx)("#EventDisplay_SocialTitle"),
              ),
              l.createElement(
                "div",
                { className: Qe().AppSocialLinks },
                n
                  .filter((e) => 3 != e.external_type)
                  .map((e) =>
                    l.createElement(nt, {
                      key: "app_social_link_" + t + "_" + e.external_type,
                      social: e,
                    }),
                  ),
              ),
            )
          : null;
      }
      function nt(e) {
        const { social: t } = e,
          n =
            g.De.IMG_URL +
            "social/" +
            (0, x.Xx)(
              "#SocialMedia_Type_ShortName_" + t.external_type,
            ).toLocaleLowerCase() +
            "_large.png";
        return l.createElement(
          "a",
          {
            href: (0, G.bk)(t.external_url),
            "data-tooltip-text": t.external_user_name,
            target: g.De.IN_CLIENT ? void 0 : "_blank",
            rel: "noopener noreferrer",
          },
          l.createElement("img", { className: Qe().AppSocialLink, src: n }),
        );
      }
      function at(e) {
        const { event: t, dateRangeLayout: n = "horizontal" } = e,
          [a, i, o] = (0, Be.SZ)(() => [
            t.GetStartTimeAndDateUnixSeconds(),
            t.GetEndTimeAndDateUnixSeconds(),
            t.type,
          ]),
          r = {};
        return (
          "vertical" == n && (r.ShortDateRange = Qe().VerticalLocalDateAndTime),
          l.createElement(
            "div",
            { className: Qe().EventDetailTimeInfo },
            l.createElement(Je.uv, {
              startDateAndTime: a,
              endDateAndTime: i,
              bHideEndTime: !(0, et.G1)(o),
              stylesmodule: r,
            }),
          )
        );
      }
      var it = n(87178),
        ot = n(60729),
        lt = n(97352),
        rt = n(38279),
        st = n.n(rt);
      function ct(e) {
        const { event: t } = e,
          n = (0, Be.SZ)(() => {
            var e;
            return (
              (null === (e = t.jsondata) || void 0 === e
                ? void 0
                : e.referenced_appids) || []
            );
          }),
          [a, i] = l.useState(!1);
        if (
          (l.useEffect(() => {
            w.Z.Get()
              .QueueMultipleAppRequests(n, {})
              .then(() => i(!0));
          }, [n]),
          !n.length || !a)
        )
          return null;
        const o = n
            .map((e) => w.Z.Get().GetApp(e))
            .filter(Boolean)
            .map((e) => `[url="${e.GetStorePageURL()}"]${e.GetName()}[/url]`)
            .join((0, x.Xx)("#EventDisplay_ReferencedApps_Joiner")),
          r = (0, x.kb)("#EventDisplay_ReferencedApps", n.length, o);
        return l.createElement(
          "div",
          { className: st().ReferencedApps },
          l.createElement(Ce.d, { text: r }),
        );
      }
      var dt = n(34329);
      n(74831);
      function mt(e) {
        const { children: t } = e;
        return (0, g.id)() && !g.De.IN_STEAMUI
          ? l.createElement(
              dt.TN,
              { className: H.GamepadOnlyScrollPanel },
              l.createElement(
                y.s,
                {
                  focusable: !0,
                  noFocusRing: !0,
                  className: H.GamepadOnlyPanel,
                },
                t,
              ),
            )
          : l.createElement(l.Fragment, null, t);
      }
      var pt = n(55330);
      const ut = l.lazy(() =>
        Promise.all([n.e(2706), n.e(4601)]).then(n.bind(n, 66435)),
      );
      function _t(e) {
        var t;
        const [n, a] = (0, Pe.vs)(e.appid, { include_assets: !0 }),
          [i, o] = (0, b.KU)(e.clanID);
        let r = "";
        return (
          e.appid
            ? (r =
                (null === (t = null == n ? void 0 : n.GetAssets()) ||
                void 0 === t
                  ? void 0
                  : t.GetCommunityIconURL()) || "")
            : e.clanID && (r = o ? o.avatar_full_url : ""),
          l.createElement(
            "div",
            {
              className: (0, L.Z)(O().ScrollButton, O().GameArt, O().AnimIn),
              onClick: e.onAppIconClick,
            },
            r && l.createElement("img", { src: r }),
          )
        );
      }
      let ht = class extends l.Component {
        constructor(e) {
          super(e),
            (this.m_loader = null),
            (this.m_refPage = l.createRef()),
            (this.m_refContent = l.createRef()),
            (this.m_refScroll = l.createRef()),
            (this.m_refScrollAnchor = l.createRef()),
            (this.m_scrollAnimation = null),
            (this.m_nPreviousRenderCount = 0),
            (this.m_nCurrentRenderCount = 0),
            !this.props.bShowOnlyInitialEvent &&
              this.props.initialEvent &&
              ((this.m_loader = new ft(this.props.partnerEventStore)),
              this.m_loader.InitAroundEvent(
                this.props.initialEvent,
                this.props.additionalParams,
              ));
        }
        FindCurrentlyViewedEventIndex() {
          if (!this.m_refContent.current || !this.m_refScroll.current)
            return -1;
          let e = this.m_refContent.current.children,
            t = this.GetScrollTopForComparison();
          for (let n = 0; n < e.length; n++) {
            let a = e[n],
              i = a.offsetTop,
              o = i + a.clientHeight;
            if (i <= t && o > t) return n;
          }
          return -1;
        }
        GetPaddingTop() {
          return this.props.showAppHeader ? 136 : 56;
        }
        GetScrollTopForComparison() {
          return Math.ceil(
            this.m_refScroll.current.scrollTop + this.GetPaddingTop() + 24,
          );
        }
        ScrollToEvent(e) {
          let t = this.m_refContent.current;
          if (!t) return;
          if (e < 0 || e >= t.children.length) return;
          if (this.m_scrollAnimation) return;
          let n = t.children[e].offsetTop - this.GetPaddingTop();
          this.ScrollToOffset(n);
        }
        ScrollToOffset(e) {
          let t = this.m_refScroll.current;
          if (!t) return;
          let n = {
            msDuration: 500,
            timing: "cubic-in-out",
            onComplete: this.OnScrollComplete,
          };
          (this.m_scrollAnimation = new ot.jg(t, { scrollTop: e }, n)),
            this.m_scrollAnimation.Start();
        }
        ScrollToBottom() {
          this.m_refScroll.current &&
            this.ScrollToOffset(this.m_refScroll.current.scrollHeight);
        }
        ScrollToNextEvent() {
          let e = this.m_loader.GetEvents(),
            t = this.FindCurrentlyViewedEventIndex() + 1;
          t >= e.length
            ? this.ScrollToBottom()
            : (this.ScrollToEvent(t),
              t == e.length - 1 && this.m_loader.LoadMoreAtEnd());
        }
        ScrollToPrevEvent() {
          let e = this.FindCurrentlyViewedEventIndex(),
            t = e - 1;
          if (t < 0) return void this.ScrollToOffset(0);
          let n = this.m_refContent.current;
          if (n) {
            let a = n.children[e],
              i = a.offsetTop,
              o = i + a.clientHeight,
              l = this.GetScrollTopForComparison();
            (l -= 0.3 * (o - i)), i <= l && (t = e);
          }
          this.ScrollToEvent(t);
        }
        OnScrollComplete() {
          this.m_scrollAnimation = null;
        }
        Close() {
          this.props.closeModal && this.props.closeModal();
        }
        OnBackgroundClick(e) {
          e.currentTarget == e.target && this.Close();
        }
        OnKeyDown(e) {
          27 == e.keyCode && this.Close();
        }
        OnScroll(e) {
          if (this.props.bShowOnlyInitialEvent) return;
          let t = this.m_refScroll.current;
          if (!t) return;
          let n = t.clientHeight;
          t.scrollHeight - (t.scrollTop + n) <= n &&
            this.m_loader.LoadMoreAtEnd(),
            t.scrollTop <= n && this.m_loader.LoadMoreAtBeginning();
        }
        getSnapshotBeforeUpdate(e) {
          let t = this.m_nCurrentRenderCount != this.m_nPreviousRenderCount;
          if (((this.m_nPreviousRenderCount = this.m_nCurrentRenderCount), !t))
            return null;
          let n = this.m_refScroll.current;
          if (!n || !this.m_refScrollAnchor.current) return null;
          let a = this.m_refScrollAnchor.current.GetDOM();
          return a ? a.offsetTop - n.scrollTop : null;
        }
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientY = e.touches[0].clientY);
        }
        OnTouchMove(e) {
          if (!this.m_refScroll.current || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientY - e.touches[0].clientY;
          this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e, t);
        }
        OnWheel(e) {
          this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e, e.deltaY);
        }
        SuppressUnwantedScrollEventsBecauseSafariIsDumb(e, t) {
          const n = V.GB(e.target) && V.ni(this.m_refScroll.current, e.target),
            a = t < 0 && this.m_refScroll.current.scrollTop < 1,
            i =
              this.m_refScroll.current.scrollHeight -
                this.m_refScroll.current.scrollTop <=
              this.m_refScroll.current.clientHeight;
          (!n || a || (t > 0 && i)) && e.cancelable && e.preventDefault();
        }
        SetGlobalHeaderHidden(e) {
          const t = document.getElementsByClassName("responsive_header");
          (0, Se.X)(t.length <= 1, "Must have at most one responsive_header"),
            t.length >= 1 && (t[0].style.display = e ? "none" : null);
        }
        SetFooterPinnedToBottom(e) {
          const t = document.getElementById("footer");
          t && (t.style.position = e ? "absolute" : null);
        }
        componentDidMount() {
          const e = this.m_refScroll.current;
          e && !V.ni(e, e.ownerDocument.activeElement) && e.focus();
          const t = this.m_refPage.current;
          t &&
            (t.addEventListener("touchstart", this.OnTouchStart),
            t.addEventListener("touchmove", this.OnTouchMove, { passive: !1 }),
            t.addEventListener("wheel", this.OnWheel, { passive: !1 })),
            this.props.showAppHeader && this.SetGlobalHeaderHidden(!0),
            this.SetFooterPinnedToBottom(!0);
        }
        componentDidUpdate(e, t, n) {
          if (null !== n) {
            let e = this.m_refScroll.current;
            e && !V.ni(e, e.ownerDocument.activeElement) && e.focus();
            let t = this.m_refScrollAnchor.current
              ? this.m_refScrollAnchor.current.GetDOM()
              : null;
            t && (e.scrollTop = t.offsetTop - n);
          }
        }
        componentWillUnmount() {
          const e = this.m_refPage.current;
          e &&
            (e.removeEventListener("touchstart", this.OnTouchStart),
            e.removeEventListener("touchmove", this.OnTouchMove),
            e.removeEventListener("wheel", this.OnWheel)),
            this.props.showAppHeader && this.SetGlobalHeaderHidden(!1),
            this.SetFooterPinnedToBottom(!1);
        }
        render() {
          var e;
          const { initialEvent: t, bShowOnlyInitialEvent: n } = this.props,
            a = !t,
            i = a ? [] : n ? [t] : this.m_loader.GetEvents(),
            o = [];
          let r = this.props.appid,
            s =
              null === (e = this.props.clanSteamID) || void 0 === e
                ? void 0
                : e.GetAccountID();
          for (const e of i) {
            const t = e.GID == this.props.initialEvent.GID,
              n = t;
            o.push(
              l.createElement(Et, {
                ref: t ? this.m_refScrollAnchor : null,
                key: e.GID,
                event: e,
                emoticonStore: this.props.emoticonStore,
                partnerEventStore: this.props.partnerEventStore,
                disableReadTracking: t,
                fnFilterImageURLsForKnownFailures:
                  this.props.fnFilterImageURLsForKnownFailures,
                fnImageFailureCallback: this.props.fnImageFailureCallback,
                bDisableBroadcastPlayer: !n,
                className: this.props.eventClassName,
              }),
            ),
              null == r && (r = e.appid),
              null == s && (s = e.clanSteamID.GetAccountID());
          }
          return (
            (this.m_nCurrentRenderCount = o.length),
            l.createElement(
              y.s,
              {
                onCancelButton: this.props.closeModal,
                className: O().AppPartnerEventsPage,
                ref: this.m_refPage,
              },
              this.props.showAppHeader &&
                l.createElement(yt, { appId: r, clanId: s }),
              l.createElement(
                "div",
                {
                  className: (0, L.Z)(
                    O().AppPartnerEventsBody,
                    O().EndlessScroll,
                  ),
                  ref: this.m_refScroll,
                  onScroll: this.OnScroll,
                  onClick: this.OnBackgroundClick,
                  tabIndex: -1,
                  onKeyDown: this.OnKeyDown,
                },
                a
                  ? l.createElement(
                      "div",
                      { className: O().NoEvents },
                      (0, x.Xx)("#EventDisplay_NoEventsToSee"),
                    )
                  : l.createElement(
                      l.Fragment,
                      null,
                      l.createElement(
                        "div",
                        {
                          className: (0, L.Z)(
                            O().ControlSection,
                            !this.props.onAppIconClick && O().NoGameLink,
                            n && O().NoScrollArrows,
                          ),
                        },
                        l.createElement(
                          "div",
                          { className: O().ControlSectionWidth },
                          l.createElement(
                            "div",
                            { className: O().ControlSectionRightSide },
                            Boolean(this.props.closeModal) &&
                              l.createElement(
                                "div",
                                {
                                  className: (0, L.Z)(
                                    O().CloseButton,
                                    O().AnimIn,
                                  ),
                                  onClick: this.Close,
                                },
                                l.createElement(k.pVO, null),
                              ),
                            !n &&
                              l.createElement(
                                "div",
                                {
                                  className: (0, L.Z)(
                                    O().ScrollButton,
                                    O().Up,
                                    O().AnimIn,
                                  ),
                                  onClick: this.ScrollToPrevEvent,
                                },
                                l.createElement(k.V7n, { angle: 0 }),
                              ),
                            !n &&
                              l.createElement(
                                "div",
                                {
                                  className: (0, L.Z)(
                                    O().ScrollButton,
                                    O().Down,
                                    O().AnimIn,
                                  ),
                                  onClick: this.ScrollToNextEvent,
                                },
                                l.createElement(k.V7n, { angle: 180 }),
                              ),
                            this.props.onAppIconClick &&
                              l.createElement(_t, {
                                appid: r,
                                clanID: s,
                                onAppIconClick: this.props.onAppIconClick,
                              }),
                          ),
                        ),
                      ),
                      !n &&
                        l.createElement(gt, {
                          loader: this.m_loader,
                          location: "top",
                        }),
                      l.createElement(
                        "div",
                        {
                          ref: this.m_refContent,
                          className: (0, L.Z)(
                            O().AppPartnerEventsContainer,
                            !this.props.onAppIconClick && O().NoGameLink,
                          ),
                        },
                        o,
                      ),
                      !n &&
                        l.createElement(gt, {
                          loader: this.m_loader,
                          location: "bottom",
                        }),
                      Boolean(n) &&
                        l.createElement(
                          B.JW,
                          { eventModel: t, route: B.Ue.k_eStoreNewsHub },
                          (0, x.Xx)("#EventBrowse_MoreEventsBtn"),
                        ),
                    ),
              ),
            )
          );
        }
      };
      (0, a.gn)([j.ak], ht.prototype, "ScrollToNextEvent", null),
        (0, a.gn)([j.ak], ht.prototype, "ScrollToPrevEvent", null),
        (0, a.gn)([j.ak], ht.prototype, "OnScrollComplete", null),
        (0, a.gn)([j.ak], ht.prototype, "Close", null),
        (0, a.gn)([j.ak], ht.prototype, "OnBackgroundClick", null),
        (0, a.gn)([j.ak], ht.prototype, "OnKeyDown", null),
        (0, a.gn)([j.ak], ht.prototype, "OnScroll", null),
        (0, a.gn)([j.ak], ht.prototype, "OnTouchStart", null),
        (0, a.gn)([j.ak], ht.prototype, "OnTouchMove", null),
        (0, a.gn)([j.ak], ht.prototype, "OnWheel", null),
        (ht = (0, a.gn)([h.Pi], ht));
      const gt = (0, h.Pi)((e) => {
          let t = e.loader.GetNewerState(),
            n = e.loader.GetOlderState();
          return t == St.Loading && n == St.Loading
            ? null
            : ("top" == e.location ? t : n) == St.Loading
            ? l.createElement(
                "div",
                { className: O().DirectionState },
                l.createElement(ee.V, {
                  position: "center",
                  string: (0, x.Xx)("#Loading"),
                }),
              )
            : null;
        }),
        Et = l.forwardRef(function (e, t) {
          const n = (0, g.id)(),
            [a, i] = (0, Pe.vs)(e.event.appid, { include_assets: !0 });
          return l.createElement(
            vt,
            Object.assign({ ref: t }, e, { bInGamepadUI: n, storeItem: a }),
          );
        });
      let vt = class extends l.Component {
        constructor() {
          super(...arguments),
            (this.m_refContent = l.createRef()),
            (this.m_sendReadInfo = new fe.Ar()),
            (this.m_bSentRead = !1);
        }
        OnEnterVisible() {
          if (this.m_bSentRead || this.m_sendReadInfo.IsScheduled()) return;
          this.m_sendReadInfo.Schedule(750, () => {
            C.cb.Get().RecordEventRead(this.props.event, 4),
              (this.m_bSentRead = !0);
          });
        }
        OnLeaveVisible() {
          this.m_sendReadInfo.Cancel();
        }
        GetDOM() {
          return this.m_refContent.current;
        }
        render() {
          const {
              event: e,
              langOverride: t,
              partnerEventStore: n,
              emoticonStore: a,
              className: i,
              additionalTypeAndDateElement: o,
              fnFilterImageURLsForKnownFailures: s,
              fnImageFailureCallback: c,
              headerClassnames: d,
              isPreview: m,
              storeItem: p,
            } = this.props,
            u = t || (0, r.jM)(g.De.LANGUAGE),
            _ = e.GetDescriptionWithFallback(u) || "",
            h = d;
          let E = e.GetImageForSizeAsArrayWithFallback(
            "background",
            u,
            D.FN.background_main,
          );
          s && (E = s(E));
          const v = e.GetCategoryAsString(),
            S = e.type,
            y = e.BImageNeedScreenshotFallback("background", u);
          let C = "";
          if (e.appid) C = (null == p ? void 0 : p.GetName()) || "";
          else if (e.clanSteamID) {
            const t = b.sV.GetClanInfoByClanAccountID(
              e.clanSteamID.GetAccountID(),
            );
            C = t ? t.group_name : "";
          }
          const T = I.JW.GetTimeNowWithOverride(),
            w = 28 !== S && T < e.GetStartTimeAndDateUnixSeconds() && !m;
          return l.createElement(
            mt,
            null,
            l.createElement(
              "div",
              {
                ref: this.m_refContent,
                className: (0, L.Z)(
                  i,
                  O().PartnerEvent,
                  Qe().InLibraryView,
                  "editor" == h ? Qe().InEditor : "",
                ),
              },
              12 != S &&
                !y &&
                l.createElement(it.j, {
                  className: (0, L.Z)(Qe().EventCoverImageBackground),
                  rgSources: E,
                  onIncrementalError: (e, t, n) => c && c(t),
                }),
              E.length > 0 &&
                l.createElement(it.j, {
                  className: Qe().EventBackgroundBlur,
                  rgSources: E,
                  onIncrementalError: (e, t, n) => c && c(t),
                }),
              l.createElement(
                "div",
                { className: Qe().LibraryEventTitleContainer },
                l.createElement(
                  "div",
                  { className: Qe().EventDetailTitleContainer },
                  this.props.headerElement,
                  l.createElement(
                    "div",
                    {
                      className: (0, L.Z)(
                        O().EventTypeAndTimeRow,
                        w && O().WithReminder,
                      ),
                    },
                    l.createElement(
                      "div",
                      { className: O().TimeandPostedBy },
                      l.createElement("span", { className: O().EventType }, v),
                      l.createElement(
                        "span",
                        { className: O().PostedBy },
                        " ",
                        (0, x.Xx)("#EventDisplay_PostedBy"),
                        C,
                        " ",
                      ),
                      l.createElement(at, { event: e }),
                    ),
                    w &&
                      !m &&
                      l.createElement(
                        "div",
                        { className: O().ReminderContainer },
                        l.createElement(lt.m, {
                          eventModel: e,
                          lang: u,
                          bExpandLeft: !0,
                        }),
                      ),
                    !m && o,
                  ),
                  !this.props.disableReadTracking &&
                    !m &&
                    l.createElement(f.h, {
                      onEnter: this.OnEnterVisible,
                      onLeave: this.OnLeaveVisible,
                      bottomOffset: "300px",
                    }),
                  this.props.bInGamepadUI
                    ? l.createElement(
                        "div",
                        { className: Qe().EventDetailTitle },
                        e.GetNameWithFallback(u),
                      )
                    : l.createElement(
                        B.JW,
                        {
                          eventModel: e,
                          route: B.Ue.k_eView,
                          className: Qe().EventDetailTitle,
                        },
                        e.GetNameWithFallback(u),
                      ),
                  e.BHasSubTitle(u) &&
                    l.createElement(
                      "div",
                      {
                        className: (0, L.Z)(
                          Qe().EventDetailsSubTitle,
                          O().LibraryViewSubtitle,
                        ),
                      },
                      e.GetSubTitle(u),
                    ),
                  l.createElement("div", {
                    className: Qe().EventDetailUserType,
                  }),
                ),
              ),
              Boolean(
                e.BEventCanShowBroadcastWidget() &&
                  !this.props.bDisableBroadcastPlayer,
              ) &&
                l.createElement(
                  "div",
                  { className: Qe().EventBroadcastCtn },
                  l.createElement(
                    l.Suspense,
                    { fallback: null },
                    l.createElement(ut, { event: this.props.event }),
                  ),
                ),
              e.BHasTag("steam_award_nomination_request") &&
                l.createElement(ze, { event: e, lang: u }),
              e.BHasTag("steam_award_vote_request") &&
                l.createElement(qe, {
                  appID: e.appid,
                  bIsEventActionEnabled: e.BIsEventActionEnabled(),
                  voteCategories: e.GetSteamAwardNomineeCategories(),
                }),
              l.createElement(
                "div",
                { className: Qe().LibraryEventBodyContainer },
                l.createElement(
                  "div",
                  {
                    className: (0, L.Z)(
                      Qe().EventDetailsBody,
                      O().EventDetailsBody,
                    ),
                    onContextMenu: g.De.IN_CLIENT ? A.T : void 0,
                  },
                  l.createElement(Ce.d, {
                    text: _,
                    partnerEventStore: n,
                    event: e,
                  }),
                  l.createElement("span", { className: X().Clear }),
                ),
                l.createElement(ct, { event: this.props.event }),
                Boolean(e.jsondata.read_more_link) &&
                  l.createElement(
                    "div",
                    { className: (0, L.Z)(O().ReadMoreCnt) },
                    l.createElement(
                      ce.ns,
                      {
                        className: (0, L.Z)(X().Button),
                        href: e.jsondata.read_more_link,
                      },
                      (0, x.Xx)("#EventEmail_Button_ClickForMoreDetails"),
                    ),
                  ),
                Boolean(e.jsondata.bSaleEnabled && e.jsondata.sale_vanity_id) &&
                  l.createElement(
                    "div",
                    { className: (0, L.Z)(O().ReadMoreCnt) },
                    l.createElement(pt.i, { gidEvent: e.GID }),
                    l.createElement(
                      "a",
                      {
                        className: (0, L.Z)(X().Button, "LinkButton"),
                        href: (0, G.OL)(e.GetSaleURL()),
                      },
                      (0, x.Xx)("#Event_Button_VisitSalePage"),
                    ),
                  ),
                l.createElement(tt, { appid: e.appid }),
              ),
              !Boolean(m) &&
                l.createElement(Ge, {
                  eventModel: e,
                  partnerEventStore: n,
                  emoticonStore: a,
                }),
            ),
          );
        }
      };
      var St;
      (0, a.gn)([j.ak], vt.prototype, "OnEnterVisible", null),
        (0, a.gn)([j.ak], vt.prototype, "OnLeaveVisible", null),
        (vt = (0, a.gn)([h.Pi], vt)),
        (function (e) {
          (e[(e.Idle = 1)] = "Idle"),
            (e[(e.Loading = 2)] = "Loading"),
            (e[(e.EndOfContent = 3)] = "EndOfContent");
        })(St || (St = {}));
      class ft {
        constructor(e) {
          (this.k_nMaxPerDirection = 3),
            (this.m_nAppID = 0),
            (this.m_rgEvents = []),
            (this.m_eOlderDirection = St.Idle),
            (this.m_eNewerDirection = St.Idle),
            (0, S.rC)(this),
            (this.m_partnerEventStore = e);
        }
        GetEvents() {
          return this.m_rgEvents;
        }
        GetAppID() {
          return this.m_nAppID;
        }
        GetOlderState() {
          return this.m_eOlderDirection;
        }
        GetNewerState() {
          return this.m_eNewerDirection;
        }
        InitAroundEvent(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.m_partnerEventStore;
            (this.m_nAppID = e.appid),
              (this.m_clanSteamID = e.clanSteamID),
              (this.m_rgEvents = []),
              (this.m_eOlderDirection = St.Loading),
              (this.m_eNewerDirection = St.Loading),
              (this.m_additionalParams = t),
              this.m_rgEvents.push(e);
            let a = null;
            try {
              a = yield n.LoadAdjacentPartnerEventsByEvent(
                e,
                this.m_clanSteamID,
                this.m_nAppID,
                this.k_nMaxPerDirection,
                this.k_nMaxPerDirection,
                this.m_additionalParams,
              );
            } catch (e) {}
            (0, S.z)(() => {
              if (!a || 0 == a.length)
                return (
                  (this.m_eOlderDirection = St.EndOfContent),
                  void (this.m_eNewerDirection = St.EndOfContent)
                );
              let t = a.findIndex((t) => t.GID == e.GID),
                n = t,
                i = t >= 0 ? a.length - t - 1 : 0;
              (this.m_eNewerDirection =
                n >= this.k_nMaxPerDirection ? St.Idle : St.EndOfContent),
                (this.m_eOlderDirection =
                  i >= this.k_nMaxPerDirection ? St.Idle : St.EndOfContent),
                (this.m_rgEvents = a);
            });
          });
        }
        LoadMoreAtEnd() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_eOlderDirection != St.Idle) return;
            if (0 == this.m_rgEvents.length) return;
            let e = this.m_rgEvents[this.m_rgEvents.length - 1];
            this.m_eOlderDirection = St.Loading;
            let t = null;
            try {
              const n = this.m_partnerEventStore;
              t = yield n.LoadAdjacentPartnerEventsByEvent(
                e,
                this.m_clanSteamID,
                this.m_nAppID,
                0,
                this.k_nMaxPerDirection,
                this.m_additionalParams,
              );
            } catch (e) {}
            (0, S.z)(() => {
              if (!t) return void (this.m_eOlderDirection = St.Idle);
              const e = new Set(this.m_rgEvents.map((e) => e.GID));
              for (let n of t)
                e.has(n.GID) || (this.m_rgEvents.push(n), e.add(n.GID));
              this.m_eOlderDirection =
                t.length >= this.k_nMaxPerDirection ? St.Idle : St.EndOfContent;
            });
          });
        }
        LoadMoreAtBeginning() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_eNewerDirection != St.Idle) return;
            if (0 == this.m_rgEvents.length) return;
            let e = this.m_rgEvents[0];
            this.m_eNewerDirection = St.Loading;
            let t = null;
            try {
              const n = this.m_partnerEventStore;
              t = yield n.LoadAdjacentPartnerEventsByEvent(
                e,
                this.m_clanSteamID,
                this.m_nAppID,
                this.k_nMaxPerDirection,
                0,
              );
            } catch (e) {}
            (0, S.z)(() => {
              if (!t) return void (this.m_eNewerDirection = St.Idle);
              const e = new Set(this.m_rgEvents.map((e) => e.GID));
              for (let n of t.reverse())
                e.has(n.GID) || (this.m_rgEvents.unshift(n), e.add(n.GID));
              this.m_eNewerDirection =
                t.length >= this.k_nMaxPerDirection ? St.Idle : St.EndOfContent;
            });
          });
        }
      }
      (0, a.gn)([S.LO.shallow], ft.prototype, "m_rgEvents", void 0),
        (0, a.gn)([S.LO], ft.prototype, "m_eOlderDirection", void 0),
        (0, a.gn)([S.LO], ft.prototype, "m_eNewerDirection", void 0);
      const yt = (0, h.Pi)((e) =>
        l.createElement(
          "div",
          {
            className: (0, L.Z)(
              O().AppPartnerEventsBanner,
              "AppPartnerEventsBanner",
            ),
          },
          l.createElement(U, Object.assign({}, e)),
        ),
      );
      var Dt = n(60361);
      let bt = class extends l.Component {
        constructor() {
          super(...arguments), (this.m_refFocus = l.createRef());
        }
        componentDidMount() {
          this.props.fnClose &&
            (document.addEventListener("keydown", this.escFunction, !1),
            this.m_refFocus.current && this.m_refFocus.current.focus());
        }
        componentWillUnmount() {
          this.props.fnClose &&
            document.removeEventListener("keydown", this.escFunction, !1);
        }
        escFunction(e) {
          const { fnClose: t } = this.props;
          27 === e.keyCode && t && t();
        }
        OnBackgroundClick(e) {
          e.currentTarget == e.target && this.props.fnClose();
        }
        render() {
          const { event: e, langOverride: t, isPreview: n } = this.props;
          return l.createElement(
            "div",
            {
              ref: this.m_refFocus,
              className: Dt.Main,
              onClick: this.OnBackgroundClick,
            },
            l.createElement(Et, {
              key: e.GID,
              event: e,
              emoticonStore: m.F,
              partnerEventStore: v.Get(),
              langOverride: t,
              isPreview: n,
              bDisableBroadcastPlayer: !1,
            }),
          );
        }
      };
      (0, a.gn)([j.ak], bt.prototype, "escFunction", null),
        (0, a.gn)([j.ak], bt.prototype, "OnBackgroundClick", null),
        (bt = (0, a.gn)([h.Pi], bt));
      var It = n(41200),
        Ct = n(11837),
        At = n(11170),
        Tt = n(15854);
      function wt(e, t, n) {
        const a = e && e.length > n ? [...e] : (0, Ct.LG)(e || [], n + 1, "");
        return (a[n] = t), a;
      }
      function kt(e, t) {
        return (e && e.length > t && e[t]) || "";
      }
      function Nt(e, t) {
        let n = !1,
          a = !1;
        for (let i = 0; i < 31; i++) {
          const o = kt(e, i).trim(),
            l = kt(t, i).trim();
          if (!o && !l) continue;
          const s = (0, x.Xx)("#Language_" + (0, r.j_)(i));
          if (((n = !0), !o))
            return (0, x.Xx)("#BuildNotes_Error_MissingTitle", s);
          if (!l) return (0, x.Xx)("#BuildNotes_Error_MissingDescription", s);
          if (o.length > c.wP)
            return (0, x.Xx)("#BuildNotes_Error_TitleTooLong", s);
          if (l.length > 32768)
            return (0, x.Xx)("#BuildNotes_Error_DescriptionTooLong", s);
          0 === i && (a = !0);
        }
        return n
          ? a
            ? null
            : (0, x.Xx)("#BuildNotes_Error_NoEnglishProvided")
          : (0, x.Xx)("#BuildNotes_Error_NoLanguagesProvided");
      }
      class Lt {
        static Get() {
          return (
            this.s_Singleton ||
              ((this.s_Singleton = new Lt()), this.s_Singleton.Init()),
            this.s_Singleton
          );
        }
        Init() {
          const e = (0, g.kQ)("build_notes", "application_config");
          (this.m_nBuildVersion = (null == e ? void 0 : e.build_version) || 0),
            (this.m_bSteamChina = (null == e ? void 0 : e.steam_china) || !1),
            (this.m_strBuildBranch =
              (null == e ? void 0 : e.build_branch) || ""),
            (this.m_strBuildBranch = this.m_strBuildBranch
              .trim()
              .toLocaleLowerCase()),
            "default" === this.m_strBuildBranch && (this.m_strBuildBranch = "");
        }
        GetPostedBuildVersion() {
          return this.m_nBuildVersion;
        }
        BShouldShowPatchNotesEditor() {
          return this.GetPostedBuildVersion() > 0;
        }
        BCanSubmitSteamChinaPatchNotes() {
          return this.m_bSteamChina;
        }
        GetBuildBranch() {
          return this.m_strBuildBranch;
        }
      }
      function xt(e) {
        const [t, n] = l.useState(0),
          [i, r] = l.useState(null),
          [m, p] = l.useState(null),
          [h, E] = l.useState(null),
          [v, S] = l.useState("editing"),
          [f, y] = l.useState(null);
        if (!Lt.Get().BShouldShowPatchNotesEditor()) return null;
        const D = (e) => n(e),
          b = (e) => Boolean(kt(i, e) || kt(m, e)),
          I = Lt.Get().BCanSubmitSteamChinaPatchNotes()
            ? [s.IN.k_ESteamRealmChina, s.IN.k_ESteamRealmGlobal]
            : [s.IN.k_ESteamRealmGlobal],
          C = Nt(i, m),
          A =
            g.De.COMMUNITY_BASE_URL +
            "ogg/" +
            e.appId +
            "/partnerevents/create/";
        return l.createElement(
          _.SV,
          null,
          l.createElement(
            "div",
            { className: Tt.BuildNoteCtn },
            l.createElement(
              "div",
              { className: Tt.BuildTitle },
              (0, x.Xx)(
                "#BuildNotes_Title",
                Lt.Get().GetPostedBuildVersion(),
                Lt.Get().GetBuildBranch() || "default",
              ),
            ),
            l.createElement(
              "div",
              { className: Tt.SplitPanel },
              l.createElement(
                "div",
                { className: Tt.DescriptionPanel },
                l.createElement(
                  "div",
                  { className: Tt.BuildSubTitle },
                  (0, x.Xx)("#BuildNotes_SubTitle"),
                ),
                l.createElement(
                  "div",
                  { className: Tt.InfoText },
                  (0, x.Xx)("#BuildNotes_Desc1"),
                ),
                l.createElement(
                  "div",
                  { className: Tt.InfoText },
                  (0, x.kQ)("#BuildNotes_Desc2"),
                ),
                l.createElement(
                  "a",
                  { href: A },
                  l.createElement(
                    u.zx,
                    null,
                    (0, x.Xx)("#BuildNotes_OpenFullEditor"),
                  ),
                ),
              ),
              "editing" === v &&
                l.createElement(Gt, {
                  sError: C,
                  eLanguage: t,
                  realms: I,
                  fnHasLanguage: b,
                  fnSetLanguage: D,
                  fnGetTitle: (e) => kt(i, e),
                  fnSetTitle: (e, t) => r(wt(i, t, e)),
                  fnGetDescription: (e) => kt(m, e),
                  fnSetDescription: (e, t) => p(wt(m, t, e)),
                  fnOnPreviewEvent: () =>
                    E(
                      (function (e, t) {
                        let n = new c.bH();
                        (n.GID = "PreviewPartnerEventRow_0"),
                          (n.clanSteamID = new d.K(g.L7.steamid)),
                          (n.postTime = Date.now() / 1e3),
                          (n.startTime = Date.now() / 1e3),
                          (n.type = 12);
                        for (let a = 0; a < 31; a++)
                          n.name.set(a, kt(e, a)),
                            n.description.set(a, kt(t, a));
                        return n;
                      })(i, m),
                    ),
                  fnApplyLoc: (e, t) => {
                    const n = new Array();
                    let a = i,
                      o = m;
                    for (const i of t) {
                      const t = e.GetLocalization("Title", i) || "",
                        l = e.GetLocalization("Description", i) || "";
                      (t || l) && n.push(i),
                        t && (a = wt(a, t, i)),
                        l && (o = wt(o, l, i));
                    }
                    return r(a), p(o), n;
                  },
                }),
              "submitting" === v && l.createElement(Ot, null),
              "failed" === v &&
                l.createElement(Bt, { fnOnReturnToEditor: () => S("editing") }),
              "submitted" === v &&
                l.createElement(Mt, { appId: e.appId, eventGid: f }),
            ),
          ),
          Boolean(h && "editing" === v) &&
            l.createElement(Rt, {
              event: h,
              eLanguage: t,
              realms: I,
              fnOnClose: () => E(null),
              fnOnSubmitEvent: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  E(null), S("submitting");
                  const t = yield (function (e, t, n) {
                    var i, l, r;
                    return (0, a.mG)(this, void 0, void 0, function* () {
                      if (Nt(t, n)) return null;
                      const a = Boolean(kt(t, 29).trim()),
                        s = new FormData();
                      s.append("sessionid", g.De.SESSIONID),
                        s.append("appid", "" + e),
                        s.append("post_steam_china", "" + a),
                        s.append("titles", JSON.stringify(t)),
                        s.append("descriptions", JSON.stringify(n)),
                        s.append(
                          "build_id",
                          "" + Lt.Get().GetPostedBuildVersion(),
                        ),
                        s.append("build_branch", Lt.Get().GetBuildBranch());
                      const c =
                        g.De.PARTNER_BASE_URL +
                        "partnerevents/ajaxpublishpatchnotes";
                      try {
                        const e = yield o().post(c, s, { withCredentials: !0 });
                        if (
                          1 ==
                          (null === (i = null == e ? void 0 : e.data) ||
                          void 0 === i
                            ? void 0
                            : i.success)
                        )
                          return e.data;
                        console.error(
                          "buildpatchnotes: OnSubmitCreateEvent error code  " +
                            (null === (l = null == e ? void 0 : e.data) ||
                            void 0 === l
                              ? void 0
                              : l.success) +
                            " msg: " +
                            (null === (r = null == e ? void 0 : e.data) ||
                            void 0 === r
                              ? void 0
                              : r.msg),
                        );
                      } catch (e) {
                        const t = (0, Q.l)(e);
                        console.error(
                          "buildpatchnotes: OnSubmitCreateEvent " +
                            t.strErrorMsg,
                          t,
                        );
                      }
                      return null;
                    });
                  })(e.appId, i, m);
                  t
                    ? (y(t.clan_announcement_gid),
                      (function () {
                        const e = new URLSearchParams(window.location.search);
                        e.delete("submittedbuild"), e.delete("buildbranch");
                        const t = e.toString(),
                          n =
                            window.location.origin +
                            window.location.pathname +
                            (t ? "?" + t : "") +
                            window.location.hash;
                        window.history.replaceState({}, "", n);
                      })(),
                      S("submitted"))
                    : S("failed");
                }),
              fnHasLanguage: b,
              fnSetLanguage: D,
            }),
        );
      }
      const Gt = (e) => {
          const {
            sError: t,
            eLanguage: n,
            realms: a,
            fnHasLanguage: i,
            fnSetLanguage: o,
            fnGetTitle: r,
            fnSetTitle: d,
            fnGetDescription: _,
            fnSetDescription: h,
            fnOnPreviewEvent: g,
            fnApplyLoc: E,
          } = e;
          let v = "";
          if (a.includes(s.IN.k_ESteamRealmChina)) {
            const e = "" !== r(29).trim();
            v = (0, x.Xx)(
              e
                ? "#BuildNotes_SteamChina_Provided"
                : "#BuildNotes_SteamChina_NotProvided",
            );
          }
          return l.createElement(
            "div",
            { className: Tt.RightPanel },
            l.createElement(
              "div",
              { className: Tt.EditTopBar },
              l.createElement(
                "div",
                { className: Tt.EditTitle },
                (0, x.Xx)("#BuildNotes_PatchnotesTitle"),
              ),
              l.createElement(
                "div",
                { className: Tt.LangPicker },
                l.createElement(
                  u.zx,
                  {
                    onClick: () => {
                      const e = new At.C(),
                        t = (0, x.Xx)("#BuildNotes_SampleTitle"),
                        n = (0, x.Xx)("#BuildNotes_SampleDescription");
                      for (let a = 0; a < 31; a++)
                        e.SetLocalization("Title", a, t),
                          e.SetLocalization("Description", a, n);
                      (0, z.AM)(
                        l.createElement(It.ko, {
                          sampleLocData: e,
                          sampleFilename: "patchnote_loc_sample",
                          fnOnImportLocData: E,
                        }),
                        window,
                      );
                    },
                  },
                  (0, x.Xx)("#BuildNotes_ImportLocalization"),
                ),
                l.createElement(de.uW, {
                  selectedLang: n,
                  fnOnLanguageChanged: o,
                  fnLangHasData: i,
                  realms: a,
                }),
              ),
            ),
            l.createElement(u.II, {
              value: r(n),
              placeholder: (0, x.Xx)("#BuildNotes_TitlePlaceholder"),
              onChange: (e) => d(n, e.currentTarget.value),
              maxLength: c.wP,
            }),
            l.createElement(
              "div",
              { className: Tt.EditTitle },
              (0, x.Xx)("#BuildNotes_PatchnotesDesc"),
            ),
            l.createElement(p.R, {
              fnGetCurText: () => _(n),
              fnOnTextChange: (e) => h(n, e.currentTarget.value),
              fnSetText: (e) => h(n, e),
              strPlaceholder: (0, x.Xx)("#BuildNotes_DescPlaceholder"),
              emoticonStore: m.F,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: Tt.BBCodeEditor,
            }),
            l.createElement(
              "div",
              { className: Tt.SubmitButtonCtn },
              !Boolean(t) &&
                l.createElement(
                  u.KM,
                  { onClick: g },
                  (0, x.Xx)("#BuildNotes_Preview"),
                ),
              Boolean(t) &&
                l.createElement("div", { className: Tt.ErrorMsg }, t),
              Boolean(!t && v) &&
                l.createElement("div", { className: Tt.SteamChinaMsg }, v),
            ),
          );
        },
        Rt = (e) => {
          const {
            event: t,
            eLanguage: n,
            realms: a,
            fnOnClose: i,
            fnOnSubmitEvent: o,
            fnHasLanguage: r,
            fnSetLanguage: s,
          } = e;
          return l.createElement(
            q.D2,
            null,
            l.createElement(
              "div",
              { className: Tt.PreviewHeader },
              l.createElement(de.uW, {
                selectedLang: n,
                fnOnLanguageChanged: s,
                fnFilterLanguage: r,
                realms: a,
              }),
              l.createElement(
                "div",
                { className: Tt.SubmitButtonCtn },
                l.createElement(
                  u.zx,
                  { onClick: i },
                  (0, x.Xx)("#BuildNotes_Close"),
                ),
                l.createElement(
                  u.KM,
                  { onClick: o },
                  (0, x.Xx)("#BuildNotes_PostNotes"),
                ),
              ),
            ),
            l.createElement(
              "div",
              null,
              l.createElement(bt, {
                event: t,
                fnClose: i,
                langOverride: n,
                isPreview: !0,
              }),
            ),
          );
        },
        Ot = (e) =>
          l.createElement(
            "div",
            { className: (0, L.Z)(Tt.RightPanel, Tt.SubmitPanel) },
            l.createElement(ee.V, { className: Tt.SubmitThrobber }),
            l.createElement(
              "div",
              { className: Tt.SubmitText },
              (0, x.Xx)("#BuildNotes_Submitting"),
            ),
          ),
        Bt = (e) =>
          l.createElement(
            "div",
            { className: (0, L.Z)(Tt.RightPanel, Tt.FailedPanel) },
            l.createElement(
              "div",
              { className: Tt.FailedText },
              (0, x.Xx)("#BuildNotes_FailedDescription"),
            ),
            l.createElement(
              "div",
              { className: Tt.FailedButton },
              l.createElement(
                u.zx,
                { onClick: e.fnOnReturnToEditor },
                (0, x.Xx)("#BuildNotes_ReturnToEditor"),
              ),
            ),
          ),
        Mt = (e) => {
          const { appId: t, eventGid: n } = e,
            a = `${g.De.STORE_BASE_URL}news/app/${t}/view/${n}`;
          return l.createElement(
            "div",
            { className: (0, L.Z)(Tt.RightPanel, Tt.SuccessPanel) },
            l.createElement(
              "div",
              { className: Tt.SuccessText },
              (0, x.Xx)("#BuildNotes_Success"),
            ),
            l.createElement(
              "a",
              { href: a, className: Tt.ViewEventButton },
              l.createElement(
                u.zx,
                null,
                (0, x.Xx)("#BuildNotes_ViewPublished"),
              ),
            ),
          );
        };
    },
    50685: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { OptInRoutes: () => yl, default: () => Il });
      var a = n(96927),
        i = n(71209),
        o = n(33940),
        l = n(52868),
        r = n.n(l),
        s = n(64368),
        c = n(59621),
        d = n(40442),
        m = n(7948),
        p = n(23801),
        u = n(4306);
      const _ = "email_",
        h = "email_section_";
      var g;
      !(function (e) {
        (e[(e.k_RegistrationConfirmation = 0)] = "k_RegistrationConfirmation"),
          (e[(e.k_Reminder = 1)] = "k_Reminder"),
          (e[(e.k_Invite = 2)] = "k_Invite"),
          (e[(e.k_Followup = 3)] = "k_Followup"),
          (e[(e.k_Starting = 4)] = "k_Starting"),
          (e[(e.k_InviteReminder = 5)] = "k_InviteReminder"),
          (e[(e.k_Update = 6)] = "k_Update"),
          (e[(e.k_PermissionRequest = 7)] = "k_PermissionRequest"),
          (e[(e.k_MediaUsageNotification = 8)] = "k_MediaUsageNotification"),
          (e[(e.k_GeneralCommunication = 9)] = "k_GeneralCommunication"),
          (e[(e.k_SteamAwardFinalists = 10)] = "k_SteamAwardFinalists");
      })(g || (g = {}));
      const E = [
        g.k_Invite,
        g.k_InviteReminder,
        g.k_RegistrationConfirmation,
        g.k_Update,
        g.k_Reminder,
        g.k_Starting,
        g.k_Followup,
        g.k_PermissionRequest,
        g.k_MediaUsageNotification,
        g.k_GeneralCommunication,
        g.k_SteamAwardFinalists,
      ];
      function v(e) {
        switch (e) {
          case g.k_Invite:
            return "Invitation Email";
          case g.k_InviteReminder:
            return "Invitation Reminder Email";
          case g.k_RegistrationConfirmation:
            return "Registration Success Email";
          case g.k_Update:
            return "General Update";
          case g.k_Reminder:
            return "Reminder Email - Just Days Until It Starts";
          case g.k_Starting:
            return "Event Starts Today Email";
          case g.k_Followup:
            return "Follow-up Email";
          case g.k_PermissionRequest:
            return "Media Permission Request";
          case g.k_MediaUsageNotification:
            return "Media Usage Notification";
          case g.k_GeneralCommunication:
            return "Game Specific General Communication";
          case g.k_SteamAwardFinalists:
            return "Steam Awards Finalists Notification";
        }
        return "unknown";
      }
      var S;
      !(function (e) {
        (e[(e.k_Custom = 0)] = "k_Custom"),
          (e[(e.k_AssetKit = 1)] = "k_AssetKit"),
          (e[(e.k_DemoPressPreview = 2)] = "k_DemoPressPreview"),
          (e[(e.k_ScheduleLiveStream = 3)] = "k_ScheduleLiveStream"),
          (e[(e.k_CancelSection = 4)] = "k_CancelSection"),
          (e[(e.k_DemoNotReady = 5)] = "k_DemoNotReady"),
          (e[(e.k_ReviewCategorization = 6)] = "k_ReviewCategorization"),
          (e[(e.k_DemoReview = 7)] = "k_DemoReview"),
          (e[(e.k_PressPreviewDetails = 8)] = "k_PressPreviewDetails"),
          (e[(e.k_StatsSummary = 9)] = "k_StatsSummary"),
          (e[(e.k_SurveyButton = 10)] = "k_SurveyButton"),
          (e[(e.k_DemoLaunch = 11)] = "k_DemoLaunch"),
          (e[(e.k_CallForRegistration = 12)] = "k_CallForRegistration"),
          (e[(e.k_EnterDiscount = 13)] = "k_EnterDiscount"),
          (e[(e.k_EnterDiscountReminder = 14)] = "k_EnterDiscountReminder"),
          (e[(e.k_LearnMore = 15)] = "k_LearnMore"),
          (e[(e.k_MediaUsePermission = 16)] = "k_MediaUsePermission"),
          (e[(e.k_MeasureResults = 17)] = "k_MeasureResults"),
          (e[(e.k_TrailerOrDemoPermissions = 18)] =
            "k_TrailerOrDemoPermissions"),
          (e[(e.k_NextFestQASession = 19)] = "k_NextFestQASession"),
          (e[(e.k_NextFestReturns = 20)] = "k_NextFestReturns"),
          (e[(e.k_NextFestWhatNext = 21)] = "k_NextFestWhatNext"),
          (e[(e.k_NextFestTips = 22)] = "k_NextFestTips"),
          (e[(e.k_NextFestStartsNow = 23)] = "k_NextFestStartsNow"),
          (e[(e.k_MeasureResultsFree = 24)] = "k_MeasureResultsFree"),
          (e[(e.k_NextFestThankYou = 25)] = "k_NextFestThankYou"),
          (e[(e.k_MediaPermissionReminder = 26)] = "k_MediaPermissionReminder"),
          (e[(e.k_SaleThankYou = 27)] = "k_SaleThankYou"),
          (e[(e.k_NextFestMediaUsageIntended = 28)] =
            "k_NextFestMediaUsageIntended"),
          (e[(e.k_GenericActionLink = 29)] = "k_GenericActionLink"),
          (e[(e.k_SteamAwardsCategories = 30)] = "k_SteamAwardsCategories");
      })(S || (S = {}));
      const f = [
        S.k_Custom,
        S.k_CallForRegistration,
        S.k_AssetKit,
        S.k_DemoPressPreview,
        S.k_PressPreviewDetails,
        S.k_DemoReview,
        S.k_DemoLaunch,
        S.k_EnterDiscount,
        S.k_EnterDiscountReminder,
        S.k_ScheduleLiveStream,
        S.k_ReviewCategorization,
        S.k_DemoNotReady,
        S.k_LearnMore,
        S.k_CancelSection,
        S.k_StatsSummary,
        S.k_SurveyButton,
        S.k_MediaUsePermission,
        S.k_TrailerOrDemoPermissions,
        S.k_MeasureResults,
        S.k_MeasureResultsFree,
        S.k_NextFestQASession,
        S.k_NextFestReturns,
        S.k_NextFestWhatNext,
        S.k_NextFestTips,
        S.k_NextFestStartsNow,
        S.k_NextFestThankYou,
        S.k_MediaPermissionReminder,
        S.k_SaleThankYou,
        S.k_NextFestMediaUsageIntended,
        S.k_GenericActionLink,
        S.k_SteamAwardsCategories,
      ];
      function y(e) {
        switch (e) {
          case S.k_Custom:
            return "Custom text section";
          case S.k_CallForRegistration:
            return "Register now by dateX";
          case S.k_AssetKit:
            return "Asset kit section";
          case S.k_ScheduleLiveStream:
            return "You can schedule a live stream + see schedule";
          case S.k_CancelSection:
            return "Cancel any time";
          case S.k_DemoNotReady:
            return "Cancel by this date, please";
          case S.k_ReviewCategorization:
            return "Review your game's categorization";
          case S.k_DemoReview:
            return "Demo Reminder: Get your demo reviewed";
          case S.k_DemoLaunch:
            return "Demo Reminder: Launch your demo";
          case S.k_DemoPressPreview:
            return "Press Preview Reminder: Register Now";
          case S.k_PressPreviewDetails:
            return "Press Preview details";
          case S.k_EnterDiscount:
            return "Discount, Enter Now";
          case S.k_EnterDiscountReminder:
            return "Discount, Reminder";
          case S.k_SurveyButton:
            return "Survey button";
          case S.k_MeasureResults:
            return "Measuring Your Results (sales, wishlists, demos)";
          case S.k_MeasureResultsFree:
            return "Measuring Your Results (wishlists, demos, livestreams)";
          case S.k_StatsSummary:
            return "Game Stats; demos, wishlists, views, etc.";
          case S.k_LearnMore:
            return "Learn More Link";
          case S.k_MediaUsePermission:
            return "Permission Request: Media Usage";
          case S.k_TrailerOrDemoPermissions:
            return "Permission Request: Trailer and/or Demo";
          case S.k_MediaPermissionReminder:
            return "Permission Reminder: Trailer and/or Demo";
          case S.k_NextFestReturns:
            return "Next Fest:  Returns on _date_";
          case S.k_NextFestQASession:
            return "Next Fest: Join Us For A Live Q&A Session";
          case S.k_NextFestWhatNext:
            return "Next Fest: What's Next";
          case S.k_NextFestTips:
            return "Next Fest: Tips & Best Practices";
          case S.k_NextFestMediaUsageIntended:
            return "Next Fest: We Intend To Feature Your Game";
          case S.k_NextFestStartsNow:
            return "Next Fest: Starts Today!";
          case S.k_NextFestThankYou:
            return "Next Fest: Concludes. Thank You";
          case S.k_SaleThankYou:
            return "Sale Over: Thank You";
          case S.k_GenericActionLink:
            return "Generic Action Link";
          case S.k_SteamAwardsCategories:
            return "Steam Awards Finalist Categories";
        }
        return "unknown";
      }
      class D {
        constructor(e, t) {
          (this.m_email = void 0),
            (this.m_bReadOnly = !1),
            (this.m_sections = void 0),
            (0, c.rC)(this),
            (this.m_strOptInName = e),
            (this.m_email = t),
            (this.m_sections = this.m_email.sections.map((e) => new b(e))),
            (this.m_email.custom_app_list = (
              this.m_email.custom_app_list || []
            ).map((e) => ("string" == typeof e ? Number.parseInt(e) : e)));
        }
        GetOwningOptInName() {
          return this.m_strOptInName;
        }
        SetReadOnly(e) {
          this.m_bReadOnly != e &&
            ((this.m_bReadOnly = e),
            this.m_sections.forEach((t) => t.SetReadOnly(e)));
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        BHasLanguageData(e) {
          var t, n, a;
          const i = (0, d.j_)(e);
          return (
            (null ===
              (n =
                null === (t = this.m_email.subject) || void 0 === t
                  ? void 0
                  : t[i]) || void 0 === n
              ? void 0
              : n.length) > 0 ||
            (null === (a = this.m_sections) || void 0 === a
              ? void 0
              : a.some((t) => t.BHasLangData(e)))
          );
        }
        BIsDraftEmail() {
          return (
            null === this.m_email.email_def_id ||
            void 0 === this.m_email.email_def_id
          );
        }
        BHasSectionType(e) {
          return this.m_sections.some((t) => t.GetType() == e);
        }
        GetModel() {
          return this.m_email;
        }
        GetUniqueID() {
          return this.m_email.unique_id;
        }
        GetType() {
          return this.m_email.type;
        }
        GetNumberSections() {
          return this.m_sections.length;
        }
        GetEmailTargeting() {
          return this.m_email.targeting || 1;
        }
        GetServerEmailDefID() {
          return this.m_email.email_def_id
            ? "" + this.m_email.email_def_id
            : this.m_email.email_def_id;
        }
        GetInternalName() {
          return this.m_email.internal_name;
        }
        GetAssetKitURL() {
          return this.m_email.asset_kit_url;
        }
        GetWikiDocURL() {
          return this.m_email.wiki_doc_url;
        }
        GetSurveyLinkURL() {
          return this.m_email.survey_link_url;
        }
        GetSalePreviewPage() {
          return this.m_email.sale_preview_page;
        }
        GetScheduleMaxItems() {
          return this.m_email.schedule_max_items || 2;
        }
        GetDemoPressPreviewDate() {
          return this.m_email.demo_press_preview_date;
        }
        GetNextEditionDate() {
          return this.m_email.next_edition_date;
        }
        GetCancelDate() {
          return this.m_email.cancel_date;
        }
        GetPreviewDate() {
          return this.m_email.preview_date;
        }
        GetPermissionDate() {
          return this.m_email.permission_date;
        }
        GetTrailerLaunchDate() {
          return this.m_email.trailer_date;
        }
        GetLivestreamLaunchDate() {
          return this.m_email.livestream_date;
        }
        GetPressPreviewVisibleDate() {
          return this.m_email.press_preview_visible_date;
        }
        GetQASessionDate() {
          return this.m_email.qasession_date;
        }
        GetQASessionLink() {
          return this.m_email.qasession_link;
        }
        GetRecordedQASessionLink() {
          return this.m_email.recorded_qa_session_link;
        }
        GetCustomAppTargetList() {
          return this.m_email.custom_app_list || [];
        }
        BHasCustomAppTargetList() {
          var e;
          return Boolean(
            (null === (e = this.m_email.custom_app_list) || void 0 === e
              ? void 0
              : e.length) > 0,
          );
        }
        GetTrailerDemoDeadlineDate() {
          return this.m_email.trailer_demo_deadline_date;
        }
        GetDemoTrailerRegLink() {
          return this.m_email.trailer_demo_reg_link;
        }
        GetGenericActionLink() {
          return this.m_email.generic_action_link;
        }
        GetSteamAwardsAdApp() {
          return this.m_email.steam_awards_advertising_app;
        }
        BHasSteamAwardsAdApp() {
          return Boolean(this.GetSteamAwardsAdApp());
        }
        GetSubject(e) {
          var t;
          return null !== (t = (0, s.pM)(this.m_email.subject, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetSubjectWithFallback(e) {
          var t;
          return null !==
            (t = (0, s.Xj)(
              this.m_email.subject,
              m.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetSections() {
          return this.m_sections;
        }
        GetSection(e) {
          return this.m_sections[e];
        }
        GetSectionByID(e) {
          for (let t = 0; t < this.m_sections.length; ++t)
            if (this.m_sections[t].GetUniqueID() == e)
              return this.m_sections[t];
          return null;
        }
        AddSection(e) {
          if (this.m_bReadOnly) return;
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetSectionByID(h + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          const n = { unique_id: h + t, type: e };
          this.m_email.sections || (this.m_email.sections = []),
            this.m_email.sections.push(n);
          const a = new b(
            this.m_email.sections[this.m_email.sections.length - 1],
          );
          this.m_sections.push(a), R.Get().SetDirty(!0);
        }
        SetServerEmailDefID(e) {
          this.m_email.email_def_id == e ||
            this.m_bReadOnly ||
            ((0, p.X)(
              null == this.m_email.email_def_id ||
                null == this.m_email.email_def_id,
              "Error: Reseting emailed def id from " +
                this.m_email.email_def_id +
                " to " +
                e,
            ),
            (this.m_email.email_def_id = "" + e),
            R.Get().SetDirty(!0));
        }
        SetType(e) {
          this.m_email.type == e ||
            this.m_bReadOnly ||
            ((this.m_email.type = e), R.Get().SetDirty(!0));
        }
        SetEmailTargeting(e) {
          this.m_email.targeting == e ||
            this.m_bReadOnly ||
            ((this.m_email.targeting = e), R.Get().SetDirty(!0));
        }
        SetInternalName(e) {
          this.m_email.internal_name == e ||
            this.m_bReadOnly ||
            ((this.m_email.internal_name = e), R.Get().SetDirty(!0));
        }
        SetAssetKitURL(e) {
          this.m_email.asset_kit_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.asset_kit_url = e), R.Get().SetDirty(!0));
        }
        SetWikiDocURL(e) {
          this.m_email.wiki_doc_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.wiki_doc_url = e), R.Get().SetDirty(!0));
        }
        SetSurveyLinkURL(e) {
          this.m_email.survey_link_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.survey_link_url = e), R.Get().SetDirty(!0));
        }
        SetSalePreviewURL(e) {
          this.m_email.sale_preview_page == e ||
            this.m_bReadOnly ||
            ((this.m_email.sale_preview_page = e), R.Get().SetDirty(!0));
        }
        SetDemoPreviewDate(e) {
          this.m_email.demo_press_preview_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.demo_press_preview_date = e), R.Get().SetDirty(!0));
        }
        SetCancelDate(e) {
          this.m_email.cancel_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.cancel_date = e), R.Get().SetDirty(!0));
        }
        SetPreviewDate(e) {
          this.m_email.preview_date != e &&
            ((this.m_email.preview_date = e), R.Get().SetDirty(!0));
        }
        SetPermissionDate(e) {
          this.m_email.permission_date != e &&
            ((this.m_email.permission_date = e), R.Get().SetDirty(!0));
        }
        SetTrailerLaunchDate(e) {
          this.m_email.trailer_date != e &&
            ((this.m_email.trailer_date = e), R.Get().SetDirty(!0));
        }
        SetLivestreamLaunchDate(e) {
          this.m_email.livestream_date != e &&
            ((this.m_email.livestream_date = e), R.Get().SetDirty(!0));
        }
        SetPressPreviewVisibleDate(e) {
          this.m_email.press_preview_visible_date != e &&
            ((this.m_email.press_preview_visible_date = e),
            R.Get().SetDirty(!0));
        }
        SetScheduleMaxItems(e) {
          this.m_email.schedule_max_items == e ||
            this.m_bReadOnly ||
            ((this.m_email.schedule_max_items = e), R.Get().SetDirty(!0));
        }
        SetNextEditionDate(e) {
          this.m_email.next_edition_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.next_edition_date = e), R.Get().SetDirty(!0));
        }
        SetQASessionDate(e) {
          this.m_email.qasession_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_date = e), R.Get().SetDirty(!0));
        }
        SetTrailerDemoDeadlineDate(e) {
          this.m_email.trailer_demo_deadline_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_deadline_date = e),
            R.Get().SetDirty(!0));
        }
        SetQASessionLink(e) {
          this.m_email.qasession_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_link = e), R.Get().SetDirty(!0));
        }
        SetDemoTrailerRegLink(e) {
          this.m_email.trailer_demo_reg_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_reg_link = e), R.Get().SetDirty(!0));
        }
        SetRecordedQASessionLink(e) {
          this.m_email.recorded_qa_session_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.recorded_qa_session_link = e), R.Get().SetDirty(!0));
        }
        SetSubject(e, t) {
          if (
            (0, s.pM)(this.m_email.subject, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, d.j_)(t, "english");
            this.m_email.subject || (this.m_email.subject = {}),
              (this.m_email.subject[n] = e),
              R.Get().SetDirty(!0);
          }
        }
        AddAppToCustomList(e) {
          this.m_email.custom_app_list || (this.m_email.custom_app_list = []),
            this.m_email.custom_app_list.includes(e) ||
              (this.m_email.custom_app_list.push(e), R.Get().SetDirty(!0));
        }
        RemoveAppToCustomList(e) {
          if (this.m_email.custom_app_list) {
            const t = this.m_email.custom_app_list.findIndex((t) => e == t);
            if (t >= 0)
              return (
                this.m_email.custom_app_list.splice(t, 1),
                R.Get().SetDirty(!0),
                !0
              );
          }
          return !1;
        }
        SetGenericActionLink(e) {
          this.m_email.generic_action_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.generic_action_link = e), R.Get().SetDirty(!0));
        }
        SetSteamAwardsAdvertisingApp(e) {
          this.m_email.steam_awards_advertising_app == e ||
            this.m_bReadOnly ||
            ((this.m_email.steam_awards_advertising_app = e),
            R.Get().SetDirty(!0));
        }
      }
      (0, o.gn)([c.LO], D.prototype, "m_email", void 0),
        (0, o.gn)([c.LO], D.prototype, "m_sections", void 0),
        (0, o.gn)([u.ak], D.prototype, "BHasLanguageData", null),
        (0, o.gn)([u.ak], D.prototype, "GetSubject", null),
        (0, o.gn)([c.aD.bound], D.prototype, "AddSection", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetServerEmailDefID", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetType", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetEmailTargeting", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetInternalName", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetAssetKitURL", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetWikiDocURL", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetSurveyLinkURL", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetSalePreviewURL", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetDemoPreviewDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetCancelDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetPreviewDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetPermissionDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetTrailerLaunchDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetLivestreamLaunchDate", null),
        (0, o.gn)(
          [c.aD.bound],
          D.prototype,
          "SetPressPreviewVisibleDate",
          null,
        ),
        (0, o.gn)([c.aD.bound], D.prototype, "SetScheduleMaxItems", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetNextEditionDate", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetQASessionDate", null),
        (0, o.gn)(
          [c.aD.bound],
          D.prototype,
          "SetTrailerDemoDeadlineDate",
          null,
        ),
        (0, o.gn)([c.aD.bound], D.prototype, "SetQASessionLink", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetDemoTrailerRegLink", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetRecordedQASessionLink", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetSubject", null),
        (0, o.gn)([c.aD.bound], D.prototype, "AddAppToCustomList", null),
        (0, o.gn)([c.aD.bound], D.prototype, "RemoveAppToCustomList", null),
        (0, o.gn)([c.aD.bound], D.prototype, "SetGenericActionLink", null),
        (0, o.gn)(
          [c.aD.bound],
          D.prototype,
          "SetSteamAwardsAdvertisingApp",
          null,
        );
      class b {
        constructor(e) {
          (this.m_section = void 0),
            (this.m_bReadOnly = !1),
            (0, c.rC)(this),
            (this.m_section = e);
        }
        SetReadOnly(e) {
          this.m_bReadOnly = e;
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetType() {
          return this.m_section.type;
        }
        GetModel() {
          return this.m_section;
        }
        BHasLangData(e) {
          return (
            (0, s.JA)(this.m_section.title, e) ||
            (0, s.JA)(this.m_section.description, e)
          );
        }
        GetTitle(e) {
          var t;
          return null !== (t = (0, s.pM)(this.m_section.title, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetTitleWithFallback(e) {
          var t;
          return null !==
            (t = (0, s.Xj)(
              this.m_section.title,
              m.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetDescription(e) {
          var t;
          return null !== (t = (0, s.pM)(this.m_section.description, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetDescriptionWithFallback(e) {
          var t;
          return null !==
            (t = (0, s.Xj)(
              this.m_section.description,
              m.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        SetType(e) {
          this.m_section.type == e ||
            this.m_bReadOnly ||
            (this.m_section.type == S.k_Custom &&
              e != S.k_Custom &&
              ((this.m_section.title = {}), (this.m_section.description = {})),
            (this.m_section.type = e),
            R.Get().SetDirty(!0));
        }
        SetTitle(e, t) {
          if (
            (0, s.pM)(this.m_section.title, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, d.j_)(t, "english");
            this.m_section.title || (this.m_section.title = {}),
              (this.m_section.title[n] = e),
              R.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if (
            (0, s.pM)(this.m_section.description, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, d.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[n] = e),
              R.Get().SetDirty(!0);
          }
        }
      }
      (0, o.gn)([c.LO], b.prototype, "m_section", void 0),
        (0, o.gn)([u.ak], b.prototype, "GetTitle", null),
        (0, o.gn)([u.ak], b.prototype, "GetDescription", null),
        (0, o.gn)([c.aD.bound], b.prototype, "SetType", null),
        (0, o.gn)([c.aD.bound], b.prototype, "SetTitle", null),
        (0, o.gn)([c.aD.bound], b.prototype, "SetDescription", null);
      var I = n(89526),
        C = n(11837),
        A = n(23217),
        T = n(85246),
        w = n(32765);
      class k {
        constructor() {
          (this.m_optInDef = new Map()),
            (this.m_activeOptInDef = new Array()),
            (this.m_archivedOptInDef = new Array()),
            (this.m_game_tags = []),
            (this.m_optin_stats = {}),
            (this.m_mapHasUnpublishedChanges = new Map()),
            (0, c.rC)(this);
        }
        GetActiveOptIn() {
          return this.m_activeOptInDef;
        }
        GetArchivedOptIn() {
          return this.m_archivedOptInDef;
        }
        GetGameTags() {
          return this.m_game_tags;
        }
        GetOptInStats() {
          return this.m_optin_stats;
        }
        BHasUnpublishedChagnes(e) {
          return this.m_mapHasUnpublishedChanges.get(e);
        }
        SetUnpublishedChanges(e) {
          this.m_mapHasUnpublishedChanges.set(e, !0);
        }
        GetDefinition(e) {
          return this.m_optInDef.get(e);
        }
        SetOptInDefinition(e) {
          this.m_optInDef.set(e.pageid, e);
          let t = this.m_activeOptInDef.findIndex((t) => t.pageid == e.pageid);
          -1 != t &&
            (this.m_activeOptInDef.splice(t, 1),
            this.m_activeOptInDef.unshift(e)),
            (t = this.m_archivedOptInDef.findIndex(
              (t) => t.pageid == e.pageid,
            )),
            -1 != t &&
              (this.m_archivedOptInDef.splice(t, 1),
              this.m_archivedOptInDef.unshift(e));
        }
        GetCreatedPageId() {
          return this.createdPageId;
        }
        GetCreatePageErrMsg() {
          return this.createPageErrMsg;
        }
        CreatePage(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            (this.createdPageId = ""), (this.createPageErrMsg = "");
            let n = w.De.PARTNER_BASE_URL + "/admin/store/pagecreate";
            const a = new FormData();
            a.append("sessionid", w.De.SESSIONID),
              a.append("action", "createsale"),
              a.append("id", e),
              a.append("is_optin", "true");
            try {
              let e = yield r().post(n, a, {
                withCredentials: !0,
                cancelToken: t,
              });
              if (t.reason)
                return (
                  console.log(
                    "COptInAdminStore.CreatePage cancelled: " + t.reason,
                  ),
                  null
                );
              if (200 != e.status || !e.data || 1 != e.data.success) {
                let t =
                  "Save Error: (" +
                  (e.data
                    ? "result: " + e.data.success
                    : "status: " + e.status) +
                  ")";
                return (
                  e.data &&
                    e.data.msg &&
                    (t += " Error Message: " + e.data.msg),
                  (this.createPageErrMsg = e.data.msg),
                  t
                );
              }
              this.createdPageId = e.data.msg;
            } catch (e) {
              let t = (0, A.l)(e);
              return (
                console.error(
                  "OptinAdminStore.CreatePage error: " + t.strErrorMsg,
                  t,
                ),
                (this.createPageErrMsg = t.strErrorMsg),
                "Page creation error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        static Get() {
          return (
            k.s_OptInAdmin ||
              ((k.s_OptInAdmin = new k()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminStore = k.s_OptInAdmin),
              k.s_OptInAdmin.Init()),
            k.s_OptInAdmin
          );
        }
        Init() {
          let e = JSON.parse(
            JSON.stringify((0, w.kQ)("optin_game_tags", "application_config")),
          );
          if (e)
            for (let t of Object.keys(e))
              this.m_game_tags.push({ label: e[t], value: t });
          let t = JSON.parse(
            JSON.stringify((0, w.kQ)("optin_page_stats", "application_config")),
          );
          if (t)
            for (let e of Object.keys(t)) {
              let n = t[e].pageid;
              this.m_optin_stats[n] = t[e];
            }
          let n = (0, w.kQ)("optin_admin_pages", "application_config");
          if (this.ValidateStoreDefault(n)) {
            n.forEach((e) => {
              (0, s.MH)(e);
            });
            const e = Math.floor(Date.now() / 1e3);
            n.map((t) => {
              this.m_optInDef.set(t.pageid, t),
                t.event_end_date < e
                  ? this.m_archivedOptInDef.push(t)
                  : this.m_activeOptInDef.push(t);
            }),
              "dev" == w.De.WEB_UNIVERSE &&
                console.log(
                  "Loading OptIn Definitions: " + this.m_optInDef.size,
                  this.m_optInDef,
                );
          } else
            "dev" == w.De.WEB_UNIVERSE &&
              console.error("COptInAdmin.Init: Failed to load defintion", n);
          const a = (0, w.kQ)("optin_has_in_progress", "application_config");
          for (let e in a) this.m_mapHasUnpublishedChanges.set(e, a[e]);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) && "string" == typeof t[0].pageid
          );
        }
      }
      function N(e) {
        return k.Get().GetDefinition(e);
      }
      (0, o.gn)([c.LO], k.prototype, "m_mapHasUnpublishedChanges", void 0),
        (0, o.gn)([c.aD], k.prototype, "Init", null);
      const L = "section_",
        x = "list_",
        G = "option_";
      class R {
        static Get() {
          return (
            R.s_Editor ||
              ((R.s_Editor = new R()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminEditModel = R.s_Editor)),
            R.s_Editor
          );
        }
        GetActiveStatsChangeCallaback() {
          return this.m_activeStatsChange;
        }
        GetOptInPageID() {
          return this.m_model.pageid;
        }
        GetDynamicOptionByID(e) {
          let t = null;
          return (
            this.GetDynamicSections().forEach((n) => {
              n.unique_id == e.section_id &&
                n.lists.forEach((n) => {
                  n.unique_id == e.list_id &&
                    n.options.forEach((n) => {
                      n.unique_id == e.option_id && (t = n);
                    });
                });
            }),
            t
          );
        }
        BContainDyanmicOptionByIDs(e) {
          return null != this.GetDynamicOptionByID(e);
        }
        GetOptionNameByID(e, t = 0) {
          const n = this.GetDynamicOptionByID(e);
          return n ? this.GetKVLang(n.text, t) : "";
        }
        AddDemoPackage(e) {
          this.m_model.demo_packages || (this.m_model.demo_packages = []),
            this.m_model.demo_packages.push(e),
            this.SetDirty(!0);
        }
        GetDemoPackages() {
          return this.m_model.demo_packages;
        }
        GetName() {
          return this.m_model && this.m_model.pageid
            ? -1 != this.m_model.pageid.indexOf("sale_", 0)
              ? this.m_model.pageid.substring(5)
              : this.m_model.pageid
            : "";
        }
        GetFullName() {
          return this.m_model && this.m_model.pageid ? this.m_model.pageid : "";
        }
        BHasSpecialEventType() {
          var e;
          return Boolean(
            null === (e = this.m_model) || void 0 === e
              ? void 0
              : e.special_event_type,
          );
        }
        GetSpecialEventType() {
          return this.m_model.special_event_type;
        }
        SetSpecialEventType(e) {
          e !== this.m_model.special_event_type &&
            ((this.m_model.special_event_type = e), this.SetDirty(!0));
        }
        GetCurSpecialEventName() {
          return this.GetSpecialEventName(m.U.Get().GetCurEditLanguage());
        }
        GetSpecialEventName(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.special_event_name, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurSpecialEventName(e) {
          this.SetSpecialEventName(m.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventName(e, t) {
          this.SetKVLang(this.m_model.special_event_name, e, t);
        }
        GetCurSpecialEventDescription() {
          return this.GetSpecialEventDescription(
            m.U.Get().GetCurEditLanguage(),
          );
        }
        GetSpecialEventDescription(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.special_event_description, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurSpecialEventDescription(e) {
          this.SetSpecialEventDescription(m.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventDescription(e, t) {
          this.SetKVLang(this.m_model.special_event_description, e, t);
        }
        GetSpecialEventDocLink() {
          return this.m_model.special_event_doc_link;
        }
        SetSpecialEventDocLink(e) {
          e != this.m_model.special_event_doc_link &&
            ((this.m_model.special_event_doc_link = e), this.SetDirty(!0));
        }
        GetSpecialEventTypeMax() {
          return this.m_model.special_event_type_max || 0;
        }
        SetSpecialEventTypeMax(e) {
          e != this.m_model.special_event_type_max &&
            ((this.m_model.special_event_type_max = e), this.SetDirty(!0));
        }
        GetSpecialEventStartTime() {
          return this.m_model.special_event_rt_start || 0;
        }
        SetSpecialEventStartTime(e) {
          e != this.m_model.special_event_rt_start &&
            ((this.m_model.special_event_rt_start = e), this.SetDirty(!0));
        }
        GetSpecialEventEndTime() {
          return this.m_model.special_event_rt_end || 0;
        }
        SetSpecialEventEndTime(e) {
          e != this.m_model.special_event_rt_end &&
            ((this.m_model.special_event_rt_end = e), this.SetDirty(!0));
        }
        BHasSpecialEventTimeSet() {
          return (
            Boolean(this.m_model.special_event_rt_start) ||
            Boolean(this.m_model.special_event_rt_end)
          );
        }
        NCountSpecialEventBlocks() {
          var e;
          return (
            (null === (e = this.m_model.special_event_time_blocks) ||
            void 0 === e
              ? void 0
              : e.length) || 0
          );
        }
        AddSpecialEventBlock() {
          this.m_model.special_event_time_blocks ||
            (this.m_model.special_event_time_blocks = []),
            this.m_model.special_event_time_blocks.push({ block_reason: {} }),
            this.SetDirty(!0);
        }
        RemoveSpecialEventBlock(e) {
          var t;
          return (
            e <
              (null === (t = this.m_model.special_event_time_blocks) ||
              void 0 === t
                ? void 0
                : t.length) &&
            (this.m_model.special_event_time_blocks.splice(e),
            this.SetDirty(!0),
            !0)
          );
        }
        SetSpecialEventBlock(e, t) {
          var n;
          return (
            e <
              (null === (n = this.m_model.special_event_time_blocks) ||
              void 0 === n
                ? void 0
                : n.length) &&
            ((this.m_model.special_event_time_blocks[e] = t),
            this.SetDirty(!0),
            !0)
          );
        }
        GetAllSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks || [];
        }
        MoveSpecialEventblock(e, t) {
          var n, a;
          return (
            e <
              (null === (n = this.m_model.special_event_time_blocks) ||
              void 0 === n
                ? void 0
                : n.length) &&
            t <
              (null === (a = this.m_model.special_event_time_blocks) ||
              void 0 === a
                ? void 0
                : a.length) &&
            e != t &&
            ((0, C.hV)(this.m_model.special_event_time_blocks, e, t),
            this.SetDirty(!0),
            !0)
          );
        }
        BIsInSpecialEventBlockedTime(e) {
          var t, n;
          return Boolean(
            e &&
              (null ===
                (n =
                  null === (t = this.m_model.special_event_time_blocks) ||
                  void 0 === t
                    ? void 0
                    : t.filter(
                        (t) => e >= t.block_rt_start && e < t.block_rt_end,
                      )) || void 0 === n
                ? void 0
                : n.length) > 0,
          );
        }
        BRequiresRemotePlayTogether() {
          return this.m_model.required_app_features.remote_play_together || !1;
        }
        SetRequiresRemotePlayTogether(e) {
          e !==
            (this.m_model.required_app_features.remote_play_together || !1) &&
            ((this.m_model.required_app_features.remote_play_together = e),
            this.SetDirty(!0));
        }
        BRequiresVR() {
          return this.m_model.required_app_features.vr || !1;
        }
        SetRequiresVR(e) {
          e !== (this.m_model.required_app_features.vr || !1) &&
            ((this.m_model.required_app_features.vr = e), this.SetDirty(!0));
        }
        BOptInRegistationOnlyShowSaveButton() {
          return this.m_model.opt_in_registration_only_show_save;
        }
        SetOptInRegistationOnlyShowSaveButton(e) {
          e != this.m_model.opt_in_registration_only_show_save &&
            ((this.m_model.opt_in_registration_only_show_save = e),
            this.SetDirty(!0));
        }
        BIsAdditionalFeaturingSectionEnabled() {
          return this.m_model.additional_featuring_section_enabled;
        }
        SetAdditionalFeaturingSectionEnabled(e) {
          e != this.m_model.additional_featuring_section_enabled &&
            ((this.m_model.additional_featuring_section_enabled = e),
            this.SetDirty(!0));
        }
        BIsCollectTrailerPermissions() {
          return this.m_model.collect_trailer_permissions;
        }
        SetCollectTrailerPermissions(e) {
          e != this.m_model.collect_trailer_permissions &&
            ((this.m_model.collect_trailer_permissions = e), this.SetDirty(!0));
        }
        BIsCollectDemoPermissions() {
          return this.m_model.collect_demo_permissions;
        }
        SetCollectDemoPermissions(e) {
          e != this.m_model.collect_demo_permissions &&
            ((this.m_model.collect_demo_permissions = e), this.SetDirty(!0));
        }
        BIsCollectGameProfileIntent() {
          return this.m_model.collect_game_profile_intent;
        }
        SetCollectGameProfileIntent(e) {
          e != this.m_model.collect_game_profile_intent &&
            ((this.m_model.collect_game_profile_intent = e), this.SetDirty(!0));
        }
        BHasCollectDemoDeadlineDate() {
          return Boolean(this.m_model.collect_demo_deadline);
        }
        GetCollectDemoDeadlineDate() {
          return this.m_model.collect_demo_deadline;
        }
        SetCollectDemoDeadlineDate(e) {
          e != this.m_model.collect_demo_deadline &&
            ((this.m_model.collect_demo_deadline = e), this.SetDirty(!0));
        }
        GetCurEventTitle() {
          var e;
          return null !==
            (e = this.GetEventTitle(m.U.Get().GetCurEditLanguage())) &&
            void 0 !== e
            ? e
            : "";
        }
        GetEventTitle(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.event_title, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurEventTitle(e) {
          this.SetEventTitle(m.U.Get().GetCurEditLanguage(), e);
        }
        SetEventTitle(e, t) {
          this.SetKVLang(this.m_model.event_title, e, t);
        }
        GetCurOptInRegistrationTitle() {
          var e;
          return null !==
            (e = this.GetOptInRegistrationTitle(
              m.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        GetOptInRegistrationTitle(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.opt_in_registration_title, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurOptInRegistrationTitle(e) {
          this.SetOptInRegistrationTitle(m.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationTitle(e, t) {
          this.m_model.opt_in_registration_title ||
            (this.m_model.opt_in_registration_title = {}),
            this.SetKVLang(this.m_model.opt_in_registration_title, e, t);
        }
        GetCurOptInRegistrationCheckbox() {
          var e;
          return null !==
            (e = this.GetOptInRegistrationCheckbox(
              m.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        GetOptInRegistrationCheckbox(e) {
          var t;
          return null !==
            (t = this.GetKVLang(
              this.m_model.opt_in_registration_checkbox,
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        SetCurOptInRegistrationCheckbox(e) {
          this.SetOptInRegistrationCheckbox(m.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationCheckbox(e, t) {
          this.m_model.opt_in_registration_checkbox ||
            (this.m_model.opt_in_registration_checkbox = {}),
            this.SetKVLang(this.m_model.opt_in_registration_checkbox, e, t);
        }
        BHasOptInRegistrationTitleOrCheckbox() {
          return (
            Boolean(this.m_model.opt_in_registration_title) ||
            Boolean(this.m_model.opt_in_registration_checkbox)
          );
        }
        BIsOptInEnabled() {
          return this.m_model.sale_optin_enabled;
        }
        SetOptInEnabled(e) {
          e !== this.m_model.sale_optin_enabled &&
            ((this.m_model.sale_optin_enabled = e), this.SetDirty(!0));
        }
        GetOptInType() {
          return this.m_model.optin_type || s.Vs.k_EOptInType_EventRegistration;
        }
        SetOptInType(e) {
          e !== this.m_model.optin_type &&
            ((this.m_model.optin_type = e), this.SetDirty(!0));
        }
        GetPublicEventURL() {
          return this.m_model.public_event_url;
        }
        SetPublicEventURL(e) {
          e != this.m_model.public_event_url &&
            ((this.m_model.public_event_url = e), this.SetDirty(!0));
        }
        GetPublicDocumentationWikiURL() {
          return this.m_model.public_doc_wiki_url;
        }
        SetPublicDocumentationWikiURL(e) {
          e != this.m_model.public_doc_wiki_url &&
            ((this.m_model.public_doc_wiki_url = e), this.SetDirty(!0));
        }
        GetPublicEventID() {
          return this.m_model.public_event_id;
        }
        SetPublicEventID(e) {
          e != this.m_model.public_event_id &&
            ((this.m_model.public_event_id = e), this.SetDirty(!0));
        }
        GetEventStartTime() {
          return this.m_model.event_start_date;
        }
        SetEventStartTime(e) {
          e !== this.m_model.event_start_date &&
            ((this.m_model.event_start_date = e), this.SetDirty(!0));
        }
        GetEventEndTime() {
          return this.m_model.event_end_date;
        }
        SetEventEndTime(e) {
          e !== this.m_model.event_end_date &&
            ((this.m_model.event_end_date = e), this.SetDirty(!0));
        }
        GetOptInDeadlineTime() {
          return this.m_model.optin_deadline_date;
        }
        SetOptInDeadlineTime(e) {
          e !== this.m_model.optin_deadline_date &&
            ((this.m_model.optin_deadline_date = e), this.SetDirty(!0));
        }
        BIsInvitationOnly() {
          return this.m_model.invitation_only;
        }
        SetInvititationOnly(e) {
          e !== this.m_model.invitation_only &&
            ((this.m_model.invitation_only = e), this.SetDirty(!0));
        }
        BIsReleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_released_games;
        }
        SetReleaseGameEligible(e) {
          e !== this.m_model.release_date_eligibility.include_released_games &&
            ((this.m_model.release_date_eligibility.include_released_games = e),
            this.SetDirty(!0));
        }
        BIsUnreleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_unreleased_games;
        }
        SetUnreleaseGameEligible(e) {
          e !==
            this.m_model.release_date_eligibility.include_unreleased_games &&
            ((this.m_model.release_date_eligibility.include_unreleased_games =
              e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseBeforeDate() {
          return this.m_model.release_date_eligibility.release_before_date;
        }
        SetEligibleReleaseBeforeDate(e) {
          e !== this.m_model.release_date_eligibility.release_before_date &&
            ((this.m_model.release_date_eligibility.release_before_date = e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseAfterDate() {
          return this.m_model.release_date_eligibility.release_after_date;
        }
        SetEligibleReleaseAfterDate(e) {
          e !== this.m_model.release_date_eligibility.release_after_date &&
            ((this.m_model.release_date_eligibility.release_after_date = e),
            this.SetDirty(!0));
        }
        GetCooldownGroupType() {
          return this.m_model.cooldown_group.group_id || 0;
        }
        SetCooldownGroupType(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.group_id) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.group_id = e),
            this.SetDirty(!0));
        }
        GetCooldownRequired() {
          return this.m_model.cooldown_group.cooldown_required || !1;
        }
        SetCooldownRequired(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.cooldown_required) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.cooldown_required = e),
            this.SetDirty(!0));
        }
        GetCooldownDays() {
          return this.m_model.cooldown_group.cooldown_time || 0;
        }
        SetCooldownDays(e) {
          e !== this.m_model.cooldown_group.cooldown_time &&
            ((this.m_model.cooldown_group.cooldown_time = e),
            this.SetDirty(!0));
        }
        GetRequiredTags() {
          let e = [];
          if (this.m_model && this.m_model.required_tags) {
            let t = k.Get().GetGameTags();
            Object.keys(this.m_model.required_tags).forEach((n) => {
              const a = t.find((e) => e.value == n);
              a && e.push({ label: a.label, value: a.value });
            });
          }
          return e;
        }
        OnChangeRequiredTags(e) {
          (this.m_model.required_tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.required_tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        GetAppOfficialWeightedTagRankToInclude() {
          return this.m_model.app_official_weighted_tag_rank_to_include || 20;
        }
        SetAppOfficialWeightedTagRankToInclude(e) {
          e !== this.m_model.app_official_weighted_tag_rank_to_include &&
            ((this.m_model.app_official_weighted_tag_rank_to_include = e),
            this.SetDirty(!0));
        }
        GetModel() {
          return this.m_model;
        }
        GetDynamicSections() {
          return this.m_model.dynamic_sections || [];
        }
        GetEditableDynamicSections() {
          return this.m_dynamicSections || [];
        }
        GetDynamicSectionByID(e) {
          return this.m_mapDynamicSection.get(e);
        }
        GetEmailDefinitionByID(e) {
          return this.m_mapEmails.get(e);
        }
        GetFirstEmail() {
          var e;
          return (null === (e = this.m_EmailDefinitions) || void 0 === e
            ? void 0
            : e.length) > 0
            ? this.m_EmailDefinitions[0]
            : void 0;
        }
        GetEmailDefinitions() {
          return this.m_EmailDefinitions;
        }
        GetCurDescription() {
          return this.GetDescription(m.U.Get().GetCurEditLanguage());
        }
        GetDescription(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.description, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurDescription(e) {
          this.SetDescription(m.U.Get().GetCurEditLanguage(), e);
        }
        SetDescription(e, t) {
          this.SetKVLang(this.m_model.description, e, t);
        }
        GetCurHelpText() {
          return this.GetHelpText(m.U.Get().GetCurEditLanguage());
        }
        GetHelpText(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.help_text, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurHelpText(e) {
          this.SetHelpText(m.U.Get().GetCurEditLanguage(), e);
        }
        SetHelpText(e, t) {
          this.SetKVLang(this.m_model.help_text, e, t);
        }
        GetCurAppealsText() {
          return this.GetAppealsText(m.U.Get().GetCurEditLanguage());
        }
        GetAppealsText(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.appeals_text, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurAppealsText(e) {
          this.SetAppealsText(m.U.Get().GetCurEditLanguage(), e);
        }
        SetAppealsText(e, t) {
          this.SetKVLang(this.m_model.appeals_text, e, t);
        }
        GetCurPruningCriteriaText() {
          return this.GetPruningCriteriaText(m.U.Get().GetCurEditLanguage());
        }
        GetPruningCriteriaText(e) {
          var t;
          return null !== (t = this.m_model.eligibility_criteria) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurPruningCriteriaText(e) {
          this.SetPruningCriteriaText(m.U.Get().GetCurEditLanguage(), e);
        }
        SetPruningCriteriaText(e, t) {
          (this.m_model.eligibility_criteria = t), this.SetDirty(!0);
        }
        GetPointShopPriorityApps() {
          return this.m_model.point_shop_priority_appids;
        }
        SetPointShopPriorityApps(e) {
          (this.m_model.point_shop_priority_appids = e), this.SetDirty(!0);
        }
        GetPointShopIncludedApps() {
          return this.m_model.point_shop_included_appids;
        }
        SetPointShopIncludedApps(e) {
          (this.m_model.point_shop_included_appids = e), this.SetDirty(!0);
        }
        GetAllLocalizedOptInBanner() {
          var e;
          return null !== (e = this.m_model.localized_optin_banner) &&
            void 0 !== e
            ? e
            : {};
        }
        GetLocalizedOptInBanner(e) {
          var t, n;
          return null !==
            (n =
              null === (t = this.m_model.localized_optin_banner) || void 0 === t
                ? void 0
                : t[(0, d.j_)(e)]) && void 0 !== n
            ? n
            : "";
        }
        SetLocalizedOptInBanner(e, t) {
          (this.m_model.localized_optin_banner &&
            !Array.isArray(this.m_model.localized_optin_banner)) ||
            (this.m_model.localized_optin_banner = {});
          const n = (0, d.j_)(e);
          this.m_model.localized_optin_banner[n] != t &&
            ((this.m_model.localized_optin_banner[n] = t), this.SetDirty(!0));
        }
        DeleteLocalizedOptInBanner(e) {
          var t;
          const n = (0, d.j_)(e);
          (null === (t = this.m_model.localized_optin_banner) || void 0 === t
            ? void 0
            : t[n]) &&
            (delete this.m_model.localized_optin_banner[n], this.SetDirty(!0));
        }
        BIsCategoriesEnabled() {
          return this.m_model.categories.enabled;
        }
        SetCategoriesEnabled(e) {
          e != this.m_model.categories.enabled &&
            ((this.m_model.categories.enabled = e), this.SetDirty(!0));
        }
        GetCategoriesRequired() {
          return this.m_model.categories.required || 0;
        }
        SetCategoriesRequired(e) {
          e != this.m_model.categories.required &&
            ((this.m_model.categories.required = e), this.SetDirty(!0));
        }
        GetCategoryTags() {
          let e = [];
          if (this.m_model && this.m_model.categories.tags) {
            let t = k.Get().GetGameTags();
            Object.keys(this.m_model.categories.tags).forEach((n) => {
              const a = t.find((e) => e.value == n);
              e.push({ label: a.label, value: a.value });
            });
          }
          return e;
        }
        OnChangeCategoryTags(e) {
          (this.m_model.categories.tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.categories.tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        BIsArtistStatementEnabled() {
          return this.m_model.artist_statement.enabled || !1;
        }
        SetArtistStatementEnabled(e) {
          e !== this.m_model.artist_statement.enabled &&
            ((this.m_model.artist_statement.enabled = e), this.SetDirty(!0));
        }
        GetArtistStatementRequired() {
          return this.m_model.artist_statement.required || 0;
        }
        SetArtistStatementRequired(e) {
          e !== this.m_model.artist_statement.required &&
            ((this.m_model.artist_statement.required = e), this.SetDirty(!0));
        }
        BIsPrimaryCountryEnabled() {
          return this.m_model.primary_country.enabled || !1;
        }
        SetPrimaryCountryEnabled(e) {
          e !== this.m_model.primary_country.enabled &&
            ((this.m_model.primary_country.enabled = e), this.SetDirty(!0));
        }
        GetPrimaryCountryRequired() {
          return this.m_model.primary_country.required || 0;
        }
        SetPrimaryCountryRequired(e) {
          e !== this.m_model.primary_country.required &&
            ((this.m_model.primary_country.required = e), this.SetDirty(!0));
        }
        BIsPressContactEnabled() {
          return this.m_model.press_contact.enabled || !1;
        }
        SetPressContactEnabled(e) {
          var t;
          e !==
            (null === (t = this.m_model) || void 0 === t
              ? void 0
              : t.press_contact.enabled) &&
            ((this.m_model.press_contact.enabled = e), this.SetDirty(!0));
        }
        GetPressContactRequired() {
          return this.m_model.press_contact.required || 0;
        }
        SetPressContactRequired(e) {
          var t;
          e !==
            (null === (t = this.m_model) || void 0 === t
              ? void 0
              : t.press_contact.required) &&
            ((this.m_model.press_contact.required = e), this.SetDirty(!0));
        }
        BIsBeforeYouOptInEnabled() {
          return this.m_model.before_you_opt_in || !1;
        }
        SetBeforeYouOptInEnabled(e) {
          e !== this.m_model.before_you_opt_in &&
            ((this.m_model.before_you_opt_in = e), this.SetDirty(!0));
        }
        BIsBuildYourStorePageEnabled() {
          return this.m_model.build_store_page.enabled || !1;
        }
        SetBuildYourStorePageEnabled(e) {
          e !== this.m_model.build_store_page.enabled &&
            ((this.m_model.build_store_page.enabled = e), this.SetDirty(!0));
        }
        GetBuildYourStorePageRequired() {
          return this.m_model.build_store_page.required || 0;
        }
        SetBuildYourStorePageRequired(e) {
          e !== this.m_model.build_store_page.required &&
            ((this.m_model.build_store_page.required = e), this.SetDirty(!0));
        }
        GetStorePageText() {
          var e;
          return null !==
            (e = this.GetKVLang(
              this.m_model.build_store_page.description,
              m.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        SetStorePageText(e) {
          this.m_model.build_store_page || (this.m_model.build_store_page = {}),
            this.m_model.build_store_page.description ||
              (this.m_model.build_store_page.description = {}),
            this.SetKVLang(
              this.m_model.build_store_page.description,
              m.U.Get().GetCurEditLanguage(),
              e,
            );
        }
        BIsTaggingWizardEnabled() {
          return this.m_model.tagging_wizard || !1;
        }
        SetTaggingWizardEnabled(e) {
          e !== this.m_model.tagging_wizard &&
            ((this.m_model.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsLaunchYourDemoEnabled() {
          return this.m_model.launch_demo.enabled || !1;
        }
        SetLaunchYourDemoEnabled(e) {
          e !== this.m_model.launch_demo.enabled &&
            ((this.m_model.launch_demo.enabled = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoRequired() {
          return this.m_model.launch_demo.required || 0;
        }
        SetLaunchYourDemoRequired(e) {
          e !== this.m_model.launch_demo.required &&
            ((this.m_model.launch_demo.required = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoDueDate() {
          return this.m_model.launch_demo.due_date || 0;
        }
        SetLaunchYourDemoDueDate(e) {
          e !== this.m_model.launch_demo.due_date &&
            ((this.m_model.launch_demo.due_date = e), this.SetDirty(!0));
        }
        BIsDoAnytimeEnabled() {
          return this.m_model.do_anytime.enabled || !1;
        }
        SetDoAnytimeEnabled(e) {
          e !== this.m_model.do_anytime.enabled &&
            ((this.m_model.do_anytime.enabled = e), this.SetDirty(!0));
        }
        BIsLivestreamEnabled() {
          return this.m_model.do_anytime.livestream || !1;
        }
        SetLivestreamEnabled(e) {
          e !== this.m_model.do_anytime.livestream &&
            ((this.m_model.do_anytime.livestream = e), this.SetDirty(!0));
        }
        BIsChatSessionEnabled() {
          return this.m_model.do_anytime.chat_session || !1;
        }
        SetChatSessionEnabled(e) {
          e !== this.m_model.do_anytime.chat_session &&
            ((this.m_model.do_anytime.chat_session = e), this.SetDirty(!0));
        }
        BIsAnytimeTaggingWizardEnabled() {
          return this.m_model.do_anytime.tagging_wizard || !1;
        }
        SetAnytimeTaggingWizardEnabled(e) {
          e !== this.m_model.do_anytime.tagging_wizard &&
            ((this.m_model.do_anytime.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsEnterDiscountsEnabled() {
          return this.m_model.do_anytime.enter_discounts || !1;
        }
        SetEnterDiscountsEnabled(e) {
          e !== this.m_model.do_anytime.enter_discounts &&
            ((this.m_model.do_anytime.enter_discounts = e), this.SetDirty(!0));
        }
        GetDiscountEventID() {
          return this.m_model.do_anytime.discount_event_id || "";
        }
        SetDiscountEventID(e) {
          e !== this.m_model.do_anytime.discount_event_id &&
            ((this.m_model.do_anytime.discount_event_id = e),
            this.SetDirty(!0));
        }
        GetExternalAppReviewers() {
          return this.m_model.external_app_reviewer || [];
        }
        SetExternalAppReviewers(e) {
          JSON.stringify(e) !==
            JSON.stringify(this.m_model.external_app_reviewer) &&
            ((this.m_model.external_app_reviewer = e), this.SetDirty(!0));
        }
        RemoveExternalAppReviewAt(e) {
          var t;
          e <
            (null === (t = this.m_model.external_app_reviewer) || void 0 === t
              ? void 0
              : t.length) &&
            (this.m_model.external_app_reviewer.splice(e, 1),
            this.SetDirty(!0));
        }
        BAddExternalAppReviewAt(e) {
          this.m_model.external_app_reviewer ||
            (this.m_model.external_app_reviewer = []);
          return (
            -1 == this.m_model.external_app_reviewer.findIndex((t) => t == e) &&
            (this.m_model.external_app_reviewer.push(e), this.SetDirty(!0), !0)
          );
        }
        SetKVLang(e, t, n) {
          (function (e, t, n) {
            const a = (0, d.j_)(t);
            return e[a] != n && ((e[a] = n), !0);
          })(e, t, n) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (function (e, t) {
            const n = (0, d.j_)(t);
            return e ? e[n] : "";
          })(e, t);
        }
        AddDynamicSection() {
          this.m_model.dynamic_sections || (this.m_model.dynamic_sections = []),
            this.m_model.dynamic_sections.push(R.CreateDefaultDynamicSection());
          const e = new O(
            this.m_model.dynamic_sections[
              this.m_model.dynamic_sections.length - 1
            ],
          );
          this.m_mapDynamicSection.set(e.GetUniqueID(), e),
            this.m_dynamicSections.push(e),
            this.SetDirty(!0);
        }
        static CreateDefaultDynamicSection() {
          return {
            unique_id: R.Get().GenerateUniqueIDForOptInSection(),
            input_style: "radio",
            columns: 1,
            lists: [
              {
                options: [],
                unique_id: R.GenerateUniqueIDForOptionListSection(),
              },
            ],
          };
        }
        DeleteDynamicSection(e) {
          const t = this.GetDynamicSectionByID(e);
          if (!t) return console.log("Could not find section with ID " + e), !1;
          this.m_mapDynamicSection.delete(t.GetUniqueID());
          let n = this.m_dynamicSections.findIndex((t) => t.GetUniqueID() == e);
          if (-1 === n) throw `dynamic section unique id ${e} missing: editing`;
          if (
            (this.m_dynamicSections.splice(n, 1),
            (n = this.m_model.dynamic_sections.findIndex(
              (t) => t.unique_id === e,
            )),
            -1 === n)
          )
            throw `dynamic section unique id ${e} missing: source model`;
          return (
            this.m_model.dynamic_sections.splice(n, 1), this.SetDirty(!0), !0
          );
        }
        GenerateUniqueIDForOptInSection() {
          let e = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetDynamicSectionByID(L + e); )
            e = Math.floor(1 + 1e5 * Math.random());
          return L + e;
        }
        static GenerateUniqueIDForOptionListSection(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === x + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return x + t;
        }
        static GenerateUniqueIDForListItem(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === G + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return G + t;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        SetDirty(e) {
          this.m_bDirty != e &&
            ((this.m_bDirty = e),
            k.Get().SetUnpublishedChanges(this.GetFullName()));
        }
        Save(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            let t = w.De.PARTNER_BASE_URL + "optin/ajaxadminupdate";
            const n = new FormData();
            n.append("sessionid", w.De.SESSIONID),
              n.append("pageid", this.m_model.pageid),
              n.append("jsondata", JSON.stringify(this.m_model));
            try {
              let a = yield r().post(t, n, {
                withCredentials: !0,
                cancelToken: e,
              });
              if (e.reason)
                return (
                  console.log(
                    "COptInAdminEditModel.Save Cancelled: " + e.reason,
                  ),
                  null
                );
              if (200 != a.status || !a.data || 1 != a.data.success) {
                let e =
                  "Save Error: (" +
                  (a.data
                    ? "erseult: " + a.data.success
                    : "status: " + a.status) +
                  ")";
                return (
                  a.data &&
                    a.data.err_msg &&
                    (e += " Error Message: " + a.data.err_msg),
                  console.error("COptInAdminEditModel.Save: " + e),
                  e
                );
              }
              k.Get().SetOptInDefinition(this.m_model), this.SetDirty(!1);
            } catch (e) {
              let t = (0, A.l)(e);
              return (
                console.error(
                  "COptInAdminEditModel save error: " + t.strErrorMsg,
                  t,
                ),
                "Save Error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        BInitialized() {
          return Boolean(this.m_model);
        }
        BHasLanguageData(e) {
          const t = (0, d.j_)(e);
          return (
            (this.m_model.description &&
              this.m_model.description[t] &&
              this.m_model.description[t].length > 0) ||
            (this.m_model.help_text &&
              this.m_model.help_text[t] &&
              this.m_model.help_text[t].length > 0) ||
            (this.m_model.appeals_text &&
              this.m_model.appeals_text[t] &&
              this.m_model.appeals_text[t].length > 0) ||
            (this.m_model.special_event_name &&
              this.m_model.special_event_name[t] &&
              this.m_model.special_event_name[t].length > 0) ||
            (this.m_model.special_event_description &&
              this.m_model.special_event_description[t] &&
              this.m_model.special_event_description[t].length > 0) ||
            (this.m_model.build_store_page &&
              this.m_model.build_store_page.description &&
              this.m_model.build_store_page.description[t] &&
              this.m_model.build_store_page.description[t].length > 0) ||
            (this.m_model.artist_statement &&
              this.m_model.artist_statement.description &&
              this.m_model.artist_statement.description[t] &&
              this.m_model.artist_statement.description[t].length > 0)
          );
        }
        constructor() {
          (this.m_model = void 0),
            (this.m_bDirty = !1),
            (this.rgActiveStats = void 0),
            (this.m_dynamicSections = void 0),
            (this.m_mapDynamicSection = new Map()),
            (this.m_EmailDefinitions = void 0),
            (this.m_mapEmails = new Map()),
            (this.m_activeStatsChange = new T.pB()),
            (this.rgOptionalSuggestedRequired = []),
            (this.rgEventTypes = []),
            (this.rgGameTokens = []),
            (0, c.rC)(this);
        }
        Reset(e, t) {
          var n, a;
          if (
            ((this.m_model = e ? JSON.parse(JSON.stringify(e)) : null),
            (this.m_bDirty = !1),
            m.U.Get().SetCurEditLanguage(0),
            this.SetActiveStats(t),
            this.m_model &&
              ((this.m_model.required_tags &&
                !Array.isArray(this.m_model.required_tags)) ||
                (this.m_model.required_tags = {}),
              (this.m_model.categories &&
                !Array.isArray(this.m_model.categories)) ||
                (this.m_model.categories = {}),
              (this.m_model.categories.tags &&
                !Array.isArray(this.m_model.categories.tags)) ||
                (this.m_model.categories.tags = {}),
              (this.m_model.artist_statement &&
                !Array.isArray(this.m_model.artist_statement)) ||
                (this.m_model.artist_statement = {}),
              (this.m_model.primary_country &&
                !Array.isArray(this.m_model.primary_country)) ||
                (this.m_model.primary_country = {}),
              (this.m_model.press_contact &&
                !Array.isArray(this.m_model.press_contact)) ||
                (this.m_model.press_contact = {}),
              (this.m_model.build_store_page &&
                !Array.isArray(this.m_model.build_store_page)) ||
                (this.m_model.build_store_page = {}),
              (this.m_model.launch_demo &&
                !Array.isArray(this.m_model.launch_demo)) ||
                (this.m_model.launch_demo = {}),
              (this.m_model.do_anytime &&
                !Array.isArray(this.m_model.do_anytime)) ||
                (this.m_model.do_anytime = {}),
              (this.m_model.release_date_eligibility &&
                !Array.isArray(this.m_model.release_date_eligibility)) ||
                (this.m_model.release_date_eligibility = {}),
              (this.m_model.cooldown_group &&
                !Array.isArray(this.m_model.cooldown_group)) ||
                (this.m_model.cooldown_group = {}),
              (this.m_model.description &&
                !Array.isArray(this.m_model.description)) ||
                (this.m_model.description = {}),
              (this.m_model.help_text &&
                !Array.isArray(this.m_model.help_text)) ||
                (this.m_model.help_text = {}),
              (this.m_model.appeals_text &&
                !Array.isArray(this.m_model.appeals_text)) ||
                (this.m_model.appeals_text = {}),
              (this.m_model.special_event_description &&
                !Array.isArray(this.m_model.special_event_description)) ||
                (this.m_model.special_event_description = {}),
              (this.m_model.special_event_name &&
                !Array.isArray(this.m_model.special_event_name)) ||
                (this.m_model.special_event_name = {}),
              (this.m_model.event_title &&
                !Array.isArray(this.m_model.event_title)) ||
                (this.m_model.event_title = {}),
              (this.m_model.required_app_features &&
                !Array.isArray(this.m_model.required_app_features)) ||
                (this.m_model.required_app_features = {})),
            this.m_model && !this.m_model.event_start_date)
          ) {
            let e = new Date();
            e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_start_date = Math.floor(e.getTime() / 1e3));
          }
          if (this.m_model && !this.m_model.event_end_date) {
            let e = new Date();
            e.setDate(e.getDate() + 1),
              e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_end_date = Math.floor(e.getTime() / 1e3));
          }
          (this.m_dynamicSections = []),
            (this.m_mapDynamicSection = new Map()),
            this.m_model &&
              this.m_model.dynamic_sections &&
              this.m_model.dynamic_sections.forEach((e) => {
                let t = new O(e);
                this.m_dynamicSections.push(t),
                  this.m_mapDynamicSection.set(t.GetUniqueID(), t);
              }),
            (this.m_EmailDefinitions = []),
            (this.m_mapEmails = new Map()),
            (null ===
              (a =
                null === (n = this.m_model) || void 0 === n
                  ? void 0
                  : n.emails) || void 0 === a
              ? void 0
              : a.length) > 0 &&
              this.m_model.emails.forEach((e) => {
                const t = new D(this.GetFullName(), e);
                this.m_EmailDefinitions.push(t),
                  this.m_mapEmails.set(t.GetUniqueID(), t);
              }),
            this.LoadActiveStatsDetails();
        }
        AddEmailDraft(e) {
          this.m_model.emails || (this.m_model.emails = []),
            this.m_model.emails.push(e);
          const t = new D(
            this.GetFullName(),
            this.m_model.emails[this.m_model.emails.length - 1],
          );
          return (
            this.m_EmailDefinitions.push(t),
            this.m_mapEmails.set(t.GetUniqueID(), t),
            this.SetDirty(!0),
            t
          );
        }
        SetActiveStats(e) {
          (this.rgActiveStats = e),
            this.GetActiveStatsChangeCallaback().Dispatch(e);
        }
        GetActiveStats() {
          return this.rgActiveStats;
        }
        LoadActiveStatsDetails() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if (!this.m_model) return null;
            let e = w.De.PARTNER_BASE_URL + "optin/ajaxgetoptinstats";
            e +=
              "?active=true&pageids=" + encodeURIComponent(this.m_model.pageid);
            try {
              let t = yield r().get(e, { withCredentials: !0, timeout: 2e4 });
              if (200 != t.status || !t.data || 1 != t.data.success) {
                return (
                  "LoadActiveStatsDetails error: (" +
                  (t.data
                    ? "result: " + t.data.success
                    : "status: " + t.status) +
                  ")"
                );
              }
              if (t.data.msg) {
                const e = t.data.msg
                  ? JSON.parse(JSON.stringify(t.data.msg))
                  : null;
                this.SetActiveStats(e ? e[0] : null);
              }
            } catch (e) {
              return "Loading active stats returned " + e.strErrorMsg;
            }
            return null;
          });
        }
        RefreshActiveStats(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if (!this.m_model) return null;
            let t = w.De.PARTNER_BASE_URL + "optin/ajaxrefreshoptinstats";
            const n = new FormData();
            n.append("sessionid", w.De.SESSIONID),
              n.append("pageids", this.m_model.pageid);
            try {
              let a = yield r().post(t, n, {
                withCredentials: !0,
                cancelToken: e || void 0,
                timeout: 12e4,
              });
              if (e && e.reason)
                return (
                  console.log("RefreshingActiveStats Cancelled: " + e.reason),
                  null
                );
              if (200 != a.status || !a.data || 1 != a.data.success) {
                let e =
                  "Refresh optin stats error: (" +
                  (a.data
                    ? "result: " + a.data.success
                    : "status: " + a.status) +
                  ")";
                return (
                  console.log("COptInAdminEditModel.RefresActiveStats: " + e), e
                );
              }
              if (a.data.msg) {
                let e = a.data.msg
                  ? JSON.parse(JSON.stringify(a.data.msg))
                  : null;
                this.SetActiveStats(e ? e[0] : null);
              }
            } catch (e) {
              let t = (0, A.l)(e);
              return (
                console.error(
                  "COptInAdminEditModel.RefreshActiveStats error: " +
                    t.strErrorMsg,
                  t,
                ),
                "Save Error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        GetRequiredOptions() {
          return (
            this.rgOptionalSuggestedRequired.length ||
              (this.rgOptionalSuggestedRequired.push({
                label: "Optional",
                data: 0,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Suggested",
                data: 1,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Required",
                data: 2,
              })),
            this.rgOptionalSuggestedRequired
          );
        }
        GetCooldownGroupOptions() {
          if (!this.rgEventTypes.length)
            for (let e = 0; null != s.Sc[e]; e++)
              this.rgEventTypes.push({ label: s.Sc[e], data: e });
          return this.rgEventTypes;
        }
        GetGameTagOptions() {
          if (!this.rgGameTokens.length) {
            k.Get()
              .GetGameTags()
              .forEach((e) => {
                this.rgGameTokens.push({ label: e.label, value: e.value });
              });
          }
          return this.rgGameTokens;
        }
      }
      (0, o.gn)([c.LO], R.prototype, "m_model", void 0),
        (0, o.gn)([c.LO], R.prototype, "m_bDirty", void 0),
        (0, o.gn)([c.LO], R.prototype, "rgActiveStats", void 0),
        (0, o.gn)([c.LO], R.prototype, "m_dynamicSections", void 0),
        (0, o.gn)([c.LO], R.prototype, "m_EmailDefinitions", void 0),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventType", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventType", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurSpecialEventName", null),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventName", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurSpecialEventName", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventName", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurSpecialEventDescription", null),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventDescription", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurSpecialEventDescription", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetSpecialEventDescription",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventDocLink", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventDocLink", null),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventTypeMax", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventTypeMax", null),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventStartTime", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventStartTime", null),
        (0, o.gn)([u.ak], R.prototype, "GetSpecialEventEndTime", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventEndTime", null),
        (0, o.gn)([u.ak], R.prototype, "BHasSpecialEventTimeSet", null),
        (0, o.gn)([u.ak], R.prototype, "NCountSpecialEventBlocks", null),
        (0, o.gn)([c.aD.bound], R.prototype, "AddSpecialEventBlock", null),
        (0, o.gn)([c.aD.bound], R.prototype, "RemoveSpecialEventBlock", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetSpecialEventBlock", null),
        (0, o.gn)([u.ak], R.prototype, "GetAllSpecialEventBlocks", null),
        (0, o.gn)([c.aD.bound], R.prototype, "MoveSpecialEventblock", null),
        (0, o.gn)([u.ak], R.prototype, "BIsInSpecialEventBlockedTime", null),
        (0, o.gn)([u.ak], R.prototype, "BRequiresRemotePlayTogether", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetRequiresRemotePlayTogether",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BRequiresVR", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetRequiresVR", null),
        (0, o.gn)(
          [u.ak],
          R.prototype,
          "BOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, o.gn)(
          [u.ak],
          R.prototype,
          "BIsAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BIsCollectTrailerPermissions", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetCollectTrailerPermissions",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BIsCollectDemoPermissions", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCollectDemoPermissions", null),
        (0, o.gn)([u.ak], R.prototype, "BIsCollectGameProfileIntent", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetCollectGameProfileIntent",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BHasCollectDemoDeadlineDate", null),
        (0, o.gn)([u.ak], R.prototype, "GetCollectDemoDeadlineDate", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetCollectDemoDeadlineDate",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "GetCurEventTitle", null),
        (0, o.gn)([u.ak], R.prototype, "GetEventTitle", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurEventTitle", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetEventTitle", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurOptInRegistrationTitle", null),
        (0, o.gn)([u.ak], R.prototype, "GetOptInRegistrationTitle", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurOptInRegistrationTitle", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetOptInRegistrationTitle", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurOptInRegistrationCheckbox", null),
        (0, o.gn)([u.ak], R.prototype, "GetOptInRegistrationCheckbox", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurOptInRegistrationCheckbox", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetOptInRegistrationCheckbox",
          null,
        ),
        (0, o.gn)(
          [u.ak],
          R.prototype,
          "BHasOptInRegistrationTitleOrCheckbox",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BIsOptInEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetOptInEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetOptInType", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetOptInType", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPublicEventURL", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetPublicDocumentationWikiURL",
          null,
        ),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPublicEventID", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetEventStartTime", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetEventEndTime", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetOptInDeadlineTime", null),
        (0, o.gn)([u.ak], R.prototype, "BIsInvitationOnly", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetInvititationOnly", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetReleaseGameEligible", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetUnreleaseGameEligible", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetEligibleReleaseBeforeDate",
          null,
        ),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetEligibleReleaseAfterDate",
          null,
        ),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCooldownGroupType", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCooldownRequired", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCooldownDays", null),
        (0, o.gn)([u.ak], R.prototype, "OnChangeRequiredTags", null),
        (0, o.gn)(
          [u.ak],
          R.prototype,
          "GetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "GetCurDescription", null),
        (0, o.gn)([u.ak], R.prototype, "GetDescription", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurDescription", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetDescription", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurHelpText", null),
        (0, o.gn)([u.ak], R.prototype, "GetHelpText", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurHelpText", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetHelpText", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurAppealsText", null),
        (0, o.gn)([u.ak], R.prototype, "GetAppealsText", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurAppealsText", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetAppealsText", null),
        (0, o.gn)([u.ak], R.prototype, "GetCurPruningCriteriaText", null),
        (0, o.gn)([u.ak], R.prototype, "GetPruningCriteriaText", null),
        (0, o.gn)([u.ak], R.prototype, "SetCurPruningCriteriaText", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPruningCriteriaText", null),
        (0, o.gn)([u.ak], R.prototype, "GetPointShopPriorityApps", null),
        (0, o.gn)([u.ak], R.prototype, "SetPointShopPriorityApps", null),
        (0, o.gn)([u.ak], R.prototype, "GetPointShopIncludedApps", null),
        (0, o.gn)([u.ak], R.prototype, "SetPointShopIncludedApps", null),
        (0, o.gn)([u.ak], R.prototype, "GetLocalizedOptInBanner", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetLocalizedOptInBanner", null),
        (0, o.gn)([u.ak], R.prototype, "DeleteLocalizedOptInBanner", null),
        (0, o.gn)([u.ak], R.prototype, "BIsCategoriesEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCategoriesEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetCategoriesRequired", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetCategoriesRequired", null),
        (0, o.gn)([u.ak], R.prototype, "OnChangeCategoryTags", null),
        (0, o.gn)([u.ak], R.prototype, "BIsArtistStatementEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetArtistStatementEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetArtistStatementRequired", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetArtistStatementRequired",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BIsPrimaryCountryEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPrimaryCountryEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetPrimaryCountryRequired", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPrimaryCountryRequired", null),
        (0, o.gn)([u.ak], R.prototype, "BIsPressContactEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPressContactEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetPressContactRequired", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetPressContactRequired", null),
        (0, o.gn)([u.ak], R.prototype, "BIsBeforeYouOptInEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetBeforeYouOptInEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "BIsBuildYourStorePageEnabled", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetBuildYourStorePageEnabled",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "GetBuildYourStorePageRequired", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetBuildYourStorePageRequired",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "GetStorePageText", null),
        (0, o.gn)([u.ak], R.prototype, "SetStorePageText", null),
        (0, o.gn)([u.ak], R.prototype, "BIsTaggingWizardEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetTaggingWizardEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "BIsLaunchYourDemoEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetLaunchYourDemoEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetLaunchYourDemoRequired", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetLaunchYourDemoRequired", null),
        (0, o.gn)([u.ak], R.prototype, "GetLaunchYourDemoDueDate", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetLaunchYourDemoDueDate", null),
        (0, o.gn)([u.ak], R.prototype, "BIsDoAnytimeEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetDoAnytimeEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "BIsLivestreamEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetLivestreamEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "BIsChatSessionEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetChatSessionEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "BIsAnytimeTaggingWizardEnabled", null),
        (0, o.gn)(
          [c.aD.bound],
          R.prototype,
          "SetAnytimeTaggingWizardEnabled",
          null,
        ),
        (0, o.gn)([u.ak], R.prototype, "BIsEnterDiscountsEnabled", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetEnterDiscountsEnabled", null),
        (0, o.gn)([u.ak], R.prototype, "GetDiscountEventID", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetDiscountEventID", null),
        (0, o.gn)([u.ak], R.prototype, "GetExternalAppReviewers", null),
        (0, o.gn)([c.aD.bound], R.prototype, "SetExternalAppReviewers", null),
        (0, o.gn)([c.aD.bound], R.prototype, "RemoveExternalAppReviewAt", null),
        (0, o.gn)([c.aD.bound], R.prototype, "BAddExternalAppReviewAt", null),
        (0, o.gn)([c.aD.bound], R.prototype, "AddDynamicSection", null),
        (0, o.gn)([c.aD.bound], R.prototype, "DeleteDynamicSection", null),
        (0, o.gn)([u.ak], R.prototype, "BHasLanguageData", null),
        (0, o.gn)([c.aD], R.prototype, "Reset", null),
        (0, o.gn)([c.aD.bound], R.prototype, "AddEmailDraft", null),
        (0, o.gn)([u.ak], R.prototype, "GetRequiredOptions", null),
        (0, o.gn)([u.ak], R.prototype, "GetCooldownGroupOptions", null),
        (0, o.gn)([u.ak], R.prototype, "GetGameTagOptions", null);
      class O {
        constructor(e) {
          (this.m_section = void 0), (0, c.rC)(this), (this.m_section = e);
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetName() {
          var e;
          return null !==
            (e = (0, s.Xj)(
              this.m_section.name,
              m.U.Get().GetCurEditLanguage(),
              "",
            )) && void 0 !== e
            ? e
            : "";
        }
        GetNameWithFallback(e) {
          var t;
          return null !==
            (t = (0, s.Xj)(
              this.m_section.name,
              m.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetDescription() {
          var e;
          return null !==
            (e = (0, s.Xj)(
              this.m_section.description,
              m.U.Get().GetCurEditLanguage(),
              "",
            )) && void 0 !== e
            ? e
            : "";
        }
        GetInputStyle() {
          return this.m_section.input_style;
        }
        GetColumnCount() {
          return this.m_section.columns;
        }
        GetLists() {
          return this.m_section.lists;
        }
        GetListTitle(e) {
          var t;
          return null !==
            (t = (0, s.Xj)(
              this.m_section.lists[e].option_title,
              m.U.Get().GetCurEditLanguage(),
            )) && void 0 !== t
            ? t
            : "";
        }
        GetListByIndex(e) {
          return this.m_section.lists[e];
        }
        GetListByID(e) {
          const t = this.m_section.lists.filter((t) => t.unique_id == e);
          return t.length > 0 ? t[0] : null;
        }
        GetItemAtListAndIndex(e, t) {
          return this.m_section.lists[e].options[t];
        }
        GetModel() {
          return this.m_section;
        }
        GetListCount() {
          return this.m_section.lists ? this.m_section.lists.length : 0;
        }
        BIsValveOnlySection() {
          return this.m_section.valve_only;
        }
        SetName(e, t) {
          if ((0, s.Xj)(this.m_section.name, t) != e) {
            const n = (0, d.j_)(t, "english");
            this.m_section.name || (this.m_section.name = {}),
              (this.m_section.name[n] = e),
              R.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if ((0, s.Xj)(this.m_section.description, t) != e) {
            const n = (0, d.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[n] = e),
              R.Get().SetDirty(!0);
          }
        }
        SetDescriptionWithCurLang(e) {
          this.SetDescription(e, m.U.Get().GetCurEditLanguage());
        }
        SetInputStyle(e) {
          this.m_section.input_style != e &&
            ((this.m_section.input_style = e),
            "text_input" == e &&
              ((this.m_section.lists = this.m_section.lists.splice(
                1,
                this.m_section.lists.length,
              )),
              0 == this.m_section.lists.length && this.AddOptionList()),
            R.Get().SetDirty(!0));
        }
        SetColumnCount(e) {
          this.m_section.columns != e &&
            ((this.m_section.columns = e), R.Get().SetDirty(!0));
        }
        SetValveOnly(e) {
          this.m_section.valve_only != e &&
            ((this.m_section.valve_only = e), R.Get().SetDirty(!0));
        }
        AddItemToList(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.AddItemToListByIndex(i, t, n);
        }
        AddItemToListByIndex(e, t, n, a) {
          if (!(e >= 0 && e <= this.m_section.lists.length))
            throw "Adding item to a list that does not exist: " + e;
          {
            const i = (0, d.j_)(n, "english");
            this.m_section.lists[e].options ||
              (this.m_section.lists[e].options = []);
            const o = {
              text: {},
              unique_id: R.GenerateUniqueIDForListItem(
                this.m_section.lists[e].options,
              ),
            };
            (o.text[i] = t),
              a && ((o.tooltip = {}), (o.tooltip[i] = a)),
              this.m_section.lists[e].options.push(o),
              R.Get().SetDirty(!0);
          }
        }
        RemoveListItemByID(e, t) {
          let n = this.m_section.lists.findIndex((t) => t.unique_id === e);
          -1 !== n &&
            t < this.m_section.lists[n].options.length &&
            (this.m_section.lists[n].options.splice(t, 1),
            R.Get().SetDirty(!0));
        }
        RemoveListItem(e, t) {
          e < this.m_section.lists.length &&
            t < this.m_section.lists[e].options.length &&
            (this.m_section.lists[e].options.splice(t, 1),
            R.Get().SetDirty(!0));
        }
        MoveListItem(e, t, n) {
          e < this.m_section.lists.length &&
            ((0, C.hV)(this.m_section.lists[e].options, t, n),
            R.Get().SetDirty(!0));
        }
        UpdateListItemText(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, s.Xj)(this.m_section.lists[i].options[t].text, a) != n
          ) {
            const e = (0, d.j_)(a, "english");
            (this.m_section.lists[i].options[t].text[e] = n),
              R.Get().SetDirty(!0);
          }
        }
        UpdateListItemTooltip(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, s.Xj)(this.m_section.lists[i].options[t].tooltip, a) != n
          ) {
            const e = (0, d.j_)(a, "english");
            this.m_section.lists[i].options[t].tooltip ||
              (this.m_section.lists[i].options[t].tooltip = {}),
              (this.m_section.lists[i].options[t].tooltip[e] = n),
              R.Get().SetDirty(!0);
          }
        }
        UpdateListItemTextByKV(e, t, n, a) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            t >= 0 &&
            t < this.m_section.lists[e].options.length
          ) {
            let i = this.m_section.lists[e].options[t],
              o = !1;
            for (let e = 0; e < 31; ++e) {
              if ((0, s.Xj)(n, e) != (0, s.Xj)(i.text, e)) {
                const t = (0, d.j_)(e);
                (i.text[t] = n[t]), (o = !0);
              }
              if (
                a &&
                (i.tooltip || (i.tooltip = {}),
                (0, s.Xj)(a, e) != (0, s.Xj)(i.tooltip, e))
              ) {
                const t = (0, d.j_)(e);
                (i.tooltip[t] = a[t]), (o = !0);
              }
            }
            o && R.Get().SetDirty(!0);
          }
        }
        AddOptionList() {
          const e = {
            options: [],
            unique_id: R.GenerateUniqueIDForOptionListSection(
              this.m_section.lists,
            ),
          };
          this.m_section.lists.push(e), R.Get().SetDirty(!0);
        }
        DeleteOptionList(e) {
          let t = this.m_section.lists.findIndex((t) => t.unique_id === e);
          t &&
            (this.m_section.lists.splice(t, 1),
            0 == this.m_section.lists.length &&
              (this.m_section.lists = [
                {
                  options: [],
                  unique_id: R.GenerateUniqueIDForOptionListSection(),
                },
              ]),
            R.Get().SetDirty(!0));
        }
        SetListTitle(e, t, n) {
          let a = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.SetListTitleByListIndex(a, t, n);
        }
        SetListTitleByListIndex(e, t, n) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            (0, s.Xj)(this.m_section.lists[e].option_title, n) != t
          ) {
            const a = (0, d.j_)(n, "english");
            this.m_section.lists[e].option_title ||
              (this.m_section.lists[e].option_title = {}),
              (this.m_section.lists[e].option_title[a] = t),
              R.Get().SetDirty(!0);
          }
        }
      }
      function B() {
        const [e, t] = (0, I.useState)(R.Get().GetActiveStats());
        return (0, u.Qg)(R.Get().GetActiveStatsChangeCallaback(), t), e;
      }
      function M() {
        const e = B();
        return (0, I.useMemo)(() => {
          const t = JSON.parse((null == e ? void 0 : e.json_eligible) || "[]"),
            n = {
              jsonEligible: Array.isArray(t) ? t : [],
              jsonOptedIn: JSON.parse(
                (null == e ? void 0 : e.json_opted_in) || "[]",
              ),
              jsonOptedOut: JSON.parse(
                (null == e ? void 0 : e.json_opted_out) || "[]",
              ),
              jsonInvited: JSON.parse(
                (null == e ? void 0 : e.json_invited) || "[]",
              ),
              jsonPruned: JSON.parse(
                (null == e ? void 0 : e.json_pruned) || "[]",
              ),
              jsonFeatured: JSON.parse(
                (null == e ? void 0 : e.json_featured) || "[]",
              ),
              jsonPendingReview: JSON.parse(
                (null == e ? void 0 : e.json_pending_review) || "[]",
              ),
            };
          return (
            (n.setEligible = new Set(n.jsonEligible.map((e) => e.appid))),
            (n.setOptedIn = new Set(n.jsonOptedIn.map((e) => e.appid))),
            (n.setOptedOut = new Set(n.jsonOptedOut.map((e) => e.appid))),
            (n.setInvited = new Set(n.jsonInvited.map((e) => e.appid))),
            (n.setPruned = new Set(n.jsonPruned.map((e) => e.appid))),
            (n.setFeatured = new Set(n.jsonFeatured.map((e) => e.appid))),
            (n.setPendingReview = new Set(
              n.jsonPendingReview.map((e) => e.appid),
            )),
            n
          );
        }, [e]);
      }
      (0, o.gn)([u.ak], O.prototype, "GetName", null),
        (0, o.gn)([u.ak], O.prototype, "GetDescription", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetName", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetDescription", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetDescriptionWithCurLang", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetInputStyle", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetColumnCount", null),
        (0, o.gn)([c.aD.bound], O.prototype, "SetValveOnly", null),
        (0, o.gn)([c.aD.bound], O.prototype, "AddItemToList", null),
        (0, o.gn)([c.aD.bound], O.prototype, "AddItemToListByIndex", null),
        (0, o.gn)([c.aD], O.prototype, "RemoveListItemByID", null),
        (0, o.gn)([c.aD], O.prototype, "RemoveListItem", null),
        (0, o.gn)([c.aD], O.prototype, "MoveListItem", null),
        (0, o.gn)([c.aD], O.prototype, "UpdateListItemText", null),
        (0, o.gn)([c.aD], O.prototype, "UpdateListItemTooltip", null),
        (0, o.gn)([c.aD], O.prototype, "UpdateListItemTextByKV", null),
        (0, o.gn)([c.aD.bound], O.prototype, "AddOptionList", null),
        (0, o.gn)([c.aD], O.prototype, "DeleteOptionList", null),
        (0, o.gn)([c.aD], O.prototype, "SetListTitle", null),
        (0, o.gn)([c.aD], O.prototype, "SetListTitleByListIndex", null);
      var P = n(565),
        F = n(22444),
        U = n(17547),
        j = n(17318),
        H = n.n(j),
        X = n(21904),
        z = n(57742),
        V = n(75962),
        W = n(19304),
        Z = n(60161),
        q = n(85651),
        Y = n(86871),
        Q = n.n(Y),
        K = n(33817),
        $ = n.n(K),
        J = n(43068),
        ee = n(5029),
        te = n(5615),
        ne = n(68333),
        ae = n(19094),
        ie = n(25605),
        oe = n(86900);
      class le {
        BHasReachEstimateLoaded(e) {
          return this.m_mapEmailToReach.has(e);
        }
        GetReachEstimate(e) {
          return this.m_mapEmailToReach.get(e);
        }
        BHasEmailDefLoadFailure(e) {
          return this.m_mapOptInToEmailDefLoadFailure.get(e);
        }
        FetchPartnerOptInEmailDetails(e) {
          var t, n;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const a = ne.gA.Init(ie.pA);
            a.Body().set_email_def_id(e);
            const i = yield ie.u2.GetOptInEmailTracking(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            return null ===
              (n =
                null === (t = i.Body()) || void 0 === t
                  ? void 0
                  : t.results()) || void 0 === n
              ? void 0
              : n.map((e) => e.toObject());
          });
        }
        FetchOptInEmailDefAndStats(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = ne.gA.Init(ie.vc);
            t.Body().set_opt_in_name(e);
            return (yield ie.u2.GetPartnerAppOptInEmailDefAndStats(
              this.m_steamInterface.GetServiceTransport(),
              t,
            ))
              .Body()
              .defs()
              .map((e) => e.toObject());
          });
        }
        LoadEstimateEmailReach(e) {
          var t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n = ne.gA.Init(ie.XB);
            n.Body().set_email_def_id(e);
            let a = 2;
            try {
              const i = yield ie.u2.GetEstimatePartnerAppOptInEmail(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = i.GetEResult()),
                1 == a
                  ? this.m_mapEmailToReach.set(
                      e,
                      (null === (t = i.Body().stats()) || void 0 === t
                        ? void 0
                        : t.toObject()) || {},
                    )
                  : console.error(
                      "COptInEmailAdmin.EstimateEmailReach: Create request failed:",
                      a,
                      i,
                      n,
                    );
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptInEmailAdmin.EstimateEmailReach: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return a;
          });
        }
        ComputeSettingFlags(e) {
          let t = 0;
          return (
            e.BHasSectionType(S.k_AssetKit) && (t |= 1),
            e.BHasSectionType(S.k_DemoPressPreview) && (t |= 2),
            e.BHasSectionType(S.k_ScheduleLiveStream) && (t |= 4),
            e.BHasSectionType(S.k_CancelSection) && (t |= 8),
            e.BHasSectionType(S.k_DemoNotReady) && (t |= 16),
            e.BHasSectionType(S.k_ReviewCategorization) && (t |= 128),
            e.BHasSectionType(S.k_DemoReview) && (t |= 256),
            e.BHasSectionType(S.k_PressPreviewDetails) && (t |= 512),
            e.BHasSectionType(S.k_StatsSummary) && (t |= 1024),
            e.BHasSectionType(S.k_SurveyButton) && (t |= 2048),
            e.BHasSectionType(S.k_DemoLaunch) && (t |= 4096),
            e.BHasSectionType(S.k_CallForRegistration) && (t |= 8192),
            e.BHasSectionType(S.k_SteamAwardsCategories) && (t |= 16384),
            t
          );
        }
        CreateOptInEmail(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = ne.gA.Init(ie.xQ);
            t.Body().set_opt_in_name(R.Get().GetFullName()),
              t.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
              t.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
              t.Body().set_email_templates(e.GetUniqueID()),
              t.Body().set_start_rtime(0),
              t.Body().set_end_rtime(0);
            let n = 2;
            try {
              const a = yield ie.u2.CreatePartnerAppOptInEmails(
                this.m_steamInterface.GetServiceTransport(),
                t,
              );
              if (((n = a.GetEResult()), 1 == n)) {
                const t = a.Body().email_def_id();
                e.SetServerEmailDefID(t);
              } else
                console.error(
                  "COptInEmailAdmin.CreateOptInEmail: Create request failed:",
                  n,
                  a,
                  t,
                );
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptInEmailAdmin.CreateOptInEmail: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return se(e.GetOwningOptInName()), n;
          });
        }
        UpdateOptInEmailMetaData(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n = ne.gA.Init(ie.Rg);
            n.Body().set_email_def_id(e.GetServerEmailDefID()),
              n.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
              n.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
              n.Body().set_email_templates(e.GetUniqueID()),
              n
                .Body()
                .set_start_rtime(
                  (null == t ? void 0 : t.rtStartAutomaticEmailType) || 0,
                ),
              n
                .Body()
                .set_end_rtime(
                  (null == t ? void 0 : t.rtEndAutomaticEmail) || 0,
                ),
              n.Body().set_reviewed((null == t ? void 0 : t.bReviewed) || !1);
            let a = 2;
            try {
              const e = yield ie.u2.UpdatePartnerAppOptInEmails(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = e.GetEResult()),
                1 != a &&
                  console.error(
                    "COptInEmailAdmin.UpdateOptInEmailMetaData: Update request failed:",
                    a,
                    e,
                    n,
                  );
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptInEmailAdmin.UpdateOptInEmailMetaData: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return se(e.GetOwningOptInName()), a;
          });
        }
        SendManualEmail(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = ne.gA.Init(ie.ik);
            t.Body().set_email_def_id(e.GetServerEmailDefID());
            let n = 2,
              a = null;
            try {
              const e = yield ie.u2.SendPartnerOptInEmailAndWait(
                this.m_steamInterface.GetServiceTransport(),
                t,
              );
              (n = e.GetEResult()),
                1 == n
                  ? (a = e.Body().results().toObject())
                  : console.error(
                      "COptInEmailAdmin.SendManualEmail: Create request failed:",
                      n,
                      e,
                      t,
                    );
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptInEmailAdmin.SendManualEmail: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return se(e.GetOwningOptInName()), { eResult: n, stats: a };
          });
        }
        TestFireEmailToSelf(e, t = 220) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n = ne.gA.Init(ie.XD);
            n.Body().set_email_def_id(e.GetServerEmailDefID()),
              n.Body().set_appid(t);
            let a = 2;
            try {
              const e = yield ie.u2.TestFirePartnerAppOptInEmail(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = e.GetEResult()),
                1 !== a &&
                  console.error(
                    "COptInEmailAdmin.TestFireEmailToSelf: Create request failed:",
                    a,
                    e,
                    n,
                  );
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptInEmailAdmin.TestFireEmailToSelf: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return a;
          });
        }
        static Get() {
          return (
            le.s_Singleton ||
              ((le.s_Singleton = new le()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInEmailAdminStore = le.s_Singleton),
              le.s_Singleton.Init()),
            le.s_Singleton
          );
        }
        constructor() {
          (this.m_steamInterface = null),
            (this.m_mapOptInToEmailDef = new Map()),
            (this.m_mapEmailToReach = new Map()),
            (this.m_mapOptInToEmailDefLoadFailure = new Map()),
            (0, c.rC)(this);
        }
        Init() {
          const e = (0, w.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new ae.J(w.De.WEBAPI_BASE_URL, e))
            : console.error("COptInEmailAdmin missing API token");
        }
      }
      function re(e) {
        const t = (0, te.useQuery)(
          ["OptInEamilDefAndStats", e],
          () =>
            (0, o.mG)(this, void 0, void 0, function* () {
              return yield le.Get().FetchOptInEmailDefAndStats(e);
            }),
          { staleTime: 300 },
        );
        return { bLoading: t.isLoading, rgEmailDefAndStats: t.data };
      }
      function se(e) {
        oe.U.invalidateQueries(["OptInEamilDefAndStats", e]);
      }
      (0, o.gn)([c.LO], le.prototype, "m_mapOptInToEmailDef", void 0),
        (0, o.gn)([c.aD], le.prototype, "LoadEstimateEmailReach", null),
        (0, o.gn)([c.aD], le.prototype, "CreateOptInEmail", null),
        (0, o.gn)([c.aD], le.prototype, "UpdateOptInEmailMetaData", null),
        (0, o.gn)([c.aD], le.prototype, "SendManualEmail", null),
        (0, o.gn)([c.aD], le.prototype, "TestFireEmailToSelf", null),
        (0, o.gn)([c.aD], le.prototype, "Init", null);
      var ce = n(14826),
        de = n(69338);
      function me(e) {
        const { list: t, bActiveOptIn: n } = e,
          a = (0, I.useMemo)(() => t.map((e) => e.pageid), [t]),
          i = (function (e) {
            const t = e.map((e) => re(e));
            if (t.some((e) => e.bLoading)) return null;
            const n = new Map();
            return e.forEach((e, a) => n.set(e, t[a].rgEmailDefAndStats)), n;
          })(a);
        return i
          ? I.createElement(pe, {
              rgStrOptInName: a,
              mapOptInToDefs: i,
              bActiveOptIn: n,
            })
          : I.createElement(de.V, {
              size: "medium",
              string: (0, ce.Xx)("#Loading"),
              position: "center",
            });
      }
      function pe(e) {
        const { rgStrOptInName: t, mapOptInToDefs: n, bActiveOptIn: a } = e,
          i = (0, I.useMemo)(() => {
            const e = new Map();
            return (
              t.forEach((t) => {
                n.get(t).forEach((n) => e.set(n.email_def_id, t));
              }),
              e
            );
          }, [n, t]),
          [o, l, r] = (0, I.useMemo)(() => {
            const e = [],
              a = [],
              i = [];
            return (
              t.forEach((t) => {
                n.get(t).forEach((t) => {
                  t.reviewed
                    ? e.push(t)
                    : t.completed || t.aborted || t.deleted
                    ? a.push(t)
                    : i.push(t);
                });
              }),
              e.sort((e, t) => e.start_rtime - t.start_rtime),
              a.sort((e, t) => e.start_rtime - t.start_rtime),
              i.sort((e, t) => e.start_rtime - t.start_rtime),
              [e, a, i]
            );
          }, [n, t]);
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            null,
            "There are ",
            Array.from(i.keys()).length,
            " ",
            a ? "active " : "archived ",
            "Partner OptIns with ",
            o.length + r.length + l.length,
            " emails past the draft stage",
          ),
          I.createElement("h3", null, "Staged Emails"),
          Boolean(r.length > 0)
            ? r.map((e) =>
                I.createElement(ue, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : I.createElement("span", null, "No Emails Pending Review"),
          I.createElement("h3", null, "Pending Review Emails"),
          Boolean(l.length > 0)
            ? l.map((e) =>
                I.createElement(ue, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : I.createElement("span", null, "No Emails Pending Review"),
          I.createElement("h3", null, "Completed"),
          o.length,
        );
      }
      function ue(e) {
        const { serverDef: t, mapEmailDefIDToStrOptInName: n } = e;
        return I.createElement("div", null, t.email_def_id);
      }
      var _e = n(67736);
      function he(e) {
        const t = k.Get(),
          n = (0, I.useRef)(null),
          a = r().CancelToken.source(),
          [i, l] = (0, I.useState)(""),
          s = () => {
            n.current && n.current("new create requested."),
              e.closeModal && e.closeModal();
          };
        return I.createElement(
          _e.RG,
          { onCancel: s },
          I.createElement(F.h4, null, "Create a new Opt In Page"),
          I.createElement(
            F.uT,
            null,
            I.createElement(
              "span",
              null,
              "Please provide a unique ID for the page. Do not start with the 'sale_' prefix, this will automatically be added for you.",
            ),
            I.createElement("br", null),
            I.createElement(
              "div",
              null,
              I.createElement(
                "span",
                { style: { width: "100px", display: "inline-block" } },
                "Sale ID",
              ),
              I.createElement("input", {
                type: "text",
                onChange: function (e) {
                  l(e.target.value);
                },
              }),
              I.createElement("br", null),
              I.createElement("p", null),
              I.createElement(
                "span",
                { style: { fontStyle: "italic" } },
                "The Sale ID is used in the URL for the page. Only letters, numbers, and underscores are allowed.",
              ),
              I.createElement("p", null),
              I.createElement("span", {
                id: "resultmsg",
                style: { color: "red" },
              }),
            ),
          ),
          I.createElement(
            F.$_,
            null,
            I.createElement(F.o9, {
              onCancel: s,
              onOK: function () {
                return (0, o.mG)(this, void 0, void 0, function* () {
                  let e;
                  if (
                    (n.current && n.current("new create requested."),
                    yield (e = t.CreatePage(i, a.token)),
                    t.GetCreatedPageId())
                  )
                    window.location.href =
                      w.De.PARTNER_BASE_URL +
                      "optin/admin/edit/" +
                      t.GetCreatedPageId();
                  else {
                    let e = document.getElementById("resultmsg");
                    t.GetCreatePageErrMsg()
                      ? (e.innerText = t.GetCreatePageErrMsg())
                      : (e.innerText =
                          "Error occured when attempting to create page.  Please try again.");
                  }
                });
              },
              strOKText: (0, ce.Xx)("#Button_Continue"),
            }),
          ),
        );
      }
      var ge = n(34976),
        Ee = n.n(ge);
      function ve(e) {
        const { def: t, closeModal: n, stats: a } = e,
          [i, l] = (0, I.useState)(""),
          [s, c] = (0, I.useState)(!1),
          [d, m] = (0, I.useState)(!1),
          [p, u] = (0, I.useState)(!1),
          [_, h] = (0, I.useState)(null);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Clone OptIn Definitions",
            onOK: () => {
              m(!0),
                (function (e, t, n) {
                  var a;
                  return (0, o.mG)(this, void 0, void 0, function* () {
                    const i =
                      w.De.PARTNER_BASE_URL +
                      (n
                        ? "optin/ajaxadmincloneinvites"
                        : "optin/ajaxadmincloneoptinpage");
                    let o = null;
                    try {
                      const l = new FormData();
                      l.append("sessionid", w.De.SESSIONID),
                        l.append(
                          n ? "strSourceOptInName" : "strOldOptInName",
                          e.pageid,
                        ),
                        l.append(
                          n ? "strTargetOptInName" : "strNewOptInName",
                          t,
                        );
                      const s = yield r().post(i, l, { withCredentials: !0 });
                      if (
                        1 ==
                        (null === (a = null == s ? void 0 : s.data) ||
                        void 0 === a
                          ? void 0
                          : a.success)
                      )
                        return !0;
                      o = (0, A.l)(s);
                    } catch (e) {
                      o = (0, A.l)(e);
                    }
                    return (
                      console.log(
                        "CloneOptInDefinition: Failed with ",
                        o.strErrorMsg,
                        o,
                      ),
                      !1
                    );
                  });
                })(t, "sale_" + i, s)
                  .then((e) => {
                    u(e), e || h("Failed to Clone: " + t.pageid);
                  })
                  .catch(() =>
                    h("Failed to Clone, exception caught, " + t.pageid),
                  );
            },
            onCancel: n,
            bOKDisabled: d || 0 == i.trim().length,
          },
          I.createElement(
            "p",
            null,
            "Cloning the OptIn Definition will create a copy of ",
            t.pageid,
            " with the new name you have specified. The OptIn definition will be saved as a draft and return to a more initial state. Please review text and dates to ensure they aren't out of date.  Also make sure the stats are refresh before you clone as those are used. Cloning will also do the following:",
          ),
          I.createElement(
            "p",
            null,
            "We depends on the latest stats to clone invites/prunes. Stats were last refreshed at:",
            (null == a ? void 0 : a.time_updated)
              ? I.createElement(X.H6, {
                  dateAndTime: a.time_updated,
                  bSingleLine: !0,
                })
              : "",
          ),
          I.createElement(
            "ol",
            null,
            I.createElement(
              "li",
              null,
              "Only keep the English text. We expect there to be dates embed and it will require new localization",
            ),
            I.createElement(
              "li",
              null,
              "Will keep the full localization for the dynamic sections (questions asked to optin participants)",
            ),
            I.createElement(
              "li",
              null,
              "Will NOT copy over the email settings",
            ),
            I.createElement("li", null, "Will copy the prune app list"),
            I.createElement(
              "li",
              null,
              "Will convert Opted In, Opted Out and Invited to: Open Invite Status",
            ),
            I.createElement("li", null, "Will NOT copy over the featured apps"),
          ),
          I.createElement(F.II, {
            type: "string",
            label:
              (s ? "Choose Existing page id" : "Choose New page id") +
              ', exclude "sale_"',
            tooltip:
              'Page always start with "sale_" so exclude that in your input. It will be appended before we call the server for the clone operation.',
            value: i,
            onChange: (e) => {
              var t;
              return l(
                (null === (t = null == e ? void 0 : e.currentTarget) ||
                void 0 === t
                  ? void 0
                  : t.value) || "",
              );
            },
            placeholder: "for example: builders_2023",
            disabled: d,
          }),
          I.createElement(F.ji, {
            checked: s,
            onChange: c,
            label: "Only Run Invitation/Pruning Cloning",
            tooltip:
              "If enabled then make sure the name entered abve is an existing opt-in which we want to copy the pruning and invitation data over to",
            disabled: d,
          }),
          Boolean(d && !p && !_) &&
            I.createElement(de.V, {
              string: "Cloning",
              position: "center",
              size: "medium",
            }),
          Boolean(_) &&
            I.createElement("div", { className: ge.ErrorStylesBackground }, _),
          Boolean(p) &&
            I.createElement("div", null, "Success! You can close this Dialog."),
        );
      }
      const Se = (e) => {
        var t, n;
        (0, I.useEffect)(() => {
          k.Get(), R.Get().Reset(null, null);
        }, []);
        const [a, i] = (0, ee.Ar)("tab", "active"),
          o = (e) => i(e.key),
          l = [
            {
              name: `Active Opt-In Events (${
                (null === (t = k.Get().GetActiveOptIn()) || void 0 === t
                  ? void 0
                  : t.length) || 0
              })`,
              key: "active",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(fe, {
                  list: k.Get().GetActiveOptIn(),
                  stats: k.Get().GetOptInStats(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: o,
            },
            {
              name: `Archived Opt-In Events (${
                (null === (n = k.Get().GetArchivedOptIn()) || void 0 === n
                  ? void 0
                  : n.length) || 0
              })`,
              key: "archive",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(fe, {
                  list: k.Get().GetArchivedOptIn(),
                  stats: null,
                }),
              ),
              onClick: o,
            },
            {
              name: "Active Opt-In Email",
              key: "activeemail",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(
                  "div",
                  null,
                  "TODO: In development mode; not ready for prime time.",
                ),
                I.createElement(me, {
                  list: k.Get().GetActiveOptIn(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: o,
            },
          ];
        return I.createElement(
          U.SV,
          null,
          I.createElement(
            "div",
            { className: $().DashboardCtn },
            I.createElement(
              "h1",
              null,
              "Opt-In Admin Dashboard",
              I.createElement(
                "button",
                {
                  className: (0, W.Z)(H().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) =>
                    (0, V.b8)(
                      e,
                      "https://confluence.valve.org/display/STEAM/Setting+up+an+opt-in+event",
                    ),
                },
                "Help",
              ),
              I.createElement(
                "button",
                {
                  className: (0, W.Z)(H().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) => {
                    (0, z.AM)(I.createElement(he, null), (0, Z.RA)(e));
                  },
                },
                "Create Opt-In Page",
              ),
            ),
            I.createElement("hr", null),
            I.createElement(
              "p",
              null,
              "This shows all of the active and past opt-in definitions we have setup. Definition drives both the eligibility of the app that are included and also describe the content we show partners on their specific opt-in page.",
            ),
            I.createElement(J.n, { tabs: l, startingTab: a }),
          ),
        );
      };
      function fe(e) {
        const { bActiveOptIn: t, stats: n, list: a } = e,
          [i, o] = (0, ee.Ar)("query", ""),
          l = (0, I.useMemo)(() => {
            const e = i.trim();
            return a
              .sort((e, t) =>
                e.sale_optin_enabled == t.sale_optin_enabled
                  ? e.event_start_date - t.event_start_date
                  : e.sale_optin_enabled
                  ? -1
                  : 1,
              )
              .filter((t) => {
                var n, a, i, o;
                return (
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  (null ===
                    (a =
                      null === (n = t.opt_in_registration_title) || void 0 === n
                        ? void 0
                        : n.english) || void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().includes(e)) ||
                  (null ===
                    (o =
                      null === (i = t.event_title) || void 0 === i
                        ? void 0
                        : i.english) || void 0 === o
                    ? void 0
                    : o.toLocaleLowerCase().includes(e))
                );
              });
          }, [a, i]);
        return I.createElement(
          "div",
          null,
          I.createElement(F.II, {
            type: "string",
            value: i,
            onChange: (e) => o(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          l.map((e) =>
            I.createElement(ye, {
              key: e.pageid,
              def: e,
              stats: n,
              bActiveOptIn: t,
            }),
          ),
        );
      }
      function ye(e) {
        var t, n, a, i, o;
        const { def: l, stats: r, bActiveOptIn: s } = e,
          c = k.Get().BHasUnpublishedChagnes(l.pageid),
          d =
            (null === (t = null == r ? void 0 : r[l.pageid]) || void 0 === t
              ? void 0
              : t.time_updated) || 0,
          m = q.JW.GetTimeNowWithOverride(),
          p = l.event_end_date < m,
          u = l.sale_optin_enabled && !p,
          _ =
            (null === (n = l.event_title) || void 0 === n
              ? void 0
              : n.english) || "No Name Assigned";
        return I.createElement(
          "div",
          {
            key: l.pageid,
            className: (0, W.Z)(
              $().OptInAdminRow,
              Q().TileContainer,
              Boolean(u) ? $().OptinEnabled : "",
            ),
          },
          I.createElement(
            "div",
            { className: Q().EventNameCtn },
            I.createElement(
              "div",
              { className: Q().EventName },
              Boolean(_) && _,
              " ",
              I.createElement("span", null, "(", l.pageid, ")"),
            ),
            I.createElement(
              "div",
              { className: Q().DatesCtn },
              I.createElement(
                "span",
                { className: Q().DateAndTime },
                I.createElement(X.H6, {
                  dateAndTime: l.event_start_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
              "",
              I.createElement(
                "span",
                { className: Q().DateAndTime },
                "To ",
                I.createElement(X.H6, {
                  dateAndTime: l.event_end_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
            ),
          ),
          I.createElement(
            "div",
            { className: Q().EventDetailsCtn },
            I.createElement(
              "div",
              { className: $().StatsCtn },
              I.createElement(
                "div",
                { className: Q().TopStatsCtn },
                Boolean(
                  null === (a = null == r ? void 0 : r[l.pageid]) ||
                    void 0 === a
                    ? void 0
                    : a.count_eligible,
                ) &&
                  I.createElement(
                    "div",
                    { className: Q().FeaturedApps },
                    I.createElement(
                      "div",
                      { className: Q().BigNumber },
                      r[l.pageid].count_eligible.toLocaleString(),
                    ),
                    I.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps eligible based on the criteria set",
                        className: H().HelperTooltip,
                      },
                      "Eligible",
                    ),
                  ),
                Boolean(
                  null === (i = null == r ? void 0 : r[l.pageid]) ||
                    void 0 === i
                    ? void 0
                    : i.count_invited,
                ) &&
                  I.createElement(
                    "div",
                    { className: Q().FeaturedApps },
                    I.createElement(
                      "div",
                      { className: Q().BigNumber },
                      r[l.pageid].count_invited.toLocaleString(),
                    ),
                    I.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have an open invitation and have not yet acted on it.",
                        className: H().HelperTooltip,
                      },
                      "Open Invitation",
                    ),
                  ),
                Boolean(null == r ? void 0 : r[l.pageid]) &&
                  I.createElement(
                    "div",
                    { className: Q().FeaturedApps },
                    I.createElement(
                      "div",
                      { className: (0, W.Z)(Q().BigNumber, Q().Highlight) },
                      r[l.pageid].count_opted_in.toLocaleString(),
                    ),
                    I.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have selected to opt in for this event",
                        className: H().HelperTooltip,
                      },
                      "Opted In (",
                      I.createElement(
                        "a",
                        {
                          href:
                            w.De.PARTNER_BASE_URL +
                            "optin/admin/edit/" +
                            l.pageid +
                            "?tab=manage",
                          className: (0, W.Z)(Q().BrowseLink),
                        },
                        "Browse",
                      ),
                      ")",
                    ),
                  ),
                Boolean(null == r ? void 0 : r[l.pageid]) &&
                  I.createElement(
                    "div",
                    { className: Q().FeaturedApps },
                    I.createElement(
                      "div",
                      { className: Q().BigNumber },
                      r[l.pageid].count_opted_out.toLocaleString(),
                    ),
                    I.createElement(
                      "div",
                      { className: $().StatRow },
                      "Opted Out",
                    ),
                  ),
                Boolean(
                  null === (o = null == r ? void 0 : r[l.pageid]) ||
                    void 0 === o
                    ? void 0
                    : o.count_featured,
                ) &&
                  I.createElement(
                    "div",
                    { className: Q().FeaturedApps },
                    I.createElement(
                      "div",
                      { className: Q().BigNumber },
                      r[l.pageid].count_featured.toLocaleString(),
                    ),
                    I.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Apps marked with additional featuring.",
                        className: H().HelperTooltip,
                      },
                      "Featured",
                    ),
                  ),
              ),
              I.createElement(
                "div",
                { className: Q().StatusCtn },
                Boolean(null == r ? void 0 : r[l.pageid]) &&
                  I.createElement(
                    "div",
                    { className: $().StatRefresh },
                    "Stats refreshed:",
                    I.createElement(X.H6, { dateAndTime: d, bSingleLine: !0 }),
                  ),
                c &&
                  I.createElement(
                    "div",
                    { className: Q().PendingChanges },
                    "Has Unpublished Changes",
                  ),
              ),
            ),
            I.createElement(
              "div",
              { className: (0, W.Z)($().Button, $().ButtonCtn) },
              I.createElement(
                P.rU,
                {
                  to: yl.OptinAdminEdit(l.pageid),
                  className: (0, W.Z)(H().Button, H().Primary),
                },
                "Edit Opt-In Definition",
              ),
              Boolean(s) &&
                I.createElement(
                  "a",
                  {
                    href:
                      w.De.PARTNER_BASE_URL +
                      "optin" +
                      yl.OptInAppReview(l.pageid),
                    className: (0, W.Z)(H().Button),
                    target: "_blank",
                  },
                  "Open Opt-In Pruning Page",
                ),
              Boolean(!s) &&
                I.createElement(
                  P.rU,
                  {
                    to: yl.OptinAdminAnalysis(l.pageid),
                    className: (0, W.Z)(H().Button, H().Primary),
                  },
                  "Post OptIn Stats",
                ),
              I.createElement(
                F.zx,
                {
                  onClick: (e) =>
                    (0, z.AM)(
                      I.createElement(ve, {
                        def: l,
                        stats: null == r ? void 0 : r[l.pageid],
                      }),
                      (0, Z.RA)(e),
                    ),
                },
                "Clone",
              ),
            ),
          ),
        );
      }
      var De = n(88464),
        be = n(5386),
        Ie = n(52316),
        Ce = n(42254),
        Ae = n(49985),
        Te = n(701),
        we = n(84343),
        ke = n(97799),
        Ne = n(28152),
        Le = n.n(Ne),
        xe = n(24166);
      const Ge = (0, De.Pi)((e) => {
          const t = R.Get(),
            n = t
              .GetEditableDynamicSections()
              .map((e, t) =>
                I.createElement(Re, {
                  key: e.GetUniqueID(),
                  section: e,
                  dynamicSectionIndex: t,
                }),
              );
          return I.createElement(
            xe.ug,
            { title: "Optional Dynamic Sections", bStartMinimized: !1 },
            I.createElement("hr", null),
            I.createElement(
              "p",
              null,
              "Optional Section that can be used to collect additional data from users for their app prior to opting in. This data can be later used to help organize the content on the sales and will surface in the sale page editors.",
            ),
            n,
            I.createElement(
              "div",
              { className: ke.AddSectionCtn },
              I.createElement(
                F.KM,
                { onClick: t.AddDynamicSection },
                "Add New Dynamic Section",
              ),
            ),
          );
        }),
        Re = (0, De.Pi)((e) => {
          const { section: t, dynamicSectionIndex: n } = e,
            a = m.U.Get().GetCurEditLanguage(),
            i = I.createRef(),
            o = t
              .GetLists()
              .map((e, n) =>
                I.createElement(Be, {
                  key: t.GetUniqueID() + e.unique_id,
                  section: t,
                  listIndex: n,
                }),
              );
          return I.createElement(
            U.SV,
            null,
            I.createElement(
              "div",
              {
                className: (0, W.Z)({
                  [Le().Section]: !0,
                  [H().ValveOnlyBackground]: t.BIsValveOnlySection(),
                }),
              },
              I.createElement(Oe, { section: t, dynamicSectionIndex: n }),
              I.createElement("div", null, "Section ID: ", t.GetUniqueID()),
              I.createElement(F.II, {
                type: "text",
                label: "Section Name",
                value: t.GetName(),
                onChange: (e) => t.SetName(e.target.value, a),
              }),
              I.createElement("div", null, "Section Description: (optional)"),
              I.createElement(Ce.R, {
                fnGetCurText: t.GetDescription,
                fnOnTextChange: (e) =>
                  t.SetDescription(e.currentTarget.value, a),
                fnSetText: t.SetDescriptionWithCurLang,
                strPlaceholder: "Enter Description Here",
                emoticonStore: Ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Le().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              I.createElement(F.ji, {
                className: H().ValveOnlyBackground,
                label: "Valve Admin and Support Team Only",
                tooltip:
                  "Only showns to and changeable by Valve Admin and Support. Useful to markup and store a setting on the opt-in registration directly.",
                onChange: t.SetValveOnly,
                checked: t.BIsValveOnlySection(),
              }),
              I.createElement(F.ry, {
                rgOptions: [
                  { label: "Radio Buttons (single selection)", data: "radio" },
                  {
                    label: "Checkboxes (none or multi-selection)",
                    data: "checkbox",
                  },
                  {
                    label: "Dropdown (lots of options, allows type searching)",
                    data: "single_select",
                  },
                  {
                    label:
                      "Multi-Select Dropdown (lots of options, allows type searching)",
                    data: "multi_select",
                  },
                  { label: "Text (open ended answers)", data: "text_input" },
                ],
                selectedOption: t.GetInputStyle(),
                onChange: (e) => {
                  "text_input" === e.data &&
                  "text_input" !== t.GetInputStyle() &&
                  t.GetListCount() > 1
                    ? (0, z.AM)(
                        I.createElement(_e.uH, {
                          strTitle: "Change to Text Input",
                          bDestructiveWarning: !0,
                          strDescription:
                            "Changing to text input is destructive, and will eliminate any previous values you have created for the lists. Are you sure?",
                          onOK: () => t.SetInputStyle(e.data),
                          onCancel: () => {
                            var e;
                            return null ===
                              (e = null == i ? void 0 : i.current) ||
                              void 0 === e
                              ? void 0
                              : e.SetSelectedOption(t.GetInputStyle());
                          },
                        }),
                        window,
                      )
                    : t.SetInputStyle(e.data);
                },
                label: "Input Style",
                dropDownControlRef: i,
              }),
              Boolean(
                "radio" == t.GetInputStyle() || "checkbox" == t.GetInputStyle(),
              ) &&
                I.createElement(F.DS, {
                  label: "Display as # of Column(s)",
                  showValue: !0,
                  min: 1,
                  max: 3,
                  value: t.GetColumnCount(),
                  onChange: (e) => t.SetColumnCount(e),
                  tooltip:
                    "The options to select will be displayed in this many columns to the users",
                }),
              o,
              Boolean("text_input" != t.GetInputStyle()) &&
                I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    F.zx,
                    {
                      disabled: t.GetListCount() < 2,
                      onClick: (e) => je(e, t.GetModel()),
                    },
                    "Re-Order lists within this Section",
                  ),
                  I.createElement(
                    F.KM,
                    { onClick: t.AddOptionList },
                    "Add Another Option List within this Dynamic Section",
                  ),
                ),
            ),
          );
        }),
        Oe = (0, De.Pi)((e) => {
          const t = R.Get(),
            { section: n, dynamicSectionIndex: a } = e;
          return I.createElement(
            "div",
            {
              className: (0, W.Z)({
                [ke.Header]: !0,
                [H().ValveOnlyBackground]: n.BIsValveOnlySection(),
              }),
            },
            I.createElement(
              "span",
              null,
              n.BIsValveOnlySection() && "(VO) ",
              n.GetNameWithFallback(`Dynamic Section ${a}`),
            ),
            I.createElement(
              "div",
              null,
              I.createElement(
                F.zx,
                {
                  onClick: (e) => {
                    (0, z.AM)(
                      I.createElement(_e.uH, {
                        onOK: () => {
                          t.DeleteDynamicSection(n.GetUniqueID());
                        },
                        strTitle: "Delete Dynamic Section?",
                        strDescription:
                          "Delete this section? This cannot be undone and any data will be lost.",
                        bDestructiveWarning: !0,
                      }),
                      (0, Z.RA)(e),
                    );
                  },
                },
                I.createElement(Te.pVO, null),
              ),
            ),
          );
        }),
        Be = (0, De.Pi)((e) => {
          const { section: t, listIndex: n } = e;
          return "text_input" === t.GetInputStyle()
            ? I.createElement(
                "div",
                null,
                "Textarea will appear here for the users input.",
              )
            : I.createElement(Me, { section: t, listIndex: n });
        }),
        Me = (0, De.Pi)((e) => {
          const { section: t, listIndex: n } = e,
            a = t.GetListByIndex(n),
            i = m.U.Get().GetCurEditLanguage();
          return I.createElement(
            "div",
            { id: t.GetUniqueID() + a.unique_id, className: ke.optionList },
            I.createElement(F.II, {
              type: "text",
              label: "Name for this group of options",
              value: t.GetListTitle(n),
              onChange: (e) =>
                t.SetListTitleByListIndex(n, e.currentTarget.value, i),
            }),
            Boolean(0 == a.options.length)
              ? I.createElement("div", null, "No Options Added")
              : I.createElement(Ae.R, {
                  items: a.options.map((e, t) => ({
                    itemIndex: t,
                    listitem: e,
                  })),
                  onDelete: (e, a) => {
                    (0, z.AM)(
                      I.createElement(_e.uH, {
                        bDestructiveWarning: !0,
                        strTitle: "Delete selected option",
                        strDescription:
                          "Are you sure you want to delete the following item?: " +
                          (0, s.Xj)(t.GetItemAtListAndIndex(n, e).text, i),
                        onOK: () => t.RemoveListItem(n, e),
                      }),
                      (0, Z.RA)(a),
                    );
                  },
                  onEdit: (a, i) => {
                    (0, z.AM)(
                      I.createElement(
                        Pe,
                        Object.assign({}, e, {
                          itemIndex: a,
                          item: t.GetItemAtListAndIndex(n, a),
                        }),
                      ),
                      (0, Z.RA)(i),
                    );
                  },
                  onMove: (e, t) => {
                    (0, C.hV)(a.options, e, t), R.Get().SetDirty(!0);
                  },
                  render: (e) => {
                    let t =
                      e.listitem.tooltip &&
                      (0, s.Xj)(e.listitem.tooltip, i, void 0);
                    return I.createElement(
                      we.HP,
                      { toolTipContent: t },
                      (0, s.Xj)(e.listitem.text, i),
                      " ",
                      Boolean(t) && "(?)",
                    );
                  },
                }),
            I.createElement(
              F.zx,
              {
                onClick: (t) =>
                  (0, z.AM)(
                    I.createElement(Fe, Object.assign({}, e)),
                    (0, Z.RA)(t),
                  ),
              },
              "Add Option Item",
            ),
          );
        }),
        Pe = (e) => {
          const [t, n] = (0, I.useState)(e.item.text),
            [a, i] = (0, I.useState)(e.item.tooltip),
            [o, l] = (0, I.useState)(m.U.Get().GetCurEditLanguage());
          return I.createElement(
            _e.uH,
            {
              strTitle: "Edit Item",
              strDescription: "Update the value and confirm to apply changes.",
              onOK: () => {
                e.section.UpdateListItemTextByKV(
                  e.listIndex,
                  e.itemIndex,
                  t,
                  a,
                ),
                  e.closeModal && e.closeModal();
              },
              onCancel: e.closeModal,
            },
            I.createElement(
              "div",
              null,
              I.createElement(be.uW, {
                selectedLang: o,
                fnLangHasData: (e) => {
                  let n = (0, d.j_)(e);
                  return (
                    (t[n] && t[n].trim().length > 0) ||
                    (a && a[n] && a[n].trim().length > 0)
                  );
                },
                fnOnLanguageChanged: l,
              }),
              I.createElement(F.II, {
                type: "text",
                placeholder: "Enter Text",
                label: "Item Name",
                value: (0, s.pM)(t, o, ""),
                onChange: (e) => {
                  let a = JSON.parse(JSON.stringify(t));
                  (a[(0, d.j_)(o)] = e.target.value), n(a);
                },
              }),
              I.createElement(F.II, {
                type: "text",
                placeholder: "Enter Tooltip",
                label: "Tooltip (optional)",
                value: (0, s.pM)(a, o, ""),
                onChange: (e) => {
                  let t = a ? JSON.parse(JSON.stringify(a)) : {};
                  (t[(0, d.j_)(o)] = e.target.value), i(t);
                },
              }),
            ),
          );
        },
        Fe = (e) => {
          const [t, n] = (0, I.useState)(""),
            [a, i] = (0, I.useState)(""),
            o = m.U.Get().GetCurEditLanguage();
          return I.createElement(
            _e.uH,
            {
              strTitle: "Add Option Item",
              strDescription: `Add items for the user to select from. Adding for the language: ${(0,
              d.j_)(o)}`,
              onOK: () => {
                e.section.AddItemToListByIndex(e.listIndex, t, o, a),
                  e.closeModal && e.closeModal();
              },
              bOKDisabled: 0 == t.trim().length,
              onCancel: e.closeModal,
            },
            I.createElement(
              "div",
              null,
              I.createElement(F.II, {
                type: "text",
                value: t,
                onChange: (e) => n(e.currentTarget.value),
                placeholder: "Enter name (requred)",
                label: "Item Name",
                focusOnMount: !0,
              }),
              I.createElement(F.II, {
                type: "text",
                value: a,
                onChange: (e) => i(e.currentTarget.value),
                placeholder: "Enter Tooltip (optional)",
                label: "Tooltip",
              }),
            ),
          );
        },
        Ue = (e) => {
          const t = R.Get(),
            n = m.U.Get().GetCurEditLanguage();
          (0, z.AM)(
            I.createElement(
              _e.uH,
              {
                strTitle: "Re-Order Dynamic Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the dynamic section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              I.createElement(
                "div",
                null,
                Boolean(
                  t.GetModel().dynamic_sections &&
                    t.GetModel().dynamic_sections.length > 0,
                )
                  ? I.createElement(Ae.R, {
                      items: t.GetModel().dynamic_sections,
                      render: (e) => (0, s.Xj)(e.name, n, "Unnamed Section"),
                      onReorder: () => t.SetDirty(!0),
                    })
                  : I.createElement(
                      "p",
                      null,
                      "No dynamic sections to re-order",
                    ),
              ),
            ),
            (0, Z.RA)(e),
          );
        },
        je = (e, t) => {
          const n = R.Get(),
            a = m.U.Get().GetCurEditLanguage();
          (0, z.AM)(
            I.createElement(
              _e.uH,
              {
                strTitle: "Re-Order Lists within a Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the list within a section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              I.createElement(
                "div",
                null,
                Boolean(t.lists && t.lists.length > 0)
                  ? I.createElement(Ae.R, {
                      items: t.lists,
                      render: (e) =>
                        (0, s.Xj)(e.option_title, a, "Untitled List"),
                      onReorder: () => n.SetDirty(!0),
                    })
                  : I.createElement("p", null, "No list to re-order"),
              ),
            ),
            (0, Z.RA)(e),
          );
        };
      var He = n(82988);
      const Xe = (e) => {
        const t = R.Get(),
          n = JSON.parse(JSON.stringify(t.GetModel() || [])),
          a = JSON.parse(JSON.stringify(n.emails || []));
        n.emails = [];
        const i = [
          {
            name: "OptIn Event Body Raw",
            key: "eventbody",
            status: "",
            statusType: "success",
            contents: I.createElement(
              U.SV,
              null,
              I.createElement(He.G, { data: n }),
            ),
          },
        ];
        return (
          a.forEach((e, t) => {
            i.push({
              name: e.internal_name,
              key: "" + (e.email_def_id || t),
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(He.G, { data: e }),
              ),
            });
          }),
          console.log(a),
          I.createElement(
            "div",
            null,
            I.createElement("h1", null, "Data:"),
            I.createElement("div", null, "PageID: ", t.GetName()),
            I.createElement(
              "div",
              null,
              "Event Start Time: ",
              t.GetEventStartTime(),
              " -",
              Boolean(0 != t.GetEventStartTime()) &&
                I.createElement(X.H6, {
                  dateAndTime: t.GetEventStartTime(),
                  bSingleLine: !0,
                }),
            ),
            I.createElement(
              "div",
              null,
              "Event End Time: ",
              t.GetEventEndTime(),
              " -",
              Boolean(0 != t.GetEventEndTime()) &&
                I.createElement(X.H6, {
                  dateAndTime: t.GetEventEndTime(),
                  bSingleLine: !0,
                }),
            ),
            I.createElement(J.n, { tabs: i, bDisableRouting: !0 }),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement("br", null),
          )
        );
      };
      var ze = n(83315),
        Ve = n(17973),
        We = n(13364),
        Ze = n.n(We),
        qe = n(82971),
        Ye = n(2232),
        Qe = n(15039),
        Ke = n(10241),
        $e = n(44973),
        Je = n(66998);
      function et(e, t, n) {
        return `${$e.De.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${n}`;
      }
      function tt(e) {
        var t, n;
        const a = $e.De.LANGUAGE;
        return (
          null === (t = e.localized_optin_banner) || void 0 === t
            ? void 0
            : t[a]
        )
          ? et(e.pageid, (0, d.jM)(a), e.localized_optin_banner[a])
          : (
              null === (n = e.localized_optin_banner) || void 0 === n
                ? void 0
                : n.english
            )
          ? et(e.pageid, 0, e.localized_optin_banner.english)
          : null;
      }
      function nt(e) {
        const t = R.Get(),
          n = (0, I.useMemo)(() => ["localized_optin_banner"], []),
          a = (0, I.useMemo)(
            () => [Ye.IN.k_ESteamRealmGlobal, Ye.IN.k_ESteamRealmChina],
            [],
          ),
          i = (0, I.useCallback)(
            (e, n, a, i, o) => {
              (0, p.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              ),
                t.SetLocalizedOptInBanner(a, e + (0, Qe.U)(i));
            },
            [t],
          );
        return I.createElement(
          "div",
          { className: Le().Section },
          I.createElement(
            "h3",
            null,
            "Localized Branding Artwork: ",
            I.createElement("span", null, "(1000 x 150)"),
          ),
          I.createElement(
            "p",
            null,
            "Branding artwork we will show to partners on any optin page",
          ),
          I.createElement(Ke.j, {
            rgSupportArtwork: n,
            rgRealmList: a,
            strUploadAjaxURL: `${
              $e.De.PARTNER_BASE_URL
            }optin/ajaxuploadasset/${t.GetOptInPageID()}`,
            fnOnUploadSuccess: i,
          }),
          I.createElement(U.SV, null, I.createElement(at, null)),
        );
      }
      function at(e) {
        const t = R.Get(),
          [n] = (0, ze.SZ)(() => [
            Object.keys(t.GetAllLocalizedOptInBanner())
              .sort()
              .map((e) => (0, d.jM)(e)),
          ]),
          a = (0, I.useCallback)(
            (e) => {
              const n = t.GetLocalizedOptInBanner(e);
              return n ? et(t.GetOptInPageID(), e, n) : null;
            },
            [t],
          );
        return I.createElement(Je.V, {
          rgAssetLangs: n,
          fnGetAssetUrl: a,
          fnDeletAssetLang: t.DeleteLocalizedOptInBanner,
          imageClassname: Ze().BannerPreview,
        });
      }
      var it = n(26464);
      class ot {
        ChangeAppsAdditionalFeaturingState(e, t, n) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const a = ne.gA.Init(ie.rf),
              i = new Set(t.filter(Boolean) || []);
            if (0 == i.size || !e) return 8;
            a.Body().set_appids(Array.from(i)),
              a.Body().set_opt_in_name(e),
              a.Body().set_additional_featuring(n);
            return (yield ie.u2.SetFeaturingOnPartnerAppOptIn(
              this.m_steamInterface.GetServiceTransport(),
              a,
            )).GetEResult();
          });
        }
        static Get() {
          return (
            ot.s_Singleton ||
              ((ot.s_Singleton = new ot()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminAdditionalFeaturingStore = ot.s_Singleton),
              ot.s_Singleton.Init()),
            ot.s_Singleton
          );
        }
        constructor() {
          (this.m_steamInterface = null), (0, c.rC)(this);
        }
        Init() {
          const e = (0, w.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new ae.J(w.De.WEBAPI_BASE_URL, e))
            : console.error(
                "COptInAdminAdditionalFeaturingStore missing API token",
              );
        }
      }
      (0, o.gn)(
        [it.a],
        ot.prototype,
        "ChangeAppsAdditionalFeaturingState",
        null,
      ),
        (0, o.gn)([c.aD], ot.prototype, "Init", null);
      var lt = n(77557);
      function rt(e) {
        const {
            strTitle: t,
            strDescription: n,
            closeModal: a,
            fnGenericAddAction: i,
          } = e,
          [o, l] = I.useState(""),
          r = (0, lt.tx)(),
          s = R.Get(),
          c = (0, I.useCallback)(() => {
            r.fnSetLoading(!0);
            const e = o.replace(/\n/g, "|").split("|"),
              t = new Array();
            e.forEach((e) => {
              const n = Number.parseInt(e);
              n > 0 && t.push(n);
            }),
              t.length > 0
                ? i(t).then((e) => {
                    1 == e
                      ? (r.fnSetSuccess(!0),
                        r.fnSetStrSuccess(
                          `Successfully updated ${t.length} apps`,
                        ))
                      : (r.fnSetError(!0),
                        r.fnSetStrError(
                          `Failed to update ${t.length} apps error: ${e} `,
                        ));
                  })
                : (r.fnSetSuccess(!0),
                  r.fnSetStrSuccess("No new appids to invite"));
          }, [r, i, o]);
        if (r.bLoading)
          return I.createElement(lt.NT, {
            state: r,
            strDialogTitle: t,
            closeModal: a,
          });
        const d =
          (null == s ? void 0 : s.GetEventEndTime()) <
          Math.floor(Date.now() / 1e3);
        return I.createElement(
          _e.uH,
          {
            strTitle: t,
            strDescription: n,
            onOK: c,
            bOKDisabled: 0 == o.trim().length || r.bLoading || d,
            onCancel: a,
          },
          I.createElement("br", null),
          I.createElement("br", null),
          I.createElement(
            "div",
            null,
            "Note: Remember after add all of the apps, go to 'Manage' Tab and 'Refresh Stats' to update our list",
          ),
          I.createElement("br", null),
          Boolean(d) &&
            I.createElement(
              "div",
              { className: Ee().WarningStylesWithIcon },
              "Opt-In is already ended on date ",
              (0, ce.$1)(null == s ? void 0 : s.GetEventEndTime()),
              ". We cannot change invite/prune list.",
            ),
          I.createElement("div", null, "Enter App IDs seperated by new lines:"),
          I.createElement("textarea", {
            cols: 120,
            rows: 10,
            onChange: (e) => l(e.currentTarget.value),
            value: o,
            autoFocus: !0,
            disabled: r.bLoading,
          }),
        );
      }
      function st(e) {
        const t = R.Get(),
          [n, a, i, o] = (0, ze.SZ)(() => [
            t.BIsAdditionalFeaturingSectionEnabled(),
            t.BIsCollectTrailerPermissions(),
            t.BIsCollectDemoPermissions(),
            t.BIsCollectGameProfileIntent(),
          ]),
          [l, r] = (0, I.useState)(t.BHasCollectDemoDeadlineDate()),
          [s] = (0, ze.SZ)(() => [t.GetEventStartTime()]);
        return I.createElement(
          xe.ug,
          { title: "Additional Featuring Section", bStartMinimized: !1 },
          I.createElement("hr", null),
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement("h3", null, "For Apps Marked As Featured"),
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              "If eneabled, this allows us to collect additional information and permissions from apps who have additional featuring enabled on them. Additional featuring is done during the App Review (pruning) process prior to sending invitation. It can be added at anytime:",
            ),
            I.createElement("br", null),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(ct, { strOptInName: t.GetOptInPageID() }),
                    (0, Z.RA)(e),
                  ),
              },
              "Add Games to Featuring",
            ),
            I.createElement(F.ji, {
              label: "Enable the Additional Featuring Section.",
              onChange: t.SetAdditionalFeaturingSectionEnabled,
              checked: n,
            }),
            I.createElement("hr", null),
            I.createElement(
              "div",
              {
                className: (0, W.Z)(
                  Le().IndentedSubSection,
                  n ? "" : Le().Disabled,
                ),
              },
              I.createElement(F.ji, {
                label: "Collect Trailer Permissions",
                tooltip:
                  "This request from them the use of their trailer in our events marketing material. Permitting us to edit the trailer for the purpose",
                onChange: t.SetCollectTrailerPermissions,
                checked: a,
              }),
              I.createElement(F.ji, {
                label: "Collect Demo Permissions",
                tooltip:
                  "This is useful for events like Next Fest. Requesting permission for us to optional feature by playing their demo during our event stream.",
                onChange: t.SetCollectDemoPermissions,
                checked: i,
              }),
              I.createElement(F.ji, {
                label: "Collect Game Profile Intent",
                tooltip:
                  "This lets the partner know that we are promoting game profile and are inviting them to submit one for the event. Note: Operational step, make sure to add game profile creation on the partner account",
                onChange: t.SetCollectGameProfileIntent,
                checked: o,
              }),
              l
                ? I.createElement(qe.A, {
                    strDescription:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    nLatestTime: s,
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: t.GetCollectDemoDeadlineDate,
                    fnSetTimeToUpdate: t.SetCollectDemoDeadlineDate,
                    fnSetToNow: t.SetCollectDemoDeadlineDate,
                  })
                : I.createElement(F.ji, {
                    label: "Show a specific due date",
                    tooltip:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    onChange: r,
                    checked: l,
                  }),
            ),
          ),
        );
      }
      function ct(e) {
        const { strOptInName: t } = e,
          { fnChangeAppAdditionalFeaturingState: n } = {
            fnChangeAppAdditionalFeaturingState:
              ot.Get().ChangeAppsAdditionalFeaturingState,
          },
          a = (0, I.useCallback)(
            (e) =>
              (0, o.mG)(this, void 0, void 0, function* () {
                return n(t, e, !0);
              }),
            [n, t],
          );
        return I.createElement(rt, {
          strTitle: "Additional App Featuring",
          strDescription:
            "Feature apps to that have already been invited or opted into the event, so that they may signed up for further featuring.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      class dt {
        UpdateAppInvitation(e, t, n, a, i, l) {
          var s, c, d, m;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let o = 1;
            try {
              const p = new FormData();
              if (n && (i || a))
                return (
                  console.error(
                    "COptinAdminInvitationStore::UpdateAppInvitation Unexpected parameters",
                  ),
                  8
                );
              p.append("sessionid", w.De.SESSIONID),
                p.append("opt_in_name", e),
                t && p.append("appids", JSON.stringify(t)),
                p.append("add", n ? "1" : "0"),
                p.append("pending_review", i ? "1" : "0"),
                p.append("prune", a ? "1" : "0");
              const u = yield r().post(
                w.De.PARTNER_BASE_URL + "optin/ajaxinviteapps",
                p,
                {
                  withCredentials: !0,
                  cancelToken: null == l ? void 0 : l.token,
                },
              );
              (200 == (null == u ? void 0 : u.status) &&
                1 ==
                  (null === (s = u.data) || void 0 === s
                    ? void 0
                    : s.success)) ||
                (console.log(
                  `COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed with status ${
                    null == u ? void 0 : u.status
                  } eresult ${
                    null === (c = null == u ? void 0 : u.data) || void 0 === c
                      ? void 0
                      : c.success
                  } and msg ${
                    null === (d = null == u ? void 0 : u.data) || void 0 === d
                      ? void 0
                      : d.msg
                  }`,
                ),
                (o =
                  (null === (m = null == u ? void 0 : u.data) || void 0 === m
                    ? void 0
                    : m.success) || 2));
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed add: " +
                  t.strErrorMsg,
                t,
              ),
                (o = 2);
            }
            return o;
          });
        }
        static Get() {
          return (
            dt.s_Singleton ||
              ((dt.s_Singleton = new dt()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminInvitationStore = dt.s_Singleton)),
            dt.s_Singleton
          );
        }
        constructor() {}
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].opt_in_name &&
            Array.isArray(t[0].partner_ids) &&
            "number" == typeof t[0].partner_ids[0]
          );
        }
      }
      function mt() {
        return { fnUpdateAppToInvitation: dt.Get().UpdateAppInvitation };
      }
      (0, o.gn)([it.a], dt.prototype, "UpdateAppInvitation", null);
      var pt = n(16586),
        ut = n(47165),
        _t = n(92616),
        ht = n(25871),
        gt = n(31698),
        Et = n.n(gt),
        vt = n(24448),
        St = n(44026);
      class ft extends I.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              invite_token: "",
              input_search: "",
              friend_code_copied: !1,
              invite_copied: !1,
            });
        }
        componentDidMount() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const e = yield r().get(
              w.De.COMMUNITY_BASE_URL + "invites/ajaxgetall",
              { params: { sessionid: w.De.SESSIONID } },
            );
            if (e && e.data && e.data.tokens) {
              const t = e.data.tokens.filter((e) => e.valid);
              t.length
                ? this.setState({ invite_token: t[0].invite_token })
                : this.OnCreateInviteLink();
            } else this.OnCreateInviteLink();
          });
        }
        OnCreateInviteLink() {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const e = new FormData();
            e.append("sessionid", w.De.SESSIONID),
              e.append("steamid_user", w.L7.steamid),
              e.append("duration", (2592e3).toString());
            const t = yield r().post(
              w.De.COMMUNITY_BASE_URL + "invites/ajaxcreate",
              e,
            );
            t &&
              t.data &&
              t.data.invite &&
              this.setState({ invite_token: t.data.invite.invite_token });
          });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, Z.Ei)(t);
        }
        OnAddFriend(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", w.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0");
            try {
              const e = yield r().post(
                w.De.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                t,
              );
              return e && e.data && 1 == e.data.success;
            } catch (e) {
              return !1;
            }
          });
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            w.De.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = w.L7.short_url + "/" + this.state.invite_token;
          return I.createElement(
            "div",
            null,
            I.createElement(
              "div",
              { className: Et().HeaderBlock },
              (0, ce.Xx)("#ManageFriends_AddAFriend"),
            ),
            I.createElement(
              "div",
              { className: Et().Background },
              I.createElement(
                "h1",
                { className: Et().Heading },
                (0, ce.Xx)("#ManageFriends_YourFriendCode"),
              ),
              I.createElement(
                "div",
                { className: Et().CopyContainer },
                I.createElement("h1", { className: Et().Text }, w.L7.accountid),
                I.createElement(
                  F.KM,
                  {
                    autoFocus: !0,
                    className: Et().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(w.L7.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, ce.Xx)("#ManageFriends_Copied")
                    : (0, ce.Xx)("#ManageFriends_Copy"),
                ),
              ),
              I.createElement(
                "p",
                { className: Et().Body },
                (0, ce.Xx)("#ManageFriends_EnterFriendCode"),
              ),
              I.createElement(yt, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, ce.Xx)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            I.createElement(
              "div",
              { className: Et().DimBackground },
              I.createElement(
                "h1",
                { className: Et().Heading },
                (0, ce.Xx)("#ManageFriends_OrSendQuickInvite"),
              ),
              I.createElement(
                "p",
                { className: Et().Body },
                (0, ce.Xx)("#ManageFriends_QuickInviteDescription"),
              ),
              I.createElement(
                "p",
                { className: Et().Body },
                (0, ce.Xx)("#ManageFriends_QuickInviteNote"),
              ),
              I.createElement(
                "div",
                { className: Et().CopyContainer },
                Boolean(this.state.invite_token) &&
                  I.createElement("div", { className: Et().Link }, e),
                I.createElement(
                  F.KM,
                  {
                    className: Et().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, ce.Xx)("#ManageFriends_Copied")
                    : (0, ce.Xx)("#ManageFriends_Copy"),
                ),
              ),
              I.createElement(
                F.zx,
                {
                  className: Et().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, ce.Xx)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            I.createElement(
              "div",
              { className: Et().Background },
              I.createElement(
                "h1",
                { className: Et().Heading },
                (0, ce.Xx)("#ManageFriends_OrSearch"),
              ),
              I.createElement("br", null),
              I.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                I.createElement(
                  "div",
                  { style: { width: "100%" } },
                  I.createElement(F.II, {
                    className: Et().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, ce.Xx)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                I.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  I.createElement(Te.YtI, null),
                ),
              ),
            ),
          );
        }
      }
      (0, o.gn)([u.ak], ft.prototype, "OnCreateInviteLink", null),
        (0, o.gn)([u.ak], ft.prototype, "OnCopy", null),
        (0, o.gn)([u.ak], ft.prototype, "OnAddFriend", null),
        (0, o.gn)([u.ak], ft.prototype, "OnSearchChange", null),
        (0, o.gn)([u.ak], ft.prototype, "OnSearchKeyDown", null),
        (0, o.gn)([u.ak], ft.prototype, "OnSearchSubmit", null);
      class yt extends I.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              input_friend_code: "",
              disable_send_invite: !1,
              searchResult: null,
              invite_status: "pending",
            }),
            (this.m_currentRequest = 0);
        }
        OnFriendCodeChange(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = e.target.value.split(",")[0];
            this.setState({ input_friend_code: t, invite_status: "pending" }),
              window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () => this.LoadProfile(t),
                500,
              ));
          });
        }
        LoadProfile(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            if (e) {
              const t = ut.K.InitFromAccountID(Number(e));
              yield vt.y$.LoadProfiles([t.ConvertTo64BitString()]);
              const n = vt.y$.GetProfile(t.ConvertTo64BitString());
              n
                ? this.setState({
                    searchResult: n,
                    disable_send_invite:
                      w.L7.is_limited ||
                      (this.props.bDisableForFriends && n.is_friend) ||
                      (this.props.bDisableForSelf &&
                        n.steamid === w.L7.steamid),
                  })
                : this.setState({ searchResult: null });
            } else this.setState({ searchResult: null });
          });
        }
        OnActionClick(e) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", w.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0"),
              this.setState({ disable_send_invite: !0 });
            (yield this.props.onButtonClick(e))
              ? (this.setState({
                  input_friend_code: "",
                  invite_status: "success",
                }),
                setTimeout(() => this.setState({ searchResult: null }), 3e3))
              : this.setState({
                  invite_status: "failure",
                  disable_send_invite: !1,
                });
          });
        }
        render() {
          return I.createElement(
            "div",
            { className: Et().FriendCodeSelector },
            I.createElement(F.II, {
              className: Et().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, ce.Xx)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            I.createElement(
              Dt,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              I.createElement(
                F.KM,
                {
                  className: Et().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, o.gn)([u.ak], yt.prototype, "OnFriendCodeChange", null),
        (0, o.gn)([u.ak], yt.prototype, "LoadProfile", null),
        (0, o.gn)([u.ak], yt.prototype, "OnActionClick", null);
      const Dt = (e) => {
        const {
            searchResult: t,
            invite_status: n,
            bShowStatus: a,
            children: i,
          } = e,
          o = (0, w.id)();
        return Boolean(t)
          ? I.createElement(
              "div",
              { className: Et().ProfileCard },
              I.createElement(
                "div",
                { className: Et().UserContainer },
                I.createElement(
                  "div",
                  { className: Et().Image },
                  I.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                I.createElement(
                  "div",
                  { className: Et().ProfileContent },
                  I.createElement(
                    "h1",
                    { className: Et().Heading },
                    t.persona_name,
                  ),
                  I.createElement(
                    "div",
                    { className: Et().ProfileLink },
                    I.createElement(
                      St.IS,
                      {
                        target: o ? void 0 : "_blank",
                        href: w.De.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, ce.Xx)("#ManageFriends_ProfileLink"),
                    ),
                    I.createElement("br", null),
                    I.createElement(
                      "span",
                      { className: Et().Body },
                      t.real_name,
                      I.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${
                        t.state ? "," : ""
                      } ${t.country}`,
                    ),
                  ),
                ),
                i,
              ),
              I.createElement(
                "div",
                { className: Et().ProfileLink },
                t.is_friend &&
                  I.createElement(
                    "div",
                    null,
                    (0, ce.Xx)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  I.createElement(
                    "div",
                    null,
                    I.createElement(
                      St.IS,
                      {
                        target: o ? void 0 : "_blank",
                        href:
                          w.De.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, ce.Xx)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, ce.Xx)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                a &&
                  "failure" === n &&
                  I.createElement(
                    "div",
                    { className: Et().Failure },
                    (0, ce.Xx)("#ManageFriends_InviteFailure"),
                  ),
                a &&
                  "success" === n &&
                  I.createElement(
                    "div",
                    { className: Et().Success },
                    (0, ce.Xx)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
      var bt = n(16670);
      function It(e) {
        const t = R.Get(),
          n = (0, ze.SZ)(() => R.Get().GetExternalAppReviewers());
        return I.createElement(
          I.Fragment,
          null,
          I.createElement("h3", null, "App Invites"),
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              "Tool that lets you explicitly invite specific apps to participate. This can be done before or after the OptIn is published/live for partners. App Invites will bypass ",
              I.createElement("b", null, "ALL"),
              " eligibility constraints or restrictions (ie, missing a tag and/or pass the end date for the registrations). This is independant of invitation only and can be used in conjunction of invitation only.",
            ),
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              "Inviting apps will NOT trigger any automatic notification. However, the email tab can be used to send an email to all invited apps.",
            ),
            I.createElement("h4", null, "Eligibilty Criteria Internal"),
            I.createElement(
              "p",
              null,
              "Shown on the pruning UI to our team and external pruning contractors",
            ),
            I.createElement(Ce.R, {
              fnGetCurText: t.GetCurPruningCriteriaText,
              fnOnTextChange: (e) =>
                t.SetCurPruningCriteriaText(e.currentTarget.value),
              fnSetText: t.SetCurPruningCriteriaText,
              strPlaceholder: "Enter Pruning Criteria Text",
              emoticonStore: Ie.F,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: Le().EventBBCodeEditor,
              limitBBCode: void 0,
              nOverridesRows: 10,
            }),
            I.createElement(
              "div",
              { className: Le().InviteButtonRow },
              I.createElement(
                we.HP,
                {
                  toolTipContent:
                    "For adding games to the pruning process; app isn't able to optin while in this state. Only games we haven't already acted upon can move to pending review.",
                },
                I.createElement(
                  F.KM,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(At, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  'Add to "Pending Review"...',
                ),
              ),
              I.createElement(
                we.HP,
                {
                  toolTipContent:
                    "Invite an app allows it to immediately optin to the event and will see they are permitted to participate",
                },
                I.createElement(
                  F.zx,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(Ct, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Invite Apps...",
                ),
              ),
              I.createElement(
                we.HP,
                {
                  toolTipContent:
                    "Directly marks an app as pruned. It won't surface on the sale pages or content hub override page. Will apply even if app as opted in",
                },
                I.createElement(
                  F.zx,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(Tt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Prune Apps...",
                ),
              ),
            ),
            I.createElement(
              "div",
              { className: Le().ShowAllInvitedRow },
              I.createElement(
                we.HP,
                {
                  toolTipContent:
                    "This list will include all invited app, even if they are no longer invited because we pruned them or the partner took action - opted in/out.",
                },
                I.createElement(
                  F.zx,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(kt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Show All Apps that were once Invited...",
                ),
              ),
            ),
            I.createElement("br", null),
            I.createElement("h3", null, "Manage App Pruning"),
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              "For an event like a tag sale, that depends on publisher and users tagging, we may need to review invited games to ensure they match the intent of the tag sale. ",
              I.createElement(
                "a",
                {
                  href:
                    w.De.PARTNER_BASE_URL +
                    "optin/appreview/" +
                    t.GetOptInPageID(),
                },
                "Go to Opt-In Pruning Page",
              ),
            ),
            Boolean((null == n ? void 0 : n.length) > 0) &&
              I.createElement(
                I.Fragment,
                null,
                I.createElement("br", null),
                I.createElement("h3", null, "External Reviewers"),
                I.createElement(Ae.R, {
                  bDisabled: !0,
                  items: n,
                  onDelete: (e) => t.RemoveExternalAppReviewAt(e),
                  render: (e) => {
                    const t = ut.K.InitFromAccountID(e);
                    return I.createElement(
                      "a",
                      {
                        href: `${
                          w.De.COMMUNITY_BASE_URL
                        }profiles/${t.ConvertTo64BitString()}`,
                      },
                      I.createElement(bt.N, { accountID: e }),
                    );
                  },
                }),
                I.createElement(
                  "p",
                  null,
                  "Note: Make sure to publish changes to the external review list. They can only access published opt-in definitions.",
                ),
              ),
            I.createElement(
              "p",
              { className: Le().SectionDesc },
              I.createElement(
                "b",
                null,
                "Add External App Reviewer via Friend Code / Account ID",
              ),
            ),
            I.createElement(yt, {
              buttonText: "Add to Reviewer List",
              onButtonClick: (e) =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  const n = new ut.K(e);
                  return t.BAddExternalAppReviewAt(n.GetAccountID());
                }),
              bDisableForSelf: !0,
              bShowStatus: !0,
            }),
          ),
        );
      }
      function Ct(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = mt(),
          a = (0, I.useCallback)((e) => n(t, e, !0), [t, n]);
        return I.createElement(rt, {
          strTitle: "Invite Apps",
          strDescription:
            "Invite apps to participate in the OptIn, which will disregard any opt-in restriction. This will not notify the partners for the apps. This will re-invite apps which previously opted out.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      function At(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = mt(),
          a = (0, I.useCallback)((e) => n(t, e, !1, !1, !0), [t, n]);
        return I.createElement(rt, {
          strTitle: "Add Apps to Pending Review",
          strDescription:
            "For apps not already invited/opted in/out or pruned, this will set the apps to an initial pending review state. This allow us to have a clear list of app awaiting pruning. In this state, the game cannot join the opt-in until they either invited.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      function Tt(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = mt(),
          a = (0, I.useCallback)((e) => n(t, e, !1, !0), [t, n]);
        return I.createElement(rt, {
          strTitle: "Prune App",
          strDescription:
            "This will immediately mark the app as pruned. This will override their opt-in or opt-out status and move the app to the prune list.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      const wt = { include_release: !0 };
      function kt(e) {
        const { closeModal: t, strOptInName: n } = e,
          a = (0, pt.Cy)(n, !1),
          [i, o] = I.useState(!1);
        return (
          I.useEffect(() => {
            if ((null == a ? void 0 : a.length) > 0) {
              const e = a.map((e) => e.appid);
              _t.Z.Get()
                .QueueMultipleAppRequests(e, wt)
                .then(() => o(!0));
            } else o(!0);
          }, [a]),
          I.createElement(
            _e.uH,
            {
              strTitle: "All Invited Apps",
              strDescription:
                "This is the list of all apps that were ever invited. The invite status will change when the partner takes action such as opt-in or opt-out. We use the invite account setting to figure out if an invite actually happened",
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              closeModal: t,
              className: Le().InvitedAppHistoryDialog,
            },
            Boolean(!a || !i) &&
              I.createElement(de.V, { size: "medium", position: "center" }),
            I.createElement(
              "table",
              { className: Le().InvitedAppHistoryTable },
              I.createElement(
                "thead",
                null,
                I.createElement(
                  "tr",
                  null,
                  I.createElement("th", null, "Invited By"),
                  I.createElement("th", null, "Game"),
                  I.createElement("th", null, "Status"),
                ),
              ),
              I.createElement(
                "tbody",
                null,
                null == a
                  ? void 0
                  : a
                      .filter((e) => e.accountid_invited)
                      .map((e) =>
                        I.createElement(Nt, { registration: e, key: e.appid }),
                      ),
              ),
            ),
          )
        );
      }
      function Nt(e) {
        const { registration: t } = e,
          [n] = (0, ht.vs)(t.appid, wt);
        let a = "invited";
        return (
          t.pruned
            ? (a = "pruned")
            : t.opt_in
            ? (a = "opted in")
            : t.time_opted_out && (a = "opted out"),
          I.createElement(
            "tr",
            { className: Le().InvitedAppRow },
            I.createElement(
              "td",
              null,
              Boolean(t.accountid_invited) &&
                I.createElement(bt.N, { accountID: t.accountid_invited }),
            ),
            I.createElement(
              "td",
              null,
              (null == n ? void 0 : n.GetName()) || "unknown",
              " (",
              t.appid,
              ") ",
            ),
            I.createElement("td", null, a),
          )
        );
      }
      const Lt = (0, De.Pi)((e) => {
        const t = R.Get(),
          n = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible();
        return I.createElement(
          xe.ug,
          { title: "Registration Requirements", bStartMinimized: !1 },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement("h3", null, "Registration Deadline"),
            I.createElement(qe.A, {
              strDescription: void 0,
              nEarliestTime: 0,
              fnGetTimeToUpdate: () => t.GetOptInDeadlineTime(),
              fnSetTimeToUpdate: t.SetOptInDeadlineTime,
              fnIsValidDateTime: () => !0,
              bShowTimeZone: !0,
            }),
          ),
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement("h3", null, "ELIGIBILITY SETTING"),
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              "Enable this to limit participation to only invitied games or partners.",
              I.createElement("br", null),
              "Disable to use criteria to determine participation eligibility.",
            ),
            I.createElement(F.gE, {
              onChange: (e) => {
                t.SetInvititationOnly(e);
              },
              label: "Make participation invite-only",
              checked: t.BIsInvitationOnly(),
            }),
          ),
          t.BIsInvitationOnly() &&
            I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement(It, null),
              ),
            ),
          !t.BIsInvitationOnly() &&
            I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement("h3", null, "ELIGIBILITY CRITERIA SETTINGS"),
                I.createElement(
                  "div",
                  { className: Le().IndentedSubSection },
                  I.createElement(
                    "div",
                    { className: Le().SectionDesc },
                    "Use the settings below to define one or more criteria that determines which games can participate.",
                    I.createElement("br", null),
                    I.createElement("br", null),
                  ),
                  I.createElement("h3", null, "LIMIT BY RELEASE DATE"),
                  I.createElement(
                    "div",
                    { className: Le().Section },
                    !Boolean(n) &&
                      I.createElement(
                        "div",
                        { className: Ee().WarningStylesWithIcon },
                        "Required Setting for OptIn",
                      ),
                    I.createElement(F.ji, {
                      label: "Released games are eligible",
                      checked: t.BIsReleaseGamesEligible(),
                      onChange: t.SetReleaseGameEligible,
                    }),
                    I.createElement(F.ji, {
                      label: "Unreleased games are eligible",
                      checked: t.BIsUnreleaseGamesEligible(),
                      onChange: t.SetUnreleaseGameEligible,
                    }),
                    Boolean(t.BIsUnreleaseGamesEligible()) &&
                      I.createElement(
                        I.Fragment,
                        null,
                        I.createElement(qe.A, {
                          strDescription: "Must release AFTER",
                          nEarliestTime: 0,
                          fnGetTimeToUpdate: () =>
                            t.GetEligibleReleaseAfterDate(),
                          fnSetTimeToUpdate: t.SetEligibleReleaseAfterDate,
                          fnIsValidDateTime: () => !0,
                          bShowTimeZone: !0,
                        }),
                        I.createElement(qe.A, {
                          strDescription: "Must release BEFORE",
                          nEarliestTime: 0,
                          fnGetTimeToUpdate: () =>
                            t.GetEligibleReleaseBeforeDate(),
                          fnSetTimeToUpdate: t.SetEligibleReleaseBeforeDate,
                          fnIsValidDateTime: () => !0,
                          bShowTimeZone: !0,
                        }),
                      ),
                  ),
                  I.createElement("h3", null, "LIMIT BY COOLDOWN GROUP"),
                  I.createElement(
                    "div",
                    { className: Le().Section },
                    I.createElement(F.ji, {
                      label:
                        "Games are ineligible to optin to this event if already opted in to an event of the same type",
                      checked: t.GetCooldownRequired(),
                      onChange: t.SetCooldownRequired,
                    }),
                    I.createElement(
                      "div",
                      { className: Le().InviteButtonRow },
                      I.createElement(F.ry, {
                        label: "Cooldown Group",
                        rgOptions: t.GetCooldownGroupOptions(),
                        selectedOption: t.GetCooldownGroupType(),
                        onChange: (e) => t.SetCooldownGroupType(e.data),
                        contextMenuPositionOptions: {
                          bDisableMouseOverlay: !0,
                        },
                      }),
                      I.createElement(
                        "div",
                        { className: Le().NarrowInputField },
                        I.createElement(F.II, {
                          label: "Cooldown Window (in number of days)",
                          type: "number",
                          value: t.GetCooldownDays(),
                          maxLength: 4,
                          onChange: (e) =>
                            t.SetCooldownDays(parseInt(e.target.value)),
                        }),
                      ),
                    ),
                  ),
                  I.createElement("h3", null, "LIMIT BY TAG"),
                  I.createElement(
                    "div",
                    { className: Le().SectionDesc },
                    "Games must have one of these tags to participate",
                  ),
                  I.createElement(
                    "div",
                    { className: Le().Section },
                    I.createElement(Ve.ZP, {
                      isSearchable: !0,
                      isMulti: !0,
                      onChange: t.OnChangeRequiredTags,
                      value: t.GetRequiredTags(),
                      options: t.GetGameTagOptions(),
                    }),
                    I.createElement("br", null),
                    I.createElement("br", null),
                    I.createElement(
                      "div",
                      { className: Le().NarrowInputField },
                      I.createElement(F.II, {
                        type: "number",
                        min: "1",
                        max: "40",
                        label:
                          "Max Rank for the Apps Weighted Official Tag to Include",
                        tooltip:
                          "When comparing against the app list of official weighted tags; this is the largest rank to include. Default is 20 if not specified on the server.  Make sure 1) set field, 2) save opt in, 3) publish opt in, 4) refresh stats 5) ??? 6) Profit",
                        value: t.GetAppOfficialWeightedTagRankToInclude(),
                        onChange: (e) => {
                          const n =
                            Number.parseInt(e.currentTarget.value) || 20;
                          t.SetAppOfficialWeightedTagRankToInclude(n);
                        },
                      }),
                    ),
                  ),
                  I.createElement("h3", null, "LIMIT BY APP FEATURES"),
                  I.createElement(
                    "div",
                    { className: Le().SectionDesc },
                    "Games must have one of these features to participate",
                  ),
                  I.createElement(
                    "div",
                    { className: Le().Section },
                    I.createElement(F.ji, {
                      label: "Remote Play Together",
                      checked: t.BRequiresRemotePlayTogether(),
                      onChange: t.SetRequiresRemotePlayTogether,
                    }),
                    I.createElement(F.ji, {
                      label: "VR",
                      checked: t.BRequiresVR(),
                      onChange: t.SetRequiresVR,
                    }),
                  ),
                ),
              ),
            ),
        );
      });
      var xt = n(73406);
      function Gt(e) {
        return e ? { label: (0, xt.Sq)(e), value: "" + e } : null;
      }
      const Rt = (0, De.Pi)((e) => {
        const t = R.Get(),
          [n, a] = I.useState(t.BHasSpecialEventType()),
          [i, o] = I.useState(Gt(t.GetSpecialEventType())),
          l = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          },
          r = new Array();
        d.De.forEach((e) => r.push(Gt(e)));
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "h3",
            null,
            "Include Special Event Category for OptIn",
          ),
          I.createElement(
            "p",
            null,
            "If enabled, registered games have the ability to create events of the specified typed marked up using tags with this opt-in names. This allows sales page to automatically load those events in a carousel or a schedule widget.",
            I.createElement(
              "span",
              null,
              Boolean(n) &&
                I.createElement(
                  "span",
                  null,
                  " The following tag will be set on the associated events: ",
                  I.createElement("b", null, t.GetFullName()),
                ),
            ),
          ),
          n
            ? I.createElement(
                "div",
                { className: Le().IndentedSubSection },
                I.createElement(
                  "p",
                  null,
                  "This special event type will appear at the top of the category chooser for registered games. Please configure the name and info so partners know what this event is for.",
                ),
                I.createElement(
                  "p",
                  null,
                  I.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Opt-In+Tech+Custom+Event+type",
                      target: "_blank",
                    },
                    "Learn more about this feature here.",
                  ),
                ),
                I.createElement(Ve.ZP, {
                  styles: l,
                  isSearchable: !0,
                  isMulti: !1,
                  placeholder: "Choose Event type",
                  onChange: (e) => {
                    o(e),
                      (null == e ? void 0 : e.value) &&
                        t.SetSpecialEventType(Number.parseInt(e.value));
                  },
                  value: i,
                  options: r,
                  defaultMenuIsOpen: !1,
                }),
                I.createElement("br", null),
                I.createElement(F.II, {
                  type: "text",
                  label: "Optional: Special Event Title:",
                  onChange: (e) => t.SetCurSpecialEventName(e.target.value),
                  value: t.GetCurSpecialEventName(),
                  tooltip:
                    "This appears on the partner events editor to describe the special event category. Assign if the opt-in name is not helpful when creating the event. Don't include the event type, it will be appended at the end, ie, News or Live Stream.",
                  placeholder: "Optional: Special Event Title Here",
                }),
                I.createElement("br", null),
                I.createElement(
                  "div",
                  null,
                  "Optional: Special Event Description:",
                ),
                I.createElement(Ce.R, {
                  fnGetCurText: t.GetCurSpecialEventDescription,
                  fnOnTextChange: (e) =>
                    t.SetCurSpecialEventDescription(e.currentTarget.value),
                  fnSetText: t.SetCurSpecialEventDescription,
                  strPlaceholder:
                    "Optional: Enter Special Event Description Here",
                  emoticonStore: Ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: Le().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                I.createElement("br", null),
                I.createElement(F.II, {
                  type: "text",
                  label: "Optional: Documentation Link:",
                  onChange: (e) => t.SetSpecialEventDocLink(e.target.value),
                  value: t.GetSpecialEventDocLink(),
                  tooltip:
                    "Ideally links directly to the part of the OptIn documentation that talks about the purpose of this event. Use an anchor to do this.",
                  placeholder: "Optional: Documentation Link Here",
                }),
                I.createElement(
                  "div",
                  { className: Le().NarrowInputField },
                  I.createElement(F.II, {
                    type: "number",
                    min: "0",
                    max: "40",
                    label: "Optional: Maximum amount of events per game",
                    onChange: (e) =>
                      t.SetSpecialEventTypeMax(Number.parseInt(e.target.value)),
                    value: t.GetSpecialEventTypeMax(),
                    tooltip:
                      "How many of these event type can a single game created? If set to zero, it means unlimited.",
                  }),
                ),
                I.createElement(Ot, null),
              )
            : I.createElement(F.ji, {
                label: "Enable Feature",
                checked: n,
                onChange: a,
              }),
        );
      });
      function Ot(e) {
        const t = R.Get(),
          [n, a] = I.useState(
            t.BHasSpecialEventTimeSet() || t.NCountSpecialEventBlocks() > 0,
          ),
          [i, o, l, r, s] = (0, ze.SZ)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetSpecialEventStartTime(),
            t.GetSpecialEventEndTime(),
            t.GetAllSpecialEventBlocks(),
          ]);
        return n
          ? I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "p",
                null,
                "Optional: Further restrict the event scheduling between these following two times. By restricting the schedule\tit allows the event organizer to run official streams that will take priority and letting partners avoid scheduling their events at those time.",
              ),
              I.createElement(qe.A, {
                strDescription: "Special Event Scheduling Start Date and Time",
                nEarliestTime: i,
                nLatestTime: o,
                fnGetTimeToUpdate: () => l,
                fnSetTimeToUpdate: t.SetSpecialEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              I.createElement(qe.A, {
                strDescription: "Special Event Scheduling End Date and Time",
                nEarliestTime: i,
                nLatestTime: o,
                fnGetTimeToUpdate: () => r,
                fnSetTimeToUpdate: t.SetSpecialEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement(
                "p",
                null,
                "Optional: Add one ore more additional event scheduling restrictions. For instance, we plan to have official replace or broadcasts are different points of the events that are not strictly at the start or end of the event. Alternatively, we want to prevents partners from scheduling their live streams during the common hours related to Steam prop and suffer from their stream interruptions.",
              ),
              I.createElement(Ae.R, {
                items: s,
                onDelete: (e) => t.RemoveSpecialEventBlock(e),
                onMove: (e, n) => t.MoveSpecialEventblock(e, n),
                render: (e) => {
                  const t = e,
                    n = s.findIndex((e) => e == t);
                  return I.createElement(Bt, {
                    key:
                      "rtime" +
                      n +
                      "_" +
                      (null == t ? void 0 : t.block_rt_start),
                    block: t,
                  });
                },
                onEdit: (e, t) =>
                  (0, z.AM)(
                    I.createElement(Mt, { blockIndex: e }),
                    (0, Z.RA)(t),
                  ),
              }),
              I.createElement(
                F.zx,
                { onClick: () => t.AddSpecialEventBlock() },
                "Add a Special Event Blocked from Scheduling Time Range",
              ),
              I.createElement("br", null),
              I.createElement("br", null),
            )
          : I.createElement(F.ji, {
              label: "Optional: Limit Event Schedule Time",
              checked: n,
              onChange: a,
            });
      }
      function Bt(e) {
        const { block: t } = e,
          [n, a, i, o] = (0, ze.SZ)(() => [
            t.block_rt_start,
            t.block_rt_end,
            t.block_reason,
            t.internal_reason,
          ]);
        return t && t.block_rt_start && t.block_rt_end
          ? I.createElement(
              "div",
              null,
              I.createElement("span", null, "Blocked time: "),
              I.createElement(X.Ai, { startDateAndTime: n, endDateAndTime: a }),
              Boolean(o) && I.createElement("div", null, "Interal Reason: ", o),
              Boolean(i) &&
                I.createElement(
                  "div",
                  null,
                  "Has Localizable User Facing Reason",
                ),
            )
          : I.createElement(
              "div",
              null,
              "Error: Block Time not setup. Please edit",
            );
      }
      function Mt(e) {
        const { blockIndex: t, closeModal: n } = e,
          a = R.Get(),
          [i, o] = (0, I.useState)(a.GetAllSpecialEventBlocks()[t]),
          [l, r, c] = (0, ze.SZ)(() => [
            a.GetEventStartTime(),
            a.GetEventEndTime(),
            m.U.Get().GetCurEditLanguage(),
          ]),
          p = (0, d.j_)(c),
          u = (e) => (i.block_reason[p] = e);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Edit Special Event Schedule Block Range",
            strDescription:
              "Additional times when a partner cannot schedule their special event because we have blocked it out",
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              a.SetSpecialEventBlock(t, i) ||
                console.log(
                  "Failed to save special event block, requiring debugging, ",
                  t,
                );
            },
            closeModal: n,
          },
          I.createElement(qe.A, {
            strDescription: "Blocked Out Scheduling Start Date and Time",
            nEarliestTime: l,
            nLatestTime: r,
            fnGetTimeToUpdate: () => i.block_rt_start,
            fnSetTimeToUpdate: (e) =>
              o(Object.assign(Object.assign({}, i), { block_rt_start: e })),
            fnIsValidDateTime: () =>
              (i.block_rt_start && !i.block_rt_end) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          I.createElement(qe.A, {
            strDescription: "Blocked Out Scheduling End Date and Time",
            nEarliestTime: l,
            nLatestTime: r,
            fnGetTimeToUpdate: () => i.block_rt_end,
            fnSetTimeToUpdate: (e) =>
              o(Object.assign(Object.assign({}, i), { block_rt_end: e })),
            fnIsValidDateTime: () =>
              (i.block_rt_end && !i.block_rt_start) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          I.createElement(F.II, {
            type: "text",
            label: "Internal Reason",
            value: i.internal_reason || "",
            onChange: (e) =>
              o(
                Object.assign(Object.assign({}, i), {
                  internal_reason: e.currentTarget.value,
                }),
              ),
            placeholder: "Optional: Reason visible only to us",
          }),
          I.createElement(
            "div",
            null,
            "Optional: Blocking Schedule Localized Reason visible to Partner Event Editors:",
          ),
          I.createElement(Ce.R, {
            fnGetCurText: () => (0, s.pM)(i.block_reason, c, ""),
            fnOnTextChange: (e) => u(e.currentTarget.value),
            fnSetText: u,
            strPlaceholder:
              "Optional: Enter Schedule block description here; shorter concise reason preferred.",
            emoticonStore: Ie.F,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            classNameForTextArea: Le().EventBBCodeEditor,
            limitBBCode: void 0,
            nOverridesRows: 10,
          }),
          I.createElement("br", null),
        );
      }
      function Pt(e) {
        const t = R.Get(),
          [n, a, i] = (0, ze.SZ)(() => [
            t.GetName(),
            t.GetFullName(),
            t.BIsOptInEnabled(),
          ]),
          o =
            w.De.PARTNER_BASE_URL +
            "admin/store/page/" +
            a +
            "?activetab=tab_publish";
        return I.createElement(
          "div",
          { className: Ze().AdminPageCtn },
          I.createElement(
            "div",
            { className: Ze().PageTitle },
            "OptIn Admin Editing: ",
            n,
          ),
          I.createElement("hr", null),
          I.createElement(
            "div",
            { className: Ze().ColumnCtn },
            I.createElement(
              "div",
              { className: Ze().LeftCol },
              I.createElement(Ft, null),
              I.createElement(Vt, null),
              I.createElement(Lt, null),
              I.createElement(Ut, null),
              I.createElement(Ge, null),
              I.createElement(jt, null),
              I.createElement(Ht, null),
              I.createElement(Xt, null),
              I.createElement(st, null),
              I.createElement(zt, null),
            ),
            I.createElement(
              "div",
              { className: Ze().RightCol },
              I.createElement(
                "div",
                { className: Ze().SectionCtn },
                I.createElement(
                  "div",
                  { className: Le().SectionDesc },
                  "When you are ready to start accepting opt-ins from eligible games that meet the criteria you've defined, check the box below. You will then need to follow the path to publish this event in order to make it public.",
                ),
                I.createElement("br", null),
                Boolean(i) &&
                  I.createElement(
                    I.Fragment,
                    null,
                    I.createElement(
                      "div",
                      { className: Le().SectionDesc },
                      "Note: Since this OptIn is enabled for partner, after each text or localization update, please remember to Publish.  Publishing is required for the updated text to appear to partners.",
                    ),
                    I.createElement("br", null),
                  ),
                I.createElement(F.ji, {
                  label: "Enable Partners to opt-in",
                  checked: i,
                  onChange: t.SetOptInEnabled,
                }),
                I.createElement(
                  "a",
                  { href: o, className: (0, W.Z)(H().Button, H().Primary) },
                  "Go Publish",
                ),
              ),
            ),
          ),
        );
      }
      const Ft = (0, De.Pi)((e) => {
          const t = R.Get(),
            n = [
              {
                label: "Event Registration",
                data: s.Vs.k_EOptInType_EventRegistration,
              },
              {
                label: "Recommended Actions",
                data: s.Vs.k_EOptInType_RecommendedAction,
              },
            ];
          return I.createElement(
            xe.ug,
            { title: "Basic Event Info", bStartMinimized: !1 },
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement("h3", null, "Event Title:"),
              I.createElement(F.II, {
                type: "text",
                onChange: (e) => t.SetCurEventTitle(e.target.value),
                value: t.GetCurEventTitle(),
                placeholder: "Enter Title Here",
                className: H().LargeInput,
              }),
              I.createElement("br", null),
              I.createElement("h3", null, "Event Description:"),
              I.createElement(
                "p",
                null,
                "This section appears at the top of the opt-in page and is used for telling potential participants what the event is all about",
              ),
              I.createElement(Ce.R, {
                fnGetCurText: t.GetCurDescription,
                fnOnTextChange: (e) =>
                  t.SetCurDescription(e.currentTarget.value),
                fnSetText: t.SetCurDescription,
                strPlaceholder: "Enter Description Here",
                emoticonStore: Ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Le().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              I.createElement("h3", null, "OptIn Type"),
              I.createElement(F.ry, {
                strDropDownClassName: H().DropDownScroll,
                rgOptions: n,
                selectedOption: t.GetOptInType(),
                onChange: (e) => t.SetOptInType(e.data),
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                tooltip:
                  "Allows us to re-use OptIn tech for non-event registration purposes.",
              }),
            ),
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement("h3", null, "Event Dates:"),
              I.createElement(
                "p",
                null,
                "Specify the dates of the actual event",
              ),
              I.createElement(qe.A, {
                strDescription: "Event Start Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventStartTime(),
                fnSetTimeToUpdate: t.SetEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              I.createElement(qe.A, {
                strDescription: "Event End Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventEndTime(),
                fnSetTimeToUpdate: t.SetEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement("h3", null, "Steamworks Documentation URL:"),
              I.createElement(
                "p",
                null,
                "Where in the Steamworks Documentation can partners learn about this festival and eligiblity criteria",
              ),
              I.createElement(F.II, {
                type: "text",
                onChange: (e) =>
                  t.SetPublicDocumentationWikiURL(e.target.value),
                value: t.GetPublicDocumentationWikiURL(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales/<EVENT NAME>",
              }),
              I.createElement("h3", null, "Help Text:"),
              I.createElement(
                "p",
                null,
                "This section appears near the bottom of the opt-in page and is used for describing where participants can find more information.",
              ),
              I.createElement(Ce.R, {
                fnGetCurText: t.GetCurHelpText,
                fnOnTextChange: (e) => t.SetCurHelpText(e.currentTarget.value),
                fnSetText: t.SetCurHelpText,
                strPlaceholder: "Enter Help Text",
                emoticonStore: Ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Le().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
            ),
            I.createElement(nt, null),
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement("h3", null, "Categorization & Stat Reporting:"),
              I.createElement(
                "p",
                null,
                "Allows the developer to view how their game is being categorized within the sale page. The event hosting the sale page must be publicly visible.",
              ),
              I.createElement(
                "ul",
                null,
                I.createElement(
                  "li",
                  null,
                  "Before the event start, this would be the developer preview sale pages. ",
                ),
                I.createElement(
                  "li",
                  null,
                  "Once the evnet is live, we should update this value to the actual sale page's clan event GID.",
                ),
              ),
              I.createElement(
                "p",
                null,
                "Our event stats will also be based on the apps included in this sale page.",
              ),
              I.createElement(F.II, {
                type: "text",
                onChange: (e) => t.SetPublicEventID(e.target.value),
                value: t.GetPublicEventID(),
                placeholder: "5196643638649256091",
              }),
            ),
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement(Rt, null),
            ),
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement("h3", null, "Public Content Hub / Sale URL:"),
              I.createElement(
                "p",
                null,
                "Relative URL (text after store.steampowered.com/) used by the point shop to link to the store event. This is used by the point shop event specific page to point back to the sale page.",
              ),
              I.createElement(F.II, {
                type: "text",
                onChange: (e) => t.SetPublicEventURL(e.target.value),
                value: t.GetPublicEventURL(),
                placeholder: "For Example: category/scream",
              }),
            ),
          );
        }),
        Ut = (0, De.Pi)((e) => {
          const t = R.Get();
          return I.createElement(
            I.Fragment,
            null,
            I.createElement(
              xe.ug,
              { title: "Registration Options", bStartMinimized: !1 },
              I.createElement(
                "span",
                null,
                "Select the settings that should appear as part of the opt-in process",
              ),
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement("h3", null, "Categories"),
                I.createElement(
                  "p",
                  null,
                  "Ask developers to choose one or more categories that apply to their game. Most often used with Next Fest to put games in the right sections and tabs.",
                ),
                I.createElement(F.ji, {
                  label: "Show Categories",
                  checked: t.BIsCategoriesEnabled(),
                  onChange: t.SetCategoriesEnabled,
                }),
                I.createElement("hr", null),
                I.createElement(
                  "div",
                  {
                    className: (0, W.Z)(
                      Le().IndentedSubSection,
                      t.BIsCategoriesEnabled() ? "" : Le().Disabled,
                    ),
                  },
                  I.createElement(F.ry, {
                    label: "Optional/Suggested/Required",
                    rgOptions: t.GetRequiredOptions(),
                    selectedOption: t.GetCategoriesRequired(),
                    onChange: (e) => t.SetCategoriesRequired(e.data),
                    contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                  }),
                  I.createElement("span", null, "Visible Categories"),
                  I.createElement(Ve.ZP, {
                    isSearchable: !0,
                    isMulti: !0,
                    onChange: t.OnChangeCategoryTags,
                    value: t.GetCategoryTags(),
                    options: t.GetGameTagOptions(),
                  }),
                ),
              ),
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement("h3", null, "Press Contact Info"),
                I.createElement(
                  "p",
                  null,
                  "When enablesd, it will allow the partner to enter a primary contact name and email address for this game. It will inform them that we plan to use this information when contacting the press about the event with participating games. You can export the opt-in press contact in manage tab.",
                ),
                I.createElement(F.ji, {
                  label: "Collect Press Contact Info",
                  checked: t.BIsPressContactEnabled(),
                  onChange: t.SetPressContactEnabled,
                }),
                I.createElement("hr", null),
                I.createElement(
                  "div",
                  {
                    className: (0, W.Z)(
                      Le().IndentedSubSection,
                      t.BIsPressContactEnabled() ? "" : Le().Disabled,
                    ),
                  },
                  I.createElement(F.ry, {
                    label: "Optional/Suggested/Required",
                    rgOptions: t.GetRequiredOptions(),
                    selectedOption: t.GetPressContactRequired(),
                    onChange: (e) => t.SetPressContactRequired(e.data),
                    contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                  }),
                ),
              ),
            ),
            I.createElement(
              xe.ug,
              { title: "Uncommon Registration Options", bStartMinimized: !0 },
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement("h3", null, "Artist Statement"),
                I.createElement(
                  "p",
                  null,
                  "Ask developers to provide an artist statement. This is presented as the following",
                ),
                I.createElement(
                  "p",
                  null,
                  I.createElement(
                    "i",
                    null,
                    '"Please also tell us a bit about yourself (or your team) and your game. Anything you think we should know that won\'t be obvious from your Steam appID such as awards your game has won or shows it has been included in? Unique story of your team or the project? Let us know here! Note: Your text here is for internal use at Valve only and will not be shown publicly."',
                  ),
                ),
                I.createElement(F.ji, {
                  label: "Artist Statement",
                  checked: t.BIsArtistStatementEnabled(),
                  onChange: t.SetArtistStatementEnabled,
                }),
                I.createElement(F.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetArtistStatementRequired(),
                  onChange: (e) => t.SetArtistStatementRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
              ),
              I.createElement(
                "div",
                { className: Le().Section },
                I.createElement("h3", null, "Primary Country"),
                I.createElement(
                  "p",
                  null,
                  "Ask developers to tell us what country they are primarily from. We haven't used this in a long time.",
                ),
                I.createElement(F.ji, {
                  label: "Ask developers to enter their Primary Country",
                  checked: t.BIsPrimaryCountryEnabled(),
                  onChange: t.SetPrimaryCountryEnabled,
                }),
                I.createElement(F.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetPrimaryCountryRequired(),
                  onChange: (e) => t.SetPrimaryCountryRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
              ),
            ),
          );
        }),
        jt = (0, De.Pi)((e) => {
          const t = R.Get();
          return I.createElement(
            xe.ug,
            {
              title: "Tasks Required Prior To Registration",
              bStartMinimized: !1,
            },
            I.createElement(
              "div",
              { className: Le().Section },
              I.createElement(F.ji, {
                label: "Show this section to developers",
                checked: t.BIsBeforeYouOptInEnabled(),
                onChange: t.SetBeforeYouOptInEnabled,
              }),
              I.createElement("hr", null),
              I.createElement(
                "div",
                {
                  className: (0, W.Z)(
                    Le().IndentedSubSection,
                    t.BIsBeforeYouOptInEnabled() ? "" : Le().Disabled,
                  ),
                },
                I.createElement("h3", null, "Build Your Store Page"),
                I.createElement(F.ji, {
                  label: "Remind devs to build their store page",
                  checked: t.BIsBuildYourStorePageEnabled(),
                  onChange: t.SetBuildYourStorePageEnabled,
                }),
                I.createElement(F.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetBuildYourStorePageRequired(),
                  onChange: (e) => t.SetBuildYourStorePageRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                I.createElement(Ce.R, {
                  fnGetCurText: t.GetStorePageText,
                  fnOnTextChange: (e) =>
                    t.SetStorePageText(e.currentTarget.value),
                  fnSetText: t.SetStorePageText,
                  strPlaceholder:
                    "Describe any required guidelines for the store page such as screenshots, trailer, etc.",
                  emoticonStore: Ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: Le().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                I.createElement("h3", null, "Tagging Wizard"),
                I.createElement(F.ji, {
                  label: "Remind developers to use The Tagging Wizard",
                  checked: t.BIsTaggingWizardEnabled(),
                  onChange: t.SetTaggingWizardEnabled,
                }),
              ),
            ),
          );
        });
      function Ht(e) {
        const t = R.Get(),
          [n, a, i, o] = (0, ze.SZ)(() => [
            t.BIsLaunchYourDemoEnabled(),
            t.GetRequiredOptions(),
            t.GetLaunchYourDemoRequired(),
            t.GetLaunchYourDemoDueDate(),
          ]);
        return I.createElement(
          xe.ug,
          { title: "Tasks required to start", bStartMinimized: !1 },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "p",
              null,
              "These are sections that describe activities that developers need to do in order to be live within the festival.",
            ),
            I.createElement(F.ji, {
              label: "Show 'Launch your demo' section",
              checked: n,
              onChange: t.SetLaunchYourDemoEnabled,
            }),
            I.createElement("hr", null),
            I.createElement(
              "div",
              {
                className: (0, W.Z)(
                  Le().IndentedSubSection,
                  n ? "" : Le().Disabled,
                ),
              },
              I.createElement(F.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: a,
                selectedOption: i,
                onChange: (e) => t.SetLaunchYourDemoRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
              I.createElement(qe.A, {
                strDescription: "Due Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => o,
                fnSetTimeToUpdate: t.SetLaunchYourDemoDueDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
          ),
        );
      }
      function Xt(e) {
        const t = R.Get(),
          [n, a, i, o, l, r] = (0, ze.SZ)(() => [
            t.BIsDoAnytimeEnabled(),
            t.BIsLivestreamEnabled(),
            t.BIsChatSessionEnabled(),
            t.BIsAnytimeTaggingWizardEnabled(),
            t.BIsEnterDiscountsEnabled(),
            t.GetDiscountEventID(),
          ]);
        return I.createElement(
          xe.ug,
          { title: "Tasks that can be done any time", bStartMinimized: !1 },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "p",
              null,
              "Show activities such as livestreaming, chat sessions, tagging wizard, and discounting that developers can do at any time to get more out of their participation in this event.",
            ),
            I.createElement(F.ji, {
              label: "Show This Section to Developers",
              checked: n,
              onChange: t.SetDoAnytimeEnabled,
            }),
            I.createElement("hr", null),
            I.createElement(
              "div",
              {
                className: (0, W.Z)(
                  Le().IndentedSubSection,
                  Boolean(n) ? "" : Le().Disabled,
                ),
              },
              I.createElement(
                "h3",
                null,
                "This Event Will Feature Livestreams",
              ),
              I.createElement(F.ji, {
                label: "Developers can create livestream sessions",
                checked: a,
                onChange: t.SetLivestreamEnabled,
              }),
              I.createElement(
                "span",
                null,
                "Developers may schedule a 'livestream' type event during this sale and their stream will be prioritized in the broadcast player on the event landing page during their scheduled time.",
              ),
              I.createElement("br", null),
              I.createElement("h3", null, "This Event Will Feature Dev Chats"),
              I.createElement(F.ji, {
                label: "Developers can create chat session",
                checked: i,
                onChange: t.SetChatSessionEnabled,
              }),
              I.createElement(
                "span",
                null,
                "Developers may schedule a 'live chat' type event during this sale and their event will appear in the schedule on the event landing page.",
              ),
              I.createElement("br", null),
              I.createElement("h3", null, "Reminder to Update Store Tags"),
              I.createElement(F.ji, {
                label: "Remind developers to use the tagging wizard",
                checked: o,
                onChange: t.SetAnytimeTaggingWizardEnabled,
              }),
              I.createElement(
                "span",
                null,
                "Developers should make use of the tagging wizard to make sure players can find their game.",
              ),
              I.createElement("br", null),
              I.createElement("h3", null, "This Event features discounts"),
              I.createElement(F.ji, {
                label: "Remind developers to enter discounts",
                checked: l,
                onChange: t.SetEnterDiscountsEnabled,
              }),
              I.createElement(
                "span",
                null,
                "Developers are reminded to enter discounts for their game.",
              ),
              I.createElement("br", null),
              Boolean(l) &&
                I.createElement(F.II, {
                  type: "text",
                  label: "Enter Discount Event ID",
                  placeholder:
                    "For example: 7113, in the case of partner.steamgames.com/admin/editdiscountevent/7113",
                  tooltip: "Only requires the ID found at the end of the URL",
                  value: r,
                  onChange: (e) => {
                    var n;
                    return t.SetDiscountEventID(
                      (null === (n = null == e ? void 0 : e.currentTarget) ||
                      void 0 === n
                        ? void 0
                        : n.value) || "",
                    );
                  },
                }),
            ),
          ),
        );
      }
      function zt(e) {
        const t = R.Get(),
          [n] = (0, ze.SZ)(() => [t.BOptInRegistationOnlyShowSaveButton()]),
          [a, i] = (0, I.useState)(
            t.BHasOptInRegistrationTitleOrCheckbox() || n,
          ),
          [o, l] = (0, ze.SZ)(() => [
            t.GetCurOptInRegistrationTitle(),
            t.GetCurOptInRegistrationCheckbox(),
          ]);
        return I.createElement(
          xe.ug,
          { title: "Override Final Particiption Text", bStartMinimized: !1 },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "p",
              null,
              "The final part of the registration for the opt-in will have the following:",
            ),
            I.createElement(
              "p",
              null,
              I.createElement("b", null, "Default Title:"),
              " ",
              (0, ce.Xx)("#OptIn_OptinOptionTitle"),
            ),
            I.createElement(
              "p",
              null,
              I.createElement("b", null, "Radio 1:"),
              " ",
              (0, ce.Xx)(
                "#OptIn_Participate",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            I.createElement(
              "p",
              null,
              I.createElement("b", null, "Radio 2:"),
              " ",
              (0, ce.Xx)(
                "#OptIn_Participate_No",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            I.createElement("br", null),
            a
              ? I.createElement(
                  "div",
                  null,
                  I.createElement(F.II, {
                    type: "text",
                    label: "OptIn Registration Title",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationTitle(e.target.value),
                    value: o,
                    disabled: n,
                    placeholder: "Enter OptIn Registration Title Here",
                  }),
                  I.createElement(F.II, {
                    type: "text",
                    label: "OptIn Registration Checkbox",
                    tooltip:
                      "This version cannot dynamically insert the game name or the event name, it is just a localized string",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationCheckbox(e.target.value),
                    value: l,
                    disabled: n,
                    placeholder: "Enter OptIn Registration Checkbox Here",
                  }),
                  I.createElement(F.ji, {
                    label: "Use the Save button as 'Opted In'",
                    tooltip:
                      "This hides the title and checkbox and only shows the save. When the save is pressed it is treated as opted in. Useful for when we are asking for permissions and not actualy looking for opt-in into a festival. Hitting means they are done.",
                    onChange: t.SetOptInRegistationOnlyShowSaveButton,
                    checked: n,
                  }),
                )
              : I.createElement(F.ji, {
                  label: "Override this final text?",
                  checked: a,
                  onChange: i,
                }),
          ),
        );
      }
      function Vt(e) {
        var t;
        const n = R.Get(),
          [a, i] = (0, I.useState)(
            (null === (t = n.GetCurAppealsText()) || void 0 === t
              ? void 0
              : t.length) > 0,
          );
        return I.createElement(
          xe.ug,
          { title: "Appeals Process", bStartMinimized: !1 },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "p",
              null,
              "To avoid tickets, we want to provide games that have been pruned out or not considered information about how we reviewed games for inclusion in the sale. This let them review our guidelines and then submit an appeal for us to review for their include.  Not all opt-in's need an appear process.",
            ),
            Boolean(a)
              ? I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "p",
                    null,
                    "Describe the eligibility criteria here for partners to see. They will see this when their game is not eligible and they can then consider whether they wish to start an appeal.",
                  ),
                  I.createElement(Ce.R, {
                    fnGetCurText: n.GetCurAppealsText,
                    fnOnTextChange: (e) =>
                      n.SetCurAppealsText(e.currentTarget.value),
                    fnSetText: n.SetCurAppealsText,
                    strPlaceholder: "Enter Appeals Text",
                    emoticonStore: Ie.F,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: Le().EventBBCodeEditor,
                    limitBBCode: void 0,
                    nOverridesRows: 10,
                  }),
                )
              : I.createElement(
                  F.zx,
                  { onClick: () => i(!0) },
                  "Add Appeals Support",
                ),
          ),
        );
      }
      var Wt = n(99344),
        Zt = n(12990);
      function qt(e) {
        const { tableRef: t } = e,
          n = (0, I.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              n = document.getElementById("filter-type"),
              a = document.getElementById("filter-value");
            (e.value = ""),
              (n.value = ""),
              (a.value = ""),
              t.current.table.clearFilter();
          }, [t]),
          a = (0, I.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              n = document.getElementById("filter-type"),
              a = document.getElementById("filter-value"),
              i = e.options[e.selectedIndex].value,
              o = -1 != n.selectedIndex ? n.options[n.selectedIndex].value : "";
            i && o && t.current.table.setFilter(i, o, a.value);
          }, [t]);
        return I.createElement(
          "div",
          null,
          "Field: ",
          I.createElement(
            "select",
            { id: "filter-field", onChange: a },
            I.createElement("option", null),
            I.createElement("option", { value: "app_name" }, "App Name"),
            I.createElement("option", { value: "tags" }, "Tags"),
          ),
          I.createElement("span", { style: { paddingLeft: "20px" } }, "Type:"),
          I.createElement(
            "select",
            { id: "filter-type", onChange: a },
            I.createElement("option", { value: "=" }, "="),
            I.createElement("option", { value: "like" }, "like"),
          ),
          I.createElement("span", { style: { paddingLeft: "20px" } }, "Value:"),
          I.createElement("input", {
            id: "filter-value",
            type: "text",
            placeholder: "value to filter",
            onKeyUp: a,
          }),
          I.createElement("span", { style: { paddingLeft: "20px" } }),
          I.createElement(
            "button",
            { id: "download-csv", onClick: n },
            "Clear",
          ),
        );
      }
      var Yt = n(42064);
      function Qt(e) {
        const t = R.Get(),
          n = B(),
          [a, i] = (0, I.useState)(!1);
        return I.createElement(
          "div",
          { style: { width: "100%" } },
          I.createElement(
            "span",
            { className: e.ctnOverride || Yt.StatsCtn },
            "Refreshed:",
            Boolean(n && n.time_updated) &&
              I.createElement(X.H6, {
                dateAndTime: n.time_updated,
                bSingleLine: !0,
              }),
            I.createElement("br", null),
            "Eligible information is based on the published page",
            I.createElement("br", null),
            I.createElement(
              "span",
              { className: Yt.Warning },
              "Sales numbers are for Valve Admins only",
            ),
            I.createElement("br", null),
            I.createElement(
              F.zx,
              {
                id: "statsRefreshButton",
                onClick: () =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    i(!0), yield t.RefreshActiveStats(), i(!1);
                  }),
                style: { marginTop: "10px", float: "right", width: "120px" },
                disabled: a,
              },
              a ? "Refreshing..." : "Refresh Stats",
            ),
            I.createElement("br", null),
            I.createElement("br", null),
          ),
        );
      }
      var Kt = n(20614),
        $t = n(1386);
      function Jt(e) {
        const t = R.Get(),
          n = [
            { title: "App ID", field: "appid", formatter: $t.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: $t.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: $t.c8,
              width: 120,
            },
          ];
        return (
          t.BIsEnterDiscountsEnabled() &&
            n.push(
              {
                title: "Long Term Sales Rank",
                field: "long_term_sales_rank",
                formatter: $t.AV,
                width: 80,
              },
              {
                title: "Discounts",
                field: "discount_info",
                formatter: $t.sN,
                width: 450,
                variableHeight: !0,
              },
            ),
          n.push(
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: $t.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher ID",
              field: "publisherid",
              formatter: $t.H,
              width: 120,
            },
          ),
          n
        );
      }
      function en(e, t) {
        return Number.parseInt(t.sales) - Number.parseInt(e.sales);
      }
      function tn(e, t) {
        const {
            oAllStats: n,
            mapAppToDiscountInfo: a,
            strDiscountEventID: i,
            rtEventStart: o,
            rtEventEnd: l,
          } = t,
          r = {
            nTotal: e.length || 0,
            nTopOptedIn: 0,
            nTopOptedOut: 0,
            nTopInvited: 0,
            nTopWithOverlappingDiscount: 0,
            nTopWithOfficialDiscount: 0,
            nTopFree: 0,
            nTopComingSoon: 0,
          };
        return (
          e.forEach((e) => {
            var t, s;
            n.setOptedIn.has(e.appid) && (r.nTopOptedIn += 1),
              n.setOptedOut.has(e.appid) && (r.nTopOptedOut += 1),
              n.setInvited.has(e.appid) && (r.nTopInvited += 1);
            const c = null == a ? void 0 : a.get(e.appid);
            c &&
              (c.is_free && (r.nTopFree += 1),
              c.is_coming_soon && (r.nTopComingSoon += 1),
              i &&
                (null === (t = c.discounts) || void 0 === t
                  ? void 0
                  : t.find((e) => e.discountEventID == i)) &&
                (r.nTopWithOfficialDiscount += 1),
              (null === (s = c.discounts) || void 0 === s
                ? void 0
                : s.some((e) => e.rtStartDate < l && e.rtEndDate > o)) &&
                (r.nTopWithOverlappingDiscount += 1));
          }),
          r
        );
      }
      function nn(e) {
        const { rgOverviewList: t } = e,
          [n, a] = (0, I.useMemo)(
            () => [tn(t.sort(en).slice(0, 100), e), tn(t, e)],
            [e, t],
          );
        return e.mapAppToDiscountInfo
          ? I.createElement(
              xe.ug,
              {
                title: "OptIn Participation Stats",
                tooltip:
                  "Shows the stats for the top 100 and all games invited/optin/opted out for a themed sale. Ignores the eligible games",
                bStartMinimized: !1,
              },
              I.createElement(
                "table",
                { className: Le().StatsCtn },
                I.createElement(
                  "tr",
                  null,
                  I.createElement("th", null),
                  I.createElement("th", { colSpan: 4 }, "Action Taken:"),
                  I.createElement("th", { colSpan: 3 }, "Discounts:"),
                ),
                I.createElement(
                  "tr",
                  null,
                  I.createElement("th", null),
                  I.createElement("th", null, "Total"),
                  I.createElement("th", null, "Opt In"),
                  I.createElement("th", null, "Opt Out"),
                  I.createElement("th", null, "Invited"),
                  I.createElement("th", null, "All"),
                  I.createElement("th", null, "Official Discount Event"),
                  I.createElement("th", null, "Any overlapping Discount"),
                ),
                I.createElement(
                  "tr",
                  null,
                  I.createElement("td", null, "Top Hundred:"),
                  I.createElement(an, { oCalc: n }),
                ),
                I.createElement(
                  "tr",
                  null,
                  I.createElement("td", null, "All Games:"),
                  I.createElement(an, { oCalc: a }),
                ),
              ),
            )
          : I.createElement(de.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function an(e) {
        const { oCalc: t } = e;
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "td",
            null,
            t.nTopOptedIn + t.nTopOptedOut + t.nTopInvited,
          ),
          I.createElement("td", null, t.nTopOptedIn),
          I.createElement("td", null, t.nTopOptedOut),
          I.createElement("td", null, t.nTopInvited),
          I.createElement(
            "td",
            null,
            t.nTopWithOverlappingDiscount + t.nTopWithOfficialDiscount,
          ),
          I.createElement("td", null, t.nTopWithOfficialDiscount),
          I.createElement("td", null, t.nTopWithOverlappingDiscount),
        );
      }
      class on {
        GetOptInDemoApps(e, t) {
          return this.m_mapAppToDemoAppID.get(this.ConvertToKey(e, t));
        }
        BHasLoaded(e, t) {
          return this.m_mapAppToDemoAppID.has(this.ConvertToKey(e, t));
        }
        GetLoadCallback(e, t) {
          const n = this.ConvertToKey(e, t);
          return (
            this.m_mapLoadCallback.has(n) ||
              this.m_mapLoadCallback.set(n, new T.pB()),
            this.m_mapLoadCallback.get(n)
          );
        }
        ConvertToKey(e, t) {
          return (
            e +
            (null == t ? void 0 : t.section_id) +
            (null == t ? void 0 : t.list_id) +
            (null == t ? void 0 : t.option_id)
          );
        }
        LoadAppWithDemoAppIDs(e, t) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n = this.ConvertToKey(e, t);
            return (
              this.m_mapPromises.has(n) ||
                this.m_mapPromises.set(
                  n,
                  this.InternalLoadAppWithDemoAppIDs(e, t),
                ),
              this.m_mapPromises.get(n)
            );
          });
        }
        InternalLoadAppWithDemoAppIDs(e, t) {
          var n, a;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const i = new Map(),
              o = this.ConvertToKey(e, t);
            if (this.m_mapAppToDemoAppID.has(o))
              return this.m_mapAppToDemoAppID.get(o);
            try {
              const l = { sessionid: w.De.SESSIONID, optInName: e },
                s = w.De.PARTNER_BASE_URL + "optin/ajaxgetoptinappwithdemoid",
                c = yield r().get(s, { params: l, withCredentials: !0 });
              if (
                200 == (null == c ? void 0 : c.status) &&
                1 ==
                  (null === (n = null == c ? void 0 : c.data) || void 0 === n
                    ? void 0
                    : n.success)
              )
                null === (a = c.data.app_with_demos) ||
                  void 0 === a ||
                  a.forEach((e) => {
                    i.set(e.appid, e);
                  }),
                  this.m_mapAppToDemoAppID.set(o, i),
                  this.GetLoadCallback(e, t).Dispatch(i);
              else {
                const e = (0, A.l)(c);
                console.error(
                  "function GetAppWithDemoAppIDs: error message received with " +
                    e.strErrorMsg,
                  e,
                );
              }
            } catch (e) {
              const t = (0, A.l)(e);
              console.error(
                "function GetAppWithDemoAppIDs: failed with " + t.strErrorMsg,
                t,
              );
            }
            return i;
          });
        }
        static Get() {
          return (
            on.s_Singleton ||
              ((on.s_Singleton = new on()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInDemoAppStores = on.s_Singleton)),
            on.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppToDemoAppID = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_mapLoadCallback = new Map()),
            (0, c.rC)(this);
        }
      }
      function ln(e) {
        const { tableRef: t, mapAppToDiscountInfo: n, oAllStats: a } = e,
          i = R.Get(),
          { jsonFeatured: o } = a,
          [l, r, s] = (0, ze.SZ)(() => [
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectTrailerPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectDemoPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectGameProfileIntent(),
          ]),
          c = (function (e, t) {
            const [n, a] = (0, I.useState)(on.Get().GetOptInDemoApps(e));
            return (
              (0, I.useEffect)(() => {
                t &&
                  !on.Get().BHasLoaded(e) &&
                  on.Get().LoadAppWithDemoAppIDs(e);
              }, [e, t]),
              (0, u.Qg)(on.Get().GetLoadCallback(e), a),
              n
            );
          })(
            (0, ze.SZ)(() => i.GetOptInPageID()),
            r,
          ),
          d = (0, I.useMemo)(() => o.map((e) => e.appid), [o]),
          m = (0, pt.QQ)(i.GetOptInPageID(), d),
          p = (0, I.useMemo)(
            () =>
              o && m
                ? o.map((e) => {
                    var t, n, a, i, o, l;
                    if (m) {
                      const r = m.get(e.appid);
                      r &&
                        ((e.opt_in = r.opt_in),
                        (e.trailers_opt_in = Boolean(
                          (null === (t = r.jsondata) || void 0 === t
                            ? void 0
                            : t.trailer_permission) &&
                            (null === (n = r.jsondata) || void 0 === n
                              ? void 0
                              : n.rtime_granting_trailer),
                        )),
                        (e.demo_opt_in = Boolean(
                          (null === (a = r.jsondata) || void 0 === a
                            ? void 0
                            : a.demo_permission) &&
                            (null === (i = r.jsondata) || void 0 === i
                              ? void 0
                              : i.rtime_granting_demo),
                        )),
                        (e.game_profile_intent = Boolean(
                          (null === (o = r.jsondata) || void 0 === o
                            ? void 0
                            : o.game_profile_intent) &&
                            (null === (l = r.jsondata) || void 0 === l
                              ? void 0
                              : l.rtime_granting_profile),
                        )),
                        (e.store_url = `${w.De.STORE_BASE_URL}app/${e.appid}`));
                    }
                    if (c) {
                      const t = c.get(e.appid);
                      t &&
                        (t.is_demo_released
                          ? (e.demo_state = "Released")
                          : t.is_build_reviewed
                          ? (e.demo_state = "Approved")
                          : (e.demo_state = "No Demo"));
                    }
                    return e;
                  })
                : null,
            [o, m, c],
          );
        if (!m || !p || (r && !c))
          return I.createElement(de.V, {
            string: (0, ce.Xx)("#Loading"),
            position: "center",
            size: "medium",
          });
        const _ =
            w.De.PARTNER_BASE_URL + "optin/sale/" + i.GetOptInPageID() + "/",
          h = [
            {
              title: "Opted In",
              field: "opt_in",
              formatter: $t.KF,
              width: 50,
              formatterParams: _,
            },
            ...Jt(),
          ];
        l &&
          h.push({
            title: "Trailer OptIn",
            field: "trailers_opt_in",
            formatter: $t.Xv,
            width: 50,
          }),
          r &&
            h.push(
              {
                title: "Demo OptIn",
                field: "demo_opt_in",
                formatter: $t.Xv,
                width: 50,
              },
              {
                title: "Demo State",
                field: "demo_state",
                formatter: $t.T6,
                width: 100,
              },
            ),
          s &&
            h.push({
              title: "Game Profile OptIn",
              field: "game_profile_intent",
              formatter: $t.Xv,
              width: 50,
            }),
          h.push({ title: "Store URL", field: "store_url", width: 350 });
        const g = (0, $t.n_)();
        return I.createElement(
          U.SV,
          null,
          I.createElement(Kt.ReactTabulator, {
            ref: t,
            columns: h,
            data: p,
            options: g,
          }),
          I.createElement("br", null),
        );
      }
      function rn(e) {
        const {
            tableRef: t,
            bSomeEmailSent: n,
            mapAppToDiscountInfo: a,
            oAllStats: i,
          } = e,
          o = R.Get(),
          l = B(),
          [r, s, c, d] = (0, ze.SZ)(() => [
            o.GetEventStartTime(),
            o.GetEventEndTime(),
            o.BIsInvitationOnly(),
            o.GetDiscountEventID(),
          ]),
          {
            jsonEligible: m,
            jsonOptedIn: p,
            jsonOptedOut: u,
            jsonInvited: _,
            jsonPruned: h,
            jsonPendingReview: g,
          } = i,
          E = Jt(),
          v = [
            { title: "App ID", field: "appid", formatter: $t.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: $t.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: $t.c8,
              width: 120,
            },
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: $t.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher IDs",
              field: "publishers",
              formatter: $t.H,
              width: 120,
            },
          ],
          S = (0, $t.n_)(),
          f = [];
        if (n && c) {
          if (n) {
            const e = l
                ? l.count_opted_in + l.count_opted_out + l.count_invited
                : 0,
              n = [...E];
            n.unshift({
              title: "State",
              field: "appid",
              formatter: $t.oC,
              width: 120,
              formatterParams: i,
            });
            const o = [...p, ...u, ..._];
            f.push({
              name: l ? `Overview (${e})` : "Overview",
              key: "overview",
              status: "",
              statusType: "success",
              tooltip:
                "Shows a single table with all of the opted in, opted out and invited apps",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(nn, {
                  rgOverviewList: o,
                  oAllStats: i,
                  mapAppToDiscountInfo: a,
                  strDiscountEventID: d,
                  rtEventStart: r,
                  rtEventEnd: s,
                }),
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: n,
                  data: o,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            });
          }
        } else
          f.push({
            name: l
              ? "Eligible via OptIn Def (" + l.count_eligible + ")"
              : "Eligible via OptIn Def",
            key: "eligible",
            status: "",
            statusType: "success",
            tooltip:
              "Automatically hides when invitation only mode and we have already sent some email.",
            contents: I.createElement(
              U.SV,
              null,
              I.createElement(Kt.ReactTabulator, {
                ref: t,
                columns: v,
                data: m,
                options: S,
              }),
              I.createElement("br", null),
            ),
          });
        const y = n ? "Invited Apps" : "Pending Invite";
        return (
          f.push(
            {
              name: l ? "Opted In (" + l.count_opted_in + ")" : "Opted In",
              key: "manage&section=optedin",
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: E,
                  data: p,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            },
            {
              name: l ? "Opted Out (" + l.count_opted_out + ")" : "Opted Out",
              key: "manage&section=optedout",
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: E,
                  data: u,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            },
            {
              name: l ? y + " (" + l.count_invited + ")" : y,
              key: "manage&section=invited",
              tooltip:
                "This only includes invited apps that haven't sinced opted out or opted in.",
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: E,
                  data: _,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            },
            {
              name: l
                ? "Pending Review Apps (" + l.count_pending_review + ")"
                : "Pending Review Apps",
              key: "manage&section=pending_review",
              tooltip:
                "IApps that are candidates of the App review process. They can be invited or pruned out.",
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: E,
                  data: g,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            },
            {
              name: l
                ? "Pruned Out Apps (" + l.count_pruned + ")"
                : "Pruned Apps",
              key: "manage&section=pruned",
              tooltip:
                "Invited apps which we reviewed and then pruned from the list as they don't closely match the events theme.",
              status: "",
              statusType: "success",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(Kt.ReactTabulator, {
                  ref: t,
                  columns: E,
                  data: h,
                  options: S,
                }),
                I.createElement("br", null),
              ),
            },
            {
              name: l
                ? "Featured Apps (" + l.count_featured + ")"
                : "Featured Apps",
              key: "manage&section=featured",
              status: "",
              statusType: "success",
              contents: I.createElement(ln, Object.assign({}, e)),
            },
          ),
          I.createElement(J.n, { tabs: f, bDisableRouting: !0 })
        );
      }
      (0, o.gn)([c.LO], on.prototype, "m_mapAppToDemoAppID", void 0);
      var sn = n(25508);
      class cn {
        FetchAllEligibleOptInApps(e) {
          var t;
          return (0, o.mG)(this, void 0, void 0, function* () {
            const n =
                w.De.PARTNER_BASE_URL + "optin/ajaxgetalleligibleoptinapps",
              a = { sessionid: w.De.SESSIONID, opt_in_name: e },
              i = yield r().get(n, { params: a, withCredentials: !0 });
            return null === (t = null == i ? void 0 : i.data) || void 0 === t
              ? void 0
              : t.data;
          });
        }
        static Get() {
          return cn.s_Singleton || (cn.s_Singleton = new cn()), cn.s_Singleton;
        }
        constructor() {}
      }
      function dn(e) {
        var t, n, a, i, l, r;
        const s = (0, te.useQuery)(
            ["useAllEligibleOptInApps", e],
            () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                return yield cn.Get().FetchAllEligibleOptInApps(e);
              }),
            { staleTime: 60 * sn._H.PerMinute * 1e3 },
          ),
          c = (0, I.useMemo)(() => {
            var e, t, n, a, i, o;
            return s.isLoading
              ? null
              : {
                  eligible_appids: new Set(
                    (null === (e = s.data) || void 0 === e
                      ? void 0
                      : e.eligible_appids) || [],
                  ),
                  opted_in_appids: new Set(
                    (null === (t = s.data) || void 0 === t
                      ? void 0
                      : t.opted_in_appids) || [],
                  ),
                  opted_out_appids: new Set(
                    (null === (n = s.data) || void 0 === n
                      ? void 0
                      : n.opted_out_appids) || [],
                  ),
                  invited_appids: new Set(
                    (null === (a = s.data) || void 0 === a
                      ? void 0
                      : a.invited_appids) || [],
                  ),
                  pruned_appids: new Set(
                    (null === (i = s.data) || void 0 === i
                      ? void 0
                      : i.pruned_appids) || [],
                  ),
                  featured_appids: new Set(
                    (null === (o = s.data) || void 0 === o
                      ? void 0
                      : o.featured_appids) || [],
                  ),
                };
          }, [
            null === (t = s.data) || void 0 === t ? void 0 : t.eligible_appids,
            null === (n = s.data) || void 0 === n ? void 0 : n.featured_appids,
            null === (a = s.data) || void 0 === a ? void 0 : a.invited_appids,
            null === (i = s.data) || void 0 === i ? void 0 : i.opted_in_appids,
            null === (l = s.data) || void 0 === l ? void 0 : l.opted_out_appids,
            null === (r = s.data) || void 0 === r ? void 0 : r.pruned_appids,
            s.isLoading,
          ]);
        return s.isLoading || !c ? null : c;
      }
      var mn = n(72120);
      const pn = (e) => {
        const t = R.Get(),
          n = (0, I.useRef)(null),
          [a, i] = I.useState("Demo Package " + t.GetFullName()),
          [l, s] = I.useState(void 0),
          [c, d] = I.useState(void 0),
          [m, p] = I.useState(void 0),
          [u, _] = I.useState(void 0);
        I.useEffect(
          () => () =>
            n.current &&
            n.current("DialogChoosePackageNameAndDynamicSetting: unmounting"),
          [],
        );
        return u
          ? I.createElement(_e.uH, {
              strTitle: "Create Demo Package",
              strDescription:
                "Package succesfully created and opt-in definition updated.",
              onOK: e.closeModal && e.closeModal,
              onCancel: e.closeModal && e.closeModal,
              bAlertDialog: !0,
            })
          : I.createElement(
              _e.uH,
              {
                strTitle: "Create Demo Package",
                strDescription:
                  "Choose a package name. We will create a package with release override for 'Featured' Apps who have approved or released demos and that have opted in for us to be able use their demos.",
                onOK: () =>
                  (0, o.mG)(void 0, void 0, void 0, function* () {
                    var e;
                    d(!0);
                    const i = r().CancelToken.source();
                    n.current = i.cancel;
                    try {
                      const n = new FormData();
                      n.append("sessionid", w.De.SESSIONID),
                        n.append("optInName", t.GetFullName()),
                        n.append("packageName", a);
                      const o =
                          w.De.PARTNER_BASE_URL + "optin/ajaxcreatedemopackage",
                        l = yield r().post(o, n, {
                          withCredentials: !0,
                          cancelToken: i.token,
                        });
                      if (
                        200 == (null == l ? void 0 : l.status) &&
                        1 ==
                          (null === (e = l.data) || void 0 === e
                            ? void 0
                            : e.success) &&
                        l.data.packageid >= 0 &&
                        !i.token.reason
                      ) {
                        t.AddDemoPackage({
                          packageid: l.data.packageid,
                          rtimecreated: Math.floor(Date.now() / 1e3),
                        });
                        const e = yield t.Save(i.token);
                        Boolean(e) && !i.token.reason ? s(e) : _(!0);
                      } else
                        i.token.reason ||
                          s(
                            "Create Package Failed: " +
                              (null == l ? void 0 : l.status) +
                              " " +
                              (null == l ? void 0 : l.statusText),
                          );
                    } catch (e) {
                      const t = (0, A.l)(e),
                        n =
                          "DialogChoosePackageNameAndDynamicSetting error: " +
                          t.strErrorMsg;
                      console.error(n, t), i.token.reason || s(n);
                    } finally {
                      i.token.reason || d(!1);
                    }
                  }),
                bOKDisabled: 0 == a.trim().length || void 0 !== c,
                onCancel: e.closeModal,
              },
              I.createElement("br", null),
              I.createElement(F.II, {
                type: "text",
                label: "Package Name",
                tooltip:
                  "Public name of the package; please give a thoughtful and easy to search name",
                value: a,
                onChange: (e) => i(e.currentTarget.value),
              }),
              Boolean(c) &&
                I.createElement(de.V, {
                  string: m
                    ? "Package Created, Saving Model"
                    : "Creating Package in Progress",
                  size: "medium",
                  position: "center",
                }),
              Boolean(l) &&
                I.createElement(
                  "div",
                  { className: ge.ErrorStylesBackground },
                  l,
                ),
            );
      };
      function un(e, t) {
        const n = R.Get(),
          a = new Array();
        return (
          n.GetDynamicSections().forEach((n) => {
            (e && !e.includes(n.input_style)) ||
              n.lists.forEach((e) => {
                t
                  ? a.push({
                      value: n.unique_id + "|" + e.unique_id,
                      label: e.option_title
                        ? e.option_title.english
                        : n.name.english,
                    })
                  : e.options.forEach((t) => {
                      a.push({
                        value:
                          n.unique_id + "|" + e.unique_id + "|" + t.unique_id,
                        label: t.text.english,
                      });
                    });
              });
          }),
          a
        );
      }
      const _n = (e) => {
          const t = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            n = un(e.rgInputType);
          return I.createElement(
            I.Fragment,
            null,
            Boolean(e.label) && I.createElement("div", null, e.label),
            I.createElement(Ve.ZP, {
              styles: t,
              isSearchable: !0,
              isMulti: !1,
              placeholder: "Choose One",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: n,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        hn = (e) => {
          const t = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            n = un(e.rgInputType, e.bForDataExport);
          return I.createElement(
            I.Fragment,
            null,
            Boolean(e.label) && I.createElement("div", null, e.label),
            I.createElement(Ve.ZP, {
              styles: t,
              isSearchable: !0,
              isMulti: !0,
              placeholder: "Choose One or More",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: n,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        gn = (0, De.Pi)((e) => {
          var t;
          const { editModel: n } = e;
          return (null === (t = n.GetDemoPackages()) || void 0 === t
            ? void 0
            : t.length) > 0
            ? I.createElement(
                "div",
                null,
                I.createElement("h3", null, "Packages Created by OptIn"),
                n
                  .GetDemoPackages()
                  .map((e) =>
                    I.createElement(En, {
                      key: "pack" + e.packageid,
                      demoPackageInfo: e,
                      editModel: n,
                    }),
                  ),
              )
            : null;
        }),
        En = (0, De.Pi)((e) => {
          const { demoPackageInfo: t, editModel: n } = e,
            [a, i] = (0, ht.ie)(t.packageid, { include_basic_info: !0 });
          return n.BInitialized() && null != t.packageid
            ? a && 1 != i
              ? I.createElement(
                  "div",
                  null,
                  I.createElement(
                    "div",
                    null,
                    I.createElement(
                      "a",
                      {
                        href:
                          w.De.PARTNER_BASE_URL +
                          "store/packagelanding/" +
                          t.packageid,
                        target: "_blank",
                      },
                      a.GetName(),
                      " - package id: ",
                      t.packageid,
                    ),
                  ),
                  I.createElement(
                    "div",
                    null,
                    "Matches Option: ",
                    n.GetOptionNameByID(t.selection),
                  ),
                  I.createElement(
                    "div",
                    null,
                    "Created Time: ",
                    (0, ce.vX)(t.rtimecreated),
                    " - ",
                    (0, mn.Sc)(t.rtimecreated, { bForce24HourClock: !1 }),
                  ),
                )
              : 1 == i
              ? I.createElement(de.V, {
                  string: "Loading Package " + t.packageid,
                  size: "small",
                  position: "center",
                })
              : I.createElement(
                  "div",
                  { className: ge.ErrorStylesBackground },
                  "Failed to load package: ",
                  t.packageid,
                )
            : I.createElement(de.V, null);
        });
      function vn(e) {
        const t = e.split("|");
        return { section_id: t[0], list_id: t[1], option_id: t[2] };
      }
      var Sn = n(54703),
        fn = n.n(Sn),
        yn = n(15254);
      class Dn {
        constructor() {
          (this.nLoadedOptIn = 0), (0, c.rC)(this);
        }
        Increment() {
          this.nLoadedOptIn += 1;
        }
      }
      function bn(e, t, n) {
        const a = (0, I.useMemo)(
            () => t.filter((e) => e && e.appid).map((e) => e.appid),
            [t],
          ),
          i = (0, pt.QQ)(e, a, n);
        return Boolean(i);
      }
      function In(e) {
        const t = R.Get(),
          [n, a] = I.useState(null),
          [i, o] = I.useState(new Array()),
          [l, r] = I.useState(!1),
          [s, c] = I.useState(!1),
          [d, m] = I.useState(!0),
          [p, u] = I.useState(!1);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Export Press Opt-In CSV",
            onCancel: e.closeModal,
            onOK: () => {
              e.closeModal && e.closeModal();
              let t = n ? vn(n.value) : null,
                a =
                  (null == i ? void 0 : i.length) > 0
                    ? i.map((e) => vn(e.value))
                    : null;
              (0, z.AM)(
                I.createElement(Cn, {
                  strOptInName: e.strOptInName,
                  optInStats: e.optInStats,
                  filter: t,
                  rgAdditionalData: a,
                  bExportArtistStatement: l,
                  bFilterToDemoExist: s,
                  bIncludePerssContact: d,
                  bIncludeCategories: p,
                }),
                window,
              );
            },
            strDescription:
              "Choose an optional filter which will limit which partners to export. Choose optionally additional data to export that the partners would have entered",
          },
          I.createElement(_n, {
            selected: n,
            fnChoiceMade: a,
            rgInputType: ["checkbox"],
            label: "Choose Filter:",
          }),
          I.createElement(hn, {
            selected: i,
            fnChoiceMade: o,
            bForDataExport: !0,
            label: "Additional Data to Export:",
          }),
          t.BIsArtistStatementEnabled() &&
            I.createElement(F.ji, {
              label: "Export Artist Statement",
              checked: l,
              onChange: r,
            }),
          t.BIsArtistStatementEnabled() &&
            I.createElement(F.ji, {
              label: "Export Press Contact Info",
              checked: d,
              onChange: m,
            }),
          t.BIsLaunchYourDemoEnabled() &&
            I.createElement(F.ji, {
              label: "Filter to games with Demo Apps Created",
              tooltip:
                "Just requires the partner to have created the demo appid. This will include live demos and demo still being builte",
              checked: s,
              onChange: c,
            }),
          t.BIsCategoriesEnabled() &&
            I.createElement(F.ji, {
              label: "Add the categories selection",
              tooltip:
                "Partners can choose up to two categories, include them in the output.",
              checked: p,
              onChange: u,
            }),
        );
      }
      function Cn(e) {
        const {
            rgAdditionalData: t,
            filter: n,
            bIncludePerssContact: a,
            bIncludeCategories: i,
            bExportArtistStatement: l,
          } = e,
          s = () => e.closeModal && e.closeModal(),
          { optInStats: c, strOptInName: d, bFilterToDemoExist: m } = e,
          p = c.length,
          [u, _] = (0, I.useState)(!1),
          [h] = (0, I.useState)(() => new Dn()),
          g = bn(d, c, h),
          E = (0, I.useRef)(null),
          v = (null == t ? void 0 : t.length) > 0,
          S = (0, I.useMemo)(() => {
            const e = new Array();
            return (
              v &&
                t.forEach((t) => {
                  e.push(R.Get().GetDynamicSectionByID(t.section_id));
                }),
              e
            );
          }, [v, t]);
        return (
          (0, I.useEffect)(() => {
            if (c && g) {
              (() =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  const e = r().CancelToken.source();
                  E.current = e.cancel;
                  let o = null;
                  m && (o = yield on.Get().LoadAppWithDemoAppIDs(d, n));
                  const s = new Array();
                  c
                    .filter((e) =>
                      pt.qh.Get().BHasOptionOnRegistration(e.appid, d, n),
                    )
                    .filter((e) => {
                      var t;
                      return Boolean(
                        null == o ||
                          (null === (t = o.get(e.appid)) || void 0 === t
                            ? void 0
                            : t.demo_appid),
                      );
                    })
                    .forEach((e) => {
                      var n, o, r, c;
                      const m = pt.qh.Get().GetRegistration(e.appid, d),
                        p = {
                          game_name: e.app_name || "undefined",
                          store_page: w.De.STORE_BASE_URL + "app/" + e.appid,
                          tags: e.tags || "",
                        };
                      if (
                        (a &&
                          ((p.press_contact_name =
                            (null === (n = null == m ? void 0 : m.jsondata) ||
                            void 0 === n
                              ? void 0
                              : n.press_contact_name) || ""),
                          (p.press_contact_email =
                            (null === (o = null == m ? void 0 : m.jsondata) ||
                            void 0 === o
                              ? void 0
                              : o.press_contact_email) || "")),
                        l &&
                          (p.artist_statement =
                            (null === (r = null == m ? void 0 : m.jsondata) ||
                            void 0 === r
                              ? void 0
                              : r.artist_statement) || ""),
                        i &&
                          (null === (c = null == m ? void 0 : m.jsondata) ||
                          void 0 === c
                            ? void 0
                            : c.category_tags))
                      ) {
                        let e = 0;
                        const t = k.Get().GetGameTags();
                        console.log(m.jsondata.category_tags);
                        for (const n in m.jsondata.category_tags) {
                          const a = t.filter((e) => e.value == n);
                          (null == a ? void 0 : a.length) > 0
                            ? (p["category_choice_" + ++e] = a[0].label)
                            : (p["category_choice_" + ++e] = n);
                        }
                        for (; e < 2; ) p["category_choice_" + ++e] = "";
                      }
                      v &&
                        t.forEach((e, t) => {
                          const n = S[t],
                            a = n.GetListByID(e.list_id),
                            i = a.option_title
                              ? a.option_title.english
                              : n.GetName(),
                            o = (0, pt.A0)(m, e);
                          if ("text_input" == n.GetInputStyle())
                            p[i] =
                              (null == o ? void 0 : o.length) > 0 ? o[0] : "";
                          else {
                            let t = "";
                            null == o ||
                              o.forEach((n) => {
                                const a = R.Get().GetDynamicOptionByID(
                                  Object.assign(Object.assign({}, e), {
                                    option_id: n,
                                  }),
                                );
                                t.length > 0 && (t += "|"),
                                  (t += a.text.english);
                              }),
                              (p[i] = t);
                          }
                        }),
                        s.push(p);
                    }),
                    yn.K.WriteCSVToFile(s, "press_game_list.csv"),
                    _(!0);
                }))();
            }
            return () =>
              E.current && E.current("OptInStatsPressCSV: unmounting");
          }, [c, d, m, g, n, a, l, i, t, v, S]),
          I.createElement(
            U.SV,
            null,
            I.createElement(
              _e.e1,
              { onEscKeypress: s },
              I.createElement(
                F.VY,
                null,
                I.createElement(F.h4, null, "Export Press Opt-In CSV"),
                I.createElement(
                  F.uT,
                  null,
                  I.createElement(
                    F.Ac,
                    null,
                    I.createElement(
                      "div",
                      null,
                      "Extracting the list of opt-in games and producing a CSV. This requires reading in each opt-in record by partners to extract their 'Press Contact Info' if available which takes a while. Please wait while we pull that information",
                    ),
                    I.createElement("br", null),
                    u
                      ? I.createElement(
                          "div",
                          null,
                          "Completed processing, needed to load ",
                          h.nLoadedOptIn,
                          " Apps out of a total ",
                          c.length,
                          ". You can close this dialog.",
                        )
                      : I.createElement(An, { tracker: h, nTotalOptIn: p }),
                  ),
                ),
                I.createElement(
                  F.$_,
                  null,
                  I.createElement(F.o9, {
                    onCancel: s,
                    bOKDisabled: !u,
                    strOKText: "Done",
                    onOK: s,
                  }),
                ),
              ),
            ),
          )
        );
      }
      (0, o.gn)([c.LO], Dn.prototype, "nLoadedOptIn", void 0);
      const An = (0, De.Pi)((e) => {
        const { tracker: t, nTotalOptIn: n } = e,
          a = (0, pt.lQ)();
        return I.createElement(de.V, {
          string: `Progressing ${a ? t.nLoadedOptIn : 0} / ${n}`,
          size: "medium",
          position: "center",
        });
      });
      function Tn(e) {
        const {
            closeModal: t,
            eligigleOptInStats: n,
            strOptInName: a,
            bPendingReviewInstead: i,
          } = e,
          l = (0, I.useMemo)(() => {
            const e = new Set(n.map((e) => e.appid));
            return Array.from(e);
          }, [n]),
          r = (0, ht.wZ)(l, { include_release: !0 }),
          [s, c] = (0, I.useState)(!0),
          [d, m] = (0, I.useState)(!1),
          [p, u] = (0, I.useState)(1e3),
          [_, h, g, E, v] = (0, I.useMemo)(
            () => [
              n.length,
              n.filter((e) => e.released).length,
              n.filter((e) => {
                if (!e.released) return !1;
                return (
                  Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_dlc.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_in_game.replace(/[^0-9.-]+/g, "")) >
                  p
                );
              }).length,
              n.filter((e) => !e.released).length,
              n.filter((e) => {
                if (!e.released && 1 != r) {
                  const t = _t.Z.Get().GetApp(e.appid);
                  return Boolean(null == t ? void 0 : t.BIsComingSoon());
                }
                return !1;
              }).length,
            ],
            [n, p, r],
          ),
          [S, f] = (0, I.useState)(void 0),
          [y, D] = (0, I.useState)(void 0),
          [b, C] = (0, I.useState)(void 0),
          { fnUpdateAppToInvitation: A } = mt(),
          T = (0, I.useCallback)(
            () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                D(!0);
                const e = Array.from(
                  new Set(
                    n
                      .filter((e) => {
                        if (e.released) {
                          if (d) {
                            return (
                              Number.parseInt(
                                e.sales.replace(/[^0-9.-]+/g, ""),
                              ) +
                                Number.parseInt(
                                  e.sales_dlc.replace(/[^0-9.-]+/g, ""),
                                ) +
                                Number.parseInt(
                                  e.sales_in_game.replace(/[^0-9.-]+/g, ""),
                                ) >
                              p
                            );
                          }
                          return !0;
                        }
                        if (s) {
                          const t = _t.Z.Get().GetApp(e.appid);
                          return Boolean(
                            null == t ? void 0 : t.BIsComingSoon(),
                          );
                        }
                        return !0;
                      })
                      .map((e) => e.appid),
                  ),
                );
                let t = 1;
                for (; e.length > 0; ) {
                  const n = e.splice(0, 100);
                  if (((t = yield A(a, n, !i, !1, i)), 1 != t)) break;
                }
                1 != t &&
                  f("Hit error on invite batch, check networks/console: " + t),
                  C(!0);
              }),
            [d, i, s, n, A, p, a],
          );
        return I.createElement(
          _e.uH,
          {
            strTitle: `Move Eligible Apps To '${
              i ? "Pending Review" : "Invited"
            }'`,
            strDescription: `Move eligible apps into the '${
              i ? "Pending Review" : "Invited"
            }' state as computed by the latest refresh stats to the ${
              i
                ? "app requiring review. This lets us prune the app to be precisely matching our festival purpose."
                : "invited app list. This lets them participate immediately when festival is open."
            }`,
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: y || 1 == r,
            onOK: T,
            strOKButtonText: `Mark Apps as '${
              i ? "Pending Review" : "Invited"
            }'`,
          },
          Boolean(!y) &&
            I.createElement(
              I.Fragment,
              null,
              Boolean(1 == r) &&
                I.createElement(de.V, {
                  size: "small",
                  string: "Loading App Details",
                }),
              I.createElement(
                "div",
                null,
                I.createElement("div", null, "Total Eligible Apps: ", _),
                I.createElement("div", null, "** Total Released Apps: ", h),
                d &&
                  I.createElement(
                    "div",
                    null,
                    "** Total Released Apps with min revenue: ",
                    g,
                  ),
                I.createElement("div", null, "** Total Unreleased Apps: ", E),
                I.createElement(
                  "div",
                  null,
                  "** Total Unreleased Apps with Coming Soon Pages: ",
                  v,
                ),
              ),
              d
                ? I.createElement(F.II, {
                    type: "number",
                    label: `Minimum lifetime revenue for released app to be included in the '${
                      i ? "Pending Review" : "Invite"
                    }'`,
                    min: "0",
                    max: "100000000",
                    value: p,
                    tooltip:
                      "This looks at the combination of lifetime package sales, dlc sales and in-game sales",
                    onChange: (e) => {
                      const t = Number.parseInt(e.currentTarget.value) || 0;
                      u(t);
                    },
                  })
                : I.createElement(F.ji, {
                    label: "Filter released apps by min lifetime revenue?",
                    checked: d,
                    onChange: m,
                  }),
              I.createElement(F.ji, {
                label: "Unreleased App Require a Coming Soon Page",
                checked: s,
                onChange: c,
              }),
            ),
          Boolean(y && !b) &&
            I.createElement(de.V, {
              string: (0, ce.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(S) &&
            I.createElement("div", { className: ge.ErrorStylesBackground }, S),
          Boolean(b && !S) &&
            I.createElement(
              "div",
              null,
              "Moving ",
              i ? "Pending Review" : "Invited",
              " to now completed, you can close the dialog",
            ),
        );
      }
      var wn,
        kn = n(58218);
      function Nn(e, t, n, a, i) {
        return (0, o.mG)(this, void 0, void 0, function* () {
          try {
            const i = yield fetch(t);
            console.log("fetched: ", i);
            const o = yield i.blob(),
              l = window.URL.createObjectURL(o),
              r = document.createElement("a");
            (r.style.display = "none"),
              (r.href = l),
              (r.download = n),
              document.body.appendChild(r),
              r.click(),
              window.URL.revokeObjectURL(l),
              a(e + 1),
              console.log("Downloaded " + e + ":" + n + " size: " + o.size);
          } catch (e) {
            const t = (0, A.l)(e);
            console.log("Download error" + e.strErrorMsg),
              i("Download failed " + t.strErrorMsg);
          }
        });
      }
      function Ln(e) {
        const { closeModal: t, optInStats: n } = e,
          a = R.Get(),
          i = a.GetOptInPageID(),
          l = (0, kn.T)("OptinAdminManageDownloadTrailers"),
          [s, c] = (0, I.useState)(1),
          [d, m] = I.useState(null),
          [p, u] = (0, I.useState)(null),
          [_, h] = (0, I.useState)(!1),
          [g, E] = (0, I.useState)(!0),
          [v, S] = (0, I.useState)(new Dn()),
          f = bn(a.GetOptInPageID(), n, v),
          y = (function (e) {
            const [t, n] = (0, I.useState)(!0);
            return (
              (0, I.useEffect)(() => {
                const t = r().CancelToken.source(),
                  a = e.map((e) => e.appid);
                return (
                  _t.Z.Get()
                    .QueueMultipleAppRequests(a, {
                      include_trailers: !0,
                      include_screenshots: !0,
                    })
                    .then(() => {
                      t.token.reason || n(!1);
                    }),
                  () => t.cancel("useLoadedStoreItemTrailers: unmounting")
                );
              }, [e]),
              t
            );
          })(n),
          [D, b] = I.useState(void 0),
          [C, A] = I.useState(void 0),
          [T, k] = (0, I.useState)(0),
          [N, L] = (0, I.useState)(wn.k_EDownloadTrailer),
          [x, G] = (0, I.useState)([]);
        return (
          (0, I.useEffect)(() => {
            if (!y && (f || !g)) {
              const e = n.map((e) => e.appid),
                t = d ? vn(d.value) : null,
                a = e
                  .filter((e) => {
                    var t;
                    return (
                      N != wn.k_EDownloadTrailer ||
                      (null === (t = _t.Z.Get().GetApp(e)) || void 0 === t
                        ? void 0
                        : t.BHasHighlightTrailers())
                    );
                  })
                  .filter(
                    (e) => !g || pt.qh.Get().BHasOptionOnRegistration(e, i, t),
                  )
                  .filter((e) => !_ || pt.qh.Get().BHasOptInTrailer(e, i))
                  .filter((e) => !p || p.has(e));
              G(a);
            }
          }, [y, f, n, d, i, p, N, g, _]),
          I.createElement(
            _e.uH,
            {
              strTitle:
                "Download Game Capsules or Trailers for " + a.GetFullName(),
              strDescription:
                "Downloads all of the highest quality MP4 or PNG/JPG file for the 'first' trailers or game capsule that appears on the store page. One per opted in game. This has since been modified to support screenshots and any capsule format.",
              onOK: () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  A(!0),
                    yield (function (e, t, n, a, i, l) {
                      var r;
                      return (0, o.mG)(this, void 0, void 0, function* () {
                        console.log(
                          "Download Assets " +
                            t +
                            " with available assets: " +
                            (null == e ? void 0 : e.length),
                        );
                        for (
                          let o = 0;
                          o < Math.min(t, (null == e ? void 0 : e.length) || 0);
                          ++o
                        ) {
                          if (
                            null === (r = null == l ? void 0 : l.token) ||
                            void 0 === r
                              ? void 0
                              : r.reason
                          )
                            return void console.log(
                              "cancelled download: " + l.token.reason,
                            );
                          const t = e[o],
                            s = _t.Z.Get().GetApp(t);
                          let c, d;
                          if (n == wn.k_EDownloadTrailer) {
                            const e = s
                              .GetAllTrailers()
                              .GetHighlightTrailers()[0]
                              .GetTrailerMax()
                              .strMP4URL.replace("http://", "https://");
                            (d = `${w.De.PARTNER_BASE_URL}gfxproxy/trailergfx?appid=${t}&itype=apps`),
                              (c =
                                s.GetName().replace(/[^\w\s!?]/g, "") +
                                "_" +
                                t +
                                ".mp4"),
                              console.log("fetching indirectly ", e, d),
                              yield Nn(o, d, c, a, i);
                          } else if (
                            n == wn.k_EDownloadAllAgeSafeScreenshots ||
                            n == wn.k_EDownloadScreenshots
                          ) {
                            const e =
                              n == wn.k_EDownloadAllAgeSafeScreenshots
                                ? s.GetOnlyAllAgesSafeScreenshots()
                                : s.GetBothAllAgesSafeAndMatureScreenshots();
                            for (let n = 0; n < e.length; ++n) {
                              const l = e[n].split("/").pop().split("?")[0];
                              (c =
                                s.GetName().replace(/[^\w\s!?]/g, "") +
                                "_" +
                                t +
                                "_" +
                                l),
                                (d = `${w.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${l}`),
                                yield Nn(o, d, c, a, i);
                            }
                          } else {
                            let e = "header.jpg";
                            switch (n) {
                              default:
                              case wn.k_EDownloadHeader:
                                break;
                              case wn.k_EDownloadSmallCapsule:
                                e = "capsule_231x87.jpg";
                                break;
                              case wn.k_EDownloadMainCapsule:
                                e = "capsule_616x353.jpg";
                                break;
                              case wn.k_EDownloadVerticalCapsule:
                                e = "hero_capsule.jpg";
                                break;
                              case wn.k_EDownloadPageBackground:
                                e = "page_bg_raw.jpg";
                            }
                            (c =
                              s.GetName().replace(/[^\w\s!?]/g, "") +
                              "_" +
                              t +
                              "_" +
                              e),
                              (e += `?t=${Math.floor(
                                Date.now() / 1e3,
                              )}&exclude_beta=1`),
                              (d = `${w.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${e}`),
                              console.log("fetching indirectly ", d),
                              yield Nn(o, d, c, a, i);
                          }
                          console.log(
                            `Finished processing appid ${s.GetName()}`,
                          );
                        }
                      });
                    })(x, s, N, k, b, l);
                }),
              bOKDisabled: y || !f || C || 0 == s,
              bAllowFullSize: !0,
              onCancel: () => {
                l.cancel("cancel"), t && t();
              },
              closeModal: () => l.cancel("cloased"),
              bDisableBackgroundDismiss: !0,
            },
            y || !f
              ? I.createElement(de.V, {
                  string: `Loading ${n.length} OptIn Registration and Games Details`,
                  position: "center",
                  size: "medium",
                })
              : I.createElement(
                  I.Fragment,
                  null,
                  !C &&
                    I.createElement(
                      "div",
                      null,
                      x.length,
                      " of apps with items available to download.",
                      I.createElement(xn, { type: N, setType: L }),
                      I.createElement(F.ji, {
                        checked: g,
                        onChange: E,
                        label: "Require OptIn",
                      }),
                      I.createElement(F.ji, {
                        checked: _,
                        onChange: h,
                        label: "Require Trailer Featuring Opt-in Permissions",
                      }),
                      I.createElement(_n, {
                        selected: d,
                        fnChoiceMade: m,
                        rgInputType: ["checkbox"],
                        label: "Choose Filter:",
                      }),
                      I.createElement(F.II, {
                        type: "number",
                        label: "How many Apps to download from?",
                        min: "1",
                        max: (null == x ? void 0 : x.length) || 1,
                        value: s,
                        onChange: (e) =>
                          c(Number.parseInt(e.currentTarget.value) || 1),
                      }),
                      I.createElement(Gn, { fnSetAppIDListList: u }),
                    ),
                ),
            Boolean(C) &&
              I.createElement(
                I.Fragment,
                null,
                Boolean(T < s)
                  ? I.createElement(de.V, {
                      string: `Downloading ${T} out of ${s}`,
                      size: "medium",
                      position: "center",
                    })
                  : I.createElement(
                      "span",
                      null,
                      "Done: Downloaded ",
                      `${T} out of ${s}`,
                    ),
              ),
            Boolean(D) &&
              I.createElement(
                "div",
                { className: ge.ErrorStylesBackground },
                D,
              ),
          )
        );
      }
      function xn(e) {
        const { type: t, setType: n } = e,
          a = (0, I.useMemo)(
            () => [
              { label: "First Store Trailer", data: wn.k_EDownloadTrailer },
              {
                label: "Header Image (460x215 px)",
                data: wn.k_EDownloadHeader,
              },
              {
                label: "Small Capsule (231x87 px)",
                data: wn.k_EDownloadSmallCapsule,
              },
              {
                label: "Main Capsule (616x353 px)",
                data: wn.k_EDownloadMainCapsule,
              },
              {
                label: "Virtual Capsule (374x448 px)",
                data: wn.k_EDownloadVerticalCapsule,
              },
              {
                label: "Background (1438x810 px)",
                data: wn.k_EDownloadPageBackground,
              },
              {
                label: "All Age Safe Only Screenshots",
                data: wn.k_EDownloadAllAgeSafeScreenshots,
              },
              { label: "All Screenshots", data: wn.k_EDownloadScreenshots },
            ],
            [],
          );
        return I.createElement(F.ry, {
          label: "Choose Download Type",
          rgOptions: a,
          selectedOption: t,
          onChange: (e) => n(e.data),
        });
      }
      function Gn(e) {
        const { fnSetAppIDListList: t } = e,
          [n, a] = I.useState(""),
          [i, o] = I.useState(!1);
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            null,
            "Optionally provide an explicit lists of appids seperately by new lines. Will only download the trailers for these appids as long as they are opted in and have a trailer.",
          ),
          i
            ? I.createElement(
                I.Fragment,
                null,
                I.createElement("div", null, "Enter App IDs:"),
                I.createElement("textarea", {
                  cols: 120,
                  rows: 10,
                  onChange: (e) => a(e.currentTarget.value),
                  value: n,
                  autoFocus: !0,
                }),
                I.createElement(
                  F.zx,
                  {
                    onClick: () => {
                      const e = n.replace(/\n/g, "|").split("|"),
                        a = new Set();
                      e.forEach((e) => {
                        const t = Number.parseInt(e);
                        t > 0 && a.add(t);
                      }),
                        a.size > 0 && t(a);
                    },
                  },
                  "AppID List Complete. Apply Filter",
                ),
              )
            : I.createElement(
                F.zx,
                { onClick: () => o(!0) },
                "Add AppID Filter List",
              ),
        );
      }
      function Rn(e) {
        const { tableRef: t, eligibleStats: n } = e,
          a = R.Get(),
          i = (0, ze.SZ)(() => a.GetFullName()),
          [o] = (0, ze.SZ)(() => [
            a.BIsAdditionalFeaturingSectionEnabled() &&
              a.BIsCollectDemoPermissions(),
          ]);
        return I.createElement(
          "div",
          { className: fn().DownloadRow },
          I.createElement(
            F.zx,
            {
              id: "download-csv",
              onClick: () => t.current.table.download("csv", "data.csv"),
              style: { width: "120px" },
            },
            "Download CSV",
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "Generates a CSV of only opt-ed in games intended to be shared with the press",
            },
            I.createElement(
              F.zx,
              {
                id: "download-perss_csv",
                onClick: function (e) {
                  (0, z.AM)(
                    I.createElement(In, {
                      strOptInName: i,
                      optInStats: t.current.state.data,
                    }),
                    (0, Z.RA)(e),
                  );
                },
                style: { width: "200px", marginLeft: "10px" },
              },
              "Download Press CSV",
            ),
          ),
          Boolean(o) &&
            I.createElement(
              we.HP,
              {
                toolTipContent:
                  "Create a package for the demos that have opted-in to the event and allowed us to use their demo. The package is create with release override.",
              },
              I.createElement(
                F.zx,
                {
                  id: "create_package",
                  onClick: () => {
                    (0, z.AM)(I.createElement(pn, null), window);
                  },
                  style: { width: "200px", marginLeft: "10px" },
                },
                "Create Demo Package",
              ),
            ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "Download trailers or Game Capsules for opted-in games from this event.",
            },
            I.createElement(
              F.zx,
              {
                id: "download_trailer",
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(Ln, { optInStats: t.current.state.data }),
                    (0, Z.RA)(e),
                  ),
                style: { width: "250px", marginLeft: "10px" },
              },
              "Download Trailers or Capsules",
            ),
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "Recommend we refresh stats before this call. This will search for the appids in the various buckets (optin, opted out etc...)",
            },
            I.createElement(
              F.zx,
              {
                id: "find_app",
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(On, { strOptInName: a.GetOptInPageID() }),
                    (0, Z.RA)(e),
                  ),
                style: { width: "200px", marginLeft: "10px" },
              },
              "Find App",
            ),
          ),
          Boolean((null == n ? void 0 : n.length) > 0) &&
            I.createElement(
              we.HP,
              {
                toolTipContent:
                  "Recommend refresh stats before using this dialog. This will provide a dialog that will mass move apps into the pending_review state which allows us to do pruning before they are invited to participate.",
              },
              I.createElement(
                F.zx,
                {
                  id: "eligible_to_invite",
                  onClick: (e) =>
                    (0, z.AM)(
                      I.createElement(Tn, {
                        strOptInName: i,
                        eligigleOptInStats: n,
                        bPendingReviewInstead: !0,
                      }),
                      (0, Z.RA)(e),
                    ),
                  style: { width: "150px", marginLeft: "10px" },
                },
                "Eligible => Pending Review",
              ),
            ),
          Boolean((null == n ? void 0 : n.length) > 0) &&
            I.createElement(
              we.HP,
              {
                toolTipContent:
                  "Recommend refresh stats before using this dialog. This will provide a dialog that will mass invite eligible apps meeting a coming soon or release with min earn critria.",
              },
              I.createElement(
                F.zx,
                {
                  id: "eligible_to_invite",
                  onClick: (e) =>
                    (0, z.AM)(
                      I.createElement(Tn, {
                        strOptInName: i,
                        eligigleOptInStats: n,
                        bPendingReviewInstead: !1,
                      }),
                      (0, Z.RA)(e),
                    ),
                  style: { width: "150px", marginLeft: "10px" },
                },
                "Eligible => Invited",
              ),
            ),
        );
      }
      function On(e) {
        const { closeModal: t, strOptInName: n } = e,
          [a, i] = (0, I.useState)(""),
          o = dn(n),
          l = (0, I.useMemo)(
            () =>
              a
                .split(" ")
                .map((e) => Number.parseInt(e))
                .filter(Boolean),
            [a],
          );
        return I.createElement(
          _e.uH,
          {
            strTitle: "Find App In OptIn",
            strDescription:
              "Goes across entire opt-in data pulled from refresh stats to surface what cateogry the appid(s) are in.",
            closeModal: t,
            bDisableBackgroundDismiss: !0,
          },
          I.createElement(F.II, {
            type: "text",
            label: "Space separated list of appids to be searched",
            onChange: (e) => i(e.currentTarget.value),
            value: a,
          }),
          I.createElement("h2", null, "Apps:"),
          Boolean(o)
            ? I.createElement(
                "div",
                null,
                "This only print TRUE if it finds the app in the specific list. This doesn't know if the app is eligible or not based on the rules of the optin.",
              )
            : I.createElement(de.V, {
                position: "center",
                string: "loading",
                size: "medium",
              }),
          null == l
            ? void 0
            : l.map((e) => {
                const t = null == o ? void 0 : o.eligible_appids.has(e),
                  n = null == o ? void 0 : o.opted_in_appids.has(e),
                  a = null == o ? void 0 : o.opted_out_appids.has(e),
                  i = null == o ? void 0 : o.invited_appids.has(e),
                  l = null == o ? void 0 : o.pruned_appids.has(e),
                  r = null == o ? void 0 : o.featured_appids.has(e);
                return I.createElement(
                  I.Fragment,
                  null,
                  I.createElement("div", null, "Appid: ", e),
                  I.createElement(
                    "div",
                    null,
                    "In Eligible List?: ",
                    t ? "TRUE" : "",
                  ),
                  I.createElement(
                    "div",
                    null,
                    "In Opted In List?: ",
                    n ? "TRUE" : "",
                  ),
                  I.createElement(
                    "div",
                    null,
                    "In Opted Out List?: ",
                    a ? "TRUE" : "",
                  ),
                  I.createElement(
                    "div",
                    null,
                    "In Invited List?: ",
                    i ? "TRUE" : "",
                  ),
                  I.createElement(
                    "div",
                    null,
                    "In Pruned List?: ",
                    l ? "TRUE" : "",
                  ),
                  I.createElement(
                    "div",
                    null,
                    "in Featured? List: ",
                    r ? "TRUE" : "",
                  ),
                  I.createElement("br", null),
                );
              }),
        );
      }
      function Bn(e) {
        const t = R.Get(),
          n = B(),
          a = (0, ze.SZ)(() => t.GetFullName()),
          { rgEmailDefAndStats: i } = re(a),
          o = !(
            n &&
            (n.json_invited ||
              n.json_eligible ||
              n.json_opted_in ||
              n.json_featured ||
              n.json_opted_out) &&
            i
          ),
          l = null == i ? void 0 : i.some((e) => e.completed);
        return I.createElement(
          "div",
          null,
          I.createElement("h2", null, a),
          I.createElement("hr", null),
          I.createElement(
            "div",
            { className: (0, W.Z)(Le().Section, Le().ManageTable) },
            I.createElement(
              "div",
              { className: Le().SectionDesc },
              I.createElement(Qt, null),
              "How to opt in a specific game. Use this link and swap out the 220 at the end with the correct appID ",
              I.createElement("br", null),
              I.createElement(
                "a",
                { href: w.De.PARTNER_BASE_URL + "optin/sale/" + a + "/220" },
                w.De.PARTNER_BASE_URL,
                "optin/sale/",
                t.GetName(),
                "/220",
              ),
              I.createElement("br", null),
              I.createElement("br", null),
              Boolean(o)
                ? I.createElement(de.V, {
                    size: "medium",
                    string: "Loading Stats/No Stats to show",
                    position: "center",
                  })
                : I.createElement(Mn, { bSomeEmailSent: l }),
            ),
          ),
        );
      }
      function Mn(e) {
        const t = R.Get(),
          { bSomeEmailSent: n } = e,
          a = M(),
          { jsonEligible: i } = a,
          o = (0, ze.SZ)(() => t.BIsEnterDiscountsEnabled()),
          l = I.useRef(null);
        return I.createElement(
          I.Fragment,
          null,
          Boolean(o)
            ? I.createElement(Fn, {
                tableRef: l,
                bSomeEmailSent: n,
                oAllStats: a,
              })
            : I.createElement(rn, {
                tableRef: l,
                bSomeEmailSent: n,
                oAllStats: a,
              }),
          I.createElement(qt, { tableRef: l }),
          I.createElement("br", null),
          I.createElement(Rn, { tableRef: l, eligibleStats: i }),
        );
      }
      function Pn(e, t, n, a, i, o) {
        return t && n && e
          ? (e.forEach((e) => {
              n.fnbHasSomeLongTermSaleRankForApp(e.appid)
                ? (e.long_term_sales_rank = n.fnGetLongTermSaleRankForApp(
                    e.appid,
                  ))
                : (e.long_term_sales_rank = 1e6),
                (e.discount_info = (0, Wt.L)(e.appid, t, i, o, a));
            }),
            e)
          : e;
      }
      function Fn(e) {
        const { tableRef: t, bSomeEmailSent: n, oAllStats: a } = e,
          i = R.Get(),
          [o, l] = (0, ze.SZ)(() => [i.GetFullName(), i.GetDiscountEventID()]),
          {
            jsonOptedIn: r,
            jsonInvited: s,
            jsonFeatured: c,
            jsonOptedOut: d,
          } = a,
          m = (0, I.useMemo)(() => {
            const e = (null == r ? void 0 : r.map((e) => e.appid)) || [],
              t = (null == s ? void 0 : s.map((e) => e.appid)) || [],
              n = (null == c ? void 0 : c.map((e) => e.appid)) || [],
              a = (null == d ? void 0 : d.map((e) => e.appid)) || [],
              i = new Set([...e, ...t, ...n, ...a]);
            return Array.from(i).sort();
          }, [r, s, c, d]),
          p = (0, Zt.l)(m),
          u = (0, Wt.o)(o, m, l),
          _ = (0, I.useMemo)(() => {
            const e = i.GetDiscountEventID(),
              t = i.GetEventStartTime(),
              n = i.GetEventEndTime();
            return Object.assign(Object.assign({}, a), {
              jsonOptedIn: Pn(a.jsonOptedIn, u, p, e, t, n),
              jsonInvited: Pn(a.jsonInvited, u, p, e, t, n),
              jsonFeatured: Pn(a.jsonFeatured, u, p, e, t, n),
              jsonOptedOut: Pn(a.jsonOptedOut, u, p, e, t, n),
            });
          }, [i, p, u, a]);
        return p && u
          ? I.createElement(rn, {
              tableRef: t,
              bSomeEmailSent: n,
              mapAppToDiscountInfo: u,
              oAllStats: _,
            })
          : I.createElement(de.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            });
      }
      function Un(e) {
        switch (e) {
          case 1:
            return "User who Registered the App for this Opt-In";
          case 32:
            return "Eligible Games that are not already opted in/out";
          case 16:
            return "Apps who were explicitly Invited, that have not already opted in/out";
          case 64:
            return "All 'Featured' apps";
          case 128:
            return "All 'Featured' apps not opted out without a featured date.";
          case 256:
            return "'Featured' apps who have not been emailed about featuring before";
          case 512:
            return "Custom App List";
        }
        return "Unknown target: " + e;
      }
      !(function (e) {
        (e[(e.k_EDownoadInvalid = 0)] = "k_EDownoadInvalid"),
          (e[(e.k_EDownloadTrailer = 1)] = "k_EDownloadTrailer"),
          (e[(e.k_EDownloadHeader = 2)] = "k_EDownloadHeader"),
          (e[(e.k_EDownloadSmallCapsule = 3)] = "k_EDownloadSmallCapsule"),
          (e[(e.k_EDownloadMainCapsule = 4)] = "k_EDownloadMainCapsule"),
          (e[(e.k_EDownloadVerticalCapsule = 5)] =
            "k_EDownloadVerticalCapsule"),
          (e[(e.k_EDownloadPageBackground = 6)] = "k_EDownloadPageBackground"),
          (e[(e.k_EDownloadAllAgeSafeScreenshots = 7)] =
            "k_EDownloadAllAgeSafeScreenshots"),
          (e[(e.k_EDownloadScreenshots = 8)] = "k_EDownloadScreenshots");
      })(wn || (wn = {}));
      const jn = "edit_email";
      class Hn {
        constructor() {
          (this.m_curSelection = void 0), (0, c.rC)(this);
        }
        SetSelectionFromQueryParams(e) {
          const t = (0, ee.ks)(e, jn);
          (null == t ? void 0 : t.trim().length) > 0 &&
            R.Get()
              .GetEmailDefinitions()
              .forEach((e) => {
                e.GetUniqueID() === t &&
                  this.m_curSelection !== e &&
                  (this.m_curSelection = e);
              });
        }
        BHasSelection() {
          return Boolean(this.m_curSelection);
        }
        GetSelection() {
          return this.m_curSelection;
        }
        SetSelection(e, t, n) {
          var a;
          e != this.m_curSelection &&
            ((this.m_curSelection = e),
            e &&
              t &&
              (null === (a = null == t ? void 0 : t.stats) || void 0 === a
                ? void 0
                : a.completed) &&
              e.SetReadOnly(!0),
            (0, ee.i9)(n, jn, null == e ? void 0 : e.GetUniqueID()));
        }
        static Get() {
          return Hn.s_Singleton || (Hn.s_Singleton = new Hn()), Hn.s_Singleton;
        }
      }
      function Xn(e) {
        const { serverDef: t, emailEditModel: n } = e,
          [a] = (0, ze.SZ)(() => [t.reviewed || !1]);
        return a
          ? I.createElement("span", null, "Email Resutls: Reviewed")
          : I.createElement(
              F.zx,
              {
                className: Le().BasicButtonSize,
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(zn, { emailEditModel: n, serverDef: t }),
                    (0, Z.RA)(e),
                  ),
              },
              "Mark as Reviewed",
            );
      }
      function zn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          [i, o] = (0, I.useState)(!1),
          [l, r] = (0, I.useState)(!1),
          [s, c] = (0, I.useState)(null);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Email Reviewe",
            strDescription: "Dialog to mark the email as reviewed.",
            onCancel: a,
            onOK: () => {
              o(!0),
                le
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType:
                      (null == t ? void 0 : t.start_rtime) || 0,
                    rtEndAutomaticEmail:
                      (null == t ? void 0 : t.end_rtime) || 0,
                    bReviewed: !0,
                  })
                  .then((e) => {
                    1 != e &&
                      c(
                        'Failed to mark the email Reviewed. "p"lease try again later.',
                      );
                  })
                  .catch(() =>
                    c(
                      'Failed to mark the email Reviewed. "p"lease try again later.',
                    ),
                  )
                  .finally(() => r(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          I.createElement(
            "div",
            null,
            "Purpose: Please review the stats for the email that has been sent. Verify that there are not an unexpectedly larger number of failed email or unreachable partner. We want to avoid issues where emails failed due to some server failure and our partners are not notified about these time sensitive requests.",
          ),
          Boolean(i && !l) &&
            I.createElement(de.V, {
              size: "medium",
              position: "center",
              string: (0, ce.Xx)("#Saving"),
            }),
          Boolean(l && s) && I.createElement("div", null, "Error: ", s),
          Boolean(l && !s) &&
            I.createElement("div", null, "Review Status Save Successful."),
        );
      }
      function Vn(e) {
        const { serverDef: t, emailEditModel: n } = e,
          [a] = (0, ze.SZ)(() => [t.start_rtime]);
        return t.aborted || t.completed || t.deleted || t.reviewed
          ? null
          : I.createElement(
              I.Fragment,
              null,
              I.createElement(
                F.zx,
                {
                  className: Le().BasicButtonSize,
                  onClick: (e) =>
                    (0, z.AM)(
                      I.createElement(Wn, { emailEditModel: n, serverDef: t }),
                      (0, Z.RA)(e),
                    ),
                },
                Boolean(a) ? "Update Email Scheduled Times" : "Schedule Email",
              ),
              Boolean(a) &&
                I.createElement(
                  F.zx,
                  {
                    className: Le().BasicButtonSize,
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(Zn, {
                          emailEditModel: n,
                          serverDef: t,
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Unset Email Schedule",
                ),
            );
      }
      function Wn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          i = R.Get(),
          o = t.start_rtime || i.GetEventStartTime(),
          l = t.end_rtime || i.GetEventEndTime(),
          [r, s] = (0, I.useState)(o),
          [c, d] = (0, I.useState)(l),
          [m, p] = (0, I.useState)(!1),
          [u, _] = (0, I.useState)(!1),
          [h, g] = (0, I.useState)(null),
          E = q.JW.GetTimeNowWithOverride();
        return I.createElement(
          _e.uH,
          {
            strTitle: "Setup OptIn Email Schedule",
            strDescription:
              "The email can be setup to start firing upto the end of the underlying Partner OptIn event.  The end-time is a safe guard to prevent firing emals beyond this time incase email servers are slow.",
            onCancel: a,
            bDisableBackgroundDismiss: !1,
            strCancelButtonText: u ? "Close" : void 0,
            onOK: () => {
              p(!0),
                le
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType: r,
                    rtEndAutomaticEmail: c,
                  })
                  .then((e) => {
                    1 != e &&
                      g("Failed to Save setting, please try again later");
                  })
                  .catch(() =>
                    g("Failed to Save setting, please try again later"),
                  )
                  .finally(() => _(!0));
            },
            bOKDisabled: m || (o == r && c == l),
          },
          Boolean(m && !u) &&
            I.createElement(de.V, {
              size: "medium",
              position: "center",
              string: (0, ce.Xx)("#Saving"),
            }),
          Boolean(u && h) && I.createElement("div", null, "Error: ", h),
          Boolean(u && !h) && I.createElement("div", null, "Save Successful."),
          !Boolean(m) &&
            I.createElement(
              I.Fragment,
              null,
              I.createElement("br", null),
              I.createElement(qe.A, {
                strDescription: "Email Start Sending Time",
                nEarliestTime: E,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => r,
                fnSetTimeToUpdate: s,
                fnIsValidDateTime: () => r < c,
                bShowTimeZone: !0,
              }),
              I.createElement(qe.A, {
                strDescription: "Email Stop at Time",
                nEarliestTime: E,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => c,
                fnSetTimeToUpdate: d,
                fnIsValidDateTime: () => r < c,
                bShowTimeZone: !0,
              }),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("br", null),
            ),
        );
      }
      function Zn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          [i, o] = (0, I.useState)(!1),
          [l, r] = (0, I.useState)(!1),
          [s, c] = (0, I.useState)(null);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Clear Email Schedule?",
            strDescription:
              "Removinmg the scheduling for firing this email? If you confirm, this will be manual mode only.",
            onCancel: a,
            onOK: () => {
              o(!0),
                le
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType: 0,
                    rtEndAutomaticEmail: 0,
                  })
                  .then((e) => {
                    1 != e &&
                      c("Failed to Reset Scheduling, please try again later");
                  })
                  .catch(() =>
                    c("Failed to Save setting, please try again later"),
                  )
                  .finally(() => r(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          Boolean(i && !l) &&
            I.createElement(de.V, {
              size: "medium",
              position: "center",
              string: (0, ce.Xx)("#Saving"),
            }),
          Boolean(l && s) && I.createElement("div", null, "Error: ", s),
          Boolean(l && !s) && I.createElement("div", null, "Save Successful."),
        );
      }
      (0, o.gn)([c.LO], Hn.prototype, "m_curSelection", void 0);
      var qn = n(59934),
        Yn = n(38944);
      const Qn =
        n.p +
        "images/applications/appmgmt/Logo_Steamworks.png?v=valveisgoodatcaching";
      var Kn = n(9691),
        $n = n.n(Kn),
        Jn = n(79186);
      const ea = (0, De.Pi)((e) => {
          const { section: t, sectionIndex: n, emailDef: a, storeItem: i } = e;
          let o = null;
          if (t.GetType() === S.k_Custom)
            o = I.createElement(ta, { section: t, emailDef: a });
          else
            o = I.createElement(ia, { section: t, emailDef: a, storeItem: i });
          return I.createElement(
            "div",
            null,
            !a.BIsReadOnly() &&
              I.createElement(
                "div",
                { className: $n().ChangeBtnCtn },
                I.createElement(
                  F.zx,
                  {
                    className: Le().BasicButtonSize,
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(aa, {
                          emailDef: a,
                          sectionIndex: n,
                          storeItem: i,
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Change Section Type",
                ),
              ),
            o,
          );
        }),
        ta = (0, De.Pi)((e) => {
          const { section: t } = e,
            n = m.U.Get().GetCurEditLanguage();
          return I.createElement(
            "div",
            { className: $n().SectionCtn },
            I.createElement(
              "div",
              { className: $n().SectionEntryTitle },
              "Title:",
            ),
            I.createElement("input", {
              type: "text",
              value: t.GetTitle(n),
              placeholder: "(required) Enter Title",
              onChange: (e) => t.SetTitle(e.currentTarget.value, n),
              maxLength: 240,
            }),
            I.createElement(
              "div",
              { className: $n().SectionEntryTitle },
              "Description:",
            ),
            I.createElement("textarea", {
              value: t.GetDescription(n),
              onChange: (e) => t.SetDescription(e.currentTarget.value, n),
              placeholder: "(required) Description / Body Text",
              rows: 4,
            }),
          );
        }),
        na = (e) => {
          const {
              curValue: t,
              fnOnChange: n,
              emailDef: a,
              sectionIndex: i,
            } = e,
            o = f
              .filter(
                (e) =>
                  e == S.k_Custom ||
                  !a.GetSections().some((t, n) => n != i && t.GetType() == e),
              )
              .map((e) => ({ label: y(e), data: e }));
          return I.createElement(F.ry, {
            label: "Email Section Type",
            strDropDownClassName: H().DropDownScroll,
            rgOptions: o,
            selectedOption: t,
            onChange: (e) => n(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        aa = (e) => {
          const {
              closeModal: t,
              sectionIndex: n,
              emailDef: a,
              storeItem: i,
            } = e,
            o = "number" != typeof n,
            l = o ? S.k_Custom : a.GetSection(n).GetType(),
            r = l == S.k_Custom,
            [s, c] = I.useState(l);
          return I.createElement(
            _e.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            I.createElement(
              F.h4,
              null,
              o ? "Add New Email Section" : "Change Section Type",
            ),
            I.createElement(
              F.uT,
              null,
              I.createElement(
                "div",
                null,
                I.createElement(
                  "p",
                  null,
                  "An email can have any number of custom sections. Other section types can only appear once on the email. Sections are pruned from the drop down if they already are using else where in the email body.",
                ),
              ),
              r &&
                I.createElement(
                  "div",
                  null,
                  "Warning: changing from a custom to another type of section will loose any previous custom text.",
                ),
              I.createElement(na, {
                emailDef: a,
                sectionIndex: n,
                curValue: s,
                fnOnChange: c,
              }),
              I.createElement(
                "div",
                { className: Jn.Preview },
                I.createElement("h2", null, "Section Preview"),
                I.createElement(ia, {
                  emailDef: a,
                  section: new b({ type: s, unique_id: "dummy" }),
                  storeItem: i,
                }),
              ),
            ),
            I.createElement(
              F.$_,
              null,
              I.createElement(F.o9, {
                onCancel: t,
                onOK: () => {
                  if (o) {
                    a.AddSection(s);
                    const e = document.getElementById("end_of_email_sections");
                    e && e.scrollIntoView();
                  } else a.GetSection(n).SetType(s);
                  t();
                },
              }),
            ),
          );
        },
        ia = (0, De.Pi)((e) => {
          const { emailDef: t, section: n, storeItem: a } = e;
          let i = "",
            o = I.createElement("div", null);
          if (n.GetType() == S.k_Custom) return null;
          const l =
              w.De.PARTNER_BASE_URL +
              "optin/sale/" +
              R.Get().GetName() +
              "/" +
              a.GetAppID(),
            r = l + "?focusmedia=1",
            s = w.De.PARTNER_BASE_URL + "optin/sale/" + R.Get().GetName(),
            c = w.De.PARTNER_BASE_URL + "taxonomy/tagwizard/" + a.GetAppID(),
            d =
              (w.De.PARTNER_BASE_URL,
              a.GetAppID(),
              w.De.PARTNER_BASE_URL + "apps/demo/" + a.GetAppID()),
            m =
              w.De.COMMUNITY_BASE_URL +
              "ogg/" +
              a.GetAppID() +
              "/partnerevents/create/",
            p = R.Get().GetOptInDeadlineTime(),
            u = R.Get().GetCurEventTitle(),
            _ = R.Get().GetEventStartTime();
          switch (n.GetType()) {
            case S.k_AssetKit:
              (i = (0, ce.Xx)("#OptIn_EmailSection_Asset_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_Asset_Body",
                    I.createElement(
                      "a",
                      { href: t.GetAssetKitURL() || "" },
                      (0, ce.Xx)("#OptIn_EmailSection_Asset_Token"),
                    ),
                  ),
                ));
              break;
            case S.k_DemoPressPreview:
              (i = (0, ce.Xx)("#OptIn_EmailSection_Press_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_Press_Body",
                    I.createElement(
                      "a",
                      { href: l },
                      (0, ce.Xx)("#OptIn_EmailSection_Press_Token"),
                    ),
                    (0, ce.$1)(t.GetDemoPressPreviewDate() || 0),
                  ),
                ));
              break;
            case S.k_ScheduleLiveStream:
              (i = (0, ce.Xx)("#OptIn_EmailSection_schedlive_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_schedlive_Body",
                    t.GetScheduleMaxItems().toLocaleString(),
                    u,
                    I.createElement(
                      "a",
                      { href: t.GetSalePreviewPage() || "" },
                      (0, ce.Xx)("#OptIn_EmailSection_schedlive_Token"),
                    ),
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_schedlive_Link",
                    I.createElement(
                      "a",
                      { href: m, target: "_blank" },
                      (0, ce.Xx)("#OptIn_EmailSection_schedlive_Link_Token"),
                    ),
                  ),
                ));
              break;
            case S.k_CancelSection:
              (i = (0, ce.Xx)("#OptIn_EmailSection_cancel_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_EmailSection_cancel_Body",
                    u,
                    (0, ce.$1)(t.GetCancelDate() || 0) +
                      " @ " +
                      (0, mn.Sc)(t.GetCancelDate() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                ));
              break;
            case S.k_DemoNotReady:
              (i = (0, ce.Xx)("#OptIn_EmailSection_notreadydemo_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_EmailSection_notreadydemo_Body",
                    (0, ce.$1)(t.GetCancelDate() || 0),
                    (0, ce.jr)(t.GetNextEditionDate() || 0),
                  ),
                ));
              break;
            case S.k_ReviewCategorization:
              (i = (0, ce.Xx)("#OptIn_EmailSection_reviewcategories_Title")),
                (o = I.createElement(
                  "div",
                  { className: $n().SectionBody },
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_reviewcategories_Body",
                    I.createElement(
                      "a",
                      { href: l + "#GameListing" },
                      (0, ce.Xx)(
                        "#OptIn_EmailSection_reviewcategories_BodyLink",
                      ),
                    ),
                  ),
                  I.createElement(
                    "ul",
                    null,
                    I.createElement(
                      "li",
                      null,
                      (0, ce.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_1",
                        I.createElement(
                          "a",
                          { href: l },
                          (0, ce.Xx)(
                            "#OptIn_EmailSection_RegistrationForm_Token",
                          ),
                        ),
                      ),
                    ),
                    I.createElement(
                      "li",
                      null,
                      (0, ce.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_2",
                        I.createElement(
                          "a",
                          { href: c },
                          (0, ce.Xx)("#OptIn_EmailSection_TagWizard_Token"),
                        ),
                      ),
                    ),
                    I.createElement(
                      "li",
                      null,
                      (0, ce.Xx)("#OptIn_EmailSection_reviewcategories_Li_3"),
                    ),
                  ),
                ));
              break;
            case S.k_DemoReview:
              (i = (0, ce.Xx)("#OptIn_EmailSection_DemoReview_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_DemoReview_Body",
                    I.createElement(
                      "a",
                      { href: d },
                      (0, ce.Xx)("#OptIn_EmailSection_DemoReview_Token"),
                    ),
                  ),
                ));
              break;
            case S.k_PressPreviewDetails:
              (i = (0, ce.Xx)("#OptIn_EmailSection_PressPreviewDetails_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_PressPreviewDetails_Body",
                    (0, ce.$1)(t.GetPreviewDate() || 0),
                    I.createElement(
                      "a",
                      { target: "_blank", href: t.GetWikiDocURL() || "" },
                      (0, ce.Xx)(
                        "#OptIn_EmailSection_PressPreviewDetails_EventDoc",
                      ),
                    ),
                  ),
                ));
              break;
            case S.k_MediaUsePermission:
              (i = (0, ce.Xx)("#OptIn_EmailSection_MediaPermission_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)("#OptIn_EmailSection_MediaPermission_Body_1"),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.Xx)("#OptIn_EmailSection_MediaPermission_Body_2"),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_MediaPermission_Body_3",
                    (0, ce.$1)(t.GetPermissionDate() || 0),
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  I.createElement(
                    "a",
                    { href: l },
                    (0, ce.kQ)(
                      "#Steamworks_partner_optin_MediaPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case S.k_TrailerOrDemoPermissions:
              (i = (0, ce.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_title",
              )),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc1",
                    u,
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc2",
                    u,
                  ),
                  " ",
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc3",
                    I.createElement(
                      "b",
                      null,
                      (0, ce.$1)(t.GetPressPreviewVisibleDate() || 0),
                    ),
                  ),
                  " ",
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc4",
                    I.createElement("b", null, (0, ce.$1)(_ || 0)),
                    u,
                  ),
                  " ",
                  (0, ce.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc5",
                    u,
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc6",
                    I.createElement(
                      "b",
                      null,
                      (0, ce.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  " ",
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc7",
                    I.createElement(
                      "b",
                      null,
                      (0, ce.$1)(t.GetPermissionDate() || 0),
                    ),
                    u,
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc8",
                    I.createElement(
                      "b",
                      null,
                      (0, ce.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  I.createElement("br", null),
                  I.createElement("br", null),
                  I.createElement(
                    "a",
                    { href: r },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_TrailerDemoPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case S.k_StatsSummary:
              (i = (0, ce.Xx)("#OptIn_EmailSection_StatsSummary_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_StatsSummary_Body",
                      R.Get().GetCurEventTitle(),
                    ),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    I.createElement(
                      "div",
                      { className: $n().StatNumber },
                      I.createElement("span", null, "00,000"),
                      " new demo players",
                    ),
                    "Your game's demo was played by 00,000 new players during Steam Next Fest. Click ",
                    I.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of downloads for your demo.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    I.createElement(
                      "div",
                      { className: $n().StatNumber },
                      I.createElement("span", null, "00,000"),
                      " wishlists",
                    ),
                    "Your game was added to the wishlist of 00,000 new players during Steam Next Fest! Click ",
                    I.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of wishlist activity on your game.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    I.createElement(
                      "div",
                      { className: $n().StatNumber },
                      I.createElement("span", null, "00,000"),
                      " broadcast views",
                    ),
                    "We found 8 broadcast sessions for your game during Steam Next Fest, totalling views by 00,000 unique users. Broadcast stats are collected under each Steam account that did the broadcasting, so for now details can only be seen by the owner of the account that did the broadcasting.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    I.createElement(
                      "div",
                      { className: $n().StatNumber },
                      I.createElement("span", null, "00,000"),
                      " store page views",
                    ),
                    "This many unique players visited your store page from the landing page of Steam Next Fest.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().StatCtn },
                    I.createElement(
                      "div",
                      { className: $n().StatNumber },
                      I.createElement("span", null, "00,000"),
                      " game impressions",
                    ),
                    "Your game capsule appeared on screen to this many unique players in Steam Next Fest.",
                  ),
                ));
              break;
            case S.k_SurveyButton:
              (i = null),
                (o = I.createElement(
                  "div",
                  null,
                  "If you have a few minutes, please take this quick survey so that we may understand how you felt the event went for you and how we can improve in the future.",
                  I.createElement(
                    "a",
                    {
                      href: t.GetSurveyLinkURL() || "",
                      className: $n().BigButton,
                    },
                    I.createElement("span", null, "Take Event Survey"),
                  ),
                ));
              break;
            case S.k_MeasureResults:
              (i = "MEASURING YOUR RESULTS"),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "SALES",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "For games that are released and playable, you can find a report of your game's sales here: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "WISHLISTS",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    a.GetAppID(),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                ));
              break;
            case S.k_MeasureResultsFree:
              (i = "MEASURING YOUR RESULTS"),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "WISHLISTS",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    a.GetAppID(),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "LIVESTREAM VIEWS",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "Visit this livestream history page from the account that ran the livestream to see counts of viewers and time watched: https://steamcommunity.com/broadcast/history",
                  ),
                ));
              break;
            case S.k_DemoLaunch:
              (i = (0, ce.Xx)("#OptIn_EmailSection_DemoRelease_Title")),
                (o = I.createElement(
                  "div",
                  null,
                  (0, ce.kQ)(
                    "#OptIn_EmailSection_DemoRelease_Body",
                    I.createElement(
                      "a",
                      { href: d },
                      (0, ce.Xx)("#OptIn_EmailSection_DemoRelease_Token"),
                    ),
                  ),
                ));
              break;
            case S.k_EnterDiscount:
              (i = "DISCOUNT"),
                (o = I.createElement(
                  "div",
                  null,
                  "If youd like to offer a discount on your title throughout the ",
                  R.Get().GetCurEventTitle(),
                  " event, you'll need to enter your discounts before the event begins on ",
                  I.createElement(
                    "span",
                    null,
                    " " +
                      (0, ce.$1)(R.Get().GetEventStartTime() || 0) +
                      " @ " +
                      (0, mn.Sc)(R.Get().GetEventStartTime() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                  ". Visit your ",
                  I.createElement(
                    "a",
                    {
                      href:
                        w.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    I.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts",
                  I.createElement("br", null),
                  I.createElement("br", null),
                  "Remember, all discounts are subject to the same cooldown between discounts, with the only exceptions being for major Steam seasonal sales. For more details on the discounting, please see the ",
                  I.createElement(
                    "a",
                    {
                      href:
                        w.De.PARTNER_BASE_URL +
                        "doc/marketing/discount_rule_changes",
                    },
                    I.createElement(
                      "span",
                      null,
                      "Discount Rule Changes documentation",
                    ),
                  ),
                  ". If you wish, you may delete conflicting custom discounts you had planned. It's up to you to choose which discount events you participate in.",
                ));
              break;
            case S.k_EnterDiscountReminder:
              (i = "DISCOUNT"),
                (o = I.createElement(
                  "div",
                  null,
                  "If youd like to offer a discount on your title throughout the event, its not too late to do so. Enter your ",
                  R.Get().GetCurEventTitle(),
                  " discounts before the event begins on",
                  (0, ce.$1)(R.Get().GetEventStartTime() || 0) +
                    " @ " +
                    (0, mn.Sc)(R.Get().GetEventStartTime() || 0, {
                      bForce24HourClock: !1,
                    }),
                  ". Visit your ",
                  I.createElement(
                    "a",
                    {
                      href:
                        w.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    I.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                ));
              break;
            case S.k_LearnMore:
              (i = "LEARN MORE"),
                (o = I.createElement(
                  "div",
                  null,
                  "Visit our ",
                  I.createElement(
                    "a",
                    { href: t.GetWikiDocURL() || "#" },
                    R.Get().GetCurEventTitle(),
                    " documentation",
                  ),
                  " for more information. Should you have any remaining questions, please reach out via ",
                  I.createElement(
                    "a",
                    {
                      href:
                        w.De.HELP_BASE_URL +
                        "en/wizard/HelpWithPublishing?issueid=933",
                    },
                    "Steam Support",
                  ),
                  ".",
                ));
              break;
            case S.k_CallForRegistration:
              (i = (0, ce.Xx)("#OptIn_EmailSection_Register_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_Register_Body_1",
                      (0, ce.$1)(p || 0),
                    ),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_Register_Body_2",
                      I.createElement("a", { href: s }, s),
                    ),
                  ),
                ));
              break;
            case S.k_NextFestReturns:
              (i = (0, ce.Xx)(
                "#OptIn_EmailSection_NextFest_Returns_Title",
                (0, ce.$1)(R.Get().GetEventStartTime() || 0),
              )),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)("#OptIn_EmailSection_NextFest_Returns_Body"),
                  ),
                ));
              break;
            case S.k_NextFestQASession:
              (i = (0, ce.Xx)("#OptIn_EmailSection_NextFest_QASession_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_NextFest_QASession_Body",
                      I.createElement(
                        "span",
                        null,
                        " " +
                          (0, ce.$1)(t.GetQASessionDate() || 0) +
                          " @ " +
                          (0, mn.Sc)(t.GetQASessionDate() || 0, {
                            bForce24HourClock: !1,
                          }),
                      ),
                      I.createElement(
                        "a",
                        { href: t.GetQASessionLink() || "", target: "_blank" },
                        (0, ce.kQ)(
                          "#OptIn_EmailSection_NextFest_QASession_Link",
                        ),
                      ),
                    ),
                  ),
                ));
              break;
            case S.k_NextFestWhatNext:
              (i = (0, ce.Xx)("#OptIn_EmailSection_NextFest_WhatNext_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)(
                      "#OptIn_EmailSection_NextFest_WhatNext_Body",
                      (0, ce.$1)(R.Get().GetEventStartTime() || 0),
                    ),
                  ),
                ));
              break;
            case S.k_NextFestTips:
              (i = (0, ce.Xx)("#OptIn_EmailSection_NextFest_Tips_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.kQ)(
                      "#OptIn_EmailSection_NextFest_Tips_Body",
                      I.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/marketing/upcoming_events/nextfest/tips",
                          target: "_blank",
                        },
                        (0, ce.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert1"),
                      ),
                      I.createElement(
                        "a",
                        {
                          href: t.GetRecordedQASessionLink() || "",
                          target: "_blank",
                        },
                        (0, ce.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert2"),
                      ),
                    ),
                  ),
                ));
              break;
            case S.k_NextFestStartsNow:
              (i = (0, ce.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Body"),
                  ),
                ));
              break;
            case S.k_NextFestThankYou:
              (i = (0, ce.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Body"),
                  ),
                ));
              break;
            case S.k_MediaPermissionReminder:
              (i = (0, ce.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Title",
              )),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Body",
                    ),
                    I.createElement("br", null),
                    I.createElement("br", null),
                    t.GetDemoTrailerRegLink() || "",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    (0, ce.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Title",
                    ),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body",
                      (0, ce.$1)(t.GetTrailerDemoDeadlineDate() || 0),
                    ),
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body2",
                    ),
                  ),
                ));
              break;
            case S.k_NextFestMediaUsageIntended:
              (i = "OFFICIAL TRAILER AND/OR LIVESTREAM"),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "We intend to include your game in the official event trailer and/or in the official livestream. Please let us know ASAP if your plans have changed!",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "The main event trailer will be available on the ",
                    I.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, ce.$1)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "The official livestream will broadcast ",
                    (0, ce.$1)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    I.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    I.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    I.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    I.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please",
                    I.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    "immediately and return to",
                    I.createElement(
                      "a",
                      { href: l, target: "_blank" },
                      "your game's registration page",
                    ),
                    "to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    "You must opt out by ",
                    (0, ce.$1)(t.GetLivestreamLaunchDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case S.k_SaleThankYou:
              (i = (0, ce.Xx)("#OptIn_EmailSection_ThankYou_Title")),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    (0, ce.Xx)("#OptIn_EmailSection_ThankYou_Body"),
                  ),
                ));
              break;
            case S.k_GenericActionLink:
              (i = null),
                (o = I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    "div",
                    { className: $n().SectionBody },
                    t.GetGenericActionLink() &&
                      I.createElement(
                        "a",
                        {
                          href:
                            t
                              .GetGenericActionLink()
                              .replace("%s", a.GetAppID().toString()) || "",
                          target: "_blank",
                        },
                        t
                          .GetGenericActionLink()
                          .replace("%s", a.GetAppID().toString()) || "",
                      ),
                  ),
                ));
              break;
            case S.k_SteamAwardsCategories:
              (i = (0, ce.Xx)(
                "#OptIn_EmailSection_SteamAwardsCategories_Title",
              )),
                (o = I.createElement(oa, { emailDef: t }));
              break;
            default:
              (i = "Unknown"),
                (o = I.createElement(
                  "div",
                  null,
                  "Unknown type ",
                  n.GetType(),
                  " @ ",
                  y(n.GetType()),
                  " ",
                ));
          }
          return I.createElement(
            "div",
            { className: $n().SectionCtn },
            I.createElement("div", { className: $n().SectionTitle }, i),
            o,
          );
        });
      function oa(e) {
        const { emailDef: t } = e,
          n = Ra(t);
        return I.createElement(
          "div",
          { className: $n().SectionBody },
          I.createElement(
            "div",
            null,
            (0, ce.Xx)("#OptIn_EmailSection_SteamAwardsCategories_Body"),
          ),
          I.createElement(
            "div",
            null,
            I.createElement(
              "ul",
              null,
              Boolean((null == n ? void 0 : n.length) > 0)
                ? I.createElement(
                    I.Fragment,
                    null,
                    n.map((e) => I.createElement("li", { key: e }, e)),
                  )
                : I.createElement(
                    "li",
                    null,
                    I.createElement(de.V, { size: "small" }),
                  ),
            ),
          ),
        );
      }
      var la = n(97942),
        ra = n.n(la),
        sa = n(42977);
      function ca(e) {
        const { appid: t, closeModal: n } = e,
          a = (0, sa.$)(t);
        return (
          console.log(t, a),
          I.createElement(
            _e.uH,
            {
              bAlertDialog: !0,
              strTitle: "Steam Award Definitions",
              closeModal: n,
            },
            a.isLoading
              ? I.createElement(de.V, { size: "medium", position: "center" })
              : I.createElement(
                  "div",
                  null,
                  I.createElement("h3", null, "Awards: "),
                  a.data.votes.map((e) =>
                    I.createElement(
                      "div",
                      { key: e.internal_name },
                      e.localization.title,
                    ),
                  ),
                  Boolean(a.data.votes.every((e) => e.app_discounts.length > 0))
                    ? I.createElement(
                        "div",
                        { className: ge.InfoStylesWithIcon },
                        "Nominees Ready",
                      )
                    : I.createElement(
                        "div",
                        { className: (0, W.Z)(ge.WarningStylesWithIcon) },
                        "No nominee's present",
                      ),
                ),
          )
        );
      }
      const da = (e) => {
          const { emailDef: t, storeItem: n, partnerInfo: a } = e;
          switch (t.GetType()) {
            case g.k_Invite:
            case g.k_InviteReminder:
              return I.createElement(
                I.Fragment,
                null,
                I.createElement("a", { href: a.partner_url }, a.name),
                " is invited to participate in an upcoming Steam event!",
              );
            case g.k_RegistrationConfirmation:
              return I.createElement(
                I.Fragment,
                null,
                "You've successfully registered ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " for an upcoming Steam Event!",
              );
            case g.k_Update:
              return I.createElement(
                I.Fragment,
                null,
                "We have a few things to share that might be helpful for ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " in an upcoming Steam Event!",
              );
            case g.k_Reminder:
              return I.createElement(
                I.Fragment,
                null,
                "This event is coming up quickly, so we wanted to check that ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " is all set to participate.",
              );
            case g.k_Starting:
              return I.createElement(
                I.Fragment,
                null,
                "This event starts soon! Here are a few final notes to prepare ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                ".",
              );
            case g.k_Followup:
              return I.createElement(
                I.Fragment,
                null,
                "We are pleased to have had ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " participate in a recent event!",
              );
            case g.k_PermissionRequest:
              return I.createElement(
                I.Fragment,
                null,
                I.createElement("a", { href: a.partner_url }, a.name),
                " is in consideration to be included in official event marketing!",
              );
            case g.k_MediaUsageNotification:
              return I.createElement(
                I.Fragment,
                null,
                "Please let us know ASAP if ",
                I.createElement("a", { href: a.partner_url }, a.name),
                " will no longer be part of the event.",
              );
            case g.k_GeneralCommunication:
              return I.createElement(
                I.Fragment,
                null,
                "We've got an upcoming opportunity on Steam for ",
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                ".",
              );
            case g.k_SteamAwardFinalists:
              return I.createElement(
                I.Fragment,
                null,
                I.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " is a finalist for the Steam Awards!",
              );
            default:
              return I.createElement(
                "div",
                null,
                "unknown type: ",
                t.GetType(),
              );
          }
        },
        ma = (0, De.Pi)((e) => {
          const { emailDef: t, appid: n } = e,
            [a] = (0, ht.vs)(n, { include_basic_info: !0 }),
            [i] = (0, Yn.DV)((0, Yn.Tt)());
          if (!a || !i)
            return I.createElement(de.V, {
              string: (0, ce.Xx)("#Loading"),
              size: "medium",
              position: "center",
            });
          const o = R.Get(),
            l = m.U.Get().GetCurEditLanguage(),
            r = t
              .GetSections()
              .map((e, n) =>
                I.createElement(ea, {
                  key: "section" + t.GetUniqueID() + "_" + e.GetUniqueID(),
                  emailDef: t,
                  section: e,
                  sectionIndex: n,
                  storeItem: a,
                }),
              );
          return I.createElement(
            "div",
            { className: Kn.EmailEditorContent },
            I.createElement(be.ko, { fnLangHasData: t.BHasLanguageData }),
            t.BIsReadOnly() && I.createElement("h2", null, "Read Only"),
            I.createElement("h1", null, "Showing Email: ", t.GetInternalName()),
            I.createElement(
              "div",
              { className: Kn.Columns },
              I.createElement(
                "div",
                { className: Kn.LeftCol },
                I.createElement(
                  "div",
                  { className: (0, W.Z)(Kn.RightAlign, Kn.EmailSubjectCtn) },
                  I.createElement(
                    "span",
                    { className: Kn.EmailOptionTitle },
                    "Email Subject:",
                  ),
                  I.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSubject(l),
                    size: 90,
                    maxLength: 250,
                    onChange: (e) => t.SetSubject(e.currentTarget.value, l),
                  }),
                ),
                I.createElement(
                  "div",
                  {
                    className: (0, W.Z)(Kn.EmailTemplate, Kn.DevEmailTemplate),
                  },
                  I.createElement(
                    "div",
                    {
                      className: (0, W.Z)(
                        Kn.CenterAlign,
                        Kn.DevEmail_TopHeader,
                      ),
                    },
                    I.createElement(
                      "a",
                      { href: w.De.PARTNER_BASE_URL },
                      I.createElement("img", {
                        src: Qn,
                        className: Kn.DevEmail_TopLogo,
                      }),
                    ),
                  ),
                  I.createElement(
                    "div",
                    { className: (0, W.Z)(Kn.DevEmail_Content) },
                    I.createElement(
                      "div",
                      { className: Kn.DevEmail_Headline1 },
                      (function (e) {
                        switch (e.GetType()) {
                          case g.k_Invite:
                            return "YOU'RE INVITED!";
                          case g.k_InviteReminder:
                            return "LAST CHANCE TO REGISTER";
                          case g.k_RegistrationConfirmation:
                            return "YOU'RE IN!";
                          case g.k_Update:
                            return "EVENT UPDATE";
                          case g.k_Reminder:
                            return "REMINDER!";
                          case g.k_Starting:
                            return "GET READY!";
                          case g.k_Followup:
                            return "THANKS FOR JOINING US!";
                          case g.k_PermissionRequest:
                            return "WE'D LIKE YOUR PERMISSION";
                          case g.k_MediaUsageNotification:
                            return "YOUR GAME IS ON THE SHORT LIST FOR FEATURING";
                          case g.k_GeneralCommunication:
                          case g.k_SteamAwardFinalists:
                            return null;
                          default:
                            return "unknown type: " + e.GetType();
                        }
                      })(t),
                    ),
                    I.createElement(
                      "div",
                      { className: Kn.DevEmail_Headline2 },
                      I.createElement(da, {
                        emailDef: t,
                        storeItem: a,
                        partnerInfo: i,
                      }),
                    ),
                    I.createElement(
                      "div",
                      { className: Kn.EventCtn },
                      I.createElement(
                        "div",
                        { className: Kn.EventTitle },
                        o.GetCurEventTitle(),
                      ),
                      Boolean(t.GetType() != g.k_PermissionRequest) &&
                        I.createElement(
                          "div",
                          { className: Kn.EventDates },
                          (0, ce.$1)(o.GetEventStartTime()),
                          " - ",
                          (0, ce.$1)(o.GetEventEndTime()),
                        ),
                    ),
                    I.createElement(
                      "div",
                      { className: Kn.DevEmail_Subject },
                      (function (e) {
                        switch (e) {
                          case g.k_Invite:
                          case g.k_InviteReminder:
                            return "Here's what you need to know and how to get registered:";
                          case g.k_RegistrationConfirmation:
                          case g.k_Update:
                            return "Below are some general things to keep in mind and make use of while you prepare for your participation.";
                          case g.k_Reminder:
                            return "We're here to help connect you with everything you need to have a successful event.";
                          case g.k_Starting:
                          case g.k_Followup:
                          case g.k_PermissionRequest:
                          case g.k_MediaUsageNotification:
                          case g.k_GeneralCommunication:
                            return null;
                          case g.k_SteamAwardFinalists:
                            return "Here's how to get the most out of the Steam Awards";
                        }
                        return "unknown";
                      })(t.GetType()),
                    ),
                  ),
                  r,
                  I.createElement("hr", { id: "end_of_email_sections" }),
                  I.createElement(
                    "div",
                    { className: (0, W.Z)(Kn.DevEmail_Content) },
                    Boolean(
                      t.GetType() != g.k_Invite &&
                        t.GetType() != g.k_Followup &&
                        t.GetType() != g.k_PermissionRequest &&
                        t.GetType() != g.k_GeneralCommunication &&
                        t.GetType() != g.k_SteamAwardFinalists,
                    ) &&
                      I.createElement(
                        "div",
                        { className: Kn.DevEmail_Subject },
                        "To review the participation checklist, make adjustments to your registration, or cancel entirely, you can visit the ",
                        I.createElement(
                          "a",
                          {
                            href:
                              w.De.PARTNER_BASE_URL +
                              "optin/" +
                              o.GetModel().pageid +
                              "/sale/" +
                              n,
                          },
                          "registration page for ",
                          a.GetName(),
                        ),
                        ".",
                      ),
                    I.createElement(
                      "div",
                      null,
                      I.createElement("b", null, "Have Questions?"),
                      I.createElement("br", null),
                      I.createElement("a", { href: "#" }, "Contact us"),
                      " and we'll get right back to you.",
                    ),
                    I.createElement("img", {
                      src:
                        w.De.STORE_CDN_URL +
                        "public/cdn/email/general/logo_med.png",
                      className: Kn.DevEmail_SignOff_Img,
                    }),
                    I.createElement(
                      "div",
                      { className: Kn.DevEmail_Signoff },
                      I.createElement("div", null, "Sincerely,"),
                      I.createElement("div", null, "The Steam Business Team"),
                    ),
                  ),
                ),
                I.createElement(
                  "div",
                  { className: (0, W.Z)(Kn.DevEmail_Footer_Ctn) },
                  Boolean(
                    t.GetType() != g.k_Invite &&
                      t.GetType() != g.k_GeneralCommunication &&
                      t.GetType() != g.k_SteamAwardFinalists,
                  ) &&
                    I.createElement(
                      "span",
                      { className: Kn.DevEmail_Footer_Reason },
                      "You are receiving this email because you registered ",
                      a.GetName(),
                      " for the ",
                      o.GetName(),
                      " event on Steamworks.",
                    ),
                  I.createElement(
                    "div",
                    { className: Kn.DevEmail_Footer_SubSection },
                    I.createElement("img", {
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=",
                      width: 103,
                      height: 43,
                    }),
                    I.createElement(
                      "div",
                      null,
                      I.createElement(
                        "div",
                        { className: Kn.DevEmail_Footer_Bold },
                        I.createElement(
                          "strong",
                          null,
                          " Valve Corporation",
                          I.createElement("br", null),
                          "PO Box 1688 Bellevue, WA 98009",
                        ),
                      ),
                      I.createElement(
                        "div",
                        { className: Kn.DevEmail_Footer_Regular },
                        "All rights reserved. All trademarks are property of their respective owners in the US and other countries.",
                      ),
                      I.createElement(
                        "div",
                        null,
                        I.createElement(
                          "a",
                          {
                            className: H().FlexRowContainer,
                            href:
                              (w.De.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: w.De.IN_CLIENT ? void 0 : "_blank",
                          },
                          I.createElement("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                            width: 33,
                            height: 28,
                          }),
                          I.createElement(
                            "div",
                            { className: Kn.DevEmail_Follow },
                            "Follow us on Twitter",
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
              I.createElement(
                "div",
                { className: Kn.RightCol },
                I.createElement(
                  "div",
                  { className: Kn.Sticky },
                  I.createElement(_a, { emailDef: t }),
                  I.createElement(ha, { emailDef: t }),
                  I.createElement(pa, { emailDef: t }),
                  !t.BIsReadOnly() &&
                    I.createElement(
                      "div",
                      { className: Kn.AddSectionCtn },
                      I.createElement(
                        F.KM,
                        {
                          className: Le().BasicButtonSize,
                          disabled: t.BIsReadOnly(),
                          onClick: (e) =>
                            (0, z.AM)(
                              I.createElement(aa, {
                                emailDef: t,
                                storeItem: a,
                              }),
                              (0, Z.RA)(e),
                            ),
                        },
                        "Add an Email Section",
                      ),
                    ),
                ),
              ),
            ),
          );
        }),
        pa = (0, De.Pi)((e) => {
          const { emailDef: t } = e,
            n = ua(t);
          return 0 == Object.values(n).length
            ? null
            : I.createElement(
                "div",
                { className: Kn.MetaDataCtn },
                t.BIsReadOnly() && I.createElement("h2", null, "Read Only"),
                I.createElement(
                  "div",
                  { className: Kn.ConfTitle },
                  "Email Configuration",
                ),
                I.createElement(
                  "p",
                  null,
                  "The following metadata is required to render correctly",
                ),
                n.bNeedAssetKit &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Asset Kit URL:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetAssetKitURL() || "",
                      placeholder: "https://<url to asset kit>",
                      onChange: (e) => t.SetAssetKitURL(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedDemoPressPreviewDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Press Preview Demo is Ready Date?",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetDemoPressPreviewDate() || 0,
                      fnSetTimeToUpdate: t.SetDemoPreviewDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedMaxItems &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Max Events Permitted on Schedule",
                    ),
                    I.createElement("input", {
                      type: "number",
                      min: "1",
                      disabled: t.BIsReadOnly(),
                      onChange: (e) =>
                        t.SetScheduleMaxItems(
                          Number.parseInt(e.currentTarget.value),
                        ),
                      value: t.GetScheduleMaxItems() || 2,
                      className: Kn.MaxEventCount,
                    }),
                  ),
                n.bNeedSalePreview &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Sale Event Preview Page (for Schedule Access):",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetSalePreviewPage() || "",
                      placeholder: "https://<url to public store sale page>",
                      onChange: (e) =>
                        t.SetSalePreviewURL(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedNextEditionDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Festival Next Edition Date for Opt-in?",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetNextEditionDate() || 0,
                      fnSetTimeToUpdate: t.SetNextEditionDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedQASessionDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Q&A Session Date",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetQASessionDate() || 0,
                      fnSetTimeToUpdate: t.SetQASessionDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedTrailerDemoDeadlineDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription:
                        "Deadline for Demo Approved And Permission Granted",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () =>
                        t.GetTrailerDemoDeadlineDate() || 0,
                      fnSetTimeToUpdate: t.SetTrailerDemoDeadlineDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedQASessionLink &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Q&A Session URL:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetQASessionLink() || "",
                      placeholder: "https://<url to zoom>",
                      onChange: (e) =>
                        t.SetQASessionLink(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedDemoTrailerRegLink &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Permission Registration URL:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetDemoTrailerRegLink() || "",
                      placeholder: "typically same full url as base event",
                      onChange: (e) =>
                        t.SetDemoTrailerRegLink(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedRecordedQASessionLink &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Recorded Q&A YouTube URL:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetRecordedQASessionLink() || "",
                      placeholder: "https://<url to YouTube>",
                      onChange: (e) =>
                        t.SetRecordedQASessionLink(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedCancelDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Cancel Date / Opt-Out Date",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetCancelDate() || 0,
                      fnSetTimeToUpdate: t.SetCancelDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedTrailerLaunchDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Official Trailer Launch Date",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetTrailerLaunchDate() || 0,
                      fnSetTimeToUpdate: t.SetTrailerLaunchDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedLivestreamLaunchDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Official Livestream Launch Date",
                      disabled: t.BIsReadOnly(),
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetLivestreamLaunchDate() || 0,
                      fnSetTimeToUpdate: t.SetLivestreamLaunchDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedPreviewDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Press Preview Date",
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetPreviewDate() || 0,
                      fnSetTimeToUpdate: t.SetPreviewDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedPermissionDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription: "Permission Deadline Date",
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () => t.GetPermissionDate() || 0,
                      fnSetTimeToUpdate: t.SetPermissionDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedPressPreviewVisibleDate &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(qe.A, {
                      strDescription:
                        "Press Preview will be Visible to Press/Customer on/or around date",
                      nEarliestTime: 0,
                      fnGetTimeToUpdate: () =>
                        t.GetPressPreviewVisibleDate() || 0,
                      fnSetTimeToUpdate: t.SetPressPreviewVisibleDate,
                      fnIsValidDateTime: () => !0,
                      bShowTimeZone: !0,
                    }),
                  ),
                n.bNeedWikiDocumentation &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Event Wiki documentation:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetWikiDocURL() || "",
                      placeholder:
                        "https://<url to steamworks event wiki documentation>",
                      onChange: (e) => t.SetWikiDocURL(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedSurveyLink &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Event Survey link:",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetSurveyLinkURL() || "",
                      placeholder: "https://<url online survey>",
                      onChange: (e) =>
                        t.SetSurveyLinkURL(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedGenericActionLink &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Action URL:",
                    ),
                    I.createElement(
                      "p",
                      null,
                      "Insert a %s into your URL anywhere you wish to replace with appID",
                    ),
                    I.createElement("input", {
                      type: "text",
                      disabled: t.BIsReadOnly(),
                      value: t.GetGenericActionLink() || "",
                      placeholder: "https://...",
                      onChange: (e) =>
                        t.SetGenericActionLink(e.currentTarget.value),
                      maxLength: 240,
                    }),
                  ),
                n.bNeedSteamAwardsAdvertisingApp &&
                  I.createElement(
                    "div",
                    { className: Kn.MetaDataRow },
                    I.createElement(
                      "div",
                      { className: Kn.MetaDataRowTitle },
                      "Steam Awards Advertising Appid:",
                    ),
                    I.createElement(
                      "p",
                      null,
                      "The nomination and winners for a specific year's steam awards are tied to a hardcoded appid. Please this appid and we can verify we have the correct year",
                    ),
                    I.createElement("input", {
                      type: "number",
                      disabled: t.BIsReadOnly(),
                      value: t.GetSteamAwardsAdApp() || 0,
                      onChange: (e) =>
                        t.SetSteamAwardsAdvertisingApp(
                          Number.parseInt(e.currentTarget.value),
                        ),
                    }),
                    I.createElement(
                      F.zx,
                      {
                        onClick: (e) =>
                          (0, z.AM)(
                            I.createElement(ca, {
                              appid: t.GetSteamAwardsAdApp(),
                            }),
                            (0, Z.RA)(e),
                          ),
                      },
                      "Verify Steam Award AppID",
                    ),
                  ),
              );
        });
      function ua(e) {
        const t = {};
        return (
          (e.GetSections() || []).forEach((e) => {
            switch (e.GetType()) {
              case S.k_AssetKit:
                t.bNeedAssetKit = !0;
                break;
              case S.k_DemoPressPreview:
                t.bNeedDemoPressPreviewDate = !0;
                break;
              case S.k_ScheduleLiveStream:
                (t.bNeedMaxItems = !0), (t.bNeedSalePreview = !0);
                break;
              case S.k_CancelSection:
                t.bNeedCancelDate = !0;
                break;
              case S.k_DemoNotReady:
                (t.bNeedCancelDate = !0), (t.bNeedNextEditionDate = !0);
                break;
              case S.k_PressPreviewDetails:
                (t.bNeedPreviewDate = !0), (t.bNeedWikiDocumentation = !0);
                break;
              case S.k_SurveyButton:
                t.bNeedSurveyLink = !0;
                break;
              case S.k_CallForRegistration:
                break;
              case S.k_LearnMore:
                t.bNeedWikiDocumentation = !0;
                break;
              case S.k_MediaUsePermission:
                t.bNeedPermissionDate = !0;
                break;
              case S.k_TrailerOrDemoPermissions:
                (t.bNeedPermissionDate = !0),
                  (t.bNeedPressPreviewVisibleDate = !0);
                break;
              case S.k_NextFestQASession:
                (t.bNeedQASessionDate = !0), (t.bNeedQASessionLink = !0);
                break;
              case S.k_NextFestTips:
                t.bNeedRecordedQASessionLink = !0;
                break;
              case S.k_MediaPermissionReminder:
                (t.bNeedDemoTrailerRegLink = !0),
                  (t.bNeedTrailerDemoDeadlineDate = !0);
                break;
              case S.k_NextFestMediaUsageIntended:
                (t.bNeedTrailerLaunchDate = !0),
                  (t.bNeedLivestreamLaunchDate = !0),
                  (t.bNeedCancelDate = !0),
                  (t.bNeedWikiDocumentation = !0);
                break;
              case S.k_GenericActionLink:
                t.bNeedGenericActionLink = !0;
                break;
              case S.k_SteamAwardsCategories:
                t.bNeedSteamAwardsAdvertisingApp = !0;
            }
          }),
          t
        );
      }
      const _a = (e) => {
        const { emailDef: t } = e,
          n = t.BIsReadOnly(),
          a = I.createRef(),
          i = [
            { label: Un(1), data: 1 },
            { label: Un(32), data: 32 },
            { label: Un(16), data: 16 },
            { label: Un(64), data: 64 },
            { label: Un(128), data: 128 },
            { label: Un(256), data: 256 },
            { label: Un(512), data: 512 },
          ];
        return I.createElement(
          "div",
          null,
          t.BIsReadOnly() && I.createElement("h2", null, "Read Only"),
          I.createElement(
            "div",
            { className: Kn.ConfTitle },
            "Email Targetting",
          ),
          I.createElement(
            "div",
            null,
            I.createElement(
              "p",
              null,
              "This defines both which opt-in games and who from the opt-in game teams are eligible to receive this email. We will fire an email per game that qualifies which may mean some users may receive more than one email, as they did the opt-in registration for more than one game",
            ),
          ),
          I.createElement(F.ry, {
            label: "Who should receive this email?",
            dropDownControlRef: a,
            disabled: n,
            strDropDownClassName: H().DropDownScroll,
            rgOptions: i,
            selectedOption: t.GetEmailTargeting(),
            onChange: (e) => {
              Boolean(t.GetServerEmailDefID())
                ? (0, z.AM)(
                    I.createElement(_e.uH, {
                      strTitle: "Update Targeting",
                      strDescription:
                        "Since this email is already staged. Updating the email targeting requires changing the email configuration. The target setting will be applied immediately. Proceed with the update?",
                      onOK: () => {
                        (0, c.z)(() => {
                          t.SetEmailTargeting(e.data),
                            le.Get().UpdateOptInEmailMetaData(t);
                        });
                      },
                      onCancel: () => {
                        var e;
                        null === (e = null == a ? void 0 : a.current) ||
                          void 0 === e ||
                          e.SetSelectedOption(t.GetEmailTargeting());
                      },
                    }),
                    window,
                  )
                : t.SetEmailTargeting(e.data);
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
        );
      };
      function ha(e) {
        const { emailDef: t } = e,
          [n, a] = (0, ze.SZ)(() => {
            var e;
            return [
              512 == t.GetEmailTargeting(),
              (null === (e = t.GetCustomAppTargetList()) || void 0 === e
                ? void 0
                : e.length) || 0,
            ];
          });
        return n
          ? I.createElement(
              "div",
              { className: Kn.MetaDataCtn },
              t.BIsReadOnly() && I.createElement("h2", null, "Read Only"),
              I.createElement(
                "div",
                { className: Kn.ConfTitle },
                "Custom App Target List",
              ),
              I.createElement("div", null, "Apps List Size: ", a),
              I.createElement(
                F.zx,
                {
                  onClick: (e) => {
                    (0, z.AM)(
                      I.createElement(ga, { emailDef: t }),
                      (0, Z.RA)(e),
                    );
                  },
                },
                "Manage Custom App List",
              ),
            )
          : null;
      }
      function ga(e) {
        const { emailDef: t, closeModal: n } = e,
          [a, i] = I.useState(""),
          [o, l] = I.useState(""),
          [r] = (0, ze.SZ)(() => [t.GetCustomAppTargetList()]);
        return I.createElement(
          _e.uH,
          {
            strTitle: "Custom App Email Target List Manager",
            bDisableBackgroundDismiss: !0,
            onCancel: n,
            bAllowFullSize: !0,
            onOK: () => {
              a.replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const n = Number.parseInt(e);
                  n > 0 && t.AddAppToCustomList(n);
                });
              o
                .replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const n = Number.parseInt(e);
                  n > 0 && t.RemoveAppToCustomList(n);
                }),
                n();
            },
          },
          I.createElement(
            "div",
            null,
            "ADDING: Enter App IDs seperated by new lines:",
          ),
          I.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => i(e.currentTarget.value),
            value: a,
            autoFocus: !0,
          }),
          I.createElement(
            "div",
            null,
            "REMOVE: Enter App IDs seperated by new lines:",
          ),
          I.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => l(e.currentTarget.value),
            value: o,
            autoFocus: !0,
          }),
          I.createElement(
            "p",
            null,
            "After hitting ok, remember to save the optin.",
          ),
          I.createElement(
            xe.ug,
            { title: `App List: ${r.length} Apps`, bStartMinimized: !0 },
            I.createElement(
              I.Fragment,
              null,
              r.map((e) =>
                I.createElement(Ea, {
                  key: `app_${e}`,
                  appid: e,
                  fnRemoveApp: () => t.RemoveAppToCustomList(e),
                }),
              ),
            ),
          ),
        );
      }
      function Ea(e) {
        const { appid: t, fnRemoveApp: n } = e,
          a = "string" == typeof t ? Number.parseInt(t) : t,
          [i] = (0, ht.vs)(a, {});
        return I.createElement(
          I.Fragment,
          null,
          Boolean(i)
            ? I.createElement("div", null, i.GetName(), " (", t, ")")
            : I.createElement("div", null, "Store Item Not Loading Appid: ", t),
          I.createElement(
            we.HP,
            {
              className: ra().ProgressIconError,
              onClick: n,
              toolTipContent: "Remove App From List",
            },
            I.createElement(Te.X, null),
          ),
        );
      }
      const va = (e) => {
        const { closeModal: t, emailDef: n } = e,
          a = (0, lt.tx)(),
          i = (0, I.useCallback)(() => {
            a.fnSetLoading(!0),
              le
                .Get()
                .CreateOptInEmail(n)
                .then((e) => {
                  if (1 != e)
                    a.fnSetError(!0),
                      a.fnSetStrError(
                        "Error: Failed to create the email on the steam server: Eresult: " +
                          e,
                      );
                  else {
                    const e = r().CancelToken.source();
                    R.Get()
                      .Save(e.token)
                      .then((e) => {
                        e
                          ? (a.fnSetError(!0),
                            a.fnSetStrError(
                              "NOTE: Email was created on the Server; saving the opt-in metadata failed. Please save again immediately or we will require to manually update the email_def_id. \n" +
                                e,
                            ))
                          : (se(R.Get().GetFullName()),
                            a.fnSetSuccess(!0),
                            a.fnSetStrSuccess(
                              "Create Email and Opt-In Save Complete. You can close this dialog",
                            ));
                      })
                      .catch((e) => {
                        a.fnSetError(!0),
                          a.fnSetStrError(
                            "NOTE: The email failed to be created on beta\n",
                          );
                      });
                  }
                });
          }, [a, n]);
        return a.bLoading
          ? I.createElement(lt.NT, {
              state: a,
              strDialogTitle: "Create Email On Steam Server",
              closeModal: t,
            })
          : I.createElement(
              _e.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Create Email On Steam Server",
                onOK: i,
              },
              I.createElement(
                "div",
                null,
                "Creating the email registers it with the Steam server which is then able to fire the email.",
              ),
            );
      };
      var Sa = n(72165);
      const fa = (e) => {
        const { closeModal: t, emailDef: n } = e,
          [a, i] = I.useState(void 0),
          o = (0, lt.tx)();
        return o.bLoading
          ? I.createElement(lt.NT, {
              state: o,
              strDialogTitle: "Send Manual OptIn Email",
              closeModal: t,
            })
          : I.createElement(
              _e.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Send Manual OptIn Email Now?",
                strOKButtonText: "Send Now",
                onOK: () => {
                  o.fnSetLoading(!0),
                    le
                      .Get()
                      .SendManualEmail(n)
                      .then((e) => {
                        1 != e.eResult
                          ? (o.fnSetError(!0),
                            o.fnSetStrError(
                              "Send Error: Failed to send the email from the Steam server: Eresult: " +
                                e.eResult,
                            ))
                          : (se(R.Get().GetFullName()),
                            o.fnSetSuccess(!0),
                            o.fnSetElSuccess(
                              I.createElement(ya, { doneStats: e.stats || {} }),
                            ));
                      });
                },
              },
              I.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually fire the email to the recipients. Once you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function ya(e) {
        const { doneStats: t } = e;
        return I.createElement(
          "div",
          null,
          I.createElement("br", null),
          "Send Completed. You can close this dialog",
          I.createElement("br", null),
          I.createElement("br", null),
          I.createElement(
            "div",
            null,
            "Accounts Examined: ",
            (null == t ? void 0 : t.accounts_examined) || 0,
          ),
          I.createElement(
            "div",
            null,
            "Emails Sent: ",
            (null == t ? void 0 : t.accounts_emailed) || 0,
          ),
          I.createElement(
            "div",
            null,
            "Why is email sent higher than account examined?  Some users may be associated with more than one app and will receive more than one email",
          ),
          I.createElement(
            "div",
            null,
            "Emails Skipped (user opted out): ",
            (null == t ? void 0 : t.accounts_not_emailed_opted_out) || 0,
          ),
          I.createElement(
            "div",
            null,
            "Emails Failed to Send: ",
            (null == t ? void 0 : t.accounts_email_failed) || 0,
          ),
        );
      }
      var Da = n(92794),
        ba = n(57082);
      function Ia(e) {
        const { emailEditModel: t, serverDef: n } = e,
          a = n.opt_in_name,
          { rgEmailSentList: i, oEmailSummary: l } = (function (e) {
            const t = (0, te.useQuery)(
                ["COptInEmailAdmin", "GetEmailDetails", e],
                () =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    return yield le.Get().FetchPartnerOptInEmailDetails(e);
                  }),
              ),
              n = (0, I.useMemo)(() => {
                var e;
                const n = new Set(),
                  a = new Set(),
                  i = new Set(),
                  o = new Set();
                null === (e = null == t ? void 0 : t.data) ||
                  void 0 === e ||
                  e.forEach((e) => {
                    n.add(e.appid),
                      1 == e.status && a.add(e.appid),
                      e.partnerid &&
                        (i.add(e.partnerid),
                        1 == e.status && o.add(e.partnerid));
                  });
                const l = Array.from(n).filter((e) => !a.has(e)),
                  r = Array.from(i).filter((e) => !o.has(e));
                return {
                  unique_appid_count: n.size,
                  appid_emailed: a.size,
                  rg_appid_not_emailed: l,
                  unique_partner_count: i.size,
                  partner_eailed: o.size,
                  rg_partner_not_emailed: r,
                };
              }, [t]);
            return { rgEmailSentList: t.data, oEmailSummary: n };
          })(t.GetServerEmailDefID()),
          [r, s] = (0, I.useState)(!1),
          c = dn(a),
          [d, m] = (0, I.useState)(!1);
        (0, I.useEffect)(() => {
          var e;
          if (i && !r && c) {
            const t = new Set(
              null == i ? void 0 : i.map((e) => e.appid).filter(Boolean),
            );
            null === (e = c.invited_appids) ||
              void 0 === e ||
              e.forEach((e) => t.add(e));
            const n = Array.from(t);
            _t.Z.Get()
              .QueueMultipleAppRequests(n, { include_release: !0 })
              .then(() => s(!0));
          }
        }, [i, r, c]);
        const [p, u, _, h, g, E, v, S] = (0, I.useMemo)(() => {
          let e = 0,
            t = 0,
            n = 0,
            a = 0,
            o = 0,
            l = 0,
            r = 0;
          const s = new Set();
          if (c) {
            const d = new Set(
              null == i ? void 0 : i.map((e) => e.appid).filter(Boolean),
            );
            d.forEach((i) => {
              let s = !1;
              c.eligible_appids.has(i) && ((e += 1), (s = !0)),
                c.opted_in_appids.has(i) && ((t += 1), (s = !0)),
                c.opted_out_appids.has(i) && ((n += 1), (s = !0)),
                c.invited_appids.has(i) && ((a += 1), (s = !0)),
                c.pruned_appids.has(i) && ((o += 1), (s = !0)),
                c.featured_appids.has(i) && ((l += 1), (s = !0)),
                s || (r += 1);
            }),
              c.invited_appids.forEach((e) => {
                e && !d.has(e) && s.add(e);
              });
          }
          return [e, t, n, a, o, l, r, s];
        }, [i, c]);
        if (!i || !r || !c) {
          let e = (0, ce.Xx)("#Loading");
          return (
            i
              ? r
                ? c || (e = "Loading App OptIn Breakdown")
                : (e = "Loading App Details")
              : (e = "Loading Raw Email Stats"),
            I.createElement(de.V, {
              position: "center",
              size: "medium",
              string: e,
            })
          );
        }
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Total Appid:",
            I.createElement("span", null, l.unique_appid_count),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Appid Emailed:",
            I.createElement("span", null, l.appid_emailed),
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "Attempted to email these apps however all users opted out of receiving communication.",
            },
            I.createElement(
              "div",
              { className: H().FlexRowWrapSpaceBetweenContainer },
              "Appid not Emails (?):",
              I.createElement("span", null, l.rg_appid_not_emailed.length),
            ),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Total PartnerID:",
            I.createElement("span", null, l.unique_partner_count),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "PartnerID Emailed:",
            I.createElement("span", null, l.partner_eailed),
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "Attempted to email these Partenr however all users opted out of receiving communication.",
            },
            I.createElement(
              "div",
              { className: H().FlexRowWrapSpaceBetweenContainer },
              "PartnerID not Emails:",
              l.rg_partner_not_emailed.length,
            ),
          ),
          I.createElement("br", null),
          I.createElement(
            "div",
            null,
            "Emailed Apps based on Latest Refresh Stats",
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Eligible Apps:",
            I.createElement("span", null, p),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Opted In App:",
            I.createElement("span", null, u),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Opted Out App:",
            I.createElement("span", null, _),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Invited App:",
            I.createElement("span", null, h),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Pruned App:",
            I.createElement("span", null, g),
          ),
          I.createElement(
            "div",
            { className: H().FlexRowWrapSpaceBetweenContainer },
            "Featured App:",
            I.createElement("span", null, E),
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "These apps need investigation as they were emailed but are not in any known set of apps associated with the events. See the csv for list.",
            },
            I.createElement(
              "div",
              { className: H().FlexRowWrapSpaceBetweenContainer },
              "Not In Any Above List (?):",
              I.createElement("span", null, v),
            ),
          ),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "We did not email these invited apps. Either they were invited after the email OR we couldn't find a user to email",
            },
            I.createElement(
              "div",
              { className: H().FlexRowWrapSpaceBetweenContainer },
              "Invited App Not Emailed (?):",
              I.createElement("span", null, S.size),
            ),
          ),
          Boolean(S.size) &&
            I.createElement(
              I.Fragment,
              null,
              Boolean(d)
                ? I.createElement(Ca, {
                    strOptInName: a,
                    setInvitedAppMissingEmail: S,
                    serverDef: n,
                  })
                : I.createElement(F.ji, {
                    label: "Expand Invited Users Missing Emails",
                    checked: d,
                    onChange: m,
                  }),
            ),
          I.createElement("br", null),
          I.createElement(
            F.KM,
            {
              onClick: () =>
                (function (e, t, n) {
                  const a = e.map((e) => {
                      const n = _t.Z.Get().GetApp(e.appid);
                      let a;
                      switch (e.status) {
                        case 0:
                          a = "uninitialized";
                          break;
                        case 1:
                          a = "success";
                          break;
                        case 2:
                          a = "generic failed";
                          break;
                        default:
                          a = "error code: " + e.status;
                      }
                      return {
                        accountid: e.accountid,
                        appid: e.appid,
                        appName:
                          (null == n ? void 0 : n.GetName()) || "unknown",
                        bReleased: (null == n ? void 0 : n.BIsReleased()) || !1,
                        releaseDate: (null == n ? void 0 : n.BIsReleased())
                          ? (0, ce.$1)(n.GetReleaseDateRTime())
                          : "",
                        timeNotified:
                          (0, ce.$1)(e.rtime_notified) +
                          " " +
                          (0, mn.Sc)(e.rtime_notified, {
                            bForce24HourClock: !1,
                          }),
                        status: a,
                        sentTime:
                          (0, ce.$1)(e.rtime_notified) +
                          " " +
                          (0, mn.Sc)(e.send_rtime, { bForce24HourClock: !1 }),
                        bSkipEmailingSinceEmailUnverified:
                          e.ignored_unverified_email,
                        bSkipEmailingAccountOptedOut: e.ignored_email_optout,
                        bEligible: t.eligible_appids.has(e.appid),
                        bOptedIn: t.opted_in_appids.has(e.appid),
                        bOptedOut: t.opted_out_appids.has(e.appid),
                        bInvited: t.invited_appids.has(e.appid),
                        bPruned: t.pruned_appids.has(e.appid),
                        bFeatured: t.featured_appids.has(e.appid),
                        bNotInAnyList: !(
                          t.eligible_appids.has(e.appid) ||
                          t.opted_in_appids.has(e.appid) ||
                          t.opted_out_appids.has(e.appid) ||
                          t.invited_appids.has(e.appid) ||
                          t.pruned_appids.has(e.appid) ||
                          t.featured_appids.has(e.appid)
                        ),
                      };
                    }),
                    i = new Set(e.map((e) => e.appid).filter(Boolean));
                  let o = t.invited_appids;
                  512 == n.GetEmailTargeting() &&
                    (o = new Set(n.GetCustomAppTargetList()));
                  null == o ||
                    o.forEach((e) => {
                      if (e && !i.has(e)) {
                        const n = _t.Z.Get().GetApp(e);
                        a.push({
                          appid: e,
                          appName:
                            (null == n ? void 0 : n.GetName()) || "unknown",
                          bReleased:
                            (null == n ? void 0 : n.BIsReleased()) || !1,
                          releaseDate: (null == n ? void 0 : n.BIsReleased())
                            ? (0, ce.$1)(n.GetReleaseDateRTime())
                            : "",
                          status: "Not Emailed",
                          bEligible: t.eligible_appids.has(e),
                          bOptedIn: t.opted_in_appids.has(e),
                          bOptedOut: t.opted_out_appids.has(e),
                          bInvited: t.invited_appids.has(e),
                          bPruned: t.pruned_appids.has(e),
                          bFeatured: t.featured_appids.has(e),
                          bNotInAnyList: !1,
                        });
                      }
                    }),
                    yn.K.WriteCSVToFile(a, "email_result_list.csv");
                })(i, c, t),
            },
            "Download CSV",
          ),
        );
      }
      function Ca(e) {
        const {
            setInvitedAppMissingEmail: t,
            strOptInName: n,
            serverDef: a,
          } = e,
          {
            rgAppInvitedAfterEmail: i,
            rgAppWithoutPromotionContact: o,
            rgAppUnknownReasons: l,
            strReason: r,
          } = (function (e, t, n) {
            const a = (0, I.useMemo)(() => Array.from(t || []), [t]),
              i = (0, pt.QQ)(e, a),
              o = (0, ba.lf)(a),
              l = (0, I.useMemo)(
                () =>
                  Array.from((null == o ? void 0 : o.values()) || [])
                    .filter((e) => (null == e ? void 0 : e.length) > 0)
                    .map((e) => e[0].partner_id),
                [o],
              ),
              r = (0, Da.j)(l),
              s = (0, I.useMemo)(
                () =>
                  o && r
                    ? a.filter((e) => {
                        const t = o.get(e);
                        if ((null == t ? void 0 : t.length) > 0) {
                          const e = r.get(t[0].partner_id);
                          if (
                            (null == e ? void 0 : e.length) > 0 &&
                            Boolean(e[0])
                          )
                            return !1;
                        }
                        return !0;
                      })
                    : null,
                [o, r, a],
              ),
              c = (0, I.useMemo)(
                () =>
                  a.filter((e) => {
                    var t;
                    return (
                      (null === (t = null == i ? void 0 : i.get(e)) ||
                      void 0 === t
                        ? void 0
                        : t.time_updated) > n
                    );
                  }),
                [i, a, n],
              ),
              d = (0, I.useMemo)(
                () =>
                  c && s
                    ? a.filter(
                        (e) =>
                          -1 == c.findIndex((t) => e == t) &&
                          -1 == s.findIndex((t) => e == t),
                      )
                    : null,
                [a, c, s],
              );
            let m = null;
            return (
              (o && r && s && i && c && d) ||
                (m = o
                  ? r
                    ? s
                      ? i
                        ? c
                          ? d
                            ? (0, ce.Xx)("#Loading")
                            : "Computing Unexplained Apps"
                          : "Computing App Registrations"
                        : "Fetching Opt In Registrations per App"
                      : "computing games without comm"
                    : "Loading Contact info for Partners"
                  : "Loading Partner Info For Apps"),
              {
                rgAppInvitedAfterEmail: c,
                rgAppWithoutPromotionContact: s,
                rgAppUnknownReasons: d,
                strReason: m,
              }
            );
          })(n, t, a.last_update_time);
        return r
          ? I.createElement(de.V, {
              size: "small",
              string: r,
              position: "center",
            })
          : I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "div",
                { className: H().FlexRowWrapSpaceBetweenContainer },
                "** Apps Added After Email Sent:",
                I.createElement("span", null, i.length),
              ),
              I.createElement(
                we.HP,
                {
                  toolTipContent:
                    "We can only send emails to users who either took an optin action or is a memmber of the partner which permits emails. These app has neither.",
                },
                I.createElement(
                  "div",
                  { className: H().FlexRowWrapSpaceBetweenContainer },
                  "** Apps without comm users (?):",
                  I.createElement("span", null, o.length),
                ),
              ),
              I.createElement(
                "div",
                { className: H().FlexRowWrapSpaceBetweenContainer },
                "** Unknown Reason:",
                I.createElement("span", null, l.length),
              ),
            );
      }
      const Aa = (e) => {
        const { closeModal: t, emailDef: n } = e,
          a = (0, lt.tx)();
        return a.bLoading
          ? I.createElement(lt.NT, {
              state: a,
              strDialogTitle: "Test Fire",
              closeModal: t,
            })
          : I.createElement(
              _e.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Test Email Fire to yourself?",
                strOKButtonText: "Test Email Now",
                onOK: () => {
                  a.fnSetLoading(!0);
                  let e = 220;
                  if (n.BHasSteamAwardsAdApp() && n.GetCustomAppTargetList()) {
                    const t = n.GetCustomAppTargetList();
                    e = t[Math.floor(Math.random() * t.length)];
                  }
                  le.Get()
                    .TestFireEmailToSelf(n, e)
                    .then((e) => {
                      1 != e
                        ? (a.fnSetError(!0),
                          a.fnSetStrError(
                            "Send Error: Failed to test the email from the Steam server: Eresult: " +
                              e,
                          ))
                        : (a.fnSetSuccess(!0),
                          a.fnSetStrSuccess(
                            "Test Email Completed. Check your inbox. You can close this dialog",
                          ));
                    });
                },
              },
              I.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually test fire this to myself, as verification of the final emails look and feel and content.\tOnce you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      const Ta = (0, qn.EN)(
          (0, De.Pi)((e) => {
            const t = R.Get(),
              n = t.GetFullName(),
              { bLoading: a, rgEmailDefAndStats: i } = re(n);
            (0, I.useEffect)(
              () => (
                Hn.Get().SetSelectionFromQueryParams(e.history),
                () => Hn.Get().SetSelection(void 0, void 0, e.history)
              ),
              [n, e.history],
            );
            const o = new Map();
            let l = null;
            if (a)
              return I.createElement(de.V, {
                size: "medium",
                position: "center",
                string: (0, ce.Xx)("#Loading"),
              });
            i
              ? i.forEach((e) => o.set(e.email_def_id, e))
              : (l = t.BIsOptInEnabled()
                  ? I.createElement(
                      "div",
                      { className: ge.WarningStylesWithIcon },
                      "Warning: We failed to load Email Definitions and Stats from the server. This means we cannot determine which emalis have already been sent and thus we cannot fire an email in this state. However emails can be created, edited and localized.",
                    )
                  : I.createElement(
                      "div",
                      { className: ge.WarningStylesWithIcon },
                      "Opt-in isn't enabled. You can create, edit and localized emalis. You canont stage or send emails on an inactive opt-in.",
                    ));
            const r = new Array(),
              s = new Array(),
              c = new Array();
            let d = null;
            return (
              (t.GetEmailDefinitions() || []).forEach((t) => {
                const n = t === Hn.Get().GetSelection();
                if (t.BIsDraftEmail())
                  c.push(
                    I.createElement(
                      Ba,
                      {
                        key: "draft" + t.GetUniqueID(),
                        emailEditModel: t,
                        bSelected: n,
                        history: e.history,
                      },
                      I.createElement(Na, { emailEditModel: t }),
                    ),
                  );
                else {
                  const a = t.GetServerEmailDefID(),
                    i = o.get(a);
                  i
                    ? i.stats && i.stats.completed
                      ? r.push(
                          I.createElement(
                            Ba,
                            {
                              key: "sent" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: n,
                              serverDef: i,
                              history: e.history,
                            },
                            I.createElement(La, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                      : s.push(
                          I.createElement(
                            Ba,
                            {
                              key: "staged" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: n,
                              serverDef: i,
                              history: e.history,
                            },
                            I.createElement(xa, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                    : (d || console.log(o), (d = t));
                }
              }),
              d
                ? I.createElement(
                    "div",
                    null,
                    "Error: Server has a different mapping for stage/sent email: ",
                    d.GetServerEmailDefID(),
                    " - ",
                    d.GetUniqueID(),
                    " - ",
                    typeof d.GetServerEmailDefID(),
                    ". Reach out to steam-events to investigate",
                  )
                : I.createElement(
                    "div",
                    { className: Sa.EmailAdmin },
                    l,
                    I.createElement("h1", null, "Email Dashboard"),
                    I.createElement(
                      "div",
                      null,
                      "This tool lets you create, send or schedule to send one or more emails to users who have opted-in to this specific event. This is useful for setting up reminders to take action or links to help them fully participate in an event.",
                    ),
                    r.length > 0 &&
                      I.createElement(
                        "div",
                        null,
                        I.createElement(
                          "h2",
                          null,
                          "Sent Emails (",
                          r.length,
                          ")",
                        ),
                        I.createElement(
                          "div",
                          { className: Sa.EmailsCtn },
                          I.createElement(
                            "table",
                            null,
                            I.createElement(
                              "thead",
                              null,
                              I.createElement(
                                "tr",
                                null,
                                I.createElement("th", null, "Name"),
                                I.createElement("th", null, "Type"),
                                I.createElement(
                                  "th",
                                  null,
                                  I.createElement(
                                    we.HP,
                                    {
                                      toolTipContent:
                                        "This is the number of unique accounts encountered; this can be less than email to send/sent as an account registering multiple opt-ins, will get separate emails for each app opted in.",
                                    },
                                    "Accounts",
                                    I.createElement("br", null),
                                    "Examined (?):",
                                  ),
                                ),
                                I.createElement(
                                  "th",
                                  null,
                                  I.createElement(
                                    we.HP,
                                    {
                                      toolTipContent:
                                        "Email sent can be higher than account examined if a user registered more than one app",
                                    },
                                    "Accounts",
                                    I.createElement("br", null),
                                    "Emailed (?):",
                                  ),
                                ),
                                I.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  I.createElement("br", null),
                                  "opted out:",
                                ),
                                I.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  I.createElement("br", null),
                                  "Failed:",
                                ),
                                I.createElement("th", null, "Clone"),
                                I.createElement("th", null, "Preview"),
                                I.createElement("th", null, "Results"),
                                I.createElement("th", null, "Details"),
                              ),
                            ),
                            I.createElement(
                              "tbody",
                              null,
                              r.length > 0
                                ? r
                                : I.createElement(
                                    "span",
                                    null,
                                    "No sent email",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    s.length > 0 &&
                      I.createElement(
                        "div",
                        null,
                        I.createElement(
                          "h2",
                          null,
                          "Staged/Scheduled Emails (",
                          s.length,
                          ")",
                        ),
                        I.createElement(
                          "div",
                          { className: Sa.EmailsCtn },
                          I.createElement(
                            "table",
                            null,
                            I.createElement(
                              "thead",
                              null,
                              I.createElement(
                                "tr",
                                null,
                                I.createElement("th", null, "Name"),
                                I.createElement("th", null, "Type"),
                                I.createElement("th", null, "Type"),
                                I.createElement(
                                  "th",
                                  null,
                                  "Estimated To Mail",
                                ),
                                I.createElement(
                                  "th",
                                  null,
                                  "Estimated To Skip",
                                ),
                                I.createElement("th", null, "Send"),
                                I.createElement("th", null, "Schedule"),
                                I.createElement("th", null, "Test"),
                                I.createElement("th", null, "Preview"),
                                I.createElement("th", null, "Clone"),
                              ),
                            ),
                            I.createElement(
                              "tbody",
                              null,
                              s.length > 0
                                ? s
                                : I.createElement(
                                    "span",
                                    null,
                                    "No staged Emails",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    I.createElement(
                      "div",
                      { className: Sa.EmailTypesCtn },
                      I.createElement(
                        "h2",
                        null,
                        "Draft Emails (",
                        c.length,
                        ")",
                      ),
                      I.createElement(
                        "div",
                        { className: Sa.EmailsCtn },
                        I.createElement(
                          "table",
                          null,
                          I.createElement(
                            "thead",
                            null,
                            I.createElement(
                              "tr",
                              null,
                              I.createElement("th", null, "Name"),
                              I.createElement("th", null, "Type"),
                              I.createElement("th", null, "Sections"),
                              I.createElement("th", null, "Targeting"),
                              I.createElement("th", null, "Stage"),
                            ),
                          ),
                          I.createElement(
                            "tbody",
                            null,
                            Boolean(c.length > 0)
                              ? c
                              : I.createElement("div", null, "No Drafts"),
                          ),
                        ),
                      ),
                      I.createElement(
                        F.zx,
                        {
                          className: Le().BasicButtonSize,
                          onClick: (t) =>
                            (0, z.AM)(
                              I.createElement(wa, { history: e.history }),
                              (0, Z.RA)(t),
                            ),
                        },
                        "Create New Email Draft",
                      ),
                    ),
                    I.createElement("hr", null),
                    Boolean(Hn.Get().BHasSelection())
                      ? I.createElement(ma, {
                          emailDef: Hn.Get().GetSelection(),
                          appid: 220,
                        })
                      : I.createElement(
                          "div",
                          null,
                          "No email selected for edit/viewing. Create or select an existing email",
                        ),
                  )
            );
          }),
        ),
        wa = (e) => {
          const { closeModal: t } = e,
            [n, a] = I.useState(""),
            [i, o] = I.useState(g.k_RegistrationConfirmation),
            l = (0, I.useCallback)(() => {
              const a = {
                  unique_id: Ma(),
                  type: i,
                  internal_name: n,
                  sections: [],
                },
                o = R.Get().AddEmailDraft(a);
              Hn.Get().SetSelection(o, void 0, e.history), t();
            }, [t, i, n, e.history]);
          return I.createElement(
            _e.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            I.createElement(F.h4, null, "Create New Email Draft"),
            I.createElement(
              F.uT,
              null,
              I.createElement(
                "div",
                null,
                "Enter an internal name for the email. This is only for us to see and differentiate emails.",
              ),
              I.createElement("input", {
                type: "text",
                value: n,
                placeholder: "Enter Internal Name",
                onFocus: (e) => e.target.select(),
                onChange: (e) => a(e.currentTarget.value),
                maxLength: 240,
              }),
              I.createElement(ka, { curValue: i, fnOnChange: o }),
            ),
            I.createElement(
              F.$_,
              null,
              I.createElement(F.o9, {
                bOKDisabled: 0 == n.trim().length,
                onCancel: t,
                onOK: l,
              }),
            ),
          );
        },
        ka = (e) => {
          const { curValue: t, fnOnChange: n } = e,
            a = E.map((e) => ({ label: v(e), data: e }));
          return I.createElement(F.ry, {
            label: "Email Type",
            strDropDownClassName: H().DropDownScroll,
            rgOptions: a,
            selectedOption: t,
            onChange: (e) => n(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        Na = (e) => {
          const { emailEditModel: t } = e,
            n = R.Get();
          return I.createElement(
            I.Fragment,
            null,
            I.createElement(
              "td",
              { className: Sa.EmailTitle },
              t.GetInternalName(),
            ),
            I.createElement("td", null, v(t.GetType())),
            I.createElement("td", null, t.GetNumberSections().toLocaleString()),
            I.createElement(
              "td",
              { className: Sa.EmailStatusTodo },
              Un(t.GetEmailTargeting()),
            ),
            I.createElement(
              "td",
              null,
              I.createElement(
                F.zx,
                {
                  className: Le().BasicButtonSize,
                  disabled: le.Get().BHasEmailDefLoadFailure(n.GetFullName()),
                  onClick: (e) =>
                    (0, z.AM)(
                      I.createElement(va, { emailDef: t }),
                      (0, Z.RA)(e),
                    ),
                },
                "Stage Email For Sending",
              ),
            ),
          );
        },
        La = (e) => {
          var t, n, a, i;
          const { emailEditModel: o, serverDef: l } = e,
            [r, s] = (0, I.useState)(!1);
          return (
            (0, I.useEffect)(() => {
              o.SetReadOnly(!0);
            }, [o]),
            I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "td",
                { className: Sa.EmailTitle },
                o.GetInternalName(),
              ),
              I.createElement(
                "td",
                { className: Sa.EmailType },
                v(o.GetType()),
              ),
              I.createElement(
                "td",
                null,
                I.createElement(
                  "span",
                  null,
                  (null === (t = null == l ? void 0 : l.stats) || void 0 === t
                    ? void 0
                    : t.accounts_examined) || 0,
                ),
              ),
              I.createElement(
                "td",
                null,
                I.createElement(
                  "span",
                  null,
                  (null === (n = null == l ? void 0 : l.stats) || void 0 === n
                    ? void 0
                    : n.accounts_emailed) || 0,
                ),
              ),
              I.createElement(
                "td",
                null,
                I.createElement(
                  "span",
                  null,
                  (null === (a = null == l ? void 0 : l.stats) || void 0 === a
                    ? void 0
                    : a.accounts_not_emailed_opted_out) || 0,
                ),
              ),
              I.createElement(
                "td",
                null,
                I.createElement(
                  "span",
                  null,
                  (null === (i = null == l ? void 0 : l.stats) || void 0 === i
                    ? void 0
                    : i.accounts_email_failed) || 0,
                ),
              ),
              I.createElement(
                "td",
                null,
                I.createElement(
                  F.zx,
                  {
                    className: (0, W.Z)(Le().BasicButtonSize, Sa.CloneBtn),
                    onClick: () => Pa(o),
                  },
                  "Clone",
                ),
              ),
              I.createElement(
                "td",
                { className: Sa.NoWrap },
                I.createElement(Oa, { emailEditModel: o }),
              ),
              I.createElement(
                "td",
                { className: Sa.NoWrap },
                I.createElement(Xn, { serverDef: l, emailEditModel: o }),
              ),
              I.createElement(
                "td",
                null,
                r
                  ? I.createElement(Ia, { emailEditModel: o, serverDef: l })
                  : I.createElement(F.ji, {
                      label: "Show Details",
                      checked: r,
                      onChange: s,
                    }),
              ),
            )
          );
        };
      function xa(e) {
        const { emailEditModel: t, serverDef: n } = e,
          [a, i] = (function (e) {
            const [t, n] = I.useState(!le.Get().BHasReachEstimateLoaded(e));
            return (
              (0, I.useEffect)(() => {
                le.Get().BHasReachEstimateLoaded(e)
                  ? n(!1)
                  : le
                      .Get()
                      .LoadEstimateEmailReach(e)
                      .finally(() => n(!1));
              }, [e]),
              [t, le.Get().GetReachEstimate(e)]
            );
          })(n.email_def_id);
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "td",
            { className: Sa.EmailTitle },
            t.GetInternalName(),
          ),
          I.createElement(
            "td",
            { className: Sa.EmailType },
            "Type: ",
            v(t.GetType()),
          ),
          I.createElement(
            "td",
            null,
            Boolean(n.start_rtime)
              ? I.createElement(
                  "span",
                  null,
                  "Scheduled:",
                  (0, ce.$1)(n.start_rtime),
                  I.createElement("span", null, " - "),
                  (0, mn.Sc)(n.start_rtime, { bForce24HourClock: !1 }),
                )
              : "Manual Email",
          ),
          I.createElement(
            "td",
            null,
            a
              ? I.createElement(de.V, {
                  size: "small",
                  string: (0, ce.Xx)("#Loading"),
                })
              : I.createElement(
                  "span",
                  null,
                  i ? i.accounts_emailed : "error loading estimate",
                ),
          ),
          I.createElement(
            "td",
            null,
            a
              ? I.createElement(de.V, {
                  size: "small",
                  string: (0, ce.Xx)("#Loading"),
                })
              : I.createElement(
                  "span",
                  null,
                  i
                    ? i.accounts_not_emailed_opted_out
                    : "error loading estimate",
                ),
          ),
          I.createElement(
            "td",
            { className: Sa.NoWrap },
            I.createElement(
              F.zx,
              {
                className: Le().BasicButtonSize,
                onClick: (e) =>
                  (0, z.AM)(I.createElement(fa, { emailDef: t }), (0, Z.RA)(e)),
              },
              "Send ACTUAL Email Now",
            ),
          ),
          I.createElement(
            "td",
            { className: Sa.NoWrap },
            I.createElement(Vn, { emailEditModel: t, serverDef: n }),
          ),
          I.createElement(Ga, { emailEditModel: t }),
        );
      }
      function Ga(e) {
        const { emailEditModel: t } = e;
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "td",
            { className: Sa.NoWrap },
            I.createElement(
              F.zx,
              {
                className: Le().BasicButtonSize,
                onClick: (e) =>
                  (0, z.AM)(I.createElement(Aa, { emailDef: t }), (0, Z.RA)(e)),
              },
              "Test Email fired To Myself",
            ),
          ),
          I.createElement(
            "td",
            { className: Sa.NoWrap },
            I.createElement(Oa, { emailEditModel: t }),
          ),
          I.createElement(
            "td",
            { className: Sa.NoWrap },
            I.createElement(
              F.zx,
              { className: Le().BasicButtonSize, onClick: () => Pa(t) },
              "Clone",
            ),
          ),
        );
      }
      function Ra(e) {
        const t = (0, sa.$)(e.GetSteamAwardsAdApp());
        if (e.BHasSteamAwardsAdApp()) {
          if (t.isLoading) return;
          return (0, C.Wx)(t.data.votes, 2).map((e) => e.localization.title);
        }
        return null;
      }
      function Oa(e) {
        const { emailEditModel: t } = e,
          n = Ra(t);
        let a = w.De.STORE_BASE_URL + "email/PartnerAppOptIn/?";
        return (
          t.GetType() == g.k_Invite
            ? (a += "partner_name=Valve%20Games&")
            : (a += "appid=220&"),
          (a += "optouttoken=aa&settingflag=0"),
          (a += "&optinname=" + R.Get().GetFullName()),
          (a += "&emailtemplateid=" + t.GetUniqueID()),
          (a += "&force_text_view=0"),
          (null == n ? void 0 : n.length) > 0 &&
            (a += "&steamawardcategories=" + encodeURIComponent(n.join(","))),
          I.createElement(
            we.HP,
            {
              toolTipContent:
                "You can update the URL using ?l=<language> to test the variousl localization",
            },
            Boolean(null == n)
              ? I.createElement(de.V, { size: "small" })
              : I.createElement(
                  F.zx,
                  {
                    className: Le().BasicButtonSize,
                    onClick: (e) => (0, V.R6)(e, a),
                  },
                  "Web Preview",
                ),
          )
        );
      }
      const Ba = (0, De.Pi)((e) => {
        const { emailEditModel: t, bSelected: n, serverDef: a } = e;
        return I.createElement(
          "tr",
          {
            onClick: () => Hn.Get().SetSelection(t, a, e.history),
            className: (0, W.Z)({ [Sa.TileContainer]: !0, [Sa.Selected]: n }),
          },
          e.children,
        );
      });
      function Ma() {
        const e = R.Get();
        let t = Math.floor(1 + 1e5 * Math.random());
        for (; e.GetEmailDefinitionByID(_ + t); )
          t = Math.floor(1 + 1e5 * Math.random());
        return _ + t;
      }
      function Pa(e) {
        const t = Object.assign(Object.assign({}, e.GetModel()), {
          unique_id: Ma(),
          email_def_id: void 0,
          internal_name: "Clone Of: " + e.GetInternalName(),
          sections: e.GetSections().map((e) => Object.assign({}, e.GetModel())),
        });
        R.Get().AddEmailDraft(t);
      }
      var Fa = n(41200),
        Ua = n(11170);
      function ja(e) {
        return I.createElement(
          "div",
          {
            className: H().EditPreviewButton,
            onClick: (e) => {
              (0, z.AM)(I.createElement(Ha, null), (0, Z.RA)(e));
            },
          },
          "Export Localization",
        );
      }
      function Ha(e) {
        var t;
        const { closeModal: n } = e,
          a = R.Get().GetModel(),
          [i, o] = I.useState(!0),
          [l, r] = I.useState(new Array());
        return I.createElement(
          _e.uH,
          {
            strTitle: "Export Localizations",
            bAlertDialog: !0,
            onCancel: n,
            closeModal: n,
          },
          I.createElement(
            F.Ac,
            null,
            I.createElement(
              "p",
              null,
              "Choose sections of the opt-in to export for localization",
            ),
            I.createElement(F.ji, {
              label: "Export Event Body",
              onChange: o,
              checked: i,
            }),
            Boolean(
              (null === (t = a.emails) || void 0 === t ? void 0 : t.length) > 0,
            ) &&
              I.createElement(
                "div",
                null,
                I.createElement("p", null, "Choose from the emails to export:"),
                a.emails.map((e) =>
                  I.createElement(F.ji, {
                    label: e.internal_name + " (" + e.unique_id + ")",
                    key: "ckhbox" + e.unique_id,
                    onChange: (t) => {
                      const n = JSON.parse(JSON.stringify(l));
                      t
                        ? n.push(e.unique_id)
                        : n.splice(n.indexOf(e.unique_id), 1),
                        r(n);
                    },
                    checked: l.indexOf(e.unique_id) >= 0,
                  }),
                ),
              ),
          ),
          I.createElement(
            F.$_,
            null,
            I.createElement(Fa.Gp, {
              fnGetLocData: () =>
                (function (e, t, n) {
                  var a;
                  let i = new Ua.C();
                  for (let o = 0; o < 31; ++o)
                    t && pi(e, i, o),
                      null === (a = e.emails) ||
                        void 0 === a ||
                        a
                          .filter((e) => n.indexOf(e.unique_id) >= 0)
                          .forEach((e) => mi(e, i, o));
                  return i;
                })(a, i, l),
              bShowXML: !0,
              bShowCSV: !0,
              strFileNamePrefix: "optin",
              lang: m.U.Get().GetCurEditLanguage(),
            }),
          ),
        );
      }
      function Xa(e) {
        const t = R.Get();
        return I.createElement(Fa.Q0, {
          fnOnImportLocData: (e, n) => {
            const a = (function (e, t, n) {
              let a = new Array();
              const i = t.GetSortedTokenList(),
                o = !0;
              return (
                (0, c.z)(() => {
                  n.forEach((n) => {
                    let l = !1,
                      r = (0, d.j_)(n);
                    i.forEach((i) => {
                      var s, c, d, m, p;
                      const u = t.GetLocalization(i, n) || "";
                      if (
                        (i === za &&
                          (u ||
                            (e.event_title[r] &&
                              e.event_title[r].length > 0)) &&
                          (e.event_title || (e.event_title = {}),
                          e.event_title[r] != u &&
                            ((e.event_title[r] = u), (l = !0))),
                        i === Va &&
                          (u ||
                            (e.description[r] &&
                              e.description[r].length > 0)) &&
                          (e.description || (e.description = {}),
                          e.description[r] != u &&
                            ((e.description[r] = u), (l = !0))),
                        i === Ja &&
                          (u ||
                            (null ===
                              (c =
                                null === (s = e.opt_in_registration_title) ||
                                void 0 === s
                                  ? void 0
                                  : s[r]) || void 0 === c
                              ? void 0
                              : c.length) > 0) &&
                          (e.opt_in_registration_title ||
                            (e.opt_in_registration_title = {}),
                          e.opt_in_registration_title[r] != u &&
                            ((e.opt_in_registration_title[r] = u), (l = !0))),
                        i === ei &&
                          (u ||
                            (null ===
                              (m =
                                null === (d = e.opt_in_registration_checkbox) ||
                                void 0 === d
                                  ? void 0
                                  : d[r]) || void 0 === m
                              ? void 0
                              : m.length) > 0) &&
                          (e.opt_in_registration_checkbox ||
                            (e.opt_in_registration_checkbox = {}),
                          e.opt_in_registration_checkbox[r] != u &&
                            ((e.opt_in_registration_checkbox[r] = u),
                            (l = !0))),
                        i === Wa &&
                          (u ||
                            (e.help_text[r] && e.help_text[r].length > 0)) &&
                          (e.help_text || (e.help_text = {}),
                          e.help_text[r] != u &&
                            ((e.help_text[r] = u), (l = !0))),
                        i === Za &&
                          (u ||
                            (e.appeals_text[r] &&
                              e.appeals_text[r].length > 0)) &&
                          (e.appeals_text || (e.appeals_text = {}),
                          e.appeals_text[r] != u &&
                            ((e.appeals_text[r] = u), (l = !0))),
                        i === Qa &&
                          (u ||
                            (e.special_event_name[r] &&
                              e.special_event_name[r].length > 0)) &&
                          (e.special_event_name || (e.special_event_name = {}),
                          e.special_event_name[r] != u &&
                            ((e.special_event_name[r] = u), (l = !0))),
                        i === Ka &&
                          (u ||
                            (e.special_event_description[r] &&
                              e.special_event_description[r].length > 0)) &&
                          (e.special_event_description ||
                            (e.special_event_description = {}),
                          e.special_event_description[r] != u &&
                            ((e.special_event_description[r] = u), (l = !0))),
                        null === (p = e.special_event_time_blocks) ||
                          void 0 === p ||
                          p.forEach((e, t) => {
                            var n, a;
                            i == $a + t &&
                              (u ||
                                (null ===
                                  (a =
                                    null === (n = e.block_reason) ||
                                    void 0 === n
                                      ? void 0
                                      : n[r]) || void 0 === a
                                  ? void 0
                                  : a.length) > 0) &&
                              (e.block_reason || (e.block_reason = {}),
                              e.block_reason[r] != u &&
                                ((e.block_reason[r] = u), (l = !0)));
                          }),
                        i === qa &&
                          (u ||
                            (e.artist_statement &&
                              e.artist_statement.description &&
                              e.artist_statement.description[r] &&
                              e.artist_statement.description[r].length > 0)) &&
                          (e.artist_statement
                            ? e.artist_statement.description ||
                              (e.artist_statement.description = {})
                            : (e.artist_statement = { description: {} }),
                          e.artist_statement.description[r] != u &&
                            ((e.artist_statement.description[r] = u),
                            (l = !0))),
                        i === Ya &&
                          (u ||
                            (e.build_store_page &&
                              e.build_store_page.description &&
                              e.build_store_page.description[r] &&
                              e.build_store_page.description[r].length > 0)) &&
                          (e.build_store_page
                            ? e.build_store_page.description ||
                              (e.build_store_page.description = {})
                            : (e.build_store_page = { description: {} }),
                          e.build_store_page.description[r] != u &&
                            ((e.build_store_page.description[r] = u),
                            (l = !0))),
                        i.startsWith(ti))
                      ) {
                        let t = !1;
                        if (
                          (e.dynamic_sections || (e.dynamic_sections = []),
                          e.dynamic_sections.forEach((e) => {
                            i === ni + e.unique_id &&
                              ((u ||
                                (e.name &&
                                  e.name[r] &&
                                  e.name[r].length > 0)) &&
                                (e.name || (e.name = {}),
                                e.name[r] != u && ((e.name[r] = u), (l = !0))),
                              (t = !0)),
                              i === ai + e.unique_id &&
                                ((u ||
                                  (e.description &&
                                    e.description[r] &&
                                    e.description[r].length > 0)) &&
                                  (e.description || (e.description = {}),
                                  e.description[r] != u &&
                                    ((e.description[r] = u), (l = !0))),
                                (t = !0)),
                              e.lists
                                ? e.lists.forEach((n) => {
                                    i == ii + e.unique_id + n.unique_id &&
                                      ((u ||
                                        (n.option_title &&
                                          n.option_title[r] &&
                                          n.option_title[r].length > 0)) &&
                                        (n.option_title ||
                                          (n.option_title = {}),
                                        n.option_title[r] != u &&
                                          ((n.option_title[r] = u), (l = !0))),
                                      (t = !0)),
                                      n.options
                                        ? n.options.forEach((a) => {
                                            i ==
                                              oi +
                                                e.unique_id +
                                                n.unique_id +
                                                a.unique_id &&
                                              ((u ||
                                                (a.text &&
                                                  a.text[r] &&
                                                  a.text[r].length > 0)) &&
                                                (a.text || (a.text = {}),
                                                a.text[r] != u &&
                                                  ((a.text[r] = u), (l = !0))),
                                              (t = !0)),
                                              i ==
                                                li +
                                                  e.unique_id +
                                                  n.unique_id +
                                                  a.unique_id &&
                                                ((u ||
                                                  (a.tooltip &&
                                                    a.tooltip[r] &&
                                                    a.tooltip[r].length > 0)) &&
                                                  (a.tooltip ||
                                                    (a.tooltip = {}),
                                                  a.tooltip[r] != u &&
                                                    ((a.tooltip[r] = u),
                                                    (l = !0))),
                                                (t = !0));
                                          })
                                        : (n.options = []);
                                  })
                                : (e.lists = []);
                          }),
                          !t && o)
                        ) {
                          const n = i.startsWith(ni),
                            a = i.startsWith(ai),
                            o = i.startsWith(oi),
                            l = i.startsWith(li);
                          if (n || a) {
                            let a = n
                                ? i.substr(ni.length)
                                : i.substr(ai.length),
                              o = R.CreateDefaultDynamicSection();
                            (o.lists = []),
                              (o.unique_id = a),
                              n
                                ? ((o.name = {}), (o.name[r] = u))
                                : ((o.description = {}),
                                  (o.description[r] = u)),
                              (t = !0),
                              e.dynamic_sections.push(o);
                          } else if (i.startsWith(ii)) {
                            let n = i.substr(ii.length),
                              a = n.indexOf(x),
                              o = n.substr(0, a),
                              l = n.substr(a),
                              s = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == o,
                              );
                            if (-1 != s) {
                              let n = {
                                unique_id: l,
                                options: [],
                                option_title: {},
                              };
                              (n.option_title[r] = u),
                                e.dynamic_sections[s].lists.push(n),
                                (t = !0);
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  o,
                              );
                          } else if (o || l) {
                            let n = o
                                ? i.substr(oi.length)
                                : i.substr(li.length),
                              a = n.indexOf(x),
                              l = n.substr(0, a),
                              s = n.substr(a),
                              c = s.indexOf(G),
                              d = s.substr(0, c),
                              m = s.substr(c),
                              p = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == l,
                              );
                            if (-1 != p) {
                              let n = e.dynamic_sections[p].lists.findIndex(
                                (e) => e.unique_id == d,
                              );
                              if (-1 != n) {
                                let a = { unique_id: m, text: {} };
                                o
                                  ? (a.text[r] = u)
                                  : ((a.tooltip = {}), (a.tooltip[r] = u)),
                                  e.dynamic_sections[p].lists[n].options.push(
                                    a,
                                  ),
                                  (t = !0);
                              } else
                                console.log(
                                  "Localization: Add missing: Could not find list under section " +
                                    l +
                                    ":" +
                                    d,
                                  m,
                                );
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  l,
                                d,
                                m,
                              );
                          }
                        }
                      }
                      i.startsWith(ri) &&
                        (e.emails || (e.emails = []),
                        e.emails.forEach((e) => {
                          i === si + e.unique_id &&
                            (u ||
                              (e.subject &&
                                e.subject[r] &&
                                e.subject[r].length > 0)) &&
                            (e.subject || (e.subject = {}),
                            e.subject[r] != u &&
                              ((e.subject[r] = u), (l = !0))),
                            (i.startsWith(ci + e.unique_id) ||
                              i.startsWith(di + e.unique_id)) &&
                              e.sections.forEach((t) => {
                                t.type == S.k_Custom &&
                                  (i === ci + e.unique_id + t.unique_id &&
                                    (u ||
                                      (t.title &&
                                        t.title[r] &&
                                        t.title[r].length > 0)) &&
                                    (t.title || (t.title = {}),
                                    t.title[r] != u &&
                                      ((t.title[r] = u), (l = !0))),
                                  i === di + e.unique_id + t.unique_id &&
                                    (u ||
                                      (t.description &&
                                        t.description[r] &&
                                        t.description[r].length > 0)) &&
                                    (t.description || (t.description = {}),
                                    t.description[r] != u &&
                                      ((t.description[r] = u), (l = !0))));
                              });
                        })),
                        l && -1 == a.findIndex((e) => e == n) && a.push(n);
                    });
                  });
                }),
                a
              );
            })(t.GetModel(), e, n);
            return a && t.SetDirty(!0), a;
          },
        });
      }
      const za = "event_title",
        Va = "event_description",
        Wa = "help_text",
        Za = "appeals_text",
        qa = "artist_statement_desc",
        Ya = "store_page_desc",
        Qa = "special_event_name",
        Ka = "special_event_desc",
        $a = "special_event_block_",
        Ja = "optin_reg_title",
        ei = "optin_reg_checkbox",
        ti = "dynamic_section_",
        ni = ti + "name_",
        ai = ti + "desc_",
        ii = ti + "list_name_",
        oi = ti + "option_",
        li = ti + "tooltip_",
        ri = "email_",
        si = ri + "subject_",
        ci = ri + "title_",
        di = ri + "desc_";
      function mi(e, t, n) {
        var a;
        let i = (0, d.j_)(n);
        const o = e.subject && e.subject[i] && e.subject[i].length > 0;
        (o || 0 == n) &&
          t.SetLocalization(si + e.unique_id, n, o ? e.subject[i] : ""),
          null === (a = e.sections) ||
            void 0 === a ||
            a.forEach((a) => {
              if (a.type == S.k_Custom) {
                const o = a.title && a.title[i] && a.title[i].length > 0;
                (o || 0 == n) &&
                  t.SetLocalization(
                    ci + e.unique_id + a.unique_id,
                    n,
                    o ? a.title[i] : "",
                  );
                const l =
                  a.description &&
                  a.description[i] &&
                  a.description[i].length > 0;
                (l || 0 == n) &&
                  t.SetLocalization(
                    di + e.unique_id + a.unique_id,
                    n,
                    l ? a.description[i] : "",
                  );
              }
            });
      }
      function pi(e, t, n) {
        var a, i, o, l, r;
        let s = (0, d.j_)(n);
        const c =
          e.event_title && e.event_title[s] && e.event_title[s].length > 0;
        (c || 0 == n) && t.SetLocalization(za, n, c ? e.event_title[s] : "");
        const m =
          e.description && e.description[s] && e.description[s].length > 0;
        (m || 0 == n) && t.SetLocalization(Va, n, m ? e.description[s] : "");
        const p =
          (null ===
            (i =
              null === (a = e.opt_in_registration_title) || void 0 === a
                ? void 0
                : a[s]) || void 0 === i
            ? void 0
            : i.length) > 0;
        (p || 0 == n) &&
          t.SetLocalization(Ja, n, p ? e.opt_in_registration_title[s] : "");
        const u =
          (null ===
            (l =
              null === (o = e.opt_in_registration_checkbox) || void 0 === o
                ? void 0
                : o[s]) || void 0 === l
            ? void 0
            : l.length) > 0;
        (u || 0 == n) &&
          t.SetLocalization(ei, n, u ? e.opt_in_registration_checkbox[s] : "");
        const _ = e.help_text && e.help_text[s] && e.help_text[s].length > 0;
        (_ || 0 == n) && t.SetLocalization(Wa, n, _ ? e.help_text[s] : "");
        ((e.appeals_text &&
          e.appeals_text[s] &&
          e.appeals_text[s].length > 0) ||
          0 == n) &&
          t.SetLocalization(Za, n, _ ? e.appeals_text[s] : "");
        const h =
          e.special_event_name &&
          e.special_event_name[s] &&
          e.special_event_name[s].length > 0;
        (h || 0 == n) &&
          t.SetLocalization(Qa, n, h ? e.special_event_name[s] : "");
        const g =
          e.special_event_description &&
          e.special_event_description[s] &&
          e.special_event_description[s].length > 0;
        (g || 0 == n) &&
          t.SetLocalization(Ka, n, g ? e.special_event_description[s] : ""),
          null === (r = e.special_event_time_blocks) ||
            void 0 === r ||
            r.forEach((e, a) => {
              var i, o;
              const l =
                (null ===
                  (o =
                    null === (i = e.block_reason) || void 0 === i
                      ? void 0
                      : i[s]) || void 0 === o
                  ? void 0
                  : o.length) > 0;
              (l || 0 == n) &&
                t.SetLocalization($a + a, n, l ? e.block_reason[s] : "");
            });
        const E =
          e.artist_statement &&
          e.artist_statement.description &&
          e.artist_statement.description[s] &&
          e.artist_statement.description[s].length > 0;
        (E || 0 == n) &&
          t.SetLocalization(qa, n, E ? e.artist_statement.description[s] : "");
        const v =
          e.build_store_page &&
          e.build_store_page.description &&
          e.build_store_page.description[s] &&
          e.build_store_page.description[s].length > 0;
        (v || 0 == n) &&
          t.SetLocalization(Ya, n, v ? e.build_store_page.description[s] : ""),
          e.dynamic_sections &&
            e.dynamic_sections.forEach((e) => {
              const a = e.name && e.name[s] && e.name[s].length > 0;
              (a || 0 == n) &&
                t.SetLocalization(ni + e.unique_id, n, a ? e.name[s] : "");
              const i =
                e.description &&
                e.description[s] &&
                e.description[s].length > 0;
              (i || 0 == n) &&
                t.SetLocalization(
                  ai + e.unique_id,
                  n,
                  i ? e.description[s] : "",
                ),
                e.lists &&
                  e.lists.forEach((a) => {
                    const i =
                      a.option_title &&
                      a.option_title[s] &&
                      a.option_title[s].length > 0;
                    (i || 0 == n) &&
                      t.SetLocalization(
                        ii + e.unique_id + a.unique_id,
                        n,
                        i ? a.option_title[s] : "",
                      ),
                      a.options &&
                        a.options.forEach((i) => {
                          const o = i.text && i.text[s] && i.text[s].length > 0;
                          o &&
                            t.SetLocalization(
                              oi + e.unique_id + a.unique_id + i.unique_id,
                              n,
                              o ? i.text[s] : "",
                            );
                          const l =
                            i.tooltip &&
                            i.tooltip[s] &&
                            i.tooltip[s].length > 0;
                          o &&
                            t.SetLocalization(
                              li + e.unique_id + a.unique_id + i.unique_id,
                              n,
                              l ? i.tooltip[s] : "",
                            );
                        });
                  });
            });
      }
      function ui(e) {
        const t = (function (e) {
          const t = (0, te.useQuery)(
            ["getspecialeventinfo", e],
            () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                return yield (function (e) {
                  var t, n;
                  return (0, o.mG)(this, void 0, void 0, function* () {
                    const a =
                        w.De.PARTNER_BASE_URL + "optin/ajaxgetspecialeventinfo",
                      i = { sessionid: w.De.SESSIONID, opt_in_name: e },
                      o = yield r().get(a, { params: i, withCredentials: !0 });
                    return 200 == (null == o ? void 0 : o.status) &&
                      1 ==
                        (null === (t = null == o ? void 0 : o.data) ||
                        void 0 === t
                          ? void 0
                          : t.success) &&
                      (null === (n = null == o ? void 0 : o.data) ||
                      void 0 === n
                        ? void 0
                        : n.results)
                      ? o.data.results
                      : (console.error(
                          "Failed to fetch FetchSpecialEventInfo: ",
                          (0, A.l)(o),
                        ),
                        null);
                  });
                })(e);
              }),
            { staleTime: 60 * sn._H.PerMinute * 1e3 },
          );
          return t.isLoading ? null : t.data;
        })(R.Get().GetOptInPageID());
        return t
          ? I.createElement(_i, { rgEventInfo: t })
          : I.createElement(de.V, { string: (0, ce.Xx)("#Loading") });
      }
      function _i(e) {
        const { rgEventInfo: t } = e,
          n = R.Get(),
          [a, i, o, l, r] = (0, I.useMemo)(
            () => [
              t.length,
              t.filter((e) => e.published).length,
              t.filter((e) => e.hidden && !e.published).length,
              t.filter((e) => !Boolean(e.appid)),
              t.filter(
                (e) =>
                  e.start_time < n.GetSpecialEventStartTime() ||
                  n.BIsInSpecialEventBlockedTime(e.start_time),
              ),
            ],
            [n, t],
          );
        return I.createElement(
          "div",
          null,
          I.createElement(
            "p",
            null,
            "A special event has been defined for this optin.  All events of this type include the opt-in page name (",
            n.GetOptInPageID(),
            ") as a annoucement tags with the event.",
            Boolean(n.GetPublicEventID())
              ? I.createElement(
                  "span",
                  null,
                  " To see all of the published and visible events you can visit the associated",
                  I.createElement(
                    "a",
                    {
                      href:
                        w.De.STORE_BASE_URL +
                        "news/sale/" +
                        n.GetPublicEventID(),
                    },
                    "sale pages new hub",
                  ),
                  ".",
                )
              : I.createElement(
                  "span",
                  null,
                  "Public Event hasn't been configured. We cannot see published events in the news until that is completed",
                ),
          ),
          I.createElement("div", null, "Total Events with Tags: ", a),
          I.createElement("div", null, "Published Events: ", i),
          I.createElement("div", null, "Draft Events: ", o),
          I.createElement("br", null),
          I.createElement("br", null),
          I.createElement("div", null, "Valve Events: ", l.length),
          l.map((e) => I.createElement(hi, { info: e, key: e.clan_event_gid })),
          I.createElement("br", null),
          I.createElement("br", null),
          I.createElement(
            "div",
            null,
            "Events In Blocked Out Time (needs to be moved): ",
            l.length,
          ),
          r.map((e) => I.createElement(hi, { info: e, key: e.clan_event_gid })),
        );
      }
      function hi(e) {
        const { info: t } = e;
        return t.appid
          ? I.createElement(gi, { info: t })
          : I.createElement(Ei, { info: t });
      }
      function gi(e) {
        const { info: t } = e,
          [n] = (0, ht.vs)(t.appid, {}),
          a = t.appid;
        return I.createElement(
          "div",
          null,
          "Game: ",
          (null == n ? void 0 : n.GetName()) || "",
          " (",
          a,
          "), event state time - ",
          I.createElement(X.uv, { startDateAndTime: t.start_time }),
          I.createElement(
            "a",
            {
              href:
                w.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
          t.hidden ? " draft mode" : "",
        );
      }
      function Ei(e) {
        const { info: t } = e;
        return I.createElement(
          "div",
          null,
          "ClanID: ",
          t.clan_accountid,
          " / ",
          t.clan_event_gid,
          I.createElement(
            "a",
            {
              href:
                w.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
        );
      }
      var vi = n(35507),
        Si = n(27070);
      function fi(e) {
        const { editModel: t } = e,
          n = (0, ze.SZ)(() => t.GetPointShopPriorityApps()),
          a = (0, ze.SZ)(() => t.GetPointShopIncludedApps());
        return I.createElement(
          "div",
          { className: Ze().AdminPageCtn },
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement(
              "p",
              null,
              "Every opt-in Event will have its own point shops landing page by default. Its artwork can be customized in the cluster (see the publish path) and the items that are featured for registered games can be modified here.",
            ),
            I.createElement(
              "a",
              {
                href: `${
                  $e.De.STORE_BASE_URL
                }points/shop/event/${t.GetOptInPageID()}`,
              },
              "Point Shop Landing Page",
            ),
            I.createElement(
              "p",
              null,
              "The art assets for the point shop background are part of the cluster page's artwork.",
              I.createElement(
                "a",
                {
                  href: `${
                    $e.De.PARTNER_BASE_URL
                  }admin/store/page/${t.GetFullName()}`,
                },
                "Cluster Editor",
              ),
            ),
          ),
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement("h3", null, "Priority Apps"),
            I.createElement(
              "div",
              null,
              "These apps will have their items which are ALSO marked individually with the OptIn ID appear expliclty at the top of the landing page. This ensures our curated or personally created items get top billing.",
            ),
            I.createElement("br", null),
            I.createElement(yi, { editModel: t }),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(Ii, {
                      rgAppIDs: n,
                      fnSetAppIDs: t.SetPointShopPriorityApps,
                    }),
                    (0, Z.RA)(e),
                  ),
              },
              "Set Priority Apps",
            ),
          ),
          I.createElement(
            "div",
            { className: Le().Section },
            I.createElement("h3", null, "Included Apps"),
            I.createElement(
              "div",
              null,
              "These are selected list of top or important apps whose animated assets we want to appear in the both the explicit item type lists and the list of apps carousels.",
            ),
            I.createElement("br", null),
            I.createElement(Di, { editModel: t }),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(Ai, { editModel: t }),
                    (0, Z.RA)(e),
                  ),
              },
              "Automatically Build App List",
            ),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(Ii, {
                      rgAppIDs: a,
                      fnSetAppIDs: t.SetPointShopIncludedApps,
                    }),
                    (0, Z.RA)(e),
                  ),
              },
              "Set Included Apps",
            ),
          ),
        );
      }
      function yi(e) {
        const { editModel: t } = e,
          n = (0, ze.SZ)(() => t.GetPointShopPriorityApps());
        return n
          ? I.createElement(
              "div",
              null,
              n.map((e) => I.createElement(bi, { key: e, appid: e })),
            )
          : I.createElement("div", null, "No Priority Apps");
      }
      function Di(e) {
        const { editModel: t } = e,
          n = (0, ze.SZ)(() => t.GetPointShopIncludedApps());
        return n
          ? I.createElement(
              "div",
              null,
              n.map((e) => I.createElement(bi, { key: e, appid: e })),
            )
          : I.createElement("div", null, "No Included Apps");
      }
      function bi(e) {
        const { appid: t } = e,
          [n, a] = (0, ht.vs)(t, {});
        return 2 == a
          ? I.createElement("div", null, "Appid ", t, " Not Found")
          : 1 == a
          ? I.createElement("div", null, "Appid ", t, " Loading")
          : I.createElement(
              "div",
              null,
              n.GetName(),
              " ( ",
              t,
              " )",
              I.createElement(
                "a",
                {
                  href: `${
                    $e.De.STORE_BASE_URL
                  }points/shop/app/${n.GetAppID()}`,
                  target: "_blank",
                },
                "Point Shop",
              ),
            );
      }
      function Ii(e) {
        const { closeModal: t, rgAppIDs: n, fnSetAppIDs: a } = e,
          [i, o] = I.useState((null == n ? void 0 : n.join("\n")) || "");
        return I.createElement(
          _e.uH,
          {
            strTitle: "Set App List",
            strDescription: "Provide the complete list of apps, one per line.",
            closeModal: t,
            onOK: () => {
              const e = i
                .replace(/\n/g, "|")
                .split("|")
                .filter(Boolean)
                .map((e) => Number.parseInt(e.trim()))
                .filter((e) => !isNaN(e));
              a(Array.from(new Set(e)));
            },
          },
          I.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => o(e.currentTarget.value),
            value: i,
            autoFocus: !0,
          }),
        );
      }
      function Ci(e, t) {
        return (0, o.mG)(this, void 0, void 0, function* () {
          let n = null;
          try {
            const a = ne.gA.Init(vi.eQ);
            e.forEach((e) => a.Body().add_appids(e)),
              a.Body().set_language("english"),
              a.Body().set_count(1e3),
              a.Body().add_filters(1);
            const i = yield vi.pQ.QueryRewardItems(t, a);
            if (i.BSuccess() && 1 == i.GetEResult()) {
              const t = i
                  .Body()
                  .definitions()
                  .map((e) => e.appid()),
                n = new Set(t);
              return e.filter((e) => n.has(e));
            }
            n = (0, A.l)(i);
          } catch (e) {
            n = (0, A.l)(e);
          }
          return (
            console.warn(
              "BYldFilterAppIDsWithAnimatedPointShopItems service request failed with error",
              n,
              e,
            ),
            null
          );
        });
      }
      function Ai(e) {
        const { closeModal: t, editModel: n } = e,
          [a, i] = (0, I.useState)(50),
          [l, r] = (0, I.useState)(!1),
          [s, c] = (0, I.useState)(!1),
          d = (0, ze.SZ)(() => n.GetPointShopIncludedApps()),
          m = B(),
          p = (0, Si.bY)(),
          u = (0, I.useMemo)(() => {
            if (m) {
              if (m.json_featured && s)
                return JSON.parse(m.json_featured).map((e) => e.appid);
              if (m.json_opted_in && !s)
                return JSON.parse(m.json_opted_in).map((e) => e.appid);
            }
            return [];
          }, [m, s]),
          {
            bLoading: _,
            fnGetLongTermSaleRankForApp: h,
            fnbHasSomeLongTermSaleRankForApp: g,
          } = (0, Zt.l)(u),
          E = (0, I.useMemo)(() => {
            if (!_ && (null == u ? void 0 : u.length) > 0) {
              return u
                .filter(g)
                .map((e) => ({ appid: e, nRank: h(e) }))
                .sort((e, t) => e.nRank - t.nRank)
                .map((e) => e.appid);
            }
            return [];
          }, [_, h, g, u]),
          v = (0, lt.tx)();
        if (v.bLoading)
          return I.createElement(lt.NT, {
            state: v,
            strDialogTitle: "Build App List",
            closeModal: t,
          });
        const S = !m || !m.json_opted_in || !m.json_featured;
        return I.createElement(
          _e.uH,
          {
            strTitle: "Build App List",
            strDescription: `Will scan the opted in apps to find the top ${a} apps by long term sales rank with some animated point shop asset. This depends on the stats dashboard via 'manage', so should be run after a refresh completes.`,
            onCancel: t,
            onOK: () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                v.fnSetLoading(!0);
                let e = 0;
                let t = new Array();
                const i = new Set(d),
                  o = l ? E : E.filter((e) => !i.has(e));
                do {
                  v.fnSetThrobber(
                    `Processing Apps from ${e + 1} to ${e + 25} looking for ${
                      a - t.length
                    } more...`,
                  );
                  const n = o.slice(e, e + 25),
                    i = yield Ci(n, p);
                  if (null == i)
                    return (
                      v.fnSetStrError(
                        "Fail processing the appids, check console",
                      ),
                      void v.fnSetError(!0)
                    );
                  for (; t.length < a && i.length > 0; ) {
                    const e = i.shift();
                    t.push(e);
                  }
                  e += 25;
                } while (t.length < a && e < o.length);
                const r = t.length,
                  s = l ? new Array() : Array.from(i);
                for (; t.length > 0; ) s.push(t.shift());
                n.SetPointShopIncludedApps(s),
                  v.fnSetSuccess(!0),
                  v.fnSetStrSuccess("Completing processing, added " + r);
              }),
            bOKDisabled: S || 0 == (null == m ? void 0 : m.count_opted_in),
          },
          I.createElement(F.II, {
            type: "number",
            value: a,
            onChange: (e) => i(Number.parseInt(e.currentTarget.value)),
            label: "Top Apps with Animated Assets to find",
            tooltip: "We will scan opted in apps to find these top apps",
          }),
          I.createElement(F.ji, {
            checked: l,
            onChange: r,
            label: `Overwrite existing list of ${
              (null == d ? void 0 : d.length) || 0
            } Apps?`,
          }),
          I.createElement(F.ji, {
            checked: s,
            onChange: c,
            label: "Use Featured Apps instead of opted in Apps?",
          }),
          Boolean(0 == (null == m ? void 0 : m.count_opted_in)) &&
            I.createElement("div", null, "Nothing to do, no apps opted in"),
          Boolean(S || _) &&
            I.createElement(de.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            }),
        );
      }
      const Ti = (0, De.Pi)((e) => {
          const t = R.Get(),
            n = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`,
              ),
            a =
              w.De.PARTNER_BASE_URL +
              "optin/salepreview/" +
              t.GetName() +
              "/20",
            i = (t.GetEmailDefinitions() || [])
              .filter((e) => e.BIsDraftEmail())
              .filter((e) => {
                const t = (function (e) {
                  const t = ua(e),
                    n = Object.values(t).length,
                    a = [];
                  let i = 0;
                  return (
                    t.bNeedDemoTrailerRegLink &&
                      (e.GetDemoTrailerRegLink()
                        ? (i += 1)
                        : a.push("Missing Demo Trailer Reg Link")),
                    t.bNeedAssetKit &&
                      (e.GetAssetKitURL()
                        ? (i += 1)
                        : a.push("Missing Asset Kit")),
                    t.bNeedDemoPressPreviewDate &&
                      (e.GetDemoPressPreviewDate()
                        ? (i += 1)
                        : a.push("Missing Demo Preview Date")),
                    t.bNeedMaxItems &&
                      (e.GetScheduleMaxItems()
                        ? (i += 1)
                        : a.push("Missing Max Scheduled Events")),
                    t.bNeedSalePreview &&
                      (e.GetSalePreviewPage()
                        ? (i += 1)
                        : a.push("Missing Sale Preview Page")),
                    t.bNeedNextEditionDate &&
                      (e.GetNextEditionDate()
                        ? (i += 1)
                        : a.push("Missing Next Edition Date")),
                    t.bNeedQASessionDate &&
                      (e.GetQASessionDate()
                        ? (i += 1)
                        : a.push("Missing QA Session Date")),
                    t.bNeedQASessionLink &&
                      (e.GetQASessionLink()
                        ? (i += 1)
                        : a.push("Missing QA Session Link")),
                    t.bNeedRecordedQASessionLink &&
                      (e.GetRecordedQASessionLink()
                        ? (i += 1)
                        : a.push("Missing QA Recorded Session Link")),
                    t.bNeedCancelDate &&
                      (e.GetCancelDate()
                        ? (i += 1)
                        : a.push("Missing Cancel Date")),
                    t.bNeedPreviewDate &&
                      (e.GetPreviewDate()
                        ? (i += 1)
                        : a.push("Missing Preview Date")),
                    t.bNeedPermissionDate &&
                      (e.GetPermissionDate()
                        ? (i += 1)
                        : a.push("Missing Permissions Date")),
                    t.bNeedTrailerLaunchDate &&
                      (e.GetTrailerLaunchDate()
                        ? (i += 1)
                        : a.push("Missing Trailer Launch Date")),
                    t.bNeedLivestreamLaunchDate &&
                      (e.GetLivestreamLaunchDate()
                        ? (i += 1)
                        : a.push("Missing Livestream Launch Date")),
                    t.bNeedWikiDocumentation &&
                      (e.GetWikiDocURL()
                        ? (i += 1)
                        : a.push("Missing Wiki Doc Link")),
                    t.bNeedSurveyLink &&
                      (e.GetSurveyLinkURL()
                        ? (i += 1)
                        : a.push("Missing Survey Link")),
                    t.bNeedPressPreviewVisibleDate &&
                      (e.GetPressPreviewVisibleDate()
                        ? (i += 1)
                        : a.push("Missing Press Preview Visible Date")),
                    t.bNeedTrailerDemoDeadlineDate &&
                      (e.GetTrailerDemoDeadlineDate()
                        ? (i += 1)
                        : a.push("Missing Trailer Demo Deadline Date")),
                    t.bNeedGenericActionLink &&
                      (e.GetGenericActionLink()
                        ? (i += 1)
                        : a.push("Missing Generic Action Link")),
                    { cNeeded: n, cCompleted: i, vecMissing: a }
                  );
                })(e);
                return t.cNeeded != t.cCompleted;
              }),
            o = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible(),
            l = [
              {
                name: "Editor",
                key: "editor",
                status: o
                  ? ""
                  : I.createElement(
                      we.HP,
                      {
                        toolTipContent:
                          "Must choose release or unrelease games in the requirement section",
                      },
                      "'Incomplete (0/1)'",
                    ),
                statusType: o ? "success" : "danger",
                contents: I.createElement(
                  U.SV,
                  null,
                  I.createElement(be.ko, { fnLangHasData: t.BHasLanguageData }),
                  I.createElement(Pt, null),
                ),
                onClick: n,
              },
              {
                name: "Preview",
                key: "preview",
                status: "",
                statusType: "success",
                contents: I.createElement("iframe", {
                  width: "100%",
                  height: "1200px",
                  style: { border: "none", paddingBottom: "20px" },
                  src: a,
                }),
                onClick: n,
              },
              {
                name: "Email",
                key: "email",
                status: i.length ? "Draft Incomplete" : "",
                statusType: i.length ? "danger" : "success",
                contents: I.createElement(
                  U.SV,
                  null,
                  I.createElement(Ta, null),
                ),
                onClick: n,
              },
              {
                name: "Manage",
                key: "manage",
                status: "",
                statusType: "success",
                contents: I.createElement(
                  U.SV,
                  null,
                  I.createElement(gn, { editModel: t }),
                  I.createElement(Bn, null),
                ),
                onClick: n,
              },
              {
                name: "Point Shop",
                key: "pointshop",
                status: "",
                statusType: "success",
                contents: I.createElement(
                  U.SV,
                  null,
                  I.createElement(fi, { editModel: t }),
                ),
                onClick: n,
              },
            ];
          return (
            t.BHasSpecialEventType() &&
              l.push({
                name: "Special Events",
                key: "events",
                status: "",
                statusType: "success",
                contents: I.createElement(
                  U.SV,
                  null,
                  I.createElement(ui, null),
                ),
                onClick: n,
              }),
            l.push({
              name: "Debug",
              key: "debug",
              status: "",
              statusType: "success",
              contents: I.createElement(U.SV, null, I.createElement(Xe, null)),
              onClick: n,
            }),
            I.createElement(
              U.SV,
              null,
              I.createElement(
                "div",
                null,
                I.createElement(wi, null),
                I.createElement(
                  "div",
                  { className: Le().EditorInputPaneContents },
                  k.Get().BHasUnpublishedChagnes(R.Get().GetFullName()) &&
                    I.createElement(
                      "div",
                      {
                        className: (0, W.Z)(
                          ge.WarningStylesBackground,
                          ge.Stuck,
                        ),
                      },
                      "This Opt-In has unpublished changes",
                    ),
                  I.createElement(J.n, { tabs: l }),
                  I.createElement("div", { className: H().ClearThings }),
                ),
                I.createElement(ki, null),
              ),
            )
          );
        }),
        wi = (0, De.Pi)((e) =>
          I.createElement(
            "div",
            { className: (0, W.Z)(Le().TopBarContainer) },
            I.createElement(
              F.zx,
              { className: Le().BasicButtonSize },
              I.createElement(
                P.rU,
                { to: yl.OptinAdminDashboard() },
                "Dashboard",
              ),
            ),
            I.createElement(ja, null),
            I.createElement(Xa, null),
            I.createElement(be.Pi, null),
          ),
        ),
        ki = (0, De.Pi)((e) => {
          const t = R.Get();
          return I.createElement(
            "div",
            {
              className: (0, W.Z)(
                Le().FlexRowWrapFlexStartContainer,
                Le().BottomBar,
              ),
            },
            I.createElement(
              F.KM,
              {
                className: Le().BasicButtonSize,
                onClick: (e) =>
                  (0, z.AM)(I.createElement(Ni, null), (0, Z.RA)(e)),
              },
              t.BIsDirty() ? "Save" : "Saved",
            ),
            I.createElement(
              F.zx,
              { className: Le().BasicButtonSize, onClick: Ue },
              "Re-order Dynamic Sections",
            ),
          );
        }),
        Ni = (e) => {
          const { closeModal: t } = e,
            [n, a] = I.useState(!0),
            [i, o] = I.useState(new Array());
          return (
            (0, I.useEffect)(() => {
              const e = R.Get(),
                t = r().CancelToken.source();
              return (
                e
                  .Save(t.token)
                  .then((e) => {
                    if (e) {
                      const t = new Array();
                      t.push(e), o(t);
                    }
                  })
                  .finally(() => {
                    e.RefreshActiveStats(), a(!1);
                  }),
                () => t.cancel("OptInEditorSaveDialog unmounting")
              );
            }, []),
            I.createElement(
              _e.RG,
              { bAllowFullSize: !0, onCancel: t, closeModal: t },
              I.createElement(F.h4, null, "Saving Opt-In Data"),
              I.createElement(
                F.uT,
                null,
                I.createElement(
                  "div",
                  null,
                  "We are saving the Opt-In Data, please be patient.\t",
                ),
                Boolean(i.length > 0) &&
                  I.createElement(
                    "div",
                    { className: ge.ErrorStylesBackground },
                    i.map((e) =>
                      I.createElement("span", { key: "" + e.length }, e),
                    ),
                  ),
                n &&
                  I.createElement(de.V, {
                    size: "medium",
                    position: "center",
                    string: (0, ce.Xx)("#Saving"),
                  }),
                Boolean(!n && 0 == i.length) &&
                  I.createElement("div", null, "Save Successful."),
              ),
              I.createElement(
                F.$_,
                null,
                I.createElement(
                  F.KM,
                  { onClick: t, disabled: n },
                  (0, ce.Xx)("#Button_Close"),
                ),
              ),
            )
          );
        };
      function Li(e) {
        const { appid: t } = e,
          [n, a] = I.useState(!0);
        I.useEffect(() => {
          const e = k
            .Get()
            .GetActiveOptIn()
            .map((e) => pt.qh.Get().LoadOptInRegistration(e.pageid, t));
          Promise.all(e).finally(() => a(!1));
        }, [t]);
        const [i] = (0, ht.vs)(t, {
          include_assets: !0,
          include_basic_info: !0,
        });
        return I.createElement(
          U.SV,
          null,
          I.createElement(
            "div",
            { className: Ze().AdminPageCtn },
            I.createElement(
              "div",
              { className: Ze().PageTitle },
              "Opt-In Game Support Page: ",
              i ? i.GetName() : "Unknown",
              " (",
              t,
              ")",
              I.createElement(
                "span",
                { className: Ze().ValveOnlyTitle },
                "Valve Only Page",
              ),
            ),
            I.createElement("hr", null),
            I.createElement(
              "p",
              null,
              "Valve-only - go to the event registration page for this game within any upcoming or active events.",
            ),
            I.createElement(
              "p",
              null,
              "Allows you to invite the game even if otherwise not eligible.",
            ),
            I.createElement(
              "div",
              null,
              I.createElement(
                "ol",
                null,
                k
                  .Get()
                  .GetActiveOptIn()
                  .map((e) => {
                    if (!e.sale_optin_enabled) return null;
                    const n = pt.qh.Get().GetRegistration(t, e.pageid);
                    return I.createElement(
                      "li",
                      { key: e.pageid },
                      I.createElement(
                        "a",
                        {
                          href:
                            w.De.PARTNER_BASE_URL +
                            "optin/sale/" +
                            e.pageid +
                            "/" +
                            t,
                        },
                        e.event_title.english,
                        " ",
                        (null == n ? void 0 : n.opt_in) ? " - OptIn" : "",
                      ),
                    );
                  }),
              ),
            ),
            n &&
              I.createElement(de.V, {
                size: "medium",
                position: "center",
                string: (0, ce.Xx)("#Loading"),
              }),
          ),
        );
      }
      class xi {
        static Get() {
          return (
            xi.s_OptInRegs ||
              ((xi.s_OptInRegs = new xi()),
              (window.COptInRegstationEditStore = xi.s_OptInRegs)),
            xi.s_OptInRegs
          );
        }
        constructor() {
          (this.m_registration = void 0), (this.m_bDirty = !1), (0, c.rC)(this);
        }
        BHasAdditionalFeaturing() {
          return this.m_registration.additional_featuring;
        }
        BHasCheckedTrailerUsage() {
          return this.m_registration.jsondata.trailer_permission;
        }
        SetCheckedTrailerUsage(e) {
          (this.m_registration.jsondata.trailer_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_trailer =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  w.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_trailer = void 0),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedDemoUsage() {
          return this.m_registration.jsondata.demo_permission;
        }
        SetCheckedDemorUsage(e) {
          (this.m_registration.jsondata.demo_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_demo = Math.floor(
                  new Date().getTime() / 1e3,
                )),
                (this.m_registration.jsondata.accountid_granting_demo =
                  w.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_demo = void 0),
                (this.m_registration.jsondata.accountid_granting_demo =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedNoPlannedDiscounts() {
          return this.m_registration.no_planned_discount;
        }
        SetCheckedNoPlannedDiscounts(e) {
          this.m_registration.no_planned_discount != e &&
            ((this.m_registration.no_planned_discount = e), this.SetDirty(!0));
        }
        BHasGameProfileIntent() {
          return this.m_registration.jsondata.game_profile_intent;
        }
        SetGameProfileIntent(e) {
          (this.m_registration.jsondata.game_profile_intent = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_profile =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_profile =
                  w.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_profile = void 0),
                (this.m_registration.jsondata.accountid_granting_profile =
                  void 0)),
            this.SetDirty(!0);
        }
        GetModel() {
          return this.m_registration;
        }
        GetFirstSelectedItem(e, t) {
          let n = this.GetSelectedItems(e, t);
          return n && n.length > 0 && null != n[0] ? n[0] : null;
        }
        GetSelectedItems(e, t) {
          if (
            this.m_registration &&
            this.m_registration.jsondata &&
            this.m_registration.jsondata.dynamic_selection
          ) {
            let n = this.m_registration.jsondata.dynamic_selection.findIndex(
              (t) => t.section_id == e,
            );
            if (
              -1 !== n &&
              this.m_registration.jsondata.dynamic_selection[n]
                .list_selection &&
              this.m_registration.jsondata.dynamic_selection[n].list_selection
                .findIndex
            ) {
              let e = this.m_registration.jsondata.dynamic_selection[
                n
              ].list_selection.findIndex((e) => e.list_id == t);
              if (-1 !== e) {
                let t =
                  this.m_registration.jsondata.dynamic_selection[n]
                    .list_selection[e].selected_item_id;
                if (t && t.length > 0 && null != t[0]) return t;
              }
            }
          } else
            console.log(
              "COptInRegstationEditStore: failed to find selected values for:",
              e,
              t,
            );
          return [];
        }
        Reset(e) {
          (this.m_registration = JSON.parse(JSON.stringify(e))),
            (this.m_registration.jsondata &&
              "" !== this.m_registration.jsondata) ||
              (this.m_registration.jsondata = {}),
            "string" == typeof this.m_registration.jsondata &&
              (this.m_registration.jsondata = JSON.parse(
                this.m_registration.jsondata,
              )),
            (this.m_bDirty = !1);
        }
        SetDirty(e) {
          this.m_bDirty != e && (this.m_bDirty = e);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
      }
      (0, o.gn)([c.LO], xi.prototype, "m_registration", void 0),
        (0, o.gn)([c.LO], xi.prototype, "m_bDirty", void 0),
        (0, o.gn)([c.aD.bound], xi.prototype, "SetCheckedTrailerUsage", null),
        (0, o.gn)([c.aD.bound], xi.prototype, "SetCheckedDemorUsage", null),
        (0, o.gn)(
          [c.aD.bound],
          xi.prototype,
          "SetCheckedNoPlannedDiscounts",
          null,
        ),
        (0, o.gn)([c.aD.bound], xi.prototype, "SetGameProfileIntent", null);
      var Gi = n(40619),
        Ri = n(36041),
        Oi = n(7993);
      const Bi = (0, De.Pi)((e) =>
          e.sections && 0 != e.sections.length
            ? I.createElement(
                "div",
                null,
                I.createElement(
                  U.SV,
                  null,
                  e.sections.map((e, t) =>
                    !e.valve_only || w.L7.is_support
                      ? I.createElement(Mi, {
                          key: e.unique_id,
                          section: e,
                          sectionIndex: t,
                        })
                      : null,
                  ),
                ),
              )
            : null,
        ),
        Mi = (0, De.Pi)((e) => {
          const { section: t, sectionIndex: n } = e,
            a = (0, d.jM)(w.De.LANGUAGE),
            i = (0, s.Xj)(
              t.name,
              a,
              (0, ce.Xx)("#OptIn_Registration_Title", n),
            ),
            o = (0, s.Xj)(t.description, a, ""),
            l = t.valve_only;
          return I.createElement(
            "div",
            {
              id: e.section.unique_id,
              className: (0, W.Z)({
                [Oi.DynamicSection]: !0,
                [H().ValveOnlyBackground]: l,
              }),
            },
            I.createElement("h3", null, l && "(VO) ", i),
            I.createElement("div", null, I.createElement(Gi.d, { text: o })),
            I.createElement(Pi, { section: t, sectionIndex: n }),
          );
        }),
        Pi = (0, De.Pi)((e) => {
          const { section: t, sectionIndex: n } = e;
          if ("text_input" === t.input_style)
            return I.createElement(
              Fi,
              Object.assign({}, e, { list: t.lists[0], listIndex: 0 }),
            );
          {
            const n = Boolean(
              "radio" == t.input_style || "checkbox" == t.input_style,
            );
            return I.createElement(
              "div",
              { className: n ? Oi.ListContainer : void 0 },
              t.lists.map((t, a) =>
                n
                  ? I.createElement(
                      Ui,
                      Object.assign({ key: t.unique_id }, e, {
                        list: t,
                        listIndex: a,
                      }),
                    )
                  : I.createElement(
                      ji,
                      Object.assign({ key: t.unique_id }, e, {
                        list: t,
                        listIndex: a,
                      }),
                    ),
              ),
            );
          }
        }),
        Fi = (0, De.Pi)((e) => {
          const { section: t, list: n, listIndex: a } = e,
            i = xi.Get().GetSelectedItems(t.unique_id, n.unique_id),
            [o, l] = (0, I.useState)(
              (null == i ? void 0 : i.length) > 0 ? i[0] : "",
            );
          return (
            (0, p.X)(0 == a, "expected list index to be zero"),
            I.createElement(
              "div",
              null,
              I.createElement("textarea", {
                className: Oi.TextArea,
                value: o,
                onChange: (e) => l(e.currentTarget.value || ""),
              }),
              I.createElement(
                Hi,
                Object.assign({}, e, {
                  list: n,
                  listIndex: a,
                  item_unique_ids: [o],
                }),
              ),
            )
          );
        }),
        Ui = (0, De.Pi)((e) => {
          const { section: t, list: n } = e,
            [a, i] = (0, I.useState)(
              xi.Get().GetSelectedItems(t.unique_id, n.unique_id),
            ),
            o = (0, d.jM)(w.De.LANGUAGE),
            l = (0, s.Xj)(n.option_title, o),
            r = new Array(),
            c = Ri.Lh(t.columns, 1, 3);
          for (let e = 0; e < c; ++e)
            r.push(
              I.createElement(
                "div",
                { key: "column" + e, className: Oi.Column },
                n.options
                  .filter((t, n) => n % c == e)
                  .map((e) => {
                    const n = (0, s.Xj)(e.text, o),
                      l = (0, s.Xj)(e.tooltip, o, void 0);
                    return "radio" == t.input_style
                      ? I.createElement(
                          F.EU,
                          { key: e.unique_id, value: e.unique_id },
                          I.createElement(
                            we.HP,
                            { toolTipContent: l, bDisabled: !l },
                            n,
                            " ",
                            Boolean(l) && "(?)",
                          ),
                        )
                      : I.createElement(F.ji, {
                          key: e.unique_id,
                          label: n,
                          tooltip: l,
                          checked: -1 !== a.findIndex((t) => t == e.unique_id),
                          onChange: (t) => {
                            let n = a.findIndex((t) => t == e.unique_id);
                            if (t && -1 == n) {
                              let t = JSON.parse(JSON.stringify(a));
                              t.push(e.unique_id), i(t);
                            } else if (!t && -1 != n) {
                              let e = JSON.parse(JSON.stringify(a));
                              e.splice(n, 1), i(e);
                            }
                          },
                        });
                  }),
              ),
            );
          return I.createElement(
            "div",
            null,
            Boolean(l) &&
              I.createElement("div", { className: Oi.ListTitle }, l),
            I.createElement(
              F.SY,
              { value: a.length > 0 ? a[0] : null, onChange: (e) => i([e]) },
              r,
            ),
            I.createElement(Hi, Object.assign({}, e, { item_unique_ids: a })),
          );
        }),
        ji = (0, De.Pi)((e) => {
          const { section: t, list: n } = e,
            [a, i] = (0, I.useState)(
              xi.Get().GetSelectedItems(t.unique_id, n.unique_id),
            ),
            o = (0, d.jM)(w.De.LANGUAGE),
            l = (0, s.Xj)(n.option_title, o),
            r = [],
            c = n.options.map((e) => {
              const t = (0, s.Xj)(e.text, o);
              let n = { value: e.unique_id, label: t };
              return -1 != a.findIndex((t) => t == e.unique_id) && r.push(n), n;
            });
          return I.createElement(
            "div",
            { className: Oi.SelectContianer },
            Boolean(l) &&
              I.createElement("div", { className: Oi.ListTitle }, l),
            I.createElement(Ve.ZP, {
              name: "searchField",
              backspaceRemovesValue: !0,
              isSearchable: !0,
              isMulti: Boolean("multi_select" == t.input_style),
              defaultMenuIsOpen: !1,
              isClearable: !0,
              placeholder: Boolean("multi_select" == t.input_style)
                ? (0, ce.Xx)("#OptIn_Registration_Select_Placeholder_Plural")
                : (0, ce.Xx)("#OptIn_Registration_Select_Placeholder"),
              value: r,
              options: c,
              getOptionLabel: (e) => e.label,
              getOptionValue: (e) => e.value,
              onChange: (e, { action: t }) => {
                i(e ? e.map((e) => e.value) : []);
              },
            }),
            I.createElement(Hi, Object.assign({}, e, { item_unique_ids: a })),
          );
        }),
        Hi = (0, De.Pi)((e) => {
          const {
            section: t,
            list: n,
            sectionIndex: a,
            listIndex: i,
            item_unique_ids: o,
          } = e;
          return !o || 0 == o.length || (1 == o.length && null == o[0])
            ? I.createElement(
                I.Fragment,
                null,
                I.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][section_id]`,
                  value: t.unique_id,
                }),
                I.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][list_selection][${i}][list_id]`,
                  value: n.unique_id,
                }),
              )
            : I.createElement(
                I.Fragment,
                null,
                I.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][section_id]`,
                  value: t.unique_id,
                }),
                I.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][list_selection][${i}][list_id]`,
                  value: n.unique_id,
                }),
                Boolean(o) &&
                  o.map((e, t) =>
                    I.createElement("input", {
                      key: "selected_" + e,
                      type: "hidden",
                      name: `dynamic_selection[${a}][list_selection][${i}][selected_item_id][${t}]`,
                      value: e,
                    }),
                  ),
              );
        });
      var Xi = n(20790),
        zi = n(45429);
      const Vi = (0, De.Pi)((e) => {
        if (!e.eventdata) return null;
        const { appid: t, eventdata: n } = e,
          a = (0, ce.Xx)("#OptIn_GameListing_Title");
        let i = (function (e, t) {
          var n, a, i;
          const o = Number.parseInt(e),
            l = (0, d.jM)(w.De.LANGUAGE),
            r = [];
          let s = null,
            c = [];
          for (const e of t.sale_sections)
            if (
              "tabs" === e.section_type &&
              (null === (n = e.tabs) || void 0 === n ? void 0 : n.length)
            ) {
              s = [];
              for (const t of e.tabs)
                s.push({ id: t.unique_id, label: (0, zi.YK)(t, l) }),
                  ((null === (a = t.capsules) || void 0 === a
                    ? void 0
                    : a.length) &&
                    !t.capsules.some((e) => e.id === o)) ||
                    c.push(t.unique_id);
            }
          let m = !1;
          for (const e of t.sale_sections)
            if ("tabs" === e.section_type && e.tabs) m = !0;
            else if ("items" === e.section_type && e.capsules) {
              let t = e.capsules.some((e) => e.id === o);
              if (
                (e.smart_section && e.enable_faceted_browsing && (t = !0), !t)
              )
                continue;
              const n = (0, zi._U)(e, l, 0, !0);
              if (null === s)
                r.push(I.createElement(Wi, { key: n, section: n, tab: "" }));
              else {
                let t = (
                  null === (i = e.show_on_tabs) || void 0 === i
                    ? void 0
                    : i.length
                )
                  ? e.show_on_tabs
                  : s.map((e) => e.id);
                m &&
                  !e.diable_tab_id_filtering &&
                  (t = t.filter((e) => c.includes(e)));
                for (const e of t) {
                  const t = s.find((t) => t.id === e);
                  t &&
                    r.push(
                      I.createElement(Wi, {
                        key: n + e,
                        section: n,
                        tab: t.label,
                      }),
                    );
                }
              }
            }
          return r;
        })(t, n.jsondata);
        return i.length > 0
          ? I.createElement(
              U.SV,
              null,
              I.createElement(
                "h1",
                null,
                (0, ce.Xx)("#OptIn_OptInOut_CategorizationTitle"),
              ),
              I.createElement(
                "div",
                { className: (0, W.Z)(Oi.DynamicSection, Oi.Categorization) },
                I.createElement("h3", null, a),
                (0, ce.Xx)("#OptIn_GameListing_Detail"),
                I.createElement(
                  "div",
                  {
                    className: (0, W.Z)(Oi.DynamicSection, Oi.VisibilityTable),
                  },
                  I.createElement(
                    "div",
                    { className: "landingTable blueish" },
                    I.createElement(
                      "div",
                      { className: "tr heading" },
                      I.createElement("div", { className: "th" }, "Tab"),
                      I.createElement("div", { className: "th" }, "Section"),
                    ),
                    i,
                  ),
                ),
                I.createElement(
                  "div",
                  { className: Oi.DynamicSection },
                  I.createElement(
                    Xi.JW,
                    {
                      eventModel: e.eventdata,
                      route: Xi.Ue.k_eStoreSalePage,
                      className: (0, W.Z)(j.Button, j.Primary),
                    },
                    (0, ce.Xx)("#Sale_Link_PreviewEvent"),
                  ),
                ),
              ),
            )
          : I.createElement(
              U.SV,
              null,
              I.createElement(
                "div",
                { className: Oi.DynamicSection },
                I.createElement("h3", null, a),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_GameListing_Detail_Empty"),
                ),
              ),
            );
      });
      const Wi = (e) =>
        I.createElement(
          U.SV,
          null,
          I.createElement(
            "div",
            { className: (0, W.Z)("tr", "highlightHover") },
            I.createElement("a", { className: "td" }, e.tab),
            I.createElement("a", { className: "td" }, e.section),
          ),
        );
      var Zi = n(13141);
      function qi(e) {
        const { optInDefinition: t, appid: n } = e,
          a = (0, w.ip)("optin_preview_mode", "application_config") || !1;
        return (xi.Get().BHasAdditionalFeaturing() || a) &&
          t.additional_featuring_section_enabled &&
          (t.collect_trailer_permissions ||
            t.collect_demo_permissions ||
            t.collect_game_profile_intent)
          ? I.createElement(
              "div",
              null,
              Boolean(a) &&
                I.createElement(
                  "div",
                  { className: ge.WarningStylesBackground },
                  "NOTE: Visibility, Demo, and Trailer use permissions sections below will only appear publicly for apps marked with featuring.",
                ),
              I.createElement(Yi, { optInDefinition: t, appid: n }),
            )
          : null;
      }
      function Yi(e) {
        const { optInDefinition: t, appid: n } = e,
          [a] = (0, ee.Ar)("focusmedia", !1);
        return (
          (0, I.useEffect)(() => {
            a &&
              (0, z.AM)(
                I.createElement(Qi, { optInDefinition: t, appid: n }),
                window,
              );
          }, [a, t, n]),
          I.createElement(
            Ki,
            Object.assign({}, e, { bShowVisibilityDetails: !0 }),
          )
        );
      }
      function Qi(e) {
        const { optInDefinition: t, appid: n, closeModal: a } = e,
          i = (0, lt.tx)();
        return i.bLoading
          ? I.createElement(lt.NT, {
              state: i,
              strDialogTitle: (0, ce.Xx)("#OptIn_Collect_Dialog_Title"),
              strThrobber: (0, ce.Xx)("#Saving"),
              closeModal: a,
            })
          : I.createElement(
              _e.uH,
              {
                strTitle: (0, ce.Xx)("#OptIn_Collect_Dialog_Title"),
                strDescription: (0, ce.Xx)("#OptIn_Collect_Dialog_Desc"),
                onOK: () => {
                  i.fnSetLoading(!0),
                    pt.qh
                      .Get()
                      .UpdateOptInRegistrationJson(
                        n,
                        xi.Get().GetModel().jsondata,
                      )
                      .then((e) => {
                        e
                          ? (i.fnSetError(!0), i.fnSetStrError(e))
                          : i.fnSetSuccess(!0);
                      })
                      .catch((e) => i.fnSetError(!0));
                },
                onCancel: a,
              },
              I.createElement(Ki, {
                optInDefinition: t,
                appid: n,
                bShowVisibilityDetails: !1,
              }),
            );
      }
      function Ki(e) {
        const { optInDefinition: t, appid: n, bShowVisibilityDetails: a } = e;
        return I.createElement(
          I.Fragment,
          null,
          Boolean(a) &&
            I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "div",
                { className: "sub_category" },
                I.createElement(
                  "h3",
                  null,
                  (0, ce.Xx)("#OptIn_Collect_Dialog_Title"),
                ),
              ),
              I.createElement(
                "p",
                null,
                (0, ce.Xx)("#OptIn_Collect_Dialog_Desc"),
              ),
            ),
          Boolean(t.collect_trailer_permissions) &&
            I.createElement($i, { optInDefinition: t }),
          Boolean(t.collect_demo_permissions) &&
            I.createElement(Ji, { optInDefinition: t }),
          Boolean(t.collect_game_profile_intent) &&
            I.createElement(eo, { optInDefinition: t, appid: n }),
        );
      }
      function $i(e) {
        var t;
        const { optInDefinition: n } = e,
          a = n.event_title[w.De.LANGUAGE] || n.event_title.english,
          i = n.do_anytime.enter_discounts,
          o = null === (t = n.launch_demo) || void 0 === t ? void 0 : t.enabled,
          [l, r, s] = (0, ze.SZ)(() => [
            xi.Get().GetModel().jsondata.trailer_permission,
            xi.Get().GetModel().jsondata.rtime_granting_trailer,
            xi.Get().GetModel().jsondata.accountid_granting_trailer,
          ]);
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            { className: "sub_category" },
            I.createElement(
              "h3",
              null,
              (0, ce.Xx)("#OptIn_Collect_Trailer"),
              " ",
              I.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(n.collect_demo_deadline)
                  ? I.createElement(
                      I.Fragment,
                      null,
                      "(",
                      (0, ce.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, ce.vX)(n.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : I.createElement(
                      I.Fragment,
                      null,
                      "(",
                      (0, ce.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Trailer_check", a),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          I.createElement(
            "ul",
            null,
            Boolean(i && n.collect_demo_deadline) &&
              I.createElement(
                "li",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, ce.vX)(n.collect_demo_deadline),
                ),
              ),
            Boolean(o && n.collect_demo_deadline) &&
              I.createElement(
                "li",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Trailer_deadline_1",
                  (0, ce.vX)(n.collect_demo_deadline),
                ),
              ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherTrailerPermission",
              onChange: () => xi.Get().SetCheckedTrailerUsage(!0),
              checked: Boolean(l && r),
              value: "1",
              name: "trailer_permission",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherTrailerPermission" },
              (0, ce.Xx)("#OptIn_Collect_Trailer_check_label"),
            ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherTrailerNoPermission",
              onChange: () => xi.Get().SetCheckedTrailerUsage(!1),
              checked: Boolean(!l && !r),
              value: "0",
              name: "trailer_permission",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherTrailerNoPermission" },
              (0, ce.Xx)("#OptIn_Collect_Trailer_nocheck_label"),
            ),
          ),
          Boolean(r) &&
            I.createElement("input", {
              type: "hidden",
              value: r,
              name: "rtime_granting_trailer",
            }),
          Boolean(s) &&
            I.createElement("input", {
              type: "hidden",
              value: s,
              name: "accountid_granting_trailer",
            }),
          I.createElement("br", null),
          I.createElement("br", null),
        );
      }
      function Ji(e) {
        const { optInDefinition: t } = e,
          n = t.event_title[w.De.LANGUAGE] || t.event_title.english,
          a = t.do_anytime.enter_discounts,
          [i, o, l] = (0, ze.SZ)(() => [
            xi.Get().GetModel().jsondata.demo_permission,
            xi.Get().GetModel().jsondata.rtime_granting_demo,
            xi.Get().GetModel().jsondata.accountid_granting_demo,
          ]);
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            { className: "sub_category" },
            I.createElement(
              "h3",
              null,
              (0, ce.Xx)("#OptIn_Collect_Demo"),
              " ",
              I.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? I.createElement(
                      I.Fragment,
                      null,
                      "(",
                      (0, ce.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, ce.vX)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : I.createElement(
                      I.Fragment,
                      null,
                      "(",
                      (0, ce.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Demo_check", n),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          I.createElement(
            "ul",
            null,
            Boolean(a && t.collect_demo_deadline) &&
              I.createElement(
                "li",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, ce.vX)(t.collect_demo_deadline),
                ),
              ),
            Boolean(t.collect_demo_deadline) &&
              I.createElement(
                "li",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Demo_deadline_1",
                  (0, ce.vX)(t.collect_demo_deadline),
                ),
              ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherDemoPermission",
              onChange: () => xi.Get().SetCheckedDemorUsage(!0),
              checked: Boolean(i && o),
              value: "1",
              name: "demo_permission",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherDemoPermission" },
              (0, ce.Xx)("#OptIn_Collect_Demo_check_label"),
            ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherNoDemoPermission",
              onChange: () => xi.Get().SetCheckedDemorUsage(!1),
              checked: Boolean(!i && !o),
              value: "0",
              name: "demo_permission",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherNoDemoPermission" },
              (0, ce.Xx)("#OptIn_Collect_Demo_nocheck_label"),
            ),
          ),
          Boolean(o) &&
            I.createElement("input", {
              type: "hidden",
              value: o,
              name: "rtime_granting_demo",
            }),
          Boolean(l) &&
            I.createElement("input", {
              type: "hidden",
              value: l,
              name: "accountid_granting_demo",
            }),
          I.createElement("br", null),
          I.createElement("br", null),
        );
      }
      function eo(e) {
        const { optInDefinition: t, appid: n } = e,
          a = t.event_title[w.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          o = t.pageid,
          [l, r, s] = (0, ze.SZ)(() => [
            xi.Get().BHasGameProfileIntent(),
            xi.Get().GetModel().jsondata.accountid_granting_profile,
            xi.Get().GetModel().jsondata.rtime_granting_profile,
          ]);
        return I.createElement(
          "div",
          null,
          I.createElement(
            "div",
            { className: "sub_category" },
            I.createElement(
              "h3",
              null,
              (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent"),
              " ",
              I.createElement(
                "span",
                { className: "required_optional1" },
                "(",
                (0, ce.Xx)("#OptIn_Collect_Optional"),
                ")",
              ),
            ),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_main", a),
            "  ",
            Boolean(i) &&
              I.createElement(
                "span",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Game_Profile_Intent_requirediscount",
                ),
              ),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_1", a),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_2", a),
          ),
          I.createElement(
            "ul",
            null,
            I.createElement(
              "li",
              null,
              (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_requirement"),
            ),
            I.createElement(
              "ul",
              null,
              I.createElement(
                "li",
                null,
                (0, ce.Xx)(
                  "#OptIn_Collect_Game_Profile_Intent_requirement_1",
                  a,
                ),
              ),
              Boolean(i) &&
                I.createElement(
                  "li",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_Collect_Game_Profile_Intent_requirement_2",
                  ),
                ),
            ),
          ),
          I.createElement(
            "ul",
            null,
            I.createElement(
              "li",
              null,
              (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset"),
            ),
            I.createElement(
              "ul",
              null,
              I.createElement(
                "li",
                null,
                (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1"),
              ),
              I.createElement(
                "ul",
                null,
                I.createElement(
                  "li",
                  null,
                  (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1b", o),
                ),
              ),
              I.createElement(
                "li",
                null,
                (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_2"),
              ),
              I.createElement(
                "li",
                null,
                (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_3"),
              ),
              I.createElement(
                "li",
                null,
                (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_4"),
              ),
              I.createElement(
                "li",
                null,
                (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_5"),
              ),
            ),
          ),
          I.createElement(
            "p",
            null,
            (0, ce.yu)(
              "#OptIn_Collect_Game_Profile_Intent_learnmore",
              I.createElement("a", {
                href: "https://partner.steamgames.com/doc/marketing/pointsshopitems#gameprofile",
                target: "_blank",
              }),
            ),
            I.createElement(
              "span",
              null,
              (0, ce.yu)(
                "#OptIn_Collect_Game_Profile_Intent_goto",
                I.createElement("a", {
                  href: `${w.De.PARTNER_BASE_URL}apps/communityitems/${n}`,
                  target: "_blank",
                }),
              ),
            ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherGameProfileIntent",
              onChange: () => xi.Get().SetGameProfileIntent(!0),
              checked: Boolean(l && r),
              value: "1",
              name: "game_profile_intent",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherGameProfileIntent" },
              (0, ce.Xx)("#OptIn_Collect_Game_Profile_Intent_label"),
            ),
          ),
          I.createElement(
            "div",
            null,
            I.createElement("input", {
              type: "radio",
              id: "GatherGameProfileNoIntent",
              onChange: () => xi.Get().SetGameProfileIntent(!1),
              checked: Boolean(!l && !r),
              value: "0",
              name: "game_profile_intent",
            }),
            I.createElement(
              "label",
              { htmlFor: "GatherGameProfileNoIntent" },
              (0, ce.Xx)("#OptIn_Collect_Game_Profile_NoIntent_label"),
            ),
          ),
          Boolean(r) &&
            I.createElement("input", {
              type: "hidden",
              value: r,
              name: "accountid_granting_profile",
            }),
          Boolean(s) &&
            I.createElement("input", {
              type: "hidden",
              value: s,
              name: "rtime_granting_profile",
            }),
          I.createElement("br", null),
          I.createElement("br", null),
        );
      }
      function to(e) {
        const { optInDefinition: t } = e,
          n = xi.Get(),
          a = t.event_title[w.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          [o, l] = (0, ze.SZ)(() => [
            n.BHasCheckedNoPlannedDiscounts(),
            n.GetModel().appid,
          ]),
          [r] = (0, ht.vs)(l, { include_release: !0 });
        return !i ||
          (null == r ? void 0 : r.BIsComingSoon()) ||
          (null == r ? void 0 : r.BIsFree())
          ? null
          : r
          ? I.createElement(
              "div",
              { className: "sub_category" },
              I.createElement("h3", null, (0, ce.Xx)("#OptIn_Discount_Intent")),
              I.createElement(
                we.HP,
                {
                  className: (0, W.Z)(H().HelperTooltip, "HelperTooltip"),
                  toolTipContent: (0, ce.Xx)(
                    "#OptIn_Discount_Intent_Desc_ttip",
                  ),
                },
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)("#OptIn_Discount_Intent_Desc"),
                ),
                I.createElement(Te.WWB, null),
              ),
              I.createElement(
                "div",
                { className: (0, W.Z)(H().FlexRowContainer, H().RadioOption) },
                I.createElement("input", {
                  type: "radio",
                  name: "no_planned_discount",
                  id: "DiscountOptions_Yes",
                  value: "0",
                  checked: !o,
                  onChange: () => n.SetCheckedNoPlannedDiscounts(!1),
                }),
                I.createElement(
                  "label",
                  { htmlFor: "DiscountOptions_Yes" },
                  I.createElement(
                    "span",
                    null,
                    (0, ce.Xx)(
                      "#OptIn_Discount_Intent_Desc_radio_yes",
                      r.GetName(),
                      a,
                    ),
                  ),
                ),
              ),
              I.createElement(
                "div",
                { className: (0, W.Z)(H().FlexRowContainer, H().RadioOption) },
                I.createElement("input", {
                  type: "radio",
                  name: "no_planned_discount",
                  id: "DiscountOptions_No",
                  value: "1",
                  checked: o,
                  onChange: () => n.SetCheckedNoPlannedDiscounts(!0),
                }),
                I.createElement(
                  "label",
                  { htmlFor: "DiscountOptions_No" },
                  I.createElement(
                    "span",
                    null,
                    (0, ce.Xx)(
                      "#OptIn_Discount_Intent_Desc_radio_no",
                      r.GetName(),
                      a,
                    ),
                  ),
                ),
              ),
            )
          : I.createElement(de.V, { size: "small", position: "center" });
      }
      const no = (e) => {
          let { pageid: t, appid: n } = e;
          t.startsWith("sale_sale_") && (t = t.substring(5));
          const a = k.Get().GetDefinition(t),
            [i, l] = (0, I.useState)(!1),
            [r, s] = (0, I.useState)(null);
          if (
            ((0, I.useEffect)(() => {
              l(!1);
              const e = pt.qh
                .Get()
                .CreateOrGetRegistration(Number.parseInt(n), t);
              xi.Get().Reset(e),
                (0, o.mG)(void 0, void 0, void 0, function* () {
                  if (a.public_event_id && a.public_event_clan_id)
                    try {
                      const e = ut.K.InitFromClanID(
                          Number.parseInt(a.public_event_clan_id),
                        ),
                        t =
                          yield Zi.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            a.public_event_id,
                            0,
                          );
                      s(t);
                    } catch (e) {
                      const t = (0, A.l)(e);
                      console.error(
                        "LoadPartnerEvent : failed with " + t.strErrorMsg,
                        t,
                      );
                    }
                  l(!0);
                });
            }, [t, n, a.public_event_id, a.public_event_clan_id]),
            !a)
          )
            return (
              console.error("Definition is missing: " + n + " - " + t, a), null
            );
          if (!i)
            return I.createElement(de.V, {
              size: "medium",
              string: (0, ce.Xx)("#Loading"),
            });
          return I.createElement(
            "div",
            null,
            I.createElement(
              "div",
              { className: "indent_section" },
              I.createElement("a", { id: "GameListing" }),
              I.createElement(Vi, { appid: n, eventdata: r }),
              I.createElement("br", null),
              I.createElement("br", null),
              I.createElement("h1", null, (0, ce.Xx)("#OptIn_OptInOut_Title")),
              (0, ce.Xx)("#OptIn_OptInOut_Desc"),
              I.createElement(Bi, { sections: a.dynamic_sections }),
              I.createElement(qi, {
                optInDefinition: a,
                appid: Number.parseInt(n),
              }),
              I.createElement(to, { optInDefinition: a }),
              Boolean(w.L7.is_support) &&
                I.createElement(
                  "div",
                  { className: H().ValveOnlyBackground },
                  I.createElement(
                    F.zx,
                    {
                      onClick: () => {
                        const e = xi.Get().GetModel();
                        (0, z.AM)(
                          I.createElement(
                            _e.uH,
                            {
                              strTitle: (0, ce.Xx)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            I.createElement(He.G, { data: e }),
                          ),
                          window,
                        );
                      },
                    },
                    "(VO) " + (0, ce.Xx)("#OptIn_Debug"),
                  ),
                ),
            ),
          );
        },
        ao = (e) =>
          I.createElement(qn.NL, {
            message: (e) =>
              !R.Get().BIsDirty() ||
              e.pathname != yl.OptinAdminDashboard() ||
              "Do you want to discard unsaved changes?",
          });
      class io {
        GetAsConsolidatedList() {
          return {
            invited_appids: this.m_nInvitedAppIDs,
            pruned_appids: this.m_nPrunedAppIDs,
            pending_review_appids: this.m_nPendingReviewAppIDs,
            additionally_featured_appids: this.m_nAdditionalFeaturedppIDs,
          };
        }
        GetConsolidatedListCallback() {
          return this.m_listCallback;
        }
        GetStateForAppCallback(e) {
          return (
            this.m_mapReviewCallback.has(e) ||
              this.m_mapReviewCallback.set(e, new T.pB()),
            this.m_mapReviewCallback.get(e)
          );
        }
        GetStateForApp(e) {
          return {
            invited: this.m_nInvitedAppIDs.includes(e),
            pruned: this.m_nPrunedAppIDs.includes(e),
            additionally_featured: this.m_nAdditionalFeaturedppIDs.includes(e),
            pending_review: this.m_nPendingReviewAppIDs.includes(e),
          };
        }
        ChangeAppPruneState(e, t, n) {
          var a;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let i = null;
            try {
              const o = new FormData();
              o.append("sessionid", w.De.SESSIONID),
                o.append("appids", JSON.stringify(t)),
                o.append("opt_in_name", e),
                o.append("prune", n ? "0" : "1");
              const l = w.De.PARTNER_BASE_URL + "optin/ajaxpruneapp",
                s = yield r().post(l, o, { withCredentials: !0 });
              if (
                200 == (null == s ? void 0 : s.status) &&
                1 ==
                  (null === (a = s.data) || void 0 === a ? void 0 : a.success)
              )
                return (
                  t.forEach((e) => {
                    if (this.m_nPendingReviewAppIDs.includes(e)) {
                      const t = this.m_nPendingReviewAppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nPendingReviewAppIDs.splice(t, 1),
                        (this.m_nPendingReviewAppIDs = [
                          ...this.m_nPendingReviewAppIDs,
                        ]);
                    }
                    if (n) {
                      if (this.m_nInvitedAppIDs.includes(e)) {
                        const t = this.m_nInvitedAppIDs.findIndex(
                          (t) => t == e,
                        );
                        this.m_nInvitedAppIDs.splice(t, 1),
                          (this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs]);
                      }
                      if (
                        ((this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs, e]),
                        this.m_nAdditionalFeaturedppIDs.includes(e))
                      ) {
                        const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                          (t) => t == e,
                        );
                        this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                          (this.m_nAdditionalFeaturedppIDs = [
                            ...this.m_nAdditionalFeaturedppIDs,
                          ]);
                      }
                    } else {
                      if (this.m_nPrunedAppIDs.includes(e)) {
                        const t = this.m_nPrunedAppIDs.findIndex((t) => t == e);
                        this.m_nPrunedAppIDs.splice(t, 1),
                          (this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs]);
                      }
                      this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs, e];
                    }
                    this.GetStateForAppCallback(e).Dispatch(
                      this.GetStateForApp(e),
                    );
                  }),
                  this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                  !0
                );
              i = (0, A.l)(s);
            } catch (e) {
              i = (0, A.l)(e);
            }
            return (
              console.error(
                "COptInAppReviewStore.ChangeAppPruneState failed: " +
                  (null == i ? void 0 : i.strErrorMsg),
                i,
              ),
              !1
            );
          });
        }
        ChangeAppAdditionalFeaturingState(e, t, n, a) {
          var i;
          return (0, o.mG)(this, void 0, void 0, function* () {
            let o = null;
            if (!a) {
              const e = t.filter((e) => this.m_nInvitedAppIDs.includes(e));
              if (e.length != t.length)
                return (
                  console.error(
                    "ChangeAppAdditionalFeaturingState: Not all app are already invited. Cannot change to featuring.",
                    t,
                    e,
                    this.m_nInvitedAppIDs,
                  ),
                  11
                );
            }
            try {
              const a = new FormData();
              a.append("sessionid", w.De.SESSIONID),
                a.append("appids", JSON.stringify(t)),
                a.append("opt_in_name", e),
                a.append("feature", n ? "1" : "0");
              const l =
                  w.De.PARTNER_BASE_URL +
                  "optin/ajaxupdateadditionalfeaturingapps",
                s = yield r().post(l, a, { withCredentials: !0 });
              if (
                200 == (null == s ? void 0 : s.status) &&
                1 ==
                  (null === (i = s.data) || void 0 === i ? void 0 : i.success)
              )
                return (
                  t.forEach((e) => {
                    if (n)
                      this.m_nAdditionalFeaturedppIDs.includes(e) ||
                        (this.m_nAdditionalFeaturedppIDs.push(e),
                        this.GetStateForAppCallback(e).Dispatch(
                          this.GetStateForApp(e),
                        ));
                    else {
                      const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                        this.GetStateForAppCallback(e).Dispatch(
                          this.GetStateForApp(e),
                        );
                    }
                  }),
                  this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                  1
                );
              o = (0, A.l)(s);
            } catch (e) {
              o = (0, A.l)(e);
            }
            return (
              console.error(
                "COptInAppReviewStore.ChangeAppAdditionalFeaturingState failed: " +
                  (null == o ? void 0 : o.strErrorMsg),
                o,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            io.s_Singleton ||
              ((io.s_Singleton = new io()),
              ("dev" != w.De.WEB_UNIVERSE && "beta" != w.De.WEB_UNIVERSE) ||
                (window.g_OptInAppReviewStores = io.s_Singleton)),
            io.s_Singleton
          );
        }
        constructor() {
          var e, t, n, a;
          (this.m_nInvitedAppIDs = []),
            (this.m_nPrunedAppIDs = []),
            (this.m_nAdditionalFeaturedppIDs = []),
            (this.m_nPendingReviewAppIDs = []),
            (this.m_listCallback = new T.pB()),
            (this.m_mapReviewCallback = new Map());
          let i = JSON.parse(
            JSON.stringify(
              (0, w.kQ)("optin_invite_prune_list", "application_config"),
            ),
          );
          this.ValidateStoreDefault(i) &&
            ((this.m_nInvitedAppIDs =
              (null === (e = i.invited_appids) || void 0 === e
                ? void 0
                : e.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nPrunedAppIDs =
              (null === (t = i.pruned_appids) || void 0 === t
                ? void 0
                : t.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nAdditionalFeaturedppIDs =
              (null === (n = i.additionally_featured_appids) || void 0 === n
                ? void 0
                : n.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nPendingReviewAppIDs =
              (null === (a = i.pending_review_appids) || void 0 === a
                ? void 0
                : a.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            t &&
            "object" == typeof t &&
            (Array.isArray(t.invited_appids) || Array.isArray(t.pruned_appids))
          );
        }
      }
      function oo() {
        return { fnChangeAppPruneState: io.Get().ChangeAppPruneState };
      }
      (0, o.gn)([it.a], io.prototype, "ChangeAppPruneState", null),
        (0, o.gn)(
          [it.a],
          io.prototype,
          "ChangeAppAdditionalFeaturingState",
          null,
        );
      var lo = n(70903),
        ro = n(95408),
        so = n(51441),
        co = n(46294),
        mo = n(27499);
      const po = {
        include_basic_info: !0,
        include_assets: !0,
        include_tag_count: 10,
        include_release: !0,
      };
      function uo(e) {
        const {
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: n,
            rgNotToPruneList: a,
            pageid: i,
          } = e,
          [o, l] = I.useState(!0),
          r = (0, kn.T)("OptInAppReviewFilter");
        I.useEffect(() => {
          _t.Z.Get()
            .QueueMultipleAppRequests(
              (null == t ? void 0 : t.slice(0, 100)) || [],
              po,
            )
            .then(() => {
              _t.Z.Get()
                .QueueMultipleAppRequests(
                  (null == t ? void 0 : t.slice(100)) || [],
                  po,
                )
                .then(() => {
                  l(!1);
                });
            });
        }, [r.token.reason, i, t]);
        const [s, c] = I.useState(new Set()),
          [d, m] = I.useState(""),
          [p, u] = I.useState(0),
          [_, h] = I.useState(!1),
          [g, E] = I.useState(0);
        return (
          I.useEffect(() => {
            const e = (null == d ? void 0 : d.trim().length) > 2,
              i = null == d ? void 0 : d.toLocaleLowerCase(),
              o = Array.from(s),
              l = new Set(a || []);
            if (t.length > 0 && (s.size > 0 || e || p || g)) {
              const a = t
                .filter((t) => {
                  var n, a, o, l, r;
                  if (e) {
                    const e = _t.Z.Get().GetApp(t);
                    return (
                      (null === (n = null == e ? void 0 : e.GetName()) ||
                      void 0 === n
                        ? void 0
                        : n.toLocaleLowerCase().indexOf(i)) >= 0 ||
                      (null ===
                        (a = null == e ? void 0 : e.GetDeveloperNames()) ||
                      void 0 === a
                        ? void 0
                        : a.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (o = null == e ? void 0 : e.GetPublisherNames()) ||
                      void 0 === o
                        ? void 0
                        : o.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (l = null == e ? void 0 : e.GetFranchiseNames()) ||
                      void 0 === l
                        ? void 0
                        : l.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (r = null == e ? void 0 : e.GetShortDescription()) ||
                      void 0 === r
                        ? void 0
                        : r.toLocaleLowerCase().indexOf(i)) >= 0
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (o.length > 0) {
                    const t = _t.Z.Get().GetApp(e);
                    return o.every((e) =>
                      null == t ? void 0 : t.GetTagIDs().includes(e),
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (p > 0) {
                    const t = _t.Z.Get().GetApp(e);
                    return (
                      t &&
                      ((null == t ? void 0 : t.BIsComingSoon()) ||
                        (null == t ? void 0 : t.GetOriginalReleaseDateRTime()) >
                          p)
                    );
                  }
                  return !0;
                })
                .filter((e) => !(_ && l.size > 0) || !l.has(e));
              r.token.reason || n(a);
            }
          }, [_, r.token.reason, n, g, p, a, t, s, d]),
          I.createElement(
            xe.ug,
            { title: "Filter Options", bStartMinimized: !0 },
            Boolean(o)
              ? I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(
                    F.__,
                    null,
                    (0, ce.Xx)("#EventCalendar_UniversalSearch"),
                  ),
                  I.createElement(de.V, {
                    size: "small",
                    string: `Loading ${
                      (null == t ? void 0 : t.length) || 0
                    } Apps`,
                  }),
                )
              : I.createElement(
                  I.Fragment,
                  null,
                  I.createElement(F.II, {
                    type: "text",
                    label: (0, ce.Xx)("#EventCalendar_UniversalSearch"),
                    placeholder: "search by app name, description",
                    value: d,
                    onChange: (e) => {
                      m(e.target.value), E(1);
                    },
                  }),
                  I.createElement(_o, {
                    setFilterTagIDs: s,
                    fnUpdateSetFilterTagIDs: (e) => {
                      c(e), E(1);
                    },
                    rgAppIDs: t,
                    bLoading: o,
                  }),
                  I.createElement(qe.A, {
                    strDescription: "Filter to games Released After:",
                    strDescToolTip:
                      "Allow us to review upcoming games and games that have released (or released into Early Access) after a point. This is useful when re-running a previously pruned event in a new year.",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => p,
                    fnSetTimeToUpdate: (e) => {
                      u(e), E(1);
                    },
                  }),
                  Boolean((null == a ? void 0 : a.length) > 0) &&
                    I.createElement(F.ji, {
                      checked: _,
                      onChange: (e) => {
                        h(e), E(1);
                      },
                      tooltip:
                        "This is a filter we only want to use in pruning that is done after we have notified partners about their inclusion. So if we communicated with a partner about the event, we don't want to be able to filter them out during a second round of pruning",
                      label: "Filter out previously emailed apps from pruning",
                    }),
                ),
          )
        );
      }
      function _o(e) {
        const {
            setFilterTagIDs: t,
            fnUpdateSetFilterTagIDs: n,
            rgAppIDs: a,
            bLoading: i,
          } = e,
          { data: o } = (0, ro.NH)(),
          l = I.useMemo(
            () =>
              i
                ? []
                : (function (e) {
                    const t = new Map();
                    return (
                      e.forEach((e) => {
                        const n = _t.Z.Get().GetApp(e);
                        null == n ||
                          n.GetTagIDs().forEach((e) => {
                            t.has(e)
                              ? (t.get(e).count += 1)
                              : t.set(e, { tagid: e, count: 1 });
                          });
                      }),
                      Array.from(t.values())
                    );
                  })(a).sort((e, t) => (e.count < t.count ? 1 : -1)),
            [a, i],
          ),
          r = I.useMemo(
            () =>
              l.map((e) => {
                var t;
                return {
                  label:
                    ((null === (t = null == o ? void 0 : o.get(e.tagid)) ||
                    void 0 === t
                      ? void 0
                      : t.name) || "tagid: " + e.tagid) +
                    " (count: " +
                    e.count +
                    ")",
                  value: e.tagid,
                };
              }),
            [o, l],
          ),
          s = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          };
        return I.createElement(
          "div",
          { className: mo.TagFilterBar },
          I.createElement(F.__, null, "Filter by Tag:"),
          I.createElement(Ve.ZP, {
            isSearchable: !0,
            isLoading: i,
            isMulti: !0,
            isClearable: !0,
            value: r.filter((e) => t.has(e.value)),
            options: r,
            styles: s,
            onChange: (e) => {
              const t = new Set();
              null == e || e.forEach((e) => t.add(e.value)), n(t);
            },
          }),
        );
      }
      var ho = n(59954);
      const go = (e) => null != e;
      class Eo {
        constructor() {
          this.m_mapChangeCallback = new Map();
        }
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new T.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static Get() {
          return Eo.s_Singleton || (Eo.s_Singleton = new Eo()), Eo.s_Singleton;
        }
      }
      var vo = n(36659);
      function So(e) {
        const { rgAppealReviewReg: t, pageid: n } = e,
          a = I.useMemo(
            () =>
              t.sort(
                (e, t) =>
                  e.jsondata.rtime_appeal_created -
                  t.jsondata.rtime_appeal_created,
              ),
            [t],
          );
        return I.createElement(
          "div",
          null,
          I.createElement(yo, { bShowPruningCriteria: !0 }),
          Boolean(a.length > 0)
            ? I.createElement(
                I.Fragment,
                null,
                a.map((e, t) =>
                  I.createElement(Do, {
                    key: "appeal" + e.appid,
                    pageid: n,
                    registration: e,
                    index: t,
                  }),
                ),
              )
            : I.createElement(
                "span",
                null,
                (0, ce.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      const fo = "app_review_elig_crit";
      function yo(e) {
        const { bShowPruningCriteria: t } = e,
          n = (0, ho.kQ)("optin_eligibility_criteria", "application_config"),
          [a, i] = (function (e, t) {
            const [n, a] = I.useState(window.localStorage.getItem(e)),
              i = I.useRef(e);
            I.useEffect(() => {
              e != i.current &&
                (a(window.localStorage.getItem(e)), (i.current = e));
            }, [e]);
            const o = e == i.current ? n : window.localStorage.getItem(e);
            let l = t;
            return (
              go(o) &&
                (l = go(t)
                  ? "boolean" == typeof t
                    ? t.constructor("false" !== o)
                    : t.constructor(o)
                  : o),
              (0, u.Qg)(Eo.Get().GetLocalStoreChangeCallback(e), a),
              [
                l,
                (t) => {
                  const n = go(t) ? String(t) : null;
                  window.localStorage.setItem(e, n),
                    a(n),
                    Eo.Get().GetLocalStoreChangeCallback(e).Dispatch(n);
                },
              ]
            );
          })(fo, !1);
        return t && (null == n ? void 0 : n.length) > 1
          ? I.createElement(
              xe.mY,
              {
                title: "Pruning Eligibility Criteria",
                getMinimized: () => a,
                toggleMinimized: () => i(!a),
                className: vo.CollapseableTitle,
              },
              I.createElement(Gi.d, { text: n }),
            )
          : null;
      }
      function Do(e) {
        return I.createElement(
          co.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          I.createElement(
            bo,
            Object.assign({}, e, { appid: e.registration.appid }),
          ),
        );
      }
      function bo(e) {
        const { appid: t, pageid: n, index: a } = e,
          i = (0, pt._l)(t, n),
          [o, l] = (0, ht.vs)(t, po),
          r = I.useMemo(() => ({ type: "game", id: t }), [t]);
        if (!i)
          return I.createElement("div", null, "Error: Missing registration");
        switch (l) {
          case 1:
            return I.createElement(
              "div",
              null,
              I.createElement(de.V, {
                position: "center",
                size: "small",
                string: (0, ce.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return I.createElement(
              "div",
              null,
              (0, ce.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return I.createElement(
          "div",
          { className: (0, W.Z)(mo.Row) },
          I.createElement(
            so.ll,
            { item: r },
            I.createElement("img", {
              className: mo.CapsuleImg,
              src: o.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          I.createElement(
            "div",
            { className: (0, W.Z)(mo.Column) },
            I.createElement(
              "div",
              { className: mo.TopSection },
              I.createElement(
                "div",
                { className: mo.GameInfo },
                I.createElement(
                  "a",
                  { href: o.GetStorePageURL() },
                  I.createElement("div", { className: mo.Title }, o.GetName()),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_AppReview_Developers",
                    o.GetDeveloperNames().join(","),
                  ),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_AppReview_Publishers",
                    o.GetPublisherNames().join(","),
                  ),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    o.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    o.GetFormattedSteamReleaseDate(),
                  ),
                ),
                I.createElement(
                  "div",
                  { className: mo.Desc },
                  o.GetShortDescription(),
                ),
              ),
              I.createElement(
                "div",
                { className: mo.ActionsCtn },
                Boolean(1 == i.appeal_state)
                  ? I.createElement("div", null, "Marked Approved")
                  : I.createElement(
                      F.zx,
                      {
                        onClick: (e) =>
                          (0, z.AM)(
                            I.createElement(Io, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !0,
                            }),
                            (0, Z.RA)(e),
                          ),
                      },
                      (0, ce.Xx)("#OptIn_AppReview_Appeal_Accept"),
                    ),
                Boolean(2 == i.appeal_state)
                  ? I.createElement("div", null, "Marked Denied")
                  : I.createElement(
                      F.zx,
                      {
                        onClick: (e) =>
                          (0, z.AM)(
                            I.createElement(Io, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !1,
                            }),
                            (0, Z.RA)(e),
                          ),
                      },
                      (0, ce.Xx)("#OptIn_AppReview_Appeal_Deny"),
                    ),
                Boolean($e.L7.is_support) &&
                  I.createElement(
                    F.zx,
                    {
                      onClick: (e) =>
                        (0, z.AM)(
                          I.createElement(
                            _e.uH,
                            {
                              strTitle: (0, ce.Xx)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            I.createElement(He.G, { data: i }),
                          ),
                          (0, Z.RA)(e),
                        ),
                    },
                    "(VO) " + (0, ce.Xx)("#OptIn_Debug"),
                  ),
              ),
            ),
            I.createElement(
              "div",
              { className: mo.GameInfo },
              I.createElement(xo, { storeItem: o }),
              I.createElement(
                "div",
                { className: mo.AppealWordsCtn },
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)("#OptIn_AppReview_Appeal_text"),
                ),
                I.createElement("p", null, i.jsondata.appeal_message),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)("#OptIn_AppReview_Appeal_createtime"),
                  " ",
                  (0, ce.$1)(i.jsondata.rtime_appeal_created),
                ),
              ),
            ),
          ),
          I.createElement(
            "div",
            { className: mo.RowNumber },
            (a + 1).toLocaleString(),
          ),
        );
      }
      function Io(e) {
        const {
            appid: t,
            registration: n,
            bAcceptAppeal: a,
            closeModal: i,
          } = e,
          [l] = (0, ht.vs)(t, po),
          { fnUpdateAppealState: r } = (0, pt.du)(),
          s = (0, lt.tx)();
        return s.bLoading
          ? I.createElement(lt.NT, {
              state: s,
              strDialogTitle: (0, ce.Xx)("#SalePage_Quiz_SubmitResponse"),
              closeModal: i,
            })
          : I.createElement(_e.uH, {
              strTitle: a
                ? (0, ce.Xx)("#OptIn_AppReview_Appeal_Accept")
                : (0, ce.Xx)("#OptIn_AppReview_Appeal_Deny"),
              strDescription: (0, ce.Xx)(
                "#OptIn_AppReview_Appeal_DialogVerify",
                (null == l ? void 0 : l.GetName()) || "" + t,
              ),
              onCancel: i,
              onOK: () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  s.fnSetLoading(!0);
                  (yield r(t, n, a))
                    ? s.fnSetSuccess(!0)
                    : (s.fnSetError(!0),
                      s.fnSetStrError(
                        "Check console or network tab for details.",
                      ));
                }),
            });
      }
      function Co(e) {
        return I.createElement(
          "div",
          null,
          I.createElement(
            F.zx,
            {
              onClick: (t) =>
                (0, z.AM)(
                  I.createElement(Ao, Object.assign({}, e, { bInvite: !0 })),
                  (0, Z.RA)(t),
                ),
            },
            (0, ce.Xx)("#OptIn_AppReview_InviteAll"),
          ),
          I.createElement(
            F.zx,
            {
              onClick: (t) =>
                (0, z.AM)(
                  I.createElement(Ao, Object.assign({}, e, { bInvite: !1 })),
                  (0, Z.RA)(t),
                ),
            },
            (0, ce.Xx)("#OptIn_AppReview_PruneAll"),
          ),
        );
      }
      function Ao(e) {
        const { closeModal: t, rgAppIDs: n, strOptInName: a, bInvite: i } = e,
          { fnChangeAppPruneState: l } = oo(),
          [r, s] = (0, I.useState)(void 0),
          [c, d] = (0, I.useState)(void 0),
          [m, p] = (0, I.useState)(void 0),
          u = (0, I.useCallback)(
            () =>
              (0, o.mG)(this, void 0, void 0, function* () {
                d(!0),
                  l(a, n, !i)
                    .then((e) => {
                      e || s((0, ce.Xx)("#OptIn_AppReview_ErrorBatch"));
                    })
                    .finally(() => p(!0));
              }),
            [i, l, n, a],
          );
        return I.createElement(
          _e.uH,
          {
            strTitle: (0, ce.Xx)(
              i
                ? "#OptIn_AppReview_BatchInvite_Title"
                : "$OptIn_AppReview_BatchPrune_Title",
            ),
            strDescription: (0, ce.Xx)("#OptIn_AppReview_Batch_Description"),
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: c,
            onOK: u,
            strOKButtonText: (0, ce.Xx)("#Update"),
          },
          Boolean(c && !m) &&
            I.createElement(de.V, {
              string: (0, ce.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(r) &&
            I.createElement("div", { className: ge.ErrorStylesBackground }, r),
          Boolean(m && !r) &&
            I.createElement(
              "div",
              null,
              (0, ce.Xx)("#OptIn_AppReview_Batch_Success"),
            ),
        );
      }
      function To(e) {
        const { pageid: t } = e,
          n = (0, w.kQ)("optin_title", "application_config"),
          {
            rgInvitedAppIDs: a,
            rgPrunedAppIDs: i,
            rgPendingReviewAppIDs: l,
          } = (function () {
            const [e, t] = I.useState(io.Get().GetAsConsolidatedList());
            return (
              (0, u.Qg)(io.Get().GetConsolidatedListCallback(), t),
              {
                rgInvitedAppIDs: e.invited_appids,
                rgPrunedAppIDs: e.pruned_appids,
                rgPendingReviewAppIDs: e.pending_review_appids,
              }
            );
          })(),
          { rgPendingReviewRegistrations: s, bIsInError: c } = (0, pt.nw)(t),
          { rgAppToNotPrune: d, bIsLoadError: m } = (function (e) {
            const t = (0, te.useQuery)({
              queryKey: ["usePartnerOptInEmailedApps", e],
              queryFn: () =>
                (function (e) {
                  var t;
                  return (0, o.mG)(this, void 0, void 0, function* () {
                    const n = { sessionid: w.De.SESSIONID, opt_in_name: e },
                      a =
                        w.De.PARTNER_BASE_URL +
                        "optin/ajaxgetapplisttonotprune",
                      i = yield r().get(a, { params: n, withCredentials: !0 });
                    return (
                      (null === (t = null == i ? void 0 : i.data) ||
                      void 0 === t
                        ? void 0
                        : t.appids) || []
                    );
                  });
                })(e),
              retry: !1,
            });
            return {
              rgAppToNotPrune: t.isLoading ? null : t.data,
              bIsLoadError: t.isError,
            };
          })(t);
        I.useEffect(() => {
          (0, w.kQ)("optin_webapi_token", "application_config")
            ? (0, lo.a)(!0)
            : console.error("OptInAppReviewLanding missing API token");
        }, []);
        const p = I.useMemo(() => {
            if (s) {
              const e = new Map();
              return s.forEach((t) => e.set(t.appid, t)), e;
            }
            return null;
          }, [s]),
          _ = I.useMemo(
            () =>
              p
                ? l.filter((e) => {
                    if (!p.has(e)) return !0;
                    const t = p.get(e);
                    return Boolean(
                      !t.jsondata || !t.jsondata.accountid_appealing,
                    );
                  })
                : null,
            [p, l],
          ),
          h = I.useMemo(
            () =>
              null == s
                ? void 0
                : s.filter((e) => {
                    var t;
                    return null === (t = e.jsondata) || void 0 === t
                      ? void 0
                      : t.accountid_appealing;
                  }),
            [s],
          );
        if (c || m)
          return (
            console.log(`OptInAppReviewLanding Review: ${c} NotPrune: ${m}`),
            I.createElement(
              "div",
              null,
              "Failed to loading pending review data.  User likely does not have sufficient permissions.",
            )
          );
        if (!(d && (l || a || i) && s && _))
          return I.createElement(de.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const g = (e) =>
            window.sessionStorage.setItem("appreviewtab", `?tab=${e.key}`),
          E = [
            {
              name: (0, ce.Xx)(
                "#OptIn_AppReview_PendingReviewApps",
                (null == _ ? void 0 : _.length) || 0,
              ),
              key: "review",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(wo, {
                  key: "reviewapp",
                  rgOrderedAppIDs: _,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !0,
                  bShowPruningCriteria: !0,
                }),
              ),
              onClick: g,
            },
            {
              name: (0, ce.Xx)(
                "#OptIn_AppReview_InvitedApps",
                (null == a ? void 0 : a.length) || 0,
              ),
              key: "invited",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(wo, {
                  key: "invitedapps",
                  rgOrderedAppIDs: a,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !1,
                  rgNotToPruneList: d,
                }),
              ),
              onClick: g,
            },
            {
              name: (0, ce.Xx)(
                "#OptIn_AppReview_PrunedApps",
                (null == i ? void 0 : i.length) || 0,
              ),
              key: "pruned",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(wo, {
                  key: "prunedapps",
                  rgOrderedAppIDs: i,
                  pageid: t,
                  bPruned: !0,
                  bPendingReview: !1,
                }),
              ),
              onClick: g,
            },
          ];
        return (
          w.L7.is_support &&
            E.splice(1, 0, {
              name: (0, ce.Xx)(
                "#OptIn_AppReview_PendingAppealReview",
                (null == h ? void 0 : h.length) || 0,
              ),
              key: "appeal",
              contents: I.createElement(
                U.SV,
                null,
                I.createElement(So, {
                  key: "appealmap",
                  rgAppealReviewReg: h,
                  pageid: t,
                }),
              ),
              onClick: g,
            }),
          I.createElement(
            "div",
            { className: Ze().AdminPageCtn },
            I.createElement(
              "div",
              { className: Ze().PageTitle },
              (0, ce.Xx)("#OptIn_AppReview", n),
            ),
            I.createElement(
              "div",
              { className: Ze().PageSubTitle },
              "Use the 'Prune' option to remove eligibility for that game. Pruned titles will not be eligible, invited, or receive any communication about this event.",
            ),
            I.createElement(J.n, { tabs: E }),
          )
        );
      }
      function wo(e) {
        const {
            rgOrderedAppIDs: t,
            pageid: n,
            bPruned: a,
            rgNotToPruneList: i,
            bPendingReview: o,
            bShowPruningCriteria: l,
          } = e,
          [r, s] = I.useState(null),
          c = null != r ? r : t;
        return I.createElement(
          "div",
          null,
          Boolean(o) && I.createElement(Co, { strOptInName: n, rgAppIDs: c }),
          I.createElement(yo, { bShowPruningCriteria: l }),
          I.createElement(uo, {
            pageid: n,
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: s,
            rgNotToPruneList: i,
          }),
          (null == c ? void 0 : c.length) > 0
            ? I.createElement(
                I.Fragment,
                null,
                c.map((e, t) =>
                  I.createElement(ko, {
                    key: (a ? "prune" : "invited") + e,
                    pageid: n,
                    appid: e,
                    bInvited: !a && !o,
                    bPendingReview: o,
                    index: t,
                  }),
                ),
              )
            : I.createElement(
                "span",
                null,
                (0, ce.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      function ko(e) {
        return I.createElement(
          co.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          I.createElement(No, Object.assign({}, e)),
        );
      }
      function No(e) {
        const {
            appid: t,
            bInvited: n,
            pageid: a,
            index: i,
            bPendingReview: o,
          } = e,
          [l, r] = (0, ht.vs)(t, po),
          { fnChangeAppPruneState: s } = oo(),
          c = I.useMemo(() => ({ type: "game", id: t }), [t]);
        switch (r) {
          case 1:
            return I.createElement(
              "div",
              null,
              I.createElement(de.V, {
                position: "center",
                size: "small",
                string: (0, ce.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return I.createElement(
              "div",
              null,
              (0, ce.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return I.createElement(
          "div",
          { className: (0, W.Z)(mo.Row, n ? mo.Invited : mo.Pruned) },
          I.createElement(
            so.ll,
            { item: c },
            I.createElement("img", {
              className: mo.CapsuleImg,
              src: l.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          I.createElement(
            "div",
            { className: (0, W.Z)(mo.Column) },
            I.createElement(
              "div",
              { className: mo.TopSection },
              I.createElement(
                "div",
                { className: mo.GameInfo },
                I.createElement(
                  "a",
                  { href: l.GetStorePageURL() },
                  I.createElement("div", { className: mo.Title }, l.GetName()),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_AppReview_Developers",
                    l.GetDeveloperNames().join(","),
                  ),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_AppReview_Publishers",
                    l.GetPublisherNames().join(","),
                  ),
                ),
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    l.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    l.GetFormattedSteamReleaseDate(),
                  ),
                ),
              ),
              I.createElement(
                "div",
                { className: mo.ActionsCtn },
                I.createElement(
                  F.zx,
                  { onClick: () => s(a, [t], n || o) },
                  (0, ce.Xx)(
                    n || o
                      ? "#OptIn_AppReview_Prune"
                      : "#OptIn_AppReview_Unprune",
                  ),
                ),
                Boolean(o) &&
                  I.createElement(
                    F.zx,
                    { onClick: () => s(a, [t], !1) },
                    (0, ce.Xx)("#OptIn_AppReview_Invite"),
                  ),
                Boolean(w.L7.is_support && n) &&
                  I.createElement(Lo, { appid: t, pageid: a }),
              ),
            ),
            I.createElement(
              "div",
              { className: mo.GameInfo },
              I.createElement(
                "div",
                { className: mo.Desc },
                l.GetShortDescription(),
              ),
              I.createElement(xo, { storeItem: l }),
            ),
          ),
          I.createElement(
            "div",
            { className: mo.RowNumber },
            (i + 1).toLocaleString(),
          ),
        );
      }
      function Lo(e) {
        const { appid: t, pageid: n } = e,
          a = (function (e) {
            const [t, n] = (0, I.useState)(io.Get().GetStateForApp(e));
            return (0, u.Qg)(io.Get().GetStateForAppCallback(e), n), t;
          })(t),
          { fnChangeAppAdditionalFeaturingState: i } = {
            fnChangeAppAdditionalFeaturingState:
              io.Get().ChangeAppAdditionalFeaturingState,
          };
        return I.createElement(
          "div",
          { className: Ze().ValveOnlyBackground },
          I.createElement(
            F.zx,
            {
              onClick: () => {
                i(n, [t], !a.additionally_featured)
                  .then((e) => {
                    1 != e &&
                      (0, z.AM)(
                        I.createElement(_e.JX, {
                          strDescription:
                            "Check the console for error messages",
                        }),
                        window,
                      );
                  })
                  .catch(() =>
                    (0, z.AM)(
                      I.createElement(_e.JX, {
                        strDescription: "Check the console for error messages",
                      }),
                      window,
                    ),
                  );
              },
            },
            (0, ce.Xx)(
              a.additionally_featured
                ? "Remove App Featuring"
                : "Add App Featuring",
            ),
          ),
        );
      }
      function xo(e) {
        const { storeItem: t } = e,
          n = I.useMemo(
            () => (null == t ? void 0 : t.GetTags().map((e) => e.tagid)),
            [t],
          ),
          a = (0, ro.Eq)(n);
        return I.createElement(
          "div",
          { className: mo.StoreTags },
          (0, ce.kQ)(
            "#OptIn_AppReview_Tags",
            I.createElement(
              I.Fragment,
              null,
              a.map((e) =>
                I.createElement("span", { key: "tag" + e.tagid }, e.name),
              ),
            ),
          ),
        );
      }
      var Go = n(11401),
        Ro = n.n(Go),
        Oo = n(66813),
        Bo = n.n(Oo);
      function Mo(e) {
        const {
            storeItem: t,
            closeModal: n,
            optInDef: a,
            optInRegistration: i,
          } = e,
          [l, r] = (0, I.useState)(""),
          { fnUpdateOptInRegistrationJson: c } = (0, pt.dS)(),
          m = (0, s.Xj)(a.event_title, (0, d.jM)($e.De.LANGUAGE)),
          p = (0, lt.tx)();
        return p.bLoading
          ? I.createElement(lt.NT, {
              state: p,
              strDialogTitle: (0, ce.Xx)(
                "#OptIn_Appeals_Control_Title",
                t.GetName(),
              ),
              closeModal: n,
            })
          : I.createElement(
              _e.uH,
              {
                strTitle: (0, ce.Xx)(
                  "#OptIn_Appeals_Control_Title",
                  t.GetName(),
                ),
                strOKButtonText: (0, ce.Xx)("#OptIn_Appeals_Dialog_Submit"),
                bDisableBackgroundDismiss: !0,
                onCancel: n,
                onOK: () =>
                  (0, o.mG)(this, void 0, void 0, function* () {
                    p.fnSetLoading(!0);
                    try {
                      const e = JSON.parse(
                        JSON.stringify(
                          "" !== i.jsondata && i.jsondata ? i.jsondata : {},
                        ),
                      );
                      (e.accountid_appealing = $e.L7.accountid),
                        (e.rtime_appeal_created = Math.floor(Date.now() / 1e3)),
                        (e.appeal_message = l),
                        (e.opt_in_name = a.pageid);
                      null == (yield c(t.GetAppID(), e, !0))
                        ? (p.fnSetSuccess(!0),
                          p.fnSetStrSuccess(
                            (0, ce.Xx)("#OptIn_Appeals_Control_Submitted"),
                          ))
                        : (p.fnSetError(!0),
                          p.fnSetStrError(
                            (0, ce.Xx)("#OptIn_Appeals_Dialog_Failed"),
                          ));
                    } catch (e) {
                      const t = (0, A.l)(e);
                      console.error(
                        "OptInAppealsCreateDialog error " + t.strErrorMsg,
                        t,
                        e,
                      ),
                        p.fnSetError(!0),
                        p.fnSetStrError(
                          (0, ce.Xx)("#OptIn_Appeals_Dialog_Failed"),
                        );
                    }
                  }),
              },
              I.createElement(
                "div",
                { className: Bo().AppealsEntryForm },
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Dialog_Desc"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.yu)(
                    "#OptIn_Appeals_Dialog_Desc2",
                    I.createElement("a", { href: t.GetStorePageURL() }),
                    I.createElement("a", {
                      href: `${
                        $e.De.PARTNER_BASE_URL
                      }taxonomy/tagwizard/${t.GetAppID()}`,
                    }),
                  ),
                ),
                I.createElement(
                  "h3",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Dialog_InputTitle"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Dialog_InputDesc"),
                ),
                I.createElement("textarea", {
                  value: l,
                  className: Bo().AppealTextInput,
                  onChange: (e) => {
                    r(e.currentTarget.value);
                  },
                  ref: (e) => e && e.focus(),
                }),
                I.createElement(
                  "h3",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_ReviewProcessTitle"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_Submitted_Desc", m),
                ),
              ),
            );
      }
      function Po(e) {
        const {
            optInDef: t,
            optInRegistration: n,
            storeItem: a,
            closeModal: i,
            bReject: l,
          } = e,
          { fnUpdateOptInRegistrationJson: r } = (0, pt.dS)(),
          s = (0, lt.tx)();
        return s.bLoading
          ? I.createElement(lt.NT, {
              state: s,
              strDialogTitle: (0, ce.Xx)(
                l ? "Rejecting Appeal Data" : "Clearing Appeal Data",
                a.GetName(),
              ),
              closeModal: i,
            })
          : I.createElement(_e.uH, {
              strTitle: l ? "Reject Appear" : "Clear Appeal data?",
              strDescription: "Are you sure?",
              bDisableBackgroundDismiss: !0,
              onCancel: i,
              onOK: () =>
                (0, o.mG)(this, void 0, void 0, function* () {
                  s.fnSetLoading(!0);
                  try {
                    const e = JSON.parse(
                      JSON.stringify(
                        "" !== n.jsondata && n.jsondata ? n.jsondata : {},
                      ),
                    );
                    (e.accountid_appealing = void 0),
                      (e.rtime_appeal_created = void 0),
                      (e.appeal_message = void 0),
                      (e.opt_in_name = t.pageid),
                      (e.appeal_rejected = void 0),
                      (e.reject_accountid = void 0);
                    null == (yield r(a.GetAppID(), e, !1))
                      ? (s.fnSetSuccess(!0),
                        s.fnSetStrSuccess(
                          (0, ce.Xx)("#OptIn_Appeals_Control_Submitted"),
                        ))
                      : (s.fnSetError(!0),
                        s.fnSetStrError(
                          (0, ce.Xx)("#OptIn_Appeals_Dialog_Failed"),
                        ));
                  } catch (e) {
                    const t = (0, A.l)(e);
                    console.error(
                      "ClearAppealDialog error " + t.strErrorMsg,
                      t,
                      e,
                    ),
                      s.fnSetError(!0),
                      s.fnSetStrError(
                        (0, ce.Xx)("#OptIn_Appeals_Dialog_Failed"),
                      );
                  }
                }),
            });
      }
      function Fo(e) {
        const { optInDef: t } = e,
          n = tt(t);
        return I.createElement(
          "div",
          { className: Ze().RightCol },
          I.createElement(
            "div",
            { className: Ze().ColHeader },
            Boolean(n) &&
              I.createElement("div", {
                className: Ze().ColHeaderImg,
                style: { backgroundImage: `url( '${n}' )` },
              }),
          ),
          I.createElement(
            "div",
            { className: Ze().SectionCtn },
            I.createElement(Uo, Object.assign({}, e)),
            Boolean($e.L7.is_support) &&
              I.createElement(jo, Object.assign({}, e)),
          ),
        );
      }
      function Uo(e) {
        const { optInDef: t } = e;
        return I.createElement(qo, { optInDef: t });
      }
      function jo(e) {
        const { optInDef: t, optInRegistration: n } = e,
          { fnUpdateAppToInvitation: a } = mt();
        return I.createElement(
          I.Fragment,
          null,
          I.createElement("br", null),
          I.createElement("br", null),
          I.createElement(
            "div",
            { className: H().ValveOnlyBackground },
            I.createElement(
              "ul",
              null,
              I.createElement(
                "li",
                null,
                I.createElement(
                  "a",
                  {
                    href: `${$e.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                  },
                  "Edit OptIn Definition",
                ),
              ),
              I.createElement(
                "li",
                null,
                I.createElement(
                  "a",
                  {
                    href: `${$e.De.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=appeal`,
                  },
                  "Go to Appeals Review Page",
                ),
              ),
            ),
            I.createElement("br", null),
            I.createElement(
              F.zx,
              {
                onClick: (t) =>
                  (0, z.AM)(
                    I.createElement(Ho, Object.assign({}, e)),
                    (0, Z.RA)(t),
                  ),
              },
              "(VO) Invite App to Participate",
            ),
            I.createElement("br", null),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(
                      _e.uH,
                      {
                        strTitle: (0, ce.Xx)("#OptIn_Debug"),
                        bAlertDialog: !0,
                      },
                      I.createElement(He.G, { data: n }),
                    ),
                    (0, Z.RA)(e),
                  ),
              },
              "(VO) " + (0, ce.Xx)("#OptIn_Debug"),
            ),
            I.createElement(
              F.zx,
              {
                onClick: (e) =>
                  (0, z.AM)(
                    I.createElement(
                      _e.uH,
                      {
                        strTitle: (0, ce.Xx)("#OptIn_Def_Debug"),
                        bAlertDialog: !0,
                      },
                      I.createElement(He.G, { data: t }),
                    ),
                    (0, Z.RA)(e),
                  ),
              },
              "(VO) " + (0, ce.Xx)("#OptIn_Def_Debug"),
            ),
            Boolean(n.jsondata.accountid_appealing) &&
              I.createElement(
                I.Fragment,
                null,
                I.createElement(
                  F.zx,
                  {
                    onClick: (t) =>
                      (0, z.AM)(
                        I.createElement(Po, Object.assign({ bReject: !1 }, e)),
                        (0, Z.RA)(t),
                      ),
                  },
                  "Clear Appeal Data",
                ),
                I.createElement(
                  F.zx,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(Io, {
                          appid: n.appid,
                          registration: n,
                          bAcceptAppeal: !0,
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "Accept Appeal and Email Requested",
                ),
                I.createElement(
                  F.zx,
                  {
                    onClick: (e) =>
                      (0, z.AM)(
                        I.createElement(Io, {
                          appid: n.appid,
                          registration: n,
                          bAcceptAppeal: !1,
                        }),
                        (0, Z.RA)(e),
                      ),
                  },
                  "REJECT Appeal and Email Requested",
                ),
              ),
          ),
        );
      }
      function Ho(e) {
        var t;
        const { optInDef: n, optInRegistration: a, closeModal: i } = e,
          { fnUpdateAppToInvitation: o } = mt(),
          l = (0, lt.tx)();
        return l.bLoading
          ? I.createElement(lt.NT, {
              state: l,
              strDialogTitle: "Inviting App to Participate",
              closeModal: i,
            })
          : I.createElement(
              _e.uH,
              {
                strTitle: "Invite App to Participate",
                onCancel: i,
                onOK: () => {
                  l.fnSetLoading(!0),
                    o(n.pageid, [a.appid], !0, !1, !1)
                      .then((e) => {
                        1 == e
                          ? l.fnSetElSuccess(
                              I.createElement(
                                "div",
                                null,
                                I.createElement(
                                  "span",
                                  null,
                                  "Success. Please reload the page to verify.",
                                ),
                                I.createElement("br", null),
                                I.createElement(
                                  "a",
                                  {
                                    href: `${$e.De.PARTNER_BASE_URL}optin/sale/${n.pageid}/${a.appid}`,
                                  },
                                  "Or go to registration Page.",
                                ),
                              ),
                            )
                          : l.fnSetStrError("Failed with error code: " + e);
                      })
                      .catch(() =>
                        l.fnSetStrError(
                          "failed with exception, check console ouput.",
                        ),
                      );
                },
              },
              I.createElement(
                "div",
                null,
                "Confirm we want to invite this appear to register for ",
                null === (t = n.event_title) || void 0 === t
                  ? void 0
                  : t.english,
                "? They will need to perform the registration after you invite completes",
              ),
            );
      }
      function Xo(e) {
        const { appid: t, pageid: n } = e,
          [a] = (0, ht.vs)(t, { include_release: !0 }),
          i = (0, w.kQ)("eligible_due_optin_def", "application_config"),
          o = N(n),
          l = (0, pt.Rz)(t, n);
        if (!o)
          return I.createElement(
            "div",
            null,
            (0, ce.Xx)("#OptIn_Appeals_DoesNotExist", n),
          );
        const r = (0, s.Xj)(o.event_title, (0, d.jM)($e.De.LANGUAGE)),
          c = Math.floor(Date.now() / 1e3);
        return o.event_end_date < c
          ? I.createElement("div", null, (0, ce.Xx)("#OptIn_Appeals_IsOver"))
          : a
          ? l.invited || l.opt_in || l.time_opted_out || i
            ? I.createElement(
                "div",
                null,
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)(
                    "#OptIn_Appeals_AlreadyPartOfEvent",
                    a.GetName(),
                    r,
                  ),
                ),
                I.createElement(
                  "a",
                  { href: `${$e.De.PARTNER_BASE_URL}optin/sale/${n}/${t}` },
                  (0, ce.Xx)("#OptIn_Appeals_RegistrationPage"),
                ),
              )
            : I.createElement(
                "div",
                { className: Ze().AdminPageCtn },
                I.createElement(
                  "div",
                  { className: Ze().PageTitle },
                  a.GetName(),
                  " (",
                  t,
                  ")",
                  I.createElement(
                    "span",
                    null,
                    (0, ce.Xx)("#OptIn_Appeals_Title", r),
                  ),
                ),
                I.createElement("hr", null),
                I.createElement(zo, {
                  optInDef: o,
                  optInRegistration: l,
                  storeItem: a,
                }),
              )
          : I.createElement(de.V, {
              position: "center",
              string: (0, ce.Xx)("#Loading"),
            });
      }
      function zo(e) {
        const { optInDef: t, optInRegistration: n } = e,
          a = (0, s.Xj)(t.event_title, (0, d.jM)($e.De.LANGUAGE)),
          i = tt(t);
        let o = "#OptIn_Appeals_Title_Pruned";
        return (
          n.accountid_appeal && 1 != n.appeal_state && 2 != n.appeal_state
            ? (o = "#OptIn_Appeals_Title_AppealProcess")
            : (!n.pending_review && n.pruned) ||
              (o = "#OptIn_Appeals_Title_NotReviewed"),
          I.createElement(
            "div",
            { className: Ze().ColumnCtn },
            I.createElement(
              "div",
              { className: Ze().LeftCol },
              I.createElement(
                "div",
                { className: Ze().ColHeader },
                Boolean(i)
                  ? I.createElement("div", {
                      className: Ze().ColHeaderImg,
                      style: { backgroundImage: `url( '${i}' )` },
                    })
                  : Boolean(a) && I.createElement("div", null, a),
              ),
              I.createElement(
                "div",
                { className: Ze().SectionCtn },
                I.createElement(
                  "h1",
                  { className: Ro().AppealTitle },
                  (0, ce.Xx)(o),
                ),
              ),
              I.createElement(Vo, Object.assign({}, e)),
              I.createElement(Wo, Object.assign({}, e)),
            ),
            I.createElement(Fo, Object.assign({}, e)),
          )
        );
      }
      function Vo(e) {
        const { optInDef: t, storeItem: n, optInRegistration: a } = e;
        let i = "#OptIn_Appeals_ReviewLine";
        (!a.pending_review && a.pruned) ||
          (i = "#OptIn_Appears_NotReviewed_ReviewLine");
        const o = (0, s.Xj)(t.event_title, (0, d.jM)($e.De.LANGUAGE)),
          l = (0, s.Xj)(t.appeals_text, (0, d.jM)($e.De.LANGUAGE), null);
        return I.createElement(
          "div",
          { className: Ze().SectionCtn },
          I.createElement("h1", null, (0, ce.Xx)(i, n.GetName())),
          I.createElement("p", null, (0, ce.Xx)("#OptIn_Appeals_ReviewLine_1")),
          I.createElement(
            "p",
            null,
            (0, ce.yu)(
              "#OptIn_Appeals_ReviewLine_2",
              I.createElement("a", {
                href: `${
                  $e.De.PARTNER_BASE_URL
                }taxonomy/tagwizard/${n.GetAppID()}`,
              }),
            ),
          ),
          Boolean(l) &&
            I.createElement(
              I.Fragment,
              null,
              I.createElement(
                "h1",
                null,
                (0, ce.Xx)("#OptIn_Appeals_EligibilityTitle", o),
              ),
              I.createElement(Gi.d, { text: l }),
            ),
        );
      }
      function Wo(e) {
        var t;
        const { optInDef: n, optInRegistration: a, storeItem: i } = e;
        let o = !1;
        if (
          (null === (t = n.release_date_eligibility) || void 0 === t
            ? void 0
            : t.include_unreleased_games) &&
          n.release_date_eligibility.release_after_date
        )
          if (i.BIsComingSoon()) {
            const e = (0, w.kQ)("rt_steam_release_date", "application_config");
            if (e < n.release_date_eligibility.release_after_date) {
              if (e > Math.floor(Date.now() / 1e3))
                return I.createElement(
                  "div",
                  { className: Ze().SectionCtn },
                  I.createElement(
                    "h1",
                    null,
                    (0, ce.Xx)("#OptIn_Appeals_NotPossible_Title"),
                  ),
                  I.createElement(
                    "div",
                    { className: Ze().warning },
                    I.createElement(
                      "p",
                      null,
                      (0, ce.Xx)(
                        "#OptIn_Appeals_NotPossible_Desc1",
                        (0, ce.$1)(
                          n.release_date_eligibility.release_after_date,
                        ),
                      ),
                      " ",
                      (0, ce.Xx)("#OptIn_Appeals_NotPossible_Desc2"),
                    ),
                    I.createElement(
                      "p",
                      null,
                      (0, ce.yu)(
                        "#OptIn_Appeals_NotPossible_Desc3",
                        I.createElement("a", {
                          href:
                            $e.De.PARTNER_BASE_URL + "doc/store/release_dates",
                        }),
                      ),
                    ),
                  ),
                );
              o = !0;
            }
          } else if (
            !n.release_date_eligibility.include_released_games &&
            i.BIsReleased()
          )
            return I.createElement(
              "div",
              { className: Ze().SectionCtn },
              I.createElement(
                "h1",
                null,
                (0, ce.Xx)("#OptIn_Appeals_NotPossible_Title"),
              ),
              I.createElement(
                "div",
                { className: Ze().warning },
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_NotPossible_Desc4"),
                ),
              ),
            );
        return I.createElement(
          Zo,
          Object.assign({}, e, { bShowReleaseDatePassed: o }),
        );
      }
      function Zo(e) {
        var t;
        const {
            optInDef: n,
            optInRegistration: a,
            storeItem: i,
            bShowReleaseDatePassed: o,
          } = e,
          l = Boolean(
            null === (t = a.jsondata) || void 0 === t
              ? void 0
              : t.rtime_appeal_created,
          ),
          r = Boolean(2 === a.appeal_state),
          c = (0, s.Xj)(n.event_title, (0, d.jM)($e.De.LANGUAGE));
        let m = "#OptIn_Appeals_Control_Title",
          p = "#OptIn_Appeals_Control_Desc";
        return (
          2 == a.appeal_state
            ? ((m = "#OptIn_Appeals_Control_Rejected_Title"),
              (p = "#OptIn_Appeals_Control_Rejected_Desc"))
            : (!a.pending_review && a.pruned) ||
              (m = "#OptIn_Appeals_Control_NotReviewed_Title"),
          I.createElement(
            "div",
            { className: Ze().SectionCtn },
            I.createElement("h1", null, (0, ce.Xx)(m, i.GetName())),
            I.createElement("p", null, (0, ce.Xx)(p, i.GetName())),
            Boolean(o) &&
              I.createElement(
                "div",
                { className: Ze().warning },
                I.createElement(
                  "h3",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Possible_WarningTitle"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Possible_warning"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.yu)(
                    "#OptIn_Appeals_NotPossible_Desc3",
                    I.createElement("a", {
                      href: $e.De.PARTNER_BASE_URL + "doc/store/release_dates",
                    }),
                  ),
                ),
              ),
            Boolean(!l) &&
              I.createElement(
                "div",
                { className: Ro().ButtonCtn },
                I.createElement(
                  F.zx,
                  {
                    onClick: (t) =>
                      (0, z.AM)(
                        I.createElement(Mo, Object.assign({}, e)),
                        (0, Z.RA)(t),
                      ),
                  },
                  (0, ce.Xx)("#OptIn_Appeals_Control_Button"),
                ),
              ),
            Boolean(l && !r) &&
              I.createElement(
                "div",
                { className: Ro().AppealResults },
                I.createElement(
                  "h2",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_Submitted_Title"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_Submitted_Desc", c),
                ),
              ),
            Boolean(r) &&
              I.createElement(
                "div",
                { className: (0, W.Z)(Ro().AppealResults, Ro().Declined) },
                I.createElement(
                  "h2",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_Declined"),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.Xx)("#OptIn_Appeals_Control_Declined_Desc1", c),
                ),
                I.createElement(
                  "p",
                  null,
                  (0, ce.yu)(
                    "#OptIn_Appeals_Control_Declined_Desc2",
                    I.createElement("a", {
                      href: "https://partner.steamgames.com/doc/marketing/upcoming_events",
                    }),
                  ),
                ),
              ),
          )
        );
      }
      function qo(e) {
        const { optInDef: t } = e,
          n = (0, s.Xj)(t.event_title, (0, d.jM)($e.De.LANGUAGE)),
          a = t.public_doc_wiki_url,
          i = (0, s.Xj)(t.help_text, (0, d.jM)($e.De.LANGUAGE), null);
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "div",
            { className: Ze().TitleSmall },
            (0, ce.Xx)("#DiscountDashboard_HelpAreaText"),
          ),
          Boolean(a) &&
            I.createElement(
              "div",
              null,
              (0, ce.kQ)(
                "#OptIn_Appeals_HelpDoc",
                I.createElement(
                  "a",
                  { href: a },
                  (0, ce.Xx)("#OptIn_Appeals_HelpDoc_link", n),
                ),
              ),
            ),
          Boolean(i)
            ? I.createElement("div", null, I.createElement(Gi.d, { text: i }))
            : I.createElement(
                "p",
                null,
                (0, ce.yu)(
                  "#OptIn_Appeals_HelpDoc_General",
                  I.createElement("a", {
                    href: "https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales",
                  }),
                ),
              ),
          I.createElement(
            "div",
            { className: Ze().TitleSmall },
            (0, ce.Xx)("#OptIn_Appeals_HelpDoc_NeedHelp"),
          ),
          I.createElement(
            "a",
            {
              href:
                $e.De.HELP_BASE_URL +
                "en/wizard/HelpWithPublishing?issueid=933",
            },
            (0, ce.Xx)("#PricingDashboard_ContactUsButton"),
          ),
        );
      }
      function Yo(e) {
        const t = e;
        return (
          t &&
          Array.isArray(t) &&
          t.length > 0 &&
          "number" == typeof t[0].appid &&
          "string" == typeof t[0].app_name
        );
      }
      function Qo() {
        const [e, t] = (0, I.useState)(null);
        return (
          (0, I.useEffect)(() => {
            const e = (0, w.ip)("optin_registered", "application_config");
            Yo(e) &&
              ("dev" === w.De.WEB_UNIVERSE &&
                console.log(
                  "useOptInRegistrationForDashboardNotPruned has " + e.length,
                ),
              t(
                e
                  .map((e) =>
                    e.jsondata && "" !== e.jsondata
                      ? Object.assign(Object.assign({}, e), {
                          jsondata: JSON.parse(e.jsondata),
                        })
                      : Object.assign(Object.assign({}, e), { jsondata: {} }),
                  )
                  .filter((e) => {
                    var t;
                    return null === (t = e.jsondata) || void 0 === t
                      ? void 0
                      : t.opt_in;
                  }),
              ));
          }, []),
          e
        );
      }
      var Ko = n(85886),
        $o = n(21963);
      function Jo(e) {
        const { pageid: t } = e,
          n = N(t),
          a = (0, I.useMemo)(
            () => (0, w.kQ)("partner_id", "application_config"),
            [],
          ),
          [i] = (0, Yn.DV)(a);
        if (!n)
          return I.createElement(
            "div",
            null,
            (0, ce.Xx)("#OptIn_Appeals_DoesNotExist", t),
          );
        const o = (0, s.Xj)(n.event_title, (0, d.jM)($e.De.LANGUAGE));
        return I.createElement(
          "div",
          { className: Ze().AdminPageCtn },
          I.createElement(
            "div",
            { className: Ze().PageTitle },
            (0, ce.Xx)("#OptIn_Title", o),
          ),
          I.createElement(
            "div",
            null,
            (0, ce.Xx)("#OptIn_DashBoard", i.name || "", a),
          ),
          I.createElement("hr", null),
          I.createElement(el, { optInDef: n }),
        );
      }
      function el(e) {
        const { optInDef: t } = e,
          n = Math.floor(Date.now() / 1e3);
        return t.event_end_date < n
          ? I.createElement("div", null, (0, ce.Xx)("#OptIn_Appeals_IsOver"))
          : I.createElement(
              "div",
              { className: Ze().ColumnCtn },
              I.createElement(
                "div",
                { className: Ze().LeftCol },
                t.event_end_date < n
                  ? I.createElement("div", null, (0, ce.Xx)("#OptIn_IsOver"))
                  : I.createElement(
                      I.Fragment,
                      null,
                      I.createElement(al, { optInDef: t }),
                      I.createElement(il, { optInDef: t }),
                      I.createElement(ol, { optInDef: t }),
                      I.createElement(rl, { optInDef: t }),
                    ),
              ),
              I.createElement(
                "div",
                { className: Ze().RightCol },
                I.createElement(tl, { optInDef: t }),
                I.createElement(nl, { optInDef: t }),
                I.createElement(cl, { optInDef: t }),
              ),
            );
      }
      function tl(e) {
        const { optInDef: t } = e,
          n = ((0, s.Xj)(t.event_title, (0, d.jM)($e.De.LANGUAGE)), tt(t));
        return I.createElement(
          "div",
          { className: Ze().ColHeader },
          Boolean(n) &&
            I.createElement("div", {
              className: Ze().ColHeaderImg,
              style: { backgroundImage: `url( '${n}' )` },
            }),
          I.createElement(
            "div",
            { className: Ze().SmallText },
            (0, ce.Xx)("#DiscountDashboard_DetailView_StartTimeLabel"),
            " ",
            I.createElement("span", null, (0, mn.$1)(t.event_start_date), " "),
          ),
          I.createElement(
            "div",
            { className: Ze().SmallText },
            (0, ce.Xx)("#DiscountDashboard_DetailView_EndTimeLabel"),
            " ",
            I.createElement("span", null, (0, mn.$1)(t.event_end_date), " "),
          ),
        );
      }
      function nl(e) {
        var t, n;
        const { optInDef: a } = e;
        return (
          null === (t = a.do_anytime) || void 0 === t
            ? void 0
            : t.discount_event_id
        )
          ? I.createElement(
              "div",
              { className: Ze().SectionCtn },
              I.createElement(
                "div",
                { className: Ze().TitleSmall },
                (0, ce.Xx)("#OptIn_EnterDiscount"),
              ),
              I.createElement(
                "p",
                null,
                I.createElement(
                  "a",
                  {
                    href: `${
                      $e.De.PARTNER_BASE_URL
                    }promotion/discounts/dashboard/?de=${
                      null === (n = a.do_anytime) || void 0 === n
                        ? void 0
                        : n.discount_event_id
                    }`,
                  },
                  (0, ce.Xx)("#OptIn_EnterDiscount_Button"),
                ),
              ),
            )
          : null;
      }
      function al(e) {
        const { optInDef: t } = e,
          n = (0, s.Xj)(t.event_title, (0, d.jM)($e.De.LANGUAGE)),
          a = tt(t),
          i = (0, s.Xj)(t.description, (0, d.jM)($e.De.LANGUAGE), null);
        return I.createElement(
          I.Fragment,
          null,
          I.createElement(
            "div",
            { className: Ze().ColHeader },
            Boolean(a)
              ? I.createElement("div", {
                  className: Ze().ColHeaderImg,
                  style: { backgroundImage: `url( '${a}' )` },
                })
              : Boolean(n) && I.createElement("div", null, n),
          ),
          I.createElement(
            "div",
            { className: Ze().SectionCtn },
            Boolean(t.optin_deadline_date) &&
              I.createElement(
                "h1",
                null,
                (0, ce.Xx)("#OptIn_Submission_Deadline"),
                " ",
                (0, mn.$1)(t.optin_deadline_date),
              ),
            Boolean(i) && I.createElement(Gi.d, { text: i }),
          ),
        );
      }
      function il(e) {
        const { optInDef: t } = e,
          n = Qo();
        return n && 0 != n.length
          ? I.createElement(
              "div",
              { className: Ze().SectionCtn },
              I.createElement(
                "div",
                null,
                (0, ce.Xx)("#OptIn_Registered_Games"),
              ),
              I.createElement(
                "table",
                null,
                I.createElement(
                  "thead",
                  null,
                  I.createElement(
                    "tr",
                    null,
                    I.createElement(
                      "th",
                      null,
                      (0, ce.Xx)("#OptIn_Table_Col_Game"),
                    ),
                    I.createElement(
                      "th",
                      null,
                      (0, ce.Xx)("#OptIn_Table_Col_AppID"),
                    ),
                    I.createElement("th", null),
                  ),
                ),
                I.createElement(
                  "tbody",
                  null,
                  n.map((e) =>
                    I.createElement(ll, {
                      key: "registered_" + e.appid,
                      bReview: !0,
                      appid: e.appid,
                      appName: e.app_name,
                      optInDef: t,
                    }),
                  ),
                ),
              ),
            )
          : null;
      }
      function ol(e) {
        const { optInDef: t } = e,
          n = (function () {
            const [e, t] = (0, I.useState)(null);
            return (
              (0, I.useEffect)(() => {
                const e = (0, w.ip)(
                  "optin_opportunities",
                  "application_config",
                );
                Yo(e) &&
                  ("dev" === w.De.WEB_UNIVERSE &&
                    console.log(
                      "useOptInOpportunitiesForDashboard has " + e.length,
                    ),
                  t(
                    e.map((e) =>
                      e.jsondata && "" !== e.jsondata
                        ? Object.assign(Object.assign({}, e), {
                            jsondata: JSON.parse(e.jsondata),
                          })
                        : Object.assign(Object.assign({}, e), { jsondata: {} }),
                    ),
                  ));
              }, []),
              e
            );
          })(),
          a = Qo();
        return (!n || 0 == n.length) && (null == a ? void 0 : a.length) > 0
          ? null
          : I.createElement(
              "div",
              { className: Ze().SectionCtn },
              I.createElement("h1", null, (0, ce.Xx)("#OptIn_Eligible_Games")),
              Boolean(!n || 0 == n.length)
                ? I.createElement(
                    "div",
                    null,
                    (0, ce.Xx)("#OptIn_NoEligible_Games_Found"),
                  )
                : I.createElement(
                    "table",
                    { className: Le().EligibleGamesTable },
                    I.createElement(
                      "thead",
                      null,
                      I.createElement(
                        "tr",
                        null,
                        I.createElement(
                          "th",
                          null,
                          (0, ce.Xx)("#OptIn_Table_Col_AppID"),
                        ),
                        I.createElement(
                          "th",
                          null,
                          (0, ce.Xx)("#OptIn_Table_Col_Game"),
                        ),
                        I.createElement("th", null),
                      ),
                    ),
                    I.createElement(
                      "tbody",
                      null,
                      n.map((e) =>
                        I.createElement(ll, {
                          key: "opportunity_" + e.appid,
                          appid: e.appid,
                          appName: e.app_name,
                          optInDef: t,
                        }),
                      ),
                    ),
                  ),
            );
      }
      function ll(e) {
        const { appid: t, appName: n, optInDef: a, bReview: i } = e;
        return I.createElement(
          "tr",
          null,
          I.createElement("td", null, t),
          I.createElement("td", null, n),
          I.createElement(
            "td",
            null,
            I.createElement(
              "a",
              { href: `${$e.De.PARTNER_BASE_URL}optin/sale/${a.pageid}/${t}` },
              (0, ce.Xx)(i ? "#OptIn_ReviewReg" : "#OptIn_OptIn"),
            ),
          ),
        );
      }
      function rl(e) {
        const { optInDef: t } = e,
          [n, a] = (0, I.useState)(null),
          [i] = (0, ht.jk)((0, Ko.u$)(n), (0, Ko.D3)(n), {
            include_assets: !0,
          }),
          o =
            (null == n ? void 0 : n.appid) &&
            0 == (null == i ? void 0 : i.GetAppType());
        return I.createElement(
          "div",
          { className: Ze().SectionCtn },
          I.createElement(
            "h1",
            null,
            (0, ce.Xx)("#OptIn_EligibleMissed_Title"),
          ),
          I.createElement("p", null, (0, ce.Xx)("#OptIn_NoEligible_Desc1")),
          I.createElement(
            "div",
            { className: Go.AppealsEntryPointCtn },
            I.createElement(
              "h3",
              null,
              (0, ce.Xx)("#OptIn_EligibleMissed_GetStarted"),
            ),
            I.createElement("p", null, (0, ce.Xx)("#OptIn_NoEligible_Desc2")),
            I.createElement($o.u, {
              itemType: 0,
              strLabel: (0, ce.Xx)("#OptIn_SearchGame"),
              fnSetItemID: (e) => {
                (n && n.appid == e) || a({ appid: e });
              },
            }),
            I.createElement(
              "div",
              { className: Go.AppealSelectedApp },
              I.createElement(sl, { oFeaturedItem: n, oStoreItem: i }),
              I.createElement(
                F.zx,
                {
                  disabled: !o,
                  onClick: (e) =>
                    (0, V.b8)(
                      e,
                      `${$e.De.PARTNER_BASE_URL}optin/appeal/${t.pageid}/${
                        null == n ? void 0 : n.appid
                      }`,
                    ),
                },
                (0, ce.Xx)(
                  o
                    ? "#OptIn_Appeals_Begin_Button"
                    : "#OptIn_SelectGameToAppeal",
                  null == i ? void 0 : i.GetName(),
                ),
              ),
            ),
          ),
        );
      }
      function sl(e) {
        const { oFeaturedItem: t, oStoreItem: n } = e;
        return t && !n
          ? I.createElement(
              "div",
              null,
              (0, ce.Xx)("#OptIn_LoadingAppDetails", t.appid),
            )
          : n
          ? I.createElement(
              "div",
              { className: Go.SelectedApp },
              I.createElement("img", { src: n.GetAssets().GetHeaderURL() }),
              I.createElement("div", null, n.GetName(), " ", "(", t.appid, ")"),
              Boolean(0 != n.GetAppType()) &&
                I.createElement(
                  "div",
                  null,
                  (0, ce.Xx)("#OptIn_Dashbroad_NotSupportType"),
                ),
            )
          : null;
      }
      function cl(e) {
        const { optInDef: t } = e;
        return I.createElement(
          "div",
          { className: Ze().SectionCtn },
          I.createElement(qo, { optInDef: t }),
          Boolean($e.L7.is_support) &&
            I.createElement(
              "div",
              { className: H().ValveOnlyBackground },
              I.createElement(
                "a",
                {
                  href: `${$e.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                },
                "Edit OptIn Definition",
              ),
            ),
        );
      }
      var dl = n(78227);
      function ml(e) {
        const t = R.Get(),
          n = M(),
          a = (0, q.zD)(),
          i = (0, I.useMemo)(() => {
            const { jsonOptedIn: e, jsonInvited: t } = n;
            return [...e.map((e) => e.appid), ...t.map((e) => e.appid)];
          }, [n]),
          o = t.GetEventStartTime(),
          l = t.GetEventEndTime(),
          r = l - o,
          s = o - r,
          c = l + r;
        return I.createElement(
          U.SV,
          null,
          I.createElement(
            "div",
            { className: Ze().AdminPageCtn },
            I.createElement(
              "div",
              { className: Ze().PageTitle },
              "OptIn Admin Analysis: ",
              t.GetName(),
            ),
            I.createElement(
              "div",
              { className: Ze().PageSubTitle },
              "Sales stats will only work on opt-in that were setup as invite only as we build the stats for opted in and invted apps",
            ),
            I.createElement(
              "div",
              null,
              I.createElement(Qt, { ctnOverride: " " }),
              I.createElement(
                F.zx,
                null,
                I.createElement(
                  P.rU,
                  { to: yl.OptinAdminDashboard() },
                  "Dashboard",
                ),
              ),
            ),
            I.createElement("br", null),
            I.createElement("hr", null),
            I.createElement(
              "div",
              null,
              Boolean(0 == i.length)
                ? I.createElement(de.V, {
                    string: "Loading App Opt In / Invites",
                    size: "medium",
                    position: "center",
                  })
                : I.createElement(
                    "div",
                    { className: Ze().SectionCtn },
                    I.createElement(gl, {
                      rtBaselineStart: s,
                      rtBaselineEnd: o,
                      rtCompareStart: o,
                      rtCompareEnd: l,
                      rtPostlineStart: c < a ? l : void 0,
                      rtPostlineEnd: c < a ? c : void 0,
                      rgAppIDs: i,
                      strComparisonName: t.GetName(),
                    }),
                  ),
            ),
          ),
        );
      }
      const pl = { minimumFractionDigits: 0, maximumFractionDigits: 0 },
        ul = { minimumFractionDigits: 1, maximumFractionDigits: 1 };
      function _l(e) {
        return `$${e.toLocaleString(void 0, pl)}`;
      }
      function hl(e) {
        return `${(100 * e).toLocaleString(void 0, ul)} %`;
      }
      function gl(e) {
        var t;
        const {
            rtBaselineStart: n,
            rtBaselineEnd: a,
            rtCompareStart: i,
            rtCompareEnd: o,
            rgAppIDs: l,
            strComparisonName: r,
            rtPostlineStart: s,
            rtPostlineEnd: c,
          } = e,
          d = (0, dl.dI)(n, a, l),
          m = (0, dl.dI)(i, o, l),
          p = (0, dl.dI)(s, c, l),
          [u, _] = (0, I.useState)(20),
          h = (0, I.useMemo)(
            () => (null == m ? void 0 : m.GetTopNApps(u)) || [],
            [m, u],
          );
        if (!d || !m || (!p && c))
          return I.createElement(de.V, {
            string: `Loading Packages Stats for ${l.length} apps`,
            size: "medium",
            position: "center",
          });
        const g = Math.max(1, Math.ceil((a - n) / 86400)),
          E = d.GetTotalSummary().gross_sales_usd / g / 100,
          v = d.GetTotalSummary().gross_sales_usd / 100,
          S = Math.max(1, Math.ceil((o - i) / 86400)),
          f = m.GetTotalSummary().gross_sales_usd / S / 100,
          y = m.GetTotalSummary().gross_sales_usd / 100,
          D = E > 0 ? f / E : 0;
        let b, C, A, T;
        p &&
          ((b = Math.max(1, Math.ceil((c - s) / 86400))),
          (C = p.GetTotalSummary().gross_sales_usd / S / 100),
          (A = p.GetTotalSummary().gross_sales_usd / 100),
          (T = E > 0 ? C / E : 0));
        const w =
            d.GetTotalSummary().gross_sales_usd +
            m.GetTotalSummary().gross_sales_usd +
            ((null === (t = null == p ? void 0 : p.GetTotalSummary()) ||
            void 0 === t
              ? void 0
              : t.gross_sales_usd) || 0),
          k = d.GetTotalSummary().gross_sales_usd / w,
          N = m.GetTotalSummary().gross_sales_usd / w;
        let L;
        return (
          p && (L = p.GetTotalSummary().gross_sales_usd / w),
          I.createElement(
            "div",
            null,
            I.createElement(
              "div",
              { className: Q().TopStatsCtn },
              I.createElement(
                "div",
                { className: Q().FeaturedApps },
                I.createElement(
                  "div",
                  { className: Q().BigNumber },
                  l.length.toLocaleString(),
                ),
                I.createElement("span", null, "Included Apps"),
              ),
              I.createElement(
                "div",
                { className: Q().FeaturedApps },
                I.createElement("div", { className: Q().BigNumber }, _l(y)),
                I.createElement("span", null, "Total Revenue"),
              ),
              I.createElement(
                "div",
                { className: Q().FeaturedApps },
                I.createElement("div", { className: Q().BigNumber }, hl(D)),
                I.createElement("span", null, "Revenue Lift"),
              ),
            ),
            I.createElement("br", null),
            I.createElement(
              "div",
              { className: Q().ComparisonRichTable },
              I.createElement(
                "table",
                null,
                I.createElement(
                  "tr",
                  null,
                  I.createElement("th", null, "Period"),
                  I.createElement("th", null, "Length"),
                  I.createElement("th", null, "Dates"),
                  I.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total $",
                  ),
                  I.createElement("th", null, "Visual"),
                  I.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Daily Avg. $",
                  ),
                  I.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Revenue change vs. base",
                  ),
                ),
                I.createElement(
                  "tr",
                  null,
                  I.createElement("td", null, "Baseline"),
                  I.createElement("td", null, g, " days"),
                  I.createElement(
                    "td",
                    null,
                    I.createElement(X.Sw, { rtStartDate: n, rtEndDate: a }),
                  ),
                  I.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    _l(v),
                  ),
                  I.createElement(
                    "td",
                    null,
                    I.createElement("div", {
                      style: { width: 300 * k + "px" },
                      className: Q().VisualBar,
                    }),
                  ),
                  I.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    _l(E),
                  ),
                  I.createElement("td", { style: { textAlign: "right" } }),
                ),
                I.createElement(
                  "tr",
                  null,
                  I.createElement("td", null, r || "Comparison"),
                  I.createElement("td", null, S, " days"),
                  I.createElement(
                    "td",
                    null,
                    I.createElement(X.Sw, { rtStartDate: i, rtEndDate: o }),
                  ),
                  I.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    _l(y),
                  ),
                  I.createElement(
                    "td",
                    null,
                    I.createElement("div", {
                      style: { width: 300 * N + "px" },
                      className: Q().VisualBar,
                    }),
                  ),
                  I.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    _l(f),
                  ),
                  I.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    hl(D),
                  ),
                ),
                Boolean(p) &&
                  I.createElement(
                    "tr",
                    null,
                    I.createElement("td", null, "Following"),
                    I.createElement("td", null, b, " days"),
                    I.createElement(
                      "td",
                      null,
                      I.createElement(X.Sw, { rtStartDate: s, rtEndDate: c }),
                    ),
                    I.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      _l(A),
                    ),
                    I.createElement(
                      "td",
                      null,
                      I.createElement("div", {
                        style: { width: 300 * L + "px" },
                        className: Q().VisualBar,
                      }),
                    ),
                    I.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      _l(C),
                    ),
                    I.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      hl(T),
                    ),
                  ),
              ),
            ),
            I.createElement("br", null),
            I.createElement("br", null),
            I.createElement(
              "div",
              null,
              I.createElement(El, {
                rgAppSummaries: h,
                nDays: S,
                strToken: r || "Comparison",
                oPriorSummary: d,
                nPriorDays: g,
                oPostSummary: p,
                nPostDays: b,
              }),
            ),
            I.createElement("br", null),
            I.createElement(
              F.zx,
              { onClick: () => _(u + 20) },
              "Show 20 More Top Apps",
            ),
          )
        );
      }
      function El(e) {
        const {
          rgAppSummaries: t,
          strToken: n,
          oPriorSummary: a,
          nDays: i,
          nPriorDays: o,
          oPostSummary: l,
          nPostDays: r,
        } = e;
        return I.createElement(
          "div",
          { className: Q().ComparisonRichTable },
          I.createElement("h3", null, "Top ", t.length, " ", n, " Apps:"),
          I.createElement(
            "table",
            null,
            I.createElement(
              "thead",
              null,
              I.createElement(
                "tr",
                null,
                I.createElement("th", null, "#"),
                I.createElement("th", null, "AppID"),
                I.createElement("th", null, "Name"),
                I.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Revenue",
                ),
                I.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Daily Avg",
                ),
                I.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Prior Daily Avg",
                ),
                I.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Lift",
                ),
                Boolean(l) &&
                  I.createElement(
                    I.Fragment,
                    null,
                    I.createElement("th", null, "Post Daily Avg"),
                    I.createElement("th", null, "Post Revenue Change vs Base"),
                  ),
                I.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Units",
                ),
              ),
            ),
            t.map((e, t) =>
              I.createElement(Sl, {
                key: n + e.appid,
                index: t,
                summary: e,
                nDays: i,
                priorSummary: a.GetAppSaleSummary(e.appid),
                nPriorDays: o,
                postSummary: null == l ? void 0 : l.GetAppSaleSummary(e.appid),
                nPostDays: r,
              }),
            ),
          ),
        );
      }
      const vl = {};
      function Sl(e) {
        const {
            summary: t,
            nDays: n,
            index: a,
            priorSummary: i,
            nPriorDays: o,
            postSummary: l,
            nPostDays: r,
          } = e,
          [s] = (0, ht.vs)(t.appid, vl),
          c = t.gross_sales_usd / n / 100,
          d = i.gross_sales_usd / o / 100,
          m = d > 0 ? c / d : 0;
        let p, u;
        return (
          l && ((p = l.gross_sales_usd / r / 100), (u = d > 0 ? p / d : 0)),
          I.createElement(
            "tr",
            null,
            I.createElement("td", null, a + 1),
            I.createElement("td", null, t.appid),
            I.createElement(
              "td",
              null,
              I.createElement(
                "a",
                { href: null == s ? void 0 : s.GetStorePageURL() },
                (null == s ? void 0 : s.GetName()) || "loading",
              ),
            ),
            I.createElement(
              "td",
              { style: { textAlign: "right" } },
              _l(t.gross_sales_usd / 100),
            ),
            I.createElement("td", { style: { textAlign: "right" } }, _l(c)),
            I.createElement("td", { style: { textAlign: "right" } }, _l(d)),
            I.createElement("td", { style: { textAlign: "right" } }, hl(m)),
            Boolean(l) &&
              I.createElement(
                I.Fragment,
                null,
                I.createElement("td", { style: { textAlign: "right" } }, _l(p)),
                I.createElement("td", { style: { textAlign: "right" } }, hl(u)),
              ),
            I.createElement(
              "td",
              { style: { textAlign: "right" } },
              t.gross_units_sold.toLocaleString(),
            ),
          )
        );
      }
      function fl(e) {
        const [t, n] = (0, I.useState)(null);
        return (
          (0, I.useEffect)(() => {
            let t = k.Get().GetDefinition(e.pageid),
              a = k.Get().GetOptInStats()[e.pageid];
            R.Get().Reset(t, a), n(R.Get());
          }, [e.pageid]),
          t && t.BInitialized()
            ? I.createElement(I.Fragment, null, e.children)
            : I.createElement(de.V, null)
        );
      }
      const yl = {
          OptinAdminDashboard: () => "/admin/",
          OptinAdminEdit: (e) => `/admin/edit/${e}`,
          OptinAdminAnalysis: (e) => `/admin/analysis/${e}`,
          OptinAdminSupport: (e) => `/admin/support/${e}`,
          OptInPartnerDashboard: (e) => `/sale*/${e}`,
          OptInApp: (e, t) => `/sale*/${e}/${t}`,
          OptInAppAppeal: (e, t) => `/appeal/${e}/${t}`,
          OptInAppReview: (e) => `/appreview/${e}`,
        },
        Dl = "sale_";
      function bl(e) {
        return (null == e ? void 0 : e.startsWith(Dl)) ? e : Dl + e;
      }
      function Il(e) {
        return (0, lo.N)()
          ? I.createElement(
              P.VK,
              { basename: (0, a.l)() + "optin/" },
              I.createElement(ao, null),
              I.createElement(
                qn.rs,
                null,
                I.createElement(qn.AW, {
                  exact: !0,
                  path: a.Z.DiagData(),
                  render: (e) =>
                    I.createElement(
                      He.m,
                      Object.assign({}, e, {
                        strConfigID: "application_config",
                      }),
                    ),
                }),
                I.createElement(qn.AW, {
                  exact: !0,
                  path: yl.OptinAdminDashboard(),
                  component: Se,
                }),
                I.createElement(qn.AW, {
                  exact: !0,
                  path: yl.OptinAdminEdit(":pageid"),
                  render: (e) =>
                    I.createElement(
                      fl,
                      { pageid: e.match.params.pageid },
                      I.createElement(Ti, null),
                    ),
                }),
                I.createElement(qn.AW, {
                  exact: !0,
                  path: yl.OptinAdminAnalysis(":pageid"),
                  render: (e) =>
                    I.createElement(
                      fl,
                      { pageid: e.match.params.pageid },
                      I.createElement(ml, null),
                    ),
                }),
                I.createElement(qn.AW, {
                  exact: !0,
                  path: yl.OptinAdminSupport(":appid"),
                  render: (e) =>
                    I.createElement(Li, {
                      appid: Number.parseInt(e.match.params.appid),
                    }),
                }),
                I.createElement(qn.AW, {
                  path: yl.OptInApp(":partialpageid", ":appid"),
                  render: (e) =>
                    I.createElement(no, {
                      appid: e.match.params.appid,
                      pageid: bl(e.match.params.partialpageid),
                    }),
                }),
                I.createElement(qn.AW, {
                  path: yl.OptInAppReview(":pageid"),
                  render: (e) =>
                    I.createElement(To, { pageid: e.match.params.pageid }),
                }),
                I.createElement(qn.AW, {
                  path: yl.OptInAppAppeal(":partialpageid", ":appid"),
                  render: (e) =>
                    I.createElement(Xo, {
                      appid: Number.parseInt(e.match.params.appid),
                      pageid: bl(e.match.params.partialpageid),
                    }),
                }),
                I.createElement(qn.AW, {
                  path: yl.OptInPartnerDashboard(":partialpageid"),
                  render: (e) =>
                    I.createElement(Jo, {
                      pageid: bl(e.match.params.partialpageid),
                    }),
                }),
                I.createElement(qn.AW, { component: i.R }),
              ),
            )
          : null;
      }
    },
    94835: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { SaleRoutes: () => v, default: () => S });
      var a = n(71209),
        i = n(96927),
        o = n(89526),
        l = n(565),
        r = n(59934),
        s = n(82988),
        c = n(32765);
      class d {
        constructor() {
          (this.m_mapSalePage = new Map()),
            (this.m_rgUnmigratedSalesPage = new Array());
        }
        GetUnmigratedSalesPages() {
          return this.m_rgUnmigratedSalesPage;
        }
        GetAllSalePages() {
          return Array.from(this.m_mapSalePage.values());
        }
        GetPageByID(e) {
          return this.m_mapSalePage.get(e);
        }
        static Get() {
          return (
            d.s_PageStore || ((d.s_PageStore = new d()), d.s_PageStore.Init()),
            d.s_PageStore
          );
        }
        Init() {
          let e = (0, c.kQ)("old_sale_pages", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => {
              this.m_mapSalePage.set(e.pageid, e),
                e.migrated_clan_account_id ||
                  this.m_rgUnmigratedSalesPage.push(e);
            });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) && "string" == typeof t[0].pageid
          );
        }
      }
      var m = n(21904),
        p = n(69338),
        u = n(10441);
      function _(e) {
        return o.createElement(
          "div",
          null,
          o.createElement("h2", null, "Unmigrated Sales Pages"),
          o.createElement("hr", null),
          d
            .Get()
            .GetUnmigratedSalesPages()
            .map((e) =>
              o.createElement(h, { key: e.pageid, pageid: e.pageid }),
            ),
        );
      }
      function h(e) {
        let t = d.Get().GetPageByID(e.pageid);
        return o.createElement(
          "div",
          null,
          o.createElement("div", null, t.pageid),
          o.createElement(
            l.rU,
            { to: v.SaleMigrationPageDebug(t.pageid) },
            "Debug Data",
          ),
        );
      }
      function g(e) {
        const { pageid: t } = e,
          n = d.Get().GetPageByID(t),
          a = (0, u.cm)(n.accountid);
        return a
          ? o.createElement(
              "div",
              null,
              o.createElement(
                l.rU,
                { to: v.SaleMigrationTool() },
                "< Return to Migration Toolset",
              ),
              o.createElement("h2", null, "Debug: ", e.pageid),
              o.createElement("hr", null),
              o.createElement("div", null, "Name: ", n.display_name),
              o.createElement(
                "div",
                null,
                "Creator: ",
                n.accountid,
                " - ",
                a.persona,
              ),
              o.createElement(
                "div",
                null,
                "Last Modified: ",
                n.last_modified,
                Boolean(0 != n.last_modified) &&
                  o.createElement(m.H6, {
                    dateAndTime: n.last_modified,
                    bSingleLine: !0,
                  }),
              ),
              o.createElement("h1", null, "Sale Page Body Raw"),
              o.createElement(s.G, { data: n }),
            )
          : o.createElement(p.V, { string: "Loading User Info" });
      }
      var E = n(3494);
      const v = {
        SaleDashboardView: () => "/(dashboard)?/",
        SaleMigrationTool: () => "/migration/",
        SaleMigrationPageDebug: (e) => `/migration/debug/${e}/`,
      };
      function S(e) {
        return o.createElement(
          l.VK,
          { basename: (0, i.l)() + "sales/" },
          o.createElement(
            r.rs,
            null,
            o.createElement(r.AW, {
              exact: !0,
              path: i.Z.DiagData(),
              render: (e) =>
                o.createElement(
                  s.m,
                  Object.assign({}, e, { strConfigID: "application_config" }),
                ),
            }),
            o.createElement(r.AW, {
              exact: !0,
              path: v.SaleDashboardView(),
              component: E.n,
            }),
            o.createElement(r.AW, {
              exact: !0,
              path: v.SaleMigrationTool(),
              component: _,
            }),
            o.createElement(r.AW, {
              exact: !0,
              path: v.SaleMigrationPageDebug(":pageid"),
              render: (e) =>
                o.createElement(g, { pageid: e.match.params.pageid }),
            }),
            o.createElement(r.AW, { component: a.R }),
          ),
        );
      }
    },
    37865: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => a });
      const a =
        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAxODAxLjUgMTQwMCAxNDA5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMTgwMS41IDE0MDAgMTQwOSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iaWNvbm1vbnN0ci1saW5rLTFfMV8iIGZpbGw9IiNGRkZGRkYiIGQ9Ik0zNjIuMzUzLDIzMTAuNTg4YzE0OC4yMzUtMTQ4LjIzNSwzODcuMDYtMTQ4LjIzNSw1MjcuMDYsMA0KCWMxNi40NzEsMTYuNDcxLDMyLjk0MSw0MS4xNzcsNDkuNDExLDU3LjY0N0w4MDcuMDU5LDI1MDBjLTQxLjE3Ni04Mi4zNTMtMTMxLjc2NS0xMzEuNzY1LTIyMi4zNTMtMTE1LjI5NA0KCWMtNDEuMTc3LDguMjM1LTc0LjExOCwyNC43MDYtOTguODIzLDQ5LjQxMWwtMjQ3LjA1OSwyNDcuMDZjLTc0LjExOCw3NC4xMTctNzQuMTE4LDE5Ny42NDYsMCwyODANCgljNzQuMTE4LDc0LjExNywxOTcuNjQ3LDc0LjExNywyODAsMGwwLDBsNzQuMTE4LTc0LjExOGM3NC4xMTcsMjQuNzA2LDE0OC4yMzUsNDEuMTc3LDIyMi4zNTMsMzIuOTQxbC0xNzIuOTQsMTcyLjk0MQ0KCWMtMTQ4LjIzNSwxNDguMjM1LTM4Ny4wNiwxNDguMjM1LTUyNy4wNiwwcy0xNDguMjM1LTM4Ny4wNTksMC01MjcuMDU5QzEwNy4wNTksMjU1Ny42NDcsMzYyLjM1MywyMzEwLjU4OCwzNjIuMzUzLDIzMTAuNTg4eg0KCSBNNzU3LjY0NiwxOTA3LjA1OUw1OTIuOTQxLDIwODBjNzQuMTE3LTguMjM1LDE0OC4yMzUsOC4yMzUsMjE0LjExNywzMi45NDFsNzQuMTE4LTc0LjExOGM3NC4xMTctNzQuMTE3LDE5Ny42NDYtNzQuMTE3LDI4MCwwDQoJYzgyLjM1Myw3NC4xMTgsNzQuMTE3LDE5Ny42NDcsMCwyODBsLTI1NS4yOTQsMjQ3LjA2Yy03NC4xMTgsNzQuMTE3LTE5Ny42NDcsNzQuMTE3LTI4MCwwDQoJYy04LjIzNS0xNi40NzEtMjQuNzA2LTQxLjE3Ny0zMi45NDEtNjUuODgzbC0xMzEuNzY1LDEzMS43NjVjMTYuNDcxLDI0LjcwNiwzMi45NCw0MS4xNzcsNDkuNDExLDU3LjY0Nw0KCWMxNDguMjM1LDE0OC4yMzUsMzg3LjA1OSwxNDguMjM1LDUyNy4wNiwwbDAsMGwyNDcuMDU5LTI0Ny4wNmMxNDguMjM1LTE0OC4yMzUsMTQ4LjIzNS0zODcuMDU5LDAtNTI3LjA1OQ0KCVM5MDUuODgzLDE3NjcuMDU5LDc1Ny42NDYsMTkwNy4wNTlMNzU3LjY0NiwxOTA3LjA1OUw3NTcuNjQ2LDE5MDcuMDU5eiIvPg0KPC9zdmc+DQo=";
    },
    15164: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => a });
      const a =
        n.p +
        "images/applications/appmgmt/reddit_large.png?v=valveisgoodatcaching";
    },
  },
]);
